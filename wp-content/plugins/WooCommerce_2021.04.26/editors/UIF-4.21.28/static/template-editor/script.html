<script>
(window.webpackJsonp=window.webpackJsonp||[]).push([[5],{DkCW:function(O){O.exports=JSON.parse('{"DUPLICATE_ACTION":"Duplicate","RENAME_ACTION":"Rename","DELETE_ACTION":"Delete","NEW_PAGE_ACTION":"New page","ZOOM_IN_ACTION":"Zoom In","ZOOM_OUT_ACTION":"Zoom Out","ZOOM_TO_FIT_ACTION":"Zoom to Fit","ZOOM_TO_SELECTION_ACTION":"Zoom to Selection","ZOOM_50_ACTION":"Zoom 50%","ZOOM_100_ACTION":"Zoom 100%","ZOOM_200_ACTION":"Zoom 200%","PREVIEW_ACTION":"Preview","RULES_ACTION":"Rules","GRID_ACTION":"Grid","SNAP_ACTION":"Snap","SNAP_TO_PAGE_ACTION":"Page","SNAP_TO_OBJECTS_ACTION":"Objects","SNAP_TO_GRID_ACTION":"Grid","SNAP_TO_GUIDES_ACTION":"Guides","SNAP_TO_MARGINS":"Margins","MOVE_TO_PAGE_ACTION":"Move to Page","MOVE_TO_LAYER_ACTION":"Move to Layer","LAYERS_LABEL":"Layers","NEW_LAYER_TOOLTIP":"New layer (N)","PAGES_LABEL":"Pages","NEW_PAGE_TOOLTIP":"New page (N)","CUT_ACTION":"Cut","COPY_ACTION":"Copy","PASTE_ACTION":"Paste","GROUP_SELECTION_ACTION":"Group Selection","UNGROUP_ACTION":"Ungroup","ARRANGE_ACTION":"Arrange","BRING_TO_FONT_ACTION":"Bring to Front","BRING_FORWARD_ACTION":"Bring Forward","SEND_BACKWARD_ACTION":"Send Backward","SEND_BACK_ACTION":"Send Back","ALIGN_ACTION":"Align","ALIGN_TO_LEFT_ACTION":"Align Left","ALIGN_TO_CENTER_ACTION":"Align Center","ALIGN_TO_RIGHT_ACTION":"Align Right","ALIGN_TO_TOP_ACTION":"Align Top","ALIGN_TO_MIDDLE_ACTION":"Align Middle","ALIGN_TO_BOTTOM_ACTION":"Align Bottom","SHOW_AND_HIDE_ACTION":"Show/Hide","LOCK_AND_UNLOCK_ACTION":"Lock/Unlock","SHOW_ITEM_TOOLTIP":"Show item (Ctrl + Shift + H)","HIDE_ITEM_TOOLTIP":"Hide item (Ctrl + Shift + H)","LOCK_ITEM_TOOLTIP":"Lock item (Ctrl + Shift + L)","UNLOCK_ITEM_TOOLTIP":"Unlock item (Ctrl + Shift + L)","EMPTY_LABEL":"<Empty>","WIDTH_LABEL":"Width","HEIGHT_LABEL":"Height","BLEED_LABEL":"Bleed","MARGINS_lABEL":"Margins","BACKGROUND_LABEL":"Background","PAGE_OPTIONS_LABEL":"Page options","LAYER_OPTIONS_LABEL":"Layer options","VISIBLE_LABEL":"Visible","LOCKED_LABEL":"Locked","PRINT_LABEL":"Print","NAME_LABEL":"Name","TOP_LABEL":"Top","Labels":{"COLOR":"Color","IMAGE":"Image","SETTINGS":"Settings","SAVE":"Save","APPLY":"Apply","RESET":"Reset","CANCEL":"Cancel","OK":"OK","GRID_AND_RULERS":"Grid and snaps","FONTS":"Fonts","FONT":"Font","SNAPS":"Snaps","MAIN":"Main","COLORS":"Colors","SNAP_ITEMS_CONF":"Snap to items","SNAP_PRINTAREA_CONF":"Snap to print area","SNAP_SAFETYLINES_CONF":"Snap to safety lines","SNAP_PRIORITY":"Snap priority","SNAP_TOLERANCE":"Snap tolerance","SELECT_SIZE":"Select size","PRIORITY":"Priority","TOLERANCE":"Tolerance","GRID":"Grid","STEP":"Step","GRID_STEP":"Grid step","LINE_WIDTH":"Line width","DEFAULT_FONT":"Default font","FONT_SIZES":"Font sizes","ENABLE_RULER":"Enable ruler","ENABLE_HOVER_ITEM_NAMES":"Enable hover item names","ENABLE_VIOLATION_WARNING_BTN":"Enable violation warning button","ENABLE_QUALITY_CHANGE_CONTAINERS":"Enable quality change containers","ENABLE_GRID":"Enable grid","ENABLE_SNAP":"Enable snap","EDITOR":"Editor","PRODUCT":"Product","COLOR_SPACE":"Color space","SELECT_COLOR_SPACE":"Select color space","COLOR_PROFILE_RGB":"Color profile RGB","SELECT_PROFILE":"Select profile","COLOR_PROFILE_CMYK":"Color profile CMYK","UNIT":"Unit","SELECT_UNIT":"Select unit","STANDARD_LIGATURES":"Standard Ligatures","CONTEXTUAL_ALTERNATES":"Contextual Alternates","DISCRETIONARY_LIGATURES":"Discretionary Ligatures","SWASH":"Swash","ORDINAL":"Ordinal","FRACTIONS":"Fractions","STYLISTIC_SETS":"Stylistic Sets","OLDSTYLE_FIGURES":"Old style figures","LINING_FIGURES":"Lining Figures","SLASHED_ZERO":"Slashed Zero","TABULAR_FIGURES":"Tabular Figures","SMALL_CAPS_FROM_CAPITALS":"Small Caps from Capitals","CASE_SENSITIVE_FORMS":"Case-Sensitive Forms","HISTORICAL_LIGATURES":"Historical Ligatures","HISTORICAL_FORMS":"Historical Forms","LOCALISED_FORMS":"Localised Forms","KERNING":"Kerning","OPEN_TYPE_FEATURES":"Open Type","REPLACE_FONTS":"Replace fonts","FONT_CAN_CHANGE_IT":"You can change it manual:","FONT_FAMILY":"Font family","FONT_STYLE":"Font style","CONVERT":"Convert","TO_LAYOUT":"To layout","TO_GROUP":"To group","ENTER_FONT_SIZES":"Enter font sizes","PLACEHOLDER":"Placeholder"},"Tooltips":{"SETTINGS":"Settings","OLDSTYLE_FIGURES":"Old style figures","LINING_FIGURES":"Lining Figures","TABULAR_FIGURES":"Tabular Figures","SLASHED_ZERO":"Slashed Zero","FRACTIONS":"Fractions","SUPERSCRIPT":"Superscript","SUBSCRIPT":"Subscript","ORDINAL":"Ordinal","SMALL_CAPS":"Small Caps","SMALL_CAPS_FROM_CAPITALS":"Small Caps from Capitals","CASE_SENSITIVE_FORMS":"Case-Sensitive Forms","STANDARD_LIGATURES":"Standard Ligatures","DISCRETIONARY_LIGATURES":"Discretionary Ligatures","HISTORICAL_LIGATURES":"Historical Ligatures","CONTEXTUAL_ALTERNATES":"Contextual Alternates","SWASH":"Swash","HISTORICAL_FORMS":"Historical Forms","STYLISTIC_SETS":"Stylistic Sets","KERNING":"Kerning","LOCALISED_FORMS":"Localised Forms","BOLD":"Bold","ITALIC":"Italic","UNDERLINE":"Underline","TEXT_COLOR":"Text color","ALL_CAPS":"All caps","CHANGED_FOR_CURRENT_DESIGN":"Option is changed for current design","PLACEHOLDER":"Placeholder"},"BOTTOM_LABEL":"Bottom","LEFT_LABEL":"Left","RIGHT_LABEL":"Right","SURFACE_CONTAINER_LABEL":"Normal","TEXTURE_CONTAINER_LABEL":"Texture","SPOT_COLOR_CONTAINER_LABEL":"Spot color","MOCKUP_CONTAINER_LABEL":"Mockup","CUSTOM_LABEL":"Custom","SIZE_LABEL":"Size","TYPE_LABEL":"Type","REGION_LABEL":"Region","UNDO_TOOLTIP":"Undo (Ctrl + Z)","REDO_TOOLTIP":"Redo (Ctrl + Y)","SELECTION_TOOL_TOOLTIP":"Selection tool (V)","TEXT_TOOLTIP":"Text tool (T)","IMAGE_TOOL_NAME":"Image tool","IMAGE_TOOLTIP":"Image tool (M)","PLACEHOLDER_TOOL_NAME":"Placeholder tool","PLACEHOLDER_TOOL_TOOLTIP":"Placeholder tool (P)","RECTANGLE_TOOL_NAME":"Rectangle","RECTANGLE_TOOLTIP":"Rectangle tool (R)","ELLIPSE_TOOL_NAME":"Ellipse","ELLIPSE_TOOLTIP":"Ellipse tool (E)","LINE_TOOL_NAME":"Line","LINE_TOOLTIP":"Line tool","BARCODE_TOOL_NAME":"Barcode","BARCODE_TOOLTIP":"Barcode tool (B)","BARCODE_PLACEHOLDER_TOOL_NAME":"Barcode placeholder","BARCODE_PLACEHOLDER_TOOLTIP":"Barcode placeholder tool (Ctrl + B)","QR_TOOL_NAME":"QR code","QR_TOOLTIP":"QR code tool (Q)","QR_PLACEHOLDER_TOOL_NAME":"QR code placeholder","QR_PLACEHOLDER_TOOLTIP":"QR code placeholder tool (Ctrl + Q)","APPLY_FOR_ALL_ACTION":"Apply for all","HAVE_WARNS_TOOLTIP":"Product have a warnings! Click for display.","FONTS_MISSING_DIALOG_TITLE":"Missing fonts","FONTS_MISSING_DIALOG_BODY":"Next fonts is missing in the system:","FONT_MISSING_DIALOG_BODY_ITEMS":"For correct displaying text items, next items was changed font to ","WAS_LABEL":"was","EDIT_LABEL":"Edit","FIRST_NAME_LABEL":"First name","LAST_NAME_LABEL":"Last name","ORGANIZATION_LABEL":"Organization","POSITION_LABEL":"Position","URL_LABEL":"Url","EMAIL_LABEL":"Email","PHONE_LABEL":"Phone","VCARD_EDITOR_DIALOG_TITLE":"VCard editor","KEEP_PROPORTION_TOOLTIP":"Constrain proportions","TO_VERTICAL_ORIENTATION_TOOLTIP":"Change orientation to vertical","TO_HORIZONTAL_ORIENTATION_TOOLTIP":"Change orientation to horizontal","NOT_SET":"Not set"}')}}]);
!function(e){function r(r){for(var n,a,i=r[0],c=r[1],l=r[2],p=0,s=[];p<i.length;p++)a=i[p],Object.prototype.hasOwnProperty.call(o,a)&&o[a]&&s.push(o[a][0]),o[a]=0;for(n in c)Object.prototype.hasOwnProperty.call(c,n)&&(e[n]=c[n]);for(f&&f(r);s.length;)s.shift()();return u.push.apply(u,l||[]),t()}function t(){for(var e,r=0;r<u.length;r++){for(var t=u[r],n=!0,i=1;i<t.length;i++)0!==o[t[i]]&&(n=!1);n&&(u.splice(r--,1),e=a(a.s=t[0]))}return e}var n={},o={0:0},u=[];function a(r){if(n[r])return n[r].exports;var t=n[r]={i:r,l:!1,exports:{}};return e[r].call(t.exports,t,t.exports,a),t.l=!0,t.exports}a.e=function(e){var r=[],t=o[e];if(0!==t)if(t)r.push(t[2]);else{var n=new Promise((function(r,n){t=o[e]=[r,n]}));r.push(t[2]=n);var u,i=document.createElement("script");i.charset="utf-8",i.timeout=120,a.nc&&i.setAttribute("nonce",a.nc),i.src=function(e){return a.p+""+({}[e]||e)+"-es2015."+{5:"f4392ca0d5a50a4bb263"}[e]+".js"}(e);var c=new Error;u=function(r){i.onerror=i.onload=null,clearTimeout(l);var t=o[e];if(0!==t){if(t){var n=r&&("load"===r.type?"missing":r.type),u=r&&r.target&&r.target.src;c.message="Loading chunk "+e+" failed.\n("+n+": "+u+")",c.name="ChunkLoadError",c.type=n,c.request=u,t[1](c)}o[e]=void 0}};var l=setTimeout((function(){u({type:"timeout",target:i})}),12e4);i.onerror=i.onload=u,document.head.appendChild(i)}return Promise.all(r)},a.m=e,a.c=n,a.d=function(e,r,t){a.o(e,r)||Object.defineProperty(e,r,{enumerable:!0,get:t})},a.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},a.t=function(e,r){if(1&r&&(e=a(e)),8&r)return e;if(4&r&&"object"==typeof e&&e&&e.__esModule)return e;var t=Object.create(null);if(a.r(t),Object.defineProperty(t,"default",{enumerable:!0,value:e}),2&r&&"string"!=typeof e)for(var n in e)a.d(t,n,(function(r){return e[r]}).bind(null,n));return t},a.n=function(e){var r=e&&e.__esModule?function(){return e.default}:function(){return e};return a.d(r,"a",r),r},a.o=function(e,r){return Object.prototype.hasOwnProperty.call(e,r)},a.p="",a.oe=function(e){throw console.error(e),e};var i=window.webpackJsonp=window.webpackJsonp||[],c=i.push.bind(i);i.push=r,i=i.slice();for(var l=0;l<i.length;l++)r(i[l]);var f=c;t()}([]);
(window.webpackJsonp=window.webpackJsonp||[]).push([[2],{2:function(e,t,n){e.exports=n("hN/g")},"hN/g":function(e,t,n){"use strict";n.r(t),n("pDpN")},pDpN:function(e,t){!function(e){const t=e.performance;function n(e){t&&t.mark&&t.mark(e)}function o(e,n){t&&t.measure&&t.measure(e,n)}n("Zone");const r=!0===e.__zone_symbol__forceDuplicateZoneCheck;if(e.Zone){if(r||"function"!=typeof e.Zone.__symbol__)throw new Error("Zone already loaded.");return e.Zone}class s{constructor(e,t){this._parent=e,this._name=t?t.name||"unnamed":"<root>",this._properties=t&&t.properties||{},this._zoneDelegate=new a(this,this._parent&&this._parent._zoneDelegate,t)}static assertZonePatched(){if(e.Promise!==D.ZoneAwarePromise)throw new Error("Zone.js has detected that ZoneAwarePromise `(window|global).Promise` has been overwritten.\nMost likely cause is that a Promise polyfill has been loaded after Zone.js (Polyfilling Promise api is not necessary when zone.js is loaded. If you must load one, do so before loading zone.js.)")}static get root(){let e=s.current;for(;e.parent;)e=e.parent;return e}static get current(){return P.zone}static get currentTask(){return O}static __load_patch(t,i){if(D.hasOwnProperty(t)){if(r)throw Error("Already loaded patch: "+t)}else if(!e["__Zone_disable_"+t]){const r="Zone:"+t;n(r),D[t]=i(e,s,z),o(r,r)}}get parent(){return this._parent}get name(){return this._name}get(e){const t=this.getZoneWith(e);if(t)return t._properties[e]}getZoneWith(e){let t=this;for(;t;){if(t._properties.hasOwnProperty(e))return t;t=t._parent}return null}fork(e){if(!e)throw new Error("ZoneSpec required!");return this._zoneDelegate.fork(this,e)}wrap(e,t){if("function"!=typeof e)throw new Error("Expecting function got: "+e);const n=this._zoneDelegate.intercept(this,e,t),o=this;return function(){return o.runGuarded(n,this,arguments,t)}}run(e,t,n,o){P={parent:P,zone:this};try{return this._zoneDelegate.invoke(this,e,t,n,o)}finally{P=P.parent}}runGuarded(e,t=null,n,o){P={parent:P,zone:this};try{try{return this._zoneDelegate.invoke(this,e,t,n,o)}catch(r){if(this._zoneDelegate.handleError(this,r))throw r}}finally{P=P.parent}}runTask(e,t,n){if(e.zone!=this)throw new Error("A task can only be run in the zone of creation! (Creation: "+(e.zone||m).name+"; Execution: "+this.name+")");if(e.state===k&&(e.type===S||e.type===Z))return;const o=e.state!=v;o&&e._transitionTo(v,b),e.runCount++;const r=O;O=e,P={parent:P,zone:this};try{e.type==Z&&e.data&&!e.data.isPeriodic&&(e.cancelFn=void 0);try{return this._zoneDelegate.invokeTask(this,e,t,n)}catch(s){if(this._zoneDelegate.handleError(this,s))throw s}}finally{e.state!==k&&e.state!==w&&(e.type==S||e.data&&e.data.isPeriodic?o&&e._transitionTo(b,v):(e.runCount=0,this._updateTaskCount(e,-1),o&&e._transitionTo(k,v,k))),P=P.parent,O=r}}scheduleTask(e){if(e.zone&&e.zone!==this){let t=this;for(;t;){if(t===e.zone)throw Error(`can not reschedule task to ${this.name} which is descendants of the original zone ${e.zone.name}`);t=t.parent}}e._transitionTo(y,k);const t=[];e._zoneDelegates=t,e._zone=this;try{e=this._zoneDelegate.scheduleTask(this,e)}catch(n){throw e._transitionTo(w,y,k),this._zoneDelegate.handleError(this,n),n}return e._zoneDelegates===t&&this._updateTaskCount(e,1),e.state==y&&e._transitionTo(b,y),e}scheduleMicroTask(e,t,n,o){return this.scheduleTask(new c(E,e,t,n,o,void 0))}scheduleMacroTask(e,t,n,o,r){return this.scheduleTask(new c(Z,e,t,n,o,r))}scheduleEventTask(e,t,n,o,r){return this.scheduleTask(new c(S,e,t,n,o,r))}cancelTask(e){if(e.zone!=this)throw new Error("A task can only be cancelled in the zone of creation! (Creation: "+(e.zone||m).name+"; Execution: "+this.name+")");e._transitionTo(T,b,v);try{this._zoneDelegate.cancelTask(this,e)}catch(t){throw e._transitionTo(w,T),this._zoneDelegate.handleError(this,t),t}return this._updateTaskCount(e,-1),e._transitionTo(k,T),e.runCount=0,e}_updateTaskCount(e,t){const n=e._zoneDelegates;-1==t&&(e._zoneDelegates=null);for(let o=0;o<n.length;o++)n[o]._updateTaskCount(e.type,t)}}s.__symbol__=I;const i={name:"",onHasTask:(e,t,n,o)=>e.hasTask(n,o),onScheduleTask:(e,t,n,o)=>e.scheduleTask(n,o),onInvokeTask:(e,t,n,o,r,s)=>e.invokeTask(n,o,r,s),onCancelTask:(e,t,n,o)=>e.cancelTask(n,o)};class a{constructor(e,t,n){this._taskCounts={microTask:0,macroTask:0,eventTask:0},this.zone=e,this._parentDelegate=t,this._forkZS=n&&(n&&n.onFork?n:t._forkZS),this._forkDlgt=n&&(n.onFork?t:t._forkDlgt),this._forkCurrZone=n&&(n.onFork?this.zone:t.zone),this._interceptZS=n&&(n.onIntercept?n:t._interceptZS),this._interceptDlgt=n&&(n.onIntercept?t:t._interceptDlgt),this._interceptCurrZone=n&&(n.onIntercept?this.zone:t.zone),this._invokeZS=n&&(n.onInvoke?n:t._invokeZS),this._invokeDlgt=n&&(n.onInvoke?t:t._invokeDlgt),this._invokeCurrZone=n&&(n.onInvoke?this.zone:t.zone),this._handleErrorZS=n&&(n.onHandleError?n:t._handleErrorZS),this._handleErrorDlgt=n&&(n.onHandleError?t:t._handleErrorDlgt),this._handleErrorCurrZone=n&&(n.onHandleError?this.zone:t.zone),this._scheduleTaskZS=n&&(n.onScheduleTask?n:t._scheduleTaskZS),this._scheduleTaskDlgt=n&&(n.onScheduleTask?t:t._scheduleTaskDlgt),this._scheduleTaskCurrZone=n&&(n.onScheduleTask?this.zone:t.zone),this._invokeTaskZS=n&&(n.onInvokeTask?n:t._invokeTaskZS),this._invokeTaskDlgt=n&&(n.onInvokeTask?t:t._invokeTaskDlgt),this._invokeTaskCurrZone=n&&(n.onInvokeTask?this.zone:t.zone),this._cancelTaskZS=n&&(n.onCancelTask?n:t._cancelTaskZS),this._cancelTaskDlgt=n&&(n.onCancelTask?t:t._cancelTaskDlgt),this._cancelTaskCurrZone=n&&(n.onCancelTask?this.zone:t.zone),this._hasTaskZS=null,this._hasTaskDlgt=null,this._hasTaskDlgtOwner=null,this._hasTaskCurrZone=null;const o=n&&n.onHasTask;(o||t&&t._hasTaskZS)&&(this._hasTaskZS=o?n:i,this._hasTaskDlgt=t,this._hasTaskDlgtOwner=this,this._hasTaskCurrZone=e,n.onScheduleTask||(this._scheduleTaskZS=i,this._scheduleTaskDlgt=t,this._scheduleTaskCurrZone=this.zone),n.onInvokeTask||(this._invokeTaskZS=i,this._invokeTaskDlgt=t,this._invokeTaskCurrZone=this.zone),n.onCancelTask||(this._cancelTaskZS=i,this._cancelTaskDlgt=t,this._cancelTaskCurrZone=this.zone))}fork(e,t){return this._forkZS?this._forkZS.onFork(this._forkDlgt,this.zone,e,t):new s(e,t)}intercept(e,t,n){return this._interceptZS?this._interceptZS.onIntercept(this._interceptDlgt,this._interceptCurrZone,e,t,n):t}invoke(e,t,n,o,r){return this._invokeZS?this._invokeZS.onInvoke(this._invokeDlgt,this._invokeCurrZone,e,t,n,o,r):t.apply(n,o)}handleError(e,t){return!this._handleErrorZS||this._handleErrorZS.onHandleError(this._handleErrorDlgt,this._handleErrorCurrZone,e,t)}scheduleTask(e,t){let n=t;if(this._scheduleTaskZS)this._hasTaskZS&&n._zoneDelegates.push(this._hasTaskDlgtOwner),n=this._scheduleTaskZS.onScheduleTask(this._scheduleTaskDlgt,this._scheduleTaskCurrZone,e,t),n||(n=t);else if(t.scheduleFn)t.scheduleFn(t);else{if(t.type!=E)throw new Error("Task is missing scheduleFn.");g(t)}return n}invokeTask(e,t,n,o){return this._invokeTaskZS?this._invokeTaskZS.onInvokeTask(this._invokeTaskDlgt,this._invokeTaskCurrZone,e,t,n,o):t.callback.apply(n,o)}cancelTask(e,t){let n;if(this._cancelTaskZS)n=this._cancelTaskZS.onCancelTask(this._cancelTaskDlgt,this._cancelTaskCurrZone,e,t);else{if(!t.cancelFn)throw Error("Task is not cancelable");n=t.cancelFn(t)}return n}hasTask(e,t){try{this._hasTaskZS&&this._hasTaskZS.onHasTask(this._hasTaskDlgt,this._hasTaskCurrZone,e,t)}catch(n){this.handleError(e,n)}}_updateTaskCount(e,t){const n=this._taskCounts,o=n[e],r=n[e]=o+t;if(r<0)throw new Error("More tasks executed then were scheduled.");0!=o&&0!=r||this.hasTask(this.zone,{microTask:n.microTask>0,macroTask:n.macroTask>0,eventTask:n.eventTask>0,change:e})}}class c{constructor(t,n,o,r,s,i){this._zone=null,this.runCount=0,this._zoneDelegates=null,this._state="notScheduled",this.type=t,this.source=n,this.data=r,this.scheduleFn=s,this.cancelFn=i,this.callback=o;const a=this;this.invoke=t===S&&r&&r.useG?c.invokeTask:function(){return c.invokeTask.call(e,a,this,arguments)}}static invokeTask(e,t,n){e||(e=this),j++;try{return e.runCount++,e.zone.runTask(e,t,n)}finally{1==j&&_(),j--}}get zone(){return this._zone}get state(){return this._state}cancelScheduleRequest(){this._transitionTo(k,y)}_transitionTo(e,t,n){if(this._state!==t&&this._state!==n)throw new Error(`${this.type} '${this.source}': can not transition to '${e}', expecting state '${t}'${n?" or '"+n+"'":""}, was '${this._state}'.`);this._state=e,e==k&&(this._zoneDelegates=null)}toString(){return this.data&&void 0!==this.data.handleId?this.data.handleId.toString():Object.prototype.toString.call(this)}toJSON(){return{type:this.type,state:this.state,source:this.source,zone:this.zone.name,runCount:this.runCount}}}const l=I("setTimeout"),u=I("Promise"),h=I("then");let p,f=[],d=!1;function g(t){if(0===j&&0===f.length)if(p||e[u]&&(p=e[u].resolve(0)),p){let e=p[h];e||(e=p.then),e.call(p,_)}else e[l](_,0);t&&f.push(t)}function _(){if(!d){for(d=!0;f.length;){const t=f;f=[];for(let n=0;n<t.length;n++){const o=t[n];try{o.zone.runTask(o,null,null)}catch(e){z.onUnhandledError(e)}}}z.microtaskDrainDone(),d=!1}}const m={name:"NO ZONE"},k="notScheduled",y="scheduling",b="scheduled",v="running",T="canceling",w="unknown",E="microTask",Z="macroTask",S="eventTask",D={},z={symbol:I,currentZoneFrame:()=>P,onUnhandledError:C,microtaskDrainDone:C,scheduleMicroTask:g,showUncaughtError:()=>!s[I("ignoreConsoleErrorUncaughtError")],patchEventTarget:()=>[],patchOnProperties:C,patchMethod:()=>C,bindArguments:()=>[],patchThen:()=>C,patchMacroTask:()=>C,setNativePromise:e=>{e&&"function"==typeof e.resolve&&(p=e.resolve(0))},patchEventPrototype:()=>C,isIEOrEdge:()=>!1,getGlobalObjects:()=>{},ObjectDefineProperty:()=>C,ObjectGetOwnPropertyDescriptor:()=>{},ObjectCreate:()=>{},ArraySlice:()=>[],patchClass:()=>C,wrapWithCurrentZone:()=>C,filterProperties:()=>[],attachOriginToPatched:()=>C,_redefineProperty:()=>C,patchCallbacks:()=>C};let P={parent:null,zone:new s(null,null)},O=null,j=0;function C(){}function I(e){return"__zone_symbol__"+e}o("Zone","Zone"),e.Zone=s}("undefined"!=typeof window&&window||"undefined"!=typeof self&&self||global),Zone.__load_patch("ZoneAwarePromise",(e,t,n)=>{const o=Object.getOwnPropertyDescriptor,r=Object.defineProperty,s=n.symbol,i=[],a=s("Promise"),c=s("then");n.onUnhandledError=e=>{if(n.showUncaughtError()){const t=e&&e.rejection;t?console.error("Unhandled Promise rejection:",t instanceof Error?t.message:t,"; Zone:",e.zone.name,"; Task:",e.task&&e.task.source,"; Value:",t,t instanceof Error?t.stack:void 0):console.error(e)}},n.microtaskDrainDone=()=>{for(;i.length;)for(;i.length;){const t=i.shift();try{t.zone.runGuarded(()=>{throw t})}catch(e){u(e)}}};const l=s("unhandledPromiseRejectionHandler");function u(e){n.onUnhandledError(e);try{const n=t[l];n&&"function"==typeof n&&n.call(this,e)}catch(o){}}function h(e){return e&&e.then}function p(e){return e}function f(e){return Z.reject(e)}const d=s("state"),g=s("value"),_=s("finally"),m=s("parentPromiseValue"),k=s("parentPromiseState");function y(e,t){return n=>{try{v(e,t,n)}catch(o){v(e,!1,o)}}}const b=s("currentTaskTrace");function v(e,o,s){const a=function(){let e=!1;return function(t){return function(){e||(e=!0,t.apply(null,arguments))}}}();if(e===s)throw new TypeError("Promise resolved with itself");if(null===e[d]){let u=null;try{"object"!=typeof s&&"function"!=typeof s||(u=s&&s.then)}catch(l){return a(()=>{v(e,!1,l)})(),e}if(!1!==o&&s instanceof Z&&s.hasOwnProperty(d)&&s.hasOwnProperty(g)&&null!==s[d])w(s),v(e,s[d],s[g]);else if(!1!==o&&"function"==typeof u)try{u.call(s,a(y(e,o)),a(y(e,!1)))}catch(l){a(()=>{v(e,!1,l)})()}else{e[d]=o;const a=e[g];if(e[g]=s,e[_]===_&&!0===o&&(e[d]=e[k],e[g]=e[m]),!1===o&&s instanceof Error){const e=t.currentTask&&t.currentTask.data&&t.currentTask.data.__creationTrace__;e&&r(s,b,{configurable:!0,enumerable:!1,writable:!0,value:e})}for(let t=0;t<a.length;)E(e,a[t++],a[t++],a[t++],a[t++]);if(0==a.length&&0==o){e[d]=0;try{throw new Error("Uncaught (in promise): "+((c=s)&&c.toString===Object.prototype.toString?(c.constructor&&c.constructor.name||"")+": "+JSON.stringify(c):c?c.toString():Object.prototype.toString.call(c))+(s&&s.stack?"\n"+s.stack:""))}catch(l){const o=l;o.rejection=s,o.promise=e,o.zone=t.current,o.task=t.currentTask,i.push(o),n.scheduleMicroTask()}}}}var c;return e}const T=s("rejectionHandledHandler");function w(e){if(0===e[d]){try{const n=t[T];n&&"function"==typeof n&&n.call(this,{rejection:e[g],promise:e})}catch(n){}e[d]=!1;for(let t=0;t<i.length;t++)e===i[t].promise&&i.splice(t,1)}}function E(e,t,n,o,r){w(e);const s=e[d],i=s?"function"==typeof o?o:p:"function"==typeof r?r:f;t.scheduleMicroTask("Promise.then",()=>{try{const o=e[g],r=n&&_===n[_];r&&(n[m]=o,n[k]=s);const a=t.run(i,void 0,r&&i!==f&&i!==p?[]:[o]);v(n,!0,a)}catch(o){v(n,!1,o)}},n)}class Z{constructor(e){const t=this;if(!(t instanceof Z))throw new Error("Must be an instanceof Promise.");t[d]=null,t[g]=[];try{e&&e(y(t,!0),y(t,!1))}catch(n){v(t,!1,n)}}static toString(){return"function ZoneAwarePromise() { [native code] }"}static resolve(e){return v(new this(null),!0,e)}static reject(e){return v(new this(null),!1,e)}static race(e){let t,n,o=new this((e,o)=>{t=e,n=o});function r(e){t(e)}function s(e){n(e)}for(let i of e)h(i)||(i=this.resolve(i)),i.then(r,s);return o}static all(e){let t,n,o=new this((e,o)=>{t=e,n=o}),r=2,s=0;const i=[];for(let a of e){h(a)||(a=this.resolve(a));const e=s;a.then(n=>{i[e]=n,r--,0===r&&t(i)},n),r++,s++}return r-=2,0===r&&t(i),o}get[Symbol.toStringTag](){return"Promise"}then(e,n){const o=new this.constructor(null),r=t.current;return null==this[d]?this[g].push(r,o,e,n):E(this,r,o,e,n),o}catch(e){return this.then(null,e)}finally(e){const n=new this.constructor(null);n[_]=_;const o=t.current;return null==this[d]?this[g].push(o,n,e,e):E(this,o,n,e,e),n}}Z.resolve=Z.resolve,Z.reject=Z.reject,Z.race=Z.race,Z.all=Z.all;const S=e[a]=e.Promise,D=t.__symbol__("ZoneAwarePromise");let z=o(e,"Promise");z&&!z.configurable||(z&&delete z.writable,z&&delete z.value,z||(z={configurable:!0,enumerable:!0}),z.get=function(){return e[D]?e[D]:e[a]},z.set=function(t){t===Z?e[D]=t:(e[a]=t,t.prototype[c]||O(t),n.setNativePromise(t))},r(e,"Promise",z)),e.Promise=Z;const P=s("thenPatched");function O(e){const t=e.prototype,n=o(t,"then");if(n&&(!1===n.writable||!n.configurable))return;const r=t.then;t[c]=r,e.prototype.then=function(e,t){return new Z((e,t)=>{r.call(this,e,t)}).then(e,t)},e[P]=!0}if(n.patchThen=O,S){O(S);const t=e.fetch;"function"==typeof t&&(e[n.symbol("fetch")]=t,e.fetch=(j=t,function(){let e=j.apply(this,arguments);if(e instanceof Z)return e;let t=e.constructor;return t[P]||O(t),e}))}var j;return Promise[t.__symbol__("uncaughtPromiseErrors")]=i,Z});const n=Object.getOwnPropertyDescriptor,o=Object.defineProperty,r=Object.getPrototypeOf,s=Object.create,i=Array.prototype.slice,a=Zone.__symbol__("addEventListener"),c=Zone.__symbol__("removeEventListener");function l(e,t){return Zone.current.wrap(e,t)}function u(e,t,n,o,r){return Zone.current.scheduleMacroTask(e,t,n,o,r)}const h=Zone.__symbol__,p="undefined"!=typeof window,f=p?window:void 0,d=p&&f||"object"==typeof self&&self||global,g=[null];function _(e,t){for(let n=e.length-1;n>=0;n--)"function"==typeof e[n]&&(e[n]=l(e[n],t+"_"+n));return e}function m(e){return!e||!1!==e.writable&&!("function"==typeof e.get&&void 0===e.set)}const k="undefined"!=typeof WorkerGlobalScope&&self instanceof WorkerGlobalScope,y=!("nw"in d)&&void 0!==d.process&&"[object process]"==={}.toString.call(d.process),b=!y&&!k&&!(!p||!f.HTMLElement),v=void 0!==d.process&&"[object process]"==={}.toString.call(d.process)&&!k&&!(!p||!f.HTMLElement),T={},w=function(e){if(!(e=e||d.event))return;let t=T[e.type];t||(t=T[e.type]=h("ON_PROPERTY"+e.type));const n=this||e.target||d,o=n[t];let r;if(b&&n===f&&"error"===e.type){const t=e;r=o&&o.call(this,t.message,t.filename,t.lineno,t.colno,t.error),!0===r&&e.preventDefault()}else r=o&&o.apply(this,arguments),null==r||r||e.preventDefault();return r};function E(e,t,r){let s=n(e,t);if(!s&&r&&n(r,t)&&(s={enumerable:!0,configurable:!0}),!s||!s.configurable)return;const i=h("on"+t+"patched");if(e.hasOwnProperty(i)&&e[i])return;delete s.writable,delete s.value;const a=s.get,c=s.set,l=t.substr(2);let u=T[l];u||(u=T[l]=h("ON_PROPERTY"+l)),s.set=function(t){let n=this;n||e!==d||(n=d),n&&(n[u]&&n.removeEventListener(l,w),c&&c.apply(n,g),"function"==typeof t?(n[u]=t,n.addEventListener(l,w,!1)):n[u]=null)},s.get=function(){let n=this;if(n||e!==d||(n=d),!n)return null;const o=n[u];if(o)return o;if(a){let e=a&&a.call(this);if(e)return s.set.call(this,e),"function"==typeof n.removeAttribute&&n.removeAttribute(t),e}return null},o(e,t,s),e[i]=!0}function Z(e,t,n){if(t)for(let o=0;o<t.length;o++)E(e,"on"+t[o],n);else{const t=[];for(const n in e)"on"==n.substr(0,2)&&t.push(n);for(let o=0;o<t.length;o++)E(e,t[o],n)}}const S=h("originalInstance");function D(e){const t=d[e];if(!t)return;d[h(e)]=t,d[e]=function(){const n=_(arguments,e);switch(n.length){case 0:this[S]=new t;break;case 1:this[S]=new t(n[0]);break;case 2:this[S]=new t(n[0],n[1]);break;case 3:this[S]=new t(n[0],n[1],n[2]);break;case 4:this[S]=new t(n[0],n[1],n[2],n[3]);break;default:throw new Error("Arg list too long.")}},O(d[e],t);const n=new t((function(){}));let r;for(r in n)"XMLHttpRequest"===e&&"responseBlob"===r||function(t){"function"==typeof n[t]?d[e].prototype[t]=function(){return this[S][t].apply(this[S],arguments)}:o(d[e].prototype,t,{set:function(n){"function"==typeof n?(this[S][t]=l(n,e+"."+t),O(this[S][t],n)):this[S][t]=n},get:function(){return this[S][t]}})}(r);for(r in t)"prototype"!==r&&t.hasOwnProperty(r)&&(d[e][r]=t[r])}function z(e,t,o){let s=e;for(;s&&!s.hasOwnProperty(t);)s=r(s);!s&&e[t]&&(s=e);const i=h(t);let a=null;if(s&&!(a=s[i])&&(a=s[i]=s[t],m(s&&n(s,t)))){const e=o(a,i,t);s[t]=function(){return e(this,arguments)},O(s[t],a)}return a}function P(e,t,n){let o=null;function r(e){const t=e.data;return t.args[t.cbIdx]=function(){e.invoke.apply(this,arguments)},o.apply(t.target,t.args),e}o=z(e,t,e=>function(t,o){const s=n(t,o);return s.cbIdx>=0&&"function"==typeof o[s.cbIdx]?u(s.name,o[s.cbIdx],s,r):e.apply(t,o)})}function O(e,t){e[h("OriginalDelegate")]=t}let j=!1,C=!1;function I(){try{const e=f.navigator.userAgent;if(-1!==e.indexOf("MSIE ")||-1!==e.indexOf("Trident/"))return!0}catch(e){}return!1}function L(){if(j)return C;j=!0;try{const e=f.navigator.userAgent;-1===e.indexOf("MSIE ")&&-1===e.indexOf("Trident/")&&-1===e.indexOf("Edge/")||(C=!0)}catch(e){}return C}Zone.__load_patch("toString",e=>{const t=Function.prototype.toString,n=h("OriginalDelegate"),o=h("Promise"),r=h("Error"),s=function(){if("function"==typeof this){const s=this[n];if(s)return"function"==typeof s?t.call(s):Object.prototype.toString.call(s);if(this===Promise){const n=e[o];if(n)return t.call(n)}if(this===Error){const n=e[r];if(n)return t.call(n)}}return t.call(this)};s[n]=t,Function.prototype.toString=s;const i=Object.prototype.toString;Object.prototype.toString=function(){return this instanceof Promise?"[object Promise]":i.call(this)}});let R=!1;if("undefined"!=typeof window)try{const e=Object.defineProperty({},"passive",{get:function(){R=!0}});window.addEventListener("test",e,e),window.removeEventListener("test",e,e)}catch(ge){R=!1}const x={useG:!0},M={},N={},A=/^__zone_symbol__(\w+)(true|false)$/;function F(e,t,n){const o=n&&n.add||"addEventListener",s=n&&n.rm||"removeEventListener",i=n&&n.listeners||"eventListeners",a=n&&n.rmAll||"removeAllListeners",c=h(o),l="."+o+":",u=function(e,t,n){if(e.isRemoved)return;const o=e.callback;"object"==typeof o&&o.handleEvent&&(e.callback=e=>o.handleEvent(e),e.originalDelegate=o),e.invoke(e,t,[n]);const r=e.options;r&&"object"==typeof r&&r.once&&t[s].call(t,n.type,e.originalDelegate?e.originalDelegate:e.callback,r)},p=function(t){if(!(t=t||e.event))return;const n=this||t.target||e,o=n[M[t.type].false];if(o)if(1===o.length)u(o[0],n,t);else{const e=o.slice();for(let o=0;o<e.length&&(!t||!0!==t.__zone_symbol__propagationStopped);o++)u(e[o],n,t)}},f=function(t){if(!(t=t||e.event))return;const n=this||t.target||e,o=n[M[t.type].true];if(o)if(1===o.length)u(o[0],n,t);else{const e=o.slice();for(let o=0;o<e.length&&(!t||!0!==t.__zone_symbol__propagationStopped);o++)u(e[o],n,t)}};function d(t,n){if(!t)return!1;let u=!0;n&&void 0!==n.useG&&(u=n.useG);const d=n&&n.vh;let g=!0;n&&void 0!==n.chkDup&&(g=n.chkDup);let _=!1;n&&void 0!==n.rt&&(_=n.rt);let m=t;for(;m&&!m.hasOwnProperty(o);)m=r(m);if(!m&&t[o]&&(m=t),!m)return!1;if(m[c])return!1;const k=n&&n.eventNameToString,b={},v=m[c]=m[o],T=m[h(s)]=m[s],w=m[h(i)]=m[i],E=m[h(a)]=m[a];let Z;function S(e){R||"boolean"==typeof b.options||null==b.options||(e.options=!!b.options.capture,b.options=e.options)}n&&n.prepend&&(Z=m[h(n.prepend)]=m[n.prepend]);const D=u?function(e){if(!b.isExisting)return S(e),v.call(b.target,b.eventName,b.capture?f:p,b.options)}:function(e){return S(e),v.call(b.target,b.eventName,e.invoke,b.options)},z=u?function(e){if(!e.isRemoved){const t=M[e.eventName];let n;t&&(n=t[e.capture?"true":"false"]);const o=n&&e.target[n];if(o)for(let r=0;r<o.length;r++)if(o[r]===e){o.splice(r,1),e.isRemoved=!0,0===o.length&&(e.allRemoved=!0,e.target[n]=null);break}}if(e.allRemoved)return T.call(e.target,e.eventName,e.capture?f:p,e.options)}:function(e){return T.call(e.target,e.eventName,e.invoke,e.options)},P=n&&n.diff?n.diff:function(e,t){const n=typeof t;return"function"===n&&e.callback===t||"object"===n&&e.originalDelegate===t},j=Zone[Zone.__symbol__("BLACK_LISTED_EVENTS")],C=function(t,n,o,r,s=!1,i=!1){return function(){const a=this||e,c=arguments[0];let l=arguments[1];if(!l)return t.apply(this,arguments);if(y&&"uncaughtException"===c)return t.apply(this,arguments);let h=!1;if("function"!=typeof l){if(!l.handleEvent)return t.apply(this,arguments);h=!0}if(d&&!d(t,l,a,arguments))return;const p=arguments[2];if(j)for(let e=0;e<j.length;e++)if(c===j[e])return t.apply(this,arguments);let f,_=!1;void 0===p?f=!1:!0===p?f=!0:!1===p?f=!1:(f=!!p&&!!p.capture,_=!!p&&!!p.once);const m=Zone.current,v=M[c];let T;if(v)T=v[f?"true":"false"];else{const e="__zone_symbol__"+(k?k(c):c)+"false",t="__zone_symbol__"+(k?k(c):c)+"true";M[c]={},M[c].false=e,M[c].true=t,T=f?t:e}let w,E=a[T],Z=!1;if(E){if(Z=!0,g)for(let e=0;e<E.length;e++)if(P(E[e],l))return}else E=a[T]=[];const S=a.constructor.name,D=N[S];D&&(w=D[c]),w||(w=S+n+(k?k(c):c)),b.options=p,_&&(b.options.once=!1),b.target=a,b.capture=f,b.eventName=c,b.isExisting=Z;const z=u?x:void 0;z&&(z.taskData=b);const O=m.scheduleEventTask(w,l,z,o,r);return b.target=null,z&&(z.taskData=null),_&&(p.once=!0),(R||"boolean"!=typeof O.options)&&(O.options=p),O.target=a,O.capture=f,O.eventName=c,h&&(O.originalDelegate=l),i?E.unshift(O):E.push(O),s?a:void 0}};return m[o]=C(v,l,D,z,_),Z&&(m.prependListener=C(Z,".prependListener:",(function(e){return Z.call(b.target,b.eventName,e.invoke,b.options)}),z,_,!0)),m[s]=function(){const t=this||e,n=arguments[0],o=arguments[2];let r;r=void 0!==o&&(!0===o||!1!==o&&!!o&&!!o.capture);const s=arguments[1];if(!s)return T.apply(this,arguments);if(d&&!d(T,s,t,arguments))return;const i=M[n];let a;i&&(a=i[r?"true":"false"]);const c=a&&t[a];if(c)for(let e=0;e<c.length;e++){const n=c[e];if(P(n,s))return c.splice(e,1),n.isRemoved=!0,0===c.length&&(n.allRemoved=!0,t[a]=null),n.zone.cancelTask(n),_?t:void 0}return T.apply(this,arguments)},m[i]=function(){const t=this||e,n=arguments[0],o=[],r=H(t,k?k(n):n);for(let e=0;e<r.length;e++){const t=r[e];o.push(t.originalDelegate?t.originalDelegate:t.callback)}return o},m[a]=function(){const t=this||e,n=arguments[0];if(n){const e=M[n];if(e){const o=t[e.false],r=t[e.true];if(o){const e=o.slice();for(let t=0;t<e.length;t++){const o=e[t];this[s].call(this,n,o.originalDelegate?o.originalDelegate:o.callback,o.options)}}if(r){const e=r.slice();for(let t=0;t<e.length;t++){const o=e[t];this[s].call(this,n,o.originalDelegate?o.originalDelegate:o.callback,o.options)}}}}else{const e=Object.keys(t);for(let t=0;t<e.length;t++){const n=A.exec(e[t]);let o=n&&n[1];o&&"removeListener"!==o&&this[a].call(this,o)}this[a].call(this,"removeListener")}if(_)return this},O(m[o],v),O(m[s],T),E&&O(m[a],E),w&&O(m[i],w),!0}let g=[];for(let r=0;r<t.length;r++)g[r]=d(t[r],n);return g}function H(e,t){const n=[];for(let o in e){const r=A.exec(o);let s=r&&r[1];if(s&&(!t||s===t)){const t=e[o];if(t)for(let e=0;e<t.length;e++)n.push(t[e])}}return n}function G(e,t){const n=e.Event;n&&n.prototype&&t.patchMethod(n.prototype,"stopImmediatePropagation",e=>function(t,n){t.__zone_symbol__propagationStopped=!0,e&&e.apply(t,n)})}function q(e,t,n,o,r){const s=Zone.__symbol__(o);if(t[s])return;const i=t[s]=t[o];t[o]=function(s,a,c){return a&&a.prototype&&r.forEach((function(t){const r=`${n}.${o}::`+t,s=a.prototype;if(s.hasOwnProperty(t)){const n=e.ObjectGetOwnPropertyDescriptor(s,t);n&&n.value?(n.value=e.wrapWithCurrentZone(n.value,r),e._redefineProperty(a.prototype,t,n)):s[t]&&(s[t]=e.wrapWithCurrentZone(s[t],r))}else s[t]&&(s[t]=e.wrapWithCurrentZone(s[t],r))})),i.call(t,s,a,c)},e.attachOriginToPatched(t[o],i)}const B=Zone.__symbol__,$=Object[B("defineProperty")]=Object.defineProperty,U=Object[B("getOwnPropertyDescriptor")]=Object.getOwnPropertyDescriptor,W=Object.create,V=B("unconfigurables");function X(e,t,n){const o=n.configurable;return K(e,t,n=Y(e,t,n),o)}function J(e,t){return e&&e[V]&&e[V][t]}function Y(e,t,n){return Object.isFrozen(n)||(n.configurable=!0),n.configurable||(e[V]||Object.isFrozen(e)||$(e,V,{writable:!0,value:{}}),e[V]&&(e[V][t]=!0)),n}function K(e,t,n,o){try{return $(e,t,n)}catch(r){if(!n.configurable)throw r;void 0===o?delete n.configurable:n.configurable=o;try{return $(e,t,n)}catch(r){let o=null;try{o=JSON.stringify(n)}catch(r){o=n.toString()}console.log(`Attempting to configure '${t}' with descriptor '${o}' on object '${e}' and got error, giving up: ${r}`)}}}const Q=["absolutedeviceorientation","afterinput","afterprint","appinstalled","beforeinstallprompt","beforeprint","beforeunload","devicelight","devicemotion","deviceorientation","deviceorientationabsolute","deviceproximity","hashchange","languagechange","message","mozbeforepaint","offline","online","paint","pageshow","pagehide","popstate","rejectionhandled","storage","unhandledrejection","unload","userproximity","vrdisplyconnected","vrdisplaydisconnected","vrdisplaypresentchange"],ee=["encrypted","waitingforkey","msneedkey","mozinterruptbegin","mozinterruptend"],te=["load"],ne=["blur","error","focus","load","resize","scroll","messageerror"],oe=["bounce","finish","start"],re=["loadstart","progress","abort","error","load","progress","timeout","loadend","readystatechange"],se=["upgradeneeded","complete","abort","success","error","blocked","versionchange","close"],ie=["close","error","open","message"],ae=["error","message"],ce=["abort","animationcancel","animationend","animationiteration","auxclick","beforeinput","blur","cancel","canplay","canplaythrough","change","compositionstart","compositionupdate","compositionend","cuechange","click","close","contextmenu","curechange","dblclick","drag","dragend","dragenter","dragexit","dragleave","dragover","drop","durationchange","emptied","ended","error","focus","focusin","focusout","gotpointercapture","input","invalid","keydown","keypress","keyup","load","loadstart","loadeddata","loadedmetadata","lostpointercapture","mousedown","mouseenter","mouseleave","mousemove","mouseout","mouseover","mouseup","mousewheel","orientationchange","pause","play","playing","pointercancel","pointerdown","pointerenter","pointerleave","pointerlockchange","mozpointerlockchange","webkitpointerlockerchange","pointerlockerror","mozpointerlockerror","webkitpointerlockerror","pointermove","pointout","pointerover","pointerup","progress","ratechange","reset","resize","scroll","seeked","seeking","select","selectionchange","selectstart","show","sort","stalled","submit","suspend","timeupdate","volumechange","touchcancel","touchmove","touchstart","touchend","transitioncancel","transitionend","waiting","wheel"].concat(["webglcontextrestored","webglcontextlost","webglcontextcreationerror"],["autocomplete","autocompleteerror"],["toggle"],["afterscriptexecute","beforescriptexecute","DOMContentLoaded","freeze","fullscreenchange","mozfullscreenchange","webkitfullscreenchange","msfullscreenchange","fullscreenerror","mozfullscreenerror","webkitfullscreenerror","msfullscreenerror","readystatechange","visibilitychange","resume"],Q,["beforecopy","beforecut","beforepaste","copy","cut","paste","dragstart","loadend","animationstart","search","transitionrun","transitionstart","webkitanimationend","webkitanimationiteration","webkitanimationstart","webkittransitionend"],["activate","afterupdate","ariarequest","beforeactivate","beforedeactivate","beforeeditfocus","beforeupdate","cellchange","controlselect","dataavailable","datasetchanged","datasetcomplete","errorupdate","filterchange","layoutcomplete","losecapture","move","moveend","movestart","propertychange","resizeend","resizestart","rowenter","rowexit","rowsdelete","rowsinserted","command","compassneedscalibration","deactivate","help","mscontentzoom","msmanipulationstatechanged","msgesturechange","msgesturedoubletap","msgestureend","msgesturehold","msgesturestart","msgesturetap","msgotpointercapture","msinertiastart","mslostpointercapture","mspointercancel","mspointerdown","mspointerenter","mspointerhover","mspointerleave","mspointermove","mspointerout","mspointerover","mspointerup","pointerout","mssitemodejumplistitemremoved","msthumbnailclick","stop","storagecommit"]);function le(e,t,n){if(!n||0===n.length)return t;const o=n.filter(t=>t.target===e);if(!o||0===o.length)return t;const r=o[0].ignoreProperties;return t.filter(e=>-1===r.indexOf(e))}function ue(e,t,n,o){e&&Z(e,le(e,t,n),o)}function he(e,t){if(y&&!v)return;if(Zone[e.symbol("patchEvents")])return;const n="undefined"!=typeof WebSocket,o=t.__Zone_ignore_on_properties;if(b){const e=window,t=I?[{target:e,ignoreProperties:["error"]}]:[];ue(e,ce.concat(["messageerror"]),o?o.concat(t):o,r(e)),ue(Document.prototype,ce,o),void 0!==e.SVGElement&&ue(e.SVGElement.prototype,ce,o),ue(Element.prototype,ce,o),ue(HTMLElement.prototype,ce,o),ue(HTMLMediaElement.prototype,ee,o),ue(HTMLFrameSetElement.prototype,Q.concat(ne),o),ue(HTMLBodyElement.prototype,Q.concat(ne),o),ue(HTMLFrameElement.prototype,te,o),ue(HTMLIFrameElement.prototype,te,o);const n=e.HTMLMarqueeElement;n&&ue(n.prototype,oe,o);const s=e.Worker;s&&ue(s.prototype,ae,o)}const s=t.XMLHttpRequest;s&&ue(s.prototype,re,o);const i=t.XMLHttpRequestEventTarget;i&&ue(i&&i.prototype,re,o),"undefined"!=typeof IDBIndex&&(ue(IDBIndex.prototype,se,o),ue(IDBRequest.prototype,se,o),ue(IDBOpenDBRequest.prototype,se,o),ue(IDBDatabase.prototype,se,o),ue(IDBTransaction.prototype,se,o),ue(IDBCursor.prototype,se,o)),n&&ue(WebSocket.prototype,ie,o)}Zone.__load_patch("util",(e,t,r)=>{r.patchOnProperties=Z,r.patchMethod=z,r.bindArguments=_,r.patchMacroTask=P;const a=t.__symbol__("BLACK_LISTED_EVENTS"),c=t.__symbol__("UNPATCHED_EVENTS");e[c]&&(e[a]=e[c]),e[a]&&(t[a]=t[c]=e[a]),r.patchEventPrototype=G,r.patchEventTarget=F,r.isIEOrEdge=L,r.ObjectDefineProperty=o,r.ObjectGetOwnPropertyDescriptor=n,r.ObjectCreate=s,r.ArraySlice=i,r.patchClass=D,r.wrapWithCurrentZone=l,r.filterProperties=le,r.attachOriginToPatched=O,r._redefineProperty=X,r.patchCallbacks=q,r.getGlobalObjects=()=>({globalSources:N,zoneSymbolEventNames:M,eventNames:ce,isBrowser:b,isMix:v,isNode:y,TRUE_STR:"true",FALSE_STR:"false",ZONE_SYMBOL_PREFIX:"__zone_symbol__",ADD_EVENT_LISTENER_STR:"addEventListener",REMOVE_EVENT_LISTENER_STR:"removeEventListener"})});const pe=h("zoneTask");function fe(e,t,n,o){let r=null,s=null;n+=o;const i={};function a(t){const n=t.data;return n.args[0]=function(){try{t.invoke.apply(this,arguments)}finally{t.data&&t.data.isPeriodic||("number"==typeof n.handleId?delete i[n.handleId]:n.handleId&&(n.handleId[pe]=null))}},n.handleId=r.apply(e,n.args),t}function c(e){return s(e.data.handleId)}r=z(e,t+=o,n=>function(r,s){if("function"==typeof s[0]){const e=u(t,s[0],{isPeriodic:"Interval"===o,delay:"Timeout"===o||"Interval"===o?s[1]||0:void 0,args:s},a,c);if(!e)return e;const n=e.data.handleId;return"number"==typeof n?i[n]=e:n&&(n[pe]=e),n&&n.ref&&n.unref&&"function"==typeof n.ref&&"function"==typeof n.unref&&(e.ref=n.ref.bind(n),e.unref=n.unref.bind(n)),"number"==typeof n||n?n:e}return n.apply(e,s)}),s=z(e,n,t=>function(n,o){const r=o[0];let s;"number"==typeof r?s=i[r]:(s=r&&r[pe],s||(s=r)),s&&"string"==typeof s.type?"notScheduled"!==s.state&&(s.cancelFn&&s.data.isPeriodic||0===s.runCount)&&("number"==typeof r?delete i[r]:r&&(r[pe]=null),s.zone.cancelTask(s)):t.apply(e,o)})}function de(e,t){if(Zone[t.symbol("patchEventTarget")])return;const{eventNames:n,zoneSymbolEventNames:o,TRUE_STR:r,FALSE_STR:s,ZONE_SYMBOL_PREFIX:i}=t.getGlobalObjects();for(let c=0;c<n.length;c++){const e=n[c],t=i+(e+s),a=i+(e+r);o[e]={},o[e][s]=t,o[e][r]=a}const a=e.EventTarget;return a&&a.prototype?(t.patchEventTarget(e,[a&&a.prototype]),!0):void 0}Zone.__load_patch("legacy",e=>{const t=e[Zone.__symbol__("legacyPatch")];t&&t()}),Zone.__load_patch("timers",e=>{fe(e,"set","clear","Timeout"),fe(e,"set","clear","Interval"),fe(e,"set","clear","Immediate")}),Zone.__load_patch("requestAnimationFrame",e=>{fe(e,"request","cancel","AnimationFrame"),fe(e,"mozRequest","mozCancel","AnimationFrame"),fe(e,"webkitRequest","webkitCancel","AnimationFrame")}),Zone.__load_patch("blocking",(e,t)=>{const n=["alert","prompt","confirm"];for(let o=0;o<n.length;o++)z(e,n[o],(n,o,r)=>function(o,s){return t.current.run(n,e,s,r)})}),Zone.__load_patch("EventTarget",(e,t,n)=>{!function(e,t){t.patchEventPrototype(e,t)}(e,n),de(e,n);const o=e.XMLHttpRequestEventTarget;o&&o.prototype&&n.patchEventTarget(e,[o.prototype]),D("MutationObserver"),D("WebKitMutationObserver"),D("IntersectionObserver"),D("FileReader")}),Zone.__load_patch("on_property",(e,t,n)=>{he(n,e),Object.defineProperty=function(e,t,n){if(J(e,t))throw new TypeError("Cannot assign to read only property '"+t+"' of "+e);const o=n.configurable;return"prototype"!==t&&(n=Y(e,t,n)),K(e,t,n,o)},Object.defineProperties=function(e,t){return Object.keys(t).forEach((function(n){Object.defineProperty(e,n,t[n])})),e},Object.create=function(e,t){return"object"!=typeof t||Object.isFrozen(t)||Object.keys(t).forEach((function(n){t[n]=Y(e,n,t[n])})),W(e,t)},Object.getOwnPropertyDescriptor=function(e,t){const n=U(e,t);return n&&J(e,t)&&(n.configurable=!1),n}}),Zone.__load_patch("customElements",(e,t,n)=>{!function(e,t){const{isBrowser:n,isMix:o}=t.getGlobalObjects();(n||o)&&e.customElements&&"customElements"in e&&t.patchCallbacks(t,e.customElements,"customElements","define",["connectedCallback","disconnectedCallback","adoptedCallback","attributeChangedCallback"])}(e,n)}),Zone.__load_patch("XHR",(e,t)=>{!function(e){const p=e.XMLHttpRequest;if(!p)return;const f=p.prototype;let d=f[a],g=f[c];if(!d){const t=e.XMLHttpRequestEventTarget;if(t){const e=t.prototype;d=e[a],g=e[c]}}function _(e){const t=e.data,o=t.target;o[s]=!1,o[l]=!1;const i=o[r];d||(d=o[a],g=o[c]),i&&g.call(o,"readystatechange",i);const u=o[r]=()=>{if(o.readyState===o.DONE)if(!t.aborted&&o[s]&&"scheduled"===e.state){const n=o.__zone_symbol__loadfalse;if(n&&n.length>0){const r=e.invoke;e.invoke=function(){const n=o.__zone_symbol__loadfalse;for(let t=0;t<n.length;t++)n[t]===e&&n.splice(t,1);t.aborted||"scheduled"!==e.state||r.call(e)},n.push(e)}else e.invoke()}else t.aborted||!1!==o[s]||(o[l]=!0)};return d.call(o,"readystatechange",u),o[n]||(o[n]=e),T.apply(o,t.args),o[s]=!0,e}function m(){}function k(e){const t=e.data;return t.aborted=!0,w.apply(t.target,t.args)}const y=z(f,"open",()=>function(e,t){return e[o]=0==t[2],e[i]=t[1],y.apply(e,t)}),b=h("fetchTaskAborting"),v=h("fetchTaskScheduling"),T=z(f,"send",()=>function(e,n){if(!0===t.current[v])return T.apply(e,n);if(e[o])return T.apply(e,n);{const t={target:e,url:e[i],isPeriodic:!1,args:n,aborted:!1},o=u("XMLHttpRequest.send",m,t,_,k);e&&!0===e[l]&&!t.aborted&&"scheduled"===o.state&&o.invoke()}}),w=z(f,"abort",()=>function(e,o){const r=e[n];if(r&&"string"==typeof r.type){if(null==r.cancelFn||r.data&&r.data.aborted)return;r.zone.cancelTask(r)}else if(!0===t.current[b])return w.apply(e,o)})}(e);const n=h("xhrTask"),o=h("xhrSync"),r=h("xhrListener"),s=h("xhrScheduled"),i=h("xhrURL"),l=h("xhrErrorBeforeScheduled")}),Zone.__load_patch("geolocation",e=>{e.navigator&&e.navigator.geolocation&&function(e,t){const o=e.constructor.name;for(let r=0;r<t.length;r++){const s=t[r],i=e[s];if(i){if(!m(n(e,s)))continue;e[s]=(e=>{const t=function(){return e.apply(this,_(arguments,o+"."+s))};return O(t,e),t})(i)}}}(e.navigator.geolocation,["getCurrentPosition","watchPosition"])}),Zone.__load_patch("PromiseRejectionEvent",(e,t)=>{function n(t){return function(n){H(e,t).forEach(o=>{const r=e.PromiseRejectionEvent;if(r){const e=new r(t,{promise:n.promise,reason:n.rejection});o.invoke(e)}})}}e.PromiseRejectionEvent&&(t[h("unhandledPromiseRejectionHandler")]=n("unhandledrejection"),t[h("rejectionHandledHandler")]=n("rejectionhandled"))})}},[[2,0]]]);
!function(e,t){"use strict";function n(){var e=C.splice(0,C.length);for(We=0;e.length;)e.shift().call(null,e.shift())}function r(e,t){for(var n=0,r=e.length;n<r;n++)p(e[n],t)}function o(e){return function(t){Re(t)&&(p(t,e),le.length&&r(t.querySelectorAll(le),e))}}function l(e){var t=Be.call(e,"is"),n=e.nodeName.toUpperCase(),r=ie.call(re,t?ee+t.toUpperCase():J+n);return t&&-1<r&&!a(n,t)?-1:r}function a(e,t){return-1<le.indexOf(e+'[is="'+t+'"]')}function i(e){var t=e.currentTarget,n=e.attrChange,r=e.attrName,o=e.target,l=e[X]||2,a=e[$]||3;!rt||o&&o!==t||!t[B]||"style"===r||e.prevValue===e.newValue&&(""!==e.newValue||n!==l&&n!==a)||t[B](r,n===l?null:e.prevValue,n===a?null:e.newValue)}function u(e){var t=o(e);return function(e){C.push(t,e.target),We&&clearTimeout(We),We=setTimeout(n,1)}}function c(e){nt&&(nt=!1,e.currentTarget.removeEventListener(W,c)),le.length&&r((e.target||g).querySelectorAll(le),e.detail===x?x:_),Ve&&function(){for(var e,t=0,n=Ue.length;t<n;t++)ae.contains(e=Ue[t])||(n--,Ue.splice(t--,1),p(e,x))}()}function s(e,t){var n=this;Ge.call(n,e,t),w.call(n,{target:n})}function m(e,t,n){var r=t.apply(e,n),o=l(r);return-1<o&&F(r,oe[o]),n.pop()&&le.length&&function(e){for(var t,n=0,r=e.length;n<r;n++)F(t=e[n],oe[l(t)])}(r.querySelectorAll(le)),r}function f(e,t){De(e,t),N?N.observe(e,$e):(tt&&(e.setAttribute=s,e[R]=O(e),e[U](Y,w)),e[U](Q,i)),e[z]&&rt&&(e.created=!0,e[z](),e.created=!1)}function d(e){throw new Error("A "+e+" type is already registered")}function p(e,t){var n,r,o=l(e);-1<o&&!xe.call(e,"TEMPLATE")&&(I(e,oe[o]),o=0,t!==_||e[_]?t!==x||e[x]||(e[_]=!1,e[x]=!0,r="disconnected",o=1):(e[x]=!1,e[_]=!0,r="connected",o=1,Ve&&ie.call(Ue,e)<0&&Ue.push(e)),o&&(n=e[t+k]||e[r+k])&&n.call(e))}function h(){}function T(e,t,n){var r=n&&n[q]||"",o=t.prototype,l=Ne(o),a=t.observedAttributes||fe,i={prototype:l};Pe(l,z,{value:function(){if(ye)ye=!1;else if(!this[Me]){this[Me]=!0,new t(this),o[z]&&o[z].call(this);var e=Ce[Ae.get(t)];(!ve||e.create.length>1)&&E(this)}}}),Pe(l,B,{value:function(e){-1<ie.call(a,e)&&o[B]&&o[B].apply(this,arguments)}}),o[j]&&Pe(l,Z,{value:o[j]}),o[G]&&Pe(l,K,{value:o[G]}),r&&(i[q]=r),e=e.toUpperCase(),Ce[e]={constructor:t,create:r?[r,Oe(e)]:[e]},Ae.set(t,e),g[V](e.toLowerCase(),i),v(e),we[e].r()}function L(e){var t=Ce[e.toUpperCase()];return t&&t.constructor}function M(e){return"string"==typeof e?e:e&&e.is||""}function E(e){for(var t,n=e[B],r=n?e.attributes:fe,o=r.length;o--;)n.call(e,(t=r[o]).name||t.nodeName,null,t.value||t.nodeValue)}function v(e){return(e=e.toUpperCase())in we||(we[e]={},we[e].p=new be((function(t){we[e].r=t}))),we[e].p}function H(){Ee&&delete e.customElements,me(e,"customElements",{configurable:!0,value:new h}),me(e,"CustomElementRegistry",{configurable:!0,value:h});for(var t=y.get(/^HTML[A-Z]*[a-z]/),n=t.length;n--;function(t){var n=e[t];if(n){e[t]=function(e){var t,r;return e||(e=this),e[Me]||(ye=!0,t=Ce[Ae.get(e.constructor)],(e=(r=ve&&1===t.create.length)?Reflect.construct(n,fe,t.constructor):g.createElement.apply(g,t.create))[Me]=!0,ye=!1,r||E(e)),e},e[t].prototype=n.prototype;try{n.prototype.constructor=e[t]}catch(r){me(n,Me,{value:e[t]})}}}(t[n]));g.createElement=function(e,t){var n=M(t);return n?Xe.call(this,e,Oe(n)):Xe.call(this,e)},Ye||(et=!0,g[V](""))}var g=e.document,b=e.Object,y=function(e){var t,n,r,o,l=/^[A-Z]+[a-z]/,a=function(e,t){(t=t.toLowerCase())in i||(i[e]=(i[e]||[]).concat(t),i[t]=i[t.toUpperCase()]=e)},i=(b.create||b)(null),u={};for(n in e)for(o in e[n])for(i[o]=r=e[n][o],t=0;t<r.length;t++)i[r[t].toLowerCase()]=i[r[t].toUpperCase()]=o;return u.get=function(e){return"string"==typeof e?i[e]||(l.test(e)?[]:""):function(e){var t,n=[];for(t in i)e.test(t)&&n.push(t);return n}(e)},u.set=function(e,t){return l.test(e)?a(e,t):a(t,e),u},u}({collections:{HTMLAllCollection:["all"],HTMLCollection:["forms"],HTMLFormControlsCollection:["elements"],HTMLOptionsCollection:["options"]},elements:{Element:["element"],HTMLAnchorElement:["a"],HTMLAppletElement:["applet"],HTMLAreaElement:["area"],HTMLAttachmentElement:["attachment"],HTMLAudioElement:["audio"],HTMLBRElement:["br"],HTMLBaseElement:["base"],HTMLBodyElement:["body"],HTMLButtonElement:["button"],HTMLCanvasElement:["canvas"],HTMLContentElement:["content"],HTMLDListElement:["dl"],HTMLDataElement:["data"],HTMLDataListElement:["datalist"],HTMLDetailsElement:["details"],HTMLDialogElement:["dialog"],HTMLDirectoryElement:["dir"],HTMLDivElement:["div"],HTMLDocument:["document"],HTMLElement:["element","abbr","address","article","aside","b","bdi","bdo","cite","code","command","dd","dfn","dt","em","figcaption","figure","footer","header","i","kbd","mark","nav","noscript","rp","rt","ruby","s","samp","section","small","strong","sub","summary","sup","u","var","wbr"],HTMLEmbedElement:["embed"],HTMLFieldSetElement:["fieldset"],HTMLFontElement:["font"],HTMLFormElement:["form"],HTMLFrameElement:["frame"],HTMLFrameSetElement:["frameset"],HTMLHRElement:["hr"],HTMLHeadElement:["head"],HTMLHeadingElement:["h1","h2","h3","h4","h5","h6"],HTMLHtmlElement:["html"],HTMLIFrameElement:["iframe"],HTMLImageElement:["img"],HTMLInputElement:["input"],HTMLKeygenElement:["keygen"],HTMLLIElement:["li"],HTMLLabelElement:["label"],HTMLLegendElement:["legend"],HTMLLinkElement:["link"],HTMLMapElement:["map"],HTMLMarqueeElement:["marquee"],HTMLMediaElement:["media"],HTMLMenuElement:["menu"],HTMLMenuItemElement:["menuitem"],HTMLMetaElement:["meta"],HTMLMeterElement:["meter"],HTMLModElement:["del","ins"],HTMLOListElement:["ol"],HTMLObjectElement:["object"],HTMLOptGroupElement:["optgroup"],HTMLOptionElement:["option"],HTMLOutputElement:["output"],HTMLParagraphElement:["p"],HTMLParamElement:["param"],HTMLPictureElement:["picture"],HTMLPreElement:["pre"],HTMLProgressElement:["progress"],HTMLQuoteElement:["blockquote","q","quote"],HTMLScriptElement:["script"],HTMLSelectElement:["select"],HTMLShadowElement:["shadow"],HTMLSlotElement:["slot"],HTMLSourceElement:["source"],HTMLSpanElement:["span"],HTMLStyleElement:["style"],HTMLTableCaptionElement:["caption"],HTMLTableCellElement:["td","th"],HTMLTableColElement:["col","colgroup"],HTMLTableElement:["table"],HTMLTableRowElement:["tr"],HTMLTableSectionElement:["thead","tbody","tfoot"],HTMLTemplateElement:["template"],HTMLTextAreaElement:["textarea"],HTMLTimeElement:["time"],HTMLTitleElement:["title"],HTMLTrackElement:["track"],HTMLUListElement:["ul"],HTMLUnknownElement:["unknown","vhgroupv","vkeygen"],HTMLVideoElement:["video"]},nodes:{Attr:["node"],Audio:["audio"],CDATASection:["node"],CharacterData:["node"],Comment:["#comment"],Document:["#document"],DocumentFragment:["#document-fragment"],DocumentType:["node"],HTMLDocument:["#document"],Image:["img"],Option:["option"],ProcessingInstruction:["node"],ShadowRoot:["#shadow-root"],Text:["#text"],XMLDocument:["xml"]}});"object"!=typeof t&&(t={type:t||"auto"});var C,w,A,O,N,D,I,F,S,V="registerElement",P=1e5*e.Math.random()>>0,R="__"+V+P,U="addEventListener",_="attached",k="Callback",x="detached",q="extends",B="attributeChanged"+k,Z=_+k,j="connected"+k,G="disconnected"+k,z="created"+k,K=x+k,X="ADDITION",$="REMOVAL",Q="DOMAttrModified",W="DOMContentLoaded",Y="DOMSubtreeModified",J="<",ee="=",te=/^[A-Z][._A-Z0-9]*-[-._A-Z0-9]*$/,ne=["ANNOTATION-XML","COLOR-PROFILE","FONT-FACE","FONT-FACE-SRC","FONT-FACE-URI","FONT-FACE-FORMAT","FONT-FACE-NAME","MISSING-GLYPH"],re=[],oe=[],le="",ae=g.documentElement,ie=re.indexOf||function(e){for(var t=this.length;t--&&this[t]!==e;);return t},ue=b.prototype,ce=ue.hasOwnProperty,se=ue.isPrototypeOf,me=b.defineProperty,fe=[],de=b.getOwnPropertyDescriptor,pe=b.getOwnPropertyNames,he=b.getPrototypeOf,Te=b.setPrototypeOf,Le=!!b.__proto__,Me="__dreCEv1",Ee=e.customElements,ve=!/^force/.test(t.type)&&!!(Ee&&Ee.define&&Ee.get&&Ee.whenDefined),He=b.create||b,ge=e.Map||function(){var e,t=[],n=[];return{get:function(e){return n[ie.call(t,e)]},set:function(r,o){(e=ie.call(t,r))<0?n[t.push(r)-1]=o:n[e]=o}}},be=e.Promise||function(e){function t(e){for(r=!0;n.length;)n.shift()(e)}var n=[],r=!1,o={catch:function(){return o},then:function(e){return n.push(e),r&&setTimeout(t,1),o}};return e(t),o},ye=!1,Ce=He(null),we=He(null),Ae=new ge,Oe=function(e){return e.toLowerCase()},Ne=b.create||function e(t){return t?(e.prototype=t,new e):this},De=Te||(Le?function(e,t){return e.__proto__=t,e}:pe&&de?function(){function e(e,t){for(var n,r=pe(t),o=0,l=r.length;o<l;o++)ce.call(e,n=r[o])||me(e,n,de(t,n))}return function(t,n){do{e(t,n)}while((n=he(n))&&!se.call(n,t));return t}}():function(e,t){for(var n in t)e[n]=t[n];return e}),Ie=e.MutationObserver||e.WebKitMutationObserver,Fe=e.HTMLAnchorElement,Se=(e.HTMLElement||e.Element||e.Node).prototype,Ve=!se.call(Se,ae),Pe=Ve?function(e,t,n){return e[t]=n.value,e}:me,Re=Ve?function(e){return 1===e.nodeType}:function(e){return se.call(Se,e)},Ue=Ve&&[],_e=Se.attachShadow,ke=Se.cloneNode,xe=Se.closest||function(e){for(var t=this;t&&t.nodeName!==e;)t=t.parentNode;return t},qe=Se.dispatchEvent,Be=Se.getAttribute,Ze=Se.hasAttribute,je=Se.removeAttribute,Ge=Se.setAttribute,ze=g.createElement,Ke=g.importNode,Xe=ze,$e=Ie&&{attributes:!0,characterData:!0,attributeOldValue:!0},Qe=Ie||function(e){tt=!1,ae.removeEventListener(Q,Qe)},We=0,Ye=V in g&&!/^force-all/.test(t.type),Je=!0,et=!1,tt=!0,nt=!0,rt=!0;if(Ie&&((S=g.createElement("div")).innerHTML="<div><div></div></div>",new Ie((function(e,t){if(e[0]&&"childList"==e[0].type&&!e[0].removedNodes[0].childNodes.length){var n=(S=de(Se,"innerHTML"))&&S.set;n&&me(Se,"innerHTML",{set:function(e){for(;this.lastChild;)this.removeChild(this.lastChild);n.call(this,e)}})}t.disconnect(),S=null})).observe(S,{childList:!0,subtree:!0}),S.innerHTML=""),Ye||(Te||Le?(I=function(e,t){se.call(t,e)||f(e,t)},F=f):F=I=function(e,t){e[R]||(e[R]=b(!0),f(e,t))},Ve?(tt=!1,function(){var e=de(Se,U),t=e.value,n=function(e){var t=new CustomEvent(Q,{bubbles:!0});t.attrName=e,t.prevValue=Be.call(this,e),t.newValue=null,t[$]=t.attrChange=2,je.call(this,e),qe.call(this,t)},r=function(e,t){var n=Ze.call(this,e),r=n&&Be.call(this,e),o=new CustomEvent(Q,{bubbles:!0});Ge.call(this,e,t),o.attrName=e,o.prevValue=n?r:null,o.newValue=t,n?o.MODIFICATION=o.attrChange=1:o[X]=o.attrChange=0,qe.call(this,o)},o=function(e){var t,n=e.currentTarget,r=n[R],o=e.propertyName;r.hasOwnProperty(o)&&(r=r[o],(t=new CustomEvent(Q,{bubbles:!0})).attrName=r.name,t.prevValue=r.value||null,t.newValue=r.value=n[o]||null,null==t.prevValue?t[X]=t.attrChange=0:t.MODIFICATION=t.attrChange=1,qe.call(n,t))};e.value=function(e,l,a){e===Q&&this[B]&&this.setAttribute!==r&&(this[R]={className:{name:"class",value:this.className}},this.setAttribute=r,this.removeAttribute=n,t.call(this,"propertychange",o)),t.call(this,e,l,a)},me(Se,U,e)}()):Ie||(ae[U](Q,Qe),ae.setAttribute(R,1),ae.removeAttribute(R),tt&&(w=function(e){var t,n,r,o=this;if(o===e.target){for(r in t=o[R],o[R]=n=O(o),n){if(!(r in t))return A(0,o,r,t[r],n[r],X);if(n[r]!==t[r])return A(1,o,r,t[r],n[r],"MODIFICATION")}for(r in t)if(!(r in n))return A(2,o,r,t[r],n[r],$)}},A=function(e,t,n,r,o,l){var a={attrChange:e,currentTarget:t,attrName:n,prevValue:r,newValue:o};a[l]=e,i(a)},O=function(e){for(var t,n,r={},o=e.attributes,l=0,a=o.length;l<a;l++)"setAttribute"!==(n=(t=o[l]).name)&&(r[n]=t.value);return r})),g[V]=function(e,t){if(n=e.toUpperCase(),Je&&(Je=!1,Ie?(N=function(e,t){function n(e,t){for(var n=0,r=e.length;n<r;t(e[n++]));}return new Ie((function(r){for(var o,l,a,i=0,u=r.length;i<u;i++)"childList"===(o=r[i]).type?(n(o.addedNodes,e),n(o.removedNodes,t)):(l=o.target,rt&&l[B]&&"style"!==o.attributeName&&(a=Be.call(l,o.attributeName))!==o.oldValue&&l[B](o.attributeName,o.oldValue,a))}))}(o(_),o(x)),(D=function(e){return N.observe(e,{childList:!0,subtree:!0}),e})(g),_e&&(Se.attachShadow=function(){return D(_e.apply(this,arguments))})):(C=[],g[U]("DOMNodeInserted",u(_)),g[U]("DOMNodeRemoved",u(x))),g[U](W,c),g[U]("readystatechange",c),g.importNode=function(e,t){switch(e.nodeType){case 1:return m(g,Ke,[e,!!t]);case 11:for(var n=g.createDocumentFragment(),r=e.childNodes,o=r.length,l=0;l<o;l++)n.appendChild(g.importNode(r[l],!!t));return n;default:return ke.call(e,!!t)}},Se.cloneNode=function(e){return m(this,ke,[!!e])}),et)return et=!1;if(-2<ie.call(re,ee+n)+ie.call(re,J+n)&&d(e),!te.test(n)||-1<ie.call(ne,n))throw new Error("The type "+e+" is invalid");var n,l,a=function(){return s?g.createElement(f,n):g.createElement(f)},i=t||ue,s=ce.call(i,q),f=s?t[q].toUpperCase():n;return s&&-1<ie.call(re,J+f)&&d(f),l=re.push((s?ee:J)+n)-1,le=le.concat(le.length?",":"",s?f+'[is="'+e.toLowerCase()+'"]':f),a.prototype=oe[l]=ce.call(i,"prototype")?i.prototype:Ne(Se),le.length&&r(g.querySelectorAll(le),_),a},g.createElement=Xe=function(e,t){var n=M(t),r=n?ze.call(g,e,Oe(n)):ze.call(g,e),o=""+e,l=ie.call(re,(n?ee:J)+(n||o).toUpperCase()),i=-1<l;return n&&(r.setAttribute("is",n=n.toLowerCase()),i&&(i=a(o.toUpperCase(),n))),rt=!g.createElement.innerHTMLHelper,i&&F(r,oe[l]),r}),addEventListener("beforeunload",(function(){delete g.createElement,delete g.importNode,delete g[V]}),!1),h.prototype={constructor:h,define:ve?function(e,t,n){if(n)T(e,t,n);else{var r=e.toUpperCase();Ce[r]={constructor:t,create:[r]},Ae.set(t,r),Ee.define(e,t)}}:T,get:ve?function(e){return Ee.get(e)||L(e)}:L,whenDefined:ve?function(e){return be.race([Ee.whenDefined(e),v(e)])}:v},!Ee||/^force/.test(t.type))H();else if(!t.noBuiltIn)try{!function(t,n,r){var o=new RegExp("^<a\\s+is=('|\")"+r+"\\1></a>$");if(n[q]="a",(t.prototype=Ne(Fe.prototype)).constructor=t,e.customElements.define(r,t,n),!o.test(g.createElement("a",{is:r}).outerHTML)||!o.test((new t).outerHTML))throw n}((function e(){return Reflect.construct(Fe,[],e)}),{},"document-register-element-a"+P)}catch(ot){H()}if(!t.noBuiltIn)try{if(ze.call(g,"a","a").outerHTML.indexOf("is")<0)throw{}}catch(lt){Oe=function(e){return{is:e.toLowerCase()}}}}(window);
(window.webpackJsonp=window.webpackJsonp||[]).push([[1],{"+6XX":function(t,e,n){var i=n("y1pI");t.exports=function(t){return i(this.__data__,t)>-1}},"+K+b":function(t,e,n){var i=n("JHRd");t.exports=function(t){var e=new t.constructor(t.byteLength);return new i(e).set(new i(t)),e}},"+P9r":function(t,e,n){var i=n("AGOE");i.prototype[Symbol.iterator]||(i.prototype[Symbol.iterator]=function(){var t=this.getEnumerator();return{next:function(){return t.moveNext()?{done:!1,value:t.current()}:{done:!0}}}});var r=!0;i.extendArray=function(){r&&(r=!1,Object.keys(i.prototype).forEach((function(t){Array.prototype[t]||(Array.prototype[t]=function(){var e=i.from(this);return e[t].apply(e,arguments)})})))},t.exports=i},"+Qka":function(t,e,n){var i=n("fmRc"),r=n("t2Dn"),o=n("cq/+"),s=n("T1AV"),a=n("GoyQ"),l=n("mTTR"),c=n("itsj");t.exports=function t(e,n,u,h,d){e!==n&&o(n,(function(o,l){if(d||(d=new i),a(o))s(e,n,l,u,t,h,d);else{var p=h?h(c(e,l),o,l+"",e,n,d):void 0;void 0===p&&(p=o),r(e,l,p)}}),l)}},"+c4W":function(t,e,n){var i=n("711d"),r=n("4/ic"),o=n("9ggG"),s=n("9Nap");t.exports=function(t){return o(t)?i(s(t)):r(t)}},"+iFO":function(t,e,n){var i=n("dTAl"),r=n("LcsW"),o=n("6sVZ");t.exports=function(t){return"function"!=typeof t.constructor||o(t)?{}:i(r(t))}},"/9aa":function(t,e,n){var i=n("NykK"),r=n("ExA7");t.exports=function(t){return"symbol"==typeof t||r(t)&&"[object Symbol]"==i(t)}},0:function(t,e,n){t.exports=n("zUnb")},"03A+":function(t,e,n){var i=n("JTzB"),r=n("ExA7"),o=Object.prototype,s=o.hasOwnProperty,a=o.propertyIsEnumerable,l=i(function(){return arguments}())?i:function(t){return r(t)&&s.call(t,"callee")&&!a.call(t,"callee")};t.exports=l},"0Cz8":function(t,e,n){var i=n("Xi7e"),r=n("ebwN"),o=n("e4Nc");t.exports=function(t,e){var n=this.__data__;if(n instanceof i){var s=n.__data__;if(!r||s.length<199)return s.push([t,e]),this.size=++n.size,this;n=this.__data__=new o(s)}return n.set(t,e),this.size=n.size,this}},"0Pmn":function(t,e){t.exports=function(t){return t&&"object"==typeof t&&"function"==typeof t.copy&&"function"==typeof t.fill&&"function"==typeof t.readUInt8}},"0ycA":function(t,e){t.exports=function(){return[]}},"1+5i":function(t,e,n){var i=n("w/wX"),r=n("sEf8"),o=n("mdPL"),s=o&&o.isSet,a=s?r(s):i;t.exports=a},"1OyB":function(t,e,n){"use strict";function i(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}n.r(e),n.d(e,"default",(function(){return i}))},"1hJj":function(t,e,n){var i=n("e4Nc"),r=n("ftKO"),o=n("3A9y");function s(t){var e=-1,n=null==t?0:t.length;for(this.__data__=new i;++e<n;)this.add(t[e])}s.prototype.add=s.prototype.push=r,s.prototype.has=o,t.exports=s},"2U8Y":function(t,e,n){"use strict";var i="win32"===process.platform,r=n("HK1C");function o(t,e){for(var n=[],i=0;i<t.length;i++){var r=t[i];r&&"."!==r&&(".."===r?n.length&&".."!==n[n.length-1]?n.pop():e&&n.push(".."):n.push(r))}return n}function s(t){for(var e=t.length-1,n=0;n<=e&&!t[n];n++);for(var i=e;i>=0&&!t[i];i--);return 0===n&&i===e?t:n>i?[]:t.slice(n,i+1)}var a=/^([a-zA-Z]:|[\\\/]{2}[^\\\/]+[\\\/]+[^\\\/]+)?([\\\/])?([\s\S]*?)$/,l=/^([\s\S]*?)((?:\.{1,2}|[^\\\/]+?|)(\.[^.\/\\]*|))(?:[\\\/]*)$/,c={};function u(t){var e=a.exec(t),n=(e[1]||"")+(e[2]||""),i=l.exec(e[3]||"");return[n,i[1],i[2],i[3]]}function h(t){var e=a.exec(t),n=e[1]||"",i=!!n&&":"!==n[1];return{device:n,isUnc:i,isAbsolute:i||!!e[2],tail:e[3]}}function d(t){return"\\\\"+t.replace(/^[\\\/]+/,"").replace(/[\\\/]+/g,"\\")}c.resolve=function(){for(var t="",e="",n=!1,i=arguments.length-1;i>=-1;i--){var s;if(i>=0?s=arguments[i]:t?(s=process.env["="+t])&&s.substr(0,3).toLowerCase()===t.toLowerCase()+"\\"||(s=t+"\\"):s=process.cwd(),!r.isString(s))throw new TypeError("Arguments to path.resolve must be strings");if(s){var a=h(s),l=a.device,c=a.isUnc,u=a.isAbsolute,p=a.tail;if((!l||!t||l.toLowerCase()===t.toLowerCase())&&(t||(t=l),n||(e=p+"\\"+e,n=u),t&&n))break}}return c&&(t=d(t)),t+(n?"\\":"")+(e=o(e.split(/[\\\/]+/),!n).join("\\"))||"."},c.normalize=function(t){var e=h(t),n=e.device,i=e.isUnc,r=e.isAbsolute,s=e.tail,a=/[\\\/]$/.test(s);return(s=o(s.split(/[\\\/]+/),!r).join("\\"))||r||(s="."),s&&a&&(s+="\\"),i&&(n=d(n)),n+(r?"\\":"")+s},c.isAbsolute=function(t){return h(t).isAbsolute},c.join=function(){for(var t=[],e=0;e<arguments.length;e++){var n=arguments[e];if(!r.isString(n))throw new TypeError("Arguments to path.join must be strings");n&&t.push(n)}var i=t.join("\\");return/^[\\\/]{2}[^\\\/]/.test(t[0])||(i=i.replace(/^[\\\/]{2,}/,"\\")),c.normalize(i)},c.relative=function(t,e){t=c.resolve(t),e=c.resolve(e);for(var n=t.toLowerCase(),i=e.toLowerCase(),r=s(e.split("\\")),o=s(n.split("\\")),a=s(i.split("\\")),l=Math.min(o.length,a.length),u=l,h=0;h<l;h++)if(o[h]!==a[h]){u=h;break}if(0==u)return e;var d=[];for(h=u;h<o.length;h++)d.push("..");return(d=d.concat(r.slice(u))).join("\\")},c._makeLong=function(t){if(!r.isString(t))return t;if(!t)return"";var e=c.resolve(t);return/^[a-zA-Z]\:\\/.test(e)?"\\\\?\\"+e:/^\\\\[^?.]/.test(e)?"\\\\?\\UNC\\"+e.substring(2):t},c.dirname=function(t){var e=u(t),n=e[0],i=e[1];return n||i?(i&&(i=i.substr(0,i.length-1)),n+i):"."},c.basename=function(t,e){var n=u(t)[2];return e&&n.substr(-1*e.length)===e&&(n=n.substr(0,n.length-e.length)),n},c.extname=function(t){return u(t)[3]},c.format=function(t){if(!r.isObject(t))throw new TypeError("Parameter 'pathObject' must be an object, not "+typeof t);if(!r.isString(t.root||""))throw new TypeError("'pathObject.root' must be a string or undefined, not "+typeof t.root);var e=t.dir,n=t.base||"";return e?e[e.length-1]===c.sep?e+n:e+c.sep+n:n},c.parse=function(t){if(!r.isString(t))throw new TypeError("Parameter 'pathString' must be a string, not "+typeof t);var e=u(t);if(!e||4!==e.length)throw new TypeError("Invalid path '"+t+"'");return{root:e[0],dir:e[0]+e[1].slice(0,-1),base:e[2],ext:e[3],name:e[2].slice(0,e[2].length-e[3].length)}},c.sep="\\",c.delimiter=";";var p=/^(\/?|)([\s\S]*?)((?:\.{1,2}|[^\/]+?|)(\.[^.\/]*|))(?:[\/]*)$/,f={};function m(t){return p.exec(t).slice(1)}f.resolve=function(){for(var t="",e=!1,n=arguments.length-1;n>=-1&&!e;n--){var i=n>=0?arguments[n]:process.cwd();if(!r.isString(i))throw new TypeError("Arguments to path.resolve must be strings");i&&(t=i+"/"+t,e="/"===i[0])}return(e?"/":"")+(t=o(t.split("/"),!e).join("/"))||"."},f.normalize=function(t){var e=f.isAbsolute(t),n=t&&"/"===t[t.length-1];return(t=o(t.split("/"),!e).join("/"))||e||(t="."),t&&n&&(t+="/"),(e?"/":"")+t},f.isAbsolute=function(t){return"/"===t.charAt(0)},f.join=function(){for(var t="",e=0;e<arguments.length;e++){var n=arguments[e];if(!r.isString(n))throw new TypeError("Arguments to path.join must be strings");n&&(t+=t?"/"+n:n)}return f.normalize(t)},f.relative=function(t,e){t=f.resolve(t).substr(1),e=f.resolve(e).substr(1);for(var n=s(t.split("/")),i=s(e.split("/")),r=Math.min(n.length,i.length),o=r,a=0;a<r;a++)if(n[a]!==i[a]){o=a;break}var l=[];for(a=o;a<n.length;a++)l.push("..");return(l=l.concat(i.slice(o))).join("/")},f._makeLong=function(t){return t},f.dirname=function(t){var e=m(t),n=e[0],i=e[1];return n||i?(i&&(i=i.substr(0,i.length-1)),n+i):"."},f.basename=function(t,e){var n=m(t)[2];return e&&n.substr(-1*e.length)===e&&(n=n.substr(0,n.length-e.length)),n},f.extname=function(t){return m(t)[3]},f.format=function(t){if(!r.isObject(t))throw new TypeError("Parameter 'pathObject' must be an object, not "+typeof t);if(!r.isString(t.root||""))throw new TypeError("'pathObject.root' must be a string or undefined, not "+typeof t.root);return(t.dir?t.dir+f.sep:"")+(t.base||"")},f.parse=function(t){if(!r.isString(t))throw new TypeError("Parameter 'pathString' must be a string, not "+typeof t);var e=m(t);if(!e||4!==e.length)throw new TypeError("Invalid path '"+t+"'");return e[1]=e[1]||"",e[2]=e[2]||"",e[3]=e[3]||"",{root:e[0],dir:e[0]+e[1].slice(0,-1),base:e[2],ext:e[3],name:e[2].slice(0,e[2].length-e[3].length)}},f.sep="/",f.delimiter=":",t.exports=i?c:f,t.exports.posix=f,t.exports.win32=c},"2ajD":function(t,e){t.exports=function(t){return t!=t}},"2gN3":function(t,e,n){var i=n("Kz5y");t.exports=i["__core-js_shared__"]},"3A9y":function(t,e){t.exports=function(t){return this.__data__.has(t)}},"3Fdi":function(t,e){var n=Function.prototype.toString;t.exports=function(t){if(null!=t){try{return n.call(t)}catch(e){}try{return t+""}catch(e){}}return""}},"3L66":function(t,e,n){var i=n("MMmD"),r=n("ExA7");t.exports=function(t){return r(t)&&i(t)}},"3UD+":function(t,e){t.exports=function(t){if(!t.webpackPolyfill){var e=Object.create(t);e.children||(e.children=[]),Object.defineProperty(e,"loaded",{enumerable:!0,get:function(){return e.l}}),Object.defineProperty(e,"id",{enumerable:!0,get:function(){return e.i}}),Object.defineProperty(e,"exports",{enumerable:!0}),e.webpackPolyfill=1}return e}},"4/ic":function(t,e,n){var i=n("ZWtO");t.exports=function(t){return function(e){return i(e,t)}}},"44Ds":function(t,e,n){var i=n("e4Nc");function r(t,e){if("function"!=typeof t||null!=e&&"function"!=typeof e)throw new TypeError("Expected a function");var n=function(){var i=arguments,r=e?e.apply(this,i):i[0],o=n.cache;if(o.has(r))return o.get(r);var s=t.apply(this,i);return n.cache=o.set(r,s)||o,s};return n.cache=new(r.Cache||i),n}r.Cache=i,t.exports=r},"4DFU":function(t,e,n){var i=n("+Qka"),r=n("GoyQ");t.exports=function t(e,n,o,s,a,l){return r(e)&&r(n)&&(l.set(n,e),i(e,n,void 0,t,l),l.delete(n)),e}},"4Oe1":function(t,e,n){var i=n("YO3V");t.exports=function(t){return i(t)?void 0:t}},"4kuk":function(t,e,n){var i=n("SfRM"),r=n("Hvzi"),o=n("u8Dt"),s=n("ekgI"),a=n("JSQU");function l(t){var e=-1,n=null==t?0:t.length;for(this.clear();++e<n;){var i=t[e];this.set(i[0],i[1])}}l.prototype.clear=i,l.prototype.delete=r,l.prototype.get=o,l.prototype.has=s,l.prototype.set=a,t.exports=l},"4qC0":function(t,e,n){var i=n("NykK"),r=n("Z0cm"),o=n("ExA7");t.exports=function(t){return"string"==typeof t||!r(t)&&o(t)&&"[object String]"==i(t)}},"4sDh":function(t,e,n){var i=n("4uTw"),r=n("03A+"),o=n("Z0cm"),s=n("wJg7"),a=n("shjB"),l=n("9Nap");t.exports=function(t,e,n){for(var c=-1,u=(e=i(e,t)).length,h=!1;++c<u;){var d=l(e[c]);if(!(h=null!=t&&n(t,d)))break;t=t[d]}return h||++c!=u?h:!!(u=null==t?0:t.length)&&a(u)&&s(d,u)&&(o(t)||r(t))}},"4uTw":function(t,e,n){var i=n("Z0cm"),r=n("9ggG"),o=n("GNiM"),s=n("dt0z");t.exports=function(t,e){return i(t)?t:r(t,e)?[t]:o(s(t))}},"5Tg0":function(t,e,n){(function(t){var i=n("Kz5y"),r=e&&!e.nodeType&&e,o=r&&"object"==typeof t&&t&&!t.nodeType&&t,s=o&&o.exports===r?i.Buffer:void 0,a=s?s.allocUnsafe:void 0;t.exports=function(t,e){if(e)return t.slice();var n=t.length,i=a?a(n):new t.constructor(n);return t.copy(i),i}}).call(this,n("YuTi")(t))},"6foH":function(t,e,n){var i,r;void 0===(r="function"==typeof(i=function(){"use strict";function t(t){var e=t.getBoundingClientRect(),n=t.ownerDocument.documentElement,i=a();return/webkit.*Chrome.*Mobile/i.test(navigator.userAgent)&&(i.x=0),{top:e.top+i.y-n.clientTop,left:e.left+i.x-n.clientLeft}}function e(t){return"number"==typeof t&&!isNaN(t)&&isFinite(t)}function n(t,e,n){o(t,e),setTimeout((function(){s(t,e)}),n)}function i(t){return Math.max(Math.min(t,100),0)}function r(t){return Array.isArray(t)?t:[t]}function o(t,e){t.classList?t.classList.add(e):t.className+=" "+e}function s(t,e){t.classList?t.classList.remove(e):t.className=t.className.replace(new RegExp("(^|\\b)"+e.split(" ").join("|")+"(\\b|$)","gi")," ")}function a(){var t=void 0!==window.pageXOffset,e="CSS1Compat"===(document.compatMode||"");return{x:t?window.pageXOffset:e?document.documentElement.scrollLeft:document.body.scrollLeft,y:t?window.pageYOffset:e?document.documentElement.scrollTop:document.body.scrollTop}}function l(t,e){return 100/(e-t)}function c(t,e){return 100*e/(t[1]-t[0])}function u(t,e){for(var n=1;t>=e[n];)n+=1;return n}function h(t,n,i){var r;if("number"==typeof n&&(n=[n]),"[object Array]"!==Object.prototype.toString.call(n))throw new Error("noUiSlider: 'range' contains invalid value.");if(!e(r="min"===t?0:"max"===t?100:parseFloat(t))||!e(n[0]))throw new Error("noUiSlider: 'range' value isn't numeric.");i.xPct.push(r),i.xVal.push(n[0]),r?i.xSteps.push(!isNaN(n[1])&&n[1]):isNaN(n[1])||(i.xSteps[0]=n[1])}function d(t,e,n){if(!e)return!0;n.xSteps[t]=c([n.xVal[t],n.xVal[t+1]],e)/l(n.xPct[t],n.xPct[t+1])}function p(t,e,n,i){this.xPct=[],this.xVal=[],this.xSteps=[i||!1],this.xNumSteps=[!1],this.snap=e,this.direction=n;var r,o=[];for(r in t)t.hasOwnProperty(r)&&o.push([t[r],r]);for(o.sort(o.length&&"object"==typeof o[0][0]?function(t,e){return t[0][0]-e[0][0]}:function(t,e){return t[0]-e[0]}),r=0;r<o.length;r++)h(o[r][1],o[r][0],this);for(this.xNumSteps=this.xSteps.slice(0),r=0;r<this.xNumSteps.length;r++)d(r,this.xNumSteps[r],this)}p.prototype.getMargin=function(t){return 2===this.xPct.length&&c(this.xVal,t)},p.prototype.toStepping=function(t){return t=function(t,e,n){if(n>=t.slice(-1)[0])return 100;var i,r,o=u(n,t);return r=e[o],(i=e[o-1])+function(t,e){return c(t,t[0]<0?e+Math.abs(t[0]):e-t[0])}([t[o-1],t[o]],n)/l(i,r)}(this.xVal,this.xPct,t),this.direction&&(t=100-t),t},p.prototype.fromStepping=function(t){return this.direction&&(t=100-t),function(t,e,n){if(n>=100)return t.slice(-1)[0];var i,r=u(n,e);return function(t,e){return e*(t[1]-t[0])/100+t[0]}([t[r-1],t[r]],(n-(i=e[r-1]))*l(i,e[r]))}(this.xVal,this.xPct,t)},p.prototype.getStep=function(t){return this.direction&&(t=100-t),t=function(t,e,n,i){if(100===i)return i;var r,o,s=u(i,t);return n?i-(r=t[s-1])>((o=t[s])-r)/2?o:r:e[s-1]?t[s-1]+function(t,e){return Math.round(t/e)*e}(i-t[s-1],e[s-1]):i}(this.xPct,this.xSteps,this.snap,t),this.direction&&(t=100-t),t},p.prototype.getApplicableStep=function(t){var e=u(t,this.xPct),n=100===t?2:1;return[this.xNumSteps[e-2],this.xVal[e-n],this.xNumSteps[e-n]]},p.prototype.convert=function(t){return this.getStep(this.toStepping(t))};var f={to:function(t){return void 0!==t&&t.toFixed(2)},from:Number};function m(t,n){if(!e(n))throw new Error("noUiSlider: 'step' is not numeric.");t.singleStep=n}function g(t,e){if("object"!=typeof e||Array.isArray(e))throw new Error("noUiSlider: 'range' is not an object.");if(void 0===e.min||void 0===e.max)throw new Error("noUiSlider: Missing 'min' or 'max' in 'range'.");if(e.min===e.max)throw new Error("noUiSlider: 'range' 'min' and 'max' cannot be equal.");t.spectrum=new p(e,t.snap,t.dir,t.singleStep)}function y(t,e){if(e=r(e),!Array.isArray(e)||!e.length||e.length>2)throw new Error("noUiSlider: 'start' option is incorrect.");t.handles=e.length,t.start=e}function _(t,e){if(t.snap=e,"boolean"!=typeof e)throw new Error("noUiSlider: 'snap' option must be a boolean.")}function v(t,e){if(t.animate=e,"boolean"!=typeof e)throw new Error("noUiSlider: 'animate' option must be a boolean.")}function b(t,e){if(t.animationDuration=e,"number"!=typeof e)throw new Error("noUiSlider: 'animationDuration' option must be a number.")}function w(t,e){if("lower"===e&&1===t.handles)t.connect=1;else if("upper"===e&&1===t.handles)t.connect=2;else if(!0===e&&2===t.handles)t.connect=3;else{if(!1!==e)throw new Error("noUiSlider: 'connect' option doesn't match handle count.");t.connect=0}}function C(t,e){switch(e){case"horizontal":t.ort=0;break;case"vertical":t.ort=1;break;default:throw new Error("noUiSlider: 'orientation' option is invalid.")}}function x(t,n){if(!e(n))throw new Error("noUiSlider: 'margin' option must be numeric.");if(0!==n&&(t.margin=t.spectrum.getMargin(n),!t.margin))throw new Error("noUiSlider: 'margin' option is only supported on linear sliders.")}function E(t,n){if(!e(n))throw new Error("noUiSlider: 'limit' option must be numeric.");if(t.limit=t.spectrum.getMargin(n),!t.limit)throw new Error("noUiSlider: 'limit' option is only supported on linear sliders.")}function S(t,e){switch(e){case"ltr":t.dir=0;break;case"rtl":t.dir=1,t.connect=[0,2,1,3][t.connect];break;default:throw new Error("noUiSlider: 'direction' option was not recognized.")}}function P(t,e){if("string"!=typeof e)throw new Error("noUiSlider: 'behaviour' must be a string containing options.");var n=e.indexOf("tap")>=0,i=e.indexOf("drag")>=0,r=e.indexOf("fixed")>=0,o=e.indexOf("snap")>=0,s=e.indexOf("hover")>=0;if(i&&!t.connect)throw new Error("noUiSlider: 'drag' behaviour must be used with 'connect': true.");t.events={tap:n||o,drag:i,fixed:r,snap:o,hover:s}}function O(t,e){var n;if(!1!==e)if(!0===e)for(t.tooltips=[],n=0;n<t.handles;n++)t.tooltips.push(!0);else{if(t.tooltips=r(e),t.tooltips.length!==t.handles)throw new Error("noUiSlider: must pass a formatter for all handles.");t.tooltips.forEach((function(t){if("boolean"!=typeof t&&("object"!=typeof t||"function"!=typeof t.to))throw new Error("noUiSlider: 'tooltips' must be passed a formatter or 'false'.")}))}}function k(t,e){if(t.format=e,"function"==typeof e.to&&"function"==typeof e.from)return!0;throw new Error("noUiSlider: 'format' requires 'to' and 'from' methods.")}function T(t,e){if(void 0!==e&&"string"!=typeof e&&!1!==e)throw new Error("noUiSlider: 'cssPrefix' must be a string or `false`.");t.cssPrefix=e}function I(t,e){if(void 0!==e&&"object"!=typeof e)throw new Error("noUiSlider: 'cssClasses' must be an object.");if("string"==typeof t.cssPrefix)for(var n in t.cssClasses={},e)e.hasOwnProperty(n)&&(t.cssClasses[n]=t.cssPrefix+e[n]);else t.cssClasses=e}function A(t){var e,n={margin:0,limit:0,animate:!0,animationDuration:300,format:f};e={step:{r:!1,t:m},start:{r:!0,t:y},connect:{r:!0,t:w},direction:{r:!0,t:S},snap:{r:!1,t:_},animate:{r:!1,t:v},animationDuration:{r:!1,t:b},range:{r:!0,t:g},orientation:{r:!1,t:C},margin:{r:!1,t:x},limit:{r:!1,t:E},behaviour:{r:!0,t:P},format:{r:!1,t:k},tooltips:{r:!1,t:O},cssPrefix:{r:!1,t:T},cssClasses:{r:!1,t:I}};var i={connect:!1,direction:"ltr",behaviour:"tap",orientation:"horizontal",cssPrefix:"noUi-",cssClasses:{target:"target",base:"base",origin:"origin",handle:"handle",handleLower:"handle-lower",handleUpper:"handle-upper",horizontal:"horizontal",vertical:"vertical",background:"background",connect:"connect",ltr:"ltr",rtl:"rtl",draggable:"draggable",drag:"state-drag",tap:"state-tap",active:"active",stacking:"stacking",tooltip:"tooltip",pips:"pips",pipsHorizontal:"pips-horizontal",pipsVertical:"pips-vertical",marker:"marker",markerHorizontal:"marker-horizontal",markerVertical:"marker-vertical",markerNormal:"marker-normal",markerLarge:"marker-large",markerSub:"marker-sub",value:"value",valueHorizontal:"value-horizontal",valueVertical:"value-vertical",valueNormal:"value-normal",valueLarge:"value-large",valueSub:"value-sub"}};return Object.keys(e).forEach((function(r){if(void 0===t[r]&&void 0===i[r]){if(e[r].r)throw new Error("noUiSlider: '"+r+"' is required.");return!0}e[r].t(n,void 0===t[r]?i[r]:t[r])})),n.pips=t.pips,n.style=n.ort?"top":"left",n}return{create:function(e,l){if(!e.nodeName)throw new Error("noUiSlider.create requires a single element.");var c=A(l),u=function(e,l,c){var u,h,d,p=window.navigator.pointerEnabled?{start:"pointerdown",move:"pointermove",end:"pointerup"}:window.navigator.msPointerEnabled?{start:"MSPointerDown",move:"MSPointerMove",end:"MSPointerUp"}:{start:"mousedown touchstart",move:"mousemove touchmove",end:"mouseup touchend"},f=e,m=[-1,-1],g=l.spectrum,y=[],_={};function v(t,e){var n=document.createElement("div"),i=document.createElement("div"),r=[l.cssClasses.handleLower,l.cssClasses.handleUpper];return t&&r.reverse(),o(i,l.cssClasses.handle),o(i,r[e]),o(n,l.cssClasses.origin),n.appendChild(i),n}function b(t,e){if(!l.tooltips[e])return!1;var n=document.createElement("div");return n.className=l.cssClasses.tooltip,t.firstChild.appendChild(n)}function w(t){var e=t.mode,n=t.density||1,i=t.filter||!1,r=function(t,e,n){if("range"===t||"steps"===t)return g.xVal;if("count"===t){var i,r=100/(e-1),o=0;for(e=[];(i=o++*r)<=100;)e.push(i);t="positions"}return"positions"===t?e.map((function(t){return g.fromStepping(n?g.getStep(t):t)})):"values"===t?n?e.map((function(t){return g.fromStepping(g.getStep(g.toStepping(t)))})):e:void 0}(e,t.values||!1,t.stepped||!1),s=function(t,e,n){var i,r=g.direction,o={},s=g.xVal[0],a=g.xVal[g.xVal.length-1],l=!1,c=!1,u=0;return g.direction=0,i=n.slice().sort((function(t,e){return t-e})),(n=i.filter((function(t){return!this[t]&&(this[t]=!0)}),{}))[0]!==s&&(n.unshift(s),l=!0),n[n.length-1]!==a&&(n.push(a),c=!0),n.forEach((function(i,r){var s,a,h,d,p,f,m,y,_=n[r+1];if("steps"===e&&(s=g.xNumSteps[r]),s||(s=_-i),!1!==i&&void 0!==_)for(a=i;a<=_;a=(a+s).toFixed(7)/1){for(y=(p=(d=g.toStepping(a))-u)/(m=Math.round(p/t)),h=1;h<=m;h+=1)o[(u+h*y).toFixed(5)]=["x",0];f=n.indexOf(a)>-1?1:"steps"===e?2:0,!r&&l&&(f=0),a===_&&c||(o[d.toFixed(5)]=[a,f]),u=d}})),g.direction=r,o}(n,e,r),a=t.format||{to:Math.round};return f.appendChild(function(t,e,n){var i=document.createElement("div"),r="",s=[l.cssClasses.valueNormal,l.cssClasses.valueLarge,l.cssClasses.valueSub],a=[l.cssClasses.markerNormal,l.cssClasses.markerLarge,l.cssClasses.markerSub],c=[l.cssClasses.valueHorizontal,l.cssClasses.valueVertical],u=[l.cssClasses.markerHorizontal,l.cssClasses.markerVertical];function h(t,e,n){return'class="'+function(t,e){var n=e===l.cssClasses.value;return e+" "+(n?c:u)[l.ort]+" "+(n?s:a)[t]}(n[1],e)+'" style="'+l.style+": "+t+'%"'}return o(i,l.cssClasses.pips),o(i,0===l.ort?l.cssClasses.pipsHorizontal:l.cssClasses.pipsVertical),Object.keys(t).forEach((function(i){!function(t,i){g.direction&&(t=100-t),i[1]=i[1]&&e?e(i[0],i[1]):i[1],r+="<div "+h(t,l.cssClasses.marker,i)+"></div>",i[1]&&(r+="<div "+h(t,l.cssClasses.value,i)+">"+n.to(i[0])+"</div>")}(i,t[i])})),i.innerHTML=r,i}(s,i,a))}function C(){var t=u.getBoundingClientRect(),e="offset"+["Width","Height"][l.ort];return 0===l.ort?t.width||u[e]:t.height||u[e]}function x(t,e,n){var i;for(i=0;i<l.handles;i++)if(-1===m[i])return;void 0!==e&&1!==l.handles&&(e=Math.abs(e-l.dir)),Object.keys(_).forEach((function(i){var o=i.split(".")[0];t===o&&_[i].forEach((function(t){t.call(d,r(F()),e,r(E(Array.prototype.slice.call(y))),n||!1,m)}))}))}function E(t){return 1===t.length?t[0]:l.dir?t.reverse():t}function S(t,e,n,i){var r=function(e){return!f.hasAttribute("disabled")&&(o=l.cssClasses.tap,!((r=f).classList?r.classList.contains(o):new RegExp("\\b"+o+"\\b").test(r.className))&&(e=function(t,e){t.preventDefault();var n,i,r=0===t.type.indexOf("touch"),o=0===t.type.indexOf("mouse"),s=0===t.type.indexOf("pointer"),l=t;return 0===t.type.indexOf("MSPointer")&&(s=!0),r&&(n=t.changedTouches[0].pageX,i=t.changedTouches[0].pageY),e=e||a(),(o||s)&&(n=t.clientX+e.x,i=t.clientY+e.y),l.pageOffset=e,l.points=[n,i],l.cursor=o||s,l}(e,i.pageOffset),!(t===p.start&&void 0!==e.buttons&&e.buttons>1)&&(!i.hover||!e.buttons)&&(e.calcPoint=e.points[l.ort],void n(e,i))));var r,o},o=[];return t.split(" ").forEach((function(t){e.addEventListener(t,r,!1),o.push([t,r])})),o}function P(t,e){if(-1===navigator.appVersion.indexOf("MSIE 9")&&0===t.buttons&&0!==e.buttonsProperty)return O(t,e);var n,r,o,s,a,l,c=e.handles||h,u=!1,d=c[0]===h[0]?0:1;if(a=(o=100*(t.calcPoint-e.start)/e.baseSize)+(s=e.positions)[0],l=o+s[1],n=c.length>1?(a<0&&(l+=Math.abs(a)),l>100&&(a-=l-100),[i(a),i(l)]):[a,l],u=D(c[0],n[d],1===c.length),c.length>1){if(u=D(c[1],n[d?0:1],!1)||u)for(r=0;r<e.handles.length;r++)x("slide",r)}else u&&x("slide",d)}function O(t,e){var n=u.querySelector("."+l.cssClasses.active),i=e.handles[0]===h[0]?0:1;null!==n&&s(n,l.cssClasses.active),t.cursor&&(document.body.style.cursor="",document.body.removeEventListener("selectstart",document.body.noUiListener));var r=document.documentElement;r.noUiListeners.forEach((function(t){r.removeEventListener(t[0],t[1])})),s(f,l.cssClasses.drag),x("set",i),x("change",i),void 0!==e.handleNumber&&x("end",e.handleNumber)}function k(t,e){"mouseout"===t.type&&"HTML"===t.target.nodeName&&null===t.relatedTarget&&O(t,e)}function T(t,e){var n=document.documentElement;if(1===e.handles.length){if(e.handles[0].hasAttribute("disabled"))return!1;o(e.handles[0].children[0],l.cssClasses.active)}t.preventDefault(),t.stopPropagation();var i=S(p.move,n,P,{start:t.calcPoint,baseSize:C(),pageOffset:t.pageOffset,handles:e.handles,handleNumber:e.handleNumber,buttonsProperty:t.buttons,positions:[m[0],m[h.length-1]]}),r=S(p.end,n,O,{handles:e.handles,handleNumber:e.handleNumber}),s=S("mouseout",n,k,{handles:e.handles,handleNumber:e.handleNumber});if(n.noUiListeners=i.concat(r,s),t.cursor){document.body.style.cursor=getComputedStyle(t.target).cursor,h.length>1&&o(f,l.cssClasses.drag);var a=function(){return!1};document.body.noUiListener=a,document.body.addEventListener("selectstart",a,!1)}void 0!==e.handleNumber&&x("start",e.handleNumber)}function I(e){var i,r,o=e.calcPoint,s=0;if(e.stopPropagation(),h.forEach((function(e){s+=t(e)[l.style]})),h[i=o<s/2||1===h.length?0:1].hasAttribute("disabled")&&(i=i?0:1),r=100*(o-=t(u)[l.style])/C(),l.events.snap||n(f,l.cssClasses.tap,l.animationDuration),h[i].hasAttribute("disabled"))return!1;D(h[i],r),x("slide",i,!0),x("set",i,!0),x("change",i,!0),l.events.snap&&T(e,{handles:[h[i]]})}function M(e){var n=e.calcPoint-t(u)[l.style],i=g.getStep(100*n/C()),r=g.fromStepping(i);Object.keys(_).forEach((function(t){"hover"===t.split(".")[0]&&_[t].forEach((function(t){t.call(d,r)}))}))}function D(t,e,n){var r=t!==h[0]?1:0,a=m[1]-l.margin,c=m[0]+l.limit,u=m[1]-l.limit;return h.length>1&&(e=r?Math.max(e,m[0]+l.margin):Math.min(e,a)),!1!==n&&l.limit&&h.length>1&&(e=r?Math.min(e,c):Math.max(e,u)),(e=i(e=g.getStep(e)))!==m[r]&&(window.requestAnimationFrame?window.requestAnimationFrame((function(){t.style[l.style]=e+"%"})):t.style[l.style]=e+"%",t.previousSibling||(s(t,l.cssClasses.stacking),e>50&&o(t,l.cssClasses.stacking)),m[r]=e,y[r]=g.fromStepping(e),x("update",r),!0)}function R(t,e){var i,o,s=r(t);for(e=void 0===e||!!e,l.dir&&l.handles>1&&s.reverse(),l.animate&&-1!==m[0]&&n(f,l.cssClasses.tap,l.animationDuration),i=h.length>1?3:1,1===s.length&&(i=1),function(t,e){var n,i,r;for(l.limit&&(t+=1),n=0;n<t;n+=1)null!==(r=e[i=n%2])&&!1!==r&&("number"==typeof r&&(r=String(r)),(!1===(r=l.format.from(r))||isNaN(r)||!1===D(h[i],g.toStepping(r),n===3-l.dir))&&x("update",i))}(i,s),o=0;o<h.length;o++)null!==s[o]&&e&&x("set",o)}function F(){var t,e=[];for(t=0;t<l.handles;t+=1)e[t]=l.format.to(y[t]);return E(e)}function L(t,e){_[t]=_[t]||[],_[t].push(e),"update"===t.split(".")[0]&&h.forEach((function(t,e){x("update",e)}))}if(f.noUiSlider)throw new Error("Slider was already initialized.");return u=function(t,e,n){o(n,l.cssClasses.target),o(n,0===t?l.cssClasses.ltr:l.cssClasses.rtl),o(n,0===e?l.cssClasses.horizontal:l.cssClasses.vertical);var i=document.createElement("div");return o(i,l.cssClasses.base),n.appendChild(i),i}(l.dir,l.ort,f),h=function(t,e,n){var i,r=[];for(i=0;i<t;i+=1)r.push(n.appendChild(v(e,i)));return r}(l.handles,l.dir,u),function(t,e,n){switch(t){case 1:o(e,l.cssClasses.connect),o(n[0],l.cssClasses.background);break;case 3:o(n[1],l.cssClasses.background);case 2:o(n[0],l.cssClasses.connect);case 0:o(e,l.cssClasses.background)}}(l.connect,f,h),l.pips&&w(l.pips),l.tooltips&&function(){l.dir&&l.tooltips.reverse();var t=h.map(b);l.dir&&(t.reverse(),l.tooltips.reverse()),L("update",(function(e,n,i){t[n]&&(t[n].innerHTML=!0===l.tooltips[n]?e[n]:l.tooltips[n].to(i[n]))}))}(),d={destroy:function(){for(var t in l.cssClasses)l.cssClasses.hasOwnProperty(t)&&s(f,l.cssClasses[t]);for(;f.firstChild;)f.removeChild(f.firstChild);delete f.noUiSlider},steps:function(){return E(m.map((function(t,e){var n,i=g.getApplicableStep(t),r=(n=String(i[2]).split(".")).length>1?n[1].length:0,o=100===t?null:i[2],s=Number((y[e]-i[2]).toFixed(r));return[0===t?null:s>=i[1]?i[2]:i[0]||!1,o]})))},on:L,off:function(t){var e=t&&t.split(".")[0],n=e&&t.substring(e.length);Object.keys(_).forEach((function(t){var i=t.split(".")[0],r=t.substring(i.length);e&&e!==i||n&&n!==r||delete _[t]}))},get:F,set:R,updateOptions:function(t,e){var n=F(),i=A({start:[0,0],margin:t.margin,limit:t.limit,step:void 0===t.step?l.singleStep:t.step,range:t.range,animate:t.animate,snap:void 0===t.snap?l.snap:t.snap});["margin","limit","range","animate"].forEach((function(e){void 0!==t[e]&&(l[e]=t[e])})),i.spectrum.direction=g.direction,g=i.spectrum,m=[-1,-1],R(t.start||n,e)},options:c,target:f,pips:w},function(t){if(t.fixed||h.forEach((function(t,e){S(p.start,t.children[0],T,{handles:[t],handleNumber:e})})),t.tap&&S(p.start,u,I,{handles:h}),t.hover&&S(p.move,u,M,{hover:!0}),t.drag){var e=[u.querySelector("."+l.cssClasses.connect)];o(e[0],l.cssClasses.draggable),t.fixed&&e.push(h[e[0]===h[0]?1:0].children[0]),e.forEach((function(t){S(p.start,t,T,{handles:h})}))}}(l.events),d}(e,c,l);return u.set(c.start),e.noUiSlider=u,u}}})?i.apply(e,[]):i)||(t.exports=r)},"6sVZ":function(t,e){var n=Object.prototype;t.exports=function(t){var e=t&&t.constructor;return t===("function"==typeof e&&e.prototype||n)}},"711d":function(t,e){t.exports=function(t){return function(e){return null==e?void 0:e[t]}}},"77Zs":function(t,e,n){var i=n("Xi7e");t.exports=function(){this.__data__=new i,this.size=0}},"7GkX":function(t,e,n){var i=n("b80T"),r=n("A90E"),o=n("MMmD");t.exports=function(t){return o(t)?i(t):r(t)}},"7Ix3":function(t,e){t.exports=function(t){var e=[];if(null!=t)for(var n in Object(t))e.push(n);return e}},"7fqy":function(t,e){t.exports=function(t){var e=-1,n=Array(t.size);return t.forEach((function(t,i){n[++e]=[i,t]})),n}},"88Gu":function(t,e){var n=Date.now;t.exports=function(t){var e=0,i=0;return function(){var r=n(),o=16-(r-i);if(i=r,o>0){if(++e>=800)return arguments[0]}else e=0;return t.apply(void 0,arguments)}}},"9Nap":function(t,e,n){var i=n("/9aa");t.exports=function(t){if("string"==typeof t||i(t))return t;var e=t+"";return"0"==e&&1/t==-1/0?"-0":e}},"9e1Q":function(t){t.exports=JSON.parse('{"value":"<?xml version=\\"1.0\\" encoding=\\"utf-8\\"?><svg xmlns=\\"http://www.w3.org/2000/svg\\" xmlns:xlink=\\"http://www.w3.org/1999/xlink\\"><symbol id=\\"au-all-caps\\" width=\\"24\\" height=\\"24\\" viewBox=\\"0 0 24 24\\" fill=\\"none\\" xmlns=\\"http://www.w3.org/2000/svg\\">\\n<path opacity=\\"0.5\\" d=\\"M0 0H24V24H0V0Z\\" fill=\\"transparent\\"/>\\n<path fill-rule=\\"evenodd\\" clip-rule=\\"evenodd\\" d=\\"M0 5C0 4.44772 0.447715 4 1 4H11C11.5523 4 12 4.44772 12 5V7C12 7.55228 11.5523 8 11 8C10.4477 8 10 7.55228 10 7V6H7V18H8C8.55228 18 9 18.4477 9 19C9 19.5523 8.55228 20 8 20H4C3.44772 20 3 19.5523 3 19C3 18.4477 3.44772 18 4 18H5V6H2V7C2 7.55228 1.55228 8 1 8C0.447715 8 0 7.55228 0 7V5Z\\" fill=\\"#000000\\"/>\\n<path fill-rule=\\"evenodd\\" clip-rule=\\"evenodd\\" d=\\"M17 6H14V4H23C23.5523 4 24 4.44772 24 5V7C24 7.55228 23.5523 8 23 8C22.4477 8 22 7.55228 22 7V6H19V18H20C20.5523 18 21 18.4477 21 19C21 19.5523 20.5523 20 20 20H16C15.4477 20 15 19.5523 15 19C15 18.4477 15.4477 18 16 18H17V6Z\\" fill=\\"#000000\\"/>\\n</symbol>\\n<symbol id=\\"au-horizontal-file-active\\" width=\\"24\\" height=\\"24\\" viewBox=\\"0 0 24 24\\" fill=\\"none\\" xmlns=\\"http://www.w3.org/2000/svg\\">\\n<path d=\\"M21 11L15 11L15 5\\" stroke=\\"#1FB6FF\\" stroke-width=\\"1.5\\" stroke-linecap=\\"round\\" stroke-linejoin=\\"round\\"/>\\n<path d=\\"M21 11L15 5L3 5L3 19L21 19L21 11Z\\" stroke=\\"#1FB6FF\\" stroke-width=\\"1.5\\" stroke-linecap=\\"round\\" stroke-linejoin=\\"round\\"/>\\n</symbol>\\n<symbol id=\\"au-horizontal-file\\" width=\\"24\\" height=\\"24\\" viewBox=\\"0 0 24 24\\" fill=\\"none\\" xmlns=\\"http://www.w3.org/2000/svg\\">\\n<path d=\\"M21 11L15 11L15 5\\" stroke=\\"black\\" stroke-width=\\"1.5\\" stroke-linecap=\\"round\\" stroke-linejoin=\\"round\\"/>\\n<path d=\\"M21 11L15 5L3 5L3 19L21 19L21 11Z\\" stroke=\\"black\\" stroke-width=\\"1.5\\" stroke-linecap=\\"round\\" stroke-linejoin=\\"round\\"/>\\n</symbol>\\n<symbol id=\\"au-icon-bar\\" width=\\"24\\" height=\\"24\\" viewBox=\\"0 0 24 24\\" fill=\\"none\\" xmlns=\\"http://www.w3.org/2000/svg\\">\\n  <rect x=\\"4\\" y=\\"4\\" width=\\"6\\" height=\\"6\\" stroke-width=\\"2\\"/>\\n  <rect x=\\"6.5\\" y=\\"6.5\\" width=\\"1\\" height=\\"1\\"/>\\n  <rect x=\\"4\\" y=\\"14\\" width=\\"6\\" height=\\"6\\" stroke-width=\\"2\\"/>\\n  <rect x=\\"6.5\\" y=\\"16.5\\" width=\\"1\\" height=\\"1\\"/>\\n  <rect x=\\"14\\" y=\\"4\\" width=\\"6\\" height=\\"6\\" stroke-width=\\"2\\"/>\\n  <rect x=\\"16.5\\" y=\\"6.5\\" width=\\"1\\" height=\\"1\\"/>\\n  <path d=\\"M20 13V17H17V14H14V21\\" stroke-width=\\"2\\"/>\\n  <rect x=\\"19.5\\" y=\\"19.5\\" width=\\"1\\" height=\\"1\\"/>\\n  <rect x=\\"16.5\\" y=\\"19.5\\" width=\\"1\\" height=\\"1\\"/>\\n</symbol>\\n<symbol id=\\"au-icon-bold\\" width=\\"24\\" height=\\"24\\" viewBox=\\"0 0 24 24\\" fill=\\"none\\" xmlns=\\"http://www.w3.org/2000/svg\\">\\n<path d=\\"M13 12C15.2091 12 17 10.2091 17 8C17 5.79086 15.2091 4 13 4H6V12M13 12H14C16.2091 12 18 13.7909 18 16C18 18.2091 16.2091 20 14 20H6V12M13 12H6\\" stroke=\\"black\\" stroke-width=\\"1.5\\" stroke-linecap=\\"round\\" stroke-linejoin=\\"round\\"/>\\n</symbol>\\n<symbol id=\\"au-icon-center\\" width=\\"24\\" height=\\"24\\" viewBox=\\"0 0 24 24\\" fill=\\"none\\" xmlns=\\"http://www.w3.org/2000/svg\\">\\n  <path d=\\"M0 0H24V24H0V0Z\\" fill=\\"white\\"/>\\n  <path d=\\"M20 12H4M12 8V2M12 8L9 5M12 8L15 5M12 16V22M12 16L9 19M12 16L15 19\\" stroke-width=\\"2\\" stroke-linecap=\\"round\\" stroke-linejoin=\\"round\\"/>\\n</symbol>\\n<symbol id=\\"au-icon-down\\" width=\\"24\\" height=\\"24\\" viewBox=\\"0 0 24 24\\" fill=\\"none\\" xmlns=\\"http://www.w3.org/2000/svg\\">\\n  <path d=\\"M0 24H24V0H0V24Z\\" fill=\\"white\\"/>\\n  <path d=\\"M20 19H4M12 15V5M12 15L9 12M12 15L15 12\\" stroke-width=\\"2\\" stroke-linecap=\\"round\\" stroke-linejoin=\\"round\\"/>\\n</symbol>\\n<symbol id=\\"au-icon-drop\\" width=\\"24\\" height=\\"24\\" viewBox=\\"0 0 24 24\\" fill=\\"none\\" xmlns=\\"http://www.w3.org/2000/svg\\">\\n<path fill-rule=\\"evenodd\\" clip-rule=\\"evenodd\\" d=\\"M14.5858 10C15.4767 10 15.9229 11.0771 15.2929 11.7071L12.7071 14.2929C12.3166 14.6834 11.6834 14.6834 11.2929 14.2929L8.7071 11.7071C8.07714 11.0771 8.52331 10 9.41421 10L14.5858 10Z\\" fill=\\"#777777\\"/>\\n</symbol>\\n<symbol id=\\"au-icon-gorisontal\\" width=\\"32\\" height=\\"32\\" viewBox=\\"0 0 32 32\\" fill=\\"none\\" xmlns=\\"http://www.w3.org/2000/svg\\">\\n<rect width=\\"32\\" height=\\"32\\" rx=\\"2\\" fill=\\"white\\"/>\\n<rect x=\\"4\\" y=\\"4\\" width=\\"24\\" height=\\"24\\" fill=\\"white\\"/>\\n<path d=\\"M25 23L25 13.4142L20.5858 9L7 9L7 23L25 23Z\\" stroke=\\"#555555\\" stroke-width=\\"2\\"/>\\n<path d=\\"M25 14L21 14C20.4477 14 20 13.5523 20 13L20 9\\" stroke=\\"#555555\\" stroke-width=\\"2\\"/>\\n</symbol>\\n<symbol id=\\"au-icon-group\\" width=\\"16\\" height=\\"16\\" viewBox=\\"0 0 16 16\\" fill=\\"none\\" xmlns=\\"http://www.w3.org/2000/svg\\">\\n<path d=\\"M5 12.5H3.5V11M5 3.5H3.5V5M11 12.5H12.5V11M11 3.5H12.5V5M9 3.5H7M3.5 7V9M7 12.5H9M12.5 9V7\\" stroke=\\"#777777\\"/>\\n</symbol>\\n<symbol id=\\"au-icon-hidden\\" width=\\"16\\" height=\\"32\\" viewBox=\\"0 0 16 32\\" fill=\\"none\\" xmlns=\\"http://www.w3.org/2000/svg\\">\\n<path d=\\"M14.5 16C14.0496 16.6005 13.5541 17.156 13 17.6393M1.5 16C1.95041 16.6005 2.44589 17.156 3 17.6393M10 19.2531C9.38665 19.413 8.72231 19.5 8 19.5C7.27769 19.5 6.61335 19.413 6 19.2531M10 19.2531L10.5 21.5M10 19.2531C11.1692 18.9482 12.1531 18.378 13 17.6393M6 19.2531L5.5 21.5M6 19.2531C4.83083 18.9482 3.84694 18.378 3 17.6393M13 17.6393L14.5 19.5M3 17.6393L1.5 19.5\\" stroke=\\"#999999\\"/>\\n</symbol>\\n<symbol id=\\"au-icon-horizontal\\" width=\\"24\\" height=\\"24\\" viewBox=\\"0 0 24 24\\" fill=\\"none\\" xmlns=\\"http://www.w3.org/2000/svg\\">\\n  <rect width=\\"24\\" height=\\"24\\" fill=\\"none\\"/>\\n  <path d=\\"M21 19L21 9.41421L16.5858 5L3 5L3 19L21 19Z\\" stroke-width=\\"2\\"/>\\n  <path d=\\"M21 10L17 10C16.4477 10 16 9.55228 16 9L16 5\\" stroke-width=\\"2\\"/>\\n</symbol>\\n<symbol id=\\"au-icon-image\\" width=\\"24\\" height=\\"24\\" viewBox=\\"0 0 24 24\\" fill=\\"none\\" xmlns=\\"http://www.w3.org/2000/svg\\">\\n  <rect x=\\"4\\" y=\\"4\\" width=\\"16\\" height=\\"16\\" stroke-width=\\"2\\"/>\\n  <rect x=\\"14\\" y=\\"8\\" width=\\"2\\" height=\\"2\\" rx=\\"1\\" stroke-width=\\"2\\"/>\\n  <path d=\\"M18 20L9 11L4 16\\" stroke-width=\\"2\\"/>\\n</symbol>\\n<symbol id=\\"au-icon-italic\\" width=\\"24\\" height=\\"24\\" viewBox=\\"0 0 24 24\\" fill=\\"none\\" xmlns=\\"http://www.w3.org/2000/svg\\">\\n<path d=\\"M10 20L14 4M10 20H7M10 20H13M14 4H17M14 4H11\\" stroke=\\"black\\" stroke-width=\\"1.5\\" stroke-linecap=\\"round\\" stroke-linejoin=\\"round\\"/>\\n</symbol>\\n<?xml version=\\"1.0\\" encoding=\\"UTF-8\\" standalone=\\"no\\"?>\\n\\n<symbol id=\\"au-icon-layers\\"\\n   xmlns:dc=\\"http://purl.org/dc/elements/1.1/\\"\\n   xmlns:cc=\\"http://creativecommons.org/ns#\\"\\n   xmlns:rdf=\\"http://www.w3.org/1999/02/22-rdf-syntax-ns#\\"\\n   xmlns:svg=\\"http://www.w3.org/2000/svg\\"\\n   xmlns=\\"http://www.w3.org/2000/svg\\"\\n   xmlns:sodipodi=\\"http://sodipodi.sourceforge.net/DTD/sodipodi-0.dtd\\"\\n   xmlns:inkscape=\\"http://www.inkscape.org/namespaces/inkscape\\"\\n   width=\\"24\\"\\n   height=\\"24\\"\\n   viewBox=\\"0 0 24 24\\"\\n   version=\\"1.1\\"\\n   id=\\"SVGRoot\\"\\n   inkscape:version=\\"0.92.4 (fd57863, 2020-04-02)\\"\\n   sodipodi:docname=\\"au-icon-layers.svg\\">\\n  <defs\\n     id=\\"defs51\\" />\\n  <sodipodi:namedview\\n     id=\\"base\\"\\n     pagecolor=\\"#ffffff\\"\\n     bordercolor=\\"#666666\\"\\n     borderopacity=\\"1.0\\"\\n     inkscape:pageopacity=\\"0.0\\"\\n     inkscape:pageshadow=\\"2\\"\\n     inkscape:zoom=\\"21.024844\\"\\n     inkscape:cx=\\"-0.13177061\\"\\n     inkscape:cy=\\"6.5505104\\"\\n     inkscape:document-units=\\"px\\"\\n     inkscape:current-layer=\\"layer1\\"\\n     showgrid=\\"true\\"\\n     inkscape:window-width=\\"1853\\"\\n     inkscape:window-height=\\"1029\\"\\n     inkscape:window-x=\\"67\\"\\n     inkscape:window-y=\\"27\\"\\n     inkscape:window-maximized=\\"1\\"\\n     inkscape:grid-bbox=\\"true\\">\\n    <inkscape:grid\\n       type=\\"xygrid\\"\\n       id=\\"grid94\\" />\\n  </sodipodi:namedview>\\n  <metadata\\n     id=\\"metadata54\\">\\n    <rdf:RDF>\\n      <cc:Work\\n         rdf:about=\\"\\">\\n        <dc:format>image/svg+xml</dc:format>\\n        <dc:type\\n           rdf:resource=\\"http://purl.org/dc/dcmitype/StillImage\\" />\\n        <dc:title></dc:title>\\n      </cc:Work>\\n    </rdf:RDF>\\n  </metadata>\\n  <g\\n     inkscape:label=\\"Layer 1\\"\\n     inkscape:groupmode=\\"layer\\"\\n     id=\\"layer1\\"\\n     transform=\\"translate(0,4)\\">\\n    <g\\n       style=\\"fill:none\\"\\n       id=\\"g21\\"\\n       transform=\\"translate(0.85717,11.14286)\\">\\n      <path\\n         id=\\"path10\\"\\n         d=\\"M 1,1 11,6 21,1\\"\\n         inkscape:connector-curvature=\\"0\\"\\n         style=\\"stroke-width:2;stroke-linecap:round;stroke-linejoin:round\\" />\\n    </g>\\n    <g\\n       style=\\"fill:none\\"\\n       id=\\"g34\\"\\n       transform=\\"translate(0.85717,7.14286)\\">\\n      <path\\n         id=\\"path23\\"\\n         d=\\"M 1,1 11,6 21,1\\"\\n         inkscape:connector-curvature=\\"0\\"\\n         style=\\"stroke-width:2;stroke-linecap:round;stroke-linejoin:round\\" />\\n    </g>\\n    <g\\n       style=\\"fill:none\\"\\n       id=\\"g47\\"\\n       transform=\\"translate(1,-2)\\">\\n      <path\\n         id=\\"path36\\"\\n         d=\\"M 11,1 1,6 11,11 21,6 Z\\"\\n         inkscape:connector-curvature=\\"0\\"\\n         style=\\"stroke-width:2;stroke-linecap:round;stroke-linejoin:round\\" />\\n    </g>\\n  </g>\\n</symbol>\\n<symbol id=\\"au-icon-leading\\" width=\\"24\\" height=\\"24\\" viewBox=\\"0 0 24 24\\" fill=\\"none\\" xmlns=\\"http://www.w3.org/2000/svg\\">\\n<path d=\\"M22 4.50001L12 4.50001M22 14.5L12 14.5M18 9.50001L12 9.50001M18 19.5L12 19.5M4.99994 3L4.99994 21M4.99994 3L2.49994 5.5M4.99994 3L7.49994 5.5M4.99994 21L2.49994 18.5M4.99994 21L7.49994 18.5\\" stroke=\\"black\\" stroke-width=\\"1.5\\" stroke-linecap=\\"round\\" stroke-linejoin=\\"round\\"/>\\n</symbol>\\n<symbol id=\\"au-icon-line\\" width=\\"24\\" height=\\"24\\" viewBox=\\"0 0 24 24\\" fill=\\"none\\" xmlns=\\"http://www.w3.org/2000/svg\\">\\n  <path d=\\"M21 3L3 21\\" stroke-width=\\"2\\"/>\\n</symbol>\\n<symbol id=\\"au-icon-list\\" width=\\"24\\" height=\\"24\\" viewBox=\\"0 0 24 24\\" fill=\\"none\\" xmlns=\\"http://www.w3.org/2000/svg\\">\\n<path d=\\"M8.32466 6.3317H21.0609\\" stroke=\\"black\\" stroke-width=\\"1.5\\" stroke-linecap=\\"round\\" stroke-linejoin=\\"round\\"/>\\n<path d=\\"M8.32466 12.2211H21.0609\\" stroke=\\"black\\" stroke-width=\\"1.5\\" stroke-linecap=\\"round\\" stroke-linejoin=\\"round\\"/>\\n<path d=\\"M8.32466 18.1106H21.0609\\" stroke=\\"black\\" stroke-width=\\"1.5\\" stroke-linecap=\\"round\\" stroke-linejoin=\\"round\\"/>\\n<path d=\\"M3.42612 6.3317H3.43612\\" stroke=\\"black\\" stroke-width=\\"2\\" stroke-linecap=\\"round\\" stroke-linejoin=\\"round\\"/>\\n<path d=\\"M3.42612 12.2211H3.43612\\" stroke=\\"black\\" stroke-width=\\"2\\" stroke-linecap=\\"round\\" stroke-linejoin=\\"round\\"/>\\n<path d=\\"M3.42612 18.1106H3.43612\\" stroke=\\"black\\" stroke-width=\\"2\\" stroke-linecap=\\"round\\" stroke-linejoin=\\"round\\"/>\\n</symbol>\\n<symbol id=\\"au-icon-lock\\" width=\\"24\\" height=\\"24\\" viewBox=\\"0 0 24 24\\" fill=\\"none\\" xmlns=\\"http://www.w3.org/2000/svg\\">\\n<rect width=\\"24\\" height=\\"24\\" fill=\\"white\\"/>\\n<path d=\\"M16.6667 11H7.33333C6.59695 11 6 11.597 6 12.3333V17.6667C6 18.403 6.59695 19 7.33333 19H16.6667C17.403 19 18 18.403 18 17.6667V12.3333C18 11.597 17.403 11 16.6667 11Z\\" fill=\\"#1FB6FF\\"/>\\n<path d=\\"M9 11V8.77778C9 8.04107 9.31607 7.33453 9.87868 6.81359C10.4413 6.29266 11.2044 6 12 6C12.7956 6 13.5587 6.29266 14.1213 6.81359C14.6839 7.33453 15 8.04107 15 8.77778V11\\" stroke=\\"#1FB6FF\\" stroke-width=\\"2\\" stroke-linecap=\\"round\\" stroke-linejoin=\\"round\\"/>\\n</symbol>\\n<symbol id=\\"au-icon-locked\\" width=\\"16\\" height=\\"32\\" viewBox=\\"0 0 16 32\\" fill=\\"none\\" xmlns=\\"http://www.w3.org/2000/svg\\">\\n<rect x=\\"4\\" y=\\"15\\" width=\\"7\\" height=\\"6\\" fill=\\"#777777\\"/>\\n<path d=\\"M5.5 16V14C5.5 12 6.5 11.5 7.5 11.5C8.5 11.5 9.5 12 9.5 14V15\\" stroke=\\"#777777\\"/>\\n</symbol>\\n<symbol id=\\"au-icon-pages\\" width=\\"20\\" height=\\"20\\" viewBox=\\"0 0 20 20\\" fill=\\"none\\" xmlns=\\"http://www.w3.org/2000/svg\\">\\n<rect x=\\"1\\" y=\\"12\\" width=\\"7\\" height=\\"7\\" rx=\\"1\\"  stroke-width=\\"2\\"/>\\n<rect x=\\"12\\" y=\\"12\\" width=\\"7\\" height=\\"7\\" rx=\\"1\\"  stroke-width=\\"2\\"/>\\n<rect x=\\"1\\" y=\\"1\\" width=\\"7\\" height=\\"7\\" rx=\\"1\\"  stroke-width=\\"2\\"/>\\n<rect x=\\"12\\" y=\\"1\\" width=\\"7\\" height=\\"7\\" rx=\\"1\\"  stroke-width=\\"2\\"/>\\n</symbol>\\n<symbol id=\\"au-icon-plus\\" width=\\"25\\" height=\\"25\\" viewBox=\\"0 0 25 25\\" fill=\\"none\\" xmlns=\\"http://www.w3.org/2000/svg\\">\\n  <path d=\\"M12.2402 5.91553V19.9155\\" stroke-width=\\"2\\" stroke-linecap=\\"round\\" stroke-linejoin=\\"round\\"/>\\n  <path d=\\"M5.24023 12.9155H19.2402\\" stroke-width=\\"2\\" stroke-linecap=\\"round\\" stroke-linejoin=\\"round\\"/>\\n</symbol>\\n<symbol id=\\"au-icon-points\\" width=\\"24\\" height=\\"24\\" viewBox=\\"0 0 24 24\\" fill=\\"none\\" xmlns=\\"http://www.w3.org/2000/svg\\">\\n<rect width=\\"24\\" height=\\"24\\"/>\\n<circle cx=\\"12\\" cy=\\"12\\" r=\\"2\\" transform=\\"rotate(-90 12 12)\\" fill=\\"#000000\\"/>\\n<circle cx=\\"5\\" cy=\\"12\\" r=\\"2\\" transform=\\"rotate(-90 5 12)\\" fill=\\"#000000\\"/>\\n<circle cx=\\"19\\" cy=\\"12\\" r=\\"2\\" transform=\\"rotate(-90 19 12)\\" fill=\\"#000000\\"/>\\n</symbol>\\n<symbol id=\\"au-icon-rectangle-sm\\" width=\\"16\\" height=\\"16\\" viewBox=\\"0 0 16 16\\" fill=\\"none\\" xmlns=\\"http://www.w3.org/2000/svg\\">\\n<rect x=\\"3.5\\" y=\\"3.5\\" width=\\"9\\" height=\\"9\\" stroke=\\"#777777\\"/>\\n</symbol>\\n<symbol id=\\"au-icon-redo\\" width=\\"24\\" height=\\"24\\" viewBox=\\"0 0 24 24\\" fill=\\"none\\" xmlns=\\"http://www.w3.org/2000/svg\\">\\n<path d=\\"M18.4 10.6C16.55 8.99 14.15 8 11.5 8C6.85004 8 2.92004 11.03 1.54004 15.22L3.90004 16C4.95004 12.81 7.95004 10.5 11.5 10.5C13.45 10.5 15.23 11.22 16.62 12.38L13 16H22V7L18.4 10.6Z\\" fill=\\"#777777\\"/>\\n</symbol>\\n<symbol id=\\"au-icon-round\\" width=\\"24\\" height=\\"24\\" viewBox=\\"0 0 24 24\\" fill=\\"none\\" xmlns=\\"http://www.w3.org/2000/svg\\">\\n  <rect x=\\"4\\" y=\\"4\\" width=\\"16\\" height=\\"16\\" rx=\\"8\\" stroke-width=\\"2\\"/>\\n</symbol>\\n<symbol id=\\"au-icon-selection\\" width=\\"24\\" height=\\"24\\" viewBox=\\"0 0 24 24\\" fill=\\"none\\" xmlns=\\"http://www.w3.org/2000/svg\\">\\n  <path d=\\"M6.72984 19.2963L4.30924 4.77265L18.026 11.631L6.72984 19.2963Z\\" stroke-width=\\"2\\"/>\\n</symbol>\\n<symbol id=\\"au-icon-square\\" width=\\"24\\" height=\\"24\\" viewBox=\\"0 0 24 24\\" fill=\\"none\\" xmlns=\\"http://www.w3.org/2000/svg\\">\\n  <rect x=\\"4\\" y=\\"4\\" width=\\"16\\" height=\\"16\\" stroke-width=\\"2\\"/>\\n</symbol>\\n<symbol id=\\"au-icon-text-sm\\" width=\\"16\\" height=\\"16\\" viewBox=\\"0 0 16 16\\" fill=\\"none\\" xmlns=\\"http://www.w3.org/2000/svg\\">\\n<path d=\\"M3.5 6V3.5H8M12.5 6V3.5H8M8 3.5V12.5M8 12.5H5.5M8 12.5H10.5\\" stroke=\\"#777777\\"/>\\n</symbol>\\n<symbol id=\\"au-icon-text\\" width=\\"24\\" height=\\"24\\" viewBox=\\"0 0 24 24\\" fill=\\"none\\" xmlns=\\"http://www.w3.org/2000/svg\\">\\n  <path d=\\"M6 8.76923V5H12M18 8.76923V5H12M12 5V19M12 19H8.72727M12 19H15.2727\\" stroke-width=\\"2\\"/>\\n</symbol>\\n<symbol id=\\"au-icon-tracking\\" width=\\"24\\" height=\\"24\\" viewBox=\\"0 0 24 24\\" fill=\\"none\\" xmlns=\\"http://www.w3.org/2000/svg\\">\\n<path d=\\"M2 19.5001H22M2 19.5001L4.5 17.0001M2 19.5001L4.5 22.0001M22 19.5001L19.5 22.0001M22 19.5001L19.5 17.0001M20 13.0001L19.2727 11.0001M19.2727 11.0001L16 2.0001L12.7273 11.0001M19.2727 11.0001H12.7273M12.7273 11.0001L12 13.0001M3 2.0001L7 13.0001L11 2.0001\\" stroke=\\"black\\" stroke-width=\\"1.5\\" stroke-linecap=\\"round\\" stroke-linejoin=\\"round\\"/>\\n</symbol>\\n<symbol id=\\"au-icon-underline\\" width=\\"24\\" height=\\"24\\" viewBox=\\"0 0 24 24\\" fill=\\"none\\" xmlns=\\"http://www.w3.org/2000/svg\\">\\n<path d=\\"M6 3V11C6 14.3137 8.68629 17 12 17C15.3137 17 18 14.3137 18 11V3M5 21H19\\" stroke=\\"black\\" stroke-width=\\"1.5\\" stroke-linecap=\\"round\\" stroke-linejoin=\\"round\\"/>\\n</symbol>\\n<symbol id=\\"au-icon-undo\\" width=\\"24\\" height=\\"24\\" viewBox=\\"0 0 24 24\\" fill=\\"none\\" xmlns=\\"http://www.w3.org/2000/svg\\">\\n  <path d=\\"M12.5 8C9.85 8 7.45 8.99 5.6 10.6L2 7V16H11L7.38 12.38C8.77 11.22 10.54 10.5 12.5 10.5C16.04 10.5 19.05 12.81 20.1 16L22.47 15.22C21.08 11.03 17.15 8 12.5 8Z\\" fill=\\"#777777\\"/>\\n</symbol>\\n<symbol id=\\"au-icon-unlocked\\" width=\\"16\\" height=\\"32\\" viewBox=\\"0 0 16 32\\" fill=\\"none\\" xmlns=\\"http://www.w3.org/2000/svg\\">\\n<rect x=\\"4\\" y=\\"15\\" width=\\"7\\" height=\\"6\\" fill=\\"#777777\\"/>\\n<path d=\\"M9.5 15V13C9.5 11 10.5 10.5 11.5 10.5C12.5 10.5 13.5 11 13.5 13V14\\" stroke=\\"#777777\\"/>\\n</symbol>\\n<symbol id=\\"au-icon-up\\" width=\\"24\\" height=\\"24\\" viewBox=\\"0 0 24 24\\" fill=\\"none\\" xmlns=\\"http://www.w3.org/2000/svg\\">\\n<path d=\\"M20 5H4M12 9V19M12 9L9 12M12 9L15 12\\" stroke=\\"#1FB6FF\\" stroke-width=\\"2\\" stroke-linecap=\\"round\\" stroke-linejoin=\\"round\\"/>\\n</symbol>\\n<symbol id=\\"au-icon-vertical\\" width=\\"24\\" height=\\"24\\" viewBox=\\"0 0 24 24\\" fill=\\"none\\" xmlns=\\"http://www.w3.org/2000/svg\\">\\n  <rect width=\\"24\\" height=\\"24\\" fill=\\"none\\"/>\\n  <path d=\\"M5 3L14.5858 3L19 7.41422L19 21H5V3Z\\" stroke-width=\\"2\\"/>\\n  <path d=\\"M19 7H15V9H19V7ZM15 7V3H13V7H15ZM15 7H15H13C13 8.10457 13.8954 9 15 9V7Z\\"/>\\n</symbol>\\n<symbol id=\\"au-icon-visible\\" width=\\"16\\" height=\\"32\\" viewBox=\\"0 0 16 32\\" fill=\\"none\\" xmlns=\\"http://www.w3.org/2000/svg\\">\\n<path d=\\"M8 18C9.10457 18 10 17.1046 10 16C10 14.8954 9.10457 14 8 14C6.89543 14 6 14.8954 6 16C6 17.1046 6.89543 18 8 18Z\\" fill=\\"#777777\\"/>\\n<path d=\\"M14.4316 16C13.9513 16.8234 13.0863 17.6651 11.9928 18.3213C10.8048 19.034 9.39272 19.5 8 19.5C6.60728 19.5 5.19519 19.034 4.00725 18.3213C2.91369 17.6651 2.0487 16.8234 1.56838 16C2.0487 15.1766 2.91369 14.3349 4.00725 13.6787C5.19519 12.966 6.60728 12.5 8 12.5C9.39272 12.5 10.8048 12.966 11.9928 13.6787C13.0863 14.3349 13.9513 15.1766 14.4316 16Z\\" stroke=\\"#777777\\"/>\\n</symbol>\\n<symbol id=\\"au-lock\\" width=\\"24\\" height=\\"24\\" viewBox=\\"0 0 24 24\\" fill=\\"none\\" xmlns=\\"http://www.w3.org/2000/svg\\">\\n<rect x=\\"8\\" y=\\"11\\" width=\\"7\\" height=\\"6\\" fill=\\"#1FB6FF\\"/>\\n<path d=\\"M9.5 12V10C9.5 8 10.5 7.5 11.5 7.5C12.5 7.5 13.5 8 13.5 10V11\\" stroke=\\"#1FB6FF\\"/>\\n</symbol>\\n<symbol id=\\"au-settings\\" width=\\"24\\" height=\\"24\\" viewBox=\\"0 0 24 24\\" fill=\\"none\\" xmlns=\\"http://www.w3.org/2000/svg\\">\\n<path d=\\"M13 2H11L10 4.5L8.11091 5.28253L5.63604 4.22187L4.22183 5.63608L5.28249 8.11096L4.5 10L2 11V13L4.5 14L5.28249 15.8891L4.22183 18.364L5.63604 19.7782L8.11091 18.7176L10 19.5L11 22H13L14 19.5L15.8891 18.7176L18.364 19.7782L19.7782 18.364L18.7175 15.8891L19.5 14L22 13V11L19.5 10L18.7175 8.11096L19.7782 5.63608L18.364 4.22187L15.8891 5.28253L14 4.5L13 2Z\\" stroke=\\"black\\" stroke-width=\\"1.5\\" stroke-linecap=\\"round\\" stroke-linejoin=\\"round\\"/>\\n<path d=\\"M15 12C15 13.6569 13.6569 15 12 15C10.3431 15 9 13.6569 9 12C9 10.3431 10.3431 9 12 9C13.6569 9 15 10.3431 15 12Z\\" stroke=\\"black\\" stroke-width=\\"1.5\\" stroke-linecap=\\"round\\" stroke-linejoin=\\"round\\"/>\\n</symbol>\\n<symbol id=\\"au-small-caps\\" width=\\"24\\" height=\\"24\\" viewBox=\\"0 0 24 24\\" fill=\\"none\\" xmlns=\\"http://www.w3.org/2000/svg\\">\\n<path opacity=\\"0.5\\" d=\\"M0 0H24V24H0V0Z\\" fill=\\"transparent\\"/>\\n<path fill-rule=\\"evenodd\\" clip-rule=\\"evenodd\\" d=\\"M0 5C0 4.44772 0.447715 4 1 4H11C11.5523 4 12 4.44772 12 5V7C12 7.55228 11.5523 8 11 8C10.4477 8 10 7.55228 10 7V6H7V18H8C8.55228 18 9 18.4477 9 19C9 19.5523 8.55228 20 8 20H4C3.44772 20 3 19.5523 3 19C3 18.4477 3.44772 18 4 18H5V6H2V7C2 7.55228 1.55228 8 1 8C0.447715 8 0 7.55228 0 7V5Z\\" fill=\\"#000000\\"/>\\n<path fill-rule=\\"evenodd\\" clip-rule=\\"evenodd\\" d=\\"M13 10C13 9.44772 13.4477 9 14 9H22C22.5523 9 23 9.44772 23 10V12C23 12.5523 22.5523 13 22 13C21.4477 13 21 12.5523 21 12V11H19V18H20C20.5523 18 21 18.4477 21 19C21 19.5523 20.5523 20 20 20H16C15.4477 20 15 19.5523 15 19C15 18.4477 15.4477 18 16 18H17V11H15V12C15 12.5523 14.5523 13 14 13C13.4477 13 13 12.5523 13 12V10Z\\" fill=\\"#000000\\"/>\\n</symbol>\\n<symbol id=\\"au-stub-active\\" width=\\"24\\" height=\\"24\\" viewBox=\\"0 0 24 24\\" fill=\\"none\\" xmlns=\\"http://www.w3.org/2000/svg\\">\\n<rect width=\\"24\\" height=\\"24\\" fill=\\"white\\"/>\\n<path d=\\"M6.98047 11H6.07715V5.7168H6.98047V11ZM6.00391 4.31543C6.00391 4.16895 6.04785 4.04525 6.13574 3.94434C6.22689 3.84342 6.36035 3.79297 6.53613 3.79297C6.71191 3.79297 6.84538 3.84342 6.93652 3.94434C7.02767 4.04525 7.07324 4.16895 7.07324 4.31543C7.07324 4.46191 7.02767 4.58398 6.93652 4.68164C6.84538 4.7793 6.71191 4.82812 6.53613 4.82812C6.36035 4.82812 6.22689 4.7793 6.13574 4.68164C6.04785 4.58398 6.00391 4.46191 6.00391 4.31543ZM10.5498 10.3604C10.8721 10.3604 11.1536 10.2627 11.3945 10.0674C11.6354 9.87207 11.7689 9.62793 11.7949 9.33496H12.6494C12.6331 9.6377 12.529 9.92578 12.3369 10.1992C12.1449 10.4727 11.8877 10.6908 11.5654 10.8535C11.2464 11.0163 10.9079 11.0977 10.5498 11.0977C9.8304 11.0977 9.25749 10.8584 8.83105 10.3799C8.40788 9.89811 8.19629 9.24056 8.19629 8.40723V8.25586C8.19629 7.74154 8.29069 7.28418 8.47949 6.88379C8.66829 6.4834 8.93848 6.17253 9.29004 5.95117C9.64486 5.72982 10.0632 5.61914 10.5449 5.61914C11.1374 5.61914 11.6289 5.79655 12.0195 6.15137C12.4134 6.50618 12.6234 6.9668 12.6494 7.5332H11.7949C11.7689 7.19141 11.6387 6.91146 11.4043 6.69336C11.1732 6.47201 10.8867 6.36133 10.5449 6.36133C10.0859 6.36133 9.72949 6.52734 9.47559 6.85938C9.22493 7.18815 9.09961 7.66504 9.09961 8.29004V8.46094C9.09961 9.06966 9.22493 9.53841 9.47559 9.86719C9.72624 10.196 10.0843 10.3604 10.5498 10.3604ZM13.4258 8.30957C13.4258 7.79199 13.5267 7.3265 13.7285 6.91309C13.9336 6.49967 14.2168 6.18066 14.5781 5.95605C14.9427 5.73145 15.3577 5.61914 15.8232 5.61914C16.5426 5.61914 17.1237 5.86816 17.5664 6.36621C18.0124 6.86426 18.2354 7.52669 18.2354 8.35352V8.41699C18.2354 8.93132 18.1361 9.39355 17.9375 9.80371C17.7422 10.2106 17.4606 10.528 17.0928 10.7559C16.7282 10.9837 16.3083 11.0977 15.833 11.0977C15.1169 11.0977 14.5358 10.8486 14.0898 10.3506C13.6471 9.85254 13.4258 9.19336 13.4258 8.37305V8.30957ZM14.334 8.41699C14.334 9.00293 14.4691 9.47331 14.7393 9.82812C15.0127 10.1829 15.3773 10.3604 15.833 10.3604C16.292 10.3604 16.6566 10.1813 16.9268 9.82324C17.1969 9.46191 17.332 8.95736 17.332 8.30957C17.332 7.73014 17.1937 7.26139 16.917 6.90332C16.6436 6.54199 16.279 6.36133 15.8232 6.36133C15.3773 6.36133 15.0176 6.53874 14.7441 6.89355C14.4707 7.24837 14.334 7.75618 14.334 8.41699Z\\" fill=\\"#1FB6FF\\"/>\\n<path d=\\"M13.9583 11.9167H13.0417L12.5833 13.0625L11.7175 13.4212L10.5832 12.935L9.935 13.5832L10.4211 14.7175L10.0625 15.5833L8.91667 16.0417V16.9583L10.0625 17.4167L10.4211 18.2825L9.935 19.4168L10.5832 20.065L11.7175 19.5789L12.5833 19.9375L13.0417 21.0833H13.9583L14.4167 19.9375L15.2825 19.5789L16.4168 20.065L17.065 19.4168L16.5789 18.2825L16.9375 17.4167L18.0833 16.9583V16.0417L16.9375 15.5833L16.5789 14.7175L17.065 13.5832L16.4168 12.935L15.2825 13.4212L14.4167 13.0625L13.9583 11.9167Z\\" stroke=\\"#1FB6FF\\" stroke-width=\\"1.5\\" stroke-linecap=\\"round\\" stroke-linejoin=\\"round\\"/>\\n<path d=\\"M14.875 16.5C14.875 17.2594 14.2594 17.875 13.5 17.875C12.7406 17.875 12.125 17.2594 12.125 16.5C12.125 15.7406 12.7406 15.125 13.5 15.125C14.2594 15.125 14.875 15.7406 14.875 16.5Z\\" stroke=\\"#1FB6FF\\" stroke-width=\\"1.5\\" stroke-linecap=\\"round\\" stroke-linejoin=\\"round\\"/>\\n</symbol>\\n<symbol id=\\"au-stub\\" width=\\"24\\" height=\\"24\\" viewBox=\\"0 0 24 24\\" fill=\\"none\\" xmlns=\\"http://www.w3.org/2000/svg\\">\\n<rect width=\\"24\\" height=\\"24\\" fill=\\"white\\"/>\\n<path d=\\"M6.98047 11H6.07715V5.7168H6.98047V11ZM6.00391 4.31543C6.00391 4.16895 6.04785 4.04525 6.13574 3.94434C6.22689 3.84342 6.36035 3.79297 6.53613 3.79297C6.71191 3.79297 6.84538 3.84342 6.93652 3.94434C7.02767 4.04525 7.07324 4.16895 7.07324 4.31543C7.07324 4.46191 7.02767 4.58398 6.93652 4.68164C6.84538 4.7793 6.71191 4.82812 6.53613 4.82812C6.36035 4.82812 6.22689 4.7793 6.13574 4.68164C6.04785 4.58398 6.00391 4.46191 6.00391 4.31543ZM10.5498 10.3604C10.8721 10.3604 11.1536 10.2627 11.3945 10.0674C11.6354 9.87207 11.7689 9.62793 11.7949 9.33496H12.6494C12.6331 9.6377 12.529 9.92578 12.3369 10.1992C12.1449 10.4727 11.8877 10.6908 11.5654 10.8535C11.2464 11.0163 10.9079 11.0977 10.5498 11.0977C9.8304 11.0977 9.25749 10.8584 8.83105 10.3799C8.40788 9.89811 8.19629 9.24056 8.19629 8.40723V8.25586C8.19629 7.74154 8.29069 7.28418 8.47949 6.88379C8.66829 6.4834 8.93848 6.17253 9.29004 5.95117C9.64486 5.72982 10.0632 5.61914 10.5449 5.61914C11.1374 5.61914 11.6289 5.79655 12.0195 6.15137C12.4134 6.50618 12.6234 6.9668 12.6494 7.5332H11.7949C11.7689 7.19141 11.6387 6.91146 11.4043 6.69336C11.1732 6.47201 10.8867 6.36133 10.5449 6.36133C10.0859 6.36133 9.72949 6.52734 9.47559 6.85938C9.22493 7.18815 9.09961 7.66504 9.09961 8.29004V8.46094C9.09961 9.06966 9.22493 9.53841 9.47559 9.86719C9.72624 10.196 10.0843 10.3604 10.5498 10.3604ZM13.4258 8.30957C13.4258 7.79199 13.5267 7.3265 13.7285 6.91309C13.9336 6.49967 14.2168 6.18066 14.5781 5.95605C14.9427 5.73145 15.3577 5.61914 15.8232 5.61914C16.5426 5.61914 17.1237 5.86816 17.5664 6.36621C18.0124 6.86426 18.2354 7.52669 18.2354 8.35352V8.41699C18.2354 8.93132 18.1361 9.39355 17.9375 9.80371C17.7422 10.2106 17.4606 10.528 17.0928 10.7559C16.7282 10.9837 16.3083 11.0977 15.833 11.0977C15.1169 11.0977 14.5358 10.8486 14.0898 10.3506C13.6471 9.85254 13.4258 9.19336 13.4258 8.37305V8.30957ZM14.334 8.41699C14.334 9.00293 14.4691 9.47331 14.7393 9.82812C15.0127 10.1829 15.3773 10.3604 15.833 10.3604C16.292 10.3604 16.6566 10.1813 16.9268 9.82324C17.1969 9.46191 17.332 8.95736 17.332 8.30957C17.332 7.73014 17.1937 7.26139 16.917 6.90332C16.6436 6.54199 16.279 6.36133 15.8232 6.36133C15.3773 6.36133 15.0176 6.53874 14.7441 6.89355C14.4707 7.24837 14.334 7.75618 14.334 8.41699Z\\" fill=\\"black\\"/>\\n<path d=\\"M13.9583 11.9167H13.0417L12.5833 13.0625L11.7175 13.4212L10.5832 12.935L9.935 13.5832L10.4211 14.7175L10.0625 15.5833L8.91666 16.0417V16.9583L10.0625 17.4167L10.4211 18.2825L9.935 19.4168L10.5832 20.065L11.7175 19.5789L12.5833 19.9375L13.0417 21.0833H13.9583L14.4167 19.9375L15.2825 19.5789L16.4168 20.065L17.065 19.4168L16.5789 18.2825L16.9375 17.4167L18.0833 16.9583V16.0417L16.9375 15.5833L16.5789 14.7175L17.065 13.5832L16.4168 12.935L15.2825 13.4212L14.4167 13.0625L13.9583 11.9167Z\\" stroke=\\"black\\" stroke-width=\\"1.5\\" stroke-linecap=\\"round\\" stroke-linejoin=\\"round\\"/>\\n<path d=\\"M14.875 16.5C14.875 17.2594 14.2594 17.875 13.5 17.875C12.7406 17.875 12.125 17.2594 12.125 16.5C12.125 15.7406 12.7406 15.125 13.5 15.125C14.2594 15.125 14.875 15.7406 14.875 16.5Z\\" stroke=\\"black\\" stroke-width=\\"1.5\\" stroke-linecap=\\"round\\" stroke-linejoin=\\"round\\"/>\\n</symbol>\\n<symbol id=\\"au-subscript\\" width=\\"24\\" height=\\"24\\" viewBox=\\"0 0 24 24\\" fill=\\"none\\" xmlns=\\"http://www.w3.org/2000/svg\\">\\n<path fill-rule=\\"evenodd\\" clip-rule=\\"evenodd\\" d=\\"M2 5C2 4.44772 2.44772 4 3 4H13C13.5523 4 14 4.44772 14 5V7C14 7.55228 13.5523 8 13 8C12.4477 8 12 7.55228 12 7V6H9V18H10C10.5523 18 11 18.4477 11 19C11 19.5523 10.5523 20 10 20H6C5.44772 20 5 19.5523 5 19C5 18.4477 5.44772 18 6 18H7V6H4V7C4 7.55228 3.55228 8 3 8C2.44772 8 2 7.55228 2 7V5ZM16 16C16 15.4477 16.4477 15 17 15H19C19.5523 15 20 15.4477 20 16V20H21C21.5523 20 22 20.4477 22 21C22 21.5523 21.5523 22 21 22H17C16.4477 22 16 21.5523 16 21C16 20.4477 16.4477 20 17 20H18V17H17C16.4477 17 16 16.5523 16 16Z\\" fill=\\"#000000\\"/>\\n</symbol>\\n<symbol id=\\"au-superscript\\" width=\\"24\\" height=\\"24\\" viewBox=\\"0 0 24 24\\" fill=\\"none\\" xmlns=\\"http://www.w3.org/2000/svg\\">\\n<path fill-rule=\\"evenodd\\" clip-rule=\\"evenodd\\" d=\\"M16 1C16 0.447715 16.4477 0 17 0H19C19.5523 0 20 0.447715 20 1V5H21C21.5523 5 22 5.44772 22 6C22 6.55228 21.5523 7 21 7H17C16.4477 7 16 6.55228 16 6C16 5.44772 16.4477 5 17 5H18V2H17C16.4477 2 16 1.55228 16 1ZM2 5C2 4.44772 2.44772 4 3 4H13C13.5523 4 14 4.44772 14 5V7C14 7.55228 13.5523 8 13 8C12.4477 8 12 7.55228 12 7V6H9V18H10C10.5523 18 11 18.4477 11 19C11 19.5523 10.5523 20 10 20H6C5.44772 20 5 19.5523 5 19C5 18.4477 5.44772 18 6 18H7V6H4V7C4 7.55228 3.55228 8 3 8C2.44772 8 2 7.55228 2 7V5Z\\" fill=\\"#000000\\"/>\\n</symbol>\\n<symbol id=\\"au-text-by-width\\" width=\\"32\\" height=\\"32\\" viewBox=\\"0 0 32 32\\" fill=\\"none\\" xmlns=\\"http://www.w3.org/2000/svg\\">\\n  <rect x=\\"4\\" y=\\"4\\" width=\\"24\\" height=\\"24\\" fill=\\"transparent\\"/>\\n  <path d=\\"M24 8H8M24 23H8M24 18H8M24 13H8\\" stroke=\\"#000000\\" stroke-width=\\"2\\" stroke-linecap=\\"round\\" stroke-linejoin=\\"round\\"/>\\n</symbol>\\n<symbol id=\\"au-text-color\\" width=\\"24\\" height=\\"24\\" viewBox=\\"0 0 24 24\\" fill=\\"none\\" xmlns=\\"http://www.w3.org/2000/svg\\">\\n<path d=\\"M17.25 16L19 20M17.25 16H6.75M17.25 16L12 4L6.75 16M5 20L6.75 16\\" stroke=\\"black\\" stroke-width=\\"1.5\\" stroke-linecap=\\"round\\" stroke-linejoin=\\"round\\"/>\\n</symbol>\\n<symbol id=\\"au-text-to-bottom\\" width=\\"32\\" height=\\"32\\" viewBox=\\"0 0 32 32\\" fill=\\"none\\" xmlns=\\"http://www.w3.org/2000/svg\\">\\n  <path d=\\"M4 28H28V4H4V28Z\\" fill=\\"transparent\\"/>\\n  <path d=\\"M24 23H8M16 19V9M16 19L13 16M16 19L19 16\\" stroke=\\"#000000\\" stroke-width=\\"2\\" stroke-linecap=\\"round\\" stroke-linejoin=\\"round\\"/>\\n</symbol>\\n<symbol id=\\"au-text-to-center\\" width=\\"32\\" height=\\"32\\" viewBox=\\"0 0 32 32\\" fill=\\"none\\" xmlns=\\"http://www.w3.org/2000/svg\\">\\n  <rect x=\\"4\\" y=\\"4\\" width=\\"24\\" height=\\"24\\" fill=\\"transparent\\"/>\\n  <path d=\\"M24 8H8M24 18H8M20 13H12M20 23H12\\" stroke=\\"#000000\\" stroke-width=\\"2\\" stroke-linecap=\\"round\\" stroke-linejoin=\\"round\\"/>\\n</symbol>\\n<symbol id=\\"au-text-to-left\\" width=\\"32\\" height=\\"32\\" viewBox=\\"0 0 32 32\\" fill=\\"none\\" xmlns=\\"http://www.w3.org/2000/svg\\">\\n  <path d=\\"M0 2C0 0.895431 0.895431 0 2 0H32V32H2C0.895431 32 0 31.1046 0 30V2Z\\" fill=\\"transparent\\"/>\\n  <path d=\\"M24 8H8M24 18H8M16 13H8M16 23H8\\" stroke=\\"#000000\\" stroke-width=\\"2\\" stroke-linecap=\\"round\\" stroke-linejoin=\\"round\\"/>\\n</symbol>\\n<symbol id=\\"au-text-to-middle\\" width=\\"32\\" height=\\"32\\" viewBox=\\"0 0 32 32\\" fill=\\"none\\" xmlns=\\"http://www.w3.org/2000/svg\\">\\n  <path d=\\"M4 4H28V28H4V4Z\\" fill=\\"transparent\\"/>\\n  <path d=\\"M24 16H8M16 12V6M16 12L13 9M16 12L19 9M16 20V26M16 20L13 23M16 20L19 23\\" stroke=\\"#000000\\" stroke-width=\\"2\\" stroke-linecap=\\"round\\" stroke-linejoin=\\"round\\"/>\\n</symbol>\\n<symbol id=\\"au-text-to-right\\" width=\\"32\\" height=\\"32\\" viewBox=\\"0 0 32 32\\" fill=\\"none\\" xmlns=\\"http://www.w3.org/2000/svg\\">\\n  <rect x=\\"4\\" y=\\"4\\" width=\\"24\\" height=\\"24\\" fill=\\"transparent\\"/>\\n  <path d=\\"M24 8H8M24 18H8M24 13H16M24 23H16\\" stroke=\\"#000000\\" stroke-width=\\"2\\" stroke-linecap=\\"round\\" stroke-linejoin=\\"round\\"/>\\n</symbol>\\n<symbol id=\\"au-text-to-top\\" width=\\"32\\" height=\\"32\\" viewBox=\\"0 0 32 32\\" fill=\\"none\\" xmlns=\\"http://www.w3.org/2000/svg\\">\\n  <path d=\\"M0 2C0 0.895431 0.895431 0 2 0H32V32H2C0.895431 32 0 31.1046 0 30V2Z\\" fill=\\"transparent\\"/>\\n  <path d=\\"M24 9H8M16 13V23M16 13L13 16M16 13L19 16\\" stroke=\\"#000000\\" stroke-width=\\"2\\" stroke-linecap=\\"round\\" stroke-linejoin=\\"round\\"/>\\n</symbol>\\n<symbol id=\\"au-to-bottom\\" width=\\"24\\" height=\\"24\\" viewBox=\\"0 0 24 24\\" fill=\\"none\\" xmlns=\\"http://www.w3.org/2000/svg\\">\\n  <path d=\\"M3.14722e-06 24L0 3.8147e-06L24 0L24 24L3.14722e-06 24Z\\"/>\\n  <path d=\\"M21 21H3M6 17L6 3H10L10 17H6ZM14 17L14 9H18L18 17H14Z\\" stroke=\\"#222\\" stroke-width=\\"1.5\\" stroke-linecap=\\"round\\" stroke-linejoin=\\"round\\"/>\\n</symbol>\\n<symbol id=\\"au-to-center\\" width=\\"24\\" height=\\"24\\" viewBox=\\"0 0 24 24\\" fill=\\"none\\" xmlns=\\"http://www.w3.org/2000/svg\\">\\n<path d=\\"M-3.8147e-06 2.09815e-06L24 0L24 24L-1.04907e-06 24L-3.8147e-06 2.09815e-06Z\\"/>\\n<path d=\\"M12 6V3M12 21V18M12 14V10M4 6H20V10H4L4 6ZM8 14H16V18H8V14Z\\" stroke=\\"#222222\\" stroke-width=\\"1.5\\" stroke-linecap=\\"round\\" stroke-linejoin=\\"round\\"/>\\n</symbol>\\n<symbol id=\\"au-to-left\\" width=\\"24\\" height=\\"24\\" viewBox=\\"0 0 24 24\\" fill=\\"none\\" xmlns=\\"http://www.w3.org/2000/svg\\">\\n<path d=\\"M-1.90735e-06 2.09815e-06L24 0L24 24L0 24L-1.90735e-06 2.09815e-06Z\\"/>\\n<path d=\\"M3 21V3M7 6H21V10H7V6ZM7 14H15V18H7V14Z\\" stroke=\\"#222222\\" stroke-width=\\"1.5\\" stroke-linecap=\\"round\\" stroke-linejoin=\\"round\\"/>\\n</symbol>\\n<symbol id=\\"au-to-middle\\" width=\\"24\\" height=\\"24\\" viewBox=\\"0 0 24 24\\" fill=\\"none\\" xmlns=\\"http://www.w3.org/2000/svg\\">\\n<path d=\\"M3.14722e-06 24L0 3.8147e-06L24 0L24 24L3.14722e-06 24Z\\"/>\\n<path d=\\"M6 12H3M21 12H18M14 12H10M6 20L6 4H10L10 20H6ZM14 16V8H18V16H14Z\\" stroke=\\"#222\\" stroke-width=\\"1.5\\" stroke-linecap=\\"round\\" stroke-linejoin=\\"round\\"/>\\n</symbol>\\n<symbol id=\\"au-to-right\\" width=\\"24\\" height=\\"24\\" viewBox=\\"0 0 24 24\\" fill=\\"none\\" xmlns=\\"http://www.w3.org/2000/svg\\">\\n<path d=\\"M24 2.09815e-06L2.09815e-06 0L0 24L24 24L24 2.09815e-06Z\\"/>\\n<path d=\\"M21 21V3M17 6H3V10H17V6ZM17 14H9V18H17V14Z\\" stroke=\\"#222222\\" stroke-width=\\"1.5\\" stroke-linecap=\\"round\\" stroke-linejoin=\\"round\\"/>\\n</symbol>\\n<symbol id=\\"au-to-top\\" width=\\"24\\" height=\\"24\\" viewBox=\\"0 0 24 24\\" fill=\\"none\\" xmlns=\\"http://www.w3.org/2000/svg\\">\\n<path d=\\"M3.14722e-06 0L0 24L24 24L24 3.14722e-06L3.14722e-06 0Z\\" />\\n<path d=\\"M21 3H3M6 7L6 21H10L10 7H6ZM14 7V15H18V7H14Z\\" stroke=\\"#222\\" stroke-width=\\"1.5\\" stroke-linecap=\\"round\\" stroke-linejoin=\\"round\\"/>\\n</symbol>\\n<symbol id=\\"au-unlock\\" width=\\"24\\" height=\\"24\\" viewBox=\\"0 0 24 24\\" fill=\\"none\\" xmlns=\\"http://www.w3.org/2000/svg\\">\\n<rect x=\\"7\\" y=\\"11.0714\\" width=\\"7\\" height=\\"6\\" fill=\\"black\\"/>\\n<path d=\\"M12.5 12V10C12.5 8 13.5 7.5 14.5 7.5C15.5 7.5 16.5 8 16.5 10V11\\" stroke=\\"black\\"/>\\n</symbol>\\n<symbol id=\\"au-vertical-file-active\\" width=\\"24\\" height=\\"24\\" viewBox=\\"0 0 24 24\\" fill=\\"none\\" xmlns=\\"http://www.w3.org/2000/svg\\">\\n<path d=\\"M13 3V9H19\\" stroke=\\"#1FB6FF\\" stroke-width=\\"1.5\\" stroke-linecap=\\"round\\" stroke-linejoin=\\"round\\"/>\\n<path d=\\"M13 3L19 9V21H5V3H13Z\\" stroke=\\"#1FB6FF\\" stroke-width=\\"1.5\\" stroke-linecap=\\"round\\" stroke-linejoin=\\"round\\"/>\\n</symbol>\\n<symbol id=\\"au-vertical-file\\" width=\\"24\\" height=\\"24\\" viewBox=\\"0 0 24 24\\" fill=\\"none\\" xmlns=\\"http://www.w3.org/2000/svg\\">\\n<path d=\\"M13 3V9H19\\" stroke=\\"black\\" stroke-width=\\"1.5\\" stroke-linecap=\\"round\\" stroke-linejoin=\\"round\\"/>\\n<path d=\\"M13 3L19 9V21H5V3H13Z\\" stroke=\\"black\\" stroke-width=\\"1.5\\" stroke-linecap=\\"round\\" stroke-linejoin=\\"round\\"/>\\n</symbol>\\n</svg>"}')},"9ggG":function(t,e,n){var i=n("Z0cm"),r=n("/9aa"),o=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,s=/^\w*$/;t.exports=function(t,e){if(i(t))return!1;var n=typeof t;return!("number"!=n&&"symbol"!=n&&"boolean"!=n&&null!=t&&!r(t))||s.test(t)||!o.test(t)||null!=e&&t in Object(e)}},A0GU:function(t,e,n){"use strict";var i;Object.defineProperty(e,"__esModule",{value:!0}),e.vCardAddressType=void 0,e.vCardAddressType=i,function(t){t.HOME="HOME",t.WORK="WORK"}(i||(e.vCardAddressType=i={}))},A90E:function(t,e,n){var i=n("6sVZ"),r=n("V6Ve"),o=Object.prototype.hasOwnProperty;t.exports=function(t){if(!i(t))return r(t);var e=[];for(var n in Object(t))o.call(t,n)&&"constructor"!=n&&e.push(n);return e}},AGOE:function(t,e,n){var i;!function(r,o){var s={Identity:function(t){return t},True:function(){return!0},Blank:function(){}},a=typeof{},l={"":s.Identity},c={createLambda:function(t){if(null==t)return s.Identity;if("string"==typeof t){var e=l[t];if(null!=e)return e;if(-1===t.indexOf("=>")){for(var n,i=new RegExp("[$]+","g"),r=0;null!=(n=i.exec(t));){var o=n[0].length;o>r&&(r=o)}for(var a=[],c=1;c<=r;c++){for(var u="",h=0;h<c;h++)u+="$";a.push(u)}var d=Array.prototype.join.call(a,",");return e=new Function(d,"return "+t),l[t]=e,e}var p=t.match(/^[(\s]*([^()]*?)[)\s]*=>(.*)/);return e=new Function(p[1],"return "+p[2]),l[t]=e,e}return t},isIEnumerable:function(t){if("undefined"!=typeof Enumerator)try{return new Enumerator(t),!0}catch(e){}return!1},defineProperty:null!=Object.defineProperties?function(t,e,n){Object.defineProperty(t,e,{enumerable:!1,configurable:!0,writable:!0,value:n})}:function(t,e,n){t[e]=n},compare:function(t,e){return t===e?0:t>e?1:-1},dispose:function(t){null!=t&&t.dispose()},hasNativeIteratorSupport:function(){return"undefined"!=typeof Symbol&&void 0!==Symbol.iterator}},u=function(t,e,n){var i=new h,r=0;this.current=i.current,this.moveNext=function(){try{switch(r){case 0:r=1,t();case 1:return!!e.apply(i)||(this.dispose(),!1);case 2:return!1}}catch(n){throw this.dispose(),n}},this.dispose=function(){if(1==r)try{n()}finally{r=2}}},h=function(){var t=null;this.current=function(){return t},this.yieldReturn=function(e){return t=e,!0},this.yieldBreak=function(){return!1}},d=function(t){this.getEnumerator=t};(d.Utils={}).createLambda=function(t){return c.createLambda(t)},d.Utils.createEnumerable=function(t){return new d(t)},d.Utils.createEnumerator=function(t,e,n){return new u(t,e,n)},d.Utils.extendTo=function(t){var e,n=t.prototype;for(var i in t===Array?(e=g.prototype,c.defineProperty(n,"getSource",(function(){return this}))):(e=d.prototype,c.defineProperty(n,"getEnumerator",(function(){return d.from(this).getEnumerator()}))),e){var r=e[i];n[i]!=r&&(null!=n[i]&&n[i+="ByLinq"]==r||r instanceof Function&&c.defineProperty(n,i,r))}},d.choice=function(){var t=arguments;return new d((function(){return new u((function(){t=t[0]instanceof Array?t[0]:null!=t[0].getEnumerator?t[0].toArray():t}),(function(){return this.yieldReturn(t[Math.floor(Math.random()*t.length)])}),s.Blank)}))},d.cycle=function(){var t=arguments;return new d((function(){var e=0;return new u((function(){t=t[0]instanceof Array?t[0]:null!=t[0].getEnumerator?t[0].toArray():t}),(function(){return e>=t.length&&(e=0),this.yieldReturn(t[e++])}),s.Blank)}))},d.empty=function(){return new d((function(){return new u(s.Blank,(function(){return!1}),s.Blank)}))},d.from=function(t){if(null==t)return d.empty();if(t instanceof d)return t;if("number"==typeof t||"boolean"==typeof t)return d.repeat(t,1);if("string"==typeof t)return new d((function(){var e=0;return new u(s.Blank,(function(){return e<t.length&&this.yieldReturn(t.charAt(e++))}),s.Blank)}));if("function"!=typeof t){if("number"==typeof t.length)return new g(t);if("undefined"!=typeof Symbol&&void 0!==t[Symbol.iterator])return new d((function(){return new u(s.Blank,(function(){var e=t.next();return!e.done&&this.yieldReturn(e.value)}),s.Blank)}));if(!(t instanceof Object)&&c.isIEnumerable(t))return new d((function(){var e,n=!0;return new u((function(){e=new Enumerator(t)}),(function(){return n?n=!1:e.moveNext(),!e.atEnd()&&this.yieldReturn(e.item())}),s.Blank)}));if(typeof Windows===a&&"function"==typeof t.first)return new d((function(){var e,n=!0;return new u((function(){e=t.first()}),(function(){return n?n=!1:e.moveNext(),e.hasCurrent?this.yieldReturn(e.current):this.yieldBreak()}),s.Blank)}))}return new d((function(){var e=[],n=0;return new u((function(){for(var n in t){var i=t[n];i instanceof Function||!Object.prototype.hasOwnProperty.call(t,n)||e.push({key:n,value:i})}}),(function(){return n<e.length&&this.yieldReturn(e[n++])}),s.Blank)}))},d.make=function(t){return d.repeat(t,1)},d.matches=function(t,e,n){return null==n&&(n=""),e instanceof RegExp&&(n+=e.ignoreCase?"i":"",n+=e.multiline?"m":"",e=e.source),-1===n.indexOf("g")&&(n+="g"),new d((function(){var i;return new u((function(){i=new RegExp(e,n)}),(function(){var e=i.exec(t);return!!e&&this.yieldReturn(e)}),s.Blank)}))},d.range=function(t,e,n){return null==n&&(n=1),new d((function(){var i,r=0;return new u((function(){i=t-n}),(function(){return r++<e?this.yieldReturn(i+=n):this.yieldBreak()}),s.Blank)}))},d.rangeDown=function(t,e,n){return null==n&&(n=1),new d((function(){var i,r=0;return new u((function(){i=t+n}),(function(){return r++<e?this.yieldReturn(i-=n):this.yieldBreak()}),s.Blank)}))},d.rangeTo=function(t,e,n){return null==n&&(n=1),new d(t<e?function(){var i;return new u((function(){i=t-n}),(function(){var t=i+=n;return t<=e?this.yieldReturn(t):this.yieldBreak()}),s.Blank)}:function(){var i;return new u((function(){i=t+n}),(function(){var t=i-=n;return t>=e?this.yieldReturn(t):this.yieldBreak()}),s.Blank)})},d.repeat=function(t,e){return null!=e?d.repeat(t).take(e):new d((function(){return new u(s.Blank,(function(){return this.yieldReturn(t)}),s.Blank)}))},d.repeatWithFinalize=function(t,e){return t=c.createLambda(t),e=c.createLambda(e),new d((function(){var n;return new u((function(){n=t()}),(function(){return this.yieldReturn(n)}),(function(){null!=n&&(e(n),n=null)}))}))},d.generate=function(t,e){return null!=e?d.generate(t).take(e):(t=c.createLambda(t),new d((function(){return new u(s.Blank,(function(){return this.yieldReturn(t())}),s.Blank)})))},d.toInfinity=function(t,e){return null==t&&(t=0),null==e&&(e=1),new d((function(){var n;return new u((function(){n=t-e}),(function(){return this.yieldReturn(n+=e)}),s.Blank)}))},d.toNegativeInfinity=function(t,e){return null==t&&(t=0),null==e&&(e=1),new d((function(){var n;return new u((function(){n=t+e}),(function(){return this.yieldReturn(n-=e)}),s.Blank)}))},d.unfold=function(t,e){return e=c.createLambda(e),new d((function(){var n,i=!0;return new u(s.Blank,(function(){return i?(i=!1,this.yieldReturn(n=t)):(n=e(n),this.yieldReturn(n))}),s.Blank)}))},d.defer=function(t){return new d((function(){var e;return new u((function(){e=d.from(t()).getEnumerator()}),(function(){return e.moveNext()?this.yieldReturn(e.current()):this.yieldBreak()}),(function(){c.dispose(e)}))}))},d.prototype.traverseBreadthFirst=function(t,e){var n=this;return t=c.createLambda(t),e=c.createLambda(e),new d((function(){var i,r=0,o=[];return new u((function(){i=n.getEnumerator()}),(function(){for(;;){if(i.moveNext())return o.push(i.current()),this.yieldReturn(e(i.current(),r));var n=d.from(o).selectMany((function(e){return t(e)}));if(!n.any())return!1;r++,o=[],c.dispose(i),i=n.getEnumerator()}}),(function(){c.dispose(i)}))}))},d.prototype.traverseDepthFirst=function(t,e){var n=this;return t=c.createLambda(t),e=c.createLambda(e),new d((function(){var i,r=[];return new u((function(){i=n.getEnumerator()}),(function(){for(;;){if(i.moveNext()){var n=e(i.current(),r.length);return r.push(i),i=d.from(t(i.current())).getEnumerator(),this.yieldReturn(n)}if(r.length<=0)return!1;c.dispose(i),i=r.pop()}}),(function(){try{c.dispose(i)}finally{d.from(r).forEach((function(t){t.dispose()}))}}))}))},d.prototype.flatten=function(){var t=this;return new d((function(){var e,n=null;return new u((function(){e=t.getEnumerator()}),(function(){for(;;){if(null!=n){if(n.moveNext())return this.yieldReturn(n.current());n=null}if(e.moveNext()){if(e.current()instanceof Array){c.dispose(n),n=d.from(e.current()).selectMany(s.Identity).flatten().getEnumerator();continue}return this.yieldReturn(e.current())}return!1}}),(function(){try{c.dispose(e)}finally{c.dispose(n)}}))}))},d.prototype.pairwise=function(t){var e=this;return t=c.createLambda(t),new d((function(){var n;return new u((function(){(n=e.getEnumerator()).moveNext()}),(function(){var e=n.current();return!!n.moveNext()&&this.yieldReturn(t(e,n.current()))}),(function(){c.dispose(n)}))}))},d.prototype.scan=function(t,e){var n;null==e?(e=c.createLambda(t),n=!1):(e=c.createLambda(e),n=!0);var i=this;return new d((function(){var r,o,s=!0;return new u((function(){r=i.getEnumerator()}),(function(){if(s){if(s=!1,n)return this.yieldReturn(o=t);if(r.moveNext())return this.yieldReturn(o=r.current())}return!!r.moveNext()&&this.yieldReturn(o=e(o,r.current()))}),(function(){c.dispose(r)}))}))},d.prototype.select=function(t){if((t=c.createLambda(t)).length<=1)return new _(this,null,t);var e=this;return new d((function(){var n,i=0;return new u((function(){n=e.getEnumerator()}),(function(){return!!n.moveNext()&&this.yieldReturn(t(n.current(),i++))}),(function(){c.dispose(n)}))}))},d.prototype.selectMany=function(t,e){var n=this;return t=c.createLambda(t),null==e&&(e=function(t,e){return e}),e=c.createLambda(e),new d((function(){var i,r=void 0,o=0;return new u((function(){i=n.getEnumerator()}),(function(){if(void 0===r&&!i.moveNext())return!1;do{if(null==r){var n=t(i.current(),o++);r=d.from(n).getEnumerator()}if(r.moveNext())return this.yieldReturn(e(i.current(),r.current()));c.dispose(r),r=null}while(i.moveNext());return!1}),(function(){try{c.dispose(i)}finally{c.dispose(r)}}))}))},d.prototype.where=function(t){if((t=c.createLambda(t)).length<=1)return new y(this,t);var e=this;return new d((function(){var n,i=0;return new u((function(){n=e.getEnumerator()}),(function(){for(;n.moveNext();)if(t(n.current(),i++))return this.yieldReturn(n.current());return!1}),(function(){c.dispose(n)}))}))},d.prototype.choose=function(t){t=c.createLambda(t);var e=this;return new d((function(){var n,i=0;return new u((function(){n=e.getEnumerator()}),(function(){for(;n.moveNext();){var e=t(n.current(),i++);if(null!=e)return this.yieldReturn(e)}return this.yieldBreak()}),(function(){c.dispose(n)}))}))},d.prototype.ofType=function(t){var e;switch(t){case Number:e="number";break;case String:e="string";break;case Boolean:e="boolean";break;case Function:e="function";break;default:e=null}return this.where(null===e?function(e){return e instanceof t}:function(t){return typeof t===e})},d.prototype.zip=function(){var t=arguments,e=c.createLambda(arguments[arguments.length-1]),n=this;if(2==arguments.length){var i=arguments[0];return new d((function(){var t,r,o=0;return new u((function(){t=n.getEnumerator(),r=d.from(i).getEnumerator()}),(function(){return!(!t.moveNext()||!r.moveNext())&&this.yieldReturn(e(t.current(),r.current(),o++))}),(function(){try{c.dispose(t)}finally{c.dispose(r)}}))}))}return new d((function(){var i,r=0;return new u((function(){var e=d.make(n).concat(d.from(t).takeExceptLast().select(d.from)).select((function(t){return t.getEnumerator()})).toArray();i=d.from(e)}),(function(){if(i.all((function(t){return t.moveNext()}))){var t=i.select((function(t){return t.current()})).toArray();return t.push(r++),this.yieldReturn(e.apply(null,t))}return this.yieldBreak()}),(function(){d.from(i).forEach(c.dispose)}))}))},d.prototype.merge=function(){var t=arguments,e=this;return new d((function(){var n,i=-1;return new u((function(){n=d.make(e).concat(d.from(t).select(d.from)).select((function(t){return t.getEnumerator()})).toArray()}),(function(){for(;n.length>0;){var t=n[i=i>=n.length-1?0:i+1];if(t.moveNext())return this.yieldReturn(t.current());t.dispose(),n.splice(i--,1)}return this.yieldBreak()}),(function(){d.from(n).forEach(c.dispose)}))}))},d.prototype.join=function(t,e,n,i,r){e=c.createLambda(e),n=c.createLambda(n),i=c.createLambda(i),r=c.createLambda(r);var o=this;return new d((function(){var a,l,h=null,p=0;return new u((function(){a=o.getEnumerator(),l=d.from(t).toLookup(n,s.Identity,r)}),(function(){for(;;){if(null!=h){var t=h[p++];if(void 0!==t)return this.yieldReturn(i(a.current(),t));t=null,p=0}if(!a.moveNext())return!1;var n=e(a.current());h=l.get(n).toArray()}}),(function(){c.dispose(a)}))}))},d.prototype.groupJoin=function(t,e,n,i,r){e=c.createLambda(e),n=c.createLambda(n),i=c.createLambda(i),r=c.createLambda(r);var o=this;return new d((function(){var a=o.getEnumerator(),l=null;return new u((function(){a=o.getEnumerator(),l=d.from(t).toLookup(n,s.Identity,r)}),(function(){if(a.moveNext()){var t=l.get(e(a.current()));return this.yieldReturn(i(a.current(),t))}return!1}),(function(){c.dispose(a)}))}))},d.prototype.all=function(t){t=c.createLambda(t);var e=!0;return this.forEach((function(n){if(!t(n))return e=!1,!1})),e},d.prototype.any=function(t){t=c.createLambda(t);var e=this.getEnumerator();try{if(0==arguments.length)return e.moveNext();for(;e.moveNext();)if(t(e.current()))return!0;return!1}finally{c.dispose(e)}},d.prototype.isEmpty=function(){return!this.any()},d.prototype.concat=function(){var t=this;if(1==arguments.length){var e=arguments[0];return new d((function(){var n,i;return new u((function(){n=t.getEnumerator()}),(function(){if(null==i){if(n.moveNext())return this.yieldReturn(n.current());i=d.from(e).getEnumerator()}return!!i.moveNext()&&this.yieldReturn(i.current())}),(function(){try{c.dispose(n)}finally{c.dispose(i)}}))}))}var n=arguments;return new d((function(){var e;return new u((function(){e=d.make(t).concat(d.from(n).select(d.from)).select((function(t){return t.getEnumerator()})).toArray()}),(function(){for(;e.length>0;){var t=e[0];if(t.moveNext())return this.yieldReturn(t.current());t.dispose(),e.splice(0,1)}return this.yieldBreak()}),(function(){d.from(e).forEach(c.dispose)}))}))},d.prototype.insert=function(t,e){var n=this;return new d((function(){var i,r,o=0,s=!1;return new u((function(){i=n.getEnumerator(),r=d.from(e).getEnumerator()}),(function(){return o==t&&r.moveNext()?(s=!0,this.yieldReturn(r.current())):i.moveNext()?(o++,this.yieldReturn(i.current())):!(s||!r.moveNext())&&this.yieldReturn(r.current())}),(function(){try{c.dispose(i)}finally{c.dispose(r)}}))}))},d.prototype.alternate=function(t){var e=this;return new d((function(){var n,i,r,o;return new u((function(){r=t instanceof Array||null!=t.getEnumerator?d.from(d.from(t).toArray()):d.make(t),(i=e.getEnumerator()).moveNext()&&(n=i.current())}),(function(){for(;;){if(null!=o){if(o.moveNext())return this.yieldReturn(o.current());o=null}if(null!=n||!i.moveNext()){if(null!=n){var t=n;return n=null,this.yieldReturn(t)}return this.yieldBreak()}n=i.current(),o=r.getEnumerator()}}),(function(){try{c.dispose(i)}finally{c.dispose(o)}}))}))},d.prototype.contains=function(t,e){e=c.createLambda(e);var n=this.getEnumerator();try{for(;n.moveNext();)if(e(n.current())===t)return!0;return!1}finally{c.dispose(n)}},d.prototype.defaultIfEmpty=function(t){var e=this;return void 0===t&&(t=null),new d((function(){var n,i=!0;return new u((function(){n=e.getEnumerator()}),(function(){return n.moveNext()?(i=!1,this.yieldReturn(n.current())):!!i&&(i=!1,this.yieldReturn(t))}),(function(){c.dispose(n)}))}))},d.prototype.distinct=function(t){return this.except(d.empty(),t)},d.prototype.distinctUntilChanged=function(t){t=c.createLambda(t);var e=this;return new d((function(){var n,i,r;return new u((function(){n=e.getEnumerator()}),(function(){for(;n.moveNext();){var e=t(n.current());if(r)return r=!1,i=e,this.yieldReturn(n.current());if(i!==e)return i=e,this.yieldReturn(n.current())}return this.yieldBreak()}),(function(){c.dispose(n)}))}))},d.prototype.except=function(t,e){e=c.createLambda(e);var n=this;return new d((function(){var i,r;return new u((function(){i=n.getEnumerator(),r=new v(e),d.from(t).forEach((function(t){r.add(t)}))}),(function(){for(;i.moveNext();){var t=i.current();if(!r.contains(t))return r.add(t),this.yieldReturn(t)}return!1}),(function(){c.dispose(i)}))}))},d.prototype.intersect=function(t,e){e=c.createLambda(e);var n=this;return new d((function(){var i,r,o;return new u((function(){i=n.getEnumerator(),r=new v(e),d.from(t).forEach((function(t){r.add(t)})),o=new v(e)}),(function(){for(;i.moveNext();){var t=i.current();if(!o.contains(t)&&r.contains(t))return o.add(t),this.yieldReturn(t)}return!1}),(function(){c.dispose(i)}))}))},d.prototype.sequenceEqual=function(t,e){e=c.createLambda(e);var n=this.getEnumerator();try{var i=d.from(t).getEnumerator();try{for(;n.moveNext();)if(!i.moveNext()||e(n.current())!==e(i.current()))return!1;return!i.moveNext()}finally{c.dispose(i)}}finally{c.dispose(n)}},d.prototype.union=function(t,e){e=c.createLambda(e);var n=this;return new d((function(){var i,r,o;return new u((function(){i=n.getEnumerator(),o=new v(e)}),(function(){var e;if(void 0===r){for(;i.moveNext();)if(e=i.current(),!o.contains(e))return o.add(e),this.yieldReturn(e);r=d.from(t).getEnumerator()}for(;r.moveNext();)if(e=r.current(),!o.contains(e))return o.add(e),this.yieldReturn(e);return!1}),(function(){try{c.dispose(i)}finally{c.dispose(r)}}))}))},d.prototype.orderBy=function(t){return new p(this,t,!1)},d.prototype.orderByDescending=function(t){return new p(this,t,!0)},d.prototype.reverse=function(){var t=this;return new d((function(){var e,n;return new u((function(){e=t.toArray(),n=e.length}),(function(){return n>0&&this.yieldReturn(e[--n])}),s.Blank)}))},d.prototype.shuffle=function(){var t=this;return new d((function(){var e;return new u((function(){e=t.toArray()}),(function(){if(e.length>0){var t=Math.floor(Math.random()*e.length);return this.yieldReturn(e.splice(t,1)[0])}return!1}),s.Blank)}))},d.prototype.weightedSample=function(t){t=c.createLambda(t);var e=this;return new d((function(){var n,i=0;return new u((function(){n=e.choose((function(e){var n=t(e);return n<=0?null:{value:e,bound:i+=n}})).toArray()}),(function(){if(n.length>0){for(var t=Math.floor(Math.random()*i)+1,e=-1,r=n.length;r-e>1;){var o=Math.floor((e+r)/2);n[o].bound>=t?r=o:e=o}return this.yieldReturn(n[r].value)}return this.yieldBreak()}),s.Blank)}))},d.prototype.groupBy=function(t,e,n,i){var r=this;return t=c.createLambda(t),e=c.createLambda(e),null!=n&&(n=c.createLambda(n)),i=c.createLambda(i),new d((function(){var o;return new u((function(){o=r.toLookup(t,e,i).toEnumerable().getEnumerator()}),(function(){for(;o.moveNext();)return this.yieldReturn(null==n?o.current():n(o.current().key(),o.current()));return!1}),(function(){c.dispose(o)}))}))},d.prototype.partitionBy=function(t,e,n,i){var r,o=this;return t=c.createLambda(t),e=c.createLambda(e),i=c.createLambda(i),null==n?(r=!1,n=function(t,e){return new w(t,e)}):(r=!0,n=c.createLambda(n)),new d((function(){var s,a,l,h=[];return new u((function(){(s=o.getEnumerator()).moveNext()&&(a=t(s.current()),l=i(a),h.push(e(s.current())))}),(function(){for(var o;1==(o=s.moveNext())&&l===i(t(s.current()));)h.push(e(s.current()));if(h.length>0){var c=n(a,r?d.from(h):h);return o?(a=t(s.current()),l=i(a),h=[e(s.current())]):h=[],this.yieldReturn(c)}return!1}),(function(){c.dispose(s)}))}))},d.prototype.buffer=function(t){var e=this;return new d((function(){var n;return new u((function(){n=e.getEnumerator()}),(function(){for(var e=[],i=0;n.moveNext();)if(e.push(n.current()),++i>=t)return this.yieldReturn(e);return e.length>0&&this.yieldReturn(e)}),(function(){c.dispose(n)}))}))},d.prototype.aggregate=function(t,e,n){return(n=c.createLambda(n))(this.scan(t,e,n).last())},d.prototype.average=function(t){t=c.createLambda(t);var e=0,n=0;return this.forEach((function(i){e+=t(i),++n})),e/n},d.prototype.count=function(t){t=null==t?s.True:c.createLambda(t);var e=0;return this.forEach((function(n,i){t(n,i)&&++e})),e},d.prototype.max=function(t){return null==t&&(t=s.Identity),this.select(t).aggregate((function(t,e){return t>e?t:e}))},d.prototype.min=function(t){return null==t&&(t=s.Identity),this.select(t).aggregate((function(t,e){return t<e?t:e}))},d.prototype.maxBy=function(t){return t=c.createLambda(t),this.aggregate((function(e,n){return t(e)>t(n)?e:n}))},d.prototype.minBy=function(t){return t=c.createLambda(t),this.aggregate((function(e,n){return t(e)<t(n)?e:n}))},d.prototype.sum=function(t){return null==t&&(t=s.Identity),this.select(t).aggregate(0,(function(t,e){return t+e}))},d.prototype.elementAt=function(t){var e,n=!1;if(this.forEach((function(i,r){if(r==t)return e=i,n=!0,!1})),!n)throw new Error("index is less than 0 or greater than or equal to the number of elements in source.");return e},d.prototype.elementAtOrDefault=function(t,e){var n;void 0===e&&(e=null);var i=!1;return this.forEach((function(e,r){if(r==t)return n=e,i=!0,!1})),i?n:e},d.prototype.first=function(t){if(null!=t)return this.where(t).first();var e,n=!1;if(this.forEach((function(t){return e=t,n=!0,!1})),!n)throw new Error("first:No element satisfies the condition.");return e},d.prototype.firstOrDefault=function(t,e){if(void 0!==t){if("function"==typeof t||"function"==typeof c.createLambda(t))return this.where(t).firstOrDefault(void 0,e);e=t}var n,i=!1;return this.forEach((function(t){return n=t,i=!0,!1})),i?n:e},d.prototype.last=function(t){if(null!=t)return this.where(t).last();var e,n=!1;if(this.forEach((function(t){n=!0,e=t})),!n)throw new Error("last:No element satisfies the condition.");return e},d.prototype.lastOrDefault=function(t,e){if(void 0!==t){if("function"==typeof t||"function"==typeof c.createLambda(t))return this.where(t).lastOrDefault(void 0,e);e=t}var n,i=!1;return this.forEach((function(t){i=!0,n=t})),i?n:e},d.prototype.single=function(t){if(null!=t)return this.where(t).single();var e,n=!1;if(this.forEach((function(t){if(n)throw new Error("single:sequence contains more than one element.");n=!0,e=t})),!n)throw new Error("single:No element satisfies the condition.");return e},d.prototype.singleOrDefault=function(t,e){if(void 0===e&&(e=null),null!=t)return this.where(t).singleOrDefault(null,e);var n,i=!1;return this.forEach((function(t){if(i)throw new Error("single:sequence contains more than one element.");i=!0,n=t})),i?n:e},d.prototype.skip=function(t){var e=this;return new d((function(){var n,i=0;return new u((function(){for(n=e.getEnumerator();i++<t&&n.moveNext(););}),(function(){return!!n.moveNext()&&this.yieldReturn(n.current())}),(function(){c.dispose(n)}))}))},d.prototype.skipWhile=function(t){t=c.createLambda(t);var e=this;return new d((function(){var n,i=0,r=!1;return new u((function(){n=e.getEnumerator()}),(function(){for(;!r;){if(!n.moveNext())return!1;if(!t(n.current(),i++))return r=!0,this.yieldReturn(n.current())}return!!n.moveNext()&&this.yieldReturn(n.current())}),(function(){c.dispose(n)}))}))},d.prototype.take=function(t){var e=this;return new d((function(){var n,i=0;return new u((function(){n=e.getEnumerator()}),(function(){return!!(i++<t&&n.moveNext())&&this.yieldReturn(n.current())}),(function(){c.dispose(n)}))}))},d.prototype.takeWhile=function(t){t=c.createLambda(t);var e=this;return new d((function(){var n,i=0;return new u((function(){n=e.getEnumerator()}),(function(){return!(!n.moveNext()||!t(n.current(),i++))&&this.yieldReturn(n.current())}),(function(){c.dispose(n)}))}))},d.prototype.takeExceptLast=function(t){null==t&&(t=1);var e=this;return new d((function(){if(t<=0)return e.getEnumerator();var n,i=[];return new u((function(){n=e.getEnumerator()}),(function(){for(;n.moveNext();){if(i.length==t)return i.push(n.current()),this.yieldReturn(i.shift());i.push(n.current())}return!1}),(function(){c.dispose(n)}))}))},d.prototype.takeFromLast=function(t){if(t<=0||null==t)return d.empty();var e=this;return new d((function(){var n,i,r=[];return new u((function(){n=e.getEnumerator()}),(function(){for(;n.moveNext();)r.length==t&&r.shift(),r.push(n.current());return null==i&&(i=d.from(r).getEnumerator()),!!i.moveNext()&&this.yieldReturn(i.current())}),(function(){c.dispose(i)}))}))},d.prototype.indexOf=function(t){var e=null;return this.forEach("function"==typeof t?function(n,i){if(t(n,i))return e=i,!1}:function(n,i){if(n===t)return e=i,!1}),null!==e?e:-1},d.prototype.lastIndexOf=function(t){var e=-1;return this.forEach("function"==typeof t?function(n,i){t(n,i)&&(e=i)}:function(n,i){n===t&&(e=i)}),e},d.prototype.cast=function(){return this},d.prototype.asEnumerable=function(){return d.from(this)},d.prototype.toArray=function(){var t=[];return this.forEach((function(e){t.push(e)})),t},d.prototype.toLookup=function(t,e,n){t=c.createLambda(t),e=c.createLambda(e),n=c.createLambda(n);var i=new v(n);return this.forEach((function(n){var r=t(n),o=e(n),s=i.get(r);void 0!==s?s.push(o):i.add(r,[o])})),new b(i)},d.prototype.toObject=function(t,e){t=c.createLambda(t),e=c.createLambda(e);var n={};return this.forEach((function(i){n[t(i)]=e(i)})),n},d.prototype.toDictionary=function(t,e,n){t=c.createLambda(t),e=c.createLambda(e),n=c.createLambda(n);var i=new v(n);return this.forEach((function(n){i.add(t(n),e(n))})),i},d.prototype.toJSONString=function(t,e){if("undefined"==typeof JSON||null==JSON.stringify)throw new Error("toJSONString can't find JSON.stringify. This works native JSON support Browser or include json2.js");return JSON.stringify(this.toArray(),t,e)},d.prototype.toJoinedString=function(t,e){return null==t&&(t=""),null==e&&(e=s.Identity),this.select(e).toArray().join(t)},d.prototype.doAction=function(t){var e=this;return t=c.createLambda(t),new d((function(){var n,i=0;return new u((function(){n=e.getEnumerator()}),(function(){return!!n.moveNext()&&(t(n.current(),i++),this.yieldReturn(n.current()))}),(function(){c.dispose(n)}))}))},d.prototype.forEach=function(t){t=c.createLambda(t);var e=0,n=this.getEnumerator();try{for(;n.moveNext()&&!1!==t(n.current(),e++););}finally{c.dispose(n)}},d.prototype.write=function(t,e){null==t&&(t=""),e=c.createLambda(e);var n=!0;this.forEach((function(i){n?n=!1:document.write(t),document.write(e(i))}))},d.prototype.writeLine=function(t){t=c.createLambda(t),this.forEach((function(e){document.writeln(t(e)+"<br />")}))},d.prototype.force=function(){var t=this.getEnumerator();try{for(;t.moveNext(););}finally{c.dispose(t)}},d.prototype.letBind=function(t){t=c.createLambda(t);var e=this;return new d((function(){var n;return new u((function(){n=d.from(t(e)).getEnumerator()}),(function(){return!!n.moveNext()&&this.yieldReturn(n.current())}),(function(){c.dispose(n)}))}))},d.prototype.share=function(){var t,e=this,n=!1;return new m((function(){return new u((function(){null==t&&(t=e.getEnumerator())}),(function(){if(n)throw new Error("enumerator is disposed");return!!t.moveNext()&&this.yieldReturn(t.current())}),s.Blank)}),(function(){n=!0,c.dispose(t)}))},d.prototype.memoize=function(){var t,e,n=this,i=!1;return new m((function(){var r=-1;return new u((function(){null==e&&(e=n.getEnumerator(),t=[])}),(function(){if(i)throw new Error("enumerator is disposed");return r++,t.length<=r?!!e.moveNext()&&this.yieldReturn(t[r]=e.current()):this.yieldReturn(t[r])}),s.Blank)}),(function(){i=!0,c.dispose(e),t=null}))},c.hasNativeIteratorSupport()&&(d.prototype[Symbol.iterator]=function(){return{enumerator:this.getEnumerator(),next:function(){return this.enumerator.moveNext()?{done:!1,value:this.enumerator.current()}:{done:!0}}}}),d.prototype.catchError=function(t){t=c.createLambda(t);var e=this;return new d((function(){var n;return new u((function(){n=e.getEnumerator()}),(function(){try{return!!n.moveNext()&&this.yieldReturn(n.current())}catch(e){return t(e),!1}}),(function(){c.dispose(n)}))}))},d.prototype.finallyAction=function(t){t=c.createLambda(t);var e=this;return new d((function(){var n;return new u((function(){n=e.getEnumerator()}),(function(){return!!n.moveNext()&&this.yieldReturn(n.current())}),(function(){try{c.dispose(n)}finally{t()}}))}))},d.prototype.log=function(t){return t=c.createLambda(t),this.doAction((function(e){"undefined"!=typeof console&&console.log(t(e))}))},d.prototype.trace=function(t,e){return null==t&&(t="Trace"),e=c.createLambda(e),this.doAction((function(n){"undefined"!=typeof console&&console.log(t,e(n))}))};var p=function(t,e,n,i){this.source=t,this.keySelector=c.createLambda(e),this.descending=n,this.parent=i};p.prototype=new d,p.prototype.createOrderedEnumerable=function(t,e){return new p(this.source,t,e,this)},p.prototype.thenBy=function(t){return this.createOrderedEnumerable(t,!1)},p.prototype.thenByDescending=function(t){return this.createOrderedEnumerable(t,!0)},p.prototype.getEnumerator=function(){var t,e,n=this,i=0;return new u((function(){t=[],e=[],n.source.forEach((function(n,i){t.push(n),e.push(i)}));var i=f.create(n,null);i.GenerateKeys(t),e.sort((function(t,e){return i.compare(t,e)}))}),(function(){return i<e.length&&this.yieldReturn(t[e[i++]])}),s.Blank)};var f=function(t,e,n){this.keySelector=t,this.descending=e,this.child=n,this.keys=null};f.create=function(t,e){var n=new f(t.keySelector,t.descending,e);return null!=t.parent?f.create(t.parent,n):n},f.prototype.GenerateKeys=function(t){for(var e=t.length,n=this.keySelector,i=new Array(e),r=0;r<e;r++)i[r]=n(t[r]);this.keys=i,null!=this.child&&this.child.GenerateKeys(t)},f.prototype.compare=function(t,e){var n=c.compare(this.keys[t],this.keys[e]);return 0==n?null!=this.child?this.child.compare(t,e):c.compare(t,e):this.descending?-n:n};var m=function(t,e){this.dispose=e,d.call(this,t)};m.prototype=new d;var g=function(t){this.getSource=function(){return t}};g.prototype=new d,g.prototype.any=function(t){return null==t?this.getSource().length>0:d.prototype.any.apply(this,arguments)},g.prototype.count=function(t){return null==t?this.getSource().length:d.prototype.count.apply(this,arguments)},g.prototype.elementAt=function(t){var e=this.getSource();return 0<=t&&t<e.length?e[t]:d.prototype.elementAt.apply(this,arguments)},g.prototype.elementAtOrDefault=function(t,e){void 0===e&&(e=null);var n=this.getSource();return 0<=t&&t<n.length?n[t]:e},g.prototype.first=function(t){var e=this.getSource();return null==t&&e.length>0?e[0]:d.prototype.first.apply(this,arguments)},g.prototype.firstOrDefault=function(t,e){if(void 0!==t)return d.prototype.firstOrDefault.apply(this,arguments);e=t;var n=this.getSource();return n.length>0?n[0]:e},g.prototype.last=function(t){var e=this.getSource();return null==t&&e.length>0?e[e.length-1]:d.prototype.last.apply(this,arguments)},g.prototype.lastOrDefault=function(t,e){if(void 0!==t)return d.prototype.lastOrDefault.apply(this,arguments);e=t;var n=this.getSource();return n.length>0?n[n.length-1]:e},g.prototype.skip=function(t){var e=this.getSource();return new d((function(){var n;return new u((function(){n=t<0?0:t}),(function(){return n<e.length&&this.yieldReturn(e[n++])}),s.Blank)}))},g.prototype.takeExceptLast=function(t){return null==t&&(t=1),this.take(this.getSource().length-t)},g.prototype.takeFromLast=function(t){return this.skip(this.getSource().length-t)},g.prototype.reverse=function(){var t=this.getSource();return new d((function(){var e;return new u((function(){e=t.length}),(function(){return e>0&&this.yieldReturn(t[--e])}),s.Blank)}))},g.prototype.sequenceEqual=function(t,e){return(!(t instanceof g||t instanceof Array)||null!=e||d.from(t).count()==this.count())&&d.prototype.sequenceEqual.apply(this,arguments)},g.prototype.toJoinedString=function(t,e){var n=this.getSource();return null==e&&n instanceof Array?(null==t&&(t=""),n.join(t)):d.prototype.toJoinedString.apply(this,arguments)},g.prototype.getEnumerator=function(){var t=this.getSource(),e=-1;return{current:function(){return t[e]},moveNext:function(){return++e<t.length},dispose:s.Blank}};var y=function(t,e){this.prevSource=t,this.prevPredicate=e};y.prototype=new d,y.prototype.where=function(t){if((t=c.createLambda(t)).length<=1){var e=this.prevPredicate;return new y(this.prevSource,(function(n){return e(n)&&t(n)}))}return d.prototype.where.call(this,t)},y.prototype.select=function(t){return(t=c.createLambda(t)).length<=1?new _(this.prevSource,this.prevPredicate,t):d.prototype.select.call(this,t)},y.prototype.getEnumerator=function(){var t,e=this.prevPredicate,n=this.prevSource;return new u((function(){t=n.getEnumerator()}),(function(){for(;t.moveNext();)if(e(t.current()))return this.yieldReturn(t.current());return!1}),(function(){c.dispose(t)}))};var _=function(t,e,n){this.prevSource=t,this.prevPredicate=e,this.prevSelector=n};_.prototype=new d,_.prototype.where=function(t){return(t=c.createLambda(t)).length<=1?new y(this,t):d.prototype.where.call(this,t)},_.prototype.select=function(t){if((t=c.createLambda(t)).length<=1){var e=this.prevSelector;return new _(this.prevSource,this.prevPredicate,(function(n){return t(e(n))}))}return d.prototype.select.call(this,t)},_.prototype.getEnumerator=function(){var t,e=this.prevPredicate,n=this.prevSelector,i=this.prevSource;return new u((function(){t=i.getEnumerator()}),(function(){for(;t.moveNext();)if(null==e||e(t.current()))return this.yieldReturn(n(t.current()));return!1}),(function(){c.dispose(t)}))};var v=function(){var t=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},e=function(t){return null===t?"null":void 0===t?"undefined":"function"==typeof t.toString?t.toString():Object.prototype.toString.call(t)},n=function(t,e){this.key=t,this.value=e,this.prev=null,this.next=null},i=function(){this.first=null,this.last=null};i.prototype={addLast:function(t){null!=this.last?(this.last.next=t,t.prev=this.last,this.last=t):this.first=this.last=t},replace:function(t,e){null!=t.prev?(t.prev.next=e,e.prev=t.prev):this.first=e,null!=t.next?(t.next.prev=e,e.next=t.next):this.last=e},remove:function(t){null!=t.prev?t.prev.next=t.next:this.first=t.next,null!=t.next?t.next.prev=t.prev:this.last=t.prev}};var r=function(t){this.countField=0,this.entryList=new i,this.buckets={},this.compareSelector=null==t?s.Identity:t};return r.prototype={add:function(i,r){var o=this.compareSelector(i),s=e(o),a=new n(i,r);if(t(this.buckets,s)){for(var l=this.buckets[s],c=0;c<l.length;c++)if(this.compareSelector(l[c].key)===o)return this.entryList.replace(l[c],a),void(l[c]=a);l.push(a)}else this.buckets[s]=[a];this.countField++,this.entryList.addLast(a)},get:function(n){var i=this.compareSelector(n),r=e(i);if(t(this.buckets,r))for(var o=this.buckets[r],s=0;s<o.length;s++){var a=o[s];if(this.compareSelector(a.key)===i)return a.value}},set:function(i,r){var o=this.compareSelector(i),s=e(o);if(t(this.buckets,s))for(var a=this.buckets[s],l=0;l<a.length;l++)if(this.compareSelector(a[l].key)===o){var c=new n(i,r);return this.entryList.replace(a[l],c),a[l]=c,!0}return!1},contains:function(n){var i=this.compareSelector(n),r=e(i);if(!t(this.buckets,r))return!1;for(var o=this.buckets[r],s=0;s<o.length;s++)if(this.compareSelector(o[s].key)===i)return!0;return!1},clear:function(){this.countField=0,this.buckets={},this.entryList=new i},remove:function(n){var i=this.compareSelector(n),r=e(i);if(t(this.buckets,r))for(var o=this.buckets[r],s=0;s<o.length;s++)if(this.compareSelector(o[s].key)===i)return this.entryList.remove(o[s]),o.splice(s,1),0==o.length&&delete this.buckets[r],void this.countField--},count:function(){return this.countField},toEnumerable:function(){var t=this;return new d((function(){var e;return new u((function(){e=t.entryList.first}),(function(){if(null!=e){var t={key:e.key,value:e.value};return e=e.next,this.yieldReturn(t)}return!1}),s.Blank)}))}},r}(),b=function(t){this.count=function(){return t.count()},this.get=function(e){return d.from(t.get(e))},this.contains=function(e){return t.contains(e)},this.toEnumerable=function(){return t.toEnumerable().select((function(t){return new w(t.key,t.value)}))}},w=function(t,e){this.key=function(){return t},g.call(this,e)};w.prototype=new g,n("PDX0")?void 0===(i=(function(){return d}).apply(e,[]))||(t.exports=i):void 0!==t&&t.exports?t.exports=d:r.Enumerable=d}(this)},AP2z:function(t,e,n){var i=n("nmnc"),r=Object.prototype,o=r.hasOwnProperty,s=r.toString,a=i?i.toStringTag:void 0;t.exports=function(t){var e=o.call(t,a),n=t[a];try{t[a]=void 0;var i=!0}catch(l){}var r=s.call(t);return i&&(e?t[a]=n:delete t[a]),r}},B8du:function(t,e){t.exports=function(){return!1}},BiGR:function(t,e,n){var i=n("nmnc"),r=n("03A+"),o=n("Z0cm"),s=i?i.isConcatSpreadable:void 0;t.exports=function(t){return o(t)||r(t)||!!(s&&t&&t[s])}},CH3K:function(t,e){t.exports=function(t,e){for(var n=-1,i=e.length,r=t.length;++n<i;)t[r+n]=e[n];return t}},CMye:function(t,e,n){var i=n("GoyQ");t.exports=function(t){return t==t&&!i(t)}},CZPu:function(t,e){t.exports={}},CZoQ:function(t,e){t.exports=function(t,e,n){for(var i=n-1,r=t.length;++i<r;)if(t[i]===e)return i;return-1}},Cwc5:function(t,e,n){var i=n("NKxu"),r=n("Npjl");t.exports=function(t,e){var n=r(t,e);return i(n)?n:void 0}},DSRE:function(t,e,n){(function(t){var i=n("Kz5y"),r=n("B8du"),o=e&&!e.nodeType&&e,s=o&&"object"==typeof t&&t&&!t.nodeType&&t,a=s&&s.exports===o?i.Buffer:void 0;t.exports=(a?a.isBuffer:void 0)||r}).call(this,n("YuTi")(t))},"Dw+G":function(t,e,n){var i=n("juv8"),r=n("mTTR");t.exports=function(t,e){return t&&i(e,r(e),t)}},DzJC:function(t,e,n){var i=n("sEfC"),r=n("GoyQ");t.exports=function(t,e,n){var o=!0,s=!0;if("function"!=typeof t)throw new TypeError("Expected a function");return r(n)&&(o="leading"in n?!!n.leading:o,s="trailing"in n?!!n.trailing:s),i(t,e,{leading:o,maxWait:e,trailing:s})}},E2jh:function(t,e,n){var i,r=n("2gN3"),o=(i=/[^.]+$/.exec(r&&r.keys&&r.keys.IE_PROTO||""))?"Symbol(src)_1."+i:"";t.exports=function(t){return!!o&&o in t}},EA7m:function(t,e,n){var i=n("zZ0H"),r=n("Ioao"),o=n("wclG");t.exports=function(t,e){return o(r(t,e,i),t+"")}},EEGq:function(t,e,n){var i=n("juv8"),r=n("oCl/");t.exports=function(t,e){return i(t,r(t),e)}},EpBk:function(t,e){t.exports=function(t){var e=typeof t;return"string"==e||"number"==e||"symbol"==e||"boolean"==e?"__proto__"!==t:null===t}},EtXl:function(t,e,n){var i;(function(){var n=this,r=n._,o=Array.prototype,s=Object.prototype,a=Function.prototype,l=o.push,c=o.slice,u=s.toString,h=s.hasOwnProperty,d=Array.isArray,p=Object.keys,f=a.bind,m=Object.create,g=function(){},y=function(t){return t instanceof y?t:this instanceof y?void(this._wrapped=t):new y(t)};t.exports&&(e=t.exports=y),e._=y,y.VERSION="1.8.3";var _=function(t,e,n){if(void 0===e)return t;switch(null==n?3:n){case 1:return function(n){return t.call(e,n)};case 2:return function(n,i){return t.call(e,n,i)};case 3:return function(n,i,r){return t.call(e,n,i,r)};case 4:return function(n,i,r,o){return t.call(e,n,i,r,o)}}return function(){return t.apply(e,arguments)}},v=function(t,e,n){return null==t?y.identity:y.isFunction(t)?_(t,e,n):y.isObject(t)?y.matcher(t):y.property(t)};y.iteratee=function(t,e){return v(t,e,1/0)};var b=function(t,e){return function(n){var i=arguments.length;if(i<2||null==n)return n;for(var r=1;r<i;r++)for(var o=arguments[r],s=t(o),a=s.length,l=0;l<a;l++){var c=s[l];e&&void 0!==n[c]||(n[c]=o[c])}return n}},w=function(t){if(!y.isObject(t))return{};if(m)return m(t);g.prototype=t;var e=new g;return g.prototype=null,e},C=function(t){return function(e){return null==e?void 0:e[t]}},x=Math.pow(2,53)-1,E=C("length"),S=function(t){var e=E(t);return"number"==typeof e&&e>=0&&e<=x};function P(t){function e(e,n,i,r,o,s){for(;o>=0&&o<s;o+=t){var a=r?r[o]:o;i=n(i,e[a],a,e)}return i}return function(n,i,r,o){i=_(i,o,4);var s=!S(n)&&y.keys(n),a=(s||n).length,l=t>0?0:a-1;return arguments.length<3&&(r=n[s?s[l]:l],l+=t),e(n,i,r,s,l,a)}}y.each=y.forEach=function(t,e,n){var i,r;if(e=_(e,n),S(t))for(i=0,r=t.length;i<r;i++)e(t[i],i,t);else{var o=y.keys(t);for(i=0,r=o.length;i<r;i++)e(t[o[i]],o[i],t)}return t},y.map=y.collect=function(t,e,n){e=v(e,n);for(var i=!S(t)&&y.keys(t),r=(i||t).length,o=Array(r),s=0;s<r;s++){var a=i?i[s]:s;o[s]=e(t[a],a,t)}return o},y.reduce=y.foldl=y.inject=P(1),y.reduceRight=y.foldr=P(-1),y.find=y.detect=function(t,e,n){var i;if(void 0!==(i=S(t)?y.findIndex(t,e,n):y.findKey(t,e,n))&&-1!==i)return t[i]},y.filter=y.select=function(t,e,n){var i=[];return e=v(e,n),y.each(t,(function(t,n,r){e(t,n,r)&&i.push(t)})),i},y.reject=function(t,e,n){return y.filter(t,y.negate(v(e)),n)},y.every=y.all=function(t,e,n){e=v(e,n);for(var i=!S(t)&&y.keys(t),r=(i||t).length,o=0;o<r;o++){var s=i?i[o]:o;if(!e(t[s],s,t))return!1}return!0},y.some=y.any=function(t,e,n){e=v(e,n);for(var i=!S(t)&&y.keys(t),r=(i||t).length,o=0;o<r;o++){var s=i?i[o]:o;if(e(t[s],s,t))return!0}return!1},y.contains=y.includes=y.include=function(t,e,n,i){return S(t)||(t=y.values(t)),("number"!=typeof n||i)&&(n=0),y.indexOf(t,e,n)>=0},y.invoke=function(t,e){var n=c.call(arguments,2),i=y.isFunction(e);return y.map(t,(function(t){var r=i?e:t[e];return null==r?r:r.apply(t,n)}))},y.pluck=function(t,e){return y.map(t,y.property(e))},y.where=function(t,e){return y.filter(t,y.matcher(e))},y.findWhere=function(t,e){return y.find(t,y.matcher(e))},y.max=function(t,e,n){var i,r,o=-1/0,s=-1/0;if(null==e&&null!=t)for(var a=0,l=(t=S(t)?t:y.values(t)).length;a<l;a++)(i=t[a])>o&&(o=i);else e=v(e,n),y.each(t,(function(t,n,i){((r=e(t,n,i))>s||r===-1/0&&o===-1/0)&&(o=t,s=r)}));return o},y.min=function(t,e,n){var i,r,o=1/0,s=1/0;if(null==e&&null!=t)for(var a=0,l=(t=S(t)?t:y.values(t)).length;a<l;a++)(i=t[a])<o&&(o=i);else e=v(e,n),y.each(t,(function(t,n,i){((r=e(t,n,i))<s||r===1/0&&o===1/0)&&(o=t,s=r)}));return o},y.shuffle=function(t){for(var e,n=S(t)?t:y.values(t),i=n.length,r=Array(i),o=0;o<i;o++)(e=y.random(0,o))!==o&&(r[o]=r[e]),r[e]=n[o];return r},y.sample=function(t,e,n){return null==e||n?(S(t)||(t=y.values(t)),t[y.random(t.length-1)]):y.shuffle(t).slice(0,Math.max(0,e))},y.sortBy=function(t,e,n){return e=v(e,n),y.pluck(y.map(t,(function(t,n,i){return{value:t,index:n,criteria:e(t,n,i)}})).sort((function(t,e){var n=t.criteria,i=e.criteria;if(n!==i){if(n>i||void 0===n)return 1;if(n<i||void 0===i)return-1}return t.index-e.index})),"value")};var O=function(t){return function(e,n,i){var r={};return n=v(n,i),y.each(e,(function(i,o){var s=n(i,o,e);t(r,i,s)})),r}};y.groupBy=O((function(t,e,n){y.has(t,n)?t[n].push(e):t[n]=[e]})),y.indexBy=O((function(t,e,n){t[n]=e})),y.countBy=O((function(t,e,n){y.has(t,n)?t[n]++:t[n]=1})),y.toArray=function(t){return t?y.isArray(t)?c.call(t):S(t)?y.map(t,y.identity):y.values(t):[]},y.size=function(t){return null==t?0:S(t)?t.length:y.keys(t).length},y.partition=function(t,e,n){e=v(e,n);var i=[],r=[];return y.each(t,(function(t,n,o){(e(t,n,o)?i:r).push(t)})),[i,r]},y.first=y.head=y.take=function(t,e,n){if(null!=t)return null==e||n?t[0]:y.initial(t,t.length-e)},y.initial=function(t,e,n){return c.call(t,0,Math.max(0,t.length-(null==e||n?1:e)))},y.last=function(t,e,n){if(null!=t)return null==e||n?t[t.length-1]:y.rest(t,Math.max(0,t.length-e))},y.rest=y.tail=y.drop=function(t,e,n){return c.call(t,null==e||n?1:e)},y.compact=function(t){return y.filter(t,y.identity)};var k=function(t,e,n,i){for(var r=[],o=0,s=i||0,a=E(t);s<a;s++){var l=t[s];if(S(l)&&(y.isArray(l)||y.isArguments(l))){e||(l=k(l,e,n));var c=0,u=l.length;for(r.length+=u;c<u;)r[o++]=l[c++]}else n||(r[o++]=l)}return r};function T(t){return function(e,n,i){n=v(n,i);for(var r=E(e),o=t>0?0:r-1;o>=0&&o<r;o+=t)if(n(e[o],o,e))return o;return-1}}function I(t,e,n){return function(i,r,o){var s=0,a=E(i);if("number"==typeof o)t>0?s=o>=0?o:Math.max(o+a,s):a=o>=0?Math.min(o+1,a):o+a+1;else if(n&&o&&a)return i[o=n(i,r)]===r?o:-1;if(r!=r)return(o=e(c.call(i,s,a),y.isNaN))>=0?o+s:-1;for(o=t>0?s:a-1;o>=0&&o<a;o+=t)if(i[o]===r)return o;return-1}}y.flatten=function(t,e){return k(t,e,!1)},y.without=function(t){return y.difference(t,c.call(arguments,1))},y.uniq=y.unique=function(t,e,n,i){y.isBoolean(e)||(i=n,n=e,e=!1),null!=n&&(n=v(n,i));for(var r=[],o=[],s=0,a=E(t);s<a;s++){var l=t[s],c=n?n(l,s,t):l;e?(s&&o===c||r.push(l),o=c):n?y.contains(o,c)||(o.push(c),r.push(l)):y.contains(r,l)||r.push(l)}return r},y.union=function(){return y.uniq(k(arguments,!0,!0))},y.intersection=function(t){for(var e=[],n=arguments.length,i=0,r=E(t);i<r;i++){var o=t[i];if(!y.contains(e,o)){for(var s=1;s<n&&y.contains(arguments[s],o);s++);s===n&&e.push(o)}}return e},y.difference=function(t){var e=k(arguments,!0,!0,1);return y.filter(t,(function(t){return!y.contains(e,t)}))},y.zip=function(){return y.unzip(arguments)},y.unzip=function(t){for(var e=t&&y.max(t,E).length||0,n=Array(e),i=0;i<e;i++)n[i]=y.pluck(t,i);return n},y.object=function(t,e){for(var n={},i=0,r=E(t);i<r;i++)e?n[t[i]]=e[i]:n[t[i][0]]=t[i][1];return n},y.findIndex=T(1),y.findLastIndex=T(-1),y.sortedIndex=function(t,e,n,i){for(var r=(n=v(n,i,1))(e),o=0,s=E(t);o<s;){var a=Math.floor((o+s)/2);n(t[a])<r?o=a+1:s=a}return o},y.indexOf=I(1,y.findIndex,y.sortedIndex),y.lastIndexOf=I(-1,y.findLastIndex),y.range=function(t,e,n){null==e&&(e=t||0,t=0),n=n||1;for(var i=Math.max(Math.ceil((e-t)/n),0),r=Array(i),o=0;o<i;o++,t+=n)r[o]=t;return r};var A=function(t,e,n,i,r){if(!(i instanceof e))return t.apply(n,r);var o=w(t.prototype),s=t.apply(o,r);return y.isObject(s)?s:o};y.bind=function(t,e){if(f&&t.bind===f)return f.apply(t,c.call(arguments,1));if(!y.isFunction(t))throw new TypeError("Bind must be called on a function");var n=c.call(arguments,2),i=function(){return A(t,i,e,this,n.concat(c.call(arguments)))};return i},y.partial=function(t){var e=c.call(arguments,1),n=function(){for(var i=0,r=e.length,o=Array(r),s=0;s<r;s++)o[s]=e[s]===y?arguments[i++]:e[s];for(;i<arguments.length;)o.push(arguments[i++]);return A(t,n,this,this,o)};return n},y.bindAll=function(t){var e,n,i=arguments.length;if(i<=1)throw new Error("bindAll must be passed function names");for(e=1;e<i;e++)t[n=arguments[e]]=y.bind(t[n],t);return t},y.memoize=function(t,e){var n=function(i){var r=n.cache,o=""+(e?e.apply(this,arguments):i);return y.has(r,o)||(r[o]=t.apply(this,arguments)),r[o]};return n.cache={},n},y.delay=function(t,e){var n=c.call(arguments,2);return setTimeout((function(){return t.apply(null,n)}),e)},y.defer=y.partial(y.delay,y,1),y.throttle=function(t,e,n){var i,r,o,s=null,a=0;n||(n={});var l=function(){a=!1===n.leading?0:y.now(),s=null,o=t.apply(i,r),s||(i=r=null)};return function(){var c=y.now();a||!1!==n.leading||(a=c);var u=e-(c-a);return i=this,r=arguments,u<=0||u>e?(s&&(clearTimeout(s),s=null),a=c,o=t.apply(i,r),s||(i=r=null)):s||!1===n.trailing||(s=setTimeout(l,u)),o}},y.debounce=function(t,e,n){var i,r,o,s,a,l=function(){var c=y.now()-s;c<e&&c>=0?i=setTimeout(l,e-c):(i=null,n||(a=t.apply(o,r),i||(o=r=null)))};return function(){o=this,r=arguments,s=y.now();var c=n&&!i;return i||(i=setTimeout(l,e)),c&&(a=t.apply(o,r),o=r=null),a}},y.wrap=function(t,e){return y.partial(e,t)},y.negate=function(t){return function(){return!t.apply(this,arguments)}},y.compose=function(){var t=arguments,e=t.length-1;return function(){for(var n=e,i=t[e].apply(this,arguments);n--;)i=t[n].call(this,i);return i}},y.after=function(t,e){return function(){if(--t<1)return e.apply(this,arguments)}},y.before=function(t,e){var n;return function(){return--t>0&&(n=e.apply(this,arguments)),t<=1&&(e=null),n}},y.once=y.partial(y.before,2);var M=!{toString:null}.propertyIsEnumerable("toString"),D=["valueOf","isPrototypeOf","toString","propertyIsEnumerable","hasOwnProperty","toLocaleString"];function R(t,e){var n=D.length,i=t.constructor,r=y.isFunction(i)&&i.prototype||s,o="constructor";for(y.has(t,o)&&!y.contains(e,o)&&e.push(o);n--;)(o=D[n])in t&&t[o]!==r[o]&&!y.contains(e,o)&&e.push(o)}y.keys=function(t){if(!y.isObject(t))return[];if(p)return p(t);var e=[];for(var n in t)y.has(t,n)&&e.push(n);return M&&R(t,e),e},y.allKeys=function(t){if(!y.isObject(t))return[];var e=[];for(var n in t)e.push(n);return M&&R(t,e),e},y.values=function(t){for(var e=y.keys(t),n=e.length,i=Array(n),r=0;r<n;r++)i[r]=t[e[r]];return i},y.mapObject=function(t,e,n){e=v(e,n);for(var i,r=y.keys(t),o=r.length,s={},a=0;a<o;a++)s[i=r[a]]=e(t[i],i,t);return s},y.pairs=function(t){for(var e=y.keys(t),n=e.length,i=Array(n),r=0;r<n;r++)i[r]=[e[r],t[e[r]]];return i},y.invert=function(t){for(var e={},n=y.keys(t),i=0,r=n.length;i<r;i++)e[t[n[i]]]=n[i];return e},y.functions=y.methods=function(t){var e=[];for(var n in t)y.isFunction(t[n])&&e.push(n);return e.sort()},y.extend=b(y.allKeys),y.extendOwn=y.assign=b(y.keys),y.findKey=function(t,e,n){e=v(e,n);for(var i,r=y.keys(t),o=0,s=r.length;o<s;o++)if(e(t[i=r[o]],i,t))return i},y.pick=function(t,e,n){var i,r,o={},s=t;if(null==s)return o;y.isFunction(e)?(r=y.allKeys(s),i=_(e,n)):(r=k(arguments,!1,!1,1),i=function(t,e,n){return e in n},s=Object(s));for(var a=0,l=r.length;a<l;a++){var c=r[a],u=s[c];i(u,c,s)&&(o[c]=u)}return o},y.omit=function(t,e,n){if(y.isFunction(e))e=y.negate(e);else{var i=y.map(k(arguments,!1,!1,1),String);e=function(t,e){return!y.contains(i,e)}}return y.pick(t,e,n)},y.defaults=b(y.allKeys,!0),y.create=function(t,e){var n=w(t);return e&&y.extendOwn(n,e),n},y.clone=function(t){return y.isObject(t)?y.isArray(t)?t.slice():y.extend({},t):t},y.tap=function(t,e){return e(t),t},y.isMatch=function(t,e){var n=y.keys(e),i=n.length;if(null==t)return!i;for(var r=Object(t),o=0;o<i;o++){var s=n[o];if(e[s]!==r[s]||!(s in r))return!1}return!0};var F=function(t,e,n,i){if(t===e)return 0!==t||1/t==1/e;if(null==t||null==e)return t===e;t instanceof y&&(t=t._wrapped),e instanceof y&&(e=e._wrapped);var r=u.call(t);if(r!==u.call(e))return!1;switch(r){case"[object RegExp]":case"[object String]":return""+t==""+e;case"[object Number]":return+t!=+t?+e!=+e:0==+t?1/+t==1/e:+t==+e;case"[object Date]":case"[object Boolean]":return+t==+e}var o="[object Array]"===r;if(!o){if("object"!=typeof t||"object"!=typeof e)return!1;var s=t.constructor,a=e.constructor;if(s!==a&&!(y.isFunction(s)&&s instanceof s&&y.isFunction(a)&&a instanceof a)&&"constructor"in t&&"constructor"in e)return!1}i=i||[];for(var l=(n=n||[]).length;l--;)if(n[l]===t)return i[l]===e;if(n.push(t),i.push(e),o){if((l=t.length)!==e.length)return!1;for(;l--;)if(!F(t[l],e[l],n,i))return!1}else{var c,h=y.keys(t);if(l=h.length,y.keys(e).length!==l)return!1;for(;l--;)if(!y.has(e,c=h[l])||!F(t[c],e[c],n,i))return!1}return n.pop(),i.pop(),!0};y.isEqual=function(t,e){return F(t,e)},y.isEmpty=function(t){return null==t||(S(t)&&(y.isArray(t)||y.isString(t)||y.isArguments(t))?0===t.length:0===y.keys(t).length)},y.isElement=function(t){return!(!t||1!==t.nodeType)},y.isArray=d||function(t){return"[object Array]"===u.call(t)},y.isObject=function(t){var e=typeof t;return"function"===e||"object"===e&&!!t},y.each(["Arguments","Function","String","Number","Date","RegExp","Error"],(function(t){y["is"+t]=function(e){return u.call(e)==="[object "+t+"]"}})),y.isArguments(arguments)||(y.isArguments=function(t){return y.has(t,"callee")}),"object"!=typeof Int8Array&&(y.isFunction=function(t){return"function"==typeof t||!1}),y.isFinite=function(t){return isFinite(t)&&!isNaN(parseFloat(t))},y.isNaN=function(t){return y.isNumber(t)&&t!==+t},y.isBoolean=function(t){return!0===t||!1===t||"[object Boolean]"===u.call(t)},y.isNull=function(t){return null===t},y.isUndefined=function(t){return void 0===t},y.has=function(t,e){return null!=t&&h.call(t,e)},y.noConflict=function(){return n._=r,this},y.identity=function(t){return t},y.constant=function(t){return function(){return t}},y.noop=function(){},y.property=C,y.propertyOf=function(t){return null==t?function(){}:function(e){return t[e]}},y.matcher=y.matches=function(t){return t=y.extendOwn({},t),function(e){return y.isMatch(e,t)}},y.times=function(t,e,n){var i=Array(Math.max(0,t));e=_(e,n,1);for(var r=0;r<t;r++)i[r]=e(r);return i},y.random=function(t,e){return null==e&&(e=t,t=0),t+Math.floor(Math.random()*(e-t+1))},y.now=Date.now||function(){return(new Date).getTime()};var L={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#x27;","`":"&#x60;"},B=y.invert(L),N=function(t){var e=function(e){return t[e]},n="(?:"+y.keys(t).join("|")+")",i=RegExp(n),r=RegExp(n,"g");return function(t){return i.test(t=null==t?"":""+t)?t.replace(r,e):t}};y.escape=N(L),y.unescape=N(B),y.result=function(t,e,n){var i=null==t?void 0:t[e];return void 0===i&&(i=n),y.isFunction(i)?i.call(t):i};var j=0;y.uniqueId=function(t){var e=++j+"";return t?t+e:e},y.templateSettings={evaluate:/<%([\s\S]+?)%>/g,interpolate:/<%=([\s\S]+?)%>/g,escape:/<%-([\s\S]+?)%>/g};var z=/(.)^/,H={"'":"'","\\":"\\","\r":"r","\n":"n","\u2028":"u2028","\u2029":"u2029"},V=/\\|'|\r|\n|\u2028|\u2029/g,U=function(t){return"\\"+H[t]};y.template=function(t,e,n){!e&&n&&(e=n),e=y.defaults({},e,y.templateSettings);var i=RegExp([(e.escape||z).source,(e.interpolate||z).source,(e.evaluate||z).source].join("|")+"|$","g"),r=0,o="__p+='";t.replace(i,(function(e,n,i,s,a){return o+=t.slice(r,a).replace(V,U),r=a+e.length,n?o+="'+\n((__t=("+n+"))==null?'':_.escape(__t))+\n'":i?o+="'+\n((__t=("+i+"))==null?'':__t)+\n'":s&&(o+="';\n"+s+"\n__p+='"),e})),o+="';\n",e.variable||(o="with(obj||{}){\n"+o+"}\n"),o="var __t,__p='',__j=Array.prototype.join,print=function(){__p+=__j.call(arguments,'');};\n"+o+"return __p;\n";try{var s=new Function(e.variable||"obj","_",o)}catch(l){throw l.source=o,l}var a=function(t){return s.call(this,t,y)};return a.source="function("+(e.variable||"obj")+"){\n"+o+"}",a},y.chain=function(t){var e=y(t);return e._chain=!0,e};var W=function(t,e){return t._chain?y(e).chain():e};y.mixin=function(t){y.each(y.functions(t),(function(e){var n=y[e]=t[e];y.prototype[e]=function(){var t=[this._wrapped];return l.apply(t,arguments),W(this,n.apply(y,t))}}))},y.mixin(y),y.each(["pop","push","reverse","shift","sort","splice","unshift"],(function(t){var e=o[t];y.prototype[t]=function(){var n=this._wrapped;return e.apply(n,arguments),"shift"!==t&&"splice"!==t||0!==n.length||delete n[0],W(this,n)}})),y.each(["concat","join","slice"],(function(t){var e=o[t];y.prototype[t]=function(){return W(this,e.apply(this._wrapped,arguments))}})),y.prototype.value=function(){return this._wrapped},y.prototype.valueOf=y.prototype.toJSON=y.prototype.value,y.prototype.toString=function(){return""+this._wrapped},void 0===(i=(function(){return y}).apply(e,[]))||(t.exports=i)}).call(this)},ExA7:function(t,e){t.exports=function(t){return null!=t&&"object"==typeof t}},"F/us":function(t,e,n){(function(t){var n;!function(){var i="object"==typeof self&&self.self===self&&self||"object"==typeof global&&global.global===global&&global||this||{},r=i._,o=Array.prototype,s=Object.prototype,a="undefined"!=typeof Symbol?Symbol.prototype:null,l=o.push,c=o.slice,u=s.toString,h=s.hasOwnProperty,d=Array.isArray,p=Object.keys,f=Object.create,m=function(){},g=function(t){return t instanceof g?t:this instanceof g?void(this._wrapped=t):new g(t)};e.nodeType?i._=g:(!t.nodeType&&t.exports&&(e=t.exports=g),e._=g),g.VERSION="1.9.2";var y,_=function(t,e,n){if(void 0===e)return t;switch(null==n?3:n){case 1:return function(n){return t.call(e,n)};case 3:return function(n,i,r){return t.call(e,n,i,r)};case 4:return function(n,i,r,o){return t.call(e,n,i,r,o)}}return function(){return t.apply(e,arguments)}},v=function(t,e,n){return g.iteratee!==y?g.iteratee(t,e):null==t?g.identity:g.isFunction(t)?_(t,e,n):g.isObject(t)&&!g.isArray(t)?g.matcher(t):g.property(t)};g.iteratee=y=function(t,e){return v(t,e,1/0)};var b=function(t,e){return e=null==e?t.length-1:+e,function(){for(var n=Math.max(arguments.length-e,0),i=Array(n),r=0;r<n;r++)i[r]=arguments[r+e];switch(e){case 0:return t.call(this,i);case 1:return t.call(this,arguments[0],i);case 2:return t.call(this,arguments[0],arguments[1],i)}var o=Array(e+1);for(r=0;r<e;r++)o[r]=arguments[r];return o[e]=i,t.apply(this,o)}},w=function(t){if(!g.isObject(t))return{};if(f)return f(t);m.prototype=t;var e=new m;return m.prototype=null,e},C=function(t){return function(e){return null==e?void 0:e[t]}},x=function(t,e){return null!=t&&h.call(t,e)},E=function(t,e){for(var n=e.length,i=0;i<n;i++){if(null==t)return;t=t[e[i]]}return n?t:void 0},S=Math.pow(2,53)-1,P=C("length"),O=function(t){var e=P(t);return"number"==typeof e&&e>=0&&e<=S};g.each=g.forEach=function(t,e,n){var i,r;if(e=_(e,n),O(t))for(i=0,r=t.length;i<r;i++)e(t[i],i,t);else{var o=g.keys(t);for(i=0,r=o.length;i<r;i++)e(t[o[i]],o[i],t)}return t},g.map=g.collect=function(t,e,n){e=v(e,n);for(var i=!O(t)&&g.keys(t),r=(i||t).length,o=Array(r),s=0;s<r;s++){var a=i?i[s]:s;o[s]=e(t[a],a,t)}return o};var k=function(t){var e=function(e,n,i,r){var o=!O(e)&&g.keys(e),s=(o||e).length,a=t>0?0:s-1;for(r||(i=e[o?o[a]:a],a+=t);a>=0&&a<s;a+=t){var l=o?o[a]:a;i=n(i,e[l],l,e)}return i};return function(t,n,i,r){var o=arguments.length>=3;return e(t,_(n,r,4),i,o)}};g.reduce=g.foldl=g.inject=k(1),g.reduceRight=g.foldr=k(-1),g.find=g.detect=function(t,e,n){var i=(O(t)?g.findIndex:g.findKey)(t,e,n);if(void 0!==i&&-1!==i)return t[i]},g.filter=g.select=function(t,e,n){var i=[];return e=v(e,n),g.each(t,(function(t,n,r){e(t,n,r)&&i.push(t)})),i},g.reject=function(t,e,n){return g.filter(t,g.negate(v(e)),n)},g.every=g.all=function(t,e,n){e=v(e,n);for(var i=!O(t)&&g.keys(t),r=(i||t).length,o=0;o<r;o++){var s=i?i[o]:o;if(!e(t[s],s,t))return!1}return!0},g.some=g.any=function(t,e,n){e=v(e,n);for(var i=!O(t)&&g.keys(t),r=(i||t).length,o=0;o<r;o++){var s=i?i[o]:o;if(e(t[s],s,t))return!0}return!1},g.contains=g.includes=g.include=function(t,e,n,i){return O(t)||(t=g.values(t)),("number"!=typeof n||i)&&(n=0),g.indexOf(t,e,n)>=0},g.invoke=b((function(t,e,n){var i,r;return g.isFunction(e)?r=e:g.isArray(e)&&(i=e.slice(0,-1),e=e[e.length-1]),g.map(t,(function(t){var o=r;if(!o){if(i&&i.length&&(t=E(t,i)),null==t)return;o=t[e]}return null==o?o:o.apply(t,n)}))})),g.pluck=function(t,e){return g.map(t,g.property(e))},g.where=function(t,e){return g.filter(t,g.matcher(e))},g.findWhere=function(t,e){return g.find(t,g.matcher(e))},g.max=function(t,e,n){var i,r,o=-1/0,s=-1/0;if(null==e||"number"==typeof e&&"object"!=typeof t[0]&&null!=t)for(var a=0,l=(t=O(t)?t:g.values(t)).length;a<l;a++)null!=(i=t[a])&&i>o&&(o=i);else e=v(e,n),g.each(t,(function(t,n,i){((r=e(t,n,i))>s||r===-1/0&&o===-1/0)&&(o=t,s=r)}));return o},g.min=function(t,e,n){var i,r,o=1/0,s=1/0;if(null==e||"number"==typeof e&&"object"!=typeof t[0]&&null!=t)for(var a=0,l=(t=O(t)?t:g.values(t)).length;a<l;a++)null!=(i=t[a])&&i<o&&(o=i);else e=v(e,n),g.each(t,(function(t,n,i){((r=e(t,n,i))<s||r===1/0&&o===1/0)&&(o=t,s=r)}));return o},g.shuffle=function(t){return g.sample(t,1/0)},g.sample=function(t,e,n){if(null==e||n)return O(t)||(t=g.values(t)),t[g.random(t.length-1)];var i=O(t)?g.clone(t):g.values(t),r=P(i);e=Math.max(Math.min(e,r),0);for(var o=r-1,s=0;s<e;s++){var a=g.random(s,o),l=i[s];i[s]=i[a],i[a]=l}return i.slice(0,e)},g.sortBy=function(t,e,n){var i=0;return e=v(e,n),g.pluck(g.map(t,(function(t,n,r){return{value:t,index:i++,criteria:e(t,n,r)}})).sort((function(t,e){var n=t.criteria,i=e.criteria;if(n!==i){if(n>i||void 0===n)return 1;if(n<i||void 0===i)return-1}return t.index-e.index})),"value")};var T=function(t,e){return function(n,i,r){var o=e?[[],[]]:{};return i=v(i,r),g.each(n,(function(e,r){var s=i(e,r,n);t(o,e,s)})),o}};g.groupBy=T((function(t,e,n){x(t,n)?t[n].push(e):t[n]=[e]})),g.indexBy=T((function(t,e,n){t[n]=e})),g.countBy=T((function(t,e,n){x(t,n)?t[n]++:t[n]=1}));var I=/[^\ud800-\udfff]|[\ud800-\udbff][\udc00-\udfff]|[\ud800-\udfff]/g;g.toArray=function(t){return t?g.isArray(t)?c.call(t):g.isString(t)?t.match(I):O(t)?g.map(t,g.identity):g.values(t):[]},g.size=function(t){return null==t?0:O(t)?t.length:g.keys(t).length},g.partition=T((function(t,e,n){t[n?0:1].push(e)}),!0),g.first=g.head=g.take=function(t,e,n){return null==t||t.length<1?null==e?void 0:[]:null==e||n?t[0]:g.initial(t,t.length-e)},g.initial=function(t,e,n){return c.call(t,0,Math.max(0,t.length-(null==e||n?1:e)))},g.last=function(t,e,n){return null==t||t.length<1?null==e?void 0:[]:null==e||n?t[t.length-1]:g.rest(t,Math.max(0,t.length-e))},g.rest=g.tail=g.drop=function(t,e,n){return c.call(t,null==e||n?1:e)},g.compact=function(t){return g.filter(t,Boolean)};var A=function(t,e,n,i){for(var r=(i=i||[]).length,o=0,s=P(t);o<s;o++){var a=t[o];if(O(a)&&(g.isArray(a)||g.isArguments(a)))if(e)for(var l=0,c=a.length;l<c;)i[r++]=a[l++];else A(a,e,n,i),r=i.length;else n||(i[r++]=a)}return i};g.flatten=function(t,e){return A(t,e,!1)},g.without=b((function(t,e){return g.difference(t,e)})),g.uniq=g.unique=function(t,e,n,i){g.isBoolean(e)||(i=n,n=e,e=!1),null!=n&&(n=v(n,i));for(var r=[],o=[],s=0,a=P(t);s<a;s++){var l=t[s],c=n?n(l,s,t):l;e&&!n?(s&&o===c||r.push(l),o=c):n?g.contains(o,c)||(o.push(c),r.push(l)):g.contains(r,l)||r.push(l)}return r},g.union=b((function(t){return g.uniq(A(t,!0,!0))})),g.intersection=function(t){for(var e=[],n=arguments.length,i=0,r=P(t);i<r;i++){var o=t[i];if(!g.contains(e,o)){var s;for(s=1;s<n&&g.contains(arguments[s],o);s++);s===n&&e.push(o)}}return e},g.difference=b((function(t,e){return e=A(e,!0,!0),g.filter(t,(function(t){return!g.contains(e,t)}))})),g.unzip=function(t){for(var e=t&&g.max(t,P).length||0,n=Array(e),i=0;i<e;i++)n[i]=g.pluck(t,i);return n},g.zip=b(g.unzip),g.object=function(t,e){for(var n={},i=0,r=P(t);i<r;i++)e?n[t[i]]=e[i]:n[t[i][0]]=t[i][1];return n};var M=function(t){return function(e,n,i){n=v(n,i);for(var r=P(e),o=t>0?0:r-1;o>=0&&o<r;o+=t)if(n(e[o],o,e))return o;return-1}};g.findIndex=M(1),g.findLastIndex=M(-1),g.sortedIndex=function(t,e,n,i){for(var r=(n=v(n,i,1))(e),o=0,s=P(t);o<s;){var a=Math.floor((o+s)/2);n(t[a])<r?o=a+1:s=a}return o};var D=function(t,e,n){return function(i,r,o){var s=0,a=P(i);if("number"==typeof o)t>0?s=o>=0?o:Math.max(o+a,s):a=o>=0?Math.min(o+1,a):o+a+1;else if(n&&o&&a)return i[o=n(i,r)]===r?o:-1;if(r!=r)return(o=e(c.call(i,s,a),g.isNaN))>=0?o+s:-1;for(o=t>0?s:a-1;o>=0&&o<a;o+=t)if(i[o]===r)return o;return-1}};g.indexOf=D(1,g.findIndex,g.sortedIndex),g.lastIndexOf=D(-1,g.findLastIndex),g.range=function(t,e,n){null==e&&(e=t||0,t=0),n||(n=e<t?-1:1);for(var i=Math.max(Math.ceil((e-t)/n),0),r=Array(i),o=0;o<i;o++,t+=n)r[o]=t;return r},g.chunk=function(t,e){if(null==e||e<1)return[];for(var n=[],i=0,r=t.length;i<r;)n.push(c.call(t,i,i+=e));return n};var R=function(t,e,n,i,r){if(!(i instanceof e))return t.apply(n,r);var o=w(t.prototype),s=t.apply(o,r);return g.isObject(s)?s:o};g.bind=b((function(t,e,n){if(!g.isFunction(t))throw new TypeError("Bind must be called on a function");var i=b((function(r){return R(t,i,e,this,n.concat(r))}));return i})),g.partial=b((function(t,e){var n=g.partial.placeholder,i=function(){for(var r=0,o=e.length,s=Array(o),a=0;a<o;a++)s[a]=e[a]===n?arguments[r++]:e[a];for(;r<arguments.length;)s.push(arguments[r++]);return R(t,i,this,this,s)};return i})),g.partial.placeholder=g,g.bindAll=b((function(t,e){var n=(e=A(e,!1,!1)).length;if(n<1)throw new Error("bindAll must be passed function names");for(;n--;){var i=e[n];t[i]=g.bind(t[i],t)}})),g.memoize=function(t,e){var n=function(i){var r=n.cache,o=""+(e?e.apply(this,arguments):i);return x(r,o)||(r[o]=t.apply(this,arguments)),r[o]};return n.cache={},n},g.delay=b((function(t,e,n){return setTimeout((function(){return t.apply(null,n)}),e)})),g.defer=g.partial(g.delay,g,1),g.throttle=function(t,e,n){var i,r,o,s,a=0;n||(n={});var l=function(){a=!1===n.leading?0:g.now(),i=null,s=t.apply(r,o),i||(r=o=null)},c=function(){var c=g.now();a||!1!==n.leading||(a=c);var u=e-(c-a);return r=this,o=arguments,u<=0||u>e?(i&&(clearTimeout(i),i=null),a=c,s=t.apply(r,o),i||(r=o=null)):i||!1===n.trailing||(i=setTimeout(l,u)),s};return c.cancel=function(){clearTimeout(i),a=0,i=r=o=null},c},g.debounce=function(t,e,n){var i,r,o=function(e,n){i=null,n&&(r=t.apply(e,n))},s=b((function(s){if(i&&clearTimeout(i),n){var a=!i;i=setTimeout(o,e),a&&(r=t.apply(this,s))}else i=g.delay(o,e,this,s);return r}));return s.cancel=function(){clearTimeout(i),i=null},s},g.wrap=function(t,e){return g.partial(e,t)},g.negate=function(t){return function(){return!t.apply(this,arguments)}},g.compose=function(){var t=arguments,e=t.length-1;return function(){for(var n=e,i=t[e].apply(this,arguments);n--;)i=t[n].call(this,i);return i}},g.after=function(t,e){return function(){if(--t<1)return e.apply(this,arguments)}},g.before=function(t,e){var n;return function(){return--t>0&&(n=e.apply(this,arguments)),t<=1&&(e=null),n}},g.once=g.partial(g.before,2),g.restArguments=b;var F=!{toString:null}.propertyIsEnumerable("toString"),L=["valueOf","isPrototypeOf","toString","propertyIsEnumerable","hasOwnProperty","toLocaleString"],B=function(t,e){var n=L.length,i=t.constructor,r=g.isFunction(i)&&i.prototype||s,o="constructor";for(x(t,o)&&!g.contains(e,o)&&e.push(o);n--;)(o=L[n])in t&&t[o]!==r[o]&&!g.contains(e,o)&&e.push(o)};g.keys=function(t){if(!g.isObject(t))return[];if(p)return p(t);var e=[];for(var n in t)x(t,n)&&e.push(n);return F&&B(t,e),e},g.allKeys=function(t){if(!g.isObject(t))return[];var e=[];for(var n in t)e.push(n);return F&&B(t,e),e},g.values=function(t){for(var e=g.keys(t),n=e.length,i=Array(n),r=0;r<n;r++)i[r]=t[e[r]];return i},g.mapObject=function(t,e,n){e=v(e,n);for(var i=g.keys(t),r=i.length,o={},s=0;s<r;s++){var a=i[s];o[a]=e(t[a],a,t)}return o},g.pairs=function(t){for(var e=g.keys(t),n=e.length,i=Array(n),r=0;r<n;r++)i[r]=[e[r],t[e[r]]];return i},g.invert=function(t){for(var e={},n=g.keys(t),i=0,r=n.length;i<r;i++)e[t[n[i]]]=n[i];return e},g.functions=g.methods=function(t){var e=[];for(var n in t)g.isFunction(t[n])&&e.push(n);return e.sort()};var N=function(t,e){return function(n){var i=arguments.length;if(e&&(n=Object(n)),i<2||null==n)return n;for(var r=1;r<i;r++)for(var o=arguments[r],s=t(o),a=s.length,l=0;l<a;l++){var c=s[l];e&&void 0!==n[c]||(n[c]=o[c])}return n}};g.extend=N(g.allKeys),g.extendOwn=g.assign=N(g.keys),g.findKey=function(t,e,n){e=v(e,n);for(var i,r=g.keys(t),o=0,s=r.length;o<s;o++)if(e(t[i=r[o]],i,t))return i};var j,z,H=function(t,e,n){return e in n};g.pick=b((function(t,e){var n={},i=e[0];if(null==t)return n;g.isFunction(i)?(e.length>1&&(i=_(i,e[1])),e=g.allKeys(t)):(i=H,e=A(e,!1,!1),t=Object(t));for(var r=0,o=e.length;r<o;r++){var s=e[r],a=t[s];i(a,s,t)&&(n[s]=a)}return n})),g.omit=b((function(t,e){var n,i=e[0];return g.isFunction(i)?(i=g.negate(i),e.length>1&&(n=e[1])):(e=g.map(A(e,!1,!1),String),i=function(t,n){return!g.contains(e,n)}),g.pick(t,i,n)})),g.defaults=N(g.allKeys,!0),g.create=function(t,e){var n=w(t);return e&&g.extendOwn(n,e),n},g.clone=function(t){return g.isObject(t)?g.isArray(t)?t.slice():g.extend({},t):t},g.tap=function(t,e){return e(t),t},g.isMatch=function(t,e){var n=g.keys(e),i=n.length;if(null==t)return!i;for(var r=Object(t),o=0;o<i;o++){var s=n[o];if(e[s]!==r[s]||!(s in r))return!1}return!0},j=function(t,e,n,i){if(t===e)return 0!==t||1/t==1/e;if(null==t||null==e)return!1;if(t!=t)return e!=e;var r=typeof t;return("function"===r||"object"===r||"object"==typeof e)&&z(t,e,n,i)},z=function(t,e,n,i){t instanceof g&&(t=t._wrapped),e instanceof g&&(e=e._wrapped);var r=u.call(t);if(r!==u.call(e))return!1;switch(r){case"[object RegExp]":case"[object String]":return""+t==""+e;case"[object Number]":return+t!=+t?+e!=+e:0==+t?1/+t==1/e:+t==+e;case"[object Date]":case"[object Boolean]":return+t==+e;case"[object Symbol]":return a.valueOf.call(t)===a.valueOf.call(e)}var o="[object Array]"===r;if(!o){if("object"!=typeof t||"object"!=typeof e)return!1;var s=t.constructor,l=e.constructor;if(s!==l&&!(g.isFunction(s)&&s instanceof s&&g.isFunction(l)&&l instanceof l)&&"constructor"in t&&"constructor"in e)return!1}i=i||[];for(var c=(n=n||[]).length;c--;)if(n[c]===t)return i[c]===e;if(n.push(t),i.push(e),o){if((c=t.length)!==e.length)return!1;for(;c--;)if(!j(t[c],e[c],n,i))return!1}else{var h,d=g.keys(t);if(c=d.length,g.keys(e).length!==c)return!1;for(;c--;)if(!x(e,h=d[c])||!j(t[h],e[h],n,i))return!1}return n.pop(),i.pop(),!0},g.isEqual=function(t,e){return j(t,e)},g.isEmpty=function(t){return null==t||(O(t)&&(g.isArray(t)||g.isString(t)||g.isArguments(t))?0===t.length:0===g.keys(t).length)},g.isElement=function(t){return!(!t||1!==t.nodeType)},g.isArray=d||function(t){return"[object Array]"===u.call(t)},g.isObject=function(t){var e=typeof t;return"function"===e||"object"===e&&!!t},g.each(["Arguments","Function","String","Number","Date","RegExp","Error","Symbol","Map","WeakMap","Set","WeakSet"],(function(t){g["is"+t]=function(e){return u.call(e)==="[object "+t+"]"}})),g.isArguments(arguments)||(g.isArguments=function(t){return x(t,"callee")});var V=i.document&&i.document.childNodes;"object"!=typeof Int8Array&&"function"!=typeof V&&(g.isFunction=function(t){return"function"==typeof t||!1}),g.isFinite=function(t){return!g.isSymbol(t)&&isFinite(t)&&!isNaN(parseFloat(t))},g.isNaN=function(t){return g.isNumber(t)&&isNaN(t)},g.isBoolean=function(t){return!0===t||!1===t||"[object Boolean]"===u.call(t)},g.isNull=function(t){return null===t},g.isUndefined=function(t){return void 0===t},g.has=function(t,e){if(!g.isArray(e))return x(t,e);for(var n=e.length,i=0;i<n;i++){var r=e[i];if(null==t||!h.call(t,r))return!1;t=t[r]}return!!n},g.noConflict=function(){return i._=r,this},g.identity=function(t){return t},g.constant=function(t){return function(){return t}},g.noop=function(){},g.property=function(t){return g.isArray(t)?function(e){return E(e,t)}:C(t)},g.propertyOf=function(t){return null==t?function(){}:function(e){return g.isArray(e)?E(t,e):t[e]}},g.matcher=g.matches=function(t){return t=g.extendOwn({},t),function(e){return g.isMatch(e,t)}},g.times=function(t,e,n){var i=Array(Math.max(0,t));e=_(e,n,1);for(var r=0;r<t;r++)i[r]=e(r);return i},g.random=function(t,e){return null==e&&(e=t,t=0),t+Math.floor(Math.random()*(e-t+1))},g.now=Date.now||function(){return(new Date).getTime()};var U={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#x27;","`":"&#x60;"},W=g.invert(U),$=function(t){var e=function(e){return t[e]},n="(?:"+g.keys(t).join("|")+")",i=RegExp(n),r=RegExp(n,"g");return function(t){return i.test(t=null==t?"":""+t)?t.replace(r,e):t}};g.escape=$(U),g.unescape=$(W),g.result=function(t,e,n){g.isArray(e)||(e=[e]);var i=e.length;if(!i)return g.isFunction(n)?n.call(t):n;for(var r=0;r<i;r++){var o=null==t?void 0:t[e[r]];void 0===o&&(o=n,r=i),t=g.isFunction(o)?o.call(t):o}return t};var G=0;g.uniqueId=function(t){var e=++G+"";return t?t+e:e},g.templateSettings={evaluate:/<%([\s\S]+?)%>/g,interpolate:/<%=([\s\S]+?)%>/g,escape:/<%-([\s\S]+?)%>/g};var q=/(.)^/,X={"'":"'","\\":"\\","\r":"r","\n":"n","\u2028":"u2028","\u2029":"u2029"},K=/\\|'|\r|\n|\u2028|\u2029/g,Y=function(t){return"\\"+X[t]};g.template=function(t,e,n){!e&&n&&(e=n),e=g.defaults({},e,g.templateSettings);var i,r=RegExp([(e.escape||q).source,(e.interpolate||q).source,(e.evaluate||q).source].join("|")+"|$","g"),o=0,s="__p+='";t.replace(r,(function(e,n,i,r,a){return s+=t.slice(o,a).replace(K,Y),o=a+e.length,n?s+="'+\n((__t=("+n+"))==null?'':_.escape(__t))+\n'":i?s+="'+\n((__t=("+i+"))==null?'':__t)+\n'":r&&(s+="';\n"+r+"\n__p+='"),e})),s+="';\n",e.variable||(s="with(obj||{}){\n"+s+"}\n"),s="var __t,__p='',__j=Array.prototype.join,print=function(){__p+=__j.call(arguments,'');};\n"+s+"return __p;\n";try{i=new Function(e.variable||"obj","_",s)}catch(l){throw l.source=s,l}var a=function(t){return i.call(this,t,g)};return a.source="function("+(e.variable||"obj")+"){\n"+s+"}",a},g.chain=function(t){var e=g(t);return e._chain=!0,e};var Q=function(t,e){return t._chain?g(e).chain():e};g.mixin=function(t){return g.each(g.functions(t),(function(e){var n=g[e]=t[e];g.prototype[e]=function(){var t=[this._wrapped];return l.apply(t,arguments),Q(this,n.apply(g,t))}})),g},g.mixin(g),g.each(["pop","push","reverse","shift","sort","splice","unshift"],(function(t){var e=o[t];g.prototype[t]=function(){var n=this._wrapped;return e.apply(n,arguments),"shift"!==t&&"splice"!==t||0!==n.length||delete n[0],Q(this,n)}})),g.each(["concat","join","slice"],(function(t){var e=o[t];g.prototype[t]=function(){return Q(this,e.apply(this._wrapped,arguments))}})),g.prototype.value=function(){return this._wrapped},g.prototype.valueOf=g.prototype.toJSON=g.prototype.value,g.prototype.toString=function(){return String(this._wrapped)},void 0===(n=(function(){return g}).apply(e,[]))||(t.exports=n)}()}).call(this,n("YuTi")(t))},FZoo:function(t,e,n){var i=n("MrPd"),r=n("4uTw"),o=n("wJg7"),s=n("GoyQ"),a=n("9Nap");t.exports=function(t,e,n,l){if(!s(t))return t;for(var c=-1,u=(e=r(e,t)).length,h=u-1,d=t;null!=d&&++c<u;){var p=a(e[c]),f=n;if(c!=h){var m=d[p];void 0===(f=l?l(m,p,d):void 0)&&(f=s(m)?m:o(e[c+1])?[]:{})}i(d,p,f),d=d[p]}return t}},FfPP:function(t,e,n){var i=n("idmN"),r=n("hgQt");t.exports=function(t,e){return i(t,e,(function(e,n){return r(t,n)}))}},G6z8:function(t,e,n){var i=n("fR/l"),r=n("oCl/"),o=n("mTTR");t.exports=function(t){return i(t,o,r)}},GDhZ:function(t,e,n){var i=n("wF/u"),r=n("mwIZ"),o=n("hgQt"),s=n("9ggG"),a=n("CMye"),l=n("IOzZ"),c=n("9Nap");t.exports=function(t,e){return s(t)&&a(e)?l(c(t),e):function(n){var s=r(n,t);return void 0===s&&s===e?o(n,t):i(e,s,3)}}},GNiM:function(t,e,n){var i=n("I01J"),r=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,o=/\\(\\)?/g,s=i((function(t){var e=[];return 46===t.charCodeAt(0)&&e.push(""),t.replace(r,(function(t,n,i,r){e.push(i?r.replace(o,"$1"):n||t)})),e}));t.exports=s},Gi0A:function(t,e,n){var i=n("QqLw"),r=n("ExA7");t.exports=function(t){return r(t)&&"[object Map]"==i(t)}},GoyQ:function(t,e){t.exports=function(t){var e=typeof t;return null!=t&&("object"==e||"function"==e)}},Gq8Z:function(t){t.exports=JSON.parse('{"f":{},"g":{"shapePermissions":{"$displayName":"Shape props","$groupKey":"$$permissions","$keepGroup":true,"allowChangeBorderWidth":{"$displayName":"Border width","$order":2},"allowChangeFillColor":{"$displayName":"Fill color","$order":0},"allowChangeBorderColor":{"$displayName":"Border color","$order":1}},"fillColor":{"$displayName":"Fill color","$order":0,"$groupKey":"$$fill"},"borderColor":{"$displayName":"Color","$order":1,"$groupKey":"$$border"},"borderWidth":{"$displayName":"Width","$order":2,"$min":0,"$max":100,"$step":0.1,"$useUnit":true,"$groupKey":"$$border"},"dash":{"$hidden":false,"$displayName":"Dash","$order":3,"$groupKey":"$$border","$controlType":"dash"},"altBorderColor":{"$order":4,"$groupKey":"$$border"},"fixedBorderWidth":{"$displayName":"Keep width on resize","$hidden":true,"$order":4,"$groupKey":"$$border"}},"a":{"barcodeContent":{"$order":0,"$maxLength":7,"$displayName":"Value","$controlType":"barcode_value"},"barcodeFormat":{"$displayName":"Format","$order":1},"barcodeSubType":{"$displayName":"Subtype","$controlType":"barcode_format","$order":2},"displayName":{"$hidden":true},"values":{"$hidden":true},"allowedTabs":{"$hidden":true},"allowedSubfolder":{"$hidden":true},"overlayEffect":{"$hidden":true},"fillColor":{"$order":10},"borderColor":{"$order":11},"borderWidth":{"$order":12},"barcodePermissions":{"$groupKey":"$$permissions","$keepGroup":true},"barcodeOptions":{"margin":{"$step":1,"$accuracy":1},"id":{"$hidden":true},"width":{"$hidden":true},"height":{"$hidden":true},"errorCorrection":{"$hidden":true},"characterSet":{"$hidden":true},"pdf417Compact":{"$hidden":true},"pdf417Compaction":{"$hidden":true},"pdf417Dimensions":{"$hidden":true},"disableEci":{"$hidden":true},"aztecLayers":{"$hidden":true},"qrVersion":{"$hidden":true},"version":{"$hidden":true},"name":{"$hidden":true},"code128ForceCodesetB":{"$hidden":true},"type":{"$hidden":true}},"maskOpacity":{"$controlType":"slider","$unit":"%","$order":5,"$min":0,"$max":1,"$step":0.01,"$accuracy":0}},"d":{"groupItemPermissions":{"$groupKey":"$$permissions","$displayName":"Group permissions","$keepGroup":true},"groupManipulationPermissions":{"$groupKey":"$$permissions","$displayName":"Manipulations","$keepGroup":true,"allowRotate":{"$displayName":"Rotation","$order":2},"allowMoveHorizontal":{"$controlType":"freedom","$displayName":"Allow move"},"allowMoveVertical":{"$hidden":true},"resizeGrips":{"$displayName":"Allow resize","$controlType":"grips","edge":{"$hidden":true},"corner":{"$hidden":true}}},"layoutSettings":{"type":{"$hidden":true},"justifyContent":{"$hidden":true},"margin":{"$useUnit":true,"$step":0.1,"$min":0}},"items":{"$hidden":true},"sourcePath":{"$hidden":true,"bounds":{"$controlType":"position","$order":1,"$displayName":"Source rectangle","top":{"$displayName":"X","$useUnit":true,"$step":0.01},"left":{"$displayName":"Y","$useUnit":true,"$step":0.01},"width":{"$displayName":"Width","$useUnit":true,"$step":0.01,"$min":0},"height":{"$displayName":"Height","$useUnit":true,"$step":0.01,"$min":0}}},"containerName":{"$hidden":true},"themeBinding":{"$hidden":true},"effect":{"$displayName":"Image Effect"},"mask":{"$hidden":true},"transform":{"$hidden":true,"angle":{"$displayName":"R","$unit":"\xb0"},"isEmpty":{},"scaleX":{},"scaleY":{},"translateX":{},"translateY":{}},"name":{"$groupKey":"$$name","$order":0,"$hidden":false},"locked":{"$hidden":true},"visible":{"$hidden":true},"fromLayout":{"$hidden":true},"opacity":{"$displayName":"Opacity","$controlType":"slider","$unit":"%","$order":5,"$min":0,"$max":1,"$step":0.01,"$accuracy":0,"$groupKey":"$$blending"},"blendMode":{"$displayName":"Blending Mode","$groupKey":"$$blending","$order":6},"textWrappingMode":{"$groupKey":"$$text-wrapping","$displayName":"Text wrapping"},"isVariable":{"$displayName":"Variable field","$groupKey":"$$vdp","$hiddenForTypes":["ShapeItem","RectangleItem","ImageItem","BarcodeItem","EllipseItem"]},"manipulationPermissions":{"$displayName":"Manipulations","$groupKey":"$$permissions","$keepGroup":true,"$hiddenForTypes":["GroupItem"],"allowRotate":{"$displayName":"Rotation","$order":2},"allowDragAndDrop":{"$hiddenForTypes":["ShapeItem","RectangleItem","EllipseItem","BoundedTextItem","PathBoundedTextItem","CurvedTextItem","PlainTextItem","ImageItem","BarcodeItem"],"$order":3,"$displayName":"DND placeholder content","$tooltip":"Drag-n-Drop placeholder content"},"allowMoveHorizontal":{"$controlType":"freedom","$displayName":"Allow move"},"allowMoveVertical":{"$hidden":true},"resizeGrips":{"$displayName":"Allow resize","$controlType":"grips","edge":{"$hidden":true},"corner":{"$hidden":true}}},"itemPermissions":{"$displayName":"Generic item props","$groupKey":"$$permissions","$keepGroup":true,"$hiddenForTypes":["GroupItem"],"allowZOrderChange":{"$displayName":"Z-order"},"allowOpacityChange":{"$displayName":"Allow opacity"},"allowRemoveOnLayoutChange":{"$hidden":true},"itemToolbarPermissions":{"$displayName":"Toolbar options","$groupKey":"$$permissions","showDeleteButton":{"$displayName":"Delete button"},"showEditButton":{"$displayName":"Edit button","$hiddenForTypes":["ShapeItem","RectangleItem","EllipseItem"]},"showSelectButton":{"$displayName":"Select button","$hiddenForTypes":["ShapeItem","RectangleItem","EllipseItem","BoundedTextItem","CurvedTextItem","PlainTextItem","BarcodeItem","PathBoundedTextItem"]},"showEditButtonConstraint":{"$hidden":true},"showSelectButtonConstraint":{"$hidden":true}}},"frontendPermissions":{"$displayName":"Editor options","$groupKey":"$$permissions","displayInObjectInspector":{"$displayName":"Show in item list"},"showOutOfRegionWarning":{"$displayName":"Warn if leaves a region"}},"visualizationPermissions":{"$tabKey":"$$behavior","$displayName":"Visibility","$groupKey":"$$visibility","noPrint":{"$displayName":"Hide item at Print file <VNP>"},"noShow":{"$displayName":"Hide item at Editor <VNS>"}}},"b":{"colorPalette":{"$hidden":true},"shrinkMode":{"$groupKey":"$$copyfitting","$displayName":"Shrink mode"},"overflowStrategy":{"$displayName":"Overflow strategy","$groupKey":"$$copyfitting","$order":1},"wrappingPath":{"$groupKey":"$$text-wrapping","$hidden":true},"wrappingMargin":{"$groupKey":"$$text-wrapping","$displayName":"Wrapping margin","$useUnit":true},"characterLimit":{"$groupKey":"$$text-limits","$displayName":"Max text length (chars)","$accuracy":0},"maxLineCount":{"$groupKey":"$$text-limits","$displayName":"Number of lines","$accuracy":0},"maxLineLength":{"$groupKey":"$$text-limits","$displayName":"Max single line length","$accuracy":0},"verticalAlignment":{"$hidden":true},"alignment":{"$hidden":true},"underline":{"$hidden":true},"previewFontSize":{"$hidden":true},"text":{"$order":0,"$displayName":"Text","$controlType":"area","$rows":5,"$groupKey":"$$text"},"color":{"$groupKey":"$$text","$displayName":"Text color","$order":3,"$hidden":true},"tracking":{"$hidden":true,"$groupKey":"font","$min":0,"$placeholder":"Tracking"},"leading":{"$hidden":true,"$groupKey":"font","$min":0,"$placeholder":"Leading"},"overlapLinesEnabled":{"$groupKey":"$$text","$order":11,"$displayName":"Allow overlap lines"},"checkTextCrop":{"$hidden":true},"previewScale":{"$hidden":true},"previewLeading":{"$hidden":true},"isTextPlaceholder":{"$displayName":"Make placeholder","$groupKey":"$$name","$order":10,"$controlType":"text_placeholder"},"originalText":{"$displayName":"Placeholder text","$groupKey":"$$name","$hidden":true,"$rows":5,"$order":11},"horizontalScale":{"$hidden":true},"verticalScale":{"$hidden":true},"originalHorizontalScale":{"$hidden":true},"originalVerticalScale":{"$hidden":true},"paragraphSettings":{"$displayName":"Paragraph options","$keepGroup":true,"$groupKey":"$$text","$hidden":true,"FirstLineIndent":{"$displayName":"First line indent","$useUnit":true,"$order":0},"SpaceBefore":{"$displayName":"Space before","$useUnit":true,"$order":1},"SpaceAfter":{"$displayName":"Space after","$useUnit":true,"$order":2}},"placeholders":{"$hidden":true},"isVertical":{"$order":5,"$hidden":true,"$displayName":"Vertical","$groupKey":"$$text"},"values":{"$displayName":"List","$hidden":true},"shadow":{"$groupKey":"$$text-effects","angle":{"$unit":"\xb0","$accuracy":0},"distance":{"$controlType":"slider","$min":0,"$max":72,"$step":1},"size":{"$controlType":"slider","$min":0,"$max":10,"$step":0.1}},"stroke":{"$groupKey":"$$text-effects","size":{"$controlType":"slider","$min":0,"$max":5,"$step":0.1}},"textPermissions":{"$groupKey":"$$permissions","$displayName":"Text props","$keepGroup":true,"allowChangeText":{"$displayName":"Text"},"allowChangeFont":{"$displayName":"Font"},"allowChangeFontSize":{"$displayName":"Font size"},"allowChangeFontColor":{"$displayName":"Font color"},"allowChangeTextAlignment":{"$displayName":"Alignment"},"allowChangeTextBIU":{"$displayName":"Font style (BIU)"},"allowChangeShadow":{"$displayName":"Shadow"},"allowChangeStroke":{"$displayName":"Stroke","size":{"$displayName":"Size"}}},"isRichText":{"$groupKey":"$$text","$displayName":"Formatted Text","$order":4,"$hiddenForTypes":["CurvedTextItem","PlainTextItem"]},"font":{"$order":1,"$displayName":"Font","$useUnit":true,"$groupKey":"$$text","allCaps":{"$displayName":"All Caps"},"size":{"order":1,"$displayName":"Font size"}},"textColorForAbnormalRendering":{"$hidden":true},"textPath":{"$groupKey":"$$curved-text","$hidden":true},"fitToPath":{"$groupKey":"$$curved-text"},"stretch":{"$groupKey":"$$curved-text"},"start":{"$groupKey":"$$curved-text","$controlType":"slider","$min":0,"$max":1,"$step":0.05},"end":{"$groupKey":"$$curved-text","$controlType":"slider","$min":0,"$max":1,"$step":0.05},"originalFontSize":{"$groupKey":"$$curved-text","$hidden":true},"fitToPathStep":{"$groupKey":"$$curved-text"},"pathBoundedTextPermissions":{"$groupKey":"$$permissions","$keepGroup":true}},"c":{"includeBorder":{"$hidden":true},"mviKeepTemplateTransform":{"$hidden":true},"values":{"$hidden":true},"allowedSubfolder":{"$hidden":true},"allowedTabs":{"$hidden":true},"isUserImage":{"$hidden":true},"imagePermissions":{"$groupKey":"$$permissions"},"displayName":{"$groupKey":"$$name","$order":5,"$hidden":false},"source":{"$displayName":"Source"},"maskOpacity":{"$hidden":true},"effect":{"$groupKey":"$$image-effects"},"overlayEffect":{"$groupKey":"$$image-effects","color":{"$displayName":"Color"},"opacity":{"$displayName":"Opacity","$controlType":"slider","$unit":"%","$min":0,"$max":1,"$step":0.01,"$accuracy":0}}},"e":{"linkId":{"$controlType":"link","$order":4,"$groupKey":"$$placeholder-options"},"content":{"$order":1,"$groupKey":"$$placeholder-options","$controlType":"content","*":{"$hidden":true},"borderWidth":{"$min":0,"$max":100,"$step":0.1,"$useUnit":true},"dash":{"$controlType":"dash"},"opacity":{"$displayName":"Opacity","$controlType":"slider","$unit":"%","$min":0,"$max":1,"$step":0.01,"$accuracy":0}},"placeholderPermissions":{"$displayName":"Placeholder permissions","$groupKey":"$$permissions","$keepGroup":true},"contentPermissions":{"$displayName":"Content permissions","$groupKey":"$$permissions","$keepGroup":true,"barcodePermissions":{"allowChangeBarcodeColor":{"$hidden":true},"allowChangeBarcodeContent":{"$hidden":true},"allowChangeBarcodeType":{"$hidden":true}},"imagePermissions":{"allowChangeImage":{"$hidden":true},"allowEditImage":{"$hidden":true},"allowEditImageConstraint":{"$hidden":true},"allowKeepOverlayColor":{"$hidden":true}}},"topFrames":{"$hidden":true},"bottomFrames":{"$hidden":true},"allowedSubfolder":{"$hidden":true},"allowedTabs":{"$hidden":true},"isCoverMode":{"$groupKey":"$$placeholder-options","$displayName":"Prevent blank space","order":0},"contentResizeMode":{"$groupKey":"$$placeholder-options","$displayName":"Initial resize","$controlType":"plcenum","$order":11},"contentHorizontalAlignment":{"$groupKey":"$$placeholder-options","$displayName":"Horizontal alignment","$controlType":"plcenum","$order":10},"contentVerticalAlignment":{"$groupKey":"$$placeholder-options","$displayName":"Vertical alignment","$controlType":"plcenum","$order":9},"stubStorageMeta":{"$displayName":"Stub image","$controlType":"placeholder_stub","$order":2,"$groupKey":"$$placeholder-options"},"fixedStubContentSize":{"$displayName":"Prevent size change","$hidden":true,"$groupKey":"$$placeholder-options"},"isStubContent":{"$hidden":true,"$displayName":"Enable stub image","$order":3,"$groupKey":"$$placeholder-options"},"barcodeFormat":{"$hiddenForTypes":["PlaceholderItem"]},"contentEffect":{"$displayName":"Image Effect","$groupKey":"$$image-effects","$controlType":"plc_img_effect"},"contentOverlayEffect":{"$displayName":"Overlay effect","$groupKey":"$$image-effects","opacity":{"$displayName":"Opacity","$controlType":"slider","$unit":"%","$min":0,"$max":1,"$step":0.01,"$accuracy":0}},"contentFillColor":{"$hidden":true}}}')},GyMh:function(t,e,n){"use strict";var i;Object.defineProperty(e,"__esModule",{value:!0}),(i=e.Key||(e.Key={}))[i.Backspace=8]="Backspace",i[i.Tab=9]="Tab",i[i.Enter=13]="Enter",i[i.Shift=16]="Shift",i[i.Ctrl=17]="Ctrl",i[i.Alt=18]="Alt",i[i.PauseBreak=19]="PauseBreak",i[i.CapsLock=20]="CapsLock",i[i.Escape=27]="Escape",i[i.Space=32]="Space",i[i.PageUp=33]="PageUp",i[i.PageDown=34]="PageDown",i[i.End=35]="End",i[i.Home=36]="Home",i[i.LeftArrow=37]="LeftArrow",i[i.UpArrow=38]="UpArrow",i[i.RightArrow=39]="RightArrow",i[i.DownArrow=40]="DownArrow",i[i.Insert=45]="Insert",i[i.Delete=46]="Delete",i[i.Zero=48]="Zero",i[i.ClosedParen=48]="ClosedParen",i[i.One=49]="One",i[i.ExclamationMark=49]="ExclamationMark",i[i.Two=50]="Two",i[i.AtSign=50]="AtSign",i[i.Three=51]="Three",i[i.PoundSign=51]="PoundSign",i[i.Hash=51]="Hash",i[i.Four=52]="Four",i[i.DollarSign=52]="DollarSign",i[i.Five=53]="Five",i[i.PercentSign=53]="PercentSign",i[i.Six=54]="Six",i[i.Caret=54]="Caret",i[i.Hat=54]="Hat",i[i.Seven=55]="Seven",i[i.Ampersand=55]="Ampersand",i[i.Eight=56]="Eight",i[i.Star=56]="Star",i[i.Asterik=56]="Asterik",i[i.Nine=57]="Nine",i[i.OpenParen=57]="OpenParen",i[i.A=65]="A",i[i.B=66]="B",i[i.C=67]="C",i[i.D=68]="D",i[i.E=69]="E",i[i.F=70]="F",i[i.G=71]="G",i[i.H=72]="H",i[i.I=73]="I",i[i.J=74]="J",i[i.K=75]="K",i[i.L=76]="L",i[i.M=77]="M",i[i.N=78]="N",i[i.O=79]="O",i[i.P=80]="P",i[i.Q=81]="Q",i[i.R=82]="R",i[i.S=83]="S",i[i.T=84]="T",i[i.U=85]="U",i[i.V=86]="V",i[i.W=87]="W",i[i.X=88]="X",i[i.Y=89]="Y",i[i.Z=90]="Z",i[i.LeftWindowKey=91]="LeftWindowKey",i[i.RightWindowKey=92]="RightWindowKey",i[i.SelectKey=93]="SelectKey",i[i.Numpad0=96]="Numpad0",i[i.Numpad1=97]="Numpad1",i[i.Numpad2=98]="Numpad2",i[i.Numpad3=99]="Numpad3",i[i.Numpad4=100]="Numpad4",i[i.Numpad5=101]="Numpad5",i[i.Numpad6=102]="Numpad6",i[i.Numpad7=103]="Numpad7",i[i.Numpad8=104]="Numpad8",i[i.Numpad9=105]="Numpad9",i[i.Multiply=106]="Multiply",i[i.Add=107]="Add",i[i.Subtract=109]="Subtract",i[i.DecimalPoint=110]="DecimalPoint",i[i.Divide=111]="Divide",i[i.F1=112]="F1",i[i.F2=113]="F2",i[i.F3=114]="F3",i[i.F4=115]="F4",i[i.F5=116]="F5",i[i.F6=117]="F6",i[i.F7=118]="F7",i[i.F8=119]="F8",i[i.F9=120]="F9",i[i.F10=121]="F10",i[i.F11=122]="F11",i[i.F12=123]="F12",i[i.NumLock=144]="NumLock",i[i.ScrollLock=145]="ScrollLock",i[i.SemiColon=186]="SemiColon",i[i.Equals=187]="Equals",i[i.Comma=188]="Comma",i[i.Dash=189]="Dash",i[i.Period=190]="Period",i[i.UnderScore=189]="UnderScore",i[i.PlusSign=187]="PlusSign",i[i.ForwardSlash=191]="ForwardSlash",i[i.Tilde=192]="Tilde",i[i.GraveAccent=192]="GraveAccent",i[i.OpenBracket=219]="OpenBracket",i[i.ClosedBracket=221]="ClosedBracket",i[i.Quote=222]="Quote"},H0h1:function(t,e,n){var i=n("SKAX");t.exports=function(t,e){var n=!0;return i(t,(function(t,i,r){return n=!!e(t,i,r)})),n}},H8j4:function(t,e,n){var i=n("QkVE");t.exports=function(t,e){var n=i(this,t),r=n.size;return n.set(t,e),this.size+=n.size==r?0:1,this}},HDyB:function(t,e,n){var i=n("nmnc"),r=n("JHRd"),o=n("ljhN"),s=n("or5M"),a=n("7fqy"),l=n("rEGp"),c=i?i.prototype:void 0,u=c?c.valueOf:void 0;t.exports=function(t,e,n,i,c,h,d){switch(n){case"[object DataView]":if(t.byteLength!=e.byteLength||t.byteOffset!=e.byteOffset)return!1;t=t.buffer,e=e.buffer;case"[object ArrayBuffer]":return!(t.byteLength!=e.byteLength||!h(new r(t),new r(e)));case"[object Boolean]":case"[object Date]":case"[object Number]":return o(+t,+e);case"[object Error]":return t.name==e.name&&t.message==e.message;case"[object RegExp]":case"[object String]":return t==e+"";case"[object Map]":var p=a;case"[object Set]":if(p||(p=l),t.size!=e.size&&!(1&i))return!1;var f=d.get(t);if(f)return f==e;i|=2,d.set(t,e);var m=s(p(t),p(e),i,c,h,d);return d.delete(t),m;case"[object Symbol]":if(u)return u.call(t)==u.call(e)}return!1}},HK1C:function(t,e,n){var i=/%[sdj%]/g;e.format=function(t){if(!g(t)){for(var e=[],n=0;n<arguments.length;n++)e.push(s(arguments[n]));return e.join(" ")}n=1;for(var r=arguments,o=r.length,a=String(t).replace(i,(function(t){if("%%"===t)return"%";if(n>=o)return t;switch(t){case"%s":return String(r[n++]);case"%d":return Number(r[n++]);case"%j":try{return JSON.stringify(r[n++])}catch(e){return"[Circular]"}default:return t}})),l=r[n];n<o;l=r[++n])f(l)||!v(l)?a+=" "+l:a+=" "+s(l);return a},e.deprecate=function(t,n){if(y(global.process))return function(){return e.deprecate(t,n).apply(this,arguments)};if(!0===process.noDeprecation)return t;var i=!1;return function(){if(!i){if(process.throwDeprecation)throw new Error(n);process.traceDeprecation?console.trace(n):console.error(n),i=!0}return t.apply(this,arguments)}};var r,o={};function s(t,n){var i={seen:[],stylize:l};return arguments.length>=3&&(i.depth=arguments[2]),arguments.length>=4&&(i.colors=arguments[3]),p(n)?i.showHidden=n:n&&e._extend(i,n),y(i.showHidden)&&(i.showHidden=!1),y(i.depth)&&(i.depth=2),y(i.colors)&&(i.colors=!1),y(i.customInspect)&&(i.customInspect=!0),i.colors&&(i.stylize=a),c(i,t,i.depth)}function a(t,e){var n=s.styles[e];return n?"\x1b["+s.colors[n][0]+"m"+t+"\x1b["+s.colors[n][1]+"m":t}function l(t,e){return t}function c(t,n,i){if(t.customInspect&&n&&C(n.inspect)&&n.inspect!==e.inspect&&(!n.constructor||n.constructor.prototype!==n)){var r=n.inspect(i,t);return g(r)||(r=c(t,r,i)),r}var o=function(t,e){if(y(e))return t.stylize("undefined","undefined");if(g(e)){var n="'"+JSON.stringify(e).replace(/^"|"$/g,"").replace(/'/g,"\\'").replace(/\\"/g,'"')+"'";return t.stylize(n,"string")}return m(e)?t.stylize(""+e,"number"):p(e)?t.stylize(""+e,"boolean"):f(e)?t.stylize("null","null"):void 0}(t,n);if(o)return o;var s=Object.keys(n),a=function(t){var e={};return t.forEach((function(t,n){e[t]=!0})),e}(s);if(t.showHidden&&(s=Object.getOwnPropertyNames(n)),w(n)&&(s.indexOf("message")>=0||s.indexOf("description")>=0))return u(n);if(0===s.length){if(C(n))return t.stylize("[Function"+(n.name?": "+n.name:"")+"]","special");if(_(n))return t.stylize(RegExp.prototype.toString.call(n),"regexp");if(b(n))return t.stylize(Date.prototype.toString.call(n),"date");if(w(n))return u(n)}var l,v="",x=!1,E=["{","}"];return d(n)&&(x=!0,E=["[","]"]),C(n)&&(v=" [Function"+(n.name?": "+n.name:"")+"]"),_(n)&&(v=" "+RegExp.prototype.toString.call(n)),b(n)&&(v=" "+Date.prototype.toUTCString.call(n)),w(n)&&(v=" "+u(n)),0!==s.length||x&&0!=n.length?i<0?_(n)?t.stylize(RegExp.prototype.toString.call(n),"regexp"):t.stylize("[Object]","special"):(t.seen.push(n),l=x?function(t,e,n,i,r){for(var o=[],s=0,a=e.length;s<a;++s)O(e,String(s))?o.push(h(t,e,n,i,String(s),!0)):o.push("");return r.forEach((function(r){r.match(/^\d+$/)||o.push(h(t,e,n,i,r,!0))})),o}(t,n,i,a,s):s.map((function(e){return h(t,n,i,a,e,x)})),t.seen.pop(),function(t,e,n){return t.reduce((function(t,e){return e.indexOf("\n"),t+e.replace(/\u001b\[\d\d?m/g,"").length+1}),0)>60?n[0]+(""===e?"":e+"\n ")+" "+t.join(",\n  ")+" "+n[1]:n[0]+e+" "+t.join(", ")+" "+n[1]}(l,v,E)):E[0]+v+E[1]}function u(t){return"["+Error.prototype.toString.call(t)+"]"}function h(t,e,n,i,r,o){var s,a,l;if((l=Object.getOwnPropertyDescriptor(e,r)||{value:e[r]}).get?a=t.stylize(l.set?"[Getter/Setter]":"[Getter]","special"):l.set&&(a=t.stylize("[Setter]","special")),O(i,r)||(s="["+r+"]"),a||(t.seen.indexOf(l.value)<0?(a=f(n)?c(t,l.value,null):c(t,l.value,n-1)).indexOf("\n")>-1&&(a=o?a.split("\n").map((function(t){return"  "+t})).join("\n").substr(2):"\n"+a.split("\n").map((function(t){return"   "+t})).join("\n")):a=t.stylize("[Circular]","special")),y(s)){if(o&&r.match(/^\d+$/))return a;(s=JSON.stringify(""+r)).match(/^"([a-zA-Z_][a-zA-Z_0-9]*)"$/)?(s=s.substr(1,s.length-2),s=t.stylize(s,"name")):(s=s.replace(/'/g,"\\'").replace(/\\"/g,'"').replace(/(^"|"$)/g,"'"),s=t.stylize(s,"string"))}return s+": "+a}function d(t){return Array.isArray(t)}function p(t){return"boolean"==typeof t}function f(t){return null===t}function m(t){return"number"==typeof t}function g(t){return"string"==typeof t}function y(t){return void 0===t}function _(t){return v(t)&&"[object RegExp]"===x(t)}function v(t){return"object"==typeof t&&null!==t}function b(t){return v(t)&&"[object Date]"===x(t)}function w(t){return v(t)&&("[object Error]"===x(t)||t instanceof Error)}function C(t){return"function"==typeof t}function x(t){return Object.prototype.toString.call(t)}function E(t){return t<10?"0"+t.toString(10):t.toString(10)}e.debuglog=function(t){if(y(r)&&(r=process.env.NODE_DEBUG||""),t=t.toUpperCase(),!o[t])if(new RegExp("\\b"+t+"\\b","i").test(r)){var n=process.pid;o[t]=function(){var i=e.format.apply(e,arguments);console.error("%s %d: %s",t,n,i)}}else o[t]=function(){};return o[t]},e.inspect=s,s.colors={bold:[1,22],italic:[3,23],underline:[4,24],inverse:[7,27],white:[37,39],grey:[90,39],black:[30,39],blue:[34,39],cyan:[36,39],green:[32,39],magenta:[35,39],red:[31,39],yellow:[33,39]},s.styles={special:"cyan",number:"yellow",boolean:"yellow",undefined:"grey",null:"bold",string:"green",date:"magenta",regexp:"red"},e.isArray=d,e.isBoolean=p,e.isNull=f,e.isNullOrUndefined=function(t){return null==t},e.isNumber=m,e.isString=g,e.isSymbol=function(t){return"symbol"==typeof t},e.isUndefined=y,e.isRegExp=_,e.isObject=v,e.isDate=b,e.isError=w,e.isFunction=C,e.isPrimitive=function(t){return null===t||"boolean"==typeof t||"number"==typeof t||"string"==typeof t||"symbol"==typeof t||void 0===t},e.isBuffer=n("0Pmn");var S=["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"];function P(){var t=new Date,e=[E(t.getHours()),E(t.getMinutes()),E(t.getSeconds())].join(":");return[t.getDate(),S[t.getMonth()],e].join(" ")}function O(t,e){return Object.prototype.hasOwnProperty.call(t,e)}e.log=function(){console.log("%s - %s",P(),e.format.apply(e,arguments))},e.inherits=n("a8sm"),e._extend=function(t,e){if(!e||!v(e))return t;for(var n=Object.keys(e),i=n.length;i--;)t[n[i]]=e[n[i]];return t}},HOxn:function(t,e,n){var i=n("Cwc5")(n("Kz5y"),"Promise");t.exports=i},Hvzi:function(t,e){t.exports=function(t){var e=this.has(t)&&delete this.__data__[t];return this.size-=e?1:0,e}},I01J:function(t,e,n){var i=n("44Ds");t.exports=function(t){var e=i(t,(function(t){return 500===n.size&&n.clear(),t})),n=e.cache;return e}},IOzZ:function(t,e){t.exports=function(t,e){return function(n){return null!=n&&n[t]===e&&(void 0!==e||t in Object(n))}}},Ioao:function(t,e,n){var i=n("heNW"),r=Math.max;t.exports=function(t,e,n){return e=r(void 0===e?t.length-1:e,0),function(){for(var o=arguments,s=-1,a=r(o.length-e,0),l=Array(a);++s<a;)l[s]=o[e+s];s=-1;for(var c=Array(e+1);++s<e;)c[s]=o[s];return c[e]=n(l),i(t,this,c)}}},J2m7:function(t,e,n){var i=n("XKAG")(n("UfWW"));t.exports=i},JBE3:function(t,e,n){var i=n("+Qka"),r=n("LsHQ")((function(t,e,n,r){i(t,e,n,r)}));t.exports=r},JC6p:function(t,e,n){var i=n("cq/+"),r=n("7GkX");t.exports=function(t,e){return t&&i(t,e,r)}},JHRd:function(t,e,n){var i=n("Kz5y");t.exports=i.Uint8Array},JHgL:function(t,e,n){var i=n("QkVE");t.exports=function(t){return i(this,t).get(t)}},JSQU:function(t,e,n){var i=n("YESw");t.exports=function(t,e){var n=this.__data__;return this.size+=this.has(t)?0:1,n[t]=i&&void 0===e?"__lodash_hash_undefined__":e,this}},JTzB:function(t,e,n){var i=n("NykK"),r=n("ExA7");t.exports=function(t){return r(t)&&"[object Arguments]"==i(t)}},JZM8:function(t,e,n){var i=n("FfPP"),r=n("xs/l")((function(t,e){return null==t?{}:i(t,e)}));t.exports=r},Jlc5:function(t,e,n){var i=n("ZirO"),r=n("H0h1"),o=n("ut/Y"),s=n("Z0cm"),a=n("mv/X");t.exports=function(t,e,n){var l=s(t)?i:r;return n&&a(t,e,n)&&(e=void 0),l(t,o(e,3))}},JmpY:function(t,e,n){var i=n("eUgh");t.exports=function(t,e){return i(e,(function(e){return t[e]}))}},Juji:function(t,e){t.exports=function(t,e){return null!=t&&e in Object(t)}},KMkd:function(t,e){t.exports=function(){this.__data__=[],this.size=0}},KfNM:function(t,e){var n=Object.prototype.toString;t.exports=function(t){return n.call(t)}},KwMD:function(t,e){t.exports=function(t,e,n,i){for(var r=t.length,o=n+(i?1:-1);i?o--:++o<r;)if(e(t[o],o,t))return o;return-1}},KxBF:function(t,e){t.exports=function(t,e,n){var i=-1,r=t.length;e<0&&(e=-e>r?0:r+e),(n=n>r?r:n)<0&&(n+=r),r=e>n?0:n-e>>>0,e>>>=0;for(var o=Array(r);++i<r;)o[i]=t[i+e];return o}},Kz5y:function(t,e,n){var i=n("WFqU"),r="object"==typeof self&&self&&self.Object===Object&&self,o=i||r||Function("return this")();t.exports=o},L8xA:function(t,e){t.exports=function(t){var e=this.__data__,n=e.delete(t);return this.size=e.size,n}},LXxW:function(t,e){t.exports=function(t,e){for(var n=-1,i=null==t?0:t.length,r=0,o=[];++n<i;){var s=t[n];e(s,n,t)&&(o[r++]=s)}return o}},LcsW:function(t,e,n){var i=n("kekF")(Object.getPrototypeOf,Object);t.exports=i},LsHQ:function(t,e,n){var i=n("EA7m"),r=n("mv/X");t.exports=function(t){return i((function(e,n){var i=-1,o=n.length,s=o>1?n[o-1]:void 0,a=o>2?n[2]:void 0;for(s=t.length>3&&"function"==typeof s?(o--,s):void 0,a&&r(n[0],n[1],a)&&(s=o<3?void 0:s,o=1),e=Object(e);++i<o;){var l=n[i];l&&t(e,l,i,s)}return e}))}},LvDl:function(t,e,n){(function(t){var i;(function(){var r="Expected a function",o="__lodash_placeholder__",s=[["ary",128],["bind",1],["bindKey",2],["curry",8],["curryRight",16],["flip",512],["partial",32],["partialRight",64],["rearg",256]],a="[object Arguments]",l="[object Array]",c="[object Boolean]",u="[object Date]",h="[object Error]",d="[object Function]",p="[object GeneratorFunction]",f="[object Map]",m="[object Number]",g="[object Object]",y="[object RegExp]",_="[object Set]",v="[object String]",b="[object Symbol]",w="[object WeakMap]",C="[object ArrayBuffer]",x="[object DataView]",E="[object Float32Array]",S="[object Float64Array]",P="[object Int8Array]",O="[object Int16Array]",k="[object Int32Array]",T="[object Uint8Array]",I="[object Uint16Array]",A="[object Uint32Array]",M=/\b__p \+= '';/g,D=/\b(__p \+=) '' \+/g,R=/(__e\(.*?\)|\b__t\)) \+\n'';/g,F=/&(?:amp|lt|gt|quot|#39);/g,L=/[&<>"']/g,B=RegExp(F.source),N=RegExp(L.source),j=/<%-([\s\S]+?)%>/g,z=/<%([\s\S]+?)%>/g,H=/<%=([\s\S]+?)%>/g,V=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,U=/^\w*$/,W=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,$=/[\\^$.*+?()[\]{}|]/g,G=RegExp($.source),q=/^\s+|\s+$/g,X=/^\s+/,K=/\s+$/,Y=/\{(?:\n\/\* \[wrapped with .+\] \*\/)?\n?/,Q=/\{\n\/\* \[wrapped with (.+)\] \*/,Z=/,? & /,J=/[^\x00-\x2f\x3a-\x40\x5b-\x60\x7b-\x7f]+/g,tt=/\\(\\)?/g,et=/\$\{([^\\}]*(?:\\.[^\\}]*)*)\}/g,nt=/\w*$/,it=/^[-+]0x[0-9a-f]+$/i,rt=/^0b[01]+$/i,ot=/^\[object .+?Constructor\]$/,st=/^0o[0-7]+$/i,at=/^(?:0|[1-9]\d*)$/,lt=/[\xc0-\xd6\xd8-\xf6\xf8-\xff\u0100-\u017f]/g,ct=/($^)/,ut=/['\n\r\u2028\u2029\\]/g,ht="\\u0300-\\u036f\\ufe20-\\ufe2f\\u20d0-\\u20ff",dt="\\xac\\xb1\\xd7\\xf7\\x00-\\x2f\\x3a-\\x40\\x5b-\\x60\\x7b-\\xbf\\u2000-\\u206f \\t\\x0b\\f\\xa0\\ufeff\\n\\r\\u2028\\u2029\\u1680\\u180e\\u2000\\u2001\\u2002\\u2003\\u2004\\u2005\\u2006\\u2007\\u2008\\u2009\\u200a\\u202f\\u205f\\u3000",pt="["+dt+"]",ft="["+ht+"]",mt="\\d+",gt="[a-z\\xdf-\\xf6\\xf8-\\xff]",yt="[^\\ud800-\\udfff"+dt+mt+"\\u2700-\\u27bfa-z\\xdf-\\xf6\\xf8-\\xffA-Z\\xc0-\\xd6\\xd8-\\xde]",_t="\\ud83c[\\udffb-\\udfff]",vt="[^\\ud800-\\udfff]",bt="(?:\\ud83c[\\udde6-\\uddff]){2}",wt="[\\ud800-\\udbff][\\udc00-\\udfff]",Ct="[A-Z\\xc0-\\xd6\\xd8-\\xde]",xt="(?:"+gt+"|"+yt+")",Et="(?:"+Ct+"|"+yt+")",St="(?:"+ft+"|"+_t+")?",Pt="[\\ufe0e\\ufe0f]?"+St+"(?:\\u200d(?:"+[vt,bt,wt].join("|")+")[\\ufe0e\\ufe0f]?"+St+")*",Ot="(?:"+["[\\u2700-\\u27bf]",bt,wt].join("|")+")"+Pt,kt="(?:"+[vt+ft+"?",ft,bt,wt,"[\\ud800-\\udfff]"].join("|")+")",Tt=RegExp("['\u2019]","g"),It=RegExp(ft,"g"),At=RegExp(_t+"(?="+_t+")|"+kt+Pt,"g"),Mt=RegExp([Ct+"?"+gt+"+(?:['\u2019](?:d|ll|m|re|s|t|ve))?(?="+[pt,Ct,"$"].join("|")+")",Et+"+(?:['\u2019](?:D|LL|M|RE|S|T|VE))?(?="+[pt,Ct+xt,"$"].join("|")+")",Ct+"?"+xt+"+(?:['\u2019](?:d|ll|m|re|s|t|ve))?",Ct+"+(?:['\u2019](?:D|LL|M|RE|S|T|VE))?","\\d*(?:1ST|2ND|3RD|(?![123])\\dTH)(?=\\b|[a-z_])","\\d*(?:1st|2nd|3rd|(?![123])\\dth)(?=\\b|[A-Z_])",mt,Ot].join("|"),"g"),Dt=RegExp("[\\u200d\\ud800-\\udfff"+ht+"\\ufe0e\\ufe0f]"),Rt=/[a-z][A-Z]|[A-Z]{2}[a-z]|[0-9][a-zA-Z]|[a-zA-Z][0-9]|[^a-zA-Z0-9 ]/,Ft=["Array","Buffer","DataView","Date","Error","Float32Array","Float64Array","Function","Int8Array","Int16Array","Int32Array","Map","Math","Object","Promise","RegExp","Set","String","Symbol","TypeError","Uint8Array","Uint8ClampedArray","Uint16Array","Uint32Array","WeakMap","_","clearTimeout","isFinite","parseInt","setTimeout"],Lt=-1,Bt={};Bt[E]=Bt[S]=Bt[P]=Bt[O]=Bt[k]=Bt[T]=Bt["[object Uint8ClampedArray]"]=Bt[I]=Bt[A]=!0,Bt[a]=Bt[l]=Bt[C]=Bt[c]=Bt[x]=Bt[u]=Bt[h]=Bt[d]=Bt[f]=Bt[m]=Bt[g]=Bt[y]=Bt[_]=Bt[v]=Bt[w]=!1;var Nt={};Nt[a]=Nt[l]=Nt[C]=Nt[x]=Nt[c]=Nt[u]=Nt[E]=Nt[S]=Nt[P]=Nt[O]=Nt[k]=Nt[f]=Nt[m]=Nt[g]=Nt[y]=Nt[_]=Nt[v]=Nt[b]=Nt[T]=Nt["[object Uint8ClampedArray]"]=Nt[I]=Nt[A]=!0,Nt[h]=Nt[d]=Nt[w]=!1;var jt={"\\":"\\","'":"'","\n":"n","\r":"r","\u2028":"u2028","\u2029":"u2029"},zt=parseFloat,Ht=parseInt,Vt="object"==typeof global&&global&&global.Object===Object&&global,Ut="object"==typeof self&&self&&self.Object===Object&&self,Wt=Vt||Ut||Function("return this")(),$t=e&&!e.nodeType&&e,Gt=$t&&"object"==typeof t&&t&&!t.nodeType&&t,qt=Gt&&Gt.exports===$t,Xt=qt&&Vt.process,Kt=function(){try{return Gt&&Gt.require&&Gt.require("util").types||Xt&&Xt.binding&&Xt.binding("util")}catch(t){}}(),Yt=Kt&&Kt.isArrayBuffer,Qt=Kt&&Kt.isDate,Zt=Kt&&Kt.isMap,Jt=Kt&&Kt.isRegExp,te=Kt&&Kt.isSet,ee=Kt&&Kt.isTypedArray;function ne(t,e,n){switch(n.length){case 0:return t.call(e);case 1:return t.call(e,n[0]);case 2:return t.call(e,n[0],n[1]);case 3:return t.call(e,n[0],n[1],n[2])}return t.apply(e,n)}function ie(t,e,n,i){for(var r=-1,o=null==t?0:t.length;++r<o;){var s=t[r];e(i,s,n(s),t)}return i}function re(t,e){for(var n=-1,i=null==t?0:t.length;++n<i&&!1!==e(t[n],n,t););return t}function oe(t,e){for(var n=null==t?0:t.length;n--&&!1!==e(t[n],n,t););return t}function se(t,e){for(var n=-1,i=null==t?0:t.length;++n<i;)if(!e(t[n],n,t))return!1;return!0}function ae(t,e){for(var n=-1,i=null==t?0:t.length,r=0,o=[];++n<i;){var s=t[n];e(s,n,t)&&(o[r++]=s)}return o}function le(t,e){return!(null==t||!t.length)&&_e(t,e,0)>-1}function ce(t,e,n){for(var i=-1,r=null==t?0:t.length;++i<r;)if(n(e,t[i]))return!0;return!1}function ue(t,e){for(var n=-1,i=null==t?0:t.length,r=Array(i);++n<i;)r[n]=e(t[n],n,t);return r}function he(t,e){for(var n=-1,i=e.length,r=t.length;++n<i;)t[r+n]=e[n];return t}function de(t,e,n,i){var r=-1,o=null==t?0:t.length;for(i&&o&&(n=t[++r]);++r<o;)n=e(n,t[r],r,t);return n}function pe(t,e,n,i){var r=null==t?0:t.length;for(i&&r&&(n=t[--r]);r--;)n=e(n,t[r],r,t);return n}function fe(t,e){for(var n=-1,i=null==t?0:t.length;++n<i;)if(e(t[n],n,t))return!0;return!1}var me=Ce("length");function ge(t,e,n){var i;return n(t,(function(t,n,r){if(e(t,n,r))return i=n,!1})),i}function ye(t,e,n,i){for(var r=t.length,o=n+(i?1:-1);i?o--:++o<r;)if(e(t[o],o,t))return o;return-1}function _e(t,e,n){return e==e?function(t,e,n){for(var i=n-1,r=t.length;++i<r;)if(t[i]===e)return i;return-1}(t,e,n):ye(t,be,n)}function ve(t,e,n,i){for(var r=n-1,o=t.length;++r<o;)if(i(t[r],e))return r;return-1}function be(t){return t!=t}function we(t,e){var n=null==t?0:t.length;return n?Se(t,e)/n:NaN}function Ce(t){return function(e){return null==e?void 0:e[t]}}function xe(t){return function(e){return null==t?void 0:t[e]}}function Ee(t,e,n,i,r){return r(t,(function(t,r,o){n=i?(i=!1,t):e(n,t,r,o)})),n}function Se(t,e){for(var n,i=-1,r=t.length;++i<r;){var o=e(t[i]);void 0!==o&&(n=void 0===n?o:n+o)}return n}function Pe(t,e){for(var n=-1,i=Array(t);++n<t;)i[n]=e(n);return i}function Oe(t){return function(e){return t(e)}}function ke(t,e){return ue(e,(function(e){return t[e]}))}function Te(t,e){return t.has(e)}function Ie(t,e){for(var n=-1,i=t.length;++n<i&&_e(e,t[n],0)>-1;);return n}function Ae(t,e){for(var n=t.length;n--&&_e(e,t[n],0)>-1;);return n}function Me(t,e){for(var n=t.length,i=0;n--;)t[n]===e&&++i;return i}var De=xe({"\xc0":"A","\xc1":"A","\xc2":"A","\xc3":"A","\xc4":"A","\xc5":"A","\xe0":"a","\xe1":"a","\xe2":"a","\xe3":"a","\xe4":"a","\xe5":"a","\xc7":"C","\xe7":"c","\xd0":"D","\xf0":"d","\xc8":"E","\xc9":"E","\xca":"E","\xcb":"E","\xe8":"e","\xe9":"e","\xea":"e","\xeb":"e","\xcc":"I","\xcd":"I","\xce":"I","\xcf":"I","\xec":"i","\xed":"i","\xee":"i","\xef":"i","\xd1":"N","\xf1":"n","\xd2":"O","\xd3":"O","\xd4":"O","\xd5":"O","\xd6":"O","\xd8":"O","\xf2":"o","\xf3":"o","\xf4":"o","\xf5":"o","\xf6":"o","\xf8":"o","\xd9":"U","\xda":"U","\xdb":"U","\xdc":"U","\xf9":"u","\xfa":"u","\xfb":"u","\xfc":"u","\xdd":"Y","\xfd":"y","\xff":"y","\xc6":"Ae","\xe6":"ae","\xde":"Th","\xfe":"th","\xdf":"ss","\u0100":"A","\u0102":"A","\u0104":"A","\u0101":"a","\u0103":"a","\u0105":"a","\u0106":"C","\u0108":"C","\u010a":"C","\u010c":"C","\u0107":"c","\u0109":"c","\u010b":"c","\u010d":"c","\u010e":"D","\u0110":"D","\u010f":"d","\u0111":"d","\u0112":"E","\u0114":"E","\u0116":"E","\u0118":"E","\u011a":"E","\u0113":"e","\u0115":"e","\u0117":"e","\u0119":"e","\u011b":"e","\u011c":"G","\u011e":"G","\u0120":"G","\u0122":"G","\u011d":"g","\u011f":"g","\u0121":"g","\u0123":"g","\u0124":"H","\u0126":"H","\u0125":"h","\u0127":"h","\u0128":"I","\u012a":"I","\u012c":"I","\u012e":"I","\u0130":"I","\u0129":"i","\u012b":"i","\u012d":"i","\u012f":"i","\u0131":"i","\u0134":"J","\u0135":"j","\u0136":"K","\u0137":"k","\u0138":"k","\u0139":"L","\u013b":"L","\u013d":"L","\u013f":"L","\u0141":"L","\u013a":"l","\u013c":"l","\u013e":"l","\u0140":"l","\u0142":"l","\u0143":"N","\u0145":"N","\u0147":"N","\u014a":"N","\u0144":"n","\u0146":"n","\u0148":"n","\u014b":"n","\u014c":"O","\u014e":"O","\u0150":"O","\u014d":"o","\u014f":"o","\u0151":"o","\u0154":"R","\u0156":"R","\u0158":"R","\u0155":"r","\u0157":"r","\u0159":"r","\u015a":"S","\u015c":"S","\u015e":"S","\u0160":"S","\u015b":"s","\u015d":"s","\u015f":"s","\u0161":"s","\u0162":"T","\u0164":"T","\u0166":"T","\u0163":"t","\u0165":"t","\u0167":"t","\u0168":"U","\u016a":"U","\u016c":"U","\u016e":"U","\u0170":"U","\u0172":"U","\u0169":"u","\u016b":"u","\u016d":"u","\u016f":"u","\u0171":"u","\u0173":"u","\u0174":"W","\u0175":"w","\u0176":"Y","\u0177":"y","\u0178":"Y","\u0179":"Z","\u017b":"Z","\u017d":"Z","\u017a":"z","\u017c":"z","\u017e":"z","\u0132":"IJ","\u0133":"ij","\u0152":"Oe","\u0153":"oe","\u0149":"'n","\u017f":"s"}),Re=xe({"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#39;"});function Fe(t){return"\\"+jt[t]}function Le(t){return Dt.test(t)}function Be(t){var e=-1,n=Array(t.size);return t.forEach((function(t,i){n[++e]=[i,t]})),n}function Ne(t,e){return function(n){return t(e(n))}}function je(t,e){for(var n=-1,i=t.length,r=0,s=[];++n<i;){var a=t[n];a!==e&&a!==o||(t[n]=o,s[r++]=n)}return s}function ze(t){var e=-1,n=Array(t.size);return t.forEach((function(t){n[++e]=t})),n}function He(t){var e=-1,n=Array(t.size);return t.forEach((function(t){n[++e]=[t,t]})),n}function Ve(t){return Le(t)?function(t){for(var e=At.lastIndex=0;At.test(t);)++e;return e}(t):me(t)}function Ue(t){return Le(t)?function(t){return t.match(At)||[]}(t):function(t){return t.split("")}(t)}var We=xe({"&amp;":"&","&lt;":"<","&gt;":">","&quot;":'"',"&#39;":"'"}),$e=function t(e){var n,i=(e=null==e?Wt:$e.defaults(Wt.Object(),e,$e.pick(Wt,Ft))).Array,ht=e.Date,dt=e.Error,pt=e.Function,ft=e.Math,mt=e.Object,gt=e.RegExp,yt=e.String,_t=e.TypeError,vt=i.prototype,bt=mt.prototype,wt=e["__core-js_shared__"],Ct=pt.prototype.toString,xt=bt.hasOwnProperty,Et=0,St=(n=/[^.]+$/.exec(wt&&wt.keys&&wt.keys.IE_PROTO||""))?"Symbol(src)_1."+n:"",Pt=bt.toString,Ot=Ct.call(mt),kt=Wt._,At=gt("^"+Ct.call(xt).replace($,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$"),Dt=qt?e.Buffer:void 0,jt=e.Symbol,Vt=e.Uint8Array,Ut=Dt?Dt.allocUnsafe:void 0,$t=Ne(mt.getPrototypeOf,mt),Gt=mt.create,Xt=bt.propertyIsEnumerable,Kt=vt.splice,me=jt?jt.isConcatSpreadable:void 0,xe=jt?jt.iterator:void 0,Ge=jt?jt.toStringTag:void 0,qe=function(){try{var t=Qr(mt,"defineProperty");return t({},"",{}),t}catch(e){}}(),Xe=e.clearTimeout!==Wt.clearTimeout&&e.clearTimeout,Ke=ht&&ht.now!==Wt.Date.now&&ht.now,Ye=e.setTimeout!==Wt.setTimeout&&e.setTimeout,Qe=ft.ceil,Ze=ft.floor,Je=mt.getOwnPropertySymbols,tn=Dt?Dt.isBuffer:void 0,en=e.isFinite,nn=vt.join,rn=Ne(mt.keys,mt),on=ft.max,sn=ft.min,an=ht.now,ln=e.parseInt,cn=ft.random,un=vt.reverse,hn=Qr(e,"DataView"),dn=Qr(e,"Map"),pn=Qr(e,"Promise"),fn=Qr(e,"Set"),mn=Qr(e,"WeakMap"),gn=Qr(mt,"create"),yn=mn&&new mn,_n={},vn=Oo(hn),bn=Oo(dn),wn=Oo(pn),Cn=Oo(fn),xn=Oo(mn),En=jt?jt.prototype:void 0,Sn=En?En.valueOf:void 0,Pn=En?En.toString:void 0;function On(t){if(Ws(t)&&!Ds(t)&&!(t instanceof An)){if(t instanceof In)return t;if(xt.call(t,"__wrapped__"))return ko(t)}return new In(t)}var kn=function(){function t(){}return function(e){if(!Us(e))return{};if(Gt)return Gt(e);t.prototype=e;var n=new t;return t.prototype=void 0,n}}();function Tn(){}function In(t,e){this.__wrapped__=t,this.__actions__=[],this.__chain__=!!e,this.__index__=0,this.__values__=void 0}function An(t){this.__wrapped__=t,this.__actions__=[],this.__dir__=1,this.__filtered__=!1,this.__iteratees__=[],this.__takeCount__=4294967295,this.__views__=[]}function Mn(t){var e=-1,n=null==t?0:t.length;for(this.clear();++e<n;){var i=t[e];this.set(i[0],i[1])}}function Dn(t){var e=-1,n=null==t?0:t.length;for(this.clear();++e<n;){var i=t[e];this.set(i[0],i[1])}}function Rn(t){var e=-1,n=null==t?0:t.length;for(this.clear();++e<n;){var i=t[e];this.set(i[0],i[1])}}function Fn(t){var e=-1,n=null==t?0:t.length;for(this.__data__=new Rn;++e<n;)this.add(t[e])}function Ln(t){var e=this.__data__=new Dn(t);this.size=e.size}function Bn(t,e){var n=Ds(t),i=!n&&Ms(t),r=!n&&!i&&Bs(t),o=!n&&!i&&!r&&Zs(t),s=n||i||r||o,a=s?Pe(t.length,yt):[],l=a.length;for(var c in t)!e&&!xt.call(t,c)||s&&("length"==c||r&&("offset"==c||"parent"==c)||o&&("buffer"==c||"byteLength"==c||"byteOffset"==c)||ro(c,l))||a.push(c);return a}function Nn(t){var e=t.length;return e?t[Ri(0,e-1)]:void 0}function jn(t,e){return Co(mr(t),Xn(e,0,t.length))}function zn(t){return Co(mr(t))}function Hn(t,e,n){(void 0!==n&&!Ts(t[e],n)||void 0===n&&!(e in t))&&Gn(t,e,n)}function Vn(t,e,n){var i=t[e];xt.call(t,e)&&Ts(i,n)&&(void 0!==n||e in t)||Gn(t,e,n)}function Un(t,e){for(var n=t.length;n--;)if(Ts(t[n][0],e))return n;return-1}function Wn(t,e,n,i){return Jn(t,(function(t,r,o){e(i,t,n(t),o)})),i}function $n(t,e){return t&&gr(e,ba(e),t)}function Gn(t,e,n){"__proto__"==e&&qe?qe(t,e,{configurable:!0,enumerable:!0,value:n,writable:!0}):t[e]=n}function qn(t,e){for(var n=-1,r=e.length,o=i(r),s=null==t;++n<r;)o[n]=s?void 0:ma(t,e[n]);return o}function Xn(t,e,n){return t==t&&(void 0!==n&&(t=t<=n?t:n),void 0!==e&&(t=t>=e?t:e)),t}function Kn(t,e,n,i,r,o){var s,l=1&e,h=2&e,w=4&e;if(n&&(s=r?n(t,i,r,o):n(t)),void 0!==s)return s;if(!Us(t))return t;var M=Ds(t);if(M){if(s=function(t){var e=t.length,n=new t.constructor(e);return e&&"string"==typeof t[0]&&xt.call(t,"index")&&(n.index=t.index,n.input=t.input),n}(t),!l)return mr(t,s)}else{var D=to(t),R=D==d||D==p;if(Bs(t))return cr(t,l);if(D==g||D==a||R&&!r){if(s=h||R?{}:no(t),!l)return h?function(t,e){return gr(t,Jr(t),e)}(t,function(t,e){return t&&gr(e,wa(e),t)}(s,t)):function(t,e){return gr(t,Zr(t),e)}(t,$n(s,t))}else{if(!Nt[D])return r?t:{};s=function(t,e,n){var i=t.constructor;switch(e){case C:return ur(t);case c:case u:return new i(+t);case x:return function(t,e){var n=e?ur(t.buffer):t.buffer;return new t.constructor(n,t.byteOffset,t.byteLength)}(t,n);case E:case S:case P:case O:case k:case T:case"[object Uint8ClampedArray]":case I:case A:return hr(t,n);case f:return new i;case m:case v:return new i(t);case y:return function(t){var e=new t.constructor(t.source,nt.exec(t));return e.lastIndex=t.lastIndex,e}(t);case _:return new i;case b:return Sn?mt(Sn.call(t)):{}}}(t,D,l)}}o||(o=new Ln);var F=o.get(t);if(F)return F;o.set(t,s),Ks(t)?t.forEach((function(i){s.add(Kn(i,e,n,i,t,o))})):$s(t)&&t.forEach((function(i,r){s.set(r,Kn(i,e,n,r,t,o))}));var L=M?void 0:(w?h?Wr:Ur:h?wa:ba)(t);return re(L||t,(function(i,r){L&&(i=t[r=i]),Vn(s,r,Kn(i,e,n,r,t,o))})),s}function Yn(t,e,n){var i=n.length;if(null==t)return!i;for(t=mt(t);i--;){var r=n[i],o=t[r];if(void 0===o&&!(r in t)||!(0,e[r])(o))return!1}return!0}function Qn(t,e,n){if("function"!=typeof t)throw new _t(r);return _o((function(){t.apply(void 0,n)}),e)}function Zn(t,e,n,i){var r=-1,o=le,s=!0,a=t.length,l=[],c=e.length;if(!a)return l;n&&(e=ue(e,Oe(n))),i?(o=ce,s=!1):e.length>=200&&(o=Te,s=!1,e=new Fn(e));t:for(;++r<a;){var u=t[r],h=null==n?u:n(u);if(u=i||0!==u?u:0,s&&h==h){for(var d=c;d--;)if(e[d]===h)continue t;l.push(u)}else o(e,h,i)||l.push(u)}return l}On.templateSettings={escape:j,evaluate:z,interpolate:H,variable:"",imports:{_:On}},(On.prototype=Tn.prototype).constructor=On,(In.prototype=kn(Tn.prototype)).constructor=In,(An.prototype=kn(Tn.prototype)).constructor=An,Mn.prototype.clear=function(){this.__data__=gn?gn(null):{},this.size=0},Mn.prototype.delete=function(t){var e=this.has(t)&&delete this.__data__[t];return this.size-=e?1:0,e},Mn.prototype.get=function(t){var e=this.__data__;if(gn){var n=e[t];return"__lodash_hash_undefined__"===n?void 0:n}return xt.call(e,t)?e[t]:void 0},Mn.prototype.has=function(t){var e=this.__data__;return gn?void 0!==e[t]:xt.call(e,t)},Mn.prototype.set=function(t,e){var n=this.__data__;return this.size+=this.has(t)?0:1,n[t]=gn&&void 0===e?"__lodash_hash_undefined__":e,this},Dn.prototype.clear=function(){this.__data__=[],this.size=0},Dn.prototype.delete=function(t){var e=this.__data__,n=Un(e,t);return!(n<0||(n==e.length-1?e.pop():Kt.call(e,n,1),--this.size,0))},Dn.prototype.get=function(t){var e=this.__data__,n=Un(e,t);return n<0?void 0:e[n][1]},Dn.prototype.has=function(t){return Un(this.__data__,t)>-1},Dn.prototype.set=function(t,e){var n=this.__data__,i=Un(n,t);return i<0?(++this.size,n.push([t,e])):n[i][1]=e,this},Rn.prototype.clear=function(){this.size=0,this.__data__={hash:new Mn,map:new(dn||Dn),string:new Mn}},Rn.prototype.delete=function(t){var e=Kr(this,t).delete(t);return this.size-=e?1:0,e},Rn.prototype.get=function(t){return Kr(this,t).get(t)},Rn.prototype.has=function(t){return Kr(this,t).has(t)},Rn.prototype.set=function(t,e){var n=Kr(this,t),i=n.size;return n.set(t,e),this.size+=n.size==i?0:1,this},Fn.prototype.add=Fn.prototype.push=function(t){return this.__data__.set(t,"__lodash_hash_undefined__"),this},Fn.prototype.has=function(t){return this.__data__.has(t)},Ln.prototype.clear=function(){this.__data__=new Dn,this.size=0},Ln.prototype.delete=function(t){var e=this.__data__,n=e.delete(t);return this.size=e.size,n},Ln.prototype.get=function(t){return this.__data__.get(t)},Ln.prototype.has=function(t){return this.__data__.has(t)},Ln.prototype.set=function(t,e){var n=this.__data__;if(n instanceof Dn){var i=n.__data__;if(!dn||i.length<199)return i.push([t,e]),this.size=++n.size,this;n=this.__data__=new Rn(i)}return n.set(t,e),this.size=n.size,this};var Jn=vr(ai),ti=vr(li,!0);function ei(t,e){var n=!0;return Jn(t,(function(t,i,r){return n=!!e(t,i,r)})),n}function ni(t,e,n){for(var i=-1,r=t.length;++i<r;){var o=t[i],s=e(o);if(null!=s&&(void 0===a?s==s&&!Qs(s):n(s,a)))var a=s,l=o}return l}function ii(t,e){var n=[];return Jn(t,(function(t,i,r){e(t,i,r)&&n.push(t)})),n}function ri(t,e,n,i,r){var o=-1,s=t.length;for(n||(n=io),r||(r=[]);++o<s;){var a=t[o];e>0&&n(a)?e>1?ri(a,e-1,n,i,r):he(r,a):i||(r[r.length]=a)}return r}var oi=br(),si=br(!0);function ai(t,e){return t&&oi(t,e,ba)}function li(t,e){return t&&si(t,e,ba)}function ci(t,e){return ae(e,(function(e){return zs(t[e])}))}function ui(t,e){for(var n=0,i=(e=or(e,t)).length;null!=t&&n<i;)t=t[Po(e[n++])];return n&&n==i?t:void 0}function hi(t,e,n){var i=e(t);return Ds(t)?i:he(i,n(t))}function di(t){return null==t?void 0===t?"[object Undefined]":"[object Null]":Ge&&Ge in mt(t)?function(t){var e=xt.call(t,Ge),n=t[Ge];try{t[Ge]=void 0;var i=!0}catch(o){}var r=Pt.call(t);return i&&(e?t[Ge]=n:delete t[Ge]),r}(t):function(t){return Pt.call(t)}(t)}function pi(t,e){return t>e}function fi(t,e){return null!=t&&xt.call(t,e)}function mi(t,e){return null!=t&&e in mt(t)}function gi(t,e,n){for(var r=n?ce:le,o=t[0].length,s=t.length,a=s,l=i(s),c=1/0,u=[];a--;){var h=t[a];a&&e&&(h=ue(h,Oe(e))),c=sn(h.length,c),l[a]=!n&&(e||o>=120&&h.length>=120)?new Fn(a&&h):void 0}h=t[0];var d=-1,p=l[0];t:for(;++d<o&&u.length<c;){var f=h[d],m=e?e(f):f;if(f=n||0!==f?f:0,!(p?Te(p,m):r(u,m,n))){for(a=s;--a;){var g=l[a];if(!(g?Te(g,m):r(t[a],m,n)))continue t}p&&p.push(m),u.push(f)}}return u}function yi(t,e,n){var i=null==(t=fo(t,e=or(e,t)))?t:t[Po(jo(e))];return null==i?void 0:ne(i,t,n)}function _i(t){return Ws(t)&&di(t)==a}function vi(t,e,n,i,r){return t===e||(null==t||null==e||!Ws(t)&&!Ws(e)?t!=t&&e!=e:function(t,e,n,i,r,o){var s=Ds(t),d=Ds(e),p=s?l:to(t),w=d?l:to(e),E=(p=p==a?g:p)==g,S=(w=w==a?g:w)==g,P=p==w;if(P&&Bs(t)){if(!Bs(e))return!1;s=!0,E=!1}if(P&&!E)return o||(o=new Ln),s||Zs(t)?Hr(t,e,n,i,r,o):function(t,e,n,i,r,o,s){switch(n){case x:if(t.byteLength!=e.byteLength||t.byteOffset!=e.byteOffset)return!1;t=t.buffer,e=e.buffer;case C:return!(t.byteLength!=e.byteLength||!o(new Vt(t),new Vt(e)));case c:case u:case m:return Ts(+t,+e);case h:return t.name==e.name&&t.message==e.message;case y:case v:return t==e+"";case f:var a=Be;case _:if(a||(a=ze),t.size!=e.size&&!(1&i))return!1;var l=s.get(t);if(l)return l==e;i|=2,s.set(t,e);var d=Hr(a(t),a(e),i,r,o,s);return s.delete(t),d;case b:if(Sn)return Sn.call(t)==Sn.call(e)}return!1}(t,e,p,n,i,r,o);if(!(1&n)){var O=E&&xt.call(t,"__wrapped__"),k=S&&xt.call(e,"__wrapped__");if(O||k){var T=O?t.value():t,I=k?e.value():e;return o||(o=new Ln),r(T,I,n,i,o)}}return!!P&&(o||(o=new Ln),function(t,e,n,i,r,o){var s=1&n,a=Ur(t),l=a.length;if(l!=Ur(e).length&&!s)return!1;for(var c=l;c--;){var u=a[c];if(!(s?u in e:xt.call(e,u)))return!1}var h=o.get(t);if(h&&o.get(e))return h==e;var d=!0;o.set(t,e),o.set(e,t);for(var p=s;++c<l;){var f=t[u=a[c]],m=e[u];if(i)var g=s?i(m,f,u,e,t,o):i(f,m,u,t,e,o);if(!(void 0===g?f===m||r(f,m,n,i,o):g)){d=!1;break}p||(p="constructor"==u)}if(d&&!p){var y=t.constructor,_=e.constructor;y==_||!("constructor"in t)||!("constructor"in e)||"function"==typeof y&&y instanceof y&&"function"==typeof _&&_ instanceof _||(d=!1)}return o.delete(t),o.delete(e),d}(t,e,n,i,r,o))}(t,e,n,i,vi,r))}function bi(t,e,n,i){var r=n.length,o=r,s=!i;if(null==t)return!o;for(t=mt(t);r--;){var a=n[r];if(s&&a[2]?a[1]!==t[a[0]]:!(a[0]in t))return!1}for(;++r<o;){var l=(a=n[r])[0],c=t[l],u=a[1];if(s&&a[2]){if(void 0===c&&!(l in t))return!1}else{var h=new Ln;if(i)var d=i(c,u,l,t,e,h);if(!(void 0===d?vi(u,c,3,i,h):d))return!1}}return!0}function wi(t){return!(!Us(t)||(e=t,St&&St in e))&&(zs(t)?At:ot).test(Oo(t));var e}function Ci(t){return"function"==typeof t?t:null==t?Ga:"object"==typeof t?Ds(t)?Oi(t[0],t[1]):Pi(t):el(t)}function xi(t){if(!co(t))return rn(t);var e=[];for(var n in mt(t))xt.call(t,n)&&"constructor"!=n&&e.push(n);return e}function Ei(t,e){return t<e}function Si(t,e){var n=-1,r=Fs(t)?i(t.length):[];return Jn(t,(function(t,i,o){r[++n]=e(t,i,o)})),r}function Pi(t){var e=Yr(t);return 1==e.length&&e[0][2]?ho(e[0][0],e[0][1]):function(n){return n===t||bi(n,t,e)}}function Oi(t,e){return so(t)&&uo(e)?ho(Po(t),e):function(n){var i=ma(n,t);return void 0===i&&i===e?ga(n,t):vi(e,i,3)}}function ki(t,e,n,i,r){t!==e&&oi(e,(function(o,s){if(r||(r=new Ln),Us(o))!function(t,e,n,i,r,o,s){var a=go(t,n),l=go(e,n),c=s.get(l);if(c)Hn(t,n,c);else{var u=o?o(a,l,n+"",t,e,s):void 0,h=void 0===u;if(h){var d=Ds(l),p=!d&&Bs(l),f=!d&&!p&&Zs(l);u=l,d||p||f?Ds(a)?u=a:Ls(a)?u=mr(a):p?(h=!1,u=cr(l,!0)):f?(h=!1,u=hr(l,!0)):u=[]:qs(l)||Ms(l)?(u=a,Ms(a)?u=sa(a):Us(a)&&!zs(a)||(u=no(l))):h=!1}h&&(s.set(l,u),r(u,l,i,o,s),s.delete(l)),Hn(t,n,u)}}(t,e,s,n,ki,i,r);else{var a=i?i(go(t,s),o,s+"",t,e,r):void 0;void 0===a&&(a=o),Hn(t,s,a)}}),wa)}function Ti(t,e){var n=t.length;if(n)return ro(e+=e<0?n:0,n)?t[e]:void 0}function Ii(t,e,n){var i=-1;return e=ue(e.length?e:[Ga],Oe(Xr())),function(t,e){var i=t.length;for(t.sort((function(t,e){return function(t,e,n){for(var i=-1,r=t.criteria,o=e.criteria,s=r.length,a=n.length;++i<s;){var l=dr(r[i],o[i]);if(l)return i>=a?l:l*("desc"==n[i]?-1:1)}return t.index-e.index}(t,e,n)}));i--;)t[i]=t[i].value;return t}(Si(t,(function(t,n,r){return{criteria:ue(e,(function(e){return e(t)})),index:++i,value:t}})))}function Ai(t,e,n){for(var i=-1,r=e.length,o={};++i<r;){var s=e[i],a=ui(t,s);n(a,s)&&ji(o,or(s,t),a)}return o}function Mi(t,e,n,i){var r=i?ve:_e,o=-1,s=e.length,a=t;for(t===e&&(e=mr(e)),n&&(a=ue(t,Oe(n)));++o<s;)for(var l=0,c=e[o],u=n?n(c):c;(l=r(a,u,l,i))>-1;)a!==t&&Kt.call(a,l,1),Kt.call(t,l,1);return t}function Di(t,e){for(var n=t?e.length:0,i=n-1;n--;){var r=e[n];if(n==i||r!==o){var o=r;ro(r)?Kt.call(t,r,1):Qi(t,r)}}return t}function Ri(t,e){return t+Ze(cn()*(e-t+1))}function Fi(t,e){var n="";if(!t||e<1||e>9007199254740991)return n;do{e%2&&(n+=t),(e=Ze(e/2))&&(t+=t)}while(e);return n}function Li(t,e){return vo(po(t,e,Ga),t+"")}function Bi(t){return Nn(Ta(t))}function Ni(t,e){var n=Ta(t);return Co(n,Xn(e,0,n.length))}function ji(t,e,n,i){if(!Us(t))return t;for(var r=-1,o=(e=or(e,t)).length,s=o-1,a=t;null!=a&&++r<o;){var l=Po(e[r]),c=n;if(r!=s){var u=a[l];void 0===(c=i?i(u,l,a):void 0)&&(c=Us(u)?u:ro(e[r+1])?[]:{})}Vn(a,l,c),a=a[l]}return t}var zi=yn?function(t,e){return yn.set(t,e),t}:Ga,Hi=qe?function(t,e){return qe(t,"toString",{configurable:!0,enumerable:!1,value:Ua(e),writable:!0})}:Ga;function Vi(t){return Co(Ta(t))}function Ui(t,e,n){var r=-1,o=t.length;e<0&&(e=-e>o?0:o+e),(n=n>o?o:n)<0&&(n+=o),o=e>n?0:n-e>>>0,e>>>=0;for(var s=i(o);++r<o;)s[r]=t[r+e];return s}function Wi(t,e){var n;return Jn(t,(function(t,i,r){return!(n=e(t,i,r))})),!!n}function $i(t,e,n){var i=0,r=null==t?i:t.length;if("number"==typeof e&&e==e&&r<=2147483647){for(;i<r;){var o=i+r>>>1,s=t[o];null!==s&&!Qs(s)&&(n?s<=e:s<e)?i=o+1:r=o}return r}return Gi(t,e,Ga,n)}function Gi(t,e,n,i){e=n(e);for(var r=0,o=null==t?0:t.length,s=e!=e,a=null===e,l=Qs(e),c=void 0===e;r<o;){var u=Ze((r+o)/2),h=n(t[u]),d=void 0!==h,p=null===h,f=h==h,m=Qs(h);if(s)var g=i||f;else g=c?f&&(i||d):a?f&&d&&(i||!p):l?f&&d&&!p&&(i||!m):!p&&!m&&(i?h<=e:h<e);g?r=u+1:o=u}return sn(o,4294967294)}function qi(t,e){for(var n=-1,i=t.length,r=0,o=[];++n<i;){var s=t[n],a=e?e(s):s;if(!n||!Ts(a,l)){var l=a;o[r++]=0===s?0:s}}return o}function Xi(t){return"number"==typeof t?t:Qs(t)?NaN:+t}function Ki(t){if("string"==typeof t)return t;if(Ds(t))return ue(t,Ki)+"";if(Qs(t))return Pn?Pn.call(t):"";var e=t+"";return"0"==e&&1/t==-1/0?"-0":e}function Yi(t,e,n){var i=-1,r=le,o=t.length,s=!0,a=[],l=a;if(n)s=!1,r=ce;else if(o>=200){var c=e?null:Fr(t);if(c)return ze(c);s=!1,r=Te,l=new Fn}else l=e?[]:a;t:for(;++i<o;){var u=t[i],h=e?e(u):u;if(u=n||0!==u?u:0,s&&h==h){for(var d=l.length;d--;)if(l[d]===h)continue t;e&&l.push(h),a.push(u)}else r(l,h,n)||(l!==a&&l.push(h),a.push(u))}return a}function Qi(t,e){return null==(t=fo(t,e=or(e,t)))||delete t[Po(jo(e))]}function Zi(t,e,n,i){return ji(t,e,n(ui(t,e)),i)}function Ji(t,e,n,i){for(var r=t.length,o=i?r:-1;(i?o--:++o<r)&&e(t[o],o,t););return n?Ui(t,i?0:o,i?o+1:r):Ui(t,i?o+1:0,i?r:o)}function tr(t,e){var n=t;return n instanceof An&&(n=n.value()),de(e,(function(t,e){return e.func.apply(e.thisArg,he([t],e.args))}),n)}function er(t,e,n){var r=t.length;if(r<2)return r?Yi(t[0]):[];for(var o=-1,s=i(r);++o<r;)for(var a=t[o],l=-1;++l<r;)l!=o&&(s[o]=Zn(s[o]||a,t[l],e,n));return Yi(ri(s,1),e,n)}function nr(t,e,n){for(var i=-1,r=t.length,o=e.length,s={};++i<r;)n(s,t[i],i<o?e[i]:void 0);return s}function ir(t){return Ls(t)?t:[]}function rr(t){return"function"==typeof t?t:Ga}function or(t,e){return Ds(t)?t:so(t,e)?[t]:So(aa(t))}var sr=Li;function ar(t,e,n){var i=t.length;return n=void 0===n?i:n,!e&&n>=i?t:Ui(t,e,n)}var lr=Xe||function(t){return Wt.clearTimeout(t)};function cr(t,e){if(e)return t.slice();var n=t.length,i=Ut?Ut(n):new t.constructor(n);return t.copy(i),i}function ur(t){var e=new t.constructor(t.byteLength);return new Vt(e).set(new Vt(t)),e}function hr(t,e){var n=e?ur(t.buffer):t.buffer;return new t.constructor(n,t.byteOffset,t.length)}function dr(t,e){if(t!==e){var n=void 0!==t,i=null===t,r=t==t,o=Qs(t),s=void 0!==e,a=null===e,l=e==e,c=Qs(e);if(!a&&!c&&!o&&t>e||o&&s&&l&&!a&&!c||i&&s&&l||!n&&l||!r)return 1;if(!i&&!o&&!c&&t<e||c&&n&&r&&!i&&!o||a&&n&&r||!s&&r||!l)return-1}return 0}function pr(t,e,n,r){for(var o=-1,s=t.length,a=n.length,l=-1,c=e.length,u=on(s-a,0),h=i(c+u),d=!r;++l<c;)h[l]=e[l];for(;++o<a;)(d||o<s)&&(h[n[o]]=t[o]);for(;u--;)h[l++]=t[o++];return h}function fr(t,e,n,r){for(var o=-1,s=t.length,a=-1,l=n.length,c=-1,u=e.length,h=on(s-l,0),d=i(h+u),p=!r;++o<h;)d[o]=t[o];for(var f=o;++c<u;)d[f+c]=e[c];for(;++a<l;)(p||o<s)&&(d[f+n[a]]=t[o++]);return d}function mr(t,e){var n=-1,r=t.length;for(e||(e=i(r));++n<r;)e[n]=t[n];return e}function gr(t,e,n,i){var r=!n;n||(n={});for(var o=-1,s=e.length;++o<s;){var a=e[o],l=i?i(n[a],t[a],a,n,t):void 0;void 0===l&&(l=t[a]),r?Gn(n,a,l):Vn(n,a,l)}return n}function yr(t,e){return function(n,i){var r=Ds(n)?ie:Wn,o=e?e():{};return r(n,t,Xr(i,2),o)}}function _r(t){return Li((function(e,n){var i=-1,r=n.length,o=r>1?n[r-1]:void 0,s=r>2?n[2]:void 0;for(o=t.length>3&&"function"==typeof o?(r--,o):void 0,s&&oo(n[0],n[1],s)&&(o=r<3?void 0:o,r=1),e=mt(e);++i<r;){var a=n[i];a&&t(e,a,i,o)}return e}))}function vr(t,e){return function(n,i){if(null==n)return n;if(!Fs(n))return t(n,i);for(var r=n.length,o=e?r:-1,s=mt(n);(e?o--:++o<r)&&!1!==i(s[o],o,s););return n}}function br(t){return function(e,n,i){for(var r=-1,o=mt(e),s=i(e),a=s.length;a--;){var l=s[t?a:++r];if(!1===n(o[l],l,o))break}return e}}function wr(t){return function(e){var n=Le(e=aa(e))?Ue(e):void 0,i=n?n[0]:e.charAt(0),r=n?ar(n,1).join(""):e.slice(1);return i[t]()+r}}function Cr(t){return function(e){return de(za(Ma(e).replace(Tt,"")),t,"")}}function xr(t){return function(){var e=arguments;switch(e.length){case 0:return new t;case 1:return new t(e[0]);case 2:return new t(e[0],e[1]);case 3:return new t(e[0],e[1],e[2]);case 4:return new t(e[0],e[1],e[2],e[3]);case 5:return new t(e[0],e[1],e[2],e[3],e[4]);case 6:return new t(e[0],e[1],e[2],e[3],e[4],e[5]);case 7:return new t(e[0],e[1],e[2],e[3],e[4],e[5],e[6])}var n=kn(t.prototype),i=t.apply(n,e);return Us(i)?i:n}}function Er(t){return function(e,n,i){var r=mt(e);if(!Fs(e)){var o=Xr(n,3);e=ba(e),n=function(t){return o(r[t],t,r)}}var s=t(e,n,i);return s>-1?r[o?e[s]:s]:void 0}}function Sr(t){return Vr((function(e){var n=e.length,i=n,o=In.prototype.thru;for(t&&e.reverse();i--;){var s=e[i];if("function"!=typeof s)throw new _t(r);if(o&&!a&&"wrapper"==Gr(s))var a=new In([],!0)}for(i=a?i:n;++i<n;){var l=Gr(s=e[i]),c="wrapper"==l?$r(s):void 0;a=c&&ao(c[0])&&424==c[1]&&!c[4].length&&1==c[9]?a[Gr(c[0])].apply(a,c[3]):1==s.length&&ao(s)?a[l]():a.thru(s)}return function(){var t=arguments,i=t[0];if(a&&1==t.length&&Ds(i))return a.plant(i).value();for(var r=0,o=n?e[r].apply(this,t):i;++r<n;)o=e[r].call(this,o);return o}}))}function Pr(t,e,n,r,o,s,a,l,c,u){var h=128&e,d=1&e,p=2&e,f=24&e,m=512&e,g=p?void 0:xr(t);return function y(){for(var _=arguments.length,v=i(_),b=_;b--;)v[b]=arguments[b];if(f)var w=qr(y),C=Me(v,w);if(r&&(v=pr(v,r,o,f)),s&&(v=fr(v,s,a,f)),_-=C,f&&_<u){var x=je(v,w);return Dr(t,e,Pr,y.placeholder,n,v,x,l,c,u-_)}var E=d?n:this,S=p?E[t]:t;return _=v.length,l?v=mo(v,l):m&&_>1&&v.reverse(),h&&c<_&&(v.length=c),this&&this!==Wt&&this instanceof y&&(S=g||xr(S)),S.apply(E,v)}}function Or(t,e){return function(n,i){return function(t,e,n,i){return ai(t,(function(t,r,o){e(i,n(t),r,o)})),i}(n,t,e(i),{})}}function kr(t,e){return function(n,i){var r;if(void 0===n&&void 0===i)return e;if(void 0!==n&&(r=n),void 0!==i){if(void 0===r)return i;"string"==typeof n||"string"==typeof i?(n=Ki(n),i=Ki(i)):(n=Xi(n),i=Xi(i)),r=t(n,i)}return r}}function Tr(t){return Vr((function(e){return e=ue(e,Oe(Xr())),Li((function(n){var i=this;return t(e,(function(t){return ne(t,i,n)}))}))}))}function Ir(t,e){var n=(e=void 0===e?" ":Ki(e)).length;if(n<2)return n?Fi(e,t):e;var i=Fi(e,Qe(t/Ve(e)));return Le(e)?ar(Ue(i),0,t).join(""):i.slice(0,t)}function Ar(t){return function(e,n,r){return r&&"number"!=typeof r&&oo(e,n,r)&&(n=r=void 0),e=na(e),void 0===n?(n=e,e=0):n=na(n),function(t,e,n,r){for(var o=-1,s=on(Qe((e-t)/(n||1)),0),a=i(s);s--;)a[r?s:++o]=t,t+=n;return a}(e,n,r=void 0===r?e<n?1:-1:na(r),t)}}function Mr(t){return function(e,n){return"string"==typeof e&&"string"==typeof n||(e=oa(e),n=oa(n)),t(e,n)}}function Dr(t,e,n,i,r,o,s,a,l,c){var u=8&e;e|=u?32:64,4&(e&=~(u?64:32))||(e&=-4);var h=[t,e,r,u?o:void 0,u?s:void 0,u?void 0:o,u?void 0:s,a,l,c],d=n.apply(void 0,h);return ao(t)&&yo(d,h),d.placeholder=i,bo(d,t,e)}function Rr(t){var e=ft[t];return function(t,n){if(t=oa(t),(n=null==n?0:sn(ia(n),292))&&en(t)){var i=(aa(t)+"e").split("e");return+((i=(aa(e(i[0]+"e"+(+i[1]+n)))+"e").split("e"))[0]+"e"+(+i[1]-n))}return e(t)}}var Fr=fn&&1/ze(new fn([,-0]))[1]==1/0?function(t){return new fn(t)}:Qa;function Lr(t){return function(e){var n=to(e);return n==f?Be(e):n==_?He(e):function(t,e){return ue(e,(function(e){return[e,t[e]]}))}(e,t(e))}}function Br(t,e,n,s,a,l,c,u){var h=2&e;if(!h&&"function"!=typeof t)throw new _t(r);var d=s?s.length:0;if(d||(e&=-97,s=a=void 0),c=void 0===c?c:on(ia(c),0),u=void 0===u?u:ia(u),d-=a?a.length:0,64&e){var p=s,f=a;s=a=void 0}var m=h?void 0:$r(t),g=[t,e,n,s,a,p,f,l,c,u];if(m&&function(t,e){var n=t[1],i=e[1],r=n|i;if(!(r<131||128==i&&8==n||128==i&&256==n&&t[7].length<=e[8]||384==i&&e[7].length<=e[8]&&8==n))return t;1&i&&(t[2]=e[2],r|=1&n?0:4);var s=e[3];if(s){var a=t[3];t[3]=a?pr(a,s,e[4]):s,t[4]=a?je(t[3],o):e[4]}(s=e[5])&&(t[5]=(a=t[5])?fr(a,s,e[6]):s,t[6]=a?je(t[5],o):e[6]),(s=e[7])&&(t[7]=s),128&i&&(t[8]=null==t[8]?e[8]:sn(t[8],e[8])),null==t[9]&&(t[9]=e[9]),t[0]=e[0],t[1]=r}(g,m),t=g[0],e=g[1],n=g[2],s=g[3],a=g[4],!(u=g[9]=void 0===g[9]?h?0:t.length:on(g[9]-d,0))&&24&e&&(e&=-25),e&&1!=e)y=8==e||16==e?function(t,e,n){var r=xr(t);return function o(){for(var s=arguments.length,a=i(s),l=s,c=qr(o);l--;)a[l]=arguments[l];var u=s<3&&a[0]!==c&&a[s-1]!==c?[]:je(a,c);if((s-=u.length)<n)return Dr(t,e,Pr,o.placeholder,void 0,a,u,void 0,void 0,n-s);var h=this&&this!==Wt&&this instanceof o?r:t;return ne(h,this,a)}}(t,e,u):32!=e&&33!=e||a.length?Pr.apply(void 0,g):function(t,e,n,r){var o=1&e,s=xr(t);return function e(){for(var a=-1,l=arguments.length,c=-1,u=r.length,h=i(u+l),d=this&&this!==Wt&&this instanceof e?s:t;++c<u;)h[c]=r[c];for(;l--;)h[c++]=arguments[++a];return ne(d,o?n:this,h)}}(t,e,n,s);else var y=function(t,e,n){var i=1&e,r=xr(t);return function e(){var o=this&&this!==Wt&&this instanceof e?r:t;return o.apply(i?n:this,arguments)}}(t,e,n);return bo((m?zi:yo)(y,g),t,e)}function Nr(t,e,n,i){return void 0===t||Ts(t,bt[n])&&!xt.call(i,n)?e:t}function jr(t,e,n,i,r,o){return Us(t)&&Us(e)&&(o.set(e,t),ki(t,e,void 0,jr,o),o.delete(e)),t}function zr(t){return qs(t)?void 0:t}function Hr(t,e,n,i,r,o){var s=1&n,a=t.length,l=e.length;if(a!=l&&!(s&&l>a))return!1;var c=o.get(t);if(c&&o.get(e))return c==e;var u=-1,h=!0,d=2&n?new Fn:void 0;for(o.set(t,e),o.set(e,t);++u<a;){var p=t[u],f=e[u];if(i)var m=s?i(f,p,u,e,t,o):i(p,f,u,t,e,o);if(void 0!==m){if(m)continue;h=!1;break}if(d){if(!fe(e,(function(t,e){if(!Te(d,e)&&(p===t||r(p,t,n,i,o)))return d.push(e)}))){h=!1;break}}else if(p!==f&&!r(p,f,n,i,o)){h=!1;break}}return o.delete(t),o.delete(e),h}function Vr(t){return vo(po(t,void 0,Ro),t+"")}function Ur(t){return hi(t,ba,Zr)}function Wr(t){return hi(t,wa,Jr)}var $r=yn?function(t){return yn.get(t)}:Qa;function Gr(t){for(var e=t.name+"",n=_n[e],i=xt.call(_n,e)?n.length:0;i--;){var r=n[i],o=r.func;if(null==o||o==t)return r.name}return e}function qr(t){return(xt.call(On,"placeholder")?On:t).placeholder}function Xr(){var t=On.iteratee||qa;return t=t===qa?Ci:t,arguments.length?t(arguments[0],arguments[1]):t}function Kr(t,e){var n,i,r=t.__data__;return("string"==(i=typeof(n=e))||"number"==i||"symbol"==i||"boolean"==i?"__proto__"!==n:null===n)?r["string"==typeof e?"string":"hash"]:r.map}function Yr(t){for(var e=ba(t),n=e.length;n--;){var i=e[n],r=t[i];e[n]=[i,r,uo(r)]}return e}function Qr(t,e){var n=function(t,e){return null==t?void 0:t[e]}(t,e);return wi(n)?n:void 0}var Zr=Je?function(t){return null==t?[]:(t=mt(t),ae(Je(t),(function(e){return Xt.call(t,e)})))}:rl,Jr=Je?function(t){for(var e=[];t;)he(e,Zr(t)),t=$t(t);return e}:rl,to=di;function eo(t,e,n){for(var i=-1,r=(e=or(e,t)).length,o=!1;++i<r;){var s=Po(e[i]);if(!(o=null!=t&&n(t,s)))break;t=t[s]}return o||++i!=r?o:!!(r=null==t?0:t.length)&&Vs(r)&&ro(s,r)&&(Ds(t)||Ms(t))}function no(t){return"function"!=typeof t.constructor||co(t)?{}:kn($t(t))}function io(t){return Ds(t)||Ms(t)||!!(me&&t&&t[me])}function ro(t,e){var n=typeof t;return!!(e=null==e?9007199254740991:e)&&("number"==n||"symbol"!=n&&at.test(t))&&t>-1&&t%1==0&&t<e}function oo(t,e,n){if(!Us(n))return!1;var i=typeof e;return!!("number"==i?Fs(n)&&ro(e,n.length):"string"==i&&e in n)&&Ts(n[e],t)}function so(t,e){if(Ds(t))return!1;var n=typeof t;return!("number"!=n&&"symbol"!=n&&"boolean"!=n&&null!=t&&!Qs(t))||U.test(t)||!V.test(t)||null!=e&&t in mt(e)}function ao(t){var e=Gr(t),n=On[e];if("function"!=typeof n||!(e in An.prototype))return!1;if(t===n)return!0;var i=$r(n);return!!i&&t===i[0]}(hn&&to(new hn(new ArrayBuffer(1)))!=x||dn&&to(new dn)!=f||pn&&"[object Promise]"!=to(pn.resolve())||fn&&to(new fn)!=_||mn&&to(new mn)!=w)&&(to=function(t){var e=di(t),n=e==g?t.constructor:void 0,i=n?Oo(n):"";if(i)switch(i){case vn:return x;case bn:return f;case wn:return"[object Promise]";case Cn:return _;case xn:return w}return e});var lo=wt?zs:ol;function co(t){var e=t&&t.constructor;return t===("function"==typeof e&&e.prototype||bt)}function uo(t){return t==t&&!Us(t)}function ho(t,e){return function(n){return null!=n&&n[t]===e&&(void 0!==e||t in mt(n))}}function po(t,e,n){return e=on(void 0===e?t.length-1:e,0),function(){for(var r=arguments,o=-1,s=on(r.length-e,0),a=i(s);++o<s;)a[o]=r[e+o];o=-1;for(var l=i(e+1);++o<e;)l[o]=r[o];return l[e]=n(a),ne(t,this,l)}}function fo(t,e){return e.length<2?t:ui(t,Ui(e,0,-1))}function mo(t,e){for(var n=t.length,i=sn(e.length,n),r=mr(t);i--;){var o=e[i];t[i]=ro(o,n)?r[o]:void 0}return t}function go(t,e){if(("constructor"!==e||"function"!=typeof t[e])&&"__proto__"!=e)return t[e]}var yo=wo(zi),_o=Ye||function(t,e){return Wt.setTimeout(t,e)},vo=wo(Hi);function bo(t,e,n){var i=e+"";return vo(t,function(t,e){var n=e.length;if(!n)return t;var i=n-1;return e[i]=(n>1?"& ":"")+e[i],e=e.join(n>2?", ":" "),t.replace(Y,"{\n/* [wrapped with "+e+"] */\n")}(i,function(t,e){return re(s,(function(n){var i="_."+n[0];e&n[1]&&!le(t,i)&&t.push(i)})),t.sort()}(function(t){var e=t.match(Q);return e?e[1].split(Z):[]}(i),n)))}function wo(t){var e=0,n=0;return function(){var i=an(),r=16-(i-n);if(n=i,r>0){if(++e>=800)return arguments[0]}else e=0;return t.apply(void 0,arguments)}}function Co(t,e){var n=-1,i=t.length,r=i-1;for(e=void 0===e?i:e;++n<e;){var o=Ri(n,r),s=t[o];t[o]=t[n],t[n]=s}return t.length=e,t}var xo,Eo,So=(xo=xs((function(t){var e=[];return 46===t.charCodeAt(0)&&e.push(""),t.replace(W,(function(t,n,i,r){e.push(i?r.replace(tt,"$1"):n||t)})),e}),(function(t){return 500===Eo.size&&Eo.clear(),t})),Eo=xo.cache,xo);function Po(t){if("string"==typeof t||Qs(t))return t;var e=t+"";return"0"==e&&1/t==-1/0?"-0":e}function Oo(t){if(null!=t){try{return Ct.call(t)}catch(e){}try{return t+""}catch(e){}}return""}function ko(t){if(t instanceof An)return t.clone();var e=new In(t.__wrapped__,t.__chain__);return e.__actions__=mr(t.__actions__),e.__index__=t.__index__,e.__values__=t.__values__,e}var To=Li((function(t,e){return Ls(t)?Zn(t,ri(e,1,Ls,!0)):[]})),Io=Li((function(t,e){var n=jo(e);return Ls(n)&&(n=void 0),Ls(t)?Zn(t,ri(e,1,Ls,!0),Xr(n,2)):[]})),Ao=Li((function(t,e){var n=jo(e);return Ls(n)&&(n=void 0),Ls(t)?Zn(t,ri(e,1,Ls,!0),void 0,n):[]}));function Mo(t,e,n){var i=null==t?0:t.length;if(!i)return-1;var r=null==n?0:ia(n);return r<0&&(r=on(i+r,0)),ye(t,Xr(e,3),r)}function Do(t,e,n){var i=null==t?0:t.length;if(!i)return-1;var r=i-1;return void 0!==n&&(r=ia(n),r=n<0?on(i+r,0):sn(r,i-1)),ye(t,Xr(e,3),r,!0)}function Ro(t){return null!=t&&t.length?ri(t,1):[]}function Fo(t){return t&&t.length?t[0]:void 0}var Lo=Li((function(t){var e=ue(t,ir);return e.length&&e[0]===t[0]?gi(e):[]})),Bo=Li((function(t){var e=jo(t),n=ue(t,ir);return e===jo(n)?e=void 0:n.pop(),n.length&&n[0]===t[0]?gi(n,Xr(e,2)):[]})),No=Li((function(t){var e=jo(t),n=ue(t,ir);return(e="function"==typeof e?e:void 0)&&n.pop(),n.length&&n[0]===t[0]?gi(n,void 0,e):[]}));function jo(t){var e=null==t?0:t.length;return e?t[e-1]:void 0}var zo=Li(Ho);function Ho(t,e){return t&&t.length&&e&&e.length?Mi(t,e):t}var Vo=Vr((function(t,e){var n=null==t?0:t.length,i=qn(t,e);return Di(t,ue(e,(function(t){return ro(t,n)?+t:t})).sort(dr)),i}));function Uo(t){return null==t?t:un.call(t)}var Wo=Li((function(t){return Yi(ri(t,1,Ls,!0))})),$o=Li((function(t){var e=jo(t);return Ls(e)&&(e=void 0),Yi(ri(t,1,Ls,!0),Xr(e,2))})),Go=Li((function(t){var e=jo(t);return e="function"==typeof e?e:void 0,Yi(ri(t,1,Ls,!0),void 0,e)}));function qo(t){if(!t||!t.length)return[];var e=0;return t=ae(t,(function(t){if(Ls(t))return e=on(t.length,e),!0})),Pe(e,(function(e){return ue(t,Ce(e))}))}function Xo(t,e){if(!t||!t.length)return[];var n=qo(t);return null==e?n:ue(n,(function(t){return ne(e,void 0,t)}))}var Ko=Li((function(t,e){return Ls(t)?Zn(t,e):[]})),Yo=Li((function(t){return er(ae(t,Ls))})),Qo=Li((function(t){var e=jo(t);return Ls(e)&&(e=void 0),er(ae(t,Ls),Xr(e,2))})),Zo=Li((function(t){var e=jo(t);return e="function"==typeof e?e:void 0,er(ae(t,Ls),void 0,e)})),Jo=Li(qo),ts=Li((function(t){var e=t.length,n=e>1?t[e-1]:void 0;return n="function"==typeof n?(t.pop(),n):void 0,Xo(t,n)}));function es(t){var e=On(t);return e.__chain__=!0,e}function ns(t,e){return e(t)}var is=Vr((function(t){var e=t.length,n=e?t[0]:0,i=this.__wrapped__,r=function(e){return qn(e,t)};return!(e>1||this.__actions__.length)&&i instanceof An&&ro(n)?((i=i.slice(n,+n+(e?1:0))).__actions__.push({func:ns,args:[r],thisArg:void 0}),new In(i,this.__chain__).thru((function(t){return e&&!t.length&&t.push(void 0),t}))):this.thru(r)})),rs=yr((function(t,e,n){xt.call(t,n)?++t[n]:Gn(t,n,1)})),os=Er(Mo),ss=Er(Do);function as(t,e){return(Ds(t)?re:Jn)(t,Xr(e,3))}function ls(t,e){return(Ds(t)?oe:ti)(t,Xr(e,3))}var cs=yr((function(t,e,n){xt.call(t,n)?t[n].push(e):Gn(t,n,[e])})),us=Li((function(t,e,n){var r=-1,o="function"==typeof e,s=Fs(t)?i(t.length):[];return Jn(t,(function(t){s[++r]=o?ne(e,t,n):yi(t,e,n)})),s})),hs=yr((function(t,e,n){Gn(t,n,e)}));function ds(t,e){return(Ds(t)?ue:Si)(t,Xr(e,3))}var ps=yr((function(t,e,n){t[n?0:1].push(e)}),(function(){return[[],[]]})),fs=Li((function(t,e){if(null==t)return[];var n=e.length;return n>1&&oo(t,e[0],e[1])?e=[]:n>2&&oo(e[0],e[1],e[2])&&(e=[e[0]]),Ii(t,ri(e,1),[])})),ms=Ke||function(){return Wt.Date.now()};function gs(t,e,n){return e=n?void 0:e,Br(t,128,void 0,void 0,void 0,void 0,e=t&&null==e?t.length:e)}function ys(t,e){var n;if("function"!=typeof e)throw new _t(r);return t=ia(t),function(){return--t>0&&(n=e.apply(this,arguments)),t<=1&&(e=void 0),n}}var _s=Li((function(t,e,n){var i=1;if(n.length){var r=je(n,qr(_s));i|=32}return Br(t,i,e,n,r)})),vs=Li((function(t,e,n){var i=3;if(n.length){var r=je(n,qr(vs));i|=32}return Br(e,i,t,n,r)}));function bs(t,e,n){var i,o,s,a,l,c,u=0,h=!1,d=!1,p=!0;if("function"!=typeof t)throw new _t(r);function f(e){var n=i,r=o;return i=o=void 0,u=e,a=t.apply(r,n)}function m(t){return u=t,l=_o(y,e),h?f(t):a}function g(t){var n=t-c;return void 0===c||n>=e||n<0||d&&t-u>=s}function y(){var t=ms();if(g(t))return _(t);l=_o(y,function(t){var n=e-(t-c);return d?sn(n,s-(t-u)):n}(t))}function _(t){return l=void 0,p&&i?f(t):(i=o=void 0,a)}function v(){var t=ms(),n=g(t);if(i=arguments,o=this,c=t,n){if(void 0===l)return m(c);if(d)return lr(l),l=_o(y,e),f(c)}return void 0===l&&(l=_o(y,e)),a}return e=oa(e)||0,Us(n)&&(h=!!n.leading,s=(d="maxWait"in n)?on(oa(n.maxWait)||0,e):s,p="trailing"in n?!!n.trailing:p),v.cancel=function(){void 0!==l&&lr(l),u=0,i=c=o=l=void 0},v.flush=function(){return void 0===l?a:_(ms())},v}var ws=Li((function(t,e){return Qn(t,1,e)})),Cs=Li((function(t,e,n){return Qn(t,oa(e)||0,n)}));function xs(t,e){if("function"!=typeof t||null!=e&&"function"!=typeof e)throw new _t(r);var n=function(){var i=arguments,r=e?e.apply(this,i):i[0],o=n.cache;if(o.has(r))return o.get(r);var s=t.apply(this,i);return n.cache=o.set(r,s)||o,s};return n.cache=new(xs.Cache||Rn),n}function Es(t){if("function"!=typeof t)throw new _t(r);return function(){var e=arguments;switch(e.length){case 0:return!t.call(this);case 1:return!t.call(this,e[0]);case 2:return!t.call(this,e[0],e[1]);case 3:return!t.call(this,e[0],e[1],e[2])}return!t.apply(this,e)}}xs.Cache=Rn;var Ss=sr((function(t,e){var n=(e=1==e.length&&Ds(e[0])?ue(e[0],Oe(Xr())):ue(ri(e,1),Oe(Xr()))).length;return Li((function(i){for(var r=-1,o=sn(i.length,n);++r<o;)i[r]=e[r].call(this,i[r]);return ne(t,this,i)}))})),Ps=Li((function(t,e){return Br(t,32,void 0,e,je(e,qr(Ps)))})),Os=Li((function(t,e){return Br(t,64,void 0,e,je(e,qr(Os)))})),ks=Vr((function(t,e){return Br(t,256,void 0,void 0,void 0,e)}));function Ts(t,e){return t===e||t!=t&&e!=e}var Is=Mr(pi),As=Mr((function(t,e){return t>=e})),Ms=_i(function(){return arguments}())?_i:function(t){return Ws(t)&&xt.call(t,"callee")&&!Xt.call(t,"callee")},Ds=i.isArray,Rs=Yt?Oe(Yt):function(t){return Ws(t)&&di(t)==C};function Fs(t){return null!=t&&Vs(t.length)&&!zs(t)}function Ls(t){return Ws(t)&&Fs(t)}var Bs=tn||ol,Ns=Qt?Oe(Qt):function(t){return Ws(t)&&di(t)==u};function js(t){if(!Ws(t))return!1;var e=di(t);return e==h||"[object DOMException]"==e||"string"==typeof t.message&&"string"==typeof t.name&&!qs(t)}function zs(t){if(!Us(t))return!1;var e=di(t);return e==d||e==p||"[object AsyncFunction]"==e||"[object Proxy]"==e}function Hs(t){return"number"==typeof t&&t==ia(t)}function Vs(t){return"number"==typeof t&&t>-1&&t%1==0&&t<=9007199254740991}function Us(t){var e=typeof t;return null!=t&&("object"==e||"function"==e)}function Ws(t){return null!=t&&"object"==typeof t}var $s=Zt?Oe(Zt):function(t){return Ws(t)&&to(t)==f};function Gs(t){return"number"==typeof t||Ws(t)&&di(t)==m}function qs(t){if(!Ws(t)||di(t)!=g)return!1;var e=$t(t);if(null===e)return!0;var n=xt.call(e,"constructor")&&e.constructor;return"function"==typeof n&&n instanceof n&&Ct.call(n)==Ot}var Xs=Jt?Oe(Jt):function(t){return Ws(t)&&di(t)==y},Ks=te?Oe(te):function(t){return Ws(t)&&to(t)==_};function Ys(t){return"string"==typeof t||!Ds(t)&&Ws(t)&&di(t)==v}function Qs(t){return"symbol"==typeof t||Ws(t)&&di(t)==b}var Zs=ee?Oe(ee):function(t){return Ws(t)&&Vs(t.length)&&!!Bt[di(t)]},Js=Mr(Ei),ta=Mr((function(t,e){return t<=e}));function ea(t){if(!t)return[];if(Fs(t))return Ys(t)?Ue(t):mr(t);if(xe&&t[xe])return function(t){for(var e,n=[];!(e=t.next()).done;)n.push(e.value);return n}(t[xe]());var e=to(t);return(e==f?Be:e==_?ze:Ta)(t)}function na(t){return t?(t=oa(t))===1/0||t===-1/0?17976931348623157e292*(t<0?-1:1):t==t?t:0:0===t?t:0}function ia(t){var e=na(t),n=e%1;return e==e?n?e-n:e:0}function ra(t){return t?Xn(ia(t),0,4294967295):0}function oa(t){if("number"==typeof t)return t;if(Qs(t))return NaN;if(Us(t)){var e="function"==typeof t.valueOf?t.valueOf():t;t=Us(e)?e+"":e}if("string"!=typeof t)return 0===t?t:+t;t=t.replace(q,"");var n=rt.test(t);return n||st.test(t)?Ht(t.slice(2),n?2:8):it.test(t)?NaN:+t}function sa(t){return gr(t,wa(t))}function aa(t){return null==t?"":Ki(t)}var la=_r((function(t,e){if(co(e)||Fs(e))gr(e,ba(e),t);else for(var n in e)xt.call(e,n)&&Vn(t,n,e[n])})),ca=_r((function(t,e){gr(e,wa(e),t)})),ua=_r((function(t,e,n,i){gr(e,wa(e),t,i)})),ha=_r((function(t,e,n,i){gr(e,ba(e),t,i)})),da=Vr(qn),pa=Li((function(t,e){t=mt(t);var n=-1,i=e.length,r=i>2?e[2]:void 0;for(r&&oo(e[0],e[1],r)&&(i=1);++n<i;)for(var o=e[n],s=wa(o),a=-1,l=s.length;++a<l;){var c=s[a],u=t[c];(void 0===u||Ts(u,bt[c])&&!xt.call(t,c))&&(t[c]=o[c])}return t})),fa=Li((function(t){return t.push(void 0,jr),ne(xa,void 0,t)}));function ma(t,e,n){var i=null==t?void 0:ui(t,e);return void 0===i?n:i}function ga(t,e){return null!=t&&eo(t,e,mi)}var ya=Or((function(t,e,n){null!=e&&"function"!=typeof e.toString&&(e=Pt.call(e)),t[e]=n}),Ua(Ga)),_a=Or((function(t,e,n){null!=e&&"function"!=typeof e.toString&&(e=Pt.call(e)),xt.call(t,e)?t[e].push(n):t[e]=[n]}),Xr),va=Li(yi);function ba(t){return Fs(t)?Bn(t):xi(t)}function wa(t){return Fs(t)?Bn(t,!0):function(t){if(!Us(t))return function(t){var e=[];if(null!=t)for(var n in mt(t))e.push(n);return e}(t);var e=co(t),n=[];for(var i in t)("constructor"!=i||!e&&xt.call(t,i))&&n.push(i);return n}(t)}var Ca=_r((function(t,e,n){ki(t,e,n)})),xa=_r((function(t,e,n,i){ki(t,e,n,i)})),Ea=Vr((function(t,e){var n={};if(null==t)return n;var i=!1;e=ue(e,(function(e){return e=or(e,t),i||(i=e.length>1),e})),gr(t,Wr(t),n),i&&(n=Kn(n,7,zr));for(var r=e.length;r--;)Qi(n,e[r]);return n})),Sa=Vr((function(t,e){return null==t?{}:function(t,e){return Ai(t,e,(function(e,n){return ga(t,n)}))}(t,e)}));function Pa(t,e){if(null==t)return{};var n=ue(Wr(t),(function(t){return[t]}));return e=Xr(e),Ai(t,n,(function(t,n){return e(t,n[0])}))}var Oa=Lr(ba),ka=Lr(wa);function Ta(t){return null==t?[]:ke(t,ba(t))}var Ia=Cr((function(t,e,n){return e=e.toLowerCase(),t+(n?Aa(e):e)}));function Aa(t){return ja(aa(t).toLowerCase())}function Ma(t){return(t=aa(t))&&t.replace(lt,De).replace(It,"")}var Da=Cr((function(t,e,n){return t+(n?"-":"")+e.toLowerCase()})),Ra=Cr((function(t,e,n){return t+(n?" ":"")+e.toLowerCase()})),Fa=wr("toLowerCase"),La=Cr((function(t,e,n){return t+(n?"_":"")+e.toLowerCase()})),Ba=Cr((function(t,e,n){return t+(n?" ":"")+ja(e)})),Na=Cr((function(t,e,n){return t+(n?" ":"")+e.toUpperCase()})),ja=wr("toUpperCase");function za(t,e,n){return t=aa(t),void 0===(e=n?void 0:e)?function(t){return Rt.test(t)}(t)?function(t){return t.match(Mt)||[]}(t):function(t){return t.match(J)||[]}(t):t.match(e)||[]}var Ha=Li((function(t,e){try{return ne(t,void 0,e)}catch(n){return js(n)?n:new dt(n)}})),Va=Vr((function(t,e){return re(e,(function(e){e=Po(e),Gn(t,e,_s(t[e],t))})),t}));function Ua(t){return function(){return t}}var Wa=Sr(),$a=Sr(!0);function Ga(t){return t}function qa(t){return Ci("function"==typeof t?t:Kn(t,1))}var Xa=Li((function(t,e){return function(n){return yi(n,t,e)}})),Ka=Li((function(t,e){return function(n){return yi(t,n,e)}}));function Ya(t,e,n){var i=ba(e),r=ci(e,i);null!=n||Us(e)&&(r.length||!i.length)||(n=e,e=t,t=this,r=ci(e,ba(e)));var o=!(Us(n)&&"chain"in n&&!n.chain),s=zs(t);return re(r,(function(n){var i=e[n];t[n]=i,s&&(t.prototype[n]=function(){var e=this.__chain__;if(o||e){var n=t(this.__wrapped__),r=n.__actions__=mr(this.__actions__);return r.push({func:i,args:arguments,thisArg:t}),n.__chain__=e,n}return i.apply(t,he([this.value()],arguments))})})),t}function Qa(){}var Za=Tr(ue),Ja=Tr(se),tl=Tr(fe);function el(t){return so(t)?Ce(Po(t)):function(t){return function(e){return ui(e,t)}}(t)}var nl=Ar(),il=Ar(!0);function rl(){return[]}function ol(){return!1}var sl,al=kr((function(t,e){return t+e}),0),ll=Rr("ceil"),cl=kr((function(t,e){return t/e}),1),ul=Rr("floor"),hl=kr((function(t,e){return t*e}),1),dl=Rr("round"),pl=kr((function(t,e){return t-e}),0);return On.after=function(t,e){if("function"!=typeof e)throw new _t(r);return t=ia(t),function(){if(--t<1)return e.apply(this,arguments)}},On.ary=gs,On.assign=la,On.assignIn=ca,On.assignInWith=ua,On.assignWith=ha,On.at=da,On.before=ys,On.bind=_s,On.bindAll=Va,On.bindKey=vs,On.castArray=function(){if(!arguments.length)return[];var t=arguments[0];return Ds(t)?t:[t]},On.chain=es,On.chunk=function(t,e,n){e=(n?oo(t,e,n):void 0===e)?1:on(ia(e),0);var r=null==t?0:t.length;if(!r||e<1)return[];for(var o=0,s=0,a=i(Qe(r/e));o<r;)a[s++]=Ui(t,o,o+=e);return a},On.compact=function(t){for(var e=-1,n=null==t?0:t.length,i=0,r=[];++e<n;){var o=t[e];o&&(r[i++]=o)}return r},On.concat=function(){var t=arguments.length;if(!t)return[];for(var e=i(t-1),n=arguments[0],r=t;r--;)e[r-1]=arguments[r];return he(Ds(n)?mr(n):[n],ri(e,1))},On.cond=function(t){var e=null==t?0:t.length,n=Xr();return t=e?ue(t,(function(t){if("function"!=typeof t[1])throw new _t(r);return[n(t[0]),t[1]]})):[],Li((function(n){for(var i=-1;++i<e;){var r=t[i];if(ne(r[0],this,n))return ne(r[1],this,n)}}))},On.conforms=function(t){return function(t){var e=ba(t);return function(n){return Yn(n,t,e)}}(Kn(t,1))},On.constant=Ua,On.countBy=rs,On.create=function(t,e){var n=kn(t);return null==e?n:$n(n,e)},On.curry=function t(e,n,i){var r=Br(e,8,void 0,void 0,void 0,void 0,void 0,n=i?void 0:n);return r.placeholder=t.placeholder,r},On.curryRight=function t(e,n,i){var r=Br(e,16,void 0,void 0,void 0,void 0,void 0,n=i?void 0:n);return r.placeholder=t.placeholder,r},On.debounce=bs,On.defaults=pa,On.defaultsDeep=fa,On.defer=ws,On.delay=Cs,On.difference=To,On.differenceBy=Io,On.differenceWith=Ao,On.drop=function(t,e,n){var i=null==t?0:t.length;return i?Ui(t,(e=n||void 0===e?1:ia(e))<0?0:e,i):[]},On.dropRight=function(t,e,n){var i=null==t?0:t.length;return i?Ui(t,0,(e=i-(e=n||void 0===e?1:ia(e)))<0?0:e):[]},On.dropRightWhile=function(t,e){return t&&t.length?Ji(t,Xr(e,3),!0,!0):[]},On.dropWhile=function(t,e){return t&&t.length?Ji(t,Xr(e,3),!0):[]},On.fill=function(t,e,n,i){var r=null==t?0:t.length;return r?(n&&"number"!=typeof n&&oo(t,e,n)&&(n=0,i=r),function(t,e,n,i){var r=t.length;for((n=ia(n))<0&&(n=-n>r?0:r+n),(i=void 0===i||i>r?r:ia(i))<0&&(i+=r),i=n>i?0:ra(i);n<i;)t[n++]=e;return t}(t,e,n,i)):[]},On.filter=function(t,e){return(Ds(t)?ae:ii)(t,Xr(e,3))},On.flatMap=function(t,e){return ri(ds(t,e),1)},On.flatMapDeep=function(t,e){return ri(ds(t,e),1/0)},On.flatMapDepth=function(t,e,n){return n=void 0===n?1:ia(n),ri(ds(t,e),n)},On.flatten=Ro,On.flattenDeep=function(t){return null!=t&&t.length?ri(t,1/0):[]},On.flattenDepth=function(t,e){return null!=t&&t.length?ri(t,e=void 0===e?1:ia(e)):[]},On.flip=function(t){return Br(t,512)},On.flow=Wa,On.flowRight=$a,On.fromPairs=function(t){for(var e=-1,n=null==t?0:t.length,i={};++e<n;){var r=t[e];i[r[0]]=r[1]}return i},On.functions=function(t){return null==t?[]:ci(t,ba(t))},On.functionsIn=function(t){return null==t?[]:ci(t,wa(t))},On.groupBy=cs,On.initial=function(t){return null!=t&&t.length?Ui(t,0,-1):[]},On.intersection=Lo,On.intersectionBy=Bo,On.intersectionWith=No,On.invert=ya,On.invertBy=_a,On.invokeMap=us,On.iteratee=qa,On.keyBy=hs,On.keys=ba,On.keysIn=wa,On.map=ds,On.mapKeys=function(t,e){var n={};return e=Xr(e,3),ai(t,(function(t,i,r){Gn(n,e(t,i,r),t)})),n},On.mapValues=function(t,e){var n={};return e=Xr(e,3),ai(t,(function(t,i,r){Gn(n,i,e(t,i,r))})),n},On.matches=function(t){return Pi(Kn(t,1))},On.matchesProperty=function(t,e){return Oi(t,Kn(e,1))},On.memoize=xs,On.merge=Ca,On.mergeWith=xa,On.method=Xa,On.methodOf=Ka,On.mixin=Ya,On.negate=Es,On.nthArg=function(t){return t=ia(t),Li((function(e){return Ti(e,t)}))},On.omit=Ea,On.omitBy=function(t,e){return Pa(t,Es(Xr(e)))},On.once=function(t){return ys(2,t)},On.orderBy=function(t,e,n,i){return null==t?[]:(Ds(e)||(e=null==e?[]:[e]),Ds(n=i?void 0:n)||(n=null==n?[]:[n]),Ii(t,e,n))},On.over=Za,On.overArgs=Ss,On.overEvery=Ja,On.overSome=tl,On.partial=Ps,On.partialRight=Os,On.partition=ps,On.pick=Sa,On.pickBy=Pa,On.property=el,On.propertyOf=function(t){return function(e){return null==t?void 0:ui(t,e)}},On.pull=zo,On.pullAll=Ho,On.pullAllBy=function(t,e,n){return t&&t.length&&e&&e.length?Mi(t,e,Xr(n,2)):t},On.pullAllWith=function(t,e,n){return t&&t.length&&e&&e.length?Mi(t,e,void 0,n):t},On.pullAt=Vo,On.range=nl,On.rangeRight=il,On.rearg=ks,On.reject=function(t,e){return(Ds(t)?ae:ii)(t,Es(Xr(e,3)))},On.remove=function(t,e){var n=[];if(!t||!t.length)return n;var i=-1,r=[],o=t.length;for(e=Xr(e,3);++i<o;){var s=t[i];e(s,i,t)&&(n.push(s),r.push(i))}return Di(t,r),n},On.rest=function(t,e){if("function"!=typeof t)throw new _t(r);return Li(t,e=void 0===e?e:ia(e))},On.reverse=Uo,On.sampleSize=function(t,e,n){return e=(n?oo(t,e,n):void 0===e)?1:ia(e),(Ds(t)?jn:Ni)(t,e)},On.set=function(t,e,n){return null==t?t:ji(t,e,n)},On.setWith=function(t,e,n,i){return i="function"==typeof i?i:void 0,null==t?t:ji(t,e,n,i)},On.shuffle=function(t){return(Ds(t)?zn:Vi)(t)},On.slice=function(t,e,n){var i=null==t?0:t.length;return i?(n&&"number"!=typeof n&&oo(t,e,n)?(e=0,n=i):(e=null==e?0:ia(e),n=void 0===n?i:ia(n)),Ui(t,e,n)):[]},On.sortBy=fs,On.sortedUniq=function(t){return t&&t.length?qi(t):[]},On.sortedUniqBy=function(t,e){return t&&t.length?qi(t,Xr(e,2)):[]},On.split=function(t,e,n){return n&&"number"!=typeof n&&oo(t,e,n)&&(e=n=void 0),(n=void 0===n?4294967295:n>>>0)?(t=aa(t))&&("string"==typeof e||null!=e&&!Xs(e))&&!(e=Ki(e))&&Le(t)?ar(Ue(t),0,n):t.split(e,n):[]},On.spread=function(t,e){if("function"!=typeof t)throw new _t(r);return e=null==e?0:on(ia(e),0),Li((function(n){var i=n[e],r=ar(n,0,e);return i&&he(r,i),ne(t,this,r)}))},On.tail=function(t){var e=null==t?0:t.length;return e?Ui(t,1,e):[]},On.take=function(t,e,n){return t&&t.length?Ui(t,0,(e=n||void 0===e?1:ia(e))<0?0:e):[]},On.takeRight=function(t,e,n){var i=null==t?0:t.length;return i?Ui(t,(e=i-(e=n||void 0===e?1:ia(e)))<0?0:e,i):[]},On.takeRightWhile=function(t,e){return t&&t.length?Ji(t,Xr(e,3),!1,!0):[]},On.takeWhile=function(t,e){return t&&t.length?Ji(t,Xr(e,3)):[]},On.tap=function(t,e){return e(t),t},On.throttle=function(t,e,n){var i=!0,o=!0;if("function"!=typeof t)throw new _t(r);return Us(n)&&(i="leading"in n?!!n.leading:i,o="trailing"in n?!!n.trailing:o),bs(t,e,{leading:i,maxWait:e,trailing:o})},On.thru=ns,On.toArray=ea,On.toPairs=Oa,On.toPairsIn=ka,On.toPath=function(t){return Ds(t)?ue(t,Po):Qs(t)?[t]:mr(So(aa(t)))},On.toPlainObject=sa,On.transform=function(t,e,n){var i=Ds(t),r=i||Bs(t)||Zs(t);if(e=Xr(e,4),null==n){var o=t&&t.constructor;n=r?i?new o:[]:Us(t)&&zs(o)?kn($t(t)):{}}return(r?re:ai)(t,(function(t,i,r){return e(n,t,i,r)})),n},On.unary=function(t){return gs(t,1)},On.union=Wo,On.unionBy=$o,On.unionWith=Go,On.uniq=function(t){return t&&t.length?Yi(t):[]},On.uniqBy=function(t,e){return t&&t.length?Yi(t,Xr(e,2)):[]},On.uniqWith=function(t,e){return e="function"==typeof e?e:void 0,t&&t.length?Yi(t,void 0,e):[]},On.unset=function(t,e){return null==t||Qi(t,e)},On.unzip=qo,On.unzipWith=Xo,On.update=function(t,e,n){return null==t?t:Zi(t,e,rr(n))},On.updateWith=function(t,e,n,i){return i="function"==typeof i?i:void 0,null==t?t:Zi(t,e,rr(n),i)},On.values=Ta,On.valuesIn=function(t){return null==t?[]:ke(t,wa(t))},On.without=Ko,On.words=za,On.wrap=function(t,e){return Ps(rr(e),t)},On.xor=Yo,On.xorBy=Qo,On.xorWith=Zo,On.zip=Jo,On.zipObject=function(t,e){return nr(t||[],e||[],Vn)},On.zipObjectDeep=function(t,e){return nr(t||[],e||[],ji)},On.zipWith=ts,On.entries=Oa,On.entriesIn=ka,On.extend=ca,On.extendWith=ua,Ya(On,On),On.add=al,On.attempt=Ha,On.camelCase=Ia,On.capitalize=Aa,On.ceil=ll,On.clamp=function(t,e,n){return void 0===n&&(n=e,e=void 0),void 0!==n&&(n=(n=oa(n))==n?n:0),void 0!==e&&(e=(e=oa(e))==e?e:0),Xn(oa(t),e,n)},On.clone=function(t){return Kn(t,4)},On.cloneDeep=function(t){return Kn(t,5)},On.cloneDeepWith=function(t,e){return Kn(t,5,e="function"==typeof e?e:void 0)},On.cloneWith=function(t,e){return Kn(t,4,e="function"==typeof e?e:void 0)},On.conformsTo=function(t,e){return null==e||Yn(t,e,ba(e))},On.deburr=Ma,On.defaultTo=function(t,e){return null==t||t!=t?e:t},On.divide=cl,On.endsWith=function(t,e,n){t=aa(t),e=Ki(e);var i=t.length,r=n=void 0===n?i:Xn(ia(n),0,i);return(n-=e.length)>=0&&t.slice(n,r)==e},On.eq=Ts,On.escape=function(t){return(t=aa(t))&&N.test(t)?t.replace(L,Re):t},On.escapeRegExp=function(t){return(t=aa(t))&&G.test(t)?t.replace($,"\\$&"):t},On.every=function(t,e,n){var i=Ds(t)?se:ei;return n&&oo(t,e,n)&&(e=void 0),i(t,Xr(e,3))},On.find=os,On.findIndex=Mo,On.findKey=function(t,e){return ge(t,Xr(e,3),ai)},On.findLast=ss,On.findLastIndex=Do,On.findLastKey=function(t,e){return ge(t,Xr(e,3),li)},On.floor=ul,On.forEach=as,On.forEachRight=ls,On.forIn=function(t,e){return null==t?t:oi(t,Xr(e,3),wa)},On.forInRight=function(t,e){return null==t?t:si(t,Xr(e,3),wa)},On.forOwn=function(t,e){return t&&ai(t,Xr(e,3))},On.forOwnRight=function(t,e){return t&&li(t,Xr(e,3))},On.get=ma,On.gt=Is,On.gte=As,On.has=function(t,e){return null!=t&&eo(t,e,fi)},On.hasIn=ga,On.head=Fo,On.identity=Ga,On.includes=function(t,e,n,i){t=Fs(t)?t:Ta(t),n=n&&!i?ia(n):0;var r=t.length;return n<0&&(n=on(r+n,0)),Ys(t)?n<=r&&t.indexOf(e,n)>-1:!!r&&_e(t,e,n)>-1},On.indexOf=function(t,e,n){var i=null==t?0:t.length;if(!i)return-1;var r=null==n?0:ia(n);return r<0&&(r=on(i+r,0)),_e(t,e,r)},On.inRange=function(t,e,n){return e=na(e),void 0===n?(n=e,e=0):n=na(n),function(t,e,n){return t>=sn(e,n)&&t<on(e,n)}(t=oa(t),e,n)},On.invoke=va,On.isArguments=Ms,On.isArray=Ds,On.isArrayBuffer=Rs,On.isArrayLike=Fs,On.isArrayLikeObject=Ls,On.isBoolean=function(t){return!0===t||!1===t||Ws(t)&&di(t)==c},On.isBuffer=Bs,On.isDate=Ns,On.isElement=function(t){return Ws(t)&&1===t.nodeType&&!qs(t)},On.isEmpty=function(t){if(null==t)return!0;if(Fs(t)&&(Ds(t)||"string"==typeof t||"function"==typeof t.splice||Bs(t)||Zs(t)||Ms(t)))return!t.length;var e=to(t);if(e==f||e==_)return!t.size;if(co(t))return!xi(t).length;for(var n in t)if(xt.call(t,n))return!1;return!0},On.isEqual=function(t,e){return vi(t,e)},On.isEqualWith=function(t,e,n){var i=(n="function"==typeof n?n:void 0)?n(t,e):void 0;return void 0===i?vi(t,e,void 0,n):!!i},On.isError=js,On.isFinite=function(t){return"number"==typeof t&&en(t)},On.isFunction=zs,On.isInteger=Hs,On.isLength=Vs,On.isMap=$s,On.isMatch=function(t,e){return t===e||bi(t,e,Yr(e))},On.isMatchWith=function(t,e,n){return n="function"==typeof n?n:void 0,bi(t,e,Yr(e),n)},On.isNaN=function(t){return Gs(t)&&t!=+t},On.isNative=function(t){if(lo(t))throw new dt("Unsupported core-js use. Try https://npms.io/search?q=ponyfill.");return wi(t)},On.isNil=function(t){return null==t},On.isNull=function(t){return null===t},On.isNumber=Gs,On.isObject=Us,On.isObjectLike=Ws,On.isPlainObject=qs,On.isRegExp=Xs,On.isSafeInteger=function(t){return Hs(t)&&t>=-9007199254740991&&t<=9007199254740991},On.isSet=Ks,On.isString=Ys,On.isSymbol=Qs,On.isTypedArray=Zs,On.isUndefined=function(t){return void 0===t},On.isWeakMap=function(t){return Ws(t)&&to(t)==w},On.isWeakSet=function(t){return Ws(t)&&"[object WeakSet]"==di(t)},On.join=function(t,e){return null==t?"":nn.call(t,e)},On.kebabCase=Da,On.last=jo,On.lastIndexOf=function(t,e,n){var i=null==t?0:t.length;if(!i)return-1;var r=i;return void 0!==n&&(r=(r=ia(n))<0?on(i+r,0):sn(r,i-1)),e==e?function(t,e,n){for(var i=n+1;i--;)if(t[i]===e)return i;return i}(t,e,r):ye(t,be,r,!0)},On.lowerCase=Ra,On.lowerFirst=Fa,On.lt=Js,On.lte=ta,On.max=function(t){return t&&t.length?ni(t,Ga,pi):void 0},On.maxBy=function(t,e){return t&&t.length?ni(t,Xr(e,2),pi):void 0},On.mean=function(t){return we(t,Ga)},On.meanBy=function(t,e){return we(t,Xr(e,2))},On.min=function(t){return t&&t.length?ni(t,Ga,Ei):void 0},On.minBy=function(t,e){return t&&t.length?ni(t,Xr(e,2),Ei):void 0},On.stubArray=rl,On.stubFalse=ol,On.stubObject=function(){return{}},On.stubString=function(){return""},On.stubTrue=function(){return!0},On.multiply=hl,On.nth=function(t,e){return t&&t.length?Ti(t,ia(e)):void 0},On.noConflict=function(){return Wt._===this&&(Wt._=kt),this},On.noop=Qa,On.now=ms,On.pad=function(t,e,n){t=aa(t);var i=(e=ia(e))?Ve(t):0;if(!e||i>=e)return t;var r=(e-i)/2;return Ir(Ze(r),n)+t+Ir(Qe(r),n)},On.padEnd=function(t,e,n){t=aa(t);var i=(e=ia(e))?Ve(t):0;return e&&i<e?t+Ir(e-i,n):t},On.padStart=function(t,e,n){t=aa(t);var i=(e=ia(e))?Ve(t):0;return e&&i<e?Ir(e-i,n)+t:t},On.parseInt=function(t,e,n){return n||null==e?e=0:e&&(e=+e),ln(aa(t).replace(X,""),e||0)},On.random=function(t,e,n){if(n&&"boolean"!=typeof n&&oo(t,e,n)&&(e=n=void 0),void 0===n&&("boolean"==typeof e?(n=e,e=void 0):"boolean"==typeof t&&(n=t,t=void 0)),void 0===t&&void 0===e?(t=0,e=1):(t=na(t),void 0===e?(e=t,t=0):e=na(e)),t>e){var i=t;t=e,e=i}if(n||t%1||e%1){var r=cn();return sn(t+r*(e-t+zt("1e-"+((r+"").length-1))),e)}return Ri(t,e)},On.reduce=function(t,e,n){var i=Ds(t)?de:Ee,r=arguments.length<3;return i(t,Xr(e,4),n,r,Jn)},On.reduceRight=function(t,e,n){var i=Ds(t)?pe:Ee,r=arguments.length<3;return i(t,Xr(e,4),n,r,ti)},On.repeat=function(t,e,n){return e=(n?oo(t,e,n):void 0===e)?1:ia(e),Fi(aa(t),e)},On.replace=function(){var t=arguments,e=aa(t[0]);return t.length<3?e:e.replace(t[1],t[2])},On.result=function(t,e,n){var i=-1,r=(e=or(e,t)).length;for(r||(r=1,t=void 0);++i<r;){var o=null==t?void 0:t[Po(e[i])];void 0===o&&(i=r,o=n),t=zs(o)?o.call(t):o}return t},On.round=dl,On.runInContext=t,On.sample=function(t){return(Ds(t)?Nn:Bi)(t)},On.size=function(t){if(null==t)return 0;if(Fs(t))return Ys(t)?Ve(t):t.length;var e=to(t);return e==f||e==_?t.size:xi(t).length},On.snakeCase=La,On.some=function(t,e,n){var i=Ds(t)?fe:Wi;return n&&oo(t,e,n)&&(e=void 0),i(t,Xr(e,3))},On.sortedIndex=function(t,e){return $i(t,e)},On.sortedIndexBy=function(t,e,n){return Gi(t,e,Xr(n,2))},On.sortedIndexOf=function(t,e){var n=null==t?0:t.length;if(n){var i=$i(t,e);if(i<n&&Ts(t[i],e))return i}return-1},On.sortedLastIndex=function(t,e){return $i(t,e,!0)},On.sortedLastIndexBy=function(t,e,n){return Gi(t,e,Xr(n,2),!0)},On.sortedLastIndexOf=function(t,e){if(null!=t&&t.length){var n=$i(t,e,!0)-1;if(Ts(t[n],e))return n}return-1},On.startCase=Ba,On.startsWith=function(t,e,n){return t=aa(t),n=null==n?0:Xn(ia(n),0,t.length),e=Ki(e),t.slice(n,n+e.length)==e},On.subtract=pl,On.sum=function(t){return t&&t.length?Se(t,Ga):0},On.sumBy=function(t,e){return t&&t.length?Se(t,Xr(e,2)):0},On.template=function(t,e,n){var i=On.templateSettings;n&&oo(t,e,n)&&(e=void 0),t=aa(t),e=ua({},e,i,Nr);var r,o,s=ua({},e.imports,i.imports,Nr),a=ba(s),l=ke(s,a),c=0,u=e.interpolate||ct,h="__p += '",d=gt((e.escape||ct).source+"|"+u.source+"|"+(u===H?et:ct).source+"|"+(e.evaluate||ct).source+"|$","g"),p="//# sourceURL="+(xt.call(e,"sourceURL")?(e.sourceURL+"").replace(/[\r\n]/g," "):"lodash.templateSources["+ ++Lt+"]")+"\n";t.replace(d,(function(e,n,i,s,a,l){return i||(i=s),h+=t.slice(c,l).replace(ut,Fe),n&&(r=!0,h+="' +\n__e("+n+") +\n'"),a&&(o=!0,h+="';\n"+a+";\n__p += '"),i&&(h+="' +\n((__t = ("+i+")) == null ? '' : __t) +\n'"),c=l+e.length,e})),h+="';\n";var f=xt.call(e,"variable")&&e.variable;f||(h="with (obj) {\n"+h+"\n}\n"),h=(o?h.replace(M,""):h).replace(D,"$1").replace(R,"$1;"),h="function("+(f||"obj")+") {\n"+(f?"":"obj || (obj = {});\n")+"var __t, __p = ''"+(r?", __e = _.escape":"")+(o?", __j = Array.prototype.join;\nfunction print() { __p += __j.call(arguments, '') }\n":";\n")+h+"return __p\n}";var m=Ha((function(){return pt(a,p+"return "+h).apply(void 0,l)}));if(m.source=h,js(m))throw m;return m},On.times=function(t,e){if((t=ia(t))<1||t>9007199254740991)return[];var n=4294967295,i=sn(t,4294967295);t-=4294967295;for(var r=Pe(i,e=Xr(e));++n<t;)e(n);return r},On.toFinite=na,On.toInteger=ia,On.toLength=ra,On.toLower=function(t){return aa(t).toLowerCase()},On.toNumber=oa,On.toSafeInteger=function(t){return t?Xn(ia(t),-9007199254740991,9007199254740991):0===t?t:0},On.toString=aa,On.toUpper=function(t){return aa(t).toUpperCase()},On.trim=function(t,e,n){if((t=aa(t))&&(n||void 0===e))return t.replace(q,"");if(!t||!(e=Ki(e)))return t;var i=Ue(t),r=Ue(e);return ar(i,Ie(i,r),Ae(i,r)+1).join("")},On.trimEnd=function(t,e,n){if((t=aa(t))&&(n||void 0===e))return t.replace(K,"");if(!t||!(e=Ki(e)))return t;var i=Ue(t);return ar(i,0,Ae(i,Ue(e))+1).join("")},On.trimStart=function(t,e,n){if((t=aa(t))&&(n||void 0===e))return t.replace(X,"");if(!t||!(e=Ki(e)))return t;var i=Ue(t);return ar(i,Ie(i,Ue(e))).join("")},On.truncate=function(t,e){var n=30,i="...";if(Us(e)){var r="separator"in e?e.separator:r;n="length"in e?ia(e.length):n,i="omission"in e?Ki(e.omission):i}var o=(t=aa(t)).length;if(Le(t)){var s=Ue(t);o=s.length}if(n>=o)return t;var a=n-Ve(i);if(a<1)return i;var l=s?ar(s,0,a).join(""):t.slice(0,a);if(void 0===r)return l+i;if(s&&(a+=l.length-a),Xs(r)){if(t.slice(a).search(r)){var c,u=l;for(r.global||(r=gt(r.source,aa(nt.exec(r))+"g")),r.lastIndex=0;c=r.exec(u);)var h=c.index;l=l.slice(0,void 0===h?a:h)}}else if(t.indexOf(Ki(r),a)!=a){var d=l.lastIndexOf(r);d>-1&&(l=l.slice(0,d))}return l+i},On.unescape=function(t){return(t=aa(t))&&B.test(t)?t.replace(F,We):t},On.uniqueId=function(t){var e=++Et;return aa(t)+e},On.upperCase=Na,On.upperFirst=ja,On.each=as,On.eachRight=ls,On.first=Fo,Ya(On,(sl={},ai(On,(function(t,e){xt.call(On.prototype,e)||(sl[e]=t)})),sl),{chain:!1}),On.VERSION="4.17.15",re(["bind","bindKey","curry","curryRight","partial","partialRight"],(function(t){On[t].placeholder=On})),re(["drop","take"],(function(t,e){An.prototype[t]=function(n){n=void 0===n?1:on(ia(n),0);var i=this.__filtered__&&!e?new An(this):this.clone();return i.__filtered__?i.__takeCount__=sn(n,i.__takeCount__):i.__views__.push({size:sn(n,4294967295),type:t+(i.__dir__<0?"Right":"")}),i},An.prototype[t+"Right"]=function(e){return this.reverse()[t](e).reverse()}})),re(["filter","map","takeWhile"],(function(t,e){var n=e+1,i=1==n||3==n;An.prototype[t]=function(t){var e=this.clone();return e.__iteratees__.push({iteratee:Xr(t,3),type:n}),e.__filtered__=e.__filtered__||i,e}})),re(["head","last"],(function(t,e){var n="take"+(e?"Right":"");An.prototype[t]=function(){return this[n](1).value()[0]}})),re(["initial","tail"],(function(t,e){var n="drop"+(e?"":"Right");An.prototype[t]=function(){return this.__filtered__?new An(this):this[n](1)}})),An.prototype.compact=function(){return this.filter(Ga)},An.prototype.find=function(t){return this.filter(t).head()},An.prototype.findLast=function(t){return this.reverse().find(t)},An.prototype.invokeMap=Li((function(t,e){return"function"==typeof t?new An(this):this.map((function(n){return yi(n,t,e)}))})),An.prototype.reject=function(t){return this.filter(Es(Xr(t)))},An.prototype.slice=function(t,e){t=ia(t);var n=this;return n.__filtered__&&(t>0||e<0)?new An(n):(t<0?n=n.takeRight(-t):t&&(n=n.drop(t)),void 0!==e&&(n=(e=ia(e))<0?n.dropRight(-e):n.take(e-t)),n)},An.prototype.takeRightWhile=function(t){return this.reverse().takeWhile(t).reverse()},An.prototype.toArray=function(){return this.take(4294967295)},ai(An.prototype,(function(t,e){var n=/^(?:filter|find|map|reject)|While$/.test(e),i=/^(?:head|last)$/.test(e),r=On[i?"take"+("last"==e?"Right":""):e],o=i||/^find/.test(e);r&&(On.prototype[e]=function(){var e=this.__wrapped__,s=i?[1]:arguments,a=e instanceof An,l=s[0],c=a||Ds(e),u=function(t){var e=r.apply(On,he([t],s));return i&&h?e[0]:e};c&&n&&"function"==typeof l&&1!=l.length&&(a=c=!1);var h=this.__chain__,d=!!this.__actions__.length,p=o&&!h,f=a&&!d;if(!o&&c){e=f?e:new An(this);var m=t.apply(e,s);return m.__actions__.push({func:ns,args:[u],thisArg:void 0}),new In(m,h)}return p&&f?t.apply(this,s):(m=this.thru(u),p?i?m.value()[0]:m.value():m)})})),re(["pop","push","shift","sort","splice","unshift"],(function(t){var e=vt[t],n=/^(?:push|sort|unshift)$/.test(t)?"tap":"thru",i=/^(?:pop|shift)$/.test(t);On.prototype[t]=function(){var t=arguments;if(i&&!this.__chain__){var r=this.value();return e.apply(Ds(r)?r:[],t)}return this[n]((function(n){return e.apply(Ds(n)?n:[],t)}))}})),ai(An.prototype,(function(t,e){var n=On[e];if(n){var i=n.name+"";xt.call(_n,i)||(_n[i]=[]),_n[i].push({name:e,func:n})}})),_n[Pr(void 0,2).name]=[{name:"wrapper",func:void 0}],An.prototype.clone=function(){var t=new An(this.__wrapped__);return t.__actions__=mr(this.__actions__),t.__dir__=this.__dir__,t.__filtered__=this.__filtered__,t.__iteratees__=mr(this.__iteratees__),t.__takeCount__=this.__takeCount__,t.__views__=mr(this.__views__),t},An.prototype.reverse=function(){if(this.__filtered__){var t=new An(this);t.__dir__=-1,t.__filtered__=!0}else(t=this.clone()).__dir__*=-1;return t},An.prototype.value=function(){var t=this.__wrapped__.value(),e=this.__dir__,n=Ds(t),i=e<0,r=n?t.length:0,o=function(t,e,n){for(var i=-1,r=n.length;++i<r;){var o=n[i],s=o.size;switch(o.type){case"drop":t+=s;break;case"dropRight":e-=s;break;case"take":e=sn(e,t+s);break;case"takeRight":t=on(t,e-s)}}return{start:t,end:e}}(0,r,this.__views__),s=o.start,a=o.end,l=a-s,c=i?a:s-1,u=this.__iteratees__,h=u.length,d=0,p=sn(l,this.__takeCount__);if(!n||!i&&r==l&&p==l)return tr(t,this.__actions__);var f=[];t:for(;l--&&d<p;){for(var m=-1,g=t[c+=e];++m<h;){var y=u[m],_=y.type,v=(0,y.iteratee)(g);if(2==_)g=v;else if(!v){if(1==_)continue t;break t}}f[d++]=g}return f},On.prototype.at=is,On.prototype.chain=function(){return es(this)},On.prototype.commit=function(){return new In(this.value(),this.__chain__)},On.prototype.next=function(){void 0===this.__values__&&(this.__values__=ea(this.value()));var t=this.__index__>=this.__values__.length;return{done:t,value:t?void 0:this.__values__[this.__index__++]}},On.prototype.plant=function(t){for(var e,n=this;n instanceof Tn;){var i=ko(n);i.__index__=0,i.__values__=void 0,e?r.__wrapped__=i:e=i;var r=i;n=n.__wrapped__}return r.__wrapped__=t,e},On.prototype.reverse=function(){var t=this.__wrapped__;if(t instanceof An){var e=t;return this.__actions__.length&&(e=new An(this)),(e=e.reverse()).__actions__.push({func:ns,args:[Uo],thisArg:void 0}),new In(e,this.__chain__)}return this.thru(Uo)},On.prototype.toJSON=On.prototype.valueOf=On.prototype.value=function(){return tr(this.__wrapped__,this.__actions__)},On.prototype.first=On.prototype.head,xe&&(On.prototype[xe]=function(){return this}),On}();Wt._=$e,void 0===(i=(function(){return $e}).call(e,n,e,t))||(t.exports=i)}).call(this)}).call(this,n("YuTi")(t))},MJIl:function(t,e,n){var i=n("QoRX"),r=n("ut/Y"),o=n("Nh2a"),s=n("Z0cm"),a=n("mv/X");t.exports=function(t,e,n){var l=s(t)?i:o;return n&&a(t,e,n)&&(e=void 0),l(t,r(e,3))}},MMmD:function(t,e,n){var i=n("lSCD"),r=n("shjB");t.exports=function(t){return null!=t&&r(t.length)&&!i(t)}},MrPd:function(t,e,n){var i=n("hypo"),r=n("ljhN"),o=Object.prototype.hasOwnProperty;t.exports=function(t,e,n){var s=t[e];o.call(t,e)&&r(s,n)&&(void 0!==n||e in t)||i(t,e,n)}},MvSz:function(t,e,n){var i=n("LXxW"),r=n("0ycA"),o=Object.prototype.propertyIsEnumerable,s=Object.getOwnPropertySymbols;t.exports=s?function(t){return null==t?[]:(t=Object(t),i(s(t),(function(e){return o.call(t,e)})))}:r},NCjB:function(t,e){t.exports={}},NKxu:function(t,e,n){var i=n("lSCD"),r=n("E2jh"),o=n("GoyQ"),s=n("3Fdi"),a=/^\[object .+?Constructor\]$/,l=RegExp("^"+Function.prototype.toString.call(Object.prototype.hasOwnProperty).replace(/[\\^$.*+?()[\]{}|]/g,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$");t.exports=function(t){return!(!o(t)||r(t))&&(i(t)?l:a).test(s(t))}},Nh2a:function(t,e,n){var i=n("SKAX");t.exports=function(t,e){var n;return i(t,(function(t,i,r){return!(n=e(t,i,r))})),!!n}},Npjl:function(t,e){t.exports=function(t,e){return null==t?void 0:t[e]}},NykK:function(t,e,n){var i=n("nmnc"),r=n("AP2z"),o=n("KfNM"),s=i?i.toStringTag:void 0;t.exports=function(t){return null==t?void 0===t?"[object Undefined]":"[object Null]":s&&s in Object(t)?r(t):o(t)}},O0oS:function(t,e,n){var i=n("Cwc5"),r=function(){try{var t=i(Object,"defineProperty");return t({},"",{}),t}catch(e){}}();t.exports=r},O7RO:function(t,e,n){var i=n("CMye"),r=n("7GkX");t.exports=function(t){for(var e=r(t),n=e.length;n--;){var o=e[n],s=t[o];e[n]=[o,s,i(s)]}return e}},OBhP:function(t,e,n){var i=n("fmRc"),r=n("gFfm"),o=n("MrPd"),s=n("WwFo"),a=n("Dw+G"),l=n("5Tg0"),c=n("Q1l4"),u=n("VOtZ"),h=n("EEGq"),d=n("qZTm"),p=n("G6z8"),f=n("QqLw"),m=n("yHx3"),g=n("wrZu"),y=n("+iFO"),_=n("Z0cm"),v=n("DSRE"),b=n("zEVN"),w=n("GoyQ"),C=n("1+5i"),x=n("7GkX"),E={};E["[object Arguments]"]=E["[object Array]"]=E["[object ArrayBuffer]"]=E["[object DataView]"]=E["[object Boolean]"]=E["[object Date]"]=E["[object Float32Array]"]=E["[object Float64Array]"]=E["[object Int8Array]"]=E["[object Int16Array]"]=E["[object Int32Array]"]=E["[object Map]"]=E["[object Number]"]=E["[object Object]"]=E["[object RegExp]"]=E["[object Set]"]=E["[object String]"]=E["[object Symbol]"]=E["[object Uint8Array]"]=E["[object Uint8ClampedArray]"]=E["[object Uint16Array]"]=E["[object Uint32Array]"]=!0,E["[object Error]"]=E["[object Function]"]=E["[object WeakMap]"]=!1,t.exports=function t(e,n,S,P,O,k){var T,I=1&n,A=2&n,M=4&n;if(S&&(T=O?S(e,P,O,k):S(e)),void 0!==T)return T;if(!w(e))return e;var D=_(e);if(D){if(T=m(e),!I)return c(e,T)}else{var R=f(e),F="[object Function]"==R||"[object GeneratorFunction]"==R;if(v(e))return l(e,I);if("[object Object]"==R||"[object Arguments]"==R||F&&!O){if(T=A||F?{}:y(e),!I)return A?h(e,a(T,e)):u(e,s(T,e))}else{if(!E[R])return O?e:{};T=g(e,R,I)}}k||(k=new i);var L=k.get(e);if(L)return L;k.set(e,T),C(e)?e.forEach((function(i){T.add(t(i,n,S,i,e,k))})):b(e)&&e.forEach((function(i,r){T.set(r,t(i,n,S,r,e,k))}));var B=M?A?p:d:A?keysIn:x,N=D?void 0:B(e);return r(N||e,(function(i,r){N&&(i=e[r=i]),o(T,r,t(i,n,S,r,e,k))})),T}},"Of+w":function(t,e,n){var i=n("Cwc5")(n("Kz5y"),"WeakMap");t.exports=i},"P/G1":function(t,e,n){var i=n("JmpY"),r=n("7GkX");t.exports=function(t){return null==t?[]:i(t,r(t))}},P4Tr:function(t,e,n){var i=n("heNW"),r=n("EA7m"),o=n("4DFU"),s=n("JBE3"),a=r((function(t){return t.push(void 0,o),i(s,void 0,t)}));t.exports=a},PDX0:function(t,e){(function(e){t.exports=e}).call(this,{})},Pueh:function(t,e,n){"use strict";var i="object"==typeof global&&global&&global.Object===Object&&global;e.a=i},Puqe:function(t,e,n){var i=n("eUgh"),r=n("OBhP"),o=n("S7Xf"),s=n("4uTw"),a=n("juv8"),l=n("4Oe1"),c=n("xs/l"),u=n("G6z8"),h=c((function(t,e){var n={};if(null==t)return n;var c=!1;e=i(e,(function(e){return e=s(e,t),c||(c=e.length>1),e})),a(t,u(t),n),c&&(n=r(n,7,l));for(var h=e.length;h--;)o(n,e[h]);return n}));t.exports=h},Q1l4:function(t,e){t.exports=function(t,e){var n=-1,i=t.length;for(e||(e=Array(i));++n<i;)e[n]=t[n];return e}},QIyF:function(t,e,n){var i=n("Kz5y");t.exports=function(){return i.Date.now()}},QcOe:function(t,e,n){var i=n("GoyQ"),r=n("6sVZ"),o=n("7Ix3"),s=Object.prototype.hasOwnProperty;t.exports=function(t){if(!i(t))return o(t);var e=r(t),n=[];for(var a in t)("constructor"!=a||!e&&s.call(t,a))&&n.push(a);return n}},QiUq:function(t,e,n){"use strict";(function(t){var i=n("msI6"),r=n("x47A"),o="object"==typeof exports&&exports&&!exports.nodeType&&exports,s=o&&"object"==typeof t&&t&&!t.nodeType&&t,a=s&&s.exports===o?i.a.Buffer:void 0;e.a=(a?a.isBuffer:void 0)||r.a}).call(this,n("3UD+")(t))},QkVE:function(t,e,n){var i=n("EpBk");t.exports=function(t,e){var n=t.__data__;return i(e)?n["string"==typeof e?"string":"hash"]:n.map}},QoRX:function(t,e){t.exports=function(t,e){for(var n=-1,i=null==t?0:t.length;++n<i;)if(e(t[n],n,t))return!0;return!1}},QqLw:function(t,e,n){var i=n("tadb"),r=n("ebwN"),o=n("HOxn"),s=n("yGk4"),a=n("Of+w"),l=n("NykK"),c=n("3Fdi"),u=c(i),h=c(r),d=c(o),p=c(s),f=c(a),m=l;(i&&"[object DataView]"!=m(new i(new ArrayBuffer(1)))||r&&"[object Map]"!=m(new r)||o&&"[object Promise]"!=m(o.resolve())||s&&"[object Set]"!=m(new s)||a&&"[object WeakMap]"!=m(new a))&&(m=function(t){var e=l(t),n="[object Object]"==e?t.constructor:void 0,i=n?c(n):"";if(i)switch(i){case u:return"[object DataView]";case h:return"[object Map]";case d:return"[object Promise]";case p:return"[object Set]";case f:return"[object WeakMap]"}return e}),t.exports=m},"R/W3":function(t,e,n){var i=n("KwMD"),r=n("2ajD"),o=n("CZoQ");t.exports=function(t,e,n){return e==e?o(t,e,n):i(t,r,n)}},RBan:function(t,e){t.exports=function(t){var e=null==t?0:t.length;return e?t[e-1]:void 0}},S7Xf:function(t,e,n){var i=n("4uTw"),r=n("RBan"),o=n("gpbi"),s=n("9Nap");t.exports=function(t,e){return e=i(e,t),null==(t=o(t,e))||delete t[s(r(e))]}},SKAX:function(t,e,n){var i=n("JC6p"),r=n("lQqw")(i);t.exports=r},SfRM:function(t,e,n){var i=n("YESw");t.exports=function(){this.__data__=i?i(null):{},this.size=0}},Sxd8:function(t,e,n){var i=n("ZCgT");t.exports=function(t){var e=i(t),n=e%1;return e==e?n?e-n:e:0}},T0zN:function(t,e){"undefined"!=typeof Element&&("function"!=typeof Element.prototype.matches&&(Element.prototype.matches=Element.prototype.msMatchesSelector||Element.prototype.mozMatchesSelector||Element.prototype.webkitMatchesSelector||function(t){for(var e=(this.document||this.ownerDocument).querySelectorAll(t),n=0;e[n]&&e[n]!==this;)++n;return Boolean(e[n])}),"function"!=typeof Element.prototype.closest&&(Element.prototype.closest=function(t){for(var e=this;e&&1===e.nodeType;){if(e.matches(t))return e;e=e.parentNode}return null}))},T1AV:function(t,e,n){var i=n("t2Dn"),r=n("5Tg0"),o=n("yP5f"),s=n("Q1l4"),a=n("+iFO"),l=n("03A+"),c=n("Z0cm"),u=n("3L66"),h=n("DSRE"),d=n("lSCD"),p=n("GoyQ"),f=n("YO3V"),m=n("c6wG"),g=n("itsj"),y=n("jeLo");t.exports=function(t,e,n,_,v,b,w){var C=g(t,n),x=g(e,n),E=w.get(x);if(E)i(t,n,E);else{var S=b?b(C,x,n+"",t,e,w):void 0,P=void 0===S;if(P){var O=c(x),k=!O&&h(x),T=!O&&!k&&m(x);S=x,O||k||T?c(C)?S=C:u(C)?S=s(C):k?(P=!1,S=r(x,!0)):T?(P=!1,S=o(x,!0)):S=[]:f(x)||l(x)?(S=C,l(C)?S=y(C):p(C)&&!d(C)||(S=a(x))):P=!1}P&&(w.set(x,S),v(S,x,_,b,w),w.delete(x)),i(t,n,S)}}},TYy9:function(t,e,n){var i=n("XGnz");t.exports=function(t){return null!=t&&t.length?i(t,1):[]}},TqRt:function(t,e){t.exports=function(t){return t&&t.__esModule?t:{default:t}}},UB5X:function(t,e,n){var i=n("NykK"),r=n("ExA7");t.exports=function(t){return"number"==typeof t||r(t)&&"[object Number]"==i(t)}},"UNi/":function(t,e){t.exports=function(t,e){for(var n=-1,i=Array(t);++n<t;)i[n]=e(n);return i}},UfWW:function(t,e,n){var i=n("KwMD"),r=n("ut/Y"),o=n("Sxd8"),s=Math.max;t.exports=function(t,e,n){var a=null==t?0:t.length;if(!a)return-1;var l=null==n?0:o(n);return l<0&&(l=s(a+l,0)),i(t,r(e,3),l)}},UiEs:function(t,e,n){"use strict";(function(t){var i=n("msI6"),r="object"==typeof exports&&exports&&!exports.nodeType&&exports,o=r&&"object"==typeof t&&t&&!t.nodeType&&t,s=o&&o.exports===r?i.a.Buffer:void 0,a=s?s.allocUnsafe:void 0;e.a=function(t,e){if(e)return t.slice();var n=t.length,i=a?a(n):new t.constructor(n);return t.copy(i),i}}).call(this,n("3UD+")(t))},V6Ve:function(t,e,n){var i=n("kekF")(Object.keys,Object);t.exports=i},VOtZ:function(t,e,n){var i=n("juv8"),r=n("MvSz");t.exports=function(t,e){return i(t,r(t),e)}},VaNO:function(t,e){t.exports=function(t){return this.__data__.has(t)}},WFqU:function(t,e){var n="object"==typeof global&&global&&global.Object===Object&&global;t.exports=n},WwFo:function(t,e,n){var i=n("juv8"),r=n("7GkX");t.exports=function(t,e){return t&&i(e,r(e),t)}},XGnz:function(t,e,n){var i=n("CH3K"),r=n("BiGR");t.exports=function t(e,n,o,s,a){var l=-1,c=e.length;for(o||(o=r),a||(a=[]);++l<c;){var u=e[l];n>0&&o(u)?n>1?t(u,n-1,o,s,a):i(a,u):s||(a[a.length]=u)}return a}},XKAG:function(t,e,n){var i=n("ut/Y"),r=n("MMmD"),o=n("7GkX");t.exports=function(t){return function(e,n,s){var a=Object(e);if(!r(e)){var l=i(n,3);e=o(e),n=function(t){return l(a[t],t,a)}}var c=t(e,n,s);return c>-1?a[l?e[c]:c]:void 0}}},XYm9:function(t,e,n){var i=n("+K+b");t.exports=function(t,e){var n=e?i(t.buffer):t.buffer;return new t.constructor(n,t.byteOffset,t.byteLength)}},XbWe:function(t,e,n){"use strict";(function(t){var i=n("Pueh"),r="object"==typeof exports&&exports&&!exports.nodeType&&exports,o=r&&"object"==typeof t&&t&&!t.nodeType&&t,s=o&&o.exports===r&&i.a.process,a=function(){try{return o&&o.require&&o.require("util").types||s&&s.binding&&s.binding("util")}catch(t){}}();e.a=a}).call(this,n("3UD+")(t))},Xi7e:function(t,e,n){var i=n("KMkd"),r=n("adU4"),o=n("tMB7"),s=n("+6XX"),a=n("Z8oC");function l(t){var e=-1,n=null==t?0:t.length;for(this.clear();++e<n;){var i=t[e];this.set(i[0],i[1])}}l.prototype.clear=i,l.prototype.delete=r,l.prototype.get=o,l.prototype.has=s,l.prototype.set=a,t.exports=l},YESw:function(t,e,n){var i=n("Cwc5")(Object,"create");t.exports=i},YO3V:function(t,e,n){var i=n("NykK"),r=n("LcsW"),o=n("ExA7"),s=Function.prototype.toString,a=Object.prototype.hasOwnProperty,l=s.call(Object);t.exports=function(t){if(!o(t)||"[object Object]"!=i(t))return!1;var e=r(t);if(null===e)return!0;var n=a.call(e,"constructor")&&e.constructor;return"function"==typeof n&&n instanceof n&&s.call(n)==l}},YuTi:function(t,e){t.exports=function(t){return t.webpackPolyfill||(t.deprecate=function(){},t.paths=[],t.children||(t.children=[]),Object.defineProperty(t,"loaded",{enumerable:!0,get:function(){return t.l}}),Object.defineProperty(t,"id",{enumerable:!0,get:function(){return t.i}}),t.webpackPolyfill=1),t}},Z0cm:function(t,e){t.exports=Array.isArray},Z8oC:function(t,e,n){var i=n("y1pI");t.exports=function(t,e){var n=this.__data__,r=i(n,t);return r<0?(++this.size,n.push([t,e])):n[r][1]=e,this}},ZCgT:function(t,e,n){var i=n("tLB3");t.exports=function(t){return t?(t=i(t))===1/0||t===-1/0?17976931348623157e292*(t<0?-1:1):t==t?t:0:0===t?t:0}},ZCpW:function(t,e,n){var i=n("lm/5"),r=n("O7RO"),o=n("IOzZ");t.exports=function(t){var e=r(t);return 1==e.length&&e[0][2]?o(e[0][0],e[0][1]):function(n){return n===t||i(n,t,e)}}},ZWtO:function(t,e,n){var i=n("4uTw"),r=n("9Nap");t.exports=function(t,e){for(var n=0,o=(e=i(e,t)).length;null!=t&&n<o;)t=t[r(e[n++])];return n&&n==o?t:void 0}},ZirO:function(t,e){t.exports=function(t,e){for(var n=-1,i=null==t?0:t.length;++n<i;)if(!e(t[n],n,t))return!1;return!0}},a8sm:function(t,e){t.exports="function"==typeof Object.create?function(t,e){t.super_=e,t.prototype=Object.create(e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}})}:function(t,e){t.super_=e;var n=function(){};n.prototype=e.prototype,t.prototype=new n,t.prototype.constructor=t}},adU4:function(t,e,n){var i=n("y1pI"),r=Array.prototype.splice;t.exports=function(t){var e=this.__data__,n=i(e,t);return!(n<0||(n==e.length-1?e.pop():r.call(e,n,1),--this.size,0))}},afOK:function(t,e,n){t.exports=n("pZt1")},b2z7:function(t,e){var n=/\w*$/;t.exports=function(t){var e=new t.constructor(t.source,n.exec(t));return e.lastIndex=t.lastIndex,e}},b80T:function(t,e,n){var i=n("UNi/"),r=n("03A+"),o=n("Z0cm"),s=n("DSRE"),a=n("wJg7"),l=n("c6wG"),c=Object.prototype.hasOwnProperty;t.exports=function(t,e){var n=o(t),u=!n&&r(t),h=!n&&!u&&s(t),d=!n&&!u&&!h&&l(t),p=n||u||h||d,f=p?i(t.length,String):[],m=f.length;for(var g in t)!e&&!c.call(t,g)||p&&("length"==g||h&&("offset"==g||"parent"==g)||d&&("buffer"==g||"byteLength"==g||"byteOffset"==g)||a(g,m))||f.push(g);return f}},bQdR:function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var i=n("A0GU");Object.keys(i).forEach((function(t){"default"!==t&&"__esModule"!==t&&Object.defineProperty(e,t,{enumerable:!0,get:function(){return i[t]}})}));var r=n("lYgx");Object.keys(r).forEach((function(t){"default"!==t&&"__esModule"!==t&&Object.defineProperty(e,t,{enumerable:!0,get:function(){return r[t]}})}));var o=n("rZm9");Object.keys(o).forEach((function(t){"default"!==t&&"__esModule"!==t&&Object.defineProperty(e,t,{enumerable:!0,get:function(){return o[t]}})}))},c6wG:function(t,e,n){var i=n("dD9F"),r=n("sEf8"),o=n("mdPL"),s=o&&o.isTypedArray,a=s?r(s):i;t.exports=a},"cq/+":function(t,e,n){var i=n("mc0g")();t.exports=i},cvCv:function(t,e){t.exports=function(t){return function(){return t}}},dD9F:function(t,e,n){var i=n("NykK"),r=n("shjB"),o=n("ExA7"),s={};s["[object Float32Array]"]=s["[object Float64Array]"]=s["[object Int8Array]"]=s["[object Int16Array]"]=s["[object Int32Array]"]=s["[object Uint8Array]"]=s["[object Uint8ClampedArray]"]=s["[object Uint16Array]"]=s["[object Uint32Array]"]=!0,s["[object Arguments]"]=s["[object Array]"]=s["[object ArrayBuffer]"]=s["[object Boolean]"]=s["[object DataView]"]=s["[object Date]"]=s["[object Error]"]=s["[object Function]"]=s["[object Map]"]=s["[object Number]"]=s["[object Object]"]=s["[object RegExp]"]=s["[object Set]"]=s["[object String]"]=s["[object WeakMap]"]=!1,t.exports=function(t){return o(t)&&r(t.length)&&!!s[i(t)]}},dTAl:function(t,e,n){var i=n("GoyQ"),r=Object.create,o=function(){function t(){}return function(e){if(!i(e))return{};if(r)return r(e);t.prototype=e;var n=new t;return t.prototype=void 0,n}}();t.exports=o},dt0z:function(t,e,n){var i=n("zoYe");t.exports=function(t){return null==t?"":i(t)}},e4Nc:function(t,e,n){var i=n("fGT3"),r=n("k+1r"),o=n("JHgL"),s=n("pSRY"),a=n("H8j4");function l(t){var e=-1,n=null==t?0:t.length;for(this.clear();++e<n;){var i=t[e];this.set(i[0],i[1])}}l.prototype.clear=i,l.prototype.delete=r,l.prototype.get=o,l.prototype.has=s,l.prototype.set=a,t.exports=l},e5cp:function(t,e,n){var i=n("fmRc"),r=n("or5M"),o=n("HDyB"),s=n("seXi"),a=n("QqLw"),l=n("Z0cm"),c=n("DSRE"),u=n("c6wG"),h="[object Object]",d=Object.prototype.hasOwnProperty;t.exports=function(t,e,n,p,f,m){var g=l(t),y=l(e),_=g?"[object Array]":a(t),v=y?"[object Array]":a(e),b=(_="[object Arguments]"==_?h:_)==h,w=(v="[object Arguments]"==v?h:v)==h,C=_==v;if(C&&c(t)){if(!c(e))return!1;g=!0,b=!1}if(C&&!b)return m||(m=new i),g||u(t)?r(t,e,n,p,f,m):o(t,e,_,n,p,f,m);if(!(1&n)){var x=b&&d.call(t,"__wrapped__"),E=w&&d.call(e,"__wrapped__");if(x||E){var S=x?t.value():t,P=E?e.value():e;return m||(m=new i),f(S,P,n,p,m)}}return!!C&&(m||(m=new i),s(t,e,n,p,f,m))}},eUgh:function(t,e){t.exports=function(t,e){for(var n=-1,i=null==t?0:t.length,r=Array(i);++n<i;)r[n]=e(t[n],n,t);return r}},ebwN:function(t,e,n){var i=n("Cwc5")(n("Kz5y"),"Map");t.exports=i},ekgI:function(t,e,n){var i=n("YESw"),r=Object.prototype.hasOwnProperty;t.exports=function(t){var e=this.__data__;return i?void 0!==e[t]:r.call(e,t)}},"f/Cj":function(t,e,n){var i,r=(i="undefined"!=typeof document&&document.currentScript?document.currentScript.src:void 0,"undefined"!=typeof __filename&&(i=i||__filename),function(t){var e,r,o=void 0!==(t=t||{})?t:{};o.ready=new Promise((function(t,n){e=t,r=n})),Object.getOwnPropertyDescriptor(o.ready,"_main")||(Object.defineProperty(o.ready,"_main",{configurable:!0,get:function(){Ht("You are getting _main on the Promise object, instead of the instance. Use .then() to get called back with the instance, see the MODULARIZE docs in src/settings.js")}}),Object.defineProperty(o.ready,"_main",{configurable:!0,set:function(){Ht("You are setting _main on the Promise object, instead of the instance. Use .then() to get called back with the instance, see the MODULARIZE docs in src/settings.js")}})),Object.getOwnPropertyDescriptor(o.ready,"___cxa_demangle")||(Object.defineProperty(o.ready,"___cxa_demangle",{configurable:!0,get:function(){Ht("You are getting ___cxa_demangle on the Promise object, instead of the instance. Use .then() to get called back with the instance, see the MODULARIZE docs in src/settings.js")}}),Object.defineProperty(o.ready,"___cxa_demangle",{configurable:!0,set:function(){Ht("You are setting ___cxa_demangle on the Promise object, instead of the instance. Use .then() to get called back with the instance, see the MODULARIZE docs in src/settings.js")}})),Object.getOwnPropertyDescriptor(o.ready,"_malloc")||(Object.defineProperty(o.ready,"_malloc",{configurable:!0,get:function(){Ht("You are getting _malloc on the Promise object, instead of the instance. Use .then() to get called back with the instance, see the MODULARIZE docs in src/settings.js")}}),Object.defineProperty(o.ready,"_malloc",{configurable:!0,set:function(){Ht("You are setting _malloc on the Promise object, instead of the instance. Use .then() to get called back with the instance, see the MODULARIZE docs in src/settings.js")}})),Object.getOwnPropertyDescriptor(o.ready,"_free")||(Object.defineProperty(o.ready,"_free",{configurable:!0,get:function(){Ht("You are getting _free on the Promise object, instead of the instance. Use .then() to get called back with the instance, see the MODULARIZE docs in src/settings.js")}}),Object.defineProperty(o.ready,"_free",{configurable:!0,set:function(){Ht("You are setting _free on the Promise object, instead of the instance. Use .then() to get called back with the instance, see the MODULARIZE docs in src/settings.js")}})),Object.getOwnPropertyDescriptor(o.ready,"_stackSave")||(Object.defineProperty(o.ready,"_stackSave",{configurable:!0,get:function(){Ht("You are getting _stackSave on the Promise object, instead of the instance. Use .then() to get called back with the instance, see the MODULARIZE docs in src/settings.js")}}),Object.defineProperty(o.ready,"_stackSave",{configurable:!0,set:function(){Ht("You are setting _stackSave on the Promise object, instead of the instance. Use .then() to get called back with the instance, see the MODULARIZE docs in src/settings.js")}})),Object.getOwnPropertyDescriptor(o.ready,"_stackRestore")||(Object.defineProperty(o.ready,"_stackRestore",{configurable:!0,get:function(){Ht("You are getting _stackRestore on the Promise object, instead of the instance. Use .then() to get called back with the instance, see the MODULARIZE docs in src/settings.js")}}),Object.defineProperty(o.ready,"_stackRestore",{configurable:!0,set:function(){Ht("You are setting _stackRestore on the Promise object, instead of the instance. Use .then() to get called back with the instance, see the MODULARIZE docs in src/settings.js")}})),Object.getOwnPropertyDescriptor(o.ready,"_stackAlloc")||(Object.defineProperty(o.ready,"_stackAlloc",{configurable:!0,get:function(){Ht("You are getting _stackAlloc on the Promise object, instead of the instance. Use .then() to get called back with the instance, see the MODULARIZE docs in src/settings.js")}}),Object.defineProperty(o.ready,"_stackAlloc",{configurable:!0,set:function(){Ht("You are setting _stackAlloc on the Promise object, instead of the instance. Use .then() to get called back with the instance, see the MODULARIZE docs in src/settings.js")}})),Object.getOwnPropertyDescriptor(o.ready,"___data_end")||(Object.defineProperty(o.ready,"___data_end",{configurable:!0,get:function(){Ht("You are getting ___data_end on the Promise object, instead of the instance. Use .then() to get called back with the instance, see the MODULARIZE docs in src/settings.js")}}),Object.defineProperty(o.ready,"___data_end",{configurable:!0,set:function(){Ht("You are setting ___data_end on the Promise object, instead of the instance. Use .then() to get called back with the instance, see the MODULARIZE docs in src/settings.js")}})),Object.getOwnPropertyDescriptor(o.ready,"___wasm_call_ctors")||(Object.defineProperty(o.ready,"___wasm_call_ctors",{configurable:!0,get:function(){Ht("You are getting ___wasm_call_ctors on the Promise object, instead of the instance. Use .then() to get called back with the instance, see the MODULARIZE docs in src/settings.js")}}),Object.defineProperty(o.ready,"___wasm_call_ctors",{configurable:!0,set:function(){Ht("You are setting ___wasm_call_ctors on the Promise object, instead of the instance. Use .then() to get called back with the instance, see the MODULARIZE docs in src/settings.js")}})),Object.getOwnPropertyDescriptor(o.ready,"_fflush")||(Object.defineProperty(o.ready,"_fflush",{configurable:!0,get:function(){Ht("You are getting _fflush on the Promise object, instead of the instance. Use .then() to get called back with the instance, see the MODULARIZE docs in src/settings.js")}}),Object.defineProperty(o.ready,"_fflush",{configurable:!0,set:function(){Ht("You are setting _fflush on the Promise object, instead of the instance. Use .then() to get called back with the instance, see the MODULARIZE docs in src/settings.js")}})),Object.getOwnPropertyDescriptor(o.ready,"___errno_location")||(Object.defineProperty(o.ready,"___errno_location",{configurable:!0,get:function(){Ht("You are getting ___errno_location on the Promise object, instead of the instance. Use .then() to get called back with the instance, see the MODULARIZE docs in src/settings.js")}}),Object.defineProperty(o.ready,"___errno_location",{configurable:!0,set:function(){Ht("You are setting ___errno_location on the Promise object, instead of the instance. Use .then() to get called back with the instance, see the MODULARIZE docs in src/settings.js")}})),Object.getOwnPropertyDescriptor(o.ready,"___cxa_is_pointer_type")||(Object.defineProperty(o.ready,"___cxa_is_pointer_type",{configurable:!0,get:function(){Ht("You are getting ___cxa_is_pointer_type on the Promise object, instead of the instance. Use .then() to get called back with the instance, see the MODULARIZE docs in src/settings.js")}}),Object.defineProperty(o.ready,"___cxa_is_pointer_type",{configurable:!0,set:function(){Ht("You are setting ___cxa_is_pointer_type on the Promise object, instead of the instance. Use .then() to get called back with the instance, see the MODULARIZE docs in src/settings.js")}})),Object.getOwnPropertyDescriptor(o.ready,"___cxa_can_catch")||(Object.defineProperty(o.ready,"___cxa_can_catch",{configurable:!0,get:function(){Ht("You are getting ___cxa_can_catch on the Promise object, instead of the instance. Use .then() to get called back with the instance, see the MODULARIZE docs in src/settings.js")}}),Object.defineProperty(o.ready,"___cxa_can_catch",{configurable:!0,set:function(){Ht("You are setting ___cxa_can_catch on the Promise object, instead of the instance. Use .then() to get called back with the instance, see the MODULARIZE docs in src/settings.js")}})),Object.getOwnPropertyDescriptor(o.ready,"_setThrew")||(Object.defineProperty(o.ready,"_setThrew",{configurable:!0,get:function(){Ht("You are getting _setThrew on the Promise object, instead of the instance. Use .then() to get called back with the instance, see the MODULARIZE docs in src/settings.js")}}),Object.defineProperty(o.ready,"_setThrew",{configurable:!0,set:function(){Ht("You are setting _setThrew on the Promise object, instead of the instance. Use .then() to get called back with the instance, see the MODULARIZE docs in src/settings.js")}})),Object.getOwnPropertyDescriptor(o.ready,"__ZSt18uncaught_exceptionv")||(Object.defineProperty(o.ready,"__ZSt18uncaught_exceptionv",{configurable:!0,get:function(){Ht("You are getting __ZSt18uncaught_exceptionv on the Promise object, instead of the instance. Use .then() to get called back with the instance, see the MODULARIZE docs in src/settings.js")}}),Object.defineProperty(o.ready,"__ZSt18uncaught_exceptionv",{configurable:!0,set:function(){Ht("You are setting __ZSt18uncaught_exceptionv on the Promise object, instead of the instance. Use .then() to get called back with the instance, see the MODULARIZE docs in src/settings.js")}})),Object.getOwnPropertyDescriptor(o.ready,"_emscripten_webgl_make_context_current")||(Object.defineProperty(o.ready,"_emscripten_webgl_make_context_current",{configurable:!0,get:function(){Ht("You are getting _emscripten_webgl_make_context_current on the Promise object, instead of the instance. Use .then() to get called back with the instance, see the MODULARIZE docs in src/settings.js")}}),Object.defineProperty(o.ready,"_emscripten_webgl_make_context_current",{configurable:!0,set:function(){Ht("You are setting _emscripten_webgl_make_context_current on the Promise object, instead of the instance. Use .then() to get called back with the instance, see the MODULARIZE docs in src/settings.js")}})),Object.getOwnPropertyDescriptor(o.ready,"_emscripten_webgl_get_current_context")||(Object.defineProperty(o.ready,"_emscripten_webgl_get_current_context",{configurable:!0,get:function(){Ht("You are getting _emscripten_webgl_get_current_context on the Promise object, instead of the instance. Use .then() to get called back with the instance, see the MODULARIZE docs in src/settings.js")}}),Object.defineProperty(o.ready,"_emscripten_webgl_get_current_context",{configurable:!0,set:function(){Ht("You are setting _emscripten_webgl_get_current_context on the Promise object, instead of the instance. Use .then() to get called back with the instance, see the MODULARIZE docs in src/settings.js")}})),Object.getOwnPropertyDescriptor(o.ready,"_usleep")||(Object.defineProperty(o.ready,"_usleep",{configurable:!0,get:function(){Ht("You are getting _usleep on the Promise object, instead of the instance. Use .then() to get called back with the instance, see the MODULARIZE docs in src/settings.js")}}),Object.defineProperty(o.ready,"_usleep",{configurable:!0,set:function(){Ht("You are setting _usleep on the Promise object, instead of the instance. Use .then() to get called back with the instance, see the MODULARIZE docs in src/settings.js")}})),Object.getOwnPropertyDescriptor(o.ready,"_memset")||(Object.defineProperty(o.ready,"_memset",{configurable:!0,get:function(){Ht("You are getting _memset on the Promise object, instead of the instance. Use .then() to get called back with the instance, see the MODULARIZE docs in src/settings.js")}}),Object.defineProperty(o.ready,"_memset",{configurable:!0,set:function(){Ht("You are setting _memset on the Promise object, instead of the instance. Use .then() to get called back with the instance, see the MODULARIZE docs in src/settings.js")}})),Object.getOwnPropertyDescriptor(o.ready,"_realloc")||(Object.defineProperty(o.ready,"_realloc",{configurable:!0,get:function(){Ht("You are getting _realloc on the Promise object, instead of the instance. Use .then() to get called back with the instance, see the MODULARIZE docs in src/settings.js")}}),Object.defineProperty(o.ready,"_realloc",{configurable:!0,set:function(){Ht("You are setting _realloc on the Promise object, instead of the instance. Use .then() to get called back with the instance, see the MODULARIZE docs in src/settings.js")}})),Object.getOwnPropertyDescriptor(o.ready,"_testSetjmp")||(Object.defineProperty(o.ready,"_testSetjmp",{configurable:!0,get:function(){Ht("You are getting _testSetjmp on the Promise object, instead of the instance. Use .then() to get called back with the instance, see the MODULARIZE docs in src/settings.js")}}),Object.defineProperty(o.ready,"_testSetjmp",{configurable:!0,set:function(){Ht("You are setting _testSetjmp on the Promise object, instead of the instance. Use .then() to get called back with the instance, see the MODULARIZE docs in src/settings.js")}})),Object.getOwnPropertyDescriptor(o.ready,"_saveSetjmp")||(Object.defineProperty(o.ready,"_saveSetjmp",{configurable:!0,get:function(){Ht("You are getting _saveSetjmp on the Promise object, instead of the instance. Use .then() to get called back with the instance, see the MODULARIZE docs in src/settings.js")}}),Object.defineProperty(o.ready,"_saveSetjmp",{configurable:!0,set:function(){Ht("You are setting _saveSetjmp on the Promise object, instead of the instance. Use .then() to get called back with the instance, see the MODULARIZE docs in src/settings.js")}})),Object.getOwnPropertyDescriptor(o.ready,"__get_tzname")||(Object.defineProperty(o.ready,"__get_tzname",{configurable:!0,get:function(){Ht("You are getting __get_tzname on the Promise object, instead of the instance. Use .then() to get called back with the instance, see the MODULARIZE docs in src/settings.js")}}),Object.defineProperty(o.ready,"__get_tzname",{configurable:!0,set:function(){Ht("You are setting __get_tzname on the Promise object, instead of the instance. Use .then() to get called back with the instance, see the MODULARIZE docs in src/settings.js")}})),Object.getOwnPropertyDescriptor(o.ready,"__get_daylight")||(Object.defineProperty(o.ready,"__get_daylight",{configurable:!0,get:function(){Ht("You are getting __get_daylight on the Promise object, instead of the instance. Use .then() to get called back with the instance, see the MODULARIZE docs in src/settings.js")}}),Object.defineProperty(o.ready,"__get_daylight",{configurable:!0,set:function(){Ht("You are setting __get_daylight on the Promise object, instead of the instance. Use .then() to get called back with the instance, see the MODULARIZE docs in src/settings.js")}})),Object.getOwnPropertyDescriptor(o.ready,"__get_timezone")||(Object.defineProperty(o.ready,"__get_timezone",{configurable:!0,get:function(){Ht("You are getting __get_timezone on the Promise object, instead of the instance. Use .then() to get called back with the instance, see the MODULARIZE docs in src/settings.js")}}),Object.defineProperty(o.ready,"__get_timezone",{configurable:!0,set:function(){Ht("You are setting __get_timezone on the Promise object, instead of the instance. Use .then() to get called back with the instance, see the MODULARIZE docs in src/settings.js")}})),Object.getOwnPropertyDescriptor(o.ready,"onRuntimeInitialized")||(Object.defineProperty(o.ready,"onRuntimeInitialized",{configurable:!0,get:function(){Ht("You are getting onRuntimeInitialized on the Promise object, instead of the instance. Use .then() to get called back with the instance, see the MODULARIZE docs in src/settings.js")}}),Object.defineProperty(o.ready,"onRuntimeInitialized",{configurable:!0,set:function(){Ht("You are setting onRuntimeInitialized on the Promise object, instead of the instance. Use .then() to get called back with the instance, see the MODULARIZE docs in src/settings.js")}}));var s,a={};for(s in o)o.hasOwnProperty(s)&&(a[s]=o[s]);var l=[],c="./this.program",u=function(t,e){throw e},h=!1,d=!1,p=!1,f=!1;if(h="object"==typeof window,d="function"==typeof importScripts,p="object"==typeof process&&"object"==typeof process.versions&&"string"==typeof process.versions.node,f=!h&&!p&&!d,o.ENVIRONMENT)throw new Error("Module.ENVIRONMENT has been deprecated. To force the environment, use the ENVIRONMENT compile-time option (for example, -s ENVIRONMENT=web or -s ENVIRONMENT=node)");var m,g,y,_,v="";function b(t){return o.locateFile?o.locateFile(t,v):v+t}if(p)v=d?n("2U8Y").dirname(v)+"/":__dirname+"/",m=function(t,e){return y||(y=n("NCjB")),_||(_=n("2U8Y")),t=_.normalize(t),y.readFileSync(t,e?null:"utf8")},g=function(t){var e=m(t,!0);return e.buffer||(e=new Uint8Array(e)),R(e.buffer),e},process.argv.length>1&&(c=process.argv[1].replace(/\\/g,"/")),l=process.argv.slice(2),process.on("uncaughtException",(function(t){if(!(t instanceof Aa))throw t})),process.on("unhandledRejection",Ht),u=function(t){process.exit(t)},o.inspect=function(){return"[Emscripten Module object]"};else if(f)"undefined"!=typeof read&&(m=function(t){return read(t)}),g=function(t){var e;return"function"==typeof readbuffer?new Uint8Array(readbuffer(t)):(R("object"==typeof(e=read(t,"binary"))),e)},"undefined"!=typeof scriptArgs?l=scriptArgs:void 0!==arguments&&(l=arguments),"function"==typeof quit&&(u=function(t){quit(t)}),"undefined"!=typeof print&&("undefined"==typeof console&&(console={}),console.log=print,console.warn=console.error="undefined"!=typeof printErr?printErr:print);else{if(!h&&!d)throw new Error("environment detection error");d?v=self.location.href:document.currentScript&&(v=document.currentScript.src),i&&(v=i),v=0!==v.indexOf("blob:")?v.substr(0,v.lastIndexOf("/")+1):"",m=function(t){var e=new XMLHttpRequest;return e.open("GET",t,!1),e.send(null),e.responseText},d&&(g=function(t){var e=new XMLHttpRequest;return e.open("GET",t,!1),e.responseType="arraybuffer",e.send(null),new Uint8Array(e.response)})}var w=o.print||console.log.bind(console),C=o.printErr||console.warn.bind(console);for(s in a)a.hasOwnProperty(s)&&(o[s]=a[s]);a=null,o.arguments&&(l=o.arguments),Object.getOwnPropertyDescriptor(o,"arguments")||Object.defineProperty(o,"arguments",{configurable:!0,get:function(){Ht("Module.arguments has been replaced with plain arguments_ (the initial value can be provided on Module, but after startup the value is only looked for on a local variable of that name)")}}),o.thisProgram&&(c=o.thisProgram),Object.getOwnPropertyDescriptor(o,"thisProgram")||Object.defineProperty(o,"thisProgram",{configurable:!0,get:function(){Ht("Module.thisProgram has been replaced with plain thisProgram (the initial value can be provided on Module, but after startup the value is only looked for on a local variable of that name)")}}),o.quit&&(u=o.quit),Object.getOwnPropertyDescriptor(o,"quit")||Object.defineProperty(o,"quit",{configurable:!0,get:function(){Ht("Module.quit has been replaced with plain quit_ (the initial value can be provided on Module, but after startup the value is only looked for on a local variable of that name)")}}),R(void 0===o.memoryInitializerPrefixURL,"Module.memoryInitializerPrefixURL option was removed, use Module.locateFile instead"),R(void 0===o.pthreadMainPrefixURL,"Module.pthreadMainPrefixURL option was removed, use Module.locateFile instead"),R(void 0===o.cdInitializerPrefixURL,"Module.cdInitializerPrefixURL option was removed, use Module.locateFile instead"),R(void 0===o.filePackagePrefixURL,"Module.filePackagePrefixURL option was removed, use Module.locateFile instead"),R(void 0===o.read,"Module.read option was removed (modify read_ in JS)"),R(void 0===o.readAsync,"Module.readAsync option was removed (modify readAsync in JS)"),R(void 0===o.readBinary,"Module.readBinary option was removed (modify readBinary in JS)"),R(void 0===o.setWindowTitle,"Module.setWindowTitle option was removed (modify setWindowTitle in JS)"),R(void 0===o.TOTAL_MEMORY,"Module.TOTAL_MEMORY has been renamed Module.INITIAL_MEMORY"),Object.getOwnPropertyDescriptor(o,"read")||Object.defineProperty(o,"read",{configurable:!0,get:function(){Ht("Module.read has been replaced with plain read_ (the initial value can be provided on Module, but after startup the value is only looked for on a local variable of that name)")}}),Object.getOwnPropertyDescriptor(o,"readAsync")||Object.defineProperty(o,"readAsync",{configurable:!0,get:function(){Ht("Module.readAsync has been replaced with plain readAsync (the initial value can be provided on Module, but after startup the value is only looked for on a local variable of that name)")}}),Object.getOwnPropertyDescriptor(o,"readBinary")||Object.defineProperty(o,"readBinary",{configurable:!0,get:function(){Ht("Module.readBinary has been replaced with plain readBinary (the initial value can be provided on Module, but after startup the value is only looked for on a local variable of that name)")}}),Object.getOwnPropertyDescriptor(o,"setWindowTitle")||Object.defineProperty(o,"setWindowTitle",{configurable:!0,get:function(){Ht("Module.setWindowTitle has been replaced with plain setWindowTitle (the initial value can be provided on Module, but after startup the value is only looked for on a local variable of that name)")}});var x=16;function E(t,e){return e||(e=x),Math.ceil(t/e)*e}function S(t){S.shown||(S.shown={}),S.shown[t]||(S.shown[t]=1,C(t))}var P,O,k,T=0,I=function(t){T=t},A=function(){return T};o.wasmBinary&&(P=o.wasmBinary),Object.getOwnPropertyDescriptor(o,"wasmBinary")||Object.defineProperty(o,"wasmBinary",{configurable:!0,get:function(){Ht("Module.wasmBinary has been replaced with plain wasmBinary (the initial value can be provided on Module, but after startup the value is only looked for on a local variable of that name)")}}),o.noExitRuntime&&(O=o.noExitRuntime),Object.getOwnPropertyDescriptor(o,"noExitRuntime")||Object.defineProperty(o,"noExitRuntime",{configurable:!0,get:function(){Ht("Module.noExitRuntime has been replaced with plain noExitRuntime (the initial value can be provided on Module, but after startup the value is only looked for on a local variable of that name)")}}),"object"!=typeof WebAssembly&&Ht("no native wasm support detected");var M=new WebAssembly.Table({initial:3815,maximum:3815,element:"anyfunc"}),D=!1;function R(t,e){t||Ht("Assertion failed: "+e)}var F="undefined"!=typeof TextDecoder?new TextDecoder("utf8"):void 0;function L(t,e,n){for(var i=e+n,r=e;t[r]&&!(r>=i);)++r;if(r-e>16&&t.subarray&&F)return F.decode(t.subarray(e,r));for(var o="";e<r;){var s=t[e++];if(128&s){var a=63&t[e++];if(192!=(224&s)){var l=63&t[e++];if(224==(240&s)?s=(15&s)<<12|a<<6|l:(240!=(248&s)&&S("Invalid UTF-8 leading byte 0x"+s.toString(16)+" encountered when deserializing a UTF-8 string on the asm.js/wasm heap to a JS string!"),s=(7&s)<<18|a<<12|l<<6|63&t[e++]),s<65536)o+=String.fromCharCode(s);else{var c=s-65536;o+=String.fromCharCode(55296|c>>10,56320|1023&c)}}else o+=String.fromCharCode((31&s)<<6|a)}else o+=String.fromCharCode(s)}return o}function B(t,e){return t?L(J,t,e):""}function N(t,e,n,i){if(!(i>0))return 0;for(var r=n,o=n+i-1,s=0;s<t.length;++s){var a=t.charCodeAt(s);if(a>=55296&&a<=57343&&(a=65536+((1023&a)<<10)|1023&t.charCodeAt(++s)),a<=127){if(n>=o)break;e[n++]=a}else if(a<=2047){if(n+1>=o)break;e[n++]=192|a>>6,e[n++]=128|63&a}else if(a<=65535){if(n+2>=o)break;e[n++]=224|a>>12,e[n++]=128|a>>6&63,e[n++]=128|63&a}else{if(n+3>=o)break;a>=2097152&&S("Invalid Unicode code point 0x"+a.toString(16)+" encountered when serializing a JS string to an UTF-8 string on the asm.js/wasm heap! (Valid unicode code points should be in range 0-0x1FFFFF)."),e[n++]=240|a>>18,e[n++]=128|a>>12&63,e[n++]=128|a>>6&63,e[n++]=128|63&a}}return e[n]=0,n-r}function j(t,e,n){return R("number"==typeof n,"stringToUTF8(str, outPtr, maxBytesToWrite) is missing the third parameter that specifies the length of the output buffer!"),N(t,J,e,n)}function z(t){for(var e=0,n=0;n<t.length;++n){var i=t.charCodeAt(n);i>=55296&&i<=57343&&(i=65536+((1023&i)<<10)|1023&t.charCodeAt(++n)),i<=127?++e:e+=i<=2047?2:i<=65535?3:4}return e}var H="undefined"!=typeof TextDecoder?new TextDecoder("utf-16le"):void 0;function V(t,e){R(t%2==0,"Pointer passed to UTF16ToString must be aligned to two bytes!");for(var n=t,i=n>>1,r=i+e/2;!(i>=r)&&et[i];)++i;if((n=i<<1)-t>32&&H)return H.decode(J.subarray(t,n));for(var o=0,s="";;){var a=tt[t+2*o>>1];if(0==a||o==e/2)return s;++o,s+=String.fromCharCode(a)}}function U(t,e,n){if(R(e%2==0,"Pointer passed to stringToUTF16 must be aligned to two bytes!"),R("number"==typeof n,"stringToUTF16(str, outPtr, maxBytesToWrite) is missing the third parameter that specifies the length of the output buffer!"),void 0===n&&(n=2147483647),n<2)return 0;for(var i=e,r=(n-=2)<2*t.length?n/2:t.length,o=0;o<r;++o){var s=t.charCodeAt(o);tt[e>>1]=s,e+=2}return tt[e>>1]=0,e-i}function W(t){return 2*t.length}function $(t,e){R(t%4==0,"Pointer passed to UTF32ToString must be aligned to four bytes!");for(var n=0,i="";!(n>=e/4);){var r=nt[t+4*n>>2];if(0==r)break;if(++n,r>=65536){var o=r-65536;i+=String.fromCharCode(55296|o>>10,56320|1023&o)}else i+=String.fromCharCode(r)}return i}function G(t,e,n){if(R(e%4==0,"Pointer passed to stringToUTF32 must be aligned to four bytes!"),R("number"==typeof n,"stringToUTF32(str, outPtr, maxBytesToWrite) is missing the third parameter that specifies the length of the output buffer!"),void 0===n&&(n=2147483647),n<4)return 0;for(var i=e,r=i+n-4,o=0;o<t.length;++o){var s=t.charCodeAt(o);if(s>=55296&&s<=57343&&(s=65536+((1023&s)<<10)|1023&t.charCodeAt(++o)),nt[e>>2]=s,(e+=4)+4>r)break}return nt[e>>2]=0,e-i}function q(t){for(var e=0,n=0;n<t.length;++n){var i=t.charCodeAt(n);i>=55296&&i<=57343&&++n,e+=4}return e}function X(t){var e=z(t)+1,n=fs(e);return n&&N(t,Z,n,e),n}function K(t,e){R(t.length>=0,"writeArrayToMemory array must have a length (should be an array or typed array)"),Z.set(t,e)}function Y(t,e,n){for(var i=0;i<t.length;++i)R(t.charCodeAt(i)==t.charCodeAt(i)&255),Z[e++>>0]=t.charCodeAt(i);n||(Z[e>>0]=0)}var Q,Z,J,tt,et,nt,it,rt,ot,st=65536;function at(t,e){return t%e>0&&(t+=e-t%e),t}function lt(t){Q=t,o.HEAP8=Z=new Int8Array(t),o.HEAP16=tt=new Int16Array(t),o.HEAP32=nt=new Int32Array(t),o.HEAPU8=J=new Uint8Array(t),o.HEAPU16=et=new Uint16Array(t),o.HEAPU32=it=new Uint32Array(t),o.HEAPF32=rt=new Float32Array(t),o.HEAPF64=ot=new Float64Array(t)}var ct=5655536,ut=412656,ht=5655536;R(ct%16==0,"stack must start aligned"),R(ht%16==0,"heap must start aligned");var dt=5242880;o.TOTAL_STACK&&R(dt===o.TOTAL_STACK,"the stack size can no longer be determined at runtime");var pt=o.INITIAL_MEMORY||16777216;function ft(){R(0==(3&ut)),it[1+(ut>>2)]=34821223,it[2+(ut>>2)]=2310721022,nt[0]=1668509029}function mt(){var t=it[1+(ut>>2)],e=it[2+(ut>>2)];34821223==t&&2310721022==e||Ht("Stack overflow! Stack cookie has been overwritten, expected hex dwords 0x89BACDFE and 0x2135467, but received 0x"+e.toString(16)+" "+t.toString(16)),1668509029!==nt[0]&&Ht("Runtime error: The application has corrupted its heap memory area (address zero)!")}Object.getOwnPropertyDescriptor(o,"INITIAL_MEMORY")||Object.defineProperty(o,"INITIAL_MEMORY",{configurable:!0,get:function(){Ht("Module.INITIAL_MEMORY has been replaced with plain INITIAL_INITIAL_MEMORY (the initial value can be provided on Module, but after startup the value is only looked for on a local variable of that name)")}}),R(pt>=dt,"INITIAL_MEMORY should be larger than TOTAL_STACK, was "+pt+"! (TOTAL_STACK="+dt+")"),R("undefined"!=typeof Int32Array&&"undefined"!=typeof Float64Array&&void 0!==Int32Array.prototype.subarray&&void 0!==Int32Array.prototype.set,"JS engine does not provide full typed array support"),(k=o.wasmMemory?o.wasmMemory:new WebAssembly.Memory({initial:pt/st,maximum:2147483648/st}))&&(Q=k.buffer),R((pt=Q.byteLength)%st==0),R(65536%st==0),lt(Q),function(){var t=new Int16Array(1),e=new Int8Array(t.buffer);if(t[0]=25459,115!==e[0]||99!==e[1])throw"Runtime error: expected the system to be little-endian!"}();var gt=[],yt=[],_t=[],vt=[],bt=[],wt=!1,Ct=!1;function xt(){if(o.preRun)for("function"==typeof o.preRun&&(o.preRun=[o.preRun]);o.preRun.length;)kt(o.preRun.shift());te(gt)}function Et(){mt(),R(!wt),wt=!0,o.noFSInit||Be.init.initialized||Be.init(),De.init(),te(yt)}function St(){mt(),Be.ignorePermissions=!1,te(_t)}function Pt(){mt(),Ct=!0}function Ot(){if(mt(),o.postRun)for("function"==typeof o.postRun&&(o.postRun=[o.postRun]);o.postRun.length;)Tt(o.postRun.shift());te(bt)}function kt(t){gt.unshift(t)}function Tt(t){bt.unshift(t)}R(Math.imul,"This browser does not support Math.imul(), build with LEGACY_VM_SUPPORT or POLYFILL_OLD_MATH_FUNCTIONS to add in a polyfill"),R(Math.fround,"This browser does not support Math.fround(), build with LEGACY_VM_SUPPORT or POLYFILL_OLD_MATH_FUNCTIONS to add in a polyfill"),R(Math.clz32,"This browser does not support Math.clz32(), build with LEGACY_VM_SUPPORT or POLYFILL_OLD_MATH_FUNCTIONS to add in a polyfill"),R(Math.trunc,"This browser does not support Math.trunc(), build with LEGACY_VM_SUPPORT or POLYFILL_OLD_MATH_FUNCTIONS to add in a polyfill");var It=Math.abs,At=Math.ceil,Mt=Math.floor,Dt=Math.min,Rt=0,Ft=null,Lt=null,Bt={};function Nt(t){for(var e=t;;){if(!Bt[t])return t;t=e+Math.random()}}function jt(t){Rt++,o.monitorRunDependencies&&o.monitorRunDependencies(Rt),t?(R(!Bt[t]),Bt[t]=1,null===Ft&&"undefined"!=typeof setInterval&&(Ft=setInterval((function(){if(D)return clearInterval(Ft),void(Ft=null);var t=!1;for(var e in Bt)t||(t=!0,C("still waiting on run dependencies:")),C("dependency: "+e);t&&C("(end of list)")}),1e4))):C("warning: run dependency added without ID")}function zt(t){if(Rt--,o.monitorRunDependencies&&o.monitorRunDependencies(Rt),t?(R(Bt[t]),delete Bt[t]):C("warning: run dependency removed without ID"),0==Rt&&(null!==Ft&&(clearInterval(Ft),Ft=null),Lt)){var e=Lt;Lt=null,e()}}function Ht(t){o.onAbort&&o.onAbort(t),C(t+=""),D=!0,t="abort("+t+") at "+se();var e=new WebAssembly.RuntimeError(t);throw r(e),e}function Vt(t,e){return String.prototype.startsWith?t.startsWith(e):0===t.indexOf(e)}o.preloadedImages={},o.preloadedAudios={};var Ut="data:application/octet-stream;base64,";function Wt(t){return Vt(t,Ut)}var $t="file://";function Gt(t){return Vt(t,$t)}function qt(t,e){return function(){var n=t,i=e;return e||(i=o.asm),R(wt,"native function `"+n+"` called before runtime initialization"),R(!Ct,"native function `"+n+"` called after runtime exit (use NO_EXIT_RUNTIME to keep it alive after main() exits)"),i[t]||R(i[t],"exported native function `"+n+"` not found"),i[t].apply(null,arguments)}}var Xt,Kt,Yt="TextWhizzJS.wasm";function Qt(){try{if(P)return new Uint8Array(P);if(g)return g(Yt);throw"both async and sync fetching of the wasm failed"}catch(C){Ht(C)}}function Zt(){return P||!h&&!d||"function"!=typeof fetch||Gt(Yt)?Promise.resolve().then(Qt):fetch(Yt,{credentials:"same-origin"}).then((function(t){if(!t.ok)throw"failed to load wasm binary file at '"+Yt+"'";return t.arrayBuffer()})).catch((function(){return Qt()}))}function Jt(){var t={env:hs,wasi_snapshot_preview1:hs};function e(t,e){o.asm=t.exports,zt("wasm-instantiate")}jt("wasm-instantiate");var n=o;function i(t){R(o===n,"the Module object should not be replaced during async compilation - perhaps the order of HTML elements is wrong?"),n=null,e(t.instance)}function r(e){return Zt().then((function(e){return WebAssembly.instantiate(e,t)})).then(e,(function(t){C("failed to asynchronously prepare wasm: "+t),Ht(t)}))}if(o.instantiateWasm)try{return o.instantiateWasm(t,e)}catch(s){return C("Module.instantiateWasm callback failed with error: "+s),!1}return function(){if(P||"function"!=typeof WebAssembly.instantiateStreaming||Wt(Yt)||Gt(Yt)||"function"!=typeof fetch)return r(i);fetch(Yt,{credentials:"same-origin"}).then((function(e){return WebAssembly.instantiateStreaming(e,t).then(i,(function(t){return C("wasm streaming compile failed: "+t),C("falling back to ArrayBuffer instantiation"),r(i)}))}))}(),{}}function te(t){for(;t.length>0;){var e=t.shift();if("function"!=typeof e){var n=e.func;"number"==typeof n?void 0===e.arg?M.get(n)():M.get(n)(e.arg):n(void 0===e.arg?null:e.arg)}else e(o)}}function ee(t){if((ee.recursionGuard=1+(0|ee.recursionGuard))>1)return t;var e=o.___cxa_demangle||o.__cxa_demangle;R(e);var n=Cs();try{var i=t;i.startsWith("__Z")&&(i=i.substr(1));var r=z(i)+1,s=Es(r);j(i,s,r);var a=Es(4),l=e(s,0,0,a);if(0===nt[a>>2]&&l)return B(l)}catch(c){}finally{ps(l),xs(n),ee.recursionGuard<2&&--ee.recursionGuard}return t}function ne(t){return t.replace(/\b_Z[\w\d_]+/g,(function(t){var e=ee(t);return t===e?t:e+" ["+t+"]"}))}function ie(t,e,n){return R("dynCall_"+t in o,"bad function pointer type - no table for sig '"+t+"'"),R(n&&n.length?n.length===t.substring(1).replace(/j/g,"--").length:1==t.length),n&&n.length?o["dynCall_"+t].apply(null,[e].concat(n)):o["dynCall_"+t].call(null,e)}function re(t,e,n){return-1!=t.indexOf("j")?ie(t,e,n):M.get(e).apply(null,n)}function oe(){var t=new Error;if(!t.stack){try{throw new Error}catch(e){t=e}if(!t.stack)return"(no stack trace available)"}return t.stack.toString()}function se(){var t=oe();return o.extraStackTrace&&(t+="\n"+o.extraStackTrace()),ne(t)}Wt(Yt)||(Yt=b(Yt)),yt.push({func:function(){ds()}});var ae={DESTRUCTOR_OFFSET:0,REFCOUNT_OFFSET:4,TYPE_OFFSET:8,CAUGHT_OFFSET:12,RETHROWN_OFFSET:13,SIZE:16};function le(t){return fs(t+ae.SIZE)+ae.SIZE}function ce(t,e){}function ue(t){this.excPtr=t,this.ptr=t-ae.SIZE,this.set_type=function(t){nt[this.ptr+ae.TYPE_OFFSET>>2]=t},this.get_type=function(){return nt[this.ptr+ae.TYPE_OFFSET>>2]},this.set_destructor=function(t){nt[this.ptr+ae.DESTRUCTOR_OFFSET>>2]=t},this.get_destructor=function(){return nt[this.ptr+ae.DESTRUCTOR_OFFSET>>2]},this.set_refcount=function(t){nt[this.ptr+ae.REFCOUNT_OFFSET>>2]=t},this.set_caught=function(t){Z[this.ptr+ae.CAUGHT_OFFSET>>0]=t=t?1:0},this.get_caught=function(){return 0!=Z[this.ptr+ae.CAUGHT_OFFSET>>0]},this.set_rethrown=function(t){Z[this.ptr+ae.RETHROWN_OFFSET>>0]=t=t?1:0},this.get_rethrown=function(){return 0!=Z[this.ptr+ae.RETHROWN_OFFSET>>0]},this.init=function(t,e){this.set_type(t),this.set_destructor(e),this.set_refcount(0),this.set_caught(!1),this.set_rethrown(!1)},this.add_ref=function(){nt[this.ptr+ae.REFCOUNT_OFFSET>>2]=nt[this.ptr+ae.REFCOUNT_OFFSET>>2]+1},this.release_ref=function(){var t=nt[this.ptr+ae.REFCOUNT_OFFSET>>2];return nt[this.ptr+ae.REFCOUNT_OFFSET>>2]=t-1,R(t>0),1===t}}function he(t){this.free=function(){ps(this.ptr),this.ptr=0},this.set_base_ptr=function(t){nt[this.ptr>>2]=t},this.get_base_ptr=function(){return nt[this.ptr>>2]},this.set_adjusted_ptr=function(t){nt[this.ptr+4>>2]=t},this.get_adjusted_ptr=function(){return nt[this.ptr+4>>2]},this.get_exception_ptr=function(){if(Ps(this.get_exception_info().get_type()))return nt[this.get_base_ptr()>>2];var t=this.get_adjusted_ptr();return 0!==t?t:this.get_base_ptr()},this.get_exception_info=function(){return new ue(this.get_base_ptr())},void 0===t?(this.ptr=fs(8),this.set_adjusted_ptr(0)):this.ptr=t}var de=[];function pe(t){t.add_ref()}function fe(t){var e=new he(t),n=e.get_exception_info();return n.get_caught()||(n.set_caught(!0),gs.uncaught_exceptions--),n.set_rethrown(!1),de.push(e),pe(n),e.get_exception_ptr()}var me=0;function ge(t){try{return ps(new ue(t).ptr)}catch(e){C("exception during cxa_free_exception: "+e)}}function ye(t){if(t.release_ref()&&!t.get_rethrown()){var e=t.get_destructor();e&&M.get(e)(t.excPtr),ge(t.excPtr)}}function _e(){ws(0),R(de.length>0);var t=de.pop();ye(t.get_exception_info()),t.free(),me=0}function ve(t){var e=new he(t),n=e.get_base_ptr();throw me||(me=n),e.free(),n}var be=0;function we(){var t=me;if(!t)return 0|(I(0),0);var e=new ue(t),n=e.get_type(),i=new he;if(i.set_base_ptr(t),!n)return 0|(I(0),i.ptr);var r=Array.prototype.slice.call(arguments);be||(be=fs(4)),nt[be>>2]=t;for(var o=0;o<r.length;o++){var s=r[o];if(0===s||s===n)break;if(Ss(s,n,be)){var a=nt[be>>2];return t!==a&&i.set_adjusted_ptr(a),0|(I(s),i.ptr)}}return 0|(I(n),i.ptr)}function Ce(){var t=me;if(!t)return 0|(I(0),0);var e=new ue(t),n=e.get_type(),i=new he;if(i.set_base_ptr(t),!n)return 0|(I(0),i.ptr);var r=Array.prototype.slice.call(arguments);be||(be=fs(4)),nt[be>>2]=t;for(var o=0;o<r.length;o++){var s=r[o];if(0===s||s===n)break;if(Ss(s,n,be)){var a=nt[be>>2];return t!==a&&i.set_adjusted_ptr(a),0|(I(s),i.ptr)}}return 0|(I(n),i.ptr)}function xe(){var t=de.pop(),e=t.get_exception_info(),n=t.get_base_ptr();throw e.get_rethrown()?t.free():(de.push(t),e.set_rethrown(!0)),me=n,n}function Ee(t,e,n){throw new ue(t).init(e,n),me=t,"uncaught_exception"in gs?gs.uncaught_exceptions++:gs.uncaught_exceptions=1,t}function Se(){return gs.uncaught_exceptions}function Pe(){if(!Pe.called){Pe.called=!0,nt[bs()>>2]=60*(new Date).getTimezoneOffset();var t=(new Date).getFullYear(),e=new Date(t,0,1),n=new Date(t,6,1);nt[vs()>>2]=Number(e.getTimezoneOffset()!=n.getTimezoneOffset());var i=a(e),r=a(n),o=X(i),s=X(r);n.getTimezoneOffset()<e.getTimezoneOffset()?(nt[_s()>>2]=o,nt[_s()+4>>2]=s):(nt[_s()>>2]=s,nt[_s()+4>>2]=o)}function a(t){var e=t.toTimeString().match(/\(([A-Za-z ]+)\)$/);return e?e[1]:"GMT"}}function Oe(t,e){Pe();var n=new Date(1e3*nt[t>>2]);nt[e>>2]=n.getSeconds(),nt[e+4>>2]=n.getMinutes(),nt[e+8>>2]=n.getHours(),nt[e+12>>2]=n.getDate(),nt[e+16>>2]=n.getMonth(),nt[e+20>>2]=n.getFullYear()-1900,nt[e+24>>2]=n.getDay();var i=new Date(n.getFullYear(),0,1),r=(n.getTime()-i.getTime())/864e5|0;nt[e+28>>2]=r,nt[e+36>>2]=-60*n.getTimezoneOffset();var o=new Date(n.getFullYear(),6,1).getTimezoneOffset(),s=i.getTimezoneOffset(),a=0|(o!=s&&n.getTimezoneOffset()==Math.min(s,o));nt[e+32>>2]=a;var l=nt[_s()+(a?4:0)>>2];return nt[e+40>>2]=l,e}function ke(t,e){return Oe(t,e)}function Te(t){return nt[ms()>>2]=t,t}function Ie(t,e){return Te(63),-1}var Ae={splitPath:function(t){return/^(\/?|)([\s\S]*?)((?:\.{1,2}|[^\/]+?|)(\.[^.\/]*|))(?:[\/]*)$/.exec(t).slice(1)},normalizeArray:function(t,e){for(var n=0,i=t.length-1;i>=0;i--){var r=t[i];"."===r?t.splice(i,1):".."===r?(t.splice(i,1),n++):n&&(t.splice(i,1),n--)}if(e)for(;n;n--)t.unshift("..");return t},normalize:function(t){var e="/"===t.charAt(0),n="/"===t.substr(-1);return(t=Ae.normalizeArray(t.split("/").filter((function(t){return!!t})),!e).join("/"))||e||(t="."),t&&n&&(t+="/"),(e?"/":"")+t},dirname:function(t){var e=Ae.splitPath(t),n=e[0],i=e[1];return n||i?(i&&(i=i.substr(0,i.length-1)),n+i):"."},basename:function(t){if("/"===t)return"/";var e=(t=(t=Ae.normalize(t)).replace(/\/$/,"")).lastIndexOf("/");return-1===e?t:t.substr(e+1)},extname:function(t){return Ae.splitPath(t)[3]},join:function(){var t=Array.prototype.slice.call(arguments,0);return Ae.normalize(t.join("/"))},join2:function(t,e){return Ae.normalize(t+"/"+e)}},Me={resolve:function(){for(var t="",e=!1,n=arguments.length-1;n>=-1&&!e;n--){var i=n>=0?arguments[n]:Be.cwd();if("string"!=typeof i)throw new TypeError("Arguments to path.resolve must be strings");if(!i)return"";t=i+"/"+t,e="/"===i.charAt(0)}return(e?"/":"")+(t=Ae.normalizeArray(t.split("/").filter((function(t){return!!t})),!e).join("/"))||"."},relative:function(t,e){function n(t){for(var e=0;e<t.length&&""===t[e];e++);for(var n=t.length-1;n>=0&&""===t[n];n--);return e>n?[]:t.slice(e,n-e+1)}t=Me.resolve(t).substr(1),e=Me.resolve(e).substr(1);for(var i=n(t.split("/")),r=n(e.split("/")),o=Math.min(i.length,r.length),s=o,a=0;a<o;a++)if(i[a]!==r[a]){s=a;break}var l=[];for(a=s;a<i.length;a++)l.push("..");return(l=l.concat(r.slice(s))).join("/")}},De={ttys:[],init:function(){},shutdown:function(){},register:function(t,e){De.ttys[t]={input:[],output:[],ops:e},Be.registerDevice(t,De.stream_ops)},stream_ops:{open:function(t){var e=De.ttys[t.node.rdev];if(!e)throw new Be.ErrnoError(43);t.tty=e,t.seekable=!1},close:function(t){t.tty.ops.flush(t.tty)},flush:function(t){t.tty.ops.flush(t.tty)},read:function(t,e,n,i,r){if(!t.tty||!t.tty.ops.get_char)throw new Be.ErrnoError(60);for(var o=0,s=0;s<i;s++){var a;try{a=t.tty.ops.get_char(t.tty)}catch(l){throw new Be.ErrnoError(29)}if(void 0===a&&0===o)throw new Be.ErrnoError(6);if(null==a)break;o++,e[n+s]=a}return o&&(t.node.timestamp=Date.now()),o},write:function(t,e,n,i,r){if(!t.tty||!t.tty.ops.put_char)throw new Be.ErrnoError(60);try{for(var o=0;o<i;o++)t.tty.ops.put_char(t.tty,e[n+o])}catch(s){throw new Be.ErrnoError(29)}return i&&(t.node.timestamp=Date.now()),o}},default_tty_ops:{get_char:function(t){if(!t.input.length){var e=null;if(p){var n=Buffer.alloc?Buffer.alloc(256):new Buffer(256),i=0;try{i=y.readSync(process.stdin.fd,n,0,256,null)}catch(r){if(-1==r.toString().indexOf("EOF"))throw r;i=0}e=i>0?n.slice(0,i).toString("utf-8"):null}else"undefined"!=typeof window&&"function"==typeof window.prompt?null!==(e=window.prompt("Input: "))&&(e+="\n"):"function"==typeof readline&&null!==(e=readline())&&(e+="\n");if(!e)return null;t.input=cs(e,!0)}return t.input.shift()},put_char:function(t,e){null===e||10===e?(w(L(t.output,0)),t.output=[]):0!=e&&t.output.push(e)},flush:function(t){t.output&&t.output.length>0&&(w(L(t.output,0)),t.output=[])}},default_tty1_ops:{put_char:function(t,e){null===e||10===e?(C(L(t.output,0)),t.output=[]):0!=e&&t.output.push(e)},flush:function(t){t.output&&t.output.length>0&&(C(L(t.output,0)),t.output=[])}}},Re={ops_table:null,mount:function(t){return Re.createNode(null,"/",16895,0)},createNode:function(t,e,n,i){if(Be.isBlkdev(n)||Be.isFIFO(n))throw new Be.ErrnoError(63);Re.ops_table||(Re.ops_table={dir:{node:{getattr:Re.node_ops.getattr,setattr:Re.node_ops.setattr,lookup:Re.node_ops.lookup,mknod:Re.node_ops.mknod,rename:Re.node_ops.rename,unlink:Re.node_ops.unlink,rmdir:Re.node_ops.rmdir,readdir:Re.node_ops.readdir,symlink:Re.node_ops.symlink},stream:{llseek:Re.stream_ops.llseek}},file:{node:{getattr:Re.node_ops.getattr,setattr:Re.node_ops.setattr},stream:{llseek:Re.stream_ops.llseek,read:Re.stream_ops.read,write:Re.stream_ops.write,allocate:Re.stream_ops.allocate,mmap:Re.stream_ops.mmap,msync:Re.stream_ops.msync}},link:{node:{getattr:Re.node_ops.getattr,setattr:Re.node_ops.setattr,readlink:Re.node_ops.readlink},stream:{}},chrdev:{node:{getattr:Re.node_ops.getattr,setattr:Re.node_ops.setattr},stream:Be.chrdev_stream_ops}});var r=Be.createNode(t,e,n,i);return Be.isDir(r.mode)?(r.node_ops=Re.ops_table.dir.node,r.stream_ops=Re.ops_table.dir.stream,r.contents={}):Be.isFile(r.mode)?(r.node_ops=Re.ops_table.file.node,r.stream_ops=Re.ops_table.file.stream,r.usedBytes=0,r.contents=null):Be.isLink(r.mode)?(r.node_ops=Re.ops_table.link.node,r.stream_ops=Re.ops_table.link.stream):Be.isChrdev(r.mode)&&(r.node_ops=Re.ops_table.chrdev.node,r.stream_ops=Re.ops_table.chrdev.stream),r.timestamp=Date.now(),t&&(t.contents[e]=r),r},getFileDataAsRegularArray:function(t){if(t.contents&&t.contents.subarray){for(var e=[],n=0;n<t.usedBytes;++n)e.push(t.contents[n]);return e}return t.contents},getFileDataAsTypedArray:function(t){return t.contents?t.contents.subarray?t.contents.subarray(0,t.usedBytes):new Uint8Array(t.contents):new Uint8Array(0)},expandFileStorage:function(t,e){var n=t.contents?t.contents.length:0;if(!(n>=e)){e=Math.max(e,n*(n<1048576?2:1.125)>>>0),0!=n&&(e=Math.max(e,256));var i=t.contents;t.contents=new Uint8Array(e),t.usedBytes>0&&t.contents.set(i.subarray(0,t.usedBytes),0)}},resizeFileStorage:function(t,e){if(t.usedBytes!=e){if(0==e)return t.contents=null,void(t.usedBytes=0);if(!t.contents||t.contents.subarray){var n=t.contents;return t.contents=new Uint8Array(e),n&&t.contents.set(n.subarray(0,Math.min(e,t.usedBytes))),void(t.usedBytes=e)}if(t.contents||(t.contents=[]),t.contents.length>e)t.contents.length=e;else for(;t.contents.length<e;)t.contents.push(0);t.usedBytes=e}},node_ops:{getattr:function(t){var e={};return e.dev=Be.isChrdev(t.mode)?t.id:1,e.ino=t.id,e.mode=t.mode,e.nlink=1,e.uid=0,e.gid=0,e.rdev=t.rdev,e.size=Be.isDir(t.mode)?4096:Be.isFile(t.mode)?t.usedBytes:Be.isLink(t.mode)?t.link.length:0,e.atime=new Date(t.timestamp),e.mtime=new Date(t.timestamp),e.ctime=new Date(t.timestamp),e.blksize=4096,e.blocks=Math.ceil(e.size/e.blksize),e},setattr:function(t,e){void 0!==e.mode&&(t.mode=e.mode),void 0!==e.timestamp&&(t.timestamp=e.timestamp),void 0!==e.size&&Re.resizeFileStorage(t,e.size)},lookup:function(t,e){throw Be.genericErrors[44]},mknod:function(t,e,n,i){return Re.createNode(t,e,n,i)},rename:function(t,e,n){if(Be.isDir(t.mode)){var i;try{i=Be.lookupNode(e,n)}catch(o){}if(i)for(var r in i.contents)throw new Be.ErrnoError(55)}delete t.parent.contents[t.name],t.name=n,e.contents[n]=t,t.parent=e},unlink:function(t,e){delete t.contents[e]},rmdir:function(t,e){var n=Be.lookupNode(t,e);for(var i in n.contents)throw new Be.ErrnoError(55);delete t.contents[e]},readdir:function(t){var e=[".",".."];for(var n in t.contents)t.contents.hasOwnProperty(n)&&e.push(n);return e},symlink:function(t,e,n){var i=Re.createNode(t,e,41471,0);return i.link=n,i},readlink:function(t){if(!Be.isLink(t.mode))throw new Be.ErrnoError(28);return t.link}},stream_ops:{read:function(t,e,n,i,r){var o=t.node.contents;if(r>=t.node.usedBytes)return 0;var s=Math.min(t.node.usedBytes-r,i);if(R(s>=0),s>8&&o.subarray)e.set(o.subarray(r,r+s),n);else for(var a=0;a<s;a++)e[n+a]=o[r+a];return s},write:function(t,e,n,i,r,o){if(R(!(e instanceof ArrayBuffer)),e.buffer===Z.buffer&&(o=!1),!i)return 0;var s=t.node;if(s.timestamp=Date.now(),e.subarray&&(!s.contents||s.contents.subarray)){if(o)return R(0===r,"canOwn must imply no weird position inside the file"),s.contents=e.subarray(n,n+i),s.usedBytes=i,i;if(0===s.usedBytes&&0===r)return s.contents=e.slice(n,n+i),s.usedBytes=i,i;if(r+i<=s.usedBytes)return s.contents.set(e.subarray(n,n+i),r),i}if(Re.expandFileStorage(s,r+i),s.contents.subarray&&e.subarray)s.contents.set(e.subarray(n,n+i),r);else for(var a=0;a<i;a++)s.contents[r+a]=e[n+a];return s.usedBytes=Math.max(s.usedBytes,r+i),i},llseek:function(t,e,n){var i=e;if(1===n?i+=t.position:2===n&&Be.isFile(t.node.mode)&&(i+=t.node.usedBytes),i<0)throw new Be.ErrnoError(28);return i},allocate:function(t,e,n){Re.expandFileStorage(t.node,e+n),t.node.usedBytes=Math.max(t.node.usedBytes,e+n)},mmap:function(t,e,n,i,r,o){if(R(0===e),!Be.isFile(t.node.mode))throw new Be.ErrnoError(43);var s,a,l=t.node.contents;if(2&o||l.buffer!==Q){if((i>0||i+n<l.length)&&(l=l.subarray?l.subarray(i,i+n):Array.prototype.slice.call(l,i,i+n)),a=!0,!(s=Be.mmapAlloc(n)))throw new Be.ErrnoError(48);Z.set(l,s)}else a=!1,s=l.byteOffset;return{ptr:s,allocated:a}},msync:function(t,e,n,i,r){if(!Be.isFile(t.node.mode))throw new Be.ErrnoError(43);return 2&r||Re.stream_ops.write(t,e,0,i,n,!1),0}}},Fe={0:"Success",1:"Arg list too long",2:"Permission denied",3:"Address already in use",4:"Address not available",5:"Address family not supported by protocol family",6:"No more processes",7:"Socket already connected",8:"Bad file number",9:"Trying to read unreadable message",10:"Mount device busy",11:"Operation canceled",12:"No children",13:"Connection aborted",14:"Connection refused",15:"Connection reset by peer",16:"File locking deadlock error",17:"Destination address required",18:"Math arg out of domain of func",19:"Quota exceeded",20:"File exists",21:"Bad address",22:"File too large",23:"Host is unreachable",24:"Identifier removed",25:"Illegal byte sequence",26:"Connection already in progress",27:"Interrupted system call",28:"Invalid argument",29:"I/O error",30:"Socket is already connected",31:"Is a directory",32:"Too many symbolic links",33:"Too many open files",34:"Too many links",35:"Message too long",36:"Multihop attempted",37:"File or path name too long",38:"Network interface is not configured",39:"Connection reset by network",40:"Network is unreachable",41:"Too many open files in system",42:"No buffer space available",43:"No such device",44:"No such file or directory",45:"Exec format error",46:"No record locks available",47:"The link has been severed",48:"Not enough core",49:"No message of desired type",50:"Protocol not available",51:"No space left on device",52:"Function not implemented",53:"Socket is not connected",54:"Not a directory",55:"Directory not empty",56:"State not recoverable",57:"Socket operation on non-socket",59:"Not a typewriter",60:"No such device or address",61:"Value too large for defined data type",62:"Previous owner died",63:"Not super-user",64:"Broken pipe",65:"Protocol error",66:"Unknown protocol",67:"Protocol wrong type for socket",68:"Math result not representable",69:"Read only file system",70:"Illegal seek",71:"No such process",72:"Stale file handle",73:"Connection timed out",74:"Text file busy",75:"Cross-device link",100:"Device not a stream",101:"Bad font file fmt",102:"Invalid slot",103:"Invalid request code",104:"No anode",105:"Block device required",106:"Channel number out of range",107:"Level 3 halted",108:"Level 3 reset",109:"Link number out of range",110:"Protocol driver not attached",111:"No CSI structure available",112:"Level 2 halted",113:"Invalid exchange",114:"Invalid request descriptor",115:"Exchange full",116:"No data (for no delay io)",117:"Timer expired",118:"Out of streams resources",119:"Machine is not on the network",120:"Package not installed",121:"The object is remote",122:"Advertise error",123:"Srmount error",124:"Communication error on send",125:"Cross mount point (not really error)",126:"Given log. name not unique",127:"f.d. invalid for this operation",128:"Remote address changed",129:"Can   access a needed shared lib",130:"Accessing a corrupted shared lib",131:".lib section in a.out corrupted",132:"Attempting to link in too many libs",133:"Attempting to exec a shared library",135:"Streams pipe error",136:"Too many users",137:"Socket type not supported",138:"Not supported",139:"Protocol family not supported",140:"Can't send after socket shutdown",141:"Too many references",142:"Host is down",148:"No medium (in tape drive)",156:"Level 2 not synchronized"},Le={EPERM:63,ENOENT:44,ESRCH:71,EINTR:27,EIO:29,ENXIO:60,E2BIG:1,ENOEXEC:45,EBADF:8,ECHILD:12,EAGAIN:6,EWOULDBLOCK:6,ENOMEM:48,EACCES:2,EFAULT:21,ENOTBLK:105,EBUSY:10,EEXIST:20,EXDEV:75,ENODEV:43,ENOTDIR:54,EISDIR:31,EINVAL:28,ENFILE:41,EMFILE:33,ENOTTY:59,ETXTBSY:74,EFBIG:22,ENOSPC:51,ESPIPE:70,EROFS:69,EMLINK:34,EPIPE:64,EDOM:18,ERANGE:68,ENOMSG:49,EIDRM:24,ECHRNG:106,EL2NSYNC:156,EL3HLT:107,EL3RST:108,ELNRNG:109,EUNATCH:110,ENOCSI:111,EL2HLT:112,EDEADLK:16,ENOLCK:46,EBADE:113,EBADR:114,EXFULL:115,ENOANO:104,EBADRQC:103,EBADSLT:102,EDEADLOCK:16,EBFONT:101,ENOSTR:100,ENODATA:116,ETIME:117,ENOSR:118,ENONET:119,ENOPKG:120,EREMOTE:121,ENOLINK:47,EADV:122,ESRMNT:123,ECOMM:124,EPROTO:65,EMULTIHOP:36,EDOTDOT:125,EBADMSG:9,ENOTUNIQ:126,EBADFD:127,EREMCHG:128,ELIBACC:129,ELIBBAD:130,ELIBSCN:131,ELIBMAX:132,ELIBEXEC:133,ENOSYS:52,ENOTEMPTY:55,ENAMETOOLONG:37,ELOOP:32,EOPNOTSUPP:138,EPFNOSUPPORT:139,ECONNRESET:15,ENOBUFS:42,EAFNOSUPPORT:5,EPROTOTYPE:67,ENOTSOCK:57,ENOPROTOOPT:50,ESHUTDOWN:140,ECONNREFUSED:14,EADDRINUSE:3,ECONNABORTED:13,ENETUNREACH:40,ENETDOWN:38,ETIMEDOUT:73,EHOSTDOWN:142,EHOSTUNREACH:23,EINPROGRESS:26,EALREADY:7,EDESTADDRREQ:17,EMSGSIZE:35,EPROTONOSUPPORT:66,ESOCKTNOSUPPORT:137,EADDRNOTAVAIL:4,ENETRESET:39,EISCONN:30,ENOTCONN:53,ETOOMANYREFS:141,EUSERS:136,EDQUOT:19,ESTALE:72,ENOTSUP:138,ENOMEDIUM:148,EILSEQ:25,EOVERFLOW:61,ECANCELED:11,ENOTRECOVERABLE:56,EOWNERDEAD:62,ESTRPIPE:135},Be={root:null,mounts:[],devices:{},streams:[],nextInode:1,nameTable:null,currentPath:"/",initialized:!1,ignorePermissions:!0,trackingDelegate:{},tracking:{openFlags:{READ:1,WRITE:2}},ErrnoError:null,genericErrors:{},filesystems:null,syncFSRequests:0,handleFSError:function(t){if(!(t instanceof Be.ErrnoError))throw t+" : "+se();return Te(t.errno)},lookupPath:function(t,e){if(e=e||{},!(t=Me.resolve(Be.cwd(),t)))return{path:"",node:null};var n={follow_mount:!0,recurse_count:0};for(var i in n)void 0===e[i]&&(e[i]=n[i]);if(e.recurse_count>8)throw new Be.ErrnoError(32);for(var r=Ae.normalizeArray(t.split("/").filter((function(t){return!!t})),!1),o=Be.root,s="/",a=0;a<r.length;a++){var l=a===r.length-1;if(l&&e.parent)break;if(o=Be.lookupNode(o,r[a]),s=Ae.join2(s,r[a]),Be.isMountpoint(o)&&(!l||l&&e.follow_mount)&&(o=o.mounted.root),!l||e.follow)for(var c=0;Be.isLink(o.mode);){var u=Be.readlink(s);if(s=Me.resolve(Ae.dirname(s),u),o=Be.lookupPath(s,{recurse_count:e.recurse_count}).node,c++>40)throw new Be.ErrnoError(32)}}return{path:s,node:o}},getPath:function(t){for(var e;;){if(Be.isRoot(t)){var n=t.mount.mountpoint;return e?"/"!==n[n.length-1]?n+"/"+e:n+e:n}e=e?t.name+"/"+e:t.name,t=t.parent}},hashName:function(t,e){for(var n=0,i=0;i<e.length;i++)n=(n<<5)-n+e.charCodeAt(i)|0;return(t+n>>>0)%Be.nameTable.length},hashAddNode:function(t){var e=Be.hashName(t.parent.id,t.name);t.name_next=Be.nameTable[e],Be.nameTable[e]=t},hashRemoveNode:function(t){var e=Be.hashName(t.parent.id,t.name);if(Be.nameTable[e]===t)Be.nameTable[e]=t.name_next;else for(var n=Be.nameTable[e];n;){if(n.name_next===t){n.name_next=t.name_next;break}n=n.name_next}},lookupNode:function(t,e){var n=Be.mayLookup(t);if(n)throw new Be.ErrnoError(n,t);for(var i=Be.hashName(t.id,e),r=Be.nameTable[i];r;r=r.name_next)if(r.parent.id===t.id&&r.name===e)return r;return Be.lookup(t,e)},createNode:function(t,e,n,i){var r=new Be.FSNode(t,e,n,i);return Be.hashAddNode(r),r},destroyNode:function(t){Be.hashRemoveNode(t)},isRoot:function(t){return t===t.parent},isMountpoint:function(t){return!!t.mounted},isFile:function(t){return 32768==(61440&t)},isDir:function(t){return 16384==(61440&t)},isLink:function(t){return 40960==(61440&t)},isChrdev:function(t){return 8192==(61440&t)},isBlkdev:function(t){return 24576==(61440&t)},isFIFO:function(t){return 4096==(61440&t)},isSocket:function(t){return 49152==(49152&t)},flagModes:{r:0,rs:1052672,"r+":2,w:577,wx:705,xw:705,"w+":578,"wx+":706,"xw+":706,a:1089,ax:1217,xa:1217,"a+":1090,"ax+":1218,"xa+":1218},modeStringToFlags:function(t){var e=Be.flagModes[t];if(void 0===e)throw new Error("Unknown file open mode: "+t);return e},flagsToPermissionString:function(t){var e=["r","w","rw"][3&t];return 512&t&&(e+="w"),e},nodePermissions:function(t,e){return Be.ignorePermissions||(-1===e.indexOf("r")||292&t.mode)&&(-1===e.indexOf("w")||146&t.mode)&&(-1===e.indexOf("x")||73&t.mode)?0:2},mayLookup:function(t){return Be.nodePermissions(t,"x")||(t.node_ops.lookup?0:2)},mayCreate:function(t,e){try{return Be.lookupNode(t,e),20}catch(n){}return Be.nodePermissions(t,"wx")},mayDelete:function(t,e,n){var i;try{i=Be.lookupNode(t,e)}catch(o){return o.errno}var r=Be.nodePermissions(t,"wx");if(r)return r;if(n){if(!Be.isDir(i.mode))return 54;if(Be.isRoot(i)||Be.getPath(i)===Be.cwd())return 10}else if(Be.isDir(i.mode))return 31;return 0},mayOpen:function(t,e){return t?Be.isLink(t.mode)?32:Be.isDir(t.mode)&&("r"!==Be.flagsToPermissionString(e)||512&e)?31:Be.nodePermissions(t,Be.flagsToPermissionString(e)):44},MAX_OPEN_FDS:4096,nextfd:function(t,e){e=e||Be.MAX_OPEN_FDS;for(var n=t=t||0;n<=e;n++)if(!Be.streams[n])return n;throw new Be.ErrnoError(33)},getStream:function(t){return Be.streams[t]},createStream:function(t,e,n){Be.FSStream||(Be.FSStream=function(){},Be.FSStream.prototype={object:{get:function(){return this.node},set:function(t){this.node=t}},isRead:{get:function(){return 1!=(2097155&this.flags)}},isWrite:{get:function(){return 0!=(2097155&this.flags)}},isAppend:{get:function(){return 1024&this.flags}}});var i=new Be.FSStream;for(var r in t)i[r]=t[r];t=i;var o=Be.nextfd(e,n);return t.fd=o,Be.streams[o]=t,t},closeStream:function(t){Be.streams[t]=null},chrdev_stream_ops:{open:function(t){var e=Be.getDevice(t.node.rdev);t.stream_ops=e.stream_ops,t.stream_ops.open&&t.stream_ops.open(t)},llseek:function(){throw new Be.ErrnoError(70)}},major:function(t){return t>>8},minor:function(t){return 255&t},makedev:function(t,e){return t<<8|e},registerDevice:function(t,e){Be.devices[t]={stream_ops:e}},getDevice:function(t){return Be.devices[t]},getMounts:function(t){for(var e=[],n=[t];n.length;){var i=n.pop();e.push(i),n.push.apply(n,i.mounts)}return e},syncfs:function(t,e){"function"==typeof t&&(e=t,t=!1),Be.syncFSRequests++,Be.syncFSRequests>1&&C("warning: "+Be.syncFSRequests+" FS.syncfs operations in flight at once, probably just doing extra work");var n=Be.getMounts(Be.root.mount),i=0;function r(t){return R(Be.syncFSRequests>0),Be.syncFSRequests--,e(t)}function o(t){if(t)return o.errored?void 0:(o.errored=!0,r(t));++i>=n.length&&r(null)}n.forEach((function(e){if(!e.type.syncfs)return o(null);e.type.syncfs(e,t,o)}))},mount:function(t,e,n){if("string"==typeof t)throw t;var i,r="/"===n,o=!n;if(r&&Be.root)throw new Be.ErrnoError(10);if(!r&&!o){var s=Be.lookupPath(n,{follow_mount:!1});if(n=s.path,Be.isMountpoint(i=s.node))throw new Be.ErrnoError(10);if(!Be.isDir(i.mode))throw new Be.ErrnoError(54)}var a={type:t,opts:e,mountpoint:n,mounts:[]},l=t.mount(a);return l.mount=a,a.root=l,r?Be.root=l:i&&(i.mounted=a,i.mount&&i.mount.mounts.push(a)),l},unmount:function(t){var e=Be.lookupPath(t,{follow_mount:!1});if(!Be.isMountpoint(e.node))throw new Be.ErrnoError(28);var n=e.node,i=n.mounted,r=Be.getMounts(i);Object.keys(Be.nameTable).forEach((function(t){for(var e=Be.nameTable[t];e;){var n=e.name_next;-1!==r.indexOf(e.mount)&&Be.destroyNode(e),e=n}})),n.mounted=null;var o=n.mount.mounts.indexOf(i);R(-1!==o),n.mount.mounts.splice(o,1)},lookup:function(t,e){return t.node_ops.lookup(t,e)},mknod:function(t,e,n){var i=Be.lookupPath(t,{parent:!0}).node,r=Ae.basename(t);if(!r||"."===r||".."===r)throw new Be.ErrnoError(28);var o=Be.mayCreate(i,r);if(o)throw new Be.ErrnoError(o);if(!i.node_ops.mknod)throw new Be.ErrnoError(63);return i.node_ops.mknod(i,r,e,n)},create:function(t,e){return e=void 0!==e?e:438,e&=4095,Be.mknod(t,e|=32768,0)},mkdir:function(t,e){return e=void 0!==e?e:511,e&=1023,Be.mknod(t,e|=16384,0)},mkdirTree:function(t,e){for(var n=t.split("/"),i="",r=0;r<n.length;++r)if(n[r]){i+="/"+n[r];try{Be.mkdir(i,e)}catch(o){if(20!=o.errno)throw o}}},mkdev:function(t,e,n){return void 0===n&&(n=e,e=438),Be.mknod(t,e|=8192,n)},symlink:function(t,e){if(!Me.resolve(t))throw new Be.ErrnoError(44);var n=Be.lookupPath(e,{parent:!0}).node;if(!n)throw new Be.ErrnoError(44);var i=Ae.basename(e),r=Be.mayCreate(n,i);if(r)throw new Be.ErrnoError(r);if(!n.node_ops.symlink)throw new Be.ErrnoError(63);return n.node_ops.symlink(n,i,t)},rename:function(t,e){var n,i,r=Ae.dirname(t),o=Ae.dirname(e),s=Ae.basename(t),a=Ae.basename(e);if(n=Be.lookupPath(t,{parent:!0}).node,i=Be.lookupPath(e,{parent:!0}).node,!n||!i)throw new Be.ErrnoError(44);if(n.mount!==i.mount)throw new Be.ErrnoError(75);var l,c=Be.lookupNode(n,s),u=Me.relative(t,o);if("."!==u.charAt(0))throw new Be.ErrnoError(28);if("."!==(u=Me.relative(e,r)).charAt(0))throw new Be.ErrnoError(55);try{l=Be.lookupNode(i,a)}catch(p){}if(c!==l){var h=Be.isDir(c.mode),d=Be.mayDelete(n,s,h);if(d)throw new Be.ErrnoError(d);if(d=l?Be.mayDelete(i,a,h):Be.mayCreate(i,a))throw new Be.ErrnoError(d);if(!n.node_ops.rename)throw new Be.ErrnoError(63);if(Be.isMountpoint(c)||l&&Be.isMountpoint(l))throw new Be.ErrnoError(10);if(i!==n&&(d=Be.nodePermissions(n,"w")))throw new Be.ErrnoError(d);try{Be.trackingDelegate.willMovePath&&Be.trackingDelegate.willMovePath(t,e)}catch(p){C("FS.trackingDelegate['willMovePath']('"+t+"', '"+e+"') threw an exception: "+p.message)}Be.hashRemoveNode(c);try{n.node_ops.rename(c,i,a)}catch(p){throw p}finally{Be.hashAddNode(c)}try{Be.trackingDelegate.onMovePath&&Be.trackingDelegate.onMovePath(t,e)}catch(p){C("FS.trackingDelegate['onMovePath']('"+t+"', '"+e+"') threw an exception: "+p.message)}}},rmdir:function(t){var e=Be.lookupPath(t,{parent:!0}).node,n=Ae.basename(t),i=Be.lookupNode(e,n),r=Be.mayDelete(e,n,!0);if(r)throw new Be.ErrnoError(r);if(!e.node_ops.rmdir)throw new Be.ErrnoError(63);if(Be.isMountpoint(i))throw new Be.ErrnoError(10);try{Be.trackingDelegate.willDeletePath&&Be.trackingDelegate.willDeletePath(t)}catch(o){C("FS.trackingDelegate['willDeletePath']('"+t+"') threw an exception: "+o.message)}e.node_ops.rmdir(e,n),Be.destroyNode(i);try{Be.trackingDelegate.onDeletePath&&Be.trackingDelegate.onDeletePath(t)}catch(o){C("FS.trackingDelegate['onDeletePath']('"+t+"') threw an exception: "+o.message)}},readdir:function(t){var e=Be.lookupPath(t,{follow:!0}).node;if(!e.node_ops.readdir)throw new Be.ErrnoError(54);return e.node_ops.readdir(e)},unlink:function(t){var e=Be.lookupPath(t,{parent:!0}).node,n=Ae.basename(t),i=Be.lookupNode(e,n),r=Be.mayDelete(e,n,!1);if(r)throw new Be.ErrnoError(r);if(!e.node_ops.unlink)throw new Be.ErrnoError(63);if(Be.isMountpoint(i))throw new Be.ErrnoError(10);try{Be.trackingDelegate.willDeletePath&&Be.trackingDelegate.willDeletePath(t)}catch(o){C("FS.trackingDelegate['willDeletePath']('"+t+"') threw an exception: "+o.message)}e.node_ops.unlink(e,n),Be.destroyNode(i);try{Be.trackingDelegate.onDeletePath&&Be.trackingDelegate.onDeletePath(t)}catch(o){C("FS.trackingDelegate['onDeletePath']('"+t+"') threw an exception: "+o.message)}},readlink:function(t){var e=Be.lookupPath(t).node;if(!e)throw new Be.ErrnoError(44);if(!e.node_ops.readlink)throw new Be.ErrnoError(28);return Me.resolve(Be.getPath(e.parent),e.node_ops.readlink(e))},stat:function(t,e){var n=Be.lookupPath(t,{follow:!e}).node;if(!n)throw new Be.ErrnoError(44);if(!n.node_ops.getattr)throw new Be.ErrnoError(63);return n.node_ops.getattr(n)},lstat:function(t){return Be.stat(t,!0)},chmod:function(t,e,n){var i;if(!(i="string"==typeof t?Be.lookupPath(t,{follow:!n}).node:t).node_ops.setattr)throw new Be.ErrnoError(63);i.node_ops.setattr(i,{mode:4095&e|-4096&i.mode,timestamp:Date.now()})},lchmod:function(t,e){Be.chmod(t,e,!0)},fchmod:function(t,e){var n=Be.getStream(t);if(!n)throw new Be.ErrnoError(8);Be.chmod(n.node,e)},chown:function(t,e,n,i){var r;if(!(r="string"==typeof t?Be.lookupPath(t,{follow:!i}).node:t).node_ops.setattr)throw new Be.ErrnoError(63);r.node_ops.setattr(r,{timestamp:Date.now()})},lchown:function(t,e,n){Be.chown(t,e,n,!0)},fchown:function(t,e,n){var i=Be.getStream(t);if(!i)throw new Be.ErrnoError(8);Be.chown(i.node,e,n)},truncate:function(t,e){if(e<0)throw new Be.ErrnoError(28);var n;if(!(n="string"==typeof t?Be.lookupPath(t,{follow:!0}).node:t).node_ops.setattr)throw new Be.ErrnoError(63);if(Be.isDir(n.mode))throw new Be.ErrnoError(31);if(!Be.isFile(n.mode))throw new Be.ErrnoError(28);var i=Be.nodePermissions(n,"w");if(i)throw new Be.ErrnoError(i);n.node_ops.setattr(n,{size:e,timestamp:Date.now()})},ftruncate:function(t,e){var n=Be.getStream(t);if(!n)throw new Be.ErrnoError(8);if(0==(2097155&n.flags))throw new Be.ErrnoError(28);Be.truncate(n.node,e)},utime:function(t,e,n){var i=Be.lookupPath(t,{follow:!0}).node;i.node_ops.setattr(i,{timestamp:Math.max(e,n)})},open:function(t,e,n,i,r){if(""===t)throw new Be.ErrnoError(44);var s;if(n=void 0===n?438:n,n=64&(e="string"==typeof e?Be.modeStringToFlags(e):e)?4095&n|32768:0,"object"==typeof t)s=t;else{t=Ae.normalize(t);try{s=Be.lookupPath(t,{follow:!(131072&e)}).node}catch(h){}}var a=!1;if(64&e)if(s){if(128&e)throw new Be.ErrnoError(20)}else s=Be.mknod(t,n,0),a=!0;if(!s)throw new Be.ErrnoError(44);if(Be.isChrdev(s.mode)&&(e&=-513),65536&e&&!Be.isDir(s.mode))throw new Be.ErrnoError(54);if(!a){var l=Be.mayOpen(s,e);if(l)throw new Be.ErrnoError(l)}512&e&&Be.truncate(s,0),e&=-131713;var c=Be.createStream({node:s,path:Be.getPath(s),flags:e,seekable:!0,position:0,stream_ops:s.stream_ops,ungotten:[],error:!1},i,r);c.stream_ops.open&&c.stream_ops.open(c),!o.logReadFiles||1&e||(Be.readFiles||(Be.readFiles={}),t in Be.readFiles||(Be.readFiles[t]=1,C("FS.trackingDelegate error on read file: "+t)));try{if(Be.trackingDelegate.onOpenFile){var u=0;1!=(2097155&e)&&(u|=Be.tracking.openFlags.READ),0!=(2097155&e)&&(u|=Be.tracking.openFlags.WRITE),Be.trackingDelegate.onOpenFile(t,u)}}catch(h){C("FS.trackingDelegate['onOpenFile']('"+t+"', flags) threw an exception: "+h.message)}return c},close:function(t){if(Be.isClosed(t))throw new Be.ErrnoError(8);t.getdents&&(t.getdents=null);try{t.stream_ops.close&&t.stream_ops.close(t)}catch(e){throw e}finally{Be.closeStream(t.fd)}t.fd=null},isClosed:function(t){return null===t.fd},llseek:function(t,e,n){if(Be.isClosed(t))throw new Be.ErrnoError(8);if(!t.seekable||!t.stream_ops.llseek)throw new Be.ErrnoError(70);if(0!=n&&1!=n&&2!=n)throw new Be.ErrnoError(28);return t.position=t.stream_ops.llseek(t,e,n),t.ungotten=[],t.position},read:function(t,e,n,i,r){if(i<0||r<0)throw new Be.ErrnoError(28);if(Be.isClosed(t))throw new Be.ErrnoError(8);if(1==(2097155&t.flags))throw new Be.ErrnoError(8);if(Be.isDir(t.node.mode))throw new Be.ErrnoError(31);if(!t.stream_ops.read)throw new Be.ErrnoError(28);var o=void 0!==r;if(o){if(!t.seekable)throw new Be.ErrnoError(70)}else r=t.position;var s=t.stream_ops.read(t,e,n,i,r);return o||(t.position+=s),s},write:function(t,e,n,i,r,o){if(i<0||r<0)throw new Be.ErrnoError(28);if(Be.isClosed(t))throw new Be.ErrnoError(8);if(0==(2097155&t.flags))throw new Be.ErrnoError(8);if(Be.isDir(t.node.mode))throw new Be.ErrnoError(31);if(!t.stream_ops.write)throw new Be.ErrnoError(28);t.seekable&&1024&t.flags&&Be.llseek(t,0,2);var s=void 0!==r;if(s){if(!t.seekable)throw new Be.ErrnoError(70)}else r=t.position;var a=t.stream_ops.write(t,e,n,i,r,o);s||(t.position+=a);try{t.path&&Be.trackingDelegate.onWriteToFile&&Be.trackingDelegate.onWriteToFile(t.path)}catch(l){C("FS.trackingDelegate['onWriteToFile']('"+t.path+"') threw an exception: "+l.message)}return a},allocate:function(t,e,n){if(Be.isClosed(t))throw new Be.ErrnoError(8);if(e<0||n<=0)throw new Be.ErrnoError(28);if(0==(2097155&t.flags))throw new Be.ErrnoError(8);if(!Be.isFile(t.node.mode)&&!Be.isDir(t.node.mode))throw new Be.ErrnoError(43);if(!t.stream_ops.allocate)throw new Be.ErrnoError(138);t.stream_ops.allocate(t,e,n)},mmap:function(t,e,n,i,r,o){if(0!=(2&r)&&0==(2&o)&&2!=(2097155&t.flags))throw new Be.ErrnoError(2);if(1==(2097155&t.flags))throw new Be.ErrnoError(2);if(!t.stream_ops.mmap)throw new Be.ErrnoError(43);return t.stream_ops.mmap(t,e,n,i,r,o)},msync:function(t,e,n,i,r){return t&&t.stream_ops.msync?t.stream_ops.msync(t,e,n,i,r):0},munmap:function(t){return 0},ioctl:function(t,e,n){if(!t.stream_ops.ioctl)throw new Be.ErrnoError(59);return t.stream_ops.ioctl(t,e,n)},readFile:function(t,e){if((e=e||{}).flags=e.flags||"r",e.encoding=e.encoding||"binary","utf8"!==e.encoding&&"binary"!==e.encoding)throw new Error('Invalid encoding type "'+e.encoding+'"');var n,i=Be.open(t,e.flags),r=Be.stat(t).size,o=new Uint8Array(r);return Be.read(i,o,0,r,0),"utf8"===e.encoding?n=L(o,0):"binary"===e.encoding&&(n=o),Be.close(i),n},writeFile:function(t,e,n){(n=n||{}).flags=n.flags||"w";var i=Be.open(t,n.flags,n.mode);if("string"==typeof e){var r=new Uint8Array(z(e)+1),o=N(e,r,0,r.length);Be.write(i,r,0,o,void 0,n.canOwn)}else{if(!ArrayBuffer.isView(e))throw new Error("Unsupported data type");Be.write(i,e,0,e.byteLength,void 0,n.canOwn)}Be.close(i)},cwd:function(){return Be.currentPath},chdir:function(t){var e=Be.lookupPath(t,{follow:!0});if(null===e.node)throw new Be.ErrnoError(44);if(!Be.isDir(e.node.mode))throw new Be.ErrnoError(54);var n=Be.nodePermissions(e.node,"x");if(n)throw new Be.ErrnoError(n);Be.currentPath=e.path},createDefaultDirectories:function(){Be.mkdir("/tmp"),Be.mkdir("/home"),Be.mkdir("/home/web_user")},createDefaultDevices:function(){var t;if(Be.mkdir("/dev"),Be.registerDevice(Be.makedev(1,3),{read:function(){return 0},write:function(t,e,n,i,r){return i}}),Be.mkdev("/dev/null",Be.makedev(1,3)),De.register(Be.makedev(5,0),De.default_tty_ops),De.register(Be.makedev(6,0),De.default_tty1_ops),Be.mkdev("/dev/tty",Be.makedev(5,0)),Be.mkdev("/dev/tty1",Be.makedev(6,0)),"object"==typeof crypto&&"function"==typeof crypto.getRandomValues){var e=new Uint8Array(1);t=function(){return crypto.getRandomValues(e),e[0]}}else if(p)try{var i=n("CZPu");t=function(){return i.randomBytes(1)[0]}}catch(r){}t||(t=function(){Ht("no cryptographic support found for random_device. consider polyfilling it if you want to use something insecure like Math.random(), e.g. put this in a --pre-js: var crypto = { getRandomValues: function(array) { for (var i = 0; i < array.length; i++) array[i] = (Math.random()*256)|0 } };")}),Be.createDevice("/dev","random",t),Be.createDevice("/dev","urandom",t),Be.mkdir("/dev/shm"),Be.mkdir("/dev/shm/tmp")},createSpecialDirectories:function(){Be.mkdir("/proc"),Be.mkdir("/proc/self"),Be.mkdir("/proc/self/fd"),Be.mount({mount:function(){var t=Be.createNode("/proc/self","fd",16895,73);return t.node_ops={lookup:function(t,e){var n=Be.getStream(+e);if(!n)throw new Be.ErrnoError(8);var i={parent:null,mount:{mountpoint:"fake"},node_ops:{readlink:function(){return n.path}}};return i.parent=i,i}},t}},{},"/proc/self/fd")},createStandardStreams:function(){o.stdin?Be.createDevice("/dev","stdin",o.stdin):Be.symlink("/dev/tty","/dev/stdin"),o.stdout?Be.createDevice("/dev","stdout",null,o.stdout):Be.symlink("/dev/tty","/dev/stdout"),o.stderr?Be.createDevice("/dev","stderr",null,o.stderr):Be.symlink("/dev/tty1","/dev/stderr");var t=Be.open("/dev/stdin","r"),e=Be.open("/dev/stdout","w"),n=Be.open("/dev/stderr","w");R(0===t.fd,"invalid handle for stdin ("+t.fd+")"),R(1===e.fd,"invalid handle for stdout ("+e.fd+")"),R(2===n.fd,"invalid handle for stderr ("+n.fd+")")},ensureErrnoError:function(){Be.ErrnoError||(Be.ErrnoError=function(t,e){this.node=e,this.setErrno=function(t){for(var e in this.errno=t,Le)if(Le[e]===t){this.code=e;break}},this.setErrno(t),this.message=Fe[t],this.stack&&(Object.defineProperty(this,"stack",{value:(new Error).stack,writable:!0}),this.stack=ne(this.stack))},Be.ErrnoError.prototype=new Error,Be.ErrnoError.prototype.constructor=Be.ErrnoError,[44].forEach((function(t){Be.genericErrors[t]=new Be.ErrnoError(t),Be.genericErrors[t].stack="<generic error, no stack>"})))},staticInit:function(){Be.ensureErrnoError(),Be.nameTable=new Array(4096),Be.mount(Re,{},"/"),Be.createDefaultDirectories(),Be.createDefaultDevices(),Be.createSpecialDirectories(),Be.filesystems={MEMFS:Re}},init:function(t,e,n){R(!Be.init.initialized,"FS.init was previously called. If you want to initialize later with custom parameters, remove any earlier calls (note that one is automatically added to the generated code)"),Be.init.initialized=!0,Be.ensureErrnoError(),o.stdin=t||o.stdin,o.stdout=e||o.stdout,o.stderr=n||o.stderr,Be.createStandardStreams()},quit:function(){Be.init.initialized=!1;var t=o._fflush;t&&t(0);for(var e=0;e<Be.streams.length;e++){var n=Be.streams[e];n&&Be.close(n)}},getMode:function(t,e){var n=0;return t&&(n|=365),e&&(n|=146),n},joinPath:function(t,e){var n=Ae.join.apply(null,t);return e&&"/"==n[0]&&(n=n.substr(1)),n},absolutePath:function(t,e){return Me.resolve(e,t)},standardizePath:function(t){return Ae.normalize(t)},findObject:function(t,e){var n=Be.analyzePath(t,e);return n.exists?n.object:(Te(n.error),null)},analyzePath:function(t,e){try{t=(i=Be.lookupPath(t,{follow:!e})).path}catch(r){}var n={isRoot:!1,exists:!1,error:0,name:null,path:null,object:null,parentExists:!1,parentPath:null,parentObject:null};try{var i=Be.lookupPath(t,{parent:!0});n.parentExists=!0,n.parentPath=i.path,n.parentObject=i.node,n.name=Ae.basename(t),i=Be.lookupPath(t,{follow:!e}),n.exists=!0,n.path=i.path,n.object=i.node,n.name=i.node.name,n.isRoot="/"===i.path}catch(r){n.error=r.errno}return n},createFolder:function(t,e,n,i){var r=Ae.join2("string"==typeof t?t:Be.getPath(t),e),o=Be.getMode(n,i);return Be.mkdir(r,o)},createPath:function(t,e,n,i){t="string"==typeof t?t:Be.getPath(t);for(var r=e.split("/").reverse();r.length;){var o=r.pop();if(o){var s=Ae.join2(t,o);try{Be.mkdir(s)}catch(a){}t=s}}return s},createFile:function(t,e,n,i,r){var o=Ae.join2("string"==typeof t?t:Be.getPath(t),e),s=Be.getMode(i,r);return Be.create(o,s)},createDataFile:function(t,e,n,i,r,o){var s=e?Ae.join2("string"==typeof t?t:Be.getPath(t),e):t,a=Be.getMode(i,r),l=Be.create(s,a);if(n){if("string"==typeof n){for(var c=new Array(n.length),u=0,h=n.length;u<h;++u)c[u]=n.charCodeAt(u);n=c}Be.chmod(l,146|a);var d=Be.open(l,"w");Be.write(d,n,0,n.length,0,o),Be.close(d),Be.chmod(l,a)}return l},createDevice:function(t,e,n,i){var r=Ae.join2("string"==typeof t?t:Be.getPath(t),e),o=Be.getMode(!!n,!!i);Be.createDevice.major||(Be.createDevice.major=64);var s=Be.makedev(Be.createDevice.major++,0);return Be.registerDevice(s,{open:function(t){t.seekable=!1},close:function(t){i&&i.buffer&&i.buffer.length&&i(10)},read:function(t,e,i,r,o){for(var s=0,a=0;a<r;a++){var l;try{l=n()}catch(c){throw new Be.ErrnoError(29)}if(void 0===l&&0===s)throw new Be.ErrnoError(6);if(null==l)break;s++,e[i+a]=l}return s&&(t.node.timestamp=Date.now()),s},write:function(t,e,n,r,o){for(var s=0;s<r;s++)try{i(e[n+s])}catch(a){throw new Be.ErrnoError(29)}return r&&(t.node.timestamp=Date.now()),s}}),Be.mkdev(r,o,s)},createLink:function(t,e,n,i,r){var o=Ae.join2("string"==typeof t?t:Be.getPath(t),e);return Be.symlink(n,o)},forceLoadFile:function(t){if(t.isDevice||t.isFolder||t.link||t.contents)return!0;var e=!0;if("undefined"!=typeof XMLHttpRequest)throw new Error("Lazy loading should have been performed (contents set) in createLazyFile, but it was not. Lazy loading only works in web workers. Use --embed-file or --preload-file in emcc on the main thread.");if(!m)throw new Error("Cannot load without read() or XMLHttpRequest.");try{t.contents=cs(m(t.url),!0),t.usedBytes=t.contents.length}catch(n){e=!1}return e||Te(29),e},createLazyFile:function(t,e,n,i,r){function o(){this.lengthKnown=!1,this.chunks=[]}if(o.prototype.get=function(t){if(!(t>this.length-1||t<0)){var e=t%this.chunkSize;return this.getter(t/this.chunkSize|0)[e]}},o.prototype.setDataGetter=function(t){this.getter=t},o.prototype.cacheLength=function(){var t=new XMLHttpRequest;if(t.open("HEAD",n,!1),t.send(null),!(t.status>=200&&t.status<300||304===t.status))throw new Error("Couldn't load "+n+". Status: "+t.status);var e,i=Number(t.getResponseHeader("Content-length")),r=(e=t.getResponseHeader("Accept-Ranges"))&&"bytes"===e,o=(e=t.getResponseHeader("Content-Encoding"))&&"gzip"===e,s=1048576;r||(s=i);var a=this;a.setDataGetter((function(t){var e=t*s,r=(t+1)*s-1;if(r=Math.min(r,i-1),void 0===a.chunks[t]&&(a.chunks[t]=function(t,e){if(t>e)throw new Error("invalid range ("+t+", "+e+") or no bytes requested!");if(e>i-1)throw new Error("only "+i+" bytes available! programmer error!");var r=new XMLHttpRequest;if(r.open("GET",n,!1),i!==s&&r.setRequestHeader("Range","bytes="+t+"-"+e),"undefined"!=typeof Uint8Array&&(r.responseType="arraybuffer"),r.overrideMimeType&&r.overrideMimeType("text/plain; charset=x-user-defined"),r.send(null),!(r.status>=200&&r.status<300||304===r.status))throw new Error("Couldn't load "+n+". Status: "+r.status);return void 0!==r.response?new Uint8Array(r.response||[]):cs(r.responseText||"",!0)}(e,r)),void 0===a.chunks[t])throw new Error("doXHR failed!");return a.chunks[t]})),!o&&i||(s=i=1,i=this.getter(0).length,s=i,w("LazyFiles on gzip forces download of the whole file when length is accessed")),this._length=i,this._chunkSize=s,this.lengthKnown=!0},"undefined"!=typeof XMLHttpRequest){if(!d)throw"Cannot do synchronous binary XHRs outside webworkers in modern browsers. Use --embed-file or --preload-file in emcc";var s=new o;Object.defineProperties(s,{length:{get:function(){return this.lengthKnown||this.cacheLength(),this._length}},chunkSize:{get:function(){return this.lengthKnown||this.cacheLength(),this._chunkSize}}});var a={isDevice:!1,contents:s}}else a={isDevice:!1,url:n};var l=Be.createFile(t,e,a,i,r);a.contents?l.contents=a.contents:a.url&&(l.contents=null,l.url=a.url),Object.defineProperties(l,{usedBytes:{get:function(){return this.contents.length}}});var c={};return Object.keys(l.stream_ops).forEach((function(t){var e=l.stream_ops[t];c[t]=function(){if(!Be.forceLoadFile(l))throw new Be.ErrnoError(29);return e.apply(null,arguments)}})),c.read=function(t,e,n,i,r){if(!Be.forceLoadFile(l))throw new Be.ErrnoError(29);var o=t.node.contents;if(r>=o.length)return 0;var s=Math.min(o.length-r,i);if(R(s>=0),o.slice)for(var a=0;a<s;a++)e[n+a]=o[r+a];else for(a=0;a<s;a++)e[n+a]=o.get(r+a);return s},l.stream_ops=c,l},createPreloadedFile:function(t,e,n,i,r,s,a,l,c,u){Browser.init();var h=e?Me.resolve(Ae.join2(t,e)):t,d=Nt("cp "+h);function p(n){function p(n){u&&u(),l||Be.createDataFile(t,e,n,i,r,c),s&&s(),zt(d)}var f=!1;o.preloadPlugins.forEach((function(t){f||t.canHandle(h)&&(t.handle(n,h,p,(function(){a&&a(),zt(d)})),f=!0)})),f||p(n)}jt(d),"string"==typeof n?Browser.asyncLoad(n,(function(t){p(t)}),a):p(n)},indexedDB:function(){return window.indexedDB||window.mozIndexedDB||window.webkitIndexedDB||window.msIndexedDB},DB_NAME:function(){return"EM_FS_"+window.location.pathname},DB_VERSION:20,DB_STORE_NAME:"FILE_DATA",saveFilesToDB:function(t,e,n){e=e||function(){},n=n||function(){};var i=Be.indexedDB();try{var r=i.open(Be.DB_NAME(),Be.DB_VERSION)}catch(o){return n(o)}r.onupgradeneeded=function(){w("creating db"),r.result.createObjectStore(Be.DB_STORE_NAME)},r.onsuccess=function(){var i=r.result.transaction([Be.DB_STORE_NAME],"readwrite"),o=i.objectStore(Be.DB_STORE_NAME),s=0,a=0,l=t.length;function c(){0==a?e():n()}t.forEach((function(t){var e=o.put(Be.analyzePath(t).object.contents,t);e.onsuccess=function(){++s+a==l&&c()},e.onerror=function(){a++,s+a==l&&c()}})),i.onerror=n},r.onerror=n},loadFilesFromDB:function(t,e,n){e=e||function(){},n=n||function(){};var i=Be.indexedDB();try{var r=i.open(Be.DB_NAME(),Be.DB_VERSION)}catch(o){return n(o)}r.onupgradeneeded=n,r.onsuccess=function(){var i=r.result;try{var s=i.transaction([Be.DB_STORE_NAME],"readonly")}catch(o){return void n(o)}var a=s.objectStore(Be.DB_STORE_NAME),l=0,c=0,u=t.length;function h(){0==c?e():n()}t.forEach((function(t){var e=a.get(t);e.onsuccess=function(){Be.analyzePath(t).exists&&Be.unlink(t),Be.createDataFile(Ae.dirname(t),Ae.basename(t),e.result,!0,!0,!0),++l+c==u&&h()},e.onerror=function(){c++,l+c==u&&h()}})),s.onerror=n},r.onerror=n},mmapAlloc:function(t){for(var e=E(t,16384),n=fs(e);t<e;)Z[n+t++]=0;return n}},Ne={mappings:{},DEFAULT_POLLMASK:5,umask:511,calculateAt:function(t,e){if("/"!==e[0]){var n;if(-100===t)n=Be.cwd();else{var i=Be.getStream(t);if(!i)throw new Be.ErrnoError(8);n=i.path}e=Ae.join2(n,e)}return e},doStat:function(t,e,n){try{var i=t(e)}catch(r){if(r&&r.node&&Ae.normalize(e)!==Ae.normalize(Be.getPath(r.node)))return-54;throw r}return nt[n>>2]=i.dev,nt[n+4>>2]=0,nt[n+8>>2]=i.ino,nt[n+12>>2]=i.mode,nt[n+16>>2]=i.nlink,nt[n+20>>2]=i.uid,nt[n+24>>2]=i.gid,nt[n+28>>2]=i.rdev,nt[n+32>>2]=0,Kt=[i.size>>>0,(Xt=i.size,+It(Xt)>=1?Xt>0?(0|Dt(+Mt(Xt/4294967296),4294967295))>>>0:~~+At((Xt-+(~~Xt>>>0))/4294967296)>>>0:0)],nt[n+40>>2]=Kt[0],nt[n+44>>2]=Kt[1],nt[n+48>>2]=4096,nt[n+52>>2]=i.blocks,nt[n+56>>2]=i.atime.getTime()/1e3|0,nt[n+60>>2]=0,nt[n+64>>2]=i.mtime.getTime()/1e3|0,nt[n+68>>2]=0,nt[n+72>>2]=i.ctime.getTime()/1e3|0,nt[n+76>>2]=0,Kt=[i.ino>>>0,(Xt=i.ino,+It(Xt)>=1?Xt>0?(0|Dt(+Mt(Xt/4294967296),4294967295))>>>0:~~+At((Xt-+(~~Xt>>>0))/4294967296)>>>0:0)],nt[n+80>>2]=Kt[0],nt[n+84>>2]=Kt[1],0},doMsync:function(t,e,n,i,r){var o=J.slice(t,t+n);Be.msync(e,o,r,n,i)},doMkdir:function(t,e){return"/"===(t=Ae.normalize(t))[t.length-1]&&(t=t.substr(0,t.length-1)),Be.mkdir(t,e,0),0},doMknod:function(t,e,n){switch(61440&e){case 32768:case 8192:case 24576:case 4096:case 49152:break;default:return-28}return Be.mknod(t,e,n),0},doReadlink:function(t,e,n){if(n<=0)return-28;var i=Be.readlink(t),r=Math.min(n,z(i)),o=Z[e+r];return j(i,e,n+1),Z[e+r]=o,r},doAccess:function(t,e){if(-8&e)return-28;var n;if(!(n=Be.lookupPath(t,{follow:!0}).node))return-44;var i="";return 4&e&&(i+="r"),2&e&&(i+="w"),1&e&&(i+="x"),i&&Be.nodePermissions(n,i)?-2:0},doDup:function(t,e,n){var i=Be.getStream(n);return i&&Be.close(i),Be.open(t,e,0,n,n).fd},doReadv:function(t,e,n,i){for(var r=0,o=0;o<n;o++){var s=nt[e+(8*o+4)>>2],a=Be.read(t,Z,nt[e+8*o>>2],s,i);if(a<0)return-1;if(r+=a,a<s)break}return r},doWritev:function(t,e,n,i){for(var r=0,o=0;o<n;o++){var s=Be.write(t,Z,nt[e+8*o>>2],nt[e+(8*o+4)>>2],i);if(s<0)return-1;r+=s}return r},varargs:void 0,get:function(){return R(null!=Ne.varargs),Ne.varargs+=4,nt[Ne.varargs-4>>2]},getStr:function(t){return B(t)},getStreamFromFD:function(t){var e=Be.getStream(t);if(!e)throw new Be.ErrnoError(8);return e},get64:function(t,e){return R(t>=0?0===e:-1===e),t}};function je(t,e,n){Ne.varargs=n;try{var i=Ne.getStreamFromFD(t);switch(e){case 0:return(r=Ne.get())<0?-28:Be.open(i.path,i.flags,0,r).fd;case 1:case 2:return 0;case 3:return i.flags;case 4:var r=Ne.get();return i.flags|=r,0;case 12:return r=Ne.get(),tt[r+0>>1]=2,0;case 13:case 14:return 0;case 16:case 8:return-28;case 9:return Te(28),-1;default:return-28}}catch(o){return void 0!==Be&&o instanceof Be.ErrnoError||Ht(o),-o.errno}}function ze(t,e,n){Ne.varargs=n;try{var i=Ne.getStreamFromFD(t);switch(e){case 21509:case 21505:return i.tty?0:-59;case 21510:case 21511:case 21512:case 21506:case 21507:case 21508:return i.tty?0:-59;case 21519:if(!i.tty)return-59;var r=Ne.get();return nt[r>>2]=0,0;case 21520:return i.tty?-28:-59;case 21531:return r=Ne.get(),Be.ioctl(i,e,r);case 21523:case 21524:return i.tty?0:-59;default:Ht("bad ioctl syscall "+e)}}catch(o){return void 0!==Be&&o instanceof Be.ErrnoError||Ht(o),-o.errno}}function He(t,e){if(-1==(0|t)||0===e)return-28;var n=Ne.mappings[t];if(!n)return 0;if(e===n.len){var i=Be.getStream(n.fd);2&n.prot&&Ne.doMsync(t,i,e,n.flags,n.offset),Be.munmap(i),Ne.mappings[t]=null,n.allocated&&ps(n.malloc)}return 0}function Ve(t,e){try{return He(t,e)}catch(n){return void 0!==Be&&n instanceof Be.ErrnoError||Ht(n),-n.errno}}function Ue(t,e,n){Ne.varargs=n;try{var i=Ne.getStr(t),r=Ne.get();return Be.open(i,e,r).fd}catch(o){return void 0!==Be&&o instanceof Be.ErrnoError||Ht(o),-o.errno}}var We={};function $e(t){for(;t.length;){var e=t.pop();t.pop()(e)}}function Ge(t){return this.fromWireType(it[t>>2])}var qe={},Xe={},Ke={},Ye=48,Qe=57;function Ze(t){if(void 0===t)return"_unknown";var e=(t=t.replace(/[^a-zA-Z0-9_]/g,"$")).charCodeAt(0);return e>=Ye&&e<=Qe?"_"+t:t}function Je(t,e){return t=Ze(t),new Function("body","return function "+t+'() {\n    "use strict";    return body.apply(this, arguments);\n};\n')(e)}function tn(t,e){var n=Je(e,(function(t){this.name=e,this.message=t;var n=new Error(t).stack;void 0!==n&&(this.stack=this.toString()+"\n"+n.replace(/^Error(:[^\n]*)?\n/,""))}));return n.prototype=Object.create(t.prototype),n.prototype.constructor=n,n.prototype.toString=function(){return void 0===this.message?this.name:this.name+": "+this.message},n}var en=void 0;function nn(t){throw new en(t)}function rn(t,e,n){function i(e){var i=n(e);i.length!==t.length&&nn("Mismatched type converter count");for(var r=0;r<t.length;++r)dn(t[r],i[r])}t.forEach((function(t){Ke[t]=e}));var r=new Array(e.length),o=[],s=0;e.forEach((function(t,e){Xe.hasOwnProperty(t)?r[e]=Xe[t]:(o.push(t),qe.hasOwnProperty(t)||(qe[t]=[]),qe[t].push((function(){r[e]=Xe[t],++s===o.length&&i(r)})))})),0===o.length&&i(r)}function on(t){var e=We[t];delete We[t];var n=e.rawConstructor,i=e.rawDestructor,r=e.fields;rn([t],r.map((function(t){return t.getterReturnType})).concat(r.map((function(t){return t.setterArgumentType}))),(function(t){var o={};return r.forEach((function(e,n){var i=t[n],s=e.getter,a=e.getterContext,l=t[n+r.length],c=e.setter,u=e.setterContext;o[e.fieldName]={read:function(t){return i.fromWireType(s(a,t))},write:function(t,e){var n=[];c(u,t,l.toWireType(n,e)),$e(n)}}})),[{name:e.name,fromWireType:function(t){var e={};for(var n in o)e[n]=o[n].read(t);return i(t),e},toWireType:function(t,e){for(var r in o)if(!(r in e))throw new TypeError('Missing field:  "'+r+'"');var s=n();for(r in o)o[r].write(s,e[r]);return null!==t&&t.push(i,s),s},argPackAdvance:8,readValueFromPointer:Ge,destructorFunction:i}]}))}function sn(t){switch(t){case 1:return 0;case 2:return 1;case 4:return 2;case 8:return 3;default:throw new TypeError("Unknown type size: "+t)}}function an(){for(var t=new Array(256),e=0;e<256;++e)t[e]=String.fromCharCode(e);ln=t}var ln=void 0;function cn(t){for(var e="",n=t;J[n];)e+=ln[J[n++]];return e}var un=void 0;function hn(t){throw new un(t)}function dn(t,e,n){if(n=n||{},!("argPackAdvance"in e))throw new TypeError("registerType registeredInstance requires argPackAdvance");var i=e.name;if(t||hn('type "'+i+'" must have a positive integer typeid pointer'),Xe.hasOwnProperty(t)){if(n.ignoreDuplicateRegistrations)return;hn("Cannot register type '"+i+"' twice")}if(Xe[t]=e,delete Ke[t],qe.hasOwnProperty(t)){var r=qe[t];delete qe[t],r.forEach((function(t){t()}))}}function pn(t,e,n,i,r){var o=sn(n);dn(t,{name:e=cn(e),fromWireType:function(t){return!!t},toWireType:function(t,e){return e?i:r},argPackAdvance:8,readValueFromPointer:function(t){var i;if(1===n)i=Z;else if(2===n)i=tt;else{if(4!==n)throw new TypeError("Unknown boolean type size: "+e);i=nt}return this.fromWireType(i[t>>o])},destructorFunction:null})}function fn(t){if(!(this instanceof In))return!1;if(!(t instanceof In))return!1;for(var e=this.$$.ptrType.registeredClass,n=this.$$.ptr,i=t.$$.ptrType.registeredClass,r=t.$$.ptr;e.baseClass;)n=e.upcast(n),e=e.baseClass;for(;i.baseClass;)r=i.upcast(r),i=i.baseClass;return e===i&&n===r}function mn(t){return{count:t.count,deleteScheduled:t.deleteScheduled,preservePointerOnDelete:t.preservePointerOnDelete,ptr:t.ptr,ptrType:t.ptrType,smartPtr:t.smartPtr,smartPtrType:t.smartPtrType}}function gn(t){hn(t.$$.ptrType.registeredClass.name+" instance already deleted")}var yn=!1;function _n(t){}function vn(t){t.smartPtr?t.smartPtrType.rawDestructor(t.smartPtr):t.ptrType.registeredClass.rawDestructor(t.ptr)}function bn(t){t.count.value-=1,0===t.count.value&&vn(t)}function wn(t){return"undefined"==typeof FinalizationGroup?(wn=function(t){return t},t):(yn=new FinalizationGroup((function(t){for(var e=t.next();!e.done;e=t.next()){var n=e.value;n.ptr?bn(n):console.warn("object already deleted: "+n.ptr)}})),_n=function(t){yn.unregister(t.$$)},(wn=function(t){return yn.register(t,t.$$,t.$$),t})(t))}function Cn(){if(this.$$.ptr||gn(this),this.$$.preservePointerOnDelete)return this.$$.count.value+=1,this;var t=wn(Object.create(Object.getPrototypeOf(this),{$$:{value:mn(this.$$)}}));return t.$$.count.value+=1,t.$$.deleteScheduled=!1,t}function xn(){this.$$.ptr||gn(this),this.$$.deleteScheduled&&!this.$$.preservePointerOnDelete&&hn("Object already scheduled for deletion"),_n(this),bn(this.$$),this.$$.preservePointerOnDelete||(this.$$.smartPtr=void 0,this.$$.ptr=void 0)}function En(){return!this.$$.ptr}var Sn=void 0,Pn=[];function On(){for(;Pn.length;){var t=Pn.pop();t.$$.deleteScheduled=!1,t.delete()}}function kn(){return this.$$.ptr||gn(this),this.$$.deleteScheduled&&!this.$$.preservePointerOnDelete&&hn("Object already scheduled for deletion"),Pn.push(this),1===Pn.length&&Sn&&Sn(On),this.$$.deleteScheduled=!0,this}function Tn(){In.prototype.isAliasOf=fn,In.prototype.clone=Cn,In.prototype.delete=xn,In.prototype.isDeleted=En,In.prototype.deleteLater=kn}function In(){}var An={};function Mn(t,e,n){if(void 0===t[e].overloadTable){var i=t[e];t[e]=function(){return t[e].overloadTable.hasOwnProperty(arguments.length)||hn("Function '"+n+"' called with an invalid number of arguments ("+arguments.length+") - expects one of ("+t[e].overloadTable+")!"),t[e].overloadTable[arguments.length].apply(this,arguments)},t[e].overloadTable=[],t[e].overloadTable[i.argCount]=i}}function Dn(t,e,n){o.hasOwnProperty(t)?((void 0===n||void 0!==o[t].overloadTable&&void 0!==o[t].overloadTable[n])&&hn("Cannot register public name '"+t+"' twice"),Mn(o,t,t),o.hasOwnProperty(n)&&hn("Cannot register multiple overloads of a function with the same number of arguments ("+n+")!"),o[t].overloadTable[n]=e):(o[t]=e,void 0!==n&&(o[t].numArguments=n))}function Rn(t,e,n,i,r,o,s,a){this.name=t,this.constructor=e,this.instancePrototype=n,this.rawDestructor=i,this.baseClass=r,this.getActualType=o,this.upcast=s,this.downcast=a,this.pureVirtualFunctions=[]}function Fn(t,e,n){for(;e!==n;)e.upcast||hn("Expected null or instance of "+n.name+", got an instance of "+e.name),t=e.upcast(t),e=e.baseClass;return t}function Ln(t,e){return null===e?(this.isReference&&hn("null is not a valid "+this.name),0):(e.$$||hn('Cannot pass "'+Oi(e)+'" as a '+this.name),e.$$.ptr||hn("Cannot pass deleted object as a pointer of type "+this.name),Fn(e.$$.ptr,e.$$.ptrType.registeredClass,this.registeredClass))}function Bn(t,e){var n;if(null===e)return this.isReference&&hn("null is not a valid "+this.name),this.isSmartPointer?(n=this.rawConstructor(),null!==t&&t.push(this.rawDestructor,n),n):0;if(e.$$||hn('Cannot pass "'+Oi(e)+'" as a '+this.name),e.$$.ptr||hn("Cannot pass deleted object as a pointer of type "+this.name),!this.isConst&&e.$$.ptrType.isConst&&hn("Cannot convert argument of type "+(e.$$.smartPtrType?e.$$.smartPtrType.name:e.$$.ptrType.name)+" to parameter type "+this.name),n=Fn(e.$$.ptr,e.$$.ptrType.registeredClass,this.registeredClass),this.isSmartPointer)switch(void 0===e.$$.smartPtr&&hn("Passing raw pointer to smart pointer is illegal"),this.sharingPolicy){case 0:e.$$.smartPtrType===this?n=e.$$.smartPtr:hn("Cannot convert argument of type "+(e.$$.smartPtrType?e.$$.smartPtrType.name:e.$$.ptrType.name)+" to parameter type "+this.name);break;case 1:n=e.$$.smartPtr;break;case 2:if(e.$$.smartPtrType===this)n=e.$$.smartPtr;else{var i=e.clone();n=this.rawShare(n,wi((function(){i.delete()}))),null!==t&&t.push(this.rawDestructor,n)}break;default:hn("Unsupporting sharing policy")}return n}function Nn(t,e){return null===e?(this.isReference&&hn("null is not a valid "+this.name),0):(e.$$||hn('Cannot pass "'+Oi(e)+'" as a '+this.name),e.$$.ptr||hn("Cannot pass deleted object as a pointer of type "+this.name),e.$$.ptrType.isConst&&hn("Cannot convert argument of type "+e.$$.ptrType.name+" to parameter type "+this.name),Fn(e.$$.ptr,e.$$.ptrType.registeredClass,this.registeredClass))}function jn(t){return this.rawGetPointee&&(t=this.rawGetPointee(t)),t}function zn(t){this.rawDestructor&&this.rawDestructor(t)}function Hn(t){null!==t&&t.delete()}function Vn(t,e,n){if(e===n)return t;if(void 0===n.baseClass)return null;var i=Vn(t,e,n.baseClass);return null===i?null:n.downcast(i)}function Un(){return Object.keys(qn).length}function Wn(){var t=[];for(var e in qn)qn.hasOwnProperty(e)&&t.push(qn[e]);return t}function $n(t){Sn=t,Pn.length&&Sn&&Sn(On)}function Gn(){o.getInheritedInstanceCount=Un,o.getLiveInheritedInstances=Wn,o.flushPendingDeletes=On,o.setDelayFunction=$n}var qn={};function Xn(t,e){for(void 0===e&&hn("ptr should not be undefined");t.baseClass;)e=t.upcast(e),t=t.baseClass;return e}function Kn(t,e){return e=Xn(t,e),qn[e]}function Yn(t,e){return e.ptrType&&e.ptr||nn("makeClassHandle requires ptr and ptrType"),!!e.smartPtrType!=!!e.smartPtr&&nn("Both smartPtrType and smartPtr must be specified"),e.count={value:1},wn(Object.create(t,{$$:{value:e}}))}function Qn(t){var e=this.getPointee(t);if(!e)return this.destructor(t),null;var n=Kn(this.registeredClass,e);if(void 0!==n){if(0===n.$$.count.value)return n.$$.ptr=e,n.$$.smartPtr=t,n.clone();var i=n.clone();return this.destructor(t),i}function r(){return Yn(this.registeredClass.instancePrototype,this.isSmartPointer?{ptrType:this.pointeeType,ptr:e,smartPtrType:this,smartPtr:t}:{ptrType:this,ptr:t})}var o,s=this.registeredClass.getActualType(e),a=An[s];if(!a)return r.call(this);var l=Vn(e,this.registeredClass,(o=this.isConst?a.constPointerType:a.pointerType).registeredClass);return null===l?r.call(this):Yn(o.registeredClass.instancePrototype,this.isSmartPointer?{ptrType:o,ptr:l,smartPtrType:this,smartPtr:t}:{ptrType:o,ptr:l})}function Zn(){Jn.prototype.getPointee=jn,Jn.prototype.destructor=zn,Jn.prototype.argPackAdvance=8,Jn.prototype.readValueFromPointer=Ge,Jn.prototype.deleteObject=Hn,Jn.prototype.fromWireType=Qn}function Jn(t,e,n,i,r,o,s,a,l,c,u){this.name=t,this.registeredClass=e,this.isReference=n,this.isConst=i,this.isSmartPointer=r,this.pointeeType=o,this.sharingPolicy=s,this.rawGetPointee=a,this.rawConstructor=l,this.rawShare=c,this.rawDestructor=u,r||void 0!==e.baseClass?this.toWireType=Bn:i?(this.toWireType=Ln,this.destructorFunction=null):(this.toWireType=Nn,this.destructorFunction=null)}function ti(t,e,n){o.hasOwnProperty(t)||nn("Replacing nonexistant public symbol"),void 0!==o[t].overloadTable&&void 0!==n?o[t].overloadTable[n]=e:(o[t]=e,o[t].argCount=n)}function ei(t,e){R(t.indexOf("j")>=0,"getDynCaller should only be called with i64 sigs");var n=[];return function(){n.length=arguments.length;for(var i=0;i<arguments.length;i++)n[i]=arguments[i];return re(t,e,n)}}function ni(t,e){var n=-1!=(t=cn(t)).indexOf("j")?ei(t,e):M.get(e);return"function"!=typeof n&&hn("unknown function pointer with signature "+t+": "+e),n}var ii=void 0;function ri(t){var e=ys(t),n=cn(e);return ps(e),n}function oi(t,e){var n=[],i={};throw e.forEach((function t(e){i[e]||Xe[e]||(Ke[e]?Ke[e].forEach(t):(n.push(e),i[e]=!0))})),new ii(t+": "+n.map(ri).join([", "]))}function si(t,e,n,i,r,o,s,a,l,c,u,h,d){u=cn(u),o=ni(r,o),a&&(a=ni(s,a)),c&&(c=ni(l,c)),d=ni(h,d);var p=Ze(u);Dn(p,(function(){oi("Cannot construct "+u+" due to unbound types",[i])})),rn([t,e,n],i?[i]:[],(function(e){var n,r;e=e[0],r=i?(n=e.registeredClass).instancePrototype:In.prototype;var s=Je(p,(function(){if(Object.getPrototypeOf(this)!==l)throw new un("Use 'new' to construct "+u);if(void 0===h.constructor_body)throw new un(u+" has no accessible constructor");var t=h.constructor_body[arguments.length];if(void 0===t)throw new un("Tried to invoke ctor of "+u+" with invalid number of parameters ("+arguments.length+") - expected ("+Object.keys(h.constructor_body).toString()+") parameters instead!");return t.apply(this,arguments)})),l=Object.create(r,{constructor:{value:s}});s.prototype=l;var h=new Rn(u,s,l,d,n,o,a,c),f=new Jn(u,h,!0,!1,!1),m=new Jn(u+"*",h,!1,!1,!1),g=new Jn(u+" const*",h,!1,!0,!1);return An[t]={pointerType:m,constPointerType:g},ti(p,s),[f,m,g]}))}function ai(t,e){if(!(t instanceof Function))throw new TypeError("new_ called with constructor type "+typeof t+" which is not a function");var n=Je(t.name||"unknownFunctionName",(function(){}));n.prototype=t.prototype;var i=new n,r=t.apply(i,e);return r instanceof Object?r:i}function li(t,e,n,i,r){var o=e.length;o<2&&hn("argTypes array size mismatch! Must at least get return value and 'this' types!");for(var s=null!==e[1]&&null!==n,a=!1,l=1;l<e.length;++l)if(null!==e[l]&&void 0===e[l].destructorFunction){a=!0;break}var c="void"!==e[0].name,u="",h="";for(l=0;l<o-2;++l)u+=(0!==l?", ":"")+"arg"+l,h+=(0!==l?", ":"")+"arg"+l+"Wired";var d="return function "+Ze(t)+"("+u+") {\nif (arguments.length !== "+(o-2)+") {\nthrowBindingError('function "+t+" called with ' + arguments.length + ' arguments, expected "+(o-2)+" args!');\n}\n";a&&(d+="var destructors = [];\n");var p=a?"destructors":"null",f=["throwBindingError","invoker","fn","runDestructors","retType","classParam"],m=[hn,i,r,$e,e[0],e[1]];for(s&&(d+="var thisWired = classParam.toWireType("+p+", this);\n"),l=0;l<o-2;++l)d+="var arg"+l+"Wired = argType"+l+".toWireType("+p+", arg"+l+"); // "+e[l+2].name+"\n",f.push("argType"+l),m.push(e[l+2]);if(s&&(h="thisWired"+(h.length>0?", ":"")+h),d+=(c?"var rv = ":"")+"invoker(fn"+(h.length>0?", ":"")+h+");\n",a)d+="runDestructors(destructors);\n";else for(l=s?1:2;l<e.length;++l){var g=1===l?"thisWired":"arg"+(l-2)+"Wired";null!==e[l].destructorFunction&&(d+=g+"_dtor("+g+"); // "+e[l].name+"\n",f.push(g+"_dtor"),m.push(e[l].destructorFunction))}return c&&(d+="var ret = retType.fromWireType(rv);\nreturn ret;\n"),f.push(d+="}\n"),ai(Function,f).apply(null,m)}function ci(t,e){for(var n=[],i=0;i<t;i++)n.push(nt[(e>>2)+i]);return n}function ui(t,e,n,i,r,o,s){var a=ci(n,i);e=cn(e),o=ni(r,o),rn([],[t],(function(t){var i=(t=t[0]).name+"."+e;function r(){oi("Cannot call "+i+" due to unbound types",a)}var l=t.registeredClass.constructor;return void 0===l[e]?(r.argCount=n-1,l[e]=r):(Mn(l,e,i),l[e].overloadTable[n-1]=r),rn([],a,(function(t){var r=[t[0],null].concat(t.slice(1)),a=li(i,r,null,o,s);return void 0===l[e].overloadTable?(a.argCount=n-1,l[e]=a):l[e].overloadTable[n-1]=a,[]})),[]}))}function hi(t,e,n,i,r,o){R(e>0);var s=ci(e,n);r=ni(i,r);var a=[o],l=[];rn([],[t],(function(t){var n="constructor "+(t=t[0]).name;if(void 0===t.registeredClass.constructor_body&&(t.registeredClass.constructor_body=[]),void 0!==t.registeredClass.constructor_body[e-1])throw new un("Cannot register multiple constructors with identical number of parameters ("+(e-1)+") for class '"+t.name+"'! Overload resolution is currently only performed using the parameter count, not actual type info!");return t.registeredClass.constructor_body[e-1]=function(){oi("Cannot construct "+t.name+" due to unbound types",s)},rn([],s,(function(i){return t.registeredClass.constructor_body[e-1]=function(){arguments.length!==e-1&&hn(n+" called with "+arguments.length+" arguments, expected "+(e-1)),l.length=0,a.length=e;for(var t=1;t<e;++t)a[t]=i[t].toWireType(l,arguments[t-1]);var o=r.apply(null,a);return $e(l),i[0].fromWireType(o)},[]})),[]}))}function di(t,e,n,i,r,o,s,a){var l=ci(n,i);e=cn(e),o=ni(r,o),rn([],[t],(function(t){var i=(t=t[0]).name+"."+e;function r(){oi("Cannot call "+i+" due to unbound types",l)}a&&t.registeredClass.pureVirtualFunctions.push(e);var c=t.registeredClass.instancePrototype,u=c[e];return void 0===u||void 0===u.overloadTable&&u.className!==t.name&&u.argCount===n-2?(r.argCount=n-2,r.className=t.name,c[e]=r):(Mn(c,e,i),c[e].overloadTable[n-2]=r),rn([],l,(function(r){var a=li(i,r,t,o,s);return void 0===c[e].overloadTable?(a.argCount=n-2,c[e]=a):c[e].overloadTable[n-2]=a,[]})),[]}))}function pi(t,e,n){return t instanceof Object||hn(n+' with invalid "this": '+t),t instanceof e.registeredClass.constructor||hn(n+' incompatible with "this" of type '+t.constructor.name),t.$$.ptr||hn("cannot call emscripten binding method "+n+" on deleted object"),Fn(t.$$.ptr,t.$$.ptrType.registeredClass,e.registeredClass)}function fi(t,e,n,i,r,o,s,a,l,c){e=cn(e),r=ni(i,r),rn([],[t],(function(t){var i=(t=t[0]).name+"."+e,u={get:function(){oi("Cannot access "+i+" due to unbound types",[n,s])},enumerable:!0,configurable:!0};return u.set=l?function(){oi("Cannot access "+i+" due to unbound types",[n,s])}:function(t){hn(i+" is a read-only property")},Object.defineProperty(t.registeredClass.instancePrototype,e,u),rn([],l?[n,s]:[n],(function(n){var s=n[0],u={get:function(){var e=pi(this,t,i+" getter");return s.fromWireType(r(o,e))},enumerable:!0};if(l){l=ni(a,l);var h=n[1];u.set=function(e){var n=pi(this,t,i+" setter"),r=[];l(c,n,h.toWireType(r,e)),$e(r)}}return Object.defineProperty(t.registeredClass.instancePrototype,e,u),[]})),[]}))}var mi=[],gi=[{},{value:void 0},{value:null},{value:!0},{value:!1}];function yi(t){t>4&&0==--gi[t].refcount&&(gi[t]=void 0,mi.push(t))}function _i(){for(var t=0,e=5;e<gi.length;++e)void 0!==gi[e]&&++t;return t}function vi(){for(var t=5;t<gi.length;++t)if(void 0!==gi[t])return gi[t];return null}function bi(){o.count_emval_handles=_i,o.get_first_emval=vi}function wi(t){switch(t){case void 0:return 1;case null:return 2;case!0:return 3;case!1:return 4;default:var e=mi.length?mi.pop():gi.length;return gi[e]={refcount:1,value:t},e}}function Ci(t,e){dn(t,{name:e=cn(e),fromWireType:function(t){var e=gi[t].value;return yi(t),e},toWireType:function(t,e){return wi(e)},argPackAdvance:8,readValueFromPointer:Ge,destructorFunction:null})}function xi(t,e,n){switch(e){case 0:return function(t){return this.fromWireType((n?Z:J)[t])};case 1:return function(t){return this.fromWireType((n?tt:et)[t>>1])};case 2:return function(t){return this.fromWireType((n?nt:it)[t>>2])};default:throw new TypeError("Unknown integer type: "+t)}}function Ei(t,e,n,i){var r=sn(n);function o(){}e=cn(e),o.values={},dn(t,{name:e,constructor:o,fromWireType:function(t){return this.constructor.values[t]},toWireType:function(t,e){return e.value},argPackAdvance:8,readValueFromPointer:xi(e,r,i),destructorFunction:null}),Dn(e,o)}function Si(t,e){var n=Xe[t];return void 0===n&&hn(e+" has unknown type "+ri(t)),n}function Pi(t,e,n){var i=Si(t,"enum");e=cn(e);var r=i.constructor,o=Object.create(i.constructor.prototype,{value:{value:n},constructor:{value:Je(i.name+"_"+e,(function(){}))}});r.values[n]=o,r[e]=o}function Oi(t){if(null===t)return"null";var e=typeof t;return"object"===e||"array"===e||"function"===e?t.toString():""+t}function ki(t,e){switch(e){case 2:return function(t){return this.fromWireType(rt[t>>2])};case 3:return function(t){return this.fromWireType(ot[t>>3])};default:throw new TypeError("Unknown float type: "+t)}}function Ti(t,e,n){var i=sn(n);dn(t,{name:e=cn(e),fromWireType:function(t){return t},toWireType:function(t,e){if("number"!=typeof e&&"boolean"!=typeof e)throw new TypeError('Cannot convert "'+Oi(e)+'" to '+this.name);return e},argPackAdvance:8,readValueFromPointer:ki(e,i),destructorFunction:null})}function Ii(t,e,n,i,r,o){var s=ci(e,n);t=cn(t),r=ni(i,r),Dn(t,(function(){oi("Cannot call "+t+" due to unbound types",s)}),e-1),rn([],s,(function(n){var i=[n[0],null].concat(n.slice(1));return ti(t,li(t,i,null,r,o),e-1),[]}))}function Ai(t,e,n){switch(e){case 0:return n?function(t){return Z[t]}:function(t){return J[t]};case 1:return n?function(t){return tt[t>>1]}:function(t){return et[t>>1]};case 2:return n?function(t){return nt[t>>2]}:function(t){return it[t>>2]};default:throw new TypeError("Unknown integer type: "+t)}}function Mi(t,e,n,i,r){e=cn(e),-1===r&&(r=4294967295);var o=sn(n),s=function(t){return t};if(0===i){var a=32-8*n;s=function(t){return t<<a>>>a}}var l=-1!=e.indexOf("unsigned");dn(t,{name:e,fromWireType:s,toWireType:function(t,n){if("number"!=typeof n&&"boolean"!=typeof n)throw new TypeError('Cannot convert "'+Oi(n)+'" to '+this.name);if(n<i||n>r)throw new TypeError('Passing a number "'+Oi(n)+'" from JS side to C/C++ side to an argument of type "'+e+'", which is outside the valid range ['+i+", "+r+"]!");return l?n>>>0:0|n},argPackAdvance:8,readValueFromPointer:Ai(e,o,0!==i),destructorFunction:null})}function Di(t,e,n){var i=[Int8Array,Uint8Array,Int16Array,Uint16Array,Int32Array,Uint32Array,Float32Array,Float64Array][e];function r(t){return new i(Q,it[1+(t>>=2)],it[t])}dn(t,{name:n=cn(n),fromWireType:r,argPackAdvance:8,readValueFromPointer:r},{ignoreDuplicateRegistrations:!0})}function Ri(t,e,n,i,r,o,s,a,l,c,u,h){n=cn(n),o=ni(r,o),a=ni(s,a),c=ni(l,c),h=ni(u,h),rn([t],[e],(function(t){return[new Jn(n,(t=t[0]).registeredClass,!1,!1,!0,t,i,o,a,c,h)]}))}function Fi(t,e){var n="std::string"===(e=cn(e));dn(t,{name:e,fromWireType:function(t){var e,i=it[t>>2];if(n)for(var r=t+4,o=0;o<=i;++o){var s=t+4+o;if(o==i||0==J[s]){var a=B(r,s-r);void 0===e?e=a:(e+=String.fromCharCode(0),e+=a),r=s+1}}else{var l=new Array(i);for(o=0;o<i;++o)l[o]=String.fromCharCode(J[t+4+o]);e=l.join("")}return ps(t),e},toWireType:function(t,e){e instanceof ArrayBuffer&&(e=new Uint8Array(e));var i="string"==typeof e;i||e instanceof Uint8Array||e instanceof Uint8ClampedArray||e instanceof Int8Array||hn("Cannot pass non-string to std::string");var r=(n&&i?function(){return z(e)}:function(){return e.length})(),o=fs(4+r+1);if(it[o>>2]=r,n&&i)j(e,o+4,r+1);else if(i)for(var s=0;s<r;++s){var a=e.charCodeAt(s);a>255&&(ps(o),hn("String has UTF-16 code units that do not fit in 8 bits")),J[o+4+s]=a}else for(s=0;s<r;++s)J[o+4+s]=e[s];return null!==t&&t.push(ps,o),o},argPackAdvance:8,readValueFromPointer:Ge,destructorFunction:function(t){ps(t)}})}function Li(t,e,n){var i,r,o,s,a;n=cn(n),2===e?(i=V,r=U,s=W,o=function(){return et},a=1):4===e&&(i=$,r=G,s=q,o=function(){return it},a=2),dn(t,{name:n,fromWireType:function(t){for(var n,r=it[t>>2],s=o(),l=t+4,c=0;c<=r;++c){var u=t+4+c*e;if(c==r||0==s[u>>a]){var h=i(l,u-l);void 0===n?n=h:(n+=String.fromCharCode(0),n+=h),l=u+e}}return ps(t),n},toWireType:function(t,i){"string"!=typeof i&&hn("Cannot pass non-string to C++ string type "+n);var o=s(i),l=fs(4+o+e);return it[l>>2]=o>>a,r(i,l+4,o+e),null!==t&&t.push(ps,l),l},argPackAdvance:8,readValueFromPointer:Ge,destructorFunction:function(t){ps(t)}})}function Bi(t,e,n,i,r,o){We[t]={name:cn(e),rawConstructor:ni(n,i),rawDestructor:ni(r,o),fields:[]}}function Ni(t,e,n,i,r,o,s,a,l,c){We[t].fields.push({fieldName:cn(e),getterReturnType:n,getter:ni(i,r),getterContext:o,setterArgumentType:s,setter:ni(a,l),setterContext:c})}function ji(t,e){dn(t,{isVoid:!0,name:e=cn(e),argPackAdvance:0,fromWireType:function(){},toWireType:function(t,e){}})}function zi(t){return t||hn("Cannot use deleted val. handle = "+t),gi[t].value}function Hi(t,e,n){t=zi(t),e=Si(e,"emval::as");var i=[],r=wi(i);return nt[n>>2]=r,e.toWireType(i,t)}function Vi(t,e){for(var n=new Array(t),i=0;i<t;++i)n[i]=Si(nt[(e>>2)+i],"parameter "+i);return n}function Ui(t,e,n,i){t=zi(t);for(var r=Vi(e,n),o=new Array(e),s=0;s<e;++s){var a=r[s];o[s]=a.readValueFromPointer(i),i+=a.argPackAdvance}return wi(t.apply(void 0,o))}var Wi={};function $i(t){var e=Wi[t];return void 0===e?cn(t):e}var Gi=[];function qi(t,e,n,i){(t=Gi[t])(e=zi(e),n=$i(n),null,i)}function Xi(t){var e=Gi.length;return Gi.push(t),e}function Ki(t,e){for(var n=Vi(t,e),i=n[0],r=i.name+"_$"+n.slice(1).map((function(t){return t.name})).join("_")+"$",o=["retType"],s=[i],a="",l=0;l<t-1;++l)a+=(0!==l?", ":"")+"arg"+l,o.push("argType"+l),s.push(n[1+l]);var c="return function "+Ze("methodCaller_"+r)+"(handle, name, destructors, args) {\n",u=0;for(l=0;l<t-1;++l)c+="    var arg"+l+" = argType"+l+".readValueFromPointer(args"+(u?"+"+u:"")+");\n",u+=n[l+1].argPackAdvance;for(c+="    var rv = handle[name]("+a+");\n",l=0;l<t-1;++l)n[l+1].deleteObject&&(c+="    argType"+l+".deleteObject(arg"+l+");\n");return i.isVoid||(c+="    return retType.toWireType(destructors, rv);\n"),o.push(c+="};\n"),Xi(ai(Function,o).apply(null,s))}function Yi(t,e){return wi((t=zi(t))[e=zi(e)])}function Qi(t){t>4&&(gi[t].refcount+=1)}function Zi(){return wi([])}function Ji(t){return wi($i(t))}function tr(t){$e(gi[t].value),yi(t)}function er(t,e,n){t=zi(t),e=zi(e),n=zi(n),t[e]=n}function nr(t,e){return wi((t=Si(t,"_emval_take_value")).readValueFromPointer(e))}function ir(){Ht()}function rr(t,e){throw ws(t,e||1),"longjmp"}function or(t,e){rr(t,e)}function sr(t,e,n){J.copyWithin(t,e,e+n)}function ar(){return J.length}function lr(t){try{return k.grow(t-Q.byteLength+65535>>>16),lt(k.buffer),1}catch(e){console.error("emscripten_realloc_buffer: Attempted to grow heap from "+Q.byteLength+" bytes to "+t+" bytes, but got error: "+e)}}function cr(t){t>>>=0;var e=ar();if(R(t>e),t>2147483648)return C("Cannot enlarge memory, asked to go up to "+t+" bytes, but the limit is 2147483648 bytes!"),!1;for(var n=1;n<=4;n*=2){var i=e*(1+.2/n);i=Math.min(i,t+100663296);var r=Math.min(2147483648,at(Math.max(16777216,t,i),65536));if(lr(r))return!0}return C("Failed to grow the heap from "+e+" bytes to "+r+" bytes, not enough memory!"),!1}var ur={inEventHandler:0,removeAllEventListeners:function(){for(var t=ur.eventHandlers.length-1;t>=0;--t)ur._removeHandler(t);ur.eventHandlers=[],ur.deferredCalls=[]},registerRemoveEventListeners:function(){ur.removeEventListenersRegistered||(vt.push(ur.removeAllEventListeners),ur.removeEventListenersRegistered=!0)},deferredCalls:[],deferCall:function(t,e,n){function i(t,e){if(t.length!=e.length)return!1;for(var n in t)if(t[n]!=e[n])return!1;return!0}for(var r in ur.deferredCalls){var o=ur.deferredCalls[r];if(o.targetFunction==t&&i(o.argsList,n))return}ur.deferredCalls.push({targetFunction:t,precedence:e,argsList:n}),ur.deferredCalls.sort((function(t,e){return t.precedence<e.precedence}))},removeDeferredCalls:function(t){for(var e=0;e<ur.deferredCalls.length;++e)ur.deferredCalls[e].targetFunction==t&&(ur.deferredCalls.splice(e,1),--e)},canPerformEventHandlerRequests:function(){return ur.inEventHandler&&ur.currentEventHandler.allowsDeferredCalls},runDeferredCalls:function(){if(ur.canPerformEventHandlerRequests())for(var t=0;t<ur.deferredCalls.length;++t){var e=ur.deferredCalls[t];ur.deferredCalls.splice(t,1),--t,e.targetFunction.apply(null,e.argsList)}},eventHandlers:[],removeAllHandlersOnTarget:function(t,e){for(var n=0;n<ur.eventHandlers.length;++n)ur.eventHandlers[n].target!=t||e&&e!=ur.eventHandlers[n].eventTypeString||ur._removeHandler(n--)},_removeHandler:function(t){var e=ur.eventHandlers[t];e.target.removeEventListener(e.eventTypeString,e.eventListenerFunc,e.useCapture),ur.eventHandlers.splice(t,1)},registerOrRemoveHandler:function(t){var e=function(e){++ur.inEventHandler,ur.currentEventHandler=t,ur.runDeferredCalls(),t.handlerFunc(e),ur.runDeferredCalls(),--ur.inEventHandler};if(t.callbackfunc)t.eventListenerFunc=e,t.target.addEventListener(t.eventTypeString,e,t.useCapture),ur.eventHandlers.push(t),ur.registerRemoveEventListeners();else for(var n=0;n<ur.eventHandlers.length;++n)ur.eventHandlers[n].target==t.target&&ur.eventHandlers[n].eventTypeString==t.eventTypeString&&ur._removeHandler(n--)},getNodeNameForTarget:function(t){return t?t==window?"#window":t==screen?"#screen":t&&t.nodeName?t.nodeName:"":""},fullscreenEnabled:function(){return document.fullscreenEnabled||document.webkitFullscreenEnabled}};function hr(t){return t>2?B(t):t}var dr=[0,"undefined"!=typeof document?document:0,"undefined"!=typeof window?window:0];function pr(t){return t=hr(t),dr[t]||("undefined"!=typeof document?document.querySelector(t):void 0)}function fr(t){return pr(t)}function mr(t,e,n){var i=fr(t);return i?(i.width=e,i.height=n,0):-4}function gr(t){var e=t.getExtension("ANGLE_instanced_arrays");if(e)return t.vertexAttribDivisor=function(t,n){e.vertexAttribDivisorANGLE(t,n)},t.drawArraysInstanced=function(t,n,i,r){e.drawArraysInstancedANGLE(t,n,i,r)},t.drawElementsInstanced=function(t,n,i,r,o){e.drawElementsInstancedANGLE(t,n,i,r,o)},1}function yr(t){var e=t.getExtension("OES_vertex_array_object");if(e)return t.createVertexArray=function(){return e.createVertexArrayOES()},t.deleteVertexArray=function(t){e.deleteVertexArrayOES(t)},t.bindVertexArray=function(t){e.bindVertexArrayOES(t)},t.isVertexArray=function(t){return e.isVertexArrayOES(t)},1}function _r(t){var e=t.getExtension("WEBGL_draw_buffers");if(e)return t.drawBuffers=function(t,n){e.drawBuffersWEBGL(t,n)},1}function vr(t){return!!(t.multiDrawWebgl=t.getExtension("WEBGL_multi_draw"))}var br={counter:1,buffers:[],programs:[],framebuffers:[],renderbuffers:[],textures:[],uniforms:[],shaders:[],vaos:[],contexts:[],offscreenCanvases:{},timerQueriesEXT:[],byteSizeByTypeRoot:5120,byteSizeByType:[1,1,2,2,4,4,4,2,3,4,8],programInfos:{},stringCache:{},unpackAlignment:4,recordError:function(t){br.lastError||(br.lastError=t)},getNewId:function(t){for(var e=br.counter++,n=t.length;n<e;n++)t[n]=null;return e},MAX_TEMP_BUFFER_SIZE:2097152,numTempVertexBuffersPerSize:64,log2ceilLookup:function(t){return 32-Math.clz32(t-1)},generateTempBuffers:function(t,e){var n=br.log2ceilLookup(br.MAX_TEMP_BUFFER_SIZE);e.tempVertexBufferCounters1=[],e.tempVertexBufferCounters2=[],e.tempVertexBufferCounters1.length=e.tempVertexBufferCounters2.length=n+1,e.tempVertexBuffers1=[],e.tempVertexBuffers2=[],e.tempVertexBuffers1.length=e.tempVertexBuffers2.length=n+1,e.tempIndexBuffers=[],e.tempIndexBuffers.length=n+1;for(var i=0;i<=n;++i){e.tempIndexBuffers[i]=null,e.tempVertexBufferCounters1[i]=e.tempVertexBufferCounters2[i]=0;var r=br.numTempVertexBuffersPerSize;e.tempVertexBuffers1[i]=[],e.tempVertexBuffers2[i]=[];var o=e.tempVertexBuffers1[i],s=e.tempVertexBuffers2[i];o.length=s.length=r;for(var a=0;a<r;++a)o[a]=s[a]=null}if(t){e.tempQuadIndexBuffer=is.createBuffer(),e.GLctx.bindBuffer(34963,e.tempQuadIndexBuffer);for(var l=br.MAX_TEMP_BUFFER_SIZE>>1,c=new Uint16Array(l),u=(i=0,0);c[i++]=u,!(i>=l||(c[i++]=u+1,i>=l)||(c[i++]=u+2,i>=l)||(c[i++]=u,i>=l)||(c[i++]=u+2,i>=l)||(c[i++]=u+3,i>=l));)u+=4;e.GLctx.bufferData(34963,c,35044),e.GLctx.bindBuffer(34963,null)}},getTempVertexBuffer:function(t){var e=br.log2ceilLookup(t),n=br.currentContext.tempVertexBuffers1[e],i=br.currentContext.tempVertexBufferCounters1[e];br.currentContext.tempVertexBufferCounters1[e]=br.currentContext.tempVertexBufferCounters1[e]+1&br.numTempVertexBuffersPerSize-1;var r=n[i];if(r)return r;var o=is.getParameter(34964);return n[i]=is.createBuffer(),is.bindBuffer(34962,n[i]),is.bufferData(34962,1<<e,35048),is.bindBuffer(34962,o),n[i]},getTempIndexBuffer:function(t){var e=br.log2ceilLookup(t),n=br.currentContext.tempIndexBuffers[e];if(n)return n;var i=is.getParameter(34965);return br.currentContext.tempIndexBuffers[e]=is.createBuffer(),is.bindBuffer(34963,br.currentContext.tempIndexBuffers[e]),is.bufferData(34963,1<<e,35048),is.bindBuffer(34963,i),br.currentContext.tempIndexBuffers[e]},newRenderingFrameStarted:function(){if(br.currentContext){var t=br.currentContext.tempVertexBuffers1;br.currentContext.tempVertexBuffers1=br.currentContext.tempVertexBuffers2,br.currentContext.tempVertexBuffers2=t,t=br.currentContext.tempVertexBufferCounters1,br.currentContext.tempVertexBufferCounters1=br.currentContext.tempVertexBufferCounters2,br.currentContext.tempVertexBufferCounters2=t;for(var e=br.log2ceilLookup(br.MAX_TEMP_BUFFER_SIZE),n=0;n<=e;++n)br.currentContext.tempVertexBufferCounters1[n]=0}},getSource:function(t,e,n,i){for(var r="",o=0;o<e;++o){var s=i?nt[i+4*o>>2]:-1;r+=B(nt[n+4*o>>2],s<0?void 0:s)}return r},calcBufLength:function(t,e,n,i){return n>0?i*n:t*br.byteSizeByType[e-br.byteSizeByTypeRoot]*i},usedTempBuffers:[],preDrawHandleClientVertexAttribBindings:function(t){br.resetBufferBinding=!1;for(var e=0;e<br.currentContext.maxVertexAttribs;++e){var n=br.currentContext.clientBuffers[e];if(n.clientside&&n.enabled){br.resetBufferBinding=!0;var i=br.calcBufLength(n.size,n.type,n.stride,t),r=br.getTempVertexBuffer(i);is.bindBuffer(34962,r),is.bufferSubData(34962,0,J.subarray(n.ptr,n.ptr+i)),n.vertexAttribPointerAdaptor.call(is,e,n.size,n.type,n.normalized,n.stride,0)}}},postDrawHandleClientVertexAttribBindings:function(){br.resetBufferBinding&&is.bindBuffer(34962,br.buffers[is.currentArrayBufferBinding])},createContext:function(t,e){var n=t.getContext("webgl",e);return n?br.registerContext(n,e):0},registerContext:function(t,e){var n=br.getNewId(br.contexts),i={handle:n,attributes:e,version:e.majorVersion,GLctx:t};t.canvas&&(t.canvas.GLctxObject=i),br.contexts[n]=i,(void 0===e.enableExtensionsByDefault||e.enableExtensionsByDefault)&&br.initExtensions(i),i.maxVertexAttribs=i.GLctx.getParameter(34921),i.clientBuffers=[];for(var r=0;r<i.maxVertexAttribs;r++)i.clientBuffers[r]={enabled:!1,clientside:!1,size:0,type:0,normalized:0,stride:0,ptr:0,vertexAttribPointerAdaptor:null};return br.generateTempBuffers(!1,i),n},makeContextCurrent:function(t){return br.currentContext=br.contexts[t],o.ctx=is=br.currentContext&&br.currentContext.GLctx,!(t&&!is)},getContext:function(t){return br.contexts[t]},deleteContext:function(t){br.currentContext===br.contexts[t]&&(br.currentContext=null),"object"==typeof ur&&ur.removeAllHandlersOnTarget(br.contexts[t].GLctx.canvas),br.contexts[t]&&br.contexts[t].GLctx.canvas&&(br.contexts[t].GLctx.canvas.GLctxObject=void 0),br.contexts[t]=null},initExtensions:function(t){if(t||(t=br.currentContext),!t.initExtensionsDone){t.initExtensionsDone=!0;var e=t.GLctx;gr(e),yr(e),_r(e),e.disjointTimerQueryExt=e.getExtension("EXT_disjoint_timer_query"),vr(e);var n=["OES_texture_float","OES_texture_half_float","OES_standard_derivatives","OES_vertex_array_object","WEBGL_compressed_texture_s3tc","WEBGL_depth_texture","OES_element_index_uint","EXT_texture_filter_anisotropic","EXT_frag_depth","WEBGL_draw_buffers","ANGLE_instanced_arrays","OES_texture_float_linear","OES_texture_half_float_linear","EXT_blend_minmax","EXT_shader_texture_lod","EXT_texture_norm16","WEBGL_compressed_texture_pvrtc","EXT_color_buffer_half_float","WEBGL_color_buffer_float","EXT_sRGB","WEBGL_compressed_texture_etc1","EXT_disjoint_timer_query","WEBGL_compressed_texture_etc","WEBGL_compressed_texture_astc","EXT_color_buffer_float","WEBGL_compressed_texture_s3tc_srgb","EXT_disjoint_timer_query_webgl2","WEBKIT_WEBGL_compressed_texture_pvrtc"];(e.getSupportedExtensions()||[]).forEach((function(t){-1!=n.indexOf(t)&&e.getExtension(t)}))}},populateUniformTable:function(t){for(var e=br.programs[t],n=br.programInfos[t]={uniforms:{},maxUniformLength:0,maxAttributeLength:-1,maxUniformBlockNameLength:-1},i=n.uniforms,r=is.getProgramParameter(e,35718),o=0;o<r;++o){var s=is.getActiveUniform(e,o),a=s.name;n.maxUniformLength=Math.max(n.maxUniformLength,a.length+1),"]"==a.slice(-1)&&(a=a.slice(0,a.lastIndexOf("[")));var l=is.getUniformLocation(e,a);if(l){var c=br.getNewId(br.uniforms);i[a]=[s.size,c],br.uniforms[c]=l;for(var u=1;u<s.size;++u)l=is.getUniformLocation(e,a+"["+u+"]"),c=br.getNewId(br.uniforms),br.uniforms[c]=l}}}},wr=["default","low-power","high-performance"];function Cr(t,e){R(e);var n={},i=e>>2;n.alpha=!!nt[i+0],n.depth=!!nt[i+1],n.stencil=!!nt[i+2],n.antialias=!!nt[i+3],n.premultipliedAlpha=!!nt[i+4],n.preserveDrawingBuffer=!!nt[i+5],n.powerPreference=wr[nt[i+6]],n.failIfMajorPerformanceCaveat=!!nt[i+7],n.majorVersion=nt[i+8],n.minorVersion=nt[i+9],n.enableExtensionsByDefault=nt[i+10],n.explicitSwapControl=nt[i+11],n.proxyContextToMainThread=nt[i+12],n.renderViaOffscreenBackBuffer=nt[i+13];var r=fr(t);return r?n.explicitSwapControl?0:br.createContext(r,n):0}function xr(t,e){return Cr(t,e)}function Er(){return br.currentContext?br.currentContext.handle:0}function Sr(){return Er()}function Pr(t){return br.makeContextCurrent(t)?0:-5}function Or(t){br.currentContext==t&&(br.currentContext=0),br.deleteContext(t)}function kr(t,e){if(!e)return-5;if(!(t=br.contexts[t]))return-3;var n=t.GLctx;if(!n)return-3;n=n.getContextAttributes(),nt[e>>2]=n.alpha,nt[e+4>>2]=n.depth,nt[e+8>>2]=n.stencil,nt[e+12>>2]=n.antialias,nt[e+16>>2]=n.premultipliedAlpha,nt[e+20>>2]=n.preserveDrawingBuffer;var i=n.powerPreference&&wr.indexOf(n.powerPreference);return nt[e+24>>2]=i,nt[e+28>>2]=n.failIfMajorPerformanceCaveat,nt[e+32>>2]=t.version,nt[e+36>>2]=0,nt[e+40>>2]=t.attributes.enableExtensionsByDefault,0}function Tr(t){R(t);for(var e=t>>2,n=0;n<14;++n)nt[e+n]=0;nt[e+0]=nt[e+1]=nt[e+3]=nt[e+4]=nt[e+8]=nt[e+10]=1}o._emscripten_webgl_get_current_context=Sr,o._emscripten_webgl_make_context_current=Pr;var Ir={};function Ar(){return c||"./this.program"}function Mr(){if(!Mr.strings){var t={USER:"web_user",LOGNAME:"web_user",PATH:"/",PWD:"/",HOME:"/home/web_user",LANG:("object"==typeof navigator&&navigator.languages&&navigator.languages[0]||"C").replace("-","_")+".UTF-8",_:Ar()};for(var e in Ir)t[e]=Ir[e];var n=[];for(var e in t)n.push(e+"="+t[e]);Mr.strings=n}return Mr.strings}function Dr(t,e){var n=0;return Mr().forEach((function(i,r){var o=e+n;nt[t+4*r>>2]=o,Y(i,o),n+=i.length+1})),0}function Rr(t,e){var n=Mr();nt[t>>2]=n.length;var i=0;return n.forEach((function(t){i+=t.length+1})),nt[e>>2]=i,0}function Fr(t){try{var e=Ne.getStreamFromFD(t);return Be.close(e),0}catch(n){return void 0!==Be&&n instanceof Be.ErrnoError||Ht(n),n.errno}}function Lr(t,e,n,i){try{var r=Ne.getStreamFromFD(t),o=Ne.doReadv(r,e,n);return nt[i>>2]=o,0}catch(s){return void 0!==Be&&s instanceof Be.ErrnoError||Ht(s),s.errno}}function Br(t,e,n,i,r){try{var o=Ne.getStreamFromFD(t),s=4294967296*n+(e>>>0);return s<=-9007199254740992||s>=9007199254740992?-61:(Be.llseek(o,s,i),Kt=[o.position>>>0,(Xt=o.position,+It(Xt)>=1?Xt>0?(0|Dt(+Mt(Xt/4294967296),4294967295))>>>0:~~+At((Xt-+(~~Xt>>>0))/4294967296)>>>0:0)],nt[r>>2]=Kt[0],nt[r+4>>2]=Kt[1],o.getdents&&0===s&&0===i&&(o.getdents=null),0)}catch(a){return void 0!==Be&&a instanceof Be.ErrnoError||Ht(a),a.errno}}function Nr(t,e,n,i){try{var r=Ne.getStreamFromFD(t),o=Ne.doWritev(r,e,n);return nt[i>>2]=o,0}catch(s){return void 0!==Be&&s instanceof Be.ErrnoError||Ht(s),s.errno}}function jr(){return 0|A()}function zr(t){is.activeTexture(t)}function Hr(t,e){is.attachShader(br.programs[t],br.shaders[e])}function Vr(t,e){34962==t?is.currentArrayBufferBinding=e:34963==t&&(is.currentElementArrayBufferBinding=e),is.bindBuffer(t,br.buffers[e])}function Ur(t,e){is.bindTexture(t,br.textures[e])}function Wr(t,e){is.blendFunc(t,e)}function $r(t,e,n,i){is.bufferData(t,n?J.subarray(n,n+e):e,i)}function Gr(t){is.clear(t)}function qr(t,e,n,i){is.clearColor(t,e,n,i)}function Xr(t){is.clearStencil(t)}function Kr(t,e,n,i){is.colorMask(!!t,!!e,!!n,!!i)}function Yr(t){is.compileShader(br.shaders[t])}function Qr(){var t=br.getNewId(br.programs),e=is.createProgram();return e.name=t,br.programs[t]=e,t}function Zr(t){var e=br.getNewId(br.shaders);return br.shaders[e]=is.createShader(t),e}function Jr(t,e){for(var n=0;n<t;n++){var i=nt[e+4*n>>2],r=br.buffers[i];r&&(is.deleteBuffer(r),r.name=0,br.buffers[i]=null,i==is.currentArrayBufferBinding&&(is.currentArrayBufferBinding=0),i==is.currentElementArrayBufferBinding&&(is.currentElementArrayBufferBinding=0))}}function to(t){if(t){var e=br.programs[t];e?(is.deleteProgram(e),e.name=0,br.programs[t]=null,br.programInfos[t]=null):br.recordError(1281)}}function eo(t){if(t){var e=br.shaders[t];e?(is.deleteShader(e),br.shaders[t]=null):br.recordError(1281)}}function no(t,e){for(var n=0;n<t;n++){var i=nt[e+4*n>>2],r=br.textures[i];r&&(is.deleteTexture(r),r.name=0,br.textures[i]=null)}}function io(t){is.disable(t)}function ro(t){br.currentContext.clientBuffers[t].enabled=!1,is.disableVertexAttribArray(t)}function oo(t,e,n){br.preDrawHandleClientVertexAttribBindings(e+n),is.drawArrays(t,e,n),br.postDrawHandleClientVertexAttribBindings()}function so(t,e,n,i){var r;if(!is.currentElementArrayBufferBinding){var o=br.calcBufLength(1,n,0,e);r=br.getTempIndexBuffer(o),is.bindBuffer(34963,r),is.bufferSubData(34963,0,J.subarray(i,i+o)),i=0}br.preDrawHandleClientVertexAttribBindings(e),is.drawElements(t,e,n,i),br.postDrawHandleClientVertexAttribBindings(e),is.currentElementArrayBufferBinding||is.bindBuffer(34963,null)}function ao(t){is.enable(t)}function lo(t){br.currentContext.clientBuffers[t].enabled=!0,is.enableVertexAttribArray(t)}function co(t,e,n,i){for(var r=0;r<t;r++){var o=is[n](),s=o&&br.getNewId(i);o?(o.name=s,i[s]=o):br.recordError(1282),nt[e+4*r>>2]=s}}function uo(t,e){co(t,e,"createBuffer",br.buffers)}function ho(t,e){co(t,e,"createTexture",br.textures)}function po(t,e){return is.getAttribLocation(br.programs[t],B(e))}function fo(){var t=is.getError()||br.lastError;return br.lastError=0,t}function mo(t){return it[t>>2]+4294967296*nt[t+4>>2]}function go(t){return it[t>>2]+4294967296*it[t+4>>2]}function yo(t,e){it[t>>2]=e,it[t+4>>2]=(e-it[t>>2])/4294967296;var n=e>=0?go(t):mo(t);n!=e&&S("writeI53ToI64() out of range: serialized JS Number "+e+" to Wasm heap as bytes lo=0x"+it[t>>2].toString(16)+", hi=0x"+it[t+4>>2].toString(16)+", which deserializes back to "+n+" instead!")}function _o(t,e,n){if(e){var i=void 0;switch(t){case 36346:i=1;break;case 36344:return void(0!=n&&1!=n&&br.recordError(1280));case 36345:i=0;break;case 34466:var r=is.getParameter(34467);i=r?r.length:0}if(void 0===i){var o=is.getParameter(t);switch(typeof o){case"number":i=o;break;case"boolean":i=o?1:0;break;case"string":return void br.recordError(1280);case"object":if(null===o)switch(t){case 34964:case 35725:case 34965:case 36006:case 36007:case 32873:case 34229:case 34068:i=0;break;default:return void br.recordError(1280)}else{if(o instanceof Float32Array||o instanceof Uint32Array||o instanceof Int32Array||o instanceof Array){for(var s=0;s<o.length;++s)switch(n){case 0:nt[e+4*s>>2]=o[s];break;case 2:rt[e+4*s>>2]=o[s];break;case 4:Z[e+s>>0]=o[s]?1:0}return}try{i=0|o.name}catch(a){return br.recordError(1280),void C("GL_INVALID_ENUM in glGet"+n+"v: Unknown object returned from WebGL getParameter("+t+")! (error: "+a+")")}}break;default:return br.recordError(1280),void C("GL_INVALID_ENUM in glGet"+n+"v: Native code calling glGet"+n+"v("+t+") and it returns "+o+" of type "+typeof o+"!")}}switch(n){case 1:yo(e,i);break;case 0:nt[e>>2]=i;break;case 2:rt[e>>2]=i;break;case 4:Z[e>>0]=i?1:0}}else br.recordError(1281)}function vo(t,e){_o(t,e,0)}function bo(t,e,n,i){var r=is.getProgramInfoLog(br.programs[t]);null===r&&(r="(unknown error)");var o=e>0&&i?j(r,i,e):0;n&&(nt[n>>2]=o)}function wo(t,e,n){if(n)if(t>=br.counter)br.recordError(1281);else{var i=br.programInfos[t];if(i)if(35716==e){var r=is.getProgramInfoLog(br.programs[t]);null===r&&(r="(unknown error)"),nt[n>>2]=r.length+1}else if(35719==e)nt[n>>2]=i.maxUniformLength;else if(35722==e){if(-1==i.maxAttributeLength){var o=is.getProgramParameter(t=br.programs[t],35721);i.maxAttributeLength=0;for(var s=0;s<o;++s){var a=is.getActiveAttrib(t,s);i.maxAttributeLength=Math.max(i.maxAttributeLength,a.name.length+1)}}nt[n>>2]=i.maxAttributeLength}else if(35381==e){if(-1==i.maxUniformBlockNameLength){var l=is.getProgramParameter(t=br.programs[t],35382);for(i.maxUniformBlockNameLength=0,s=0;s<l;++s){var c=is.getActiveUniformBlockName(t,s);i.maxUniformBlockNameLength=Math.max(i.maxUniformBlockNameLength,c.length+1)}}nt[n>>2]=i.maxUniformBlockNameLength}else nt[n>>2]=is.getProgramParameter(br.programs[t],e);else br.recordError(1282)}else br.recordError(1281)}function Co(t,e,n,i){var r=is.getShaderInfoLog(br.shaders[t]);null===r&&(r="(unknown error)");var o=e>0&&i?j(r,i,e):0;n&&(nt[n>>2]=o)}function xo(t,e,n){if(n)if(35716==e){var i=is.getShaderInfoLog(br.shaders[t]);null===i&&(i="(unknown error)"),nt[n>>2]=i?i.length+1:0}else if(35720==e){var r=is.getShaderSource(br.shaders[t]);nt[n>>2]=r?r.length+1:0}else nt[n>>2]=is.getShaderParameter(br.shaders[t],e);else br.recordError(1281)}function Eo(t){return parseInt(t)}function So(t,e){var n=0;if("]"==(e=B(e))[e.length-1]){var i=e.lastIndexOf("[");n="]"!=e[i+1]?Eo(e.slice(i+1)):0,e=e.slice(0,i)}var r=br.programInfos[t]&&br.programInfos[t].uniforms[e];return r&&n>=0&&n<r[0]?r[1]+n:-1}function Po(t){is.linkProgram(br.programs[t]),br.populateUniformTable(t)}function Oo(t,e,n,i){var r=br.getSource(t,e,n,i);is.shaderSource(br.shaders[t],r)}function ko(t,e,n){is.stencilFunc(t,e,n)}function To(t){is.stencilMask(t)}function Io(t,e,n){is.stencilOp(t,e,n)}function Ao(t,e,n,i){var r;return e*(t*n+(r=i)-1&-r)}function Mo(t){return{5:3,6:4,8:2,29502:3,29504:4}[t-6402]||1}function Do(t){return 1==(t-=5120)?J:4==t?nt:6==t?rt:5==t||28922==t?it:et}function Ro(t){return 31-Math.clz32(t.BYTES_PER_ELEMENT)}function Fo(t,e,n,i,r,o){var s=Do(t),a=Ro(s),l=1<<a,c=Ao(n,i,Mo(e)*l,br.unpackAlignment);return s.subarray(r>>a,r+c>>a)}function Lo(t,e,n,i,r,o,s,a,l){is.texImage2D(t,e,n,i,r,o,s,a,l?Fo(a,s,i,r,l):null)}function Bo(t,e,n){is.texParameterf(t,e,n)}function No(t,e,n,i,r,o,s,a,l){var c=null;l&&(c=Fo(a,s,r,o,l)),is.texSubImage2D(t,e,n,i,r,o,s,a,c)}function jo(t,e){is.uniform1f(br.uniforms[t],e)}function zo(t,e){is.uniform1i(br.uniforms[t],e)}function Ho(t,e,n,i,r){is.uniform4i(br.uniforms[t],e,n,i,r)}var Vo=[];function Uo(t,e,n,i){if(e<=18){var r=Vo[16*e-1],o=rt;i>>=2;for(var s=0;s<16*e;s+=16){var a=i+s;r[s]=o[a],r[s+1]=o[a+1],r[s+2]=o[a+2],r[s+3]=o[a+3],r[s+4]=o[a+4],r[s+5]=o[a+5],r[s+6]=o[a+6],r[s+7]=o[a+7],r[s+8]=o[a+8],r[s+9]=o[a+9],r[s+10]=o[a+10],r[s+11]=o[a+11],r[s+12]=o[a+12],r[s+13]=o[a+13],r[s+14]=o[a+14],r[s+15]=o[a+15]}}else r=rt.subarray(i>>2,i+64*e>>2);is.uniformMatrix4fv(br.uniforms[t],!!n,r)}function Wo(t){is.useProgram(br.programs[t])}function $o(t,e,n,i,r,o){var s=br.currentContext.clientBuffers[t];if(!is.currentArrayBufferBinding)return s.size=e,s.type=n,s.normalized=i,s.stride=r,s.ptr=o,s.clientside=!0,void(s.vertexAttribPointerAdaptor=function(t,e,n,i,r,o){this.vertexAttribPointer(t,e,n,i,r,o)});s.clientside=!1,is.vertexAttribPointer(t,e,n,!!i,r,o)}function Go(t,e,n,i){is.viewport(t,e,n,i)}function qo(t){return t}function Xo(t){I(0|t)}function Ko(t){return t%4==0&&(t%100!=0||t%400==0)}function Yo(t,e){for(var n=0,i=0;i<=e;n+=t[i++]);return n}var Qo=[31,29,31,30,31,30,31,31,30,31,30,31],Zo=[31,28,31,30,31,30,31,31,30,31,30,31];function Jo(t,e){for(var n=new Date(t.getTime());e>0;){var i=Ko(n.getFullYear()),r=n.getMonth(),o=(i?Qo:Zo)[r];if(!(e>o-n.getDate()))return n.setDate(n.getDate()+e),n;e-=o-n.getDate()+1,n.setDate(1),r<11?n.setMonth(r+1):(n.setMonth(0),n.setFullYear(n.getFullYear()+1))}return n}function ts(t,e,n,i){var r=nt[i+40>>2],o={tm_sec:nt[i>>2],tm_min:nt[i+4>>2],tm_hour:nt[i+8>>2],tm_mday:nt[i+12>>2],tm_mon:nt[i+16>>2],tm_year:nt[i+20>>2],tm_wday:nt[i+24>>2],tm_yday:nt[i+28>>2],tm_isdst:nt[i+32>>2],tm_gmtoff:nt[i+36>>2],tm_zone:r?B(r):""},s=B(n),a={"%c":"%a %b %d %H:%M:%S %Y","%D":"%m/%d/%y","%F":"%Y-%m-%d","%h":"%b","%r":"%I:%M:%S %p","%R":"%H:%M","%T":"%H:%M:%S","%x":"%m/%d/%y","%X":"%H:%M:%S","%Ec":"%c","%EC":"%C","%Ex":"%m/%d/%y","%EX":"%H:%M:%S","%Ey":"%y","%EY":"%Y","%Od":"%d","%Oe":"%e","%OH":"%H","%OI":"%I","%Om":"%m","%OM":"%M","%OS":"%S","%Ou":"%u","%OU":"%U","%OV":"%V","%Ow":"%w","%OW":"%W","%Oy":"%y"};for(var l in a)s=s.replace(new RegExp(l,"g"),a[l]);var c=["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],u=["January","February","March","April","May","June","July","August","September","October","November","December"];function h(t,e,n){for(var i="number"==typeof t?t.toString():t||"";i.length<e;)i=n[0]+i;return i}function d(t,e){return h(t,e,"0")}function p(t,e){function n(t){return t<0?-1:t>0?1:0}var i;return 0===(i=n(t.getFullYear()-e.getFullYear()))&&0===(i=n(t.getMonth()-e.getMonth()))&&(i=n(t.getDate()-e.getDate())),i}function f(t){switch(t.getDay()){case 0:return new Date(t.getFullYear()-1,11,29);case 1:return t;case 2:return new Date(t.getFullYear(),0,3);case 3:return new Date(t.getFullYear(),0,2);case 4:return new Date(t.getFullYear(),0,1);case 5:return new Date(t.getFullYear()-1,11,31);case 6:return new Date(t.getFullYear()-1,11,30)}}function m(t){var e=Jo(new Date(t.tm_year+1900,0,1),t.tm_yday),n=new Date(e.getFullYear(),0,4),i=new Date(e.getFullYear()+1,0,4),r=f(n),o=f(i);return p(r,e)<=0?p(o,e)<=0?e.getFullYear()+1:e.getFullYear():e.getFullYear()-1}var g={"%a":function(t){return c[t.tm_wday].substring(0,3)},"%A":function(t){return c[t.tm_wday]},"%b":function(t){return u[t.tm_mon].substring(0,3)},"%B":function(t){return u[t.tm_mon]},"%C":function(t){return d((t.tm_year+1900)/100|0,2)},"%d":function(t){return d(t.tm_mday,2)},"%e":function(t){return h(t.tm_mday,2," ")},"%g":function(t){return m(t).toString().substring(2)},"%G":function(t){return m(t)},"%H":function(t){return d(t.tm_hour,2)},"%I":function(t){var e=t.tm_hour;return 0==e?e=12:e>12&&(e-=12),d(e,2)},"%j":function(t){return d(t.tm_mday+Yo(Ko(t.tm_year+1900)?Qo:Zo,t.tm_mon-1),3)},"%m":function(t){return d(t.tm_mon+1,2)},"%M":function(t){return d(t.tm_min,2)},"%n":function(){return"\n"},"%p":function(t){return t.tm_hour>=0&&t.tm_hour<12?"AM":"PM"},"%S":function(t){return d(t.tm_sec,2)},"%t":function(){return"\t"},"%u":function(t){return t.tm_wday||7},"%U":function(t){var e=new Date(t.tm_year+1900,0,1),n=0===e.getDay()?e:Jo(e,7-e.getDay()),i=new Date(t.tm_year+1900,t.tm_mon,t.tm_mday);if(p(n,i)<0){var r=Yo(Ko(i.getFullYear())?Qo:Zo,i.getMonth()-1)-31,o=31-n.getDate()+r+i.getDate();return d(Math.ceil(o/7),2)}return 0===p(n,e)?"01":"00"},"%V":function(t){var e,n=new Date(t.tm_year+1900,0,4),i=new Date(t.tm_year+1901,0,4),r=f(n),o=f(i),s=Jo(new Date(t.tm_year+1900,0,1),t.tm_yday);return p(s,r)<0?"53":p(o,s)<=0?"01":(e=r.getFullYear()<t.tm_year+1900?t.tm_yday+32-r.getDate():t.tm_yday+1-r.getDate(),d(Math.ceil(e/7),2))},"%w":function(t){return t.tm_wday},"%W":function(t){var e=new Date(t.tm_year,0,1),n=1===e.getDay()?e:Jo(e,0===e.getDay()?1:7-e.getDay()+1),i=new Date(t.tm_year+1900,t.tm_mon,t.tm_mday);if(p(n,i)<0){var r=Yo(Ko(i.getFullYear())?Qo:Zo,i.getMonth()-1)-31,o=31-n.getDate()+r+i.getDate();return d(Math.ceil(o/7),2)}return 0===p(n,e)?"01":"00"},"%y":function(t){return(t.tm_year+1900).toString().substring(2)},"%Y":function(t){return t.tm_year+1900},"%z":function(t){var e=t.tm_gmtoff,n=e>=0;return e=(e=Math.abs(e)/60)/60*100+e%60,(n?"+":"-")+String("0000"+e).slice(-4)},"%Z":function(t){return t.tm_zone},"%%":function(){return"%"}};for(var l in g)s.indexOf(l)>=0&&(s=s.replace(new RegExp(l,"g"),g[l](o)));var y=cs(s,!1);return y.length>e?0:(K(y,t),y.length-1)}function es(t,e,n,i){return ts(t,e,n,i)}function ns(t){var e=Date.now()/1e3|0;return t&&(nt[t>>2]=e),e}var is,rs=function(t,e,n,i){t||(t=this),this.parent=t,this.mount=t.mount,this.mounted=null,this.id=Be.nextInode++,this.name=e,this.mode=n,this.node_ops={},this.stream_ops={},this.rdev=i},os=365,ss=146;Object.defineProperties(rs.prototype,{read:{get:function(){return(this.mode&os)===os},set:function(t){t?this.mode|=os:this.mode&=~os}},write:{get:function(){return(this.mode&ss)===ss},set:function(t){t?this.mode|=ss:this.mode&=~ss}},isFolder:{get:function(){return Be.isDir(this.mode)}},isDevice:{get:function(){return Be.isChrdev(this.mode)}}}),Be.FSNode=rs,Be.staticInit(),en=o.InternalError=tn(Error,"InternalError"),an(),un=o.BindingError=tn(Error,"BindingError"),Tn(),Zn(),Gn(),ii=o.UnboundTypeError=tn(Error,"UnboundTypeError"),bi();for(var as=new Float32Array(288),ls=0;ls<288;++ls)Vo[ls]=as.subarray(0,ls+1);function cs(t,e,n){var i=n>0?n:z(t)+1,r=new Array(i),o=N(t,r,0,r.length);return e&&(r.length=o),r}var us,hs={__cxa_allocate_exception:le,__cxa_atexit:ce,__cxa_begin_catch:fe,__cxa_end_catch:_e,__cxa_find_matching_catch_2:we,__cxa_find_matching_catch_3:Ce,__cxa_free_exception:ge,__cxa_rethrow:xe,__cxa_throw:Ee,__cxa_uncaught_exceptions:Se,__indirect_function_table:M,__localtime_r:ke,__map_file:Ie,__resumeException:ve,__sys_fcntl64:je,__sys_ioctl:ze,__sys_munmap:Ve,__sys_open:Ue,_embind_finalize_value_object:on,_embind_register_bool:pn,_embind_register_class:si,_embind_register_class_class_function:ui,_embind_register_class_constructor:hi,_embind_register_class_function:di,_embind_register_class_property:fi,_embind_register_emval:Ci,_embind_register_enum:Ei,_embind_register_enum_value:Pi,_embind_register_float:Ti,_embind_register_function:Ii,_embind_register_integer:Mi,_embind_register_memory_view:Di,_embind_register_smart_ptr:Ri,_embind_register_std_string:Fi,_embind_register_std_wstring:Li,_embind_register_value_object:Bi,_embind_register_value_object_field:Ni,_embind_register_void:ji,_emval_as:Hi,_emval_call:Ui,_emval_call_void_method:qi,_emval_decref:yi,_emval_get_method_caller:Ki,_emval_get_property:Yi,_emval_incref:Qi,_emval_new_array:Zi,_emval_new_cstring:Ji,_emval_run_destructors:tr,_emval_set_property:er,_emval_take_value:nr,abort:ir,emscripten_longjmp:or,emscripten_memcpy_big:sr,emscripten_resize_heap:cr,emscripten_set_canvas_element_size:mr,emscripten_webgl_create_context:xr,emscripten_webgl_destroy_context:Or,emscripten_webgl_get_context_attributes:kr,emscripten_webgl_init_context_attributes:Tr,emscripten_webgl_make_context_current:Pr,environ_get:Dr,environ_sizes_get:Rr,fd_close:Fr,fd_read:Lr,fd_seek:Br,fd_write:Nr,getTempRet0:jr,glActiveTexture:zr,glAttachShader:Hr,glBindBuffer:Vr,glBindTexture:Ur,glBlendFunc:Wr,glBufferData:$r,glClear:Gr,glClearColor:qr,glClearStencil:Xr,glColorMask:Kr,glCompileShader:Yr,glCreateProgram:Qr,glCreateShader:Zr,glDeleteBuffers:Jr,glDeleteProgram:to,glDeleteShader:eo,glDeleteTextures:no,glDisable:io,glDisableVertexAttribArray:ro,glDrawArrays:oo,glDrawElements:so,glEnable:ao,glEnableVertexAttribArray:lo,glGenBuffers:uo,glGenTextures:ho,glGetAttribLocation:po,glGetError:fo,glGetIntegerv:vo,glGetProgramInfoLog:bo,glGetProgramiv:wo,glGetShaderInfoLog:Co,glGetShaderiv:xo,glGetUniformLocation:So,glLinkProgram:Po,glShaderSource:Oo,glStencilFunc:ko,glStencilMask:To,glStencilOp:Io,glTexImage2D:Lo,glTexParameterf:Bo,glTexSubImage2D:No,glUniform1f:jo,glUniform1i:zo,glUniform4i:Ho,glUniformMatrix4fv:Uo,glUseProgram:Wo,glVertexAttribPointer:$o,glViewport:Go,invoke_di:Qs,invoke_did:pa,invoke_dii:ea,invoke_diii:Xs,invoke_diiii:oa,invoke_fiii:Oa,invoke_i:Hs,invoke_ii:Ts,invoke_iid:Gs,invoke_iidd:Ys,invoke_iidi:ia,invoke_iii:Is,invoke_iiid:qs,invoke_iiidddi:Ks,invoke_iiii:Ls,invoke_iiiid:va,invoke_iiiidd:Ea,invoke_iiiii:Ns,invoke_iiiiidd:xa,invoke_iiiiidddddii:sa,invoke_iiiiiddiiiii:Us,invoke_iiiiii:ks,invoke_iiiiiii:js,invoke_iiiiiiii:ca,invoke_iiiiiiiii:fa,invoke_iiiiiiiiiii:Sa,invoke_iiiiiiiiiiii:ka,invoke_iiiiiiiiiiiii:Pa,invoke_jiiii:Ia,invoke_v:zs,invoke_vddi:ua,invoke_vffff:ta,invoke_vi:Rs,invoke_vid:Vs,invoke_vidd:Ws,invoke_vidddd:aa,invoke_vidddddd:la,invoke_viddi:da,invoke_viddiiiiiii:Ds,invoke_vii:As,invoke_viid:Zs,invoke_viidd:ma,invoke_viiddi:wa,invoke_viidi:ra,invoke_viidii:Ca,invoke_viii:Ms,invoke_viiid:Fs,invoke_viiii:Bs,invoke_viiiid:ba,invoke_viiiidi:na,invoke_viiiii:Js,invoke_viiiiii:ya,invoke_viiiiiid:_a,invoke_viiiiiii:ga,invoke_viiiiiiiii:ha,invoke_viiiiiiiiii:$s,invoke_viiiiiiiiiiiiiii:Ta,llvm_eh_typeid_for:qo,memory:k,setTempRet0:Xo,strftime_l:es,time:ns},ds=(Jt(),o.___wasm_call_ctors=qt("__wasm_call_ctors")),ps=o._free=qt("free"),fs=(o._memset=qt("memset"),o._malloc=qt("malloc")),ms=(o._main=qt("main"),o._realloc=qt("realloc"),o.___errno_location=qt("__errno_location")),gs=(o._testSetjmp=qt("testSetjmp"),o._saveSetjmp=qt("saveSetjmp"),o._fflush=qt("fflush"),o.__ZSt18uncaught_exceptionv=qt("_ZSt18uncaught_exceptionv")),ys=o.___getTypeName=qt("__getTypeName"),_s=(o.___embind_register_native_and_builtin_types=qt("__embind_register_native_and_builtin_types"),o.__get_tzname=qt("_get_tzname")),vs=o.__get_daylight=qt("_get_daylight"),bs=o.__get_timezone=qt("_get_timezone"),ws=o._setThrew=qt("setThrew"),Cs=o.stackSave=qt("stackSave"),xs=o.stackRestore=qt("stackRestore"),Es=o.stackAlloc=qt("stackAlloc"),Ss=(o.___cxa_demangle=qt("__cxa_demangle"),o.___cxa_can_catch=qt("__cxa_can_catch")),Ps=o.___cxa_is_pointer_type=qt("__cxa_is_pointer_type"),Os=o.dynCall_jiiii=qt("dynCall_jiiii");function ks(t,e,n,i,r,o){var s=Cs();try{return M.get(t)(e,n,i,r,o)}catch(a){if(xs(s),a!==a+0&&"longjmp"!==a)throw a;ws(1,0)}}function Ts(t,e){var n=Cs();try{return M.get(t)(e)}catch(i){if(xs(n),i!==i+0&&"longjmp"!==i)throw i;ws(1,0)}}function Is(t,e,n){var i=Cs();try{return M.get(t)(e,n)}catch(r){if(xs(i),r!==r+0&&"longjmp"!==r)throw r;ws(1,0)}}function As(t,e,n){var i=Cs();try{M.get(t)(e,n)}catch(r){if(xs(i),r!==r+0&&"longjmp"!==r)throw r;ws(1,0)}}function Ms(t,e,n,i){var r=Cs();try{M.get(t)(e,n,i)}catch(o){if(xs(r),o!==o+0&&"longjmp"!==o)throw o;ws(1,0)}}function Ds(t,e,n,i,r,o,s,a,l,c,u){var h=Cs();try{M.get(t)(e,n,i,r,o,s,a,l,c,u)}catch(d){if(xs(h),d!==d+0&&"longjmp"!==d)throw d;ws(1,0)}}function Rs(t,e){var n=Cs();try{M.get(t)(e)}catch(i){if(xs(n),i!==i+0&&"longjmp"!==i)throw i;ws(1,0)}}function Fs(t,e,n,i,r){var o=Cs();try{M.get(t)(e,n,i,r)}catch(s){if(xs(o),s!==s+0&&"longjmp"!==s)throw s;ws(1,0)}}function Ls(t,e,n,i){var r=Cs();try{return M.get(t)(e,n,i)}catch(o){if(xs(r),o!==o+0&&"longjmp"!==o)throw o;ws(1,0)}}function Bs(t,e,n,i,r){var o=Cs();try{M.get(t)(e,n,i,r)}catch(s){if(xs(o),s!==s+0&&"longjmp"!==s)throw s;ws(1,0)}}function Ns(t,e,n,i,r){var o=Cs();try{return M.get(t)(e,n,i,r)}catch(s){if(xs(o),s!==s+0&&"longjmp"!==s)throw s;ws(1,0)}}function js(t,e,n,i,r,o,s){var a=Cs();try{return M.get(t)(e,n,i,r,o,s)}catch(l){if(xs(a),l!==l+0&&"longjmp"!==l)throw l;ws(1,0)}}function zs(t){var e=Cs();try{M.get(t)()}catch(n){if(xs(e),n!==n+0&&"longjmp"!==n)throw n;ws(1,0)}}function Hs(t){var e=Cs();try{return M.get(t)()}catch(n){if(xs(e),n!==n+0&&"longjmp"!==n)throw n;ws(1,0)}}function Vs(t,e,n){var i=Cs();try{M.get(t)(e,n)}catch(r){if(xs(i),r!==r+0&&"longjmp"!==r)throw r;ws(1,0)}}function Us(t,e,n,i,r,o,s,a,l,c,u,h){var d=Cs();try{return M.get(t)(e,n,i,r,o,s,a,l,c,u,h)}catch(p){if(xs(d),p!==p+0&&"longjmp"!==p)throw p;ws(1,0)}}function Ws(t,e,n,i){var r=Cs();try{M.get(t)(e,n,i)}catch(o){if(xs(r),o!==o+0&&"longjmp"!==o)throw o;ws(1,0)}}function $s(t,e,n,i,r,o,s,a,l,c,u){var h=Cs();try{M.get(t)(e,n,i,r,o,s,a,l,c,u)}catch(d){if(xs(h),d!==d+0&&"longjmp"!==d)throw d;ws(1,0)}}function Gs(t,e,n){var i=Cs();try{return M.get(t)(e,n)}catch(r){if(xs(i),r!==r+0&&"longjmp"!==r)throw r;ws(1,0)}}function qs(t,e,n,i){var r=Cs();try{return M.get(t)(e,n,i)}catch(o){if(xs(r),o!==o+0&&"longjmp"!==o)throw o;ws(1,0)}}function Xs(t,e,n,i){var r=Cs();try{return M.get(t)(e,n,i)}catch(o){if(xs(r),o!==o+0&&"longjmp"!==o)throw o;ws(1,0)}}function Ks(t,e,n,i,r,o,s){var a=Cs();try{return M.get(t)(e,n,i,r,o,s)}catch(l){if(xs(a),l!==l+0&&"longjmp"!==l)throw l;ws(1,0)}}function Ys(t,e,n,i){var r=Cs();try{return M.get(t)(e,n,i)}catch(o){if(xs(r),o!==o+0&&"longjmp"!==o)throw o;ws(1,0)}}function Qs(t,e){var n=Cs();try{return M.get(t)(e)}catch(i){if(xs(n),i!==i+0&&"longjmp"!==i)throw i;ws(1,0)}}function Zs(t,e,n,i){var r=Cs();try{M.get(t)(e,n,i)}catch(o){if(xs(r),o!==o+0&&"longjmp"!==o)throw o;ws(1,0)}}function Js(t,e,n,i,r,o){var s=Cs();try{M.get(t)(e,n,i,r,o)}catch(a){if(xs(s),a!==a+0&&"longjmp"!==a)throw a;ws(1,0)}}function ta(t,e,n,i,r){var o=Cs();try{M.get(t)(e,n,i,r)}catch(s){if(xs(o),s!==s+0&&"longjmp"!==s)throw s;ws(1,0)}}function ea(t,e,n){var i=Cs();try{return M.get(t)(e,n)}catch(r){if(xs(i),r!==r+0&&"longjmp"!==r)throw r;ws(1,0)}}function na(t,e,n,i,r,o,s){var a=Cs();try{M.get(t)(e,n,i,r,o,s)}catch(l){if(xs(a),l!==l+0&&"longjmp"!==l)throw l;ws(1,0)}}function ia(t,e,n,i){var r=Cs();try{return M.get(t)(e,n,i)}catch(o){if(xs(r),o!==o+0&&"longjmp"!==o)throw o;ws(1,0)}}function ra(t,e,n,i,r){var o=Cs();try{M.get(t)(e,n,i,r)}catch(s){if(xs(o),s!==s+0&&"longjmp"!==s)throw s;ws(1,0)}}function oa(t,e,n,i,r){var o=Cs();try{return M.get(t)(e,n,i,r)}catch(s){if(xs(o),s!==s+0&&"longjmp"!==s)throw s;ws(1,0)}}function sa(t,e,n,i,r,o,s,a,l,c,u,h){var d=Cs();try{return M.get(t)(e,n,i,r,o,s,a,l,c,u,h)}catch(p){if(xs(d),p!==p+0&&"longjmp"!==p)throw p;ws(1,0)}}function aa(t,e,n,i,r,o){var s=Cs();try{M.get(t)(e,n,i,r,o)}catch(a){if(xs(s),a!==a+0&&"longjmp"!==a)throw a;ws(1,0)}}function la(t,e,n,i,r,o,s,a){var l=Cs();try{M.get(t)(e,n,i,r,o,s,a)}catch(c){if(xs(l),c!==c+0&&"longjmp"!==c)throw c;ws(1,0)}}function ca(t,e,n,i,r,o,s,a){var l=Cs();try{return M.get(t)(e,n,i,r,o,s,a)}catch(c){if(xs(l),c!==c+0&&"longjmp"!==c)throw c;ws(1,0)}}function ua(t,e,n,i){var r=Cs();try{M.get(t)(e,n,i)}catch(o){if(xs(r),o!==o+0&&"longjmp"!==o)throw o;ws(1,0)}}function ha(t,e,n,i,r,o,s,a,l,c){var u=Cs();try{M.get(t)(e,n,i,r,o,s,a,l,c)}catch(h){if(xs(u),h!==h+0&&"longjmp"!==h)throw h;ws(1,0)}}function da(t,e,n,i,r){var o=Cs();try{M.get(t)(e,n,i,r)}catch(s){if(xs(o),s!==s+0&&"longjmp"!==s)throw s;ws(1,0)}}function pa(t,e,n){var i=Cs();try{return M.get(t)(e,n)}catch(r){if(xs(i),r!==r+0&&"longjmp"!==r)throw r;ws(1,0)}}function fa(t,e,n,i,r,o,s,a,l){var c=Cs();try{return M.get(t)(e,n,i,r,o,s,a,l)}catch(u){if(xs(c),u!==u+0&&"longjmp"!==u)throw u;ws(1,0)}}function ma(t,e,n,i,r){var o=Cs();try{M.get(t)(e,n,i,r)}catch(s){if(xs(o),s!==s+0&&"longjmp"!==s)throw s;ws(1,0)}}function ga(t,e,n,i,r,o,s,a){var l=Cs();try{M.get(t)(e,n,i,r,o,s,a)}catch(c){if(xs(l),c!==c+0&&"longjmp"!==c)throw c;ws(1,0)}}function ya(t,e,n,i,r,o,s){var a=Cs();try{M.get(t)(e,n,i,r,o,s)}catch(l){if(xs(a),l!==l+0&&"longjmp"!==l)throw l;ws(1,0)}}function _a(t,e,n,i,r,o,s,a){var l=Cs();try{M.get(t)(e,n,i,r,o,s,a)}catch(c){if(xs(l),c!==c+0&&"longjmp"!==c)throw c;ws(1,0)}}function va(t,e,n,i,r){var o=Cs();try{return M.get(t)(e,n,i,r)}catch(s){if(xs(o),s!==s+0&&"longjmp"!==s)throw s;ws(1,0)}}function ba(t,e,n,i,r,o){var s=Cs();try{M.get(t)(e,n,i,r,o)}catch(a){if(xs(s),a!==a+0&&"longjmp"!==a)throw a;ws(1,0)}}function wa(t,e,n,i,r,o){var s=Cs();try{M.get(t)(e,n,i,r,o)}catch(a){if(xs(s),a!==a+0&&"longjmp"!==a)throw a;ws(1,0)}}function Ca(t,e,n,i,r,o){var s=Cs();try{M.get(t)(e,n,i,r,o)}catch(a){if(xs(s),a!==a+0&&"longjmp"!==a)throw a;ws(1,0)}}function xa(t,e,n,i,r,o,s){var a=Cs();try{return M.get(t)(e,n,i,r,o,s)}catch(l){if(xs(a),l!==l+0&&"longjmp"!==l)throw l;ws(1,0)}}function Ea(t,e,n,i,r,o){var s=Cs();try{return M.get(t)(e,n,i,r,o)}catch(a){if(xs(s),a!==a+0&&"longjmp"!==a)throw a;ws(1,0)}}function Sa(t,e,n,i,r,o,s,a,l,c,u){var h=Cs();try{return M.get(t)(e,n,i,r,o,s,a,l,c,u)}catch(d){if(xs(h),d!==d+0&&"longjmp"!==d)throw d;ws(1,0)}}function Pa(t,e,n,i,r,o,s,a,l,c,u,h,d){var p=Cs();try{return M.get(t)(e,n,i,r,o,s,a,l,c,u,h,d)}catch(f){if(xs(p),f!==f+0&&"longjmp"!==f)throw f;ws(1,0)}}function Oa(t,e,n,i){var r=Cs();try{return M.get(t)(e,n,i)}catch(o){if(xs(r),o!==o+0&&"longjmp"!==o)throw o;ws(1,0)}}function ka(t,e,n,i,r,o,s,a,l,c,u,h){var d=Cs();try{return M.get(t)(e,n,i,r,o,s,a,l,c,u,h)}catch(p){if(xs(d),p!==p+0&&"longjmp"!==p)throw p;ws(1,0)}}function Ta(t,e,n,i,r,o,s,a,l,c,u,h,d,p,f,m){var g=Cs();try{M.get(t)(e,n,i,r,o,s,a,l,c,u,h,d,p,f,m)}catch(y){if(xs(g),y!==y+0&&"longjmp"!==y)throw y;ws(1,0)}}function Ia(t,e,n,i,r){var o=Cs();try{return Os(t,e,n,i,r)}catch(s){if(xs(o),s!==s+0&&"longjmp"!==s)throw s;ws(1,0)}}function Aa(t){this.name="ExitStatus",this.message="Program terminated with exit("+t+")",this.status=t}function Ma(t){R(0==Rt,'cannot call main when async dependencies remain! (listen on Module["onRuntimeInitialized"])'),R(0==gt.length,"cannot call main when preRun functions remain to be called");var e=o._main;try{Fa(e(0,0),!0)}catch(i){if(i instanceof Aa)return;if("unwind"==i)return void(O=!0);var n=i;i&&"object"==typeof i&&i.stack&&(n=[i,i.stack]),C("exception thrown: "+n),u(1,i)}}function Da(t){function n(){us||(us=!0,o.calledRun=!0,D||(Et(),St(),e(o),o.onRuntimeInitialized&&o.onRuntimeInitialized(),La&&Ma(),Ot()))}t=t||l,Rt>0||(ft(),xt(),Rt>0||(o.setStatus?(o.setStatus("Running..."),setTimeout((function(){setTimeout((function(){o.setStatus("")}),1),n()}),1)):n(),mt()))}function Ra(){var t=w,e=C,n=!1;w=C=function(t){n=!0};try{var i=o._fflush;i&&i(0),["stdout","stderr"].forEach((function(t){var e=Be.analyzePath("/dev/"+t);if(e){var i=De.ttys[e.object.rdev];i&&i.output&&i.output.length&&(n=!0)}}))}catch(r){}w=t,C=e,n&&S("stdio streams had content in them that was not flushed. you should set EXIT_RUNTIME to 1 (see the FAQ), or make sure to emit a newline when you printf etc.")}function Fa(t,e){if(Ra(),!e||!O||0!==t){if(O){if(!e){var n="program exited (with status: "+t+"), but EXIT_RUNTIME is not set, so halting execution but not exiting the runtime or preventing further async execution (build with EXIT_RUNTIME=1, if you want a true shutdown)";r(n),C(n)}}else Pt(),o.onExit&&o.onExit(t),D=!0;u(t,new Aa(t))}}if(o.dynCall_ji=qt("dynCall_ji"),o.dynCall_jij=qt("dynCall_jij"),o.dynCall_iiiijii=qt("dynCall_iiiijii"),o.dynCall_vij=qt("dynCall_vij"),o.dynCall_jiji=qt("dynCall_jiji"),o.dynCall_viijii=qt("dynCall_viijii"),o.dynCall_iiiiij=qt("dynCall_iiiiij"),o.dynCall_iiiiijj=qt("dynCall_iiiiijj"),o.dynCall_iiiiiijj=qt("dynCall_iiiiiijj"),o.__growWasmMemory=qt("__growWasmMemory"),Object.getOwnPropertyDescriptor(o,"intArrayFromString")||(o.intArrayFromString=function(){Ht("'intArrayFromString' was not exported. add it to EXTRA_EXPORTED_RUNTIME_METHODS (see the FAQ)")}),Object.getOwnPropertyDescriptor(o,"intArrayToString")||(o.intArrayToString=function(){Ht("'intArrayToString' was not exported. add it to EXTRA_EXPORTED_RUNTIME_METHODS (see the FAQ)")}),Object.getOwnPropertyDescriptor(o,"ccall")||(o.ccall=function(){Ht("'ccall' was not exported. add it to EXTRA_EXPORTED_RUNTIME_METHODS (see the FAQ)")}),Object.getOwnPropertyDescriptor(o,"cwrap")||(o.cwrap=function(){Ht("'cwrap' was not exported. add it to EXTRA_EXPORTED_RUNTIME_METHODS (see the FAQ)")}),Object.getOwnPropertyDescriptor(o,"setValue")||(o.setValue=function(){Ht("'setValue' was not exported. add it to EXTRA_EXPORTED_RUNTIME_METHODS (see the FAQ)")}),Object.getOwnPropertyDescriptor(o,"getValue")||(o.getValue=function(){Ht("'getValue' was not exported. add it to EXTRA_EXPORTED_RUNTIME_METHODS (see the FAQ)")}),Object.getOwnPropertyDescriptor(o,"allocate")||(o.allocate=function(){Ht("'allocate' was not exported. add it to EXTRA_EXPORTED_RUNTIME_METHODS (see the FAQ)")}),Object.getOwnPropertyDescriptor(o,"getMemory")||(o.getMemory=function(){Ht("'getMemory' was not exported. add it to EXTRA_EXPORTED_RUNTIME_METHODS (see the FAQ). Alternatively, forcing filesystem support (-s FORCE_FILESYSTEM=1) can export this for you")}),Object.getOwnPropertyDescriptor(o,"UTF8ArrayToString")||(o.UTF8ArrayToString=function(){Ht("'UTF8ArrayToString' was not exported. add it to EXTRA_EXPORTED_RUNTIME_METHODS (see the FAQ)")}),Object.getOwnPropertyDescriptor(o,"UTF8ToString")||(o.UTF8ToString=function(){Ht("'UTF8ToString' was not exported. add it to EXTRA_EXPORTED_RUNTIME_METHODS (see the FAQ)")}),Object.getOwnPropertyDescriptor(o,"stringToUTF8Array")||(o.stringToUTF8Array=function(){Ht("'stringToUTF8Array' was not exported. add it to EXTRA_EXPORTED_RUNTIME_METHODS (see the FAQ)")}),Object.getOwnPropertyDescriptor(o,"stringToUTF8")||(o.stringToUTF8=function(){Ht("'stringToUTF8' was not exported. add it to EXTRA_EXPORTED_RUNTIME_METHODS (see the FAQ)")}),Object.getOwnPropertyDescriptor(o,"lengthBytesUTF8")||(o.lengthBytesUTF8=function(){Ht("'lengthBytesUTF8' was not exported. add it to EXTRA_EXPORTED_RUNTIME_METHODS (see the FAQ)")}),Object.getOwnPropertyDescriptor(o,"stackTrace")||(o.stackTrace=function(){Ht("'stackTrace' was not exported. add it to EXTRA_EXPORTED_RUNTIME_METHODS (see the FAQ)")}),Object.getOwnPropertyDescriptor(o,"addOnPreRun")||(o.addOnPreRun=function(){Ht("'addOnPreRun' was not exported. add it to EXTRA_EXPORTED_RUNTIME_METHODS (see the FAQ)")}),Object.getOwnPropertyDescriptor(o,"addOnInit")||(o.addOnInit=function(){Ht("'addOnInit' was not exported. add it to EXTRA_EXPORTED_RUNTIME_METHODS (see the FAQ)")}),Object.getOwnPropertyDescriptor(o,"addOnPreMain")||(o.addOnPreMain=function(){Ht("'addOnPreMain' was not exported. add it to EXTRA_EXPORTED_RUNTIME_METHODS (see the FAQ)")}),Object.getOwnPropertyDescriptor(o,"addOnExit")||(o.addOnExit=function(){Ht("'addOnExit' was not exported. add it to EXTRA_EXPORTED_RUNTIME_METHODS (see the FAQ)")}),Object.getOwnPropertyDescriptor(o,"addOnPostRun")||(o.addOnPostRun=function(){Ht("'addOnPostRun' was not exported. add it to EXTRA_EXPORTED_RUNTIME_METHODS (see the FAQ)")}),Object.getOwnPropertyDescriptor(o,"writeStringToMemory")||(o.writeStringToMemory=function(){Ht("'writeStringToMemory' was not exported. add it to EXTRA_EXPORTED_RUNTIME_METHODS (see the FAQ)")}),Object.getOwnPropertyDescriptor(o,"writeArrayToMemory")||(o.writeArrayToMemory=function(){Ht("'writeArrayToMemory' was not exported. add it to EXTRA_EXPORTED_RUNTIME_METHODS (see the FAQ)")}),Object.getOwnPropertyDescriptor(o,"writeAsciiToMemory")||(o.writeAsciiToMemory=function(){Ht("'writeAsciiToMemory' was not exported. add it to EXTRA_EXPORTED_RUNTIME_METHODS (see the FAQ)")}),Object.getOwnPropertyDescriptor(o,"addRunDependency")||(o.addRunDependency=function(){Ht("'addRunDependency' was not exported. add it to EXTRA_EXPORTED_RUNTIME_METHODS (see the FAQ). Alternatively, forcing filesystem support (-s FORCE_FILESYSTEM=1) can export this for you")}),Object.getOwnPropertyDescriptor(o,"removeRunDependency")||(o.removeRunDependency=function(){Ht("'removeRunDependency' was not exported. add it to EXTRA_EXPORTED_RUNTIME_METHODS (see the FAQ). Alternatively, forcing filesystem support (-s FORCE_FILESYSTEM=1) can export this for you")}),Object.getOwnPropertyDescriptor(o,"FS_createFolder")||(o.FS_createFolder=function(){Ht("'FS_createFolder' was not exported. add it to EXTRA_EXPORTED_RUNTIME_METHODS (see the FAQ). Alternatively, forcing filesystem support (-s FORCE_FILESYSTEM=1) can export this for you")}),Object.getOwnPropertyDescriptor(o,"FS_createPath")||(o.FS_createPath=function(){Ht("'FS_createPath' was not exported. add it to EXTRA_EXPORTED_RUNTIME_METHODS (see the FAQ). Alternatively, forcing filesystem support (-s FORCE_FILESYSTEM=1) can export this for you")}),Object.getOwnPropertyDescriptor(o,"FS_createDataFile")||(o.FS_createDataFile=function(){Ht("'FS_createDataFile' was not exported. add it to EXTRA_EXPORTED_RUNTIME_METHODS (see the FAQ). Alternatively, forcing filesystem support (-s FORCE_FILESYSTEM=1) can export this for you")}),Object.getOwnPropertyDescriptor(o,"FS_createPreloadedFile")||(o.FS_createPreloadedFile=function(){Ht("'FS_createPreloadedFile' was not exported. add it to EXTRA_EXPORTED_RUNTIME_METHODS (see the FAQ). Alternatively, forcing filesystem support (-s FORCE_FILESYSTEM=1) can export this for you")}),Object.getOwnPropertyDescriptor(o,"FS_createLazyFile")||(o.FS_createLazyFile=function(){Ht("'FS_createLazyFile' was not exported. add it to EXTRA_EXPORTED_RUNTIME_METHODS (see the FAQ). Alternatively, forcing filesystem support (-s FORCE_FILESYSTEM=1) can export this for you")}),Object.getOwnPropertyDescriptor(o,"FS_createLink")||(o.FS_createLink=function(){Ht("'FS_createLink' was not exported. add it to EXTRA_EXPORTED_RUNTIME_METHODS (see the FAQ). Alternatively, forcing filesystem support (-s FORCE_FILESYSTEM=1) can export this for you")}),Object.getOwnPropertyDescriptor(o,"FS_createDevice")||(o.FS_createDevice=function(){Ht("'FS_createDevice' was not exported. add it to EXTRA_EXPORTED_RUNTIME_METHODS (see the FAQ). Alternatively, forcing filesystem support (-s FORCE_FILESYSTEM=1) can export this for you")}),Object.getOwnPropertyDescriptor(o,"FS_unlink")||(o.FS_unlink=function(){Ht("'FS_unlink' was not exported. add it to EXTRA_EXPORTED_RUNTIME_METHODS (see the FAQ). Alternatively, forcing filesystem support (-s FORCE_FILESYSTEM=1) can export this for you")}),Object.getOwnPropertyDescriptor(o,"dynamicAlloc")||(o.dynamicAlloc=function(){Ht("'dynamicAlloc' was not exported. add it to EXTRA_EXPORTED_RUNTIME_METHODS (see the FAQ)")}),Object.getOwnPropertyDescriptor(o,"getLEB")||(o.getLEB=function(){Ht("'getLEB' was not exported. add it to EXTRA_EXPORTED_RUNTIME_METHODS (see the FAQ)")}),Object.getOwnPropertyDescriptor(o,"getFunctionTables")||(o.getFunctionTables=function(){Ht("'getFunctionTables' was not exported. add it to EXTRA_EXPORTED_RUNTIME_METHODS (see the FAQ)")}),Object.getOwnPropertyDescriptor(o,"alignFunctionTables")||(o.alignFunctionTables=function(){Ht("'alignFunctionTables' was not exported. add it to EXTRA_EXPORTED_RUNTIME_METHODS (see the FAQ)")}),Object.getOwnPropertyDescriptor(o,"registerFunctions")||(o.registerFunctions=function(){Ht("'registerFunctions' was not exported. add it to EXTRA_EXPORTED_RUNTIME_METHODS (see the FAQ)")}),Object.getOwnPropertyDescriptor(o,"addFunction")||(o.addFunction=function(){Ht("'addFunction' was not exported. add it to EXTRA_EXPORTED_RUNTIME_METHODS (see the FAQ)")}),Object.getOwnPropertyDescriptor(o,"removeFunction")||(o.removeFunction=function(){Ht("'removeFunction' was not exported. add it to EXTRA_EXPORTED_RUNTIME_METHODS (see the FAQ)")}),Object.getOwnPropertyDescriptor(o,"getFuncWrapper")||(o.getFuncWrapper=function(){Ht("'getFuncWrapper' was not exported. add it to EXTRA_EXPORTED_RUNTIME_METHODS (see the FAQ)")}),Object.getOwnPropertyDescriptor(o,"prettyPrint")||(o.prettyPrint=function(){Ht("'prettyPrint' was not exported. add it to EXTRA_EXPORTED_RUNTIME_METHODS (see the FAQ)")}),Object.getOwnPropertyDescriptor(o,"makeBigInt")||(o.makeBigInt=function(){Ht("'makeBigInt' was not exported. add it to EXTRA_EXPORTED_RUNTIME_METHODS (see the FAQ)")}),Object.getOwnPropertyDescriptor(o,"dynCall")||(o.dynCall=function(){Ht("'dynCall' was not exported. add it to EXTRA_EXPORTED_RUNTIME_METHODS (see the FAQ)")}),Object.getOwnPropertyDescriptor(o,"getCompilerSetting")||(o.getCompilerSetting=function(){Ht("'getCompilerSetting' was not exported. add it to EXTRA_EXPORTED_RUNTIME_METHODS (see the FAQ)")}),Object.getOwnPropertyDescriptor(o,"print")||(o.print=function(){Ht("'print' was not exported. add it to EXTRA_EXPORTED_RUNTIME_METHODS (see the FAQ)")}),Object.getOwnPropertyDescriptor(o,"printErr")||(o.printErr=function(){Ht("'printErr' was not exported. add it to EXTRA_EXPORTED_RUNTIME_METHODS (see the FAQ)")}),Object.getOwnPropertyDescriptor(o,"getTempRet0")||(o.getTempRet0=function(){Ht("'getTempRet0' was not exported. add it to EXTRA_EXPORTED_RUNTIME_METHODS (see the FAQ)")}),Object.getOwnPropertyDescriptor(o,"setTempRet0")||(o.setTempRet0=function(){Ht("'setTempRet0' was not exported. add it to EXTRA_EXPORTED_RUNTIME_METHODS (see the FAQ)")}),Object.getOwnPropertyDescriptor(o,"callMain")||(o.callMain=function(){Ht("'callMain' was not exported. add it to EXTRA_EXPORTED_RUNTIME_METHODS (see the FAQ)")}),Object.getOwnPropertyDescriptor(o,"abort")||(o.abort=function(){Ht("'abort' was not exported. add it to EXTRA_EXPORTED_RUNTIME_METHODS (see the FAQ)")}),Object.getOwnPropertyDescriptor(o,"stringToNewUTF8")||(o.stringToNewUTF8=function(){Ht("'stringToNewUTF8' was not exported. add it to EXTRA_EXPORTED_RUNTIME_METHODS (see the FAQ)")}),Object.getOwnPropertyDescriptor(o,"emscripten_realloc_buffer")||(o.emscripten_realloc_buffer=function(){Ht("'emscripten_realloc_buffer' was not exported. add it to EXTRA_EXPORTED_RUNTIME_METHODS (see the FAQ)")}),Object.getOwnPropertyDescriptor(o,"ENV")||(o.ENV=function(){Ht("'ENV' was not exported. add it to EXTRA_EXPORTED_RUNTIME_METHODS (see the FAQ)")}),Object.getOwnPropertyDescriptor(o,"ERRNO_CODES")||(o.ERRNO_CODES=function(){Ht("'ERRNO_CODES' was not exported. add it to EXTRA_EXPORTED_RUNTIME_METHODS (see the FAQ)")}),Object.getOwnPropertyDescriptor(o,"ERRNO_MESSAGES")||(o.ERRNO_MESSAGES=function(){Ht("'ERRNO_MESSAGES' was not exported. add it to EXTRA_EXPORTED_RUNTIME_METHODS (see the FAQ)")}),Object.getOwnPropertyDescriptor(o,"setErrNo")||(o.setErrNo=function(){Ht("'setErrNo' was not exported. add it to EXTRA_EXPORTED_RUNTIME_METHODS (see the FAQ)")}),Object.getOwnPropertyDescriptor(o,"DNS")||(o.DNS=function(){Ht("'DNS' was not exported. add it to EXTRA_EXPORTED_RUNTIME_METHODS (see the FAQ)")}),Object.getOwnPropertyDescriptor(o,"GAI_ERRNO_MESSAGES")||(o.GAI_ERRNO_MESSAGES=function(){Ht("'GAI_ERRNO_MESSAGES' was not exported. add it to EXTRA_EXPORTED_RUNTIME_METHODS (see the FAQ)")}),Object.getOwnPropertyDescriptor(o,"Protocols")||(o.Protocols=function(){Ht("'Protocols' was not exported. add it to EXTRA_EXPORTED_RUNTIME_METHODS (see the FAQ)")}),Object.getOwnPropertyDescriptor(o,"Sockets")||(o.Sockets=function(){Ht("'Sockets' was not exported. add it to EXTRA_EXPORTED_RUNTIME_METHODS (see the FAQ)")}),Object.getOwnPropertyDescriptor(o,"traverseStack")||(o.traverseStack=function(){Ht("'traverseStack' was not exported. add it to EXTRA_EXPORTED_RUNTIME_METHODS (see the FAQ)")}),Object.getOwnPropertyDescriptor(o,"UNWIND_CACHE")||(o.UNWIND_CACHE=function(){Ht("'UNWIND_CACHE' was not exported. add it to EXTRA_EXPORTED_RUNTIME_METHODS (see the FAQ)")}),Object.getOwnPropertyDescriptor(o,"withBuiltinMalloc")||(o.withBuiltinMalloc=function(){Ht("'withBuiltinMalloc' was not exported. add it to EXTRA_EXPORTED_RUNTIME_METHODS (see the FAQ)")}),Object.getOwnPropertyDescriptor(o,"readAsmConstArgsArray")||(o.readAsmConstArgsArray=function(){Ht("'readAsmConstArgsArray' was not exported. add it to EXTRA_EXPORTED_RUNTIME_METHODS (see the FAQ)")}),Object.getOwnPropertyDescriptor(o,"readAsmConstArgs")||(o.readAsmConstArgs=function(){Ht("'readAsmConstArgs' was not exported. add it to EXTRA_EXPORTED_RUNTIME_METHODS (see the FAQ)")}),Object.getOwnPropertyDescriptor(o,"mainThreadEM_ASM")||(o.mainThreadEM_ASM=function(){Ht("'mainThreadEM_ASM' was not exported. add it to EXTRA_EXPORTED_RUNTIME_METHODS (see the FAQ)")}),Object.getOwnPropertyDescriptor(o,"jstoi_q")||(o.jstoi_q=function(){Ht("'jstoi_q' was not exported. add it to EXTRA_EXPORTED_RUNTIME_METHODS (see the FAQ)")}),Object.getOwnPropertyDescriptor(o,"jstoi_s")||(o.jstoi_s=function(){Ht("'jstoi_s' was not exported. add it to EXTRA_EXPORTED_RUNTIME_METHODS (see the FAQ)")}),Object.getOwnPropertyDescriptor(o,"getExecutableName")||(o.getExecutableName=function(){Ht("'getExecutableName' was not exported. add it to EXTRA_EXPORTED_RUNTIME_METHODS (see the FAQ)")}),Object.getOwnPropertyDescriptor(o,"listenOnce")||(o.listenOnce=function(){Ht("'listenOnce' was not exported. add it to EXTRA_EXPORTED_RUNTIME_METHODS (see the FAQ)")}),Object.getOwnPropertyDescriptor(o,"autoResumeAudioContext")||(o.autoResumeAudioContext=function(){Ht("'autoResumeAudioContext' was not exported. add it to EXTRA_EXPORTED_RUNTIME_METHODS (see the FAQ)")}),Object.getOwnPropertyDescriptor(o,"dynCallLegacy")||(o.dynCallLegacy=function(){Ht("'dynCallLegacy' was not exported. add it to EXTRA_EXPORTED_RUNTIME_METHODS (see the FAQ)")}),Object.getOwnPropertyDescriptor(o,"getDynCaller")||(o.getDynCaller=function(){Ht("'getDynCaller' was not exported. add it to EXTRA_EXPORTED_RUNTIME_METHODS (see the FAQ)")}),Object.getOwnPropertyDescriptor(o,"dynCall")||(o.dynCall=function(){Ht("'dynCall' was not exported. add it to EXTRA_EXPORTED_RUNTIME_METHODS (see the FAQ)")}),Object.getOwnPropertyDescriptor(o,"callRuntimeCallbacks")||(o.callRuntimeCallbacks=function(){Ht("'callRuntimeCallbacks' was not exported. add it to EXTRA_EXPORTED_RUNTIME_METHODS (see the FAQ)")}),Object.getOwnPropertyDescriptor(o,"abortStackOverflow")||(o.abortStackOverflow=function(){Ht("'abortStackOverflow' was not exported. add it to EXTRA_EXPORTED_RUNTIME_METHODS (see the FAQ)")}),Object.getOwnPropertyDescriptor(o,"reallyNegative")||(o.reallyNegative=function(){Ht("'reallyNegative' was not exported. add it to EXTRA_EXPORTED_RUNTIME_METHODS (see the FAQ)")}),Object.getOwnPropertyDescriptor(o,"unSign")||(o.unSign=function(){Ht("'unSign' was not exported. add it to EXTRA_EXPORTED_RUNTIME_METHODS (see the FAQ)")}),Object.getOwnPropertyDescriptor(o,"reSign")||(o.reSign=function(){Ht("'reSign' was not exported. add it to EXTRA_EXPORTED_RUNTIME_METHODS (see the FAQ)")}),Object.getOwnPropertyDescriptor(o,"formatString")||(o.formatString=function(){Ht("'formatString' was not exported. add it to EXTRA_EXPORTED_RUNTIME_METHODS (see the FAQ)")}),Object.getOwnPropertyDescriptor(o,"PATH")||(o.PATH=function(){Ht("'PATH' was not exported. add it to EXTRA_EXPORTED_RUNTIME_METHODS (see the FAQ)")}),Object.getOwnPropertyDescriptor(o,"PATH_FS")||(o.PATH_FS=function(){Ht("'PATH_FS' was not exported. add it to EXTRA_EXPORTED_RUNTIME_METHODS (see the FAQ)")}),Object.getOwnPropertyDescriptor(o,"SYSCALLS")||(o.SYSCALLS=function(){Ht("'SYSCALLS' was not exported. add it to EXTRA_EXPORTED_RUNTIME_METHODS (see the FAQ)")}),Object.getOwnPropertyDescriptor(o,"syscallMmap2")||(o.syscallMmap2=function(){Ht("'syscallMmap2' was not exported. add it to EXTRA_EXPORTED_RUNTIME_METHODS (see the FAQ)")}),Object.getOwnPropertyDescriptor(o,"syscallMunmap")||(o.syscallMunmap=function(){Ht("'syscallMunmap' was not exported. add it to EXTRA_EXPORTED_RUNTIME_METHODS (see the FAQ)")}),Object.getOwnPropertyDescriptor(o,"JSEvents")||(o.JSEvents=function(){Ht("'JSEvents' was not exported. add it to EXTRA_EXPORTED_RUNTIME_METHODS (see the FAQ)")}),Object.getOwnPropertyDescriptor(o,"specialHTMLTargets")||(o.specialHTMLTargets=function(){Ht("'specialHTMLTargets' was not exported. add it to EXTRA_EXPORTED_RUNTIME_METHODS (see the FAQ)")}),Object.getOwnPropertyDescriptor(o,"maybeCStringToJsString")||(o.maybeCStringToJsString=function(){Ht("'maybeCStringToJsString' was not exported. add it to EXTRA_EXPORTED_RUNTIME_METHODS (see the FAQ)")}),Object.getOwnPropertyDescriptor(o,"findEventTarget")||(o.findEventTarget=function(){Ht("'findEventTarget' was not exported. add it to EXTRA_EXPORTED_RUNTIME_METHODS (see the FAQ)")}),Object.getOwnPropertyDescriptor(o,"findCanvasEventTarget")||(o.findCanvasEventTarget=function(){Ht("'findCanvasEventTarget' was not exported. add it to EXTRA_EXPORTED_RUNTIME_METHODS (see the FAQ)")}),Object.getOwnPropertyDescriptor(o,"polyfillSetImmediate")||(o.polyfillSetImmediate=function(){Ht("'polyfillSetImmediate' was not exported. add it to EXTRA_EXPORTED_RUNTIME_METHODS (see the FAQ)")}),Object.getOwnPropertyDescriptor(o,"demangle")||(o.demangle=function(){Ht("'demangle' was not exported. add it to EXTRA_EXPORTED_RUNTIME_METHODS (see the FAQ)")}),Object.getOwnPropertyDescriptor(o,"demangleAll")||(o.demangleAll=function(){Ht("'demangleAll' was not exported. add it to EXTRA_EXPORTED_RUNTIME_METHODS (see the FAQ)")}),Object.getOwnPropertyDescriptor(o,"jsStackTrace")||(o.jsStackTrace=function(){Ht("'jsStackTrace' was not exported. add it to EXTRA_EXPORTED_RUNTIME_METHODS (see the FAQ)")}),Object.getOwnPropertyDescriptor(o,"stackTrace")||(o.stackTrace=function(){Ht("'stackTrace' was not exported. add it to EXTRA_EXPORTED_RUNTIME_METHODS (see the FAQ)")}),Object.getOwnPropertyDescriptor(o,"getEnvStrings")||(o.getEnvStrings=function(){Ht("'getEnvStrings' was not exported. add it to EXTRA_EXPORTED_RUNTIME_METHODS (see the FAQ)")}),Object.getOwnPropertyDescriptor(o,"checkWasiClock")||(o.checkWasiClock=function(){Ht("'checkWasiClock' was not exported. add it to EXTRA_EXPORTED_RUNTIME_METHODS (see the FAQ)")}),Object.getOwnPropertyDescriptor(o,"writeI53ToI64")||(o.writeI53ToI64=function(){Ht("'writeI53ToI64' was not exported. add it to EXTRA_EXPORTED_RUNTIME_METHODS (see the FAQ)")}),Object.getOwnPropertyDescriptor(o,"writeI53ToI64Clamped")||(o.writeI53ToI64Clamped=function(){Ht("'writeI53ToI64Clamped' was not exported. add it to EXTRA_EXPORTED_RUNTIME_METHODS (see the FAQ)")}),Object.getOwnPropertyDescriptor(o,"writeI53ToI64Signaling")||(o.writeI53ToI64Signaling=function(){Ht("'writeI53ToI64Signaling' was not exported. add it to EXTRA_EXPORTED_RUNTIME_METHODS (see the FAQ)")}),Object.getOwnPropertyDescriptor(o,"writeI53ToU64Clamped")||(o.writeI53ToU64Clamped=function(){Ht("'writeI53ToU64Clamped' was not exported. add it to EXTRA_EXPORTED_RUNTIME_METHODS (see the FAQ)")}),Object.getOwnPropertyDescriptor(o,"writeI53ToU64Signaling")||(o.writeI53ToU64Signaling=function(){Ht("'writeI53ToU64Signaling' was not exported. add it to EXTRA_EXPORTED_RUNTIME_METHODS (see the FAQ)")}),Object.getOwnPropertyDescriptor(o,"readI53FromI64")||(o.readI53FromI64=function(){Ht("'readI53FromI64' was not exported. add it to EXTRA_EXPORTED_RUNTIME_METHODS (see the FAQ)")}),Object.getOwnPropertyDescriptor(o,"readI53FromU64")||(o.readI53FromU64=function(){Ht("'readI53FromU64' was not exported. add it to EXTRA_EXPORTED_RUNTIME_METHODS (see the FAQ)")}),Object.getOwnPropertyDescriptor(o,"convertI32PairToI53")||(o.convertI32PairToI53=function(){Ht("'convertI32PairToI53' was not exported. add it to EXTRA_EXPORTED_RUNTIME_METHODS (see the FAQ)")}),Object.getOwnPropertyDescriptor(o,"convertU32PairToI53")||(o.convertU32PairToI53=function(){Ht("'convertU32PairToI53' was not exported. add it to EXTRA_EXPORTED_RUNTIME_METHODS (see the FAQ)")}),Object.getOwnPropertyDescriptor(o,"exceptionLast")||(o.exceptionLast=function(){Ht("'exceptionLast' was not exported. add it to EXTRA_EXPORTED_RUNTIME_METHODS (see the FAQ)")}),Object.getOwnPropertyDescriptor(o,"exceptionCaught")||(o.exceptionCaught=function(){Ht("'exceptionCaught' was not exported. add it to EXTRA_EXPORTED_RUNTIME_METHODS (see the FAQ)")}),Object.getOwnPropertyDescriptor(o,"exceptionThrowBuf")||(o.exceptionThrowBuf=function(){Ht("'exceptionThrowBuf' was not exported. add it to EXTRA_EXPORTED_RUNTIME_METHODS (see the FAQ)")}),Object.getOwnPropertyDescriptor(o,"ExceptionInfoAttrs")||(o.ExceptionInfoAttrs=function(){Ht("'ExceptionInfoAttrs' was not exported. add it to EXTRA_EXPORTED_RUNTIME_METHODS (see the FAQ)")}),Object.getOwnPropertyDescriptor(o,"ExceptionInfo")||(o.ExceptionInfo=function(){Ht("'ExceptionInfo' was not exported. add it to EXTRA_EXPORTED_RUNTIME_METHODS (see the FAQ)")}),Object.getOwnPropertyDescriptor(o,"CatchInfo")||(o.CatchInfo=function(){Ht("'CatchInfo' was not exported. add it to EXTRA_EXPORTED_RUNTIME_METHODS (see the FAQ)")}),Object.getOwnPropertyDescriptor(o,"exception_addRef")||(o.exception_addRef=function(){Ht("'exception_addRef' was not exported. add it to EXTRA_EXPORTED_RUNTIME_METHODS (see the FAQ)")}),Object.getOwnPropertyDescriptor(o,"exception_decRef")||(o.exception_decRef=function(){Ht("'exception_decRef' was not exported. add it to EXTRA_EXPORTED_RUNTIME_METHODS (see the FAQ)")}),Object.getOwnPropertyDescriptor(o,"Browser")||(o.Browser=function(){Ht("'Browser' was not exported. add it to EXTRA_EXPORTED_RUNTIME_METHODS (see the FAQ)")}),Object.getOwnPropertyDescriptor(o,"funcWrappers")||(o.funcWrappers=function(){Ht("'funcWrappers' was not exported. add it to EXTRA_EXPORTED_RUNTIME_METHODS (see the FAQ)")}),Object.getOwnPropertyDescriptor(o,"getFuncWrapper")||(o.getFuncWrapper=function(){Ht("'getFuncWrapper' was not exported. add it to EXTRA_EXPORTED_RUNTIME_METHODS (see the FAQ)")}),Object.getOwnPropertyDescriptor(o,"setMainLoop")||(o.setMainLoop=function(){Ht("'setMainLoop' was not exported. add it to EXTRA_EXPORTED_RUNTIME_METHODS (see the FAQ)")}),Object.getOwnPropertyDescriptor(o,"FS")||(o.FS=function(){Ht("'FS' was not exported. add it to EXTRA_EXPORTED_RUNTIME_METHODS (see the FAQ)")}),Object.getOwnPropertyDescriptor(o,"MEMFS")||(o.MEMFS=function(){Ht("'MEMFS' was not exported. add it to EXTRA_EXPORTED_RUNTIME_METHODS (see the FAQ)")}),Object.getOwnPropertyDescriptor(o,"TTY")||(o.TTY=function(){Ht("'TTY' was not exported. add it to EXTRA_EXPORTED_RUNTIME_METHODS (see the FAQ)")}),Object.getOwnPropertyDescriptor(o,"PIPEFS")||(o.PIPEFS=function(){Ht("'PIPEFS' was not exported. add it to EXTRA_EXPORTED_RUNTIME_METHODS (see the FAQ)")}),Object.getOwnPropertyDescriptor(o,"SOCKFS")||(o.SOCKFS=function(){Ht("'SOCKFS' was not exported. add it to EXTRA_EXPORTED_RUNTIME_METHODS (see the FAQ)")}),Object.getOwnPropertyDescriptor(o,"tempFixedLengthArray")||(o.tempFixedLengthArray=function(){Ht("'tempFixedLengthArray' was not exported. add it to EXTRA_EXPORTED_RUNTIME_METHODS (see the FAQ)")}),Object.getOwnPropertyDescriptor(o,"miniTempWebGLFloatBuffers")||(o.miniTempWebGLFloatBuffers=function(){Ht("'miniTempWebGLFloatBuffers' was not exported. add it to EXTRA_EXPORTED_RUNTIME_METHODS (see the FAQ)")}),Object.getOwnPropertyDescriptor(o,"heapObjectForWebGLType")||(o.heapObjectForWebGLType=function(){Ht("'heapObjectForWebGLType' was not exported. add it to EXTRA_EXPORTED_RUNTIME_METHODS (see the FAQ)")}),Object.getOwnPropertyDescriptor(o,"heapAccessShiftForWebGLHeap")||(o.heapAccessShiftForWebGLHeap=function(){Ht("'heapAccessShiftForWebGLHeap' was not exported. add it to EXTRA_EXPORTED_RUNTIME_METHODS (see the FAQ)")}),Object.getOwnPropertyDescriptor(o,"GL")||(o.GL=function(){Ht("'GL' was not exported. add it to EXTRA_EXPORTED_RUNTIME_METHODS (see the FAQ)")}),Object.getOwnPropertyDescriptor(o,"emscriptenWebGLGet")||(o.emscriptenWebGLGet=function(){Ht("'emscriptenWebGLGet' was not exported. add it to EXTRA_EXPORTED_RUNTIME_METHODS (see the FAQ)")}),Object.getOwnPropertyDescriptor(o,"computeUnpackAlignedImageSize")||(o.computeUnpackAlignedImageSize=function(){Ht("'computeUnpackAlignedImageSize' was not exported. add it to EXTRA_EXPORTED_RUNTIME_METHODS (see the FAQ)")}),Object.getOwnPropertyDescriptor(o,"emscriptenWebGLGetTexPixelData")||(o.emscriptenWebGLGetTexPixelData=function(){Ht("'emscriptenWebGLGetTexPixelData' was not exported. add it to EXTRA_EXPORTED_RUNTIME_METHODS (see the FAQ)")}),Object.getOwnPropertyDescriptor(o,"emscriptenWebGLGetUniform")||(o.emscriptenWebGLGetUniform=function(){Ht("'emscriptenWebGLGetUniform' was not exported. add it to EXTRA_EXPORTED_RUNTIME_METHODS (see the FAQ)")}),Object.getOwnPropertyDescriptor(o,"emscriptenWebGLGetVertexAttrib")||(o.emscriptenWebGLGetVertexAttrib=function(){Ht("'emscriptenWebGLGetVertexAttrib' was not exported. add it to EXTRA_EXPORTED_RUNTIME_METHODS (see the FAQ)")}),Object.getOwnPropertyDescriptor(o,"writeGLArray")||(o.writeGLArray=function(){Ht("'writeGLArray' was not exported. add it to EXTRA_EXPORTED_RUNTIME_METHODS (see the FAQ)")}),Object.getOwnPropertyDescriptor(o,"AL")||(o.AL=function(){Ht("'AL' was not exported. add it to EXTRA_EXPORTED_RUNTIME_METHODS (see the FAQ)")}),Object.getOwnPropertyDescriptor(o,"SDL_unicode")||(o.SDL_unicode=function(){Ht("'SDL_unicode' was not exported. add it to EXTRA_EXPORTED_RUNTIME_METHODS (see the FAQ)")}),Object.getOwnPropertyDescriptor(o,"SDL_ttfContext")||(o.SDL_ttfContext=function(){Ht("'SDL_ttfContext' was not exported. add it to EXTRA_EXPORTED_RUNTIME_METHODS (see the FAQ)")}),Object.getOwnPropertyDescriptor(o,"SDL_audio")||(o.SDL_audio=function(){Ht("'SDL_audio' was not exported. add it to EXTRA_EXPORTED_RUNTIME_METHODS (see the FAQ)")}),Object.getOwnPropertyDescriptor(o,"SDL")||(o.SDL=function(){Ht("'SDL' was not exported. add it to EXTRA_EXPORTED_RUNTIME_METHODS (see the FAQ)")}),Object.getOwnPropertyDescriptor(o,"SDL_gfx")||(o.SDL_gfx=function(){Ht("'SDL_gfx' was not exported. add it to EXTRA_EXPORTED_RUNTIME_METHODS (see the FAQ)")}),Object.getOwnPropertyDescriptor(o,"GLUT")||(o.GLUT=function(){Ht("'GLUT' was not exported. add it to EXTRA_EXPORTED_RUNTIME_METHODS (see the FAQ)")}),Object.getOwnPropertyDescriptor(o,"EGL")||(o.EGL=function(){Ht("'EGL' was not exported. add it to EXTRA_EXPORTED_RUNTIME_METHODS (see the FAQ)")}),Object.getOwnPropertyDescriptor(o,"GLFW_Window")||(o.GLFW_Window=function(){Ht("'GLFW_Window' was not exported. add it to EXTRA_EXPORTED_RUNTIME_METHODS (see the FAQ)")}),Object.getOwnPropertyDescriptor(o,"GLFW")||(o.GLFW=function(){Ht("'GLFW' was not exported. add it to EXTRA_EXPORTED_RUNTIME_METHODS (see the FAQ)")}),Object.getOwnPropertyDescriptor(o,"GLEW")||(o.GLEW=function(){Ht("'GLEW' was not exported. add it to EXTRA_EXPORTED_RUNTIME_METHODS (see the FAQ)")}),Object.getOwnPropertyDescriptor(o,"IDBStore")||(o.IDBStore=function(){Ht("'IDBStore' was not exported. add it to EXTRA_EXPORTED_RUNTIME_METHODS (see the FAQ)")}),Object.getOwnPropertyDescriptor(o,"runAndAbortIfError")||(o.runAndAbortIfError=function(){Ht("'runAndAbortIfError' was not exported. add it to EXTRA_EXPORTED_RUNTIME_METHODS (see the FAQ)")}),Object.getOwnPropertyDescriptor(o,"emval_handle_array")||(o.emval_handle_array=function(){Ht("'emval_handle_array' was not exported. add it to EXTRA_EXPORTED_RUNTIME_METHODS (see the FAQ)")}),Object.getOwnPropertyDescriptor(o,"emval_free_list")||(o.emval_free_list=function(){Ht("'emval_free_list' was not exported. add it to EXTRA_EXPORTED_RUNTIME_METHODS (see the FAQ)")}),Object.getOwnPropertyDescriptor(o,"emval_symbols")||(o.emval_symbols=function(){Ht("'emval_symbols' was not exported. add it to EXTRA_EXPORTED_RUNTIME_METHODS (see the FAQ)")}),Object.getOwnPropertyDescriptor(o,"init_emval")||(o.init_emval=function(){Ht("'init_emval' was not exported. add it to EXTRA_EXPORTED_RUNTIME_METHODS (see the FAQ)")}),Object.getOwnPropertyDescriptor(o,"count_emval_handles")||(o.count_emval_handles=function(){Ht("'count_emval_handles' was not exported. add it to EXTRA_EXPORTED_RUNTIME_METHODS (see the FAQ)")}),Object.getOwnPropertyDescriptor(o,"get_first_emval")||(o.get_first_emval=function(){Ht("'get_first_emval' was not exported. add it to EXTRA_EXPORTED_RUNTIME_METHODS (see the FAQ)")}),Object.getOwnPropertyDescriptor(o,"getStringOrSymbol")||(o.getStringOrSymbol=function(){Ht("'getStringOrSymbol' was not exported. add it to EXTRA_EXPORTED_RUNTIME_METHODS (see the FAQ)")}),Object.getOwnPropertyDescriptor(o,"requireHandle")||(o.requireHandle=function(){Ht("'requireHandle' was not exported. add it to EXTRA_EXPORTED_RUNTIME_METHODS (see the FAQ)")}),Object.getOwnPropertyDescriptor(o,"emval_newers")||(o.emval_newers=function(){Ht("'emval_newers' was not exported. add it to EXTRA_EXPORTED_RUNTIME_METHODS (see the FAQ)")}),Object.getOwnPropertyDescriptor(o,"craftEmvalAllocator")||(o.craftEmvalAllocator=function(){Ht("'craftEmvalAllocator' was not exported. add it to EXTRA_EXPORTED_RUNTIME_METHODS (see the FAQ)")}),Object.getOwnPropertyDescriptor(o,"emval_get_global")||(o.emval_get_global=function(){Ht("'emval_get_global' was not exported. add it to EXTRA_EXPORTED_RUNTIME_METHODS (see the FAQ)")}),Object.getOwnPropertyDescriptor(o,"emval_methodCallers")||(o.emval_methodCallers=function(){Ht("'emval_methodCallers' was not exported. add it to EXTRA_EXPORTED_RUNTIME_METHODS (see the FAQ)")}),Object.getOwnPropertyDescriptor(o,"InternalError")||(o.InternalError=function(){Ht("'InternalError' was not exported. add it to EXTRA_EXPORTED_RUNTIME_METHODS (see the FAQ)")}),Object.getOwnPropertyDescriptor(o,"BindingError")||(o.BindingError=function(){Ht("'BindingError' was not exported. add it to EXTRA_EXPORTED_RUNTIME_METHODS (see the FAQ)")}),Object.getOwnPropertyDescriptor(o,"UnboundTypeError")||(o.UnboundTypeError=function(){Ht("'UnboundTypeError' was not exported. add it to EXTRA_EXPORTED_RUNTIME_METHODS (see the FAQ)")}),Object.getOwnPropertyDescriptor(o,"PureVirtualError")||(o.PureVirtualError=function(){Ht("'PureVirtualError' was not exported. add it to EXTRA_EXPORTED_RUNTIME_METHODS (see the FAQ)")}),Object.getOwnPropertyDescriptor(o,"init_embind")||(o.init_embind=function(){Ht("'init_embind' was not exported. add it to EXTRA_EXPORTED_RUNTIME_METHODS (see the FAQ)")}),Object.getOwnPropertyDescriptor(o,"throwInternalError")||(o.throwInternalError=function(){Ht("'throwInternalError' was not exported. add it to EXTRA_EXPORTED_RUNTIME_METHODS (see the FAQ)")}),Object.getOwnPropertyDescriptor(o,"throwBindingError")||(o.throwBindingError=function(){Ht("'throwBindingError' was not exported. add it to EXTRA_EXPORTED_RUNTIME_METHODS (see the FAQ)")}),Object.getOwnPropertyDescriptor(o,"throwUnboundTypeError")||(o.throwUnboundTypeError=function(){Ht("'throwUnboundTypeError' was not exported. add it to EXTRA_EXPORTED_RUNTIME_METHODS (see the FAQ)")}),Object.getOwnPropertyDescriptor(o,"ensureOverloadTable")||(o.ensureOverloadTable=function(){Ht("'ensureOverloadTable' was not exported. add it to EXTRA_EXPORTED_RUNTIME_METHODS (see the FAQ)")}),Object.getOwnPropertyDescriptor(o,"exposePublicSymbol")||(o.exposePublicSymbol=function(){Ht("'exposePublicSymbol' was not exported. add it to EXTRA_EXPORTED_RUNTIME_METHODS (see the FAQ)")}),Object.getOwnPropertyDescriptor(o,"replacePublicSymbol")||(o.replacePublicSymbol=function(){Ht("'replacePublicSymbol' was not exported. add it to EXTRA_EXPORTED_RUNTIME_METHODS (see the FAQ)")}),Object.getOwnPropertyDescriptor(o,"extendError")||(o.extendError=function(){Ht("'extendError' was not exported. add it to EXTRA_EXPORTED_RUNTIME_METHODS (see the FAQ)")}),Object.getOwnPropertyDescriptor(o,"createNamedFunction")||(o.createNamedFunction=function(){Ht("'createNamedFunction' was not exported. add it to EXTRA_EXPORTED_RUNTIME_METHODS (see the FAQ)")}),Object.getOwnPropertyDescriptor(o,"registeredInstances")||(o.registeredInstances=function(){Ht("'registeredInstances' was not exported. add it to EXTRA_EXPORTED_RUNTIME_METHODS (see the FAQ)")}),Object.getOwnPropertyDescriptor(o,"getBasestPointer")||(o.getBasestPointer=function(){Ht("'getBasestPointer' was not exported. add it to EXTRA_EXPORTED_RUNTIME_METHODS (see the FAQ)")}),Object.getOwnPropertyDescriptor(o,"registerInheritedInstance")||(o.registerInheritedInstance=function(){Ht("'registerInheritedInstance' was not exported. add it to EXTRA_EXPORTED_RUNTIME_METHODS (see the FAQ)")}),Object.getOwnPropertyDescriptor(o,"unregisterInheritedInstance")||(o.unregisterInheritedInstance=function(){Ht("'unregisterInheritedInstance' was not exported. add it to EXTRA_EXPORTED_RUNTIME_METHODS (see the FAQ)")}),Object.getOwnPropertyDescriptor(o,"getInheritedInstance")||(o.getInheritedInstance=function(){Ht("'getInheritedInstance' was not exported. add it to EXTRA_EXPORTED_RUNTIME_METHODS (see the FAQ)")}),Object.getOwnPropertyDescriptor(o,"getInheritedInstanceCount")||(o.getInheritedInstanceCount=function(){Ht("'getInheritedInstanceCount' was not exported. add it to EXTRA_EXPORTED_RUNTIME_METHODS (see the FAQ)")}),Object.getOwnPropertyDescriptor(o,"getLiveInheritedInstances")||(o.getLiveInheritedInstances=function(){Ht("'getLiveInheritedInstances' was not exported. add it to EXTRA_EXPORTED_RUNTIME_METHODS (see the FAQ)")}),Object.getOwnPropertyDescriptor(o,"registeredTypes")||(o.registeredTypes=function(){Ht("'registeredTypes' was not exported. add it to EXTRA_EXPORTED_RUNTIME_METHODS (see the FAQ)")}),Object.getOwnPropertyDescriptor(o,"awaitingDependencies")||(o.awaitingDependencies=function(){Ht("'awaitingDependencies' was not exported. add it to EXTRA_EXPORTED_RUNTIME_METHODS (see the FAQ)")}),Object.getOwnPropertyDescriptor(o,"typeDependencies")||(o.typeDependencies=function(){Ht("'typeDependencies' was not exported. add it to EXTRA_EXPORTED_RUNTIME_METHODS (see the FAQ)")}),Object.getOwnPropertyDescriptor(o,"registeredPointers")||(o.registeredPointers=function(){Ht("'registeredPointers' was not exported. add it to EXTRA_EXPORTED_RUNTIME_METHODS (see the FAQ)")}),Object.getOwnPropertyDescriptor(o,"registerType")||(o.registerType=function(){Ht("'registerType' was not exported. add it to EXTRA_EXPORTED_RUNTIME_METHODS (see the FAQ)")}),Object.getOwnPropertyDescriptor(o,"whenDependentTypesAreResolved")||(o.whenDependentTypesAreResolved=function(){Ht("'whenDependentTypesAreResolved' was not exported. add it to EXTRA_EXPORTED_RUNTIME_METHODS (see the FAQ)")}),Object.getOwnPropertyDescriptor(o,"embind_charCodes")||(o.embind_charCodes=function(){Ht("'embind_charCodes' was not exported. add it to EXTRA_EXPORTED_RUNTIME_METHODS (see the FAQ)")}),Object.getOwnPropertyDescriptor(o,"embind_init_charCodes")||(o.embind_init_charCodes=function(){Ht("'embind_init_charCodes' was not exported. add it to EXTRA_EXPORTED_RUNTIME_METHODS (see the FAQ)")}),Object.getOwnPropertyDescriptor(o,"readLatin1String")||(o.readLatin1String=function(){Ht("'readLatin1String' was not exported. add it to EXTRA_EXPORTED_RUNTIME_METHODS (see the FAQ)")}),Object.getOwnPropertyDescriptor(o,"getTypeName")||(o.getTypeName=function(){Ht("'getTypeName' was not exported. add it to EXTRA_EXPORTED_RUNTIME_METHODS (see the FAQ)")}),Object.getOwnPropertyDescriptor(o,"heap32VectorToArray")||(o.heap32VectorToArray=function(){Ht("'heap32VectorToArray' was not exported. add it to EXTRA_EXPORTED_RUNTIME_METHODS (see the FAQ)")}),Object.getOwnPropertyDescriptor(o,"requireRegisteredType")||(o.requireRegisteredType=function(){Ht("'requireRegisteredType' was not exported. add it to EXTRA_EXPORTED_RUNTIME_METHODS (see the FAQ)")}),Object.getOwnPropertyDescriptor(o,"getShiftFromSize")||(o.getShiftFromSize=function(){Ht("'getShiftFromSize' was not exported. add it to EXTRA_EXPORTED_RUNTIME_METHODS (see the FAQ)")}),Object.getOwnPropertyDescriptor(o,"integerReadValueFromPointer")||(o.integerReadValueFromPointer=function(){Ht("'integerReadValueFromPointer' was not exported. add it to EXTRA_EXPORTED_RUNTIME_METHODS (see the FAQ)")}),Object.getOwnPropertyDescriptor(o,"enumReadValueFromPointer")||(o.enumReadValueFromPointer=function(){Ht("'enumReadValueFromPointer' was not exported. add it to EXTRA_EXPORTED_RUNTIME_METHODS (see the FAQ)")}),Object.getOwnPropertyDescriptor(o,"floatReadValueFromPointer")||(o.floatReadValueFromPointer=function(){Ht("'floatReadValueFromPointer' was not exported. add it to EXTRA_EXPORTED_RUNTIME_METHODS (see the FAQ)")}),Object.getOwnPropertyDescriptor(o,"simpleReadValueFromPointer")||(o.simpleReadValueFromPointer=function(){Ht("'simpleReadValueFromPointer' was not exported. add it to EXTRA_EXPORTED_RUNTIME_METHODS (see the FAQ)")}),Object.getOwnPropertyDescriptor(o,"runDestructors")||(o.runDestructors=function(){Ht("'runDestructors' was not exported. add it to EXTRA_EXPORTED_RUNTIME_METHODS (see the FAQ)")}),Object.getOwnPropertyDescriptor(o,"new_")||(o.new_=function(){Ht("'new_' was not exported. add it to EXTRA_EXPORTED_RUNTIME_METHODS (see the FAQ)")}),Object.getOwnPropertyDescriptor(o,"craftInvokerFunction")||(o.craftInvokerFunction=function(){Ht("'craftInvokerFunction' was not exported. add it to EXTRA_EXPORTED_RUNTIME_METHODS (see the FAQ)")}),Object.getOwnPropertyDescriptor(o,"embind__requireFunction")||(o.embind__requireFunction=function(){Ht("'embind__requireFunction' was not exported. add it to EXTRA_EXPORTED_RUNTIME_METHODS (see the FAQ)")}),Object.getOwnPropertyDescriptor(o,"tupleRegistrations")||(o.tupleRegistrations=function(){Ht("'tupleRegistrations' was not exported. add it to EXTRA_EXPORTED_RUNTIME_METHODS (see the FAQ)")}),Object.getOwnPropertyDescriptor(o,"structRegistrations")||(o.structRegistrations=function(){Ht("'structRegistrations' was not exported. add it to EXTRA_EXPORTED_RUNTIME_METHODS (see the FAQ)")}),Object.getOwnPropertyDescriptor(o,"genericPointerToWireType")||(o.genericPointerToWireType=function(){Ht("'genericPointerToWireType' was not exported. add it to EXTRA_EXPORTED_RUNTIME_METHODS (see the FAQ)")}),Object.getOwnPropertyDescriptor(o,"constNoSmartPtrRawPointerToWireType")||(o.constNoSmartPtrRawPointerToWireType=function(){Ht("'constNoSmartPtrRawPointerToWireType' was not exported. add it to EXTRA_EXPORTED_RUNTIME_METHODS (see the FAQ)")}),Object.getOwnPropertyDescriptor(o,"nonConstNoSmartPtrRawPointerToWireType")||(o.nonConstNoSmartPtrRawPointerToWireType=function(){Ht("'nonConstNoSmartPtrRawPointerToWireType' was not exported. add it to EXTRA_EXPORTED_RUNTIME_METHODS (see the FAQ)")}),Object.getOwnPropertyDescriptor(o,"init_RegisteredPointer")||(o.init_RegisteredPointer=function(){Ht("'init_RegisteredPointer' was not exported. add it to EXTRA_EXPORTED_RUNTIME_METHODS (see the FAQ)")}),Object.getOwnPropertyDescriptor(o,"RegisteredPointer")||(o.RegisteredPointer=function(){Ht("'RegisteredPointer' was not exported. add it to EXTRA_EXPORTED_RUNTIME_METHODS (see the FAQ)")}),Object.getOwnPropertyDescriptor(o,"RegisteredPointer_getPointee")||(o.RegisteredPointer_getPointee=function(){Ht("'RegisteredPointer_getPointee' was not exported. add it to EXTRA_EXPORTED_RUNTIME_METHODS (see the FAQ)")}),Object.getOwnPropertyDescriptor(o,"RegisteredPointer_destructor")||(o.RegisteredPointer_destructor=function(){Ht("'RegisteredPointer_destructor' was not exported. add it to EXTRA_EXPORTED_RUNTIME_METHODS (see the FAQ)")}),Object.getOwnPropertyDescriptor(o,"RegisteredPointer_deleteObject")||(o.RegisteredPointer_deleteObject=function(){Ht("'RegisteredPointer_deleteObject' was not exported. add it to EXTRA_EXPORTED_RUNTIME_METHODS (see the FAQ)")}),Object.getOwnPropertyDescriptor(o,"RegisteredPointer_fromWireType")||(o.RegisteredPointer_fromWireType=function(){Ht("'RegisteredPointer_fromWireType' was not exported. add it to EXTRA_EXPORTED_RUNTIME_METHODS (see the FAQ)")}),Object.getOwnPropertyDescriptor(o,"runDestructor")||(o.runDestructor=function(){Ht("'runDestructor' was not exported. add it to EXTRA_EXPORTED_RUNTIME_METHODS (see the FAQ)")}),Object.getOwnPropertyDescriptor(o,"releaseClassHandle")||(o.releaseClassHandle=function(){Ht("'releaseClassHandle' was not exported. add it to EXTRA_EXPORTED_RUNTIME_METHODS (see the FAQ)")}),Object.getOwnPropertyDescriptor(o,"finalizationGroup")||(o.finalizationGroup=function(){Ht("'finalizationGroup' was not exported. add it to EXTRA_EXPORTED_RUNTIME_METHODS (see the FAQ)")}),Object.getOwnPropertyDescriptor(o,"detachFinalizer_deps")||(o.detachFinalizer_deps=function(){Ht("'detachFinalizer_deps' was not exported. add it to EXTRA_EXPORTED_RUNTIME_METHODS (see the FAQ)")}),Object.getOwnPropertyDescriptor(o,"detachFinalizer")||(o.detachFinalizer=function(){Ht("'detachFinalizer' was not exported. add it to EXTRA_EXPORTED_RUNTIME_METHODS (see the FAQ)")}),Object.getOwnPropertyDescriptor(o,"attachFinalizer")||(o.attachFinalizer=function(){Ht("'attachFinalizer' was not exported. add it to EXTRA_EXPORTED_RUNTIME_METHODS (see the FAQ)")}),Object.getOwnPropertyDescriptor(o,"makeClassHandle")||(o.makeClassHandle=function(){Ht("'makeClassHandle' was not exported. add it to EXTRA_EXPORTED_RUNTIME_METHODS (see the FAQ)")}),Object.getOwnPropertyDescriptor(o,"init_ClassHandle")||(o.init_ClassHandle=function(){Ht("'init_ClassHandle' was not exported. add it to EXTRA_EXPORTED_RUNTIME_METHODS (see the FAQ)")}),Object.getOwnPropertyDescriptor(o,"ClassHandle")||(o.ClassHandle=function(){Ht("'ClassHandle' was not exported. add it to EXTRA_EXPORTED_RUNTIME_METHODS (see the FAQ)")}),Object.getOwnPropertyDescriptor(o,"ClassHandle_isAliasOf")||(o.ClassHandle_isAliasOf=function(){Ht("'ClassHandle_isAliasOf' was not exported. add it to EXTRA_EXPORTED_RUNTIME_METHODS (see the FAQ)")}),Object.getOwnPropertyDescriptor(o,"throwInstanceAlreadyDeleted")||(o.throwInstanceAlreadyDeleted=function(){Ht("'throwInstanceAlreadyDeleted' was not exported. add it to EXTRA_EXPORTED_RUNTIME_METHODS (see the FAQ)")}),Object.getOwnPropertyDescriptor(o,"ClassHandle_clone")||(o.ClassHandle_clone=function(){Ht("'ClassHandle_clone' was not exported. add it to EXTRA_EXPORTED_RUNTIME_METHODS (see the FAQ)")}),Object.getOwnPropertyDescriptor(o,"ClassHandle_delete")||(o.ClassHandle_delete=function(){Ht("'ClassHandle_delete' was not exported. add it to EXTRA_EXPORTED_RUNTIME_METHODS (see the FAQ)")}),Object.getOwnPropertyDescriptor(o,"deletionQueue")||(o.deletionQueue=function(){Ht("'deletionQueue' was not exported. add it to EXTRA_EXPORTED_RUNTIME_METHODS (see the FAQ)")}),Object.getOwnPropertyDescriptor(o,"ClassHandle_isDeleted")||(o.ClassHandle_isDeleted=function(){Ht("'ClassHandle_isDeleted' was not exported. add it to EXTRA_EXPORTED_RUNTIME_METHODS (see the FAQ)")}),Object.getOwnPropertyDescriptor(o,"ClassHandle_deleteLater")||(o.ClassHandle_deleteLater=function(){Ht("'ClassHandle_deleteLater' was not exported. add it to EXTRA_EXPORTED_RUNTIME_METHODS (see the FAQ)")}),Object.getOwnPropertyDescriptor(o,"flushPendingDeletes")||(o.flushPendingDeletes=function(){Ht("'flushPendingDeletes' was not exported. add it to EXTRA_EXPORTED_RUNTIME_METHODS (see the FAQ)")}),Object.getOwnPropertyDescriptor(o,"delayFunction")||(o.delayFunction=function(){Ht("'delayFunction' was not exported. add it to EXTRA_EXPORTED_RUNTIME_METHODS (see the FAQ)")}),Object.getOwnPropertyDescriptor(o,"setDelayFunction")||(o.setDelayFunction=function(){Ht("'setDelayFunction' was not exported. add it to EXTRA_EXPORTED_RUNTIME_METHODS (see the FAQ)")}),Object.getOwnPropertyDescriptor(o,"RegisteredClass")||(o.RegisteredClass=function(){Ht("'RegisteredClass' was not exported. add it to EXTRA_EXPORTED_RUNTIME_METHODS (see the FAQ)")}),Object.getOwnPropertyDescriptor(o,"shallowCopyInternalPointer")||(o.shallowCopyInternalPointer=function(){Ht("'shallowCopyInternalPointer' was not exported. add it to EXTRA_EXPORTED_RUNTIME_METHODS (see the FAQ)")}),Object.getOwnPropertyDescriptor(o,"downcastPointer")||(o.downcastPointer=function(){Ht("'downcastPointer' was not exported. add it to EXTRA_EXPORTED_RUNTIME_METHODS (see the FAQ)")}),Object.getOwnPropertyDescriptor(o,"upcastPointer")||(o.upcastPointer=function(){Ht("'upcastPointer' was not exported. add it to EXTRA_EXPORTED_RUNTIME_METHODS (see the FAQ)")}),Object.getOwnPropertyDescriptor(o,"validateThis")||(o.validateThis=function(){Ht("'validateThis' was not exported. add it to EXTRA_EXPORTED_RUNTIME_METHODS (see the FAQ)")}),Object.getOwnPropertyDescriptor(o,"char_0")||(o.char_0=function(){Ht("'char_0' was not exported. add it to EXTRA_EXPORTED_RUNTIME_METHODS (see the FAQ)")}),Object.getOwnPropertyDescriptor(o,"char_9")||(o.char_9=function(){Ht("'char_9' was not exported. add it to EXTRA_EXPORTED_RUNTIME_METHODS (see the FAQ)")}),Object.getOwnPropertyDescriptor(o,"makeLegalFunctionName")||(o.makeLegalFunctionName=function(){Ht("'makeLegalFunctionName' was not exported. add it to EXTRA_EXPORTED_RUNTIME_METHODS (see the FAQ)")}),Object.getOwnPropertyDescriptor(o,"warnOnce")||(o.warnOnce=function(){Ht("'warnOnce' was not exported. add it to EXTRA_EXPORTED_RUNTIME_METHODS (see the FAQ)")}),Object.getOwnPropertyDescriptor(o,"stackSave")||(o.stackSave=function(){Ht("'stackSave' was not exported. add it to EXTRA_EXPORTED_RUNTIME_METHODS (see the FAQ)")}),Object.getOwnPropertyDescriptor(o,"stackRestore")||(o.stackRestore=function(){Ht("'stackRestore' was not exported. add it to EXTRA_EXPORTED_RUNTIME_METHODS (see the FAQ)")}),Object.getOwnPropertyDescriptor(o,"stackAlloc")||(o.stackAlloc=function(){Ht("'stackAlloc' was not exported. add it to EXTRA_EXPORTED_RUNTIME_METHODS (see the FAQ)")}),Object.getOwnPropertyDescriptor(o,"AsciiToString")||(o.AsciiToString=function(){Ht("'AsciiToString' was not exported. add it to EXTRA_EXPORTED_RUNTIME_METHODS (see the FAQ)")}),Object.getOwnPropertyDescriptor(o,"stringToAscii")||(o.stringToAscii=function(){Ht("'stringToAscii' was not exported. add it to EXTRA_EXPORTED_RUNTIME_METHODS (see the FAQ)")}),Object.getOwnPropertyDescriptor(o,"UTF16ToString")||(o.UTF16ToString=function(){Ht("'UTF16ToString' was not exported. add it to EXTRA_EXPORTED_RUNTIME_METHODS (see the FAQ)")}),Object.getOwnPropertyDescriptor(o,"stringToUTF16")||(o.stringToUTF16=function(){Ht("'stringToUTF16' was not exported. add it to EXTRA_EXPORTED_RUNTIME_METHODS (see the FAQ)")}),Object.getOwnPropertyDescriptor(o,"lengthBytesUTF16")||(o.lengthBytesUTF16=function(){Ht("'lengthBytesUTF16' was not exported. add it to EXTRA_EXPORTED_RUNTIME_METHODS (see the FAQ)")}),Object.getOwnPropertyDescriptor(o,"UTF32ToString")||(o.UTF32ToString=function(){Ht("'UTF32ToString' was not exported. add it to EXTRA_EXPORTED_RUNTIME_METHODS (see the FAQ)")}),Object.getOwnPropertyDescriptor(o,"stringToUTF32")||(o.stringToUTF32=function(){Ht("'stringToUTF32' was not exported. add it to EXTRA_EXPORTED_RUNTIME_METHODS (see the FAQ)")}),Object.getOwnPropertyDescriptor(o,"lengthBytesUTF32")||(o.lengthBytesUTF32=function(){Ht("'lengthBytesUTF32' was not exported. add it to EXTRA_EXPORTED_RUNTIME_METHODS (see the FAQ)")}),Object.getOwnPropertyDescriptor(o,"allocateUTF8")||(o.allocateUTF8=function(){Ht("'allocateUTF8' was not exported. add it to EXTRA_EXPORTED_RUNTIME_METHODS (see the FAQ)")}),Object.getOwnPropertyDescriptor(o,"allocateUTF8OnStack")||(o.allocateUTF8OnStack=function(){Ht("'allocateUTF8OnStack' was not exported. add it to EXTRA_EXPORTED_RUNTIME_METHODS (see the FAQ)")}),o.writeStackCookie=ft,o.checkStackCookie=mt,Object.getOwnPropertyDescriptor(o,"ALLOC_NORMAL")||Object.defineProperty(o,"ALLOC_NORMAL",{configurable:!0,get:function(){Ht("'ALLOC_NORMAL' was not exported. add it to EXTRA_EXPORTED_RUNTIME_METHODS (see the FAQ)")}}),Object.getOwnPropertyDescriptor(o,"ALLOC_STACK")||Object.defineProperty(o,"ALLOC_STACK",{configurable:!0,get:function(){Ht("'ALLOC_STACK' was not exported. add it to EXTRA_EXPORTED_RUNTIME_METHODS (see the FAQ)")}}),Object.getOwnPropertyDescriptor(o,"ALLOC_NONE")||Object.defineProperty(o,"ALLOC_NONE",{configurable:!0,get:function(){Ht("'ALLOC_NONE' was not exported. add it to EXTRA_EXPORTED_RUNTIME_METHODS (see the FAQ)")}}),Lt=function t(){us||Da(),us||(Lt=t)},o.run=Da,o.preInit)for("function"==typeof o.preInit&&(o.preInit=[o.preInit]);o.preInit.length>0;)o.preInit.pop()();var La=!0;return o.noInitialRun&&(La=!1),O=!0,Da(),t.ready});t.exports=r},fGT3:function(t,e,n){var i=n("4kuk"),r=n("Xi7e"),o=n("ebwN");t.exports=function(){this.size=0,this.__data__={hash:new i,map:new(o||r),string:new i}}},"fR/l":function(t,e,n){var i=n("CH3K"),r=n("Z0cm");t.exports=function(t,e,n){var o=e(t);return r(t)?o:i(o,n(t))}},fmRc:function(t,e,n){var i=n("Xi7e"),r=n("77Zs"),o=n("L8xA"),s=n("gCq4"),a=n("VaNO"),l=n("0Cz8");function c(t){var e=this.__data__=new i(t);this.size=e.size}c.prototype.clear=r,c.prototype.delete=o,c.prototype.get=s,c.prototype.has=a,c.prototype.set=l,t.exports=c},ftKO:function(t,e){t.exports=function(t){return this.__data__.set(t,"__lodash_hash_undefined__"),this}},gCq4:function(t,e){t.exports=function(t){return this.__data__.get(t)}},gFfm:function(t,e){t.exports=function(t,e){for(var n=-1,i=null==t?0:t.length;++n<i&&!1!==e(t[n],n,t););return t}},gUib:function(t,e,n){var i;(function(){var n=this,r=n._,o=Array.prototype,s=Object.prototype,a=Function.prototype,l=o.push,c=o.slice,u=s.toString,h=s.hasOwnProperty,d=Array.isArray,p=Object.keys,f=a.bind,m=Object.create,g=function(){},y=function(t){return t instanceof y?t:this instanceof y?void(this._wrapped=t):new y(t)};t.exports&&(e=t.exports=y),e._=y,y.VERSION="1.8.3";var _=function(t,e,n){if(void 0===e)return t;switch(null==n?3:n){case 1:return function(n){return t.call(e,n)};case 2:return function(n,i){return t.call(e,n,i)};case 3:return function(n,i,r){return t.call(e,n,i,r)};case 4:return function(n,i,r,o){return t.call(e,n,i,r,o)}}return function(){return t.apply(e,arguments)}},v=function(t,e,n){return null==t?y.identity:y.isFunction(t)?_(t,e,n):y.isObject(t)?y.matcher(t):y.property(t)};y.iteratee=function(t,e){return v(t,e,1/0)};var b=function(t,e){return function(n){var i=arguments.length;if(i<2||null==n)return n;for(var r=1;r<i;r++)for(var o=arguments[r],s=t(o),a=s.length,l=0;l<a;l++){var c=s[l];e&&void 0!==n[c]||(n[c]=o[c])}return n}},w=function(t){if(!y.isObject(t))return{};if(m)return m(t);g.prototype=t;var e=new g;return g.prototype=null,e},C=function(t){return function(e){return null==e?void 0:e[t]}},x=Math.pow(2,53)-1,E=C("length"),S=function(t){var e=E(t);return"number"==typeof e&&e>=0&&e<=x};function P(t){function e(e,n,i,r,o,s){for(;o>=0&&o<s;o+=t){var a=r?r[o]:o;i=n(i,e[a],a,e)}return i}return function(n,i,r,o){i=_(i,o,4);var s=!S(n)&&y.keys(n),a=(s||n).length,l=t>0?0:a-1;return arguments.length<3&&(r=n[s?s[l]:l],l+=t),e(n,i,r,s,l,a)}}y.each=y.forEach=function(t,e,n){var i,r;if(e=_(e,n),S(t))for(i=0,r=t.length;i<r;i++)e(t[i],i,t);else{var o=y.keys(t);for(i=0,r=o.length;i<r;i++)e(t[o[i]],o[i],t)}return t},y.map=y.collect=function(t,e,n){e=v(e,n);for(var i=!S(t)&&y.keys(t),r=(i||t).length,o=Array(r),s=0;s<r;s++){var a=i?i[s]:s;o[s]=e(t[a],a,t)}return o},y.reduce=y.foldl=y.inject=P(1),y.reduceRight=y.foldr=P(-1),y.find=y.detect=function(t,e,n){var i;if(void 0!==(i=S(t)?y.findIndex(t,e,n):y.findKey(t,e,n))&&-1!==i)return t[i]},y.filter=y.select=function(t,e,n){var i=[];return e=v(e,n),y.each(t,(function(t,n,r){e(t,n,r)&&i.push(t)})),i},y.reject=function(t,e,n){return y.filter(t,y.negate(v(e)),n)},y.every=y.all=function(t,e,n){e=v(e,n);for(var i=!S(t)&&y.keys(t),r=(i||t).length,o=0;o<r;o++){var s=i?i[o]:o;if(!e(t[s],s,t))return!1}return!0},y.some=y.any=function(t,e,n){e=v(e,n);for(var i=!S(t)&&y.keys(t),r=(i||t).length,o=0;o<r;o++){var s=i?i[o]:o;if(e(t[s],s,t))return!0}return!1},y.contains=y.includes=y.include=function(t,e,n,i){return S(t)||(t=y.values(t)),("number"!=typeof n||i)&&(n=0),y.indexOf(t,e,n)>=0},y.invoke=function(t,e){var n=c.call(arguments,2),i=y.isFunction(e);return y.map(t,(function(t){var r=i?e:t[e];return null==r?r:r.apply(t,n)}))},y.pluck=function(t,e){return y.map(t,y.property(e))},y.where=function(t,e){return y.filter(t,y.matcher(e))},y.findWhere=function(t,e){return y.find(t,y.matcher(e))},y.max=function(t,e,n){var i,r,o=-1/0,s=-1/0;if(null==e&&null!=t)for(var a=0,l=(t=S(t)?t:y.values(t)).length;a<l;a++)(i=t[a])>o&&(o=i);else e=v(e,n),y.each(t,(function(t,n,i){((r=e(t,n,i))>s||r===-1/0&&o===-1/0)&&(o=t,s=r)}));return o},y.min=function(t,e,n){var i,r,o=1/0,s=1/0;if(null==e&&null!=t)for(var a=0,l=(t=S(t)?t:y.values(t)).length;a<l;a++)(i=t[a])<o&&(o=i);else e=v(e,n),y.each(t,(function(t,n,i){((r=e(t,n,i))<s||r===1/0&&o===1/0)&&(o=t,s=r)}));return o},y.shuffle=function(t){for(var e,n=S(t)?t:y.values(t),i=n.length,r=Array(i),o=0;o<i;o++)(e=y.random(0,o))!==o&&(r[o]=r[e]),r[e]=n[o];return r},y.sample=function(t,e,n){return null==e||n?(S(t)||(t=y.values(t)),t[y.random(t.length-1)]):y.shuffle(t).slice(0,Math.max(0,e))},y.sortBy=function(t,e,n){return e=v(e,n),y.pluck(y.map(t,(function(t,n,i){return{value:t,index:n,criteria:e(t,n,i)}})).sort((function(t,e){var n=t.criteria,i=e.criteria;if(n!==i){if(n>i||void 0===n)return 1;if(n<i||void 0===i)return-1}return t.index-e.index})),"value")};var O=function(t){return function(e,n,i){var r={};return n=v(n,i),y.each(e,(function(i,o){var s=n(i,o,e);t(r,i,s)})),r}};y.groupBy=O((function(t,e,n){y.has(t,n)?t[n].push(e):t[n]=[e]})),y.indexBy=O((function(t,e,n){t[n]=e})),y.countBy=O((function(t,e,n){y.has(t,n)?t[n]++:t[n]=1})),y.toArray=function(t){return t?y.isArray(t)?c.call(t):S(t)?y.map(t,y.identity):y.values(t):[]},y.size=function(t){return null==t?0:S(t)?t.length:y.keys(t).length},y.partition=function(t,e,n){e=v(e,n);var i=[],r=[];return y.each(t,(function(t,n,o){(e(t,n,o)?i:r).push(t)})),[i,r]},y.first=y.head=y.take=function(t,e,n){if(null!=t)return null==e||n?t[0]:y.initial(t,t.length-e)},y.initial=function(t,e,n){return c.call(t,0,Math.max(0,t.length-(null==e||n?1:e)))},y.last=function(t,e,n){if(null!=t)return null==e||n?t[t.length-1]:y.rest(t,Math.max(0,t.length-e))},y.rest=y.tail=y.drop=function(t,e,n){return c.call(t,null==e||n?1:e)},y.compact=function(t){return y.filter(t,y.identity)};var k=function(t,e,n,i){for(var r=[],o=0,s=i||0,a=E(t);s<a;s++){var l=t[s];if(S(l)&&(y.isArray(l)||y.isArguments(l))){e||(l=k(l,e,n));var c=0,u=l.length;for(r.length+=u;c<u;)r[o++]=l[c++]}else n||(r[o++]=l)}return r};function T(t){return function(e,n,i){n=v(n,i);for(var r=E(e),o=t>0?0:r-1;o>=0&&o<r;o+=t)if(n(e[o],o,e))return o;return-1}}function I(t,e,n){return function(i,r,o){var s=0,a=E(i);if("number"==typeof o)t>0?s=o>=0?o:Math.max(o+a,s):a=o>=0?Math.min(o+1,a):o+a+1;else if(n&&o&&a)return i[o=n(i,r)]===r?o:-1;if(r!=r)return(o=e(c.call(i,s,a),y.isNaN))>=0?o+s:-1;for(o=t>0?s:a-1;o>=0&&o<a;o+=t)if(i[o]===r)return o;return-1}}y.flatten=function(t,e){return k(t,e,!1)},y.without=function(t){return y.difference(t,c.call(arguments,1))},y.uniq=y.unique=function(t,e,n,i){y.isBoolean(e)||(i=n,n=e,e=!1),null!=n&&(n=v(n,i));for(var r=[],o=[],s=0,a=E(t);s<a;s++){var l=t[s],c=n?n(l,s,t):l;e?(s&&o===c||r.push(l),o=c):n?y.contains(o,c)||(o.push(c),r.push(l)):y.contains(r,l)||r.push(l)}return r},y.union=function(){return y.uniq(k(arguments,!0,!0))},y.intersection=function(t){for(var e=[],n=arguments.length,i=0,r=E(t);i<r;i++){var o=t[i];if(!y.contains(e,o)){for(var s=1;s<n&&y.contains(arguments[s],o);s++);s===n&&e.push(o)}}return e},y.difference=function(t){var e=k(arguments,!0,!0,1);return y.filter(t,(function(t){return!y.contains(e,t)}))},y.zip=function(){return y.unzip(arguments)},y.unzip=function(t){for(var e=t&&y.max(t,E).length||0,n=Array(e),i=0;i<e;i++)n[i]=y.pluck(t,i);return n},y.object=function(t,e){for(var n={},i=0,r=E(t);i<r;i++)e?n[t[i]]=e[i]:n[t[i][0]]=t[i][1];return n},y.findIndex=T(1),y.findLastIndex=T(-1),y.sortedIndex=function(t,e,n,i){for(var r=(n=v(n,i,1))(e),o=0,s=E(t);o<s;){var a=Math.floor((o+s)/2);n(t[a])<r?o=a+1:s=a}return o},y.indexOf=I(1,y.findIndex,y.sortedIndex),y.lastIndexOf=I(-1,y.findLastIndex),y.range=function(t,e,n){null==e&&(e=t||0,t=0),n=n||1;for(var i=Math.max(Math.ceil((e-t)/n),0),r=Array(i),o=0;o<i;o++,t+=n)r[o]=t;return r};var A=function(t,e,n,i,r){if(!(i instanceof e))return t.apply(n,r);var o=w(t.prototype),s=t.apply(o,r);return y.isObject(s)?s:o};y.bind=function(t,e){if(f&&t.bind===f)return f.apply(t,c.call(arguments,1));if(!y.isFunction(t))throw new TypeError("Bind must be called on a function");var n=c.call(arguments,2),i=function(){return A(t,i,e,this,n.concat(c.call(arguments)))};return i},y.partial=function(t){var e=c.call(arguments,1),n=function(){for(var i=0,r=e.length,o=Array(r),s=0;s<r;s++)o[s]=e[s]===y?arguments[i++]:e[s];for(;i<arguments.length;)o.push(arguments[i++]);return A(t,n,this,this,o)};return n},y.bindAll=function(t){var e,n,i=arguments.length;if(i<=1)throw new Error("bindAll must be passed function names");for(e=1;e<i;e++)t[n=arguments[e]]=y.bind(t[n],t);return t},y.memoize=function(t,e){var n=function(i){var r=n.cache,o=""+(e?e.apply(this,arguments):i);return y.has(r,o)||(r[o]=t.apply(this,arguments)),r[o]};return n.cache={},n},y.delay=function(t,e){var n=c.call(arguments,2);return setTimeout((function(){return t.apply(null,n)}),e)},y.defer=y.partial(y.delay,y,1),y.throttle=function(t,e,n){var i,r,o,s=null,a=0;n||(n={});var l=function(){a=!1===n.leading?0:y.now(),s=null,o=t.apply(i,r),s||(i=r=null)};return function(){var c=y.now();a||!1!==n.leading||(a=c);var u=e-(c-a);return i=this,r=arguments,u<=0||u>e?(s&&(clearTimeout(s),s=null),a=c,o=t.apply(i,r),s||(i=r=null)):s||!1===n.trailing||(s=setTimeout(l,u)),o}},y.debounce=function(t,e,n){var i,r,o,s,a,l=function(){var c=y.now()-s;c<e&&c>=0?i=setTimeout(l,e-c):(i=null,n||(a=t.apply(o,r),i||(o=r=null)))};return function(){o=this,r=arguments,s=y.now();var c=n&&!i;return i||(i=setTimeout(l,e)),c&&(a=t.apply(o,r),o=r=null),a}},y.wrap=function(t,e){return y.partial(e,t)},y.negate=function(t){return function(){return!t.apply(this,arguments)}},y.compose=function(){var t=arguments,e=t.length-1;return function(){for(var n=e,i=t[e].apply(this,arguments);n--;)i=t[n].call(this,i);return i}},y.after=function(t,e){return function(){if(--t<1)return e.apply(this,arguments)}},y.before=function(t,e){var n;return function(){return--t>0&&(n=e.apply(this,arguments)),t<=1&&(e=null),n}},y.once=y.partial(y.before,2);var M=!{toString:null}.propertyIsEnumerable("toString"),D=["valueOf","isPrototypeOf","toString","propertyIsEnumerable","hasOwnProperty","toLocaleString"];function R(t,e){var n=D.length,i=t.constructor,r=y.isFunction(i)&&i.prototype||s,o="constructor";for(y.has(t,o)&&!y.contains(e,o)&&e.push(o);n--;)(o=D[n])in t&&t[o]!==r[o]&&!y.contains(e,o)&&e.push(o)}y.keys=function(t){if(!y.isObject(t))return[];if(p)return p(t);var e=[];for(var n in t)y.has(t,n)&&e.push(n);return M&&R(t,e),e},y.allKeys=function(t){if(!y.isObject(t))return[];var e=[];for(var n in t)e.push(n);return M&&R(t,e),e},y.values=function(t){for(var e=y.keys(t),n=e.length,i=Array(n),r=0;r<n;r++)i[r]=t[e[r]];return i},y.mapObject=function(t,e,n){e=v(e,n);for(var i,r=y.keys(t),o=r.length,s={},a=0;a<o;a++)s[i=r[a]]=e(t[i],i,t);return s},y.pairs=function(t){for(var e=y.keys(t),n=e.length,i=Array(n),r=0;r<n;r++)i[r]=[e[r],t[e[r]]];return i},y.invert=function(t){for(var e={},n=y.keys(t),i=0,r=n.length;i<r;i++)e[t[n[i]]]=n[i];return e},y.functions=y.methods=function(t){var e=[];for(var n in t)y.isFunction(t[n])&&e.push(n);return e.sort()},y.extend=b(y.allKeys),y.extendOwn=y.assign=b(y.keys),y.findKey=function(t,e,n){e=v(e,n);for(var i,r=y.keys(t),o=0,s=r.length;o<s;o++)if(e(t[i=r[o]],i,t))return i},y.pick=function(t,e,n){var i,r,o={},s=t;if(null==s)return o;y.isFunction(e)?(r=y.allKeys(s),i=_(e,n)):(r=k(arguments,!1,!1,1),i=function(t,e,n){return e in n},s=Object(s));for(var a=0,l=r.length;a<l;a++){var c=r[a],u=s[c];i(u,c,s)&&(o[c]=u)}return o},y.omit=function(t,e,n){if(y.isFunction(e))e=y.negate(e);else{var i=y.map(k(arguments,!1,!1,1),String);e=function(t,e){return!y.contains(i,e)}}return y.pick(t,e,n)},y.defaults=b(y.allKeys,!0),y.create=function(t,e){var n=w(t);return e&&y.extendOwn(n,e),n},y.clone=function(t){return y.isObject(t)?y.isArray(t)?t.slice():y.extend({},t):t},y.tap=function(t,e){return e(t),t},y.isMatch=function(t,e){var n=y.keys(e),i=n.length;if(null==t)return!i;for(var r=Object(t),o=0;o<i;o++){var s=n[o];if(e[s]!==r[s]||!(s in r))return!1}return!0};var F=function(t,e,n,i){if(t===e)return 0!==t||1/t==1/e;if(null==t||null==e)return t===e;t instanceof y&&(t=t._wrapped),e instanceof y&&(e=e._wrapped);var r=u.call(t);if(r!==u.call(e))return!1;switch(r){case"[object RegExp]":case"[object String]":return""+t==""+e;case"[object Number]":return+t!=+t?+e!=+e:0==+t?1/+t==1/e:+t==+e;case"[object Date]":case"[object Boolean]":return+t==+e}var o="[object Array]"===r;if(!o){if("object"!=typeof t||"object"!=typeof e)return!1;var s=t.constructor,a=e.constructor;if(s!==a&&!(y.isFunction(s)&&s instanceof s&&y.isFunction(a)&&a instanceof a)&&"constructor"in t&&"constructor"in e)return!1}i=i||[];for(var l=(n=n||[]).length;l--;)if(n[l]===t)return i[l]===e;if(n.push(t),i.push(e),o){if((l=t.length)!==e.length)return!1;for(;l--;)if(!F(t[l],e[l],n,i))return!1}else{var c,h=y.keys(t);if(l=h.length,y.keys(e).length!==l)return!1;for(;l--;)if(!y.has(e,c=h[l])||!F(t[c],e[c],n,i))return!1}return n.pop(),i.pop(),!0};y.isEqual=function(t,e){return F(t,e)},y.isEmpty=function(t){return null==t||(S(t)&&(y.isArray(t)||y.isString(t)||y.isArguments(t))?0===t.length:0===y.keys(t).length)},y.isElement=function(t){return!(!t||1!==t.nodeType)},y.isArray=d||function(t){return"[object Array]"===u.call(t)},y.isObject=function(t){var e=typeof t;return"function"===e||"object"===e&&!!t},y.each(["Arguments","Function","String","Number","Date","RegExp","Error"],(function(t){y["is"+t]=function(e){return u.call(e)==="[object "+t+"]"}})),y.isArguments(arguments)||(y.isArguments=function(t){return y.has(t,"callee")}),"object"!=typeof Int8Array&&(y.isFunction=function(t){return"function"==typeof t||!1}),y.isFinite=function(t){return isFinite(t)&&!isNaN(parseFloat(t))},y.isNaN=function(t){return y.isNumber(t)&&t!==+t},y.isBoolean=function(t){return!0===t||!1===t||"[object Boolean]"===u.call(t)},y.isNull=function(t){return null===t},y.isUndefined=function(t){return void 0===t},y.has=function(t,e){return null!=t&&h.call(t,e)},y.noConflict=function(){return n._=r,this},y.identity=function(t){return t},y.constant=function(t){return function(){return t}},y.noop=function(){},y.property=C,y.propertyOf=function(t){return null==t?function(){}:function(e){return t[e]}},y.matcher=y.matches=function(t){return t=y.extendOwn({},t),function(e){return y.isMatch(e,t)}},y.times=function(t,e,n){var i=Array(Math.max(0,t));e=_(e,n,1);for(var r=0;r<t;r++)i[r]=e(r);return i},y.random=function(t,e){return null==e&&(e=t,t=0),t+Math.floor(Math.random()*(e-t+1))},y.now=Date.now||function(){return(new Date).getTime()};var L={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#x27;","`":"&#x60;"},B=y.invert(L),N=function(t){var e=function(e){return t[e]},n="(?:"+y.keys(t).join("|")+")",i=RegExp(n),r=RegExp(n,"g");return function(t){return i.test(t=null==t?"":""+t)?t.replace(r,e):t}};y.escape=N(L),y.unescape=N(B),y.result=function(t,e,n){var i=null==t?void 0:t[e];return void 0===i&&(i=n),y.isFunction(i)?i.call(t):i};var j=0;y.uniqueId=function(t){var e=++j+"";return t?t+e:e},y.templateSettings={evaluate:/<%([\s\S]+?)%>/g,interpolate:/<%=([\s\S]+?)%>/g,escape:/<%-([\s\S]+?)%>/g};var z=/(.)^/,H={"'":"'","\\":"\\","\r":"r","\n":"n","\u2028":"u2028","\u2029":"u2029"},V=/\\|'|\r|\n|\u2028|\u2029/g,U=function(t){return"\\"+H[t]};y.template=function(t,e,n){!e&&n&&(e=n),e=y.defaults({},e,y.templateSettings);var i=RegExp([(e.escape||z).source,(e.interpolate||z).source,(e.evaluate||z).source].join("|")+"|$","g"),r=0,o="__p+='";t.replace(i,(function(e,n,i,s,a){return o+=t.slice(r,a).replace(V,U),r=a+e.length,n?o+="'+\n((__t=("+n+"))==null?'':_.escape(__t))+\n'":i?o+="'+\n((__t=("+i+"))==null?'':__t)+\n'":s&&(o+="';\n"+s+"\n__p+='"),e})),o+="';\n",e.variable||(o="with(obj||{}){\n"+o+"}\n"),o="var __t,__p='',__j=Array.prototype.join,print=function(){__p+=__j.call(arguments,'');};\n"+o+"return __p;\n";try{var s=new Function(e.variable||"obj","_",o)}catch(l){throw l.source=o,l}var a=function(t){return s.call(this,t,y)};return a.source="function("+(e.variable||"obj")+"){\n"+o+"}",a},y.chain=function(t){var e=y(t);return e._chain=!0,e};var W=function(t,e){return t._chain?y(e).chain():e};y.mixin=function(t){y.each(y.functions(t),(function(e){var n=y[e]=t[e];y.prototype[e]=function(){var t=[this._wrapped];return l.apply(t,arguments),W(this,n.apply(y,t))}}))},y.mixin(y),y.each(["pop","push","reverse","shift","sort","splice","unshift"],(function(t){var e=o[t];y.prototype[t]=function(){var n=this._wrapped;return e.apply(n,arguments),"shift"!==t&&"splice"!==t||0!==n.length||delete n[0],W(this,n)}})),y.each(["concat","join","slice"],(function(t){var e=o[t];y.prototype[t]=function(){return W(this,e.apply(this._wrapped,arguments))}})),y.prototype.value=function(){return this._wrapped},y.prototype.valueOf=y.prototype.toJSON=y.prototype.value,y.prototype.toString=function(){return""+this._wrapped},void 0===(i=(function(){return y}).apply(e,[]))||(t.exports=i)}).call(this)},gpbi:function(t,e,n){var i=n("ZWtO"),r=n("KxBF");t.exports=function(t,e){return e.length<2?t:i(t,r(e,0,-1))}},heNW:function(t,e){t.exports=function(t,e,n){switch(n.length){case 0:return t.call(e);case 1:return t.call(e,n[0]);case 2:return t.call(e,n[0],n[1]);case 3:return t.call(e,n[0],n[1],n[2])}return t.apply(e,n)}},hgQt:function(t,e,n){var i=n("Juji"),r=n("4sDh");t.exports=function(t,e){return null!=t&&r(t,e,i)}},hypo:function(t,e,n){var i=n("O0oS");t.exports=function(t,e,n){"__proto__"==e&&i?i(t,e,{configurable:!0,enumerable:!0,value:n,writable:!0}):t[e]=n}},idmN:function(t,e,n){var i=n("ZWtO"),r=n("FZoo"),o=n("4uTw");t.exports=function(t,e,n){for(var s=-1,a=e.length,l={};++s<a;){var c=e[s],u=i(t,c);n(u,c)&&r(l,o(c,t),u)}return l}},ijCd:function(t,e,n){var i=n("R/W3"),r=n("MMmD"),o=n("4qC0"),s=n("Sxd8"),a=n("P/G1"),l=Math.max;t.exports=function(t,e,n,c){t=r(t)?t:a(t),n=n&&!c?s(n):0;var u=t.length;return n<0&&(n=l(u+n,0)),o(t)?n<=u&&t.indexOf(e,n)>-1:!!u&&i(t,e,n)>-1}},itsj:function(t,e){t.exports=function(t,e){if(("constructor"!==e||"function"!=typeof t[e])&&"__proto__"!=e)return t[e]}},jeLo:function(t,e,n){var i=n("juv8"),r=n("mTTR");t.exports=function(t){return i(t,r(t))}},juv8:function(t,e,n){var i=n("MrPd"),r=n("hypo");t.exports=function(t,e,n,o){var s=!n;n||(n={});for(var a=-1,l=e.length;++a<l;){var c=e[a],u=o?o(n[c],t[c],c,n,t):void 0;void 0===u&&(u=t[c]),s?r(n,c,u):i(n,c,u)}return n}},"k+1r":function(t,e,n){var i=n("QkVE");t.exports=function(t){var e=i(this,t).delete(t);return this.size-=e?1:0,e}},kekF:function(t,e){t.exports=function(t,e){return function(n){return t(e(n))}}},kiQV:function(t){t.exports=JSON.parse('{"b":"0.0.87","a":{"@angular-devkit/build-angular":"~0.901.4","@angular/animations":"~9.0.5","@angular/cdk":"~9.2.2","@angular/cli":"~9.1.4","@angular/common":"^9.0.7","@angular/compiler":"^9.1.4","@angular/compiler-cli":"^9.1.4","@angular/core":"^9.1.12","@angular/elements":"^9.1.4","@angular/forms":"~9.0.5","@angular/language-service":"~9.0.5","@angular/material":"~9.2.4","@angular/platform-browser":"~9.0.5","@angular/platform-browser-dynamic":"~9.0.5","@angular/router":"~9.0.5","@aurigma/color-picker":"1.0.24","@aurigma/design-atoms":"6.9.4","@compodoc/compodoc":"^1.1.11","@ngrx/store":"^9.2.0","@ngrx/store-devtools":"^9.2.0","@ngx-translate/core":"^12.1.2","@ngx-translate/http-loader":"^4.0.0","@types/immutable":"^3.8.7","@types/jasmine":"~3.5.0","@types/jasminewd2":"~2.0.3","@types/lodash-es":"^4.17.3","@types/node":"^12.12.47","@types/uuid":"^8.3.0","angular-resizable-element":"^3.3.3","angular-tree-component":"^8.5.6","bootstrap":"^4.5.0","codelyzer":"^5.2.2","concat":"^1.0.3","document-register-element":"^1.14.3","fs-extra":"^8.1.0","hammerjs":"^2.0.8","husky":"^4.2.5","jasmine-core":"~3.4.0","jasmine-spec-reporter":"~4.2.1","karma":"~4.1.0","karma-chrome-launcher":"~2.2.0","karma-coverage-istanbul-reporter":"~2.0.1","karma-jasmine":"~2.0.1","karma-jasmine-html-reporter":"^1.4.0","linq-iterator":"3.0.5","lodash-es":"^4.17.15","nouislider":"8.5.1","path":"^0.12.7","prettier":"2.0.4","protractor":"~5.4.0","rxjs":"~6.5.5","ts-keycode-enum":"^1.0.6","ts-node":"~7.0.0","tslib":"^1.10.0","tslint":"~5.15.0","tsmonad":"0.8.0","typescript":"~3.8.3","underscore":"1.9.2","zone.js":"~0.9.1"}}')},lQqw:function(t,e,n){var i=n("MMmD");t.exports=function(t,e){return function(n,r){if(null==n)return n;if(!i(n))return t(n,r);for(var o=n.length,s=e?o:-1,a=Object(n);(e?s--:++s<o)&&!1!==r(a[s],s,a););return n}}},lSCD:function(t,e,n){var i=n("NykK"),r=n("GoyQ");t.exports=function(t){if(!r(t))return!1;var e=i(t);return"[object Function]"==e||"[object GeneratorFunction]"==e||"[object AsyncFunction]"==e||"[object Proxy]"==e}},lYgx:function(t,e,n){"use strict";var i=n("TqRt");Object.defineProperty(e,"__esModule",{value:!0}),e.vCard=void 0;var r=i(n("1OyB")),o=i(n("vuIU")),s=n("rZm9");e.vCard=function(){function t(){(0,r.default)(this,t),this.uid=void 0,this.anniversary=void 0,this.birthday=void 0,this.cellPhone=void 0,this.pagerPhone=void 0,this.email=void 0,this.workEmail=void 0,this.firstName=void 0,this.formattedName=void 0,this.gender=void 0,this.homeAddress=void 0,this.homePhone=void 0,this.homeFax=void 0,this.lastName=void 0,this.logo=void 0,this.middleName=void 0,this.namePrefix=void 0,this.nameSuffix=void 0,this.nickname=void 0,this.note=void 0,this.organization=void 0,this.otherEmail=void 0,this.otherPhone=void 0,this.photo=void 0,this.role=void 0,this.socialUrls=void 0,this.source=void 0,this.title=void 0,this.url=void 0,this.workUrl=void 0,this.workAddress=void 0,this.workPhone=void 0,this.workFax=void 0,this.version="3"}return(0,o.default)(t,[{key:"getMajorVersion",value:function(){var t=this.version?this.version.split(".")[0]:"4";return isNaN(Number(t))?4:Number(t)}},{key:"getFormattedString",value:function(t){return s.vCardFormatter.getFormattedString(this,t)}}]),t}()},ljhN:function(t,e){t.exports=function(t,e){return t===e||t!=t&&e!=e}},"lm/5":function(t,e,n){var i=n("fmRc"),r=n("wF/u");t.exports=function(t,e,n,o){var s=n.length,a=s,l=!o;if(null==t)return!a;for(t=Object(t);s--;){var c=n[s];if(l&&c[2]?c[1]!==t[c[0]]:!(c[0]in t))return!1}for(;++s<a;){var u=(c=n[s])[0],h=t[u],d=c[1];if(l&&c[2]){if(void 0===h&&!(u in t))return!1}else{var p=new i;if(o)var f=o(h,d,u,t,e,p);if(!(void 0===f?r(d,h,3,o,p):f))return!1}}return!0}},mTTR:function(t,e,n){var i=n("b80T"),r=n("QcOe"),o=n("MMmD");t.exports=function(t){return o(t)?i(t,!0):r(t)}},mc0g:function(t,e){t.exports=function(t){return function(e,n,i){for(var r=-1,o=Object(e),s=i(e),a=s.length;a--;){var l=s[t?a:++r];if(!1===n(o[l],l,o))break}return e}}},mdPL:function(t,e,n){(function(t){var i=n("WFqU"),r=e&&!e.nodeType&&e,o=r&&"object"==typeof t&&t&&!t.nodeType&&t,s=o&&o.exports===r&&i.process,a=function(){try{return o&&o.require&&o.require("util").types||s&&s.binding&&s.binding("util")}catch(t){}}();t.exports=a}).call(this,n("YuTi")(t))},msI6:function(t,e,n){"use strict";var i=n("Pueh"),r="object"==typeof self&&self&&self.Object===Object&&self,o=i.a||r||Function("return this")();e.a=o},"mv/X":function(t,e,n){var i=n("ljhN"),r=n("MMmD"),o=n("wJg7"),s=n("GoyQ");t.exports=function(t,e,n){if(!s(n))return!1;var a=typeof e;return!!("number"==a?r(n)&&o(e,n.length):"string"==a&&e in n)&&i(n[e],t)}},mwIZ:function(t,e,n){var i=n("ZWtO");t.exports=function(t,e,n){var r=null==t?void 0:i(t,e);return void 0===r?n:r}},nmnc:function(t,e,n){var i=n("Kz5y");t.exports=i.Symbol},"oCl/":function(t,e,n){var i=n("CH3K"),r=n("LcsW"),o=n("MvSz"),s=n("0ycA");t.exports=Object.getOwnPropertySymbols?function(t){for(var e=[];t;)i(e,o(t)),t=r(t);return e}:s},or5M:function(t,e,n){var i=n("1hJj"),r=n("QoRX"),o=n("xYSL");t.exports=function(t,e,n,s,a,l){var c=1&n,u=t.length,h=e.length;if(u!=h&&!(c&&h>u))return!1;var d=l.get(t);if(d&&l.get(e))return d==e;var p=-1,f=!0,m=2&n?new i:void 0;for(l.set(t,e),l.set(e,t);++p<u;){var g=t[p],y=e[p];if(s)var _=c?s(y,g,p,e,t,l):s(g,y,p,t,e,l);if(void 0!==_){if(_)continue;f=!1;break}if(m){if(!r(e,(function(t,e){if(!o(m,e)&&(g===t||a(g,t,n,s,l)))return m.push(e)}))){f=!1;break}}else if(g!==y&&!a(g,y,n,s,l)){f=!1;break}}return l.delete(t),l.delete(e),f}},"otv/":function(t,e,n){var i=n("nmnc"),r=i?i.prototype:void 0,o=r?r.valueOf:void 0;t.exports=function(t){return o?Object(o.call(t)):{}}},pFRH:function(t,e,n){var i=n("cvCv"),r=n("O0oS"),o=n("zZ0H");t.exports=r?function(t,e){return r(t,"toString",{configurable:!0,enumerable:!1,value:i(e),writable:!0})}:o},pSRY:function(t,e,n){var i=n("QkVE");t.exports=function(t){return i(this,t).has(t)}},pZt1:function(t,e){t.exports=function(t){return t&&t.length?t[0]:void 0}},qZTm:function(t,e,n){var i=n("fR/l"),r=n("MvSz"),o=n("7GkX");t.exports=function(t){return i(t,o,r)}},rEGp:function(t,e){t.exports=function(t){var e=-1,n=Array(t.size);return t.forEach((function(t){n[++e]=t})),n}},rZm9:function(t,e,n){"use strict";var i=n("TqRt");Object.defineProperty(e,"__esModule",{value:!0}),e.vCardFormatter=void 0;var r=i(n("1OyB")),o=i(n("vuIU")),s=n("A0GU");e.vCardFormatter=function(){function t(){(0,r.default)(this,t)}return(0,o.default)(t,null,[{key:"e",value:function(t){return t?("string"!=typeof t&&(t=""+t),t.replace(/\n/g,"\\n").replace(/,/g,"\\,").replace(/;/g,"\\;")):""}},{key:"nl",value:function(){return"\r\n"}},{key:"getFormattedPhoto",value:function(e,n,i,r,o){return e+(i>=4?r?";ENCODING=b;MEDIATYPE=image/":";MEDIATYPE=image/":3===i?r?";ENCODING=b;TYPE=":";TYPE=":r?";ENCODING=BASE64;":";")+o+":"+t.e(n)+t.nl()}},{key:"getFormattedAddress",value:function(e,n,i){if(!n.details)return"";var r="";return(n.details.label||n.details.street||n.details.city||n.details.stateProvince||n.details.postalCode||n.details.countryRegion)&&(i>=4?r="ADR"+e+";TYPE="+n.type+(n.details.label?';LABEL="'+t.e(n.details.label)+'"':"")+":"+t.e(n.details.poBox)+";"+t.e(n.details.extendedAddress)+";"+t.e(n.details.street)+";"+t.e(n.details.city)+";"+t.e(n.details.stateProvince)+";"+t.e(n.details.postalCode)+";"+t.e(n.details.countryRegion)+t.nl():(n.details.label&&(r="LABEL"+e+";TYPE="+n.type+":"+t.e(n.details.label)+t.nl()),r+="ADR"+e+";TYPE="+n.type+":;;"+t.e(n.details.street)+";"+t.e(n.details.city)+";"+t.e(n.details.stateProvince)+";"+t.e(n.details.postalCode)+";"+t.e(n.details.countryRegion)+t.nl())),r}},{key:"getFormattedDate",value:function(t){return t.getFullYear()+("0"+(t.getMonth()+1)).slice(-2)+("0"+t.getDate()).slice(-2)}},{key:"getFormattedString",value:function(e,n){null==n&&(n={skipCharset:!1,skipShowAs:!1,skipRevision:!1});var i=e.getMajorVersion(),r="";r+="BEGIN:VCARD"+t.nl(),r+="VERSION:"+e.version+t.nl();var o=i>=4||n.skipCharset?"":";CHARSET=UTF-8",a=e.formattedName||"";if(a||[e.firstName,e.middleName,e.lastName].map((function(t){return t||""})).forEach((function(t){t&&a&&(a+=" "),a+=t})),r+="FN"+o+":"+t.e(a)+t.nl(),r+="N"+o+":"+t.e(e.lastName)+";"+t.e(e.firstName)+";"+t.e(e.middleName)+";"+t.e(e.namePrefix)+";"+t.e(e.nameSuffix)+t.nl(),e.nickname&&i>=3&&(r+="NICKNAME"+o+":"+t.e(e.nickname)+t.nl()),e.gender&&(r+="GENDER:"+t.e(e.gender)+t.nl()),e.uid&&(r+="UID"+o+":"+t.e(e.uid)+t.nl()),e.birthday&&(r+="BDAY:"+t.getFormattedDate(e.birthday)+t.nl()),e.anniversary&&(r+="ANNIVERSARY:"+t.getFormattedDate(e.anniversary)+t.nl()),e.email&&(Array.isArray(e.email)||(e.email=[e.email]),e.email.forEach((function(e){r+=i>=4?"EMAIL"+o+";type=HOME:"+t.e(e)+t.nl():i>=3&&i<4?"EMAIL"+o+";type=HOME,INTERNET:"+t.e(e)+t.nl():"EMAIL"+o+";HOME;INTERNET:"+t.e(e)+t.nl()}))),e.workEmail&&(Array.isArray(e.workEmail)||(e.workEmail=[e.workEmail]),e.workEmail.forEach((function(e){r+=i>=4?"EMAIL"+o+";type=WORK:"+t.e(e)+t.nl():i>=3&&i<4?"EMAIL"+o+";type=WORK,INTERNET:"+t.e(e)+t.nl():"EMAIL"+o+";WORK;INTERNET:"+t.e(e)+t.nl()}))),e.otherEmail&&(Array.isArray(e.otherEmail)||(e.otherEmail=[e.otherEmail]),e.otherEmail.forEach((function(e){r+=i>=4?"EMAIL"+o+";type=OTHER:"+t.e(e)+t.nl():i>=3&&i<4?"EMAIL"+o+";type=OTHER,INTERNET:"+t.e(e)+t.nl():"EMAIL"+o+";OTHER;INTERNET:"+t.e(e)+t.nl()}))),e.logo&&e.logo.url&&(r+=t.getFormattedPhoto("LOGO",e.logo.url,i,e.logo.base64,e.logo.mediaType)),e.photo&&e.photo.url&&(r+=t.getFormattedPhoto("PHOTO",e.photo.url,i,e.photo.base64,e.photo.mediaType)),e.cellPhone&&(Array.isArray(e.cellPhone)||(e.cellPhone=[e.cellPhone]),e.cellPhone.forEach((function(e){r+=i>=4?'TEL;VALUE=uri;TYPE="voice,cell":tel:'+t.e(e)+t.nl():"TEL;TYPE=CELL:"+t.e(e)+t.nl()}))),e.pagerPhone&&(Array.isArray(e.pagerPhone)||(e.pagerPhone=[e.pagerPhone]),e.pagerPhone.forEach((function(e){r+=i>=4?'TEL;VALUE=uri;TYPE="pager,cell":tel:'+t.e(e)+t.nl():"TEL;TYPE=PAGER:"+t.e(e)+t.nl()}))),e.homePhone&&(Array.isArray(e.homePhone)||(e.homePhone=[e.homePhone]),e.homePhone.forEach((function(e){r+=i>=4?'TEL;VALUE=uri;TYPE="voice,home":tel:'+t.e(e)+t.nl():"TEL;TYPE=HOME,VOICE:"+t.e(e)+t.nl()}))),e.workPhone&&(Array.isArray(e.workPhone)||(e.workPhone=[e.workPhone]),e.workPhone.forEach((function(e){r+=i>=4?'TEL;VALUE=uri;TYPE="voice,work":tel:'+t.e(e)+t.nl():"TEL;TYPE=WORK,VOICE:"+t.e(e)+t.nl()}))),e.homeFax&&(Array.isArray(e.homeFax)||(e.homeFax=[e.homeFax]),e.homeFax.forEach((function(e){r+=i>=4?'TEL;VALUE=uri;TYPE="fax,home":tel:'+t.e(e)+t.nl():"TEL;TYPE=HOME,FAX:"+t.e(e)+t.nl()}))),e.workFax&&(Array.isArray(e.workFax)||(e.workFax=[e.workFax]),e.workFax.forEach((function(e){r+=i>=4?'TEL;VALUE=uri;TYPE="fax,work":tel:'+t.e(e)+t.nl():"TEL;TYPE=WORK,FAX:"+t.e(e)+t.nl()}))),e.otherPhone&&(Array.isArray(e.otherPhone)||(e.otherPhone=[e.otherPhone]),e.otherPhone.forEach((function(e){r+=i>=4?'TEL;VALUE=uri;TYPE="voice,other":tel:'+t.e(e)+t.nl():"TEL;TYPE=OTHER:"+t.e(e)+t.nl()}))),[{details:e.homeAddress,type:s.vCardAddressType.HOME},{details:e.workAddress,type:s.vCardAddressType.WORK}].filter((function(t){return t.details})).forEach((function(e){r+=t.getFormattedAddress(o,e,i)})),e.title&&(r+="TITLE"+o+":"+t.e(e.title)+t.nl()),e.role&&(r+="ROLE"+o+":"+t.e(e.role)+t.nl()),e.organization&&(r+="ORG"+o+":"+t.e(e.organization)+t.nl()),e.url&&(r+="URL"+o+":"+t.e(e.url)+t.nl()),e.workUrl&&(r+="URL;type=WORK"+o+":"+t.e(e.workUrl)+t.nl()),e.note&&(r+="NOTE"+o+":"+t.e(e.note)+t.nl()),e.socialUrls)for(var l in e.socialUrls.keys())e.socialUrls.has(l)&&(r+="X-SOCIALPROFILE;TYPE="+l+":"+t.e(e.socialUrls.get(l))+t.nl());return e.source&&(r+="SOURCE"+o+":"+t.e(e.source)+t.nl()),n.skipRevision||(r+="REV:"+(new Date).toISOString()+t.nl()),e.organization&&!n.skipShowAs&&(r+="X-ABShowAs:COMPANY"+t.nl()),r+="END:VCARD"+t.nl()}}]),t}()},sEf8:function(t,e){t.exports=function(t){return function(e){return t(e)}}},sEfC:function(t,e,n){var i=n("GoyQ"),r=n("QIyF"),o=n("tLB3"),s=Math.max,a=Math.min;t.exports=function(t,e,n){var l,c,u,h,d,p,f=0,m=!1,g=!1,y=!0;if("function"!=typeof t)throw new TypeError("Expected a function");function _(e){var n=l,i=c;return l=c=void 0,f=e,h=t.apply(i,n)}function v(t){return f=t,d=setTimeout(w,e),m?_(t):h}function b(t){var n=t-p;return void 0===p||n>=e||n<0||g&&t-f>=u}function w(){var t=r();if(b(t))return C(t);d=setTimeout(w,function(t){var n=e-(t-p);return g?a(n,u-(t-f)):n}(t))}function C(t){return d=void 0,y&&l?_(t):(l=c=void 0,h)}function x(){var t=r(),n=b(t);if(l=arguments,c=this,p=t,n){if(void 0===d)return v(p);if(g)return clearTimeout(d),d=setTimeout(w,e),_(p)}return void 0===d&&(d=setTimeout(w,e)),h}return e=o(e)||0,i(n)&&(m=!!n.leading,u=(g="maxWait"in n)?s(o(n.maxWait)||0,e):u,y="trailing"in n?!!n.trailing:y),x.cancel=function(){void 0!==d&&clearTimeout(d),f=0,l=p=c=d=void 0},x.flush=function(){return void 0===d?h:C(r())},x}},seXi:function(t,e,n){var i=n("qZTm"),r=Object.prototype.hasOwnProperty;t.exports=function(t,e,n,o,s,a){var l=1&n,c=i(t),u=c.length;if(u!=i(e).length&&!l)return!1;for(var h=u;h--;){var d=c[h];if(!(l?d in e:r.call(e,d)))return!1}var p=a.get(t);if(p&&a.get(e))return p==e;var f=!0;a.set(t,e),a.set(e,t);for(var m=l;++h<u;){var g=t[d=c[h]],y=e[d];if(o)var _=l?o(y,g,d,e,t,a):o(g,y,d,t,e,a);if(!(void 0===_?g===y||s(g,y,n,o,a):_)){f=!1;break}m||(m="constructor"==d)}if(f&&!m){var v=t.constructor,b=e.constructor;v==b||!("constructor"in t)||!("constructor"in e)||"function"==typeof v&&v instanceof v&&"function"==typeof b&&b instanceof b||(f=!1)}return a.delete(t),a.delete(e),f}},shjB:function(t,e){t.exports=function(t){return"number"==typeof t&&t>-1&&t%1==0&&t<=9007199254740991}},t2Dn:function(t,e,n){var i=n("hypo"),r=n("ljhN");t.exports=function(t,e,n){(void 0!==n&&!r(t[e],n)||void 0===n&&!(e in t))&&i(t,e,n)}},tLB3:function(t,e,n){var i=n("GoyQ"),r=n("/9aa"),o=/^\s+|\s+$/g,s=/^[-+]0x[0-9a-f]+$/i,a=/^0b[01]+$/i,l=/^0o[0-7]+$/i,c=parseInt;t.exports=function(t){if("number"==typeof t)return t;if(r(t))return NaN;if(i(t)){var e="function"==typeof t.valueOf?t.valueOf():t;t=i(e)?e+"":e}if("string"!=typeof t)return 0===t?t:+t;t=t.replace(o,"");var n=a.test(t);return n||l.test(t)?c(t.slice(2),n?2:8):s.test(t)?NaN:+t}},tMB7:function(t,e,n){var i=n("y1pI");t.exports=function(t){var e=this.__data__,n=i(e,t);return n<0?void 0:e[n][1]}},tadb:function(t,e,n){var i=n("Cwc5")(n("Kz5y"),"DataView");t.exports=i},u8Dt:function(t,e,n){var i=n("YESw"),r=Object.prototype.hasOwnProperty;t.exports=function(t){var e=this.__data__;if(i){var n=e[t];return"__lodash_hash_undefined__"===n?void 0:n}return r.call(e,t)?e[t]:void 0}},"ut/Y":function(t,e,n){var i=n("ZCpW"),r=n("GDhZ"),o=n("zZ0H"),s=n("Z0cm"),a=n("+c4W");t.exports=function(t){return"function"==typeof t?t:null==t?o:"object"==typeof t?s(t)?r(t[0],t[1]):i(t):a(t)}},vLAJ:function(t,e,n){!function(e,n){"use strict";var i=function t(e,n){return new t.Instance(e,n||{})};i.VERSION="1.1.3",i.defaults={behavior:{userSelect:"none",touchAction:"pan-y",touchCallout:"none",contentZooming:"none",userDrag:"none",tapHighlightColor:"rgba(0,0,0,0)"}},i.DOCUMENT=document,i.HAS_POINTEREVENTS=navigator.pointerEnabled||navigator.msPointerEnabled,i.HAS_TOUCHEVENTS="ontouchstart"in e,i.IS_MOBILE=/mobile|tablet|ip(ad|hone|od)|android|silk/i.test(navigator.userAgent),i.NO_MOUSEEVENTS=i.HAS_TOUCHEVENTS&&i.IS_MOBILE||i.HAS_POINTEREVENTS,i.CALCULATE_INTERVAL=25;var r={},o=i.DIRECTION_DOWN="down",s=i.DIRECTION_LEFT="left",a=i.DIRECTION_UP="up",l=i.DIRECTION_RIGHT="right",c=i.POINTER_MOUSE="mouse",u=i.POINTER_TOUCH="touch",h=i.POINTER_PEN="pen",d=i.EVENT_START="start",p=i.EVENT_MOVE="move",f=i.EVENT_END="end",m=i.EVENT_RELEASE="release",g=i.EVENT_TOUCH="touch";i.READY=!1,i.plugins=i.plugins||{},i.gestures=i.gestures||{};var y=i.utils={extend:function(t,e,n){for(var i in e)!e.hasOwnProperty(i)||void 0!==t[i]&&n||(t[i]=e[i]);return t},on:function(t,e,n){t.addEventListener(e,n,!1)},off:function(t,e,n){t.removeEventListener(e,n,!1)},each:function(t,e,n){var i,r;if("forEach"in t)t.forEach(e,n);else if(void 0!==t.length){for(i=0,r=t.length;i<r;i++)if(!1===e.call(n,t[i],i,t))return}else for(i in t)if(t.hasOwnProperty(i)&&!1===e.call(n,t[i],i,t))return},inStr:function(t,e){return t.indexOf(e)>-1},inArray:function(t,e){if(t.indexOf){var n=t.indexOf(e);return-1!==n&&n}for(var i=0,r=t.length;i<r;i++)if(t[i]===e)return i;return!1},toArray:function(t){return Array.prototype.slice.call(t,0)},hasParent:function(t,e){for(;t;){if(t==e)return!0;t=t.parentNode}return!1},getCenter:function(t){var e=[],n=[],i=[],r=[],o=Math.min,s=Math.max;return 1===t.length?{pageX:t[0].pageX,pageY:t[0].pageY,clientX:t[0].clientX,clientY:t[0].clientY}:(y.each(t,(function(t){e.push(t.pageX),n.push(t.pageY),i.push(t.clientX),r.push(t.clientY)})),{pageX:(o.apply(Math,e)+s.apply(Math,e))/2,pageY:(o.apply(Math,n)+s.apply(Math,n))/2,clientX:(o.apply(Math,i)+s.apply(Math,i))/2,clientY:(o.apply(Math,r)+s.apply(Math,r))/2})},getVelocity:function(t,e,n){return{x:Math.abs(e/t)||0,y:Math.abs(n/t)||0}},getAngle:function(t,e){return 180*Math.atan2(e.clientY-t.clientY,e.clientX-t.clientX)/Math.PI},getDirection:function(t,e){return Math.abs(t.clientX-e.clientX)>=Math.abs(t.clientY-e.clientY)?t.clientX-e.clientX>0?s:l:t.clientY-e.clientY>0?a:o},getDistance:function(t,e){var n=e.clientX-t.clientX,i=e.clientY-t.clientY;return Math.sqrt(n*n+i*i)},getScale:function(t,e){return t.length>=2&&e.length>=2?this.getDistance(e[0],e[1])/this.getDistance(t[0],t[1]):1},getRotation:function(t,e){return t.length>=2&&e.length>=2?this.getAngle(e[1],e[0])-this.getAngle(t[1],t[0]):0},isVertical:function(t){return t==a||t==o},setPrefixedCss:function(t,e,n,i){var r=["","Webkit","Moz","O","ms"];e=y.toCamelCase(e);for(var o=0;o<r.length;o++){var s=e;if(r[o]&&(s=r[o]+s.slice(0,1).toUpperCase()+s.slice(1)),s in t.style){t.style[s]=(null==i||i)&&n||"";break}}},toggleBehavior:function(t,e,n){if(e&&t&&t.style){y.each(e,(function(e,i){y.setPrefixedCss(t,i,e,n)}));var i=n&&function(){return!1};"none"==e.userSelect&&(t.onselectstart=i),"none"==e.userDrag&&(t.ondragstart=i)}},toCamelCase:function(t){return t.replace(/[_-]([a-z])/g,(function(t){return t[1].toUpperCase()}))}};(i.Instance=function(t,e){var n=this;i.READY||(C.determineEventTypes(),y.each(i.gestures,(function(t){E.register(t)})),C.onTouch(i.DOCUMENT,p,E.detect),C.onTouch(i.DOCUMENT,f,E.detect),i.READY=!0),this.element=t,this.enabled=!0,y.each(e,(function(t,n){delete e[n],e[y.toCamelCase(n)]=t})),this.options=y.extend(y.extend({},i.defaults),e||{}),this.options.behavior&&y.toggleBehavior(this.element,this.options.behavior,!0),this.eventStartHandler=C.onTouch(t,d,(function(t){n.enabled&&t.eventType==d?E.startDetect(n,t):t.eventType==g&&E.detect(t)})),this.eventHandlers=[]}).prototype={on:function(t,e){var n=this;return C.on(n.element,t,e,(function(t){n.eventHandlers.push({gesture:t,handler:e})})),n},off:function(t,e){var n=this;return C.off(n.element,t,e,(function(t){var i=y.inArray({gesture:t,handler:e});!1!==i&&n.eventHandlers.splice(i,1)})),n},trigger:function(t,e){e||(e={});var n=i.DOCUMENT.createEvent("Event");n.initEvent(t,!0,!0),n.gesture=e;var r=this.element;return y.hasParent(e.target,r)&&(r=e.target),r.dispatchEvent(n),this},enable:function(t){return this.enabled=t,this},dispose:function(){var t,e;for(y.toggleBehavior(this.element,this.options.behavior,!1),t=-1;e=this.eventHandlers[++t];)y.off(this.element,e.gesture,e.handler);return this.eventHandlers=[],C.off(this.element,r[d],this.eventStartHandler),null}};var _,v,b,w,C=i.event={preventMouseEvents:!1,started:!1,shouldDetect:!1,on:function(t,e,n,i){var r=e.split(" ");y.each(r,(function(e){y.on(t,e,n),i&&i(e)}))},off:function(t,e,n,i){var r=e.split(" ");y.each(r,(function(e){y.off(t,e,n),i&&i(e)}))},onTouch:function(t,e,n){var o=this,s=function(r){var s,a=r.type.toLowerCase(),l=i.HAS_POINTEREVENTS,c=y.inStr(a,"mouse");c&&o.preventMouseEvents||(c&&e==d&&0===r.button?(o.preventMouseEvents=!1,o.shouldDetect=!0):l&&e==d?o.shouldDetect=1===r.buttons||x.matchType(u,r):c||e!=d||(o.preventMouseEvents=!0,o.shouldDetect=!0),l&&e!=f&&x.updatePointer(e,r),o.shouldDetect&&(s=o.doDetect.call(o,r,e,t,n)),s==f&&(o.preventMouseEvents=!1,o.shouldDetect=!1,x.reset()),l&&e==f&&x.updatePointer(e,r))};return this.on(t,r[e],s),s},doDetect:function(t,e,n,i){var r=this.getTouchList(t,e),o=e,s=r.trigger,a=r.length;e==d?s=g:e==f&&(s=m,a=r.length-(t.changedTouches?t.changedTouches.length:1)),a>0&&this.started&&(o=p),this.started=!0;var l=this.collectEventData(n,o,r,t);return e!=f&&i.call(E,l),s&&(l.changedLength=a,l.eventType=s,i.call(E,l),l.eventType=o,delete l.changedLength),o==f&&(i.call(E,l),this.started=!1),o},determineEventTypes:function(){var t;return r[d]=(t=i.HAS_POINTEREVENTS?e.PointerEvent?["pointerdown","pointermove","pointerup pointercancel lostpointercapture"]:["MSPointerDown","MSPointerMove","MSPointerUp MSPointerCancel MSLostPointerCapture"]:i.NO_MOUSEEVENTS?["touchstart","touchmove","touchend touchcancel"]:["touchstart mousedown","touchmove mousemove","touchend touchcancel mouseup"])[0],r[p]=t[1],r[f]=t[2],r},getTouchList:function(t,e){if(i.HAS_POINTEREVENTS)return x.getTouchList();if(t.touches){if(e==p)return t.touches;var n=[],r=[].concat(y.toArray(t.touches),y.toArray(t.changedTouches)),o=[];return y.each(r,(function(t){!1===y.inArray(n,t.identifier)&&o.push(t),n.push(t.identifier)})),o}return t.identifier=1,[t]},collectEventData:function(t,e,n,i){var r=u;return y.inStr(i.type,"mouse")||x.matchType(c,i)?r=c:x.matchType(h,i)&&(r=h),{center:y.getCenter(n),timeStamp:Date.now(),target:i.target,touches:n,eventType:e,pointerType:r,srcEvent:i,preventDefault:function(){var t=this.srcEvent;t.preventManipulation&&t.preventManipulation(),t.preventDefault&&t.preventDefault()},stopPropagation:function(){this.srcEvent.stopPropagation()},stopDetect:function(){return E.stopDetect()}}}},x=i.PointerEvent={pointers:{},getTouchList:function(){var t=[];return y.each(this.pointers,(function(e){t.push(e)})),t},updatePointer:function(t,e){t==f||t!=f&&1!==e.buttons?delete this.pointers[e.pointerId]:(e.identifier=e.pointerId,this.pointers[e.pointerId]=e)},matchType:function(t,e){if(!e.pointerType)return!1;var n=e.pointerType,i={};return i[c]=n===(e.MSPOINTER_TYPE_MOUSE||c),i[u]=n===(e.MSPOINTER_TYPE_TOUCH||u),i[h]=n===(e.MSPOINTER_TYPE_PEN||h),i[t]},reset:function(){this.pointers={}}},E=i.detection={gestures:[],current:null,previous:null,stopped:!1,startDetect:function(t,e){this.current||(this.stopped=!1,this.current={inst:t,startEvent:y.extend({},e),lastEvent:!1,lastCalcEvent:!1,futureCalcEvent:!1,lastCalcData:{},name:""},this.detect(e))},detect:function(t){if(this.current&&!this.stopped){t=this.extendEventData(t);var e=this.current.inst,n=e.options;return y.each(this.gestures,(function(i){!this.stopped&&e.enabled&&n[i.name]&&i.handler.call(i,t,e)}),this),this.current&&(this.current.lastEvent=t),t.eventType==f&&this.stopDetect(),t}},stopDetect:function(){this.previous=y.extend({},this.current),this.current=null,this.stopped=!0},getCalculatedData:function(t,e,n,r,o){var s=this.current,a=!1,l=s.lastCalcEvent,c=s.lastCalcData;l&&t.timeStamp-l.timeStamp>i.CALCULATE_INTERVAL&&(e=l.center,n=t.timeStamp-l.timeStamp,r=t.center.clientX-l.center.clientX,o=t.center.clientY-l.center.clientY,a=!0),t.eventType!=g&&t.eventType!=m||(s.futureCalcEvent=t),s.lastCalcEvent&&!a||(c.velocity=y.getVelocity(n,r,o),c.angle=y.getAngle(e,t.center),c.direction=y.getDirection(e,t.center),s.lastCalcEvent=s.futureCalcEvent||t,s.futureCalcEvent=t),t.velocityX=c.velocity.x,t.velocityY=c.velocity.y,t.interimAngle=c.angle,t.interimDirection=c.direction},extendEventData:function(t){var e=this.current,n=e.startEvent,i=e.lastEvent||n;t.eventType!=g&&t.eventType!=m||(n.touches=[],y.each(t.touches,(function(t){n.touches.push({clientX:t.clientX,clientY:t.clientY})})));var r=t.timeStamp-n.timeStamp,o=t.center.clientX-n.center.clientX,s=t.center.clientY-n.center.clientY;return this.getCalculatedData(t,i.center,r,o,s),y.extend(t,{startEvent:n,deltaTime:r,deltaX:o,deltaY:s,distance:y.getDistance(n.center,t.center),angle:y.getAngle(n.center,t.center),direction:y.getDirection(n.center,t.center),scale:y.getScale(n.touches,t.touches),rotation:y.getRotation(n.touches,t.touches)}),t},register:function(t){var e=t.defaults||{};return void 0===e[t.name]&&(e[t.name]=!0),y.extend(i.defaults,e,!0),t.index=t.index||1e3,this.gestures.push(t),this.gestures.sort((function(t,e){return t.index<e.index?-1:t.index>e.index?1:0})),this.gestures}};v=!1,i.gestures.Drag={name:_="drag",index:50,handler:function(t,e){var n=E.current;if(!(e.options.dragMaxTouches>0&&t.touches.length>e.options.dragMaxTouches))switch(t.eventType){case d:v=!1;break;case p:if(t.distance<e.options.dragMinDistance&&n.name!=_)return;var i=n.startEvent.center;if(n.name!=_&&(n.name=_,e.options.dragDistanceCorrection&&t.distance>0)){var r=Math.abs(e.options.dragMinDistance/t.distance);i.pageX+=t.deltaX*r,i.pageY+=t.deltaY*r,i.clientX+=t.deltaX*r,i.clientY+=t.deltaY*r,t=E.extendEventData(t)}(n.lastEvent.dragLockToAxis||e.options.dragLockToAxis&&e.options.dragLockMinDistance<=t.distance)&&(t.dragLockToAxis=!0);var c=n.lastEvent.direction;t.dragLockToAxis&&c!==t.direction&&(t.direction=y.isVertical(c)?t.deltaY<0?a:o:t.deltaX<0?s:l),v||(e.trigger(_+"start",t),v=!0),e.trigger(_,t),e.trigger(_+t.direction,t);var u=y.isVertical(t.direction);(e.options.dragBlockVertical&&u||e.options.dragBlockHorizontal&&!u)&&t.preventDefault();break;case m:v&&t.changedLength<=e.options.dragMaxTouches&&(e.trigger(_+"end",t),v=!1);break;case f:v=!1}},defaults:{dragMinDistance:10,dragDistanceCorrection:!0,dragMaxTouches:1,dragBlockHorizontal:!1,dragBlockVertical:!1,dragLockToAxis:!1,dragLockMinDistance:25}},i.gestures.Gesture={name:"gesture",index:1337,handler:function(t,e){e.trigger(this.name,t)}},i.gestures.Hold={name:"hold",index:10,defaults:{holdTimeout:500,holdThreshold:2},handler:function(t,e){var n=e.options,i=E.current;switch(t.eventType){case d:clearTimeout(b),i.name="hold",b=setTimeout((function(){i&&"hold"==i.name&&e.trigger("hold",t)}),n.holdTimeout);break;case p:t.distance>n.holdThreshold&&clearTimeout(b);break;case m:clearTimeout(b)}}},i.gestures.Release={name:"release",index:1/0,handler:function(t,e){t.eventType==m&&e.trigger(this.name,t)}},i.gestures.Swipe={name:"swipe",index:40,defaults:{swipeMinTouches:1,swipeMaxTouches:1,swipeVelocityX:.6,swipeVelocityY:.6},handler:function(t,e){if(t.eventType==m){var n=t.touches.length,i=e.options;if(n<i.swipeMinTouches||n>i.swipeMaxTouches)return;(t.velocityX>i.swipeVelocityX||t.velocityY>i.swipeVelocityY)&&(e.trigger(this.name,t),e.trigger(this.name+t.direction,t))}}},w=!1,i.gestures.Tap={name:"tap",index:100,handler:function(t,e){var n,i,r,o,s=e.options,a=E.current,l=E.previous;switch(t.eventType){case d:w=!1;break;case p:w=w||t.distance>s.tapMaxDistance;break;case f:!y.inStr(t.srcEvent.type,"cancel")&&t.deltaTime<s.tapMaxTime&&!w&&(n=l&&l.lastEvent&&(o=t,c(r=l.lastEvent)&&c(o)?c(o)-c(r):o.timeStamp-r.timeStamp),i=!1,l&&"tap"==l.name&&n&&n<s.doubleTapInterval&&t.distance<s.doubleTapDistance&&(e.trigger("doubletap",t),i=!0),i&&!s.tapAlways||(a.name="tap",e.trigger(a.name,t)))}function c(t){return t.srcEvent&&t.srcEvent.timeStamp?t.srcEvent.timeStamp:null}},defaults:{tapMaxTime:250,tapMaxDistance:10,tapAlways:!0,doubleTapDistance:20,doubleTapInterval:300}},i.gestures.Touch={name:"touch",index:-1/0,defaults:{preventDefault:!1,preventMouse:!1},handler:function(t,e){e.options.preventMouse&&t.pointerType==c?t.stopDetect():(e.options.preventDefault&&t.preventDefault(),t.eventType==g&&e.trigger("touch",t))}},function(t){var e=!1;i.gestures.Transform={name:t,index:45,defaults:{transformMinScale:.01,transformMinRotation:1},handler:function(n,i){switch(n.eventType){case d:e=!1;break;case p:if(n.touches.length<2)return;var r=Math.abs(1-n.scale),o=Math.abs(n.rotation);if(r<i.options.transformMinScale&&o<i.options.transformMinRotation)return;E.current.name=t,e||(i.trigger(t+"start",n),e=!0),i.trigger(t,n),o>i.options.transformMinRotation&&i.trigger("rotate",n),r>i.options.transformMinScale&&(i.trigger("pinch",n),i.trigger("pinch"+(n.scale<1?"in":"out"),n));break;case m:e&&n.changedLength<2&&(i.trigger(t+"end",n),e=!1)}}}}("transform"),e.Hammer=i,t.exports&&(t.exports=i)}(window)},vuIU:function(t,e,n){"use strict";function i(t,e){for(var n=0;n<e.length;n++){var i=e[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}function r(t,e,n){return e&&i(t.prototype,e),n&&i(t,n),t}n.r(e),n.d(e,"default",(function(){return r}))},"w/wX":function(t,e,n){var i=n("QqLw"),r=n("ExA7");t.exports=function(t){return r(t)&&"[object Set]"==i(t)}},"wF/u":function(t,e,n){var i=n("e5cp"),r=n("ExA7");t.exports=function t(e,n,o,s,a){return e===n||(null==e||null==n||!r(e)&&!r(n)?e!=e&&n!=n:i(e,n,o,s,t,a))}},wJg7:function(t,e){var n=/^(?:0|[1-9]\d*)$/;t.exports=function(t,e){var i=typeof t;return!!(e=null==e?9007199254740991:e)&&("number"==i||"symbol"!=i&&n.test(t))&&t>-1&&t%1==0&&t<e}},wclG:function(t,e,n){var i=n("pFRH"),r=n("88Gu")(i);t.exports=r},wig9:function(t,e){t.exports=function(t){for(var e=-1,n=null==t?0:t.length,i=0,r=[];++e<n;){var o=t[e];o&&(r[i++]=o)}return r}},woRb:function(t,e,n){t.exports=function(t){function e(i){if(n[i])return n[i].exports;var r=n[i]={exports:{},id:i,loaded:!1};return t[i].call(r.exports,r,r.exports,e),r.loaded=!0,r.exports}var n={};return e.m=t,e.c=n,e.p="",e(0)}([function(t,e,n){"use strict";function i(t){for(var n in t)e.hasOwnProperty(n)||(e[n]=t[n])}Object.defineProperty(e,"__esModule",{value:!0}),i(n(2)),i(n(3)),i(n(1)),i(n(4))},function(t,e){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.eq=function t(e,n){var i=0;if(e===n)return!0;if("function"==typeof e.equals)return e.equals(n);if(e.length>0&&e.length===n.length){for(;i<e.length;i+=1)if(!t(e[i],n[i]))return!1;return!0}return!1}},function(t,e,n){"use strict";function i(t){return null!=t}Object.defineProperty(e,"__esModule",{value:!0});var r,o=n(1);!function(t){t[t.Left=0]="Left",t[t.Right=1]="Right"}(r=e.EitherType||(e.EitherType={})),e.either=function(t,e){if(i(t)&&i(e))throw new TypeError("Cannot construct an Either with both a left and a right");if(!i(t)&&!i(e))throw new TypeError("Cannot construct an Either with neither a left nor a right");return i(t)&&!i(e)?s.left(t):!i(t)&&i(e)?s.right(e):void 0};var s=function(){function t(t,e,n){this.type=t,this.l=e,this.r=n,this.of=this.unit,this.chain=this.bind,this.lift=this.fmap,this.map=this.fmap}return t.left=function(e){return new t(r.Left,e)},t.right=function(e){return new t(r.Right,null,e)},t.prototype.unit=function(e){return t.right(e)},t.prototype.bind=function(e){return this.type===r.Right?e(this.r):t.left(this.l)},t.prototype.fmap=function(t){var e=this;return this.bind((function(n){return e.unit(t(n))}))},t.prototype.caseOf=function(t){return this.type===r.Right?t.right(this.r):t.left(this.l)},t.prototype.equals=function(t){return t.type===this.type&&(this.type===r.Left&&o.eq(t.l,this.l)||this.type===r.Right&&o.eq(t.r,this.r))},t.prototype.do=function(t){void 0===t&&(t={});var e=Object.assign({left:function(t){},right:function(t){}},t);return this.caseOf(e),this},t}();e.Either=s},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var i,r=n(1);!function(t){t[t.Nothing=0]="Nothing",t[t.Just=1]="Just"}(i=e.MaybeType||(e.MaybeType={})),e.maybe=function(t){return o.maybe(t)};var o=function(){function t(t,e){this.type=t,this.value=e,this.of=this.unit,this.chain=this.bind,this.lift=this.fmap,this.map=this.fmap}return t.sequence=function(e){if(Object.keys(e).filter((function(t){return e[t].type===i.Nothing})).length)return t.nothing();var n={};for(var r in e)e.hasOwnProperty(r)&&(n[r]=e[r].value);return t.just(n)},t.maybe=function(e){return null==e?new t(i.Nothing):new t(i.Just,e)},t.just=function(e){if(null==e)throw new TypeError("Cannot Maybe.just(null)");return new t(i.Just,e)},t.nothing=function(){return new t(i.Nothing)},t.isJust=function(t){return t.type===i.Just},t.isNothing=function(t){return t.type===i.Nothing},t.prototype.unit=function(e){return t.maybe(e)},t.prototype.bind=function(e){return this.type===i.Just?e(this.value):t.nothing()},t.prototype.fmap=function(t){var e=this;return this.bind((function(n){return e.unit(t(n))}))},t.prototype.caseOf=function(t){return this.type===i.Just?t.just(this.value):t.nothing()},t.prototype.defaulting=function(e){return t.just(this.valueOr(e))},t.prototype.equals=function(t){return t.type===this.type&&(this.type===i.Nothing||r.eq(t.value,this.value))},t.prototype.valueOr=function(t){return this.valueOrCompute((function(){return t}))},t.prototype.valueOrCompute=function(t){return this.type===i.Just?this.value:t()},t.prototype.valueOrThrow=function(t){if(this.type===i.Just)return this.value;throw t||new Error("No value is available.")},t.prototype.do=function(t){void 0===t&&(t={});var e=Object.assign({just:function(t){},nothing:function(){}},t);return this.caseOf(e),this},t}();o.all=function(t){return o.sequence(t)},e.Maybe=o},function(t,e){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.writer=function(t,e){return n.writer(t,e)};var n=function(){function t(t,e){this.story=t,this.value=e,this.of=this.unit,this.chain=this.bind,this.lift=this.fmap,this.map=this.fmap}return t.writer=function(e,n){return new t(e,n)},t.tell=function(e){return new t([e],0)},t.prototype.unit=function(e){return new t([],e)},t.prototype.bind=function(e){var n=e(this.value);return new t(this.story.concat(n.story),n.value)},t.prototype.fmap=function(t){var e=this;return this.bind((function(n){return e.unit(t(n))}))},t.prototype.caseOf=function(t){return t.writer(this.story,this.value)},t.prototype.equals=function(t){var e,n=!0;for(e=0;e<this.story.length;e+=1)n=n&&this.story[e]===t.story[e];return n&&this.value===t.value},t}();e.Writer=n}])},wrZu:function(t,e,n){var i=n("+K+b"),r=n("XYm9"),o=n("b2z7"),s=n("otv/"),a=n("yP5f");t.exports=function(t,e,n){var l=t.constructor;switch(e){case"[object ArrayBuffer]":return i(t);case"[object Boolean]":case"[object Date]":return new l(+t);case"[object DataView]":return r(t,n);case"[object Float32Array]":case"[object Float64Array]":case"[object Int8Array]":case"[object Int16Array]":case"[object Int32Array]":case"[object Uint8Array]":case"[object Uint8ClampedArray]":case"[object Uint16Array]":case"[object Uint32Array]":return a(t,n);case"[object Map]":return new l;case"[object Number]":case"[object String]":return new l(t);case"[object RegExp]":return o(t);case"[object Set]":return new l;case"[object Symbol]":return s(t)}}},x47A:function(t,e,n){"use strict";e.a=function(){return!1}},xYSL:function(t,e){t.exports=function(t,e){return t.has(e)}},"xs/l":function(t,e,n){var i=n("TYy9"),r=n("Ioao"),o=n("wclG");t.exports=function(t){return o(r(t,void 0,i),t+"")}},y1pI:function(t,e,n){var i=n("ljhN");t.exports=function(t,e){for(var n=t.length;n--;)if(i(t[n][0],e))return n;return-1}},yGk4:function(t,e,n){var i=n("Cwc5")(n("Kz5y"),"Set");t.exports=i},yHx3:function(t,e){var n=Object.prototype.hasOwnProperty;t.exports=function(t){var e=t.length,i=new t.constructor(e);return e&&"string"==typeof t[0]&&n.call(t,"index")&&(i.index=t.index,i.input=t.input),i}},yLV6:function(t,e,n){var i;!function(r,o,s,a){"use strict";var l,c=["","webkit","Moz","MS","ms","o"],u=o.createElement("div"),h=Math.round,d=Math.abs,p=Date.now;function f(t,e,n){return setTimeout(w(t,n),e)}function m(t,e,n){return!!Array.isArray(t)&&(g(t,n[e],n),!0)}function g(t,e,n){var i;if(t)if(t.forEach)t.forEach(e,n);else if(void 0!==t.length)for(i=0;i<t.length;)e.call(n,t[i],i,t),i++;else for(i in t)t.hasOwnProperty(i)&&e.call(n,t[i],i,t)}function y(t,e,n){var i="DEPRECATED METHOD: "+e+"\n"+n+" AT \n";return function(){var e=new Error("get-stack-trace"),n=e&&e.stack?e.stack.replace(/^[^\(]+?[\n$]/gm,"").replace(/^\s+at\s+/gm,"").replace(/^Object.<anonymous>\s*\(/gm,"{anonymous}()@"):"Unknown Stack Trace",o=r.console&&(r.console.warn||r.console.log);return o&&o.call(r.console,i,n),t.apply(this,arguments)}}l="function"!=typeof Object.assign?function(t){if(null==t)throw new TypeError("Cannot convert undefined or null to object");for(var e=Object(t),n=1;n<arguments.length;n++){var i=arguments[n];if(null!=i)for(var r in i)i.hasOwnProperty(r)&&(e[r]=i[r])}return e}:Object.assign;var _=y((function(t,e,n){for(var i=Object.keys(e),r=0;r<i.length;)(!n||n&&void 0===t[i[r]])&&(t[i[r]]=e[i[r]]),r++;return t}),"extend","Use `assign`."),v=y((function(t,e){return _(t,e,!0)}),"merge","Use `assign`.");function b(t,e,n){var i,r=e.prototype;(i=t.prototype=Object.create(r)).constructor=t,i._super=r,n&&l(i,n)}function w(t,e){return function(){return t.apply(e,arguments)}}function C(t,e){return"function"==typeof t?t.apply(e&&e[0]||void 0,e):t}function x(t,e){return void 0===t?e:t}function E(t,e,n){g(k(e),(function(e){t.addEventListener(e,n,!1)}))}function S(t,e,n){g(k(e),(function(e){t.removeEventListener(e,n,!1)}))}function P(t,e){for(;t;){if(t==e)return!0;t=t.parentNode}return!1}function O(t,e){return t.indexOf(e)>-1}function k(t){return t.trim().split(/\s+/g)}function T(t,e,n){if(t.indexOf&&!n)return t.indexOf(e);for(var i=0;i<t.length;){if(n&&t[i][n]==e||!n&&t[i]===e)return i;i++}return-1}function I(t){return Array.prototype.slice.call(t,0)}function A(t,e,n){for(var i=[],r=[],o=0;o<t.length;){var s=e?t[o][e]:t[o];T(r,s)<0&&i.push(t[o]),r[o]=s,o++}return n&&(i=e?i.sort((function(t,n){return t[e]>n[e]})):i.sort()),i}function M(t,e){for(var n,i,r=e[0].toUpperCase()+e.slice(1),o=0;o<c.length;){if((i=(n=c[o])?n+r:e)in t)return i;o++}}var D=1;function R(t){var e=t.ownerDocument||t;return e.defaultView||e.parentWindow||r}var F="ontouchstart"in r,L=void 0!==M(r,"PointerEvent"),B=F&&/mobile|tablet|ip(ad|hone|od)|android/i.test(navigator.userAgent),N=["x","y"],j=["clientX","clientY"];function z(t,e){var n=this;this.manager=t,this.callback=e,this.element=t.element,this.target=t.options.inputTarget,this.domHandler=function(e){C(t.options.enable,[t])&&n.handler(e)},this.init()}function H(t,e,n){var i=n.pointers.length,r=n.changedPointers.length,o=1&e&&i-r==0,s=12&e&&i-r==0;n.isFirst=!!o,n.isFinal=!!s,o&&(t.session={}),n.eventType=e,function(t,e){var n=t.session,i=e.pointers,r=i.length;n.firstInput||(n.firstInput=V(e)),r>1&&!n.firstMultiple?n.firstMultiple=V(e):1===r&&(n.firstMultiple=!1);var o=n.firstInput,s=n.firstMultiple,a=s?s.center:o.center,l=e.center=U(i);e.timeStamp=p(),e.deltaTime=e.timeStamp-o.timeStamp,e.angle=q(a,l),e.distance=G(a,l),function(t,e){var n=e.center,i=t.offsetDelta||{},r=t.prevDelta||{},o=t.prevInput||{};1!==e.eventType&&4!==o.eventType||(r=t.prevDelta={x:o.deltaX||0,y:o.deltaY||0},i=t.offsetDelta={x:n.x,y:n.y}),e.deltaX=r.x+(n.x-i.x),e.deltaY=r.y+(n.y-i.y)}(n,e),e.offsetDirection=$(e.deltaX,e.deltaY);var c,u,h=W(e.deltaTime,e.deltaX,e.deltaY);e.overallVelocityX=h.x,e.overallVelocityY=h.y,e.overallVelocity=d(h.x)>d(h.y)?h.x:h.y,e.scale=s?(c=s.pointers,G((u=i)[0],u[1],j)/G(c[0],c[1],j)):1,e.rotation=s?function(t,e){return q(e[1],e[0],j)+q(t[1],t[0],j)}(s.pointers,i):0,e.maxPointers=n.prevInput?e.pointers.length>n.prevInput.maxPointers?e.pointers.length:n.prevInput.maxPointers:e.pointers.length,function(t,e){var n,i,r,o,s=t.lastInterval||e,a=e.timeStamp-s.timeStamp;if(8!=e.eventType&&(a>25||void 0===s.velocity)){var l=e.deltaX-s.deltaX,c=e.deltaY-s.deltaY,u=W(a,l,c);i=u.x,r=u.y,n=d(u.x)>d(u.y)?u.x:u.y,o=$(l,c),t.lastInterval=e}else n=s.velocity,i=s.velocityX,r=s.velocityY,o=s.direction;e.velocity=n,e.velocityX=i,e.velocityY=r,e.direction=o}(n,e);var f=t.element;P(e.srcEvent.target,f)&&(f=e.srcEvent.target),e.target=f}(t,n),t.emit("hammer.input",n),t.recognize(n),t.session.prevInput=n}function V(t){for(var e=[],n=0;n<t.pointers.length;)e[n]={clientX:h(t.pointers[n].clientX),clientY:h(t.pointers[n].clientY)},n++;return{timeStamp:p(),pointers:e,center:U(e),deltaX:t.deltaX,deltaY:t.deltaY}}function U(t){var e=t.length;if(1===e)return{x:h(t[0].clientX),y:h(t[0].clientY)};for(var n=0,i=0,r=0;r<e;)n+=t[r].clientX,i+=t[r].clientY,r++;return{x:h(n/e),y:h(i/e)}}function W(t,e,n){return{x:e/t||0,y:n/t||0}}function $(t,e){return t===e?1:d(t)>=d(e)?t<0?2:4:e<0?8:16}function G(t,e,n){n||(n=N);var i=e[n[0]]-t[n[0]],r=e[n[1]]-t[n[1]];return Math.sqrt(i*i+r*r)}function q(t,e,n){return n||(n=N),180*Math.atan2(e[n[1]]-t[n[1]],e[n[0]]-t[n[0]])/Math.PI}z.prototype={handler:function(){},init:function(){this.evEl&&E(this.element,this.evEl,this.domHandler),this.evTarget&&E(this.target,this.evTarget,this.domHandler),this.evWin&&E(R(this.element),this.evWin,this.domHandler)},destroy:function(){this.evEl&&S(this.element,this.evEl,this.domHandler),this.evTarget&&S(this.target,this.evTarget,this.domHandler),this.evWin&&S(R(this.element),this.evWin,this.domHandler)}};var X={mousedown:1,mousemove:2,mouseup:4};function K(){this.evEl="mousedown",this.evWin="mousemove mouseup",this.pressed=!1,z.apply(this,arguments)}b(K,z,{handler:function(t){var e=X[t.type];1&e&&0===t.button&&(this.pressed=!0),2&e&&1!==t.which&&(e=4),this.pressed&&(4&e&&(this.pressed=!1),this.callback(this.manager,e,{pointers:[t],changedPointers:[t],pointerType:"mouse",srcEvent:t}))}});var Y={pointerdown:1,pointermove:2,pointerup:4,pointercancel:8,pointerout:8},Q={2:"touch",3:"pen",4:"mouse",5:"kinect"},Z="pointerdown",J="pointermove pointerup pointercancel";function tt(){this.evEl=Z,this.evWin=J,z.apply(this,arguments),this.store=this.manager.session.pointerEvents=[]}r.MSPointerEvent&&!r.PointerEvent&&(Z="MSPointerDown",J="MSPointerMove MSPointerUp MSPointerCancel"),b(tt,z,{handler:function(t){var e=this.store,n=!1,i=t.type.toLowerCase().replace("ms",""),r=Y[i],o=Q[t.pointerType]||t.pointerType,s="touch"==o,a=T(e,t.pointerId,"pointerId");1&r&&(0===t.button||s)?a<0&&(e.push(t),a=e.length-1):12&r&&(n=!0),a<0||(e[a]=t,this.callback(this.manager,r,{pointers:e,changedPointers:[t],pointerType:o,srcEvent:t}),n&&e.splice(a,1))}});var et={touchstart:1,touchmove:2,touchend:4,touchcancel:8};function nt(){this.evTarget="touchstart",this.evWin="touchstart touchmove touchend touchcancel",this.started=!1,z.apply(this,arguments)}function it(t,e){var n=I(t.touches),i=I(t.changedTouches);return 12&e&&(n=A(n.concat(i),"identifier",!0)),[n,i]}b(nt,z,{handler:function(t){var e=et[t.type];if(1===e&&(this.started=!0),this.started){var n=it.call(this,t,e);12&e&&n[0].length-n[1].length==0&&(this.started=!1),this.callback(this.manager,e,{pointers:n[0],changedPointers:n[1],pointerType:"touch",srcEvent:t})}}});var rt={touchstart:1,touchmove:2,touchend:4,touchcancel:8};function ot(){this.evTarget="touchstart touchmove touchend touchcancel",this.targetIds={},z.apply(this,arguments)}function st(t,e){var n=I(t.touches),i=this.targetIds;if(3&e&&1===n.length)return i[n[0].identifier]=!0,[n,n];var r,o,s=I(t.changedTouches),a=[],l=this.target;if(o=n.filter((function(t){return P(t.target,l)})),1===e)for(r=0;r<o.length;)i[o[r].identifier]=!0,r++;for(r=0;r<s.length;)i[s[r].identifier]&&a.push(s[r]),12&e&&delete i[s[r].identifier],r++;return a.length?[A(o.concat(a),"identifier",!0),a]:void 0}function at(){z.apply(this,arguments);var t=w(this.handler,this);this.touch=new ot(this.manager,t),this.mouse=new K(this.manager,t),this.primaryTouch=null,this.lastTouches=[]}function lt(t,e){1&t?(this.primaryTouch=e.changedPointers[0].identifier,ct.call(this,e)):12&t&&ct.call(this,e)}function ct(t){var e=t.changedPointers[0];if(e.identifier===this.primaryTouch){var n={x:e.clientX,y:e.clientY};this.lastTouches.push(n);var i=this.lastTouches;setTimeout((function(){var t=i.indexOf(n);t>-1&&i.splice(t,1)}),2500)}}function ut(t){for(var e=t.srcEvent.clientX,n=t.srcEvent.clientY,i=0;i<this.lastTouches.length;i++){var r=this.lastTouches[i],o=Math.abs(e-r.x),s=Math.abs(n-r.y);if(o<=25&&s<=25)return!0}return!1}b(ot,z,{handler:function(t){var e=rt[t.type],n=st.call(this,t,e);n&&this.callback(this.manager,e,{pointers:n[0],changedPointers:n[1],pointerType:"touch",srcEvent:t})}}),b(at,z,{handler:function(t,e,n){var i="mouse"==n.pointerType;if(!(i&&n.sourceCapabilities&&n.sourceCapabilities.firesTouchEvents)){if("touch"==n.pointerType)lt.call(this,e,n);else if(i&&ut.call(this,n))return;this.callback(t,e,n)}},destroy:function(){this.touch.destroy(),this.mouse.destroy()}});var ht=M(u.style,"touchAction"),dt=void 0!==ht,pt=function(){if(!dt)return!1;var t={},e=r.CSS&&r.CSS.supports;return["auto","manipulation","pan-y","pan-x","pan-x pan-y","none"].forEach((function(n){t[n]=!e||r.CSS.supports("touch-action",n)})),t}();function ft(t,e){this.manager=t,this.set(e)}function mt(t){this.options=l({},this.defaults,t||{}),this.id=D++,this.manager=null,this.options.enable=x(this.options.enable,!0),this.state=1,this.simultaneous={},this.requireFail=[]}function gt(t){return 16&t?"cancel":8&t?"end":4&t?"move":2&t?"start":""}function yt(t){return 16==t?"down":8==t?"up":2==t?"left":4==t?"right":""}function _t(t,e){var n=e.manager;return n?n.get(t):t}function vt(){mt.apply(this,arguments)}function bt(){vt.apply(this,arguments),this.pX=null,this.pY=null}function wt(){vt.apply(this,arguments)}function Ct(){mt.apply(this,arguments),this._timer=null,this._input=null}function xt(){vt.apply(this,arguments)}function Et(){vt.apply(this,arguments)}function St(){mt.apply(this,arguments),this.pTime=!1,this.pCenter=!1,this._timer=null,this._input=null,this.count=0}function Pt(t,e){return(e=e||{}).recognizers=x(e.recognizers,Pt.defaults.preset),new Ot(t,e)}function Ot(t,e){var n;this.options=l({},Pt.defaults,e||{}),this.options.inputTarget=this.options.inputTarget||t,this.handlers={},this.session={},this.recognizers=[],this.oldCssProps={},this.element=t,this.input=new((n=this).options.inputClass||(L?tt:B?ot:F?at:K))(n,H),this.touchAction=new ft(this,this.options.touchAction),kt(this,!0),g(this.options.recognizers,(function(t){var e=this.add(new t[0](t[1]));t[2]&&e.recognizeWith(t[2]),t[3]&&e.requireFailure(t[3])}),this)}function kt(t,e){var n,i=t.element;i.style&&(g(t.options.cssProps,(function(r,o){n=M(i.style,o),e?(t.oldCssProps[n]=i.style[n],i.style[n]=r):i.style[n]=t.oldCssProps[n]||""})),e||(t.oldCssProps={}))}ft.prototype={set:function(t){"compute"==t&&(t=this.compute()),dt&&this.manager.element.style&&pt[t]&&(this.manager.element.style[ht]=t),this.actions=t.toLowerCase().trim()},update:function(){this.set(this.manager.options.touchAction)},compute:function(){var t=[];return g(this.manager.recognizers,(function(e){C(e.options.enable,[e])&&(t=t.concat(e.getTouchAction()))})),function(t){if(O(t,"none"))return"none";var e=O(t,"pan-x"),n=O(t,"pan-y");return e&&n?"none":e||n?e?"pan-x":"pan-y":O(t,"manipulation")?"manipulation":"auto"}(t.join(" "))},preventDefaults:function(t){var e=t.srcEvent,n=t.offsetDirection;if(this.manager.session.prevented)e.preventDefault();else{var i=this.actions,r=O(i,"none")&&!pt.none,o=O(i,"pan-y")&&!pt["pan-y"],s=O(i,"pan-x")&&!pt["pan-x"];if(r&&1===t.pointers.length&&t.distance<2&&t.deltaTime<250)return;if(!s||!o)return r||o&&6&n||s&&24&n?this.preventSrc(e):void 0}},preventSrc:function(t){this.manager.session.prevented=!0,t.preventDefault()}},mt.prototype={defaults:{},set:function(t){return l(this.options,t),this.manager&&this.manager.touchAction.update(),this},recognizeWith:function(t){if(m(t,"recognizeWith",this))return this;var e=this.simultaneous;return e[(t=_t(t,this)).id]||(e[t.id]=t,t.recognizeWith(this)),this},dropRecognizeWith:function(t){return m(t,"dropRecognizeWith",this)||(t=_t(t,this),delete this.simultaneous[t.id]),this},requireFailure:function(t){if(m(t,"requireFailure",this))return this;var e=this.requireFail;return-1===T(e,t=_t(t,this))&&(e.push(t),t.requireFailure(this)),this},dropRequireFailure:function(t){if(m(t,"dropRequireFailure",this))return this;t=_t(t,this);var e=T(this.requireFail,t);return e>-1&&this.requireFail.splice(e,1),this},hasRequireFailures:function(){return this.requireFail.length>0},canRecognizeWith:function(t){return!!this.simultaneous[t.id]},emit:function(t){var e=this,n=this.state;function i(n){e.manager.emit(n,t)}n<8&&i(e.options.event+gt(n)),i(e.options.event),t.additionalEvent&&i(t.additionalEvent),n>=8&&i(e.options.event+gt(n))},tryEmit:function(t){if(this.canEmit())return this.emit(t);this.state=32},canEmit:function(){for(var t=0;t<this.requireFail.length;){if(!(33&this.requireFail[t].state))return!1;t++}return!0},recognize:function(t){var e=l({},t);if(!C(this.options.enable,[this,e]))return this.reset(),void(this.state=32);56&this.state&&(this.state=1),this.state=this.process(e),30&this.state&&this.tryEmit(e)},process:function(t){},getTouchAction:function(){},reset:function(){}},b(vt,mt,{defaults:{pointers:1},attrTest:function(t){var e=this.options.pointers;return 0===e||t.pointers.length===e},process:function(t){var e=this.state,n=t.eventType,i=6&e,r=this.attrTest(t);return i&&(8&n||!r)?16|e:i||r?4&n?8|e:2&e?4|e:2:32}}),b(bt,vt,{defaults:{event:"pan",threshold:10,pointers:1,direction:30},getTouchAction:function(){var t=this.options.direction,e=[];return 6&t&&e.push("pan-y"),24&t&&e.push("pan-x"),e},directionTest:function(t){var e=this.options,n=!0,i=t.distance,r=t.direction,o=t.deltaX,s=t.deltaY;return r&e.direction||(6&e.direction?(r=0===o?1:o<0?2:4,n=o!=this.pX,i=Math.abs(t.deltaX)):(r=0===s?1:s<0?8:16,n=s!=this.pY,i=Math.abs(t.deltaY))),t.direction=r,n&&i>e.threshold&&r&e.direction},attrTest:function(t){return vt.prototype.attrTest.call(this,t)&&(2&this.state||!(2&this.state)&&this.directionTest(t))},emit:function(t){this.pX=t.deltaX,this.pY=t.deltaY;var e=yt(t.direction);e&&(t.additionalEvent=this.options.event+e),this._super.emit.call(this,t)}}),b(wt,vt,{defaults:{event:"pinch",threshold:0,pointers:2},getTouchAction:function(){return["none"]},attrTest:function(t){return this._super.attrTest.call(this,t)&&(Math.abs(t.scale-1)>this.options.threshold||2&this.state)},emit:function(t){1!==t.scale&&(t.additionalEvent=this.options.event+(t.scale<1?"in":"out")),this._super.emit.call(this,t)}}),b(Ct,mt,{defaults:{event:"press",pointers:1,time:251,threshold:9},getTouchAction:function(){return["auto"]},process:function(t){var e=this.options,n=t.pointers.length===e.pointers,i=t.distance<e.threshold,r=t.deltaTime>e.time;if(this._input=t,!i||!n||12&t.eventType&&!r)this.reset();else if(1&t.eventType)this.reset(),this._timer=f((function(){this.state=8,this.tryEmit()}),e.time,this);else if(4&t.eventType)return 8;return 32},reset:function(){clearTimeout(this._timer)},emit:function(t){8===this.state&&(t&&4&t.eventType?this.manager.emit(this.options.event+"up",t):(this._input.timeStamp=p(),this.manager.emit(this.options.event,this._input)))}}),b(xt,vt,{defaults:{event:"rotate",threshold:0,pointers:2},getTouchAction:function(){return["none"]},attrTest:function(t){return this._super.attrTest.call(this,t)&&(Math.abs(t.rotation)>this.options.threshold||2&this.state)}}),b(Et,vt,{defaults:{event:"swipe",threshold:10,velocity:.3,direction:30,pointers:1},getTouchAction:function(){return bt.prototype.getTouchAction.call(this)},attrTest:function(t){var e,n=this.options.direction;return 30&n?e=t.overallVelocity:6&n?e=t.overallVelocityX:24&n&&(e=t.overallVelocityY),this._super.attrTest.call(this,t)&&n&t.offsetDirection&&t.distance>this.options.threshold&&t.maxPointers==this.options.pointers&&d(e)>this.options.velocity&&4&t.eventType},emit:function(t){var e=yt(t.offsetDirection);e&&this.manager.emit(this.options.event+e,t),this.manager.emit(this.options.event,t)}}),b(St,mt,{defaults:{event:"tap",pointers:1,taps:1,interval:300,time:250,threshold:9,posThreshold:10},getTouchAction:function(){return["manipulation"]},process:function(t){var e=this.options,n=t.pointers.length===e.pointers,i=t.distance<e.threshold,r=t.deltaTime<e.time;if(this.reset(),1&t.eventType&&0===this.count)return this.failTimeout();if(i&&r&&n){if(4!=t.eventType)return this.failTimeout();var o=!this.pTime||t.timeStamp-this.pTime<e.interval,s=!this.pCenter||G(this.pCenter,t.center)<e.posThreshold;if(this.pTime=t.timeStamp,this.pCenter=t.center,s&&o?this.count+=1:this.count=1,this._input=t,0==this.count%e.taps)return this.hasRequireFailures()?(this._timer=f((function(){this.state=8,this.tryEmit()}),e.interval,this),2):8}return 32},failTimeout:function(){return this._timer=f((function(){this.state=32}),this.options.interval,this),32},reset:function(){clearTimeout(this._timer)},emit:function(){8==this.state&&(this._input.tapCount=this.count,this.manager.emit(this.options.event,this._input))}}),Pt.VERSION="2.0.7",Pt.defaults={domEvents:!1,touchAction:"compute",enable:!0,inputTarget:null,inputClass:null,preset:[[xt,{enable:!1}],[wt,{enable:!1},["rotate"]],[Et,{direction:6}],[bt,{direction:6},["swipe"]],[St],[St,{event:"doubletap",taps:2},["tap"]],[Ct]],cssProps:{userSelect:"none",touchSelect:"none",touchCallout:"none",contentZooming:"none",userDrag:"none",tapHighlightColor:"rgba(0,0,0,0)"}},Ot.prototype={set:function(t){return l(this.options,t),t.touchAction&&this.touchAction.update(),t.inputTarget&&(this.input.destroy(),this.input.target=t.inputTarget,this.input.init()),this},stop:function(t){this.session.stopped=t?2:1},recognize:function(t){var e=this.session;if(!e.stopped){var n;this.touchAction.preventDefaults(t);var i=this.recognizers,r=e.curRecognizer;(!r||r&&8&r.state)&&(r=e.curRecognizer=null);for(var o=0;o<i.length;)n=i[o],2===e.stopped||r&&n!=r&&!n.canRecognizeWith(r)?n.reset():n.recognize(t),!r&&14&n.state&&(r=e.curRecognizer=n),o++}},get:function(t){if(t instanceof mt)return t;for(var e=this.recognizers,n=0;n<e.length;n++)if(e[n].options.event==t)return e[n];return null},add:function(t){if(m(t,"add",this))return this;var e=this.get(t.options.event);return e&&this.remove(e),this.recognizers.push(t),t.manager=this,this.touchAction.update(),t},remove:function(t){if(m(t,"remove",this))return this;if(t=this.get(t)){var e=this.recognizers,n=T(e,t);-1!==n&&(e.splice(n,1),this.touchAction.update())}return this},on:function(t,e){if(void 0!==t&&void 0!==e){var n=this.handlers;return g(k(t),(function(t){n[t]=n[t]||[],n[t].push(e)})),this}},off:function(t,e){if(void 0!==t){var n=this.handlers;return g(k(t),(function(t){e?n[t]&&n[t].splice(T(n[t],e),1):delete n[t]})),this}},emit:function(t,e){this.options.domEvents&&function(t,e){var n=o.createEvent("Event");n.initEvent(t,!0,!0),n.gesture=e,e.target.dispatchEvent(n)}(t,e);var n=this.handlers[t]&&this.handlers[t].slice();if(n&&n.length){e.type=t,e.preventDefault=function(){e.srcEvent.preventDefault()};for(var i=0;i<n.length;)n[i](e),i++}},destroy:function(){this.element&&kt(this,!1),this.handlers={},this.session={},this.input.destroy(),this.element=null}},l(Pt,{INPUT_START:1,INPUT_MOVE:2,INPUT_END:4,INPUT_CANCEL:8,STATE_POSSIBLE:1,STATE_BEGAN:2,STATE_CHANGED:4,STATE_ENDED:8,STATE_RECOGNIZED:8,STATE_CANCELLED:16,STATE_FAILED:32,DIRECTION_NONE:1,DIRECTION_LEFT:2,DIRECTION_RIGHT:4,DIRECTION_UP:8,DIRECTION_DOWN:16,DIRECTION_HORIZONTAL:6,DIRECTION_VERTICAL:24,DIRECTION_ALL:30,Manager:Ot,Input:z,TouchAction:ft,TouchInput:ot,MouseInput:K,PointerEventInput:tt,TouchMouseInput:at,SingleTouchInput:nt,Recognizer:mt,AttrRecognizer:vt,Tap:St,Pan:bt,Swipe:Et,Pinch:wt,Rotate:xt,Press:Ct,on:E,off:S,each:g,merge:v,extend:_,assign:l,inherit:b,bindFn:w,prefixed:M}),(void 0!==r?r:"undefined"!=typeof self?self:{}).Hammer=Pt,void 0===(i=(function(){return Pt}).call(e,n,e,t))||(t.exports=i)}(window,document)},yP5f:function(t,e,n){var i=n("+K+b");t.exports=function(t,e){var n=e?i(t.buffer):t.buffer;return new t.constructor(n,t.byteOffset,t.length)}},z6aY:function(t,e){var n=/[^\\];|^;/,i=/[^\\],|^,/;function r(t){return t.match(n)?o(t=t.replace(/\\,/g,","),";"):t.match(i)?o(t=t.replace(/\\;/g,";"),","):t.replace(/\\,/g,",").replace(/\\;/g,";")}function o(t,e){var n=new RegExp(e),i=new RegExp("\\\\"+e,"g");return(t=t.replace(i,"\u03a9\u03a9\u03a9")).match(n)?(t=t.split(e)).map((function(t){return t.replace(/\u03a9\u03a9\u03a9/g,e)})):t.replace(/\u03a9\u03a9\u03a9/g,e)}var s=function(){function t(){return Math.floor(65536*(1+Math.random())).toString(16).substring(1)}return function(){return t()+t()+"-"+t()+"-"+t()+"-"+t()+"-"+t()+t()+t()}}(),a=["nickname","related","categories","pid"],l=["fn"];t.exports={parse:function(t){for(var e,n,i,o,s,a={},l=t.split(/\r\n|\r|\n/),c=l.length,u=0;u<c;u++)if(""!==l[u]&&"BEGIN:VCARD"!==l[u].toUpperCase()&&"END:VCARD"!==l[u].toUpperCase()){var h=l[u],d=function(t){return t+1<c&&(" "===l[t+1][0]||"\t"===l[t+1][0])};if(d(u))for(;d(u);)h+=l[u+1].trim(),u++;if(n=(e=h.split(":")).shift(),i=e.join(":"),s=!1,o={},n.match(/;/)){var p=(n=n.replace(/\\;/g,"\u03a9\u03a9\u03a9").replace(/\\,/,",")).split(";").map((function(t){return t.replace(/\u03a9\u03a9\u03a9/g,";")}));n=p.shift(),p.forEach((function(t){var e=t.split("=");e[0]=e[0].toLowerCase(),0!==e[0].length&&(o[e[0]]?o[e[0]].push(e[1]):o[e[0]]=[e[1]])}))}if(i=r(i=i.replace(/\\n/g,"\n")),n.match(/\./)){var f=n.split(".");n=f[1],s=f[0]}var m={value:i};Object.keys(o).length&&(m.meta=o),s&&(m.namespace=s),0!==n.indexOf("X-")&&(n=n.toLowerCase()),void 0===a[n]?a[n]=[m]:a[n].push(m)}return a},generate:function(t,e){var n=["BEGIN:VCARD"],i="";e&&!t.version&&(t.version=[{value:"3.0"}]),e&&!t.uid&&(t.uid=[{value:s()}]);var r=function(t){return void 0===t?"":t.replace(/\n/g,"\\n").replace(/;/g,"\\;").replace(/,/g,"\\,")};return Object.keys(t).forEach((function(e){t[e]&&"function"==typeof t[e].forEach&&t[e].forEach((function(t){if(void 0!==t.value&&(""!==t.value||-1!==l.indexOf(e))){if(t.value instanceof Array){for(var o=!0,s=0;s<t.value.length;s++)if(void 0!==t.value[s]&&""!==t.value[s]){o=!1;break}if(o)return}if(i="",t.namespace&&(i+=t.namespace+"."),i+=0===e.indexOf("X-")?e:e.toUpperCase(),"object"==typeof t.meta&&Object.keys(t.meta).forEach((function(e){"function"==typeof t.meta[e].forEach&&t.meta[e].forEach((function(t){var n;e.length>0&&("TYPE"===e.toUpperCase()?i+=";"+r(e.toUpperCase())+"="+(void 0===(n=t)?"":n.replace(/\n/g,"\\n").replace(/;/g,"\\;")):i+=";"+r(e.toUpperCase())+"="+r(t))}))})),i+=":","string"==typeof t.value)i+=r(t.value);else{var c=-1!==a.indexOf(e)?",":";";i+=t.value.map((function(t){return r(t)})).join(c)}if(i.length>75){var u=i.substr(0,75),h=i.substr(75).match(/.{1,74}/g);n.push(u),h.forEach((function(t){n.push(" "+t)}))}else n.push(i)}}))})),n.push("END:VCARD"),n.join("\r\n")}}},zEVN:function(t,e,n){var i=n("Gi0A"),r=n("sEf8"),o=n("mdPL"),s=o&&o.isMap,a=s?r(s):i;t.exports=a},zUnb:function(t,e,n){"use strict";function i(t){return"function"==typeof t}n.r(e);let r=!1;const o={Promise:void 0,set useDeprecatedSynchronousErrorHandling(t){if(t){const t=new Error;console.warn("DEPRECATED! RxJS was set to use deprecated synchronous error handling behavior by code at: \n"+t.stack)}else r&&console.log("RxJS: Back to a better error behavior. Thank you. <3");r=t},get useDeprecatedSynchronousErrorHandling(){return r}};function s(t){setTimeout(()=>{throw t},0)}const a={closed:!0,next(t){},error(t){if(o.useDeprecatedSynchronousErrorHandling)throw t;s(t)},complete(){}},l=(()=>Array.isArray||(t=>t&&"number"==typeof t.length))();function c(t){return null!==t&&"object"==typeof t}const u=(()=>{function t(t){return Error.call(this),this.message=t?`${t.length} errors occurred during unsubscription:\n${t.map((t,e)=>`${e+1}) ${t.toString()}`).join("\n  ")}`:"",this.name="UnsubscriptionError",this.errors=t,this}return t.prototype=Object.create(Error.prototype),t})();let h=(()=>{class t{constructor(t){this.closed=!1,this._parentOrParents=null,this._subscriptions=null,t&&(this._unsubscribe=t)}unsubscribe(){let e;if(this.closed)return;let{_parentOrParents:n,_unsubscribe:r,_subscriptions:o}=this;if(this.closed=!0,this._parentOrParents=null,this._subscriptions=null,n instanceof t)n.remove(this);else if(null!==n)for(let t=0;t<n.length;++t)n[t].remove(this);if(i(r))try{r.call(this)}catch(s){e=s instanceof u?d(s.errors):[s]}if(l(o)){let t=-1,n=o.length;for(;++t<n;){const n=o[t];if(c(n))try{n.unsubscribe()}catch(s){e=e||[],s instanceof u?e=e.concat(d(s.errors)):e.push(s)}}}if(e)throw new u(e)}add(e){let n=e;if(!e)return t.EMPTY;switch(typeof e){case"function":n=new t(e);case"object":if(n===this||n.closed||"function"!=typeof n.unsubscribe)return n;if(this.closed)return n.unsubscribe(),n;if(!(n instanceof t)){const e=n;n=new t,n._subscriptions=[e]}break;default:throw new Error("unrecognized teardown "+e+" added to Subscription.")}let{_parentOrParents:i}=n;if(null===i)n._parentOrParents=this;else if(i instanceof t){if(i===this)return n;n._parentOrParents=[i,this]}else{if(-1!==i.indexOf(this))return n;i.push(this)}const r=this._subscriptions;return null===r?this._subscriptions=[n]:r.push(n),n}remove(t){const e=this._subscriptions;if(e){const n=e.indexOf(t);-1!==n&&e.splice(n,1)}}}return t.EMPTY=function(t){return t.closed=!0,t}(new t),t})();function d(t){return t.reduce((t,e)=>t.concat(e instanceof u?e.errors:e),[])}const p=(()=>"function"==typeof Symbol?Symbol("rxSubscriber"):"@@rxSubscriber_"+Math.random())();class f extends h{constructor(t,e,n){switch(super(),this.syncErrorValue=null,this.syncErrorThrown=!1,this.syncErrorThrowable=!1,this.isStopped=!1,arguments.length){case 0:this.destination=a;break;case 1:if(!t){this.destination=a;break}if("object"==typeof t){t instanceof f?(this.syncErrorThrowable=t.syncErrorThrowable,this.destination=t,t.add(this)):(this.syncErrorThrowable=!0,this.destination=new m(this,t));break}default:this.syncErrorThrowable=!0,this.destination=new m(this,t,e,n)}}[p](){return this}static create(t,e,n){const i=new f(t,e,n);return i.syncErrorThrowable=!1,i}next(t){this.isStopped||this._next(t)}error(t){this.isStopped||(this.isStopped=!0,this._error(t))}complete(){this.isStopped||(this.isStopped=!0,this._complete())}unsubscribe(){this.closed||(this.isStopped=!0,super.unsubscribe())}_next(t){this.destination.next(t)}_error(t){this.destination.error(t),this.unsubscribe()}_complete(){this.destination.complete(),this.unsubscribe()}_unsubscribeAndRecycle(){const{_parentOrParents:t}=this;return this._parentOrParents=null,this.unsubscribe(),this.closed=!1,this.isStopped=!1,this._parentOrParents=t,this}}class m extends f{constructor(t,e,n,r){let o;super(),this._parentSubscriber=t;let s=this;i(e)?o=e:e&&(o=e.next,n=e.error,r=e.complete,e!==a&&(s=Object.create(e),i(s.unsubscribe)&&this.add(s.unsubscribe.bind(s)),s.unsubscribe=this.unsubscribe.bind(this))),this._context=s,this._next=o,this._error=n,this._complete=r}next(t){if(!this.isStopped&&this._next){const{_parentSubscriber:e}=this;o.useDeprecatedSynchronousErrorHandling&&e.syncErrorThrowable?this.__tryOrSetError(e,this._next,t)&&this.unsubscribe():this.__tryOrUnsub(this._next,t)}}error(t){if(!this.isStopped){const{_parentSubscriber:e}=this,{useDeprecatedSynchronousErrorHandling:n}=o;if(this._error)n&&e.syncErrorThrowable?(this.__tryOrSetError(e,this._error,t),this.unsubscribe()):(this.__tryOrUnsub(this._error,t),this.unsubscribe());else if(e.syncErrorThrowable)n?(e.syncErrorValue=t,e.syncErrorThrown=!0):s(t),this.unsubscribe();else{if(this.unsubscribe(),n)throw t;s(t)}}}complete(){if(!this.isStopped){const{_parentSubscriber:t}=this;if(this._complete){const e=()=>this._complete.call(this._context);o.useDeprecatedSynchronousErrorHandling&&t.syncErrorThrowable?(this.__tryOrSetError(t,e),this.unsubscribe()):(this.__tryOrUnsub(e),this.unsubscribe())}else this.unsubscribe()}}__tryOrUnsub(t,e){try{t.call(this._context,e)}catch(n){if(this.unsubscribe(),o.useDeprecatedSynchronousErrorHandling)throw n;s(n)}}__tryOrSetError(t,e,n){if(!o.useDeprecatedSynchronousErrorHandling)throw new Error("bad call");try{e.call(this._context,n)}catch(i){return o.useDeprecatedSynchronousErrorHandling?(t.syncErrorValue=i,t.syncErrorThrown=!0,!0):(s(i),!0)}return!1}_unsubscribe(){const{_parentSubscriber:t}=this;this._context=null,this._parentSubscriber=null,t.unsubscribe()}}const g=(()=>"function"==typeof Symbol&&Symbol.observable||"@@observable")();function y(t){return t}let _=(()=>{class t{constructor(t){this._isScalar=!1,t&&(this._subscribe=t)}lift(e){const n=new t;return n.source=this,n.operator=e,n}subscribe(t,e,n){const{operator:i}=this,r=function(t,e,n){if(t){if(t instanceof f)return t;if(t[p])return t[p]()}return t||e||n?new f(t,e,n):new f(a)}(t,e,n);if(r.add(i?i.call(r,this.source):this.source||o.useDeprecatedSynchronousErrorHandling&&!r.syncErrorThrowable?this._subscribe(r):this._trySubscribe(r)),o.useDeprecatedSynchronousErrorHandling&&r.syncErrorThrowable&&(r.syncErrorThrowable=!1,r.syncErrorThrown))throw r.syncErrorValue;return r}_trySubscribe(t){try{return this._subscribe(t)}catch(e){o.useDeprecatedSynchronousErrorHandling&&(t.syncErrorThrown=!0,t.syncErrorValue=e),function(t){for(;t;){const{closed:e,destination:n,isStopped:i}=t;if(e||i)return!1;t=n&&n instanceof f?n:null}return!0}(t)?t.error(e):console.warn(e)}}forEach(t,e){return new(e=v(e))((e,n)=>{let i;i=this.subscribe(e=>{try{t(e)}catch(r){n(r),i&&i.unsubscribe()}},n,e)})}_subscribe(t){const{source:e}=this;return e&&e.subscribe(t)}[g](){return this}pipe(...t){return 0===t.length?this:(0===(e=t).length?y:1===e.length?e[0]:function(t){return e.reduce((t,e)=>e(t),t)})(this);var e}toPromise(t){return new(t=v(t))((t,e)=>{let n;this.subscribe(t=>n=t,t=>e(t),()=>t(n))})}}return t.create=e=>new t(e),t})();function v(t){if(t||(t=o.Promise||Promise),!t)throw new Error("no Promise impl found");return t}const b=(()=>{function t(){return Error.call(this),this.message="object unsubscribed",this.name="ObjectUnsubscribedError",this}return t.prototype=Object.create(Error.prototype),t})();class w extends h{constructor(t,e){super(),this.subject=t,this.subscriber=e,this.closed=!1}unsubscribe(){if(this.closed)return;this.closed=!0;const t=this.subject,e=t.observers;if(this.subject=null,!e||0===e.length||t.isStopped||t.closed)return;const n=e.indexOf(this.subscriber);-1!==n&&e.splice(n,1)}}class C extends f{constructor(t){super(t),this.destination=t}}let x=(()=>{class t extends _{constructor(){super(),this.observers=[],this.closed=!1,this.isStopped=!1,this.hasError=!1,this.thrownError=null}[p](){return new C(this)}lift(t){const e=new E(this,this);return e.operator=t,e}next(t){if(this.closed)throw new b;if(!this.isStopped){const{observers:e}=this,n=e.length,i=e.slice();for(let r=0;r<n;r++)i[r].next(t)}}error(t){if(this.closed)throw new b;this.hasError=!0,this.thrownError=t,this.isStopped=!0;const{observers:e}=this,n=e.length,i=e.slice();for(let r=0;r<n;r++)i[r].error(t);this.observers.length=0}complete(){if(this.closed)throw new b;this.isStopped=!0;const{observers:t}=this,e=t.length,n=t.slice();for(let i=0;i<e;i++)n[i].complete();this.observers.length=0}unsubscribe(){this.isStopped=!0,this.closed=!0,this.observers=null}_trySubscribe(t){if(this.closed)throw new b;return super._trySubscribe(t)}_subscribe(t){if(this.closed)throw new b;return this.hasError?(t.error(this.thrownError),h.EMPTY):this.isStopped?(t.complete(),h.EMPTY):(this.observers.push(t),new w(this,t))}asObservable(){const t=new _;return t.source=this,t}}return t.create=(t,e)=>new E(t,e),t})();class E extends x{constructor(t,e){super(),this.destination=t,this.source=e}next(t){const{destination:e}=this;e&&e.next&&e.next(t)}error(t){const{destination:e}=this;e&&e.error&&this.destination.error(t)}complete(){const{destination:t}=this;t&&t.complete&&this.destination.complete()}_subscribe(t){const{source:e}=this;return e?this.source.subscribe(t):h.EMPTY}}function S(t){return t&&"function"==typeof t.schedule}class P extends f{constructor(t,e,n){super(),this.parent=t,this.outerValue=e,this.outerIndex=n,this.index=0}_next(t){this.parent.notifyNext(this.outerValue,t,this.outerIndex,this.index++,this)}_error(t){this.parent.notifyError(t,this),this.unsubscribe()}_complete(){this.parent.notifyComplete(this),this.unsubscribe()}}const O=t=>e=>{for(let n=0,i=t.length;n<i&&!e.closed;n++)e.next(t[n]);e.complete()};function k(){return"function"==typeof Symbol&&Symbol.iterator?Symbol.iterator:"@@iterator"}const T=k(),I=t=>t&&"number"==typeof t.length&&"function"!=typeof t;function A(t){return!!t&&"function"!=typeof t.subscribe&&"function"==typeof t.then}const M=t=>{if(t&&"function"==typeof t[g])return i=t,t=>{const e=i[g]();if("function"!=typeof e.subscribe)throw new TypeError("Provided object does not correctly implement Symbol.observable");return e.subscribe(t)};if(I(t))return O(t);if(A(t))return n=t,t=>(n.then(e=>{t.closed||(t.next(e),t.complete())},e=>t.error(e)).then(null,s),t);if(t&&"function"==typeof t[T])return e=t,t=>{const n=e[T]();for(;;){const e=n.next();if(e.done){t.complete();break}if(t.next(e.value),t.closed)break}return"function"==typeof n.return&&t.add(()=>{n.return&&n.return()}),t};{const e=c(t)?"an invalid object":`'${t}'`;throw new TypeError(`You provided ${e} where a stream was expected.`+" You can provide an Observable, Promise, Array, or Iterable.")}var e,n,i};function D(t,e,n,i,r=new P(t,n,i)){if(!r.closed)return e instanceof _?e.subscribe(r):M(e)(r)}class R extends f{notifyNext(t,e,n,i,r){this.destination.next(e)}notifyError(t,e){this.destination.error(t)}notifyComplete(t){this.destination.complete()}}function F(t,e){return function(n){if("function"!=typeof t)throw new TypeError("argument is not a function. Are you looking for `mapTo()`?");return n.lift(new L(t,e))}}class L{constructor(t,e){this.project=t,this.thisArg=e}call(t,e){return e.subscribe(new B(t,this.project,this.thisArg))}}class B extends f{constructor(t,e,n){super(t),this.project=e,this.count=0,this.thisArg=n||this}_next(t){let e;try{e=this.project.call(this.thisArg,t,this.count++)}catch(n){return void this.destination.error(n)}this.destination.next(e)}}function N(t,e){return new _(n=>{const i=new h;let r=0;return i.add(e.schedule((function(){r!==t.length?(n.next(t[r++]),n.closed||i.add(this.schedule())):n.complete()}))),i})}function j(t,e){return e?function(t,e){if(null!=t){if(function(t){return t&&"function"==typeof t[g]}(t))return function(t,e){return new _(n=>{const i=new h;return i.add(e.schedule(()=>{const r=t[g]();i.add(r.subscribe({next(t){i.add(e.schedule(()=>n.next(t)))},error(t){i.add(e.schedule(()=>n.error(t)))},complete(){i.add(e.schedule(()=>n.complete()))}}))})),i})}(t,e);if(A(t))return function(t,e){return new _(n=>{const i=new h;return i.add(e.schedule(()=>t.then(t=>{i.add(e.schedule(()=>{n.next(t),i.add(e.schedule(()=>n.complete()))}))},t=>{i.add(e.schedule(()=>n.error(t)))}))),i})}(t,e);if(I(t))return N(t,e);if(function(t){return t&&"function"==typeof t[T]}(t)||"string"==typeof t)return function(t,e){if(!t)throw new Error("Iterable cannot be null");return new _(n=>{const i=new h;let r;return i.add(()=>{r&&"function"==typeof r.return&&r.return()}),i.add(e.schedule(()=>{r=t[T](),i.add(e.schedule((function(){if(n.closed)return;let t,e;try{const n=r.next();t=n.value,e=n.done}catch(i){return void n.error(i)}e?n.complete():(n.next(t),this.schedule())})))})),i})}(t,e)}throw new TypeError((null!==t&&typeof t||t)+" is not observable")}(t,e):t instanceof _?t:new _(M(t))}function z(t,e,n=Number.POSITIVE_INFINITY){return"function"==typeof e?i=>i.pipe(z((n,i)=>j(t(n,i)).pipe(F((t,r)=>e(n,t,i,r))),n)):("number"==typeof e&&(n=e),e=>e.lift(new H(t,n)))}class H{constructor(t,e=Number.POSITIVE_INFINITY){this.project=t,this.concurrent=e}call(t,e){return e.subscribe(new V(t,this.project,this.concurrent))}}class V extends R{constructor(t,e,n=Number.POSITIVE_INFINITY){super(t),this.project=e,this.concurrent=n,this.hasCompleted=!1,this.buffer=[],this.active=0,this.index=0}_next(t){this.active<this.concurrent?this._tryNext(t):this.buffer.push(t)}_tryNext(t){let e;const n=this.index++;try{e=this.project(t,n)}catch(i){return void this.destination.error(i)}this.active++,this._innerSub(e,t,n)}_innerSub(t,e,n){const i=new P(this,e,n),r=this.destination;r.add(i);const o=D(this,t,void 0,void 0,i);o!==i&&r.add(o)}_complete(){this.hasCompleted=!0,0===this.active&&0===this.buffer.length&&this.destination.complete(),this.unsubscribe()}notifyNext(t,e,n,i,r){this.destination.next(e)}notifyComplete(t){const e=this.buffer;this.remove(t),this.active--,e.length>0?this._next(e.shift()):0===this.active&&this.hasCompleted&&this.destination.complete()}}function U(t=Number.POSITIVE_INFINITY){return z(y,t)}function W(t,e){return e?N(t,e):new _(O(t))}function $(...t){let e=Number.POSITIVE_INFINITY,n=null,i=t[t.length-1];return S(i)?(n=t.pop(),t.length>1&&"number"==typeof t[t.length-1]&&(e=t.pop())):"number"==typeof i&&(e=t.pop()),null===n&&1===t.length&&t[0]instanceof _?t[0]:U(e)(W(t,n))}function G(){return function(t){return t.lift(new q(t))}}class q{constructor(t){this.connectable=t}call(t,e){const{connectable:n}=this;n._refCount++;const i=new X(t,n),r=e.subscribe(i);return i.closed||(i.connection=n.connect()),r}}class X extends f{constructor(t,e){super(t),this.connectable=e}_unsubscribe(){const{connectable:t}=this;if(!t)return void(this.connection=null);this.connectable=null;const e=t._refCount;if(e<=0)return void(this.connection=null);if(t._refCount=e-1,e>1)return void(this.connection=null);const{connection:n}=this,i=t._connection;this.connection=null,!i||n&&i!==n||i.unsubscribe()}}class K extends _{constructor(t,e){super(),this.source=t,this.subjectFactory=e,this._refCount=0,this._isComplete=!1}_subscribe(t){return this.getSubject().subscribe(t)}getSubject(){const t=this._subject;return t&&!t.isStopped||(this._subject=this.subjectFactory()),this._subject}connect(){let t=this._connection;return t||(this._isComplete=!1,t=this._connection=new h,t.add(this.source.subscribe(new Q(this.getSubject(),this))),t.closed&&(this._connection=null,t=h.EMPTY)),t}refCount(){return G()(this)}}const Y=(()=>{const t=K.prototype;return{operator:{value:null},_refCount:{value:0,writable:!0},_subject:{value:null,writable:!0},_connection:{value:null,writable:!0},_subscribe:{value:t._subscribe},_isComplete:{value:t._isComplete,writable:!0},getSubject:{value:t.getSubject},connect:{value:t.connect},refCount:{value:t.refCount}}})();class Q extends C{constructor(t,e){super(t),this.connectable=e}_error(t){this._unsubscribe(),super._error(t)}_complete(){this.connectable._isComplete=!0,this._unsubscribe(),super._complete()}_unsubscribe(){const t=this.connectable;if(t){this.connectable=null;const e=t._connection;t._refCount=0,t._subject=null,t._connection=null,e&&e.unsubscribe()}}}function Z(){return new x}function J(){return t=>{return G()((e=Z,function(t){let n;n="function"==typeof e?e:function(){return e};const i=Object.create(t,Y);return i.source=t,i.subjectFactory=n,i})(t));var e}}function tt(t){return{toString:t}.toString()}function et(t){return function(...e){if(t){const n=t(...e);for(const t in n)this[t]=n[t]}}}function nt(t,e,n){return tt(()=>{const i=et(e);function r(...t){if(this instanceof r)return i.apply(this,t),this;const e=new r(...t);return n.annotation=e,n;function n(t,n,i){const r=t.hasOwnProperty("__parameters__")?t.__parameters__:Object.defineProperty(t,"__parameters__",{value:[]}).__parameters__;for(;r.length<=i;)r.push(null);return(r[i]=r[i]||[]).push(e),t}}return n&&(r.prototype=Object.create(n.prototype)),r.prototype.ngMetadataName=t,r.annotationCls=r,r})}function it(t,e,n,i){return tt(()=>{const r=et(e);function o(...t){if(this instanceof o)return r.apply(this,t),this;const e=new o(...t);return function(n,r){const o=n.constructor,s=o.hasOwnProperty("__prop__metadata__")?o.__prop__metadata__:Object.defineProperty(o,"__prop__metadata__",{value:{}}).__prop__metadata__;s[r]=s.hasOwnProperty(r)&&s[r]||[],s[r].unshift(e),i&&i(n,r,...t)}}return n&&(o.prototype=Object.create(n.prototype)),o.prototype.ngMetadataName=t,o.annotationCls=o,o})}const rt=nt("Inject",t=>({token:t})),ot=nt("Optional"),st=nt("Self"),at=nt("SkipSelf");var lt=function(t){return t[t.Default=0]="Default",t[t.Host=1]="Host",t[t.Self=2]="Self",t[t.SkipSelf=4]="SkipSelf",t[t.Optional=8]="Optional",t}({});function ct(t){for(let e in t)if(t[e]===ct)return e;throw Error("Could not find renamed property on target object.")}function ut(t,e){for(const n in e)e.hasOwnProperty(n)&&!t.hasOwnProperty(n)&&(t[n]=e[n])}function ht(t){return{token:t.token,providedIn:t.providedIn||null,factory:t.factory,value:void 0}}function dt(t){return{factory:t.factory,providers:t.providers||[],imports:t.imports||[]}}function pt(t){return ft(t,t[gt])||ft(t,t[vt])}function ft(t,e){return e&&e.token===t?e:null}function mt(t){return t&&(t.hasOwnProperty(yt)||t.hasOwnProperty(bt))?t[yt]:null}const gt=ct({"\u0275prov":ct}),yt=ct({"\u0275inj":ct}),_t=ct({"\u0275provFallback":ct}),vt=ct({ngInjectableDef:ct}),bt=ct({ngInjectorDef:ct});function wt(t){if("string"==typeof t)return t;if(Array.isArray(t))return"["+t.map(wt).join(", ")+"]";if(null==t)return""+t;if(t.overriddenName)return`${t.overriddenName}`;if(t.name)return`${t.name}`;const e=t.toString();if(null==e)return""+e;const n=e.indexOf("\n");return-1===n?e:e.substring(0,n)}function Ct(t,e){return null==t||""===t?null===e?"":e:null==e||""===e?t:t+" "+e}const xt=ct({__forward_ref__:ct});function Et(t){return t.__forward_ref__=Et,t.toString=function(){return wt(this())},t}function St(t){return Pt(t)?t():t}function Pt(t){return"function"==typeof t&&t.hasOwnProperty(xt)&&t.__forward_ref__===Et}const Ot="undefined"!=typeof globalThis&&globalThis,kt="undefined"!=typeof window&&window,Tt="undefined"!=typeof self&&"undefined"!=typeof WorkerGlobalScope&&self instanceof WorkerGlobalScope&&self,It="undefined"!=typeof global&&global,At=Ot||It||kt||Tt,Mt=ct({"\u0275cmp":ct}),Dt=ct({"\u0275dir":ct}),Rt=ct({"\u0275pipe":ct}),Ft=ct({"\u0275mod":ct}),Lt=ct({"\u0275loc":ct}),Bt=ct({"\u0275fac":ct}),Nt=ct({__NG_ELEMENT_ID__:ct});class jt{constructor(t,e){this._desc=t,this.ngMetadataName="InjectionToken",this.\u0275prov=void 0,"number"==typeof e?this.__NG_ELEMENT_ID__=e:void 0!==e&&(this.\u0275prov=ht({token:this,providedIn:e.providedIn||"root",factory:e.factory}))}toString(){return`InjectionToken ${this._desc}`}}const zt=new jt("INJECTOR",-1),Ht={},Vt=/\n/gm,Ut=ct({provide:String,useValue:ct});let Wt,$t=void 0;function Gt(t){const e=$t;return $t=t,e}function qt(t){const e=Wt;return Wt=t,e}function Xt(t,e=lt.Default){if(void 0===$t)throw new Error("inject() must be called from an injection context");return null===$t?Qt(t,void 0,e):$t.get(t,e&lt.Optional?null:void 0,e)}function Kt(t,e=lt.Default){return(Wt||Xt)(St(t),e)}const Yt=Kt;function Qt(t,e,n){const i=pt(t);if(i&&"root"==i.providedIn)return void 0===i.value?i.value=i.factory():i.value;if(n&lt.Optional)return null;if(void 0!==e)return e;throw new Error(`Injector: NOT_FOUND [${wt(t)}]`)}function Zt(t){const e=[];for(let n=0;n<t.length;n++){const i=St(t[n]);if(Array.isArray(i)){if(0===i.length)throw new Error("Arguments array must have arguments.");let t=void 0,n=lt.Default;for(let e=0;e<i.length;e++){const r=i[e];r instanceof ot||"Optional"===r.ngMetadataName||r===ot?n|=lt.Optional:r instanceof at||"SkipSelf"===r.ngMetadataName||r===at?n|=lt.SkipSelf:r instanceof st||"Self"===r.ngMetadataName||r===st?n|=lt.Self:t=r instanceof rt||r===rt?r.token:r}e.push(Kt(t,n))}else e.push(Kt(i))}return e}class Jt{get(t,e=Ht){if(e===Ht){const e=new Error(`NullInjectorError: No provider for ${wt(t)}!`);throw e.name="NullInjectorError",e}return e}}class te{}function ee(t,e){t.forEach(t=>Array.isArray(t)?ee(t,e):e(t))}function ne(t,e,n){e>=t.length?t.push(n):t.splice(e,0,n)}function ie(t,e){return e>=t.length-1?t.pop():t.splice(e,1)[0]}function re(t,e){const n=[];for(let i=0;i<t;i++)n.push(e);return n}function oe(t,e,n){let i=ae(t,e);return i>=0?t[1|i]=n:(i=~i,function(t,e,n,i){let r=t.length;if(r==e)t.push(n,i);else if(1===r)t.push(i,t[0]),t[0]=n;else{for(r--,t.push(t[r-1],t[r]);r>e;)t[r]=t[r-2],r--;t[e]=n,t[e+1]=i}}(t,i,e,n)),i}function se(t,e){const n=ae(t,e);if(n>=0)return t[1|n]}function ae(t,e){return function(t,e,n){let i=0,r=t.length>>1;for(;r!==i;){const n=i+(r-i>>1),o=t[n<<1];if(e===o)return n<<1;o>e?r=n:i=n+1}return~(r<<1)}(t,e)}const le=function(){var t={OnPush:0,Default:1};return t[t.OnPush]="OnPush",t[t.Default]="Default",t}(),ce=function(){var t={Emulated:0,Native:1,None:2,ShadowDom:3};return t[t.Emulated]="Emulated",t[t.Native]="Native",t[t.None]="None",t[t.ShadowDom]="ShadowDom",t}(),ue={},he=[];let de=0;function pe(t){return tt(()=>{const e=t.type,n=e.prototype,i={},r={type:e,providersResolver:null,decls:t.decls,vars:t.vars,factory:null,template:t.template||null,consts:t.consts||null,ngContentSelectors:t.ngContentSelectors,hostBindings:t.hostBindings||null,hostVars:t.hostVars||0,hostAttrs:t.hostAttrs||null,contentQueries:t.contentQueries||null,declaredInputs:i,inputs:null,outputs:null,exportAs:t.exportAs||null,onChanges:null,onInit:n.ngOnInit||null,doCheck:n.ngDoCheck||null,afterContentInit:n.ngAfterContentInit||null,afterContentChecked:n.ngAfterContentChecked||null,afterViewInit:n.ngAfterViewInit||null,afterViewChecked:n.ngAfterViewChecked||null,onDestroy:n.ngOnDestroy||null,onPush:t.changeDetection===le.OnPush,directiveDefs:null,pipeDefs:null,selectors:t.selectors||he,viewQuery:t.viewQuery||null,features:t.features||null,data:t.data||{},encapsulation:t.encapsulation||ce.Emulated,id:"c",styles:t.styles||he,_:null,setInput:null,schemas:t.schemas||null,tView:null},o=t.directives,s=t.features,a=t.pipes;return r.id+=de++,r.inputs=ve(t.inputs,i),r.outputs=ve(t.outputs),s&&s.forEach(t=>t(r)),r.directiveDefs=o?()=>("function"==typeof o?o():o).map(me):null,r.pipeDefs=a?()=>("function"==typeof a?a():a).map(ge):null,r})}function fe(t,e,n){const i=t.\u0275cmp;i.directiveDefs=()=>e.map(me),i.pipeDefs=()=>n.map(ge)}function me(t){return Ce(t)||function(t){return t[Dt]||null}(t)}function ge(t){return function(t){return t[Rt]||null}(t)}const ye={};function _e(t){const e={type:t.type,bootstrap:t.bootstrap||he,declarations:t.declarations||he,imports:t.imports||he,exports:t.exports||he,transitiveCompileScopes:null,schemas:t.schemas||null,id:t.id||null};return null!=t.id&&tt(()=>{ye[t.id]=t.type}),e}function ve(t,e){if(null==t)return ue;const n={};for(const i in t)if(t.hasOwnProperty(i)){let r=t[i],o=r;Array.isArray(r)&&(o=r[1],r=r[0]),n[r]=i,e&&(e[r]=o)}return n}const be=pe;function we(t){return{type:t.type,name:t.name,factory:null,pure:!1!==t.pure,onDestroy:t.type.prototype.ngOnDestroy||null}}function Ce(t){return t[Mt]||null}function xe(t,e){return t.hasOwnProperty(Bt)?t[Bt]:null}function Ee(t,e){const n=t[Ft]||null;if(!n&&!0===e)throw new Error(`Type ${wt(t)} does not have '\u0275mod' property.`);return n}function Se(t){return Array.isArray(t)&&"object"==typeof t[1]}function Pe(t){return Array.isArray(t)&&!0===t[1]}function Oe(t){return 0!=(8&t.flags)}function ke(t){return 2==(2&t.flags)}function Te(t){return 1==(1&t.flags)}function Ie(t){return null!==t.template}function Ae(t){return 0!=(512&t[2])}let Me=void 0;function De(t){return!!t.listen}const Re={createRenderer:(t,e)=>void 0!==Me?Me:"undefined"!=typeof document?document:void 0};function Fe(t){for(;Array.isArray(t);)t=t[0];return t}function Le(t,e){return Fe(e[t+20])}function Be(t,e){return Fe(e[t.index])}function Ne(t,e){return t.data[e+20]}function je(t,e){return t[e+20]}function ze(t,e){const n=e[t];return Se(n)?n:n[0]}function He(t){const e=function(t){return t.__ngContext__||null}(t);return e?Array.isArray(e)?e:e.lView:null}function Ve(t){return 4==(4&t[2])}function Ue(t){return 128==(128&t[2])}function We(t,e){return null===t||null==e?null:t[e]}function $e(t){t[18]=0}function Ge(t,e){t[5]+=e;let n=t,i=t[3];for(;null!==i&&(1===e&&1===n[5]||-1===e&&0===n[5]);)i[5]+=e,n=i,i=i[3]}const qe={lFrame:yn(null),bindingsEnabled:!0,checkNoChangesMode:!1};function Xe(){return qe.bindingsEnabled}function Ke(){return qe.lFrame.lView}function Ye(){return qe.lFrame.tView}function Qe(t){qe.lFrame.contextLView=t}function Ze(){return qe.lFrame.previousOrParentTNode}function Je(t,e){qe.lFrame.previousOrParentTNode=t,qe.lFrame.isParent=e}function tn(){return qe.lFrame.isParent}function en(){qe.lFrame.isParent=!1}function nn(){return qe.checkNoChangesMode}function rn(t){qe.checkNoChangesMode=t}function on(){const t=qe.lFrame;let e=t.bindingRootIndex;return-1===e&&(e=t.bindingRootIndex=t.tView.bindingStartIndex),e}function sn(){return qe.lFrame.bindingIndex}function an(){return qe.lFrame.bindingIndex++}function ln(t){const e=qe.lFrame,n=e.bindingIndex;return e.bindingIndex=e.bindingIndex+t,n}function cn(t,e){const n=qe.lFrame;n.bindingIndex=n.bindingRootIndex=t,un(e)}function un(t){qe.lFrame.currentDirectiveIndex=t}function hn(t){const e=qe.lFrame.currentDirectiveIndex;return-1===e?null:t[e]}function dn(){return qe.lFrame.currentQueryIndex}function pn(t){qe.lFrame.currentQueryIndex=t}function fn(t,e){const n=gn();qe.lFrame=n,n.previousOrParentTNode=e,n.lView=t}function mn(t,e){const n=gn(),i=t[1];qe.lFrame=n,n.previousOrParentTNode=e,n.lView=t,n.tView=i,n.contextLView=t,n.bindingIndex=i.bindingStartIndex}function gn(){const t=qe.lFrame,e=null===t?null:t.child;return null===e?yn(t):e}function yn(t){const e={previousOrParentTNode:null,isParent:!0,lView:null,tView:null,selectedIndex:0,contextLView:null,elementDepthCount:0,currentNamespace:null,currentSanitizer:null,currentDirectiveIndex:-1,bindingRootIndex:-1,bindingIndex:-1,currentQueryIndex:0,parent:t,child:null};return null!==t&&(t.child=e),e}function _n(){const t=qe.lFrame;return qe.lFrame=t.parent,t.previousOrParentTNode=null,t.lView=null,t}const vn=_n;function bn(){const t=_n();t.isParent=!0,t.tView=null,t.selectedIndex=0,t.contextLView=null,t.elementDepthCount=0,t.currentDirectiveIndex=-1,t.currentNamespace=null,t.currentSanitizer=null,t.bindingRootIndex=-1,t.bindingIndex=-1,t.currentQueryIndex=0}function wn(){return qe.lFrame.selectedIndex}function Cn(t){qe.lFrame.selectedIndex=t}function xn(){const t=qe.lFrame;return Ne(t.tView,t.selectedIndex)}function En(){qe.lFrame.currentNamespace="http://www.w3.org/2000/svg"}function Sn(){qe.lFrame.currentNamespace=null}function Pn(t,e){for(let n=e.directiveStart,i=e.directiveEnd;n<i;n++){const e=t.data[n];e.afterContentInit&&(t.contentHooks||(t.contentHooks=[])).push(-n,e.afterContentInit),e.afterContentChecked&&((t.contentHooks||(t.contentHooks=[])).push(n,e.afterContentChecked),(t.contentCheckHooks||(t.contentCheckHooks=[])).push(n,e.afterContentChecked)),e.afterViewInit&&(t.viewHooks||(t.viewHooks=[])).push(-n,e.afterViewInit),e.afterViewChecked&&((t.viewHooks||(t.viewHooks=[])).push(n,e.afterViewChecked),(t.viewCheckHooks||(t.viewCheckHooks=[])).push(n,e.afterViewChecked)),null!=e.onDestroy&&(t.destroyHooks||(t.destroyHooks=[])).push(n,e.onDestroy)}}function On(t,e,n){In(t,e,3,n)}function kn(t,e,n,i){(3&t[2])===n&&In(t,e,n,i)}function Tn(t,e){let n=t[2];(3&n)===e&&(n&=2047,n+=1,t[2]=n)}function In(t,e,n,i){const r=null!=i?i:-1;let o=0;for(let s=void 0!==i?65535&t[18]:0;s<e.length;s++)if("number"==typeof e[s+1]){if(o=e[s],null!=i&&o>=i)break}else e[s]<0&&(t[18]+=65536),(o<r||-1==r)&&(An(t,n,e,s),t[18]=(4294901760&t[18])+s+2),s++}function An(t,e,n,i){const r=n[i]<0,o=n[i+1],s=t[r?-n[i]:n[i]];r?t[2]>>11<t[18]>>16&&(3&t[2])===e&&(t[2]+=2048,o.call(s)):o.call(s)}class Mn{constructor(t,e,n){this.factory=t,this.resolving=!1,this.canSeeViewProviders=e,this.injectImpl=n}}function Dn(t,e,n){const i=De(t);let r=0;for(;r<n.length;){const o=n[r];if("number"==typeof o){if(0!==o)break;r++;const s=n[r++],a=n[r++],l=n[r++];i?t.setAttribute(e,a,l,s):e.setAttributeNS(s,a,l)}else{const s=o,a=n[++r];Fn(s)?i&&t.setProperty(e,s,a):i?t.setAttribute(e,s,a):e.setAttribute(s,a),r++}}return r}function Rn(t){return 3===t||4===t||6===t}function Fn(t){return 64===t.charCodeAt(0)}function Ln(t,e){if(null===e||0===e.length);else if(null===t||0===t.length)t=e.slice();else{let n=-1;for(let i=0;i<e.length;i++){const r=e[i];"number"==typeof r?n=r:0===n||Bn(t,n,r,null,-1===n||2===n?e[++i]:null)}}return t}function Bn(t,e,n,i,r){let o=0,s=t.length;if(-1===e)s=-1;else for(;o<t.length;){const n=t[o++];if("number"==typeof n){if(n===e){s=-1;break}if(n>e){s=o-1;break}}}for(;o<t.length;){const e=t[o];if("number"==typeof e)break;if(e===n){if(null===i)return void(null!==r&&(t[o+1]=r));if(i===t[o+1])return void(t[o+2]=r)}o++,null!==i&&o++,null!==r&&o++}-1!==s&&(t.splice(s,0,e),o=s+1),t.splice(o++,0,n),null!==i&&t.splice(o++,0,i),null!==r&&t.splice(o++,0,r)}function Nn(t){return-1!==t}function jn(t){return 32767&t}function zn(t){return t>>16}function Hn(t,e){let n=zn(t),i=e;for(;n>0;)i=i[15],n--;return i}function Vn(t){return"string"==typeof t?t:null==t?"":""+t}function Un(t){return"function"==typeof t?t.name||t.toString():"object"==typeof t&&null!=t&&"function"==typeof t.type?t.type.name||t.type.toString():Vn(t)}const Wn=(()=>("undefined"!=typeof requestAnimationFrame&&requestAnimationFrame||setTimeout).bind(At))();function $n(t){return{name:"body",target:t.ownerDocument.body}}function Gn(t){return t instanceof Function?t():t}let qn=!0;function Xn(t){const e=qn;return qn=t,e}let Kn=0;function Yn(t,e){const n=Zn(t,e);if(-1!==n)return n;const i=e[1];i.firstCreatePass&&(t.injectorIndex=e.length,Qn(i.data,t),Qn(e,null),Qn(i.blueprint,null));const r=Jn(t,e),o=t.injectorIndex;if(Nn(r)){const t=jn(r),n=Hn(r,e),i=n[1].data;for(let r=0;r<8;r++)e[o+r]=n[t+r]|i[t+r]}return e[o+8]=r,o}function Qn(t,e){t.push(0,0,0,0,0,0,0,0,e)}function Zn(t,e){return-1===t.injectorIndex||t.parent&&t.parent.injectorIndex===t.injectorIndex||null==e[t.injectorIndex+8]?-1:t.injectorIndex}function Jn(t,e){if(t.parent&&-1!==t.parent.injectorIndex)return t.parent.injectorIndex;let n=e[6],i=1;for(;n&&-1===n.injectorIndex;)n=(e=e[15])?e[6]:null,i++;return n?n.injectorIndex|i<<16:-1}function ti(t,e,n){!function(t,e,n){let i="string"!=typeof n?n[Nt]:n.charCodeAt(0)||0;null==i&&(i=n[Nt]=Kn++);const r=255&i,o=1<<r,s=64&r,a=32&r,l=e.data;128&r?s?a?l[t+7]|=o:l[t+6]|=o:a?l[t+5]|=o:l[t+4]|=o:s?a?l[t+3]|=o:l[t+2]|=o:a?l[t+1]|=o:l[t]|=o}(t,e,n)}function ei(t,e,n,i=lt.Default,r){if(null!==t){const r=function(t){if("string"==typeof t)return t.charCodeAt(0)||0;const e=t[Nt];return"number"==typeof e&&e>0?255&e:e}(n);if("function"==typeof r){fn(e,t);try{const t=r();if(null!=t||i&lt.Optional)return t;throw new Error(`No provider for ${Un(n)}!`)}finally{vn()}}else if("number"==typeof r){if(-1===r)return new li(t,e);let o=null,s=Zn(t,e),a=-1,l=i&lt.Host?e[16][6]:null;for((-1===s||i&lt.SkipSelf)&&(a=-1===s?Jn(t,e):e[s+8],ai(i,!1)?(o=e[1],s=jn(a),e=Hn(a,e)):s=-1);-1!==s;){a=e[s+8];const t=e[1];if(si(r,s,t.data)){const t=ii(s,e,n,o,i,l);if(t!==ni)return t}ai(i,e[1].data[s+8]===l)&&si(r,s,e)?(o=t,s=jn(a),e=Hn(a,e)):s=-1}}}if(i&lt.Optional&&void 0===r&&(r=null),0==(i&(lt.Self|lt.Host))){const t=e[9],o=qt(void 0);try{return t?t.get(n,r,i&lt.Optional):Qt(n,r,i&lt.Optional)}finally{qt(o)}}if(i&lt.Optional)return r;throw new Error(`NodeInjector: NOT_FOUND [${Un(n)}]`)}const ni={};function ii(t,e,n,i,r,o){const s=e[1],a=s.data[t+8],l=ri(a,s,n,null==i?ke(a)&&qn:i!=s&&3===a.type,r&lt.Host&&o===a);return null!==l?oi(e,s,l,a):ni}function ri(t,e,n,i,r){const o=t.providerIndexes,s=e.data,a=65535&o,l=t.directiveStart,c=o>>16,u=r?a+c:t.directiveEnd;for(let h=i?a:a+c;h<u;h++){const t=s[h];if(h<l&&n===t||h>=l&&t.type===n)return h}if(r){const t=s[l];if(t&&Ie(t)&&t.type===n)return l}return null}function oi(t,e,n,i){let r=t[n];const o=e.data;if(r instanceof Mn){const s=r;if(s.resolving)throw new Error(`Circular dep for ${Un(o[n])}`);const a=Xn(s.canSeeViewProviders);let l;s.resolving=!0,s.injectImpl&&(l=qt(s.injectImpl)),fn(t,i);try{r=t[n]=s.factory(void 0,o,t,i),e.firstCreatePass&&n>=i.directiveStart&&function(t,e,n){const{onChanges:i,onInit:r,doCheck:o}=e;i&&((n.preOrderHooks||(n.preOrderHooks=[])).push(t,i),(n.preOrderCheckHooks||(n.preOrderCheckHooks=[])).push(t,i)),r&&(n.preOrderHooks||(n.preOrderHooks=[])).push(-t,r),o&&((n.preOrderHooks||(n.preOrderHooks=[])).push(t,o),(n.preOrderCheckHooks||(n.preOrderCheckHooks=[])).push(t,o))}(n,o[n],e)}finally{s.injectImpl&&qt(l),Xn(a),s.resolving=!1,vn()}}return r}function si(t,e,n){const i=64&t,r=32&t;let o;return o=128&t?i?r?n[e+7]:n[e+6]:r?n[e+5]:n[e+4]:i?r?n[e+3]:n[e+2]:r?n[e+1]:n[e],!!(o&1<<t)}function ai(t,e){return!(t&lt.Self||t&lt.Host&&e)}class li{constructor(t,e){this._tNode=t,this._lView=e}get(t,e){return ei(this._tNode,this._lView,t,void 0,e)}}function ci(t){const e=t;if(Pt(t))return()=>{const t=ci(St(e));return t?t():null};let n=xe(e);if(null===n){const t=mt(e);n=t&&t.factory}return n||null}function ui(t){return tt(()=>{const e=t.prototype.constructor,n=e[Bt]||ci(e),i=Object.prototype;let r=Object.getPrototypeOf(t.prototype).constructor;for(;r&&r!==i;){const t=r[Bt]||ci(r);if(t&&t!==n)return t;r=Object.getPrototypeOf(r)}return t=>new t})}function hi(t){return t.ngDebugContext}function di(t){return t.ngOriginalError}function pi(t,...e){t.error(...e)}class fi{constructor(){this._console=console}handleError(t){const e=this._findOriginalError(t),n=this._findContext(t),i=function(t){return t.ngErrorLogger||pi}(t);i(this._console,"ERROR",t),e&&i(this._console,"ORIGINAL ERROR",e),n&&i(this._console,"ERROR CONTEXT",n)}_findContext(t){return t?hi(t)?hi(t):this._findContext(di(t)):null}_findOriginalError(t){let e=di(t);for(;e&&di(e);)e=di(e);return e}}class mi{constructor(t){this.changingThisBreaksApplicationSecurity=t}toString(){return`SafeValue must use [property]=binding: ${this.changingThisBreaksApplicationSecurity}`+" (see http://g.co/ng/security#xss)"}}class gi extends mi{getTypeName(){return"HTML"}}class yi extends mi{getTypeName(){return"Style"}}class _i extends mi{getTypeName(){return"Script"}}class vi extends mi{getTypeName(){return"URL"}}class bi extends mi{getTypeName(){return"ResourceURL"}}function wi(t){return t instanceof mi?t.changingThisBreaksApplicationSecurity:t}function Ci(t,e){const n=xi(t);if(null!=n&&n!==e){if("ResourceURL"===n&&"URL"===e)return!0;throw new Error(`Required a safe ${e}, got a ${n} (see http://g.co/ng/security#xss)`)}return n===e}function xi(t){return t instanceof mi&&t.getTypeName()||null}let Ei=!0,Si=!1;function Pi(){return Si=!0,Ei}class Oi{constructor(t){this.defaultDoc=t,this.inertDocument=this.defaultDoc.implementation.createHTMLDocument("sanitization-inert");let e=this.inertDocument.body;if(null==e){const t=this.inertDocument.createElement("html");this.inertDocument.appendChild(t),e=this.inertDocument.createElement("body"),t.appendChild(e)}e.innerHTML='<svg><g onload="this.parentNode.remove()"></g></svg>',!e.querySelector||e.querySelector("svg")?(e.innerHTML='<svg><p><style><img src="</style><img src=x onerror=alert(1)//">',this.getInertBodyElement=e.querySelector&&e.querySelector("svg img")&&function(){try{return!!window.DOMParser}catch(t){return!1}}()?this.getInertBodyElement_DOMParser:this.getInertBodyElement_InertDocument):this.getInertBodyElement=this.getInertBodyElement_XHR}getInertBodyElement_XHR(t){t="<body><remove></remove>"+t+"</body>";try{t=encodeURI(t)}catch(i){return null}const e=new XMLHttpRequest;e.responseType="document",e.open("GET","data:text/html;charset=utf-8,"+t,!1),e.send(void 0);const n=e.response.body;return n.removeChild(n.firstChild),n}getInertBodyElement_DOMParser(t){t="<body><remove></remove>"+t+"</body>";try{const e=(new window.DOMParser).parseFromString(t,"text/html").body;return e.removeChild(e.firstChild),e}catch(e){return null}}getInertBodyElement_InertDocument(t){const e=this.inertDocument.createElement("template");if("content"in e)return e.innerHTML=t,e;const n=this.inertDocument.createElement("body");return n.innerHTML=t,this.defaultDoc.documentMode&&this.stripCustomNsAttrs(n),n}stripCustomNsAttrs(t){const e=t.attributes;for(let i=e.length-1;0<i;i--){const n=e.item(i).name;"xmlns:ns1"!==n&&0!==n.indexOf("ns1:")||t.removeAttribute(n)}let n=t.firstChild;for(;n;)n.nodeType===Node.ELEMENT_NODE&&this.stripCustomNsAttrs(n),n=n.nextSibling}}const ki=/^(?:(?:https?|mailto|ftp|tel|file):|[^&:/?#]*(?:[/?#]|$))/gi,Ti=/^data:(?:image\/(?:bmp|gif|jpeg|jpg|png|tiff|webp)|video\/(?:mpeg|mp4|ogg|webm)|audio\/(?:mp3|oga|ogg|opus));base64,[a-z0-9+\/]+=*$/i;function Ii(t){return(t=String(t)).match(ki)||t.match(Ti)?t:(Pi()&&console.warn(`WARNING: sanitizing unsafe URL value ${t} (see http://g.co/ng/security#xss)`),"unsafe:"+t)}function Ai(t){const e={};for(const n of t.split(","))e[n]=!0;return e}function Mi(...t){const e={};for(const n of t)for(const t in n)n.hasOwnProperty(t)&&(e[t]=!0);return e}const Di=Ai("area,br,col,hr,img,wbr"),Ri=Ai("colgroup,dd,dt,li,p,tbody,td,tfoot,th,thead,tr"),Fi=Ai("rp,rt"),Li=Mi(Fi,Ri),Bi=Mi(Di,Mi(Ri,Ai("address,article,aside,blockquote,caption,center,del,details,dialog,dir,div,dl,figure,figcaption,footer,h1,h2,h3,h4,h5,h6,header,hgroup,hr,ins,main,map,menu,nav,ol,pre,section,summary,table,ul")),Mi(Fi,Ai("a,abbr,acronym,audio,b,bdi,bdo,big,br,cite,code,del,dfn,em,font,i,img,ins,kbd,label,map,mark,picture,q,ruby,rp,rt,s,samp,small,source,span,strike,strong,sub,sup,time,track,tt,u,var,video")),Li),Ni=Ai("background,cite,href,itemtype,longdesc,poster,src,xlink:href"),ji=Ai("srcset"),zi=Mi(Ni,ji,Ai("abbr,accesskey,align,alt,autoplay,axis,bgcolor,border,cellpadding,cellspacing,class,clear,color,cols,colspan,compact,controls,coords,datetime,default,dir,download,face,headers,height,hidden,hreflang,hspace,ismap,itemscope,itemprop,kind,label,lang,language,loop,media,muted,nohref,nowrap,open,preload,rel,rev,role,rows,rowspan,rules,scope,scrolling,shape,size,sizes,span,srclang,start,summary,tabindex,target,title,translate,type,usemap,valign,value,vspace,width"),Ai("aria-activedescendant,aria-atomic,aria-autocomplete,aria-busy,aria-checked,aria-colcount,aria-colindex,aria-colspan,aria-controls,aria-current,aria-describedby,aria-details,aria-disabled,aria-dropeffect,aria-errormessage,aria-expanded,aria-flowto,aria-grabbed,aria-haspopup,aria-hidden,aria-invalid,aria-keyshortcuts,aria-label,aria-labelledby,aria-level,aria-live,aria-modal,aria-multiline,aria-multiselectable,aria-orientation,aria-owns,aria-placeholder,aria-posinset,aria-pressed,aria-readonly,aria-relevant,aria-required,aria-roledescription,aria-rowcount,aria-rowindex,aria-rowspan,aria-selected,aria-setsize,aria-sort,aria-valuemax,aria-valuemin,aria-valuenow,aria-valuetext")),Hi=Ai("script,style,template");class Vi{constructor(){this.sanitizedSomething=!1,this.buf=[]}sanitizeChildren(t){let e=t.firstChild,n=!0;for(;e;)if(e.nodeType===Node.ELEMENT_NODE?n=this.startElement(e):e.nodeType===Node.TEXT_NODE?this.chars(e.nodeValue):this.sanitizedSomething=!0,n&&e.firstChild)e=e.firstChild;else for(;e;){e.nodeType===Node.ELEMENT_NODE&&this.endElement(e);let t=this.checkClobberedElement(e,e.nextSibling);if(t){e=t;break}e=this.checkClobberedElement(e,e.parentNode)}return this.buf.join("")}startElement(t){const e=t.nodeName.toLowerCase();if(!Bi.hasOwnProperty(e))return this.sanitizedSomething=!0,!Hi.hasOwnProperty(e);this.buf.push("<"),this.buf.push(e);const n=t.attributes;for(let r=0;r<n.length;r++){const t=n.item(r),e=t.name,o=e.toLowerCase();if(!zi.hasOwnProperty(o)){this.sanitizedSomething=!0;continue}let s=t.value;Ni[o]&&(s=Ii(s)),ji[o]&&(i=s,s=(i=String(i)).split(",").map(t=>Ii(t.trim())).join(", ")),this.buf.push(" ",e,'="',$i(s),'"')}var i;return this.buf.push(">"),!0}endElement(t){const e=t.nodeName.toLowerCase();Bi.hasOwnProperty(e)&&!Di.hasOwnProperty(e)&&(this.buf.push("</"),this.buf.push(e),this.buf.push(">"))}chars(t){this.buf.push($i(t))}checkClobberedElement(t,e){if(e&&(t.compareDocumentPosition(e)&Node.DOCUMENT_POSITION_CONTAINED_BY)===Node.DOCUMENT_POSITION_CONTAINED_BY)throw new Error(`Failed to sanitize html because the element is clobbered: ${t.outerHTML}`);return e}}const Ui=/[\uD800-\uDBFF][\uDC00-\uDFFF]/g,Wi=/([^\#-~ |!])/g;function $i(t){return t.replace(/&/g,"&amp;").replace(Ui,(function(t){return"&#"+(1024*(t.charCodeAt(0)-55296)+(t.charCodeAt(1)-56320)+65536)+";"})).replace(Wi,(function(t){return"&#"+t.charCodeAt(0)+";"})).replace(/</g,"&lt;").replace(/>/g,"&gt;")}let Gi;function qi(t){return"content"in t&&function(t){return t.nodeType===Node.ELEMENT_NODE&&"TEMPLATE"===t.nodeName}(t)?t.content:null}const Xi=function(){var t={NONE:0,HTML:1,STYLE:2,SCRIPT:3,URL:4,RESOURCE_URL:5};return t[t.NONE]="NONE",t[t.HTML]="HTML",t[t.STYLE]="STYLE",t[t.SCRIPT]="SCRIPT",t[t.URL]="URL",t[t.RESOURCE_URL]="RESOURCE_URL",t}(),Ki=new RegExp("^([-,.\"'%_!# a-zA-Z0-9]+|(?:(?:matrix|translate|scale|rotate|skew|perspective)(?:X|Y|Z|3d)?|(?:rgb|hsl)a?|(?:repeating-)?(?:linear|radial)-gradient|(?:attr|calc|var))\\([-0-9.%, #a-zA-Z]+\\))$","g"),Yi=/^url\(([^)]+)\)$/;function Qi(t){if(!(t=String(t).trim()))return"";const e=t.match(Yi);return e&&Ii(e[1])===e[1]||t.match(Ki)&&function(t){let e=!0,n=!0;for(let i=0;i<t.length;i++){const r=t.charAt(i);"'"===r&&n?e=!e:'"'===r&&e&&(n=!n)}return e&&n}(t)?t:(Pi()&&console.warn(`WARNING: sanitizing unsafe style value ${t} (see http://g.co/ng/security#xss).`),"unsafe")}function Zi(t){const e=function(){const t=Ke();return t&&t[12]}();return e?e.sanitize(Xi.STYLE,t)||"":Ci(t,"Style")?wi(t):Qi(Vn(t))}const Ji=function(t,e,n){if(void 0===e&&void 0===n)return Zi(t);let i=!0;return 1&(n=n||3)&&(i=function(t){return"background-image"===t||"backgroundImage"===t||"background"===t||"border-image"===t||"borderImage"===t||"border-image-source"===t||"borderImageSource"===t||"filter"===t||"list-style"===t||"listStyle"===t||"list-style-image"===t||"listStyleImage"===t||"clip-path"===t||"clipPath"===t}(t)),2&n?i?Zi(e):wi(e):i};function tr(t,e){t.__ngContext__=e}function er(t){throw new Error(`Multiple components match node with tagname ${t.tagName}`)}function nr(){throw new Error("Cannot mix multi providers and regular providers")}function ir(t,e,n){let i=t.length;for(;;){const r=t.indexOf(e,n);if(-1===r)return r;if(0===r||t.charCodeAt(r-1)<=32){const n=e.length;if(r+n===i||t.charCodeAt(r+n)<=32)return r}n=r+1}}function rr(t,e,n){let i=0;for(;i<t.length;){let r=t[i++];if(n&&"class"===r){if(r=t[i],-1!==ir(r.toLowerCase(),e,0))return!0}else if(1===r){for(;i<t.length&&"string"==typeof(r=t[i++]);)if(r.toLowerCase()===e)return!0;return!1}}return!1}function or(t){return 0===t.type&&"ng-template"!==t.tagName}function sr(t,e,n){return e===(0!==t.type||n?t.tagName:"ng-template")}function ar(t,e,n){let i=4;const r=t.attrs||[],o=function(t){for(let e=0;e<t.length;e++)if(Rn(t[e]))return e;return t.length}(r);let s=!1;for(let a=0;a<e.length;a++){const l=e[a];if("number"!=typeof l){if(!s)if(4&i){if(i=2|1&i,""!==l&&!sr(t,l,n)||""===l&&1===e.length){if(lr(i))return!1;s=!0}}else{const c=8&i?l:e[++a];if(8&i&&null!==t.attrs){if(!rr(t.attrs,c,n)){if(lr(i))return!1;s=!0}continue}const u=cr(8&i?"class":l,r,or(t),n);if(-1===u){if(lr(i))return!1;s=!0;continue}if(""!==c){let t;t=u>o?"":r[u+1].toLowerCase();const e=8&i?t:null;if(e&&-1!==ir(e,c,0)||2&i&&c!==t){if(lr(i))return!1;s=!0}}}}else{if(!s&&!lr(i)&&!lr(l))return!1;if(s&&lr(l))continue;s=!1,i=l|1&i}}return lr(i)||s}function lr(t){return 0==(1&t)}function cr(t,e,n,i){if(null===e)return-1;let r=0;if(i||!n){let n=!1;for(;r<e.length;){const i=e[r];if(i===t)return r;if(3===i||6===i)n=!0;else{if(1===i||2===i){let t=e[++r];for(;"string"==typeof t;)t=e[++r];continue}if(4===i)break;if(0===i){r+=4;continue}}r+=n?1:2}return-1}return function(t,e){let n=t.indexOf(4);if(n>-1)for(n++;n<t.length;){const i=t[n];if("number"==typeof i)return-1;if(i===e)return n;n++}return-1}(e,t)}function ur(t,e,n=!1){for(let i=0;i<e.length;i++)if(ar(t,e[i],n))return!0;return!1}function hr(t,e){t:for(let n=0;n<e.length;n++){const i=e[n];if(t.length===i.length){for(let e=0;e<t.length;e++)if(t[e]!==i[e])continue t;return!0}}return!1}function dr(t,e){return t?":not("+e.trim()+")":e}function pr(t){let e=t[0],n=1,i=2,r="",o=!1;for(;n<t.length;){let s=t[n];if("string"==typeof s)if(2&i){const e=t[++n];r+="["+s+(e.length>0?'="'+e+'"':"")+"]"}else 8&i?r+="."+s:4&i&&(r+=" "+s);else""===r||lr(s)||(e+=dr(o,r),r=""),i=s,o=o||!lr(i);n++}return""!==r&&(e+=dr(o,r)),e}const fr={};function mr(t){const e=t[3];return Pe(e)?e[3]:e}function gr(t){return _r(t[13])}function yr(t){return _r(t[4])}function _r(t){for(;null!==t&&!Pe(t);)t=t[4];return t}function vr(t){br(Ye(),Ke(),wn()+t,nn())}function br(t,e,n,i){if(!i)if(3==(3&e[2])){const i=t.preOrderCheckHooks;null!==i&&On(e,i,n)}else{const i=t.preOrderHooks;null!==i&&kn(e,i,0,n)}Cn(n)}function wr(t,e){return t<<17|e<<2}function Cr(t){return t>>17&32767}function xr(t){return 2|t}function Er(t){return(131068&t)>>2}function Sr(t,e){return-131069&t|e<<2}function Pr(t){return 1|t}function Or(t,e){const n=t.contentQueries;if(null!==n)for(let i=0;i<n.length;i+=2){const r=n[i],o=n[i+1];if(-1!==o){const n=t.data[o];pn(r),n.contentQueries(2,e[o],o)}}}function kr(t,e,n){return De(e)?e.createElement(t,n):null===n?e.createElement(t):e.createElementNS(n,t)}function Tr(t,e,n,i,r,o,s,a,l,c){const u=e.blueprint.slice();return u[0]=r,u[2]=140|i,$e(u),u[3]=u[15]=t,u[8]=n,u[10]=s||t&&t[10],u[11]=a||t&&t[11],u[12]=l||t&&t[12]||null,u[9]=c||t&&t[9]||null,u[6]=o,u[16]=2==e.type?t[16]:u,u}function Ir(t,e,n,i,r,o){const s=n+20,a=t.data[s]||function(t,e,n,i,r,o){const s=Ze(),a=tn(),l=a?s:s&&s.parent,c=t.data[n]=zr(0,l&&l!==e?l:null,i,n,r,o);return null===t.firstChild&&(t.firstChild=c),s&&(!a||null!=s.child||null===c.parent&&2!==s.type?a||(s.next=c):s.child=c),c}(t,e,s,i,r,o);return Je(a,!0),a}function Ar(t,e,n){mn(e,e[6]);try{const i=t.viewQuery;null!==i&&lo(1,i,n);const r=t.template;null!==r&&Rr(t,e,r,1,n),t.firstCreatePass&&(t.firstCreatePass=!1),t.staticContentQueries&&Or(t,e),t.staticViewQueries&&lo(2,t.viewQuery,n);const o=t.components;null!==o&&function(t,e){for(let n=0;n<e.length;n++)io(t,e[n])}(e,o)}catch(i){throw t.firstCreatePass&&(t.incompleteFirstPass=!0),i}finally{e[2]&=-5,bn()}}function Mr(t,e,n,i){const r=e[2];if(256==(256&r))return;mn(e,e[6]);const o=nn();try{$e(e),qe.lFrame.bindingIndex=t.bindingStartIndex,null!==n&&Rr(t,e,n,2,i);const s=3==(3&r);if(!o)if(s){const n=t.preOrderCheckHooks;null!==n&&On(e,n,null)}else{const n=t.preOrderHooks;null!==n&&kn(e,n,0,null),Tn(e,0)}if(function(t){for(let e=gr(t);null!==e;e=yr(e)){if(!e[2])continue;const t=e[9];for(let e=0;e<t.length;e++){const n=t[e],i=n[3];0==(1024&n[2])&&Ge(i,1),n[2]|=1024}}}(e),function(t){for(let e=gr(t);null!==e;e=yr(e))for(let t=10;t<e.length;t++){const n=e[t],i=n[1];Ue(n)&&Mr(i,n,i.template,n[8])}}(e),null!==t.contentQueries&&Or(t,e),!o)if(s){const n=t.contentCheckHooks;null!==n&&On(e,n)}else{const n=t.contentHooks;null!==n&&kn(e,n,1),Tn(e,1)}!function(t,e){try{const n=t.expandoInstructions;if(null!==n){let i=t.expandoStartIndex,r=-1,o=-1;for(let t=0;t<n.length;t++){const s=n[t];"number"==typeof s?s<=0?(o=0-s,Cn(o),i+=9+n[++t],r=i):i+=s:(null!==s&&(cn(i,r),s(2,e[r])),r++)}}}finally{Cn(-1)}}(t,e);const a=t.components;null!==a&&function(t,e){for(let n=0;n<e.length;n++)no(t,e[n])}(e,a);const l=t.viewQuery;if(null!==l&&lo(2,l,i),!o)if(s){const n=t.viewCheckHooks;null!==n&&On(e,n)}else{const n=t.viewHooks;null!==n&&kn(e,n,2),Tn(e,2)}!0===t.firstUpdatePass&&(t.firstUpdatePass=!1),o||(e[2]&=-73),1024&e[2]&&(e[2]&=-1025,Ge(e[3],-1))}finally{bn()}}function Dr(t,e,n,i){const r=e[10],o=!nn(),s=Ve(e);try{o&&!s&&r.begin&&r.begin(),s&&Ar(t,e,i),Mr(t,e,n,i)}finally{o&&!s&&r.end&&r.end()}}function Rr(t,e,n,i,r){const o=wn();try{Cn(-1),2&i&&e.length>20&&br(t,e,0,nn()),n(i,r)}finally{Cn(o)}}function Fr(t,e,n){if(Oe(e)){const i=e.directiveEnd;for(let r=e.directiveStart;r<i;r++){const e=t.data[r];e.contentQueries&&e.contentQueries(1,n[r],r)}}}function Lr(t,e,n){Xe()&&(function(t,e,n,i){const r=n.directiveStart,o=n.directiveEnd;t.firstCreatePass||Yn(n,e),tr(i,e);const s=n.initialInputs;for(let a=r;a<o;a++){const i=t.data[a],o=Ie(i);o&&Zr(e,n,i);const l=oi(e,t,a,n);tr(l,e),null!==s&&Jr(0,a-r,l,i,0,s),o&&(ze(n.index,e)[8]=l)}}(t,e,n,Be(n,e)),128==(128&n.flags)&&function(t,e,n){const i=n.directiveStart,r=n.directiveEnd,o=t.expandoInstructions,s=t.firstCreatePass,a=n.index-20,l=qe.lFrame.currentDirectiveIndex;try{Cn(a);for(let n=i;n<r;n++){const i=t.data[n],r=e[n];un(n),null!==i.hostBindings||0!==i.hostVars||null!==i.hostAttrs?Gr(i,r):s&&o.push(null)}}finally{Cn(-1),un(l)}}(t,e,n))}function Br(t,e,n=Be){const i=e.localNames;if(null!==i){let r=e.index+1;for(let o=0;o<i.length;o+=2){const s=i[o+1],a=-1===s?n(e,t):t[s];t[r++]=a}}}function Nr(t){const e=t.tView;return null===e||e.incompleteFirstPass?t.tView=jr(1,-1,t.template,t.decls,t.vars,t.directiveDefs,t.pipeDefs,t.viewQuery,t.schemas,t.consts):e}function jr(t,e,n,i,r,o,s,a,l,c){const u=20+i,h=u+r,d=function(t,e){const n=[];for(let i=0;i<e;i++)n.push(i<t?null:fr);return n}(u,h);return d[1]={type:t,id:e,blueprint:d,template:n,queries:null,viewQuery:a,node:null,data:d.slice().fill(null,u),bindingStartIndex:u,expandoStartIndex:h,expandoInstructions:null,firstCreatePass:!0,firstUpdatePass:!0,staticViewQueries:!1,staticContentQueries:!1,preOrderHooks:null,preOrderCheckHooks:null,contentHooks:null,contentCheckHooks:null,viewHooks:null,viewCheckHooks:null,destroyHooks:null,cleanup:null,contentQueries:null,components:null,directiveRegistry:"function"==typeof o?o():o,pipeRegistry:"function"==typeof s?s():s,firstChild:null,schemas:l,consts:c,incompleteFirstPass:!1}}function zr(t,e,n,i,r,o){return{type:n,index:i,injectorIndex:e?e.injectorIndex:-1,directiveStart:-1,directiveEnd:-1,directiveStylingLast:-1,propertyBindings:null,flags:0,providerIndexes:0,tagName:r,attrs:o,mergedAttrs:null,localNames:null,initialInputs:void 0,inputs:null,outputs:null,tViews:null,next:null,projectionNext:null,child:null,parent:e,projection:null,styles:null,stylesWithoutHost:null,residualStyles:void 0,classes:null,classesWithoutHost:null,residualClasses:void 0,classBindings:0,styleBindings:0}}function Hr(t,e,n){for(let i in t)if(t.hasOwnProperty(i)){const r=t[i];(n=null===n?{}:n).hasOwnProperty(i)?n[i].push(e,r):n[i]=[e,r]}return n}function Vr(t,e,n,i,r,o,s,a){const l=Be(e,n);let c,u=e.inputs;var h;!a&&null!=u&&(c=u[i])?(mo(t,n,c,i,r),ke(e)&&function(t,e){const n=ze(e,t);16&n[2]||(n[2]|=64)}(n,e.index)):3===e.type&&(i="class"===(h=i)?"className":"for"===h?"htmlFor":"formaction"===h?"formAction":"innerHtml"===h?"innerHTML":"readonly"===h?"readOnly":"tabindex"===h?"tabIndex":h,r=null!=s?s(r,e.tagName||"",i):r,De(o)?o.setProperty(l,i,r):Fn(i)||(l.setProperty?l.setProperty(i,r):l[i]=r))}function Ur(t,e,n,i){let r=!1;if(Xe()){const o=function(t,e,n){const i=t.directiveRegistry;let r=null;if(i)for(let o=0;o<i.length;o++){const s=i[o];ur(n,s.selectors,!1)&&(r||(r=[]),ti(Yn(n,e),t,s.type),Ie(s)?(2&n.flags&&er(n),Xr(t,n),r.unshift(s)):r.push(s))}return r}(t,e,n),s=null===i?null:{"":-1};if(null!==o){let i=0;r=!0,Yr(n,t.data.length,o.length);for(let t=0;t<o.length;t++){const e=o[t];e.providersResolver&&e.providersResolver(e)}qr(t,n,o.length);let a=!1,l=!1;for(let r=0;r<o.length;r++){const c=o[r];n.mergedAttrs=Ln(n.mergedAttrs,c.hostAttrs),Qr(t,e,c),Kr(t.data.length-1,c,s),null!==c.contentQueries&&(n.flags|=8),null===c.hostBindings&&null===c.hostAttrs&&0===c.hostVars||(n.flags|=128),!a&&(c.onChanges||c.onInit||c.doCheck)&&((t.preOrderHooks||(t.preOrderHooks=[])).push(n.index-20),a=!0),l||!c.onChanges&&!c.doCheck||((t.preOrderCheckHooks||(t.preOrderCheckHooks=[])).push(n.index-20),l=!0),Wr(t,c),i+=c.hostVars}!function(t,e){const n=e.directiveEnd,i=t.data,r=e.attrs,o=[];let s=null,a=null;for(let l=e.directiveStart;l<n;l++){const t=i[l],n=t.inputs,c=null===r||or(e)?null:to(n,r);o.push(c),s=Hr(n,l,s),a=Hr(t.outputs,l,a)}null!==s&&(s.hasOwnProperty("class")&&(e.flags|=16),s.hasOwnProperty("style")&&(e.flags|=32)),e.initialInputs=o,e.inputs=s,e.outputs=a}(t,n),$r(t,e,i)}s&&function(t,e,n){if(e){const i=t.localNames=[];for(let t=0;t<e.length;t+=2){const r=n[e[t+1]];if(null==r)throw new Error(`Export of name '${e[t+1]}' not found!`);i.push(e[t],r)}}}(n,i,s)}return n.mergedAttrs=Ln(n.mergedAttrs,n.attrs),r}function Wr(t,e){const n=t.expandoInstructions;n.push(e.hostBindings),0!==e.hostVars&&n.push(e.hostVars)}function $r(t,e,n){for(let i=0;i<n;i++)e.push(fr),t.blueprint.push(fr),t.data.push(null)}function Gr(t,e){null!==t.hostBindings&&t.hostBindings(1,e)}function qr(t,e,n){const i=20-e.index,r=t.data.length-(65535&e.providerIndexes);(t.expandoInstructions||(t.expandoInstructions=[])).push(i,r,n)}function Xr(t,e){e.flags|=2,(t.components||(t.components=[])).push(e.index)}function Kr(t,e,n){if(n){if(e.exportAs)for(let i=0;i<e.exportAs.length;i++)n[e.exportAs[i]]=t;Ie(e)&&(n[""]=t)}}function Yr(t,e,n){t.flags|=1,t.directiveStart=e,t.directiveEnd=e+n,t.providerIndexes=e}function Qr(t,e,n){t.data.push(n);const i=n.factory||(n.factory=xe(n.type)),r=new Mn(i,Ie(n),null);t.blueprint.push(r),e.push(r)}function Zr(t,e,n){const i=Be(e,t),r=Nr(n),o=t[10],s=ro(t,Tr(t,r,null,n.onPush?64:16,i,e,o,o.createRenderer(i,n)));t[e.index]=s}function Jr(t,e,n,i,r,o){const s=o[e];if(null!==s){const t=i.setInput;for(let e=0;e<s.length;){const r=s[e++],o=s[e++],a=s[e++];null!==t?i.setInput(n,a,r,o):n[o]=a}}}function to(t,e){let n=null,i=0;for(;i<e.length;){const r=e[i];if(0!==r)if(5!==r){if("number"==typeof r)break;t.hasOwnProperty(r)&&(null===n&&(n=[]),n.push(r,t[r],e[i+1])),i+=2}else i+=2;else i+=4}return n}function eo(t,e,n,i){return new Array(t,!0,!1,e,null,0,i,n,null,null)}function no(t,e){const n=ze(e,t);if(Ue(n)){const t=n[1];80&n[2]?Mr(t,n,t.template,n[8]):n[5]>0&&function t(e){for(let i=gr(e);null!==i;i=yr(i))for(let e=10;e<i.length;e++){const n=i[e];if(1024&n[2]){const t=n[1];Mr(t,n,t.template,n[8])}else n[5]>0&&t(n)}const n=e[1].components;if(null!==n)for(let i=0;i<n.length;i++){const r=ze(n[i],e);Ue(r)&&r[5]>0&&t(r)}}(n)}}function io(t,e){const n=ze(e,t),i=n[1];!function(t,e){for(let n=e.length;n<t.blueprint.length;n++)e.push(t.blueprint[n])}(i,n),Ar(i,n,n[8])}function ro(t,e){return t[13]?t[14][4]=e:t[13]=e,t[14]=e,e}function oo(t){for(;t;){t[2]|=64;const e=mr(t);if(Ae(t)&&!e)return t;t=e}return null}function so(t,e,n){const i=e[10];i.begin&&i.begin();try{Mr(t,e,t.template,n)}catch(r){throw fo(e,r),r}finally{i.end&&i.end()}}function ao(t){!function(t){for(let e=0;e<t.components.length;e++){const n=t.components[e],i=He(n),r=i[1];Dr(r,i,r.template,n)}}(t[8])}function lo(t,e,n){pn(0),e(t,n)}const co=(()=>Promise.resolve(null))();function uo(t){return t[7]||(t[7]=[])}function ho(t){return t.cleanup||(t.cleanup=[])}function po(t,e,n){return(null===t||Ie(t))&&(n=function(t){for(;Array.isArray(t);){if("object"==typeof t[1])return t;t=t[0]}return null}(n[e.index])),n[11]}function fo(t,e){const n=t[9],i=n?n.get(fi,null):null;i&&i.handleError(e)}function mo(t,e,n,i,r){for(let o=0;o<n.length;){const s=n[o++],a=n[o++],l=e[s],c=t.data[s];null!==c.setInput?c.setInput(l,r,i,a):l[a]=r}}function go(t,e,n){const i=Le(e,t),r=t[11];De(r)?r.setValue(i,n):i.textContent=n}function yo(t,e){const n=e[3];return-1===t.index?Pe(n)?n:null:n}function _o(t,e){const n=yo(t,e);return n?Io(e[11],n[7]):null}function vo(t,e,n,i,r){if(null!=i){let o,s=!1;Pe(i)?o=i:Se(i)&&(s=!0,i=i[0]);const a=Fe(i);0===t&&null!==n?null==r?ko(e,n,a):Oo(e,n,a,r||null):1===t&&null!==n?Oo(e,n,a,r||null):2===t?function(t,e,n){const i=Io(t,e);i&&function(t,e,n,i){De(t)?t.removeChild(e,n,i):e.removeChild(n)}(t,i,e,n)}(e,a,s):3===t&&e.destroyNode(a),null!=o&&function(t,e,n,i,r){const o=n[7];o!==Fe(n)&&vo(e,t,i,o,r);for(let s=10;s<n.length;s++){const r=n[s];Fo(r[1],r,t,e,i,o)}}(e,t,o,n,r)}}function bo(t,e,n,i){const r=_o(t.node,e);r&&Fo(t,e,e[11],n?1:2,r,i)}function wo(t,e){const n=t[9],i=n.indexOf(e);1024&e[2]&&Ge(e[3],-1),n.splice(i,1)}function Co(t,e){if(t.length<=10)return;const n=10+e,i=t[n];if(i){const r=i[17];null!==r&&r!==t&&wo(r,i),e>0&&(t[n-1][4]=i[4]);const o=ie(t,10+e);bo(i[1],i,!1,null);const s=o[19];null!==s&&s.detachView(o[1]),i[3]=null,i[4]=null,i[2]&=-129}return i}function xo(t,e){if(!(256&e[2])){const n=e[11];De(n)&&n.destroyNode&&Fo(t,e,n,3,null,null),function(t){let e=t[13];if(!e)return So(t[1],t);for(;e;){let n=null;if(Se(e))n=e[13];else{const t=e[10];t&&(n=t)}if(!n){for(;e&&!e[4]&&e!==t;)Se(e)&&So(e[1],e),e=Eo(e,t);null===e&&(e=t),Se(e)&&So(e[1],e),n=e&&e[4]}e=n}}(e)}}function Eo(t,e){let n;return Se(t)&&(n=t[6])&&2===n.type?yo(n,t):t[3]===e?null:t[3]}function So(t,e){if(!(256&e[2])){e[2]&=-129,e[2]|=256,function(t,e){let n;if(null!=t&&null!=(n=t.destroyHooks))for(let i=0;i<n.length;i+=2){const t=e[n[i]];if(!(t instanceof Mn)){const e=n[i+1];if(Array.isArray(e))for(let n=0;n<e.length;n+=2)e[n+1].call(t[e[n]]);else e.call(t)}}}(t,e),function(t,e){const n=t.cleanup;if(null!==n){const t=e[7];for(let i=0;i<n.length-1;i+=2)if("string"==typeof n[i]){const r=n[i+1],o="function"==typeof r?r(e):Fe(e[r]),s=t[n[i+2]],a=n[i+3];"boolean"==typeof a?o.removeEventListener(n[i],s,a):a>=0?t[a]():t[-a].unsubscribe(),i+=2}else n[i].call(t[n[i+1]]);e[7]=null}}(t,e);const n=e[6];n&&3===n.type&&De(e[11])&&e[11].destroy();const i=e[17];if(null!==i&&Pe(e[3])){i!==e[3]&&wo(i,e);const n=e[19];null!==n&&n.detachView(t)}}}function Po(t,e,n){let i=e.parent;for(;null!=i&&(4===i.type||5===i.type);)i=(e=i).parent;if(null==i){const t=n[6];return 2===t.type?_o(t,n):n[0]}if(e&&5===e.type&&4&e.flags)return Be(e,n).parentNode;if(2&i.flags){const e=t.data,n=e[e[i.index].directiveStart].encapsulation;if(n!==ce.ShadowDom&&n!==ce.Native)return null}return Be(i,n)}function Oo(t,e,n,i){De(t)?t.insertBefore(e,n,i):e.insertBefore(n,i,!0)}function ko(t,e,n){De(t)?t.appendChild(e,n):e.appendChild(n)}function To(t,e,n,i){null!==i?Oo(t,e,n,i):ko(t,e,n)}function Io(t,e){return De(t)?t.parentNode(e):e.parentNode}function Ao(t,e){if(2===t.type){const n=yo(t,e);return null===n?null:Do(n.indexOf(e,10)-10,n)}return 4===t.type||5===t.type?Be(t,e):null}function Mo(t,e,n,i){const r=Po(t,i,e);if(null!=r){const t=e[11],o=Ao(i.parent||e[6],e);if(Array.isArray(n))for(let e=0;e<n.length;e++)To(t,r,n[e],o);else To(t,r,n,o)}}function Do(t,e){const n=10+t+1;if(n<e.length){const t=e[n],i=t[1].firstChild;if(null!==i)return function t(e,n){if(null!==n){const i=n.type;if(3===i)return Be(n,e);if(0===i)return Do(-1,e[n.index]);if(4===i||5===i){const i=n.child;if(null!==i)return t(e,i);{const t=e[n.index];return Pe(t)?Do(-1,t):Fe(t)}}{const i=e[16],r=i[6],o=mr(i),s=r.projection[n.projection];return null!=s?t(o,s):t(e,n.next)}}return null}(t,i)}return e[7]}function Ro(t,e,n,i,r,o,s){for(;null!=n;){const a=i[n.index],l=n.type;s&&0===e&&(a&&tr(Fe(a),i),n.flags|=4),64!=(64&n.flags)&&(4===l||5===l?(Ro(t,e,n.child,i,r,o,!1),vo(e,t,r,a,o)):1===l?Lo(t,e,i,n,r,o):vo(e,t,r,a,o)),n=s?n.projectionNext:n.next}}function Fo(t,e,n,i,r,o){Ro(n,i,t.node.child,e,r,o,!1)}function Lo(t,e,n,i,r,o){const s=n[16],a=s[6].projection[i.projection];if(Array.isArray(a))for(let l=0;l<a.length;l++)vo(e,t,r,a[l],o);else Ro(t,e,a,s[3],r,o,!0)}function Bo(t,e,n){De(t)?t.setAttribute(e,"style",n):e.style.cssText=n}function No(t,e,n){De(t)?""===n?t.removeAttribute(e,"class"):t.setAttribute(e,"class",n):e.className=n}class jo{constructor(t,e){this._lView=t,this._cdRefInjectingView=e,this._appRef=null,this._viewContainerRef=null}get rootNodes(){const t=this._lView;return null==t[0]?function t(e,n,i,r,o=!1){for(;null!==i;){const s=n[i.index];if(null!==s&&r.push(Fe(s)),Pe(s))for(let e=10;e<s.length;e++){const n=s[e],i=n[1].firstChild;null!==i&&t(n[1],n,i,r)}const a=i.type;if(4===a||5===a)t(e,n,i.child,r);else if(1===a){const e=n[16],o=e[6].projection[i.projection];if(Array.isArray(o))r.push(...o);else{const n=mr(e);t(n[1],n,o,r,!0)}}i=o?i.projectionNext:i.next}return r}(t[1],t,t[6].child,[]):[]}get context(){return this._lView[8]}get destroyed(){return 256==(256&this._lView[2])}destroy(){if(this._appRef)this._appRef.detachView(this);else if(this._viewContainerRef){const t=this._viewContainerRef.indexOf(this);t>-1&&this._viewContainerRef.detach(t),this._viewContainerRef=null}xo(this._lView[1],this._lView)}onDestroy(t){var e,n,i;e=this._lView[1],i=t,uo(n=this._lView).push(i),e.firstCreatePass&&ho(e).push(n[7].length-1,null)}markForCheck(){oo(this._cdRefInjectingView||this._lView)}detach(){this._lView[2]&=-129}reattach(){this._lView[2]|=128}detectChanges(){so(this._lView[1],this._lView,this.context)}checkNoChanges(){!function(t,e,n){rn(!0);try{so(t,e,n)}finally{rn(!1)}}(this._lView[1],this._lView,this.context)}attachToViewContainerRef(t){if(this._appRef)throw new Error("This view is already attached directly to the ApplicationRef!");this._viewContainerRef=t}detachFromAppRef(){var t;this._appRef=null,Fo(this._lView[1],t=this._lView,t[11],2,null,null)}attachToAppRef(t){if(this._viewContainerRef)throw new Error("This view is already attached to a ViewContainer!");this._appRef=t}}class zo extends jo{constructor(t){super(t),this._view=t}detectChanges(){ao(this._view)}checkNoChanges(){!function(t){rn(!0);try{ao(t)}finally{rn(!1)}}(this._view)}get context(){return null}}let Ho,Vo,Uo;function Wo(t,e,n){return Ho||(Ho=class extends t{}),new Ho(Be(e,n))}function $o(t,e,n,i){return Vo||(Vo=class extends t{constructor(t,e,n){super(),this._declarationView=t,this._declarationTContainer=e,this.elementRef=n}createEmbeddedView(t){const e=this._declarationTContainer.tViews,n=Tr(this._declarationView,e,t,16,null,e.node);n[17]=this._declarationView[this._declarationTContainer.index];const i=this._declarationView[19];return null!==i&&(n[19]=i.createEmbeddedView(e)),Ar(e,n,t),new jo(n)}}),0===n.type?new Vo(i,n,Wo(e,n,i)):null}function Go(t,e,n,i){let r;Uo||(Uo=class extends t{constructor(t,e,n){super(),this._lContainer=t,this._hostTNode=e,this._hostView=n}get element(){return Wo(e,this._hostTNode,this._hostView)}get injector(){return new li(this._hostTNode,this._hostView)}get parentInjector(){const t=Jn(this._hostTNode,this._hostView),e=Hn(t,this._hostView),n=function(t,e,n){if(n.parent&&-1!==n.parent.injectorIndex){const t=n.parent.injectorIndex;let e=n.parent;for(;null!=e.parent&&t==e.parent.injectorIndex;)e=e.parent;return e}let i=zn(t),r=e,o=e[6];for(;i>1;)r=r[15],o=r[6],i--;return o}(t,this._hostView,this._hostTNode);return Nn(t)&&null!=n?new li(n,e):new li(null,this._hostView)}clear(){for(;this.length>0;)this.remove(this.length-1)}get(t){return null!==this._lContainer[8]&&this._lContainer[8][t]||null}get length(){return this._lContainer.length-10}createEmbeddedView(t,e,n){const i=t.createEmbeddedView(e||{});return this.insert(i,n),i}createComponent(t,e,n,i,r){const o=n||this.parentInjector;if(!r&&null==t.ngModule&&o){const t=o.get(te,null);t&&(r=t)}const s=t.create(o,i,void 0,r);return this.insert(s.hostView,e),s}insert(t,e){const n=t._lView,i=n[1];if(t.destroyed)throw new Error("Cannot insert a destroyed View in a ViewContainer!");if(this.allocateContainerIfNeeded(),Pe(n[3])){const e=this.indexOf(t);if(-1!==e)this.detach(e);else{const e=n[3],i=new Uo(e,e[6],e[3]);i.detach(i.indexOf(t))}}const r=this._adjustIndex(e);return function(t,e,n,i){const r=10+i,o=n.length;i>0&&(n[r-1][4]=e),i<o-10?(e[4]=n[r],ne(n,10+i,e)):(n.push(e),e[4]=null),e[3]=n;const s=e[17];null!==s&&n!==s&&function(t,e){const n=t[9];e[16]!==e[3][3][16]&&(t[2]=!0),null===n?t[9]=[e]:n.push(e)}(s,e);const a=e[19];null!==a&&a.insertView(t),e[2]|=128}(i,n,this._lContainer,r),bo(i,n,!0,Do(r,this._lContainer)),t.attachToViewContainerRef(this),ne(this._lContainer[8],r,t),t}move(t,e){if(t.destroyed)throw new Error("Cannot move a destroyed View in a ViewContainer!");return this.insert(t,e)}indexOf(t){const e=this._lContainer[8];return null!==e?e.indexOf(t):-1}remove(t){this.allocateContainerIfNeeded();const e=this._adjustIndex(t,-1);!function(t,e){const n=Co(t,e);n&&xo(n[1],n)}(this._lContainer,e),ie(this._lContainer[8],e)}detach(t){this.allocateContainerIfNeeded();const e=this._adjustIndex(t,-1),n=Co(this._lContainer,e);return n&&null!=ie(this._lContainer[8],e)?new jo(n):null}_adjustIndex(t,e=0){return null==t?this.length+e:t}allocateContainerIfNeeded(){null===this._lContainer[8]&&(this._lContainer[8]=[])}});const o=i[n.index];if(Pe(o))r=o;else{let t;if(4===n.type)t=Fe(o);else if(t=i[11].createComment(""),Ae(i)){const e=i[11],r=Be(n,i);Oo(e,Io(e,r),t,function(t,e){return De(t)?t.nextSibling(e):e.nextSibling}(e,r))}else Mo(i[1],i,t,n);i[n.index]=r=eo(o,i,t,n),ro(i,r)}return new Uo(r,n,i)}function qo(t=!1){return function(t,e,n){if(!n&&ke(t)){const n=ze(t.index,e);return new jo(n,n)}return 3===t.type||0===t.type||4===t.type||5===t.type?new jo(e[16],e):null}(Ze(),Ke(),t)}let Xo=(()=>{class t{}return t.__NG_ELEMENT_ID__=()=>Ko(),t})();const Ko=qo,Yo=new jt("Set Injector scope."),Qo={},Zo={},Jo=[];let ts=void 0;function es(){return void 0===ts&&(ts=new Jt),ts}function ns(t,e=null,n=null,i){return new is(t,n,e||es(),i)}class is{constructor(t,e,n,i=null){this.parent=n,this.records=new Map,this.injectorDefTypes=new Set,this.onDestroy=new Set,this._destroyed=!1;const r=[];e&&ee(e,n=>this.processProvider(n,t,e)),ee([t],t=>this.processInjectorType(t,[],r)),this.records.set(zt,ss(void 0,this));const o=this.records.get(Yo);this.scope=null!=o?o.value:null,this.source=i||("object"==typeof t?null:wt(t))}get destroyed(){return this._destroyed}destroy(){this.assertNotDestroyed(),this._destroyed=!0;try{this.onDestroy.forEach(t=>t.ngOnDestroy())}finally{this.records.clear(),this.onDestroy.clear(),this.injectorDefTypes.clear()}}get(t,e=Ht,n=lt.Default){this.assertNotDestroyed();const i=Gt(this);try{if(!(n&lt.SkipSelf)){let e=this.records.get(t);if(void 0===e){const n=("function"==typeof(r=t)||"object"==typeof r&&r instanceof jt)&&pt(t);e=n&&this.injectableDefInScope(n)?ss(rs(t),Qo):null,this.records.set(t,e)}if(null!=e)return this.hydrate(t,e)}return(n&lt.Self?es():this.parent).get(t,e=n&lt.Optional&&e===Ht?null:e)}catch(o){if("NullInjectorError"===o.name){if((o.ngTempTokenPath=o.ngTempTokenPath||[]).unshift(wt(t)),i)throw o;return function(t,e,n,i){const r=t.ngTempTokenPath;throw e.__source&&r.unshift(e.__source),t.message=function(t,e,n,i=null){t=t&&"\n"===t.charAt(0)&&"\u0275"==t.charAt(1)?t.substr(2):t;let r=wt(e);if(Array.isArray(e))r=e.map(wt).join(" -> ");else if("object"==typeof e){let t=[];for(let n in e)if(e.hasOwnProperty(n)){let i=e[n];t.push(n+":"+("string"==typeof i?JSON.stringify(i):wt(i)))}r=`{${t.join(", ")}}`}return`${n}${i?"("+i+")":""}[${r}]: ${t.replace(Vt,"\n  ")}`}("\n"+t.message,r,n,i),t.ngTokenPath=r,t.ngTempTokenPath=null,t}(o,t,"R3InjectorError",this.source)}throw o}finally{Gt(i)}var r}_resolveInjectorDefTypes(){this.injectorDefTypes.forEach(t=>this.get(t))}toString(){const t=[];return this.records.forEach((e,n)=>t.push(wt(n))),`R3Injector[${t.join(", ")}]`}assertNotDestroyed(){if(this._destroyed)throw new Error("Injector has already been destroyed.")}processInjectorType(t,e,n){if(!(t=St(t)))return!1;let i=mt(t);const r=null==i&&t.ngModule||void 0,o=void 0===r?t:r,s=-1!==n.indexOf(o);if(void 0!==r&&(i=mt(r)),null==i)return!1;if(null!=i.imports&&!s){let t;n.push(o);try{ee(i.imports,i=>{this.processInjectorType(i,e,n)&&(void 0===t&&(t=[]),t.push(i))})}finally{}if(void 0!==t)for(let e=0;e<t.length;e++){const{ngModule:n,providers:i}=t[e];ee(i,t=>this.processProvider(t,n,i||Jo))}}this.injectorDefTypes.add(o),this.records.set(o,ss(i.factory,Qo));const a=i.providers;if(null!=a&&!s){const e=t;ee(a,t=>this.processProvider(t,e,a))}return void 0!==r&&void 0!==t.providers}processProvider(t,e,n){let i=ls(t=St(t))?t:St(t&&t.provide);const r=function(t,e,n){return as(t)?ss(void 0,t.useValue):ss(os(t,e,n),Qo)}(t,e,n);if(ls(t)||!0!==t.multi){const t=this.records.get(i);t&&void 0!==t.multi&&nr()}else{let e=this.records.get(i);e?void 0===e.multi&&nr():(e=ss(void 0,Qo,!0),e.factory=()=>Zt(e.multi),this.records.set(i,e)),i=t,e.multi.push(t)}this.records.set(i,r)}hydrate(t,e){var n;return e.value===Zo?function(t){throw new Error(`Cannot instantiate cyclic dependency! ${t}`)}(wt(t)):e.value===Qo&&(e.value=Zo,e.value=e.factory()),"object"==typeof e.value&&e.value&&null!==(n=e.value)&&"object"==typeof n&&"function"==typeof n.ngOnDestroy&&this.onDestroy.add(e.value),e.value}injectableDefInScope(t){return!!t.providedIn&&("string"==typeof t.providedIn?"any"===t.providedIn||t.providedIn===this.scope:this.injectorDefTypes.has(t.providedIn))}}function rs(t){const e=pt(t),n=null!==e?e.factory:xe(t);if(null!==n)return n;const i=mt(t);if(null!==i)return i.factory;if(t instanceof jt)throw new Error(`Token ${wt(t)} is missing a \u0275prov definition.`);if(t instanceof Function)return function(t){const e=t.length;if(e>0){const n=re(e,"?");throw new Error(`Can't resolve all parameters for ${wt(t)}: (${n.join(", ")}).`)}const n=function(t){const e=t&&(t[gt]||t[vt]||t[_t]&&t[_t]());if(e){const n=function(t){if(t.hasOwnProperty("name"))return t.name;const e=(""+t).match(/^function\s*([^\s(]+)/);return null===e?"":e[1]}(t);return console.warn(`DEPRECATED: DI is instantiating a token "${n}" that inherits its @Injectable decorator but does not provide one itself.\n`+`This will become an error in v10. Please add @Injectable() to the "${n}" class.`),e}return null}(t);return null!==n?()=>n.factory(t):()=>new t}(t);throw new Error("unreachable")}function os(t,e,n){let i=void 0;if(ls(t)){const e=St(t);return xe(e)||rs(e)}if(as(t))i=()=>St(t.useValue);else if((r=t)&&r.useFactory)i=()=>t.useFactory(...Zt(t.deps||[]));else if(function(t){return!(!t||!t.useExisting)}(t))i=()=>Kt(St(t.useExisting));else{const r=St(t&&(t.useClass||t.provide));if(r||function(t,e,n){let i="";throw t&&e&&(i=` - only instances of Provider and Type are allowed, got: [${e.map(t=>t==n?"?"+n+"?":"...").join(", ")}]`),new Error(`Invalid provider for the NgModule '${wt(t)}'`+i)}(e,n,t),!function(t){return!!t.deps}(t))return xe(r)||rs(r);i=()=>new r(...Zt(t.deps))}var r;return i}function ss(t,e,n=!1){return{factory:t,value:e,multi:n?[]:void 0}}function as(t){return null!==t&&"object"==typeof t&&Ut in t}function ls(t){return"function"==typeof t}const cs=function(t,e,n){return function(t,e=null,n=null,i){const r=ns(t,e,n,i);return r._resolveInjectorDefTypes(),r}({name:n},e,t,n)};let us=(()=>{class t{static create(t,e){return Array.isArray(t)?cs(t,e,""):cs(t.providers,t.parent,t.name||"")}}return t.THROW_IF_NOT_FOUND=Ht,t.NULL=new Jt,t.\u0275prov=ht({token:t,providedIn:"any",factory:()=>Kt(zt)}),t.__NG_ELEMENT_ID__=-1,t})();class hs{}const ds=it("ContentChild",(t,e={})=>Object.assign({selector:t,first:!0,isViewQuery:!1,descendants:!0},e),hs),ps=it("ViewChild",(t,e)=>Object.assign({selector:t,first:!0,isViewQuery:!0,descendants:!0},e),hs);let fs=new Map;const ms=new Set;function gs(t){return"string"==typeof t?t:t.text()}function ys(t,e,n){let i=n?t.styles:null,r=n?t.classes:null,o=0;if(null!==e)for(let s=0;s<e.length;s++){const t=e[s];"number"==typeof t?o=t:1==o?r=Ct(r,t):2==o&&(i=Ct(i,t+": "+e[++s]+";"))}n?t.styles=i:t.stylesWithoutHost=i,n?t.classes=r:t.classesWithoutHost=r}let _s=null;function vs(){if(!_s){const t=At.Symbol;if(t&&t.iterator)_s=t.iterator;else{const t=Object.getOwnPropertyNames(Map.prototype);for(let e=0;e<t.length;++e){const n=t[e];"entries"!==n&&"size"!==n&&Map.prototype[n]===Map.prototype.entries&&(_s=n)}}}return _s}function bs(t,e){return t===e||"number"==typeof t&&"number"==typeof e&&isNaN(t)&&isNaN(e)}class ws{constructor(t){this.wrapped=t}static wrap(t){return new ws(t)}static unwrap(t){return ws.isWrapped(t)?t.wrapped:t}static isWrapped(t){return t instanceof ws}}function Cs(t){return!!xs(t)&&(Array.isArray(t)||!(t instanceof Map)&&vs()in t)}function xs(t){return null!==t&&("function"==typeof t||"object"==typeof t)}function Es(t,e,n){return t[e]=n}function Ss(t,e,n){return!Object.is(t[e],n)&&(t[e]=n,!0)}function Ps(t,e,n,i){const r=Ss(t,e,n);return Ss(t,e+1,i)||r}function Os(t,e,n,i,r){const o=Ps(t,e,n,i);return Ss(t,e+2,r)||o}function ks(t,e,n,i){const r=Ke();return Ss(r,an(),e)&&(Ye(),function(t,e,n,i,r,o){const s=Be(t,e),a=e[11];if(null==i)De(a)?a.removeAttribute(s,n,o):s.removeAttribute(n);else{const e=null==r?Vn(i):r(i,t.tagName||"",n);De(a)?a.setAttribute(s,n,e,o):o?s.setAttributeNS(o,n,e):s.setAttribute(n,e)}}(xn(),r,t,e,n,i)),ks}function Ts(t,e,n,i){return Ss(t,an(),n)?e+Vn(n)+i:fr}function Is(t,e,n,i,r,o,s,a){const l=Ke(),c=Ye(),u=t+20,h=c.firstCreatePass?function(t,e,n,i,r,o,s,a,l){const c=e.consts,u=Ir(e,n[6],t,0,s||null,We(c,a));Ur(e,n,u,We(c,l)),Pn(e,u);const h=u.tViews=jr(2,-1,i,r,o,e.directiveRegistry,e.pipeRegistry,null,e.schemas,c),d=zr(0,null,2,-1,null,null);return d.injectorIndex=u.injectorIndex,h.node=d,null!==e.queries&&(e.queries.template(e,u),h.queries=e.queries.embeddedTView(u)),u}(t,c,l,e,n,i,r,o,s):c.data[u];Je(h,!1);const d=l[11].createComment("");Mo(c,l,d,h),tr(d,l),ro(l,l[u]=eo(d,l,d,h)),Te(h)&&Lr(c,l,h),null!=s&&Br(l,h,a)}function As(t){return je(qe.lFrame.contextLView,t)}function Ms(t,e=lt.Default){const n=Ke();return null==n?Kt(t,e):ei(Ze(),n,St(t),e)}function Ds(t){return function(t,e){if("class"===e)return t.classes;if("style"===e)return t.styles;const n=t.attrs;if(n){const t=n.length;let i=0;for(;i<t;){const r=n[i];if(Rn(r))break;if(0===r)i+=2;else if("number"==typeof r)for(i++;i<t&&"string"==typeof n[i];)i++;else{if(r===e)return n[i+1];i+=2}}}return null}(Ze(),t)}function Rs(t,e,n){const i=Ke();return Ss(i,an(),e)&&Vr(Ye(),xn(),i,t,e,i[11],n,!1),Rs}function Fs(t,e,n,i,r){const o=r?"class":"style";mo(t,n,e.inputs[o],o,i)}function Ls(t,e,n,i){const r=Ke(),o=Ye(),s=20+t,a=r[11],l=r[s]=kr(e,a,qe.lFrame.currentNamespace),c=o.firstCreatePass?function(t,e,n,i,r,o,s){const a=e.consts,l=We(a,o),c=Ir(e,n[6],t,3,r,l);return Ur(e,n,c,We(a,s)),null!==c.attrs&&ys(c,c.attrs,!1),null!==c.mergedAttrs&&ys(c,c.mergedAttrs,!0),null!==e.queries&&e.queries.elementStart(e,c),c}(t,o,r,0,e,n,i):o.data[s];Je(c,!0);const u=c.mergedAttrs;null!==u&&Dn(a,l,u);const h=c.classes;null!==h&&No(a,l,h);const d=c.styles;null!==d&&Bo(a,l,d),Mo(o,r,l,c),0===qe.lFrame.elementDepthCount&&tr(l,r),qe.lFrame.elementDepthCount++,Te(c)&&(Lr(o,r,c),Fr(o,c,r)),null!==i&&Br(r,c)}function Bs(){let t=Ze();tn()?en():(t=t.parent,Je(t,!1));const e=t;qe.lFrame.elementDepthCount--;const n=Ye();n.firstCreatePass&&(Pn(n,t),Oe(t)&&n.queries.elementEnd(t)),null!=e.classesWithoutHost&&function(t){return 0!=(16&t.flags)}(e)&&Fs(n,e,Ke(),e.classesWithoutHost,!0),null!=e.stylesWithoutHost&&function(t){return 0!=(32&t.flags)}(e)&&Fs(n,e,Ke(),e.stylesWithoutHost,!1)}function Ns(t,e,n,i){Ls(t,e,n,i),Bs()}function js(t,e,n){const i=Ke(),r=Ye(),o=t+20,s=r.firstCreatePass?function(t,e,n,i,r){const o=e.consts,s=We(o,i),a=Ir(e,n[6],t,4,"ng-container",s);return null!==s&&ys(a,s,!0),Ur(e,n,a,We(o,r)),null!==e.queries&&e.queries.elementStart(e,a),a}(t,r,i,e,n):r.data[o];Je(s,!0);const a=i[o]=i[11].createComment("");Mo(r,i,a,s),tr(a,i),Te(s)&&(Lr(r,i,s),Fr(r,s,i)),null!=n&&Br(i,s)}function zs(){let t=Ze();const e=Ye();tn()?en():(t=t.parent,Je(t,!1)),e.firstCreatePass&&(Pn(e,t),Oe(t)&&e.queries.elementEnd(t))}function Hs(t,e,n){js(t,e,n),zs()}function Vs(){return Ke()}function Us(t){return!!t&&"function"==typeof t.then}function Ws(t){return!!t&&"function"==typeof t.subscribe}function $s(t,e,n=!1,i){const r=Ke(),o=Ye(),s=Ze();return qs(o,r,r[11],s,t,e,n,i),$s}function Gs(t,e,n=!1,i){const r=Ze(),o=Ke(),s=Ye();return qs(s,o,po(hn(s.data),r,o),r,t,e,n,i),Gs}function qs(t,e,n,i,r,o,s=!1,a){const l=Te(i),c=t.firstCreatePass&&(t.cleanup||(t.cleanup=[])),u=uo(e);let h=!0;if(3===i.type){const d=Be(i,e),p=a?a(d):ue,f=p.target||d,m=u.length,g=a?t=>a(Fe(t[i.index])).target:i.index;if(De(n)){let s=null;if(!a&&l&&(s=function(t,e,n,i){const r=t.cleanup;if(null!=r)for(let o=0;o<r.length-1;o+=2){const t=r[o];if(t===n&&r[o+1]===i){const t=e[7],n=r[o+2];return t.length>n?t[n]:null}"string"==typeof t&&(o+=2)}return null}(t,e,r,i.index)),null!==s)(s.__ngLastListenerFn__||s).__ngNextListenerFn__=o,s.__ngLastListenerFn__=o,h=!1;else{o=Ks(i,e,o,!1);const t=n.listen(p.name||f,r,o);u.push(o,t),c&&c.push(r,g,m,m+1)}}else o=Ks(i,e,o,!0),f.addEventListener(r,o,s),u.push(o),c&&c.push(r,g,m,s)}const d=i.outputs;let p;if(h&&null!==d&&(p=d[r])){const t=p.length;if(t)for(let n=0;n<t;n+=2){const t=e[p[n]][p[n+1]].subscribe(o),s=u.length;u.push(o,t),c&&c.push(r,i.index,s,-(s+1))}}}function Xs(t,e,n){try{return!1!==e(n)}catch(i){return fo(t,i),!1}}function Ks(t,e,n,i){return function r(o){if(o===Function)return n;const s=2&t.flags?ze(t.index,e):e;0==(32&e[2])&&oo(s);let a=Xs(e,n,o),l=r.__ngNextListenerFn__;for(;l;)a=Xs(e,l,o)&&a,l=l.__ngNextListenerFn__;return i&&!1===a&&(o.preventDefault(),o.returnValue=!1),a}}function Ys(t=1){return function(t){return(qe.lFrame.contextLView=function(t,e){for(;t>0;)e=e[15],t--;return e}(t,qe.lFrame.contextLView))[8]}(t)}function Qs(t,e){let n=null;const i=function(t){const e=t.attrs;if(null!=e){const t=e.indexOf(5);if(0==(1&t))return e[t+1]}return null}(t);for(let r=0;r<e.length;r++){const o=e[r];if("*"!==o){if(null===i?ur(t,o,!0):hr(i,o))return r}else n=r}return n}function Zs(t){const e=Ke()[16][6];if(!e.projection){const n=e.projection=re(t?t.length:1,null),i=n.slice();let r=e.child;for(;null!==r;){const e=t?Qs(r,t):0;null!==e&&(i[e]?i[e].projectionNext=r:n[e]=r,i[e]=r),r=r.next}}}function Js(t,e=0,n){const i=Ke(),r=Ye(),o=Ir(r,i[6],t,1,null,n||null);null===o.projection&&(o.projection=e),en(),function(t,e,n){Lo(e[11],0,e,n,Po(t,n,e),Ao(n.parent||e[6],e))}(r,i,o)}function ta(t,e,n){return ea(t,"",e,"",n),ta}function ea(t,e,n,i,r){const o=Ke(),s=Ts(o,e,n,i);return s!==fr&&Vr(Ye(),xn(),o,t,s,o[11],r,!1),ea}const na=[];function ia(t,e,n,i,r){const o=t[n+1],s=null===e;let a=i?Cr(o):Er(o),l=!1;for(;0!==a&&(!1===l||s);){const n=t[a+1];ra(t[a],e)&&(l=!0,t[a+1]=i?Pr(n):xr(n)),a=i?Cr(n):Er(n)}l&&(t[n+1]=i?xr(o):Pr(o))}function ra(t,e){return null===t||null==e||(Array.isArray(t)?t[1]:t)===e||!(!Array.isArray(t)||"string"!=typeof e)&&ae(t,e)>=0}const oa={textEnd:0,key:0,keyEnd:0,value:0,valueEnd:0};function sa(t){return t.substring(oa.key,oa.keyEnd)}function aa(t,e){const n=oa.textEnd;return n===e?-1:(e=oa.keyEnd=function(t,e,n){for(;e<n&&t.charCodeAt(e)>32;)e++;return e}(t,oa.key=e,n),la(t,e,n))}function la(t,e,n){for(;e<n&&t.charCodeAt(e)<=32;)e++;return e}function ca(t,e,n){return da(t,e,n,!1),ca}function ua(t,e){return da(t,e,null,!0),ua}function ha(t,e){for(let n=function(t){return function(t){oa.key=0,oa.keyEnd=0,oa.value=0,oa.valueEnd=0,oa.textEnd=t.length}(t),aa(t,la(t,0,oa.textEnd))}(e);n>=0;n=aa(e,n))oe(t,sa(e),!0)}function da(t,e,n,i){const r=Ke(),o=Ye(),s=ln(2);if(o.firstUpdatePass&&ma(o,t,s,i),e!==fr&&Ss(r,s,e)){let a;null==n&&(a=function(){const t=qe.lFrame;return null===t?null:t.currentSanitizer}())&&(n=a),_a(o,o.data[wn()+20],r,r[11],t,r[s+1]=function(t,e){return null==t||("function"==typeof e?t=e(t):"string"==typeof e?t+=e:"object"==typeof t&&(t=wt(wi(t)))),t}(e,n),i,s)}}function pa(t,e,n,i){const r=Ye(),o=ln(2);r.firstUpdatePass&&ma(r,null,o,i);const s=Ke();if(n!==fr&&Ss(s,o,n)){const a=r.data[wn()+20];if(wa(a,i)&&!fa(r,o)){let t=i?a.classesWithoutHost:a.stylesWithoutHost;null!==t&&(n=Ct(t,n||"")),Fs(r,a,s,n,i)}else!function(t,e,n,i,r,o,s,a){r===fr&&(r=na);let l=0,c=0,u=0<r.length?r[0]:null,h=0<o.length?o[0]:null;for(;null!==u||null!==h;){const d=l<r.length?r[l+1]:void 0,p=c<o.length?o[c+1]:void 0;let f=null,m=void 0;u===h?(l+=2,c+=2,d!==p&&(f=h,m=p)):null===h||null!==u&&u<h?(l+=2,f=u):(c+=2,f=h,m=p),null!==f&&_a(t,e,n,i,f,m,s,a),u=l<r.length?r[l]:null,h=c<o.length?o[c]:null}}(r,a,s,s[11],s[o+1],s[o+1]=function(t,e,n){if(null==n||""===n)return na;const i=[],r=wi(n);if(Array.isArray(r))for(let o=0;o<r.length;o++)t(i,r[o],!0);else if("object"==typeof r)for(const o in r)r.hasOwnProperty(o)&&t(i,o,r[o]);else"string"==typeof r&&e(i,r);return i}(t,e,n),i,o)}}function fa(t,e){return e>=t.expandoStartIndex}function ma(t,e,n,i){const r=t.data;if(null===r[n+1]){const o=r[wn()+20],s=fa(t,n);wa(o,i)&&null===e&&!s&&(e=!1),e=function(t,e,n,i){const r=hn(t);let o=i?e.residualClasses:e.residualStyles;if(null===r)0===(i?e.classBindings:e.styleBindings)&&(n=ya(n=ga(null,t,e,n,i),e.attrs,i),o=null);else{const s=e.directiveStylingLast;if(-1===s||t[s]!==r)if(n=ga(r,t,e,n,i),null===o){let n=function(t,e,n){const i=n?e.classBindings:e.styleBindings;if(0!==Er(i))return t[Cr(i)]}(t,e,i);void 0!==n&&Array.isArray(n)&&(n=ga(null,t,e,n[1],i),n=ya(n,e.attrs,i),function(t,e,n,i){t[Cr(n?e.classBindings:e.styleBindings)]=i}(t,e,i,n))}else o=function(t,e,n){let i=void 0;const r=e.directiveEnd;for(let o=1+e.directiveStylingLast;o<r;o++)i=ya(i,t[o].hostAttrs,n);return ya(i,e.attrs,n)}(t,e,i)}return void 0!==o&&(i?e.residualClasses=o:e.residualStyles=o),n}(r,o,e,i),function(t,e,n,i,r,o){let s=o?e.classBindings:e.styleBindings,a=Cr(s),l=Er(s);t[i]=n;let c,u=!1;if(Array.isArray(n)){const t=n;c=t[1],(null===c||ae(t,c)>0)&&(u=!0)}else c=n;if(r)if(0!==l){const e=Cr(t[a+1]);t[i+1]=wr(e,a),0!==e&&(t[e+1]=Sr(t[e+1],i)),t[a+1]=131071&t[a+1]|i<<17}else t[i+1]=wr(a,0),0!==a&&(t[a+1]=Sr(t[a+1],i)),a=i;else t[i+1]=wr(l,0),0===a?a=i:t[l+1]=Sr(t[l+1],i),l=i;u&&(t[i+1]=xr(t[i+1])),ia(t,c,i,!0),ia(t,c,i,!1),function(t,e,n,i,r){const o=r?t.residualClasses:t.residualStyles;null!=o&&"string"==typeof e&&ae(o,e)>=0&&(n[i+1]=Pr(n[i+1]))}(e,c,t,i,o),s=wr(a,l),o?e.classBindings=s:e.styleBindings=s}(r,o,e,n,s,i)}}function ga(t,e,n,i,r){let o=null;const s=n.directiveEnd;let a=n.directiveStylingLast;for(-1===a?a=n.directiveStart:a++;a<s&&(o=e[a],i=ya(i,o.hostAttrs,r),o!==t);)a++;return null!==t&&(n.directiveStylingLast=a),i}function ya(t,e,n){const i=n?1:2;let r=-1;if(null!==e)for(let o=0;o<e.length;o++){const s=e[o];"number"==typeof s?r=s:r===i&&(Array.isArray(t)||(t=void 0===t?[]:["",t]),oe(t,s,!!n||e[++o]))}return void 0===t?null:t}function _a(t,e,n,i,r,o,s,a){if(3!==e.type)return;const l=t.data,c=l[a+1];ba(1==(1&c)?va(l,e,n,r,Er(c),s):void 0)||(ba(o)||function(t){return 2==(2&t)}(c)&&(o=va(l,null,n,r,a,s)),function(t,e,n,i,r){const o=De(t);if(e)r?o?t.addClass(n,i):n.classList.add(i):o?t.removeClass(n,i):n.classList.remove(i);else{const e=-1==i.indexOf("-")?void 0:2;null==r?o?t.removeStyle(n,i,e):n.style.removeProperty(i):o?t.setStyle(n,i,r,e):n.style.setProperty(i,r)}}(i,s,Le(wn(),n),r,o))}function va(t,e,n,i,r,o){const s=null===e;let a=void 0;for(;r>0;){const e=t[r],o=Array.isArray(e),l=o?e[1]:e,c=null===l;let u=n[r+1];u===fr&&(u=c?na:void 0);let h=c?se(u,i):l===i?u:void 0;if(o&&!ba(h)&&(h=se(e,i)),ba(h)&&(a=h,s))return a;const d=t[r+1];r=s?Cr(d):Er(d)}if(null!==e){let t=o?e.residualClasses:e.residualStyles;null!=t&&(a=se(t,i))}return a}function ba(t){return void 0!==t}function wa(t,e){return 0!=(t.flags&(e?16:32))}function Ca(t,e=""){const n=Ke(),i=Ye(),r=t+20,o=i.firstCreatePass?Ir(i,n[6],t,3,null,null):i.data[r],s=n[r]=function(t,e){return De(e)?e.createText(t):e.createTextNode(t)}(e,n[11]);Mo(i,n,s,o),Je(o,!1)}function xa(t){return Ea("",t,""),xa}function Ea(t,e,n){const i=Ke(),r=Ts(i,t,e,n);return r!==fr&&go(i,wn(),r),Ea}function Sa(t,e,n,i,r){const o=Ke(),s=function(t,e,n,i,r,o){const s=Ps(t,sn(),n,r);return ln(2),s?e+Vn(n)+i+Vn(r)+o:fr}(o,t,e,n,i,r);return s!==fr&&go(o,wn(),s),Sa}function Pa(t,e,n,i,r,o,s){const a=Ke(),l=function(t,e,n,i,r,o,s,a){const l=Os(t,sn(),n,r,s);return ln(3),l?e+Vn(n)+i+Vn(r)+o+Vn(s)+a:fr}(a,t,e,n,i,r,o,s);return l!==fr&&go(a,wn(),l),Pa}function Oa(t,e,n){const i=Ke();return Ss(i,an(),e)&&Vr(Ye(),xn(),i,t,e,i[11],n,!0),Oa}function ka(t,e,n){const i=Ke();if(Ss(i,an(),e)){const r=Ye(),o=xn();Vr(r,o,i,t,e,po(hn(r.data),o,i),n,!0)}return ka}function Ta(t,e){const n=He(t)[1],i=n.data.length-1;Pn(n,{directiveStart:i,directiveEnd:i+1})}function Ia(t){let e=Object.getPrototypeOf(t.type.prototype).constructor,n=!0;const i=[t];for(;e;){let r=void 0;if(Ie(t))r=e.\u0275cmp||e.\u0275dir;else{if(e.\u0275cmp)throw new Error("Directives cannot inherit Components");r=e.\u0275dir}if(r){if(n){i.push(r);const e=t;e.inputs=Aa(t.inputs),e.declaredInputs=Aa(t.declaredInputs),e.outputs=Aa(t.outputs);const n=r.hostBindings;n&&Ra(t,n);const o=r.viewQuery,s=r.contentQueries;if(o&&Ma(t,o),s&&Da(t,s),ut(t.inputs,r.inputs),ut(t.declaredInputs,r.declaredInputs),ut(t.outputs,r.outputs),Ie(r)&&r.data.animation){const e=t.data;e.animation=(e.animation||[]).concat(r.data.animation)}e.afterContentChecked=e.afterContentChecked||r.afterContentChecked,e.afterContentInit=t.afterContentInit||r.afterContentInit,e.afterViewChecked=t.afterViewChecked||r.afterViewChecked,e.afterViewInit=t.afterViewInit||r.afterViewInit,e.doCheck=t.doCheck||r.doCheck,e.onDestroy=t.onDestroy||r.onDestroy,e.onInit=t.onInit||r.onInit}const e=r.features;if(e)for(let i=0;i<e.length;i++){const r=e[i];r&&r.ngInherit&&r(t),r===Ia&&(n=!1)}}e=Object.getPrototypeOf(e)}!function(t){let e=0,n=null;for(let i=t.length-1;i>=0;i--){const r=t[i];r.hostVars=e+=r.hostVars,r.hostAttrs=Ln(r.hostAttrs,n=Ln(n,r.hostAttrs))}}(i)}function Aa(t){return t===ue?{}:t===he?[]:t}function Ma(t,e){const n=t.viewQuery;t.viewQuery=n?(t,i)=>{e(t,i),n(t,i)}:e}function Da(t,e){const n=t.contentQueries;t.contentQueries=n?(t,i,r)=>{e(t,i,r),n(t,i,r)}:e}function Ra(t,e){const n=t.hostBindings;t.hostBindings=n?(t,i)=>{e(t,i),n(t,i)}:e}class Fa{constructor(t,e,n){this.previousValue=t,this.currentValue=e,this.firstChange=n}isFirstChange(){return this.firstChange}}function La(t){t.type.prototype.ngOnChanges&&(t.setInput=Ba,t.onChanges=function(){const t=Na(this),e=t&&t.current;if(e){const n=t.previous;if(n===ue)t.previous=e;else for(let t in e)n[t]=e[t];t.current=null,this.ngOnChanges(e)}})}function Ba(t,e,n,i){const r=Na(t)||function(t,e){return t.__ngSimpleChanges__=e}(t,{previous:ue,current:null}),o=r.current||(r.current={}),s=r.previous,a=this.declaredInputs[n],l=s[a];o[a]=new Fa(l&&l.currentValue,e,s===ue),t[i]=e}function Na(t){return t.__ngSimpleChanges__||null}function ja(t,e,n,i,r){if(t=St(t),Array.isArray(t))for(let o=0;o<t.length;o++)ja(t[o],e,n,i,r);else{const o=Ye(),s=Ke();let a=ls(t)?t:St(t.provide),l=os(t);const c=Ze(),u=65535&c.providerIndexes,h=c.directiveStart,d=c.providerIndexes>>16;if(ls(t)||!t.multi){const i=new Mn(l,r,Ms),p=Va(a,e,r?u:u+d,h);-1===p?(ti(Yn(c,s),o,a),za(o,t,e.length),e.push(a),c.directiveStart++,c.directiveEnd++,r&&(c.providerIndexes+=65536),n.push(i),s.push(i)):(n[p]=i,s[p]=i)}else{const p=Va(a,e,u+d,h),f=Va(a,e,u,u+d),m=p>=0&&n[p],g=f>=0&&n[f];if(r&&!g||!r&&!m){ti(Yn(c,s),o,a);const u=function(t,e,n,i,r){const o=new Mn(t,n,Ms);return o.multi=[],o.index=e,o.componentProviders=0,Ha(o,r,i&&!n),o}(r?Wa:Ua,n.length,r,i,l);!r&&g&&(n[f].providerFactory=u),za(o,t,e.length,0),e.push(a),c.directiveStart++,c.directiveEnd++,r&&(c.providerIndexes+=65536),n.push(u),s.push(u)}else za(o,t,p>-1?p:f,Ha(n[r?f:p],l,!r&&i));!r&&i&&g&&n[f].componentProviders++}}}function za(t,e,n,i){const r=ls(e);if(r||e.useClass){const o=(e.useClass||e).prototype.ngOnDestroy;if(o){const s=t.destroyHooks||(t.destroyHooks=[]);if(!r&&e.multi){const t=s.indexOf(n);-1===t?s.push(n,[i,o]):s[t+1].push(i,o)}else s.push(n,o)}}}function Ha(t,e,n){return n&&t.componentProviders++,t.multi.push(e)-1}function Va(t,e,n,i){for(let r=n;r<i;r++)if(e[r]===t)return r;return-1}function Ua(t,e,n,i){return $a(this.multi,[])}function Wa(t,e,n,i){const r=this.multi;let o;if(this.providerFactory){const t=this.providerFactory.componentProviders,e=oi(n,n[1],this.providerFactory.index,i);o=e.slice(0,t),$a(r,o);for(let n=t;n<e.length;n++)o.push(e[n])}else o=[],$a(r,o);return o}function $a(t,e){for(let n=0;n<t.length;n++)e.push((0,t[n])());return e}function Ga(t,e=[]){return n=>{n.providersResolver=(n,i)=>function(t,e,n){const i=Ye();if(i.firstCreatePass){const r=Ie(t);ja(n,i.data,i.blueprint,r,!0),ja(e,i.data,i.blueprint,r,!1)}}(n,i?i(t):t,e)}}La.ngInherit=!0;class qa{}class Xa{resolveComponentFactory(t){throw function(t){const e=Error(`No component factory found for ${wt(t)}. Did you add it to @NgModule.entryComponents?`);return e.ngComponent=t,e}(t)}}let Ka=(()=>{class t{}return t.NULL=new Xa,t})(),Ya=(()=>{class t{constructor(t){this.nativeElement=t}}return t.__NG_ELEMENT_ID__=()=>Qa(t),t})();const Qa=function(t){return Wo(t,Ze(),Ke())};class Za{}const Ja=function(){var t={Important:1,DashCase:2};return t[t.Important]="Important",t[t.DashCase]="DashCase",t}();let tl=(()=>{class t{}return t.__NG_ELEMENT_ID__=()=>el(),t})();const el=function(){const t=Ke(),e=ze(Ze().index,t);return function(t){const e=t[11];if(De(e))return e;throw new Error("Cannot inject Renderer2 when the application uses Renderer3!")}(Se(e)?e:t)};let nl=(()=>{class t{}return t.\u0275prov=ht({token:t,providedIn:"root",factory:()=>null}),t})();class il{constructor(t){this.full=t,this.major=t.split(".")[0],this.minor=t.split(".")[1],this.patch=t.split(".").slice(2).join(".")}}const rl=new il("9.1.12");class ol{constructor(){}supports(t){return Cs(t)}create(t){return new al(t)}}const sl=(t,e)=>e;class al{constructor(t){this.length=0,this._linkedRecords=null,this._unlinkedRecords=null,this._previousItHead=null,this._itHead=null,this._itTail=null,this._additionsHead=null,this._additionsTail=null,this._movesHead=null,this._movesTail=null,this._removalsHead=null,this._removalsTail=null,this._identityChangesHead=null,this._identityChangesTail=null,this._trackByFn=t||sl}forEachItem(t){let e;for(e=this._itHead;null!==e;e=e._next)t(e)}forEachOperation(t){let e=this._itHead,n=this._removalsHead,i=0,r=null;for(;e||n;){const o=!n||e&&e.currentIndex<hl(n,i,r)?e:n,s=hl(o,i,r),a=o.currentIndex;if(o===n)i--,n=n._nextRemoved;else if(e=e._next,null==o.previousIndex)i++;else{r||(r=[]);const t=s-i,e=a-i;if(t!=e){for(let n=0;n<t;n++){const i=n<r.length?r[n]:r[n]=0,o=i+n;e<=o&&o<t&&(r[n]=i+1)}r[o.previousIndex]=e-t}}s!==a&&t(o,s,a)}}forEachPreviousItem(t){let e;for(e=this._previousItHead;null!==e;e=e._nextPrevious)t(e)}forEachAddedItem(t){let e;for(e=this._additionsHead;null!==e;e=e._nextAdded)t(e)}forEachMovedItem(t){let e;for(e=this._movesHead;null!==e;e=e._nextMoved)t(e)}forEachRemovedItem(t){let e;for(e=this._removalsHead;null!==e;e=e._nextRemoved)t(e)}forEachIdentityChange(t){let e;for(e=this._identityChangesHead;null!==e;e=e._nextIdentityChange)t(e)}diff(t){if(null==t&&(t=[]),!Cs(t))throw new Error(`Error trying to diff '${wt(t)}'. Only arrays and iterables are allowed`);return this.check(t)?this:null}onDestroy(){}check(t){this._reset();let e,n,i,r=this._itHead,o=!1;if(Array.isArray(t)){this.length=t.length;for(let e=0;e<this.length;e++)n=t[e],i=this._trackByFn(e,n),null!==r&&bs(r.trackById,i)?(o&&(r=this._verifyReinsertion(r,n,i,e)),bs(r.item,n)||this._addIdentityChange(r,n)):(r=this._mismatch(r,n,i,e),o=!0),r=r._next}else e=0,function(t,e){if(Array.isArray(t))for(let n=0;n<t.length;n++)e(t[n]);else{const n=t[vs()]();let i;for(;!(i=n.next()).done;)e(i.value)}}(t,t=>{i=this._trackByFn(e,t),null!==r&&bs(r.trackById,i)?(o&&(r=this._verifyReinsertion(r,t,i,e)),bs(r.item,t)||this._addIdentityChange(r,t)):(r=this._mismatch(r,t,i,e),o=!0),r=r._next,e++}),this.length=e;return this._truncate(r),this.collection=t,this.isDirty}get isDirty(){return null!==this._additionsHead||null!==this._movesHead||null!==this._removalsHead||null!==this._identityChangesHead}_reset(){if(this.isDirty){let t,e;for(t=this._previousItHead=this._itHead;null!==t;t=t._next)t._nextPrevious=t._next;for(t=this._additionsHead;null!==t;t=t._nextAdded)t.previousIndex=t.currentIndex;for(this._additionsHead=this._additionsTail=null,t=this._movesHead;null!==t;t=e)t.previousIndex=t.currentIndex,e=t._nextMoved;this._movesHead=this._movesTail=null,this._removalsHead=this._removalsTail=null,this._identityChangesHead=this._identityChangesTail=null}}_mismatch(t,e,n,i){let r;return null===t?r=this._itTail:(r=t._prev,this._remove(t)),null!==(t=null===this._linkedRecords?null:this._linkedRecords.get(n,i))?(bs(t.item,e)||this._addIdentityChange(t,e),this._moveAfter(t,r,i)):null!==(t=null===this._unlinkedRecords?null:this._unlinkedRecords.get(n,null))?(bs(t.item,e)||this._addIdentityChange(t,e),this._reinsertAfter(t,r,i)):t=this._addAfter(new ll(e,n),r,i),t}_verifyReinsertion(t,e,n,i){let r=null===this._unlinkedRecords?null:this._unlinkedRecords.get(n,null);return null!==r?t=this._reinsertAfter(r,t._prev,i):t.currentIndex!=i&&(t.currentIndex=i,this._addToMoves(t,i)),t}_truncate(t){for(;null!==t;){const e=t._next;this._addToRemovals(this._unlink(t)),t=e}null!==this._unlinkedRecords&&this._unlinkedRecords.clear(),null!==this._additionsTail&&(this._additionsTail._nextAdded=null),null!==this._movesTail&&(this._movesTail._nextMoved=null),null!==this._itTail&&(this._itTail._next=null),null!==this._removalsTail&&(this._removalsTail._nextRemoved=null),null!==this._identityChangesTail&&(this._identityChangesTail._nextIdentityChange=null)}_reinsertAfter(t,e,n){null!==this._unlinkedRecords&&this._unlinkedRecords.remove(t);const i=t._prevRemoved,r=t._nextRemoved;return null===i?this._removalsHead=r:i._nextRemoved=r,null===r?this._removalsTail=i:r._prevRemoved=i,this._insertAfter(t,e,n),this._addToMoves(t,n),t}_moveAfter(t,e,n){return this._unlink(t),this._insertAfter(t,e,n),this._addToMoves(t,n),t}_addAfter(t,e,n){return this._insertAfter(t,e,n),this._additionsTail=null===this._additionsTail?this._additionsHead=t:this._additionsTail._nextAdded=t,t}_insertAfter(t,e,n){const i=null===e?this._itHead:e._next;return t._next=i,t._prev=e,null===i?this._itTail=t:i._prev=t,null===e?this._itHead=t:e._next=t,null===this._linkedRecords&&(this._linkedRecords=new ul),this._linkedRecords.put(t),t.currentIndex=n,t}_remove(t){return this._addToRemovals(this._unlink(t))}_unlink(t){null!==this._linkedRecords&&this._linkedRecords.remove(t);const e=t._prev,n=t._next;return null===e?this._itHead=n:e._next=n,null===n?this._itTail=e:n._prev=e,t}_addToMoves(t,e){return t.previousIndex===e||(this._movesTail=null===this._movesTail?this._movesHead=t:this._movesTail._nextMoved=t),t}_addToRemovals(t){return null===this._unlinkedRecords&&(this._unlinkedRecords=new ul),this._unlinkedRecords.put(t),t.currentIndex=null,t._nextRemoved=null,null===this._removalsTail?(this._removalsTail=this._removalsHead=t,t._prevRemoved=null):(t._prevRemoved=this._removalsTail,this._removalsTail=this._removalsTail._nextRemoved=t),t}_addIdentityChange(t,e){return t.item=e,this._identityChangesTail=null===this._identityChangesTail?this._identityChangesHead=t:this._identityChangesTail._nextIdentityChange=t,t}}class ll{constructor(t,e){this.item=t,this.trackById=e,this.currentIndex=null,this.previousIndex=null,this._nextPrevious=null,this._prev=null,this._next=null,this._prevDup=null,this._nextDup=null,this._prevRemoved=null,this._nextRemoved=null,this._nextAdded=null,this._nextMoved=null,this._nextIdentityChange=null}}class cl{constructor(){this._head=null,this._tail=null}add(t){null===this._head?(this._head=this._tail=t,t._nextDup=null,t._prevDup=null):(this._tail._nextDup=t,t._prevDup=this._tail,t._nextDup=null,this._tail=t)}get(t,e){let n;for(n=this._head;null!==n;n=n._nextDup)if((null===e||e<=n.currentIndex)&&bs(n.trackById,t))return n;return null}remove(t){const e=t._prevDup,n=t._nextDup;return null===e?this._head=n:e._nextDup=n,null===n?this._tail=e:n._prevDup=e,null===this._head}}class ul{constructor(){this.map=new Map}put(t){const e=t.trackById;let n=this.map.get(e);n||(n=new cl,this.map.set(e,n)),n.add(t)}get(t,e){const n=this.map.get(t);return n?n.get(t,e):null}remove(t){const e=t.trackById;return this.map.get(e).remove(t)&&this.map.delete(e),t}get isEmpty(){return 0===this.map.size}clear(){this.map.clear()}}function hl(t,e,n){const i=t.previousIndex;if(null===i)return i;let r=0;return n&&i<n.length&&(r=n[i]),i+e+r}class dl{constructor(){}supports(t){return t instanceof Map||xs(t)}create(){return new pl}}class pl{constructor(){this._records=new Map,this._mapHead=null,this._appendAfter=null,this._previousMapHead=null,this._changesHead=null,this._changesTail=null,this._additionsHead=null,this._additionsTail=null,this._removalsHead=null,this._removalsTail=null}get isDirty(){return null!==this._additionsHead||null!==this._changesHead||null!==this._removalsHead}forEachItem(t){let e;for(e=this._mapHead;null!==e;e=e._next)t(e)}forEachPreviousItem(t){let e;for(e=this._previousMapHead;null!==e;e=e._nextPrevious)t(e)}forEachChangedItem(t){let e;for(e=this._changesHead;null!==e;e=e._nextChanged)t(e)}forEachAddedItem(t){let e;for(e=this._additionsHead;null!==e;e=e._nextAdded)t(e)}forEachRemovedItem(t){let e;for(e=this._removalsHead;null!==e;e=e._nextRemoved)t(e)}diff(t){if(t){if(!(t instanceof Map||xs(t)))throw new Error(`Error trying to diff '${wt(t)}'. Only maps and objects are allowed`)}else t=new Map;return this.check(t)?this:null}onDestroy(){}check(t){this._reset();let e=this._mapHead;if(this._appendAfter=null,this._forEach(t,(t,n)=>{if(e&&e.key===n)this._maybeAddToChanges(e,t),this._appendAfter=e,e=e._next;else{const i=this._getOrCreateRecordForKey(n,t);e=this._insertBeforeOrAppend(e,i)}}),e){e._prev&&(e._prev._next=null),this._removalsHead=e;for(let t=e;null!==t;t=t._nextRemoved)t===this._mapHead&&(this._mapHead=null),this._records.delete(t.key),t._nextRemoved=t._next,t.previousValue=t.currentValue,t.currentValue=null,t._prev=null,t._next=null}return this._changesTail&&(this._changesTail._nextChanged=null),this._additionsTail&&(this._additionsTail._nextAdded=null),this.isDirty}_insertBeforeOrAppend(t,e){if(t){const n=t._prev;return e._next=t,e._prev=n,t._prev=e,n&&(n._next=e),t===this._mapHead&&(this._mapHead=e),this._appendAfter=t,t}return this._appendAfter?(this._appendAfter._next=e,e._prev=this._appendAfter):this._mapHead=e,this._appendAfter=e,null}_getOrCreateRecordForKey(t,e){if(this._records.has(t)){const n=this._records.get(t);this._maybeAddToChanges(n,e);const i=n._prev,r=n._next;return i&&(i._next=r),r&&(r._prev=i),n._next=null,n._prev=null,n}const n=new fl(t);return this._records.set(t,n),n.currentValue=e,this._addToAdditions(n),n}_reset(){if(this.isDirty){let t;for(this._previousMapHead=this._mapHead,t=this._previousMapHead;null!==t;t=t._next)t._nextPrevious=t._next;for(t=this._changesHead;null!==t;t=t._nextChanged)t.previousValue=t.currentValue;for(t=this._additionsHead;null!=t;t=t._nextAdded)t.previousValue=t.currentValue;this._changesHead=this._changesTail=null,this._additionsHead=this._additionsTail=null,this._removalsHead=null}}_maybeAddToChanges(t,e){bs(e,t.currentValue)||(t.previousValue=t.currentValue,t.currentValue=e,this._addToChanges(t))}_addToAdditions(t){null===this._additionsHead?this._additionsHead=this._additionsTail=t:(this._additionsTail._nextAdded=t,this._additionsTail=t)}_addToChanges(t){null===this._changesHead?this._changesHead=this._changesTail=t:(this._changesTail._nextChanged=t,this._changesTail=t)}_forEach(t,e){t instanceof Map?t.forEach(e):Object.keys(t).forEach(n=>e(t[n],n))}}class fl{constructor(t){this.key=t,this.previousValue=null,this.currentValue=null,this._nextPrevious=null,this._next=null,this._prev=null,this._nextAdded=null,this._nextRemoved=null,this._nextChanged=null}}let ml=(()=>{class t{constructor(t){this.factories=t}static create(e,n){if(null!=n){const t=n.factories.slice();e=e.concat(t)}return new t(e)}static extend(e){return{provide:t,useFactory:n=>{if(!n)throw new Error("Cannot extend IterableDiffers without a parent injector");return t.create(e,n)},deps:[[t,new at,new ot]]}}find(t){const e=this.factories.find(e=>e.supports(t));if(null!=e)return e;throw new Error(`Cannot find a differ supporting object '${t}' of type '${n=t,n.name||typeof n}'`);var n}}return t.\u0275prov=ht({token:t,providedIn:"root",factory:()=>new t([new ol])}),t})(),gl=(()=>{class t{constructor(t){this.factories=t}static create(e,n){if(n){const t=n.factories.slice();e=e.concat(t)}return new t(e)}static extend(e){return{provide:t,useFactory:n=>{if(!n)throw new Error("Cannot extend KeyValueDiffers without a parent injector");return t.create(e,n)},deps:[[t,new at,new ot]]}}find(t){const e=this.factories.find(e=>e.supports(t));if(e)return e;throw new Error(`Cannot find a differ supporting object '${t}'`)}}return t.\u0275prov=ht({token:t,providedIn:"root",factory:()=>new t([new dl])}),t})();const yl=[new dl],_l=new ml([new ol]),vl=new gl(yl);let bl=(()=>{class t{}return t.__NG_ELEMENT_ID__=()=>wl(t,Ya),t})();const wl=function(t,e){return $o(t,e,Ze(),Ke())};let Cl=(()=>{class t{}return t.__NG_ELEMENT_ID__=()=>xl(t,Ya),t})();const xl=function(t,e){return Go(t,e,Ze(),Ke())},El={};class Sl extends Ka{constructor(t){super(),this.ngModule=t}resolveComponentFactory(t){const e=Ce(t);return new kl(e,this.ngModule)}}function Pl(t){const e=[];for(let n in t)t.hasOwnProperty(n)&&e.push({propName:t[n],templateName:n});return e}const Ol=new jt("SCHEDULER_TOKEN",{providedIn:"root",factory:()=>Wn});class kl extends qa{constructor(t,e){super(),this.componentDef=t,this.ngModule=e,this.componentType=t.type,this.selector=t.selectors.map(pr).join(","),this.ngContentSelectors=t.ngContentSelectors?t.ngContentSelectors:[],this.isBoundToModule=!!e}get inputs(){return Pl(this.componentDef.inputs)}get outputs(){return Pl(this.componentDef.outputs)}create(t,e,n,i){const r=(i=i||this.ngModule)?function(t,e){return{get:(n,i,r)=>{const o=t.get(n,El,r);return o!==El||i===El?o:e.get(n,i,r)}}}(t,i.injector):t,o=r.get(Za,Re),s=r.get(nl,null),a=o.createRenderer(null,this.componentDef),l=this.componentDef.selectors[0][0]||"div",c=n?function(t,e,n){if(De(t))return t.selectRootElement(e,n===ce.ShadowDom);let i="string"==typeof e?t.querySelector(e):e;return i.textContent="",i}(a,n,this.componentDef.encapsulation):kr(l,o.createRenderer(null,this.componentDef),function(t){const e=t.toLowerCase();return"svg"===e?"http://www.w3.org/2000/svg":"math"===e?"http://www.w3.org/1998/MathML/":null}(l)),u=this.componentDef.onPush?576:528,h="string"==typeof n&&/^#root-ng-internal-isolated-\d+/.test(n),d={components:[],scheduler:Wn,clean:co,playerHandler:null,flags:0},p=jr(0,-1,null,1,0,null,null,null,null,null),f=Tr(null,p,d,u,null,null,o,a,s,r);let m,g;mn(f,null);try{const t=function(t,e,n,i,r,o){const s=n[1];n[20]=t;const a=Ir(s,null,0,3,null,null),l=a.mergedAttrs=e.hostAttrs;null!==l&&(ys(a,l,!0),null!==t&&(Dn(r,t,l),null!==a.classes&&No(r,t,a.classes),null!==a.styles&&Bo(r,t,a.styles)));const c=i.createRenderer(t,e),u=Tr(n,Nr(e),null,e.onPush?64:16,n[20],a,i,c,void 0);return s.firstCreatePass&&(ti(Yn(a,n),s,e.type),Xr(s,a),Yr(a,n.length,1)),ro(n,u),n[20]=u}(c,this.componentDef,f,o,a);if(c)if(n)Dn(a,c,["ng-version",rl.full]);else{const{attrs:t,classes:e}=function(t){const e=[],n=[];let i=1,r=2;for(;i<t.length;){let o=t[i];if("string"==typeof o)2===r?""!==o&&e.push(o,t[++i]):8===r&&n.push(o);else{if(!lr(r))break;r=o}i++}return{attrs:e,classes:n}}(this.componentDef.selectors[0]);t&&Dn(a,c,t),e&&e.length>0&&No(a,c,e.join(" "))}if(g=Ne(p,0),void 0!==e){const t=g.projection=[];for(let n=0;n<this.ngContentSelectors.length;n++){const i=e[n];t.push(null!=i?Array.from(i):null)}}m=function(t,e,n,i,r){const o=n[1],s=function(t,e,n){const i=Ze();t.firstCreatePass&&(n.providersResolver&&n.providersResolver(n),qr(t,i,1),Qr(t,e,n));const r=oi(e,t,e.length-1,i);tr(r,e);const o=Be(i,e);return o&&tr(o,e),r}(o,n,e);i.components.push(s),t[8]=s,r&&r.forEach(t=>t(s,e)),e.contentQueries&&e.contentQueries(1,s,n.length-1);const a=Ze();if(o.firstCreatePass&&(null!==e.hostBindings||null!==e.hostAttrs)){Cn(a.index-20);const t=n[1];Wr(t,e),$r(t,n,e.hostVars),Gr(e,s)}return s}(t,this.componentDef,f,d,[Ta]),Ar(p,f,null)}finally{bn()}const y=new Tl(this.componentType,m,Wo(Ya,g,f),f,g);return n&&!h||(p.node.child=g),y}}class Tl extends class{}{constructor(t,e,n,i,r){super(),this.location=n,this._rootLView=i,this._tNode=r,this.destroyCbs=[],this.instance=e,this.hostView=this.changeDetectorRef=new zo(i),function(t,e,n,i){let r=t.node;null==r&&(t.node=r=zr(0,null,2,-1,null,null)),i[6]=r}(i[1],0,0,i),this.componentType=t}get injector(){return new li(this._tNode,this._rootLView)}destroy(){this.destroyCbs&&(this.destroyCbs.forEach(t=>t()),this.destroyCbs=null,!this.hostView.destroyed&&this.hostView.destroy())}onDestroy(t){this.destroyCbs&&this.destroyCbs.push(t)}}const Il=void 0;var Al=["en",[["a","p"],["AM","PM"],Il],[["AM","PM"],Il,Il],[["S","M","T","W","T","F","S"],["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],["Su","Mo","Tu","We","Th","Fr","Sa"]],Il,[["J","F","M","A","M","J","J","A","S","O","N","D"],["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],["January","February","March","April","May","June","July","August","September","October","November","December"]],Il,[["B","A"],["BC","AD"],["Before Christ","Anno Domini"]],0,[6,0],["M/d/yy","MMM d, y","MMMM d, y","EEEE, MMMM d, y"],["h:mm a","h:mm:ss a","h:mm:ss a z","h:mm:ss a zzzz"],["{1}, {0}",Il,"{1} 'at' {0}",Il],[".",",",";","%","+","-","E","\xd7","\u2030","\u221e","NaN",":"],["#,##0.###","#,##0%","\xa4#,##0.00","#E0"],"USD","$","US Dollar",{},"ltr",function(t){let e=Math.floor(Math.abs(t)),n=t.toString().replace(/^[^.]*\.?/,"").length;return 1===e&&0===n?1:5}];let Ml={};function Dl(t){const e=function(t){return t.toLowerCase().replace(/_/g,"-")}(t);let n=Rl(e);if(n)return n;const i=e.split("-")[0];if(n=Rl(i),n)return n;if("en"===i)return Al;throw new Error(`Missing locale data for the locale "${t}".`)}function Rl(t){return t in Ml||(Ml[t]=At.ng&&At.ng.common&&At.ng.common.locales&&At.ng.common.locales[t]),Ml[t]}const Fl=function(){var t={LocaleId:0,DayPeriodsFormat:1,DayPeriodsStandalone:2,DaysFormat:3,DaysStandalone:4,MonthsFormat:5,MonthsStandalone:6,Eras:7,FirstDayOfWeek:8,WeekendRange:9,DateFormat:10,TimeFormat:11,DateTimeFormat:12,NumberSymbols:13,NumberFormats:14,CurrencyCode:15,CurrencySymbol:16,CurrencyName:17,Currencies:18,Directionality:19,PluralCase:20,ExtraData:21};return t[t.LocaleId]="LocaleId",t[t.DayPeriodsFormat]="DayPeriodsFormat",t[t.DayPeriodsStandalone]="DayPeriodsStandalone",t[t.DaysFormat]="DaysFormat",t[t.DaysStandalone]="DaysStandalone",t[t.MonthsFormat]="MonthsFormat",t[t.MonthsStandalone]="MonthsStandalone",t[t.Eras]="Eras",t[t.FirstDayOfWeek]="FirstDayOfWeek",t[t.WeekendRange]="WeekendRange",t[t.DateFormat]="DateFormat",t[t.TimeFormat]="TimeFormat",t[t.DateTimeFormat]="DateTimeFormat",t[t.NumberSymbols]="NumberSymbols",t[t.NumberFormats]="NumberFormats",t[t.CurrencyCode]="CurrencyCode",t[t.CurrencySymbol]="CurrencySymbol",t[t.CurrencyName]="CurrencyName",t[t.Currencies]="Currencies",t[t.Directionality]="Directionality",t[t.PluralCase]="PluralCase",t[t.ExtraData]="ExtraData",t}();let Ll="en-US";function Bl(t){var e,n;n="Expected localeId to be defined",null==(e=t)&&function(t,e,n,i){throw new Error(`ASSERTION ERROR: ${t}`+` [Expected=> null != ${e} <=Actual]`)}(n,e),"string"==typeof t&&(Ll=t.toLowerCase().replace(/_/g,"-"))}const Nl=new Map;class jl extends te{constructor(t,e){super(),this._parent=e,this._bootstrapComponents=[],this.injector=this,this.destroyCbs=[],this.componentFactoryResolver=new Sl(this);const n=Ee(t),i=t[Lt]||null;i&&Bl(i),this._bootstrapComponents=Gn(n.bootstrap),this._r3Injector=ns(t,e,[{provide:te,useValue:this},{provide:Ka,useValue:this.componentFactoryResolver}],wt(t)),this._r3Injector._resolveInjectorDefTypes(),this.instance=this.get(t)}get(t,e=us.THROW_IF_NOT_FOUND,n=lt.Default){return t===us||t===te||t===zt?this:this._r3Injector.get(t,e,n)}destroy(){const t=this._r3Injector;!t.destroyed&&t.destroy(),this.destroyCbs.forEach(t=>t()),this.destroyCbs=null}onDestroy(t){this.destroyCbs.push(t)}}class zl extends class{}{constructor(t){super(),this.moduleType=t,null!==Ee(t)&&function t(e){if(null!==e.\u0275mod.id){const t=e.\u0275mod.id;(function(t,e,n){if(e&&e!==n)throw new Error(`Duplicate module registered for ${t} - ${wt(e)} vs ${wt(e.name)}`)})(t,Nl.get(t),e),Nl.set(t,e)}let n=e.\u0275mod.imports;n instanceof Function&&(n=n()),n&&n.forEach(e=>t(e))}(t)}create(t){return new jl(this.moduleType,t)}}function Hl(t,e,n){const i=on()+t,r=Ke();return r[i]===fr?Es(r,i,n?e.call(n):e()):function(t,e){return t[e]}(r,i)}function Vl(t,e,n,i){return ql(Ke(),on(),t,e,n,i)}function Ul(t,e,n,i,r){return function(t,e,n,i,r,o,s){const a=e+n;return Ps(t,a,r,o)?Es(t,a+2,s?i.call(s,r,o):i(r,o)):Gl(t,a+2)}(Ke(),on(),t,e,n,i,r)}function Wl(t,e,n,i,r,o){return function(t,e,n,i,r,o,s,a){const l=e+n;return Os(t,l,r,o,s)?Es(t,l+3,a?i.call(a,r,o,s):i(r,o,s)):Gl(t,l+3)}(Ke(),on(),t,e,n,i,r,o)}function $l(t,e,n,i,r,o,s){return function(t,e,n,i,r,o,s,a,l){const c=e+n;return function(t,e,n,i,r,o){const s=Ps(t,e,n,i);return Ps(t,e+2,r,o)||s}(t,c,r,o,s,a)?Es(t,c+4,l?i.call(l,r,o,s,a):i(r,o,s,a)):Gl(t,c+4)}(Ke(),on(),t,e,n,i,r,o,s)}function Gl(t,e){const n=t[e];return n===fr?void 0:n}function ql(t,e,n,i,r,o){const s=e+n;return Ss(t,s,r)?Es(t,s+1,o?i.call(o,r):i(r)):Gl(t,s+1)}function Xl(t,e){const n=Ye();let i;const r=t+20;n.firstCreatePass?(i=function(t,e){if(e)for(let n=e.length-1;n>=0;n--){const i=e[n];if(t===i.name)return i}throw new Error(`The pipe '${t}' could not be found!`)}(e,n.pipeRegistry),n.data[r]=i,i.onDestroy&&(n.destroyHooks||(n.destroyHooks=[])).push(r,i.onDestroy)):i=n.data[r];const o=i.factory||(i.factory=xe(i.type)),s=qt(Ms),a=Xn(!1),l=o();return Xn(a),qt(s),function(t,e,n,i){const r=n+20;r>=t.data.length&&(t.data[r]=null,t.blueprint[r]=null),e[r]=i}(n,Ke(),t,l),l}function Kl(t,e,n){const i=Ke(),r=je(i,t);return function(t,e){return ws.isWrapped(e)&&(e=ws.unwrap(e),t[sn()]=fr),e}(i,function(t,e){return t[1].data[e+20].pure}(i,t)?ql(i,on(),e,r.transform,n,r):r.transform(n))}class Yl extends x{constructor(t=!1){super(),this.__isAsync=t}emit(t){super.next(t)}subscribe(t,e,n){let i,r=t=>null,o=()=>null;t&&"object"==typeof t?(i=this.__isAsync?e=>{setTimeout(()=>t.next(e))}:e=>{t.next(e)},t.error&&(r=this.__isAsync?e=>{setTimeout(()=>t.error(e))}:e=>{t.error(e)}),t.complete&&(o=this.__isAsync?()=>{setTimeout(()=>t.complete())}:()=>{t.complete()})):(i=this.__isAsync?e=>{setTimeout(()=>t(e))}:e=>{t(e)},e&&(r=this.__isAsync?t=>{setTimeout(()=>e(t))}:t=>{e(t)}),n&&(o=this.__isAsync?()=>{setTimeout(()=>n())}:()=>{n()}));const s=super.subscribe(i,r,o);return t instanceof h&&t.add(s),s}}function Ql(){return this._results[vs()]()}class Zl{constructor(){this.dirty=!0,this._results=[],this.changes=new Yl,this.length=0;const t=vs(),e=Zl.prototype;e[t]||(e[t]=Ql)}map(t){return this._results.map(t)}filter(t){return this._results.filter(t)}find(t){return this._results.find(t)}reduce(t,e){return this._results.reduce(t,e)}forEach(t){this._results.forEach(t)}some(t){return this._results.some(t)}toArray(){return this._results.slice()}toString(){return this._results.toString()}reset(t){this._results=function t(e,n){void 0===n&&(n=e);for(let i=0;i<e.length;i++){let r=e[i];Array.isArray(r)?(n===e&&(n=e.slice(0,i)),t(r,n)):n!==e&&n.push(r)}return n}(t),this.dirty=!1,this.length=this._results.length,this.last=this._results[this.length-1],this.first=this._results[0]}notifyOnChanges(){this.changes.emit(this)}setDirty(){this.dirty=!0}destroy(){this.changes.complete(),this.changes.unsubscribe()}}class Jl{constructor(t){this.queryList=t,this.matches=null}clone(){return new Jl(this.queryList)}setDirty(){this.queryList.setDirty()}}class tc{constructor(t=[]){this.queries=t}createEmbeddedView(t){const e=t.queries;if(null!==e){const n=null!==t.contentQueries?t.contentQueries[0]:e.length,i=[];for(let t=0;t<n;t++){const n=e.getByIndex(t);i.push(this.queries[n.indexInDeclarationView].clone())}return new tc(i)}return null}insertView(t){this.dirtyQueriesWithMatches(t)}detachView(t){this.dirtyQueriesWithMatches(t)}dirtyQueriesWithMatches(t){for(let e=0;e<this.queries.length;e++)null!==yc(t,e).matches&&this.queries[e].setDirty()}}class ec{constructor(t,e,n,i=null){this.predicate=t,this.descendants=e,this.isStatic=n,this.read=i}}class nc{constructor(t=[]){this.queries=t}elementStart(t,e){for(let n=0;n<this.queries.length;n++)this.queries[n].elementStart(t,e)}elementEnd(t){for(let e=0;e<this.queries.length;e++)this.queries[e].elementEnd(t)}embeddedTView(t){let e=null;for(let n=0;n<this.length;n++){const i=null!==e?e.length:0,r=this.getByIndex(n).embeddedTView(t,i);r&&(r.indexInDeclarationView=n,null!==e?e.push(r):e=[r])}return null!==e?new nc(e):null}template(t,e){for(let n=0;n<this.queries.length;n++)this.queries[n].template(t,e)}getByIndex(t){return this.queries[t]}get length(){return this.queries.length}track(t){this.queries.push(t)}}class ic{constructor(t,e=-1){this.metadata=t,this.matches=null,this.indexInDeclarationView=-1,this.crossesNgTemplate=!1,this._appliesToNextNode=!0,this._declarationNodeIndex=e}elementStart(t,e){this.isApplyingToNode(e)&&this.matchTNode(t,e)}elementEnd(t){this._declarationNodeIndex===t.index&&(this._appliesToNextNode=!1)}template(t,e){this.elementStart(t,e)}embeddedTView(t,e){return this.isApplyingToNode(t)?(this.crossesNgTemplate=!0,this.addMatch(-t.index,e),new ic(this.metadata)):null}isApplyingToNode(t){if(this._appliesToNextNode&&!1===this.metadata.descendants){const e=this._declarationNodeIndex;let n=t.parent;for(;null!==n&&4===n.type&&n.index!==e;)n=n.parent;return e===(null!==n?n.index:-1)}return this._appliesToNextNode}matchTNode(t,e){if(Array.isArray(this.metadata.predicate)){const n=this.metadata.predicate;for(let i=0;i<n.length;i++)this.matchTNodeWithReadOption(t,e,rc(e,n[i]))}else{const n=this.metadata.predicate;n===bl?0===e.type&&this.matchTNodeWithReadOption(t,e,-1):this.matchTNodeWithReadOption(t,e,ri(e,t,n,!1,!1))}}matchTNodeWithReadOption(t,e,n){if(null!==n){const i=this.metadata.read;if(null!==i)if(i===Ya||i===Cl||i===bl&&0===e.type)this.addMatch(e.index,-2);else{const n=ri(e,t,i,!1,!1);null!==n&&this.addMatch(e.index,n)}else this.addMatch(e.index,n)}}addMatch(t,e){null===this.matches?this.matches=[t,e]:this.matches.push(t,e)}}function rc(t,e){const n=t.localNames;if(null!==n)for(let i=0;i<n.length;i+=2)if(n[i]===e)return n[i+1];return null}function oc(t,e,n,i){return-1===n?function(t,e){return 3===t.type||4===t.type?Wo(Ya,t,e):0===t.type?$o(bl,Ya,t,e):null}(e,t):-2===n?function(t,e,n){return n===Ya?Wo(Ya,e,t):n===bl?$o(bl,Ya,e,t):n===Cl?Go(Cl,Ya,e,t):void 0}(t,e,i):oi(t,t[1],n,e)}function sc(t,e,n,i){const r=e[19].queries[i];if(null===r.matches){const i=t.data,o=n.matches,s=[];for(let t=0;t<o.length;t+=2){const r=o[t];s.push(r<0?null:oc(e,i[r],o[t+1],n.metadata.read))}r.matches=s}return r.matches}function ac(t){const e=Ke(),n=Ye(),i=dn();pn(i+1);const r=yc(n,i);if(t.dirty&&Ve(e)===r.metadata.isStatic){if(null===r.matches)t.reset([]);else{const o=r.crossesNgTemplate?function t(e,n,i,r){const o=e.queries.getByIndex(i),s=o.matches;if(null!==s){const a=sc(e,n,o,i);for(let e=0;e<s.length;e+=2){const i=s[e];if(i>0)r.push(a[e/2]);else{const o=s[e+1],a=n[-i];for(let e=10;e<a.length;e++){const n=a[e];n[17]===n[3]&&t(n[1],n,o,r)}if(null!==a[9]){const e=a[9];for(let n=0;n<e.length;n++){const i=e[n];t(i[1],i,o,r)}}}}}return r}(n,e,i,[]):sc(n,e,r,i);t.reset(o),t.notifyOnChanges()}return!0}return!1}function lc(t,e,n){uc(Ye(),Ke(),t,e,n,!0)}function cc(t,e,n){uc(Ye(),Ke(),t,e,n,!1)}function uc(t,e,n,i,r,o){t.firstCreatePass&&(gc(t,new ec(n,i,o,r),-1),o&&(t.staticViewQueries=!0)),mc(t,e)}function hc(t,e,n,i){pc(Ye(),Ke(),e,n,i,!1,Ze(),t)}function dc(t,e,n,i){pc(Ye(),Ke(),e,n,i,!0,Ze(),t)}function pc(t,e,n,i,r,o,s,a){t.firstCreatePass&&(gc(t,new ec(n,i,o,r),s.index),function(t,e){const n=t.contentQueries||(t.contentQueries=[]);e!==(t.contentQueries.length?n[n.length-1]:-1)&&n.push(t.queries.length-1,e)}(t,a),o&&(t.staticContentQueries=!0)),mc(t,e)}function fc(){return t=Ke(),e=dn(),t[19].queries[e].queryList;var t,e}function mc(t,e){const n=new Zl;!function(t,e,n,i){const r=uo(e);r.push(n),t.firstCreatePass&&ho(t).push(i,r.length-1)}(t,e,n,n.destroy),null===e[19]&&(e[19]=new tc),e[19].queries.push(new Jl(n))}function gc(t,e,n){null===t.queries&&(t.queries=new nc),t.queries.track(new ic(e,n))}function yc(t,e){return t.queries.getByIndex(e)}function _c(t,e){return $o(bl,Ya,t,e)}function vc(t=lt.Default){const e=qo(!0);if(null!=e||t&lt.Optional)return e;throw new Error("No provider for ChangeDetectorRef!")}const bc=it("Input",t=>({bindingPropertyName:t})),wc=it("Output",t=>({bindingPropertyName:t})),Cc=it("HostListener",(t,e)=>({eventName:t,args:e})),xc=new jt("Application Initializer");let Ec=(()=>{class t{constructor(t){this.appInits=t,this.initialized=!1,this.done=!1,this.donePromise=new Promise((t,e)=>{this.resolve=t,this.reject=e})}runInitializers(){if(this.initialized)return;const t=[],e=()=>{this.done=!0,this.resolve()};if(this.appInits)for(let n=0;n<this.appInits.length;n++){const e=this.appInits[n]();Us(e)&&t.push(e)}Promise.all(t).then(()=>{e()}).catch(t=>{this.reject(t)}),0===t.length&&e(),this.initialized=!0}}return t.\u0275fac=function(e){return new(e||t)(Kt(xc,8))},t.\u0275prov=ht({token:t,factory:t.\u0275fac}),t})();const Sc=new jt("AppId"),Pc={provide:Sc,useFactory:function(){return`${Oc()}${Oc()}${Oc()}`},deps:[]};function Oc(){return String.fromCharCode(97+Math.floor(25*Math.random()))}const kc=new jt("Platform Initializer"),Tc=new jt("Platform ID"),Ic=new jt("appBootstrapListener");let Ac=(()=>{class t{log(t){console.log(t)}warn(t){console.warn(t)}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275prov=ht({token:t,factory:t.\u0275fac}),t})();const Mc=new jt("LocaleId"),Dc=new jt("DefaultCurrencyCode");class Rc{constructor(t,e){this.ngModuleFactory=t,this.componentFactories=e}}const Fc=function(t){return new zl(t)},Lc=Fc,Bc=function(t){return Promise.resolve(Fc(t))},Nc=function(t){const e=Fc(t),n=Gn(Ee(t).declarations).reduce((t,e)=>{const n=Ce(e);return n&&t.push(new kl(n)),t},[]);return new Rc(e,n)},jc=Nc,zc=function(t){return Promise.resolve(Nc(t))};let Hc=(()=>{class t{constructor(){this.compileModuleSync=Lc,this.compileModuleAsync=Bc,this.compileModuleAndAllComponentsSync=jc,this.compileModuleAndAllComponentsAsync=zc}clearCache(){}clearCacheFor(t){}getModuleId(t){}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275prov=ht({token:t,factory:t.\u0275fac}),t})();const Vc=new jt("compilerOptions"),Uc=(()=>Promise.resolve(0))();function Wc(t){"undefined"==typeof Zone?Uc.then(()=>{t&&t.apply(null,null)}):Zone.current.scheduleMicroTask("scheduleMicrotask",t)}class $c{constructor({enableLongStackTrace:t=!1,shouldCoalesceEventChangeDetection:e=!1}){if(this.hasPendingMacrotasks=!1,this.hasPendingMicrotasks=!1,this.isStable=!0,this.onUnstable=new Yl(!1),this.onMicrotaskEmpty=new Yl(!1),this.onStable=new Yl(!1),this.onError=new Yl(!1),"undefined"==typeof Zone)throw new Error("In this configuration Angular requires Zone.js");Zone.assertZonePatched(),this._nesting=0,this._outer=this._inner=Zone.current,Zone.wtfZoneSpec&&(this._inner=this._inner.fork(Zone.wtfZoneSpec)),Zone.TaskTrackingZoneSpec&&(this._inner=this._inner.fork(new Zone.TaskTrackingZoneSpec)),t&&Zone.longStackTraceZoneSpec&&(this._inner=this._inner.fork(Zone.longStackTraceZoneSpec)),this.shouldCoalesceEventChangeDetection=e,this.lastRequestAnimationFrameId=-1,this.nativeRequestAnimationFrame=function(){let t=At.requestAnimationFrame,e=At.cancelAnimationFrame;if("undefined"!=typeof Zone&&t&&e){const n=t[Zone.__symbol__("OriginalDelegate")];n&&(t=n);const i=e[Zone.__symbol__("OriginalDelegate")];i&&(e=i)}return{nativeRequestAnimationFrame:t,nativeCancelAnimationFrame:e}}().nativeRequestAnimationFrame,function(t){const e=!!t.shouldCoalesceEventChangeDetection&&t.nativeRequestAnimationFrame&&(()=>{!function(t){-1===t.lastRequestAnimationFrameId&&(t.lastRequestAnimationFrameId=t.nativeRequestAnimationFrame.call(At,()=>{t.lastRequestAnimationFrameId=-1,Kc(t),Xc(t)}),Kc(t))}(t)});t._inner=t._inner.fork({name:"angular",properties:{isAngularZone:!0,maybeDelayChangeDetection:e},onInvokeTask:(n,i,r,o,s,a)=>{try{return Yc(t),n.invokeTask(r,o,s,a)}finally{e&&"eventTask"===o.type&&e(),Qc(t)}},onInvoke:(e,n,i,r,o,s,a)=>{try{return Yc(t),e.invoke(i,r,o,s,a)}finally{Qc(t)}},onHasTask:(e,n,i,r)=>{e.hasTask(i,r),n===i&&("microTask"==r.change?(t._hasPendingMicrotasks=r.microTask,Kc(t),Xc(t)):"macroTask"==r.change&&(t.hasPendingMacrotasks=r.macroTask))},onHandleError:(e,n,i,r)=>(e.handleError(i,r),t.runOutsideAngular(()=>t.onError.emit(r)),!1)})}(this)}static isInAngularZone(){return!0===Zone.current.get("isAngularZone")}static assertInAngularZone(){if(!$c.isInAngularZone())throw new Error("Expected to be in Angular Zone, but it is not!")}static assertNotInAngularZone(){if($c.isInAngularZone())throw new Error("Expected to not be in Angular Zone, but it is!")}run(t,e,n){return this._inner.run(t,e,n)}runTask(t,e,n,i){const r=this._inner,o=r.scheduleEventTask("NgZoneEvent: "+i,t,qc,Gc,Gc);try{return r.runTask(o,e,n)}finally{r.cancelTask(o)}}runGuarded(t,e,n){return this._inner.runGuarded(t,e,n)}runOutsideAngular(t){return this._outer.run(t)}}function Gc(){}const qc={};function Xc(t){if(0==t._nesting&&!t.hasPendingMicrotasks&&!t.isStable)try{t._nesting++,t.onMicrotaskEmpty.emit(null)}finally{if(t._nesting--,!t.hasPendingMicrotasks)try{t.runOutsideAngular(()=>t.onStable.emit(null))}finally{t.isStable=!0}}}function Kc(t){t.hasPendingMicrotasks=!!(t._hasPendingMicrotasks||t.shouldCoalesceEventChangeDetection&&-1!==t.lastRequestAnimationFrameId)}function Yc(t){t._nesting++,t.isStable&&(t.isStable=!1,t.onUnstable.emit(null))}function Qc(t){t._nesting--,Xc(t)}class Zc{constructor(){this.hasPendingMicrotasks=!1,this.hasPendingMacrotasks=!1,this.isStable=!0,this.onUnstable=new Yl,this.onMicrotaskEmpty=new Yl,this.onStable=new Yl,this.onError=new Yl}run(t,e,n){return t.apply(e,n)}runGuarded(t,e,n){return t.apply(e,n)}runOutsideAngular(t){return t()}runTask(t,e,n,i){return t.apply(e,n)}}let Jc=(()=>{class t{constructor(t){this._ngZone=t,this._pendingCount=0,this._isZoneStable=!0,this._didWork=!1,this._callbacks=[],this.taskTrackingZone=null,this._watchAngularEvents(),t.run(()=>{this.taskTrackingZone="undefined"==typeof Zone?null:Zone.current.get("TaskTrackingZone")})}_watchAngularEvents(){this._ngZone.onUnstable.subscribe({next:()=>{this._didWork=!0,this._isZoneStable=!1}}),this._ngZone.runOutsideAngular(()=>{this._ngZone.onStable.subscribe({next:()=>{$c.assertNotInAngularZone(),Wc(()=>{this._isZoneStable=!0,this._runCallbacksIfReady()})}})})}increasePendingRequestCount(){return this._pendingCount+=1,this._didWork=!0,this._pendingCount}decreasePendingRequestCount(){if(this._pendingCount-=1,this._pendingCount<0)throw new Error("pending async requests below zero");return this._runCallbacksIfReady(),this._pendingCount}isStable(){return this._isZoneStable&&0===this._pendingCount&&!this._ngZone.hasPendingMacrotasks}_runCallbacksIfReady(){if(this.isStable())Wc(()=>{for(;0!==this._callbacks.length;){let t=this._callbacks.pop();clearTimeout(t.timeoutId),t.doneCb(this._didWork)}this._didWork=!1});else{let t=this.getPendingTasks();this._callbacks=this._callbacks.filter(e=>!e.updateCb||!e.updateCb(t)||(clearTimeout(e.timeoutId),!1)),this._didWork=!0}}getPendingTasks(){return this.taskTrackingZone?this.taskTrackingZone.macroTasks.map(t=>({source:t.source,creationLocation:t.creationLocation,data:t.data})):[]}addCallback(t,e,n){let i=-1;e&&e>0&&(i=setTimeout(()=>{this._callbacks=this._callbacks.filter(t=>t.timeoutId!==i),t(this._didWork,this.getPendingTasks())},e)),this._callbacks.push({doneCb:t,timeoutId:i,updateCb:n})}whenStable(t,e,n){if(n&&!this.taskTrackingZone)throw new Error('Task tracking zone is required when passing an update callback to whenStable(). Is "zone.js/dist/task-tracking.js" loaded?');this.addCallback(t,e,n),this._runCallbacksIfReady()}getPendingRequestCount(){return this._pendingCount}findProviders(t,e,n){return[]}}return t.\u0275fac=function(e){return new(e||t)(Kt($c))},t.\u0275prov=ht({token:t,factory:t.\u0275fac}),t})(),tu=(()=>{class t{constructor(){this._applications=new Map,iu.addToWindow(this)}registerApplication(t,e){this._applications.set(t,e)}unregisterApplication(t){this._applications.delete(t)}unregisterAllApplications(){this._applications.clear()}getTestability(t){return this._applications.get(t)||null}getAllTestabilities(){return Array.from(this._applications.values())}getAllRootElements(){return Array.from(this._applications.keys())}findTestabilityInTree(t,e=!0){return iu.findTestabilityInTree(this,t,e)}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275prov=ht({token:t,factory:t.\u0275fac}),t})();class eu{addToWindow(t){}findTestabilityInTree(t,e,n){return null}}let nu,iu=new eu,ru=function(t,e,n){const i=t.get(Vc,[]).concat(e),r=new zl(n);if(0===fs.size)return Promise.resolve(r);const o=function(t){const e=[];return t.forEach(t=>t&&e.push(...t)),e}(i.map(t=>t.providers));if(0===o.length)return Promise.resolve(r);const s=function(){const t=At.ng;if(!t||!t.\u0275compilerFacade)throw new Error("Angular JIT compilation failed: '@angular/compiler' not loaded!\n  - JIT compilation is discouraged for production use-cases! Consider AOT mode instead.\n  - Did you bootstrap using '@angular/platform-browser-dynamic' or '@angular/platform-server'?\n  - Alternatively provide the compiler with 'import \"@angular/compiler\";' before bootstrapping.");return t.\u0275compilerFacade}(),a=us.create({providers:o}).get(s.ResourceLoader);return function(t){const e=[],n=new Map;function i(t){let e=n.get(t);if(!e){const i=(t=>Promise.resolve(a.get(t)))(t);n.set(t,e=i.then(gs))}return e}return fs.forEach((t,n)=>{const r=[];t.templateUrl&&r.push(i(t.templateUrl).then(e=>{t.template=e}));const o=t.styleUrls,s=t.styles||(t.styles=[]),a=t.styles.length;o&&o.forEach((e,n)=>{s.push(""),r.push(i(e).then(i=>{s[a+n]=i,o.splice(o.indexOf(e),1),0==o.length&&(t.styleUrls=void 0)}))});const l=Promise.all(r).then(()=>function(t){ms.delete(t)}(n));e.push(l)}),fs=new Map,Promise.all(e).then(()=>{})}().then(()=>r)};const ou=new jt("AllowMultipleToken");function su(t,e,n=[]){const i=`Platform: ${e}`,r=new jt(i);return(e=[])=>{let o=au();if(!o||o.injector.get(ou,!1))if(t)t(n.concat(e).concat({provide:r,useValue:!0}));else{const t=n.concat(e).concat({provide:r,useValue:!0},{provide:Yo,useValue:"platform"});!function(t){if(nu&&!nu.destroyed&&!nu.injector.get(ou,!1))throw new Error("There can be only one platform. Destroy the previous one to create a new one.");nu=t.get(lu);const e=t.get(kc,null);e&&e.forEach(t=>t())}(us.create({providers:t,name:i}))}return function(t){const e=au();if(!e)throw new Error("No platform exists!");if(!e.injector.get(t,null))throw new Error("A platform with a different configuration has been created. Please destroy it first.");return e}(r)}}function au(){return nu&&!nu.destroyed?nu:null}let lu=(()=>{class t{constructor(t){this._injector=t,this._modules=[],this._destroyListeners=[],this._destroyed=!1}bootstrapModuleFactory(t,e){const n=function(t,e){let n;return n="noop"===t?new Zc:("zone.js"===t?void 0:t)||new $c({enableLongStackTrace:Pi(),shouldCoalesceEventChangeDetection:e}),n}(e?e.ngZone:void 0,e&&e.ngZoneEventCoalescing||!1),i=[{provide:$c,useValue:n}];return n.run(()=>{const e=us.create({providers:i,parent:this.injector,name:t.moduleType.name}),r=t.create(e),o=r.injector.get(fi,null);if(!o)throw new Error("No ErrorHandler. Is platform module (BrowserModule) included?");return r.onDestroy(()=>hu(this._modules,r)),n.runOutsideAngular(()=>n.onError.subscribe({next:t=>{o.handleError(t)}})),function(t,e,n){try{const i=n();return Us(i)?i.catch(n=>{throw e.runOutsideAngular(()=>t.handleError(n)),n}):i}catch(i){throw e.runOutsideAngular(()=>t.handleError(i)),i}}(o,n,()=>{const t=r.injector.get(Ec);return t.runInitializers(),t.donePromise.then(()=>(Bl(r.injector.get(Mc,"en-US")||"en-US"),this._moduleDoBootstrap(r),r))})})}bootstrapModule(t,e=[]){const n=cu({},e);return ru(this.injector,n,t).then(t=>this.bootstrapModuleFactory(t,n))}_moduleDoBootstrap(t){const e=t.injector.get(uu);if(t._bootstrapComponents.length>0)t._bootstrapComponents.forEach(t=>e.bootstrap(t));else{if(!t.instance.ngDoBootstrap)throw new Error(`The module ${wt(t.instance.constructor)} was bootstrapped, but it does not declare "@NgModule.bootstrap" components nor a "ngDoBootstrap" method. `+"Please define one of these.");t.instance.ngDoBootstrap(e)}this._modules.push(t)}onDestroy(t){this._destroyListeners.push(t)}get injector(){return this._injector}destroy(){if(this._destroyed)throw new Error("The platform has already been destroyed!");this._modules.slice().forEach(t=>t.destroy()),this._destroyListeners.forEach(t=>t()),this._destroyed=!0}get destroyed(){return this._destroyed}}return t.\u0275fac=function(e){return new(e||t)(Kt(us))},t.\u0275prov=ht({token:t,factory:t.\u0275fac}),t})();function cu(t,e){return Array.isArray(e)?e.reduce(cu,t):Object.assign(Object.assign({},t),e)}let uu=(()=>{class t{constructor(t,e,n,i,r,o){this._zone=t,this._console=e,this._injector=n,this._exceptionHandler=i,this._componentFactoryResolver=r,this._initStatus=o,this._bootstrapListeners=[],this._views=[],this._runningTick=!1,this._enforceNoNewChanges=!1,this._stable=!0,this.componentTypes=[],this.components=[],this._enforceNoNewChanges=Pi(),this._zone.onMicrotaskEmpty.subscribe({next:()=>{this._zone.run(()=>{this.tick()})}});const s=new _(t=>{this._stable=this._zone.isStable&&!this._zone.hasPendingMacrotasks&&!this._zone.hasPendingMicrotasks,this._zone.runOutsideAngular(()=>{t.next(this._stable),t.complete()})}),a=new _(t=>{let e;this._zone.runOutsideAngular(()=>{e=this._zone.onStable.subscribe(()=>{$c.assertNotInAngularZone(),Wc(()=>{this._stable||this._zone.hasPendingMacrotasks||this._zone.hasPendingMicrotasks||(this._stable=!0,t.next(!0))})})});const n=this._zone.onUnstable.subscribe(()=>{$c.assertInAngularZone(),this._stable&&(this._stable=!1,this._zone.runOutsideAngular(()=>{t.next(!1)}))});return()=>{e.unsubscribe(),n.unsubscribe()}});this.isStable=$(s,a.pipe(J()))}bootstrap(t,e){if(!this._initStatus.done)throw new Error("Cannot bootstrap as there are still asynchronous initializers running. Bootstrap components in the `ngDoBootstrap` method of the root module.");let n;n=t instanceof qa?t:this._componentFactoryResolver.resolveComponentFactory(t),this.componentTypes.push(n.componentType);const i=n.isBoundToModule?void 0:this._injector.get(te),r=n.create(us.NULL,[],e||n.selector,i);r.onDestroy(()=>{this._unloadComponent(r)});const o=r.injector.get(Jc,null);return o&&r.injector.get(tu).registerApplication(r.location.nativeElement,o),this._loadComponent(r),Pi()&&this._console.log("Angular is running in the development mode. Call enableProdMode() to enable the production mode."),r}tick(){if(this._runningTick)throw new Error("ApplicationRef.tick is called recursively");try{this._runningTick=!0;for(let t of this._views)t.detectChanges();if(this._enforceNoNewChanges)for(let t of this._views)t.checkNoChanges()}catch(t){this._zone.runOutsideAngular(()=>this._exceptionHandler.handleError(t))}finally{this._runningTick=!1}}attachView(t){const e=t;this._views.push(e),e.attachToAppRef(this)}detachView(t){const e=t;hu(this._views,e),e.detachFromAppRef()}_loadComponent(t){this.attachView(t.hostView),this.tick(),this.components.push(t),this._injector.get(Ic,[]).concat(this._bootstrapListeners).forEach(e=>e(t))}_unloadComponent(t){this.detachView(t.hostView),hu(this.components,t)}ngOnDestroy(){this._views.slice().forEach(t=>t.destroy())}get viewCount(){return this._views.length}}return t.\u0275fac=function(e){return new(e||t)(Kt($c),Kt(Ac),Kt(us),Kt(fi),Kt(Ka),Kt(Ec))},t.\u0275prov=ht({token:t,factory:t.\u0275fac}),t})();function hu(t,e){const n=t.indexOf(e);n>-1&&t.splice(n,1)}const du=su(null,"core",[{provide:Tc,useValue:"unknown"},{provide:lu,deps:[us]},{provide:tu,deps:[]},{provide:Ac,deps:[]}]),pu=[{provide:uu,useClass:uu,deps:[$c,Ac,us,fi,Ka,Ec]},{provide:Ol,deps:[$c],useFactory:function(t){let e=[];return t.onStable.subscribe(()=>{for(;e.length;)e.pop()()}),function(t){e.push(t)}}},{provide:Ec,useClass:Ec,deps:[[new ot,xc]]},{provide:Hc,useClass:Hc,deps:[]},Pc,{provide:ml,useFactory:function(){return _l},deps:[]},{provide:gl,useFactory:function(){return vl},deps:[]},{provide:Mc,useFactory:function(t){return Bl(t=t||"undefined"!=typeof $localize&&$localize.locale||"en-US"),t},deps:[[new rt(Mc),new ot,new at]]},{provide:Dc,useValue:"USD"}];let fu=(()=>{class t{constructor(t){}}return t.\u0275mod=_e({type:t}),t.\u0275inj=dt({factory:function(e){return new(e||t)(Kt(uu))},providers:pu}),t})();const mu={production:!0,tenantId:null,apiKey:"",buildTime:"Tue Apr 27 2021 16:24:37 GMT+0700 (GMT+07:00)"};var gu=n("kiQV");let yu=null;function _u(){return yu}const vu=new jt("DocumentToken");let bu=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275prov=ht({factory:wu,token:t,providedIn:"platform"}),t})();function wu(){return Kt(Cu)}let Cu=(()=>{class t extends bu{constructor(t){super(),this._doc=t,this._init()}_init(){this.location=_u().getLocation(),this._history=_u().getHistory()}getBaseHrefFromDOM(){return _u().getBaseHref(this._doc)}onPopState(t){_u().getGlobalEventTarget(this._doc,"window").addEventListener("popstate",t,!1)}onHashChange(t){_u().getGlobalEventTarget(this._doc,"window").addEventListener("hashchange",t,!1)}get href(){return this.location.href}get protocol(){return this.location.protocol}get hostname(){return this.location.hostname}get port(){return this.location.port}get pathname(){return this.location.pathname}get search(){return this.location.search}get hash(){return this.location.hash}set pathname(t){this.location.pathname=t}pushState(t,e,n){xu()?this._history.pushState(t,e,n):this.location.hash=n}replaceState(t,e,n){xu()?this._history.replaceState(t,e,n):this.location.hash=n}forward(){this._history.forward()}back(){this._history.back()}getState(){return this._history.state}}return t.\u0275fac=function(e){return new(e||t)(Kt(vu))},t.\u0275prov=ht({factory:Eu,token:t,providedIn:"platform"}),t})();function xu(){return!!window.history.pushState}function Eu(){return new Cu(Kt(vu))}function Su(t,e){if(0==t.length)return e;if(0==e.length)return t;let n=0;return t.endsWith("/")&&n++,e.startsWith("/")&&n++,2==n?t+e.substring(1):1==n?t+e:t+"/"+e}function Pu(t){const e=t.match(/#|\?|$/),n=e&&e.index||t.length;return t.slice(0,n-("/"===t[n-1]?1:0))+t.slice(n)}function Ou(t){return t&&"?"!==t[0]?"?"+t:t}let ku=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275prov=ht({factory:Tu,token:t,providedIn:"root"}),t})();function Tu(t){const e=Kt(vu).location;return new Au(Kt(bu),e&&e.origin||"")}const Iu=new jt("appBaseHref");let Au=(()=>{class t extends ku{constructor(t,e){if(super(),this._platformLocation=t,null==e&&(e=this._platformLocation.getBaseHrefFromDOM()),null==e)throw new Error("No base href set. Please provide a value for the APP_BASE_HREF token or add a base element to the document.");this._baseHref=e}onPopState(t){this._platformLocation.onPopState(t),this._platformLocation.onHashChange(t)}getBaseHref(){return this._baseHref}prepareExternalUrl(t){return Su(this._baseHref,t)}path(t=!1){const e=this._platformLocation.pathname+Ou(this._platformLocation.search),n=this._platformLocation.hash;return n&&t?`${e}${n}`:e}pushState(t,e,n,i){const r=this.prepareExternalUrl(n+Ou(i));this._platformLocation.pushState(t,e,r)}replaceState(t,e,n,i){const r=this.prepareExternalUrl(n+Ou(i));this._platformLocation.replaceState(t,e,r)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}}return t.\u0275fac=function(e){return new(e||t)(Kt(bu),Kt(Iu,8))},t.\u0275prov=ht({token:t,factory:t.\u0275fac}),t})(),Mu=(()=>{class t{constructor(t,e){this._subject=new Yl,this._urlChangeListeners=[],this._platformStrategy=t;const n=this._platformStrategy.getBaseHref();this._platformLocation=e,this._baseHref=Pu(Ru(n)),this._platformStrategy.onPopState(t=>{this._subject.emit({url:this.path(!0),pop:!0,state:t.state,type:t.type})})}path(t=!1){return this.normalize(this._platformStrategy.path(t))}getState(){return this._platformLocation.getState()}isCurrentPathEqualTo(t,e=""){return this.path()==this.normalize(t+Ou(e))}normalize(e){return t.stripTrailingSlash(function(t,e){return t&&e.startsWith(t)?e.substring(t.length):e}(this._baseHref,Ru(e)))}prepareExternalUrl(t){return t&&"/"!==t[0]&&(t="/"+t),this._platformStrategy.prepareExternalUrl(t)}go(t,e="",n=null){this._platformStrategy.pushState(n,"",t,e),this._notifyUrlChangeListeners(this.prepareExternalUrl(t+Ou(e)),n)}replaceState(t,e="",n=null){this._platformStrategy.replaceState(n,"",t,e),this._notifyUrlChangeListeners(this.prepareExternalUrl(t+Ou(e)),n)}forward(){this._platformStrategy.forward()}back(){this._platformStrategy.back()}onUrlChange(t){this._urlChangeListeners.push(t),this.subscribe(t=>{this._notifyUrlChangeListeners(t.url,t.state)})}_notifyUrlChangeListeners(t="",e){this._urlChangeListeners.forEach(n=>n(t,e))}subscribe(t,e,n){return this._subject.subscribe({next:t,error:e,complete:n})}}return t.\u0275fac=function(e){return new(e||t)(Kt(ku),Kt(bu))},t.normalizeQueryParams=Ou,t.joinWithSlash=Su,t.stripTrailingSlash=Pu,t.\u0275prov=ht({factory:Du,token:t,providedIn:"root"}),t})();function Du(){return new Mu(Kt(ku),Kt(bu))}function Ru(t){return t.replace(/\/index.html$/,"")}const Fu={ADP:[void 0,void 0,0],AFN:[void 0,void 0,0],ALL:[void 0,void 0,0],AMD:[void 0,void 0,2],AOA:[void 0,"Kz"],ARS:[void 0,"$"],AUD:["A$","$"],BAM:[void 0,"KM"],BBD:[void 0,"$"],BDT:[void 0,"\u09f3"],BHD:[void 0,void 0,3],BIF:[void 0,void 0,0],BMD:[void 0,"$"],BND:[void 0,"$"],BOB:[void 0,"Bs"],BRL:["R$"],BSD:[void 0,"$"],BWP:[void 0,"P"],BYN:[void 0,"\u0440.",2],BYR:[void 0,void 0,0],BZD:[void 0,"$"],CAD:["CA$","$",2],CHF:[void 0,void 0,2],CLF:[void 0,void 0,4],CLP:[void 0,"$",0],CNY:["CN\xa5","\xa5"],COP:[void 0,"$",2],CRC:[void 0,"\u20a1",2],CUC:[void 0,"$"],CUP:[void 0,"$"],CZK:[void 0,"K\u010d",2],DJF:[void 0,void 0,0],DKK:[void 0,"kr",2],DOP:[void 0,"$"],EGP:[void 0,"E\xa3"],ESP:[void 0,"\u20a7",0],EUR:["\u20ac"],FJD:[void 0,"$"],FKP:[void 0,"\xa3"],GBP:["\xa3"],GEL:[void 0,"\u20be"],GIP:[void 0,"\xa3"],GNF:[void 0,"FG",0],GTQ:[void 0,"Q"],GYD:[void 0,"$",2],HKD:["HK$","$"],HNL:[void 0,"L"],HRK:[void 0,"kn"],HUF:[void 0,"Ft",2],IDR:[void 0,"Rp",2],ILS:["\u20aa"],INR:["\u20b9"],IQD:[void 0,void 0,0],IRR:[void 0,void 0,0],ISK:[void 0,"kr",0],ITL:[void 0,void 0,0],JMD:[void 0,"$"],JOD:[void 0,void 0,3],JPY:["\xa5",void 0,0],KHR:[void 0,"\u17db"],KMF:[void 0,"CF",0],KPW:[void 0,"\u20a9",0],KRW:["\u20a9",void 0,0],KWD:[void 0,void 0,3],KYD:[void 0,"$"],KZT:[void 0,"\u20b8"],LAK:[void 0,"\u20ad",0],LBP:[void 0,"L\xa3",0],LKR:[void 0,"Rs"],LRD:[void 0,"$"],LTL:[void 0,"Lt"],LUF:[void 0,void 0,0],LVL:[void 0,"Ls"],LYD:[void 0,void 0,3],MGA:[void 0,"Ar",0],MGF:[void 0,void 0,0],MMK:[void 0,"K",0],MNT:[void 0,"\u20ae",2],MRO:[void 0,void 0,0],MUR:[void 0,"Rs",2],MXN:["MX$","$"],MYR:[void 0,"RM"],NAD:[void 0,"$"],NGN:[void 0,"\u20a6"],NIO:[void 0,"C$"],NOK:[void 0,"kr",2],NPR:[void 0,"Rs"],NZD:["NZ$","$"],OMR:[void 0,void 0,3],PHP:[void 0,"\u20b1"],PKR:[void 0,"Rs",2],PLN:[void 0,"z\u0142"],PYG:[void 0,"\u20b2",0],RON:[void 0,"lei"],RSD:[void 0,void 0,0],RUB:[void 0,"\u20bd"],RUR:[void 0,"\u0440."],RWF:[void 0,"RF",0],SBD:[void 0,"$"],SEK:[void 0,"kr",2],SGD:[void 0,"$"],SHP:[void 0,"\xa3"],SLL:[void 0,void 0,0],SOS:[void 0,void 0,0],SRD:[void 0,"$"],SSP:[void 0,"\xa3"],STD:[void 0,void 0,0],STN:[void 0,"Db"],SYP:[void 0,"\xa3",0],THB:[void 0,"\u0e3f"],TMM:[void 0,void 0,0],TND:[void 0,void 0,3],TOP:[void 0,"T$"],TRL:[void 0,void 0,0],TRY:[void 0,"\u20ba"],TTD:[void 0,"$"],TWD:["NT$","$",2],TZS:[void 0,void 0,2],UAH:[void 0,"\u20b4"],UGX:[void 0,void 0,0],USD:["$"],UYI:[void 0,void 0,0],UYU:[void 0,"$"],UYW:[void 0,void 0,4],UZS:[void 0,void 0,2],VEF:[void 0,"Bs",2],VND:["\u20ab",void 0,0],VUV:[void 0,void 0,0],XAF:["FCFA",void 0,0],XCD:["EC$","$"],XOF:["CFA",void 0,0],XPF:["CFPF",void 0,0],XXX:["\xa4"],YER:[void 0,void 0,0],ZAR:[void 0,"R"],ZMK:[void 0,void 0,0],ZMW:[void 0,"ZK"],ZWD:[void 0,void 0,0]},Lu=function(){var t={Decimal:0,Percent:1,Currency:2,Scientific:3};return t[t.Decimal]="Decimal",t[t.Percent]="Percent",t[t.Currency]="Currency",t[t.Scientific]="Scientific",t}(),Bu=function(){var t={Zero:0,One:1,Two:2,Few:3,Many:4,Other:5};return t[t.Zero]="Zero",t[t.One]="One",t[t.Two]="Two",t[t.Few]="Few",t[t.Many]="Many",t[t.Other]="Other",t}(),Nu=function(){var t={Format:0,Standalone:1};return t[t.Format]="Format",t[t.Standalone]="Standalone",t}(),ju=function(){var t={Narrow:0,Abbreviated:1,Wide:2,Short:3};return t[t.Narrow]="Narrow",t[t.Abbreviated]="Abbreviated",t[t.Wide]="Wide",t[t.Short]="Short",t}(),zu=function(){var t={Short:0,Medium:1,Long:2,Full:3};return t[t.Short]="Short",t[t.Medium]="Medium",t[t.Long]="Long",t[t.Full]="Full",t}(),Hu=function(){var t={Decimal:0,Group:1,List:2,PercentSign:3,PlusSign:4,MinusSign:5,Exponential:6,SuperscriptingExponent:7,PerMille:8,Infinity:9,NaN:10,TimeSeparator:11,CurrencyDecimal:12,CurrencyGroup:13};return t[t.Decimal]="Decimal",t[t.Group]="Group",t[t.List]="List",t[t.PercentSign]="PercentSign",t[t.PlusSign]="PlusSign",t[t.MinusSign]="MinusSign",t[t.Exponential]="Exponential",t[t.SuperscriptingExponent]="SuperscriptingExponent",t[t.PerMille]="PerMille",t[t.Infinity]="Infinity",t[t.NaN]="NaN",t[t.TimeSeparator]="TimeSeparator",t[t.CurrencyDecimal]="CurrencyDecimal",t[t.CurrencyGroup]="CurrencyGroup",t}();function Vu(t,e){return Xu(Dl(t)[Fl.DateFormat],e)}function Uu(t,e){return Xu(Dl(t)[Fl.TimeFormat],e)}function Wu(t,e){return Xu(Dl(t)[Fl.DateTimeFormat],e)}function $u(t,e){const n=Dl(t),i=n[Fl.NumberSymbols][e];if(void 0===i){if(e===Hu.CurrencyDecimal)return n[Fl.NumberSymbols][Hu.Decimal];if(e===Hu.CurrencyGroup)return n[Fl.NumberSymbols][Hu.Group]}return i}function Gu(t,e){return Dl(t)[Fl.NumberFormats][e]}function qu(t){if(!t[Fl.ExtraData])throw new Error(`Missing extra locale data for the locale "${t[Fl.LocaleId]}". Use "registerLocaleData" to load new data. See the "I18n guide" on angular.io to know more.`)}function Xu(t,e){for(let n=e;n>-1;n--)if(void 0!==t[n])return t[n];throw new Error("Locale data API: locale data undefined")}function Ku(t){const[e,n]=t.split(":");return{hours:+e,minutes:+n}}const Yu=/^(\d{4})-?(\d\d)-?(\d\d)(?:T(\d\d)(?::?(\d\d)(?::?(\d\d)(?:\.(\d+))?)?)?(Z|([+-])(\d\d):?(\d\d))?)?$/,Qu={},Zu=/((?:[^GyMLwWdEabBhHmsSzZO']+)|(?:'(?:[^']|'')*')|(?:G{1,5}|y{1,4}|M{1,5}|L{1,5}|w{1,2}|W{1}|d{1,2}|E{1,6}|a{1,5}|b{1,5}|B{1,5}|h{1,2}|H{1,2}|m{1,2}|s{1,2}|S{1,3}|z{1,4}|Z{1,5}|O{1,4}))([\s\S]*)/,Ju=function(){var t={Short:0,ShortGMT:1,Long:2,Extended:3};return t[t.Short]="Short",t[t.ShortGMT]="ShortGMT",t[t.Long]="Long",t[t.Extended]="Extended",t}(),th=function(){var t={FullYear:0,Month:1,Date:2,Hours:3,Minutes:4,Seconds:5,FractionalSeconds:6,Day:7};return t[t.FullYear]="FullYear",t[t.Month]="Month",t[t.Date]="Date",t[t.Hours]="Hours",t[t.Minutes]="Minutes",t[t.Seconds]="Seconds",t[t.FractionalSeconds]="FractionalSeconds",t[t.Day]="Day",t}(),eh=function(){var t={DayPeriods:0,Days:1,Months:2,Eras:3};return t[t.DayPeriods]="DayPeriods",t[t.Days]="Days",t[t.Months]="Months",t[t.Eras]="Eras",t}();function nh(t,e){return e&&(t=t.replace(/\{([^}]+)}/g,(function(t,n){return null!=e&&n in e?e[n]:t}))),t}function ih(t,e,n="-",i,r){let o="";(t<0||r&&t<=0)&&(r?t=1-t:(t=-t,o=n));let s=String(t);for(;s.length<e;)s="0"+s;return i&&(s=s.substr(s.length-e)),o+s}function rh(t,e,n=0,i=!1,r=!1){return function(o,s){let a=function(t,e){switch(t){case th.FullYear:return e.getFullYear();case th.Month:return e.getMonth();case th.Date:return e.getDate();case th.Hours:return e.getHours();case th.Minutes:return e.getMinutes();case th.Seconds:return e.getSeconds();case th.FractionalSeconds:return e.getMilliseconds();case th.Day:return e.getDay();default:throw new Error(`Unknown DateType value "${t}".`)}}(t,o);if((n>0||a>-n)&&(a+=n),t===th.Hours)0===a&&-12===n&&(a=12);else if(t===th.FractionalSeconds)return l=e,ih(a,3).substr(0,l);var l;const c=$u(s,Hu.MinusSign);return ih(a,e,c,i,r)}}function oh(t,e,n=Nu.Format,i=!1){return function(r,o){return function(t,e,n,i,r,o){switch(n){case eh.Months:return function(t,e,n){const i=Dl(t),r=Xu([i[Fl.MonthsFormat],i[Fl.MonthsStandalone]],e);return Xu(r,n)}(e,r,i)[t.getMonth()];case eh.Days:return function(t,e,n){const i=Dl(t),r=Xu([i[Fl.DaysFormat],i[Fl.DaysStandalone]],e);return Xu(r,n)}(e,r,i)[t.getDay()];case eh.DayPeriods:const s=t.getHours(),a=t.getMinutes();if(o){const t=function(t){const e=Dl(t);return qu(e),(e[Fl.ExtraData][2]||[]).map(t=>"string"==typeof t?Ku(t):[Ku(t[0]),Ku(t[1])])}(e),n=function(t,e,n){const i=Dl(t);qu(i);const r=Xu([i[Fl.ExtraData][0],i[Fl.ExtraData][1]],e)||[];return Xu(r,n)||[]}(e,r,i);let o;if(t.forEach((t,e)=>{if(Array.isArray(t)){const{hours:i,minutes:r}=t[0],{hours:l,minutes:c}=t[1];s>=i&&a>=r&&(s<l||s===l&&a<c)&&(o=n[e])}else{const{hours:i,minutes:r}=t;i===s&&r===a&&(o=n[e])}}),o)return o}return function(t,e,n){const i=Dl(t),r=Xu([i[Fl.DayPeriodsFormat],i[Fl.DayPeriodsStandalone]],e);return Xu(r,n)}(e,r,i)[s<12?0:1];case eh.Eras:return function(t,e){return Xu(Dl(t)[Fl.Eras],e)}(e,i)[t.getFullYear()<=0?0:1];default:throw new Error(`unexpected translation type ${n}`)}}(r,o,t,e,n,i)}}function sh(t){return function(e,n,i){const r=-1*i,o=$u(n,Hu.MinusSign),s=r>0?Math.floor(r/60):Math.ceil(r/60);switch(t){case Ju.Short:return(r>=0?"+":"")+ih(s,2,o)+ih(Math.abs(r%60),2,o);case Ju.ShortGMT:return"GMT"+(r>=0?"+":"")+ih(s,1,o);case Ju.Long:return"GMT"+(r>=0?"+":"")+ih(s,2,o)+":"+ih(Math.abs(r%60),2,o);case Ju.Extended:return 0===i?"Z":(r>=0?"+":"")+ih(s,2,o)+":"+ih(Math.abs(r%60),2,o);default:throw new Error(`Unknown zone width "${t}"`)}}}function ah(t,e=!1){return function(n,i){let r;if(e){const t=new Date(n.getFullYear(),n.getMonth(),1).getDay()-1,e=n.getDate();r=1+Math.floor((e+t)/7)}else{const t=function(t){const e=new Date(t,0,1).getDay();return new Date(t,0,1+(e<=4?4:11)-e)}(n.getFullYear()),e=(o=n,new Date(o.getFullYear(),o.getMonth(),o.getDate()+(4-o.getDay()))).getTime()-t.getTime();r=1+Math.round(e/6048e5)}var o;return ih(r,t,$u(i,Hu.MinusSign))}}const lh={};function ch(t,e){t=t.replace(/:/g,"");const n=Date.parse("Jan 01, 1970 00:00:00 "+t)/6e4;return isNaN(n)?e:n}function uh(t){return t instanceof Date&&!isNaN(t.valueOf())}const hh=/^(\d+)?\.((\d+)(-(\d+))?)?$/;function dh(t,e,n,i,r,o,s=!1){let a="",l=!1;if(isFinite(t)){let c=function(t){let e,n,i,r,o,s=Math.abs(t)+"",a=0;for((n=s.indexOf("."))>-1&&(s=s.replace(".","")),(i=s.search(/e/i))>0?(n<0&&(n=i),n+=+s.slice(i+1),s=s.substring(0,i)):n<0&&(n=s.length),i=0;"0"===s.charAt(i);i++);if(i===(o=s.length))e=[0],n=1;else{for(o--;"0"===s.charAt(o);)o--;for(n-=i,e=[],r=0;i<=o;i++,r++)e[r]=Number(s.charAt(i))}return n>22&&(e=e.splice(0,21),a=n-1,n=1),{digits:e,exponent:a,integerLen:n}}(t);s&&(c=function(t){if(0===t.digits[0])return t;const e=t.digits.length-t.integerLen;return t.exponent?t.exponent+=2:(0===e?t.digits.push(0,0):1===e&&t.digits.push(0),t.integerLen+=2),t}(c));let u=e.minInt,h=e.minFrac,d=e.maxFrac;if(o){const t=o.match(hh);if(null===t)throw new Error(`${o} is not a valid digit info`);const e=t[1],n=t[3],i=t[5];null!=e&&(u=fh(e)),null!=n&&(h=fh(n)),null!=i?d=fh(i):null!=n&&h>d&&(d=h)}!function(t,e,n){if(e>n)throw new Error(`The minimum number of digits after fraction (${e}) is higher than the maximum (${n}).`);let i=t.digits,r=i.length-t.integerLen;const o=Math.min(Math.max(e,r),n);let s=o+t.integerLen,a=i[s];if(s>0){i.splice(Math.max(t.integerLen,s));for(let t=s;t<i.length;t++)i[t]=0}else{r=Math.max(0,r),t.integerLen=1,i.length=Math.max(1,s=o+1),i[0]=0;for(let t=1;t<s;t++)i[t]=0}if(a>=5)if(s-1<0){for(let e=0;e>s;e--)i.unshift(0),t.integerLen++;i.unshift(1),t.integerLen++}else i[s-1]++;for(;r<Math.max(0,o);r++)i.push(0);let l=0!==o;const c=e+t.integerLen,u=i.reduceRight((function(t,e,n,i){return i[n]=(e+=t)<10?e:e-10,l&&(0===i[n]&&n>=c?i.pop():l=!1),e>=10?1:0}),0);u&&(i.unshift(u),t.integerLen++)}(c,h,d);let p=c.digits,f=c.integerLen;const m=c.exponent;let g=[];for(l=p.every(t=>!t);f<u;f++)p.unshift(0);for(;f<0;f++)p.unshift(0);f>0?g=p.splice(f,p.length):(g=p,p=[0]);const y=[];for(p.length>=e.lgSize&&y.unshift(p.splice(-e.lgSize,p.length).join(""));p.length>e.gSize;)y.unshift(p.splice(-e.gSize,p.length).join(""));p.length&&y.unshift(p.join("")),a=y.join($u(n,i)),g.length&&(a+=$u(n,r)+g.join("")),m&&(a+=$u(n,Hu.Exponential)+"+"+m)}else a=$u(n,Hu.Infinity);return a=t<0&&!l?e.negPre+a+e.negSuf:e.posPre+a+e.posSuf,a}function ph(t,e="-"){const n={minInt:1,minFrac:0,maxFrac:0,posPre:"",posSuf:"",negPre:"",negSuf:"",gSize:0,lgSize:0},i=t.split(";"),r=i[0],o=i[1],s=-1!==r.indexOf(".")?r.split("."):[r.substring(0,r.lastIndexOf("0")+1),r.substring(r.lastIndexOf("0")+1)],a=s[0],l=s[1]||"";n.posPre=a.substr(0,a.indexOf("#"));for(let u=0;u<l.length;u++){const t=l.charAt(u);"0"===t?n.minFrac=n.maxFrac=u+1:"#"===t?n.maxFrac=u+1:n.posSuf+=t}const c=a.split(",");if(n.gSize=c[1]?c[1].length:0,n.lgSize=c[2]||c[1]?(c[2]||c[1]).length:0,o){const t=r.length-n.posPre.length-n.posSuf.length,e=o.indexOf("#");n.negPre=o.substr(0,e).replace(/'/g,""),n.negSuf=o.substr(e+t).replace(/'/g,"")}else n.negPre=e+n.posPre,n.negSuf=n.posSuf;return n}function fh(t){const e=parseInt(t);if(isNaN(e))throw new Error("Invalid integer literal when parsing "+t);return e}class mh{}function gh(t,e,n,i){let r=`=${t}`;if(e.indexOf(r)>-1)return r;if(r=n.getPluralCategory(t,i),e.indexOf(r)>-1)return r;if(e.indexOf("other")>-1)return"other";throw new Error(`No plural message found for value "${t}"`)}let yh=(()=>{class t extends mh{constructor(t){super(),this.locale=t}getPluralCategory(t,e){switch(function(t){return Dl(t)[Fl.PluralCase]}(e||this.locale)(t)){case Bu.Zero:return"zero";case Bu.One:return"one";case Bu.Two:return"two";case Bu.Few:return"few";case Bu.Many:return"many";default:return"other"}}}return t.\u0275fac=function(e){return new(e||t)(Kt(Mc))},t.\u0275prov=ht({token:t,factory:t.\u0275fac}),t})();function _h(t,e){e=encodeURIComponent(e);for(const n of t.split(";")){const t=n.indexOf("="),[i,r]=-1==t?[n,""]:[n.slice(0,t),n.slice(t+1)];if(i.trim()===e)return decodeURIComponent(r)}return null}let vh=(()=>{class t{constructor(t,e,n,i){this._iterableDiffers=t,this._keyValueDiffers=e,this._ngEl=n,this._renderer=i,this._iterableDiffer=null,this._keyValueDiffer=null,this._initialClasses=[],this._rawClass=null}set klass(t){this._removeClasses(this._initialClasses),this._initialClasses="string"==typeof t?t.split(/\s+/):[],this._applyClasses(this._initialClasses),this._applyClasses(this._rawClass)}set ngClass(t){this._removeClasses(this._rawClass),this._applyClasses(this._initialClasses),this._iterableDiffer=null,this._keyValueDiffer=null,this._rawClass="string"==typeof t?t.split(/\s+/):t,this._rawClass&&(Cs(this._rawClass)?this._iterableDiffer=this._iterableDiffers.find(this._rawClass).create():this._keyValueDiffer=this._keyValueDiffers.find(this._rawClass).create())}ngDoCheck(){if(this._iterableDiffer){const t=this._iterableDiffer.diff(this._rawClass);t&&this._applyIterableChanges(t)}else if(this._keyValueDiffer){const t=this._keyValueDiffer.diff(this._rawClass);t&&this._applyKeyValueChanges(t)}}_applyKeyValueChanges(t){t.forEachAddedItem(t=>this._toggleClass(t.key,t.currentValue)),t.forEachChangedItem(t=>this._toggleClass(t.key,t.currentValue)),t.forEachRemovedItem(t=>{t.previousValue&&this._toggleClass(t.key,!1)})}_applyIterableChanges(t){t.forEachAddedItem(t=>{if("string"!=typeof t.item)throw new Error(`NgClass can only toggle CSS classes expressed as strings, got ${wt(t.item)}`);this._toggleClass(t.item,!0)}),t.forEachRemovedItem(t=>this._toggleClass(t.item,!1))}_applyClasses(t){t&&(Array.isArray(t)||t instanceof Set?t.forEach(t=>this._toggleClass(t,!0)):Object.keys(t).forEach(e=>this._toggleClass(e,!!t[e])))}_removeClasses(t){t&&(Array.isArray(t)||t instanceof Set?t.forEach(t=>this._toggleClass(t,!1)):Object.keys(t).forEach(t=>this._toggleClass(t,!1)))}_toggleClass(t,e){(t=t.trim())&&t.split(/\s+/g).forEach(t=>{e?this._renderer.addClass(this._ngEl.nativeElement,t):this._renderer.removeClass(this._ngEl.nativeElement,t)})}}return t.\u0275fac=function(e){return new(e||t)(Ms(ml),Ms(gl),Ms(Ya),Ms(tl))},t.\u0275dir=be({type:t,selectors:[["","ngClass",""]],inputs:{klass:["class","klass"],ngClass:"ngClass"}}),t})(),bh=(()=>{class t{constructor(t){this._viewContainerRef=t,this._componentRef=null,this._moduleRef=null}ngOnChanges(t){if(this._viewContainerRef.clear(),this._componentRef=null,this.ngComponentOutlet){const e=this.ngComponentOutletInjector||this._viewContainerRef.parentInjector;if(t.ngComponentOutletNgModuleFactory)if(this._moduleRef&&this._moduleRef.destroy(),this.ngComponentOutletNgModuleFactory){const t=e.get(te);this._moduleRef=this.ngComponentOutletNgModuleFactory.create(t.injector)}else this._moduleRef=null;const n=(this._moduleRef?this._moduleRef.componentFactoryResolver:e.get(Ka)).resolveComponentFactory(this.ngComponentOutlet);this._componentRef=this._viewContainerRef.createComponent(n,this._viewContainerRef.length,e,this.ngComponentOutletContent)}}ngOnDestroy(){this._moduleRef&&this._moduleRef.destroy()}}return t.\u0275fac=function(e){return new(e||t)(Ms(Cl))},t.\u0275dir=be({type:t,selectors:[["","ngComponentOutlet",""]],inputs:{ngComponentOutlet:"ngComponentOutlet",ngComponentOutletInjector:"ngComponentOutletInjector",ngComponentOutletContent:"ngComponentOutletContent",ngComponentOutletNgModuleFactory:"ngComponentOutletNgModuleFactory"},features:[La]}),t})();class wh{constructor(t,e,n,i){this.$implicit=t,this.ngForOf=e,this.index=n,this.count=i}get first(){return 0===this.index}get last(){return this.index===this.count-1}get even(){return this.index%2==0}get odd(){return!this.even}}let Ch=(()=>{class t{constructor(t,e,n){this._viewContainer=t,this._template=e,this._differs=n,this._ngForOf=null,this._ngForOfDirty=!0,this._differ=null}set ngForOf(t){this._ngForOf=t,this._ngForOfDirty=!0}set ngForTrackBy(t){Pi()&&null!=t&&"function"!=typeof t&&console&&console.warn&&console.warn(`trackBy must be a function, but received ${JSON.stringify(t)}. `+"See https://angular.io/api/common/NgForOf#change-propagation for more information."),this._trackByFn=t}get ngForTrackBy(){return this._trackByFn}set ngForTemplate(t){t&&(this._template=t)}ngDoCheck(){if(this._ngForOfDirty){this._ngForOfDirty=!1;const n=this._ngForOf;if(!this._differ&&n)try{this._differ=this._differs.find(n).create(this.ngForTrackBy)}catch(e){throw new Error(`Cannot find a differ supporting object '${n}' of type '${t=n,t.name||typeof t}'. NgFor only supports binding to Iterables such as Arrays.`)}}var t;if(this._differ){const t=this._differ.diff(this._ngForOf);t&&this._applyChanges(t)}}_applyChanges(t){const e=[];t.forEachOperation((t,n,i)=>{if(null==t.previousIndex){const n=this._viewContainer.createEmbeddedView(this._template,new wh(null,this._ngForOf,-1,-1),null===i?void 0:i),r=new xh(t,n);e.push(r)}else if(null==i)this._viewContainer.remove(null===n?void 0:n);else if(null!==n){const r=this._viewContainer.get(n);this._viewContainer.move(r,i);const o=new xh(t,r);e.push(o)}});for(let n=0;n<e.length;n++)this._perViewChange(e[n].view,e[n].record);for(let n=0,i=this._viewContainer.length;n<i;n++){const t=this._viewContainer.get(n);t.context.index=n,t.context.count=i,t.context.ngForOf=this._ngForOf}t.forEachIdentityChange(t=>{this._viewContainer.get(t.currentIndex).context.$implicit=t.item})}_perViewChange(t,e){t.context.$implicit=e.item}static ngTemplateContextGuard(t,e){return!0}}return t.\u0275fac=function(e){return new(e||t)(Ms(Cl),Ms(bl),Ms(ml))},t.\u0275dir=be({type:t,selectors:[["","ngFor","","ngForOf",""]],inputs:{ngForOf:"ngForOf",ngForTrackBy:"ngForTrackBy",ngForTemplate:"ngForTemplate"}}),t})();class xh{constructor(t,e){this.record=t,this.view=e}}let Eh=(()=>{class t{constructor(t,e){this._viewContainer=t,this._context=new Sh,this._thenTemplateRef=null,this._elseTemplateRef=null,this._thenViewRef=null,this._elseViewRef=null,this._thenTemplateRef=e}set ngIf(t){this._context.$implicit=this._context.ngIf=t,this._updateView()}set ngIfThen(t){Ph("ngIfThen",t),this._thenTemplateRef=t,this._thenViewRef=null,this._updateView()}set ngIfElse(t){Ph("ngIfElse",t),this._elseTemplateRef=t,this._elseViewRef=null,this._updateView()}_updateView(){this._context.$implicit?this._thenViewRef||(this._viewContainer.clear(),this._elseViewRef=null,this._thenTemplateRef&&(this._thenViewRef=this._viewContainer.createEmbeddedView(this._thenTemplateRef,this._context))):this._elseViewRef||(this._viewContainer.clear(),this._thenViewRef=null,this._elseTemplateRef&&(this._elseViewRef=this._viewContainer.createEmbeddedView(this._elseTemplateRef,this._context)))}static ngTemplateContextGuard(t,e){return!0}}return t.\u0275fac=function(e){return new(e||t)(Ms(Cl),Ms(bl))},t.\u0275dir=be({type:t,selectors:[["","ngIf",""]],inputs:{ngIf:"ngIf",ngIfThen:"ngIfThen",ngIfElse:"ngIfElse"}}),t})();class Sh{constructor(){this.$implicit=null,this.ngIf=null}}function Ph(t,e){if(e&&!e.createEmbeddedView)throw new Error(`${t} must be a TemplateRef, but received '${wt(e)}'.`)}class Oh{constructor(t,e){this._viewContainerRef=t,this._templateRef=e,this._created=!1}create(){this._created=!0,this._viewContainerRef.createEmbeddedView(this._templateRef)}destroy(){this._created=!1,this._viewContainerRef.clear()}enforceState(t){t&&!this._created?this.create():!t&&this._created&&this.destroy()}}let kh=(()=>{class t{constructor(){this._defaultUsed=!1,this._caseCount=0,this._lastCaseCheckIndex=0,this._lastCasesMatched=!1}set ngSwitch(t){this._ngSwitch=t,0===this._caseCount&&this._updateDefaultCases(!0)}_addCase(){return this._caseCount++}_addDefault(t){this._defaultViews||(this._defaultViews=[]),this._defaultViews.push(t)}_matchCase(t){const e=t==this._ngSwitch;return this._lastCasesMatched=this._lastCasesMatched||e,this._lastCaseCheckIndex++,this._lastCaseCheckIndex===this._caseCount&&(this._updateDefaultCases(!this._lastCasesMatched),this._lastCaseCheckIndex=0,this._lastCasesMatched=!1),e}_updateDefaultCases(t){if(this._defaultViews&&t!==this._defaultUsed){this._defaultUsed=t;for(let e=0;e<this._defaultViews.length;e++)this._defaultViews[e].enforceState(t)}}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275dir=be({type:t,selectors:[["","ngSwitch",""]],inputs:{ngSwitch:"ngSwitch"}}),t})(),Th=(()=>{class t{constructor(t,e,n){this.ngSwitch=n,n._addCase(),this._view=new Oh(t,e)}ngDoCheck(){this._view.enforceState(this.ngSwitch._matchCase(this.ngSwitchCase))}}return t.\u0275fac=function(e){return new(e||t)(Ms(Cl),Ms(bl),Ms(kh,1))},t.\u0275dir=be({type:t,selectors:[["","ngSwitchCase",""]],inputs:{ngSwitchCase:"ngSwitchCase"}}),t})(),Ih=(()=>{class t{constructor(t,e,n){n._addDefault(new Oh(t,e))}}return t.\u0275fac=function(e){return new(e||t)(Ms(Cl),Ms(bl),Ms(kh,1))},t.\u0275dir=be({type:t,selectors:[["","ngSwitchDefault",""]]}),t})(),Ah=(()=>{class t{constructor(t){this._localization=t,this._caseViews={}}set ngPlural(t){this._switchValue=t,this._updateView()}addCase(t,e){this._caseViews[t]=e}_updateView(){this._clearViews();const t=Object.keys(this._caseViews),e=gh(this._switchValue,t,this._localization);this._activateView(this._caseViews[e])}_clearViews(){this._activeView&&this._activeView.destroy()}_activateView(t){t&&(this._activeView=t,this._activeView.create())}}return t.\u0275fac=function(e){return new(e||t)(Ms(mh))},t.\u0275dir=be({type:t,selectors:[["","ngPlural",""]],inputs:{ngPlural:"ngPlural"}}),t})(),Mh=(()=>{class t{constructor(t,e,n,i){this.value=t;const r=!isNaN(Number(t));i.addCase(r?`=${t}`:t,new Oh(n,e))}}return t.\u0275fac=function(e){return new(e||t)(Ds("ngPluralCase"),Ms(bl),Ms(Cl),Ms(Ah,1))},t.\u0275dir=be({type:t,selectors:[["","ngPluralCase",""]]}),t})(),Dh=(()=>{class t{constructor(t,e,n){this._ngEl=t,this._differs=e,this._renderer=n,this._ngStyle=null,this._differ=null}set ngStyle(t){this._ngStyle=t,!this._differ&&t&&(this._differ=this._differs.find(t).create())}ngDoCheck(){if(this._differ){const t=this._differ.diff(this._ngStyle);t&&this._applyChanges(t)}}_setStyle(t,e){const[n,i]=t.split(".");null!=(e=null!=e&&i?`${e}${i}`:e)?this._renderer.setStyle(this._ngEl.nativeElement,n,e):this._renderer.removeStyle(this._ngEl.nativeElement,n)}_applyChanges(t){t.forEachRemovedItem(t=>this._setStyle(t.key,null)),t.forEachAddedItem(t=>this._setStyle(t.key,t.currentValue)),t.forEachChangedItem(t=>this._setStyle(t.key,t.currentValue))}}return t.\u0275fac=function(e){return new(e||t)(Ms(Ya),Ms(gl),Ms(tl))},t.\u0275dir=be({type:t,selectors:[["","ngStyle",""]],inputs:{ngStyle:"ngStyle"}}),t})(),Rh=(()=>{class t{constructor(t){this._viewContainerRef=t,this._viewRef=null,this.ngTemplateOutletContext=null,this.ngTemplateOutlet=null}ngOnChanges(t){if(this._shouldRecreateView(t)){const t=this._viewContainerRef;this._viewRef&&t.remove(t.indexOf(this._viewRef)),this._viewRef=this.ngTemplateOutlet?t.createEmbeddedView(this.ngTemplateOutlet,this.ngTemplateOutletContext):null}else this._viewRef&&this.ngTemplateOutletContext&&this._updateExistingContext(this.ngTemplateOutletContext)}_shouldRecreateView(t){const e=t.ngTemplateOutletContext;return!!t.ngTemplateOutlet||e&&this._hasContextShapeChanged(e)}_hasContextShapeChanged(t){const e=Object.keys(t.previousValue||{}),n=Object.keys(t.currentValue||{});if(e.length===n.length){for(let t of n)if(-1===e.indexOf(t))return!0;return!1}return!0}_updateExistingContext(t){for(let e of Object.keys(t))this._viewRef.context[e]=this.ngTemplateOutletContext[e]}}return t.\u0275fac=function(e){return new(e||t)(Ms(Cl))},t.\u0275dir=be({type:t,selectors:[["","ngTemplateOutlet",""]],inputs:{ngTemplateOutletContext:"ngTemplateOutletContext",ngTemplateOutlet:"ngTemplateOutlet"},features:[La]}),t})();function Fh(t,e){return Error(`InvalidPipeArgument: '${e}' for pipe '${wt(t)}'`)}class Lh{createSubscription(t,e){return t.subscribe({next:e,error:t=>{throw t}})}dispose(t){t.unsubscribe()}onDestroy(t){t.unsubscribe()}}class Bh{createSubscription(t,e){return t.then(e,t=>{throw t})}dispose(t){}onDestroy(t){}}const Nh=new Bh,jh=new Lh;let zh=(()=>{class t{constructor(t){this._ref=t,this._latestValue=null,this._latestReturnedValue=null,this._subscription=null,this._obj=null,this._strategy=null}ngOnDestroy(){this._subscription&&this._dispose()}transform(t){return this._obj?t!==this._obj?(this._dispose(),this.transform(t)):bs(this._latestValue,this._latestReturnedValue)?this._latestReturnedValue:(this._latestReturnedValue=this._latestValue,ws.wrap(this._latestValue)):(t&&this._subscribe(t),this._latestReturnedValue=this._latestValue,this._latestValue)}_subscribe(t){this._obj=t,this._strategy=this._selectStrategy(t),this._subscription=this._strategy.createSubscription(t,e=>this._updateLatestValue(t,e))}_selectStrategy(e){if(Us(e))return Nh;if(Ws(e))return jh;throw Fh(t,e)}_dispose(){this._strategy.dispose(this._subscription),this._latestValue=null,this._latestReturnedValue=null,this._subscription=null,this._obj=null}_updateLatestValue(t,e){t===this._obj&&(this._latestValue=e,this._ref.markForCheck())}}return t.\u0275fac=function(e){return new(e||t)(vc())},t.\u0275pipe=we({name:"async",type:t,pure:!1}),t})(),Hh=(()=>{class t{transform(e){if(!e)return e;if("string"!=typeof e)throw Fh(t,e);return e.toLowerCase()}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275pipe=we({name:"lowercase",type:t,pure:!0}),t})();const Vh=/(?:[A-Za-z\xAA\xB5\xBA\xC0-\xD6\xD8-\xF6\xF8-\u02C1\u02C6-\u02D1\u02E0-\u02E4\u02EC\u02EE\u0370-\u0374\u0376\u0377\u037A-\u037D\u037F\u0386\u0388-\u038A\u038C\u038E-\u03A1\u03A3-\u03F5\u03F7-\u0481\u048A-\u052F\u0531-\u0556\u0559\u0561-\u0587\u05D0-\u05EA\u05F0-\u05F2\u0620-\u064A\u066E\u066F\u0671-\u06D3\u06D5\u06E5\u06E6\u06EE\u06EF\u06FA-\u06FC\u06FF\u0710\u0712-\u072F\u074D-\u07A5\u07B1\u07CA-\u07EA\u07F4\u07F5\u07FA\u0800-\u0815\u081A\u0824\u0828\u0840-\u0858\u0860-\u086A\u08A0-\u08B4\u08B6-\u08BD\u0904-\u0939\u093D\u0950\u0958-\u0961\u0971-\u0980\u0985-\u098C\u098F\u0990\u0993-\u09A8\u09AA-\u09B0\u09B2\u09B6-\u09B9\u09BD\u09CE\u09DC\u09DD\u09DF-\u09E1\u09F0\u09F1\u09FC\u0A05-\u0A0A\u0A0F\u0A10\u0A13-\u0A28\u0A2A-\u0A30\u0A32\u0A33\u0A35\u0A36\u0A38\u0A39\u0A59-\u0A5C\u0A5E\u0A72-\u0A74\u0A85-\u0A8D\u0A8F-\u0A91\u0A93-\u0AA8\u0AAA-\u0AB0\u0AB2\u0AB3\u0AB5-\u0AB9\u0ABD\u0AD0\u0AE0\u0AE1\u0AF9\u0B05-\u0B0C\u0B0F\u0B10\u0B13-\u0B28\u0B2A-\u0B30\u0B32\u0B33\u0B35-\u0B39\u0B3D\u0B5C\u0B5D\u0B5F-\u0B61\u0B71\u0B83\u0B85-\u0B8A\u0B8E-\u0B90\u0B92-\u0B95\u0B99\u0B9A\u0B9C\u0B9E\u0B9F\u0BA3\u0BA4\u0BA8-\u0BAA\u0BAE-\u0BB9\u0BD0\u0C05-\u0C0C\u0C0E-\u0C10\u0C12-\u0C28\u0C2A-\u0C39\u0C3D\u0C58-\u0C5A\u0C60\u0C61\u0C80\u0C85-\u0C8C\u0C8E-\u0C90\u0C92-\u0CA8\u0CAA-\u0CB3\u0CB5-\u0CB9\u0CBD\u0CDE\u0CE0\u0CE1\u0CF1\u0CF2\u0D05-\u0D0C\u0D0E-\u0D10\u0D12-\u0D3A\u0D3D\u0D4E\u0D54-\u0D56\u0D5F-\u0D61\u0D7A-\u0D7F\u0D85-\u0D96\u0D9A-\u0DB1\u0DB3-\u0DBB\u0DBD\u0DC0-\u0DC6\u0E01-\u0E30\u0E32\u0E33\u0E40-\u0E46\u0E81\u0E82\u0E84\u0E87\u0E88\u0E8A\u0E8D\u0E94-\u0E97\u0E99-\u0E9F\u0EA1-\u0EA3\u0EA5\u0EA7\u0EAA\u0EAB\u0EAD-\u0EB0\u0EB2\u0EB3\u0EBD\u0EC0-\u0EC4\u0EC6\u0EDC-\u0EDF\u0F00\u0F40-\u0F47\u0F49-\u0F6C\u0F88-\u0F8C\u1000-\u102A\u103F\u1050-\u1055\u105A-\u105D\u1061\u1065\u1066\u106E-\u1070\u1075-\u1081\u108E\u10A0-\u10C5\u10C7\u10CD\u10D0-\u10FA\u10FC-\u1248\u124A-\u124D\u1250-\u1256\u1258\u125A-\u125D\u1260-\u1288\u128A-\u128D\u1290-\u12B0\u12B2-\u12B5\u12B8-\u12BE\u12C0\u12C2-\u12C5\u12C8-\u12D6\u12D8-\u1310\u1312-\u1315\u1318-\u135A\u1380-\u138F\u13A0-\u13F5\u13F8-\u13FD\u1401-\u166C\u166F-\u167F\u1681-\u169A\u16A0-\u16EA\u16F1-\u16F8\u1700-\u170C\u170E-\u1711\u1720-\u1731\u1740-\u1751\u1760-\u176C\u176E-\u1770\u1780-\u17B3\u17D7\u17DC\u1820-\u1877\u1880-\u1884\u1887-\u18A8\u18AA\u18B0-\u18F5\u1900-\u191E\u1950-\u196D\u1970-\u1974\u1980-\u19AB\u19B0-\u19C9\u1A00-\u1A16\u1A20-\u1A54\u1AA7\u1B05-\u1B33\u1B45-\u1B4B\u1B83-\u1BA0\u1BAE\u1BAF\u1BBA-\u1BE5\u1C00-\u1C23\u1C4D-\u1C4F\u1C5A-\u1C7D\u1C80-\u1C88\u1CE9-\u1CEC\u1CEE-\u1CF1\u1CF5\u1CF6\u1D00-\u1DBF\u1E00-\u1F15\u1F18-\u1F1D\u1F20-\u1F45\u1F48-\u1F4D\u1F50-\u1F57\u1F59\u1F5B\u1F5D\u1F5F-\u1F7D\u1F80-\u1FB4\u1FB6-\u1FBC\u1FBE\u1FC2-\u1FC4\u1FC6-\u1FCC\u1FD0-\u1FD3\u1FD6-\u1FDB\u1FE0-\u1FEC\u1FF2-\u1FF4\u1FF6-\u1FFC\u2071\u207F\u2090-\u209C\u2102\u2107\u210A-\u2113\u2115\u2119-\u211D\u2124\u2126\u2128\u212A-\u212D\u212F-\u2139\u213C-\u213F\u2145-\u2149\u214E\u2183\u2184\u2C00-\u2C2E\u2C30-\u2C5E\u2C60-\u2CE4\u2CEB-\u2CEE\u2CF2\u2CF3\u2D00-\u2D25\u2D27\u2D2D\u2D30-\u2D67\u2D6F\u2D80-\u2D96\u2DA0-\u2DA6\u2DA8-\u2DAE\u2DB0-\u2DB6\u2DB8-\u2DBE\u2DC0-\u2DC6\u2DC8-\u2DCE\u2DD0-\u2DD6\u2DD8-\u2DDE\u2E2F\u3005\u3006\u3031-\u3035\u303B\u303C\u3041-\u3096\u309D-\u309F\u30A1-\u30FA\u30FC-\u30FF\u3105-\u312E\u3131-\u318E\u31A0-\u31BA\u31F0-\u31FF\u3400-\u4DB5\u4E00-\u9FEA\uA000-\uA48C\uA4D0-\uA4FD\uA500-\uA60C\uA610-\uA61F\uA62A\uA62B\uA640-\uA66E\uA67F-\uA69D\uA6A0-\uA6E5\uA717-\uA71F\uA722-\uA788\uA78B-\uA7AE\uA7B0-\uA7B7\uA7F7-\uA801\uA803-\uA805\uA807-\uA80A\uA80C-\uA822\uA840-\uA873\uA882-\uA8B3\uA8F2-\uA8F7\uA8FB\uA8FD\uA90A-\uA925\uA930-\uA946\uA960-\uA97C\uA984-\uA9B2\uA9CF\uA9E0-\uA9E4\uA9E6-\uA9EF\uA9FA-\uA9FE\uAA00-\uAA28\uAA40-\uAA42\uAA44-\uAA4B\uAA60-\uAA76\uAA7A\uAA7E-\uAAAF\uAAB1\uAAB5\uAAB6\uAAB9-\uAABD\uAAC0\uAAC2\uAADB-\uAADD\uAAE0-\uAAEA\uAAF2-\uAAF4\uAB01-\uAB06\uAB09-\uAB0E\uAB11-\uAB16\uAB20-\uAB26\uAB28-\uAB2E\uAB30-\uAB5A\uAB5C-\uAB65\uAB70-\uABE2\uAC00-\uD7A3\uD7B0-\uD7C6\uD7CB-\uD7FB\uF900-\uFA6D\uFA70-\uFAD9\uFB00-\uFB06\uFB13-\uFB17\uFB1D\uFB1F-\uFB28\uFB2A-\uFB36\uFB38-\uFB3C\uFB3E\uFB40\uFB41\uFB43\uFB44\uFB46-\uFBB1\uFBD3-\uFD3D\uFD50-\uFD8F\uFD92-\uFDC7\uFDF0-\uFDFB\uFE70-\uFE74\uFE76-\uFEFC\uFF21-\uFF3A\uFF41-\uFF5A\uFF66-\uFFBE\uFFC2-\uFFC7\uFFCA-\uFFCF\uFFD2-\uFFD7\uFFDA-\uFFDC]|\uD800[\uDC00-\uDC0B\uDC0D-\uDC26\uDC28-\uDC3A\uDC3C\uDC3D\uDC3F-\uDC4D\uDC50-\uDC5D\uDC80-\uDCFA\uDE80-\uDE9C\uDEA0-\uDED0\uDF00-\uDF1F\uDF2D-\uDF40\uDF42-\uDF49\uDF50-\uDF75\uDF80-\uDF9D\uDFA0-\uDFC3\uDFC8-\uDFCF]|\uD801[\uDC00-\uDC9D\uDCB0-\uDCD3\uDCD8-\uDCFB\uDD00-\uDD27\uDD30-\uDD63\uDE00-\uDF36\uDF40-\uDF55\uDF60-\uDF67]|\uD802[\uDC00-\uDC05\uDC08\uDC0A-\uDC35\uDC37\uDC38\uDC3C\uDC3F-\uDC55\uDC60-\uDC76\uDC80-\uDC9E\uDCE0-\uDCF2\uDCF4\uDCF5\uDD00-\uDD15\uDD20-\uDD39\uDD80-\uDDB7\uDDBE\uDDBF\uDE00\uDE10-\uDE13\uDE15-\uDE17\uDE19-\uDE33\uDE60-\uDE7C\uDE80-\uDE9C\uDEC0-\uDEC7\uDEC9-\uDEE4\uDF00-\uDF35\uDF40-\uDF55\uDF60-\uDF72\uDF80-\uDF91]|\uD803[\uDC00-\uDC48\uDC80-\uDCB2\uDCC0-\uDCF2]|\uD804[\uDC03-\uDC37\uDC83-\uDCAF\uDCD0-\uDCE8\uDD03-\uDD26\uDD50-\uDD72\uDD76\uDD83-\uDDB2\uDDC1-\uDDC4\uDDDA\uDDDC\uDE00-\uDE11\uDE13-\uDE2B\uDE80-\uDE86\uDE88\uDE8A-\uDE8D\uDE8F-\uDE9D\uDE9F-\uDEA8\uDEB0-\uDEDE\uDF05-\uDF0C\uDF0F\uDF10\uDF13-\uDF28\uDF2A-\uDF30\uDF32\uDF33\uDF35-\uDF39\uDF3D\uDF50\uDF5D-\uDF61]|\uD805[\uDC00-\uDC34\uDC47-\uDC4A\uDC80-\uDCAF\uDCC4\uDCC5\uDCC7\uDD80-\uDDAE\uDDD8-\uDDDB\uDE00-\uDE2F\uDE44\uDE80-\uDEAA\uDF00-\uDF19]|\uD806[\uDCA0-\uDCDF\uDCFF\uDE00\uDE0B-\uDE32\uDE3A\uDE50\uDE5C-\uDE83\uDE86-\uDE89\uDEC0-\uDEF8]|\uD807[\uDC00-\uDC08\uDC0A-\uDC2E\uDC40\uDC72-\uDC8F\uDD00-\uDD06\uDD08\uDD09\uDD0B-\uDD30\uDD46]|\uD808[\uDC00-\uDF99]|\uD809[\uDC80-\uDD43]|[\uD80C\uD81C-\uD820\uD840-\uD868\uD86A-\uD86C\uD86F-\uD872\uD874-\uD879][\uDC00-\uDFFF]|\uD80D[\uDC00-\uDC2E]|\uD811[\uDC00-\uDE46]|\uD81A[\uDC00-\uDE38\uDE40-\uDE5E\uDED0-\uDEED\uDF00-\uDF2F\uDF40-\uDF43\uDF63-\uDF77\uDF7D-\uDF8F]|\uD81B[\uDF00-\uDF44\uDF50\uDF93-\uDF9F\uDFE0\uDFE1]|\uD821[\uDC00-\uDFEC]|\uD822[\uDC00-\uDEF2]|\uD82C[\uDC00-\uDD1E\uDD70-\uDEFB]|\uD82F[\uDC00-\uDC6A\uDC70-\uDC7C\uDC80-\uDC88\uDC90-\uDC99]|\uD835[\uDC00-\uDC54\uDC56-\uDC9C\uDC9E\uDC9F\uDCA2\uDCA5\uDCA6\uDCA9-\uDCAC\uDCAE-\uDCB9\uDCBB\uDCBD-\uDCC3\uDCC5-\uDD05\uDD07-\uDD0A\uDD0D-\uDD14\uDD16-\uDD1C\uDD1E-\uDD39\uDD3B-\uDD3E\uDD40-\uDD44\uDD46\uDD4A-\uDD50\uDD52-\uDEA5\uDEA8-\uDEC0\uDEC2-\uDEDA\uDEDC-\uDEFA\uDEFC-\uDF14\uDF16-\uDF34\uDF36-\uDF4E\uDF50-\uDF6E\uDF70-\uDF88\uDF8A-\uDFA8\uDFAA-\uDFC2\uDFC4-\uDFCB]|\uD83A[\uDC00-\uDCC4\uDD00-\uDD43]|\uD83B[\uDE00-\uDE03\uDE05-\uDE1F\uDE21\uDE22\uDE24\uDE27\uDE29-\uDE32\uDE34-\uDE37\uDE39\uDE3B\uDE42\uDE47\uDE49\uDE4B\uDE4D-\uDE4F\uDE51\uDE52\uDE54\uDE57\uDE59\uDE5B\uDE5D\uDE5F\uDE61\uDE62\uDE64\uDE67-\uDE6A\uDE6C-\uDE72\uDE74-\uDE77\uDE79-\uDE7C\uDE7E\uDE80-\uDE89\uDE8B-\uDE9B\uDEA1-\uDEA3\uDEA5-\uDEA9\uDEAB-\uDEBB]|\uD869[\uDC00-\uDED6\uDF00-\uDFFF]|\uD86D[\uDC00-\uDF34\uDF40-\uDFFF]|\uD86E[\uDC00-\uDC1D\uDC20-\uDFFF]|\uD873[\uDC00-\uDEA1\uDEB0-\uDFFF]|\uD87A[\uDC00-\uDFE0]|\uD87E[\uDC00-\uDE1D])\S*/g;let Uh=(()=>{class t{transform(e){if(!e)return e;if("string"!=typeof e)throw Fh(t,e);return e.replace(Vh,t=>t[0].toUpperCase()+t.substr(1).toLowerCase())}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275pipe=we({name:"titlecase",type:t,pure:!0}),t})(),Wh=(()=>{class t{transform(e){if(!e)return e;if("string"!=typeof e)throw Fh(t,e);return e.toUpperCase()}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275pipe=we({name:"uppercase",type:t,pure:!0}),t})(),$h=(()=>{class t{constructor(t){this.locale=t}transform(e,n="mediumDate",i,r){if(null==e||""===e||e!=e)return null;try{return function(t,e,n,i){let r=function(t){if(uh(t))return t;if("number"==typeof t&&!isNaN(t))return new Date(t);if("string"==typeof t){t=t.trim();const e=parseFloat(t);if(!isNaN(t-e))return new Date(e);if(/^(\d{4}-\d{1,2}-\d{1,2})$/.test(t)){const[e,n,i]=t.split("-").map(t=>+t);return new Date(e,n-1,i)}let n;if(n=t.match(Yu))return function(t){const e=new Date(0);let n=0,i=0;const r=t[8]?e.setUTCFullYear:e.setFullYear,o=t[8]?e.setUTCHours:e.setHours;t[9]&&(n=Number(t[9]+t[10]),i=Number(t[9]+t[11])),r.call(e,Number(t[1]),Number(t[2])-1,Number(t[3]));const s=Number(t[4]||0)-n,a=Number(t[5]||0)-i,l=Number(t[6]||0),c=Math.round(1e3*parseFloat("0."+(t[7]||0)));return o.call(e,s,a,l,c),e}(n)}const e=new Date(t);if(!uh(e))throw new Error(`Unable to convert "${t}" into a date`);return e}(t);e=function t(e,n){const i=function(t){return Dl(t)[Fl.LocaleId]}(e);if(Qu[i]=Qu[i]||{},Qu[i][n])return Qu[i][n];let r="";switch(n){case"shortDate":r=Vu(e,zu.Short);break;case"mediumDate":r=Vu(e,zu.Medium);break;case"longDate":r=Vu(e,zu.Long);break;case"fullDate":r=Vu(e,zu.Full);break;case"shortTime":r=Uu(e,zu.Short);break;case"mediumTime":r=Uu(e,zu.Medium);break;case"longTime":r=Uu(e,zu.Long);break;case"fullTime":r=Uu(e,zu.Full);break;case"short":const n=t(e,"shortTime"),i=t(e,"shortDate");r=nh(Wu(e,zu.Short),[n,i]);break;case"medium":const o=t(e,"mediumTime"),s=t(e,"mediumDate");r=nh(Wu(e,zu.Medium),[o,s]);break;case"long":const a=t(e,"longTime"),l=t(e,"longDate");r=nh(Wu(e,zu.Long),[a,l]);break;case"full":const c=t(e,"fullTime"),u=t(e,"fullDate");r=nh(Wu(e,zu.Full),[c,u])}return r&&(Qu[i][n]=r),r}(n,e)||e;let o,s=[];for(;e;){if(o=Zu.exec(e),!o){s.push(e);break}{s=s.concat(o.slice(1));const t=s.pop();if(!t)break;e=t}}let a=r.getTimezoneOffset();i&&(a=ch(i,a),r=function(t,e,n){const i=t.getTimezoneOffset();return function(t,e){return(t=new Date(t.getTime())).setMinutes(t.getMinutes()+e),t}(t,-1*(ch(e,i)-i))}(r,i));let l="";return s.forEach(t=>{const e=function(t){if(lh[t])return lh[t];let e;switch(t){case"G":case"GG":case"GGG":e=oh(eh.Eras,ju.Abbreviated);break;case"GGGG":e=oh(eh.Eras,ju.Wide);break;case"GGGGG":e=oh(eh.Eras,ju.Narrow);break;case"y":e=rh(th.FullYear,1,0,!1,!0);break;case"yy":e=rh(th.FullYear,2,0,!0,!0);break;case"yyy":e=rh(th.FullYear,3,0,!1,!0);break;case"yyyy":e=rh(th.FullYear,4,0,!1,!0);break;case"M":case"L":e=rh(th.Month,1,1);break;case"MM":case"LL":e=rh(th.Month,2,1);break;case"MMM":e=oh(eh.Months,ju.Abbreviated);break;case"MMMM":e=oh(eh.Months,ju.Wide);break;case"MMMMM":e=oh(eh.Months,ju.Narrow);break;case"LLL":e=oh(eh.Months,ju.Abbreviated,Nu.Standalone);break;case"LLLL":e=oh(eh.Months,ju.Wide,Nu.Standalone);break;case"LLLLL":e=oh(eh.Months,ju.Narrow,Nu.Standalone);break;case"w":e=ah(1);break;case"ww":e=ah(2);break;case"W":e=ah(1,!0);break;case"d":e=rh(th.Date,1);break;case"dd":e=rh(th.Date,2);break;case"E":case"EE":case"EEE":e=oh(eh.Days,ju.Abbreviated);break;case"EEEE":e=oh(eh.Days,ju.Wide);break;case"EEEEE":e=oh(eh.Days,ju.Narrow);break;case"EEEEEE":e=oh(eh.Days,ju.Short);break;case"a":case"aa":case"aaa":e=oh(eh.DayPeriods,ju.Abbreviated);break;case"aaaa":e=oh(eh.DayPeriods,ju.Wide);break;case"aaaaa":e=oh(eh.DayPeriods,ju.Narrow);break;case"b":case"bb":case"bbb":e=oh(eh.DayPeriods,ju.Abbreviated,Nu.Standalone,!0);break;case"bbbb":e=oh(eh.DayPeriods,ju.Wide,Nu.Standalone,!0);break;case"bbbbb":e=oh(eh.DayPeriods,ju.Narrow,Nu.Standalone,!0);break;case"B":case"BB":case"BBB":e=oh(eh.DayPeriods,ju.Abbreviated,Nu.Format,!0);break;case"BBBB":e=oh(eh.DayPeriods,ju.Wide,Nu.Format,!0);break;case"BBBBB":e=oh(eh.DayPeriods,ju.Narrow,Nu.Format,!0);break;case"h":e=rh(th.Hours,1,-12);break;case"hh":e=rh(th.Hours,2,-12);break;case"H":e=rh(th.Hours,1);break;case"HH":e=rh(th.Hours,2);break;case"m":e=rh(th.Minutes,1);break;case"mm":e=rh(th.Minutes,2);break;case"s":e=rh(th.Seconds,1);break;case"ss":e=rh(th.Seconds,2);break;case"S":e=rh(th.FractionalSeconds,1);break;case"SS":e=rh(th.FractionalSeconds,2);break;case"SSS":e=rh(th.FractionalSeconds,3);break;case"Z":case"ZZ":case"ZZZ":e=sh(Ju.Short);break;case"ZZZZZ":e=sh(Ju.Extended);break;case"O":case"OO":case"OOO":case"z":case"zz":case"zzz":e=sh(Ju.ShortGMT);break;case"OOOO":case"ZZZZ":case"zzzz":e=sh(Ju.Long);break;default:return null}return lh[t]=e,e}(t);l+=e?e(r,n,a):"''"===t?"'":t.replace(/(^'|'$)/g,"").replace(/''/g,"'")}),l}(e,n,r||this.locale,i)}catch(o){throw Fh(t,o.message)}}}return t.\u0275fac=function(e){return new(e||t)(Ms(Mc))},t.\u0275pipe=we({name:"date",type:t,pure:!0}),t})();const Gh=/#/g;let qh=(()=>{class t{constructor(t){this._localization=t}transform(e,n,i){if(null==e)return"";if("object"!=typeof n||null===n)throw Fh(t,n);return n[gh(e,Object.keys(n),this._localization,i)].replace(Gh,e.toString())}}return t.\u0275fac=function(e){return new(e||t)(Ms(mh))},t.\u0275pipe=we({name:"i18nPlural",type:t,pure:!0}),t})(),Xh=(()=>{class t{transform(e,n){if(null==e)return"";if("object"!=typeof n||"string"!=typeof e)throw Fh(t,n);return n.hasOwnProperty(e)?n[e]:n.hasOwnProperty("other")?n.other:""}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275pipe=we({name:"i18nSelect",type:t,pure:!0}),t})(),Kh=(()=>{class t{transform(t){return JSON.stringify(t,null,2)}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275pipe=we({name:"json",type:t,pure:!1}),t})(),Yh=(()=>{class t{constructor(t){this.differs=t,this.keyValues=[]}transform(t,e=Qh){if(!t||!(t instanceof Map)&&"object"!=typeof t)return null;this.differ||(this.differ=this.differs.find(t).create());const n=this.differ.diff(t);return n&&(this.keyValues=[],n.forEachItem(t=>{this.keyValues.push({key:t.key,value:t.currentValue})}),this.keyValues.sort(e)),this.keyValues}}return t.\u0275fac=function(e){return new(e||t)(Ms(gl))},t.\u0275pipe=we({name:"keyvalue",type:t,pure:!1}),t})();function Qh(t,e){const n=t.key,i=e.key;if(n===i)return 0;if(void 0===n)return 1;if(void 0===i)return-1;if(null===n)return 1;if(null===i)return-1;if("string"==typeof n&&"string"==typeof i)return n<i?-1:1;if("number"==typeof n&&"number"==typeof i)return n-i;if("boolean"==typeof n&&"boolean"==typeof i)return n<i?-1:1;const r=String(n),o=String(i);return r==o?0:r<o?-1:1}let Zh=(()=>{class t{constructor(t){this._locale=t}transform(e,n,i){if(ed(e))return null;i=i||this._locale;try{return function(t,e,n){return dh(t,ph(Gu(e,Lu.Decimal),$u(e,Hu.MinusSign)),e,Hu.Group,Hu.Decimal,n)}(nd(e),i,n)}catch(r){throw Fh(t,r.message)}}}return t.\u0275fac=function(e){return new(e||t)(Ms(Mc))},t.\u0275pipe=we({name:"number",type:t,pure:!0}),t})(),Jh=(()=>{class t{constructor(t){this._locale=t}transform(e,n,i){if(ed(e))return null;i=i||this._locale;try{return function(t,e,n){return dh(t,ph(Gu(e,Lu.Percent),$u(e,Hu.MinusSign)),e,Hu.Group,Hu.Decimal,n,!0).replace(new RegExp("%","g"),$u(e,Hu.PercentSign))}(nd(e),i,n)}catch(r){throw Fh(t,r.message)}}}return t.\u0275fac=function(e){return new(e||t)(Ms(Mc))},t.\u0275pipe=we({name:"percent",type:t,pure:!0}),t})(),td=(()=>{class t{constructor(t,e="USD"){this._locale=t,this._defaultCurrencyCode=e}transform(e,n,i="symbol",r,o){if(ed(e))return null;o=o||this._locale,"boolean"==typeof i&&(console&&console.warn&&console.warn('Warning: the currency pipe has been changed in Angular v5. The symbolDisplay option (third parameter) is now a string instead of a boolean. The accepted values are "code", "symbol" or "symbol-narrow".'),i=i?"symbol":"code");let s=n||this._defaultCurrencyCode;"code"!==i&&(s="symbol"===i||"symbol-narrow"===i?function(t,e,n="en"){const i=function(t){return Dl(t)[Fl.Currencies]}(n)[t]||Fu[t]||[],r=i[1];return"narrow"===e&&"string"==typeof r?r:i[0]||t}(s,"symbol"===i?"wide":"narrow",o):i);try{return function(t,e,n,i,r){const o=ph(Gu(e,Lu.Currency),$u(e,Hu.MinusSign));return o.minFrac=function(t){let e;const n=Fu[t];return n&&(e=n[2]),"number"==typeof e?e:2}(i),o.maxFrac=o.minFrac,dh(t,o,e,Hu.CurrencyGroup,Hu.CurrencyDecimal,r).replace("\xa4",n).replace("\xa4","").trim()}(nd(e),o,s,n,r)}catch(a){throw Fh(t,a.message)}}}return t.\u0275fac=function(e){return new(e||t)(Ms(Mc),Ms(Dc))},t.\u0275pipe=we({name:"currency",type:t,pure:!0}),t})();function ed(t){return null==t||""===t||t!=t}function nd(t){if("string"==typeof t&&!isNaN(Number(t)-parseFloat(t)))return Number(t);if("number"!=typeof t)throw new Error(`${t} is not a number`);return t}let id=(()=>{class t{transform(e,n,i){if(null==e)return e;if(!this.supports(e))throw Fh(t,e);return e.slice(n,i)}supports(t){return"string"==typeof t||Array.isArray(t)}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275pipe=we({name:"slice",type:t,pure:!1}),t})(),rd=(()=>{class t{}return t.\u0275mod=_e({type:t}),t.\u0275inj=dt({factory:function(e){return new(e||t)},providers:[{provide:mh,useClass:yh}]}),t})();function od(t){return"browser"===t}function sd(...t){if(1===t.length){const e=t[0];if(l(e))return ad(e,null);if(c(e)&&Object.getPrototypeOf(e)===Object.prototype){const t=Object.keys(e);return ad(t.map(t=>e[t]),t)}}if("function"==typeof t[t.length-1]){const e=t.pop();return ad(t=1===t.length&&l(t[0])?t[0]:t,null).pipe(F(t=>e(...t)))}return ad(t,null)}function ad(t,e){return new _(n=>{const i=t.length;if(0===i)return void n.complete();const r=new Array(i);let o=0,s=0;for(let a=0;a<i;a++){const l=j(t[a]);let c=!1;n.add(l.subscribe({next:t=>{c||(c=!0,s++),r[a]=t},error:t=>n.error(t),complete:()=>{o++,o!==i&&c||(s===i&&n.next(e?e.reduce((t,e,n)=>(t[e]=r[n],t),{}):r),n.complete())}}))}})}const ld=new jt("NgValueAccessor"),cd={provide:ld,useExisting:Et(()=>ud),multi:!0};let ud=(()=>{class t{constructor(t,e){this._renderer=t,this._elementRef=e,this.onChange=t=>{},this.onTouched=()=>{}}writeValue(t){this._renderer.setProperty(this._elementRef.nativeElement,"checked",t)}registerOnChange(t){this.onChange=t}registerOnTouched(t){this.onTouched=t}setDisabledState(t){this._renderer.setProperty(this._elementRef.nativeElement,"disabled",t)}}return t.\u0275fac=function(e){return new(e||t)(Ms(tl),Ms(Ya))},t.\u0275dir=be({type:t,selectors:[["input","type","checkbox","formControlName",""],["input","type","checkbox","formControl",""],["input","type","checkbox","ngModel",""]],hostBindings:function(t,e){1&t&&$s("change",(function(t){return e.onChange(t.target.checked)}))("blur",(function(){return e.onTouched()}))},features:[Ga([cd])]}),t})();const hd={provide:ld,useExisting:Et(()=>pd),multi:!0},dd=new jt("CompositionEventMode");let pd=(()=>{class t{constructor(t,e,n){this._renderer=t,this._elementRef=e,this._compositionMode=n,this.onChange=t=>{},this.onTouched=()=>{},this._composing=!1,null==this._compositionMode&&(this._compositionMode=!function(){const t=_u()?_u().getUserAgent():"";return/android (\d+)/.test(t.toLowerCase())}())}writeValue(t){this._renderer.setProperty(this._elementRef.nativeElement,"value",null==t?"":t)}registerOnChange(t){this.onChange=t}registerOnTouched(t){this.onTouched=t}setDisabledState(t){this._renderer.setProperty(this._elementRef.nativeElement,"disabled",t)}_handleInput(t){(!this._compositionMode||this._compositionMode&&!this._composing)&&this.onChange(t)}_compositionStart(){this._composing=!0}_compositionEnd(t){this._composing=!1,this._compositionMode&&this.onChange(t)}}return t.\u0275fac=function(e){return new(e||t)(Ms(tl),Ms(Ya),Ms(dd,8))},t.\u0275dir=be({type:t,selectors:[["input","formControlName","",3,"type","checkbox"],["textarea","formControlName",""],["input","formControl","",3,"type","checkbox"],["textarea","formControl",""],["input","ngModel","",3,"type","checkbox"],["textarea","ngModel",""],["","ngDefaultControl",""]],hostBindings:function(t,e){1&t&&$s("input",(function(t){return e._handleInput(t.target.value)}))("blur",(function(){return e.onTouched()}))("compositionstart",(function(){return e._compositionStart()}))("compositionend",(function(t){return e._compositionEnd(t.target.value)}))},features:[Ga([hd])]}),t})(),fd=(()=>{class t{get value(){return this.control?this.control.value:null}get valid(){return this.control?this.control.valid:null}get invalid(){return this.control?this.control.invalid:null}get pending(){return this.control?this.control.pending:null}get disabled(){return this.control?this.control.disabled:null}get enabled(){return this.control?this.control.enabled:null}get errors(){return this.control?this.control.errors:null}get pristine(){return this.control?this.control.pristine:null}get dirty(){return this.control?this.control.dirty:null}get touched(){return this.control?this.control.touched:null}get status(){return this.control?this.control.status:null}get untouched(){return this.control?this.control.untouched:null}get statusChanges(){return this.control?this.control.statusChanges:null}get valueChanges(){return this.control?this.control.valueChanges:null}get path(){return null}reset(t){this.control&&this.control.reset(t)}hasError(t,e){return!!this.control&&this.control.hasError(t,e)}getError(t,e){return this.control?this.control.getError(t,e):null}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275dir=be({type:t}),t})(),md=(()=>{class t extends fd{get formDirective(){return null}get path(){return null}}return t.\u0275fac=function(e){return gd(e||t)},t.\u0275dir=be({type:t,features:[Ia]}),t})();const gd=ui(md);function yd(){throw new Error("unimplemented")}class _d extends fd{constructor(){super(...arguments),this._parent=null,this.name=null,this.valueAccessor=null,this._rawValidators=[],this._rawAsyncValidators=[]}get validator(){return yd()}get asyncValidator(){return yd()}}class vd{constructor(t){this._cd=t}get ngClassUntouched(){return!!this._cd.control&&this._cd.control.untouched}get ngClassTouched(){return!!this._cd.control&&this._cd.control.touched}get ngClassPristine(){return!!this._cd.control&&this._cd.control.pristine}get ngClassDirty(){return!!this._cd.control&&this._cd.control.dirty}get ngClassValid(){return!!this._cd.control&&this._cd.control.valid}get ngClassInvalid(){return!!this._cd.control&&this._cd.control.invalid}get ngClassPending(){return!!this._cd.control&&this._cd.control.pending}}let bd=(()=>{class t extends vd{constructor(t){super(t)}}return t.\u0275fac=function(e){return new(e||t)(Ms(_d,2))},t.\u0275dir=be({type:t,selectors:[["","formControlName",""],["","ngModel",""],["","formControl",""]],hostVars:14,hostBindings:function(t,e){2&t&&ua("ng-untouched",e.ngClassUntouched)("ng-touched",e.ngClassTouched)("ng-pristine",e.ngClassPristine)("ng-dirty",e.ngClassDirty)("ng-valid",e.ngClassValid)("ng-invalid",e.ngClassInvalid)("ng-pending",e.ngClassPending)},features:[Ia]}),t})(),wd=(()=>{class t extends vd{constructor(t){super(t)}}return t.\u0275fac=function(e){return new(e||t)(Ms(md,2))},t.\u0275dir=be({type:t,selectors:[["","formGroupName",""],["","formArrayName",""],["","ngModelGroup",""],["","formGroup",""],["form",3,"ngNoForm",""],["","ngForm",""]],hostVars:14,hostBindings:function(t,e){2&t&&ua("ng-untouched",e.ngClassUntouched)("ng-touched",e.ngClassTouched)("ng-pristine",e.ngClassPristine)("ng-dirty",e.ngClassDirty)("ng-valid",e.ngClassValid)("ng-invalid",e.ngClassInvalid)("ng-pending",e.ngClassPending)},features:[Ia]}),t})();function Cd(t){return null==t||0===t.length}const xd=new jt("NgValidators"),Ed=new jt("NgAsyncValidators"),Sd=/^(?=.{1,254}$)(?=.{1,64}@)[a-zA-Z0-9!#$%&'*+/=?^_`{|}~-]+(?:\.[a-zA-Z0-9!#$%&'*+/=?^_`{|}~-]+)*@[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?(?:\.[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?)*$/;class Pd{static min(t){return e=>{if(Cd(e.value)||Cd(t))return null;const n=parseFloat(e.value);return!isNaN(n)&&n<t?{min:{min:t,actual:e.value}}:null}}static max(t){return e=>{if(Cd(e.value)||Cd(t))return null;const n=parseFloat(e.value);return!isNaN(n)&&n>t?{max:{max:t,actual:e.value}}:null}}static required(t){return Cd(t.value)?{required:!0}:null}static requiredTrue(t){return!0===t.value?null:{required:!0}}static email(t){return Cd(t.value)||Sd.test(t.value)?null:{email:!0}}static minLength(t){return e=>{if(Cd(e.value))return null;const n=e.value?e.value.length:0;return n<t?{minlength:{requiredLength:t,actualLength:n}}:null}}static maxLength(t){return e=>{const n=e.value?e.value.length:0;return n>t?{maxlength:{requiredLength:t,actualLength:n}}:null}}static pattern(t){if(!t)return Pd.nullValidator;let e,n;return"string"==typeof t?(n="","^"!==t.charAt(0)&&(n+="^"),n+=t,"$"!==t.charAt(t.length-1)&&(n+="$"),e=new RegExp(n)):(n=t.toString(),e=t),t=>{if(Cd(t.value))return null;const i=t.value;return e.test(i)?null:{pattern:{requiredPattern:n,actualValue:i}}}}static nullValidator(t){return null}static compose(t){if(!t)return null;const e=t.filter(Od);return 0==e.length?null:function(t){return Td(function(t,e){return e.map(e=>e(t))}(t,e))}}static composeAsync(t){if(!t)return null;const e=t.filter(Od);return 0==e.length?null:function(t){return sd(function(t,e){return e.map(e=>e(t))}(t,e).map(kd)).pipe(F(Td))}}}function Od(t){return null!=t}function kd(t){const e=Us(t)?j(t):t;if(!Ws(e))throw new Error("Expected validator to return Promise or Observable.");return e}function Td(t){let e={};return t.forEach(t=>{e=null!=t?Object.assign(Object.assign({},e),t):e}),0===Object.keys(e).length?null:e}function Id(t){return t.validate?e=>t.validate(e):t}function Ad(t){return t.validate?e=>t.validate(e):t}const Md={provide:ld,useExisting:Et(()=>Dd),multi:!0};let Dd=(()=>{class t{constructor(t,e){this._renderer=t,this._elementRef=e,this.onChange=t=>{},this.onTouched=()=>{}}writeValue(t){this._renderer.setProperty(this._elementRef.nativeElement,"value",null==t?"":t)}registerOnChange(t){this.onChange=e=>{t(""==e?null:parseFloat(e))}}registerOnTouched(t){this.onTouched=t}setDisabledState(t){this._renderer.setProperty(this._elementRef.nativeElement,"disabled",t)}}return t.\u0275fac=function(e){return new(e||t)(Ms(tl),Ms(Ya))},t.\u0275dir=be({type:t,selectors:[["input","type","number","formControlName",""],["input","type","number","formControl",""],["input","type","number","ngModel",""]],hostBindings:function(t,e){1&t&&$s("change",(function(t){return e.onChange(t.target.value)}))("input",(function(t){return e.onChange(t.target.value)}))("blur",(function(){return e.onTouched()}))},features:[Ga([Md])]}),t})();const Rd={provide:ld,useExisting:Et(()=>Ld),multi:!0};let Fd=(()=>{class t{constructor(){this._accessors=[]}add(t,e){this._accessors.push([t,e])}remove(t){for(let e=this._accessors.length-1;e>=0;--e)if(this._accessors[e][1]===t)return void this._accessors.splice(e,1)}select(t){this._accessors.forEach(e=>{this._isSameGroup(e,t)&&e[1]!==t&&e[1].fireUncheck(t.value)})}_isSameGroup(t,e){return!!t[0].control&&t[0]._parent===e._control._parent&&t[1].name===e.name}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275prov=ht({token:t,factory:t.\u0275fac}),t})(),Ld=(()=>{class t{constructor(t,e,n,i){this._renderer=t,this._elementRef=e,this._registry=n,this._injector=i,this.onChange=()=>{},this.onTouched=()=>{}}ngOnInit(){this._control=this._injector.get(_d),this._checkName(),this._registry.add(this._control,this)}ngOnDestroy(){this._registry.remove(this)}writeValue(t){this._state=t===this.value,this._renderer.setProperty(this._elementRef.nativeElement,"checked",this._state)}registerOnChange(t){this._fn=t,this.onChange=()=>{t(this.value),this._registry.select(this)}}fireUncheck(t){this.writeValue(t)}registerOnTouched(t){this.onTouched=t}setDisabledState(t){this._renderer.setProperty(this._elementRef.nativeElement,"disabled",t)}_checkName(){this.name&&this.formControlName&&this.name!==this.formControlName&&this._throwNameError(),!this.name&&this.formControlName&&(this.name=this.formControlName)}_throwNameError(){throw new Error('\n      If you define both a name and a formControlName attribute on your radio button, their values\n      must match. Ex: <input type="radio" formControlName="food" name="food">\n    ')}}return t.\u0275fac=function(e){return new(e||t)(Ms(tl),Ms(Ya),Ms(Fd),Ms(us))},t.\u0275dir=be({type:t,selectors:[["input","type","radio","formControlName",""],["input","type","radio","formControl",""],["input","type","radio","ngModel",""]],hostBindings:function(t,e){1&t&&$s("change",(function(){return e.onChange()}))("blur",(function(){return e.onTouched()}))},inputs:{name:"name",formControlName:"formControlName",value:"value"},features:[Ga([Rd])]}),t})();const Bd={provide:ld,useExisting:Et(()=>Nd),multi:!0};let Nd=(()=>{class t{constructor(t,e){this._renderer=t,this._elementRef=e,this.onChange=t=>{},this.onTouched=()=>{}}writeValue(t){this._renderer.setProperty(this._elementRef.nativeElement,"value",parseFloat(t))}registerOnChange(t){this.onChange=e=>{t(""==e?null:parseFloat(e))}}registerOnTouched(t){this.onTouched=t}setDisabledState(t){this._renderer.setProperty(this._elementRef.nativeElement,"disabled",t)}}return t.\u0275fac=function(e){return new(e||t)(Ms(tl),Ms(Ya))},t.\u0275dir=be({type:t,selectors:[["input","type","range","formControlName",""],["input","type","range","formControl",""],["input","type","range","ngModel",""]],hostBindings:function(t,e){1&t&&$s("change",(function(t){return e.onChange(t.target.value)}))("input",(function(t){return e.onChange(t.target.value)}))("blur",(function(){return e.onTouched()}))},features:[Ga([Bd])]}),t})();const jd='\n    <div [formGroup]="myGroup">\n      <input formControlName="firstName">\n    </div>\n\n    In your class:\n\n    this.myGroup = new FormGroup({\n       firstName: new FormControl()\n    });',zd='\n    <div [formGroup]="myGroup">\n       <div formGroupName="person">\n          <input formControlName="firstName">\n       </div>\n    </div>\n\n    In your class:\n\n    this.myGroup = new FormGroup({\n       person: new FormGroup({ firstName: new FormControl() })\n    });',Hd='\n    <form>\n       <div ngModelGroup="person">\n          <input [(ngModel)]="person.name" name="firstName">\n       </div>\n    </form>';class Vd{static controlParentException(){throw new Error(`formControlName must be used with a parent formGroup directive.  You'll want to add a formGroup\n       directive and pass it an existing FormGroup instance (you can create one in your class).\n\n      Example:\n\n      ${jd}`)}static ngModelGroupException(){throw new Error(`formControlName cannot be used with an ngModelGroup parent. It is only compatible with parents\n       that also have a "form" prefix: formGroupName, formArrayName, or formGroup.\n\n       Option 1:  Update the parent to be formGroupName (reactive form strategy)\n\n        ${zd}\n\n        Option 2: Use ngModel instead of formControlName (template-driven strategy)\n\n        ${Hd}`)}static missingFormException(){throw new Error(`formGroup expects a FormGroup instance. Please pass one in.\n\n       Example:\n\n       ${jd}`)}static groupParentException(){throw new Error(`formGroupName must be used with a parent formGroup directive.  You'll want to add a formGroup\n      directive and pass it an existing FormGroup instance (you can create one in your class).\n\n      Example:\n\n      ${zd}`)}static arrayParentException(){throw new Error('formArrayName must be used with a parent formGroup directive.  You\'ll want to add a formGroup\n       directive and pass it an existing FormGroup instance (you can create one in your class).\n\n        Example:\n\n        \n    <div [formGroup]="myGroup">\n      <div formArrayName="cities">\n        <div *ngFor="let city of cityArray.controls; index as i">\n          <input [formControlName]="i">\n        </div>\n      </div>\n    </div>\n\n    In your class:\n\n    this.cityArray = new FormArray([new FormControl(\'SF\')]);\n    this.myGroup = new FormGroup({\n      cities: this.cityArray\n    });')}static disabledAttrWarning(){console.warn("\n      It looks like you're using the disabled attribute with a reactive form directive. If you set disabled to true\n      when you set up this control in your component class, the disabled attribute will actually be set in the DOM for\n      you. We recommend using this approach to avoid 'changed after checked' errors.\n       \n      Example: \n      form = new FormGroup({\n        first: new FormControl({value: 'Nancy', disabled: true}, Validators.required),\n        last: new FormControl('Drew', Validators.required)\n      });\n    ")}static ngModelWarning(t){console.warn(`\n    It looks like you're using ngModel on the same form field as ${t}. \n    Support for using the ngModel input property and ngModelChange event with \n    reactive form directives has been deprecated in Angular v6 and will be removed \n    in Angular v7.\n    \n    For more information on this, see our API docs here:\n    https://angular.io/api/forms/${"formControl"===t?"FormControlDirective":"FormControlName"}#use-with-ngmodel\n    `)}}const Ud={provide:ld,useExisting:Et(()=>$d),multi:!0};function Wd(t,e){return null==t?`${e}`:(e&&"object"==typeof e&&(e="Object"),`${t}: ${e}`.slice(0,50))}let $d=(()=>{class t{constructor(t,e){this._renderer=t,this._elementRef=e,this._optionMap=new Map,this._idCounter=0,this.onChange=t=>{},this.onTouched=()=>{},this._compareWith=bs}set compareWith(t){if("function"!=typeof t)throw new Error(`compareWith must be a function, but received ${JSON.stringify(t)}`);this._compareWith=t}writeValue(t){this.value=t;const e=this._getOptionId(t);null==e&&this._renderer.setProperty(this._elementRef.nativeElement,"selectedIndex",-1);const n=Wd(e,t);this._renderer.setProperty(this._elementRef.nativeElement,"value",n)}registerOnChange(t){this.onChange=e=>{this.value=this._getOptionValue(e),t(this.value)}}registerOnTouched(t){this.onTouched=t}setDisabledState(t){this._renderer.setProperty(this._elementRef.nativeElement,"disabled",t)}_registerOption(){return(this._idCounter++).toString()}_getOptionId(t){for(const e of Array.from(this._optionMap.keys()))if(this._compareWith(this._optionMap.get(e),t))return e;return null}_getOptionValue(t){const e=function(t){return t.split(":")[0]}(t);return this._optionMap.has(e)?this._optionMap.get(e):t}}return t.\u0275fac=function(e){return new(e||t)(Ms(tl),Ms(Ya))},t.\u0275dir=be({type:t,selectors:[["select","formControlName","",3,"multiple",""],["select","formControl","",3,"multiple",""],["select","ngModel","",3,"multiple",""]],hostBindings:function(t,e){1&t&&$s("change",(function(t){return e.onChange(t.target.value)}))("blur",(function(){return e.onTouched()}))},inputs:{compareWith:"compareWith"},features:[Ga([Ud])]}),t})(),Gd=(()=>{class t{constructor(t,e,n){this._element=t,this._renderer=e,this._select=n,this._select&&(this.id=this._select._registerOption())}set ngValue(t){null!=this._select&&(this._select._optionMap.set(this.id,t),this._setElementValue(Wd(this.id,t)),this._select.writeValue(this._select.value))}set value(t){this._setElementValue(t),this._select&&this._select.writeValue(this._select.value)}_setElementValue(t){this._renderer.setProperty(this._element.nativeElement,"value",t)}ngOnDestroy(){this._select&&(this._select._optionMap.delete(this.id),this._select.writeValue(this._select.value))}}return t.\u0275fac=function(e){return new(e||t)(Ms(Ya),Ms(tl),Ms($d,9))},t.\u0275dir=be({type:t,selectors:[["option"]],inputs:{ngValue:"ngValue",value:"value"}}),t})();const qd={provide:ld,useExisting:Et(()=>Kd),multi:!0};function Xd(t,e){return null==t?`${e}`:("string"==typeof e&&(e=`'${e}'`),e&&"object"==typeof e&&(e="Object"),`${t}: ${e}`.slice(0,50))}let Kd=(()=>{class t{constructor(t,e){this._renderer=t,this._elementRef=e,this._optionMap=new Map,this._idCounter=0,this.onChange=t=>{},this.onTouched=()=>{},this._compareWith=bs}set compareWith(t){if("function"!=typeof t)throw new Error(`compareWith must be a function, but received ${JSON.stringify(t)}`);this._compareWith=t}writeValue(t){let e;if(this.value=t,Array.isArray(t)){const n=t.map(t=>this._getOptionId(t));e=(t,e)=>{t._setSelected(n.indexOf(e.toString())>-1)}}else e=(t,e)=>{t._setSelected(!1)};this._optionMap.forEach(e)}registerOnChange(t){this.onChange=e=>{const n=[];if(e.hasOwnProperty("selectedOptions")){const t=e.selectedOptions;for(let e=0;e<t.length;e++){const i=t.item(e),r=this._getOptionValue(i.value);n.push(r)}}else{const t=e.options;for(let e=0;e<t.length;e++){const i=t.item(e);if(i.selected){const t=this._getOptionValue(i.value);n.push(t)}}}this.value=n,t(n)}}registerOnTouched(t){this.onTouched=t}setDisabledState(t){this._renderer.setProperty(this._elementRef.nativeElement,"disabled",t)}_registerOption(t){const e=(this._idCounter++).toString();return this._optionMap.set(e,t),e}_getOptionId(t){for(const e of Array.from(this._optionMap.keys()))if(this._compareWith(this._optionMap.get(e)._value,t))return e;return null}_getOptionValue(t){const e=function(t){return t.split(":")[0]}(t);return this._optionMap.has(e)?this._optionMap.get(e)._value:t}}return t.\u0275fac=function(e){return new(e||t)(Ms(tl),Ms(Ya))},t.\u0275dir=be({type:t,selectors:[["select","multiple","","formControlName",""],["select","multiple","","formControl",""],["select","multiple","","ngModel",""]],hostBindings:function(t,e){1&t&&$s("change",(function(t){return e.onChange(t.target)}))("blur",(function(){return e.onTouched()}))},inputs:{compareWith:"compareWith"},features:[Ga([qd])]}),t})(),Yd=(()=>{class t{constructor(t,e,n){this._element=t,this._renderer=e,this._select=n,this._select&&(this.id=this._select._registerOption(this))}set ngValue(t){null!=this._select&&(this._value=t,this._setElementValue(Xd(this.id,t)),this._select.writeValue(this._select.value))}set value(t){this._select?(this._value=t,this._setElementValue(Xd(this.id,t)),this._select.writeValue(this._select.value)):this._setElementValue(t)}_setElementValue(t){this._renderer.setProperty(this._element.nativeElement,"value",t)}_setSelected(t){this._renderer.setProperty(this._element.nativeElement,"selected",t)}ngOnDestroy(){this._select&&(this._select._optionMap.delete(this.id),this._select.writeValue(this._select.value))}}return t.\u0275fac=function(e){return new(e||t)(Ms(Ya),Ms(tl),Ms(Kd,9))},t.\u0275dir=be({type:t,selectors:[["option"]],inputs:{ngValue:"ngValue",value:"value"}}),t})();function Qd(t,e){return[...e.path,t]}function Zd(t,e){t||np(e,"Cannot find control with"),e.valueAccessor||np(e,"No value accessor for form control with"),t.validator=Pd.compose([t.validator,e.validator]),t.asyncValidator=Pd.composeAsync([t.asyncValidator,e.asyncValidator]),e.valueAccessor.writeValue(t.value),function(t,e){e.valueAccessor.registerOnChange(n=>{t._pendingValue=n,t._pendingChange=!0,t._pendingDirty=!0,"change"===t.updateOn&&Jd(t,e)})}(t,e),function(t,e){t.registerOnChange((t,n)=>{e.valueAccessor.writeValue(t),n&&e.viewToModelUpdate(t)})}(t,e),function(t,e){e.valueAccessor.registerOnTouched(()=>{t._pendingTouched=!0,"blur"===t.updateOn&&t._pendingChange&&Jd(t,e),"submit"!==t.updateOn&&t.markAsTouched()})}(t,e),e.valueAccessor.setDisabledState&&t.registerOnDisabledChange(t=>{e.valueAccessor.setDisabledState(t)}),e._rawValidators.forEach(e=>{e.registerOnValidatorChange&&e.registerOnValidatorChange(()=>t.updateValueAndValidity())}),e._rawAsyncValidators.forEach(e=>{e.registerOnValidatorChange&&e.registerOnValidatorChange(()=>t.updateValueAndValidity())})}function Jd(t,e){t._pendingDirty&&t.markAsDirty(),t.setValue(t._pendingValue,{emitModelToViewChange:!1}),e.viewToModelUpdate(t._pendingValue),t._pendingChange=!1}function tp(t,e){null==t&&np(e,"Cannot find control with"),t.validator=Pd.compose([t.validator,e.validator]),t.asyncValidator=Pd.composeAsync([t.asyncValidator,e.asyncValidator])}function ep(t){return np(t,"There is no FormControl instance attached to form control element with")}function np(t,e){let n;throw n=t.path.length>1?`path: '${t.path.join(" -> ")}'`:t.path[0]?`name: '${t.path}'`:"unspecified name attribute",new Error(`${e} ${n}`)}function ip(t){return null!=t?Pd.compose(t.map(Id)):null}function rp(t){return null!=t?Pd.composeAsync(t.map(Ad)):null}function op(t,e){if(!t.hasOwnProperty("model"))return!1;const n=t.model;return!!n.isFirstChange()||!bs(e,n.currentValue)}const sp=[ud,Nd,Dd,$d,Kd,Ld];function ap(t,e){t._syncPendingControls(),e.forEach(t=>{const e=t.control;"submit"===e.updateOn&&e._pendingChange&&(t.viewToModelUpdate(e._pendingValue),e._pendingChange=!1)})}function lp(t,e){if(!e)return null;Array.isArray(e)||np(t,"Value accessor was not provided as an array for form control with");let n=void 0,i=void 0,r=void 0;return e.forEach(e=>{var o;e.constructor===pd?n=e:(o=e,sp.some(t=>o.constructor===t)?(i&&np(t,"More than one built-in value accessor matches form control with"),i=e):(r&&np(t,"More than one custom value accessor matches form control with"),r=e))}),r||i||n||(np(t,"No valid value accessor for form control with"),null)}function cp(t,e){const n=t.indexOf(e);n>-1&&t.splice(n,1)}function up(t,e,n,i){Pi()&&"never"!==i&&((null!==i&&"once"!==i||e._ngModelWarningSentOnce)&&("always"!==i||n._ngModelWarningSent)||(Vd.ngModelWarning(t),e._ngModelWarningSentOnce=!0,n._ngModelWarningSent=!0))}function hp(t){const e=pp(t)?t.validators:t;return Array.isArray(e)?ip(e):e||null}function dp(t,e){const n=pp(e)?e.asyncValidators:t;return Array.isArray(n)?rp(n):n||null}function pp(t){return null!=t&&!Array.isArray(t)&&"object"==typeof t}class fp{constructor(t,e){this.validator=t,this.asyncValidator=e,this._onCollectionChange=()=>{},this.pristine=!0,this.touched=!1,this._onDisabledChange=[]}get parent(){return this._parent}get valid(){return"VALID"===this.status}get invalid(){return"INVALID"===this.status}get pending(){return"PENDING"==this.status}get disabled(){return"DISABLED"===this.status}get enabled(){return"DISABLED"!==this.status}get dirty(){return!this.pristine}get untouched(){return!this.touched}get updateOn(){return this._updateOn?this._updateOn:this.parent?this.parent.updateOn:"change"}setValidators(t){this.validator=hp(t)}setAsyncValidators(t){this.asyncValidator=dp(t)}clearValidators(){this.validator=null}clearAsyncValidators(){this.asyncValidator=null}markAsTouched(t={}){this.touched=!0,this._parent&&!t.onlySelf&&this._parent.markAsTouched(t)}markAllAsTouched(){this.markAsTouched({onlySelf:!0}),this._forEachChild(t=>t.markAllAsTouched())}markAsUntouched(t={}){this.touched=!1,this._pendingTouched=!1,this._forEachChild(t=>{t.markAsUntouched({onlySelf:!0})}),this._parent&&!t.onlySelf&&this._parent._updateTouched(t)}markAsDirty(t={}){this.pristine=!1,this._parent&&!t.onlySelf&&this._parent.markAsDirty(t)}markAsPristine(t={}){this.pristine=!0,this._pendingDirty=!1,this._forEachChild(t=>{t.markAsPristine({onlySelf:!0})}),this._parent&&!t.onlySelf&&this._parent._updatePristine(t)}markAsPending(t={}){this.status="PENDING",!1!==t.emitEvent&&this.statusChanges.emit(this.status),this._parent&&!t.onlySelf&&this._parent.markAsPending(t)}disable(t={}){const e=this._parentMarkedDirty(t.onlySelf);this.status="DISABLED",this.errors=null,this._forEachChild(e=>{e.disable(Object.assign(Object.assign({},t),{onlySelf:!0}))}),this._updateValue(),!1!==t.emitEvent&&(this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._updateAncestors(Object.assign(Object.assign({},t),{skipPristineCheck:e})),this._onDisabledChange.forEach(t=>t(!0))}enable(t={}){const e=this._parentMarkedDirty(t.onlySelf);this.status="VALID",this._forEachChild(e=>{e.enable(Object.assign(Object.assign({},t),{onlySelf:!0}))}),this.updateValueAndValidity({onlySelf:!0,emitEvent:t.emitEvent}),this._updateAncestors(Object.assign(Object.assign({},t),{skipPristineCheck:e})),this._onDisabledChange.forEach(t=>t(!1))}_updateAncestors(t){this._parent&&!t.onlySelf&&(this._parent.updateValueAndValidity(t),t.skipPristineCheck||this._parent._updatePristine(),this._parent._updateTouched())}setParent(t){this._parent=t}updateValueAndValidity(t={}){this._setInitialStatus(),this._updateValue(),this.enabled&&(this._cancelExistingSubscription(),this.errors=this._runValidator(),this.status=this._calculateStatus(),"VALID"!==this.status&&"PENDING"!==this.status||this._runAsyncValidator(t.emitEvent)),!1!==t.emitEvent&&(this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._parent&&!t.onlySelf&&this._parent.updateValueAndValidity(t)}_updateTreeValidity(t={emitEvent:!0}){this._forEachChild(e=>e._updateTreeValidity(t)),this.updateValueAndValidity({onlySelf:!0,emitEvent:t.emitEvent})}_setInitialStatus(){this.status=this._allControlsDisabled()?"DISABLED":"VALID"}_runValidator(){return this.validator?this.validator(this):null}_runAsyncValidator(t){if(this.asyncValidator){this.status="PENDING";const e=kd(this.asyncValidator(this));this._asyncValidationSubscription=e.subscribe(e=>this.setErrors(e,{emitEvent:t}))}}_cancelExistingSubscription(){this._asyncValidationSubscription&&this._asyncValidationSubscription.unsubscribe()}setErrors(t,e={}){this.errors=t,this._updateControlsErrors(!1!==e.emitEvent)}get(t){return function(t,e,n){if(null==e)return null;if(Array.isArray(e)||(e=e.split(".")),Array.isArray(e)&&0===e.length)return null;let i=t;return e.forEach(t=>{i=i instanceof gp?i.controls.hasOwnProperty(t)?i.controls[t]:null:i instanceof yp&&i.at(t)||null}),i}(this,t)}getError(t,e){const n=e?this.get(e):this;return n&&n.errors?n.errors[t]:null}hasError(t,e){return!!this.getError(t,e)}get root(){let t=this;for(;t._parent;)t=t._parent;return t}_updateControlsErrors(t){this.status=this._calculateStatus(),t&&this.statusChanges.emit(this.status),this._parent&&this._parent._updateControlsErrors(t)}_initObservables(){this.valueChanges=new Yl,this.statusChanges=new Yl}_calculateStatus(){return this._allControlsDisabled()?"DISABLED":this.errors?"INVALID":this._anyControlsHaveStatus("PENDING")?"PENDING":this._anyControlsHaveStatus("INVALID")?"INVALID":"VALID"}_anyControlsHaveStatus(t){return this._anyControls(e=>e.status===t)}_anyControlsDirty(){return this._anyControls(t=>t.dirty)}_anyControlsTouched(){return this._anyControls(t=>t.touched)}_updatePristine(t={}){this.pristine=!this._anyControlsDirty(),this._parent&&!t.onlySelf&&this._parent._updatePristine(t)}_updateTouched(t={}){this.touched=this._anyControlsTouched(),this._parent&&!t.onlySelf&&this._parent._updateTouched(t)}_isBoxedValue(t){return"object"==typeof t&&null!==t&&2===Object.keys(t).length&&"value"in t&&"disabled"in t}_registerOnCollectionChange(t){this._onCollectionChange=t}_setUpdateStrategy(t){pp(t)&&null!=t.updateOn&&(this._updateOn=t.updateOn)}_parentMarkedDirty(t){return!t&&this._parent&&this._parent.dirty&&!this._parent._anyControlsDirty()}}class mp extends fp{constructor(t=null,e,n){super(hp(e),dp(n,e)),this._onChange=[],this._applyFormState(t),this._setUpdateStrategy(e),this.updateValueAndValidity({onlySelf:!0,emitEvent:!1}),this._initObservables()}setValue(t,e={}){this.value=this._pendingValue=t,this._onChange.length&&!1!==e.emitModelToViewChange&&this._onChange.forEach(t=>t(this.value,!1!==e.emitViewToModelChange)),this.updateValueAndValidity(e)}patchValue(t,e={}){this.setValue(t,e)}reset(t=null,e={}){this._applyFormState(t),this.markAsPristine(e),this.markAsUntouched(e),this.setValue(this.value,e),this._pendingChange=!1}_updateValue(){}_anyControls(t){return!1}_allControlsDisabled(){return this.disabled}registerOnChange(t){this._onChange.push(t)}_clearChangeFns(){this._onChange=[],this._onDisabledChange=[],this._onCollectionChange=()=>{}}registerOnDisabledChange(t){this._onDisabledChange.push(t)}_forEachChild(t){}_syncPendingControls(){return!("submit"!==this.updateOn||(this._pendingDirty&&this.markAsDirty(),this._pendingTouched&&this.markAsTouched(),!this._pendingChange)||(this.setValue(this._pendingValue,{onlySelf:!0,emitModelToViewChange:!1}),0))}_applyFormState(t){this._isBoxedValue(t)?(this.value=this._pendingValue=t.value,t.disabled?this.disable({onlySelf:!0,emitEvent:!1}):this.enable({onlySelf:!0,emitEvent:!1})):this.value=this._pendingValue=t}}class gp extends fp{constructor(t,e,n){super(hp(e),dp(n,e)),this.controls=t,this._initObservables(),this._setUpdateStrategy(e),this._setUpControls(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!1})}registerControl(t,e){return this.controls[t]?this.controls[t]:(this.controls[t]=e,e.setParent(this),e._registerOnCollectionChange(this._onCollectionChange),e)}addControl(t,e){this.registerControl(t,e),this.updateValueAndValidity(),this._onCollectionChange()}removeControl(t){this.controls[t]&&this.controls[t]._registerOnCollectionChange(()=>{}),delete this.controls[t],this.updateValueAndValidity(),this._onCollectionChange()}setControl(t,e){this.controls[t]&&this.controls[t]._registerOnCollectionChange(()=>{}),delete this.controls[t],e&&this.registerControl(t,e),this.updateValueAndValidity(),this._onCollectionChange()}contains(t){return this.controls.hasOwnProperty(t)&&this.controls[t].enabled}setValue(t,e={}){this._checkAllValuesPresent(t),Object.keys(t).forEach(n=>{this._throwIfControlMissing(n),this.controls[n].setValue(t[n],{onlySelf:!0,emitEvent:e.emitEvent})}),this.updateValueAndValidity(e)}patchValue(t,e={}){Object.keys(t).forEach(n=>{this.controls[n]&&this.controls[n].patchValue(t[n],{onlySelf:!0,emitEvent:e.emitEvent})}),this.updateValueAndValidity(e)}reset(t={},e={}){this._forEachChild((n,i)=>{n.reset(t[i],{onlySelf:!0,emitEvent:e.emitEvent})}),this._updatePristine(e),this._updateTouched(e),this.updateValueAndValidity(e)}getRawValue(){return this._reduceChildren({},(t,e,n)=>(t[n]=e instanceof mp?e.value:e.getRawValue(),t))}_syncPendingControls(){let t=this._reduceChildren(!1,(t,e)=>!!e._syncPendingControls()||t);return t&&this.updateValueAndValidity({onlySelf:!0}),t}_throwIfControlMissing(t){if(!Object.keys(this.controls).length)throw new Error("\n        There are no form controls registered with this group yet.  If you're using ngModel,\n        you may want to check next tick (e.g. use setTimeout).\n      ");if(!this.controls[t])throw new Error(`Cannot find form control with name: ${t}.`)}_forEachChild(t){Object.keys(this.controls).forEach(e=>t(this.controls[e],e))}_setUpControls(){this._forEachChild(t=>{t.setParent(this),t._registerOnCollectionChange(this._onCollectionChange)})}_updateValue(){this.value=this._reduceValue()}_anyControls(t){let e=!1;return this._forEachChild((n,i)=>{e=e||this.contains(i)&&t(n)}),e}_reduceValue(){return this._reduceChildren({},(t,e,n)=>((e.enabled||this.disabled)&&(t[n]=e.value),t))}_reduceChildren(t,e){let n=t;return this._forEachChild((t,i)=>{n=e(n,t,i)}),n}_allControlsDisabled(){for(const t of Object.keys(this.controls))if(this.controls[t].enabled)return!1;return Object.keys(this.controls).length>0||this.disabled}_checkAllValuesPresent(t){this._forEachChild((e,n)=>{if(void 0===t[n])throw new Error(`Must supply a value for form control with name: '${n}'.`)})}}class yp extends fp{constructor(t,e,n){super(hp(e),dp(n,e)),this.controls=t,this._initObservables(),this._setUpdateStrategy(e),this._setUpControls(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!1})}at(t){return this.controls[t]}push(t){this.controls.push(t),this._registerControl(t),this.updateValueAndValidity(),this._onCollectionChange()}insert(t,e){this.controls.splice(t,0,e),this._registerControl(e),this.updateValueAndValidity()}removeAt(t){this.controls[t]&&this.controls[t]._registerOnCollectionChange(()=>{}),this.controls.splice(t,1),this.updateValueAndValidity()}setControl(t,e){this.controls[t]&&this.controls[t]._registerOnCollectionChange(()=>{}),this.controls.splice(t,1),e&&(this.controls.splice(t,0,e),this._registerControl(e)),this.updateValueAndValidity(),this._onCollectionChange()}get length(){return this.controls.length}setValue(t,e={}){this._checkAllValuesPresent(t),t.forEach((t,n)=>{this._throwIfControlMissing(n),this.at(n).setValue(t,{onlySelf:!0,emitEvent:e.emitEvent})}),this.updateValueAndValidity(e)}patchValue(t,e={}){t.forEach((t,n)=>{this.at(n)&&this.at(n).patchValue(t,{onlySelf:!0,emitEvent:e.emitEvent})}),this.updateValueAndValidity(e)}reset(t=[],e={}){this._forEachChild((n,i)=>{n.reset(t[i],{onlySelf:!0,emitEvent:e.emitEvent})}),this._updatePristine(e),this._updateTouched(e),this.updateValueAndValidity(e)}getRawValue(){return this.controls.map(t=>t instanceof mp?t.value:t.getRawValue())}clear(){this.controls.length<1||(this._forEachChild(t=>t._registerOnCollectionChange(()=>{})),this.controls.splice(0),this.updateValueAndValidity())}_syncPendingControls(){let t=this.controls.reduce((t,e)=>!!e._syncPendingControls()||t,!1);return t&&this.updateValueAndValidity({onlySelf:!0}),t}_throwIfControlMissing(t){if(!this.controls.length)throw new Error("\n        There are no form controls registered with this array yet.  If you're using ngModel,\n        you may want to check next tick (e.g. use setTimeout).\n      ");if(!this.at(t))throw new Error(`Cannot find form control at index ${t}`)}_forEachChild(t){this.controls.forEach((e,n)=>{t(e,n)})}_updateValue(){this.value=this.controls.filter(t=>t.enabled||this.disabled).map(t=>t.value)}_anyControls(t){return this.controls.some(e=>e.enabled&&t(e))}_setUpControls(){this._forEachChild(t=>this._registerControl(t))}_checkAllValuesPresent(t){this._forEachChild((e,n)=>{if(void 0===t[n])throw new Error(`Must supply a value for form control at index: ${n}.`)})}_allControlsDisabled(){for(const t of this.controls)if(t.enabled)return!1;return this.controls.length>0||this.disabled}_registerControl(t){t.setParent(this),t._registerOnCollectionChange(this._onCollectionChange)}}const _p={provide:md,useExisting:Et(()=>bp)},vp=(()=>Promise.resolve(null))();let bp=(()=>{class t extends md{constructor(t,e){super(),this.submitted=!1,this._directives=[],this.ngSubmit=new Yl,this.form=new gp({},ip(t),rp(e))}ngAfterViewInit(){this._setUpdateStrategy()}get formDirective(){return this}get control(){return this.form}get path(){return[]}get controls(){return this.form.controls}addControl(t){vp.then(()=>{const e=this._findContainer(t.path);t.control=e.registerControl(t.name,t.control),Zd(t.control,t),t.control.updateValueAndValidity({emitEvent:!1}),this._directives.push(t)})}getControl(t){return this.form.get(t.path)}removeControl(t){vp.then(()=>{const e=this._findContainer(t.path);e&&e.removeControl(t.name),cp(this._directives,t)})}addFormGroup(t){vp.then(()=>{const e=this._findContainer(t.path),n=new gp({});tp(n,t),e.registerControl(t.name,n),n.updateValueAndValidity({emitEvent:!1})})}removeFormGroup(t){vp.then(()=>{const e=this._findContainer(t.path);e&&e.removeControl(t.name)})}getFormGroup(t){return this.form.get(t.path)}updateModel(t,e){vp.then(()=>{this.form.get(t.path).setValue(e)})}setValue(t){this.control.setValue(t)}onSubmit(t){return this.submitted=!0,ap(this.form,this._directives),this.ngSubmit.emit(t),!1}onReset(){this.resetForm()}resetForm(t){this.form.reset(t),this.submitted=!1}_setUpdateStrategy(){this.options&&null!=this.options.updateOn&&(this.form._updateOn=this.options.updateOn)}_findContainer(t){return t.pop(),t.length?this.form.get(t):this.form}}return t.\u0275fac=function(e){return new(e||t)(Ms(xd,10),Ms(Ed,10))},t.\u0275dir=be({type:t,selectors:[["form",3,"ngNoForm","",3,"formGroup",""],["ng-form"],["","ngForm",""]],hostBindings:function(t,e){1&t&&$s("submit",(function(t){return e.onSubmit(t)}))("reset",(function(){return e.onReset()}))},inputs:{options:["ngFormOptions","options"]},outputs:{ngSubmit:"ngSubmit"},exportAs:["ngForm"],features:[Ga([_p]),Ia]}),t})(),wp=(()=>{class t extends md{ngOnInit(){this._checkParentType(),this.formDirective.addFormGroup(this)}ngOnDestroy(){this.formDirective&&this.formDirective.removeFormGroup(this)}get control(){return this.formDirective.getFormGroup(this)}get path(){return Qd(null==this.name?this.name:this.name.toString(),this._parent)}get formDirective(){return this._parent?this._parent.formDirective:null}get validator(){return ip(this._validators)}get asyncValidator(){return rp(this._asyncValidators)}_checkParentType(){}}return t.\u0275fac=function(e){return Cp(e||t)},t.\u0275dir=be({type:t,features:[Ia]}),t})();const Cp=ui(wp);class xp{static modelParentException(){throw new Error(`\n      ngModel cannot be used to register form controls with a parent formGroup directive.  Try using\n      formGroup's partner directive "formControlName" instead.  Example:\n\n      ${jd}\n\n      Or, if you'd like to avoid registering this form control, indicate that it's standalone in ngModelOptions:\n\n      Example:\n\n      \n    <div [formGroup]="myGroup">\n       <input formControlName="firstName">\n       <input [(ngModel)]="showMoreControls" [ngModelOptions]="{standalone: true}">\n    </div>\n  `)}static formGroupNameException(){throw new Error(`\n      ngModel cannot be used to register form controls with a parent formGroupName or formArrayName directive.\n\n      Option 1: Use formControlName instead of ngModel (reactive strategy):\n\n      ${zd}\n\n      Option 2:  Update ngModel's parent be ngModelGroup (template-driven strategy):\n\n      ${Hd}`)}static missingNameException(){throw new Error('If ngModel is used within a form tag, either the name attribute must be set or the form\n      control must be defined as \'standalone\' in ngModelOptions.\n\n      Example 1: <input [(ngModel)]="person.firstName" name="first">\n      Example 2: <input [(ngModel)]="person.firstName" [ngModelOptions]="{standalone: true}">')}static modelGroupParentException(){throw new Error(`\n      ngModelGroup cannot be used with a parent formGroup directive.\n\n      Option 1: Use formGroupName instead of ngModelGroup (reactive strategy):\n\n      ${zd}\n\n      Option 2:  Use a regular form tag instead of the formGroup directive (template-driven strategy):\n\n      ${Hd}`)}}const Ep={provide:md,useExisting:Et(()=>Sp)};let Sp=(()=>{class t extends wp{constructor(t,e,n){super(),this._parent=t,this._validators=e,this._asyncValidators=n}_checkParentType(){this._parent instanceof t||this._parent instanceof bp||xp.modelGroupParentException()}}return t.\u0275fac=function(e){return new(e||t)(Ms(md,5),Ms(xd,10),Ms(Ed,10))},t.\u0275dir=be({type:t,selectors:[["","ngModelGroup",""]],inputs:{name:["ngModelGroup","name"]},exportAs:["ngModelGroup"],features:[Ga([Ep]),Ia]}),t})();const Pp={provide:_d,useExisting:Et(()=>kp)},Op=(()=>Promise.resolve(null))();let kp=(()=>{class t extends _d{constructor(t,e,n,i){super(),this.control=new mp,this._registered=!1,this.update=new Yl,this._parent=t,this._rawValidators=e||[],this._rawAsyncValidators=n||[],this.valueAccessor=lp(this,i)}ngOnChanges(t){this._checkForErrors(),this._registered||this._setUpControl(),"isDisabled"in t&&this._updateDisabled(t),op(t,this.viewModel)&&(this._updateValue(this.model),this.viewModel=this.model)}ngOnDestroy(){this.formDirective&&this.formDirective.removeControl(this)}get path(){return this._parent?Qd(this.name,this._parent):[this.name]}get formDirective(){return this._parent?this._parent.formDirective:null}get validator(){return ip(this._rawValidators)}get asyncValidator(){return rp(this._rawAsyncValidators)}viewToModelUpdate(t){this.viewModel=t,this.update.emit(t)}_setUpControl(){this._setUpdateStrategy(),this._isStandalone()?this._setUpStandalone():this.formDirective.addControl(this),this._registered=!0}_setUpdateStrategy(){this.options&&null!=this.options.updateOn&&(this.control._updateOn=this.options.updateOn)}_isStandalone(){return!this._parent||!(!this.options||!this.options.standalone)}_setUpStandalone(){Zd(this.control,this),this.control.updateValueAndValidity({emitEvent:!1})}_checkForErrors(){this._isStandalone()||this._checkParentType(),this._checkName()}_checkParentType(){!(this._parent instanceof Sp)&&this._parent instanceof wp?xp.formGroupNameException():this._parent instanceof Sp||this._parent instanceof bp||xp.modelParentException()}_checkName(){this.options&&this.options.name&&(this.name=this.options.name),this._isStandalone()||this.name||xp.missingNameException()}_updateValue(t){Op.then(()=>{this.control.setValue(t,{emitViewToModelChange:!1})})}_updateDisabled(t){const e=t.isDisabled.currentValue,n=""===e||e&&"false"!==e;Op.then(()=>{n&&!this.control.disabled?this.control.disable():!n&&this.control.disabled&&this.control.enable()})}}return t.\u0275fac=function(e){return new(e||t)(Ms(md,9),Ms(xd,10),Ms(Ed,10),Ms(ld,10))},t.\u0275dir=be({type:t,selectors:[["","ngModel","",3,"formControlName","",3,"formControl",""]],inputs:{name:"name",isDisabled:["disabled","isDisabled"],model:["ngModel","model"],options:["ngModelOptions","options"]},outputs:{update:"ngModelChange"},exportAs:["ngModel"],features:[Ga([Pp]),Ia,La]}),t})(),Tp=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275dir=be({type:t,selectors:[["form",3,"ngNoForm","",3,"ngNativeValidate",""]],hostAttrs:["novalidate",""]}),t})();const Ip=new jt("NgModelWithFormControlWarning"),Ap={provide:_d,useExisting:Et(()=>Mp)};let Mp=(()=>{class t extends _d{constructor(t,e,n,i){super(),this._ngModelWarningConfig=i,this.update=new Yl,this._ngModelWarningSent=!1,this._rawValidators=t||[],this._rawAsyncValidators=e||[],this.valueAccessor=lp(this,n)}set isDisabled(t){Vd.disabledAttrWarning()}ngOnChanges(e){this._isControlChanged(e)&&(Zd(this.form,this),this.control.disabled&&this.valueAccessor.setDisabledState&&this.valueAccessor.setDisabledState(!0),this.form.updateValueAndValidity({emitEvent:!1})),op(e,this.viewModel)&&(up("formControl",t,this,this._ngModelWarningConfig),this.form.setValue(this.model),this.viewModel=this.model)}get path(){return[]}get validator(){return ip(this._rawValidators)}get asyncValidator(){return rp(this._rawAsyncValidators)}get control(){return this.form}viewToModelUpdate(t){this.viewModel=t,this.update.emit(t)}_isControlChanged(t){return t.hasOwnProperty("form")}}return t.\u0275fac=function(e){return new(e||t)(Ms(xd,10),Ms(Ed,10),Ms(ld,10),Ms(Ip,8))},t.\u0275dir=be({type:t,selectors:[["","formControl",""]],inputs:{isDisabled:["disabled","isDisabled"],form:["formControl","form"],model:["ngModel","model"]},outputs:{update:"ngModelChange"},exportAs:["ngForm"],features:[Ga([Ap]),Ia,La]}),t._ngModelWarningSentOnce=!1,t})();const Dp={provide:md,useExisting:Et(()=>Rp)};let Rp=(()=>{class t extends md{constructor(t,e){super(),this._validators=t,this._asyncValidators=e,this.submitted=!1,this.directives=[],this.form=null,this.ngSubmit=new Yl}ngOnChanges(t){this._checkFormPresent(),t.hasOwnProperty("form")&&(this._updateValidators(),this._updateDomValue(),this._updateRegistrations())}get formDirective(){return this}get control(){return this.form}get path(){return[]}addControl(t){const e=this.form.get(t.path);return Zd(e,t),e.updateValueAndValidity({emitEvent:!1}),this.directives.push(t),e}getControl(t){return this.form.get(t.path)}removeControl(t){cp(this.directives,t)}addFormGroup(t){const e=this.form.get(t.path);tp(e,t),e.updateValueAndValidity({emitEvent:!1})}removeFormGroup(t){}getFormGroup(t){return this.form.get(t.path)}addFormArray(t){const e=this.form.get(t.path);tp(e,t),e.updateValueAndValidity({emitEvent:!1})}removeFormArray(t){}getFormArray(t){return this.form.get(t.path)}updateModel(t,e){this.form.get(t.path).setValue(e)}onSubmit(t){return this.submitted=!0,ap(this.form,this.directives),this.ngSubmit.emit(t),!1}onReset(){this.resetForm()}resetForm(t){this.form.reset(t),this.submitted=!1}_updateDomValue(){this.directives.forEach(t=>{const e=this.form.get(t.path);t.control!==e&&(function(t,e){e.valueAccessor.registerOnChange(()=>ep(e)),e.valueAccessor.registerOnTouched(()=>ep(e)),e._rawValidators.forEach(t=>{t.registerOnValidatorChange&&t.registerOnValidatorChange(null)}),e._rawAsyncValidators.forEach(t=>{t.registerOnValidatorChange&&t.registerOnValidatorChange(null)}),t&&t._clearChangeFns()}(t.control,t),e&&Zd(e,t),t.control=e)}),this.form._updateTreeValidity({emitEvent:!1})}_updateRegistrations(){this.form._registerOnCollectionChange(()=>this._updateDomValue()),this._oldForm&&this._oldForm._registerOnCollectionChange(()=>{}),this._oldForm=this.form}_updateValidators(){const t=ip(this._validators);this.form.validator=Pd.compose([this.form.validator,t]);const e=rp(this._asyncValidators);this.form.asyncValidator=Pd.composeAsync([this.form.asyncValidator,e])}_checkFormPresent(){this.form||Vd.missingFormException()}}return t.\u0275fac=function(e){return new(e||t)(Ms(xd,10),Ms(Ed,10))},t.\u0275dir=be({type:t,selectors:[["","formGroup",""]],hostBindings:function(t,e){1&t&&$s("submit",(function(t){return e.onSubmit(t)}))("reset",(function(){return e.onReset()}))},inputs:{form:["formGroup","form"]},outputs:{ngSubmit:"ngSubmit"},exportAs:["ngForm"],features:[Ga([Dp]),Ia,La]}),t})();const Fp={provide:md,useExisting:Et(()=>Lp)};let Lp=(()=>{class t extends wp{constructor(t,e,n){super(),this._parent=t,this._validators=e,this._asyncValidators=n}_checkParentType(){jp(this._parent)&&Vd.groupParentException()}}return t.\u0275fac=function(e){return new(e||t)(Ms(md,13),Ms(xd,10),Ms(Ed,10))},t.\u0275dir=be({type:t,selectors:[["","formGroupName",""]],inputs:{name:["formGroupName","name"]},features:[Ga([Fp]),Ia]}),t})();const Bp={provide:md,useExisting:Et(()=>Np)};let Np=(()=>{class t extends md{constructor(t,e,n){super(),this._parent=t,this._validators=e,this._asyncValidators=n}ngOnInit(){this._checkParentType(),this.formDirective.addFormArray(this)}ngOnDestroy(){this.formDirective&&this.formDirective.removeFormArray(this)}get control(){return this.formDirective.getFormArray(this)}get formDirective(){return this._parent?this._parent.formDirective:null}get path(){return Qd(null==this.name?this.name:this.name.toString(),this._parent)}get validator(){return ip(this._validators)}get asyncValidator(){return rp(this._asyncValidators)}_checkParentType(){jp(this._parent)&&Vd.arrayParentException()}}return t.\u0275fac=function(e){return new(e||t)(Ms(md,13),Ms(xd,10),Ms(Ed,10))},t.\u0275dir=be({type:t,selectors:[["","formArrayName",""]],inputs:{name:["formArrayName","name"]},features:[Ga([Bp]),Ia]}),t})();function jp(t){return!(t instanceof Lp||t instanceof Rp||t instanceof Np)}const zp={provide:_d,useExisting:Et(()=>Hp)};let Hp=(()=>{class t extends _d{constructor(t,e,n,i,r){super(),this._ngModelWarningConfig=r,this._added=!1,this.update=new Yl,this._ngModelWarningSent=!1,this._parent=t,this._rawValidators=e||[],this._rawAsyncValidators=n||[],this.valueAccessor=lp(this,i)}set isDisabled(t){Vd.disabledAttrWarning()}ngOnChanges(e){this._added||this._setUpControl(),op(e,this.viewModel)&&(up("formControlName",t,this,this._ngModelWarningConfig),this.viewModel=this.model,this.formDirective.updateModel(this,this.model))}ngOnDestroy(){this.formDirective&&this.formDirective.removeControl(this)}viewToModelUpdate(t){this.viewModel=t,this.update.emit(t)}get path(){return Qd(null==this.name?this.name:this.name.toString(),this._parent)}get formDirective(){return this._parent?this._parent.formDirective:null}get validator(){return ip(this._rawValidators)}get asyncValidator(){return rp(this._rawAsyncValidators)}_checkParentType(){!(this._parent instanceof Lp)&&this._parent instanceof wp?Vd.ngModelGroupException():this._parent instanceof Lp||this._parent instanceof Rp||this._parent instanceof Np||Vd.controlParentException()}_setUpControl(){this._checkParentType(),this.control=this.formDirective.addControl(this),this.control.disabled&&this.valueAccessor.setDisabledState&&this.valueAccessor.setDisabledState(!0),this._added=!0}}return t.\u0275fac=function(e){return new(e||t)(Ms(md,13),Ms(xd,10),Ms(Ed,10),Ms(ld,10),Ms(Ip,8))},t.\u0275dir=be({type:t,selectors:[["","formControlName",""]],inputs:{isDisabled:["disabled","isDisabled"],name:["formControlName","name"],model:["ngModel","model"]},outputs:{update:"ngModelChange"},features:[Ga([zp]),Ia,La]}),t._ngModelWarningSentOnce=!1,t})();const Vp={provide:xd,useExisting:Et(()=>Wp),multi:!0},Up={provide:xd,useExisting:Et(()=>$p),multi:!0};let Wp=(()=>{class t{get required(){return this._required}set required(t){this._required=null!=t&&!1!==t&&"false"!==`${t}`,this._onChange&&this._onChange()}validate(t){return this.required?Pd.required(t):null}registerOnValidatorChange(t){this._onChange=t}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275dir=be({type:t,selectors:[["","required","","formControlName","",3,"type","checkbox"],["","required","","formControl","",3,"type","checkbox"],["","required","","ngModel","",3,"type","checkbox"]],hostVars:1,hostBindings:function(t,e){2&t&&ks("required",e.required?"":null)},inputs:{required:"required"},features:[Ga([Vp])]}),t})(),$p=(()=>{class t extends Wp{validate(t){return this.required?Pd.requiredTrue(t):null}}return t.\u0275fac=function(e){return Gp(e||t)},t.\u0275dir=be({type:t,selectors:[["input","type","checkbox","required","","formControlName",""],["input","type","checkbox","required","","formControl",""],["input","type","checkbox","required","","ngModel",""]],hostVars:1,hostBindings:function(t,e){2&t&&ks("required",e.required?"":null)},features:[Ga([Up]),Ia]}),t})();const Gp=ui($p),qp={provide:xd,useExisting:Et(()=>Xp),multi:!0};let Xp=(()=>{class t{set email(t){this._enabled=""===t||!0===t||"true"===t,this._onChange&&this._onChange()}validate(t){return this._enabled?Pd.email(t):null}registerOnValidatorChange(t){this._onChange=t}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275dir=be({type:t,selectors:[["","email","","formControlName",""],["","email","","formControl",""],["","email","","ngModel",""]],inputs:{email:"email"},features:[Ga([qp])]}),t})();const Kp={provide:xd,useExisting:Et(()=>Yp),multi:!0};let Yp=(()=>{class t{ngOnChanges(t){"minlength"in t&&(this._createValidator(),this._onChange&&this._onChange())}validate(t){return null==this.minlength?null:this._validator(t)}registerOnValidatorChange(t){this._onChange=t}_createValidator(){this._validator=Pd.minLength("number"==typeof this.minlength?this.minlength:parseInt(this.minlength,10))}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275dir=be({type:t,selectors:[["","minlength","","formControlName",""],["","minlength","","formControl",""],["","minlength","","ngModel",""]],hostVars:1,hostBindings:function(t,e){2&t&&ks("minlength",e.minlength?e.minlength:null)},inputs:{minlength:"minlength"},features:[Ga([Kp]),La]}),t})();const Qp={provide:xd,useExisting:Et(()=>Zp),multi:!0};let Zp=(()=>{class t{ngOnChanges(t){"maxlength"in t&&(this._createValidator(),this._onChange&&this._onChange())}validate(t){return null!=this.maxlength?this._validator(t):null}registerOnValidatorChange(t){this._onChange=t}_createValidator(){this._validator=Pd.maxLength("number"==typeof this.maxlength?this.maxlength:parseInt(this.maxlength,10))}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275dir=be({type:t,selectors:[["","maxlength","","formControlName",""],["","maxlength","","formControl",""],["","maxlength","","ngModel",""]],hostVars:1,hostBindings:function(t,e){2&t&&ks("maxlength",e.maxlength?e.maxlength:null)},inputs:{maxlength:"maxlength"},features:[Ga([Qp]),La]}),t})();const Jp={provide:xd,useExisting:Et(()=>tf),multi:!0};let tf=(()=>{class t{ngOnChanges(t){"pattern"in t&&(this._createValidator(),this._onChange&&this._onChange())}validate(t){return this._validator(t)}registerOnValidatorChange(t){this._onChange=t}_createValidator(){this._validator=Pd.pattern(this.pattern)}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275dir=be({type:t,selectors:[["","pattern","","formControlName",""],["","pattern","","formControl",""],["","pattern","","ngModel",""]],hostVars:1,hostBindings:function(t,e){2&t&&ks("pattern",e.pattern?e.pattern:null)},inputs:{pattern:"pattern"},features:[Ga([Jp]),La]}),t})(),ef=(()=>{class t{}return t.\u0275mod=_e({type:t}),t.\u0275inj=dt({factory:function(e){return new(e||t)}}),t})(),nf=(()=>{class t{group(t,e=null){const n=this._reduceControls(t);let i=null,r=null,o=void 0;return null!=e&&(function(t){return void 0!==t.asyncValidators||void 0!==t.validators||void 0!==t.updateOn}(e)?(i=null!=e.validators?e.validators:null,r=null!=e.asyncValidators?e.asyncValidators:null,o=null!=e.updateOn?e.updateOn:void 0):(i=null!=e.validator?e.validator:null,r=null!=e.asyncValidator?e.asyncValidator:null)),new gp(n,{asyncValidators:r,updateOn:o,validators:i})}control(t,e,n){return new mp(t,e,n)}array(t,e,n){const i=t.map(t=>this._createControl(t));return new yp(i,e,n)}_reduceControls(t){const e={};return Object.keys(t).forEach(n=>{e[n]=this._createControl(t[n])}),e}_createControl(t){return t instanceof mp||t instanceof gp||t instanceof yp?t:Array.isArray(t)?this.control(t[0],t.length>1?t[1]:null,t.length>2?t[2]:null):this.control(t)}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275prov=ht({token:t,factory:t.\u0275fac}),t})(),rf=(()=>{class t{}return t.\u0275mod=_e({type:t}),t.\u0275inj=dt({factory:function(e){return new(e||t)},providers:[Fd],imports:[ef]}),t})(),of=(()=>{class t{static withConfig(e){return{ngModule:t,providers:[{provide:Ip,useValue:e.warnOnNgModelWithFormControl}]}}}return t.\u0275mod=_e({type:t}),t.\u0275inj=dt({factory:function(e){return new(e||t)},providers:[nf,Fd],imports:[ef]}),t})();class sf extends class extends class{}{constructor(){super()}supportsDOMEvents(){return!0}}{static makeCurrent(){var t;t=new sf,yu||(yu=t)}getProperty(t,e){return t[e]}log(t){window.console&&window.console.log&&window.console.log(t)}logGroup(t){window.console&&window.console.group&&window.console.group(t)}logGroupEnd(){window.console&&window.console.groupEnd&&window.console.groupEnd()}onAndCancel(t,e,n){return t.addEventListener(e,n,!1),()=>{t.removeEventListener(e,n,!1)}}dispatchEvent(t,e){t.dispatchEvent(e)}remove(t){return t.parentNode&&t.parentNode.removeChild(t),t}getValue(t){return t.value}createElement(t,e){return(e=e||this.getDefaultDocument()).createElement(t)}createHtmlDocument(){return document.implementation.createHTMLDocument("fakeTitle")}getDefaultDocument(){return document}isElementNode(t){return t.nodeType===Node.ELEMENT_NODE}isShadowRoot(t){return t instanceof DocumentFragment}getGlobalEventTarget(t,e){return"window"===e?window:"document"===e?t:"body"===e?t.body:null}getHistory(){return window.history}getLocation(){return window.location}getBaseHref(t){const e=lf||(lf=document.querySelector("base"),lf)?lf.getAttribute("href"):null;return null==e?null:(n=e,af||(af=document.createElement("a")),af.setAttribute("href",n),"/"===af.pathname.charAt(0)?af.pathname:"/"+af.pathname);var n}resetBaseElement(){lf=null}getUserAgent(){return window.navigator.userAgent}performanceNow(){return window.performance&&window.performance.now?window.performance.now():(new Date).getTime()}supportsCookies(){return!0}getCookie(t){return _h(document.cookie,t)}}let af,lf=null;const cf=new jt("TRANSITION_ID"),uf=[{provide:xc,useFactory:function(t,e,n){return()=>{n.get(Ec).donePromise.then(()=>{const n=_u();Array.prototype.slice.apply(e.querySelectorAll("style[ng-transition]")).filter(e=>e.getAttribute("ng-transition")===t).forEach(t=>n.remove(t))})}},deps:[cf,vu,us],multi:!0}];class hf{static init(){var t;t=new hf,iu=t}addToWindow(t){At.getAngularTestability=(e,n=!0)=>{const i=t.findTestabilityInTree(e,n);if(null==i)throw new Error("Could not find testability for element.");return i},At.getAllAngularTestabilities=()=>t.getAllTestabilities(),At.getAllAngularRootElements=()=>t.getAllRootElements(),At.frameworkStabilizers||(At.frameworkStabilizers=[]),At.frameworkStabilizers.push(t=>{const e=At.getAllAngularTestabilities();let n=e.length,i=!1;const r=function(e){i=i||e,n--,0==n&&t(i)};e.forEach((function(t){t.whenStable(r)}))})}findTestabilityInTree(t,e,n){if(null==e)return null;const i=t.getTestability(e);return null!=i?i:n?_u().isShadowRoot(e)?this.findTestabilityInTree(t,e.host,!0):this.findTestabilityInTree(t,e.parentElement,!0):null}}const df=new jt("EventManagerPlugins");let pf=(()=>{class t{constructor(t,e){this._zone=e,this._eventNameToPlugin=new Map,t.forEach(t=>t.manager=this),this._plugins=t.slice().reverse()}addEventListener(t,e,n){return this._findPluginFor(e).addEventListener(t,e,n)}addGlobalEventListener(t,e,n){return this._findPluginFor(e).addGlobalEventListener(t,e,n)}getZone(){return this._zone}_findPluginFor(t){const e=this._eventNameToPlugin.get(t);if(e)return e;const n=this._plugins;for(let i=0;i<n.length;i++){const e=n[i];if(e.supports(t))return this._eventNameToPlugin.set(t,e),e}throw new Error(`No event manager plugin found for event ${t}`)}}return t.\u0275fac=function(e){return new(e||t)(Kt(df),Kt($c))},t.\u0275prov=ht({token:t,factory:t.\u0275fac}),t})();class ff{constructor(t){this._doc=t}addGlobalEventListener(t,e,n){const i=_u().getGlobalEventTarget(this._doc,t);if(!i)throw new Error(`Unsupported event target ${i} for event ${e}`);return this.addEventListener(i,e,n)}}let mf=(()=>{class t{constructor(){this._stylesSet=new Set}addStyles(t){const e=new Set;t.forEach(t=>{this._stylesSet.has(t)||(this._stylesSet.add(t),e.add(t))}),this.onStylesAdded(e)}onStylesAdded(t){}getAllStyles(){return Array.from(this._stylesSet)}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275prov=ht({token:t,factory:t.\u0275fac}),t})(),gf=(()=>{class t extends mf{constructor(t){super(),this._doc=t,this._hostNodes=new Set,this._styleNodes=new Set,this._hostNodes.add(t.head)}_addStylesToHost(t,e){t.forEach(t=>{const n=this._doc.createElement("style");n.textContent=t,this._styleNodes.add(e.appendChild(n))})}addHost(t){this._addStylesToHost(this._stylesSet,t),this._hostNodes.add(t)}removeHost(t){this._hostNodes.delete(t)}onStylesAdded(t){this._hostNodes.forEach(e=>this._addStylesToHost(t,e))}ngOnDestroy(){this._styleNodes.forEach(t=>_u().remove(t))}}return t.\u0275fac=function(e){return new(e||t)(Kt(vu))},t.\u0275prov=ht({token:t,factory:t.\u0275fac}),t})();const yf={svg:"http://www.w3.org/2000/svg",xhtml:"http://www.w3.org/1999/xhtml",xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/"},_f=/%COMP%/g;function vf(t,e,n){for(let i=0;i<e.length;i++){let r=e[i];Array.isArray(r)?vf(t,r,n):(r=r.replace(_f,t),n.push(r))}return n}function bf(t){return e=>{if("__ngUnwrap__"===e)return t;!1===t(e)&&(e.preventDefault(),e.returnValue=!1)}}let wf=(()=>{class t{constructor(t,e,n){this.eventManager=t,this.sharedStylesHost=e,this.appId=n,this.rendererByCompId=new Map,this.defaultRenderer=new Cf(t)}createRenderer(t,e){if(!t||!e)return this.defaultRenderer;switch(e.encapsulation){case ce.Emulated:{let n=this.rendererByCompId.get(e.id);return n||(n=new xf(this.eventManager,this.sharedStylesHost,e,this.appId),this.rendererByCompId.set(e.id,n)),n.applyToHost(t),n}case ce.Native:case ce.ShadowDom:return new Ef(this.eventManager,this.sharedStylesHost,t,e);default:if(!this.rendererByCompId.has(e.id)){const t=vf(e.id,e.styles,[]);this.sharedStylesHost.addStyles(t),this.rendererByCompId.set(e.id,this.defaultRenderer)}return this.defaultRenderer}}begin(){}end(){}}return t.\u0275fac=function(e){return new(e||t)(Kt(pf),Kt(gf),Kt(Sc))},t.\u0275prov=ht({token:t,factory:t.\u0275fac}),t})();class Cf{constructor(t){this.eventManager=t,this.data=Object.create(null)}destroy(){}createElement(t,e){return e?document.createElementNS(yf[e]||e,t):document.createElement(t)}createComment(t){return document.createComment(t)}createText(t){return document.createTextNode(t)}appendChild(t,e){t.appendChild(e)}insertBefore(t,e,n){t&&t.insertBefore(e,n)}removeChild(t,e){t&&t.removeChild(e)}selectRootElement(t,e){let n="string"==typeof t?document.querySelector(t):t;if(!n)throw new Error(`The selector "${t}" did not match any elements`);return e||(n.textContent=""),n}parentNode(t){return t.parentNode}nextSibling(t){return t.nextSibling}setAttribute(t,e,n,i){if(i){e=i+":"+e;const r=yf[i];r?t.setAttributeNS(r,e,n):t.setAttribute(e,n)}else t.setAttribute(e,n)}removeAttribute(t,e,n){if(n){const i=yf[n];i?t.removeAttributeNS(i,e):t.removeAttribute(`${n}:${e}`)}else t.removeAttribute(e)}addClass(t,e){t.classList.add(e)}removeClass(t,e){t.classList.remove(e)}setStyle(t,e,n,i){i&Ja.DashCase?t.style.setProperty(e,n,i&Ja.Important?"important":""):t.style[e]=n}removeStyle(t,e,n){n&Ja.DashCase?t.style.removeProperty(e):t.style[e]=""}setProperty(t,e,n){t[e]=n}setValue(t,e){t.nodeValue=e}listen(t,e,n){return"string"==typeof t?this.eventManager.addGlobalEventListener(t,e,bf(n)):this.eventManager.addEventListener(t,e,bf(n))}}class xf extends Cf{constructor(t,e,n,i){super(t),this.component=n;const r=vf(i+"-"+n.id,n.styles,[]);e.addStyles(r),this.contentAttr="_ngcontent-%COMP%".replace(_f,i+"-"+n.id),this.hostAttr=function(t){return"_nghost-%COMP%".replace(_f,t)}(i+"-"+n.id)}applyToHost(t){super.setAttribute(t,this.hostAttr,"")}createElement(t,e){const n=super.createElement(t,e);return super.setAttribute(n,this.contentAttr,""),n}}class Ef extends Cf{constructor(t,e,n,i){super(t),this.sharedStylesHost=e,this.hostEl=n,this.component=i,this.shadowRoot=i.encapsulation===ce.ShadowDom?n.attachShadow({mode:"open"}):n.createShadowRoot(),this.sharedStylesHost.addHost(this.shadowRoot);const r=vf(i.id,i.styles,[]);for(let o=0;o<r.length;o++){const t=document.createElement("style");t.textContent=r[o],this.shadowRoot.appendChild(t)}}nodeOrShadowRoot(t){return t===this.hostEl?this.shadowRoot:t}destroy(){this.sharedStylesHost.removeHost(this.shadowRoot)}appendChild(t,e){return super.appendChild(this.nodeOrShadowRoot(t),e)}insertBefore(t,e,n){return super.insertBefore(this.nodeOrShadowRoot(t),e,n)}removeChild(t,e){return super.removeChild(this.nodeOrShadowRoot(t),e)}parentNode(t){return this.nodeOrShadowRoot(super.parentNode(this.nodeOrShadowRoot(t)))}}let Sf=(()=>{class t extends ff{constructor(t){super(t)}supports(t){return!0}addEventListener(t,e,n){return t.addEventListener(e,n,!1),()=>this.removeEventListener(t,e,n)}removeEventListener(t,e,n){return t.removeEventListener(e,n)}}return t.\u0275fac=function(e){return new(e||t)(Kt(vu))},t.\u0275prov=ht({token:t,factory:t.\u0275fac}),t})();const Pf=new jt("HammerGestureConfig");let Of=(()=>{class t{constructor(){this.events=[],this.overrides={}}buildHammer(t){const e=new Hammer(t,this.options);e.get("pinch").set({enable:!0}),e.get("rotate").set({enable:!0});for(const n in this.overrides)e.get(n).set(this.overrides[n]);return e}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275prov=ht({token:t,factory:t.\u0275fac}),t})();const kf=["alt","control","meta","shift"],Tf={"\b":"Backspace","\t":"Tab","\x7f":"Delete","\x1b":"Escape",Del:"Delete",Esc:"Escape",Left:"ArrowLeft",Right:"ArrowRight",Up:"ArrowUp",Down:"ArrowDown",Menu:"ContextMenu",Scroll:"ScrollLock",Win:"OS"},If={A:"1",B:"2",C:"3",D:"4",E:"5",F:"6",G:"7",H:"8",I:"9",J:"*",K:"+",M:"-",N:".",O:"/","`":"0","\x90":"NumLock"},Af={alt:t=>t.altKey,control:t=>t.ctrlKey,meta:t=>t.metaKey,shift:t=>t.shiftKey};let Mf=(()=>{class t extends ff{constructor(t){super(t)}supports(e){return null!=t.parseEventName(e)}addEventListener(e,n,i){const r=t.parseEventName(n),o=t.eventCallback(r.fullKey,i,this.manager.getZone());return this.manager.getZone().runOutsideAngular(()=>_u().onAndCancel(e,r.domEventName,o))}static parseEventName(e){const n=e.toLowerCase().split("."),i=n.shift();if(0===n.length||"keydown"!==i&&"keyup"!==i)return null;const r=t._normalizeKey(n.pop());let o="";if(kf.forEach(t=>{const e=n.indexOf(t);e>-1&&(n.splice(e,1),o+=t+".")}),o+=r,0!=n.length||0===r.length)return null;const s={};return s.domEventName=i,s.fullKey=o,s}static getEventFullKey(t){let e="",n=function(t){let e=t.key;if(null==e){if(e=t.keyIdentifier,null==e)return"Unidentified";e.startsWith("U+")&&(e=String.fromCharCode(parseInt(e.substring(2),16)),3===t.location&&If.hasOwnProperty(e)&&(e=If[e]))}return Tf[e]||e}(t);return n=n.toLowerCase()," "===n?n="space":"."===n&&(n="dot"),kf.forEach(i=>{i!=n&&(0,Af[i])(t)&&(e+=i+".")}),e+=n,e}static eventCallback(e,n,i){return r=>{t.getEventFullKey(r)===e&&i.runGuarded(()=>n(r))}}static _normalizeKey(t){switch(t){case"esc":return"escape";default:return t}}}return t.\u0275fac=function(e){return new(e||t)(Kt(vu))},t.\u0275prov=ht({token:t,factory:t.\u0275fac}),t})(),Df=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275prov=ht({factory:function(){return Kt(Rf)},token:t,providedIn:"root"}),t})(),Rf=(()=>{class t extends Df{constructor(t){super(),this._doc=t}sanitize(t,e){if(null==e)return null;switch(t){case Xi.NONE:return e;case Xi.HTML:return Ci(e,"HTML")?wi(e):function(t,e){let n=null;try{Gi=Gi||new Oi(t);let i=e?String(e):"";n=Gi.getInertBodyElement(i);let r=5,o=i;do{if(0===r)throw new Error("Failed to sanitize html because the input is unstable");r--,i=o,o=n.innerHTML,n=Gi.getInertBodyElement(i)}while(i!==o);const s=new Vi,a=s.sanitizeChildren(qi(n)||n);return Pi()&&s.sanitizedSomething&&console.warn("WARNING: sanitizing HTML stripped some content, see http://g.co/ng/security#xss"),a}finally{if(n){const t=qi(n)||n;for(;t.firstChild;)t.removeChild(t.firstChild)}}}(this._doc,String(e));case Xi.STYLE:return Ci(e,"Style")?wi(e):Qi(e);case Xi.SCRIPT:if(Ci(e,"Script"))return wi(e);throw new Error("unsafe value used in a script context");case Xi.URL:return xi(e),Ci(e,"URL")?wi(e):Ii(String(e));case Xi.RESOURCE_URL:if(Ci(e,"ResourceURL"))return wi(e);throw new Error("unsafe value used in a resource URL context (see http://g.co/ng/security#xss)");default:throw new Error(`Unexpected SecurityContext ${t} (see http://g.co/ng/security#xss)`)}}bypassSecurityTrustHtml(t){return new gi(t)}bypassSecurityTrustStyle(t){return new yi(t)}bypassSecurityTrustScript(t){return new _i(t)}bypassSecurityTrustUrl(t){return new vi(t)}bypassSecurityTrustResourceUrl(t){return new bi(t)}}return t.\u0275fac=function(e){return new(e||t)(Kt(vu))},t.\u0275prov=ht({factory:function(){return t=Kt(zt),new Rf(t.get(vu));var t},token:t,providedIn:"root"}),t})();const Ff=su(du,"browser",[{provide:Tc,useValue:"browser"},{provide:kc,useValue:function(){sf.makeCurrent(),hf.init()},multi:!0},{provide:vu,useFactory:function(){return function(t){Me=t}(document),document},deps:[]}]),Lf=[[],{provide:Yo,useValue:"root"},{provide:fi,useFactory:function(){return new fi},deps:[]},{provide:df,useClass:Sf,multi:!0,deps:[vu,$c,Tc]},{provide:df,useClass:Mf,multi:!0,deps:[vu]},[],{provide:wf,useClass:wf,deps:[pf,gf,Sc]},{provide:Za,useExisting:wf},{provide:mf,useExisting:gf},{provide:gf,useClass:gf,deps:[vu]},{provide:Jc,useClass:Jc,deps:[$c]},{provide:pf,useClass:pf,deps:[df,$c]},[]];let Bf=(()=>{class t{constructor(t){if(t)throw new Error("BrowserModule has already been loaded. If you need access to common directives such as NgIf and NgFor from a lazy loaded module, import CommonModule instead.")}static withServerTransition(e){return{ngModule:t,providers:[{provide:Sc,useValue:e.appId},{provide:cf,useExisting:Sc},uf]}}}return t.\u0275mod=_e({type:t}),t.\u0275inj=dt({factory:function(e){return new(e||t)(Kt(t,12))},providers:Lf,imports:[rd,fu]}),t})();"undefined"!=typeof window&&window;class Nf{}function jf(t,e){return{type:7,name:t,definitions:e,options:{}}}function zf(t,e=null){return{type:4,styles:e,timings:t}}function Hf(t,e=null){return{type:3,steps:t,options:e}}function Vf(t,e=null){return{type:2,steps:t,options:e}}function Uf(t){return{type:6,styles:t,offset:null}}function Wf(t,e,n){return{type:0,name:t,styles:e,options:n}}function $f(t){return{type:5,steps:t}}function Gf(t,e,n=null){return{type:1,expr:t,animation:e,options:n}}function qf(t=null){return{type:9,options:t}}function Xf(t,e,n=null){return{type:11,selector:t,animation:e,options:n}}function Kf(t){Promise.resolve(null).then(t)}class Yf{constructor(t=0,e=0){this._onDoneFns=[],this._onStartFns=[],this._onDestroyFns=[],this._started=!1,this._destroyed=!1,this._finished=!1,this.parentPlayer=null,this.totalTime=t+e}_onFinish(){this._finished||(this._finished=!0,this._onDoneFns.forEach(t=>t()),this._onDoneFns=[])}onStart(t){this._onStartFns.push(t)}onDone(t){this._onDoneFns.push(t)}onDestroy(t){this._onDestroyFns.push(t)}hasStarted(){return this._started}init(){}play(){this.hasStarted()||(this._onStart(),this.triggerMicrotask()),this._started=!0}triggerMicrotask(){Kf(()=>this._onFinish())}_onStart(){this._onStartFns.forEach(t=>t()),this._onStartFns=[]}pause(){}restart(){}finish(){this._onFinish()}destroy(){this._destroyed||(this._destroyed=!0,this.hasStarted()||this._onStart(),this.finish(),this._onDestroyFns.forEach(t=>t()),this._onDestroyFns=[])}reset(){}setPosition(t){}getPosition(){return 0}triggerCallback(t){const e="start"==t?this._onStartFns:this._onDoneFns;e.forEach(t=>t()),e.length=0}}class Qf{constructor(t){this._onDoneFns=[],this._onStartFns=[],this._finished=!1,this._started=!1,this._destroyed=!1,this._onDestroyFns=[],this.parentPlayer=null,this.totalTime=0,this.players=t;let e=0,n=0,i=0;const r=this.players.length;0==r?Kf(()=>this._onFinish()):this.players.forEach(t=>{t.onDone(()=>{++e==r&&this._onFinish()}),t.onDestroy(()=>{++n==r&&this._onDestroy()}),t.onStart(()=>{++i==r&&this._onStart()})}),this.totalTime=this.players.reduce((t,e)=>Math.max(t,e.totalTime),0)}_onFinish(){this._finished||(this._finished=!0,this._onDoneFns.forEach(t=>t()),this._onDoneFns=[])}init(){this.players.forEach(t=>t.init())}onStart(t){this._onStartFns.push(t)}_onStart(){this.hasStarted()||(this._started=!0,this._onStartFns.forEach(t=>t()),this._onStartFns=[])}onDone(t){this._onDoneFns.push(t)}onDestroy(t){this._onDestroyFns.push(t)}hasStarted(){return this._started}play(){this.parentPlayer||this.init(),this._onStart(),this.players.forEach(t=>t.play())}pause(){this.players.forEach(t=>t.pause())}restart(){this.players.forEach(t=>t.restart())}finish(){this._onFinish(),this.players.forEach(t=>t.finish())}destroy(){this._onDestroy()}_onDestroy(){this._destroyed||(this._destroyed=!0,this._onFinish(),this.players.forEach(t=>t.destroy()),this._onDestroyFns.forEach(t=>t()),this._onDestroyFns=[])}reset(){this.players.forEach(t=>t.reset()),this._destroyed=!1,this._finished=!1,this._started=!1}setPosition(t){const e=t*this.totalTime;this.players.forEach(t=>{const n=t.totalTime?Math.min(1,e/t.totalTime):1;t.setPosition(n)})}getPosition(){let t=0;return this.players.forEach(e=>{const n=e.getPosition();t=Math.min(n,t)}),t}beforeDestroy(){this.players.forEach(t=>{t.beforeDestroy&&t.beforeDestroy()})}triggerCallback(t){const e="start"==t?this._onStartFns:this._onDoneFns;e.forEach(t=>t()),e.length=0}}function Zf(){return"undefined"!=typeof process&&"[object process]"==={}.toString.call(process)}function Jf(t){switch(t.length){case 0:return new Yf;case 1:return t[0];default:return new Qf(t)}}function tm(t,e,n,i,r={},o={}){const s=[],a=[];let l=-1,c=null;if(i.forEach(t=>{const n=t.offset,i=n==l,u=i&&c||{};Object.keys(t).forEach(n=>{let i=n,a=t[n];if("offset"!==n)switch(i=e.normalizePropertyName(i,s),a){case"!":a=r[n];break;case"*":a=o[n];break;default:a=e.normalizeStyleValue(n,i,a,s)}u[i]=a}),i||a.push(u),c=u,l=n}),s.length){const t="\n - ";throw new Error(`Unable to animate due to the following errors:${t}${s.join(t)}`)}return a}function em(t,e,n,i){switch(e){case"start":t.onStart(()=>i(n&&nm(n,"start",t)));break;case"done":t.onDone(()=>i(n&&nm(n,"done",t)));break;case"destroy":t.onDestroy(()=>i(n&&nm(n,"destroy",t)))}}function nm(t,e,n){const i=n.totalTime,r=im(t.element,t.triggerName,t.fromState,t.toState,e||t.phaseName,null==i?t.totalTime:i,!!n.disabled),o=t._data;return null!=o&&(r._data=o),r}function im(t,e,n,i,r="",o=0,s){return{element:t,triggerName:e,fromState:n,toState:i,phaseName:r,totalTime:o,disabled:!!s}}function rm(t,e,n){let i;return t instanceof Map?(i=t.get(e),i||t.set(e,i=n)):(i=t[e],i||(i=t[e]=n)),i}function om(t){const e=t.indexOf(":");return[t.substring(1,e),t.substr(e+1)]}let sm=(t,e)=>!1,am=(t,e)=>!1,lm=(t,e,n)=>[];const cm=Zf();(cm||"undefined"!=typeof Element)&&(sm=(t,e)=>t.contains(e),am=(()=>{if(cm||Element.prototype.matches)return(t,e)=>t.matches(e);{const t=Element.prototype,e=t.matchesSelector||t.mozMatchesSelector||t.msMatchesSelector||t.oMatchesSelector||t.webkitMatchesSelector;return e?(t,n)=>e.apply(t,[n]):am}})(),lm=(t,e,n)=>{let i=[];if(n)i.push(...t.querySelectorAll(e));else{const n=t.querySelector(e);n&&i.push(n)}return i});let um=null,hm=!1;function dm(t){um||(um=("undefined"!=typeof document?document.body:null)||{},hm=!!um.style&&"WebkitAppearance"in um.style);let e=!0;return um.style&&!function(t){return"ebkit"==t.substring(1,6)}(t)&&(e=t in um.style,!e&&hm)&&(e="Webkit"+t.charAt(0).toUpperCase()+t.substr(1)in um.style),e}const pm=am,fm=sm,mm=lm;function gm(t){const e={};return Object.keys(t).forEach(n=>{const i=n.replace(/([a-z])([A-Z])/g,"$1-$2");e[i]=t[n]}),e}let ym=(()=>{class t{validateStyleProperty(t){return dm(t)}matchesElement(t,e){return pm(t,e)}containsElement(t,e){return fm(t,e)}query(t,e,n){return mm(t,e,n)}computeStyle(t,e,n){return n||""}animate(t,e,n,i,r,o=[],s){return new Yf(n,i)}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275prov=ht({token:t,factory:t.\u0275fac}),t})(),_m=(()=>{class t{}return t.NOOP=new ym,t})();function vm(t){if("number"==typeof t)return t;const e=t.match(/^(-?[\.\d]+)(m?s)/);return!e||e.length<2?0:bm(parseFloat(e[1]),e[2])}function bm(t,e){switch(e){case"s":return 1e3*t;default:return t}}function wm(t,e,n){return t.hasOwnProperty("duration")?t:function(t,e,n){let i,r=0,o="";if("string"==typeof t){const n=t.match(/^(-?[\.\d]+)(m?s)(?:\s+(-?[\.\d]+)(m?s))?(?:\s+([-a-z]+(?:\(.+?\))?))?$/i);if(null===n)return e.push(`The provided timing value "${t}" is invalid.`),{duration:0,delay:0,easing:""};i=bm(parseFloat(n[1]),n[2]);const s=n[3];null!=s&&(r=bm(parseFloat(s),n[4]));const a=n[5];a&&(o=a)}else i=t;if(!n){let n=!1,o=e.length;i<0&&(e.push("Duration values below 0 are not allowed for this animation step."),n=!0),r<0&&(e.push("Delay values below 0 are not allowed for this animation step."),n=!0),n&&e.splice(o,0,`The provided timing value "${t}" is invalid.`)}return{duration:i,delay:r,easing:o}}(t,e,n)}function Cm(t,e={}){return Object.keys(t).forEach(n=>{e[n]=t[n]}),e}function xm(t,e,n={}){if(e)for(let i in t)n[i]=t[i];else Cm(t,n);return n}function Em(t,e,n){return n?e+":"+n+";":""}function Sm(t){let e="";for(let n=0;n<t.style.length;n++){const i=t.style.item(n);e+=Em(0,i,t.style.getPropertyValue(i))}for(const n in t.style)t.style.hasOwnProperty(n)&&!n.startsWith("_")&&(e+=Em(0,n.replace(/([a-z])([A-Z])/g,"$1-$2").toLowerCase(),t.style[n]));t.setAttribute("style",e)}function Pm(t,e,n){t.style&&(Object.keys(e).forEach(i=>{const r=Rm(i);n&&!n.hasOwnProperty(i)&&(n[i]=t.style[r]),t.style[r]=e[i]}),Zf()&&Sm(t))}function Om(t,e){t.style&&(Object.keys(e).forEach(e=>{const n=Rm(e);t.style[n]=""}),Zf()&&Sm(t))}function km(t){return Array.isArray(t)?1==t.length?t[0]:Vf(t):t}const Tm=new RegExp("{{\\s*(.+?)\\s*}}","g");function Im(t){let e=[];if("string"==typeof t){let n;for(;n=Tm.exec(t);)e.push(n[1]);Tm.lastIndex=0}return e}function Am(t,e,n){const i=t.toString(),r=i.replace(Tm,(t,i)=>{let r=e[i];return e.hasOwnProperty(i)||(n.push(`Please provide a value for the animation param ${i}`),r=""),r.toString()});return r==i?t:r}function Mm(t){const e=[];let n=t.next();for(;!n.done;)e.push(n.value),n=t.next();return e}const Dm=/-+([a-z0-9])/g;function Rm(t){return t.replace(Dm,(...t)=>t[1].toUpperCase())}function Fm(t,e){return 0===t||0===e}function Lm(t,e,n){const i=Object.keys(n);if(i.length&&e.length){let o=e[0],s=[];if(i.forEach(t=>{o.hasOwnProperty(t)||s.push(t),o[t]=n[t]}),s.length)for(var r=1;r<e.length;r++){let n=e[r];s.forEach((function(e){n[e]=Nm(t,e)}))}}return e}function Bm(t,e,n){switch(e.type){case 7:return t.visitTrigger(e,n);case 0:return t.visitState(e,n);case 1:return t.visitTransition(e,n);case 2:return t.visitSequence(e,n);case 3:return t.visitGroup(e,n);case 4:return t.visitAnimate(e,n);case 5:return t.visitKeyframes(e,n);case 6:return t.visitStyle(e,n);case 8:return t.visitReference(e,n);case 9:return t.visitAnimateChild(e,n);case 10:return t.visitAnimateRef(e,n);case 11:return t.visitQuery(e,n);case 12:return t.visitStagger(e,n);default:throw new Error(`Unable to resolve animation metadata node #${e.type}`)}}function Nm(t,e){return window.getComputedStyle(t)[e]}function jm(t,e){const n=[];return"string"==typeof t?t.split(/\s*,\s*/).forEach(t=>function(t,e,n){if(":"==t[0]){const i=function(t,e){switch(t){case":enter":return"void => *";case":leave":return"* => void";case":increment":return(t,e)=>parseFloat(e)>parseFloat(t);case":decrement":return(t,e)=>parseFloat(e)<parseFloat(t);default:return e.push(`The transition alias value "${t}" is not supported`),"* => *"}}(t,n);if("function"==typeof i)return void e.push(i);t=i}const i=t.match(/^(\*|[-\w]+)\s*(<?[=-]>)\s*(\*|[-\w]+)$/);if(null==i||i.length<4)return n.push(`The provided transition expression "${t}" is not supported`),e;const r=i[1],o=i[2],s=i[3];e.push(Vm(r,s)),"<"!=o[0]||"*"==r&&"*"==s||e.push(Vm(s,r))}(t,n,e)):n.push(t),n}const zm=new Set(["true","1"]),Hm=new Set(["false","0"]);function Vm(t,e){const n=zm.has(t)||Hm.has(t),i=zm.has(e)||Hm.has(e);return(r,o)=>{let s="*"==t||t==r,a="*"==e||e==o;return!s&&n&&"boolean"==typeof r&&(s=r?zm.has(t):Hm.has(t)),!a&&i&&"boolean"==typeof o&&(a=o?zm.has(e):Hm.has(e)),s&&a}}const Um=new RegExp("s*:selfs*,?","g");function Wm(t,e,n){return new $m(t).build(e,n)}class $m{constructor(t){this._driver=t}build(t,e){const n=new Gm(e);return this._resetContextStyleTimingState(n),Bm(this,km(t),n)}_resetContextStyleTimingState(t){t.currentQuerySelector="",t.collectedStyles={},t.collectedStyles[""]={},t.currentTime=0}visitTrigger(t,e){let n=e.queryCount=0,i=e.depCount=0;const r=[],o=[];return"@"==t.name.charAt(0)&&e.errors.push("animation triggers cannot be prefixed with an `@` sign (e.g. trigger('@foo', [...]))"),t.definitions.forEach(t=>{if(this._resetContextStyleTimingState(e),0==t.type){const n=t,i=n.name;i.toString().split(/\s*,\s*/).forEach(t=>{n.name=t,r.push(this.visitState(n,e))}),n.name=i}else if(1==t.type){const r=this.visitTransition(t,e);n+=r.queryCount,i+=r.depCount,o.push(r)}else e.errors.push("only state() and transition() definitions can sit inside of a trigger()")}),{type:7,name:t.name,states:r,transitions:o,queryCount:n,depCount:i,options:null}}visitState(t,e){const n=this.visitStyle(t.styles,e),i=t.options&&t.options.params||null;if(n.containsDynamicStyles){const r=new Set,o=i||{};if(n.styles.forEach(t=>{if(qm(t)){const e=t;Object.keys(e).forEach(t=>{Im(e[t]).forEach(t=>{o.hasOwnProperty(t)||r.add(t)})})}}),r.size){const n=Mm(r.values());e.errors.push(`state("${t.name}", ...) must define default values for all the following style substitutions: ${n.join(", ")}`)}}return{type:0,name:t.name,style:n,options:i?{params:i}:null}}visitTransition(t,e){e.queryCount=0,e.depCount=0;const n=Bm(this,km(t.animation),e);return{type:1,matchers:jm(t.expr,e.errors),animation:n,queryCount:e.queryCount,depCount:e.depCount,options:Xm(t.options)}}visitSequence(t,e){return{type:2,steps:t.steps.map(t=>Bm(this,t,e)),options:Xm(t.options)}}visitGroup(t,e){const n=e.currentTime;let i=0;const r=t.steps.map(t=>{e.currentTime=n;const r=Bm(this,t,e);return i=Math.max(i,e.currentTime),r});return e.currentTime=i,{type:3,steps:r,options:Xm(t.options)}}visitAnimate(t,e){const n=function(t,e){let n=null;if(t.hasOwnProperty("duration"))n=t;else if("number"==typeof t)return Km(wm(t,e).duration,0,"");const i=t;if(i.split(/\s+/).some(t=>"{"==t.charAt(0)&&"{"==t.charAt(1))){const t=Km(0,0,"");return t.dynamic=!0,t.strValue=i,t}return n=n||wm(i,e),Km(n.duration,n.delay,n.easing)}(t.timings,e.errors);let i;e.currentAnimateTimings=n;let r=t.styles?t.styles:Uf({});if(5==r.type)i=this.visitKeyframes(r,e);else{let r=t.styles,o=!1;if(!r){o=!0;const t={};n.easing&&(t.easing=n.easing),r=Uf(t)}e.currentTime+=n.duration+n.delay;const s=this.visitStyle(r,e);s.isEmptyStep=o,i=s}return e.currentAnimateTimings=null,{type:4,timings:n,style:i,options:null}}visitStyle(t,e){const n=this._makeStyleAst(t,e);return this._validateStyleAst(n,e),n}_makeStyleAst(t,e){const n=[];Array.isArray(t.styles)?t.styles.forEach(t=>{"string"==typeof t?"*"==t?n.push(t):e.errors.push(`The provided style string value ${t} is not allowed.`):n.push(t)}):n.push(t.styles);let i=!1,r=null;return n.forEach(t=>{if(qm(t)){const e=t,n=e.easing;if(n&&(r=n,delete e.easing),!i)for(let t in e)if(e[t].toString().indexOf("{{")>=0){i=!0;break}}}),{type:6,styles:n,easing:r,offset:t.offset,containsDynamicStyles:i,options:null}}_validateStyleAst(t,e){const n=e.currentAnimateTimings;let i=e.currentTime,r=e.currentTime;n&&r>0&&(r-=n.duration+n.delay),t.styles.forEach(t=>{"string"!=typeof t&&Object.keys(t).forEach(n=>{if(!this._driver.validateStyleProperty(n))return void e.errors.push(`The provided animation property "${n}" is not a supported CSS property for animations`);const o=e.collectedStyles[e.currentQuerySelector],s=o[n];let a=!0;s&&(r!=i&&r>=s.startTime&&i<=s.endTime&&(e.errors.push(`The CSS property "${n}" that exists between the times of "${s.startTime}ms" and "${s.endTime}ms" is also being animated in a parallel animation between the times of "${r}ms" and "${i}ms"`),a=!1),r=s.startTime),a&&(o[n]={startTime:r,endTime:i}),e.options&&function(t,e,n){const i=e.params||{},r=Im(t);r.length&&r.forEach(t=>{i.hasOwnProperty(t)||n.push(`Unable to resolve the local animation param ${t} in the given list of values`)})}(t[n],e.options,e.errors)})})}visitKeyframes(t,e){const n={type:5,styles:[],options:null};if(!e.currentAnimateTimings)return e.errors.push("keyframes() must be placed inside of a call to animate()"),n;let i=0;const r=[];let o=!1,s=!1,a=0;const l=t.steps.map(t=>{const n=this._makeStyleAst(t,e);let l=null!=n.offset?n.offset:function(t){if("string"==typeof t)return null;let e=null;if(Array.isArray(t))t.forEach(t=>{if(qm(t)&&t.hasOwnProperty("offset")){const n=t;e=parseFloat(n.offset),delete n.offset}});else if(qm(t)&&t.hasOwnProperty("offset")){const n=t;e=parseFloat(n.offset),delete n.offset}return e}(n.styles),c=0;return null!=l&&(i++,c=n.offset=l),s=s||c<0||c>1,o=o||c<a,a=c,r.push(c),n});s&&e.errors.push("Please ensure that all keyframe offsets are between 0 and 1"),o&&e.errors.push("Please ensure that all keyframe offsets are in order");const c=t.steps.length;let u=0;i>0&&i<c?e.errors.push("Not all style() steps within the declared keyframes() contain offsets"):0==i&&(u=1/(c-1));const h=c-1,d=e.currentTime,p=e.currentAnimateTimings,f=p.duration;return l.forEach((t,i)=>{const o=u>0?i==h?1:u*i:r[i],s=o*f;e.currentTime=d+p.delay+s,p.duration=s,this._validateStyleAst(t,e),t.offset=o,n.styles.push(t)}),n}visitReference(t,e){return{type:8,animation:Bm(this,km(t.animation),e),options:Xm(t.options)}}visitAnimateChild(t,e){return e.depCount++,{type:9,options:Xm(t.options)}}visitAnimateRef(t,e){return{type:10,animation:this.visitReference(t.animation,e),options:Xm(t.options)}}visitQuery(t,e){const n=e.currentQuerySelector,i=t.options||{};e.queryCount++,e.currentQuery=t;const[r,o]=function(t){const e=!!t.split(/\s*,\s*/).find(t=>":self"==t);return e&&(t=t.replace(Um,"")),[t=t.replace(/@\*/g,".ng-trigger").replace(/@\w+/g,t=>".ng-trigger-"+t.substr(1)).replace(/:animating/g,".ng-animating"),e]}(t.selector);e.currentQuerySelector=n.length?n+" "+r:r,rm(e.collectedStyles,e.currentQuerySelector,{});const s=Bm(this,km(t.animation),e);return e.currentQuery=null,e.currentQuerySelector=n,{type:11,selector:r,limit:i.limit||0,optional:!!i.optional,includeSelf:o,animation:s,originalSelector:t.selector,options:Xm(t.options)}}visitStagger(t,e){e.currentQuery||e.errors.push("stagger() can only be used inside of query()");const n="full"===t.timings?{duration:0,delay:0,easing:"full"}:wm(t.timings,e.errors,!0);return{type:12,animation:Bm(this,km(t.animation),e),timings:n,options:null}}}class Gm{constructor(t){this.errors=t,this.queryCount=0,this.depCount=0,this.currentTransition=null,this.currentQuery=null,this.currentQuerySelector=null,this.currentAnimateTimings=null,this.currentTime=0,this.collectedStyles={},this.options=null}}function qm(t){return!Array.isArray(t)&&"object"==typeof t}function Xm(t){var e;return t?(t=Cm(t)).params&&(t.params=(e=t.params)?Cm(e):null):t={},t}function Km(t,e,n){return{duration:t,delay:e,easing:n}}function Ym(t,e,n,i,r,o,s=null,a=!1){return{type:1,element:t,keyframes:e,preStyleProps:n,postStyleProps:i,duration:r,delay:o,totalTime:r+o,easing:s,subTimeline:a}}class Qm{constructor(){this._map=new Map}consume(t){let e=this._map.get(t);return e?this._map.delete(t):e=[],e}append(t,e){let n=this._map.get(t);n||this._map.set(t,n=[]),n.push(...e)}has(t){return this._map.has(t)}clear(){this._map.clear()}}const Zm=new RegExp(":enter","g"),Jm=new RegExp(":leave","g");function tg(t,e,n,i,r,o={},s={},a,l,c=[]){return(new eg).buildKeyframes(t,e,n,i,r,o,s,a,l,c)}class eg{buildKeyframes(t,e,n,i,r,o,s,a,l,c=[]){l=l||new Qm;const u=new ig(t,e,l,i,r,c,[]);u.options=a,u.currentTimeline.setStyles([o],null,u.errors,a),Bm(this,n,u);const h=u.timelines.filter(t=>t.containsAnimation());if(h.length&&Object.keys(s).length){const t=h[h.length-1];t.allowOnlyTimelineStyles()||t.setStyles([s],null,u.errors,a)}return h.length?h.map(t=>t.buildKeyframes()):[Ym(e,[],[],[],0,0,"",!1)]}visitTrigger(t,e){}visitState(t,e){}visitTransition(t,e){}visitAnimateChild(t,e){const n=e.subInstructions.consume(e.element);if(n){const i=e.createSubContext(t.options),r=e.currentTimeline.currentTime,o=this._visitSubInstructions(n,i,i.options);r!=o&&e.transformIntoNewTimeline(o)}e.previousNode=t}visitAnimateRef(t,e){const n=e.createSubContext(t.options);n.transformIntoNewTimeline(),this.visitReference(t.animation,n),e.transformIntoNewTimeline(n.currentTimeline.currentTime),e.previousNode=t}_visitSubInstructions(t,e,n){let i=e.currentTimeline.currentTime;const r=null!=n.duration?vm(n.duration):null,o=null!=n.delay?vm(n.delay):null;return 0!==r&&t.forEach(t=>{const n=e.appendInstructionToTimeline(t,r,o);i=Math.max(i,n.duration+n.delay)}),i}visitReference(t,e){e.updateOptions(t.options,!0),Bm(this,t.animation,e),e.previousNode=t}visitSequence(t,e){const n=e.subContextCount;let i=e;const r=t.options;if(r&&(r.params||r.delay)&&(i=e.createSubContext(r),i.transformIntoNewTimeline(),null!=r.delay)){6==i.previousNode.type&&(i.currentTimeline.snapshotCurrentStyles(),i.previousNode=ng);const t=vm(r.delay);i.delayNextStep(t)}t.steps.length&&(t.steps.forEach(t=>Bm(this,t,i)),i.currentTimeline.applyStylesToKeyframe(),i.subContextCount>n&&i.transformIntoNewTimeline()),e.previousNode=t}visitGroup(t,e){const n=[];let i=e.currentTimeline.currentTime;const r=t.options&&t.options.delay?vm(t.options.delay):0;t.steps.forEach(o=>{const s=e.createSubContext(t.options);r&&s.delayNextStep(r),Bm(this,o,s),i=Math.max(i,s.currentTimeline.currentTime),n.push(s.currentTimeline)}),n.forEach(t=>e.currentTimeline.mergeTimelineCollectedStyles(t)),e.transformIntoNewTimeline(i),e.previousNode=t}_visitTiming(t,e){if(t.dynamic){const n=t.strValue;return wm(e.params?Am(n,e.params,e.errors):n,e.errors)}return{duration:t.duration,delay:t.delay,easing:t.easing}}visitAnimate(t,e){const n=e.currentAnimateTimings=this._visitTiming(t.timings,e),i=e.currentTimeline;n.delay&&(e.incrementTime(n.delay),i.snapshotCurrentStyles());const r=t.style;5==r.type?this.visitKeyframes(r,e):(e.incrementTime(n.duration),this.visitStyle(r,e),i.applyStylesToKeyframe()),e.currentAnimateTimings=null,e.previousNode=t}visitStyle(t,e){const n=e.currentTimeline,i=e.currentAnimateTimings;!i&&n.getCurrentStyleProperties().length&&n.forwardFrame();const r=i&&i.easing||t.easing;t.isEmptyStep?n.applyEmptyStep(r):n.setStyles(t.styles,r,e.errors,e.options),e.previousNode=t}visitKeyframes(t,e){const n=e.currentAnimateTimings,i=e.currentTimeline.duration,r=n.duration,o=e.createSubContext().currentTimeline;o.easing=n.easing,t.styles.forEach(t=>{o.forwardTime((t.offset||0)*r),o.setStyles(t.styles,t.easing,e.errors,e.options),o.applyStylesToKeyframe()}),e.currentTimeline.mergeTimelineCollectedStyles(o),e.transformIntoNewTimeline(i+r),e.previousNode=t}visitQuery(t,e){const n=e.currentTimeline.currentTime,i=t.options||{},r=i.delay?vm(i.delay):0;r&&(6===e.previousNode.type||0==n&&e.currentTimeline.getCurrentStyleProperties().length)&&(e.currentTimeline.snapshotCurrentStyles(),e.previousNode=ng);let o=n;const s=e.invokeQuery(t.selector,t.originalSelector,t.limit,t.includeSelf,!!i.optional,e.errors);e.currentQueryTotal=s.length;let a=null;s.forEach((n,i)=>{e.currentQueryIndex=i;const s=e.createSubContext(t.options,n);r&&s.delayNextStep(r),n===e.element&&(a=s.currentTimeline),Bm(this,t.animation,s),s.currentTimeline.applyStylesToKeyframe(),o=Math.max(o,s.currentTimeline.currentTime)}),e.currentQueryIndex=0,e.currentQueryTotal=0,e.transformIntoNewTimeline(o),a&&(e.currentTimeline.mergeTimelineCollectedStyles(a),e.currentTimeline.snapshotCurrentStyles()),e.previousNode=t}visitStagger(t,e){const n=e.parentContext,i=e.currentTimeline,r=t.timings,o=Math.abs(r.duration),s=o*(e.currentQueryTotal-1);let a=o*e.currentQueryIndex;switch(r.duration<0?"reverse":r.easing){case"reverse":a=s-a;break;case"full":a=n.currentStaggerTime}const l=e.currentTimeline;a&&l.delayNextStep(a);const c=l.currentTime;Bm(this,t.animation,e),e.previousNode=t,n.currentStaggerTime=i.currentTime-c+(i.startTime-n.currentTimeline.startTime)}}const ng={};class ig{constructor(t,e,n,i,r,o,s,a){this._driver=t,this.element=e,this.subInstructions=n,this._enterClassName=i,this._leaveClassName=r,this.errors=o,this.timelines=s,this.parentContext=null,this.currentAnimateTimings=null,this.previousNode=ng,this.subContextCount=0,this.options={},this.currentQueryIndex=0,this.currentQueryTotal=0,this.currentStaggerTime=0,this.currentTimeline=a||new rg(this._driver,e,0),s.push(this.currentTimeline)}get params(){return this.options.params}updateOptions(t,e){if(!t)return;const n=t;let i=this.options;null!=n.duration&&(i.duration=vm(n.duration)),null!=n.delay&&(i.delay=vm(n.delay));const r=n.params;if(r){let t=i.params;t||(t=this.options.params={}),Object.keys(r).forEach(n=>{e&&t.hasOwnProperty(n)||(t[n]=Am(r[n],t,this.errors))})}}_copyOptions(){const t={};if(this.options){const e=this.options.params;if(e){const n=t.params={};Object.keys(e).forEach(t=>{n[t]=e[t]})}}return t}createSubContext(t=null,e,n){const i=e||this.element,r=new ig(this._driver,i,this.subInstructions,this._enterClassName,this._leaveClassName,this.errors,this.timelines,this.currentTimeline.fork(i,n||0));return r.previousNode=this.previousNode,r.currentAnimateTimings=this.currentAnimateTimings,r.options=this._copyOptions(),r.updateOptions(t),r.currentQueryIndex=this.currentQueryIndex,r.currentQueryTotal=this.currentQueryTotal,r.parentContext=this,this.subContextCount++,r}transformIntoNewTimeline(t){return this.previousNode=ng,this.currentTimeline=this.currentTimeline.fork(this.element,t),this.timelines.push(this.currentTimeline),this.currentTimeline}appendInstructionToTimeline(t,e,n){const i={duration:null!=e?e:t.duration,delay:this.currentTimeline.currentTime+(null!=n?n:0)+t.delay,easing:""},r=new og(this._driver,t.element,t.keyframes,t.preStyleProps,t.postStyleProps,i,t.stretchStartingKeyframe);return this.timelines.push(r),i}incrementTime(t){this.currentTimeline.forwardTime(this.currentTimeline.duration+t)}delayNextStep(t){t>0&&this.currentTimeline.delayNextStep(t)}invokeQuery(t,e,n,i,r,o){let s=[];if(i&&s.push(this.element),t.length>0){t=(t=t.replace(Zm,"."+this._enterClassName)).replace(Jm,"."+this._leaveClassName);let e=this._driver.query(this.element,t,1!=n);0!==n&&(e=n<0?e.slice(e.length+n,e.length):e.slice(0,n)),s.push(...e)}return r||0!=s.length||o.push(`\`query("${e}")\` returned zero elements. (Use \`query("${e}", { optional: true })\` if you wish to allow this.)`),s}}class rg{constructor(t,e,n,i){this._driver=t,this.element=e,this.startTime=n,this._elementTimelineStylesLookup=i,this.duration=0,this._previousKeyframe={},this._currentKeyframe={},this._keyframes=new Map,this._styleSummary={},this._pendingStyles={},this._backFill={},this._currentEmptyStepKeyframe=null,this._elementTimelineStylesLookup||(this._elementTimelineStylesLookup=new Map),this._localTimelineStyles=Object.create(this._backFill,{}),this._globalTimelineStyles=this._elementTimelineStylesLookup.get(e),this._globalTimelineStyles||(this._globalTimelineStyles=this._localTimelineStyles,this._elementTimelineStylesLookup.set(e,this._localTimelineStyles)),this._loadKeyframe()}containsAnimation(){switch(this._keyframes.size){case 0:return!1;case 1:return this.getCurrentStyleProperties().length>0;default:return!0}}getCurrentStyleProperties(){return Object.keys(this._currentKeyframe)}get currentTime(){return this.startTime+this.duration}delayNextStep(t){const e=1==this._keyframes.size&&Object.keys(this._pendingStyles).length;this.duration||e?(this.forwardTime(this.currentTime+t),e&&this.snapshotCurrentStyles()):this.startTime+=t}fork(t,e){return this.applyStylesToKeyframe(),new rg(this._driver,t,e||this.currentTime,this._elementTimelineStylesLookup)}_loadKeyframe(){this._currentKeyframe&&(this._previousKeyframe=this._currentKeyframe),this._currentKeyframe=this._keyframes.get(this.duration),this._currentKeyframe||(this._currentKeyframe=Object.create(this._backFill,{}),this._keyframes.set(this.duration,this._currentKeyframe))}forwardFrame(){this.duration+=1,this._loadKeyframe()}forwardTime(t){this.applyStylesToKeyframe(),this.duration=t,this._loadKeyframe()}_updateStyle(t,e){this._localTimelineStyles[t]=e,this._globalTimelineStyles[t]=e,this._styleSummary[t]={time:this.currentTime,value:e}}allowOnlyTimelineStyles(){return this._currentEmptyStepKeyframe!==this._currentKeyframe}applyEmptyStep(t){t&&(this._previousKeyframe.easing=t),Object.keys(this._globalTimelineStyles).forEach(t=>{this._backFill[t]=this._globalTimelineStyles[t]||"*",this._currentKeyframe[t]="*"}),this._currentEmptyStepKeyframe=this._currentKeyframe}setStyles(t,e,n,i){e&&(this._previousKeyframe.easing=e);const r=i&&i.params||{},o=function(t,e){const n={};let i;return t.forEach(t=>{"*"===t?(i=i||Object.keys(e),i.forEach(t=>{n[t]="*"})):xm(t,!1,n)}),n}(t,this._globalTimelineStyles);Object.keys(o).forEach(t=>{const e=Am(o[t],r,n);this._pendingStyles[t]=e,this._localTimelineStyles.hasOwnProperty(t)||(this._backFill[t]=this._globalTimelineStyles.hasOwnProperty(t)?this._globalTimelineStyles[t]:"*"),this._updateStyle(t,e)})}applyStylesToKeyframe(){const t=this._pendingStyles,e=Object.keys(t);0!=e.length&&(this._pendingStyles={},e.forEach(e=>{this._currentKeyframe[e]=t[e]}),Object.keys(this._localTimelineStyles).forEach(t=>{this._currentKeyframe.hasOwnProperty(t)||(this._currentKeyframe[t]=this._localTimelineStyles[t])}))}snapshotCurrentStyles(){Object.keys(this._localTimelineStyles).forEach(t=>{const e=this._localTimelineStyles[t];this._pendingStyles[t]=e,this._updateStyle(t,e)})}getFinalKeyframe(){return this._keyframes.get(this.duration)}get properties(){const t=[];for(let e in this._currentKeyframe)t.push(e);return t}mergeTimelineCollectedStyles(t){Object.keys(t._styleSummary).forEach(e=>{const n=this._styleSummary[e],i=t._styleSummary[e];(!n||i.time>n.time)&&this._updateStyle(e,i.value)})}buildKeyframes(){this.applyStylesToKeyframe();const t=new Set,e=new Set,n=1===this._keyframes.size&&0===this.duration;let i=[];this._keyframes.forEach((r,o)=>{const s=xm(r,!0);Object.keys(s).forEach(n=>{const i=s[n];"!"==i?t.add(n):"*"==i&&e.add(n)}),n||(s.offset=o/this.duration),i.push(s)});const r=t.size?Mm(t.values()):[],o=e.size?Mm(e.values()):[];if(n){const t=i[0],e=Cm(t);t.offset=0,e.offset=1,i=[t,e]}return Ym(this.element,i,r,o,this.duration,this.startTime,this.easing,!1)}}class og extends rg{constructor(t,e,n,i,r,o,s=!1){super(t,e,o.delay),this.element=e,this.keyframes=n,this.preStyleProps=i,this.postStyleProps=r,this._stretchStartingKeyframe=s,this.timings={duration:o.duration,delay:o.delay,easing:o.easing}}containsAnimation(){return this.keyframes.length>1}buildKeyframes(){let t=this.keyframes,{delay:e,duration:n,easing:i}=this.timings;if(this._stretchStartingKeyframe&&e){const r=[],o=n+e,s=e/o,a=xm(t[0],!1);a.offset=0,r.push(a);const l=xm(t[0],!1);l.offset=sg(s),r.push(l);const c=t.length-1;for(let i=1;i<=c;i++){let s=xm(t[i],!1);s.offset=sg((e+s.offset*n)/o),r.push(s)}n=o,e=0,i="",t=r}return Ym(this.element,t,this.preStyleProps,this.postStyleProps,n,e,i,!0)}}function sg(t,e=3){const n=Math.pow(10,e-1);return Math.round(t*n)/n}class ag{}class lg extends ag{normalizePropertyName(t,e){return Rm(t)}normalizeStyleValue(t,e,n,i){let r="";const o=n.toString().trim();if(cg[e]&&0!==n&&"0"!==n)if("number"==typeof n)r="px";else{const e=n.match(/^[+-]?[\d\.]+([a-z]*)$/);e&&0==e[1].length&&i.push(`Please provide a CSS unit value for ${t}:${n}`)}return o+r}}const cg=(()=>function(t){const e={};return t.forEach(t=>e[t]=!0),e}("width,height,minWidth,minHeight,maxWidth,maxHeight,left,top,bottom,right,fontSize,outlineWidth,outlineOffset,paddingTop,paddingLeft,paddingBottom,paddingRight,marginTop,marginLeft,marginBottom,marginRight,borderRadius,borderWidth,borderTopWidth,borderLeftWidth,borderRightWidth,borderBottomWidth,textIndent,perspective".split(",")))();function ug(t,e,n,i,r,o,s,a,l,c,u,h,d){return{type:0,element:t,triggerName:e,isRemovalTransition:r,fromState:n,fromStyles:o,toState:i,toStyles:s,timelines:a,queriedElements:l,preStyleProps:c,postStyleProps:u,totalTime:h,errors:d}}const hg={};class dg{constructor(t,e,n){this._triggerName=t,this.ast=e,this._stateStyles=n}match(t,e,n,i){return function(t,e,n,i,r){return t.some(t=>t(e,n,i,r))}(this.ast.matchers,t,e,n,i)}buildStyles(t,e,n){const i=this._stateStyles["*"],r=this._stateStyles[t],o=i?i.buildStyles(e,n):{};return r?r.buildStyles(e,n):o}build(t,e,n,i,r,o,s,a,l,c){const u=[],h=this.ast.options&&this.ast.options.params||hg,d=this.buildStyles(n,s&&s.params||hg,u),p=a&&a.params||hg,f=this.buildStyles(i,p,u),m=new Set,g=new Map,y=new Map,_="void"===i,v={params:Object.assign(Object.assign({},h),p)},b=c?[]:tg(t,e,this.ast.animation,r,o,d,f,v,l,u);let w=0;if(b.forEach(t=>{w=Math.max(t.duration+t.delay,w)}),u.length)return ug(e,this._triggerName,n,i,_,d,f,[],[],g,y,w,u);b.forEach(t=>{const n=t.element,i=rm(g,n,{});t.preStyleProps.forEach(t=>i[t]=!0);const r=rm(y,n,{});t.postStyleProps.forEach(t=>r[t]=!0),n!==e&&m.add(n)});const C=Mm(m.values());return ug(e,this._triggerName,n,i,_,d,f,b,C,g,y,w)}}class pg{constructor(t,e){this.styles=t,this.defaultParams=e}buildStyles(t,e){const n={},i=Cm(this.defaultParams);return Object.keys(t).forEach(e=>{const n=t[e];null!=n&&(i[e]=n)}),this.styles.styles.forEach(t=>{if("string"!=typeof t){const r=t;Object.keys(r).forEach(t=>{let o=r[t];o.length>1&&(o=Am(o,i,e)),n[t]=o})}}),n}}class fg{constructor(t,e){this.name=t,this.ast=e,this.transitionFactories=[],this.states={},e.states.forEach(t=>{this.states[t.name]=new pg(t.style,t.options&&t.options.params||{})}),mg(this.states,"true","1"),mg(this.states,"false","0"),e.transitions.forEach(e=>{this.transitionFactories.push(new dg(t,e,this.states))}),this.fallbackTransition=new dg(t,{type:1,animation:{type:2,steps:[],options:null},matchers:[(t,e)=>!0],options:null,queryCount:0,depCount:0},this.states)}get containsQueries(){return this.ast.queryCount>0}matchTransition(t,e,n,i){return this.transitionFactories.find(r=>r.match(t,e,n,i))||null}matchStyles(t,e,n){return this.fallbackTransition.buildStyles(t,e,n)}}function mg(t,e,n){t.hasOwnProperty(e)?t.hasOwnProperty(n)||(t[n]=t[e]):t.hasOwnProperty(n)&&(t[e]=t[n])}const gg=new Qm;class yg{constructor(t,e,n){this.bodyNode=t,this._driver=e,this._normalizer=n,this._animations={},this._playersById={},this.players=[]}register(t,e){const n=[],i=Wm(this._driver,e,n);if(n.length)throw new Error(`Unable to build the animation due to the following errors: ${n.join("\n")}`);this._animations[t]=i}_buildPlayer(t,e,n){const i=t.element,r=tm(0,this._normalizer,0,t.keyframes,e,n);return this._driver.animate(i,r,t.duration,t.delay,t.easing,[],!0)}create(t,e,n={}){const i=[],r=this._animations[t];let o;const s=new Map;if(r?(o=tg(this._driver,e,r,"ng-enter","ng-leave",{},{},n,gg,i),o.forEach(t=>{const e=rm(s,t.element,{});t.postStyleProps.forEach(t=>e[t]=null)})):(i.push("The requested animation doesn't exist or has already been destroyed"),o=[]),i.length)throw new Error(`Unable to create the animation due to the following errors: ${i.join("\n")}`);s.forEach((t,e)=>{Object.keys(t).forEach(n=>{t[n]=this._driver.computeStyle(e,n,"*")})});const a=Jf(o.map(t=>{const e=s.get(t.element);return this._buildPlayer(t,{},e)}));return this._playersById[t]=a,a.onDestroy(()=>this.destroy(t)),this.players.push(a),a}destroy(t){const e=this._getPlayer(t);e.destroy(),delete this._playersById[t];const n=this.players.indexOf(e);n>=0&&this.players.splice(n,1)}_getPlayer(t){const e=this._playersById[t];if(!e)throw new Error(`Unable to find the timeline player referenced by ${t}`);return e}listen(t,e,n,i){const r=im(e,"","","");return em(this._getPlayer(t),n,r,i),()=>{}}command(t,e,n,i){if("register"==n)return void this.register(t,i[0]);if("create"==n)return void this.create(t,e,i[0]||{});const r=this._getPlayer(t);switch(n){case"play":r.play();break;case"pause":r.pause();break;case"reset":r.reset();break;case"restart":r.restart();break;case"finish":r.finish();break;case"init":r.init();break;case"setPosition":r.setPosition(parseFloat(i[0]));break;case"destroy":this.destroy(t)}}}const _g=[],vg={namespaceId:"",setForRemoval:!1,setForMove:!1,hasAnimation:!1,removedBeforeQueried:!1},bg={namespaceId:"",setForMove:!1,setForRemoval:!1,hasAnimation:!1,removedBeforeQueried:!0};class wg{constructor(t,e=""){this.namespaceId=e;const n=t&&t.hasOwnProperty("value");if(this.value=null!=(i=n?t.value:t)?i:null,n){const e=Cm(t);delete e.value,this.options=e}else this.options={};var i;this.options.params||(this.options.params={})}get params(){return this.options.params}absorbOptions(t){const e=t.params;if(e){const t=this.options.params;Object.keys(e).forEach(n=>{null==t[n]&&(t[n]=e[n])})}}}const Cg=new wg("void");class xg{constructor(t,e,n){this.id=t,this.hostElement=e,this._engine=n,this.players=[],this._triggers={},this._queue=[],this._elementListeners=new Map,this._hostClassName="ng-tns-"+t,Ig(e,this._hostClassName)}listen(t,e,n,i){if(!this._triggers.hasOwnProperty(e))throw new Error(`Unable to listen on the animation trigger event "${n}" because the animation trigger "${e}" doesn't exist!`);if(null==n||0==n.length)throw new Error(`Unable to listen on the animation trigger "${e}" because the provided event is undefined!`);if("start"!=(r=n)&&"done"!=r)throw new Error(`The provided animation trigger event "${n}" for the animation trigger "${e}" is not supported!`);var r;const o=rm(this._elementListeners,t,[]),s={name:e,phase:n,callback:i};o.push(s);const a=rm(this._engine.statesByElement,t,{});return a.hasOwnProperty(e)||(Ig(t,"ng-trigger"),Ig(t,"ng-trigger-"+e),a[e]=Cg),()=>{this._engine.afterFlush(()=>{const t=o.indexOf(s);t>=0&&o.splice(t,1),this._triggers[e]||delete a[e]})}}register(t,e){return!this._triggers[t]&&(this._triggers[t]=e,!0)}_getTrigger(t){const e=this._triggers[t];if(!e)throw new Error(`The provided animation trigger "${t}" has not been registered!`);return e}trigger(t,e,n,i=!0){const r=this._getTrigger(e),o=new Sg(this.id,e,t);let s=this._engine.statesByElement.get(t);s||(Ig(t,"ng-trigger"),Ig(t,"ng-trigger-"+e),this._engine.statesByElement.set(t,s={}));let a=s[e];const l=new wg(n,this.id);if(!(n&&n.hasOwnProperty("value"))&&a&&l.absorbOptions(a.options),s[e]=l,a||(a=Cg),"void"!==l.value&&a.value===l.value){if(!function(t,e){const n=Object.keys(t),i=Object.keys(e);if(n.length!=i.length)return!1;for(let r=0;r<n.length;r++){const i=n[r];if(!e.hasOwnProperty(i)||t[i]!==e[i])return!1}return!0}(a.params,l.params)){const e=[],n=r.matchStyles(a.value,a.params,e),i=r.matchStyles(l.value,l.params,e);e.length?this._engine.reportError(e):this._engine.afterFlush(()=>{Om(t,n),Pm(t,i)})}return}const c=rm(this._engine.playersByElement,t,[]);c.forEach(t=>{t.namespaceId==this.id&&t.triggerName==e&&t.queued&&t.destroy()});let u=r.matchTransition(a.value,l.value,t,l.params),h=!1;if(!u){if(!i)return;u=r.fallbackTransition,h=!0}return this._engine.totalQueuedPlayers++,this._queue.push({element:t,triggerName:e,transition:u,fromState:a,toState:l,player:o,isFallbackTransition:h}),h||(Ig(t,"ng-animate-queued"),o.onStart(()=>{Ag(t,"ng-animate-queued")})),o.onDone(()=>{let e=this.players.indexOf(o);e>=0&&this.players.splice(e,1);const n=this._engine.playersByElement.get(t);if(n){let t=n.indexOf(o);t>=0&&n.splice(t,1)}}),this.players.push(o),c.push(o),o}deregister(t){delete this._triggers[t],this._engine.statesByElement.forEach((e,n)=>{delete e[t]}),this._elementListeners.forEach((e,n)=>{this._elementListeners.set(n,e.filter(e=>e.name!=t))})}clearElementCache(t){this._engine.statesByElement.delete(t),this._elementListeners.delete(t);const e=this._engine.playersByElement.get(t);e&&(e.forEach(t=>t.destroy()),this._engine.playersByElement.delete(t))}_signalRemovalForInnerTriggers(t,e){const n=this._engine.driver.query(t,".ng-trigger",!0);n.forEach(t=>{if(t.__ng_removed)return;const n=this._engine.fetchNamespacesByElement(t);n.size?n.forEach(n=>n.triggerLeaveAnimation(t,e,!1,!0)):this.clearElementCache(t)}),this._engine.afterFlushAnimationsDone(()=>n.forEach(t=>this.clearElementCache(t)))}triggerLeaveAnimation(t,e,n,i){const r=this._engine.statesByElement.get(t);if(r){const o=[];if(Object.keys(r).forEach(e=>{if(this._triggers[e]){const n=this.trigger(t,e,"void",i);n&&o.push(n)}}),o.length)return this._engine.markElementAsRemoved(this.id,t,!0,e),n&&Jf(o).onDone(()=>this._engine.processLeaveNode(t)),!0}return!1}prepareLeaveAnimationListeners(t){const e=this._elementListeners.get(t);if(e){const n=new Set;e.forEach(e=>{const i=e.name;if(n.has(i))return;n.add(i);const r=this._triggers[i].fallbackTransition,o=this._engine.statesByElement.get(t)[i]||Cg,s=new wg("void"),a=new Sg(this.id,i,t);this._engine.totalQueuedPlayers++,this._queue.push({element:t,triggerName:i,transition:r,fromState:o,toState:s,player:a,isFallbackTransition:!0})})}}removeNode(t,e){const n=this._engine;if(t.childElementCount&&this._signalRemovalForInnerTriggers(t,e),this.triggerLeaveAnimation(t,e,!0))return;let i=!1;if(n.totalAnimations){const e=n.players.length?n.playersByQueriedElement.get(t):[];if(e&&e.length)i=!0;else{let e=t;for(;e=e.parentNode;)if(n.statesByElement.get(e)){i=!0;break}}}if(this.prepareLeaveAnimationListeners(t),i)n.markElementAsRemoved(this.id,t,!1,e);else{const i=t.__ng_removed;i&&i!==vg||(n.afterFlush(()=>this.clearElementCache(t)),n.destroyInnerAnimations(t),n._onRemovalComplete(t,e))}}insertNode(t,e){Ig(t,this._hostClassName)}drainQueuedTransitions(t){const e=[];return this._queue.forEach(n=>{const i=n.player;if(i.destroyed)return;const r=n.element,o=this._elementListeners.get(r);o&&o.forEach(e=>{if(e.name==n.triggerName){const i=im(r,n.triggerName,n.fromState.value,n.toState.value);i._data=t,em(n.player,e.phase,i,e.callback)}}),i.markedForDestroy?this._engine.afterFlush(()=>{i.destroy()}):e.push(n)}),this._queue=[],e.sort((t,e)=>{const n=t.transition.ast.depCount,i=e.transition.ast.depCount;return 0==n||0==i?n-i:this._engine.driver.containsElement(t.element,e.element)?1:-1})}destroy(t){this.players.forEach(t=>t.destroy()),this._signalRemovalForInnerTriggers(this.hostElement,t)}elementContainsData(t){let e=!1;return this._elementListeners.has(t)&&(e=!0),e=!!this._queue.find(e=>e.element===t)||e,e}}class Eg{constructor(t,e,n){this.bodyNode=t,this.driver=e,this._normalizer=n,this.players=[],this.newHostElements=new Map,this.playersByElement=new Map,this.playersByQueriedElement=new Map,this.statesByElement=new Map,this.disabledNodes=new Set,this.totalAnimations=0,this.totalQueuedPlayers=0,this._namespaceLookup={},this._namespaceList=[],this._flushFns=[],this._whenQuietFns=[],this.namespacesByHostElement=new Map,this.collectedEnterElements=[],this.collectedLeaveElements=[],this.onRemovalComplete=(t,e)=>{}}_onRemovalComplete(t,e){this.onRemovalComplete(t,e)}get queuedPlayers(){const t=[];return this._namespaceList.forEach(e=>{e.players.forEach(e=>{e.queued&&t.push(e)})}),t}createNamespace(t,e){const n=new xg(t,e,this);return e.parentNode?this._balanceNamespaceList(n,e):(this.newHostElements.set(e,n),this.collectEnterElement(e)),this._namespaceLookup[t]=n}_balanceNamespaceList(t,e){const n=this._namespaceList.length-1;if(n>=0){let i=!1;for(let r=n;r>=0;r--)if(this.driver.containsElement(this._namespaceList[r].hostElement,e)){this._namespaceList.splice(r+1,0,t),i=!0;break}i||this._namespaceList.splice(0,0,t)}else this._namespaceList.push(t);return this.namespacesByHostElement.set(e,t),t}register(t,e){let n=this._namespaceLookup[t];return n||(n=this.createNamespace(t,e)),n}registerTrigger(t,e,n){let i=this._namespaceLookup[t];i&&i.register(e,n)&&this.totalAnimations++}destroy(t,e){if(!t)return;const n=this._fetchNamespace(t);this.afterFlush(()=>{this.namespacesByHostElement.delete(n.hostElement),delete this._namespaceLookup[t];const e=this._namespaceList.indexOf(n);e>=0&&this._namespaceList.splice(e,1)}),this.afterFlushAnimationsDone(()=>n.destroy(e))}_fetchNamespace(t){return this._namespaceLookup[t]}fetchNamespacesByElement(t){const e=new Set,n=this.statesByElement.get(t);if(n){const t=Object.keys(n);for(let i=0;i<t.length;i++){const r=n[t[i]].namespaceId;if(r){const t=this._fetchNamespace(r);t&&e.add(t)}}}return e}trigger(t,e,n,i){if(Pg(e)){const r=this._fetchNamespace(t);if(r)return r.trigger(e,n,i),!0}return!1}insertNode(t,e,n,i){if(!Pg(e))return;const r=e.__ng_removed;if(r&&r.setForRemoval){r.setForRemoval=!1,r.setForMove=!0;const t=this.collectedLeaveElements.indexOf(e);t>=0&&this.collectedLeaveElements.splice(t,1)}if(t){const i=this._fetchNamespace(t);i&&i.insertNode(e,n)}i&&this.collectEnterElement(e)}collectEnterElement(t){this.collectedEnterElements.push(t)}markElementAsDisabled(t,e){e?this.disabledNodes.has(t)||(this.disabledNodes.add(t),Ig(t,"ng-animate-disabled")):this.disabledNodes.has(t)&&(this.disabledNodes.delete(t),Ag(t,"ng-animate-disabled"))}removeNode(t,e,n,i){if(Pg(e)){const r=t?this._fetchNamespace(t):null;if(r?r.removeNode(e,i):this.markElementAsRemoved(t,e,!1,i),n){const n=this.namespacesByHostElement.get(e);n&&n.id!==t&&n.removeNode(e,i)}}else this._onRemovalComplete(e,i)}markElementAsRemoved(t,e,n,i){this.collectedLeaveElements.push(e),e.__ng_removed={namespaceId:t,setForRemoval:i,hasAnimation:n,removedBeforeQueried:!1}}listen(t,e,n,i,r){return Pg(e)?this._fetchNamespace(t).listen(e,n,i,r):()=>{}}_buildInstruction(t,e,n,i,r){return t.transition.build(this.driver,t.element,t.fromState.value,t.toState.value,n,i,t.fromState.options,t.toState.options,e,r)}destroyInnerAnimations(t){let e=this.driver.query(t,".ng-trigger",!0);e.forEach(t=>this.destroyActiveAnimationsForElement(t)),0!=this.playersByQueriedElement.size&&(e=this.driver.query(t,".ng-animating",!0),e.forEach(t=>this.finishActiveQueriedAnimationOnElement(t)))}destroyActiveAnimationsForElement(t){const e=this.playersByElement.get(t);e&&e.forEach(t=>{t.queued?t.markedForDestroy=!0:t.destroy()})}finishActiveQueriedAnimationOnElement(t){const e=this.playersByQueriedElement.get(t);e&&e.forEach(t=>t.finish())}whenRenderingDone(){return new Promise(t=>{if(this.players.length)return Jf(this.players).onDone(()=>t());t()})}processLeaveNode(t){const e=t.__ng_removed;if(e&&e.setForRemoval){if(t.__ng_removed=vg,e.namespaceId){this.destroyInnerAnimations(t);const n=this._fetchNamespace(e.namespaceId);n&&n.clearElementCache(t)}this._onRemovalComplete(t,e.setForRemoval)}this.driver.matchesElement(t,".ng-animate-disabled")&&this.markElementAsDisabled(t,!1),this.driver.query(t,".ng-animate-disabled",!0).forEach(t=>{this.markElementAsDisabled(t,!1)})}flush(t=-1){let e=[];if(this.newHostElements.size&&(this.newHostElements.forEach((t,e)=>this._balanceNamespaceList(t,e)),this.newHostElements.clear()),this.totalAnimations&&this.collectedEnterElements.length)for(let n=0;n<this.collectedEnterElements.length;n++)Ig(this.collectedEnterElements[n],"ng-star-inserted");if(this._namespaceList.length&&(this.totalQueuedPlayers||this.collectedLeaveElements.length)){const n=[];try{e=this._flushAnimations(n,t)}finally{for(let t=0;t<n.length;t++)n[t]()}}else for(let n=0;n<this.collectedLeaveElements.length;n++)this.processLeaveNode(this.collectedLeaveElements[n]);if(this.totalQueuedPlayers=0,this.collectedEnterElements.length=0,this.collectedLeaveElements.length=0,this._flushFns.forEach(t=>t()),this._flushFns=[],this._whenQuietFns.length){const t=this._whenQuietFns;this._whenQuietFns=[],e.length?Jf(e).onDone(()=>{t.forEach(t=>t())}):t.forEach(t=>t())}}reportError(t){throw new Error(`Unable to process animations due to the following failed trigger transitions\n ${t.join("\n")}`)}_flushAnimations(t,e){const n=new Qm,i=[],r=new Map,o=[],s=new Map,a=new Map,l=new Map,c=new Set;this.disabledNodes.forEach(t=>{c.add(t);const e=this.driver.query(t,".ng-animate-queued",!0);for(let n=0;n<e.length;n++)c.add(e[n])});const u=this.bodyNode,h=Array.from(this.statesByElement.keys()),d=Tg(h,this.collectedEnterElements),p=new Map;let f=0;d.forEach((t,e)=>{const n="ng-enter"+f++;p.set(e,n),t.forEach(t=>Ig(t,n))});const m=[],g=new Set,y=new Set;for(let I=0;I<this.collectedLeaveElements.length;I++){const t=this.collectedLeaveElements[I],e=t.__ng_removed;e&&e.setForRemoval&&(m.push(t),g.add(t),e.hasAnimation?this.driver.query(t,".ng-star-inserted",!0).forEach(t=>g.add(t)):y.add(t))}const _=new Map,v=Tg(h,Array.from(g));v.forEach((t,e)=>{const n="ng-leave"+f++;_.set(e,n),t.forEach(t=>Ig(t,n))}),t.push(()=>{d.forEach((t,e)=>{const n=p.get(e);t.forEach(t=>Ag(t,n))}),v.forEach((t,e)=>{const n=_.get(e);t.forEach(t=>Ag(t,n))}),m.forEach(t=>{this.processLeaveNode(t)})});const b=[],w=[];for(let I=this._namespaceList.length-1;I>=0;I--)this._namespaceList[I].drainQueuedTransitions(e).forEach(t=>{const e=t.player,r=t.element;if(b.push(e),this.collectedEnterElements.length){const t=r.__ng_removed;if(t&&t.setForMove)return void e.destroy()}const c=!u||!this.driver.containsElement(u,r),h=_.get(r),d=p.get(r),f=this._buildInstruction(t,n,d,h,c);if(!f.errors||!f.errors.length)return c||t.isFallbackTransition?(e.onStart(()=>Om(r,f.fromStyles)),e.onDestroy(()=>Pm(r,f.toStyles)),void i.push(e)):(f.timelines.forEach(t=>t.stretchStartingKeyframe=!0),n.append(r,f.timelines),o.push({instruction:f,player:e,element:r}),f.queriedElements.forEach(t=>rm(s,t,[]).push(e)),f.preStyleProps.forEach((t,e)=>{const n=Object.keys(t);if(n.length){let t=a.get(e);t||a.set(e,t=new Set),n.forEach(e=>t.add(e))}}),void f.postStyleProps.forEach((t,e)=>{const n=Object.keys(t);let i=l.get(e);i||l.set(e,i=new Set),n.forEach(t=>i.add(t))}));w.push(f)});if(w.length){const t=[];w.forEach(e=>{t.push(`@${e.triggerName} has failed due to:\n`),e.errors.forEach(e=>t.push(`- ${e}\n`))}),b.forEach(t=>t.destroy()),this.reportError(t)}const C=new Map,x=new Map;o.forEach(t=>{const e=t.element;n.has(e)&&(x.set(e,e),this._beforeAnimationBuild(t.player.namespaceId,t.instruction,C))}),i.forEach(t=>{const e=t.element;this._getPreviousPlayers(e,!1,t.namespaceId,t.triggerName,null).forEach(t=>{rm(C,e,[]).push(t),t.destroy()})});const E=m.filter(t=>Dg(t,a,l)),S=new Map;kg(S,this.driver,y,l,"*").forEach(t=>{Dg(t,a,l)&&E.push(t)});const P=new Map;d.forEach((t,e)=>{kg(P,this.driver,new Set(t),a,"!")}),E.forEach(t=>{const e=S.get(t),n=P.get(t);S.set(t,Object.assign(Object.assign({},e),n))});const O=[],k=[],T={};o.forEach(t=>{const{element:e,player:o,instruction:s}=t;if(n.has(e)){if(c.has(e))return o.onDestroy(()=>Pm(e,s.toStyles)),o.disabled=!0,o.overrideTotalTime(s.totalTime),void i.push(o);let t=T;if(x.size>1){let n=e;const i=[];for(;n=n.parentNode;){const e=x.get(n);if(e){t=e;break}i.push(n)}i.forEach(e=>x.set(e,t))}const n=this._buildAnimation(o.namespaceId,s,C,r,P,S);if(o.setRealPlayer(n),t===T)O.push(o);else{const e=this.playersByElement.get(t);e&&e.length&&(o.parentPlayer=Jf(e)),i.push(o)}}else Om(e,s.fromStyles),o.onDestroy(()=>Pm(e,s.toStyles)),k.push(o),c.has(e)&&i.push(o)}),k.forEach(t=>{const e=r.get(t.element);if(e&&e.length){const n=Jf(e);t.setRealPlayer(n)}}),i.forEach(t=>{t.parentPlayer?t.syncPlayerEvents(t.parentPlayer):t.destroy()});for(let I=0;I<m.length;I++){const t=m[I],e=t.__ng_removed;if(Ag(t,"ng-leave"),e&&e.hasAnimation)continue;let n=[];if(s.size){let e=s.get(t);e&&e.length&&n.push(...e);let i=this.driver.query(t,".ng-animating",!0);for(let t=0;t<i.length;t++){let e=s.get(i[t]);e&&e.length&&n.push(...e)}}const i=n.filter(t=>!t.destroyed);i.length?Mg(this,t,i):this.processLeaveNode(t)}return m.length=0,O.forEach(t=>{this.players.push(t),t.onDone(()=>{t.destroy();const e=this.players.indexOf(t);this.players.splice(e,1)}),t.play()}),O}elementContainsData(t,e){let n=!1;const i=e.__ng_removed;return i&&i.setForRemoval&&(n=!0),this.playersByElement.has(e)&&(n=!0),this.playersByQueriedElement.has(e)&&(n=!0),this.statesByElement.has(e)&&(n=!0),this._fetchNamespace(t).elementContainsData(e)||n}afterFlush(t){this._flushFns.push(t)}afterFlushAnimationsDone(t){this._whenQuietFns.push(t)}_getPreviousPlayers(t,e,n,i,r){let o=[];if(e){const e=this.playersByQueriedElement.get(t);e&&(o=e)}else{const e=this.playersByElement.get(t);if(e){const t=!r||"void"==r;e.forEach(e=>{e.queued||(t||e.triggerName==i)&&o.push(e)})}}return(n||i)&&(o=o.filter(t=>!(n&&n!=t.namespaceId||i&&i!=t.triggerName))),o}_beforeAnimationBuild(t,e,n){const i=e.element,r=e.isRemovalTransition?void 0:t,o=e.isRemovalTransition?void 0:e.triggerName;for(const s of e.timelines){const t=s.element,a=t!==i,l=rm(n,t,[]);this._getPreviousPlayers(t,a,r,o,e.toState).forEach(t=>{const e=t.getRealPlayer();e.beforeDestroy&&e.beforeDestroy(),t.destroy(),l.push(t)})}Om(i,e.fromStyles)}_buildAnimation(t,e,n,i,r,o){const s=e.triggerName,a=e.element,l=[],c=new Set,u=new Set,h=e.timelines.map(e=>{const h=e.element;c.add(h);const d=h.__ng_removed;if(d&&d.removedBeforeQueried)return new Yf(e.duration,e.delay);const p=h!==a,f=function(t){const e=[];return function t(e,n){for(let i=0;i<e.length;i++){const r=e[i];r instanceof Qf?t(r.players,n):n.push(r)}}(t,e),e}((n.get(h)||_g).map(t=>t.getRealPlayer())).filter(t=>!!t.element&&t.element===h),m=r.get(h),g=o.get(h),y=tm(0,this._normalizer,0,e.keyframes,m,g),_=this._buildPlayer(e,y,f);if(e.subTimeline&&i&&u.add(h),p){const e=new Sg(t,s,h);e.setRealPlayer(_),l.push(e)}return _});l.forEach(t=>{rm(this.playersByQueriedElement,t.element,[]).push(t),t.onDone(()=>function(t,e,n){let i;if(t instanceof Map){if(i=t.get(e),i){if(i.length){const t=i.indexOf(n);i.splice(t,1)}0==i.length&&t.delete(e)}}else if(i=t[e],i){if(i.length){const t=i.indexOf(n);i.splice(t,1)}0==i.length&&delete t[e]}return i}(this.playersByQueriedElement,t.element,t))}),c.forEach(t=>Ig(t,"ng-animating"));const d=Jf(h);return d.onDestroy(()=>{c.forEach(t=>Ag(t,"ng-animating")),Pm(a,e.toStyles)}),u.forEach(t=>{rm(i,t,[]).push(d)}),d}_buildPlayer(t,e,n){return e.length>0?this.driver.animate(t.element,e,t.duration,t.delay,t.easing,n):new Yf(t.duration,t.delay)}}class Sg{constructor(t,e,n){this.namespaceId=t,this.triggerName=e,this.element=n,this._player=new Yf,this._containsRealPlayer=!1,this._queuedCallbacks={},this.destroyed=!1,this.markedForDestroy=!1,this.disabled=!1,this.queued=!0,this.totalTime=0}setRealPlayer(t){this._containsRealPlayer||(this._player=t,Object.keys(this._queuedCallbacks).forEach(e=>{this._queuedCallbacks[e].forEach(n=>em(t,e,void 0,n))}),this._queuedCallbacks={},this._containsRealPlayer=!0,this.overrideTotalTime(t.totalTime),this.queued=!1)}getRealPlayer(){return this._player}overrideTotalTime(t){this.totalTime=t}syncPlayerEvents(t){const e=this._player;e.triggerCallback&&t.onStart(()=>e.triggerCallback("start")),t.onDone(()=>this.finish()),t.onDestroy(()=>this.destroy())}_queueEvent(t,e){rm(this._queuedCallbacks,t,[]).push(e)}onDone(t){this.queued&&this._queueEvent("done",t),this._player.onDone(t)}onStart(t){this.queued&&this._queueEvent("start",t),this._player.onStart(t)}onDestroy(t){this.queued&&this._queueEvent("destroy",t),this._player.onDestroy(t)}init(){this._player.init()}hasStarted(){return!this.queued&&this._player.hasStarted()}play(){!this.queued&&this._player.play()}pause(){!this.queued&&this._player.pause()}restart(){!this.queued&&this._player.restart()}finish(){this._player.finish()}destroy(){this.destroyed=!0,this._player.destroy()}reset(){!this.queued&&this._player.reset()}setPosition(t){this.queued||this._player.setPosition(t)}getPosition(){return this.queued?0:this._player.getPosition()}triggerCallback(t){const e=this._player;e.triggerCallback&&e.triggerCallback(t)}}function Pg(t){return t&&1===t.nodeType}function Og(t,e){const n=t.style.display;return t.style.display=null!=e?e:"none",n}function kg(t,e,n,i,r){const o=[];n.forEach(t=>o.push(Og(t)));const s=[];i.forEach((n,i)=>{const o={};n.forEach(t=>{const n=o[t]=e.computeStyle(i,t,r);n&&0!=n.length||(i.__ng_removed=bg,s.push(i))}),t.set(i,o)});let a=0;return n.forEach(t=>Og(t,o[a++])),s}function Tg(t,e){const n=new Map;if(t.forEach(t=>n.set(t,[])),0==e.length)return n;const i=new Set(e),r=new Map;return e.forEach(t=>{const e=function t(e){if(!e)return 1;let o=r.get(e);if(o)return o;const s=e.parentNode;return o=n.has(s)?s:i.has(s)?1:t(s),r.set(e,o),o}(t);1!==e&&n.get(e).push(t)}),n}function Ig(t,e){if(t.classList)t.classList.add(e);else{let n=t.$$classes;n||(n=t.$$classes={}),n[e]=!0}}function Ag(t,e){if(t.classList)t.classList.remove(e);else{let n=t.$$classes;n&&delete n[e]}}function Mg(t,e,n){Jf(n).onDone(()=>t.processLeaveNode(e))}function Dg(t,e,n){const i=n.get(t);if(!i)return!1;let r=e.get(t);return r?i.forEach(t=>r.add(t)):e.set(t,i),n.delete(t),!0}class Rg{constructor(t,e,n){this.bodyNode=t,this._driver=e,this._triggerCache={},this.onRemovalComplete=(t,e)=>{},this._transitionEngine=new Eg(t,e,n),this._timelineEngine=new yg(t,e,n),this._transitionEngine.onRemovalComplete=(t,e)=>this.onRemovalComplete(t,e)}registerTrigger(t,e,n,i,r){const o=t+"-"+i;let s=this._triggerCache[o];if(!s){const t=[],e=Wm(this._driver,r,t);if(t.length)throw new Error(`The animation trigger "${i}" has failed to build due to the following errors:\n - ${t.join("\n - ")}`);s=function(t,e){return new fg(t,e)}(i,e),this._triggerCache[o]=s}this._transitionEngine.registerTrigger(e,i,s)}register(t,e){this._transitionEngine.register(t,e)}destroy(t,e){this._transitionEngine.destroy(t,e)}onInsert(t,e,n,i){this._transitionEngine.insertNode(t,e,n,i)}onRemove(t,e,n,i){this._transitionEngine.removeNode(t,e,i||!1,n)}disableAnimations(t,e){this._transitionEngine.markElementAsDisabled(t,e)}process(t,e,n,i){if("@"==n.charAt(0)){const[t,r]=om(n);this._timelineEngine.command(t,e,r,i)}else this._transitionEngine.trigger(t,e,n,i)}listen(t,e,n,i,r){if("@"==n.charAt(0)){const[t,i]=om(n);return this._timelineEngine.listen(t,e,i,r)}return this._transitionEngine.listen(t,e,n,i,r)}flush(t=-1){this._transitionEngine.flush(t)}get players(){return this._transitionEngine.players.concat(this._timelineEngine.players)}whenRenderingDone(){return this._transitionEngine.whenRenderingDone()}}function Fg(t,e){let n=null,i=null;return Array.isArray(e)&&e.length?(n=Bg(e[0]),e.length>1&&(i=Bg(e[e.length-1]))):e&&(n=Bg(e)),n||i?new Lg(t,n,i):null}let Lg=(()=>{class t{constructor(e,n,i){this._element=e,this._startStyles=n,this._endStyles=i,this._state=0;let r=t.initialStylesByElement.get(e);r||t.initialStylesByElement.set(e,r={}),this._initialStyles=r}start(){this._state<1&&(this._startStyles&&Pm(this._element,this._startStyles,this._initialStyles),this._state=1)}finish(){this.start(),this._state<2&&(Pm(this._element,this._initialStyles),this._endStyles&&(Pm(this._element,this._endStyles),this._endStyles=null),this._state=1)}destroy(){this.finish(),this._state<3&&(t.initialStylesByElement.delete(this._element),this._startStyles&&(Om(this._element,this._startStyles),this._endStyles=null),this._endStyles&&(Om(this._element,this._endStyles),this._endStyles=null),Pm(this._element,this._initialStyles),this._state=3)}}return t.initialStylesByElement=new WeakMap,t})();function Bg(t){let e=null;const n=Object.keys(t);for(let i=0;i<n.length;i++){const r=n[i];Ng(r)&&(e=e||{},e[r]=t[r])}return e}function Ng(t){return"display"===t||"position"===t}class jg{constructor(t,e,n,i,r,o,s){this._element=t,this._name=e,this._duration=n,this._delay=i,this._easing=r,this._fillMode=o,this._onDoneFn=s,this._finished=!1,this._destroyed=!1,this._startTime=0,this._position=0,this._eventFn=t=>this._handleCallback(t)}apply(){!function(t,e){const n=$g(t,"").trim();n.length&&(function(t,e){let n=0;for(let i=0;i<t.length;i++)","===t.charAt(i)&&n++}(n),e=`${n}, ${e}`),Wg(t,"",e)}(this._element,`${this._duration}ms ${this._easing} ${this._delay}ms 1 normal ${this._fillMode} ${this._name}`),Ug(this._element,this._eventFn,!1),this._startTime=Date.now()}pause(){zg(this._element,this._name,"paused")}resume(){zg(this._element,this._name,"running")}setPosition(t){const e=Hg(this._element,this._name);this._position=t*this._duration,Wg(this._element,"Delay",`-${this._position}ms`,e)}getPosition(){return this._position}_handleCallback(t){const e=t._ngTestManualTimestamp||Date.now(),n=1e3*parseFloat(t.elapsedTime.toFixed(3));t.animationName==this._name&&Math.max(e-this._startTime,0)>=this._delay&&n>=this._duration&&this.finish()}finish(){this._finished||(this._finished=!0,this._onDoneFn(),Ug(this._element,this._eventFn,!0))}destroy(){this._destroyed||(this._destroyed=!0,this.finish(),function(t,e){const n=$g(t,"").split(","),i=Vg(n,e);i>=0&&(n.splice(i,1),Wg(t,"",n.join(",")))}(this._element,this._name))}}function zg(t,e,n){Wg(t,"PlayState",n,Hg(t,e))}function Hg(t,e){const n=$g(t,"");return n.indexOf(",")>0?Vg(n.split(","),e):Vg([n],e)}function Vg(t,e){for(let n=0;n<t.length;n++)if(t[n].indexOf(e)>=0)return n;return-1}function Ug(t,e,n){n?t.removeEventListener("animationend",e):t.addEventListener("animationend",e)}function Wg(t,e,n,i){const r="animation"+e;if(null!=i){const e=t.style[r];if(e.length){const t=e.split(",");t[i]=n,n=t.join(",")}}t.style[r]=n}function $g(t,e){return t.style["animation"+e]}class Gg{constructor(t,e,n,i,r,o,s,a){this.element=t,this.keyframes=e,this.animationName=n,this._duration=i,this._delay=r,this._finalStyles=s,this._specialStyles=a,this._onDoneFns=[],this._onStartFns=[],this._onDestroyFns=[],this._started=!1,this.currentSnapshot={},this._state=0,this.easing=o||"linear",this.totalTime=i+r,this._buildStyler()}onStart(t){this._onStartFns.push(t)}onDone(t){this._onDoneFns.push(t)}onDestroy(t){this._onDestroyFns.push(t)}destroy(){this.init(),this._state>=4||(this._state=4,this._styler.destroy(),this._flushStartFns(),this._flushDoneFns(),this._specialStyles&&this._specialStyles.destroy(),this._onDestroyFns.forEach(t=>t()),this._onDestroyFns=[])}_flushDoneFns(){this._onDoneFns.forEach(t=>t()),this._onDoneFns=[]}_flushStartFns(){this._onStartFns.forEach(t=>t()),this._onStartFns=[]}finish(){this.init(),this._state>=3||(this._state=3,this._styler.finish(),this._flushStartFns(),this._specialStyles&&this._specialStyles.finish(),this._flushDoneFns())}setPosition(t){this._styler.setPosition(t)}getPosition(){return this._styler.getPosition()}hasStarted(){return this._state>=2}init(){this._state>=1||(this._state=1,this._styler.apply(),this._delay&&this._styler.pause())}play(){this.init(),this.hasStarted()||(this._flushStartFns(),this._state=2,this._specialStyles&&this._specialStyles.start()),this._styler.resume()}pause(){this.init(),this._styler.pause()}restart(){this.reset(),this.play()}reset(){this._styler.destroy(),this._buildStyler(),this._styler.apply()}_buildStyler(){this._styler=new jg(this.element,this.animationName,this._duration,this._delay,this.easing,"forwards",()=>this.finish())}triggerCallback(t){const e="start"==t?this._onStartFns:this._onDoneFns;e.forEach(t=>t()),e.length=0}beforeDestroy(){this.init();const t={};if(this.hasStarted()){const e=this._state>=3;Object.keys(this._finalStyles).forEach(n=>{"offset"!=n&&(t[n]=e?this._finalStyles[n]:Nm(this.element,n))})}this.currentSnapshot=t}}class qg extends Yf{constructor(t,e){super(),this.element=t,this._startingStyles={},this.__initialized=!1,this._styles=gm(e)}init(){!this.__initialized&&this._startingStyles&&(this.__initialized=!0,Object.keys(this._styles).forEach(t=>{this._startingStyles[t]=this.element.style[t]}),super.init())}play(){this._startingStyles&&(this.init(),Object.keys(this._styles).forEach(t=>this.element.style.setProperty(t,this._styles[t])),super.play())}destroy(){this._startingStyles&&(Object.keys(this._startingStyles).forEach(t=>{const e=this._startingStyles[t];e?this.element.style.setProperty(t,e):this.element.style.removeProperty(t)}),this._startingStyles=null,super.destroy())}}class Xg{constructor(){this._count=0,this._head=document.querySelector("head"),this._warningIssued=!1}validateStyleProperty(t){return dm(t)}matchesElement(t,e){return pm(t,e)}containsElement(t,e){return fm(t,e)}query(t,e,n){return mm(t,e,n)}computeStyle(t,e,n){return window.getComputedStyle(t)[e]}buildKeyframeElement(t,e,n){n=n.map(t=>gm(t));let i=`@keyframes ${e} {\n`,r="";n.forEach(t=>{r=" ";const e=parseFloat(t.offset);i+=`${r}${100*e}% {\n`,r+=" ",Object.keys(t).forEach(e=>{const n=t[e];switch(e){case"offset":return;case"easing":return void(n&&(i+=`${r}animation-timing-function: ${n};\n`));default:return void(i+=`${r}${e}: ${n};\n`)}}),i+=`${r}}\n`}),i+="}\n";const o=document.createElement("style");return o.innerHTML=i,o}animate(t,e,n,i,r,o=[],s){s&&this._notifyFaultyScrubber();const a=o.filter(t=>t instanceof Gg),l={};Fm(n,i)&&a.forEach(t=>{let e=t.currentSnapshot;Object.keys(e).forEach(t=>l[t]=e[t])});const c=function(t){let e={};return t&&(Array.isArray(t)?t:[t]).forEach(t=>{Object.keys(t).forEach(n=>{"offset"!=n&&"easing"!=n&&(e[n]=t[n])})}),e}(e=Lm(t,e,l));if(0==n)return new qg(t,c);const u=`gen_css_kf_${this._count++}`,h=this.buildKeyframeElement(t,u,e);document.querySelector("head").appendChild(h);const d=Fg(t,e),p=new Gg(t,e,u,n,i,r,c,d);return p.onDestroy(()=>{var t;(t=h).parentNode.removeChild(t)}),p}_notifyFaultyScrubber(){this._warningIssued||(console.warn("@angular/animations: please load the web-animations.js polyfill to allow programmatic access...\n","  visit http://bit.ly/IWukam to learn more about using the web-animation-js polyfill."),this._warningIssued=!0)}}class Kg{constructor(t,e,n,i){this.element=t,this.keyframes=e,this.options=n,this._specialStyles=i,this._onDoneFns=[],this._onStartFns=[],this._onDestroyFns=[],this._initialized=!1,this._finished=!1,this._started=!1,this._destroyed=!1,this.time=0,this.parentPlayer=null,this.currentSnapshot={},this._duration=n.duration,this._delay=n.delay||0,this.time=this._duration+this._delay}_onFinish(){this._finished||(this._finished=!0,this._onDoneFns.forEach(t=>t()),this._onDoneFns=[])}init(){this._buildPlayer(),this._preparePlayerBeforeStart()}_buildPlayer(){if(this._initialized)return;this._initialized=!0;const t=this.keyframes;this.domPlayer=this._triggerWebAnimation(this.element,t,this.options),this._finalKeyframe=t.length?t[t.length-1]:{},this.domPlayer.addEventListener("finish",()=>this._onFinish())}_preparePlayerBeforeStart(){this._delay?this._resetDomPlayerState():this.domPlayer.pause()}_triggerWebAnimation(t,e,n){return t.animate(e,n)}onStart(t){this._onStartFns.push(t)}onDone(t){this._onDoneFns.push(t)}onDestroy(t){this._onDestroyFns.push(t)}play(){this._buildPlayer(),this.hasStarted()||(this._onStartFns.forEach(t=>t()),this._onStartFns=[],this._started=!0,this._specialStyles&&this._specialStyles.start()),this.domPlayer.play()}pause(){this.init(),this.domPlayer.pause()}finish(){this.init(),this._specialStyles&&this._specialStyles.finish(),this._onFinish(),this.domPlayer.finish()}reset(){this._resetDomPlayerState(),this._destroyed=!1,this._finished=!1,this._started=!1}_resetDomPlayerState(){this.domPlayer&&this.domPlayer.cancel()}restart(){this.reset(),this.play()}hasStarted(){return this._started}destroy(){this._destroyed||(this._destroyed=!0,this._resetDomPlayerState(),this._onFinish(),this._specialStyles&&this._specialStyles.destroy(),this._onDestroyFns.forEach(t=>t()),this._onDestroyFns=[])}setPosition(t){this.domPlayer.currentTime=t*this.time}getPosition(){return this.domPlayer.currentTime/this.time}get totalTime(){return this._delay+this._duration}beforeDestroy(){const t={};this.hasStarted()&&Object.keys(this._finalKeyframe).forEach(e=>{"offset"!=e&&(t[e]=this._finished?this._finalKeyframe[e]:Nm(this.element,e))}),this.currentSnapshot=t}triggerCallback(t){const e="start"==t?this._onStartFns:this._onDoneFns;e.forEach(t=>t()),e.length=0}}class Yg{constructor(){this._isNativeImpl=/\{\s*\[native\s+code\]\s*\}/.test(Qg().toString()),this._cssKeyframesDriver=new Xg}validateStyleProperty(t){return dm(t)}matchesElement(t,e){return pm(t,e)}containsElement(t,e){return fm(t,e)}query(t,e,n){return mm(t,e,n)}computeStyle(t,e,n){return window.getComputedStyle(t)[e]}overrideWebAnimationsSupport(t){this._isNativeImpl=t}animate(t,e,n,i,r,o=[],s){if(!s&&!this._isNativeImpl)return this._cssKeyframesDriver.animate(t,e,n,i,r,o);const a={duration:n,delay:i,fill:0==i?"both":"forwards"};r&&(a.easing=r);const l={},c=o.filter(t=>t instanceof Kg);Fm(n,i)&&c.forEach(t=>{let e=t.currentSnapshot;Object.keys(e).forEach(t=>l[t]=e[t])});const u=Fg(t,e=Lm(t,e=e.map(t=>xm(t,!1)),l));return new Kg(t,e,a,u)}}function Qg(){return"undefined"!=typeof window&&void 0!==window.document&&Element.prototype.animate||{}}let Zg=(()=>{class t extends Nf{constructor(t,e){super(),this._nextAnimationId=0,this._renderer=t.createRenderer(e.body,{id:"0",encapsulation:ce.None,styles:[],data:{animation:[]}})}build(t){const e=this._nextAnimationId.toString();this._nextAnimationId++;const n=Array.isArray(t)?Vf(t):t;return ey(this._renderer,null,e,"register",[n]),new Jg(e,this._renderer)}}return t.\u0275fac=function(e){return new(e||t)(Kt(Za),Kt(vu))},t.\u0275prov=ht({token:t,factory:t.\u0275fac}),t})();class Jg extends class{}{constructor(t,e){super(),this._id=t,this._renderer=e}create(t,e){return new ty(this._id,t,e||{},this._renderer)}}class ty{constructor(t,e,n,i){this.id=t,this.element=e,this._renderer=i,this.parentPlayer=null,this._started=!1,this.totalTime=0,this._command("create",n)}_listen(t,e){return this._renderer.listen(this.element,`@@${this.id}:${t}`,e)}_command(t,...e){return ey(this._renderer,this.element,this.id,t,e)}onDone(t){this._listen("done",t)}onStart(t){this._listen("start",t)}onDestroy(t){this._listen("destroy",t)}init(){this._command("init")}hasStarted(){return this._started}play(){this._command("play"),this._started=!0}pause(){this._command("pause")}restart(){this._command("restart")}finish(){this._command("finish")}destroy(){this._command("destroy")}reset(){this._command("reset")}setPosition(t){this._command("setPosition",t)}getPosition(){return 0}}function ey(t,e,n,i,r){return t.setProperty(e,`@@${n}:${i}`,r)}let ny=(()=>{class t{constructor(t,e,n){this.delegate=t,this.engine=e,this._zone=n,this._currentId=0,this._microtaskId=1,this._animationCallbacksBuffer=[],this._rendererCache=new Map,this._cdRecurDepth=0,this.promise=Promise.resolve(0),e.onRemovalComplete=(t,e)=>{e&&e.parentNode(t)&&e.removeChild(t.parentNode,t)}}createRenderer(t,e){const n=this.delegate.createRenderer(t,e);if(!(t&&e&&e.data&&e.data.animation)){let t=this._rendererCache.get(n);return t||(t=new iy("",n,this.engine),this._rendererCache.set(n,t)),t}const i=e.id,r=e.id+"-"+this._currentId;this._currentId++,this.engine.register(r,t);const o=e=>{Array.isArray(e)?e.forEach(o):this.engine.registerTrigger(i,r,t,e.name,e)};return e.data.animation.forEach(o),new ry(this,r,n,this.engine)}begin(){this._cdRecurDepth++,this.delegate.begin&&this.delegate.begin()}_scheduleCountTask(){this.promise.then(()=>{this._microtaskId++})}scheduleListenerCallback(t,e,n){t>=0&&t<this._microtaskId?this._zone.run(()=>e(n)):(0==this._animationCallbacksBuffer.length&&Promise.resolve(null).then(()=>{this._zone.run(()=>{this._animationCallbacksBuffer.forEach(t=>{const[e,n]=t;e(n)}),this._animationCallbacksBuffer=[]})}),this._animationCallbacksBuffer.push([e,n]))}end(){this._cdRecurDepth--,0==this._cdRecurDepth&&this._zone.runOutsideAngular(()=>{this._scheduleCountTask(),this.engine.flush(this._microtaskId)}),this.delegate.end&&this.delegate.end()}whenRenderingDone(){return this.engine.whenRenderingDone()}}return t.\u0275fac=function(e){return new(e||t)(Kt(Za),Kt(Rg),Kt($c))},t.\u0275prov=ht({token:t,factory:t.\u0275fac}),t})();class iy{constructor(t,e,n){this.namespaceId=t,this.delegate=e,this.engine=n,this.destroyNode=this.delegate.destroyNode?t=>e.destroyNode(t):null}get data(){return this.delegate.data}destroy(){this.engine.destroy(this.namespaceId,this.delegate),this.delegate.destroy()}createElement(t,e){return this.delegate.createElement(t,e)}createComment(t){return this.delegate.createComment(t)}createText(t){return this.delegate.createText(t)}appendChild(t,e){this.delegate.appendChild(t,e),this.engine.onInsert(this.namespaceId,e,t,!1)}insertBefore(t,e,n){this.delegate.insertBefore(t,e,n),this.engine.onInsert(this.namespaceId,e,t,!0)}removeChild(t,e,n){this.engine.onRemove(this.namespaceId,e,this.delegate,n)}selectRootElement(t,e){return this.delegate.selectRootElement(t,e)}parentNode(t){return this.delegate.parentNode(t)}nextSibling(t){return this.delegate.nextSibling(t)}setAttribute(t,e,n,i){this.delegate.setAttribute(t,e,n,i)}removeAttribute(t,e,n){this.delegate.removeAttribute(t,e,n)}addClass(t,e){this.delegate.addClass(t,e)}removeClass(t,e){this.delegate.removeClass(t,e)}setStyle(t,e,n,i){this.delegate.setStyle(t,e,n,i)}removeStyle(t,e,n){this.delegate.removeStyle(t,e,n)}setProperty(t,e,n){"@"==e.charAt(0)&&"@.disabled"==e?this.disableAnimations(t,!!n):this.delegate.setProperty(t,e,n)}setValue(t,e){this.delegate.setValue(t,e)}listen(t,e,n){return this.delegate.listen(t,e,n)}disableAnimations(t,e){this.engine.disableAnimations(t,e)}}class ry extends iy{constructor(t,e,n,i){super(e,n,i),this.factory=t,this.namespaceId=e}setProperty(t,e,n){"@"==e.charAt(0)?"."==e.charAt(1)&&"@.disabled"==e?this.disableAnimations(t,n=void 0===n||!!n):this.engine.process(this.namespaceId,t,e.substr(1),n):this.delegate.setProperty(t,e,n)}listen(t,e,n){if("@"==e.charAt(0)){const i=function(t){switch(t){case"body":return document.body;case"document":return document;case"window":return window;default:return t}}(t);let r=e.substr(1),o="";return"@"!=r.charAt(0)&&([r,o]=function(t){const e=t.indexOf(".");return[t.substring(0,e),t.substr(e+1)]}(r)),this.engine.listen(this.namespaceId,i,r,o,t=>{this.factory.scheduleListenerCallback(t._data||-1,n,t)})}return this.delegate.listen(t,e,n)}}let oy=(()=>{class t extends Rg{constructor(t,e,n){super(t.body,e,n)}}return t.\u0275fac=function(e){return new(e||t)(Kt(vu),Kt(_m),Kt(ag))},t.\u0275prov=ht({token:t,factory:t.\u0275fac}),t})();const sy=new jt("AnimationModuleType"),ay=[{provide:_m,useFactory:function(){return"function"==typeof Qg()?new Yg:new Xg}},{provide:sy,useValue:"BrowserAnimations"},{provide:Nf,useClass:Zg},{provide:ag,useFactory:function(){return new lg}},{provide:Rg,useClass:oy},{provide:Za,useFactory:function(t,e,n){return new ny(t,e,n)},deps:[wf,Rg,$c]}];let ly=(()=>{class t{}return t.\u0275mod=_e({type:t}),t.\u0275inj=dt({factory:function(e){return new(e||t)},providers:ay,imports:[Bf]}),t})();function cy(t){return null!=t&&"false"!==`${t}`}function uy(t,e=0){return function(t){return!isNaN(parseFloat(t))&&!isNaN(Number(t))}(t)?Number(t):e}function hy(t){return Array.isArray(t)?t:[t]}function dy(t){return null==t?"":"string"==typeof t?t:`${t}px`}function py(t){return t instanceof Ya?t.nativeElement:t}function fy(...t){let e=t[t.length-1];return S(e)?(t.pop(),N(t,e)):W(t)}function my(t,e,n,r){return i(n)&&(r=n,n=void 0),r?my(t,e,n).pipe(F(t=>l(t)?r(...t):r(t))):new _(i=>{!function t(e,n,i,r,o){let s;if(function(t){return t&&"function"==typeof t.addEventListener&&"function"==typeof t.removeEventListener}(e)){const t=e;e.addEventListener(n,i,o),s=()=>t.removeEventListener(n,i,o)}else if(function(t){return t&&"function"==typeof t.on&&"function"==typeof t.off}(e)){const t=e;e.on(n,i),s=()=>t.off(n,i)}else if(function(t){return t&&"function"==typeof t.addListener&&"function"==typeof t.removeListener}(e)){const t=e;e.addListener(n,i),s=()=>t.removeListener(n,i)}else{if(!e||!e.length)throw new TypeError("Invalid event target");for(let s=0,a=e.length;s<a;s++)t(e[s],n,i,r,o)}r.add(s)}(t,e,(function(t){i.next(arguments.length>1?Array.prototype.slice.call(arguments):t)}),i,n)})}class gy extends h{constructor(t,e){super()}schedule(t,e=0){return this}}class yy extends gy{constructor(t,e){super(t,e),this.scheduler=t,this.work=e,this.pending=!1}schedule(t,e=0){if(this.closed)return this;this.state=t;const n=this.id,i=this.scheduler;return null!=n&&(this.id=this.recycleAsyncId(i,n,e)),this.pending=!0,this.delay=e,this.id=this.id||this.requestAsyncId(i,this.id,e),this}requestAsyncId(t,e,n=0){return setInterval(t.flush.bind(t,this),n)}recycleAsyncId(t,e,n=0){if(null!==n&&this.delay===n&&!1===this.pending)return e;clearInterval(e)}execute(t,e){if(this.closed)return new Error("executing a cancelled action");this.pending=!1;const n=this._execute(t,e);if(n)return n;!1===this.pending&&null!=this.id&&(this.id=this.recycleAsyncId(this.scheduler,this.id,null))}_execute(t,e){let n=!1,i=void 0;try{this.work(t)}catch(r){n=!0,i=!!r&&r||new Error(r)}if(n)return this.unsubscribe(),i}_unsubscribe(){const t=this.id,e=this.scheduler,n=e.actions,i=n.indexOf(this);this.work=null,this.state=null,this.pending=!1,this.scheduler=null,-1!==i&&n.splice(i,1),null!=t&&(this.id=this.recycleAsyncId(e,t,null)),this.delay=null}}class _y extends yy{constructor(t,e){super(t,e),this.scheduler=t,this.work=e}requestAsyncId(t,e,n=0){return null!==n&&n>0?super.requestAsyncId(t,e,n):(t.actions.push(this),t.scheduled||(t.scheduled=requestAnimationFrame(()=>t.flush(null))))}recycleAsyncId(t,e,n=0){if(null!==n&&n>0||null===n&&this.delay>0)return super.recycleAsyncId(t,e,n);0===t.actions.length&&(cancelAnimationFrame(e),t.scheduled=void 0)}}let vy=(()=>{class t{constructor(e,n=t.now){this.SchedulerAction=e,this.now=n}schedule(t,e=0,n){return new this.SchedulerAction(this,t).schedule(n,e)}}return t.now=()=>Date.now(),t})();class by extends vy{constructor(t,e=vy.now){super(t,()=>by.delegate&&by.delegate!==this?by.delegate.now():e()),this.actions=[],this.active=!1,this.scheduled=void 0}schedule(t,e=0,n){return by.delegate&&by.delegate!==this?by.delegate.schedule(t,e,n):super.schedule(t,e,n)}flush(t){const{actions:e}=this;if(this.active)return void e.push(t);let n;this.active=!0;do{if(n=t.execute(t.state,t.delay))break}while(t=e.shift());if(this.active=!1,n){for(;t=e.shift();)t.unsubscribe();throw n}}}class wy extends by{flush(t){this.active=!0,this.scheduled=void 0;const{actions:e}=this;let n,i=-1,r=e.length;t=t||e.shift();do{if(n=t.execute(t.state,t.delay))break}while(++i<r&&(t=e.shift()));if(this.active=!1,n){for(;++i<r&&(t=e.shift());)t.unsubscribe();throw n}}}const Cy=new wy(_y);let xy=1;const Ey=(()=>Promise.resolve())(),Sy={};function Py(t){return t in Sy&&(delete Sy[t],!0)}const Oy={setImmediate(t){const e=xy++;return Sy[e]=!0,Ey.then(()=>Py(e)&&t()),e},clearImmediate(t){Py(t)}};class ky extends yy{constructor(t,e){super(t,e),this.scheduler=t,this.work=e}requestAsyncId(t,e,n=0){return null!==n&&n>0?super.requestAsyncId(t,e,n):(t.actions.push(this),t.scheduled||(t.scheduled=Oy.setImmediate(t.flush.bind(t,null))))}recycleAsyncId(t,e,n=0){if(null!==n&&n>0||null===n&&this.delay>0)return super.recycleAsyncId(t,e,n);0===t.actions.length&&(Oy.clearImmediate(e),t.scheduled=void 0)}}class Ty extends by{flush(t){this.active=!0,this.scheduled=void 0;const{actions:e}=this;let n,i=-1,r=e.length;t=t||e.shift();do{if(n=t.execute(t.state,t.delay))break}while(++i<r&&(t=e.shift()));if(this.active=!1,n){for(;++i<r&&(t=e.shift());)t.unsubscribe();throw n}}}const Iy=new Ty(ky);function Ay(t){return!!t&&(t instanceof _||"function"==typeof t.lift&&"function"==typeof t.subscribe)}function My(t,e){return n=>n.lift(new Dy(t,e))}class Dy{constructor(t,e){this.compare=t,this.keySelector=e}call(t,e){return e.subscribe(new Ry(t,this.compare,this.keySelector))}}class Ry extends f{constructor(t,e,n){super(t),this.keySelector=n,this.hasKey=!1,"function"==typeof e&&(this.compare=e)}compare(t,e){return t===e}_next(t){let e;try{const{keySelector:n}=this;e=n?n(t):t}catch(i){return this.destination.error(i)}let n=!1;if(this.hasKey)try{const{compare:t}=this;n=t(this.key,e)}catch(i){return this.destination.error(i)}else this.hasKey=!0;n||(this.key=e,this.destination.next(t))}}const Fy=new by(yy);class Ly{constructor(t){this.durationSelector=t}call(t,e){return e.subscribe(new By(t,this.durationSelector))}}class By extends R{constructor(t,e){super(t),this.durationSelector=e,this.hasValue=!1}_next(t){if(this.value=t,this.hasValue=!0,!this.throttled){let n;try{const{durationSelector:e}=this;n=e(t)}catch(e){return this.destination.error(e)}const i=D(this,n);!i||i.closed?this.clearThrottle():this.add(this.throttled=i)}}clearThrottle(){const{value:t,hasValue:e,throttled:n}=this;n&&(this.remove(n),this.throttled=null,n.unsubscribe()),e&&(this.value=null,this.hasValue=!1,this.destination.next(t))}notifyNext(t,e,n,i){this.clearThrottle()}notifyComplete(){this.clearThrottle()}}function Ny(t){return!l(t)&&t-parseFloat(t)+1>=0}function jy(t=0,e,n){let i=-1;return Ny(e)?i=Number(e)<1?1:Number(e):S(e)&&(n=e),S(n)||(n=Fy),new _(e=>{const r=Ny(t)?t:+t-n.now();return n.schedule(zy,r,{index:0,period:i,subscriber:e})})}function zy(t){const{index:e,period:n,subscriber:i}=t;if(i.next(e),!i.closed){if(-1===n)return i.complete();t.index=e+1,this.schedule(t,n)}}function Hy(t,e=Fy){return n=()=>jy(t,e),function(t){return t.lift(new Ly(n))};var n}function Vy(t,e){return function(n){return n.lift(new Uy(t,e))}}class Uy{constructor(t,e){this.predicate=t,this.thisArg=e}call(t,e){return e.subscribe(new Wy(t,this.predicate,this.thisArg))}}class Wy extends f{constructor(t,e,n){super(t),this.predicate=e,this.thisArg=n,this.count=0}_next(t){let e;try{e=this.predicate.call(this.thisArg,t,this.count++)}catch(n){return void this.destination.error(n)}e&&this.destination.next(t)}}function $y(t){return e=>e.lift(new Gy(t))}class Gy{constructor(t){this.notifier=t}call(t,e){const n=new qy(t),i=D(n,this.notifier);return i&&!n.seenValue?(n.add(i),e.subscribe(n)):n}}class qy extends R{constructor(t){super(t),this.seenValue=!1}notifyNext(t,e,n,i,r){this.seenValue=!0,this.complete()}notifyComplete(){}}function Xy(...t){return U(1)(fy(...t))}function Ky(...t){const e=t[t.length-1];return S(e)?(t.pop(),n=>Xy(t,n,e)):e=>Xy(t,e)}class Yy{call(t,e){return e.subscribe(new Qy(t))}}class Qy extends f{constructor(t){super(t),this.hasPrev=!1}_next(t){let e;this.hasPrev?e=[this.prev,t]:this.hasPrev=!0,this.prev=t,e&&this.destination.next(e)}}function Zy(t,e){return"function"==typeof e?n=>n.pipe(Zy((n,i)=>j(t(n,i)).pipe(F((t,r)=>e(n,t,i,r))))):e=>e.lift(new Jy(t))}class Jy{constructor(t){this.project=t}call(t,e){return e.subscribe(new t_(t,this.project))}}class t_ extends R{constructor(t,e){super(t),this.project=e,this.index=0}_next(t){let e;const n=this.index++;try{e=this.project(t,n)}catch(i){return void this.destination.error(i)}this._innerSub(e,t,n)}_innerSub(t,e,n){const i=this.innerSubscription;i&&i.unsubscribe();const r=new P(this,e,n),o=this.destination;o.add(r),this.innerSubscription=D(this,t,void 0,void 0,r),this.innerSubscription!==r&&o.add(this.innerSubscription)}_complete(){const{innerSubscription:t}=this;t&&!t.closed||super._complete(),this.unsubscribe()}_unsubscribe(){this.innerSubscription=null}notifyComplete(t){this.destination.remove(t),this.innerSubscription=null,this.isStopped&&super._complete()}notifyNext(t,e,n,i,r){this.destination.next(e)}}class e_ extends yy{constructor(t,e){super(t,e),this.scheduler=t,this.work=e}schedule(t,e=0){return e>0?super.schedule(t,e):(this.delay=e,this.state=t,this.scheduler.flush(this),this)}execute(t,e){return e>0||this.closed?super.execute(t,e):this._execute(t,e)}requestAsyncId(t,e,n=0){return null!==n&&n>0||null===n&&this.delay>0?super.requestAsyncId(t,e,n):t.flush(this)}}class n_ extends by{}const i_=new n_(e_),r_=new _(t=>t.complete());function o_(t){return t?function(t){return new _(e=>t.schedule(()=>e.complete()))}(t):r_}function s_(t,e){return new _(e?n=>e.schedule(a_,0,{error:t,subscriber:n}):e=>e.error(t))}function a_({error:t,subscriber:e}){e.error(t)}let l_,c_=(()=>{class t{constructor(t,e,n){this.kind=t,this.value=e,this.error=n,this.hasValue="N"===t}observe(t){switch(this.kind){case"N":return t.next&&t.next(this.value);case"E":return t.error&&t.error(this.error);case"C":return t.complete&&t.complete()}}do(t,e,n){switch(this.kind){case"N":return t&&t(this.value);case"E":return e&&e(this.error);case"C":return n&&n()}}accept(t,e,n){return t&&"function"==typeof t.next?this.observe(t):this.do(t,e,n)}toObservable(){switch(this.kind){case"N":return fy(this.value);case"E":return s_(this.error);case"C":return o_()}throw new Error("unexpected notification kind value")}static createNext(e){return void 0!==e?new t("N",e):t.undefinedValueNotification}static createError(e){return new t("E",void 0,e)}static createComplete(){return t.completeNotification}}return t.completeNotification=new t("C"),t.undefinedValueNotification=new t("N",void 0),t})();class u_{constructor(t,e=0){this.scheduler=t,this.delay=e}call(t,e){return e.subscribe(new h_(t,this.scheduler,this.delay))}}class h_ extends f{constructor(t,e,n=0){super(t),this.scheduler=e,this.delay=n}static dispatch(t){const{notification:e,destination:n}=t;e.observe(n),this.unsubscribe()}scheduleMessage(t){this.destination.add(this.scheduler.schedule(h_.dispatch,this.delay,new d_(t,this.destination)))}_next(t){this.scheduleMessage(c_.createNext(t))}_error(t){this.scheduleMessage(c_.createError(t)),this.unsubscribe()}_complete(){this.scheduleMessage(c_.createComplete()),this.unsubscribe()}}class d_{constructor(t,e){this.notification=t,this.destination=e}}class p_ extends x{constructor(t=Number.POSITIVE_INFINITY,e=Number.POSITIVE_INFINITY,n){super(),this.scheduler=n,this._events=[],this._infiniteTimeWindow=!1,this._bufferSize=t<1?1:t,this._windowTime=e<1?1:e,e===Number.POSITIVE_INFINITY?(this._infiniteTimeWindow=!0,this.next=this.nextInfiniteTimeWindow):this.next=this.nextTimeWindow}nextInfiniteTimeWindow(t){const e=this._events;e.push(t),e.length>this._bufferSize&&e.shift(),super.next(t)}nextTimeWindow(t){this._events.push(new f_(this._getNow(),t)),this._trimBufferThenGetEvents(),super.next(t)}_subscribe(t){const e=this._infiniteTimeWindow,n=e?this._events:this._trimBufferThenGetEvents(),i=this.scheduler,r=n.length;let o;if(this.closed)throw new b;if(this.isStopped||this.hasError?o=h.EMPTY:(this.observers.push(t),o=new w(this,t)),i&&t.add(t=new h_(t,i)),e)for(let s=0;s<r&&!t.closed;s++)t.next(n[s]);else for(let s=0;s<r&&!t.closed;s++)t.next(n[s].value);return this.hasError?t.error(this.thrownError):this.isStopped&&t.complete(),o}_getNow(){return(this.scheduler||i_).now()}_trimBufferThenGetEvents(){const t=this._getNow(),e=this._bufferSize,n=this._windowTime,i=this._events,r=i.length;let o=0;for(;o<r&&!(t-i[o].time<n);)o++;return r>e&&(o=Math.max(o,r-e)),o>0&&i.splice(0,o),i}}class f_{constructor(t,e){this.time=t,this.value=e}}function m_(t,e,n){let i;return i=t&&"object"==typeof t?t:{bufferSize:t,windowTime:e,refCount:!1,scheduler:n},t=>t.lift(function({bufferSize:t=Number.POSITIVE_INFINITY,windowTime:e=Number.POSITIVE_INFINITY,refCount:n,scheduler:i}){let r,o,s=0,a=!1,l=!1;return function(c){s++,r&&!a||(a=!1,r=new p_(t,e,i),o=c.subscribe({next(t){r.next(t)},error(t){a=!0,r.error(t)},complete(){l=!0,o=void 0,r.complete()}}));const u=r.subscribe(this);this.add(()=>{s--,u.unsubscribe(),o&&!l&&n&&0===s&&(o.unsubscribe(),o=void 0,r=void 0)})}}(i))}try{l_="undefined"!=typeof Intl&&Intl.v8BreakIterator}catch(tit){l_=!1}let g_,y_=(()=>{class t{constructor(t){this._platformId=t,this.isBrowser=this._platformId?od(this._platformId):"object"==typeof document&&!!document,this.EDGE=this.isBrowser&&/(edge)/i.test(navigator.userAgent),this.TRIDENT=this.isBrowser&&/(msie|trident)/i.test(navigator.userAgent),this.BLINK=this.isBrowser&&!(!window.chrome&&!l_)&&"undefined"!=typeof CSS&&!this.EDGE&&!this.TRIDENT,this.WEBKIT=this.isBrowser&&/AppleWebKit/i.test(navigator.userAgent)&&!this.BLINK&&!this.EDGE&&!this.TRIDENT,this.IOS=this.isBrowser&&/iPad|iPhone|iPod/.test(navigator.userAgent)&&!("MSStream"in window),this.FIREFOX=this.isBrowser&&/(firefox|minefield)/i.test(navigator.userAgent),this.ANDROID=this.isBrowser&&/android/i.test(navigator.userAgent)&&!this.TRIDENT,this.SAFARI=this.isBrowser&&/safari/i.test(navigator.userAgent)&&this.WEBKIT}}return t.\u0275fac=function(e){return new(e||t)(Kt(Tc,8))},t.\u0275prov=ht({factory:function(){return new t(Kt(Tc,8))},token:t,providedIn:"root"}),t})(),__=(()=>{class t{}return t.\u0275mod=_e({type:t}),t.\u0275inj=dt({factory:function(e){return new(e||t)}}),t})();const v_=["color","button","checkbox","date","datetime-local","email","file","hidden","image","month","number","password","radio","range","reset","search","submit","tel","text","time","url","week"];function b_(){if(g_)return g_;if("object"!=typeof document||!document)return g_=new Set(v_),g_;let t=document.createElement("input");return g_=new Set(v_.filter(e=>(t.setAttribute("type",e),t.type===e))),g_}let w_,C_,x_;function E_(t){return function(){if(null==w_&&"undefined"!=typeof window)try{window.addEventListener("test",null,Object.defineProperty({},"passive",{get:()=>w_=!0}))}finally{w_=w_||!1}return w_}()?t:!!t.capture}function S_(){if("object"!=typeof document||!document)return 0;if(null==C_){const t=document.createElement("div"),e=t.style;t.dir="rtl",e.height="1px",e.width="1px",e.overflow="auto",e.visibility="hidden",e.pointerEvents="none",e.position="absolute";const n=document.createElement("div"),i=n.style;i.width="2px",i.height="1px",t.appendChild(n),document.body.appendChild(t),C_=0,0===t.scrollLeft&&(t.scrollLeft=1,C_=0===t.scrollLeft?1:2),t.parentNode.removeChild(t)}return C_}function P_(t){if(function(){if(null==x_){const t="undefined"!=typeof document?document.head:null;x_=!(!t||!t.createShadowRoot&&!t.attachShadow)}return x_}()){const e=t.getRootNode?t.getRootNode():null;if("undefined"!=typeof ShadowRoot&&ShadowRoot&&e instanceof ShadowRoot)return e}return null}const O_=new jt("cdk-dir-doc",{providedIn:"root",factory:function(){return Yt(vu)}});let k_=(()=>{class t{constructor(t){if(this.value="ltr",this.change=new Yl,t){const e=t.documentElement?t.documentElement.dir:null,n=(t.body?t.body.dir:null)||e;this.value="ltr"===n||"rtl"===n?n:"ltr"}}ngOnDestroy(){this.change.complete()}}return t.\u0275fac=function(e){return new(e||t)(Kt(O_,8))},t.\u0275prov=ht({factory:function(){return new t(Kt(O_,8))},token:t,providedIn:"root"}),t})(),T_=(()=>{class t{constructor(){this._dir="ltr",this._isInitialized=!1,this.change=new Yl}get dir(){return this._dir}set dir(t){const e=this._dir,n=t?t.toLowerCase():t;this._rawDir=t,this._dir="ltr"===n||"rtl"===n?n:"ltr",e!==this._dir&&this._isInitialized&&this.change.emit(this._dir)}get value(){return this.dir}ngAfterContentInit(){this._isInitialized=!0}ngOnDestroy(){this.change.complete()}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275dir=be({type:t,selectors:[["","dir",""]],hostVars:1,hostBindings:function(t,e){2&t&&ks("dir",e._rawDir)},inputs:{dir:"dir"},outputs:{change:"dirChange"},exportAs:["dir"],features:[Ga([{provide:k_,useExisting:t}])]}),t})(),I_=(()=>{class t{}return t.\u0275mod=_e({type:t}),t.\u0275inj=dt({factory:function(e){return new(e||t)}}),t})();class A_{constructor(t=!1,e,n=!0){this._multiple=t,this._emitChanges=n,this._selection=new Set,this._deselectedToEmit=[],this._selectedToEmit=[],this.changed=new x,e&&e.length&&(t?e.forEach(t=>this._markSelected(t)):this._markSelected(e[0]),this._selectedToEmit.length=0)}get selected(){return this._selected||(this._selected=Array.from(this._selection.values())),this._selected}select(...t){this._verifyValueAssignment(t),t.forEach(t=>this._markSelected(t)),this._emitChangeEvent()}deselect(...t){this._verifyValueAssignment(t),t.forEach(t=>this._unmarkSelected(t)),this._emitChangeEvent()}toggle(t){this.isSelected(t)?this.deselect(t):this.select(t)}clear(){this._unmarkAll(),this._emitChangeEvent()}isSelected(t){return this._selection.has(t)}isEmpty(){return 0===this._selection.size}hasValue(){return!this.isEmpty()}sort(t){this._multiple&&this.selected&&this._selected.sort(t)}isMultipleSelection(){return this._multiple}_emitChangeEvent(){this._selected=null,(this._selectedToEmit.length||this._deselectedToEmit.length)&&(this.changed.next({source:this,added:this._selectedToEmit,removed:this._deselectedToEmit}),this._deselectedToEmit=[],this._selectedToEmit=[])}_markSelected(t){this.isSelected(t)||(this._multiple||this._unmarkAll(),this._selection.add(t),this._emitChanges&&this._selectedToEmit.push(t))}_unmarkSelected(t){this.isSelected(t)&&(this._selection.delete(t),this._emitChanges&&this._deselectedToEmit.push(t))}_unmarkAll(){this.isEmpty()||this._selection.forEach(t=>this._unmarkSelected(t))}_verifyValueAssignment(t){if(t.length>1&&!this._multiple)throw Error("Cannot pass multiple values into SelectionModel with single-value mode.")}}let M_=(()=>{class t{constructor(){this._listeners=[]}notify(t,e){for(let n of this._listeners)n(t,e)}listen(t){return this._listeners.push(t),()=>{this._listeners=this._listeners.filter(e=>t!==e)}}ngOnDestroy(){this._listeners=[]}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275prov=ht({factory:function(){return new t},token:t,providedIn:"root"}),t})(),D_=(()=>{class t{constructor(t,e,n){this._ngZone=t,this._platform=e,this._scrolled=new x,this._globalSubscription=null,this._scrolledCount=0,this.scrollContainers=new Map,this._document=n}register(t){this.scrollContainers.has(t)||this.scrollContainers.set(t,t.elementScrolled().subscribe(()=>this._scrolled.next(t)))}deregister(t){const e=this.scrollContainers.get(t);e&&(e.unsubscribe(),this.scrollContainers.delete(t))}scrolled(t=20){return this._platform.isBrowser?new _(e=>{this._globalSubscription||this._addGlobalListener();const n=t>0?this._scrolled.pipe(Hy(t)).subscribe(e):this._scrolled.subscribe(e);return this._scrolledCount++,()=>{n.unsubscribe(),this._scrolledCount--,this._scrolledCount||this._removeGlobalListener()}}):fy()}ngOnDestroy(){this._removeGlobalListener(),this.scrollContainers.forEach((t,e)=>this.deregister(e)),this._scrolled.complete()}ancestorScrolled(t,e){const n=this.getAncestorScrollContainers(t);return this.scrolled(e).pipe(Vy(t=>!t||n.indexOf(t)>-1))}getAncestorScrollContainers(t){const e=[];return this.scrollContainers.forEach((n,i)=>{this._scrollableContainsElement(i,t)&&e.push(i)}),e}_getDocument(){return this._document||document}_getWindow(){return this._getDocument().defaultView||window}_scrollableContainsElement(t,e){let n=e.nativeElement,i=t.getElementRef().nativeElement;do{if(n==i)return!0}while(n=n.parentElement);return!1}_addGlobalListener(){this._globalSubscription=this._ngZone.runOutsideAngular(()=>my(this._getWindow().document,"scroll").subscribe(()=>this._scrolled.next()))}_removeGlobalListener(){this._globalSubscription&&(this._globalSubscription.unsubscribe(),this._globalSubscription=null)}}return t.\u0275fac=function(e){return new(e||t)(Kt($c),Kt(y_),Kt(vu,8))},t.\u0275prov=ht({factory:function(){return new t(Kt($c),Kt(y_),Kt(vu,8))},token:t,providedIn:"root"}),t})(),R_=(()=>{class t{constructor(t,e,n,i){this.elementRef=t,this.scrollDispatcher=e,this.ngZone=n,this.dir=i,this._destroyed=new x,this._elementScrolled=new _(t=>this.ngZone.runOutsideAngular(()=>my(this.elementRef.nativeElement,"scroll").pipe($y(this._destroyed)).subscribe(t)))}ngOnInit(){this.scrollDispatcher.register(this)}ngOnDestroy(){this.scrollDispatcher.deregister(this),this._destroyed.next(),this._destroyed.complete()}elementScrolled(){return this._elementScrolled}getElementRef(){return this.elementRef}scrollTo(t){const e=this.elementRef.nativeElement,n=this.dir&&"rtl"==this.dir.value;null==t.left&&(t.left=n?t.end:t.start),null==t.right&&(t.right=n?t.start:t.end),null!=t.bottom&&(t.top=e.scrollHeight-e.clientHeight-t.bottom),n&&0!=S_()?(null!=t.left&&(t.right=e.scrollWidth-e.clientWidth-t.left),2==S_()?t.left=t.right:1==S_()&&(t.left=t.right?-t.right:t.right)):null!=t.right&&(t.left=e.scrollWidth-e.clientWidth-t.right),this._applyScrollToOptions(t)}_applyScrollToOptions(t){const e=this.elementRef.nativeElement;"object"==typeof document&&"scrollBehavior"in document.documentElement.style?e.scrollTo(t):(null!=t.top&&(e.scrollTop=t.top),null!=t.left&&(e.scrollLeft=t.left))}measureScrollOffset(t){const e=this.elementRef.nativeElement;if("top"==t)return e.scrollTop;if("bottom"==t)return e.scrollHeight-e.clientHeight-e.scrollTop;const n=this.dir&&"rtl"==this.dir.value;return"start"==t?t=n?"right":"left":"end"==t&&(t=n?"left":"right"),n&&2==S_()?"left"==t?e.scrollWidth-e.clientWidth-e.scrollLeft:e.scrollLeft:n&&1==S_()?"left"==t?e.scrollLeft+e.scrollWidth-e.clientWidth:-e.scrollLeft:"left"==t?e.scrollLeft:e.scrollWidth-e.clientWidth-e.scrollLeft}}return t.\u0275fac=function(e){return new(e||t)(Ms(Ya),Ms(D_),Ms($c),Ms(k_,8))},t.\u0275dir=be({type:t,selectors:[["","cdk-scrollable",""],["","cdkScrollable",""]]}),t})(),F_=(()=>{class t{constructor(t,e,n){this._platform=t,this._document=n,e.runOutsideAngular(()=>{const e=this._getWindow();this._change=t.isBrowser?$(my(e,"resize"),my(e,"orientationchange")):fy(),this._invalidateCache=this.change().subscribe(()=>this._updateViewportSize())})}ngOnDestroy(){this._invalidateCache.unsubscribe()}getViewportSize(){this._viewportSize||this._updateViewportSize();const t={width:this._viewportSize.width,height:this._viewportSize.height};return this._platform.isBrowser||(this._viewportSize=null),t}getViewportRect(){const t=this.getViewportScrollPosition(),{width:e,height:n}=this.getViewportSize();return{top:t.top,left:t.left,bottom:t.top+n,right:t.left+e,height:n,width:e}}getViewportScrollPosition(){if(!this._platform.isBrowser)return{top:0,left:0};const t=this._getDocument(),e=this._getWindow(),n=t.documentElement,i=n.getBoundingClientRect();return{top:-i.top||t.body.scrollTop||e.scrollY||n.scrollTop||0,left:-i.left||t.body.scrollLeft||e.scrollX||n.scrollLeft||0}}change(t=20){return t>0?this._change.pipe(Hy(t)):this._change}_getDocument(){return this._document||document}_getWindow(){return this._getDocument().defaultView||window}_updateViewportSize(){const t=this._getWindow();this._viewportSize=this._platform.isBrowser?{width:t.innerWidth,height:t.innerHeight}:{width:0,height:0}}}return t.\u0275fac=function(e){return new(e||t)(Kt(y_),Kt($c),Kt(vu,8))},t.\u0275prov=ht({factory:function(){return new t(Kt(y_),Kt($c),Kt(vu,8))},token:t,providedIn:"root"}),t})(),L_=(()=>{class t{}return t.\u0275mod=_e({type:t}),t.\u0275inj=dt({factory:function(e){return new(e||t)}}),t})(),B_=(()=>{class t{}return t.\u0275mod=_e({type:t}),t.\u0275inj=dt({factory:function(e){return new(e||t)},imports:[[I_,__,L_],I_,L_]}),t})();function N_(t=0,e=Fy){return(!Ny(t)||t<0)&&(t=0),e&&"function"==typeof e.schedule||(e=Fy),new _(n=>(n.add(e.schedule(j_,t,{subscriber:n,counter:0,period:t})),n))}function j_(t){const{subscriber:e,counter:n,period:i}=t;e.next(n),this.schedule({subscriber:e,counter:n+1,period:i},i)}const z_=(()=>{function t(){return Error.call(this),this.message="argument out of range",this.name="ArgumentOutOfRangeError",this}return t.prototype=Object.create(Error.prototype),t})();function H_(t){return e=>0===t?o_():e.lift(new V_(t))}class V_{constructor(t){if(this.total=t,this.total<0)throw new z_}call(t,e){return e.subscribe(new U_(t,this.total))}}class U_ extends f{constructor(t,e){super(t),this.total=e,this.count=0}_next(t){const e=this.total,n=++this.count;n<=e&&(this.destination.next(t),n===e&&(this.destination.complete(),this.unsubscribe()))}}function W_(){}function $_(t,e,n){return function(i){return i.lift(new G_(t,e,n))}}class G_{constructor(t,e,n){this.nextOrObserver=t,this.error=e,this.complete=n}call(t,e){return e.subscribe(new q_(t,this.nextOrObserver,this.error,this.complete))}}class q_ extends f{constructor(t,e,n,r){super(t),this._tapNext=W_,this._tapError=W_,this._tapComplete=W_,this._tapError=n||W_,this._tapComplete=r||W_,i(e)?(this._context=this,this._tapNext=e):e&&(this._context=e,this._tapNext=e.next||W_,this._tapError=e.error||W_,this._tapComplete=e.complete||W_)}_next(t){try{this._tapNext.call(this._context,t)}catch(e){return void this.destination.error(e)}this.destination.next(t)}_error(t){try{this._tapError.call(this._context,t)}catch(t){return void this.destination.error(t)}this.destination.error(t)}_complete(){try{this._tapComplete.call(this._context)}catch(t){return void this.destination.error(t)}return this.destination.complete()}}function X_(t,e){for(let n in e)e.hasOwnProperty(n)&&(t[n]=e[n]);return t}function K_(t,e){const n=e?"":"none";X_(t.style,{touchAction:e?"":"none",webkitUserDrag:e?"":"none",webkitTapHighlightColor:e?"":"transparent",userSelect:n,msUserSelect:n,webkitUserSelect:n,MozUserSelect:n})}function Y_(t){const e=t.toLowerCase().indexOf("ms")>-1?1:1e3;return parseFloat(t)*e}function Q_(t,e){return t.getPropertyValue(e).split(",").map(t=>t.trim())}function Z_(t){const e=t.getBoundingClientRect();return{top:e.top,right:e.right,bottom:e.bottom,left:e.left,width:e.width,height:e.height}}function J_(t,e,n){const{top:i,bottom:r,left:o,right:s}=t;return n>=i&&n<=r&&e>=o&&e<=s}function tv(t,e,n){t.top+=e,t.bottom=t.top+t.height,t.left+=n,t.right=t.left+t.width}function ev(t,e,n,i){const{top:r,right:o,bottom:s,left:a,width:l,height:c}=t,u=l*e,h=c*e;return i>r-h&&i<s+h&&n>a-u&&n<o+u}class nv{constructor(t,e){this._document=t,this._viewportRuler=e,this.positions=new Map}clear(){this.positions.clear()}cache(t){this.clear(),this.positions.set(this._document,{scrollPosition:this._viewportRuler.getViewportScrollPosition()}),t.forEach(t=>{this.positions.set(t,{scrollPosition:{top:t.scrollTop,left:t.scrollLeft},clientRect:Z_(t)})})}handleScroll(t){const e=t.target,n=this.positions.get(e);if(!n)return null;const i=e===this._document?e.documentElement:e,r=n.scrollPosition;let o,s;if(e===this._document){const t=this._viewportRuler.getViewportScrollPosition();o=t.top,s=t.left}else o=e.scrollTop,s=e.scrollLeft;const a=r.top-o,l=r.left-s;return this.positions.forEach((t,n)=>{t.clientRect&&e!==n&&i.contains(n)&&tv(t.clientRect,a,l)}),r.top=o,r.left=s,{top:a,left:l}}}const iv=E_({passive:!0}),rv=E_({passive:!1});class ov{constructor(t,e,n,i,r,o){this._config=e,this._document=n,this._ngZone=i,this._viewportRuler=r,this._dragDropRegistry=o,this._passiveTransform={x:0,y:0},this._activeTransform={x:0,y:0},this._moveEvents=new x,this._pointerMoveSubscription=h.EMPTY,this._pointerUpSubscription=h.EMPTY,this._scrollSubscription=h.EMPTY,this._resizeSubscription=h.EMPTY,this._boundaryElement=null,this._nativeInteractionsEnabled=!0,this._handles=[],this._disabledHandles=new Set,this._direction="ltr",this.dragStartDelay=0,this._disabled=!1,this.beforeStarted=new x,this.started=new x,this.released=new x,this.ended=new x,this.entered=new x,this.exited=new x,this.dropped=new x,this.moved=this._moveEvents.asObservable(),this._pointerDown=t=>{if(this.beforeStarted.next(),this._handles.length){const e=this._handles.find(e=>{const n=t.target;return!!n&&(n===e||e.contains(n))});!e||this._disabledHandles.has(e)||this.disabled||this._initializeDragSequence(e,t)}else this.disabled||this._initializeDragSequence(this._rootElement,t)},this._pointerMove=t=>{t.preventDefault();const e=this._getPointerPositionOnPage(t);if(!this._hasStartedDragging){if(Math.abs(e.x-this._pickupPositionOnPage.x)+Math.abs(e.y-this._pickupPositionOnPage.y)>=this._config.dragStartThreshold){if(!(Date.now()>=this._dragStartTime+this._getDragStartDelay(t)))return void this._endDragSequence(t);this._dropContainer&&this._dropContainer.isDragging()||(this._hasStartedDragging=!0,this._ngZone.run(()=>this._startDragSequence(t)))}return}this._boundaryElement&&(this._previewRect&&(this._previewRect.width||this._previewRect.height)||(this._previewRect=(this._preview||this._rootElement).getBoundingClientRect()));const n=this._getConstrainedPointerPosition(e);if(this._hasMoved=!0,this._updatePointerDirectionDelta(n),this._dropContainer)this._updateActiveDropContainer(n);else{const t=this._activeTransform;t.x=n.x-this._pickupPositionOnPage.x+this._passiveTransform.x,t.y=n.y-this._pickupPositionOnPage.y+this._passiveTransform.y,this._applyRootElementTransform(t.x,t.y),"undefined"!=typeof SVGElement&&this._rootElement instanceof SVGElement&&this._rootElement.setAttribute("transform",`translate(${t.x} ${t.y})`)}this._moveEvents.observers.length&&this._ngZone.run(()=>{this._moveEvents.next({source:this,pointerPosition:n,event:t,distance:this._getDragDistance(n),delta:this._pointerDirectionDelta})})},this._pointerUp=t=>{this._endDragSequence(t)},this.withRootElement(t),this._parentPositions=new nv(n,r),o.registerDragItem(this)}get disabled(){return this._disabled||!(!this._dropContainer||!this._dropContainer.disabled)}set disabled(t){const e=cy(t);e!==this._disabled&&(this._disabled=e,this._toggleNativeDragInteractions())}getPlaceholderElement(){return this._placeholder}getRootElement(){return this._rootElement}getVisibleElement(){return this.isDragging()?this.getPlaceholderElement():this.getRootElement()}withHandles(t){return this._handles=t.map(t=>py(t)),this._handles.forEach(t=>K_(t,!1)),this._toggleNativeDragInteractions(),this}withPreviewTemplate(t){return this._previewTemplate=t,this}withPlaceholderTemplate(t){return this._placeholderTemplate=t,this}withRootElement(t){const e=py(t);return e!==this._rootElement&&(this._rootElement&&this._removeRootElementListeners(this._rootElement),this._ngZone.runOutsideAngular(()=>{e.addEventListener("mousedown",this._pointerDown,rv),e.addEventListener("touchstart",this._pointerDown,iv)}),this._initialTransform=void 0,this._rootElement=e),this}withBoundaryElement(t){return this._boundaryElement=t?py(t):null,this._resizeSubscription.unsubscribe(),t&&(this._resizeSubscription=this._viewportRuler.change(10).subscribe(()=>this._containInsideBoundaryOnResize())),this}dispose(){this._removeRootElementListeners(this._rootElement),this.isDragging()&&cv(this._rootElement),cv(this._anchor),this._destroyPreview(),this._destroyPlaceholder(),this._dragDropRegistry.removeDragItem(this),this._removeSubscriptions(),this.beforeStarted.complete(),this.started.complete(),this.released.complete(),this.ended.complete(),this.entered.complete(),this.exited.complete(),this.dropped.complete(),this._moveEvents.complete(),this._handles=[],this._disabledHandles.clear(),this._dropContainer=void 0,this._resizeSubscription.unsubscribe(),this._parentPositions.clear(),this._boundaryElement=this._rootElement=this._placeholderTemplate=this._previewTemplate=this._anchor=null}isDragging(){return this._hasStartedDragging&&this._dragDropRegistry.isDragging(this)}reset(){this._rootElement.style.transform=this._initialTransform||"",this._activeTransform={x:0,y:0},this._passiveTransform={x:0,y:0}}disableHandle(t){this._handles.indexOf(t)>-1&&this._disabledHandles.add(t)}enableHandle(t){this._disabledHandles.delete(t)}withDirection(t){return this._direction=t,this}_withDropContainer(t){this._dropContainer=t}getFreeDragPosition(){const t=this.isDragging()?this._activeTransform:this._passiveTransform;return{x:t.x,y:t.y}}setFreeDragPosition(t){return this._activeTransform={x:0,y:0},this._passiveTransform.x=t.x,this._passiveTransform.y=t.y,this._dropContainer||this._applyRootElementTransform(t.x,t.y),this}_sortFromLastPointerPosition(){const t=this._pointerPositionAtLastDirectionChange;t&&this._dropContainer&&this._updateActiveDropContainer(this._getConstrainedPointerPosition(t))}_removeSubscriptions(){this._pointerMoveSubscription.unsubscribe(),this._pointerUpSubscription.unsubscribe(),this._scrollSubscription.unsubscribe()}_destroyPreview(){this._preview&&cv(this._preview),this._previewRef&&this._previewRef.destroy(),this._preview=this._previewRef=null}_destroyPlaceholder(){this._placeholder&&cv(this._placeholder),this._placeholderRef&&this._placeholderRef.destroy(),this._placeholder=this._placeholderRef=null}_endDragSequence(t){this._dragDropRegistry.isDragging(this)&&(this._removeSubscriptions(),this._dragDropRegistry.stopDragging(this),this._toggleNativeDragInteractions(),this._handles&&(this._rootElement.style.webkitTapHighlightColor=this._rootElementTapHighlight),this._hasStartedDragging&&(this.released.next({source:this}),this._dropContainer?(this._dropContainer._stopScrolling(),this._animatePreviewToPlaceholder().then(()=>{this._cleanupDragArtifacts(t),this._cleanupCachedDimensions(),this._dragDropRegistry.stopDragging(this)})):(this._passiveTransform.x=this._activeTransform.x,this._passiveTransform.y=this._activeTransform.y,this._ngZone.run(()=>{this.ended.next({source:this,distance:this._getDragDistance(this._getPointerPositionOnPage(t))})}),this._cleanupCachedDimensions(),this._dragDropRegistry.stopDragging(this))))}_startDragSequence(t){this.started.next({source:this}),uv(t)&&(this._lastTouchEventTime=Date.now()),this._toggleNativeDragInteractions();const e=this._dropContainer;if(e){const t=this._rootElement,i=t.parentNode,r=this._preview=this._createPreviewElement(),o=this._placeholder=this._createPlaceholderElement(),s=this._anchor=this._anchor||this._document.createComment("");i.insertBefore(s,t),t.style.display="none",this._document.body.appendChild(i.replaceChild(o,t)),(n=this._document,n.fullscreenElement||n.webkitFullscreenElement||n.mozFullScreenElement||n.msFullscreenElement||n.body).appendChild(r),e.start(),this._initialContainer=e,this._initialIndex=e.getItemIndex(this)}else this._initialContainer=this._initialIndex=void 0;var n;this._parentPositions.cache(e?e.getScrollableParents():[])}_initializeDragSequence(t,e){e.stopPropagation();const n=this.isDragging(),i=uv(e),r=!i&&0!==e.button,o=this._rootElement,s=!i&&this._lastTouchEventTime&&this._lastTouchEventTime+800>Date.now();if(e.target&&e.target.draggable&&"mousedown"===e.type&&e.preventDefault(),n||r||s)return;this._handles.length&&(this._rootElementTapHighlight=o.style.webkitTapHighlightColor,o.style.webkitTapHighlightColor="transparent"),this._hasStartedDragging=this._hasMoved=!1,this._removeSubscriptions(),this._pointerMoveSubscription=this._dragDropRegistry.pointerMove.subscribe(this._pointerMove),this._pointerUpSubscription=this._dragDropRegistry.pointerUp.subscribe(this._pointerUp),this._scrollSubscription=this._dragDropRegistry.scroll.subscribe(t=>{this._updateOnScroll(t)}),this._boundaryElement&&(this._boundaryRect=Z_(this._boundaryElement));const a=this._previewTemplate;this._pickupPositionInElement=a&&a.template&&!a.matchSize?{x:0,y:0}:this._getPointerPositionInElement(t,e);const l=this._pickupPositionOnPage=this._getPointerPositionOnPage(e);this._pointerDirectionDelta={x:0,y:0},this._pointerPositionAtLastDirectionChange={x:l.x,y:l.y},this._dragStartTime=Date.now(),this._dragDropRegistry.startDragging(this,e)}_cleanupDragArtifacts(t){this._rootElement.style.display="",this._anchor.parentNode.replaceChild(this._rootElement,this._anchor),this._destroyPreview(),this._destroyPlaceholder(),this._boundaryRect=this._previewRect=void 0,this._ngZone.run(()=>{const e=this._dropContainer,n=e.getItemIndex(this),i=this._getPointerPositionOnPage(t),r=this._getDragDistance(this._getPointerPositionOnPage(t)),o=e._isOverContainer(i.x,i.y);this.ended.next({source:this,distance:r}),this.dropped.next({item:this,currentIndex:n,previousIndex:this._initialIndex,container:e,previousContainer:this._initialContainer,isPointerOverContainer:o,distance:r}),e.drop(this,n,this._initialContainer,o,r,this._initialIndex),this._dropContainer=this._initialContainer})}_updateActiveDropContainer({x:t,y:e}){let n=this._initialContainer._getSiblingContainerFromPosition(this,t,e);!n&&this._dropContainer!==this._initialContainer&&this._initialContainer._isOverContainer(t,e)&&(n=this._initialContainer),n&&n!==this._dropContainer&&this._ngZone.run(()=>{this.exited.next({item:this,container:this._dropContainer}),this._dropContainer.exit(this),this._dropContainer=n,this._dropContainer.enter(this,t,e,n===this._initialContainer&&n.sortingDisabled?this._initialIndex:void 0),this.entered.next({item:this,container:n,currentIndex:n.getItemIndex(this)})}),this._dropContainer._startScrollingIfNecessary(t,e),this._dropContainer._sortItem(this,t,e,this._pointerDirectionDelta),this._preview.style.transform=sv(t-this._pickupPositionInElement.x,e-this._pickupPositionInElement.y)}_createPreviewElement(){const t=this._previewTemplate,e=this.previewClass,n=t?t.template:null;let i;if(n&&t){const e=t.matchSize?this._rootElement.getBoundingClientRect():null,r=t.viewContainer.createEmbeddedView(n,t.context);r.detectChanges(),i=hv(r,this._document),this._previewRef=r,t.matchSize?dv(i,e):i.style.transform=sv(this._pickupPositionOnPage.x,this._pickupPositionOnPage.y)}else{const t=this._rootElement;i=av(t),dv(i,t.getBoundingClientRect())}return X_(i.style,{pointerEvents:"none",margin:"0",position:"fixed",top:"0",left:"0",zIndex:`${this._config.zIndex||1e3}`}),K_(i,!1),i.classList.add("cdk-drag-preview"),i.setAttribute("dir",this._direction),e&&(Array.isArray(e)?e.forEach(t=>i.classList.add(t)):i.classList.add(e)),i}_animatePreviewToPlaceholder(){if(!this._hasMoved)return Promise.resolve();const t=this._placeholder.getBoundingClientRect();this._preview.classList.add("cdk-drag-animating"),this._preview.style.transform=sv(t.left,t.top);const e=function(t){const e=getComputedStyle(t),n=Q_(e,"transition-property"),i=n.find(t=>"transform"===t||"all"===t);if(!i)return 0;const r=n.indexOf(i),o=Q_(e,"transition-duration"),s=Q_(e,"transition-delay");return Y_(o[r])+Y_(s[r])}(this._preview);return 0===e?Promise.resolve():this._ngZone.runOutsideAngular(()=>new Promise(t=>{const n=e=>{(!e||e.target===this._preview&&"transform"===e.propertyName)&&(this._preview.removeEventListener("transitionend",n),t(),clearTimeout(i))},i=setTimeout(n,1.5*e);this._preview.addEventListener("transitionend",n)}))}_createPlaceholderElement(){const t=this._placeholderTemplate,e=t?t.template:null;let n;return e?(this._placeholderRef=t.viewContainer.createEmbeddedView(e,t.context),this._placeholderRef.detectChanges(),n=hv(this._placeholderRef,this._document)):n=av(this._rootElement),n.classList.add("cdk-drag-placeholder"),n}_getPointerPositionInElement(t,e){const n=this._rootElement.getBoundingClientRect(),i=t===this._rootElement?null:t,r=i?i.getBoundingClientRect():n,o=uv(e)?e.targetTouches[0]:e,s=this._getViewportScrollPosition();return{x:r.left-n.left+(o.pageX-r.left-s.left),y:r.top-n.top+(o.pageY-r.top-s.top)}}_getPointerPositionOnPage(t){const e=uv(t)?t.touches[0]||t.changedTouches[0]:t,n=this._getViewportScrollPosition();return{x:e.pageX-n.left,y:e.pageY-n.top}}_getConstrainedPointerPosition(t){const e=this.constrainPosition?this.constrainPosition(t,this):t,n=this._dropContainer?this._dropContainer.lockAxis:null;if("x"===this.lockAxis||"x"===n?e.y=this._pickupPositionOnPage.y:"y"!==this.lockAxis&&"y"!==n||(e.x=this._pickupPositionOnPage.x),this._boundaryRect){const{x:t,y:n}=this._pickupPositionInElement,i=this._boundaryRect,r=this._previewRect,o=i.top+n,s=i.bottom-(r.height-n);e.x=lv(e.x,i.left+t,i.right-(r.width-t)),e.y=lv(e.y,o,s)}return e}_updatePointerDirectionDelta(t){const{x:e,y:n}=t,i=this._pointerDirectionDelta,r=this._pointerPositionAtLastDirectionChange,o=Math.abs(e-r.x),s=Math.abs(n-r.y);return o>this._config.pointerDirectionChangeThreshold&&(i.x=e>r.x?1:-1,r.x=e),s>this._config.pointerDirectionChangeThreshold&&(i.y=n>r.y?1:-1,r.y=n),i}_toggleNativeDragInteractions(){if(!this._rootElement||!this._handles)return;const t=this._handles.length>0||!this.isDragging();t!==this._nativeInteractionsEnabled&&(this._nativeInteractionsEnabled=t,K_(this._rootElement,t))}_removeRootElementListeners(t){t.removeEventListener("mousedown",this._pointerDown,rv),t.removeEventListener("touchstart",this._pointerDown,iv)}_applyRootElementTransform(t,e){const n=sv(t,e);null==this._initialTransform&&(this._initialTransform=this._rootElement.style.transform||""),this._rootElement.style.transform=this._initialTransform?n+" "+this._initialTransform:n}_getDragDistance(t){const e=this._pickupPositionOnPage;return e?{x:t.x-e.x,y:t.y-e.y}:{x:0,y:0}}_cleanupCachedDimensions(){this._boundaryRect=this._previewRect=void 0,this._parentPositions.clear()}_containInsideBoundaryOnResize(){let{x:t,y:e}=this._passiveTransform;if(0===t&&0===e||this.isDragging()||!this._boundaryElement)return;const n=this._boundaryElement.getBoundingClientRect(),i=this._rootElement.getBoundingClientRect();if(0===n.width&&0===n.height||0===i.width&&0===i.height)return;const r=n.left-i.left,o=i.right-n.right,s=n.top-i.top,a=i.bottom-n.bottom;n.width>i.width?(r>0&&(t+=r),o>0&&(t-=o)):t=0,n.height>i.height?(s>0&&(e+=s),a>0&&(e-=a)):e=0,t===this._passiveTransform.x&&e===this._passiveTransform.y||this.setFreeDragPosition({y:e,x:t})}_getDragStartDelay(t){const e=this.dragStartDelay;return"number"==typeof e?e:uv(t)?e.touch:e?e.mouse:0}_updateOnScroll(t){const e=this._parentPositions.handleScroll(t);this._boundaryRect&&e&&tv(this._boundaryRect,e.top,e.left)}_getViewportScrollPosition(){const t=this._parentPositions.positions.get(this._document);return t?t.scrollPosition:this._viewportRuler.getViewportScrollPosition()}}function sv(t,e){return`translate3d(${Math.round(t)}px, ${Math.round(e)}px, 0)`}function av(t){const e=t.cloneNode(!0),n=e.querySelectorAll("[id]"),i=t.querySelectorAll("canvas");e.removeAttribute("id");for(let r=0;r<n.length;r++)n[r].removeAttribute("id");if(i.length){const t=e.querySelectorAll("canvas");for(let e=0;e<i.length;e++){const n=t[e].getContext("2d");n&&n.drawImage(i[e],0,0)}}return e}function lv(t,e,n){return Math.max(e,Math.min(n,t))}function cv(t){t&&t.parentNode&&t.parentNode.removeChild(t)}function uv(t){return"t"===t.type[0]}function hv(t,e){const n=t.rootNodes;if(1===n.length&&n[0].nodeType===e.ELEMENT_NODE)return n[0];const i=e.createElement("div");return n.forEach(t=>i.appendChild(t)),i}function dv(t,e){t.style.width=`${e.width}px`,t.style.height=`${e.height}px`,t.style.transform=sv(e.left,e.top)}function pv(t,e){return Math.max(0,Math.min(e,t))}class fv{constructor(t,e,n,i,r){this._dragDropRegistry=e,this._ngZone=i,this._viewportRuler=r,this.disabled=!1,this.sortingDisabled=!1,this.autoScrollDisabled=!1,this.enterPredicate=()=>!0,this.beforeStarted=new x,this.entered=new x,this.exited=new x,this.dropped=new x,this.sorted=new x,this._isDragging=!1,this._itemPositions=[],this._previousSwap={drag:null,delta:0},this._siblings=[],this._orientation="vertical",this._activeSiblings=new Set,this._direction="ltr",this._viewportScrollSubscription=h.EMPTY,this._verticalScrollDirection=0,this._horizontalScrollDirection=0,this._stopScrollTimers=new x,this._cachedShadowRoot=null,this._startScrollInterval=()=>{this._stopScrolling(),N_(0,Cy).pipe($y(this._stopScrollTimers)).subscribe(()=>{const t=this._scrollNode;1===this._verticalScrollDirection?gv(t,-2):2===this._verticalScrollDirection&&gv(t,2),1===this._horizontalScrollDirection?yv(t,-2):2===this._horizontalScrollDirection&&yv(t,2)})},this.element=py(t),this._document=n,this.withScrollableParents([this.element]),e.registerDropContainer(this),this._parentPositions=new nv(n,r)}dispose(){this._stopScrolling(),this._stopScrollTimers.complete(),this._viewportScrollSubscription.unsubscribe(),this.beforeStarted.complete(),this.entered.complete(),this.exited.complete(),this.dropped.complete(),this.sorted.complete(),this._activeSiblings.clear(),this._scrollNode=null,this._parentPositions.clear(),this._dragDropRegistry.removeDropContainer(this)}isDragging(){return this._isDragging}start(){const t=py(this.element).style;this.beforeStarted.next(),this._isDragging=!0,this._initialScrollSnap=t.msScrollSnapType||t.scrollSnapType||"",t.scrollSnapType=t.msScrollSnapType="none",this._cacheItems(),this._siblings.forEach(t=>t._startReceiving(this)),this._viewportScrollSubscription.unsubscribe(),this._listenToScrollEvents()}enter(t,e,n,i){let r;this.start(),null==i?(r=this.sortingDisabled?this._draggables.indexOf(t):-1,-1===r&&(r=this._getItemIndexFromPointerPosition(t,e,n))):r=i;const o=this._activeDraggables,s=o.indexOf(t),a=t.getPlaceholderElement();let l=o[r];if(l===t&&(l=o[r+1]),s>-1&&o.splice(s,1),l&&!this._dragDropRegistry.isDragging(l)){const e=l.getRootElement();e.parentElement.insertBefore(a,e),o.splice(r,0,t)}else{const i=py(this.element);this._shouldEnterAsFirstChild(e,n)?(i.insertBefore(a,o[0].getRootElement()),o.unshift(t)):(i.appendChild(a),o.push(t))}a.style.transform="",this._cacheItemPositions(),this._cacheParentPositions(),this.entered.next({item:t,container:this,currentIndex:this.getItemIndex(t)})}exit(t){this._reset(),this.exited.next({item:t,container:this})}drop(t,e,n,i,r,o){this._reset(),null==o&&(o=n.getItemIndex(t)),this.dropped.next({item:t,currentIndex:e,previousIndex:o,container:this,previousContainer:n,isPointerOverContainer:i,distance:r})}withItems(t){const e=this._draggables;return this._draggables=t,t.forEach(t=>t._withDropContainer(this)),this.isDragging()&&(e.filter(t=>t.isDragging()).every(e=>-1===t.indexOf(e))?this._reset():this._cacheItems()),this}withDirection(t){return this._direction=t,this}connectedTo(t){return this._siblings=t.slice(),this}withOrientation(t){return this._orientation=t,this}withScrollableParents(t){const e=py(this.element);return this._scrollableElements=-1===t.indexOf(e)?[e,...t]:t.slice(),this}getScrollableParents(){return this._scrollableElements}getItemIndex(t){return this._isDragging?mv("horizontal"===this._orientation&&"rtl"===this._direction?this._itemPositions.slice().reverse():this._itemPositions,e=>e.drag===t):this._draggables.indexOf(t)}isReceiving(){return this._activeSiblings.size>0}_sortItem(t,e,n,i){if(this.sortingDisabled||!ev(this._clientRect,.05,e,n))return;const r=this._itemPositions,o=this._getItemIndexFromPointerPosition(t,e,n,i);if(-1===o&&r.length>0)return;const s="horizontal"===this._orientation,a=mv(r,e=>e.drag===t),l=r[o],c=r[a].clientRect,u=l.clientRect,h=a>o?1:-1;this._previousSwap.drag=l.drag,this._previousSwap.delta=s?i.x:i.y;const d=this._getItemOffsetPx(c,u,h),p=this._getSiblingOffsetPx(a,r,h),f=r.slice();!function(t,e,n){const i=pv(e,t.length-1),r=pv(n,t.length-1);if(i===r)return;const o=t[i],s=r<i?-1:1;for(let a=i;a!==r;a+=s)t[a]=t[a+s];t[r]=o}(r,a,o),this.sorted.next({previousIndex:a,currentIndex:o,container:this,item:t}),r.forEach((e,n)=>{if(f[n]===e)return;const i=e.drag===t,r=i?d:p,o=i?t.getPlaceholderElement():e.drag.getRootElement();e.offset+=r,s?(o.style.transform=`translate3d(${Math.round(e.offset)}px, 0, 0)`,tv(e.clientRect,0,r)):(o.style.transform=`translate3d(0, ${Math.round(e.offset)}px, 0)`,tv(e.clientRect,r,0))})}_startScrollingIfNecessary(t,e){if(this.autoScrollDisabled)return;let n,i=0,r=0;if(this._parentPositions.positions.forEach((o,s)=>{s!==this._document&&o.clientRect&&!n&&ev(o.clientRect,.05,t,e)&&([i,r]=function(t,e,n,i){const r=_v(e,i),o=vv(e,n);let s=0,a=0;if(r){const e=t.scrollTop;1===r?e>0&&(s=1):t.scrollHeight-e>t.clientHeight&&(s=2)}if(o){const e=t.scrollLeft;1===o?e>0&&(a=1):t.scrollWidth-e>t.clientWidth&&(a=2)}return[s,a]}(s,o.clientRect,t,e),(i||r)&&(n=s))}),!i&&!r){const{width:o,height:s}=this._viewportRuler.getViewportSize(),a={width:o,height:s,top:0,right:o,bottom:s,left:0};i=_v(a,e),r=vv(a,t),n=window}!n||i===this._verticalScrollDirection&&r===this._horizontalScrollDirection&&n===this._scrollNode||(this._verticalScrollDirection=i,this._horizontalScrollDirection=r,this._scrollNode=n,(i||r)&&n?this._ngZone.runOutsideAngular(this._startScrollInterval):this._stopScrolling())}_stopScrolling(){this._stopScrollTimers.next()}_cacheParentPositions(){const t=py(this.element);this._parentPositions.cache(this._scrollableElements),this._clientRect=this._parentPositions.positions.get(t).clientRect}_cacheItemPositions(){const t="horizontal"===this._orientation;this._itemPositions=this._activeDraggables.map(t=>{const e=t.getVisibleElement();return{drag:t,offset:0,clientRect:Z_(e)}}).sort((e,n)=>t?e.clientRect.left-n.clientRect.left:e.clientRect.top-n.clientRect.top)}_reset(){this._isDragging=!1;const t=py(this.element).style;t.scrollSnapType=t.msScrollSnapType=this._initialScrollSnap,this._activeDraggables.forEach(t=>{const e=t.getRootElement();e&&(e.style.transform="")}),this._siblings.forEach(t=>t._stopReceiving(this)),this._activeDraggables=[],this._itemPositions=[],this._previousSwap.drag=null,this._previousSwap.delta=0,this._stopScrolling(),this._viewportScrollSubscription.unsubscribe(),this._parentPositions.clear()}_getSiblingOffsetPx(t,e,n){const i="horizontal"===this._orientation,r=e[t].clientRect,o=e[t+-1*n];let s=r[i?"width":"height"]*n;if(o){const t=i?"left":"top",e=i?"right":"bottom";-1===n?s-=o.clientRect[t]-r[e]:s+=r[t]-o.clientRect[e]}return s}_getItemOffsetPx(t,e,n){const i="horizontal"===this._orientation;let r=i?e.left-t.left:e.top-t.top;return-1===n&&(r+=i?e.width-t.width:e.height-t.height),r}_shouldEnterAsFirstChild(t,e){if(!this._activeDraggables.length)return!1;const n=this._itemPositions,i="horizontal"===this._orientation;if(n[0].drag!==this._activeDraggables[0]){const r=n[n.length-1].clientRect;return i?t>=r.right:e>=r.bottom}{const r=n[0].clientRect;return i?t<=r.left:e<=r.top}}_getItemIndexFromPointerPosition(t,e,n,i){const r="horizontal"===this._orientation;return mv(this._itemPositions,({drag:o,clientRect:s},a,l)=>{if(o===t)return l.length<2;if(i){const t=r?i.x:i.y;if(o===this._previousSwap.drag&&t===this._previousSwap.delta)return!1}return r?e>=Math.floor(s.left)&&e<Math.floor(s.right):n>=Math.floor(s.top)&&n<Math.floor(s.bottom)})}_cacheItems(){this._activeDraggables=this._draggables.slice(),this._cacheItemPositions(),this._cacheParentPositions()}_isOverContainer(t,e){return J_(this._clientRect,t,e)}_getSiblingContainerFromPosition(t,e,n){return this._siblings.find(i=>i._canReceive(t,e,n))}_canReceive(t,e,n){if(!J_(this._clientRect,e,n)||!this.enterPredicate(t,this))return!1;const i=this._getShadowRoot().elementFromPoint(e,n);if(!i)return!1;const r=py(this.element);return i===r||r.contains(i)}_startReceiving(t){const e=this._activeSiblings;e.has(t)||(e.add(t),this._cacheParentPositions(),this._listenToScrollEvents())}_stopReceiving(t){this._activeSiblings.delete(t),this._viewportScrollSubscription.unsubscribe()}_listenToScrollEvents(){this._viewportScrollSubscription=this._dragDropRegistry.scroll.subscribe(t=>{if(this.isDragging()){const e=this._parentPositions.handleScroll(t);e&&(this._itemPositions.forEach(({clientRect:t})=>{tv(t,e.top,e.left)}),this._itemPositions.forEach(({drag:t})=>{this._dragDropRegistry.isDragging(t)&&t._sortFromLastPointerPosition()}))}else this.isReceiving()&&this._cacheParentPositions()})}_getShadowRoot(){if(!this._cachedShadowRoot){const t=P_(py(this.element));this._cachedShadowRoot=t||this._document}return this._cachedShadowRoot}}function mv(t,e){for(let n=0;n<t.length;n++)if(e(t[n],n,t))return n;return-1}function gv(t,e){t===window?t.scrollBy(0,e):t.scrollTop+=e}function yv(t,e){t===window?t.scrollBy(e,0):t.scrollLeft+=e}function _v(t,e){const{top:n,bottom:i,height:r}=t,o=.05*r;return e>=n-o&&e<=n+o?1:e>=i-o&&e<=i+o?2:0}function vv(t,e){const{left:n,right:i,width:r}=t,o=.05*r;return e>=n-o&&e<=n+o?1:e>=i-o&&e<=i+o?2:0}const bv=E_({passive:!1,capture:!0});let wv=(()=>{class t{constructor(t,e){this._ngZone=t,this._dropInstances=new Set,this._dragInstances=new Set,this._activeDragInstances=new Set,this._globalListeners=new Map,this.pointerMove=new x,this.pointerUp=new x,this.scroll=new x,this._preventDefaultWhileDragging=t=>{this._activeDragInstances.size&&t.preventDefault()},this._document=e}registerDropContainer(t){this._dropInstances.has(t)||this._dropInstances.add(t)}registerDragItem(t){this._dragInstances.add(t),1===this._dragInstances.size&&this._ngZone.runOutsideAngular(()=>{this._document.addEventListener("touchmove",this._preventDefaultWhileDragging,bv)})}removeDropContainer(t){this._dropInstances.delete(t)}removeDragItem(t){this._dragInstances.delete(t),this.stopDragging(t),0===this._dragInstances.size&&this._document.removeEventListener("touchmove",this._preventDefaultWhileDragging,bv)}startDragging(t,e){if(!this._activeDragInstances.has(t)&&(this._activeDragInstances.add(t),1===this._activeDragInstances.size)){const t=e.type.startsWith("touch"),n=t?"touchend":"mouseup";this._globalListeners.set(t?"touchmove":"mousemove",{handler:t=>this.pointerMove.next(t),options:bv}).set(n,{handler:t=>this.pointerUp.next(t),options:!0}).set("scroll",{handler:t=>this.scroll.next(t),options:!0}).set("selectstart",{handler:this._preventDefaultWhileDragging,options:bv}),this._ngZone.runOutsideAngular(()=>{this._globalListeners.forEach((t,e)=>{this._document.addEventListener(e,t.handler,t.options)})})}}stopDragging(t){this._activeDragInstances.delete(t),0===this._activeDragInstances.size&&this._clearGlobalListeners()}isDragging(t){return this._activeDragInstances.has(t)}ngOnDestroy(){this._dragInstances.forEach(t=>this.removeDragItem(t)),this._dropInstances.forEach(t=>this.removeDropContainer(t)),this._clearGlobalListeners(),this.pointerMove.complete(),this.pointerUp.complete()}_clearGlobalListeners(){this._globalListeners.forEach((t,e)=>{this._document.removeEventListener(e,t.handler,t.options)}),this._globalListeners.clear()}}return t.\u0275fac=function(e){return new(e||t)(Kt($c),Kt(vu))},t.\u0275prov=ht({factory:function(){return new t(Kt($c),Kt(vu))},token:t,providedIn:"root"}),t})();const Cv={dragStartThreshold:5,pointerDirectionChangeThreshold:5};let xv=(()=>{class t{constructor(t,e,n,i){this._document=t,this._ngZone=e,this._viewportRuler=n,this._dragDropRegistry=i}createDrag(t,e=Cv){return new ov(t,e,this._document,this._ngZone,this._viewportRuler,this._dragDropRegistry)}createDropList(t){return new fv(t,this._dragDropRegistry,this._document,this._ngZone,this._viewportRuler)}}return t.\u0275fac=function(e){return new(e||t)(Kt(vu),Kt($c),Kt(F_),Kt(wv))},t.\u0275prov=ht({factory:function(){return new t(Kt(vu),Kt($c),Kt(F_),Kt(wv))},token:t,providedIn:"root"}),t})();const Ev=new jt("CDK_DRAG_PARENT");let Sv=(()=>{class t{constructor(t,e){this.element=t,this._stateChanges=new x,this._disabled=!1,this._parentDrag=e,K_(t.nativeElement,!1)}get disabled(){return this._disabled}set disabled(t){this._disabled=cy(t),this._stateChanges.next(this)}ngOnDestroy(){this._stateChanges.complete()}}return t.\u0275fac=function(e){return new(e||t)(Ms(Ya),Ms(Ev,8))},t.\u0275dir=be({type:t,selectors:[["","cdkDragHandle",""]],hostAttrs:[1,"cdk-drag-handle"],inputs:{disabled:["cdkDragHandleDisabled","disabled"]}}),t})(),Pv=(()=>{class t{constructor(t){this.templateRef=t}}return t.\u0275fac=function(e){return new(e||t)(Ms(bl))},t.\u0275dir=be({type:t,selectors:[["ng-template","cdkDragPlaceholder",""]],inputs:{data:"data"}}),t})(),Ov=(()=>{class t{constructor(t){this.templateRef=t,this._matchSize=!1}get matchSize(){return this._matchSize}set matchSize(t){this._matchSize=cy(t)}}return t.\u0275fac=function(e){return new(e||t)(Ms(bl))},t.\u0275dir=be({type:t,selectors:[["ng-template","cdkDragPreview",""]],inputs:{matchSize:"matchSize",data:"data"}}),t})();const kv=new jt("CDK_DRAG_CONFIG"),Tv=new jt("CDK_DROP_LIST");let Iv=(()=>{class t{constructor(t,e,n,i,r,o,s,a,l){this.element=t,this.dropContainer=e,this._document=n,this._ngZone=i,this._viewContainerRef=r,this._dir=s,this._changeDetectorRef=l,this._destroyed=new x,this.started=new Yl,this.released=new Yl,this.ended=new Yl,this.entered=new Yl,this.exited=new Yl,this.dropped=new Yl,this.moved=new _(t=>{const e=this._dragRef.moved.pipe(F(t=>({source:this,pointerPosition:t.pointerPosition,event:t.event,delta:t.delta,distance:t.distance}))).subscribe(t);return()=>{e.unsubscribe()}}),this._dragRef=a.createDrag(t,{dragStartThreshold:o&&null!=o.dragStartThreshold?o.dragStartThreshold:5,pointerDirectionChangeThreshold:o&&null!=o.pointerDirectionChangeThreshold?o.pointerDirectionChangeThreshold:5,zIndex:null==o?void 0:o.zIndex}),this._dragRef.data=this,o&&this._assignDefaults(o),e&&(this._dragRef._withDropContainer(e._dropListRef),e.addItem(this)),this._syncInputs(this._dragRef),this._handleEvents(this._dragRef)}get disabled(){return this._disabled||this.dropContainer&&this.dropContainer.disabled}set disabled(t){this._disabled=cy(t),this._dragRef.disabled=this._disabled}getPlaceholderElement(){return this._dragRef.getPlaceholderElement()}getRootElement(){return this._dragRef.getRootElement()}reset(){this._dragRef.reset()}getFreeDragPosition(){return this._dragRef.getFreeDragPosition()}ngAfterViewInit(){this._ngZone.onStable.asObservable().pipe(H_(1),$y(this._destroyed)).subscribe(()=>{this._updateRootElement(),this._handles.changes.pipe(Ky(this._handles),$_(t=>{const e=t.filter(t=>t._parentDrag===this).map(t=>t.element);this._dragRef.withHandles(e)}),Zy(t=>$(...t.map(t=>t._stateChanges.pipe(Ky(t))))),$y(this._destroyed)).subscribe(t=>{const e=this._dragRef,n=t.element.nativeElement;t.disabled?e.disableHandle(n):e.enableHandle(n)}),this.freeDragPosition&&this._dragRef.setFreeDragPosition(this.freeDragPosition)})}ngOnChanges(t){const e=t.rootElementSelector,n=t.freeDragPosition;e&&!e.firstChange&&this._updateRootElement(),n&&!n.firstChange&&this.freeDragPosition&&this._dragRef.setFreeDragPosition(this.freeDragPosition)}ngOnDestroy(){this.dropContainer&&this.dropContainer.removeItem(this),this._destroyed.next(),this._destroyed.complete(),this._dragRef.dispose()}_updateRootElement(){const t=this.element.nativeElement,e=this.rootElementSelector?Av(t,this.rootElementSelector):t;if(e&&e.nodeType!==this._document.ELEMENT_NODE)throw Error("cdkDrag must be attached to an element node. "+`Currently attached to "${e.nodeName}".`);this._dragRef.withRootElement(e||t)}_getBoundaryElement(){const t=this.boundaryElement;if(!t)return null;if("string"==typeof t)return Av(this.element.nativeElement,t);const e=py(t);if(Pi()&&!e.contains(this.element.nativeElement))throw Error("Draggable element is not inside of the node passed into cdkDragBoundary.");return e}_syncInputs(t){t.beforeStarted.subscribe(()=>{if(!t.isDragging()){const e=this._dir,n=this.dragStartDelay,i=this._placeholderTemplate?{template:this._placeholderTemplate.templateRef,context:this._placeholderTemplate.data,viewContainer:this._viewContainerRef}:null,r=this._previewTemplate?{template:this._previewTemplate.templateRef,context:this._previewTemplate.data,matchSize:this._previewTemplate.matchSize,viewContainer:this._viewContainerRef}:null;t.disabled=this.disabled,t.lockAxis=this.lockAxis,t.dragStartDelay="object"==typeof n&&n?n:uy(n),t.constrainPosition=this.constrainPosition,t.previewClass=this.previewClass,t.withBoundaryElement(this._getBoundaryElement()).withPlaceholderTemplate(i).withPreviewTemplate(r),e&&t.withDirection(e.value)}})}_handleEvents(t){t.started.subscribe(()=>{this.started.emit({source:this}),this._changeDetectorRef.markForCheck()}),t.released.subscribe(()=>{this.released.emit({source:this})}),t.ended.subscribe(t=>{this.ended.emit({source:this,distance:t.distance}),this._changeDetectorRef.markForCheck()}),t.entered.subscribe(t=>{this.entered.emit({container:t.container.data,item:this,currentIndex:t.currentIndex})}),t.exited.subscribe(t=>{this.exited.emit({container:t.container.data,item:this})}),t.dropped.subscribe(t=>{this.dropped.emit({previousIndex:t.previousIndex,currentIndex:t.currentIndex,previousContainer:t.previousContainer.data,container:t.container.data,isPointerOverContainer:t.isPointerOverContainer,item:this,distance:t.distance})})}_assignDefaults(t){const{lockAxis:e,dragStartDelay:n,constrainPosition:i,previewClass:r,boundaryElement:o,draggingDisabled:s,rootElementSelector:a}=t;this.disabled=null!=s&&s,this.dragStartDelay=n||0,e&&(this.lockAxis=e),i&&(this.constrainPosition=i),r&&(this.previewClass=r),o&&(this.boundaryElement=o),a&&(this.rootElementSelector=a)}}return t.\u0275fac=function(e){return new(e||t)(Ms(Ya),Ms(Tv,12),Ms(vu),Ms($c),Ms(Cl),Ms(kv,8),Ms(k_,8),Ms(xv),Ms(Xo))},t.\u0275dir=be({type:t,selectors:[["","cdkDrag",""]],contentQueries:function(t,e,n){var i;1&t&&(hc(n,Ov,!0),hc(n,Pv,!0),hc(n,Sv,!0)),2&t&&(ac(i=fc())&&(e._previewTemplate=i.first),ac(i=fc())&&(e._placeholderTemplate=i.first),ac(i=fc())&&(e._handles=i))},hostAttrs:[1,"cdk-drag"],hostVars:4,hostBindings:function(t,e){2&t&&ua("cdk-drag-disabled",e.disabled)("cdk-drag-dragging",e._dragRef.isDragging())},inputs:{disabled:["cdkDragDisabled","disabled"],dragStartDelay:["cdkDragStartDelay","dragStartDelay"],lockAxis:["cdkDragLockAxis","lockAxis"],constrainPosition:["cdkDragConstrainPosition","constrainPosition"],previewClass:["cdkDragPreviewClass","previewClass"],boundaryElement:["cdkDragBoundary","boundaryElement"],rootElementSelector:["cdkDragRootElement","rootElementSelector"],data:["cdkDragData","data"],freeDragPosition:["cdkDragFreeDragPosition","freeDragPosition"]},outputs:{started:"cdkDragStarted",released:"cdkDragReleased",ended:"cdkDragEnded",entered:"cdkDragEntered",exited:"cdkDragExited",dropped:"cdkDragDropped",moved:"cdkDragMoved"},exportAs:["cdkDrag"],features:[Ga([{provide:Ev,useExisting:t}]),La]}),t})();function Av(t,e){let n=t.parentElement;for(;n;){if(n.matches?n.matches(e):n.msMatchesSelector(e))return n;n=n.parentElement}return null}let Mv=(()=>{class t{constructor(){this._items=new Set,this._disabled=!1}get disabled(){return this._disabled}set disabled(t){this._disabled=cy(t)}ngOnDestroy(){this._items.clear()}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275dir=be({type:t,selectors:[["","cdkDropListGroup",""]],inputs:{disabled:["cdkDropListGroupDisabled","disabled"]},exportAs:["cdkDropListGroup"]}),t})(),Dv=0,Rv=(()=>{class t{constructor(e,n,i,r,o,s,a){this.element=e,this._changeDetectorRef=i,this._dir=r,this._group=o,this._scrollDispatcher=s,this._destroyed=new x,this.connectedTo=[],this.id=`cdk-drop-list-${Dv++}`,this.enterPredicate=()=>!0,this.dropped=new Yl,this.entered=new Yl,this.exited=new Yl,this.sorted=new Yl,this._unsortedItems=new Set,this._dropListRef=n.createDropList(e),this._dropListRef.data=this,a&&this._assignDefaults(a),this._dropListRef.enterPredicate=(t,e)=>this.enterPredicate(t.data,e.data),this._setupInputSyncSubscription(this._dropListRef),this._handleEvents(this._dropListRef),t._dropLists.push(this),o&&o._items.add(this)}get disabled(){return this._disabled||!!this._group&&this._group.disabled}set disabled(t){this._dropListRef.disabled=this._disabled=cy(t)}addItem(t){this._unsortedItems.add(t),this._dropListRef.isDragging()&&this._syncItemsWithRef()}removeItem(t){this._unsortedItems.delete(t),this._dropListRef.isDragging()&&this._syncItemsWithRef()}getSortedItems(){return Array.from(this._unsortedItems).sort((t,e)=>t._dragRef.getVisibleElement().compareDocumentPosition(e._dragRef.getVisibleElement())&Node.DOCUMENT_POSITION_FOLLOWING?-1:1)}ngOnDestroy(){const e=t._dropLists.indexOf(this);e>-1&&t._dropLists.splice(e,1),this._group&&this._group._items.delete(this),this._unsortedItems.clear(),this._dropListRef.dispose(),this._destroyed.next(),this._destroyed.complete()}start(){this._dropListRef.start()}drop(t,e,n,i){this._dropListRef.drop(t._dragRef,e,n._dropListRef,i,{x:0,y:0})}enter(t,e,n){this._dropListRef.enter(t._dragRef,e,n)}exit(t){this._dropListRef.exit(t._dragRef)}getItemIndex(t){return this._dropListRef.getItemIndex(t._dragRef)}_setupInputSyncSubscription(e){this._dir&&this._dir.change.pipe(Ky(this._dir.value),$y(this._destroyed)).subscribe(t=>e.withDirection(t)),e.beforeStarted.subscribe(()=>{const n=hy(this.connectedTo).map(e=>"string"==typeof e?t._dropLists.find(t=>t.id===e):e);if(this._group&&this._group._items.forEach(t=>{-1===n.indexOf(t)&&n.push(t)}),!this._scrollableParentsResolved&&this._scrollDispatcher){const t=this._scrollDispatcher.getAncestorScrollContainers(this.element).map(t=>t.getElementRef().nativeElement);this._dropListRef.withScrollableParents(t),this._scrollableParentsResolved=!0}e.disabled=this.disabled,e.lockAxis=this.lockAxis,e.sortingDisabled=cy(this.sortingDisabled),e.autoScrollDisabled=cy(this.autoScrollDisabled),e.connectedTo(n.filter(t=>t&&t!==this).map(t=>t._dropListRef)).withOrientation(this.orientation)})}_handleEvents(t){t.beforeStarted.subscribe(()=>{this._syncItemsWithRef(),this._changeDetectorRef.markForCheck()}),t.entered.subscribe(t=>{this.entered.emit({container:this,item:t.item.data,currentIndex:t.currentIndex})}),t.exited.subscribe(t=>{this.exited.emit({container:this,item:t.item.data}),this._changeDetectorRef.markForCheck()}),t.sorted.subscribe(t=>{this.sorted.emit({previousIndex:t.previousIndex,currentIndex:t.currentIndex,container:this,item:t.item.data})}),t.dropped.subscribe(t=>{this.dropped.emit({previousIndex:t.previousIndex,currentIndex:t.currentIndex,previousContainer:t.previousContainer.data,container:t.container.data,item:t.item.data,isPointerOverContainer:t.isPointerOverContainer,distance:t.distance}),this._changeDetectorRef.markForCheck()})}_assignDefaults(t){const{lockAxis:e,draggingDisabled:n,sortingDisabled:i,listAutoScrollDisabled:r,listOrientation:o}=t;this.disabled=null!=n&&n,this.sortingDisabled=null!=i&&i,this.autoScrollDisabled=null!=r&&r,this.orientation=o||"vertical",e&&(this.lockAxis=e)}_syncItemsWithRef(){this._dropListRef.withItems(this.getSortedItems().map(t=>t._dragRef))}}return t.\u0275fac=function(e){return new(e||t)(Ms(Ya),Ms(xv),Ms(Xo),Ms(k_,8),Ms(Mv,12),Ms(D_),Ms(kv,8))},t.\u0275dir=be({type:t,selectors:[["","cdkDropList",""],["cdk-drop-list"]],hostAttrs:[1,"cdk-drop-list"],hostVars:7,hostBindings:function(t,e){2&t&&(Oa("id",e.id),ua("cdk-drop-list-disabled",e.disabled)("cdk-drop-list-dragging",e._dropListRef.isDragging())("cdk-drop-list-receiving",e._dropListRef.isReceiving()))},inputs:{connectedTo:["cdkDropListConnectedTo","connectedTo"],id:"id",enterPredicate:["cdkDropListEnterPredicate","enterPredicate"],disabled:["cdkDropListDisabled","disabled"],sortingDisabled:["cdkDropListSortingDisabled","sortingDisabled"],autoScrollDisabled:["cdkDropListAutoScrollDisabled","autoScrollDisabled"],orientation:["cdkDropListOrientation","orientation"],lockAxis:["cdkDropListLockAxis","lockAxis"],data:["cdkDropListData","data"]},outputs:{dropped:"cdkDropListDropped",entered:"cdkDropListEntered",exited:"cdkDropListExited",sorted:"cdkDropListSorted"},exportAs:["cdkDropList"],features:[Ga([{provide:Mv,useValue:void 0},{provide:Tv,useExisting:t}])]}),t._dropLists=[],t})(),Fv=(()=>{class t{}return t.\u0275mod=_e({type:t}),t.\u0275inj=dt({factory:function(e){return new(e||t)},providers:[xv],imports:[L_]}),t})();function Lv(t,e){return z(t,e,1)}class Bv{}class Nv{}class jv{constructor(t){this.normalizedNames=new Map,this.lazyUpdate=null,t?this.lazyInit="string"==typeof t?()=>{this.headers=new Map,t.split("\n").forEach(t=>{const e=t.indexOf(":");if(e>0){const n=t.slice(0,e),i=n.toLowerCase(),r=t.slice(e+1).trim();this.maybeSetNormalizedName(n,i),this.headers.has(i)?this.headers.get(i).push(r):this.headers.set(i,[r])}})}:()=>{this.headers=new Map,Object.keys(t).forEach(e=>{let n=t[e];const i=e.toLowerCase();"string"==typeof n&&(n=[n]),n.length>0&&(this.headers.set(i,n),this.maybeSetNormalizedName(e,i))})}:this.headers=new Map}has(t){return this.init(),this.headers.has(t.toLowerCase())}get(t){this.init();const e=this.headers.get(t.toLowerCase());return e&&e.length>0?e[0]:null}keys(){return this.init(),Array.from(this.normalizedNames.values())}getAll(t){return this.init(),this.headers.get(t.toLowerCase())||null}append(t,e){return this.clone({name:t,value:e,op:"a"})}set(t,e){return this.clone({name:t,value:e,op:"s"})}delete(t,e){return this.clone({name:t,value:e,op:"d"})}maybeSetNormalizedName(t,e){this.normalizedNames.has(e)||this.normalizedNames.set(e,t)}init(){this.lazyInit&&(this.lazyInit instanceof jv?this.copyFrom(this.lazyInit):this.lazyInit(),this.lazyInit=null,this.lazyUpdate&&(this.lazyUpdate.forEach(t=>this.applyUpdate(t)),this.lazyUpdate=null))}copyFrom(t){t.init(),Array.from(t.headers.keys()).forEach(e=>{this.headers.set(e,t.headers.get(e)),this.normalizedNames.set(e,t.normalizedNames.get(e))})}clone(t){const e=new jv;return e.lazyInit=this.lazyInit&&this.lazyInit instanceof jv?this.lazyInit:this,e.lazyUpdate=(this.lazyUpdate||[]).concat([t]),e}applyUpdate(t){const e=t.name.toLowerCase();switch(t.op){case"a":case"s":let n=t.value;if("string"==typeof n&&(n=[n]),0===n.length)return;this.maybeSetNormalizedName(t.name,e);const i=("a"===t.op?this.headers.get(e):void 0)||[];i.push(...n),this.headers.set(e,i);break;case"d":const r=t.value;if(r){let t=this.headers.get(e);if(!t)return;t=t.filter(t=>-1===r.indexOf(t)),0===t.length?(this.headers.delete(e),this.normalizedNames.delete(e)):this.headers.set(e,t)}else this.headers.delete(e),this.normalizedNames.delete(e)}}forEach(t){this.init(),Array.from(this.normalizedNames.keys()).forEach(e=>t(this.normalizedNames.get(e),this.headers.get(e)))}}class zv{encodeKey(t){return Hv(t)}encodeValue(t){return Hv(t)}decodeKey(t){return decodeURIComponent(t)}decodeValue(t){return decodeURIComponent(t)}}function Hv(t){return encodeURIComponent(t).replace(/%40/gi,"@").replace(/%3A/gi,":").replace(/%24/gi,"$").replace(/%2C/gi,",").replace(/%3B/gi,";").replace(/%2B/gi,"+").replace(/%3D/gi,"=").replace(/%3F/gi,"?").replace(/%2F/gi,"/")}class Vv{constructor(t={}){if(this.updates=null,this.cloneFrom=null,this.encoder=t.encoder||new zv,t.fromString){if(t.fromObject)throw new Error("Cannot specify both fromString and fromObject.");this.map=function(t,e){const n=new Map;return t.length>0&&t.split("&").forEach(t=>{const i=t.indexOf("="),[r,o]=-1==i?[e.decodeKey(t),""]:[e.decodeKey(t.slice(0,i)),e.decodeValue(t.slice(i+1))],s=n.get(r)||[];s.push(o),n.set(r,s)}),n}(t.fromString,this.encoder)}else t.fromObject?(this.map=new Map,Object.keys(t.fromObject).forEach(e=>{const n=t.fromObject[e];this.map.set(e,Array.isArray(n)?n:[n])})):this.map=null}has(t){return this.init(),this.map.has(t)}get(t){this.init();const e=this.map.get(t);return e?e[0]:null}getAll(t){return this.init(),this.map.get(t)||null}keys(){return this.init(),Array.from(this.map.keys())}append(t,e){return this.clone({param:t,value:e,op:"a"})}set(t,e){return this.clone({param:t,value:e,op:"s"})}delete(t,e){return this.clone({param:t,value:e,op:"d"})}toString(){return this.init(),this.keys().map(t=>{const e=this.encoder.encodeKey(t);return this.map.get(t).map(t=>e+"="+this.encoder.encodeValue(t)).join("&")}).filter(t=>""!==t).join("&")}clone(t){const e=new Vv({encoder:this.encoder});return e.cloneFrom=this.cloneFrom||this,e.updates=(this.updates||[]).concat([t]),e}init(){null===this.map&&(this.map=new Map),null!==this.cloneFrom&&(this.cloneFrom.init(),this.cloneFrom.keys().forEach(t=>this.map.set(t,this.cloneFrom.map.get(t))),this.updates.forEach(t=>{switch(t.op){case"a":case"s":const e=("a"===t.op?this.map.get(t.param):void 0)||[];e.push(t.value),this.map.set(t.param,e);break;case"d":if(void 0===t.value){this.map.delete(t.param);break}{let e=this.map.get(t.param)||[];const n=e.indexOf(t.value);-1!==n&&e.splice(n,1),e.length>0?this.map.set(t.param,e):this.map.delete(t.param)}}}),this.cloneFrom=this.updates=null)}}function Uv(t){return"undefined"!=typeof ArrayBuffer&&t instanceof ArrayBuffer}function Wv(t){return"undefined"!=typeof Blob&&t instanceof Blob}function $v(t){return"undefined"!=typeof FormData&&t instanceof FormData}class Gv{constructor(t,e,n,i){let r;if(this.url=e,this.body=null,this.reportProgress=!1,this.withCredentials=!1,this.responseType="json",this.method=t.toUpperCase(),function(t){switch(t){case"DELETE":case"GET":case"HEAD":case"OPTIONS":case"JSONP":return!1;default:return!0}}(this.method)||i?(this.body=void 0!==n?n:null,r=i):r=n,r&&(this.reportProgress=!!r.reportProgress,this.withCredentials=!!r.withCredentials,r.responseType&&(this.responseType=r.responseType),r.headers&&(this.headers=r.headers),r.params&&(this.params=r.params)),this.headers||(this.headers=new jv),this.params){const t=this.params.toString();if(0===t.length)this.urlWithParams=e;else{const n=e.indexOf("?");this.urlWithParams=e+(-1===n?"?":n<e.length-1?"&":"")+t}}else this.params=new Vv,this.urlWithParams=e}serializeBody(){return null===this.body?null:Uv(this.body)||Wv(this.body)||$v(this.body)||"string"==typeof this.body?this.body:this.body instanceof Vv?this.body.toString():"object"==typeof this.body||"boolean"==typeof this.body||Array.isArray(this.body)?JSON.stringify(this.body):this.body.toString()}detectContentTypeHeader(){return null===this.body||$v(this.body)?null:Wv(this.body)?this.body.type||null:Uv(this.body)?null:"string"==typeof this.body?"text/plain":this.body instanceof Vv?"application/x-www-form-urlencoded;charset=UTF-8":"object"==typeof this.body||"number"==typeof this.body||Array.isArray(this.body)?"application/json":null}clone(t={}){const e=t.method||this.method,n=t.url||this.url,i=t.responseType||this.responseType,r=void 0!==t.body?t.body:this.body,o=void 0!==t.withCredentials?t.withCredentials:this.withCredentials,s=void 0!==t.reportProgress?t.reportProgress:this.reportProgress;let a=t.headers||this.headers,l=t.params||this.params;return void 0!==t.setHeaders&&(a=Object.keys(t.setHeaders).reduce((e,n)=>e.set(n,t.setHeaders[n]),a)),t.setParams&&(l=Object.keys(t.setParams).reduce((e,n)=>e.set(n,t.setParams[n]),l)),new Gv(e,n,r,{params:l,headers:a,reportProgress:s,responseType:i,withCredentials:o})}}const qv=function(){var t={Sent:0,UploadProgress:1,ResponseHeader:2,DownloadProgress:3,Response:4,User:5};return t[t.Sent]="Sent",t[t.UploadProgress]="UploadProgress",t[t.ResponseHeader]="ResponseHeader",t[t.DownloadProgress]="DownloadProgress",t[t.Response]="Response",t[t.User]="User",t}();class Xv{constructor(t,e=200,n="OK"){this.headers=t.headers||new jv,this.status=void 0!==t.status?t.status:e,this.statusText=t.statusText||n,this.url=t.url||null,this.ok=this.status>=200&&this.status<300}}class Kv extends Xv{constructor(t={}){super(t),this.type=qv.ResponseHeader}clone(t={}){return new Kv({headers:t.headers||this.headers,status:void 0!==t.status?t.status:this.status,statusText:t.statusText||this.statusText,url:t.url||this.url||void 0})}}class Yv extends Xv{constructor(t={}){super(t),this.type=qv.Response,this.body=void 0!==t.body?t.body:null}clone(t={}){return new Yv({body:void 0!==t.body?t.body:this.body,headers:t.headers||this.headers,status:void 0!==t.status?t.status:this.status,statusText:t.statusText||this.statusText,url:t.url||this.url||void 0})}}class Qv extends Xv{constructor(t){super(t,0,"Unknown Error"),this.name="HttpErrorResponse",this.ok=!1,this.message=this.status>=200&&this.status<300?`Http failure during parsing for ${t.url||"(unknown url)"}`:`Http failure response for ${t.url||"(unknown url)"}: ${t.status} ${t.statusText}`,this.error=t.error||null}}function Zv(t,e){return{body:e,headers:t.headers,observe:t.observe,params:t.params,reportProgress:t.reportProgress,responseType:t.responseType,withCredentials:t.withCredentials}}let Jv=(()=>{class t{constructor(t){this.handler=t}request(t,e,n={}){let i;if(t instanceof Gv)i=t;else{let r=void 0;r=n.headers instanceof jv?n.headers:new jv(n.headers);let o=void 0;n.params&&(o=n.params instanceof Vv?n.params:new Vv({fromObject:n.params})),i=new Gv(t,e,void 0!==n.body?n.body:null,{headers:r,params:o,reportProgress:n.reportProgress,responseType:n.responseType||"json",withCredentials:n.withCredentials})}const r=fy(i).pipe(Lv(t=>this.handler.handle(t)));if(t instanceof Gv||"events"===n.observe)return r;const o=r.pipe(Vy(t=>t instanceof Yv));switch(n.observe||"body"){case"body":switch(i.responseType){case"arraybuffer":return o.pipe(F(t=>{if(null!==t.body&&!(t.body instanceof ArrayBuffer))throw new Error("Response is not an ArrayBuffer.");return t.body}));case"blob":return o.pipe(F(t=>{if(null!==t.body&&!(t.body instanceof Blob))throw new Error("Response is not a Blob.");return t.body}));case"text":return o.pipe(F(t=>{if(null!==t.body&&"string"!=typeof t.body)throw new Error("Response is not a string.");return t.body}));case"json":default:return o.pipe(F(t=>t.body))}case"response":return o;default:throw new Error(`Unreachable: unhandled observe type ${n.observe}}`)}}delete(t,e={}){return this.request("DELETE",t,e)}get(t,e={}){return this.request("GET",t,e)}head(t,e={}){return this.request("HEAD",t,e)}jsonp(t,e){return this.request("JSONP",t,{params:(new Vv).append(e,"JSONP_CALLBACK"),observe:"body",responseType:"json"})}options(t,e={}){return this.request("OPTIONS",t,e)}patch(t,e,n={}){return this.request("PATCH",t,Zv(n,e))}post(t,e,n={}){return this.request("POST",t,Zv(n,e))}put(t,e,n={}){return this.request("PUT",t,Zv(n,e))}}return t.\u0275fac=function(e){return new(e||t)(Kt(Bv))},t.\u0275prov=ht({token:t,factory:t.\u0275fac}),t})();class tb{constructor(t,e){this.next=t,this.interceptor=e}handle(t){return this.interceptor.intercept(t,this.next)}}const eb=new jt("HTTP_INTERCEPTORS");let nb=(()=>{class t{intercept(t,e){return e.handle(t)}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275prov=ht({token:t,factory:t.\u0275fac}),t})();const ib=/^\)\]\}',?\n/;class rb{}let ob=(()=>{class t{constructor(){}build(){return new XMLHttpRequest}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275prov=ht({token:t,factory:t.\u0275fac}),t})(),sb=(()=>{class t{constructor(t){this.xhrFactory=t}handle(t){if("JSONP"===t.method)throw new Error("Attempted to construct Jsonp request without JsonpClientModule installed.");return new _(e=>{const n=this.xhrFactory.build();if(n.open(t.method,t.urlWithParams),t.withCredentials&&(n.withCredentials=!0),t.headers.forEach((t,e)=>n.setRequestHeader(t,e.join(","))),t.headers.has("Accept")||n.setRequestHeader("Accept","application/json, text/plain, */*"),!t.headers.has("Content-Type")){const e=t.detectContentTypeHeader();null!==e&&n.setRequestHeader("Content-Type",e)}if(t.responseType){const e=t.responseType.toLowerCase();n.responseType="json"!==e?e:"text"}const i=t.serializeBody();let r=null;const o=()=>{if(null!==r)return r;const e=1223===n.status?204:n.status,i=n.statusText||"OK",o=new jv(n.getAllResponseHeaders()),s=function(t){return"responseURL"in t&&t.responseURL?t.responseURL:/^X-Request-URL:/m.test(t.getAllResponseHeaders())?t.getResponseHeader("X-Request-URL"):null}(n)||t.url;return r=new Kv({headers:o,status:e,statusText:i,url:s}),r},s=()=>{let{headers:i,status:r,statusText:s,url:a}=o(),l=null;204!==r&&(l=void 0===n.response?n.responseText:n.response),0===r&&(r=l?200:0);let c=r>=200&&r<300;if("json"===t.responseType&&"string"==typeof l){const t=l;l=l.replace(ib,"");try{l=""!==l?JSON.parse(l):null}catch(u){l=t,c&&(c=!1,l={error:u,text:l})}}c?(e.next(new Yv({body:l,headers:i,status:r,statusText:s,url:a||void 0})),e.complete()):e.error(new Qv({error:l,headers:i,status:r,statusText:s,url:a||void 0}))},a=t=>{const{url:i}=o(),r=new Qv({error:t,status:n.status||0,statusText:n.statusText||"Unknown Error",url:i||void 0});e.error(r)};let l=!1;const c=i=>{l||(e.next(o()),l=!0);let r={type:qv.DownloadProgress,loaded:i.loaded};i.lengthComputable&&(r.total=i.total),"text"===t.responseType&&n.responseText&&(r.partialText=n.responseText),e.next(r)},u=t=>{let n={type:qv.UploadProgress,loaded:t.loaded};t.lengthComputable&&(n.total=t.total),e.next(n)};return n.addEventListener("load",s),n.addEventListener("error",a),t.reportProgress&&(n.addEventListener("progress",c),null!==i&&n.upload&&n.upload.addEventListener("progress",u)),n.send(i),e.next({type:qv.Sent}),()=>{n.removeEventListener("error",a),n.removeEventListener("load",s),t.reportProgress&&(n.removeEventListener("progress",c),null!==i&&n.upload&&n.upload.removeEventListener("progress",u)),n.abort()}})}}return t.\u0275fac=function(e){return new(e||t)(Kt(rb))},t.\u0275prov=ht({token:t,factory:t.\u0275fac}),t})();const ab=new jt("XSRF_COOKIE_NAME"),lb=new jt("XSRF_HEADER_NAME");class cb{}let ub=(()=>{class t{constructor(t,e,n){this.doc=t,this.platform=e,this.cookieName=n,this.lastCookieString="",this.lastToken=null,this.parseCount=0}getToken(){if("server"===this.platform)return null;const t=this.doc.cookie||"";return t!==this.lastCookieString&&(this.parseCount++,this.lastToken=_h(t,this.cookieName),this.lastCookieString=t),this.lastToken}}return t.\u0275fac=function(e){return new(e||t)(Kt(vu),Kt(Tc),Kt(ab))},t.\u0275prov=ht({token:t,factory:t.\u0275fac}),t})(),hb=(()=>{class t{constructor(t,e){this.tokenService=t,this.headerName=e}intercept(t,e){const n=t.url.toLowerCase();if("GET"===t.method||"HEAD"===t.method||n.startsWith("http://")||n.startsWith("https://"))return e.handle(t);const i=this.tokenService.getToken();return null===i||t.headers.has(this.headerName)||(t=t.clone({headers:t.headers.set(this.headerName,i)})),e.handle(t)}}return t.\u0275fac=function(e){return new(e||t)(Kt(cb),Kt(lb))},t.\u0275prov=ht({token:t,factory:t.\u0275fac}),t})(),db=(()=>{class t{constructor(t,e){this.backend=t,this.injector=e,this.chain=null}handle(t){if(null===this.chain){const t=this.injector.get(eb,[]);this.chain=t.reduceRight((t,e)=>new tb(t,e),this.backend)}return this.chain.handle(t)}}return t.\u0275fac=function(e){return new(e||t)(Kt(Nv),Kt(us))},t.\u0275prov=ht({token:t,factory:t.\u0275fac}),t})(),pb=(()=>{class t{static disable(){return{ngModule:t,providers:[{provide:hb,useClass:nb}]}}static withOptions(e={}){return{ngModule:t,providers:[e.cookieName?{provide:ab,useValue:e.cookieName}:[],e.headerName?{provide:lb,useValue:e.headerName}:[]]}}}return t.\u0275mod=_e({type:t}),t.\u0275inj=dt({factory:function(e){return new(e||t)},providers:[hb,{provide:eb,useExisting:hb,multi:!0},{provide:cb,useClass:ub},{provide:ab,useValue:"XSRF-TOKEN"},{provide:lb,useValue:"X-XSRF-TOKEN"}]}),t})(),fb=(()=>{class t{}return t.\u0275mod=_e({type:t}),t.\u0275inj=dt({factory:function(e){return new(e||t)},providers:[Jv,{provide:Bv,useClass:db},sb,{provide:Nv,useExisting:sb},ob,{provide:rb,useExisting:ob}],imports:[[pb.withOptions({cookieName:"XSRF-TOKEN",headerName:"X-XSRF-TOKEN"})]]}),t})();class mb extends x{constructor(t){super(),this._value=t}get value(){return this.getValue()}_subscribe(t){const e=super._subscribe(t);return e&&!e.closed&&t.next(this._value),e}getValue(){if(this.hasError)throw this.thrownError;if(this.closed)throw new b;return this._value}next(t){super.next(this._value=t)}}class gb{constructor(t,e){this.observables=t,this.project=e}call(t,e){return e.subscribe(new yb(t,this.observables,this.project))}}class yb extends R{constructor(t,e,n){super(t),this.observables=e,this.project=n,this.toRespond=[];const i=e.length;this.values=new Array(i);for(let r=0;r<i;r++)this.toRespond.push(r);for(let r=0;r<i;r++){let t=e[r];this.add(D(this,t,t,r))}}notifyNext(t,e,n,i,r){this.values[n]=e;const o=this.toRespond;if(o.length>0){const t=o.indexOf(n);-1!==t&&o.splice(t,1)}}notifyComplete(){}_next(t){if(0===this.toRespond.length){const e=[t,...this.values];this.project?this._tryProject(e):this.destination.next(e)}}_tryProject(t){let e;try{e=this.project.apply(this,t)}catch(n){return void this.destination.error(n)}this.destination.next(e)}}class _b{constructor(t,e,n=!1){this.accumulator=t,this.seed=e,this.hasSeed=n}call(t,e){return e.subscribe(new vb(t,this.accumulator,this.seed,this.hasSeed))}}class vb extends f{constructor(t,e,n,i){super(t),this.accumulator=e,this._seed=n,this.hasSeed=i,this.index=0}get seed(){return this._seed}set seed(t){this.hasSeed=!0,this._seed=t}_next(t){if(this.hasSeed)return this._tryNext(t);this.seed=t,this.destination.next(t)}_tryNext(t){const e=this.index++;let n;try{n=this.accumulator(this.seed,t,e)}catch(i){this.destination.error(i)}this.seed=n,this.destination.next(n)}}let bb={};function wb(t,e){if(bb[t]=(bb[t]||0)+1,"function"==typeof e)return Cb(t,(...n)=>Object.assign(Object.assign({},e(...n)),{type:t}));switch(e?e._as:"empty"){case"empty":return Cb(t,()=>({type:t}));case"props":return Cb(t,e=>Object.assign(Object.assign({},e),{type:t}));default:throw new Error("Unexpected config.")}}function Cb(t,e){return Object.defineProperty(e,"type",{value:t,writable:!1})}const xb="@ngrx/store/init";let Eb=(()=>{class t extends mb{constructor(){super({type:xb})}next(t){if("function"==typeof t)throw new TypeError("\n        Dispatch expected an object, instead it received a function.\n        If you're using the createAction function, make sure to invoke the function\n        before dispatching the action. For example, someAction should be someAction().");if(void 0===t)throw new TypeError("Actions must be objects");if(void 0===t.type)throw new TypeError("Actions must have a type property");super.next(t)}complete(){}ngOnDestroy(){super.complete()}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275prov=ht({token:t,factory:t.\u0275fac}),t})();const Sb=[Eb],Pb=new jt("@ngrx/store Internal Root Guard"),Ob=new jt("@ngrx/store Internal Initial State"),kb=new jt("@ngrx/store Initial State"),Tb=new jt("@ngrx/store Reducer Factory"),Ib=new jt("@ngrx/store Internal Reducer Factory Provider"),Ab=new jt("@ngrx/store Initial Reducers"),Mb=new jt("@ngrx/store Internal Initial Reducers"),Db=new jt("@ngrx/store Store Features"),Rb=new jt("@ngrx/store Internal Store Reducers"),Fb=new jt("@ngrx/store Internal Feature Reducers"),Lb=new jt("@ngrx/store Internal Feature Configs"),Bb=new jt("@ngrx/store Internal Store Features"),Nb=new jt("@ngrx/store Internal Feature Reducers Token"),jb=new jt("@ngrx/store Feature Reducers"),zb=new jt("@ngrx/store User Provided Meta Reducers"),Hb=new jt("@ngrx/store Meta Reducers"),Vb=new jt("@ngrx/store Internal Resolved Meta Reducers"),Ub=new jt("@ngrx/store User Runtime Checks Config"),Wb=new jt("@ngrx/store Internal User Runtime Checks Config"),$b=new jt("@ngrx/store Internal Runtime Checks"),Gb=new jt("@ngrx/store Check if Action types are unique");function qb(t,e={}){const n=Object.keys(t),i={};for(let o=0;o<n.length;o++){const e=n[o];"function"==typeof t[e]&&(i[e]=t[e])}const r=Object.keys(i);return function(t,n){t=void 0===t?e:t;let o=!1;const s={};for(let e=0;e<r.length;e++){const a=r[e],l=t[a],c=(0,i[a])(l,n);s[a]=c,o=o||c!==l}return o?s:t}}function Xb(...t){return function(e){if(0===t.length)return e;const n=t[t.length-1];return t.slice(0,-1).reduceRight((t,e)=>e(t),n(e))}}function Kb(t,e){return Array.isArray(e)&&e.length>0&&(t=Xb.apply(null,[...e,t])),(e,n)=>{const i=t(e);return(t,e)=>i(t=void 0===t?n:t,e)}}class Yb extends _{}class Qb extends Eb{}let Zb=(()=>{class t extends mb{constructor(t,e,n,i){super(i(n,e)),this.dispatcher=t,this.initialState=e,this.reducers=n,this.reducerFactory=i}addFeature(t){this.addFeatures([t])}addFeatures(t){const e=t.reduce((t,{reducers:e,reducerFactory:n,metaReducers:i,initialState:r,key:o})=>{const s="function"==typeof e?function(t){const e=Array.isArray(t)&&t.length>0?Xb(...t):t=>t;return(t,n)=>(t=e(t),(e,i)=>t(e=void 0===e?n:e,i))}(i)(e,r):Kb(n,i)(e,r);return t[o]=s,t},{});this.addReducers(e)}removeFeature(t){this.removeFeatures([t])}removeFeatures(t){this.removeReducers(t.map(t=>t.key))}addReducer(t,e){this.addReducers({[t]:e})}addReducers(t){this.reducers=Object.assign(Object.assign({},this.reducers),t),this.updateReducers(Object.keys(t))}removeReducer(t){this.removeReducers([t])}removeReducers(t){t.forEach(t=>{var e,n;this.reducers=(e=this.reducers,n=t,Object.keys(e).filter(t=>t!==n).reduce((t,n)=>Object.assign(t,{[n]:e[n]}),{}))}),this.updateReducers(t)}updateReducers(t){this.next(this.reducerFactory(this.reducers,this.initialState)),this.dispatcher.next({type:"@ngrx/store/update-reducers",features:t})}ngOnDestroy(){this.complete()}}return t.\u0275fac=function(e){return new(e||t)(Kt(Qb),Kt(kb),Kt(Ab),Kt(Tb))},t.\u0275prov=ht({token:t,factory:t.\u0275fac}),t})();const Jb=[Zb,{provide:Yb,useExisting:Zb},{provide:Qb,useExisting:Eb}];let tw=(()=>{class t extends x{ngOnDestroy(){this.complete()}}return t.\u0275fac=function(e){return ew(e||t)},t.\u0275prov=ht({token:t,factory:t.\u0275fac}),t})();const ew=ui(tw),nw=[tw];class iw extends _{}let rw=(()=>{class t extends mb{constructor(t,e,n,i){super(i);const r=t.pipe(function(t,e=0){return function(n){return n.lift(new u_(t,e))}}(i_)).pipe(function(...t){return e=>{let n;return"function"==typeof t[t.length-1]&&(n=t.pop()),e.lift(new gb(t,n))}}(e)).pipe(function(t,e){let n=!1;return arguments.length>=2&&(n=!0),function(i){return i.lift(new _b(t,e,n))}}(ow,{state:i}));this.stateSubscription=r.subscribe(({state:t,action:e})=>{this.next(t),n.next(e)})}ngOnDestroy(){this.stateSubscription.unsubscribe(),this.complete()}}return t.\u0275fac=function(e){return new(e||t)(Kt(Eb),Kt(Yb),Kt(tw),Kt(kb))},t.\u0275prov=ht({token:t,factory:t.\u0275fac}),t.INIT=xb,t})();function ow(t={state:void 0},[e,n]){const{state:i}=t;return{state:n(i,e),action:e}}const sw=[rw,{provide:iw,useExisting:rw}];let aw=(()=>{class t extends _{constructor(t,e,n){super(),this.actionsObserver=e,this.reducerManager=n,this.source=t}select(t,...e){return cw.call(null,t,...e)(this)}lift(e){const n=new t(this,this.actionsObserver,this.reducerManager);return n.operator=e,n}dispatch(t){this.actionsObserver.next(t)}next(t){this.actionsObserver.next(t)}error(t){this.actionsObserver.error(t)}complete(){this.actionsObserver.complete()}addReducer(t,e){this.reducerManager.addReducer(t,e)}removeReducer(t){this.reducerManager.removeReducer(t)}}return t.\u0275fac=function(e){return new(e||t)(Kt(iw),Kt(Eb),Kt(Zb))},t.\u0275prov=ht({token:t,factory:t.\u0275fac}),t})();const lw=[aw];function cw(t,e,...n){return function(i){let r;if("string"==typeof t){const o=[e,...n].filter(Boolean);r=i.pipe(function(...t){const e=t.length;if(0===e)throw new Error("list of properties cannot be empty.");return n=>F(function(t,e){return n=>{let i=n;for(let r=0;r<e;r++){const e=i[t[r]];if(void 0===e)return;i=e}return i}}(t,e))(n)}(t,...o))}else{if("function"!=typeof t)throw new TypeError(`Unexpected type '${typeof t}' in select operator,`+" expected 'string' or 'function'");r=i.pipe(F(n=>t(n,e)))}return r.pipe(My())}}const uw="https://ngrx.io/guide/store/configuration/runtime-checks";function hw(t){return void 0===t}function dw(t){return null===t}function pw(t){return Array.isArray(t)}function fw(t){return"object"==typeof t&&null!==t}function mw(t){return"function"==typeof t}function gw(t){Object.freeze(t);const e=mw(t);return Object.getOwnPropertyNames(t).forEach(n=>{if(!n.startsWith("\u0275")&&function(t,e){return Object.prototype.hasOwnProperty.call(t,e)}(t,n)&&(!e||"caller"!==n&&"callee"!==n&&"arguments"!==n)){const e=t[n];!fw(e)&&!mw(e)||Object.isFrozen(e)||gw(e)}}),t}function yw(t,e=[]){return(hw(t)||dw(t))&&0===e.length?{path:["root"],value:t}:Object.keys(t).reduce((n,i)=>{if(n)return n;const r=t[i];return function(t){return mw(t)&&t.hasOwnProperty("\u0275cmp")}(r)?n:!(hw(r)||dw(r)||function(t){return"number"==typeof t}(r)||function(t){return"boolean"==typeof t}(r)||function(t){return"string"==typeof t}(r)||pw(r))&&(function(t){if(!function(t){return fw(t)&&!pw(t)}(t))return!1;const e=Object.getPrototypeOf(t);return e===Object.prototype||null===e}(r)?yw(r,[...e,i]):{path:[...e,i],value:r})},!1)}function _w(t,e){if(!1===t)return;const n=t.path.join("."),i=new Error(`Detected unserializable ${e} at "${n}". ${uw}#strict${e}serializability`);throw i.value=t.value,i.unserializablePath=n,i}function vw(t){return Pi()?Object.assign({strictStateSerializability:!1,strictActionSerializability:!1,strictStateImmutability:!0,strictActionImmutability:!0,strictActionWithinNgZone:!1,strictActionTypeUniqueness:!1},t):{strictStateSerializability:!1,strictActionSerializability:!1,strictStateImmutability:!1,strictActionImmutability:!1,strictActionWithinNgZone:!1,strictActionTypeUniqueness:!1}}function bw({strictActionSerializability:t,strictStateSerializability:e}){return n=>t||e?function(t,e){return function(n,i){e.action(i)&&_w(yw(i),"action");const r=t(n,i);return e.state()&&_w(yw(r),"state"),r}}(n,{action:e=>t&&!Cw(e),state:()=>e}):n}function ww({strictActionImmutability:t,strictStateImmutability:e}){return n=>t||e?function(t,e){return function(n,i){const r=e.action(i)?gw(i):i,o=t(n,r);return e.state()?gw(o):o}}(n,{action:e=>t&&!Cw(e),state:()=>e}):n}function Cw(t){return t.type.startsWith("@ngrx")}function xw({strictActionWithinNgZone:t}){return e=>t?function(t,e){return function(n,i){if(e.action(i)&&!$c.isInAngularZone())throw new Error(`Action '${i.type}' running outside NgZone. ${uw}#strictactionwithinngzone`);return t(n,i)}}(e,{action:e=>t&&!Cw(e)}):e}function Ew(){return[{provide:Gb,multi:!0,deps:[$b],useFactory:Pw}]}function Sw(t){return t}function Pw(t){if(!t.strictActionTypeUniqueness)return;const e=Object.entries(bb).filter(([,t])=>t>1).map(([t])=>t);if(e.length)throw new Error(`Action types are registered more than once, ${e.map(t=>`"${t}"`).join(", ")}. ${uw}#strictactiontypeuniqueness`)}let Ow=(()=>{class t{constructor(t,e,n,i,r,o){}}return t.\u0275mod=_e({type:t}),t.\u0275inj=dt({factory:function(e){return new(e||t)(Kt(Eb),Kt(Yb),Kt(tw),Kt(aw),Kt(Pb,8),Kt(Gb,8))}}),t})(),kw=(()=>{class t{constructor(t,e,n,i,r){this.features=t,this.featureReducers=e,this.reducerManager=n;const o=t.map((t,n)=>{const i=e.shift()[n];return Object.assign(Object.assign({},t),{reducers:i,initialState:Dw(t.initialState)})});n.addFeatures(o)}ngOnDestroy(){this.reducerManager.removeFeatures(this.features)}}return t.\u0275mod=_e({type:t}),t.\u0275inj=dt({factory:function(e){return new(e||t)(Kt(Bb),Kt(jb),Kt(Zb),Kt(Ow),Kt(Gb,8))}}),t})(),Tw=(()=>{class t{static forRoot(t,e={}){return{ngModule:Ow,providers:[{provide:Pb,useFactory:Fw,deps:[[aw,new ot,new at]]},{provide:Ob,useValue:e.initialState},{provide:kb,useFactory:Dw,deps:[Ob]},{provide:Mb,useValue:t},{provide:Rb,useExisting:t instanceof jt?t:Mb},{provide:Ab,deps:[us,Mb,[new rt(Rb)]],useFactory:Iw},{provide:zb,useValue:e.metaReducers?e.metaReducers:[]},{provide:Vb,deps:[Hb,zb],useFactory:Rw},{provide:Ib,useValue:e.reducerFactory?e.reducerFactory:qb},{provide:Tb,deps:[Ib,Vb],useFactory:Kb},Sb,Jb,nw,sw,lw,(n=e.runtimeChecks,[{provide:Wb,useValue:n},{provide:Ub,useFactory:Sw,deps:[Wb]},{provide:$b,deps:[Ub],useFactory:vw},{provide:Hb,multi:!0,deps:[$b],useFactory:ww},{provide:Hb,multi:!0,deps:[$b],useFactory:bw},{provide:Hb,multi:!0,deps:[$b],useFactory:xw}]),Ew()]};var n}static forFeature(t,e,n={}){return{ngModule:kw,providers:[{provide:Lb,multi:!0,useValue:n},{provide:Db,multi:!0,useValue:{key:t,reducerFactory:n instanceof jt||!n.reducerFactory?qb:n.reducerFactory,metaReducers:n instanceof jt||!n.metaReducers?[]:n.metaReducers,initialState:n instanceof jt||!n.initialState?void 0:n.initialState}},{provide:Bb,deps:[us,Lb,Db],useFactory:Aw},{provide:Fb,multi:!0,useValue:e},{provide:Nb,multi:!0,useExisting:e instanceof jt?e:Fb},{provide:jb,multi:!0,deps:[us,Fb,[new rt(Nb)]],useFactory:Mw},Ew()]}}}return t.\u0275mod=_e({type:t}),t.\u0275inj=dt({factory:function(e){return new(e||t)}}),t})();function Iw(t,e){return e instanceof jt?t.get(e):e}function Aw(t,e,n){return n.map((n,i)=>{if(e[i]instanceof jt){const r=t.get(e[i]);return{key:n.key,reducerFactory:r.reducerFactory?r.reducerFactory:qb,metaReducers:r.metaReducers?r.metaReducers:[],initialState:r.initialState}}return n})}function Mw(t,e){return e.map(e=>e instanceof jt?t.get(e):e)}function Dw(t){return"function"==typeof t?t():t}function Rw(t,e){return t.concat(e)}function Fw(t){if(t)throw new TypeError("StoreModule.forRoot() called twice. Feature modules should use StoreModule.forFeature() instead.");return"guarded"}function Lw(...t){return{reducer:t.pop(),types:t.reduce((t,e)=>[...t,e.type],[])}}function Bw(t,...e){const n=new Map;for(let i of e)for(let t of i.types)if(n.has(t)){const e=n.get(t);n.set(t,(t,n)=>i.reducer(e(t,n),n))}else n.set(t,i.reducer);return function(e=t,i){const r=n.get(i.type);return r?r(e,i):e}}var Nw=function(t,e){return(Nw=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(t,e)};function jw(t,e){function n(){this.constructor=t}Nw(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}var zw=function(){return(zw=Object.assign||function(t){for(var e,n=1,i=arguments.length;n<i;n++)for(var r in e=arguments[n])Object.prototype.hasOwnProperty.call(e,r)&&(t[r]=e[r]);return t}).apply(this,arguments)};function Hw(t,e){var n="function"==typeof Symbol&&t[Symbol.iterator];if(!n)return t;var i,r,o=n.call(t),s=[];try{for(;(void 0===e||e-- >0)&&!(i=o.next()).done;)s.push(i.value)}catch(a){r={error:a}}finally{try{i&&!i.done&&(n=o.return)&&n.call(o)}finally{if(r)throw r.error}}return s}function Vw(){for(var t=[],e=0;e<arguments.length;e++)t=t.concat(Hw(arguments[e]));return t}var Uw=[];Object.freeze(Uw);var Ww={};Object.freeze(Ww);var $w={};function Gw(){return"undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof self?self:$w}function qw(){return++ux.mobxGuid}function Xw(t){throw Kw(!1,t),"X"}function Kw(t,e){if(!t)throw new Error("[mobx] "+(e||"An invariant failed, however the error is obfuscated because this is an production build."))}function Yw(t){var e=!1;return function(){if(!e)return e=!0,t.apply(this,arguments)}}var Qw=function(){};function Zw(t){return null!==t&&"object"==typeof t}function Jw(t){if(null===t||"object"!=typeof t)return!1;var e=Object.getPrototypeOf(t);return e===Object.prototype||null===e}function tC(t,e,n){Object.defineProperty(t,e,{enumerable:!1,writable:!0,configurable:!0,value:n})}function eC(t,e,n){Object.defineProperty(t,e,{enumerable:!1,writable:!1,configurable:!0,value:n})}function nC(t,e){var n="isMobX"+t;return e.prototype[n]=!0,function(t){return Zw(t)&&!0===t[n]}}function iC(t){return void 0!==Gw().Map&&t instanceof Gw().Map}function rC(t){return t instanceof Set}function oC(t){for(var e=[];;){var n=t.next();if(n.done)break;e.push(n.value)}return e}function sC(){return"function"==typeof Symbol&&Symbol.toPrimitive||"@@toPrimitive"}function aC(t){return null===t?null:"object"==typeof t?""+t:t}function lC(){return"function"==typeof Symbol&&Symbol.iterator||"@@iterator"}function cC(t,e){eC(t,lC(),e)}function uC(t){return t[lC()]=dC,t}function hC(){return"function"==typeof Symbol&&Symbol.toStringTag||"@@toStringTag"}function dC(){return this}var pC=function(){function t(t){void 0===t&&(t="Atom@"+qw()),this.name=t,this.isPendingUnobservation=!1,this.isBeingObserved=!1,this.observers=[],this.observersIndexes={},this.diffValue=0,this.lastAccessedBy=0,this.lowestObserverState=jC.NOT_TRACKING}return t.prototype.onBecomeUnobserved=function(){},t.prototype.onBecomeObserved=function(){},t.prototype.reportObserved=function(){return gx(this)},t.prototype.reportChanged=function(){fx(),function(t){if(t.lowestObserverState!==jC.STALE){t.lowestObserverState=jC.STALE;for(var e=t.observers,n=e.length;n--;){var i=e[n];i.dependenciesState===jC.UP_TO_DATE&&(i.isTracing!==zC.NONE&&yx(i,t),i.onBecomeStale()),i.dependenciesState=jC.STALE}}}(this),mx()},t.prototype.toString=function(){return this.name},t}(),fC=nC("Atom",pC);function mC(t,e){return t===e}var gC={identity:mC,structural:function(t,e){return PE(t,e)},default:function(t,e){return function(t,e){return"number"==typeof t&&"number"==typeof e&&isNaN(t)&&isNaN(e)}(t,e)||mC(t,e)},shallow:function(t,e){return PE(t,e,1)}},yC={},_C={};function vC(t,e){var n=e?yC:_C;return n[t]||(n[t]={configurable:!0,enumerable:e,get:function(){return bC(this),this[t]},set:function(e){bC(this),this[t]=e}})}function bC(t){if(!0!==t.__mobxDidRunLazyInitializers){var e=t.__mobxDecorators;if(e)for(var n in tC(t,"__mobxDidRunLazyInitializers",!0),e){var i=e[n];i.propertyCreator(t,i.prop,i.descriptor,i.decoratorTarget,i.decoratorArguments)}}}function wC(t,e){return function(){var n,i=function(i,r,o,s){return!0===s?(e(i,r,o,i,n),null):(Object.prototype.hasOwnProperty.call(i,"__mobxDecorators")||tC(i,"__mobxDecorators",zw({},i.__mobxDecorators)),i.__mobxDecorators[r]={prop:r,propertyCreator:e,descriptor:o,decoratorTarget:i,decoratorArguments:n},vC(r,t))};return CC(arguments)?(n=Uw,i.apply(null,arguments)):(n=Array.prototype.slice.call(arguments),i)}}function CC(t){return(2===t.length||3===t.length)&&"string"==typeof t[1]||4===t.length&&!0===t[3]}function xC(t,e,n){return zx(t)?t:Array.isArray(t)?RC.array(t,{name:n}):Jw(t)?RC.object(t,void 0,{name:n}):iC(t)?RC.map(t,{name:n}):rC(t)?RC.set(t,{name:n}):t}function EC(t){return t}function SC(t){Kw(t);var e=wC(!0,(function(e,n,i,r,o){!function(t,e,n,i){var r=_E(t);if(Ux(r)){var o=$x(r,{object:t,name:e,type:"add",newValue:n});if(!o)return;n=o.newValue}n=(r.values[e]=new ox(n,i,r.name+"."+e,!1)).value,Object.defineProperty(t,e,function(t){return vE[t]||(vE[t]={configurable:!0,enumerable:!0,get:function(){return this.$mobx.read(this,t)},set:function(e){this.$mobx.write(this,t,e)}})}(e)),r.keys&&r.keys.push(e),function(t,e,n,i){var r=Gx(t),o=wx(),s=r||o?{type:"add",object:e,name:n,newValue:i}:null;o&&xx(zw(zw({},s),{name:t.name,key:n})),r&&Xx(t,s),o&&Sx()}(r,t,e,n)}(e,n,i?i.initializer?i.initializer.call(e):i.value:void 0,t)})),n=("undefined"!=typeof process&&process,e);return n.enhancer=t,n}var PC={deep:!0,name:void 0,defaultDecorator:void 0};function OC(t){return null==t?PC:"string"==typeof t?{name:t,deep:!0}:t}function kC(t){return t.defaultDecorator?t.defaultDecorator.enhancer:!1===t.deep?EC:xC}Object.freeze(PC),Object.freeze({deep:!1,name:void 0,defaultDecorator:void 0});var TC=SC(xC),IC=SC((function(t,e,n){return null==t||xE(t)||cE(t)||pE(t)||gE(t)?t:Array.isArray(t)?RC.array(t,{name:n,deep:!1}):Jw(t)?RC.object(t,void 0,{name:n,deep:!1}):iC(t)?RC.map(t,{name:n,deep:!1}):rC(t)?RC.set(t,{name:n,deep:!1}):Xw(!1)})),AC=SC(EC),MC=SC((function(t,e,n){return PE(t,e)?e:t})),DC={box:function(t,e){arguments.length>2&&FC("box");var n=OC(e);return new ox(t,kC(n),n.name,!0,n.equals)},shallowBox:function(t,e){return arguments.length>2&&FC("shallowBox"),RC.box(t,{name:e,deep:!1})},array:function(t,e){arguments.length>2&&FC("array");var n=OC(e);return new iE(t,kC(n),n.name)},shallowArray:function(t,e){return arguments.length>2&&FC("shallowArray"),RC.array(t,{name:e,deep:!1})},map:function(t,e){arguments.length>2&&FC("map");var n=OC(e);return new hE(t,kC(n),n.name)},shallowMap:function(t,e){return arguments.length>2&&FC("shallowMap"),RC.map(t,{name:e,deep:!1})},set:function(t,e){arguments.length>2&&FC("set");var n=OC(e);return new mE(t,kC(n),n.name)},object:function(t,e,n){"string"==typeof arguments[1]&&FC("object");var i=OC(n);return Bx({},t,e,i)},shallowObject:function(t,e){return"string"==typeof arguments[1]&&FC("shallowObject"),RC.object(t,{},{name:e,deep:!1})},ref:AC,shallow:IC,deep:TC,struct:MC},RC=function(t,e,n){if("string"==typeof arguments[1])return TC.apply(null,arguments);if(zx(t))return t;var i=Jw(t)?RC.object(t,e,n):Array.isArray(t)?RC.array(t,e):iC(t)?RC.map(t,e):rC(t)?RC.set(t,e):t;if(i!==t)return i;Xw(!1)};function FC(t){Xw("Expected one or two arguments to observable."+t+". Did you accidentally try to use observable."+t+" as decorator?")}Object.keys(DC).forEach((function(t){return RC[t]=DC[t]}));var LC=wC(!1,(function(t,e,n,i,r){var o,s,a,l;o=t,s=e,a=zw({get:n.get,set:n.set},r[0]||{}),l=_E(o),a.name=l.name+"."+s,a.context=o,l.values[s]=new sx(a),Object.defineProperty(o,s,function(t){return bE[t]||(bE[t]={configurable:ux.computedConfigurable,enumerable:!1,get:function(){return wE(this).read(this,t)},set:function(e){wE(this).write(this,t,e)}})}(s))})),BC=LC({equals:gC.structural}),NC=function(t,e,n){if("string"==typeof e)return LC.apply(null,arguments);if(null!==t&&"object"==typeof t&&1===arguments.length)return LC.apply(null,arguments);var i="object"==typeof e?e:{};return i.get=t,i.set="function"==typeof e?e:i.set,i.name=i.name||t.name||"",new sx(i)};NC.struct=BC;var jC=function(t){return t[t.NOT_TRACKING=-1]="NOT_TRACKING",t[t.UP_TO_DATE=0]="UP_TO_DATE",t[t.POSSIBLY_STALE=1]="POSSIBLY_STALE",t[t.STALE=2]="STALE",t}({}),zC=function(t){return t[t.NONE=0]="NONE",t[t.LOG=1]="LOG",t[t.BREAK=2]="BREAK",t}({}),HC=function(){return function(t){this.cause=t}}();function VC(t){return t instanceof HC}function UC(t){switch(t.dependenciesState){case jC.UP_TO_DATE:return!1;case jC.NOT_TRACKING:case jC.STALE:return!0;case jC.POSSIBLY_STALE:for(var e=YC(!0),n=XC(),i=t.observing,r=i.length,o=0;o<r;o++){var s=i[o];if(ax(s)){if(ux.disableErrorBoundaries)s.get();else try{s.get()}catch(a){return KC(n),QC(e),!0}if(t.dependenciesState===jC.STALE)return KC(n),QC(e),!0}}return ZC(t),KC(n),QC(e),!1}}function WC(t){var e=t.observers.length>0;ux.computationDepth>0&&e&&Xw(!1),ux.allowStateChanges||!e&&"strict"!==ux.enforceActions||Xw(!1)}function $C(t,e,n){var i=YC(!0);ZC(t),t.newObserving=new Array(t.observing.length+100),t.unboundDepsCount=0,t.runId=++ux.runId;var r,o=ux.trackingDerivation;if(ux.trackingDerivation=t,!0===ux.disableErrorBoundaries)r=e.call(n);else try{r=e.call(n)}catch(s){r=new HC(s)}return ux.trackingDerivation=o,function(t){for(var e=t.observing,n=t.observing=t.newObserving,i=jC.UP_TO_DATE,r=0,o=t.unboundDepsCount,s=0;s<o;s++)0===(a=n[s]).diffValue&&(a.diffValue=1,r!==s&&(n[r]=a),r++),a.dependenciesState>i&&(i=a.dependenciesState);for(n.length=r,t.newObserving=null,o=e.length;o--;)0===(a=e[o]).diffValue&&dx(a,t),a.diffValue=0;for(;r--;){var a;1===(a=n[r]).diffValue&&(a.diffValue=0,hx(a,t))}i!==jC.UP_TO_DATE&&(t.dependenciesState=i,t.onBecomeStale())}(t),QC(i),r}function GC(t){var e=t.observing;t.observing=[];for(var n=e.length;n--;)dx(e[n],t);t.dependenciesState=jC.NOT_TRACKING}function qC(t){var e=XC(),n=t();return KC(e),n}function XC(){var t=ux.trackingDerivation;return ux.trackingDerivation=null,t}function KC(t){ux.trackingDerivation=t}function YC(t){var e=ux.allowStateReads;return ux.allowStateReads=t,e}function QC(t){ux.allowStateReads=t}function ZC(t){if(t.dependenciesState!==jC.UP_TO_DATE){t.dependenciesState=jC.UP_TO_DATE;for(var e=t.observing,n=e.length;n--;)e[n].lowestObserverState=jC.UP_TO_DATE}}var JC=0,tx=1;function ex(t,e){var n=function(){return nx(t,e,this,arguments)};return n.isMobxAction=!0,n}function nx(t,e,n,i){var r=function(t,e,n){var i=wx()&&!!t,r=0;if(i){r=Date.now();var o=n&&n.length||0,s=new Array(o);if(o>0)for(var a=0;a<o;a++)s[a]=n[a];xx({type:"action",name:t,object:e,arguments:s})}var l=XC();fx();var c={prevDerivation:l,prevAllowStateChanges:ix(!0),prevAllowStateReads:YC(!0),notifySpy:i,startTime:r,actionId:tx++,parentActionId:JC};return JC=c.actionId,c}(t,n,i);try{return e.apply(n,i)}catch(o){throw r.error=o,o}finally{!function(t){JC!==t.actionId&&Xw("invalid action stack. did you forget to finish an action?"),JC=t.parentActionId,void 0!==t.error&&(ux.suppressReactionErrors=!0),rx(t.prevAllowStateChanges),QC(t.prevAllowStateReads),mx(),KC(t.prevDerivation),t.notifySpy&&Sx({time:Date.now()-t.startTime}),ux.suppressReactionErrors=!1}(r)}}function ix(t){var e=ux.allowStateChanges;return ux.allowStateChanges=t,e}function rx(t){ux.allowStateChanges=t}Object.getOwnPropertyDescriptor((function(){}),"name");var ox=function(t){function e(e,n,i,r,o){void 0===i&&(i="ObservableValue@"+qw()),void 0===r&&(r=!0),void 0===o&&(o=gC.default);var s=t.call(this,i)||this;return s.enhancer=n,s.name=i,s.equals=o,s.hasUnreportedChange=!1,s.value=n(e,void 0,i),r&&wx()&&Cx({type:"create",name:s.name,newValue:""+s.value}),s}return jw(e,t),e.prototype.dehanceValue=function(t){return void 0!==this.dehancer?this.dehancer(t):t},e.prototype.set=function(t){var e=this.value;if((t=this.prepareNewValue(t))!==ux.UNCHANGED){var n=wx();n&&xx({type:"update",name:this.name,newValue:t,oldValue:e}),this.setNewValue(t),n&&Sx()}},e.prototype.prepareNewValue=function(t){if(WC(this),Ux(this)){var e=$x(this,{object:this,type:"update",newValue:t});if(!e)return ux.UNCHANGED;t=e.newValue}return t=this.enhancer(t,this.value,this.name),this.equals(this.value,t)?ux.UNCHANGED:t},e.prototype.setNewValue=function(t){var e=this.value;this.value=t,this.reportChanged(),Gx(this)&&Xx(this,{type:"update",object:this,newValue:t,oldValue:e})},e.prototype.get=function(){return this.reportObserved(),this.dehanceValue(this.value)},e.prototype.intercept=function(t){return Wx(this,t)},e.prototype.observe=function(t,e){return e&&t({object:this,type:"update",newValue:this.value,oldValue:void 0}),qx(this,t)},e.prototype.toJSON=function(){return this.get()},e.prototype.toString=function(){return this.name+"["+this.value+"]"},e.prototype.valueOf=function(){return aC(this.get())},e}(pC);ox.prototype[sC()]=ox.prototype.valueOf,nC("ObservableValue",ox);var sx=function(){function t(t){this.dependenciesState=jC.NOT_TRACKING,this.observing=[],this.newObserving=null,this.isBeingObserved=!1,this.isPendingUnobservation=!1,this.observers=[],this.observersIndexes={},this.diffValue=0,this.runId=0,this.lastAccessedBy=0,this.lowestObserverState=jC.UP_TO_DATE,this.unboundDepsCount=0,this.__mapid="#"+qw(),this.value=new HC(null),this.isComputing=!1,this.isRunningSetter=!1,this.isTracing=zC.NONE,Kw(t.get,"missing option for computed: get"),this.derivation=t.get,this.name=t.name||"ComputedValue@"+qw(),t.set&&(this.setter=ex(this.name+"-setter",t.set)),this.equals=t.equals||(t.compareStructural||t.struct?gC.structural:gC.default),this.scope=t.context,this.requiresReaction=!!t.requiresReaction,this.keepAlive=!!t.keepAlive}return t.prototype.onBecomeStale=function(){!function(t){if(t.lowestObserverState===jC.UP_TO_DATE){t.lowestObserverState=jC.POSSIBLY_STALE;for(var e=t.observers,n=e.length;n--;){var i=e[n];i.dependenciesState===jC.UP_TO_DATE&&(i.dependenciesState=jC.POSSIBLY_STALE,i.isTracing!==zC.NONE&&yx(i,t),i.onBecomeStale())}}}(this)},t.prototype.onBecomeUnobserved=function(){},t.prototype.onBecomeObserved=function(){},t.prototype.get=function(){this.isComputing&&Xw("Cycle detected in computation "+this.name+": "+this.derivation),0!==ux.inBatch||0!==this.observers.length||this.keepAlive?(gx(this),UC(this)&&this.trackAndCompute()&&function(t){if(t.lowestObserverState!==jC.STALE){t.lowestObserverState=jC.STALE;for(var e=t.observers,n=e.length;n--;){var i=e[n];i.dependenciesState===jC.POSSIBLY_STALE?i.dependenciesState=jC.STALE:i.dependenciesState===jC.UP_TO_DATE&&(t.lowestObserverState=jC.UP_TO_DATE)}}}(this)):UC(this)&&(this.warnAboutUntrackedRead(),fx(),this.value=this.computeValue(!1),mx());var t=this.value;if(VC(t))throw t.cause;return t},t.prototype.peek=function(){var t=this.computeValue(!1);if(VC(t))throw t.cause;return t},t.prototype.set=function(t){if(this.setter){Kw(!this.isRunningSetter,"The setter of computed value '"+this.name+"' is trying to update itself. Did you intend to update an _observable_ value, instead of the computed property?"),this.isRunningSetter=!0;try{this.setter.call(this.scope,t)}finally{this.isRunningSetter=!1}}else Kw(!1,!1)},t.prototype.trackAndCompute=function(){wx()&&Cx({object:this.scope,type:"compute",name:this.name});var t=this.value,e=this.dependenciesState===jC.NOT_TRACKING,n=this.computeValue(!0),i=e||VC(t)||VC(n)||!this.equals(t,n);return i&&(this.value=n),i},t.prototype.computeValue=function(t){var e;if(this.isComputing=!0,ux.computationDepth++,t)e=$C(this,this.derivation,this.scope);else if(!0===ux.disableErrorBoundaries)e=this.derivation.call(this.scope);else try{e=this.derivation.call(this.scope)}catch(n){e=new HC(n)}return ux.computationDepth--,this.isComputing=!1,e},t.prototype.suspend=function(){this.keepAlive||(GC(this),this.value=void 0)},t.prototype.observe=function(t,e){var n=this,i=!0,r=void 0;return Ax((function(){var o=n.get();if(!i||e){var s=XC();t({type:"update",object:n,newValue:o,oldValue:r}),KC(s)}i=!1,r=o}))},t.prototype.warnAboutUntrackedRead=function(){},t.prototype.toJSON=function(){return this.get()},t.prototype.toString=function(){return this.name+"["+this.derivation.toString()+"]"},t.prototype.valueOf=function(){return aC(this.get())},t}();sx.prototype[sC()]=sx.prototype.valueOf;var ax=nC("ComputedValue",sx),lx=function(){return function(){this.version=5,this.UNCHANGED={},this.trackingDerivation=null,this.computationDepth=0,this.runId=0,this.mobxGuid=0,this.inBatch=0,this.pendingUnobservations=[],this.pendingReactions=[],this.isRunningReactions=!1,this.allowStateChanges=!0,this.allowStateReads=!0,this.enforceActions=!1,this.spyListeners=[],this.globalReactionErrorHandlers=[],this.computedRequiresReaction=!1,this.reactionRequiresObservable=!1,this.observableRequiresReaction=!1,this.computedConfigurable=!1,this.disableErrorBoundaries=!1,this.suppressReactionErrors=!1}}(),cx=!0,ux=function(){var t=Gw();return t.__mobxInstanceCount>0&&!t.__mobxGlobals&&(cx=!1),t.__mobxGlobals&&t.__mobxGlobals.version!==(new lx).version&&(cx=!1),cx?t.__mobxGlobals?(t.__mobxInstanceCount+=1,t.__mobxGlobals.UNCHANGED||(t.__mobxGlobals.UNCHANGED={}),t.__mobxGlobals):(t.__mobxInstanceCount=1,t.__mobxGlobals=new lx):(setTimeout((function(){Xw("There are multiple, different versions of MobX active. Make sure MobX is loaded only once or use `configure({ isolateGlobalState: true })`")}),1),new lx)}();function hx(t,e){var n=t.observers.length;n&&(t.observersIndexes[e.__mapid]=n),t.observers[n]=e,t.lowestObserverState>e.dependenciesState&&(t.lowestObserverState=e.dependenciesState)}function dx(t,e){if(1===t.observers.length)t.observers.length=0,px(t);else{var n=t.observers,i=t.observersIndexes,r=n.pop();if(r!==e){var o=i[e.__mapid]||0;o?i[r.__mapid]=o:delete i[r.__mapid],n[o]=r}delete i[e.__mapid]}}function px(t){!1===t.isPendingUnobservation&&(t.isPendingUnobservation=!0,ux.pendingUnobservations.push(t))}function fx(){ux.inBatch++}function mx(){if(0==--ux.inBatch){vx();for(var t=ux.pendingUnobservations,e=0;e<t.length;e++){var n=t[e];n.isPendingUnobservation=!1,0===n.observers.length&&(n.isBeingObserved&&(n.isBeingObserved=!1,n.onBecomeUnobserved()),n instanceof sx&&n.suspend())}ux.pendingUnobservations=[]}}function gx(t){var e=ux.trackingDerivation;return null!==e?(e.runId!==t.lastAccessedBy&&(t.lastAccessedBy=e.runId,e.newObserving[e.unboundDepsCount++]=t,t.isBeingObserved||(t.isBeingObserved=!0,t.onBecomeObserved())),!0):(0===t.observers.length&&ux.inBatch>0&&px(t),!1)}function yx(t,e){if(console.log("[mobx.trace] '"+t.name+"' is invalidated due to a change in: '"+e.name+"'"),t.isTracing===zC.BREAK){var n=[];!function t(e,n,i){n.length>=1e3?n.push("(and many more)"):(n.push(""+new Array(i).join("\t")+e.name),e.dependencies&&e.dependencies.forEach((function(e){return t(e,n,i+1)})))}((i=t,Nx(EE(i,void 0))),n,1),new Function("debugger;\n/*\nTracing '"+t.name+"'\n\nYou are entering this break point because derivation '"+t.name+"' is being traced and '"+e.name+"' is now forcing it to update.\nJust follow the stacktrace you should now see in the devtools to see precisely what piece of your code is causing this update\nThe stackframe you are looking for is at least ~6-8 stack-frames up.\n\n"+(t instanceof sx?t.derivation.toString().replace(/[*]\//g,"/"):"")+"\n\nThe dependencies for this derivation are:\n\n"+n.join("\n")+"\n*/\n    ")()}var i}var _x=function(){function t(t,e,n,i){void 0===t&&(t="Reaction@"+qw()),void 0===i&&(i=!1),this.name=t,this.onInvalidate=e,this.errorHandler=n,this.requiresObservable=i,this.observing=[],this.newObserving=[],this.dependenciesState=jC.NOT_TRACKING,this.diffValue=0,this.runId=0,this.unboundDepsCount=0,this.__mapid="#"+qw(),this.isDisposed=!1,this._isScheduled=!1,this._isTrackPending=!1,this._isRunning=!1,this.isTracing=zC.NONE}return t.prototype.onBecomeStale=function(){this.schedule()},t.prototype.schedule=function(){this._isScheduled||(this._isScheduled=!0,ux.pendingReactions.push(this),vx())},t.prototype.isScheduled=function(){return this._isScheduled},t.prototype.runReaction=function(){if(!this.isDisposed){if(fx(),this._isScheduled=!1,UC(this)){this._isTrackPending=!0;try{this.onInvalidate(),this._isTrackPending&&wx()&&Cx({name:this.name,type:"scheduled-reaction"})}catch(t){this.reportExceptionInDerivation(t)}}mx()}},t.prototype.track=function(t){fx();var e,n=wx();n&&(e=Date.now(),xx({name:this.name,type:"reaction"})),this._isRunning=!0;var i=$C(this,t,void 0);this._isRunning=!1,this._isTrackPending=!1,this.isDisposed&&GC(this),VC(i)&&this.reportExceptionInDerivation(i.cause),n&&Sx({time:Date.now()-e}),mx()},t.prototype.reportExceptionInDerivation=function(t){var e=this;if(this.errorHandler)this.errorHandler(t,this);else{if(ux.disableErrorBoundaries)throw t;var n="[mobx] Encountered an uncaught exception that was thrown by a reaction or observer component, in: '"+this+"'";ux.suppressReactionErrors?console.warn("[mobx] (error in reaction '"+this.name+"' suppressed, fix error of causing action below)"):console.error(n,t),wx()&&Cx({type:"error",name:this.name,message:n,error:""+t}),ux.globalReactionErrorHandlers.forEach((function(n){return n(t,e)}))}},t.prototype.dispose=function(){this.isDisposed||(this.isDisposed=!0,this._isRunning||(fx(),GC(this),mx()))},t.prototype.getDisposer=function(){var t=this.dispose.bind(this);return t.$mobx=this,t},t.prototype.toString=function(){return"Reaction["+this.name+"]"},t.prototype.trace=function(t){void 0===t&&(t=!1),function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];var n=!1;"boolean"==typeof t[t.length-1]&&(n=t.pop());var i=Hx(t);if(!i)return Xw(!1);i.isTracing===zC.NONE&&console.log("[mobx.trace] '"+i.name+"' tracing enabled"),i.isTracing=n?zC.BREAK:zC.LOG}(this,t)},t}();function vx(){ux.inBatch>0||ux.isRunningReactions||function(){ux.isRunningReactions=!0;for(var t=ux.pendingReactions,e=0;t.length>0;){100==++e&&(console.error("Reaction doesn't converge to a stable state after 100 iterations. Probably there is a cycle in the reactive function: "+t[0]),t.splice(0));for(var n=t.splice(0),i=0,r=n.length;i<r;i++)n[i].runReaction()}ux.isRunningReactions=!1}()}var bx=nC("Reaction",_x);function wx(){return!!ux.spyListeners.length}function Cx(t){if(ux.spyListeners.length)for(var e=ux.spyListeners,n=0,i=e.length;n<i;n++)e[n](t)}function xx(t){Cx(zw(zw({},t),{spyReportStart:!0}))}var Ex={spyReportEnd:!0};function Sx(t){Cx(t?zw(zw({},t),{spyReportEnd:!0}):Ex)}function Px(){Xw(!1)}function Ox(t){return function(e,n,i){if(i){if(i.value)return{value:ex(t,i.value),enumerable:!1,configurable:!0,writable:!0};var r=i.initializer;return{enumerable:!1,configurable:!0,writable:!0,initializer:function(){return ex(t,r.call(this))}}}return kx(t).apply(this,arguments)}}function kx(t){return function(e,n,i){Object.defineProperty(e,n,{configurable:!0,enumerable:!1,get:function(){},set:function(e){tC(this,n,Tx(t,e))}})}}var Tx=function(t,e,n,i){return 1===arguments.length&&"function"==typeof t?ex(t.name||"<unnamed action>",t):2===arguments.length&&"function"==typeof e?ex(t,e):1===arguments.length&&"string"==typeof t?Ox(t):!0!==i?Ox(e).apply(null,arguments):void(t[e]=ex(t.name||e,n.value))};function Ix(t,e,n){tC(t,e,ex(e,n.bind(t)))}function Ax(t,e){void 0===e&&(e=Ww);var n,i=e&&e.name||t.name||"Autorun@"+qw();if(e.scheduler||e.delay){var r=Dx(e),o=!1;n=new _x(i,(function(){o||(o=!0,r((function(){o=!1,n.isDisposed||n.track(s)})))}),e.onError,e.requiresObservable)}else n=new _x(i,(function(){this.track(s)}),e.onError,e.requiresObservable);function s(){t(n)}return n.schedule(),n.getDisposer()}Tx.bound=function(t,e,n,i){return!0===i?(Ix(t,e,n.value),null):n?{configurable:!0,enumerable:!1,get:function(){return Ix(this,e,n.value||n.initializer.call(this)),this[e]},set:Px}:{enumerable:!1,configurable:!0,set:function(t){Ix(this,e,t)},get:function(){}}};var Mx=function(t){return t()};function Dx(t){return t.scheduler?t.scheduler:t.delay?function(e){return setTimeout(e,t.delay)}:Mx}function Rx(t,e,n){void 0===n&&(n=Ww),"boolean"==typeof n&&(n={fireImmediately:n});var i,r,o,s=n.name||"Reaction@"+qw(),a=Tx(s,n.onError?(r=n.onError,o=e,function(){try{return o.apply(this,arguments)}catch(t){r.call(this,t)}}):e),l=!n.scheduler&&!n.delay,c=Dx(n),u=!0,h=!1,d=n.compareStructural?gC.structural:n.equals||gC.default,p=new _x(s,(function(){u||l?f():h||(h=!0,c(f))}),n.onError,n.requiresObservable);function f(){if(h=!1,!p.isDisposed){var e=!1;p.track((function(){var n=t(p);e=u||!d(i,n),i=n})),u&&n.fireImmediately&&a(i,p),u||!0!==e||a(i,p),u&&(u=!1)}}return p.schedule(),p.getDisposer()}function Fx(t,e,n){return Lx("onBecomeUnobserved",t,e,n)}function Lx(t,e,n,i){var r="function"==typeof i?EE(e,n):EE(e),o="function"==typeof i?i:n,s=r[t];return"function"!=typeof s?Xw(!1):(r[t]=function(){s.call(this),o.call(this)},function(){r[t]=s})}function Bx(t,e,n,i){var r=(i=OC(i)).defaultDecorator||(!1===i.deep?AC:TC);bC(t),_E(t,i.name,r.enhancer),fx();try{for(var o in e){var s=Object.getOwnPropertyDescriptor(e,o),a=(n&&o in n?n[o]:s.get?LC:r)(t,o,s,!0);a&&Object.defineProperty(t,o,a)}}finally{mx()}return t}function Nx(t){var e,n,i={name:t.name};return t.observing&&t.observing.length>0&&(i.dependencies=(e=t.observing,n=[],e.forEach((function(t){-1===n.indexOf(t)&&n.push(t)})),n).map(Nx)),i}function jx(t,e){if(null==t)return!1;if(void 0!==e){if(xE(t)){var n=t.$mobx;return n.values&&!!n.values[e]}return!1}return xE(t)||!!t.$mobx||fC(t)||bx(t)||ax(t)}function zx(t){return 1!==arguments.length&&Xw(!1),jx(t)}function Hx(t){switch(t.length){case 0:return ux.trackingDerivation;case 1:return EE(t[0]);case 2:return EE(t[0],t[1])}}function Vx(t,e){void 0===e&&(e=void 0),fx();try{return t.apply(e)}finally{mx()}}function Ux(t){return void 0!==t.interceptors&&t.interceptors.length>0}function Wx(t,e){var n=t.interceptors||(t.interceptors=[]);return n.push(e),Yw((function(){var t=n.indexOf(e);-1!==t&&n.splice(t,1)}))}function $x(t,e){var n=XC();try{var i=t.interceptors;if(i)for(var r=0,o=i.length;r<o&&(Kw(!(e=i[r](e))||e.type,"Intercept handlers should return nothing or a change object"),e);r++);return e}finally{KC(n)}}function Gx(t){return void 0!==t.changeListeners&&t.changeListeners.length>0}function qx(t,e){var n=t.changeListeners||(t.changeListeners=[]);return n.push(e),Yw((function(){var t=n.indexOf(e);-1!==t&&n.splice(t,1)}))}function Xx(t,e){var n=XC(),i=t.changeListeners;if(i){for(var r=0,o=(i=i.slice()).length;r<o;r++)i[r](e);KC(n)}}Object.create(Error.prototype);var Kx,Yx,Qx,Zx,Jx=(Kx=!1,Yx={},Object.defineProperty(Yx,"0",{set:function(){Kx=!0}}),Object.create(Yx)[0]=1,!1===Kx),tE=0,eE=function(){return function(){}}();Qx=eE,Zx=Array.prototype,void 0!==Object.setPrototypeOf?Object.setPrototypeOf(Qx.prototype,Zx):void 0!==Qx.prototype.__proto__?Qx.prototype.__proto__=Zx:Qx.prototype=Zx,Object.isFrozen(Array)&&["constructor","push","shift","concat","pop","unshift","replace","find","findIndex","splice","reverse","sort"].forEach((function(t){Object.defineProperty(eE.prototype,t,{configurable:!0,writable:!0,value:Array.prototype[t]})}));var nE=function(){function t(t,e,n,i){this.array=n,this.owned=i,this.values=[],this.lastKnownLength=0,this.atom=new pC(t||"ObservableArray@"+qw()),this.enhancer=function(n,i){return e(n,i,t+"[..]")}}return t.prototype.dehanceValue=function(t){return void 0!==this.dehancer?this.dehancer(t):t},t.prototype.dehanceValues=function(t){return void 0!==this.dehancer&&t.length>0?t.map(this.dehancer):t},t.prototype.intercept=function(t){return Wx(this,t)},t.prototype.observe=function(t,e){return void 0===e&&(e=!1),e&&t({object:this.array,type:"splice",index:0,added:this.values.slice(),addedCount:this.values.length,removed:[],removedCount:0}),qx(this,t)},t.prototype.getArrayLength=function(){return this.atom.reportObserved(),this.values.length},t.prototype.setArrayLength=function(t){if("number"!=typeof t||t<0)throw new Error("[mobx.array] Out of range: "+t);var e=this.values.length;if(t!==e)if(t>e){for(var n=new Array(t-e),i=0;i<t-e;i++)n[i]=void 0;this.spliceWithArray(e,0,n)}else this.spliceWithArray(t,e-t)},t.prototype.updateArrayLength=function(t,e){if(t!==this.lastKnownLength)throw new Error("[mobx] Modification exception: the internal structure of an observable array was changed. Did you use peek() to change it?");this.lastKnownLength+=e,e>0&&t+e+1>tE&&aE(t+e+1)},t.prototype.spliceWithArray=function(t,e,n){var i=this;WC(this.atom);var r=this.values.length;if(void 0===t?t=0:t>r?t=r:t<0&&(t=Math.max(0,r+t)),e=1===arguments.length?r-t:null==e?0:Math.max(0,Math.min(e,r-t)),void 0===n&&(n=Uw),Ux(this)){var o=$x(this,{object:this.array,type:"splice",index:t,removedCount:e,added:n});if(!o)return Uw;e=o.removedCount,n=o.added}var s=(n=0===n.length?n:n.map((function(t){return i.enhancer(t,void 0)}))).length-e;this.updateArrayLength(r,s);var a=this.spliceItemsIntoValues(t,e,n);return 0===e&&0===n.length||this.notifyArraySplice(t,n,a),this.dehanceValues(a)},t.prototype.spliceItemsIntoValues=function(t,e,n){var i;if(n.length<1e4)return(i=this.values).splice.apply(i,Vw([t,e],n));var r=this.values.slice(t,t+e);return this.values=this.values.slice(0,t).concat(n,this.values.slice(t+e)),r},t.prototype.notifyArrayChildUpdate=function(t,e,n){var i=!this.owned&&wx(),r=Gx(this),o=r||i?{object:this.array,type:"update",index:t,newValue:e,oldValue:n}:null;i&&xx(zw(zw({},o),{name:this.atom.name})),this.atom.reportChanged(),r&&Xx(this,o),i&&Sx()},t.prototype.notifyArraySplice=function(t,e,n){var i=!this.owned&&wx(),r=Gx(this),o=r||i?{object:this.array,type:"splice",index:t,removed:n,added:e,removedCount:n.length,addedCount:e.length}:null;i&&xx(zw(zw({},o),{name:this.atom.name})),this.atom.reportChanged(),r&&Xx(this,o),i&&Sx()},t}(),iE=function(t){function e(e,n,i,r){void 0===i&&(i="ObservableArray@"+qw()),void 0===r&&(r=!1);var o=t.call(this)||this,s=new nE(i,n,o,r);if(eC(o,"$mobx",s),e&&e.length){var a=ix(!0);o.spliceWithArray(0,0,e),rx(a)}return Jx&&Object.defineProperty(s.array,"0",rE),o}return jw(e,t),e.prototype.intercept=function(t){return this.$mobx.intercept(t)},e.prototype.observe=function(t,e){return void 0===e&&(e=!1),this.$mobx.observe(t,e)},e.prototype.clear=function(){return this.splice(0)},e.prototype.concat=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];return this.$mobx.atom.reportObserved(),Array.prototype.concat.apply(this.peek(),t.map((function(t){return cE(t)?t.peek():t})))},e.prototype.replace=function(t){return this.$mobx.spliceWithArray(0,this.$mobx.values.length,t)},e.prototype.toJS=function(){return this.slice()},e.prototype.toJSON=function(){return this.toJS()},e.prototype.peek=function(){return this.$mobx.atom.reportObserved(),this.$mobx.dehanceValues(this.$mobx.values)},e.prototype.find=function(t,e,n){void 0===n&&(n=0);var i=this.findIndex.apply(this,arguments);return-1===i?void 0:this.get(i)},e.prototype.findIndex=function(t,e,n){void 0===n&&(n=0);for(var i=this.peek(),r=i.length,o=n;o<r;o++)if(t.call(e,i[o],o,this))return o;return-1},e.prototype.splice=function(t,e){for(var n=[],i=2;i<arguments.length;i++)n[i-2]=arguments[i];switch(arguments.length){case 0:return[];case 1:return this.$mobx.spliceWithArray(t);case 2:return this.$mobx.spliceWithArray(t,e)}return this.$mobx.spliceWithArray(t,e,n)},e.prototype.spliceWithArray=function(t,e,n){return this.$mobx.spliceWithArray(t,e,n)},e.prototype.push=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];var n=this.$mobx;return n.spliceWithArray(n.values.length,0,t),n.values.length},e.prototype.pop=function(){return this.splice(Math.max(this.$mobx.values.length-1,0),1)[0]},e.prototype.shift=function(){return this.splice(0,1)[0]},e.prototype.unshift=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];var n=this.$mobx;return n.spliceWithArray(0,0,t),n.values.length},e.prototype.reverse=function(){var t=this.slice();return t.reverse.apply(t,arguments)},e.prototype.sort=function(t){var e=this.slice();return e.sort.apply(e,arguments)},e.prototype.remove=function(t){var e=this.$mobx.dehanceValues(this.$mobx.values).indexOf(t);return e>-1&&(this.splice(e,1),!0)},e.prototype.move=function(t,e){function n(t){if(t<0)throw new Error("[mobx.array] Index out of bounds: "+t+" is negative");var e=this.$mobx.values.length;if(t>=e)throw new Error("[mobx.array] Index out of bounds: "+t+" is not smaller than "+e)}if(n.call(this,t),n.call(this,e),t!==e){var i,r=this.$mobx.values;i=t<e?Vw(r.slice(0,t),r.slice(t+1,e+1),[r[t]],r.slice(e+1)):Vw(r.slice(0,e),[r[t]],r.slice(e,t),r.slice(t+1)),this.replace(i)}},e.prototype.get=function(t){var e=this.$mobx;if(e){if(t<e.values.length)return e.atom.reportObserved(),e.dehanceValue(e.values[t]);console.warn("[mobx.array] Attempt to read an array index ("+t+") that is out of bounds ("+e.values.length+"). Please check length first. Out of bound indices will not be tracked by MobX")}},e.prototype.set=function(t,e){var n=this.$mobx,i=n.values;if(t<i.length){WC(n.atom);var r=i[t];if(Ux(n)){var o=$x(n,{type:"update",object:this,index:t,newValue:e});if(!o)return;e=o.newValue}(e=n.enhancer(e,r))!==r&&(i[t]=e,n.notifyArrayChildUpdate(t,e,r))}else{if(t!==i.length)throw new Error("[mobx.array] Index out of bounds, "+t+" is larger than "+i.length);n.spliceWithArray(t,0,[e])}},e}(eE);cC(iE.prototype,(function(){this.$mobx.atom.reportObserved();var t=this,e=0;return uC({next:function(){return e<t.length?{value:t[e++],done:!1}:{done:!0,value:void 0}}})})),Object.defineProperty(iE.prototype,"length",{enumerable:!1,configurable:!0,get:function(){return this.$mobx.getArrayLength()},set:function(t){this.$mobx.setArrayLength(t)}}),tC(iE.prototype,hC(),"Array"),["every","filter","forEach","indexOf","join","lastIndexOf","map","reduce","reduceRight","slice","some","toString","toLocaleString"].forEach((function(t){var e=Array.prototype[t];Kw("function"==typeof e,"Base function not defined on Array prototype: '"+t+"'"),tC(iE.prototype,t,(function(){return e.apply(this.peek(),arguments)}))})),function(t,e){for(var n=0;n<e.length;n++)tC(t,e[n],t[e[n]])}(iE.prototype,["constructor","intercept","observe","clear","concat","get","replace","toJS","toJSON","peek","find","findIndex","splice","spliceWithArray","push","pop","set","shift","unshift","reverse","sort","remove","move","toString","toLocaleString"]);var rE=oE(0);function oE(t){return{enumerable:!1,configurable:!1,get:function(){return this.get(t)},set:function(e){this.set(t,e)}}}function sE(t){Object.defineProperty(iE.prototype,""+t,oE(t))}function aE(t){for(var e=tE;e<t;e++)sE(e);tE=t}aE(1e3);var lE=nC("ObservableArrayAdministration",nE);function cE(t){return Zw(t)&&lE(t.$mobx)}var uE={},hE=function(){function t(t,e,n){if(void 0===e&&(e=xC),void 0===n&&(n="ObservableMap@"+qw()),this.enhancer=e,this.name=n,this.$mobx=uE,this._keys=new iE(void 0,EC,this.name+".keys()",!0),"function"!=typeof Map)throw new Error("mobx.map requires Map polyfill for the current browser. Check babel-polyfill or core-js/es6/map.js");this._data=new Map,this._hasMap=new Map,this.merge(t)}return t.prototype._has=function(t){return this._data.has(t)},t.prototype.has=function(t){var e=this;if(!ux.trackingDerivation)return this._has(t);var n=this._hasMap.get(t);if(!n){var i=n=new ox(this._has(t),EC,this.name+"."+dE(t)+"?",!1);this._hasMap.set(t,i),Fx(i,(function(){return e._hasMap.delete(t)}))}return n.get()},t.prototype.set=function(t,e){var n=this._has(t);if(Ux(this)){var i=$x(this,{type:n?"update":"add",object:this,newValue:e,name:t});if(!i)return this;e=i.newValue}return n?this._updateValue(t,e):this._addValue(t,e),this},t.prototype.delete=function(t){var e=this;if(Ux(this)&&!(r=$x(this,{type:"delete",object:this,name:t})))return!1;if(this._has(t)){var n=wx(),i=Gx(this),r=i||n?{type:"delete",object:this,oldValue:this._data.get(t).value,name:t}:null;return n&&xx(zw(zw({},r),{name:this.name,key:t})),Vx((function(){e._keys.remove(t),e._updateHasMapEntry(t,!1),e._data.get(t).setNewValue(void 0),e._data.delete(t)})),i&&Xx(this,r),n&&Sx(),!0}return!1},t.prototype._updateHasMapEntry=function(t,e){var n=this._hasMap.get(t);n&&n.setNewValue(e)},t.prototype._updateValue=function(t,e){var n=this._data.get(t);if((e=n.prepareNewValue(e))!==ux.UNCHANGED){var i=wx(),r=Gx(this),o=r||i?{type:"update",object:this,oldValue:n.value,name:t,newValue:e}:null;i&&xx(zw(zw({},o),{name:this.name,key:t})),n.setNewValue(e),r&&Xx(this,o),i&&Sx()}},t.prototype._addValue=function(t,e){var n=this;Vx((function(){var i=new ox(e,n.enhancer,n.name+"."+dE(t),!1);n._data.set(t,i),e=i.value,n._updateHasMapEntry(t,!0),n._keys.push(t)}));var i=wx(),r=Gx(this),o=r||i?{type:"add",object:this,name:t,newValue:e}:null;i&&xx(zw(zw({},o),{name:this.name,key:t})),r&&Xx(this,o),i&&Sx()},t.prototype.get=function(t){return this.has(t)?this.dehanceValue(this._data.get(t).get()):this.dehanceValue(void 0)},t.prototype.dehanceValue=function(t){return void 0!==this.dehancer?this.dehancer(t):t},t.prototype.keys=function(){return this._keys[lC()]()},t.prototype.values=function(){var t=this,e=0;return uC({next:function(){return e<t._keys.length?{value:t.get(t._keys[e++]),done:!1}:{value:void 0,done:!0}}})},t.prototype.entries=function(){var t=this,e=0;return uC({next:function(){if(e<t._keys.length){var n=t._keys[e++];return{value:[n,t.get(n)],done:!1}}return{done:!0}}})},t.prototype.forEach=function(t,e){var n=this;this._keys.forEach((function(i){return t.call(e,n.get(i),i,n)}))},t.prototype.merge=function(t){var e=this;return pE(t)&&(t=t.toJS()),Vx((function(){Jw(t)?Object.keys(t).forEach((function(n){return e.set(n,t[n])})):Array.isArray(t)?t.forEach((function(t){var n=Hw(t,2);return e.set(n[0],n[1])})):iC(t)?t.constructor!==Map?Xw("Cannot initialize from classes that inherit from Map: "+t.constructor.name):t.forEach((function(t,n){return e.set(n,t)})):null!=t&&Xw("Cannot initialize map from "+t)})),this},t.prototype.clear=function(){var t=this;Vx((function(){qC((function(){t._keys.slice().forEach((function(e){return t.delete(e)}))}))}))},t.prototype.replace=function(t){var e=this;return Vx((function(){for(var n,i=iC(n=t)||pE(n)?n:Array.isArray(n)?new Map(n):Jw(n)?new Map(Object.entries(n)):Xw("Cannot convert to map from '"+n+"'"),r=e._keys,o=Array.from(i.keys()),s=!1,a=0;a<r.length;a++){var l=r[a];r.length===o.length&&l!==o[a]&&(s=!0),i.has(l)||(s=!0,e.delete(l))}i.forEach((function(t,n){e._data.has(n)||(s=!0),e.set(n,t)})),s&&e._keys.replace(o)})),this},Object.defineProperty(t.prototype,"size",{get:function(){return this._keys.length},enumerable:!0,configurable:!0}),t.prototype.toPOJO=function(){var t=this,e={};return this._keys.forEach((function(n){return e["symbol"==typeof n?n:dE(n)]=t.get(n)})),e},t.prototype.toJS=function(){var t=this,e=new Map;return this._keys.forEach((function(n){return e.set(n,t.get(n))})),e},t.prototype.toJSON=function(){return this.toPOJO()},t.prototype.toString=function(){var t=this;return this.name+"[{ "+this._keys.map((function(e){return dE(e)+": "+t.get(e)})).join(", ")+" }]"},t.prototype.observe=function(t,e){return qx(this,t)},t.prototype.intercept=function(t){return Wx(this,t)},t}();function dE(t){return t&&t.toString?t.toString():new String(t).toString()}cC(hE.prototype,(function(){return this.entries()})),eC(hE.prototype,hC(),"Map");var pE=nC("ObservableMap",hE),fE={},mE=function(){function t(t,e,n){if(void 0===e&&(e=xC),void 0===n&&(n="ObservableSet@"+qw()),this.name=n,this.$mobx=fE,this._data=new Set,this._atom=function(t,e,n){void 0===e&&(e=Qw),void 0===n&&(n=Qw);var i=new pC(t);return Lx("onBecomeObserved",i,e,void 0),Fx(i,n),i}(this.name),"function"!=typeof Set)throw new Error("mobx.set requires Set polyfill for the current browser. Check babel-polyfill or core-js/es6/set.js");this.enhancer=function(t,i){return e(t,i,n)},t&&this.replace(t)}return t.prototype.dehanceValue=function(t){return void 0!==this.dehancer?this.dehancer(t):t},t.prototype.clear=function(){var t=this;Vx((function(){qC((function(){t._data.forEach((function(e){t.delete(e)}))}))}))},t.prototype.forEach=function(t,e){var n=this;this._data.forEach((function(i){t.call(e,i,i,n)}))},Object.defineProperty(t.prototype,"size",{get:function(){return this._atom.reportObserved(),this._data.size},enumerable:!0,configurable:!0}),t.prototype.add=function(t){var e=this;if(WC(this._atom),Ux(this)&&!(r=$x(this,{type:"add",object:this,newValue:t})))return this;if(!this.has(t)){Vx((function(){e._data.add(e.enhancer(t,void 0)),e._atom.reportChanged()}));var n=wx(),i=Gx(this),r=i||n?{type:"add",object:this,newValue:t}:null;i&&Xx(this,r)}return this},t.prototype.delete=function(t){var e=this;if(Ux(this)&&!(r=$x(this,{type:"delete",object:this,oldValue:t})))return!1;if(this.has(t)){var n=wx(),i=Gx(this),r=i||n?{type:"delete",object:this,oldValue:t}:null;return Vx((function(){e._atom.reportChanged(),e._data.delete(t)})),i&&Xx(this,r),!0}return!1},t.prototype.has=function(t){return this._atom.reportObserved(),this._data.has(this.dehanceValue(t))},t.prototype.entries=function(){var t=0,e=oC(this.keys()),n=oC(this.values());return uC({next:function(){var i=t;return t+=1,i<n.length?{value:[e[i],n[i]],done:!1}:{done:!0}}})},t.prototype.keys=function(){return this.values()},t.prototype.values=function(){this._atom.reportObserved();var t,e=this,n=0;return void 0!==this._data.values?t=oC(this._data.values()):(t=[],this._data.forEach((function(e){return t.push(e)}))),uC({next:function(){return n<t.length?{value:e.dehanceValue(t[n++]),done:!1}:{done:!0}}})},t.prototype.replace=function(t){var e=this;return gE(t)&&(t=t.toJS()),Vx((function(){Array.isArray(t)||rC(t)?(e.clear(),t.forEach((function(t){return e.add(t)}))):null!=t&&Xw("Cannot initialize set from "+t)})),this},t.prototype.observe=function(t,e){return qx(this,t)},t.prototype.intercept=function(t){return Wx(this,t)},t.prototype.toJS=function(){return new Set(this)},t.prototype.toString=function(){return this.name+"[ "+oC(this.keys()).join(", ")+" ]"},t}();cC(mE.prototype,(function(){return this.values()})),eC(mE.prototype,hC(),"Set");var gE=nC("ObservableSet",mE),yE=function(){function t(t,e,n){this.target=t,this.name=e,this.defaultEnhancer=n,this.values={}}return t.prototype.read=function(t,e){if(this.target===t||(this.illegalAccess(t,e),this.values[e]))return this.values[e].get()},t.prototype.write=function(t,e,n){var i=this.target;i!==t&&this.illegalAccess(t,e);var r=this.values[e];if(r instanceof sx)r.set(n);else{if(Ux(this)){if(!(a=$x(this,{type:"update",object:i,name:e,newValue:n})))return;n=a.newValue}if((n=r.prepareNewValue(n))!==ux.UNCHANGED){var o=Gx(this),s=wx(),a=o||s?{type:"update",object:i,oldValue:r.value,name:e,newValue:n}:null;s&&xx(zw(zw({},a),{name:this.name,key:e})),r.setNewValue(n),o&&Xx(this,a),s&&Sx()}}},t.prototype.remove=function(t){if(this.values[t]){var e=this.target;if(Ux(this)&&!(o=$x(this,{object:e,name:t,type:"remove"})))return;try{fx();var n=Gx(this),i=wx(),r=this.values[t].get();this.keys&&this.keys.remove(t),delete this.values[t],delete this.target[t];var o=n||i?{type:"remove",object:e,oldValue:r,name:t}:null;i&&xx(zw(zw({},o),{name:this.name,key:t})),n&&Xx(this,o),i&&Sx()}finally{mx()}}},t.prototype.illegalAccess=function(t,e){console.warn("Property '"+e+"' of '"+t+"' was accessed through the prototype chain. Use 'decorate' instead to declare the prop or access it statically through it's owner")},t.prototype.observe=function(t,e){return qx(this,t)},t.prototype.intercept=function(t){return Wx(this,t)},t.prototype.getKeys=function(){var t=this;return void 0===this.keys&&(this.keys=new iE(Object.keys(this.values).filter((function(e){return t.values[e]instanceof ox})),EC,"keys("+this.name+")",!0)),this.keys.slice()},t}();function _E(t,e,n){void 0===e&&(e=""),void 0===n&&(n=xC);var i=t.$mobx;return i||(Jw(t)||(e=(t.constructor.name||"ObservableObject")+"@"+qw()),e||(e="ObservableObject@"+qw()),eC(t,"$mobx",i=new yE(t,e,n)),i)}var vE=Object.create(null),bE=Object.create(null);function wE(t){return t.$mobx||(bC(t),t.$mobx)}var CE=nC("ObservableObjectAdministration",yE);function xE(t){return!!Zw(t)&&(bC(t),CE(t.$mobx))}function EE(t,e){if("object"==typeof t&&null!==t){if(cE(t))return void 0!==e&&Xw(!1),t.$mobx.atom;if(gE(t))return t.$mobx;if(pE(t)){var n=t;return void 0===e?EE(n._keys):((i=n._data.get(e)||n._hasMap.get(e))||Xw(!1),i)}var i;if(bC(t),xE(t))return e?((i=t.$mobx.values[e])||Xw(!1),i):Xw(!1);if(fC(t)||ax(t)||bx(t))return t}else if("function"==typeof t&&bx(t.$mobx))return t.$mobx;return Xw(!1)}var SE=Object.prototype.toString;function PE(t,e,n){return void 0===n&&(n=-1),function t(e,n,i,r,o){if(e===n)return 0!==e||1/e==1/n;if(null==e||null==n)return!1;if(e!=e)return n!=n;var s=typeof e;if("function"!==s&&"object"!==s&&"object"!=typeof n)return!1;e=OE(e),n=OE(n);var a=SE.call(e);if(a!==SE.call(n))return!1;switch(a){case"[object RegExp]":case"[object String]":return""+e==""+n;case"[object Number]":return+e!=+e?+n!=+n:0==+e?1/+e==1/n:+e==+n;case"[object Date]":case"[object Boolean]":return+e==+n;case"[object Symbol]":return"undefined"!=typeof Symbol&&Symbol.valueOf.call(e)===Symbol.valueOf.call(n)}var l="[object Array]"===a;if(!l){if("object"!=typeof e||"object"!=typeof n)return!1;var c=e.constructor,u=n.constructor;if(c!==u&&!("function"==typeof c&&c instanceof c&&"function"==typeof u&&u instanceof u)&&"constructor"in e&&"constructor"in n)return!1}if(0===i)return!1;i<0&&(i=-1),o=o||[];for(var h=(r=r||[]).length;h--;)if(r[h]===e)return o[h]===n;if(r.push(e),o.push(n),l){if((h=e.length)!==n.length)return!1;for(;h--;)if(!t(e[h],n[h],i-1,r,o))return!1}else{var d=Object.keys(e),p=void 0;if(h=d.length,Object.keys(n).length!==h)return!1;for(;h--;)if(!kE(n,p=d[h])||!t(e[p],n[p],i-1,r,o))return!1}return r.pop(),o.pop(),!0}(t,e,n)}function OE(t){return cE(t)?t.peek():iC(t)||pE(t)||rC(t)||gE(t)?oC(t.entries()):t}function kE(t,e){return Object.prototype.hasOwnProperty.call(t,e)}"object"==typeof __MOBX_DEVTOOLS_GLOBAL_HOOK__&&__MOBX_DEVTOOLS_GLOBAL_HOOK__.injectMobx({spy:function(t){return ux.spyListeners.push(t),Yw((function(){ux.spyListeners=ux.spyListeners.filter((function(e){return e!==t}))}))},extras:{getDebugName:function(t,e){return(void 0!==e?EE(t,e):xE(t)||pE(t)||gE(t)?function t(e,n){return e||Xw("Expecting some object"),void 0!==n?t(EE(e,n)):fC(e)||ax(e)||bx(e)||pE(e)||gE(e)?e:(bC(e),e.$mobx?e.$mobx:void Xw(!1))}(t):EE(t)).name}},$mobx:"$mobx"});var TE,IE=function(t,e,n,i){var r,o=arguments.length,s=o<3?e:null===i?i=Object.getOwnPropertyDescriptor(e,n):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(t,e,n,i);else for(var a=t.length-1;a>=0;a--)(r=t[a])&&(s=(o<3?r(s):o>3?r(e,n,s):r(e,n))||s);return o>3&&s&&Object.defineProperty(e,n,s),s},AE=function(t,e){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(t,e)},ME=function(){function t(t,e){this.templateRef=t,this.viewContainer=e,this.templateBindings={}}return t.prototype.ngOnInit=function(){this.view=this.viewContainer.createEmbeddedView(this.templateRef),this.dispose&&this.dispose(),this.shouldDetach()&&this.view.detach(),this.autoDetect(this.view)},t.prototype.shouldDetach=function(){return this.treeMobxAutorun&&this.treeMobxAutorun.detach},t.prototype.autoDetect=function(t){this.dispose=Ax((function(){return t.detectChanges()}))},t.prototype.ngOnDestroy=function(){this.dispose&&this.dispose()},IE([bc(),AE("design:type",Object)],t.prototype,"treeMobxAutorun",void 0),(t=IE([AE("design:paramtypes",[bl,Cl])],t)).\u0275fac=function(e){return new(e||t)(Ms(bl),Ms(Cl))},t.\u0275dir=be({type:t,selectors:[["","treeMobxAutorun",""]],inputs:{treeMobxAutorun:"treeMobxAutorun"}}),t}(),DE=n("P4Tr"),RE=n.n(DE),FE=n("mwIZ"),LE=n.n(FE),BE=n("Puqe"),NE=n.n(BE),jE=n("UB5X"),zE=n.n(jE),HE={TOGGLE_ACTIVE:function(t,e,n){return e&&e.toggleActivated()},TOGGLE_ACTIVE_MULTI:function(t,e,n){return e&&e.toggleActivated(!0)},TOGGLE_SELECTED:function(t,e,n){return e&&e.toggleSelected()},ACTIVATE:function(t,e,n){return e.setIsActive(!0)},DEACTIVATE:function(t,e,n){return e.setIsActive(!1)},SELECT:function(t,e,n){return e.setIsSelected(!0)},DESELECT:function(t,e,n){return e.setIsSelected(!1)},FOCUS:function(t,e,n){return e.focus()},TOGGLE_EXPANDED:function(t,e,n){return e.hasChildren&&e.toggleExpanded()},EXPAND:function(t,e,n){return e.expand()},COLLAPSE:function(t,e,n){return e.collapse()},DRILL_DOWN:function(t,e,n){return t.focusDrillDown()},DRILL_UP:function(t,e,n){return t.focusDrillUp()},NEXT_NODE:function(t,e,n){return t.focusNextNode()},PREVIOUS_NODE:function(t,e,n){return t.focusPreviousNode()},MOVE_NODE:function(t,e,n,i){var r=i.from,o=i.to;n.ctrlKey?t.copyNode(r,o):t.moveNode(r,o)}},VE={mouse:{click:HE.TOGGLE_ACTIVE,dblClick:null,contextMenu:null,expanderClick:HE.TOGGLE_EXPANDED,checkboxClick:HE.TOGGLE_SELECTED,drop:HE.MOVE_NODE},keys:(TE={},TE[39]=HE.DRILL_DOWN,TE[37]=HE.DRILL_UP,TE[40]=HE.NEXT_NODE,TE[38]=HE.PREVIOUS_NODE,TE[32]=HE.TOGGLE_ACTIVE,TE[13]=HE.TOGGLE_ACTIVE,TE)},UE=function(){function t(t){void 0===t&&(t={}),this.options=t,this.actionMapping=RE()({},this.options.actionMapping,VE),t.rtl&&(this.actionMapping.keys[39]=LE()(t,["actionMapping","keys",39])||HE.DRILL_UP,this.actionMapping.keys[37]=LE()(t,["actionMapping","keys",37])||HE.DRILL_DOWN)}return Object.defineProperty(t.prototype,"hasChildrenField",{get:function(){return this.options.hasChildrenField||"hasChildren"},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"childrenField",{get:function(){return this.options.childrenField||"children"},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"displayField",{get:function(){return this.options.displayField||"name"},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"idField",{get:function(){return this.options.idField||"id"},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"isExpandedField",{get:function(){return this.options.isExpandedField||"isExpanded"},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"getChildren",{get:function(){return this.options.getChildren},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"levelPadding",{get:function(){return this.options.levelPadding||0},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"useVirtualScroll",{get:function(){return this.options.useVirtualScroll},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"animateExpand",{get:function(){return this.options.animateExpand},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"animateSpeed",{get:function(){return this.options.animateSpeed||1},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"animateAcceleration",{get:function(){return this.options.animateAcceleration||1.2},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"scrollOnActivate",{get:function(){return void 0===this.options.scrollOnActivate||this.options.scrollOnActivate},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"rtl",{get:function(){return!!this.options.rtl},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"rootId",{get:function(){return this.options.rootId},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"useCheckbox",{get:function(){return this.options.useCheckbox},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"useTriState",{get:function(){return void 0===this.options.useTriState||this.options.useTriState},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"scrollContainer",{get:function(){return this.options.scrollContainer},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"allowDragoverStyling",{get:function(){return void 0===this.options.allowDragoverStyling||this.options.allowDragoverStyling},enumerable:!0,configurable:!0}),t.prototype.getNodeClone=function(t){return this.options.getNodeClone?this.options.getNodeClone(t):NE()(Object.assign({},t.data),["id"])},t.prototype.allowDrop=function(t,e,n){return this.options.allowDrop instanceof Function?this.options.allowDrop(t,e,n):void 0===this.options.allowDrop||this.options.allowDrop},t.prototype.allowDrag=function(t){return this.options.allowDrag instanceof Function?this.options.allowDrag(t):this.options.allowDrag},t.prototype.nodeClass=function(t){return this.options.nodeClass?this.options.nodeClass(t):""},t.prototype.nodeHeight=function(t){if(t.data.virtual)return 0;var e=this.options.nodeHeight||22;return"function"==typeof e&&(e=e(t)),e+(0===t.index?2:1)*this.dropSlotHeight},Object.defineProperty(t.prototype,"dropSlotHeight",{get:function(){return zE()(this.options.dropSlotHeight)?this.options.dropSlotHeight:2},enumerable:!0,configurable:!0}),t}(),WE={toggleExpanded:"toggleExpanded",activate:"activate",deactivate:"deactivate",nodeActivate:"nodeActivate",nodeDeactivate:"nodeDeactivate",select:"select",deselect:"deselect",focus:"focus",blur:"blur",initialized:"initialized",updateData:"updateData",moveNode:"moveNode",copyNode:"copyNode",event:"event",loadNodeChildren:"loadNodeChildren",changeFilter:"changeFilter",stateChange:"stateChange"},$E=n("afOK"),GE=n.n($E),qE=n("RBan"),XE=n.n(qE),KE=n("MJIl"),YE=n.n(KE),QE=n("Jlc5"),ZE=n.n(QE),JE=function(t,e,n,i){var r,o=arguments.length,s=o<3?e:null===i?i=Object.getOwnPropertyDescriptor(e,n):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(t,e,n,i);else for(var a=t.length-1;a>=0;a--)(r=t[a])&&(s=(o<3?r(s):o>3?r(e,n,s):r(e,n))||s);return o>3&&s&&Object.defineProperty(e,n,s),s},tS=function(t,e){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(t,e)},eS=function(){function t(t,e,n,i){var r=this;this.data=t,this.parent=e,this.treeModel=n,this.position=0,this.allowDrop=function(t,e){return r.options.allowDrop(t,{parent:r,index:0},e)},this.allowDragoverStyling=function(){return r.options.allowDragoverStyling},null==this.id&&(this.id=Math.floor(1e13*Math.random())),this.index=i,this.getField("children")&&this._initChildren(),this.autoLoadChildren()}return Object.defineProperty(t.prototype,"isHidden",{get:function(){return this.treeModel.isHidden(this)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"isExpanded",{get:function(){return this.treeModel.isExpanded(this)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"isActive",{get:function(){return this.treeModel.isActive(this)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"isFocused",{get:function(){return this.treeModel.isNodeFocused(this)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"isSelected",{get:function(){return this.isSelectable()?this.treeModel.isSelected(this):YE()(this.children,(function(t){return t.isSelected}))},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"isAllSelected",{get:function(){return this.isSelectable()?this.treeModel.isSelected(this):ZE()(this.children,(function(t){return t.isAllSelected}))},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"isPartiallySelected",{get:function(){return this.isSelected&&!this.isAllSelected},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"level",{get:function(){return this.parent?this.parent.level+1:0},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"path",{get:function(){return this.parent?this.parent.path.concat([this.id]):[]},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"elementRef",{get:function(){throw"Element Ref is no longer supported since introducing virtual scroll\n\n      You may use a template to obtain a reference to the element"},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"originalNode",{get:function(){return this._originalNode},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"hasChildren",{get:function(){return!!(this.getField("hasChildren")||this.children&&this.children.length>0)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"isCollapsed",{get:function(){return!this.isExpanded},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"isLeaf",{get:function(){return!this.hasChildren},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"isRoot",{get:function(){return this.parent.data.virtual},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"realParent",{get:function(){return this.isRoot?null:this.parent},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"options",{get:function(){return this.treeModel.options},enumerable:!0,configurable:!0}),t.prototype.fireEvent=function(t){this.treeModel.fireEvent(t)},Object.defineProperty(t.prototype,"displayField",{get:function(){return this.getField("display")},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"id",{get:function(){return this.getField("id")},set:function(t){this.setField("id",t)},enumerable:!0,configurable:!0}),t.prototype.getField=function(t){return this.data[this.options[t+"Field"]]},t.prototype.setField=function(t,e){this.data[this.options[t+"Field"]]=e},t.prototype._findAdjacentSibling=function(t,e){void 0===e&&(e=!1);var n=this._getParentsChildren(e),i=n.indexOf(this);return n.length>i+t?n[i+t]:null},t.prototype.findNextSibling=function(t){return void 0===t&&(t=!1),this._findAdjacentSibling(1,t)},t.prototype.findPreviousSibling=function(t){return void 0===t&&(t=!1),this._findAdjacentSibling(-1,t)},t.prototype.getVisibleChildren=function(){return this.visibleChildren},Object.defineProperty(t.prototype,"visibleChildren",{get:function(){return(this.children||[]).filter((function(t){return!t.isHidden}))},enumerable:!0,configurable:!0}),t.prototype.getFirstChild=function(t){void 0===t&&(t=!1);var e=t?this.visibleChildren:this.children;return GE()(e||[])},t.prototype.getLastChild=function(t){void 0===t&&(t=!1);var e=t?this.visibleChildren:this.children;return XE()(e||[])},t.prototype.findNextNode=function(t,e){return void 0===t&&(t=!0),void 0===e&&(e=!1),t&&this.isExpanded&&this.getFirstChild(e)||this.findNextSibling(e)||this.parent&&this.parent.findNextNode(!1,e)},t.prototype.findPreviousNode=function(t){void 0===t&&(t=!1);var e=this.findPreviousSibling(t);return e?e._getLastOpenDescendant(t):this.realParent},t.prototype._getLastOpenDescendant=function(t){void 0===t&&(t=!1);var e=this.getLastChild(t);return this.isCollapsed||!e?this:e._getLastOpenDescendant(t)},t.prototype._getParentsChildren=function(t){return void 0===t&&(t=!1),this.parent&&(t?this.parent.getVisibleChildren():this.parent.children)||[]},t.prototype.getIndexInParent=function(t){return void 0===t&&(t=!1),this._getParentsChildren(t).indexOf(this)},t.prototype.isDescendantOf=function(t){return this===t||this.parent&&this.parent.isDescendantOf(t)},t.prototype.getNodePadding=function(){return this.options.levelPadding*(this.level-1)+"px"},t.prototype.getClass=function(){return[this.options.nodeClass(this),"tree-node-level-"+this.level].join(" ")},t.prototype.onDrop=function(t){this.mouseAction("drop",t.event,{from:t.element,to:{parent:this,index:0,dropOnNode:!0}})},t.prototype.allowDrag=function(){return this.options.allowDrag(this)},t.prototype.loadNodeChildren=function(){var t=this;return this.options.getChildren?Promise.resolve(this.options.getChildren(this)).then((function(e){e&&(t.setField("children",e),t._initChildren(),t.options.useTriState&&t.treeModel.isSelected(t)&&t.setIsSelected(!0),t.children.forEach((function(t){t.getField("isExpanded")&&t.hasChildren&&t.expand()})))})).then((function(){t.fireEvent({eventName:WE.loadNodeChildren,node:t})})):Promise.resolve()},t.prototype.expand=function(){return this.isExpanded||this.toggleExpanded(),this},t.prototype.collapse=function(){return this.isExpanded&&this.toggleExpanded(),this},t.prototype.doForAll=function(t){var e=this;Promise.resolve(t(this)).then((function(){e.children&&e.children.forEach((function(e){return e.doForAll(t)}))}))},t.prototype.expandAll=function(){this.doForAll((function(t){return t.expand()}))},t.prototype.collapseAll=function(){this.doForAll((function(t){return t.collapse()}))},t.prototype.ensureVisible=function(){return this.realParent&&(this.realParent.expand(),this.realParent.ensureVisible()),this},t.prototype.toggleExpanded=function(){return this.setIsExpanded(!this.isExpanded),this},t.prototype.setIsExpanded=function(t){return this.hasChildren&&this.treeModel.setExpandedNode(this,t),this},t.prototype.autoLoadChildren=function(){var t=this;this.handler=Rx((function(){return t.isExpanded}),(function(e){!t.children&&t.hasChildren&&e&&t.loadNodeChildren()}),{fireImmediately:!0})},t.prototype.dispose=function(){this.children&&this.children.forEach((function(t){return t.dispose()})),this.handler&&this.handler(),this.parent=null,this.children=null},t.prototype.setIsActive=function(t,e){return void 0===e&&(e=!1),this.treeModel.setActiveNode(this,t,e),t&&this.focus(this.options.scrollOnActivate),this},t.prototype.isSelectable=function(){return this.isLeaf||!this.children||!this.options.useTriState},t.prototype.setIsSelected=function(t){return this.isSelectable()?this.treeModel.setSelectedNode(this,t):this.visibleChildren.forEach((function(e){return e.setIsSelected(t)})),this},t.prototype.toggleSelected=function(){return this.setIsSelected(!this.isSelected),this},t.prototype.toggleActivated=function(t){return void 0===t&&(t=!1),this.setIsActive(!this.isActive,t),this},t.prototype.setActiveAndVisible=function(t){return void 0===t&&(t=!1),this.setIsActive(!0,t).ensureVisible(),setTimeout(this.scrollIntoView.bind(this)),this},t.prototype.scrollIntoView=function(t){void 0===t&&(t=!1),this.treeModel.virtualScroll.scrollIntoView(this,t)},t.prototype.focus=function(t){void 0===t&&(t=!0);var e=this.treeModel.getFocusedNode();return this.treeModel.setFocusedNode(this),t&&this.scrollIntoView(),e&&this.fireEvent({eventName:WE.blur,node:e}),this.fireEvent({eventName:WE.focus,node:this}),this},t.prototype.blur=function(){var t=this.treeModel.getFocusedNode();return this.treeModel.setFocusedNode(null),t&&this.fireEvent({eventName:WE.blur,node:this}),this},t.prototype.setIsHidden=function(t){this.treeModel.setIsHidden(this,t)},t.prototype.hide=function(){this.setIsHidden(!0)},t.prototype.show=function(){this.setIsHidden(!1)},t.prototype.mouseAction=function(t,e,n){void 0===n&&(n=null),this.treeModel.setFocus(!0);var i=this.options.actionMapping.mouse[t];i&&i(this.treeModel,this,e,n)},t.prototype.getSelfHeight=function(){return this.options.nodeHeight(this)},t.prototype._initChildren=function(){var e=this;this.children=this.getField("children").map((function(n,i){return new t(n,e,e.treeModel,i)}))},JE([NC,tS("design:type",Object),tS("design:paramtypes",[])],t.prototype,"isHidden",null),JE([NC,tS("design:type",Object),tS("design:paramtypes",[])],t.prototype,"isExpanded",null),JE([NC,tS("design:type",Object),tS("design:paramtypes",[])],t.prototype,"isActive",null),JE([NC,tS("design:type",Object),tS("design:paramtypes",[])],t.prototype,"isFocused",null),JE([NC,tS("design:type",Object),tS("design:paramtypes",[])],t.prototype,"isSelected",null),JE([NC,tS("design:type",Object),tS("design:paramtypes",[])],t.prototype,"isAllSelected",null),JE([NC,tS("design:type",Object),tS("design:paramtypes",[])],t.prototype,"isPartiallySelected",null),JE([RC,tS("design:type",Array)],t.prototype,"children",void 0),JE([RC,tS("design:type",Number)],t.prototype,"index",void 0),JE([RC,tS("design:type",Object)],t.prototype,"position",void 0),JE([RC,tS("design:type",Number)],t.prototype,"height",void 0),JE([NC,tS("design:type",Number),tS("design:paramtypes",[])],t.prototype,"level",null),JE([NC,tS("design:type",Array),tS("design:paramtypes",[])],t.prototype,"path",null),JE([NC,tS("design:type",Object),tS("design:paramtypes",[])],t.prototype,"visibleChildren",null),JE([Tx,tS("design:type",Function),tS("design:paramtypes",[Object]),tS("design:returntype",void 0)],t.prototype,"setIsSelected",null),JE([Tx,tS("design:type",Function),tS("design:paramtypes",[]),tS("design:returntype",void 0)],t.prototype,"_initChildren",null),t}(),nS=n("wig9"),iS=n.n(nS),rS=n("J2m7"),oS=n.n(rS),sS=n("4qC0"),aS=n.n(sS),lS=n("lSCD"),cS=n.n(lS),uS=function(t,e,n,i){var r,o=arguments.length,s=o<3?e:null===i?i=Object.getOwnPropertyDescriptor(e,n):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(t,e,n,i);else for(var a=t.length-1;a>=0;a--)(r=t[a])&&(s=(o<3?r(s):o>3?r(e,n,s):r(e,n))||s);return o>3&&s&&Object.defineProperty(e,n,s),s},hS=function(t,e){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(t,e)},dS=function(){function t(){this.options=new UE,this.eventNames=Object.keys(WE),this.expandedNodeIds={},this.selectedLeafNodeIds={},this.activeNodeIds={},this.hiddenNodeIds={},this.focusedNodeId=null,this.firstUpdate=!0,this.subscriptions=[]}var e;return e=t,t.prototype.fireEvent=function(t){t.treeModel=this,this.events[t.eventName].emit(t),this.events.event.emit(t)},t.prototype.subscribe=function(t,e){var n=this.events[t].subscribe(e);this.subscriptions.push(n)},t.prototype.getFocusedNode=function(){return this.focusedNode},t.prototype.getActiveNode=function(){return this.activeNodes[0]},t.prototype.getActiveNodes=function(){return this.activeNodes},t.prototype.getVisibleRoots=function(){return this.virtualRoot.visibleChildren},t.prototype.getFirstRoot=function(t){return void 0===t&&(t=!1),GE()(t?this.getVisibleRoots():this.roots)},t.prototype.getLastRoot=function(t){return void 0===t&&(t=!1),XE()(t?this.getVisibleRoots():this.roots)},Object.defineProperty(t.prototype,"isFocused",{get:function(){return e.focusedTree===this},enumerable:!0,configurable:!0}),t.prototype.isNodeFocused=function(t){return this.focusedNode===t},t.prototype.isEmptyTree=function(){return this.roots&&0===this.roots.length},Object.defineProperty(t.prototype,"focusedNode",{get:function(){return this.focusedNodeId?this.getNodeById(this.focusedNodeId):null},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"expandedNodes",{get:function(){var t=this,e=Object.keys(this.expandedNodeIds).filter((function(e){return t.expandedNodeIds[e]})).map((function(e){return t.getNodeById(e)}));return iS()(e)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"activeNodes",{get:function(){var t=this,e=Object.keys(this.activeNodeIds).filter((function(e){return t.activeNodeIds[e]})).map((function(e){return t.getNodeById(e)}));return iS()(e)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"hiddenNodes",{get:function(){var t=this,e=Object.keys(this.hiddenNodeIds).filter((function(e){return t.hiddenNodeIds[e]})).map((function(e){return t.getNodeById(e)}));return iS()(e)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"selectedLeafNodes",{get:function(){var t=this,e=Object.keys(this.selectedLeafNodeIds).filter((function(e){return t.selectedLeafNodeIds[e]})).map((function(e){return t.getNodeById(e)}));return iS()(e)},enumerable:!0,configurable:!0}),t.prototype.getNodeByPath=function(t,e){if(void 0===e&&(e=null),!t)return null;if(e=e||this.virtualRoot,0===t.length)return e;if(!e.children)return null;var n=t.shift(),i=oS()(e.children,{id:n});return i?this.getNodeByPath(t,i):null},t.prototype.getNodeById=function(t){var e=t.toString();return this.getNodeBy((function(t){return t.id.toString()===e}))},t.prototype.getNodeBy=function(t,e){if(void 0===e&&(e=null),!(e=e||this.virtualRoot).children)return null;var n=oS()(e.children,t);if(n)return n;for(var i=0,r=e.children;i<r.length;i++){var o=this.getNodeBy(t,r[i]);if(o)return o}},t.prototype.isExpanded=function(t){return this.expandedNodeIds[t.id]},t.prototype.isHidden=function(t){return this.hiddenNodeIds[t.id]},t.prototype.isActive=function(t){return this.activeNodeIds[t.id]},t.prototype.isSelected=function(t){return this.selectedLeafNodeIds[t.id]},t.prototype.ngOnDestroy=function(){this.dispose(),this.unsubscribeAll()},t.prototype.dispose=function(){this.virtualRoot&&this.virtualRoot.dispose()},t.prototype.unsubscribeAll=function(){this.subscriptions.forEach((function(t){return t.unsubscribe()})),this.subscriptions=[]},t.prototype.setData=function(t){var e=t.nodes,n=t.options,i=void 0===n?null:n,r=t.events,o=void 0===r?null:r;i&&(this.options=new UE(i)),o&&(this.events=o),e&&(this.nodes=e),this.update()},t.prototype.update=function(){var t,e=((t={id:this.options.rootId,virtual:!0})[this.options.childrenField]=this.nodes,t);this.dispose(),this.virtualRoot=new eS(e,null,this,0),this.roots=this.virtualRoot.children,this.firstUpdate?this.roots&&(this.firstUpdate=!1,this._calculateExpandedNodes()):this.fireEvent({eventName:WE.updateData})},t.prototype.setFocusedNode=function(t){this.focusedNodeId=t?t.id:null},t.prototype.setFocus=function(t){e.focusedTree=t?this:null},t.prototype.doForAll=function(t){this.roots.forEach((function(e){return e.doForAll(t)}))},t.prototype.focusNextNode=function(){var t=this.getFocusedNode(),e=t?t.findNextNode(!0,!0):this.getFirstRoot(!0);e&&e.focus()},t.prototype.focusPreviousNode=function(){var t=this.getFocusedNode(),e=t?t.findPreviousNode(!0):this.getLastRoot(!0);e&&e.focus()},t.prototype.focusDrillDown=function(){var t=this.getFocusedNode();if(t&&t.isCollapsed&&t.hasChildren)t.toggleExpanded();else{var e=t?t.getFirstChild(!0):this.getFirstRoot(!0);e&&e.focus()}},t.prototype.focusDrillUp=function(){var t=this.getFocusedNode();if(t)if(t.isExpanded)t.toggleExpanded();else{var e=t.realParent;e&&e.focus()}},t.prototype.setActiveNode=function(t,e,n){void 0===n&&(n=!1),n?this._setActiveNodeMulti(t,e):this._setActiveNodeSingle(t,e),e?(t.focus(this.options.scrollOnActivate),this.fireEvent({eventName:WE.activate,node:t}),this.fireEvent({eventName:WE.nodeActivate,node:t})):(this.fireEvent({eventName:WE.deactivate,node:t}),this.fireEvent({eventName:WE.nodeDeactivate,node:t}))},t.prototype.setSelectedNode=function(t,e){var n;this.selectedLeafNodeIds=Object.assign({},this.selectedLeafNodeIds,((n={})[t.id]=e,n)),e?(t.focus(),this.fireEvent({eventName:WE.select,node:t})):this.fireEvent({eventName:WE.deselect,node:t})},t.prototype.setExpandedNode=function(t,e){var n;this.expandedNodeIds=Object.assign({},this.expandedNodeIds,((n={})[t.id]=e,n)),this.fireEvent({eventName:WE.toggleExpanded,node:t,isExpanded:e})},t.prototype.expandAll=function(){this.roots.forEach((function(t){return t.expandAll()}))},t.prototype.collapseAll=function(){this.roots.forEach((function(t){return t.collapseAll()}))},t.prototype.setIsHidden=function(t,e){var n;this.hiddenNodeIds=Object.assign({},this.hiddenNodeIds,((n={})[t.id]=e,n))},t.prototype.setHiddenNodeIds=function(t){this.hiddenNodeIds=t.reduce((function(t,e){var n;return Object.assign(t,((n={})[e]=!0,n))}),{})},t.prototype.performKeyAction=function(t,e){var n=this.options.actionMapping.keys[e.keyCode];return!!n&&(e.preventDefault(),n(this,t,e),!0)},t.prototype.filterNodes=function(t,e){var n,i=this;if(void 0===e&&(e=!0),!t)return this.clearFilter();if(aS()(t))n=function(e){return-1!==e.displayField.toLowerCase().indexOf(t.toLowerCase())};else{if(!cS()(t))return console.error("Don't know what to do with filter",t),void console.error("Should be either a string or function");n=t}var r={};this.roots.forEach((function(t){return i._filterNode(r,t,n,e)})),this.hiddenNodeIds=r,this.fireEvent({eventName:WE.changeFilter})},t.prototype.clearFilter=function(){this.hiddenNodeIds={},this.fireEvent({eventName:WE.changeFilter})},t.prototype.moveNode=function(t,e){var n=t.getIndexInParent(),i=t.parent;if(this.canMoveNode(t,e,n)){var r=i.getField("children");e.parent.getField("children")||e.parent.setField("children",[]);var o=e.parent.getField("children"),s=r.splice(n,1)[0],a=i===e.parent&&e.index>n?e.index-1:e.index;o.splice(a,0,s),i.treeModel.update(),e.parent.treeModel!==i.treeModel&&e.parent.treeModel.update(),this.fireEvent({eventName:WE.moveNode,node:s,to:{parent:e.parent.data,index:a},from:{parent:i.data,index:n}})}},t.prototype.copyNode=function(t,e){var n=t.getIndexInParent();if(this.canMoveNode(t,e,n)){e.parent.getField("children")||e.parent.setField("children",[]);var i=e.parent.getField("children"),r=this.options.getNodeClone(t);i.splice(e.index,0,r),t.treeModel.update(),e.parent.treeModel!==t.treeModel&&e.parent.treeModel.update(),this.fireEvent({eventName:WE.copyNode,node:r,to:{parent:e.parent.data,index:e.index}})}},t.prototype.getState=function(){return{expandedNodeIds:this.expandedNodeIds,selectedLeafNodeIds:this.selectedLeafNodeIds,activeNodeIds:this.activeNodeIds,hiddenNodeIds:this.hiddenNodeIds,focusedNodeId:this.focusedNodeId}},t.prototype.setState=function(t){t&&Object.assign(this,{expandedNodeIds:t.expandedNodeIds||{},selectedLeafNodeIds:t.selectedLeafNodeIds||{},activeNodeIds:t.activeNodeIds||{},hiddenNodeIds:t.hiddenNodeIds||{},focusedNodeId:t.focusedNodeId})},t.prototype.subscribeToState=function(t){var e=this;Ax((function(){return t(e.getState())}))},t.prototype.canMoveNode=function(t,e,n){return void 0===n&&(n=void 0),n||t.getIndexInParent(),(t.parent!==e.parent||n!==e.index)&&!e.parent.isDescendantOf(t)},t.prototype.calculateExpandedNodes=function(){this._calculateExpandedNodes()},t.prototype._filterNode=function(t,e,n,i){var r=this,o=n(e);return e.children&&e.children.forEach((function(e){r._filterNode(t,e,n,i)&&(o=!0)})),o||(t[e.id]=!0),i&&o&&e.ensureVisible(),o},t.prototype._calculateExpandedNodes=function(t){var e,n=this;void 0===t&&(t=null),(t=t||this.virtualRoot).data[this.options.isExpandedField]&&(this.expandedNodeIds=Object.assign({},this.expandedNodeIds,((e={})[t.id]=!0,e))),t.children&&t.children.forEach((function(t){return n._calculateExpandedNodes(t)}))},t.prototype._setActiveNodeSingle=function(t,e){var n,i=this;this.activeNodes.filter((function(e){return e!==t})).forEach((function(t){i.fireEvent({eventName:WE.deactivate,node:t}),i.fireEvent({eventName:WE.nodeDeactivate,node:t})})),this.activeNodeIds=e?((n={})[t.id]=!0,n):{}},t.prototype._setActiveNodeMulti=function(t,e){var n;this.activeNodeIds=Object.assign({},this.activeNodeIds,((n={})[t.id]=e,n))},t.focusedTree=null,uS([RC,hS("design:type",Array)],t.prototype,"roots",void 0),uS([RC,hS("design:type",Object)],t.prototype,"expandedNodeIds",void 0),uS([RC,hS("design:type",Object)],t.prototype,"selectedLeafNodeIds",void 0),uS([RC,hS("design:type",Object)],t.prototype,"activeNodeIds",void 0),uS([RC,hS("design:type",Object)],t.prototype,"hiddenNodeIds",void 0),uS([RC,hS("design:type",Object)],t.prototype,"focusedNodeId",void 0),uS([RC,hS("design:type",eS)],t.prototype,"virtualRoot",void 0),uS([NC,hS("design:type",Object),hS("design:paramtypes",[])],t.prototype,"focusedNode",null),uS([NC,hS("design:type",Object),hS("design:paramtypes",[])],t.prototype,"expandedNodes",null),uS([NC,hS("design:type",Object),hS("design:paramtypes",[])],t.prototype,"activeNodes",null),uS([NC,hS("design:type",Object),hS("design:paramtypes",[])],t.prototype,"hiddenNodes",null),uS([NC,hS("design:type",Object),hS("design:paramtypes",[])],t.prototype,"selectedLeafNodes",null),uS([Tx,hS("design:type",Function),hS("design:paramtypes",[Object]),hS("design:returntype",void 0)],t.prototype,"setData",null),uS([Tx,hS("design:type",Function),hS("design:paramtypes",[]),hS("design:returntype",void 0)],t.prototype,"update",null),uS([Tx,hS("design:type",Function),hS("design:paramtypes",[Object]),hS("design:returntype",void 0)],t.prototype,"setFocusedNode",null),uS([Tx,hS("design:type",Function),hS("design:paramtypes",[Object]),hS("design:returntype",void 0)],t.prototype,"setFocus",null),uS([Tx,hS("design:type",Function),hS("design:paramtypes",[Object]),hS("design:returntype",void 0)],t.prototype,"doForAll",null),uS([Tx,hS("design:type",Function),hS("design:paramtypes",[]),hS("design:returntype",void 0)],t.prototype,"focusNextNode",null),uS([Tx,hS("design:type",Function),hS("design:paramtypes",[]),hS("design:returntype",void 0)],t.prototype,"focusPreviousNode",null),uS([Tx,hS("design:type",Function),hS("design:paramtypes",[]),hS("design:returntype",void 0)],t.prototype,"focusDrillDown",null),uS([Tx,hS("design:type",Function),hS("design:paramtypes",[]),hS("design:returntype",void 0)],t.prototype,"focusDrillUp",null),uS([Tx,hS("design:type",Function),hS("design:paramtypes",[Object,Object,Object]),hS("design:returntype",void 0)],t.prototype,"setActiveNode",null),uS([Tx,hS("design:type",Function),hS("design:paramtypes",[Object,Object]),hS("design:returntype",void 0)],t.prototype,"setSelectedNode",null),uS([Tx,hS("design:type",Function),hS("design:paramtypes",[Object,Object]),hS("design:returntype",void 0)],t.prototype,"setExpandedNode",null),uS([Tx,hS("design:type",Function),hS("design:paramtypes",[]),hS("design:returntype",void 0)],t.prototype,"expandAll",null),uS([Tx,hS("design:type",Function),hS("design:paramtypes",[]),hS("design:returntype",void 0)],t.prototype,"collapseAll",null),uS([Tx,hS("design:type",Function),hS("design:paramtypes",[Object,Object]),hS("design:returntype",void 0)],t.prototype,"setIsHidden",null),uS([Tx,hS("design:type",Function),hS("design:paramtypes",[Object]),hS("design:returntype",void 0)],t.prototype,"setHiddenNodeIds",null),uS([Tx,hS("design:type",Function),hS("design:paramtypes",[Object,Object]),hS("design:returntype",void 0)],t.prototype,"filterNodes",null),uS([Tx,hS("design:type",Function),hS("design:paramtypes",[]),hS("design:returntype",void 0)],t.prototype,"clearFilter",null),uS([Tx,hS("design:type",Function),hS("design:paramtypes",[Object,Object]),hS("design:returntype",void 0)],t.prototype,"moveNode",null),uS([Tx,hS("design:type",Function),hS("design:paramtypes",[Object,Object]),hS("design:returntype",void 0)],t.prototype,"copyNode",null),uS([Tx,hS("design:type",Function),hS("design:paramtypes",[Object]),hS("design:returntype",void 0)],t.prototype,"setState",null),t.\u0275fac=function(e){return new(e||t)},t.\u0275prov=ht({token:t,factory:function(e){return t.\u0275fac(e)}}),t}(),pS=function(){function t(){this._draggedElement=null}return t.prototype.set=function(t){this._draggedElement=t},t.prototype.get=function(){return this._draggedElement},t.prototype.isDragging=function(){return!!this.get()},t.\u0275fac=function(e){return new(e||t)},t.\u0275prov=ht({token:t,factory:function(e){return t.\u0275fac(e)}}),t}(),fS=function(t,e,n,i){var r,o=arguments.length,s=o<3?e:null===i?i=Object.getOwnPropertyDescriptor(e,n):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(t,e,n,i);else for(var a=t.length-1;a>=0;a--)(r=t[a])&&(s=(o<3?r(s):o>3?r(e,n,s):r(e,n))||s);return o>3&&s&&Object.defineProperty(e,n,s),s},mS=function(t,e){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(t,e)},gS=function(){function t(t){var e=this;this.treeModel=t,this.yBlocks=0,this.x=0,this.viewportHeight=null,this.viewport=null,t.virtualScroll=this,this._dispose=[Ax((function(){return e.fixScroll()}))]}return Object.defineProperty(t.prototype,"y",{get:function(){return 150*this.yBlocks},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"totalHeight",{get:function(){return this.treeModel.virtualRoot?this.treeModel.virtualRoot.height:0},enumerable:!0,configurable:!0}),t.prototype.fireEvent=function(t){this.treeModel.fireEvent(t)},t.prototype.init=function(){var t=this,e=this.recalcPositions.bind(this);e(),this._dispose=this._dispose.concat([Rx((function(){return t.treeModel.roots}),e),Rx((function(){return t.treeModel.expandedNodeIds}),e),Rx((function(){return t.treeModel.hiddenNodeIds}),e)]),this.treeModel.subscribe(WE.loadNodeChildren,e)},t.prototype.isEnabled=function(){return this.treeModel.options.useVirtualScroll},t.prototype._setYBlocks=function(t){this.yBlocks=t},t.prototype.recalcPositions=function(){this.treeModel.virtualRoot.height=this._getPositionAfter(this.treeModel.getVisibleRoots(),0)},t.prototype._getPositionAfter=function(t,e){var n=this,i=e;return t.forEach((function(t){t.position=i,i=n._getPositionAfterNode(t,i)})),i},t.prototype._getPositionAfterNode=function(t,e){var n=t.getSelfHeight()+e;return t.children&&t.isExpanded&&(n=this._getPositionAfter(t.visibleChildren,n)),t.height=n-e,n},t.prototype.clear=function(){this._dispose.forEach((function(t){return t()}))},t.prototype.setViewport=function(t){Object.assign(this,{viewport:t,x:t.scrollLeft,yBlocks:Math.round(t.scrollTop/150),viewportHeight:t.getBoundingClientRect?t.getBoundingClientRect().height:0})},t.prototype.scrollIntoView=function(t,e,n){if(void 0===n&&(n=!0),t.options.scrollContainer){var i=t.options.scrollContainer,r=i.getBoundingClientRect().height,o=i.getBoundingClientRect().top,s=this.viewport.getBoundingClientRect().top+t.position-o;(e||s<i.scrollTop||s+t.getSelfHeight()>i.scrollTop+r)&&(i.scrollTop=n?s-r/2:s)}else(e||t.position<this.y||t.position+t.getSelfHeight()>this.y+this.viewportHeight)&&this.viewport&&(this.viewport.scrollTop=n?t.position-this.viewportHeight/2:t.position,this._setYBlocks(Math.floor(this.viewport.scrollTop/150)))},t.prototype.getViewportNodes=function(t){var e=this;if(!t)return[];var n=t.filter((function(t){return!t.isHidden}));if(!this.isEnabled())return n;if(!this.viewportHeight||!n.length)return[];var i=yS(n,(function(t){return t.position+500>e.y||t.position+t.height>e.y})),r=yS(n,(function(t){return t.position-500>e.y+e.viewportHeight}),i),o=[];if(r-i>(1e3+this.viewportHeight)/n[0].treeModel.options.options.nodeHeight)return[];for(var s=i;s<=r;s++)o.push(n[s]);return o},t.prototype.fixScroll=function(){var t=Math.max(0,this.totalHeight-this.viewportHeight);this.y<0&&this._setYBlocks(0),this.y>t&&this._setYBlocks(t/150)},fS([RC,mS("design:type",Object)],t.prototype,"yBlocks",void 0),fS([RC,mS("design:type",Object)],t.prototype,"x",void 0),fS([RC,mS("design:type",Object)],t.prototype,"viewportHeight",void 0),fS([NC,mS("design:type",Object),mS("design:paramtypes",[])],t.prototype,"y",null),fS([NC,mS("design:type",Object),mS("design:paramtypes",[])],t.prototype,"totalHeight",null),fS([Tx,mS("design:type",Function),mS("design:paramtypes",[Object]),mS("design:returntype",void 0)],t.prototype,"_setYBlocks",null),fS([Tx,mS("design:type",Function),mS("design:paramtypes",[]),mS("design:returntype",void 0)],t.prototype,"recalcPositions",null),fS([Tx,mS("design:type",Function),mS("design:paramtypes",[Object]),mS("design:returntype",void 0)],t.prototype,"setViewport",null),fS([Tx,mS("design:type",Function),mS("design:paramtypes",[Object,Object,Object]),mS("design:returntype",void 0)],t.prototype,"scrollIntoView",null),(t=fS([mS("design:paramtypes",[dS])],t)).\u0275fac=function(e){return new(e||t)(Kt(dS))},t.\u0275prov=ht({token:t,factory:function(e){return t.\u0275fac(e)}}),t}();function yS(t,e,n){void 0===n&&(n=0);for(var i=n,r=t.length-1;i!==r;){var o=Math.floor((i+r)/2);e(t[o])?r=o:i=i===o?r:o}return i}function _S(t,e){1&t&&(Ls(0,"span"),Ca(1,"loading..."),Bs())}var vS=function(t){return{$implicit:t}},bS=function(t,e,n,i){var r,o=arguments.length,s=o<3?e:null===i?i=Object.getOwnPropertyDescriptor(e,n):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(t,e,n,i);else for(var a=t.length-1;a>=0;a--)(r=t[a])&&(s=(o<3?r(s):o>3?r(e,n,s):r(e,n))||s);return o>3&&s&&Object.defineProperty(e,n,s),s},wS=function(t,e){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(t,e)},CS=function(){function t(){}return bS([bc(),wS("design:type",bl)],t.prototype,"template",void 0),bS([bc(),wS("design:type",eS)],t.prototype,"node",void 0),t.\u0275fac=function(e){return new(e||t)},t.\u0275cmp=pe({type:t,selectors:[["tree-loading-component"]],inputs:{template:"template",node:"node"},decls:2,vars:5,consts:[[4,"ngIf"],[3,"ngTemplateOutlet","ngTemplateOutletContext"]],template:function(t,e){1&t&&(Is(0,_S,2,0,"span",0),Hs(1,1)),2&t&&(Rs("ngIf",!e.template),vr(1),Rs("ngTemplateOutlet",e.template)("ngTemplateOutletContext",Vl(3,vS,e.node)))},directives:[Eh,Rh],encapsulation:2}),t}(),xS=n("DzJC"),ES=n.n(xS);function SS(t,e){if(1&t&&(js(0),Ls(1,"div"),Js(2),Bs(),zs()),2&t){var n=Ys();vr(1),ca("height",n.getTotalHeight())}}var PS=function(){return{dontDetach:!0}},OS=["*"],kS=function(t,e){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(t,e)},TS=function(){function t(t,e,n){var i=this;this.elementRef=t,this.ngZone=e,this.virtualScroll=n,this.setViewport=ES()((function(){i.virtualScroll.setViewport(i.elementRef.nativeElement)}),17),this.scrollEventHandler=this.setViewport.bind(this)}return t.prototype.ngOnInit=function(){this.virtualScroll.init()},t.prototype.ngAfterViewInit=function(){var t=this;setTimeout((function(){t.setViewport(),t.virtualScroll.fireEvent({eventName:WE.initialized})}));var e=this.elementRef.nativeElement;this.ngZone.runOutsideAngular((function(){e.addEventListener("scroll",t.scrollEventHandler)}))},t.prototype.ngOnDestroy=function(){this.virtualScroll.clear(),this.elementRef.nativeElement.removeEventListener("scroll",this.scrollEventHandler)},t.prototype.getTotalHeight=function(){return this.virtualScroll.isEnabled()&&this.virtualScroll.totalHeight+"px"||"auto"},(t=function(t,e,n,i){var r,o=arguments.length,s=o<3?e:null===i?i=Object.getOwnPropertyDescriptor(e,n):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(t,e,n,i);else for(var a=t.length-1;a>=0;a--)(r=t[a])&&(s=(o<3?r(s):o>3?r(e,n,s):r(e,n))||s);return o>3&&s&&Object.defineProperty(e,n,s),s}([kS("design:paramtypes",[Ya,$c,gS])],t)).\u0275fac=function(e){return new(e||t)(Ms(Ya),Ms($c),Ms(gS))},t.\u0275cmp=pe({type:t,selectors:[["tree-viewport"]],features:[Ga([gS])],ngContentSelectors:OS,decls:1,vars:2,consts:[[4,"treeMobxAutorun"]],template:function(t,e){1&t&&(Zs(),Is(0,SS,3,2,"ng-container",0)),2&t&&Rs("treeMobxAutorun",Hl(1,PS))},directives:[ME],encapsulation:2}),t}(),IS=Object.assign((function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];return Tx.apply(void 0,t)}),Tx),AS=Object.assign((function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];return NC.apply(void 0,t)}),NC),MS=Object.assign((function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];return RC.apply(void 0,t)}),RC);function DS(t,e){if(1&t&&Ns(0,"tree-node",2),2&t){var n=e.$implicit,i=e.index,r=Ys(2);Rs("node",n)("index",i)("templates",r.templates)}}function RS(t,e){if(1&t&&(js(0),Ls(1,"div"),Is(2,DS,1,3,"tree-node",1),Bs(),zs()),2&t){var n=Ys();vr(1),ca("margin-top",n.marginTop),vr(1),Rs("ngForOf",n.viewportNodes)("ngForTrackBy",n.trackNode)}}var FS=function(){return{dontDetach:!0}},LS=function(t,e,n,i){var r,o=arguments.length,s=o<3?e:null===i?i=Object.getOwnPropertyDescriptor(e,n):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(t,e,n,i);else for(var a=t.length-1;a>=0;a--)(r=t[a])&&(s=(o<3?r(s):o>3?r(e,n,s):r(e,n))||s);return o>3&&s&&Object.defineProperty(e,n,s),s},BS=function(t,e){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(t,e)},NS=function(){function t(){this._dispose=[]}return Object.defineProperty(t.prototype,"nodes",{get:function(){return this._nodes},set:function(t){this.setNodes(t)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"marginTop",{get:function(){var t=this.viewportNodes&&this.viewportNodes.length&&this.viewportNodes[0];return(t&&t.parent?t.position-t.parent.position-t.parent.getSelfHeight():0)+"px"},enumerable:!0,configurable:!0}),t.prototype.setNodes=function(t){this._nodes=t},t.prototype.ngOnInit=function(){var t=this;this.virtualScroll=this.treeModel.virtualScroll,this._dispose=[Rx((function(){return t.virtualScroll.getViewportNodes(t.nodes).map((function(t){return t.index}))}),(function(e){t.viewportNodes=e.map((function(e){return t.nodes[e]}))}),{compareStructural:!0,fireImmediately:!0}),Rx((function(){return t.nodes}),(function(e){t.viewportNodes=t.virtualScroll.getViewportNodes(e)}))]},t.prototype.ngOnDestroy=function(){this._dispose.forEach((function(t){return t()}))},t.prototype.trackNode=function(t,e){return e.id},LS([bc(),BS("design:type",Object),BS("design:paramtypes",[Object])],t.prototype,"nodes",null),LS([bc(),BS("design:type",dS)],t.prototype,"treeModel",void 0),LS([MS,BS("design:type",Object)],t.prototype,"_nodes",void 0),LS([bc(),BS("design:type",Object)],t.prototype,"templates",void 0),LS([MS,BS("design:type",Array)],t.prototype,"viewportNodes",void 0),LS([AS,BS("design:type",String),BS("design:paramtypes",[])],t.prototype,"marginTop",null),LS([IS,BS("design:type",Function),BS("design:paramtypes",[Object]),BS("design:returntype",void 0)],t.prototype,"setNodes",null),t.\u0275fac=function(e){return new(e||t)},t.\u0275cmp=pe({type:t,selectors:[["tree-node-collection"]],inputs:{nodes:"nodes",treeModel:"treeModel",templates:"templates"},decls:1,vars:2,consts:[[4,"treeMobxAutorun"],[3,"node","index","templates",4,"ngFor","ngForOf","ngForTrackBy"],[3,"node","index","templates"]],template:function(t,e){1&t&&Is(0,RS,3,4,"ng-container",0),2&t&&Rs("treeMobxAutorun",Hl(1,FS))},encapsulation:2}),t}(),jS=function(t,e,n,i){var r,o=arguments.length,s=o<3?e:null===i?i=Object.getOwnPropertyDescriptor(e,n):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(t,e,n,i);else for(var a=t.length-1;a>=0;a--)(r=t[a])&&(s=(o<3?r(s):o>3?r(e,n,s):r(e,n))||s);return o>3&&s&&Object.defineProperty(e,n,s),s},zS=function(t,e){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(t,e)},HS=function(){function t(t,e,n,i){this.el=t,this.renderer=e,this.treeDraggedElement=n,this.ngZone=i,this.allowDragoverStyling=!0,this.onDropCallback=new Yl,this.onDragOverCallback=new Yl,this.onDragLeaveCallback=new Yl,this.onDragEnterCallback=new Yl,this._allowDrop=function(t,e){return!0},this.dragOverEventHandler=this.onDragOver.bind(this),this.dragEnterEventHandler=this.onDragEnter.bind(this),this.dragLeaveEventHandler=this.onDragLeave.bind(this)}return Object.defineProperty(t.prototype,"treeAllowDrop",{set:function(t){this._allowDrop=t instanceof Function?t:function(e,n){return t}},enumerable:!0,configurable:!0}),t.prototype.allowDrop=function(t){return this._allowDrop(this.treeDraggedElement.get(),t)},t.prototype.ngAfterViewInit=function(){var t=this,e=this.el.nativeElement;this.ngZone.runOutsideAngular((function(){e.addEventListener("dragover",t.dragOverEventHandler),e.addEventListener("dragenter",t.dragEnterEventHandler),e.addEventListener("dragleave",t.dragLeaveEventHandler)}))},t.prototype.ngOnDestroy=function(){var t=this.el.nativeElement;t.removeEventListener("dragover",this.dragOverEventHandler),t.removeEventListener("dragenter",this.dragEnterEventHandler),t.removeEventListener("dragleave",this.dragLeaveEventHandler)},t.prototype.onDragOver=function(t){if(!this.allowDrop(t))return this.allowDragoverStyling?this.addDisabledClass():void 0;this.onDragOverCallback.emit({event:t,element:this.treeDraggedElement.get()}),t.preventDefault(),this.allowDragoverStyling&&this.addClass()},t.prototype.onDragEnter=function(t){this.allowDrop(t)&&(t.preventDefault(),this.onDragEnterCallback.emit({event:t,element:this.treeDraggedElement.get()}))},t.prototype.onDragLeave=function(t){if(!this.allowDrop(t))return this.allowDragoverStyling?this.removeDisabledClass():void 0;this.onDragLeaveCallback.emit({event:t,element:this.treeDraggedElement.get()}),this.allowDragoverStyling&&this.removeClass()},t.prototype.onDrop=function(t){this.allowDrop(t)&&(t.preventDefault(),this.onDropCallback.emit({event:t,element:this.treeDraggedElement.get()}),this.allowDragoverStyling&&this.removeClass(),this.treeDraggedElement.set(null))},t.prototype.addClass=function(){this.renderer.addClass(this.el.nativeElement,"is-dragging-over")},t.prototype.removeClass=function(){this.renderer.removeClass(this.el.nativeElement,"is-dragging-over")},t.prototype.addDisabledClass=function(){this.renderer.addClass(this.el.nativeElement,"is-dragging-over-disabled")},t.prototype.removeDisabledClass=function(){this.renderer.removeClass(this.el.nativeElement,"is-dragging-over-disabled")},jS([bc(),zS("design:type",Object)],t.prototype,"allowDragoverStyling",void 0),jS([wc("treeDrop"),zS("design:type",Object)],t.prototype,"onDropCallback",void 0),jS([wc("treeDropDragOver"),zS("design:type",Object)],t.prototype,"onDragOverCallback",void 0),jS([wc("treeDropDragLeave"),zS("design:type",Object)],t.prototype,"onDragLeaveCallback",void 0),jS([wc("treeDropDragEnter"),zS("design:type",Object)],t.prototype,"onDragEnterCallback",void 0),jS([bc(),zS("design:type",Object),zS("design:paramtypes",[Object])],t.prototype,"treeAllowDrop",null),jS([Cc("drop",["$event"]),zS("design:type",Function),zS("design:paramtypes",[Object]),zS("design:returntype",void 0)],t.prototype,"onDrop",null),(t=jS([zS("design:paramtypes",[Ya,tl,pS,$c])],t)).\u0275fac=function(e){return new(e||t)(Ms(Ya),Ms(tl),Ms(pS),Ms($c))},t.\u0275dir=be({type:t,selectors:[["","treeDrop",""]],hostBindings:function(t,e){1&t&&$s("drop",(function(t){return e.onDrop(t)}))},inputs:{allowDragoverStyling:"allowDragoverStyling",treeAllowDrop:"treeAllowDrop"},outputs:{onDropCallback:"treeDrop",onDragOverCallback:"treeDropDragOver",onDragLeaveCallback:"treeDropDragLeave",onDragEnterCallback:"treeDropDragEnter"}}),t}(),VS=function(t,e,n,i){var r,o=arguments.length,s=o<3?e:null===i?i=Object.getOwnPropertyDescriptor(e,n):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(t,e,n,i);else for(var a=t.length-1;a>=0;a--)(r=t[a])&&(s=(o<3?r(s):o>3?r(e,n,s):r(e,n))||s);return o>3&&s&&Object.defineProperty(e,n,s),s},US=function(t,e){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(t,e)},WS=function(){function t(){}return t.prototype.onDrop=function(t){this.node.mouseAction("drop",t.event,{from:t.element,to:{parent:this.node,index:this.dropIndex}})},t.prototype.allowDrop=function(t,e){return this.node.options.allowDrop(t,{parent:this.node,index:this.dropIndex},e)},VS([bc(),US("design:type",eS)],t.prototype,"node",void 0),VS([bc(),US("design:type",Number)],t.prototype,"dropIndex",void 0),t.\u0275fac=function(e){return new(e||t)},t.\u0275cmp=pe({type:t,selectors:[["TreeNodeDropSlot"],["tree-node-drop-slot"]],inputs:{node:"node",dropIndex:"dropIndex"},decls:1,vars:2,consts:[[1,"node-drop-slot",3,"treeAllowDrop","allowDragoverStyling","treeDrop"]],template:function(t,e){1&t&&(Ls(0,"div",0),$s("treeDrop",(function(t){return e.onDrop(t)})),Bs()),2&t&&Rs("treeAllowDrop",e.allowDrop.bind(e))("allowDragoverStyling",!0)},directives:[HS],encapsulation:2}),t}(),$S=n("ijCd"),GS=n.n($S),qS=n("JZM8"),XS=n.n(qS),KS=["loadingTemplate"],YS=["treeNodeTemplate"],QS=["treeNodeWrapperTemplate"],ZS=["treeNodeFullTemplate"],JS=["viewport"],tP=function(t,e,n,i){return{loadingTemplate:t,treeNodeTemplate:e,treeNodeWrapperTemplate:n,treeNodeFullTemplate:i}};function eP(t,e){if(1&t&&Ns(0,"tree-node-collection",4),2&t){var n=Ys();Rs("nodes",n.treeModel.roots)("treeModel",n.treeModel)("templates",$l(3,tP,n.loadingTemplate,n.treeNodeTemplate,n.treeNodeWrapperTemplate,n.treeNodeFullTemplate))}}function nP(t,e){if(1&t&&Ns(0,"tree-node-drop-slot",5),2&t){var n=Ys();Rs("dropIndex",0)("node",n.treeModel.virtualRoot)}}var iP=function(t,e,n,i){var r,o=arguments.length,s=o<3?e:null===i?i=Object.getOwnPropertyDescriptor(e,n):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(t,e,n,i);else for(var a=t.length-1;a>=0;a--)(r=t[a])&&(s=(o<3?r(s):o>3?r(e,n,s):r(e,n))||s);return o>3&&s&&Object.defineProperty(e,n,s),s},rP=function(t,e){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(t,e)},oP=function(){function t(t,e){var n=this;this.treeModel=t,this.treeDraggedElement=e,t.eventNames.forEach((function(t){return n[t]=new Yl})),t.subscribeToState((function(t){return n.stateChange.emit(t)}))}return Object.defineProperty(t.prototype,"nodes",{set:function(t){},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"options",{set:function(t){},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"focused",{set:function(t){this.treeModel.setFocus(t)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"state",{set:function(t){this.treeModel.setState(t)},enumerable:!0,configurable:!0}),t.prototype.onKeydown=function(t){if(this.treeModel.isFocused&&!GS()(["input","textarea"],document.activeElement.tagName.toLowerCase())){var e=this.treeModel.getFocusedNode();this.treeModel.performKeyAction(e,t)}},t.prototype.onMousedown=function(t){(function t(e,n){return!e||e.localName!==n&&t(e.parentElement,n)})(t.target,"tree-root")&&this.treeModel.setFocus(!1)},t.prototype.ngOnChanges=function(t){(t.options||t.nodes)&&this.treeModel.setData({options:t.options&&t.options.currentValue,nodes:t.nodes&&t.nodes.currentValue,events:XS()(this,this.treeModel.eventNames)})},t.prototype.sizeChanged=function(){this.viewportComponent.setViewport()},iP([ds("loadingTemplate",{static:!1}),rP("design:type",bl)],t.prototype,"loadingTemplate",void 0),iP([ds("treeNodeTemplate",{static:!1}),rP("design:type",bl)],t.prototype,"treeNodeTemplate",void 0),iP([ds("treeNodeWrapperTemplate",{static:!1}),rP("design:type",bl)],t.prototype,"treeNodeWrapperTemplate",void 0),iP([ds("treeNodeFullTemplate",{static:!1}),rP("design:type",bl)],t.prototype,"treeNodeFullTemplate",void 0),iP([ps("viewport",{static:!1}),rP("design:type",TS)],t.prototype,"viewportComponent",void 0),iP([bc(),rP("design:type",Array),rP("design:paramtypes",[Array])],t.prototype,"nodes",null),iP([bc(),rP("design:type",UE),rP("design:paramtypes",[UE])],t.prototype,"options",null),iP([bc(),rP("design:type",Boolean),rP("design:paramtypes",[Boolean])],t.prototype,"focused",null),iP([bc(),rP("design:type",Object),rP("design:paramtypes",[Object])],t.prototype,"state",null),iP([wc(),rP("design:type",Object)],t.prototype,"toggleExpanded",void 0),iP([wc(),rP("design:type",Object)],t.prototype,"activate",void 0),iP([wc(),rP("design:type",Object)],t.prototype,"deactivate",void 0),iP([wc(),rP("design:type",Object)],t.prototype,"nodeActivate",void 0),iP([wc(),rP("design:type",Object)],t.prototype,"nodeDeactivate",void 0),iP([wc(),rP("design:type",Object)],t.prototype,"select",void 0),iP([wc(),rP("design:type",Object)],t.prototype,"deselect",void 0),iP([wc(),rP("design:type",Object)],t.prototype,"focus",void 0),iP([wc(),rP("design:type",Object)],t.prototype,"blur",void 0),iP([wc(),rP("design:type",Object)],t.prototype,"updateData",void 0),iP([wc(),rP("design:type",Object)],t.prototype,"initialized",void 0),iP([wc(),rP("design:type",Object)],t.prototype,"moveNode",void 0),iP([wc(),rP("design:type",Object)],t.prototype,"copyNode",void 0),iP([wc(),rP("design:type",Object)],t.prototype,"loadNodeChildren",void 0),iP([wc(),rP("design:type",Object)],t.prototype,"changeFilter",void 0),iP([wc(),rP("design:type",Object)],t.prototype,"event",void 0),iP([wc(),rP("design:type",Object)],t.prototype,"stateChange",void 0),iP([Cc("body: keydown",["$event"]),rP("design:type",Function),rP("design:paramtypes",[Object]),rP("design:returntype",void 0)],t.prototype,"onKeydown",null),iP([Cc("body: mousedown",["$event"]),rP("design:type",Function),rP("design:paramtypes",[Object]),rP("design:returntype",void 0)],t.prototype,"onMousedown",null),(t=iP([rP("design:paramtypes",[dS,pS])],t)).\u0275fac=function(e){return new(e||t)(Ms(dS),Ms(pS))},t.\u0275cmp=pe({type:t,selectors:[["Tree"],["tree-root"]],contentQueries:function(t,e,n){var i;1&t&&(hc(n,KS,!0),hc(n,YS,!0),hc(n,QS,!0),hc(n,ZS,!0)),2&t&&(ac(i=fc())&&(e.loadingTemplate=i.first),ac(i=fc())&&(e.treeNodeTemplate=i.first),ac(i=fc())&&(e.treeNodeWrapperTemplate=i.first),ac(i=fc())&&(e.treeNodeFullTemplate=i.first))},viewQuery:function(t,e){var n;1&t&&cc(JS,!0),2&t&&ac(n=fc())&&(e.viewportComponent=n.first)},hostBindings:function(t,e){1&t&&$s("keydown",(function(t){return e.onKeydown(t)}),!1,$n)("mousedown",(function(t){return e.onMousedown(t)}),!1,$n)},inputs:{nodes:"nodes",options:"options",focused:"focused",state:"state"},outputs:{toggleExpanded:"toggleExpanded",activate:"activate",deactivate:"deactivate",nodeActivate:"nodeActivate",nodeDeactivate:"nodeDeactivate",select:"select",deselect:"deselect",focus:"focus",blur:"blur",updateData:"updateData",initialized:"initialized",moveNode:"moveNode",copyNode:"copyNode",loadNodeChildren:"loadNodeChildren",changeFilter:"changeFilter",event:"event",stateChange:"stateChange"},features:[Ga([dS]),La],decls:5,vars:6,consts:[["viewport",""],[1,"angular-tree-component"],[3,"nodes","treeModel","templates",4,"ngIf"],["class","empty-tree-drop-slot",3,"dropIndex","node",4,"ngIf"],[3,"nodes","treeModel","templates"],[1,"empty-tree-drop-slot",3,"dropIndex","node"]],template:function(t,e){1&t&&(Ls(0,"tree-viewport",null,0),Ls(2,"div",1),Is(3,eP,1,8,"tree-node-collection",2),Is(4,nP,1,2,"tree-node-drop-slot",3),Bs(),Bs()),2&t&&(vr(2),ua("node-dragging",e.treeDraggedElement.isDragging())("angular-tree-component-rtl",e.treeModel.options.rtl),vr(1),Rs("ngIf",e.treeModel.roots),vr(1),Rs("ngIf",e.treeModel.isEmptyTree()))},directives:[TS,Eh,NS,WS],encapsulation:2}),t}();function sP(t,e){if(1&t){var n=Vs();Ls(0,"span",3),$s("click",(function(t){return Qe(n),Ys(2).node.mouseAction("expanderClick",t)})),Ns(1,"span",4),Bs()}if(2&t){var i=Ys(2);ua("toggle-children-wrapper-expanded",i.node.isExpanded)("toggle-children-wrapper-collapsed",i.node.isCollapsed)}}function aP(t,e){1&t&&Ns(0,"span",5)}function lP(t,e){if(1&t&&(js(0),Is(1,sP,2,4,"span",1),Is(2,aP,1,0,"span",2),zs()),2&t){var n=Ys();vr(1),Rs("ngIf",n.node.hasChildren),vr(1),Rs("ngIf",!n.node.hasChildren)}}var cP=function(){return{dontDetach:!0}},uP=function(t,e){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(t,e)},hP=function(){function t(){}return function(t,e,n,i){var r,o=arguments.length,s=o<3?e:null===i?i=Object.getOwnPropertyDescriptor(e,n):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(t,e,n,i);else for(var a=t.length-1;a>=0;a--)(r=t[a])&&(s=(o<3?r(s):o>3?r(e,n,s):r(e,n))||s);o>3&&s&&Object.defineProperty(e,n,s)}([bc(),uP("design:type",eS)],t.prototype,"node",void 0),t.\u0275fac=function(e){return new(e||t)},t.\u0275cmp=pe({type:t,selectors:[["tree-node-expander"]],inputs:{node:"node"},decls:1,vars:2,consts:[[4,"treeMobxAutorun"],["class","toggle-children-wrapper",3,"toggle-children-wrapper-expanded","toggle-children-wrapper-collapsed","click",4,"ngIf"],["class","toggle-children-placeholder",4,"ngIf"],[1,"toggle-children-wrapper",3,"click"],[1,"toggle-children"],[1,"toggle-children-placeholder"]],template:function(t,e){1&t&&Is(0,lP,3,2,"ng-container",0),2&t&&Rs("treeMobxAutorun",Hl(1,cP))},directives:[ME,Eh],encapsulation:2}),t}(),dP=function(t,e,n,i){var r,o=arguments.length,s=o<3?e:null===i?i=Object.getOwnPropertyDescriptor(e,n):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(t,e,n,i);else for(var a=t.length-1;a>=0;a--)(r=t[a])&&(s=(o<3?r(s):o>3?r(e,n,s):r(e,n))||s);return o>3&&s&&Object.defineProperty(e,n,s),s},pP=function(t,e){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(t,e)},fP=function(){function t(t,e,n,i){this.el=t,this.renderer=e,this.treeDraggedElement=n,this.ngZone=i,this.dragEventHandler=this.onDrag.bind(this)}return t.prototype.ngAfterViewInit=function(){var t=this,e=this.el.nativeElement;this.ngZone.runOutsideAngular((function(){e.addEventListener("drag",t.dragEventHandler)}))},t.prototype.ngDoCheck=function(){this.renderer.setAttribute(this.el.nativeElement,"draggable",this.treeDragEnabled?"true":"false")},t.prototype.ngOnDestroy=function(){this.el.nativeElement.removeEventListener("drag",this.dragEventHandler)},t.prototype.onDragStart=function(t){t.dataTransfer.setData("text",t.target.id),this.treeDraggedElement.set(this.draggedElement),this.draggedElement.mouseAction&&this.draggedElement.mouseAction("dragStart",t)},t.prototype.onDrag=function(t){this.draggedElement.mouseAction&&this.draggedElement.mouseAction("drag",t)},t.prototype.onDragEnd=function(){this.draggedElement.mouseAction&&this.draggedElement.mouseAction("dragEnd"),this.treeDraggedElement.set(null)},dP([bc("treeDrag"),pP("design:type",Object)],t.prototype,"draggedElement",void 0),dP([bc(),pP("design:type",Object)],t.prototype,"treeDragEnabled",void 0),dP([Cc("dragstart",["$event"]),pP("design:type",Function),pP("design:paramtypes",[Object]),pP("design:returntype",void 0)],t.prototype,"onDragStart",null),dP([Cc("dragend"),pP("design:type",Function),pP("design:paramtypes",[]),pP("design:returntype",void 0)],t.prototype,"onDragEnd",null),(t=dP([pP("design:paramtypes",[Ya,tl,pS,$c])],t)).\u0275fac=function(e){return new(e||t)(Ms(Ya),Ms(tl),Ms(pS),Ms($c))},t.\u0275dir=be({type:t,selectors:[["","treeDrag",""]],hostBindings:function(t,e){1&t&&$s("dragstart",(function(t){return e.onDragStart(t)}))("dragend",(function(){return e.onDragEnd()}))},inputs:{draggedElement:["treeDrag","draggedElement"],treeDragEnabled:"treeDragEnabled"}}),t}();function mP(t,e){if(1&t&&(Ls(0,"span"),Ca(1),Bs()),2&t){var n=Ys();vr(1),xa(n.node.displayField)}}var gP=function(t,e,n){return{$implicit:t,node:e,index:n}},yP=function(t,e,n,i){var r,o=arguments.length,s=o<3?e:null===i?i=Object.getOwnPropertyDescriptor(e,n):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(t,e,n,i);else for(var a=t.length-1;a>=0;a--)(r=t[a])&&(s=(o<3?r(s):o>3?r(e,n,s):r(e,n))||s);return o>3&&s&&Object.defineProperty(e,n,s),s},_P=function(t,e){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(t,e)},vP=function(){function t(){}return yP([bc(),_P("design:type",eS)],t.prototype,"node",void 0),yP([bc(),_P("design:type",Number)],t.prototype,"index",void 0),yP([bc(),_P("design:type",bl)],t.prototype,"template",void 0),t.\u0275fac=function(e){return new(e||t)},t.\u0275cmp=pe({type:t,selectors:[["tree-node-content"]],inputs:{node:"node",index:"index",template:"template"},decls:2,vars:7,consts:[[4,"ngIf"],[3,"ngTemplateOutlet","ngTemplateOutletContext"]],template:function(t,e){1&t&&(Is(0,mP,2,1,"span",0),Hs(1,1)),2&t&&(Rs("ngIf",!e.template),vr(1),Rs("ngTemplateOutlet",e.template)("ngTemplateOutletContext",Wl(3,gP,e.node,e.node,e.index)))},directives:[Eh,Rh],encapsulation:2}),t}();function bP(t,e){if(1&t){var n=Vs();js(0),Ls(1,"input",1),$s("click",(function(t){return Qe(n),Ys().node.mouseAction("checkboxClick",t)})),Bs(),zs()}if(2&t){var i=Ys();vr(1),Rs("checked",i.node.isSelected)("indeterminate",i.node.isPartiallySelected)}}var wP=function(){return{dontDetach:!0}},CP=function(t,e){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(t,e)},xP=function(){function t(){}return function(t,e,n,i){var r,o=arguments.length,s=o<3?e:null===i?i=Object.getOwnPropertyDescriptor(e,n):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(t,e,n,i);else for(var a=t.length-1;a>=0;a--)(r=t[a])&&(s=(o<3?r(s):o>3?r(e,n,s):r(e,n))||s);o>3&&s&&Object.defineProperty(e,n,s)}([bc(),CP("design:type",eS)],t.prototype,"node",void 0),t.\u0275fac=function(e){return new(e||t)},t.\u0275cmp=pe({type:t,selectors:[["tree-node-checkbox"]],inputs:{node:"node"},decls:1,vars:2,consts:[[4,"treeMobxAutorun"],["type","checkbox",1,"tree-node-checkbox",3,"checked","indeterminate","click"]],template:function(t,e){1&t&&Is(0,bP,2,2,"ng-container",0),2&t&&Rs("treeMobxAutorun",Hl(1,wP))},directives:[ME],encapsulation:2}),t}();function EP(t,e){1&t&&Ns(0,"tree-node-checkbox",4),2&t&&Rs("node",Ys(2).node)}function SP(t,e){if(1&t){var n=Vs();Ls(0,"div",2),Is(1,EP,1,1,"tree-node-checkbox",3),Ns(2,"tree-node-expander",4),Ls(3,"div",5),$s("click",(function(t){return Qe(n),Ys().node.mouseAction("click",t)}))("dblclick",(function(t){return Qe(n),Ys().node.mouseAction("dblClick",t)}))("mouseover",(function(t){return Qe(n),Ys().node.mouseAction("mouseOver",t)}))("mouseout",(function(t){return Qe(n),Ys().node.mouseAction("mouseOut",t)}))("contextmenu",(function(t){return Qe(n),Ys().node.mouseAction("contextMenu",t)}))("treeDrop",(function(t){return Qe(n),Ys().node.onDrop(t)}))("treeDropDragOver",(function(t){return Qe(n),Ys().node.mouseAction("dragOver",t)}))("treeDropDragLeave",(function(t){return Qe(n),Ys().node.mouseAction("dragLeave",t)}))("treeDropDragEnter",(function(t){return Qe(n),Ys().node.mouseAction("dragEnter",t)})),Ns(4,"tree-node-content",6),Bs(),Bs()}if(2&t){var i=Ys();ca("padding-left",i.node.getNodePadding()),vr(1),Rs("ngIf",i.node.options.useCheckbox),vr(1),Rs("node",i.node),vr(1),ua("node-content-wrapper-active",i.node.isActive)("node-content-wrapper-focused",i.node.isFocused),Rs("treeAllowDrop",i.node.allowDrop)("allowDragoverStyling",i.node.allowDragoverStyling())("treeDrag",i.node)("treeDragEnabled",i.node.allowDrag()),vr(1),Rs("node",i.node)("index",i.index)("template",i.templates.treeNodeTemplate)}}var PP=function(t,e,n,i){return{$implicit:t,node:e,index:n,templates:i}},OP=function(t,e,n,i){var r,o=arguments.length,s=o<3?e:null===i?i=Object.getOwnPropertyDescriptor(e,n):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(t,e,n,i);else for(var a=t.length-1;a>=0;a--)(r=t[a])&&(s=(o<3?r(s):o>3?r(e,n,s):r(e,n))||s);return o>3&&s&&Object.defineProperty(e,n,s),s},kP=function(t,e){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(t,e)},TP=function(){function t(){}return OP([bc(),kP("design:type",eS)],t.prototype,"node",void 0),OP([bc(),kP("design:type",Number)],t.prototype,"index",void 0),OP([bc(),kP("design:type",Object)],t.prototype,"templates",void 0),(t=OP([kP("design:paramtypes",[])],t)).\u0275fac=function(e){return new(e||t)},t.\u0275cmp=pe({type:t,selectors:[["tree-node-wrapper"]],inputs:{node:"node",index:"index",templates:"templates"},decls:2,vars:8,consts:[["class","node-wrapper",3,"padding-left",4,"ngIf"],[3,"ngTemplateOutlet","ngTemplateOutletContext"],[1,"node-wrapper"],[3,"node",4,"ngIf"],[3,"node"],[1,"node-content-wrapper",3,"treeAllowDrop","allowDragoverStyling","treeDrag","treeDragEnabled","click","dblclick","mouseover","mouseout","contextmenu","treeDrop","treeDropDragOver","treeDropDragLeave","treeDropDragEnter"],[3,"node","index","template"]],template:function(t,e){1&t&&(Is(0,SP,5,15,"div",0),Hs(1,1)),2&t&&(Rs("ngIf",!e.templates.treeNodeWrapperTemplate),vr(1),Rs("ngTemplateOutlet",e.templates.treeNodeWrapperTemplate)("ngTemplateOutletContext",$l(3,PP,e.node,e.node,e.index,e.templates)))},directives:[Eh,Rh,hP,fP,HS,vP,xP],encapsulation:2}),t}(),IP=function(t,e,n,i){var r,o=arguments.length,s=o<3?e:null===i?i=Object.getOwnPropertyDescriptor(e,n):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(t,e,n,i);else for(var a=t.length-1;a>=0;a--)(r=t[a])&&(s=(o<3?r(s):o>3?r(e,n,s):r(e,n))||s);return o>3&&s&&Object.defineProperty(e,n,s),s},AP=function(t,e){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(t,e)},MP=function(){function t(t,e,n){this.renderer=t,this.templateRef=e,this.viewContainerRef=n}return Object.defineProperty(t.prototype,"isOpen",{set:function(t){t?(this._show(),this.isEnabled&&!1===this._isOpen&&this._animateOpen()):this.isEnabled?this._animateClose():this._hide(),this._isOpen=!!t},enumerable:!0,configurable:!0}),t.prototype._show=function(){this.innerElement||(this.innerElement=this.viewContainerRef.createEmbeddedView(this.templateRef).rootNodes[0])},t.prototype._hide=function(){this.viewContainerRef.clear(),this.innerElement=null},t.prototype._animateOpen=function(){var t=this,e=this.animateSpeed,n=this.animateAcceleration,i=0;this.renderer.setStyle(this.innerElement,"max-height","0"),setTimeout((function(){var r=setInterval((function(){if(!t._isOpen||!t.innerElement)return clearInterval(r);var o=Math.round(i+=e);t.renderer.setStyle(t.innerElement,"max-height",o+"px");var s=t.innerElement.getBoundingClientRect?t.innerElement.getBoundingClientRect().height:0;e*=n,n*=1.005,s<o&&(t.renderer.setStyle(t.innerElement,"max-height",null),clearInterval(r))}),17)}))},t.prototype._animateClose=function(){var t=this;if(this.innerElement)var e=this.animateSpeed,n=this.animateAcceleration,i=this.innerElement.getBoundingClientRect().height,r=setInterval((function(){if(t._isOpen||!t.innerElement)return clearInterval(r);t.renderer.setStyle(t.innerElement,"max-height",(i-=e)+"px"),e*=n,n*=1.005,i<=0&&(t.viewContainerRef.clear(),t.innerElement=null,clearInterval(r))}),17)},IP([bc("treeAnimateOpenSpeed"),AP("design:type",Number)],t.prototype,"animateSpeed",void 0),IP([bc("treeAnimateOpenAcceleration"),AP("design:type",Number)],t.prototype,"animateAcceleration",void 0),IP([bc("treeAnimateOpenEnabled"),AP("design:type",Boolean)],t.prototype,"isEnabled",void 0),IP([bc("treeAnimateOpen"),AP("design:type",Boolean),AP("design:paramtypes",[Boolean])],t.prototype,"isOpen",null),(t=IP([AP("design:paramtypes",[tl,bl,Cl])],t)).\u0275fac=function(e){return new(e||t)(Ms(tl),Ms(bl),Ms(Cl))},t.\u0275dir=be({type:t,selectors:[["","treeAnimateOpen",""]],inputs:{isOpen:["treeAnimateOpen","isOpen"],animateSpeed:["treeAnimateOpenSpeed","animateSpeed"],animateAcceleration:["treeAnimateOpenAcceleration","animateAcceleration"],isEnabled:["treeAnimateOpenEnabled","isEnabled"]}}),t}();function DP(t,e){if(1&t&&Ns(0,"tree-node-collection",4),2&t){var n=Ys(3);Rs("nodes",n.node.children)("templates",n.templates)("treeModel",n.node.treeModel)}}function RP(t,e){if(1&t&&Ns(0,"tree-loading-component",5),2&t){var n=Ys(3);ca("padding-left",n.node.getNodePadding()),Rs("template",n.templates.loadingTemplate)("node",n.node)}}function FP(t,e){if(1&t&&(Ls(0,"div"),Is(1,DP,1,3,"tree-node-collection",2),Is(2,RP,1,4,"tree-loading-component",3),Bs()),2&t){var n=Ys(2);ua("tree-children",!0)("tree-children-no-padding",n.node.options.levelPadding),vr(1),Rs("ngIf",n.node.children),vr(1),Rs("ngIf",!n.node.children)}}function LP(t,e){if(1&t&&(js(0),Is(1,FP,3,6,"div",1),zs()),2&t){var n=Ys();vr(1),Rs("treeAnimateOpen",n.node.isExpanded)("treeAnimateOpenSpeed",n.node.options.animateSpeed)("treeAnimateOpenAcceleration",n.node.options.animateAcceleration)("treeAnimateOpenEnabled",n.node.options.animateExpand)}}var BP=function(){return{dontDetach:!0}},NP=function(t,e,n,i){var r,o=arguments.length,s=o<3?e:null===i?i=Object.getOwnPropertyDescriptor(e,n):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(t,e,n,i);else for(var a=t.length-1;a>=0;a--)(r=t[a])&&(s=(o<3?r(s):o>3?r(e,n,s):r(e,n))||s);return o>3&&s&&Object.defineProperty(e,n,s),s},jP=function(t,e){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(t,e)},zP=function(){function t(){}return NP([bc(),jP("design:type",eS)],t.prototype,"node",void 0),NP([bc(),jP("design:type",Object)],t.prototype,"templates",void 0),t.\u0275fac=function(e){return new(e||t)},t.\u0275cmp=pe({type:t,selectors:[["tree-node-children"]],inputs:{node:"node",templates:"templates"},decls:1,vars:2,consts:[[4,"treeMobxAutorun"],[3,"tree-children","tree-children-no-padding",4,"treeAnimateOpen","treeAnimateOpenSpeed","treeAnimateOpenAcceleration","treeAnimateOpenEnabled"],[3,"nodes","templates","treeModel",4,"ngIf"],["class","tree-node-loading",3,"padding-left","template","node",4,"ngIf"],[3,"nodes","templates","treeModel"],[1,"tree-node-loading",3,"template","node"]],template:function(t,e){1&t&&Is(0,LP,2,4,"ng-container",0),2&t&&Rs("treeMobxAutorun",Hl(1,BP))},directives:[ME,MP,Eh,NS,CS],encapsulation:2}),t}();function HP(t,e){if(1&t&&Ns(0,"tree-node-drop-slot",6),2&t){var n=Ys(3);Rs("dropIndex",n.node.index)("node",n.node.parent)}}function VP(t,e){if(1&t&&(Ls(0,"div"),Is(1,HP,1,2,"tree-node-drop-slot",3),Ns(2,"tree-node-wrapper",4),Ns(3,"tree-node-children",5),Ns(4,"tree-node-drop-slot",6),Bs()),2&t){var n=Ys(2);pa(oe,ha,n.node.getClass(),!0),ua("tree-node",!0)("tree-node-expanded",n.node.isExpanded&&n.node.hasChildren)("tree-node-collapsed",n.node.isCollapsed&&n.node.hasChildren)("tree-node-leaf",n.node.isLeaf)("tree-node-active",n.node.isActive)("tree-node-focused",n.node.isFocused),vr(1),Rs("ngIf",0===n.index),vr(1),Rs("node",n.node)("index",n.index)("templates",n.templates),vr(1),Rs("node",n.node)("templates",n.templates),vr(1),Rs("dropIndex",n.node.index+1)("node",n.node.parent)}}var UP=function(t,e,n,i){return{$implicit:t,node:e,index:n,templates:i}};function WP(t,e){if(1&t&&(js(0),Is(1,VP,5,22,"div",1),Hs(2,2),zs()),2&t){var n=Ys();vr(1),Rs("ngIf",!n.templates.treeNodeFullTemplate),vr(1),Rs("ngTemplateOutlet",n.templates.treeNodeFullTemplate)("ngTemplateOutletContext",$l(3,UP,n.node,n.node,n.index,n.templates))}}var $P=function(){return{dontDetach:!0}},GP=function(t,e,n,i){var r,o=arguments.length,s=o<3?e:null===i?i=Object.getOwnPropertyDescriptor(e,n):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(t,e,n,i);else for(var a=t.length-1;a>=0;a--)(r=t[a])&&(s=(o<3?r(s):o>3?r(e,n,s):r(e,n))||s);return o>3&&s&&Object.defineProperty(e,n,s),s},qP=function(t,e){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(t,e)},XP=function(){function t(){}return GP([bc(),qP("design:type",eS)],t.prototype,"node",void 0),GP([bc(),qP("design:type",Number)],t.prototype,"index",void 0),GP([bc(),qP("design:type",Object)],t.prototype,"templates",void 0),t.\u0275fac=function(e){return new(e||t)},t.\u0275cmp=pe({type:t,selectors:[["TreeNode"],["tree-node"]],inputs:{node:"node",index:"index",templates:"templates"},decls:1,vars:2,consts:[[4,"treeMobxAutorun"],[3,"class","tree-node","tree-node-expanded","tree-node-collapsed","tree-node-leaf","tree-node-active","tree-node-focused",4,"ngIf"],[3,"ngTemplateOutlet","ngTemplateOutletContext"],[3,"dropIndex","node",4,"ngIf"],[3,"node","index","templates"],[3,"node","templates"],[3,"dropIndex","node"]],template:function(t,e){1&t&&Is(0,WP,3,8,"ng-container",0),2&t&&Rs("treeMobxAutorun",Hl(1,$P))},directives:[ME,Eh,Rh,TP,zP,WS],encapsulation:2}),t}(),KP=(n("T0zN"),function(){function t(){}var e;return e=t,t.forRoot=function(){return{ngModule:e,providers:[pS]}},t.\u0275mod=_e({type:t}),t.\u0275inj=dt({factory:function(e){return new(e||t)},providers:[],imports:[[rd]]}),fe(NS,[vh,bh,Ch,Eh,Rh,Dh,kh,Th,Ih,Ah,Mh,oP,XP,vP,CS,HS,fP,hP,zP,WS,NS,TS,TP,xP,MP,ME],[zh,Wh,Hh,Kh,id,Zh,Jh,Uh,td,$h,qh,Xh,Yh]),t}());function YP(t,...e){return e.length?e.some(e=>t[e]):t.altKey||t.shiftKey||t.ctrlKey||t.metaKey}function QP(t,e=Fy){return n=>n.lift(new ZP(t,e))}n("yLV6");class ZP{constructor(t,e){this.dueTime=t,this.scheduler=e}call(t,e){return e.subscribe(new JP(t,this.dueTime,this.scheduler))}}class JP extends f{constructor(t,e,n){super(t),this.dueTime=e,this.scheduler=n,this.debouncedSubscription=null,this.lastValue=null,this.hasValue=!1}_next(t){this.clearDebounce(),this.lastValue=t,this.hasValue=!0,this.add(this.debouncedSubscription=this.scheduler.schedule(tO,this.dueTime,this))}_complete(){this.debouncedNext(),this.destination.complete()}debouncedNext(){if(this.clearDebounce(),this.hasValue){const{lastValue:t}=this;this.lastValue=null,this.hasValue=!1,this.destination.next(t)}}clearDebounce(){const t=this.debouncedSubscription;null!==t&&(this.remove(t),t.unsubscribe(),this.debouncedSubscription=null)}}function tO(t){t.debouncedNext()}let eO=(()=>{class t{create(t){return"undefined"==typeof MutationObserver?null:new MutationObserver(t)}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275prov=ht({factory:function(){return new t},token:t,providedIn:"root"}),t})(),nO=(()=>{class t{constructor(t){this._mutationObserverFactory=t,this._observedElements=new Map}ngOnDestroy(){this._observedElements.forEach((t,e)=>this._cleanupObserver(e))}observe(t){const e=py(t);return new _(t=>{const n=this._observeElement(e).subscribe(t);return()=>{n.unsubscribe(),this._unobserveElement(e)}})}_observeElement(t){if(this._observedElements.has(t))this._observedElements.get(t).count++;else{const e=new x,n=this._mutationObserverFactory.create(t=>e.next(t));n&&n.observe(t,{characterData:!0,childList:!0,subtree:!0}),this._observedElements.set(t,{observer:n,stream:e,count:1})}return this._observedElements.get(t).stream}_unobserveElement(t){this._observedElements.has(t)&&(this._observedElements.get(t).count--,this._observedElements.get(t).count||this._cleanupObserver(t))}_cleanupObserver(t){if(this._observedElements.has(t)){const{observer:e,stream:n}=this._observedElements.get(t);e&&e.disconnect(),n.complete(),this._observedElements.delete(t)}}}return t.\u0275fac=function(e){return new(e||t)(Kt(eO))},t.\u0275prov=ht({factory:function(){return new t(Kt(eO))},token:t,providedIn:"root"}),t})(),iO=(()=>{class t{constructor(t,e,n){this._contentObserver=t,this._elementRef=e,this._ngZone=n,this.event=new Yl,this._disabled=!1,this._currentSubscription=null}get disabled(){return this._disabled}set disabled(t){this._disabled=cy(t),this._disabled?this._unsubscribe():this._subscribe()}get debounce(){return this._debounce}set debounce(t){this._debounce=uy(t),this._subscribe()}ngAfterContentInit(){this._currentSubscription||this.disabled||this._subscribe()}ngOnDestroy(){this._unsubscribe()}_subscribe(){this._unsubscribe();const t=this._contentObserver.observe(this._elementRef);this._ngZone.runOutsideAngular(()=>{this._currentSubscription=(this.debounce?t.pipe(QP(this.debounce)):t).subscribe(this.event)})}_unsubscribe(){this._currentSubscription&&this._currentSubscription.unsubscribe()}}return t.\u0275fac=function(e){return new(e||t)(Ms(nO),Ms(Ya),Ms($c))},t.\u0275dir=be({type:t,selectors:[["","cdkObserveContent",""]],inputs:{disabled:["cdkObserveContentDisabled","disabled"],debounce:"debounce"},outputs:{event:"cdkObserveContent"},exportAs:["cdkObserveContent"]}),t})(),rO=(()=>{class t{}return t.\u0275mod=_e({type:t}),t.\u0275inj=dt({factory:function(e){return new(e||t)},providers:[eO]}),t})();function oO(t,e){return(t.getAttribute(e)||"").match(/\S+/g)||[]}let sO=0;const aO=new Map;let lO=null,cO=(()=>{class t{constructor(t){this._document=t}describe(t,e){this._canBeDescribed(t,e)&&("string"!=typeof e?(this._setMessageId(e),aO.set(e,{messageElement:e,referenceCount:0})):aO.has(e)||this._createMessageElement(e),this._isElementDescribedByMessage(t,e)||this._addMessageReference(t,e))}removeDescription(t,e){if(this._isElementNode(t)){if(this._isElementDescribedByMessage(t,e)&&this._removeMessageReference(t,e),"string"==typeof e){const t=aO.get(e);t&&0===t.referenceCount&&this._deleteMessageElement(e)}lO&&0===lO.childNodes.length&&this._deleteMessagesContainer()}}ngOnDestroy(){const t=this._document.querySelectorAll("[cdk-describedby-host]");for(let e=0;e<t.length;e++)this._removeCdkDescribedByReferenceIds(t[e]),t[e].removeAttribute("cdk-describedby-host");lO&&this._deleteMessagesContainer(),aO.clear()}_createMessageElement(t){const e=this._document.createElement("div");this._setMessageId(e),e.textContent=t,this._createMessagesContainer(),lO.appendChild(e),aO.set(t,{messageElement:e,referenceCount:0})}_setMessageId(t){t.id||(t.id=`cdk-describedby-message-${sO++}`)}_deleteMessageElement(t){const e=aO.get(t),n=e&&e.messageElement;lO&&n&&lO.removeChild(n),aO.delete(t)}_createMessagesContainer(){if(!lO){const t=this._document.getElementById("cdk-describedby-message-container");t&&t.parentNode.removeChild(t),lO=this._document.createElement("div"),lO.id="cdk-describedby-message-container",lO.setAttribute("aria-hidden","true"),lO.style.display="none",this._document.body.appendChild(lO)}}_deleteMessagesContainer(){lO&&lO.parentNode&&(lO.parentNode.removeChild(lO),lO=null)}_removeCdkDescribedByReferenceIds(t){const e=oO(t,"aria-describedby").filter(t=>0!=t.indexOf("cdk-describedby-message"));t.setAttribute("aria-describedby",e.join(" "))}_addMessageReference(t,e){const n=aO.get(e);!function(t,e,n){const i=oO(t,e);i.some(t=>t.trim()==n.trim())||(i.push(n.trim()),t.setAttribute(e,i.join(" ")))}(t,"aria-describedby",n.messageElement.id),t.setAttribute("cdk-describedby-host",""),n.referenceCount++}_removeMessageReference(t,e){const n=aO.get(e);n.referenceCount--,function(t,e,n){const i=oO(t,e).filter(t=>t!=n.trim());i.length?t.setAttribute(e,i.join(" ")):t.removeAttribute(e)}(t,"aria-describedby",n.messageElement.id),t.removeAttribute("cdk-describedby-host")}_isElementDescribedByMessage(t,e){const n=oO(t,"aria-describedby"),i=aO.get(e),r=i&&i.messageElement.id;return!!r&&-1!=n.indexOf(r)}_canBeDescribed(t,e){if(!this._isElementNode(t))return!1;if(e&&"object"==typeof e)return!0;const n=null==e?"":`${e}`.trim(),i=t.getAttribute("aria-label");return!(!n||i&&i.trim()===n)}_isElementNode(t){return t.nodeType===this._document.ELEMENT_NODE}}return t.\u0275fac=function(e){return new(e||t)(Kt(vu))},t.\u0275prov=ht({factory:function(){return new t(Kt(vu))},token:t,providedIn:"root"}),t})();class uO{constructor(t){this._items=t,this._activeItemIndex=-1,this._activeItem=null,this._wrap=!1,this._letterKeyStream=new x,this._typeaheadSubscription=h.EMPTY,this._vertical=!0,this._allowedModifierKeys=[],this._skipPredicateFn=t=>t.disabled,this._pressedLetters=[],this.tabOut=new x,this.change=new x,t instanceof Zl&&t.changes.subscribe(t=>{if(this._activeItem){const e=t.toArray().indexOf(this._activeItem);e>-1&&e!==this._activeItemIndex&&(this._activeItemIndex=e)}})}skipPredicate(t){return this._skipPredicateFn=t,this}withWrap(t=!0){return this._wrap=t,this}withVerticalOrientation(t=!0){return this._vertical=t,this}withHorizontalOrientation(t){return this._horizontal=t,this}withAllowedModifierKeys(t){return this._allowedModifierKeys=t,this}withTypeAhead(t=200){if(this._items.length&&this._items.some(t=>"function"!=typeof t.getLabel))throw Error("ListKeyManager items in typeahead mode must implement the `getLabel` method.");return this._typeaheadSubscription.unsubscribe(),this._typeaheadSubscription=this._letterKeyStream.pipe($_(t=>this._pressedLetters.push(t)),QP(t),Vy(()=>this._pressedLetters.length>0),F(()=>this._pressedLetters.join(""))).subscribe(t=>{const e=this._getItemsArray();for(let n=1;n<e.length+1;n++){const i=(this._activeItemIndex+n)%e.length,r=e[i];if(!this._skipPredicateFn(r)&&0===r.getLabel().toUpperCase().trim().indexOf(t)){this.setActiveItem(i);break}}this._pressedLetters=[]}),this}setActiveItem(t){const e=this._activeItemIndex;this.updateActiveItem(t),this._activeItemIndex!==e&&this.change.next(this._activeItemIndex)}onKeydown(t){const e=t.keyCode,n=["altKey","ctrlKey","metaKey","shiftKey"].every(e=>!t[e]||this._allowedModifierKeys.indexOf(e)>-1);switch(e){case 9:return void this.tabOut.next();case 40:if(this._vertical&&n){this.setNextItemActive();break}return;case 38:if(this._vertical&&n){this.setPreviousItemActive();break}return;case 39:if(this._horizontal&&n){"rtl"===this._horizontal?this.setPreviousItemActive():this.setNextItemActive();break}return;case 37:if(this._horizontal&&n){"rtl"===this._horizontal?this.setNextItemActive():this.setPreviousItemActive();break}return;default:return void((n||YP(t,"shiftKey"))&&(t.key&&1===t.key.length?this._letterKeyStream.next(t.key.toLocaleUpperCase()):(e>=65&&e<=90||e>=48&&e<=57)&&this._letterKeyStream.next(String.fromCharCode(e))))}this._pressedLetters=[],t.preventDefault()}get activeItemIndex(){return this._activeItemIndex}get activeItem(){return this._activeItem}isTyping(){return this._pressedLetters.length>0}setFirstItemActive(){this._setActiveItemByIndex(0,1)}setLastItemActive(){this._setActiveItemByIndex(this._items.length-1,-1)}setNextItemActive(){this._activeItemIndex<0?this.setFirstItemActive():this._setActiveItemByDelta(1)}setPreviousItemActive(){this._activeItemIndex<0&&this._wrap?this.setLastItemActive():this._setActiveItemByDelta(-1)}updateActiveItem(t){const e=this._getItemsArray(),n="number"==typeof t?t:e.indexOf(t),i=e[n];this._activeItem=null==i?null:i,this._activeItemIndex=n}_setActiveItemByDelta(t){this._wrap?this._setActiveInWrapMode(t):this._setActiveInDefaultMode(t)}_setActiveInWrapMode(t){const e=this._getItemsArray();for(let n=1;n<=e.length;n++){const i=(this._activeItemIndex+t*n+e.length)%e.length;if(!this._skipPredicateFn(e[i]))return void this.setActiveItem(i)}}_setActiveInDefaultMode(t){this._setActiveItemByIndex(this._activeItemIndex+t,t)}_setActiveItemByIndex(t,e){const n=this._getItemsArray();if(n[t]){for(;this._skipPredicateFn(n[t]);)if(!n[t+=e])return;this.setActiveItem(t)}}_getItemsArray(){return this._items instanceof Zl?this._items.toArray():this._items}}class hO extends uO{setActiveItem(t){this.activeItem&&this.activeItem.setInactiveStyles(),super.setActiveItem(t),this.activeItem&&this.activeItem.setActiveStyles()}}class dO extends uO{constructor(){super(...arguments),this._origin="program"}setFocusOrigin(t){return this._origin=t,this}setActiveItem(t){super.setActiveItem(t),this.activeItem&&this.activeItem.focus(this._origin)}}let pO=(()=>{class t{constructor(t){this._platform=t}isDisabled(t){return t.hasAttribute("disabled")}isVisible(t){return function(t){return!!(t.offsetWidth||t.offsetHeight||"function"==typeof t.getClientRects&&t.getClientRects().length)}(t)&&"visible"===getComputedStyle(t).visibility}isTabbable(t){if(!this._platform.isBrowser)return!1;const e=function(t){try{return t.frameElement}catch(tit){return null}}((n=t).ownerDocument&&n.ownerDocument.defaultView||window);var n;if(e){const t=e&&e.nodeName.toLowerCase();if(-1===mO(e))return!1;if((this._platform.BLINK||this._platform.WEBKIT)&&"object"===t)return!1;if((this._platform.BLINK||this._platform.WEBKIT)&&!this.isVisible(e))return!1}let i=t.nodeName.toLowerCase(),r=mO(t);if(t.hasAttribute("contenteditable"))return-1!==r;if("iframe"===i)return!1;if("audio"===i){if(!t.hasAttribute("controls"))return!1;if(this._platform.BLINK)return!0}if("video"===i){if(!t.hasAttribute("controls")&&this._platform.TRIDENT)return!1;if(this._platform.BLINK||this._platform.FIREFOX)return!0}return("object"!==i||!this._platform.BLINK&&!this._platform.WEBKIT)&&!(this._platform.WEBKIT&&this._platform.IOS&&!function(t){let e=t.nodeName.toLowerCase(),n="input"===e&&t.type;return"text"===n||"password"===n||"select"===e||"textarea"===e}(t))&&t.tabIndex>=0}isFocusable(t){return function(t){return!function(t){return function(t){return"input"==t.nodeName.toLowerCase()}(t)&&"hidden"==t.type}(t)&&(function(t){let e=t.nodeName.toLowerCase();return"input"===e||"select"===e||"button"===e||"textarea"===e}(t)||function(t){return function(t){return"a"==t.nodeName.toLowerCase()}(t)&&t.hasAttribute("href")}(t)||t.hasAttribute("contenteditable")||fO(t))}(t)&&!this.isDisabled(t)&&this.isVisible(t)}}return t.\u0275fac=function(e){return new(e||t)(Kt(y_))},t.\u0275prov=ht({factory:function(){return new t(Kt(y_))},token:t,providedIn:"root"}),t})();function fO(t){if(!t.hasAttribute("tabindex")||void 0===t.tabIndex)return!1;let e=t.getAttribute("tabindex");return"-32768"!=e&&!(!e||isNaN(parseInt(e,10)))}function mO(t){if(!fO(t))return null;const e=parseInt(t.getAttribute("tabindex")||"",10);return isNaN(e)?-1:e}class gO{constructor(t,e,n,i,r=!1){this._element=t,this._checker=e,this._ngZone=n,this._document=i,this._hasAttached=!1,this.startAnchorListener=()=>this.focusLastTabbableElement(),this.endAnchorListener=()=>this.focusFirstTabbableElement(),this._enabled=!0,r||this.attachAnchors()}get enabled(){return this._enabled}set enabled(t){this._enabled=t,this._startAnchor&&this._endAnchor&&(this._toggleAnchorTabIndex(t,this._startAnchor),this._toggleAnchorTabIndex(t,this._endAnchor))}destroy(){const t=this._startAnchor,e=this._endAnchor;t&&(t.removeEventListener("focus",this.startAnchorListener),t.parentNode&&t.parentNode.removeChild(t)),e&&(e.removeEventListener("focus",this.endAnchorListener),e.parentNode&&e.parentNode.removeChild(e)),this._startAnchor=this._endAnchor=null}attachAnchors(){return!!this._hasAttached||(this._ngZone.runOutsideAngular(()=>{this._startAnchor||(this._startAnchor=this._createAnchor(),this._startAnchor.addEventListener("focus",this.startAnchorListener)),this._endAnchor||(this._endAnchor=this._createAnchor(),this._endAnchor.addEventListener("focus",this.endAnchorListener))}),this._element.parentNode&&(this._element.parentNode.insertBefore(this._startAnchor,this._element),this._element.parentNode.insertBefore(this._endAnchor,this._element.nextSibling),this._hasAttached=!0),this._hasAttached)}focusInitialElementWhenReady(){return new Promise(t=>{this._executeOnStable(()=>t(this.focusInitialElement()))})}focusFirstTabbableElementWhenReady(){return new Promise(t=>{this._executeOnStable(()=>t(this.focusFirstTabbableElement()))})}focusLastTabbableElementWhenReady(){return new Promise(t=>{this._executeOnStable(()=>t(this.focusLastTabbableElement()))})}_getRegionBoundary(t){let e=this._element.querySelectorAll(`[cdk-focus-region-${t}], `+`[cdkFocusRegion${t}], `+`[cdk-focus-${t}]`);for(let n=0;n<e.length;n++)e[n].hasAttribute(`cdk-focus-${t}`)?console.warn(`Found use of deprecated attribute 'cdk-focus-${t}', `+`use 'cdkFocusRegion${t}' instead. The deprecated `+"attribute will be removed in 8.0.0.",e[n]):e[n].hasAttribute(`cdk-focus-region-${t}`)&&console.warn(`Found use of deprecated attribute 'cdk-focus-region-${t}', `+`use 'cdkFocusRegion${t}' instead. The deprecated attribute `+"will be removed in 8.0.0.",e[n]);return"start"==t?e.length?e[0]:this._getFirstTabbableElement(this._element):e.length?e[e.length-1]:this._getLastTabbableElement(this._element)}focusInitialElement(){const t=this._element.querySelector("[cdk-focus-initial], [cdkFocusInitial]");return t?(t.hasAttribute("cdk-focus-initial")&&console.warn("Found use of deprecated attribute 'cdk-focus-initial', use 'cdkFocusInitial' instead. The deprecated attribute will be removed in 8.0.0",t),Pi()&&!this._checker.isFocusable(t)&&console.warn("Element matching '[cdkFocusInitial]' is not focusable.",t),t.focus(),!0):this.focusFirstTabbableElement()}focusFirstTabbableElement(){const t=this._getRegionBoundary("start");return t&&t.focus(),!!t}focusLastTabbableElement(){const t=this._getRegionBoundary("end");return t&&t.focus(),!!t}hasAttached(){return this._hasAttached}_getFirstTabbableElement(t){if(this._checker.isFocusable(t)&&this._checker.isTabbable(t))return t;let e=t.children||t.childNodes;for(let n=0;n<e.length;n++){let t=e[n].nodeType===this._document.ELEMENT_NODE?this._getFirstTabbableElement(e[n]):null;if(t)return t}return null}_getLastTabbableElement(t){if(this._checker.isFocusable(t)&&this._checker.isTabbable(t))return t;let e=t.children||t.childNodes;for(let n=e.length-1;n>=0;n--){let t=e[n].nodeType===this._document.ELEMENT_NODE?this._getLastTabbableElement(e[n]):null;if(t)return t}return null}_createAnchor(){const t=this._document.createElement("div");return this._toggleAnchorTabIndex(this._enabled,t),t.classList.add("cdk-visually-hidden"),t.classList.add("cdk-focus-trap-anchor"),t.setAttribute("aria-hidden","true"),t}_toggleAnchorTabIndex(t,e){t?e.setAttribute("tabindex","0"):e.removeAttribute("tabindex")}toggleAnchors(t){this._startAnchor&&this._endAnchor&&(this._toggleAnchorTabIndex(t,this._startAnchor),this._toggleAnchorTabIndex(t,this._endAnchor))}_executeOnStable(t){this._ngZone.isStable?t():this._ngZone.onStable.asObservable().pipe(H_(1)).subscribe(t)}}let yO=(()=>{class t{constructor(t,e,n){this._checker=t,this._ngZone=e,this._document=n}create(t,e=!1){return new gO(t,this._checker,this._ngZone,this._document,e)}}return t.\u0275fac=function(e){return new(e||t)(Kt(pO),Kt($c),Kt(vu))},t.\u0275prov=ht({factory:function(){return new t(Kt(pO),Kt($c),Kt(vu))},token:t,providedIn:"root"}),t})();"undefined"!=typeof Element&&Element;const _O=new jt("liveAnnouncerElement",{providedIn:"root",factory:function(){return null}}),vO=new jt("LIVE_ANNOUNCER_DEFAULT_OPTIONS");let bO=(()=>{class t{constructor(t,e,n,i){this._ngZone=e,this._defaultOptions=i,this._document=n,this._liveElement=t||this._createLiveElement()}announce(t,...e){const n=this._defaultOptions;let i,r;return 1===e.length&&"number"==typeof e[0]?r=e[0]:[i,r]=e,this.clear(),clearTimeout(this._previousTimeout),i||(i=n&&n.politeness?n.politeness:"polite"),null==r&&n&&(r=n.duration),this._liveElement.setAttribute("aria-live",i),this._ngZone.runOutsideAngular(()=>new Promise(e=>{clearTimeout(this._previousTimeout),this._previousTimeout=setTimeout(()=>{this._liveElement.textContent=t,e(),"number"==typeof r&&(this._previousTimeout=setTimeout(()=>this.clear(),r))},100)}))}clear(){this._liveElement&&(this._liveElement.textContent="")}ngOnDestroy(){clearTimeout(this._previousTimeout),this._liveElement&&this._liveElement.parentNode&&(this._liveElement.parentNode.removeChild(this._liveElement),this._liveElement=null)}_createLiveElement(){const t=this._document.getElementsByClassName("cdk-live-announcer-element"),e=this._document.createElement("div");for(let n=0;n<t.length;n++)t[n].parentNode.removeChild(t[n]);return e.classList.add("cdk-live-announcer-element"),e.classList.add("cdk-visually-hidden"),e.setAttribute("aria-atomic","true"),e.setAttribute("aria-live","polite"),this._document.body.appendChild(e),e}}return t.\u0275fac=function(e){return new(e||t)(Kt(_O,8),Kt($c),Kt(vu),Kt(vO,8))},t.\u0275prov=ht({factory:function(){return new t(Kt(_O,8),Kt($c),Kt(vu),Kt(vO,8))},token:t,providedIn:"root"}),t})();function wO(t){return 0===t.buttons}const CO=new jt("cdk-focus-monitor-default-options"),xO=E_({passive:!0,capture:!0});let EO=(()=>{class t{constructor(t,e,n,i){this._ngZone=t,this._platform=e,this._origin=null,this._windowFocused=!1,this._elementInfo=new Map,this._monitoredElementCount=0,this._rootNodeFocusListenerCount=new Map,this._documentKeydownListener=()=>{this._lastTouchTarget=null,this._setOriginForCurrentEventQueue("keyboard")},this._documentMousedownListener=t=>{if(!this._lastTouchTarget){const e=wO(t)?"keyboard":"mouse";this._setOriginForCurrentEventQueue(e)}},this._documentTouchstartListener=t=>{null!=this._touchTimeoutId&&clearTimeout(this._touchTimeoutId),this._lastTouchTarget=SO(t),this._touchTimeoutId=setTimeout(()=>this._lastTouchTarget=null,650)},this._windowFocusListener=()=>{this._windowFocused=!0,this._windowFocusTimeoutId=setTimeout(()=>this._windowFocused=!1)},this._rootNodeFocusAndBlurListener=t=>{const e=SO(t),n="focus"===t.type?this._onFocus:this._onBlur;for(let i=e;i;i=i.parentElement)n.call(this,t,i)},this._document=n,this._detectionMode=(null==i?void 0:i.detectionMode)||0}monitor(t,e=!1){if(!this._platform.isBrowser)return fy(null);const n=py(t),i=P_(n)||this._getDocument();if(this._elementInfo.has(n)){const t=this._elementInfo.get(n);return t.checkChildren=e,t.subject.asObservable()}const r={checkChildren:e,subject:new x,rootNode:i};return this._elementInfo.set(n,r),this._registerGlobalListeners(r),r.subject.asObservable()}stopMonitoring(t){const e=py(t),n=this._elementInfo.get(e);n&&(n.subject.complete(),this._setClasses(e),this._elementInfo.delete(e),this._removeGlobalListeners(n))}focusVia(t,e,n){const i=py(t);this._setOriginForCurrentEventQueue(e),"function"==typeof i.focus&&i.focus(n)}ngOnDestroy(){this._elementInfo.forEach((t,e)=>this.stopMonitoring(e))}_getDocument(){return this._document||document}_getWindow(){return this._getDocument().defaultView||window}_toggleClass(t,e,n){n?t.classList.add(e):t.classList.remove(e)}_getFocusOrigin(t){return this._origin?this._origin:this._windowFocused&&this._lastFocusOrigin?this._lastFocusOrigin:this._wasCausedByTouch(t)?"touch":"program"}_setClasses(t,e){this._toggleClass(t,"cdk-focused",!!e),this._toggleClass(t,"cdk-touch-focused","touch"===e),this._toggleClass(t,"cdk-keyboard-focused","keyboard"===e),this._toggleClass(t,"cdk-mouse-focused","mouse"===e),this._toggleClass(t,"cdk-program-focused","program"===e)}_setOriginForCurrentEventQueue(t){this._ngZone.runOutsideAngular(()=>{this._origin=t,0===this._detectionMode&&(this._originTimeoutId=setTimeout(()=>this._origin=null,1))})}_wasCausedByTouch(t){const e=SO(t);return this._lastTouchTarget instanceof Node&&e instanceof Node&&(e===this._lastTouchTarget||e.contains(this._lastTouchTarget))}_onFocus(t,e){const n=this._elementInfo.get(e);if(!n||!n.checkChildren&&e!==SO(t))return;const i=this._getFocusOrigin(t);this._setClasses(e,i),this._emitOrigin(n.subject,i),this._lastFocusOrigin=i}_onBlur(t,e){const n=this._elementInfo.get(e);!n||n.checkChildren&&t.relatedTarget instanceof Node&&e.contains(t.relatedTarget)||(this._setClasses(e),this._emitOrigin(n.subject,null))}_emitOrigin(t,e){this._ngZone.run(()=>t.next(e))}_registerGlobalListeners(t){if(!this._platform.isBrowser)return;const e=t.rootNode,n=this._rootNodeFocusListenerCount.get(e)||0;n||this._ngZone.runOutsideAngular(()=>{e.addEventListener("focus",this._rootNodeFocusAndBlurListener,xO),e.addEventListener("blur",this._rootNodeFocusAndBlurListener,xO)}),this._rootNodeFocusListenerCount.set(e,n+1),1==++this._monitoredElementCount&&this._ngZone.runOutsideAngular(()=>{const t=this._getDocument(),e=this._getWindow();t.addEventListener("keydown",this._documentKeydownListener,xO),t.addEventListener("mousedown",this._documentMousedownListener,xO),t.addEventListener("touchstart",this._documentTouchstartListener,xO),e.addEventListener("focus",this._windowFocusListener)})}_removeGlobalListeners(t){const e=t.rootNode;if(this._rootNodeFocusListenerCount.has(e)){const t=this._rootNodeFocusListenerCount.get(e);t>1?this._rootNodeFocusListenerCount.set(e,t-1):(e.removeEventListener("focus",this._rootNodeFocusAndBlurListener,xO),e.removeEventListener("blur",this._rootNodeFocusAndBlurListener,xO),this._rootNodeFocusListenerCount.delete(e))}if(!--this._monitoredElementCount){const t=this._getDocument(),e=this._getWindow();t.removeEventListener("keydown",this._documentKeydownListener,xO),t.removeEventListener("mousedown",this._documentMousedownListener,xO),t.removeEventListener("touchstart",this._documentTouchstartListener,xO),e.removeEventListener("focus",this._windowFocusListener),clearTimeout(this._windowFocusTimeoutId),clearTimeout(this._touchTimeoutId),clearTimeout(this._originTimeoutId)}}}return t.\u0275fac=function(e){return new(e||t)(Kt($c),Kt(y_),Kt(vu,8),Kt(CO,8))},t.\u0275prov=ht({factory:function(){return new t(Kt($c),Kt(y_),Kt(vu,8),Kt(CO,8))},token:t,providedIn:"root"}),t})();function SO(t){return t.composedPath?t.composedPath()[0]:t.target}let PO=(()=>{class t{constructor(t,e){this._elementRef=t,this._focusMonitor=e,this.cdkFocusChange=new Yl,this._monitorSubscription=this._focusMonitor.monitor(this._elementRef,this._elementRef.nativeElement.hasAttribute("cdkMonitorSubtreeFocus")).subscribe(t=>this.cdkFocusChange.emit(t))}ngOnDestroy(){this._focusMonitor.stopMonitoring(this._elementRef),this._monitorSubscription.unsubscribe()}}return t.\u0275fac=function(e){return new(e||t)(Ms(Ya),Ms(EO))},t.\u0275dir=be({type:t,selectors:[["","cdkMonitorElementFocus",""],["","cdkMonitorSubtreeFocus",""]],outputs:{cdkFocusChange:"cdkFocusChange"}}),t})(),OO=(()=>{class t{constructor(t,e){this._platform=t,this._document=e}getHighContrastMode(){if(!this._platform.isBrowser)return 0;const t=this._document.createElement("div");t.style.backgroundColor="rgb(1,2,3)",t.style.position="absolute",this._document.body.appendChild(t);const e=this._document.defaultView||window,n=e&&e.getComputedStyle?e.getComputedStyle(t):null,i=(n&&n.backgroundColor||"").replace(/ /g,"");switch(this._document.body.removeChild(t),i){case"rgb(0,0,0)":return 2;case"rgb(255,255,255)":return 1}return 0}_applyBodyHighContrastModeCssClasses(){if(this._platform.isBrowser&&this._document.body){const t=this._document.body.classList;t.remove("cdk-high-contrast-active"),t.remove("cdk-high-contrast-black-on-white"),t.remove("cdk-high-contrast-white-on-black");const e=this.getHighContrastMode();1===e?(t.add("cdk-high-contrast-active"),t.add("cdk-high-contrast-black-on-white")):2===e&&(t.add("cdk-high-contrast-active"),t.add("cdk-high-contrast-white-on-black"))}}}return t.\u0275fac=function(e){return new(e||t)(Kt(y_),Kt(vu))},t.\u0275prov=ht({factory:function(){return new t(Kt(y_),Kt(vu))},token:t,providedIn:"root"}),t})(),kO=(()=>{class t{constructor(t){t._applyBodyHighContrastModeCssClasses()}}return t.\u0275mod=_e({type:t}),t.\u0275inj=dt({factory:function(e){return new(e||t)(Kt(OO))},imports:[[__,rO]]}),t})();function TO(t,e=Fy){var n;const i=(n=t)instanceof Date&&!isNaN(+n)?+t-e.now():Math.abs(t);return t=>t.lift(new IO(i,e))}class IO{constructor(t,e){this.delay=t,this.scheduler=e}call(t,e){return e.subscribe(new AO(t,this.delay,this.scheduler))}}class AO extends f{constructor(t,e,n){super(t),this.delay=e,this.scheduler=n,this.queue=[],this.active=!1,this.errored=!1}static dispatch(t){const e=t.source,n=e.queue,i=t.scheduler,r=t.destination;for(;n.length>0&&n[0].time-i.now()<=0;)n.shift().notification.observe(r);if(n.length>0){const e=Math.max(0,n[0].time-i.now());this.schedule(t,e)}else this.unsubscribe(),e.active=!1}_schedule(t){this.active=!0,this.destination.add(t.schedule(AO.dispatch,this.delay,{source:this,destination:this.destination,scheduler:t}))}scheduleNotification(t){if(!0===this.errored)return;const e=this.scheduler,n=new MO(e.now()+this.delay,t);this.queue.push(n),!1===this.active&&this._schedule(e)}_next(t){this.scheduleNotification(c_.createNext(t))}_error(t){this.errored=!0,this.queue=[],this.destination.error(t),this.unsubscribe()}_complete(){this.scheduleNotification(c_.createComplete()),this.unsubscribe()}}class MO{constructor(t,e){this.time=t,this.notification=e}}function DO(){throw Error("Host already has a portal attached")}class RO{attach(t){return null==t&&function(){throw Error("Attempting to attach a portal to a null PortalOutlet")}(),t.hasAttached()&&DO(),this._attachedHost=t,t.attach(this)}detach(){let t=this._attachedHost;null==t?function(){throw Error("Attempting to detach a portal that is not attached to a host")}():(this._attachedHost=null,t.detach())}get isAttached(){return null!=this._attachedHost}setAttachedHost(t){this._attachedHost=t}}class FO extends RO{constructor(t,e,n,i){super(),this.component=t,this.viewContainerRef=e,this.injector=n,this.componentFactoryResolver=i}}class LO extends RO{constructor(t,e,n){super(),this.templateRef=t,this.viewContainerRef=e,this.context=n}get origin(){return this.templateRef.elementRef}attach(t,e=this.context){return this.context=e,super.attach(t)}detach(){return this.context=void 0,super.detach()}}class BO extends RO{constructor(t){super(),this.element=t instanceof Ya?t.nativeElement:t}}class NO{constructor(){this._isDisposed=!1,this.attachDomPortal=null}hasAttached(){return!!this._attachedPortal}attach(t){return t||function(){throw Error("Must provide a portal to attach")}(),this.hasAttached()&&DO(),this._isDisposed&&function(){throw Error("This PortalOutlet has already been disposed")}(),t instanceof FO?(this._attachedPortal=t,this.attachComponentPortal(t)):t instanceof LO?(this._attachedPortal=t,this.attachTemplatePortal(t)):this.attachDomPortal&&t instanceof BO?(this._attachedPortal=t,this.attachDomPortal(t)):void function(){throw Error("Attempting to attach an unknown Portal type. BasePortalOutlet accepts either a ComponentPortal or a TemplatePortal.")}()}detach(){this._attachedPortal&&(this._attachedPortal.setAttachedHost(null),this._attachedPortal=null),this._invokeDisposeFn()}dispose(){this.hasAttached()&&this.detach(),this._invokeDisposeFn(),this._isDisposed=!0}setDisposeFn(t){this._disposeFn=t}_invokeDisposeFn(){this._disposeFn&&(this._disposeFn(),this._disposeFn=null)}}class jO extends NO{constructor(t,e,n,i,r){super(),this.outletElement=t,this._componentFactoryResolver=e,this._appRef=n,this._defaultInjector=i,this.attachDomPortal=t=>{if(!this._document)throw Error("Cannot attach DOM portal without _document constructor parameter");const e=t.element;if(!e.parentNode)throw Error("DOM portal content must be attached to a parent node.");const n=this._document.createComment("dom-portal");e.parentNode.insertBefore(n,e),this.outletElement.appendChild(e),super.setDisposeFn(()=>{n.parentNode&&n.parentNode.replaceChild(e,n)})},this._document=r}attachComponentPortal(t){const e=(t.componentFactoryResolver||this._componentFactoryResolver).resolveComponentFactory(t.component);let n;return t.viewContainerRef?(n=t.viewContainerRef.createComponent(e,t.viewContainerRef.length,t.injector||t.viewContainerRef.injector),this.setDisposeFn(()=>n.destroy())):(n=e.create(t.injector||this._defaultInjector),this._appRef.attachView(n.hostView),this.setDisposeFn(()=>{this._appRef.detachView(n.hostView),n.destroy()})),this.outletElement.appendChild(this._getComponentRootNode(n)),n}attachTemplatePortal(t){let e=t.viewContainerRef,n=e.createEmbeddedView(t.templateRef,t.context);return n.detectChanges(),n.rootNodes.forEach(t=>this.outletElement.appendChild(t)),this.setDisposeFn(()=>{let t=e.indexOf(n);-1!==t&&e.remove(t)}),n}dispose(){super.dispose(),null!=this.outletElement.parentNode&&this.outletElement.parentNode.removeChild(this.outletElement)}_getComponentRootNode(t){return t.hostView.rootNodes[0]}}let zO=(()=>{class t extends LO{constructor(t,e){super(t,e)}}return t.\u0275fac=function(e){return new(e||t)(Ms(bl),Ms(Cl))},t.\u0275dir=be({type:t,selectors:[["","cdkPortal",""]],exportAs:["cdkPortal"],features:[Ia]}),t})(),HO=(()=>{class t extends NO{constructor(t,e,n){super(),this._componentFactoryResolver=t,this._viewContainerRef=e,this._isInitialized=!1,this.attached=new Yl,this.attachDomPortal=t=>{if(!this._document)throw Error("Cannot attach DOM portal without _document constructor parameter");const e=t.element;if(!e.parentNode)throw Error("DOM portal content must be attached to a parent node.");const n=this._document.createComment("dom-portal");t.setAttachedHost(this),e.parentNode.insertBefore(n,e),this._getRootNode().appendChild(e),super.setDisposeFn(()=>{n.parentNode&&n.parentNode.replaceChild(e,n)})},this._document=n}get portal(){return this._attachedPortal}set portal(t){(!this.hasAttached()||t||this._isInitialized)&&(this.hasAttached()&&super.detach(),t&&super.attach(t),this._attachedPortal=t)}get attachedRef(){return this._attachedRef}ngOnInit(){this._isInitialized=!0}ngOnDestroy(){super.dispose(),this._attachedPortal=null,this._attachedRef=null}attachComponentPortal(t){t.setAttachedHost(this);const e=null!=t.viewContainerRef?t.viewContainerRef:this._viewContainerRef,n=(t.componentFactoryResolver||this._componentFactoryResolver).resolveComponentFactory(t.component),i=e.createComponent(n,e.length,t.injector||e.injector);return e!==this._viewContainerRef&&this._getRootNode().appendChild(i.hostView.rootNodes[0]),super.setDisposeFn(()=>i.destroy()),this._attachedPortal=t,this._attachedRef=i,this.attached.emit(i),i}attachTemplatePortal(t){t.setAttachedHost(this);const e=this._viewContainerRef.createEmbeddedView(t.templateRef,t.context);return super.setDisposeFn(()=>this._viewContainerRef.clear()),this._attachedPortal=t,this._attachedRef=e,this.attached.emit(e),e}_getRootNode(){const t=this._viewContainerRef.element.nativeElement;return t.nodeType===t.ELEMENT_NODE?t:t.parentNode}}return t.\u0275fac=function(e){return new(e||t)(Ms(Ka),Ms(Cl),Ms(vu))},t.\u0275dir=be({type:t,selectors:[["","cdkPortalOutlet",""]],inputs:{portal:["cdkPortalOutlet","portal"]},outputs:{attached:"attached"},exportAs:["cdkPortalOutlet"],features:[Ia]}),t})(),VO=(()=>{class t extends HO{}return t.\u0275fac=function(e){return UO(e||t)},t.\u0275dir=be({type:t,selectors:[["","cdkPortalHost",""],["","portalHost",""]],inputs:{portal:["cdkPortalHost","portal"]},exportAs:["cdkPortalHost"],features:[Ga([{provide:HO,useExisting:t}]),Ia]}),t})();const UO=ui(VO);let WO=(()=>{class t{}return t.\u0275mod=_e({type:t}),t.\u0275inj=dt({factory:function(e){return new(e||t)}}),t})();const $O=new il("9.2.3"),GO=["*",[["mat-option"],["ng-container"]]],qO=["*","mat-option, ng-container"];function XO(t,e){if(1&t&&Ns(0,"mat-pseudo-checkbox",3),2&t){const t=Ys();Rs("state",t.selected?"checked":"unchecked")("disabled",t.disabled)}}const KO=["*"],YO=new il("9.2.4"),QO=new jt("mat-sanity-checks",{providedIn:"root",factory:function(){return!0}});let ZO,JO=(()=>{class t{constructor(t,e,n){this._hasDoneGlobalChecks=!1,this._document=n,t._applyBodyHighContrastModeCssClasses(),this._sanityChecks=e,this._hasDoneGlobalChecks||(this._checkDoctypeIsDefined(),this._checkThemeIsPresent(),this._checkCdkVersionMatch(),this._hasDoneGlobalChecks=!0)}_getDocument(){const t=this._document||document;return"object"==typeof t&&t?t:null}_getWindow(){const t=this._getDocument(),e=(null==t?void 0:t.defaultView)||window;return"object"==typeof e&&e?e:null}_checksAreEnabled(){return Pi()&&!this._isTestEnv()}_isTestEnv(){const t=this._getWindow();return t&&(t.__karma__||t.jasmine)}_checkDoctypeIsDefined(){const t=this._checksAreEnabled()&&(!0===this._sanityChecks||this._sanityChecks.doctype),e=this._getDocument();t&&e&&!e.doctype&&console.warn("Current document does not have a doctype. This may cause some Angular Material components not to behave as expected.")}_checkThemeIsPresent(){const t=!this._checksAreEnabled()||!1===this._sanityChecks||!this._sanityChecks.theme,e=this._getDocument();if(t||!e||!e.body||"function"!=typeof getComputedStyle)return;const n=e.createElement("div");n.classList.add("mat-theme-loaded-marker"),e.body.appendChild(n);const i=getComputedStyle(n);i&&"none"!==i.display&&console.warn("Could not find Angular Material core theme. Most Material components may not work as expected. For more info refer to the theming guide: https://material.angular.io/guide/theming"),e.body.removeChild(n)}_checkCdkVersionMatch(){this._checksAreEnabled()&&(!0===this._sanityChecks||this._sanityChecks.version)&&YO.full!==$O.full&&console.warn("The Angular Material version ("+YO.full+") does not match the Angular CDK version ("+$O.full+").\nPlease ensure the versions of these two packages exactly match.")}}return t.\u0275mod=_e({type:t}),t.\u0275inj=dt({factory:function(e){return new(e||t)(Kt(OO),Kt(QO,8),Kt(vu,8))},imports:[[I_],I_]}),t})();function tk(t){return class extends t{constructor(...t){super(...t),this._disabled=!1}get disabled(){return this._disabled}set disabled(t){this._disabled=cy(t)}}}function ek(t,e){return class extends t{constructor(...t){super(...t),this.color=e}get color(){return this._color}set color(t){const n=t||e;n!==this._color&&(this._color&&this._elementRef.nativeElement.classList.remove(`mat-${this._color}`),n&&this._elementRef.nativeElement.classList.add(`mat-${n}`),this._color=n)}}}function nk(t){return class extends t{constructor(...t){super(...t),this._disableRipple=!1}get disableRipple(){return this._disableRipple}set disableRipple(t){this._disableRipple=cy(t)}}}function ik(t,e=0){return class extends t{constructor(...t){super(...t),this._tabIndex=e}get tabIndex(){return this.disabled?-1:this._tabIndex}set tabIndex(t){this._tabIndex=null!=t?t:e}}}function rk(t){return class extends t{constructor(...t){super(...t),this.errorState=!1,this.stateChanges=new x}updateErrorState(){const t=this.errorState,e=(this.errorStateMatcher||this._defaultErrorStateMatcher).isErrorState(this.ngControl?this.ngControl.control:null,this._parentFormGroup||this._parentForm);e!==t&&(this.errorState=e,this.stateChanges.next())}}}try{ZO="undefined"!=typeof Intl}catch(tit){ZO=!1}let ok=(()=>{class t{isErrorState(t,e){return!!(t&&t.invalid&&(t.touched||e&&e.submitted))}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275prov=ht({factory:function(){return new t},token:t,providedIn:"root"}),t})(),sk=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275dir=be({type:t,selectors:[["","mat-line",""],["","matLine",""]],hostAttrs:[1,"mat-line"]}),t})();function ak(t,e,n="mat"){t.changes.pipe(Ky(t)).subscribe(({length:t})=>{lk(e,`${n}-2-line`,!1),lk(e,`${n}-3-line`,!1),lk(e,`${n}-multi-line`,!1),2===t||3===t?lk(e,`${n}-${t}-line`,!0):t>3&&lk(e,`${n}-multi-line`,!0)})}function lk(t,e,n){const i=t.nativeElement.classList;n?i.add(e):i.remove(e)}let ck=(()=>{class t{}return t.\u0275mod=_e({type:t}),t.\u0275inj=dt({factory:function(e){return new(e||t)},imports:[[JO],JO]}),t})();class uk{constructor(t,e,n){this._renderer=t,this.element=e,this.config=n,this.state=3}fadeOut(){this._renderer.fadeOutRipple(this)}}const hk={enterDuration:450,exitDuration:400},dk=E_({passive:!0}),pk=["mousedown","touchstart"],fk=["mouseup","mouseleave","touchend","touchcancel"];class mk{constructor(t,e,n,i){this._target=t,this._ngZone=e,this._isPointerDown=!1,this._activeRipples=new Set,this._pointerUpEventsRegistered=!1,i.isBrowser&&(this._containerElement=py(n))}fadeInRipple(t,e,n={}){const i=this._containerRect=this._containerRect||this._containerElement.getBoundingClientRect(),r=Object.assign(Object.assign({},hk),n.animation);n.centered&&(t=i.left+i.width/2,e=i.top+i.height/2);const o=n.radius||function(t,e,n){const i=Math.max(Math.abs(t-n.left),Math.abs(t-n.right)),r=Math.max(Math.abs(e-n.top),Math.abs(e-n.bottom));return Math.sqrt(i*i+r*r)}(t,e,i),s=t-i.left,a=e-i.top,l=r.enterDuration,c=document.createElement("div");c.classList.add("mat-ripple-element"),c.style.left=`${s-o}px`,c.style.top=`${a-o}px`,c.style.height=`${2*o}px`,c.style.width=`${2*o}px`,null!=n.color&&(c.style.backgroundColor=n.color),c.style.transitionDuration=`${l}ms`,this._containerElement.appendChild(c),window.getComputedStyle(c).getPropertyValue("opacity"),c.style.transform="scale(1)";const u=new uk(this,c,n);return u.state=0,this._activeRipples.add(u),n.persistent||(this._mostRecentTransientRipple=u),this._runTimeoutOutsideZone(()=>{const t=u===this._mostRecentTransientRipple;u.state=1,n.persistent||t&&this._isPointerDown||u.fadeOut()},l),u}fadeOutRipple(t){const e=this._activeRipples.delete(t);if(t===this._mostRecentTransientRipple&&(this._mostRecentTransientRipple=null),this._activeRipples.size||(this._containerRect=null),!e)return;const n=t.element,i=Object.assign(Object.assign({},hk),t.config.animation);n.style.transitionDuration=`${i.exitDuration}ms`,n.style.opacity="0",t.state=2,this._runTimeoutOutsideZone(()=>{t.state=3,n.parentNode.removeChild(n)},i.exitDuration)}fadeOutAll(){this._activeRipples.forEach(t=>t.fadeOut())}setupTriggerEvents(t){const e=py(t);e&&e!==this._triggerElement&&(this._removeTriggerEvents(),this._triggerElement=e,this._registerEvents(pk))}handleEvent(t){"mousedown"===t.type?this._onMousedown(t):"touchstart"===t.type?this._onTouchStart(t):this._onPointerUp(),this._pointerUpEventsRegistered||(this._registerEvents(fk),this._pointerUpEventsRegistered=!0)}_onMousedown(t){const e=wO(t),n=this._lastTouchStartEvent&&Date.now()<this._lastTouchStartEvent+800;this._target.rippleDisabled||e||n||(this._isPointerDown=!0,this.fadeInRipple(t.clientX,t.clientY,this._target.rippleConfig))}_onTouchStart(t){if(!this._target.rippleDisabled){this._lastTouchStartEvent=Date.now(),this._isPointerDown=!0;const e=t.changedTouches;for(let t=0;t<e.length;t++)this.fadeInRipple(e[t].clientX,e[t].clientY,this._target.rippleConfig)}}_onPointerUp(){this._isPointerDown&&(this._isPointerDown=!1,this._activeRipples.forEach(t=>{!t.config.persistent&&(1===t.state||t.config.terminateOnPointerUp&&0===t.state)&&t.fadeOut()}))}_runTimeoutOutsideZone(t,e=0){this._ngZone.runOutsideAngular(()=>setTimeout(t,e))}_registerEvents(t){this._ngZone.runOutsideAngular(()=>{t.forEach(t=>{this._triggerElement.addEventListener(t,this,dk)})})}_removeTriggerEvents(){this._triggerElement&&(pk.forEach(t=>{this._triggerElement.removeEventListener(t,this,dk)}),this._pointerUpEventsRegistered&&fk.forEach(t=>{this._triggerElement.removeEventListener(t,this,dk)}))}}const gk=new jt("mat-ripple-global-options");let yk=(()=>{class t{constructor(t,e,n,i,r){this._elementRef=t,this._animationMode=r,this.radius=0,this._disabled=!1,this._isInitialized=!1,this._globalOptions=i||{},this._rippleRenderer=new mk(this,e,t,n)}get disabled(){return this._disabled}set disabled(t){this._disabled=t,this._setupTriggerEventsIfEnabled()}get trigger(){return this._trigger||this._elementRef.nativeElement}set trigger(t){this._trigger=t,this._setupTriggerEventsIfEnabled()}ngOnInit(){this._isInitialized=!0,this._setupTriggerEventsIfEnabled()}ngOnDestroy(){this._rippleRenderer._removeTriggerEvents()}fadeOutAll(){this._rippleRenderer.fadeOutAll()}get rippleConfig(){return{centered:this.centered,radius:this.radius,color:this.color,animation:Object.assign(Object.assign(Object.assign({},this._globalOptions.animation),"NoopAnimations"===this._animationMode?{enterDuration:0,exitDuration:0}:{}),this.animation),terminateOnPointerUp:this._globalOptions.terminateOnPointerUp}}get rippleDisabled(){return this.disabled||!!this._globalOptions.disabled}_setupTriggerEventsIfEnabled(){!this.disabled&&this._isInitialized&&this._rippleRenderer.setupTriggerEvents(this.trigger)}launch(t,e=0,n){return"number"==typeof t?this._rippleRenderer.fadeInRipple(t,e,Object.assign(Object.assign({},this.rippleConfig),n)):this._rippleRenderer.fadeInRipple(0,0,Object.assign(Object.assign({},this.rippleConfig),t))}}return t.\u0275fac=function(e){return new(e||t)(Ms(Ya),Ms($c),Ms(y_),Ms(gk,8),Ms(sy,8))},t.\u0275dir=be({type:t,selectors:[["","mat-ripple",""],["","matRipple",""]],hostAttrs:[1,"mat-ripple"],hostVars:2,hostBindings:function(t,e){2&t&&ua("mat-ripple-unbounded",e.unbounded)},inputs:{radius:["matRippleRadius","radius"],disabled:["matRippleDisabled","disabled"],trigger:["matRippleTrigger","trigger"],color:["matRippleColor","color"],unbounded:["matRippleUnbounded","unbounded"],centered:["matRippleCentered","centered"],animation:["matRippleAnimation","animation"]},exportAs:["matRipple"]}),t})(),_k=(()=>{class t{}return t.\u0275mod=_e({type:t}),t.\u0275inj=dt({factory:function(e){return new(e||t)},imports:[[JO,__],JO]}),t})(),vk=(()=>{class t{constructor(t){this._animationMode=t,this.state="unchecked",this.disabled=!1}}return t.\u0275fac=function(e){return new(e||t)(Ms(sy,8))},t.\u0275cmp=pe({type:t,selectors:[["mat-pseudo-checkbox"]],hostAttrs:[1,"mat-pseudo-checkbox"],hostVars:8,hostBindings:function(t,e){2&t&&ua("mat-pseudo-checkbox-indeterminate","indeterminate"===e.state)("mat-pseudo-checkbox-checked","checked"===e.state)("mat-pseudo-checkbox-disabled",e.disabled)("_mat-animation-noopable","NoopAnimations"===e._animationMode)},inputs:{state:"state",disabled:"disabled"},decls:0,vars:0,template:function(t,e){},styles:['.mat-pseudo-checkbox{width:16px;height:16px;border:2px solid;border-radius:2px;cursor:pointer;display:inline-block;vertical-align:middle;box-sizing:border-box;position:relative;flex-shrink:0;transition:border-color 90ms cubic-bezier(0, 0, 0.2, 0.1),background-color 90ms cubic-bezier(0, 0, 0.2, 0.1)}.mat-pseudo-checkbox::after{position:absolute;opacity:0;content:"";border-bottom:2px solid currentColor;transition:opacity 90ms cubic-bezier(0, 0, 0.2, 0.1)}.mat-pseudo-checkbox.mat-pseudo-checkbox-checked,.mat-pseudo-checkbox.mat-pseudo-checkbox-indeterminate{border-color:transparent}._mat-animation-noopable.mat-pseudo-checkbox{transition:none;animation:none}._mat-animation-noopable.mat-pseudo-checkbox::after{transition:none}.mat-pseudo-checkbox-disabled{cursor:default}.mat-pseudo-checkbox-indeterminate::after{top:5px;left:1px;width:10px;opacity:1;border-radius:2px}.mat-pseudo-checkbox-checked::after{top:2.4px;left:1px;width:8px;height:3px;border-left:2px solid currentColor;transform:rotate(-45deg);opacity:1;box-sizing:content-box}\n'],encapsulation:2,changeDetection:0}),t})(),bk=(()=>{class t{}return t.\u0275mod=_e({type:t}),t.\u0275inj=dt({factory:function(e){return new(e||t)}}),t})();class wk{}const Ck=tk(wk);let xk=0,Ek=(()=>{class t extends Ck{constructor(){super(...arguments),this._labelId=`mat-optgroup-label-${xk++}`}}return t.\u0275fac=function(e){return Sk(e||t)},t.\u0275cmp=pe({type:t,selectors:[["mat-optgroup"]],hostAttrs:["role","group",1,"mat-optgroup"],hostVars:4,hostBindings:function(t,e){2&t&&(ks("aria-disabled",e.disabled.toString())("aria-labelledby",e._labelId),ua("mat-optgroup-disabled",e.disabled))},inputs:{disabled:"disabled",label:"label"},exportAs:["matOptgroup"],features:[Ia],ngContentSelectors:qO,decls:4,vars:2,consts:[[1,"mat-optgroup-label",3,"id"]],template:function(t,e){1&t&&(Zs(GO),Ls(0,"label",0),Ca(1),Js(2),Bs(),Js(3,1)),2&t&&(Rs("id",e._labelId),vr(1),Ea("",e.label," "))},styles:[".mat-optgroup-label{white-space:nowrap;overflow:hidden;text-overflow:ellipsis;display:block;line-height:48px;height:48px;padding:0 16px;text-align:left;text-decoration:none;max-width:100%;-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none;cursor:default}.mat-optgroup-label[disabled]{cursor:default}[dir=rtl] .mat-optgroup-label{text-align:right}.mat-optgroup-label .mat-icon{margin-right:16px;vertical-align:middle}.mat-optgroup-label .mat-icon svg{vertical-align:top}[dir=rtl] .mat-optgroup-label .mat-icon{margin-left:16px;margin-right:0}\n"],encapsulation:2,changeDetection:0}),t})();const Sk=ui(Ek);let Pk=0;class Ok{constructor(t,e=!1){this.source=t,this.isUserInput=e}}const kk=new jt("MAT_OPTION_PARENT_COMPONENT");let Tk=(()=>{class t{constructor(t,e,n,i){this._element=t,this._changeDetectorRef=e,this._parent=n,this.group=i,this._selected=!1,this._active=!1,this._disabled=!1,this._mostRecentViewValue="",this.id=`mat-option-${Pk++}`,this.onSelectionChange=new Yl,this._stateChanges=new x}get multiple(){return this._parent&&this._parent.multiple}get selected(){return this._selected}get disabled(){return this.group&&this.group.disabled||this._disabled}set disabled(t){this._disabled=cy(t)}get disableRipple(){return this._parent&&this._parent.disableRipple}get active(){return this._active}get viewValue(){return(this._getHostElement().textContent||"").trim()}select(){this._selected||(this._selected=!0,this._changeDetectorRef.markForCheck(),this._emitSelectionChangeEvent())}deselect(){this._selected&&(this._selected=!1,this._changeDetectorRef.markForCheck(),this._emitSelectionChangeEvent())}focus(t,e){const n=this._getHostElement();"function"==typeof n.focus&&n.focus(e)}setActiveStyles(){this._active||(this._active=!0,this._changeDetectorRef.markForCheck())}setInactiveStyles(){this._active&&(this._active=!1,this._changeDetectorRef.markForCheck())}getLabel(){return this.viewValue}_handleKeydown(t){13!==t.keyCode&&32!==t.keyCode||YP(t)||(this._selectViaInteraction(),t.preventDefault())}_selectViaInteraction(){this.disabled||(this._selected=!this.multiple||!this._selected,this._changeDetectorRef.markForCheck(),this._emitSelectionChangeEvent(!0))}_getAriaSelected(){return this.selected||!this.multiple&&null}_getTabIndex(){return this.disabled?"-1":"0"}_getHostElement(){return this._element.nativeElement}ngAfterViewChecked(){if(this._selected){const t=this.viewValue;t!==this._mostRecentViewValue&&(this._mostRecentViewValue=t,this._stateChanges.next())}}ngOnDestroy(){this._stateChanges.complete()}_emitSelectionChangeEvent(t=!1){this.onSelectionChange.emit(new Ok(this,t))}}return t.\u0275fac=function(e){return new(e||t)(Ms(Ya),Ms(Xo),Ms(kk,8),Ms(Ek,8))},t.\u0275cmp=pe({type:t,selectors:[["mat-option"]],hostAttrs:["role","option",1,"mat-option","mat-focus-indicator"],hostVars:12,hostBindings:function(t,e){1&t&&$s("click",(function(){return e._selectViaInteraction()}))("keydown",(function(t){return e._handleKeydown(t)})),2&t&&(Oa("id",e.id),ks("tabindex",e._getTabIndex())("aria-selected",e._getAriaSelected())("aria-disabled",e.disabled.toString()),ua("mat-selected",e.selected)("mat-option-multiple",e.multiple)("mat-active",e.active)("mat-option-disabled",e.disabled))},inputs:{id:"id",disabled:"disabled",value:"value"},outputs:{onSelectionChange:"onSelectionChange"},exportAs:["matOption"],ngContentSelectors:KO,decls:4,vars:3,consts:[["class","mat-option-pseudo-checkbox",3,"state","disabled",4,"ngIf"],[1,"mat-option-text"],["mat-ripple","",1,"mat-option-ripple",3,"matRippleTrigger","matRippleDisabled"],[1,"mat-option-pseudo-checkbox",3,"state","disabled"]],template:function(t,e){1&t&&(Zs(),Is(0,XO,1,2,"mat-pseudo-checkbox",0),Ls(1,"span",1),Js(2),Bs(),Ns(3,"div",2)),2&t&&(Rs("ngIf",e.multiple),vr(3),Rs("matRippleTrigger",e._getHostElement())("matRippleDisabled",e.disabled||e.disableRipple))},directives:[Eh,yk,vk],styles:[".mat-option{white-space:nowrap;overflow:hidden;text-overflow:ellipsis;display:block;line-height:48px;height:48px;padding:0 16px;text-align:left;text-decoration:none;max-width:100%;position:relative;cursor:pointer;outline:none;display:flex;flex-direction:row;max-width:100%;box-sizing:border-box;align-items:center;-webkit-tap-highlight-color:transparent}.mat-option[disabled]{cursor:default}[dir=rtl] .mat-option{text-align:right}.mat-option .mat-icon{margin-right:16px;vertical-align:middle}.mat-option .mat-icon svg{vertical-align:top}[dir=rtl] .mat-option .mat-icon{margin-left:16px;margin-right:0}.mat-option[aria-disabled=true]{-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none;cursor:default}.mat-optgroup .mat-option:not(.mat-option-multiple){padding-left:32px}[dir=rtl] .mat-optgroup .mat-option:not(.mat-option-multiple){padding-left:16px;padding-right:32px}.cdk-high-contrast-active .mat-option{margin:0 1px}.cdk-high-contrast-active .mat-option.mat-active{border:solid 1px currentColor;margin:0}.mat-option-text{display:inline-block;flex-grow:1;overflow:hidden;text-overflow:ellipsis}.mat-option .mat-option-ripple{top:0;left:0;right:0;bottom:0;position:absolute;pointer-events:none}.cdk-high-contrast-active .mat-option .mat-option-ripple{opacity:.5}.mat-option-pseudo-checkbox{margin-right:8px}[dir=rtl] .mat-option-pseudo-checkbox{margin-left:8px;margin-right:0}\n"],encapsulation:2,changeDetection:0}),t})();function Ik(t,e,n){if(n.length){let i=e.toArray(),r=n.toArray(),o=0;for(let e=0;e<t+1;e++)i[e].group&&i[e].group===r[o]&&o++;return o}return 0}function Ak(t,e,n,i){const r=t*e;return r<n?r:r+e>n+i?Math.max(0,r-i+e):n}let Mk=(()=>{class t{}return t.\u0275mod=_e({type:t}),t.\u0275inj=dt({factory:function(e){return new(e||t)},imports:[[_k,rd,bk]]}),t})();const Dk=new jt("mat-label-global-options");class Rk{constructor(t,e){this._viewportRuler=t,this._previousHTMLStyles={top:"",left:""},this._isEnabled=!1,this._document=e}attach(){}enable(){if(this._canBeEnabled()){const t=this._document.documentElement;this._previousScrollPosition=this._viewportRuler.getViewportScrollPosition(),this._previousHTMLStyles.left=t.style.left||"",this._previousHTMLStyles.top=t.style.top||"",t.style.left=dy(-this._previousScrollPosition.left),t.style.top=dy(-this._previousScrollPosition.top),t.classList.add("cdk-global-scrollblock"),this._isEnabled=!0}}disable(){if(this._isEnabled){const t=this._document.documentElement,e=t.style,n=this._document.body.style,i=e.scrollBehavior||"",r=n.scrollBehavior||"";this._isEnabled=!1,e.left=this._previousHTMLStyles.left,e.top=this._previousHTMLStyles.top,t.classList.remove("cdk-global-scrollblock"),e.scrollBehavior=n.scrollBehavior="auto",window.scroll(this._previousScrollPosition.left,this._previousScrollPosition.top),e.scrollBehavior=i,n.scrollBehavior=r}}_canBeEnabled(){if(this._document.documentElement.classList.contains("cdk-global-scrollblock")||this._isEnabled)return!1;const t=this._document.body,e=this._viewportRuler.getViewportSize();return t.scrollHeight>e.height||t.scrollWidth>e.width}}function Fk(){return Error("Scroll strategy has already been attached.")}class Lk{constructor(t,e,n,i){this._scrollDispatcher=t,this._ngZone=e,this._viewportRuler=n,this._config=i,this._scrollSubscription=null,this._detach=()=>{this.disable(),this._overlayRef.hasAttached()&&this._ngZone.run(()=>this._overlayRef.detach())}}attach(t){if(this._overlayRef)throw Fk();this._overlayRef=t}enable(){if(this._scrollSubscription)return;const t=this._scrollDispatcher.scrolled(0);this._config&&this._config.threshold&&this._config.threshold>1?(this._initialScrollPosition=this._viewportRuler.getViewportScrollPosition().top,this._scrollSubscription=t.subscribe(()=>{const t=this._viewportRuler.getViewportScrollPosition().top;Math.abs(t-this._initialScrollPosition)>this._config.threshold?this._detach():this._overlayRef.updatePosition()})):this._scrollSubscription=t.subscribe(this._detach)}disable(){this._scrollSubscription&&(this._scrollSubscription.unsubscribe(),this._scrollSubscription=null)}detach(){this.disable(),this._overlayRef=null}}class Bk{enable(){}disable(){}attach(){}}function Nk(t,e){return e.some(e=>t.bottom<e.top||t.top>e.bottom||t.right<e.left||t.left>e.right)}function jk(t,e){return e.some(e=>t.top<e.top||t.bottom>e.bottom||t.left<e.left||t.right>e.right)}class zk{constructor(t,e,n,i){this._scrollDispatcher=t,this._viewportRuler=e,this._ngZone=n,this._config=i,this._scrollSubscription=null}attach(t){if(this._overlayRef)throw Fk();this._overlayRef=t}enable(){this._scrollSubscription||(this._scrollSubscription=this._scrollDispatcher.scrolled(this._config?this._config.scrollThrottle:0).subscribe(()=>{if(this._overlayRef.updatePosition(),this._config&&this._config.autoClose){const t=this._overlayRef.overlayElement.getBoundingClientRect(),{width:e,height:n}=this._viewportRuler.getViewportSize();Nk(t,[{width:e,height:n,bottom:n,right:e,top:0,left:0}])&&(this.disable(),this._ngZone.run(()=>this._overlayRef.detach()))}}))}disable(){this._scrollSubscription&&(this._scrollSubscription.unsubscribe(),this._scrollSubscription=null)}detach(){this.disable(),this._overlayRef=null}}let Hk=(()=>{class t{constructor(t,e,n,i){this._scrollDispatcher=t,this._viewportRuler=e,this._ngZone=n,this.noop=()=>new Bk,this.close=t=>new Lk(this._scrollDispatcher,this._ngZone,this._viewportRuler,t),this.block=()=>new Rk(this._viewportRuler,this._document),this.reposition=t=>new zk(this._scrollDispatcher,this._viewportRuler,this._ngZone,t),this._document=i}}return t.\u0275fac=function(e){return new(e||t)(Kt(D_),Kt(F_),Kt($c),Kt(vu))},t.\u0275prov=ht({factory:function(){return new t(Kt(D_),Kt(F_),Kt($c),Kt(vu))},token:t,providedIn:"root"}),t})();class Vk{constructor(t){if(this.scrollStrategy=new Bk,this.panelClass="",this.hasBackdrop=!1,this.backdropClass="cdk-overlay-dark-backdrop",this.disposeOnNavigation=!1,t){const e=Object.keys(t);for(const n of e)void 0!==t[n]&&(this[n]=t[n])}}}class Uk{constructor(t,e,n,i,r){this.offsetX=n,this.offsetY=i,this.panelClass=r,this.originX=t.originX,this.originY=t.originY,this.overlayX=e.overlayX,this.overlayY=e.overlayY}}class Wk{constructor(t,e){this.connectionPair=t,this.scrollableViewProperties=e}}function $k(t,e){if("top"!==e&&"bottom"!==e&&"center"!==e)throw Error(`ConnectedPosition: Invalid ${t} "${e}". `+'Expected "top", "bottom" or "center".')}function Gk(t,e){if("start"!==e&&"end"!==e&&"center"!==e)throw Error(`ConnectedPosition: Invalid ${t} "${e}". `+'Expected "start", "end" or "center".')}let qk=(()=>{class t{constructor(t){this._attachedOverlays=[],this._keydownListener=t=>{const e=this._attachedOverlays;for(let n=e.length-1;n>-1;n--)if(e[n]._keydownEventSubscriptions>0){e[n]._keydownEvents.next(t);break}},this._document=t}ngOnDestroy(){this._detach()}add(t){this.remove(t),this._isAttached||(this._document.body.addEventListener("keydown",this._keydownListener),this._isAttached=!0),this._attachedOverlays.push(t)}remove(t){const e=this._attachedOverlays.indexOf(t);e>-1&&this._attachedOverlays.splice(e,1),0===this._attachedOverlays.length&&this._detach()}_detach(){this._isAttached&&(this._document.body.removeEventListener("keydown",this._keydownListener),this._isAttached=!1)}}return t.\u0275fac=function(e){return new(e||t)(Kt(vu))},t.\u0275prov=ht({factory:function(){return new t(Kt(vu))},token:t,providedIn:"root"}),t})();const Xk=!("undefined"==typeof window||!window||!window.__karma__&&!window.jasmine);let Kk=(()=>{class t{constructor(t,e){this._platform=e,this._document=t}ngOnDestroy(){const t=this._containerElement;t&&t.parentNode&&t.parentNode.removeChild(t)}getContainerElement(){return this._containerElement||this._createContainer(),this._containerElement}_createContainer(){const t=this._platform?this._platform.isBrowser:"undefined"!=typeof window;if(t||Xk){const t=this._document.querySelectorAll('.cdk-overlay-container[platform="server"], .cdk-overlay-container[platform="test"]');for(let e=0;e<t.length;e++)t[e].parentNode.removeChild(t[e])}const e=this._document.createElement("div");e.classList.add("cdk-overlay-container"),Xk?e.setAttribute("platform","test"):t||e.setAttribute("platform","server"),this._document.body.appendChild(e),this._containerElement=e}}return t.\u0275fac=function(e){return new(e||t)(Kt(vu),Kt(y_))},t.\u0275prov=ht({factory:function(){return new t(Kt(vu),Kt(y_))},token:t,providedIn:"root"}),t})();class Yk{constructor(t,e,n,i,r,o,s,a){this._portalOutlet=t,this._host=e,this._pane=n,this._config=i,this._ngZone=r,this._keyboardDispatcher=o,this._document=s,this._location=a,this._backdropElement=null,this._backdropClick=new x,this._attachments=new x,this._detachments=new x,this._locationChanges=h.EMPTY,this._backdropClickHandler=t=>this._backdropClick.next(t),this._keydownEventsObservable=new _(t=>{const e=this._keydownEvents.subscribe(t);return this._keydownEventSubscriptions++,()=>{e.unsubscribe(),this._keydownEventSubscriptions--}}),this._keydownEvents=new x,this._keydownEventSubscriptions=0,i.scrollStrategy&&(this._scrollStrategy=i.scrollStrategy,this._scrollStrategy.attach(this)),this._positionStrategy=i.positionStrategy}get overlayElement(){return this._pane}get backdropElement(){return this._backdropElement}get hostElement(){return this._host}attach(t){let e=this._portalOutlet.attach(t);return!this._host.parentElement&&this._previousHostParent&&this._previousHostParent.appendChild(this._host),this._positionStrategy&&this._positionStrategy.attach(this),this._updateStackingOrder(),this._updateElementSize(),this._updateElementDirection(),this._scrollStrategy&&this._scrollStrategy.enable(),this._ngZone.onStable.asObservable().pipe(H_(1)).subscribe(()=>{this.hasAttached()&&this.updatePosition()}),this._togglePointerEvents(!0),this._config.hasBackdrop&&this._attachBackdrop(),this._config.panelClass&&this._toggleClasses(this._pane,this._config.panelClass,!0),this._attachments.next(),this._keyboardDispatcher.add(this),this._config.disposeOnNavigation&&this._location&&(this._locationChanges=this._location.subscribe(()=>this.dispose())),e}detach(){if(!this.hasAttached())return;this.detachBackdrop(),this._togglePointerEvents(!1),this._positionStrategy&&this._positionStrategy.detach&&this._positionStrategy.detach(),this._scrollStrategy&&this._scrollStrategy.disable();const t=this._portalOutlet.detach();return this._detachments.next(),this._keyboardDispatcher.remove(this),this._detachContentWhenStable(),this._locationChanges.unsubscribe(),t}dispose(){const t=this.hasAttached();this._positionStrategy&&this._positionStrategy.dispose(),this._disposeScrollStrategy(),this.detachBackdrop(),this._locationChanges.unsubscribe(),this._keyboardDispatcher.remove(this),this._portalOutlet.dispose(),this._attachments.complete(),this._backdropClick.complete(),this._keydownEvents.complete(),this._host&&this._host.parentNode&&(this._host.parentNode.removeChild(this._host),this._host=null),this._previousHostParent=this._pane=null,t&&this._detachments.next(),this._detachments.complete()}hasAttached(){return this._portalOutlet.hasAttached()}backdropClick(){return this._backdropClick.asObservable()}attachments(){return this._attachments.asObservable()}detachments(){return this._detachments.asObservable()}keydownEvents(){return this._keydownEventsObservable}getConfig(){return this._config}updatePosition(){this._positionStrategy&&this._positionStrategy.apply()}updatePositionStrategy(t){t!==this._positionStrategy&&(this._positionStrategy&&this._positionStrategy.dispose(),this._positionStrategy=t,this.hasAttached()&&(t.attach(this),this.updatePosition()))}updateSize(t){this._config=Object.assign(Object.assign({},this._config),t),this._updateElementSize()}setDirection(t){this._config=Object.assign(Object.assign({},this._config),{direction:t}),this._updateElementDirection()}addPanelClass(t){this._pane&&this._toggleClasses(this._pane,t,!0)}removePanelClass(t){this._pane&&this._toggleClasses(this._pane,t,!1)}getDirection(){const t=this._config.direction;return t?"string"==typeof t?t:t.value:"ltr"}updateScrollStrategy(t){t!==this._scrollStrategy&&(this._disposeScrollStrategy(),this._scrollStrategy=t,this.hasAttached()&&(t.attach(this),t.enable()))}_updateElementDirection(){this._host.setAttribute("dir",this.getDirection())}_updateElementSize(){if(!this._pane)return;const t=this._pane.style;t.width=dy(this._config.width),t.height=dy(this._config.height),t.minWidth=dy(this._config.minWidth),t.minHeight=dy(this._config.minHeight),t.maxWidth=dy(this._config.maxWidth),t.maxHeight=dy(this._config.maxHeight)}_togglePointerEvents(t){this._pane.style.pointerEvents=t?"auto":"none"}_attachBackdrop(){this._backdropElement=this._document.createElement("div"),this._backdropElement.classList.add("cdk-overlay-backdrop"),this._config.backdropClass&&this._toggleClasses(this._backdropElement,this._config.backdropClass,!0),this._host.parentElement.insertBefore(this._backdropElement,this._host),this._backdropElement.addEventListener("click",this._backdropClickHandler),"undefined"!=typeof requestAnimationFrame?this._ngZone.runOutsideAngular(()=>{requestAnimationFrame(()=>{this._backdropElement&&this._backdropElement.classList.add("cdk-overlay-backdrop-showing")})}):this._backdropElement.classList.add("cdk-overlay-backdrop-showing")}_updateStackingOrder(){this._host.nextSibling&&this._host.parentNode.appendChild(this._host)}detachBackdrop(){let t,e=this._backdropElement;if(!e)return;let n=()=>{e&&(e.removeEventListener("click",this._backdropClickHandler),e.removeEventListener("transitionend",n),e.parentNode&&e.parentNode.removeChild(e)),this._backdropElement==e&&(this._backdropElement=null),this._config.backdropClass&&this._toggleClasses(e,this._config.backdropClass,!1),clearTimeout(t)};e.classList.remove("cdk-overlay-backdrop-showing"),this._ngZone.runOutsideAngular(()=>{e.addEventListener("transitionend",n)}),e.style.pointerEvents="none",t=this._ngZone.runOutsideAngular(()=>setTimeout(n,500))}_toggleClasses(t,e,n){const i=t.classList;hy(e).forEach(t=>{t&&(n?i.add(t):i.remove(t))})}_detachContentWhenStable(){this._ngZone.runOutsideAngular(()=>{const t=this._ngZone.onStable.asObservable().pipe($y($(this._attachments,this._detachments))).subscribe(()=>{this._pane&&this._host&&0!==this._pane.children.length||(this._pane&&this._config.panelClass&&this._toggleClasses(this._pane,this._config.panelClass,!1),this._host&&this._host.parentElement&&(this._previousHostParent=this._host.parentElement,this._previousHostParent.removeChild(this._host)),t.unsubscribe())})})}_disposeScrollStrategy(){const t=this._scrollStrategy;t&&(t.disable(),t.detach&&t.detach())}}const Qk=/([A-Za-z%]+)$/;class Zk{constructor(t,e,n,i,r){this._viewportRuler=e,this._document=n,this._platform=i,this._overlayContainer=r,this._lastBoundingBoxSize={width:0,height:0},this._isPushed=!1,this._canPush=!0,this._growAfterOpen=!1,this._hasFlexibleDimensions=!0,this._positionLocked=!1,this._viewportMargin=0,this._scrollables=[],this._preferredPositions=[],this._positionChanges=new x,this._resizeSubscription=h.EMPTY,this._offsetX=0,this._offsetY=0,this._appliedPanelClasses=[],this.positionChanges=this._positionChanges.asObservable(),this.setOrigin(t)}get positions(){return this._preferredPositions}attach(t){if(this._overlayRef&&t!==this._overlayRef)throw Error("This position strategy is already attached to an overlay");this._validatePositions(),t.hostElement.classList.add("cdk-overlay-connected-position-bounding-box"),this._overlayRef=t,this._boundingBox=t.hostElement,this._pane=t.overlayElement,this._isDisposed=!1,this._isInitialRender=!0,this._lastPosition=null,this._resizeSubscription.unsubscribe(),this._resizeSubscription=this._viewportRuler.change().subscribe(()=>{this._isInitialRender=!0,this.apply()})}apply(){if(this._isDisposed||!this._platform.isBrowser)return;if(!this._isInitialRender&&this._positionLocked&&this._lastPosition)return void this.reapplyLastPosition();this._clearPanelClasses(),this._resetOverlayElementStyles(),this._resetBoundingBoxStyles(),this._viewportRect=this._getNarrowedViewportRect(),this._originRect=this._getOriginRect(),this._overlayRect=this._pane.getBoundingClientRect();const t=this._originRect,e=this._overlayRect,n=this._viewportRect,i=[];let r;for(let o of this._preferredPositions){let s=this._getOriginPoint(t,o),a=this._getOverlayPoint(s,e,o),l=this._getOverlayFit(a,e,n,o);if(l.isCompletelyWithinViewport)return this._isPushed=!1,void this._applyPosition(o,s);this._canFitWithFlexibleDimensions(l,a,n)?i.push({position:o,origin:s,overlayRect:e,boundingBoxRect:this._calculateBoundingBoxRect(s,o)}):(!r||r.overlayFit.visibleArea<l.visibleArea)&&(r={overlayFit:l,overlayPoint:a,originPoint:s,position:o,overlayRect:e})}if(i.length){let t=null,e=-1;for(const n of i){const i=n.boundingBoxRect.width*n.boundingBoxRect.height*(n.position.weight||1);i>e&&(e=i,t=n)}return this._isPushed=!1,void this._applyPosition(t.position,t.origin)}if(this._canPush)return this._isPushed=!0,void this._applyPosition(r.position,r.originPoint);this._applyPosition(r.position,r.originPoint)}detach(){this._clearPanelClasses(),this._lastPosition=null,this._previousPushAmount=null,this._resizeSubscription.unsubscribe()}dispose(){this._isDisposed||(this._boundingBox&&Jk(this._boundingBox.style,{top:"",left:"",right:"",bottom:"",height:"",width:"",alignItems:"",justifyContent:""}),this._pane&&this._resetOverlayElementStyles(),this._overlayRef&&this._overlayRef.hostElement.classList.remove("cdk-overlay-connected-position-bounding-box"),this.detach(),this._positionChanges.complete(),this._overlayRef=this._boundingBox=null,this._isDisposed=!0)}reapplyLastPosition(){if(!this._isDisposed&&(!this._platform||this._platform.isBrowser)){this._originRect=this._getOriginRect(),this._overlayRect=this._pane.getBoundingClientRect(),this._viewportRect=this._getNarrowedViewportRect();const t=this._lastPosition||this._preferredPositions[0],e=this._getOriginPoint(this._originRect,t);this._applyPosition(t,e)}}withScrollableContainers(t){return this._scrollables=t,this}withPositions(t){return this._preferredPositions=t,-1===t.indexOf(this._lastPosition)&&(this._lastPosition=null),this._validatePositions(),this}withViewportMargin(t){return this._viewportMargin=t,this}withFlexibleDimensions(t=!0){return this._hasFlexibleDimensions=t,this}withGrowAfterOpen(t=!0){return this._growAfterOpen=t,this}withPush(t=!0){return this._canPush=t,this}withLockedPosition(t=!0){return this._positionLocked=t,this}setOrigin(t){return this._origin=t,this}withDefaultOffsetX(t){return this._offsetX=t,this}withDefaultOffsetY(t){return this._offsetY=t,this}withTransformOriginOn(t){return this._transformOriginSelector=t,this}_getOriginPoint(t,e){let n,i;if("center"==e.originX)n=t.left+t.width/2;else{const i=this._isRtl()?t.right:t.left,r=this._isRtl()?t.left:t.right;n="start"==e.originX?i:r}return i="center"==e.originY?t.top+t.height/2:"top"==e.originY?t.top:t.bottom,{x:n,y:i}}_getOverlayPoint(t,e,n){let i,r;return i="center"==n.overlayX?-e.width/2:"start"===n.overlayX?this._isRtl()?-e.width:0:this._isRtl()?0:-e.width,r="center"==n.overlayY?-e.height/2:"top"==n.overlayY?0:-e.height,{x:t.x+i,y:t.y+r}}_getOverlayFit(t,e,n,i){let{x:r,y:o}=t,s=this._getOffset(i,"x"),a=this._getOffset(i,"y");s&&(r+=s),a&&(o+=a);let l=0-o,c=o+e.height-n.height,u=this._subtractOverflows(e.width,0-r,r+e.width-n.width),h=this._subtractOverflows(e.height,l,c),d=u*h;return{visibleArea:d,isCompletelyWithinViewport:e.width*e.height===d,fitsInViewportVertically:h===e.height,fitsInViewportHorizontally:u==e.width}}_canFitWithFlexibleDimensions(t,e,n){if(this._hasFlexibleDimensions){const i=n.bottom-e.y,r=n.right-e.x,o=tT(this._overlayRef.getConfig().minHeight),s=tT(this._overlayRef.getConfig().minWidth),a=t.fitsInViewportHorizontally||null!=s&&s<=r;return(t.fitsInViewportVertically||null!=o&&o<=i)&&a}return!1}_pushOverlayOnScreen(t,e,n){if(this._previousPushAmount&&this._positionLocked)return{x:t.x+this._previousPushAmount.x,y:t.y+this._previousPushAmount.y};const i=this._viewportRect,r=Math.max(t.x+e.width-i.right,0),o=Math.max(t.y+e.height-i.bottom,0),s=Math.max(i.top-n.top-t.y,0),a=Math.max(i.left-n.left-t.x,0);let l=0,c=0;return l=e.width<=i.width?a||-r:t.x<this._viewportMargin?i.left-n.left-t.x:0,c=e.height<=i.height?s||-o:t.y<this._viewportMargin?i.top-n.top-t.y:0,this._previousPushAmount={x:l,y:c},{x:t.x+l,y:t.y+c}}_applyPosition(t,e){if(this._setTransformOrigin(t),this._setOverlayElementStyles(e,t),this._setBoundingBoxStyles(e,t),t.panelClass&&this._addPanelClasses(t.panelClass),this._lastPosition=t,this._positionChanges.observers.length){const e=this._getScrollVisibility(),n=new Wk(t,e);this._positionChanges.next(n)}this._isInitialRender=!1}_setTransformOrigin(t){if(!this._transformOriginSelector)return;const e=this._boundingBox.querySelectorAll(this._transformOriginSelector);let n,i=t.overlayY;n="center"===t.overlayX?"center":this._isRtl()?"start"===t.overlayX?"right":"left":"start"===t.overlayX?"left":"right";for(let r=0;r<e.length;r++)e[r].style.transformOrigin=`${n} ${i}`}_calculateBoundingBoxRect(t,e){const n=this._viewportRect,i=this._isRtl();let r,o,s,a,l,c;if("top"===e.overlayY)o=t.y,r=n.height-o+this._viewportMargin;else if("bottom"===e.overlayY)s=n.height-t.y+2*this._viewportMargin,r=n.height-s+this._viewportMargin;else{const e=Math.min(n.bottom-t.y+n.top,t.y),i=this._lastBoundingBoxSize.height;r=2*e,o=t.y-e,r>i&&!this._isInitialRender&&!this._growAfterOpen&&(o=t.y-i/2)}if("end"===e.overlayX&&!i||"start"===e.overlayX&&i)c=n.width-t.x+this._viewportMargin,a=t.x-this._viewportMargin;else if("start"===e.overlayX&&!i||"end"===e.overlayX&&i)l=t.x,a=n.right-t.x;else{const e=Math.min(n.right-t.x+n.left,t.x),i=this._lastBoundingBoxSize.width;a=2*e,l=t.x-e,a>i&&!this._isInitialRender&&!this._growAfterOpen&&(l=t.x-i/2)}return{top:o,left:l,bottom:s,right:c,width:a,height:r}}_setBoundingBoxStyles(t,e){const n=this._calculateBoundingBoxRect(t,e);this._isInitialRender||this._growAfterOpen||(n.height=Math.min(n.height,this._lastBoundingBoxSize.height),n.width=Math.min(n.width,this._lastBoundingBoxSize.width));const i={};if(this._hasExactPosition())i.top=i.left="0",i.bottom=i.right=i.maxHeight=i.maxWidth="",i.width=i.height="100%";else{const t=this._overlayRef.getConfig().maxHeight,r=this._overlayRef.getConfig().maxWidth;i.height=dy(n.height),i.top=dy(n.top),i.bottom=dy(n.bottom),i.width=dy(n.width),i.left=dy(n.left),i.right=dy(n.right),i.alignItems="center"===e.overlayX?"center":"end"===e.overlayX?"flex-end":"flex-start",i.justifyContent="center"===e.overlayY?"center":"bottom"===e.overlayY?"flex-end":"flex-start",t&&(i.maxHeight=dy(t)),r&&(i.maxWidth=dy(r))}this._lastBoundingBoxSize=n,Jk(this._boundingBox.style,i)}_resetBoundingBoxStyles(){Jk(this._boundingBox.style,{top:"0",left:"0",right:"0",bottom:"0",height:"",width:"",alignItems:"",justifyContent:""})}_resetOverlayElementStyles(){Jk(this._pane.style,{top:"",left:"",bottom:"",right:"",position:"",transform:""})}_setOverlayElementStyles(t,e){const n={},i=this._hasExactPosition(),r=this._hasFlexibleDimensions,o=this._overlayRef.getConfig();if(i){const i=this._viewportRuler.getViewportScrollPosition();Jk(n,this._getExactOverlayY(e,t,i)),Jk(n,this._getExactOverlayX(e,t,i))}else n.position="static";let s="",a=this._getOffset(e,"x"),l=this._getOffset(e,"y");a&&(s+=`translateX(${a}px) `),l&&(s+=`translateY(${l}px)`),n.transform=s.trim(),o.maxHeight&&(i?n.maxHeight=dy(o.maxHeight):r&&(n.maxHeight="")),o.maxWidth&&(i?n.maxWidth=dy(o.maxWidth):r&&(n.maxWidth="")),Jk(this._pane.style,n)}_getExactOverlayY(t,e,n){let i={top:"",bottom:""},r=this._getOverlayPoint(e,this._overlayRect,t);this._isPushed&&(r=this._pushOverlayOnScreen(r,this._overlayRect,n));let o=this._overlayContainer.getContainerElement().getBoundingClientRect().top;return r.y-=o,"bottom"===t.overlayY?i.bottom=`${this._document.documentElement.clientHeight-(r.y+this._overlayRect.height)}px`:i.top=dy(r.y),i}_getExactOverlayX(t,e,n){let i,r={left:"",right:""},o=this._getOverlayPoint(e,this._overlayRect,t);return this._isPushed&&(o=this._pushOverlayOnScreen(o,this._overlayRect,n)),i=this._isRtl()?"end"===t.overlayX?"left":"right":"end"===t.overlayX?"right":"left","right"===i?r.right=`${this._document.documentElement.clientWidth-(o.x+this._overlayRect.width)}px`:r.left=dy(o.x),r}_getScrollVisibility(){const t=this._getOriginRect(),e=this._pane.getBoundingClientRect(),n=this._scrollables.map(t=>t.getElementRef().nativeElement.getBoundingClientRect());return{isOriginClipped:jk(t,n),isOriginOutsideView:Nk(t,n),isOverlayClipped:jk(e,n),isOverlayOutsideView:Nk(e,n)}}_subtractOverflows(t,...e){return e.reduce((t,e)=>t-Math.max(e,0),t)}_getNarrowedViewportRect(){const t=this._document.documentElement.clientWidth,e=this._document.documentElement.clientHeight,n=this._viewportRuler.getViewportScrollPosition();return{top:n.top+this._viewportMargin,left:n.left+this._viewportMargin,right:n.left+t-this._viewportMargin,bottom:n.top+e-this._viewportMargin,width:t-2*this._viewportMargin,height:e-2*this._viewportMargin}}_isRtl(){return"rtl"===this._overlayRef.getDirection()}_hasExactPosition(){return!this._hasFlexibleDimensions||this._isPushed}_getOffset(t,e){return"x"===e?null==t.offsetX?this._offsetX:t.offsetX:null==t.offsetY?this._offsetY:t.offsetY}_validatePositions(){if(!this._preferredPositions.length)throw Error("FlexibleConnectedPositionStrategy: At least one position is required.");this._preferredPositions.forEach(t=>{Gk("originX",t.originX),$k("originY",t.originY),Gk("overlayX",t.overlayX),$k("overlayY",t.overlayY)})}_addPanelClasses(t){this._pane&&hy(t).forEach(t=>{""!==t&&-1===this._appliedPanelClasses.indexOf(t)&&(this._appliedPanelClasses.push(t),this._pane.classList.add(t))})}_clearPanelClasses(){this._pane&&(this._appliedPanelClasses.forEach(t=>{this._pane.classList.remove(t)}),this._appliedPanelClasses=[])}_getOriginRect(){const t=this._origin;if(t instanceof Ya)return t.nativeElement.getBoundingClientRect();if(t instanceof Element)return t.getBoundingClientRect();const e=t.width||0,n=t.height||0;return{top:t.y,bottom:t.y+n,left:t.x,right:t.x+e,height:n,width:e}}}function Jk(t,e){for(let n in e)e.hasOwnProperty(n)&&(t[n]=e[n]);return t}function tT(t){if("number"!=typeof t&&null!=t){const[e,n]=t.split(Qk);return n&&"px"!==n?null:parseFloat(e)}return t||null}class eT{constructor(t,e,n,i,r,o,s){this._preferredPositions=[],this._positionStrategy=new Zk(n,i,r,o,s).withFlexibleDimensions(!1).withPush(!1).withViewportMargin(0),this.withFallbackPosition(t,e)}get _isRtl(){return"rtl"===this._overlayRef.getDirection()}get onPositionChange(){return this._positionStrategy.positionChanges}get positions(){return this._preferredPositions}attach(t){this._overlayRef=t,this._positionStrategy.attach(t),this._direction&&(t.setDirection(this._direction),this._direction=null)}dispose(){this._positionStrategy.dispose()}detach(){this._positionStrategy.detach()}apply(){this._positionStrategy.apply()}recalculateLastPosition(){this._positionStrategy.reapplyLastPosition()}withScrollableContainers(t){this._positionStrategy.withScrollableContainers(t)}withFallbackPosition(t,e,n,i){const r=new Uk(t,e,n,i);return this._preferredPositions.push(r),this._positionStrategy.withPositions(this._preferredPositions),this}withDirection(t){return this._overlayRef?this._overlayRef.setDirection(t):this._direction=t,this}withOffsetX(t){return this._positionStrategy.withDefaultOffsetX(t),this}withOffsetY(t){return this._positionStrategy.withDefaultOffsetY(t),this}withLockedPosition(t){return this._positionStrategy.withLockedPosition(t),this}withPositions(t){return this._preferredPositions=t.slice(),this._positionStrategy.withPositions(this._preferredPositions),this}setOrigin(t){return this._positionStrategy.setOrigin(t),this}}class nT{constructor(){this._cssPosition="static",this._topOffset="",this._bottomOffset="",this._leftOffset="",this._rightOffset="",this._alignItems="",this._justifyContent="",this._width="",this._height=""}attach(t){const e=t.getConfig();this._overlayRef=t,this._width&&!e.width&&t.updateSize({width:this._width}),this._height&&!e.height&&t.updateSize({height:this._height}),t.hostElement.classList.add("cdk-global-overlay-wrapper"),this._isDisposed=!1}top(t=""){return this._bottomOffset="",this._topOffset=t,this._alignItems="flex-start",this}left(t=""){return this._rightOffset="",this._leftOffset=t,this._justifyContent="flex-start",this}bottom(t=""){return this._topOffset="",this._bottomOffset=t,this._alignItems="flex-end",this}right(t=""){return this._leftOffset="",this._rightOffset=t,this._justifyContent="flex-end",this}width(t=""){return this._overlayRef?this._overlayRef.updateSize({width:t}):this._width=t,this}height(t=""){return this._overlayRef?this._overlayRef.updateSize({height:t}):this._height=t,this}centerHorizontally(t=""){return this.left(t),this._justifyContent="center",this}centerVertically(t=""){return this.top(t),this._alignItems="center",this}apply(){if(!this._overlayRef||!this._overlayRef.hasAttached())return;const t=this._overlayRef.overlayElement.style,e=this._overlayRef.hostElement.style,n=this._overlayRef.getConfig(),{width:i,height:r,maxWidth:o,maxHeight:s}=n,a=!("100%"!==i&&"100vw"!==i||o&&"100%"!==o&&"100vw"!==o),l=!("100%"!==r&&"100vh"!==r||s&&"100%"!==s&&"100vh"!==s);t.position=this._cssPosition,t.marginLeft=a?"0":this._leftOffset,t.marginTop=l?"0":this._topOffset,t.marginBottom=this._bottomOffset,t.marginRight=this._rightOffset,a?e.justifyContent="flex-start":"center"===this._justifyContent?e.justifyContent="center":"rtl"===this._overlayRef.getConfig().direction?"flex-start"===this._justifyContent?e.justifyContent="flex-end":"flex-end"===this._justifyContent&&(e.justifyContent="flex-start"):e.justifyContent=this._justifyContent,e.alignItems=l?"flex-start":this._alignItems}dispose(){if(this._isDisposed||!this._overlayRef)return;const t=this._overlayRef.overlayElement.style,e=this._overlayRef.hostElement,n=e.style;e.classList.remove("cdk-global-overlay-wrapper"),n.justifyContent=n.alignItems=t.marginTop=t.marginBottom=t.marginLeft=t.marginRight=t.position="",this._overlayRef=null,this._isDisposed=!0}}let iT=(()=>{class t{constructor(t,e,n,i){this._viewportRuler=t,this._document=e,this._platform=n,this._overlayContainer=i}global(){return new nT}connectedTo(t,e,n){return new eT(e,n,t,this._viewportRuler,this._document,this._platform,this._overlayContainer)}flexibleConnectedTo(t){return new Zk(t,this._viewportRuler,this._document,this._platform,this._overlayContainer)}}return t.\u0275fac=function(e){return new(e||t)(Kt(F_),Kt(vu),Kt(y_),Kt(Kk))},t.\u0275prov=ht({factory:function(){return new t(Kt(F_),Kt(vu),Kt(y_),Kt(Kk))},token:t,providedIn:"root"}),t})(),rT=0,oT=(()=>{class t{constructor(t,e,n,i,r,o,s,a,l,c){this.scrollStrategies=t,this._overlayContainer=e,this._componentFactoryResolver=n,this._positionBuilder=i,this._keyboardDispatcher=r,this._injector=o,this._ngZone=s,this._document=a,this._directionality=l,this._location=c}create(t){const e=this._createHostElement(),n=this._createPaneElement(e),i=this._createPortalOutlet(n),r=new Vk(t);return r.direction=r.direction||this._directionality.value,new Yk(i,e,n,r,this._ngZone,this._keyboardDispatcher,this._document,this._location)}position(){return this._positionBuilder}_createPaneElement(t){const e=this._document.createElement("div");return e.id=`cdk-overlay-${rT++}`,e.classList.add("cdk-overlay-pane"),t.appendChild(e),e}_createHostElement(){const t=this._document.createElement("div");return this._overlayContainer.getContainerElement().appendChild(t),t}_createPortalOutlet(t){return this._appRef||(this._appRef=this._injector.get(uu)),new jO(t,this._componentFactoryResolver,this._appRef,this._injector,this._document)}}return t.\u0275fac=function(e){return new(e||t)(Kt(Hk),Kt(Kk),Kt(Ka),Kt(iT),Kt(qk),Kt(us),Kt($c),Kt(vu),Kt(k_),Kt(Mu,8))},t.\u0275prov=ht({token:t,factory:t.\u0275fac}),t})();const sT=[{originX:"start",originY:"bottom",overlayX:"start",overlayY:"top"},{originX:"start",originY:"top",overlayX:"start",overlayY:"bottom"},{originX:"end",originY:"top",overlayX:"end",overlayY:"bottom"},{originX:"end",originY:"bottom",overlayX:"end",overlayY:"top"}],aT=new jt("cdk-connected-overlay-scroll-strategy");let lT=(()=>{class t{constructor(t){this.elementRef=t}}return t.\u0275fac=function(e){return new(e||t)(Ms(Ya))},t.\u0275dir=be({type:t,selectors:[["","cdk-overlay-origin",""],["","overlay-origin",""],["","cdkOverlayOrigin",""]],exportAs:["cdkOverlayOrigin"]}),t})(),cT=(()=>{class t{constructor(t,e,n,i,r){this._overlay=t,this._dir=r,this._hasBackdrop=!1,this._lockPosition=!1,this._growAfterOpen=!1,this._flexibleDimensions=!1,this._push=!1,this._backdropSubscription=h.EMPTY,this.viewportMargin=0,this.open=!1,this.backdropClick=new Yl,this.positionChange=new Yl,this.attach=new Yl,this.detach=new Yl,this.overlayKeydown=new Yl,this._templatePortal=new LO(e,n),this._scrollStrategyFactory=i,this.scrollStrategy=this._scrollStrategyFactory()}get offsetX(){return this._offsetX}set offsetX(t){this._offsetX=t,this._position&&this._updatePositionStrategy(this._position)}get offsetY(){return this._offsetY}set offsetY(t){this._offsetY=t,this._position&&this._updatePositionStrategy(this._position)}get hasBackdrop(){return this._hasBackdrop}set hasBackdrop(t){this._hasBackdrop=cy(t)}get lockPosition(){return this._lockPosition}set lockPosition(t){this._lockPosition=cy(t)}get flexibleDimensions(){return this._flexibleDimensions}set flexibleDimensions(t){this._flexibleDimensions=cy(t)}get growAfterOpen(){return this._growAfterOpen}set growAfterOpen(t){this._growAfterOpen=cy(t)}get push(){return this._push}set push(t){this._push=cy(t)}get overlayRef(){return this._overlayRef}get dir(){return this._dir?this._dir.value:"ltr"}ngOnDestroy(){this._overlayRef&&this._overlayRef.dispose(),this._backdropSubscription.unsubscribe()}ngOnChanges(t){this._position&&(this._updatePositionStrategy(this._position),this._overlayRef.updateSize({width:this.width,minWidth:this.minWidth,height:this.height,minHeight:this.minHeight}),t.origin&&this.open&&this._position.apply()),t.open&&(this.open?this._attachOverlay():this._detachOverlay())}_createOverlay(){this.positions&&this.positions.length||(this.positions=sT),this._overlayRef=this._overlay.create(this._buildConfig()),this._overlayRef.keydownEvents().subscribe(t=>{this.overlayKeydown.next(t),27!==t.keyCode||YP(t)||(t.preventDefault(),this._detachOverlay())})}_buildConfig(){const t=this._position=this.positionStrategy||this._createPositionStrategy(),e=new Vk({direction:this._dir,positionStrategy:t,scrollStrategy:this.scrollStrategy,hasBackdrop:this.hasBackdrop});return(this.width||0===this.width)&&(e.width=this.width),(this.height||0===this.height)&&(e.height=this.height),(this.minWidth||0===this.minWidth)&&(e.minWidth=this.minWidth),(this.minHeight||0===this.minHeight)&&(e.minHeight=this.minHeight),this.backdropClass&&(e.backdropClass=this.backdropClass),this.panelClass&&(e.panelClass=this.panelClass),e}_updatePositionStrategy(t){const e=this.positions.map(t=>({originX:t.originX,originY:t.originY,overlayX:t.overlayX,overlayY:t.overlayY,offsetX:t.offsetX||this.offsetX,offsetY:t.offsetY||this.offsetY,panelClass:t.panelClass||void 0}));return t.setOrigin(this.origin.elementRef).withPositions(e).withFlexibleDimensions(this.flexibleDimensions).withPush(this.push).withGrowAfterOpen(this.growAfterOpen).withViewportMargin(this.viewportMargin).withLockedPosition(this.lockPosition).withTransformOriginOn(this.transformOriginSelector)}_createPositionStrategy(){const t=this._overlay.position().flexibleConnectedTo(this.origin.elementRef);return this._updatePositionStrategy(t),t.positionChanges.subscribe(t=>this.positionChange.emit(t)),t}_attachOverlay(){this._overlayRef?this._overlayRef.getConfig().hasBackdrop=this.hasBackdrop:this._createOverlay(),this._overlayRef.hasAttached()||(this._overlayRef.attach(this._templatePortal),this.attach.emit()),this.hasBackdrop?this._backdropSubscription=this._overlayRef.backdropClick().subscribe(t=>{this.backdropClick.emit(t)}):this._backdropSubscription.unsubscribe()}_detachOverlay(){this._overlayRef&&(this._overlayRef.detach(),this.detach.emit()),this._backdropSubscription.unsubscribe()}}return t.\u0275fac=function(e){return new(e||t)(Ms(oT),Ms(bl),Ms(Cl),Ms(aT),Ms(k_,8))},t.\u0275dir=be({type:t,selectors:[["","cdk-connected-overlay",""],["","connected-overlay",""],["","cdkConnectedOverlay",""]],inputs:{viewportMargin:["cdkConnectedOverlayViewportMargin","viewportMargin"],open:["cdkConnectedOverlayOpen","open"],scrollStrategy:["cdkConnectedOverlayScrollStrategy","scrollStrategy"],offsetX:["cdkConnectedOverlayOffsetX","offsetX"],offsetY:["cdkConnectedOverlayOffsetY","offsetY"],hasBackdrop:["cdkConnectedOverlayHasBackdrop","hasBackdrop"],lockPosition:["cdkConnectedOverlayLockPosition","lockPosition"],flexibleDimensions:["cdkConnectedOverlayFlexibleDimensions","flexibleDimensions"],growAfterOpen:["cdkConnectedOverlayGrowAfterOpen","growAfterOpen"],push:["cdkConnectedOverlayPush","push"],positions:["cdkConnectedOverlayPositions","positions"],origin:["cdkConnectedOverlayOrigin","origin"],positionStrategy:["cdkConnectedOverlayPositionStrategy","positionStrategy"],width:["cdkConnectedOverlayWidth","width"],height:["cdkConnectedOverlayHeight","height"],minWidth:["cdkConnectedOverlayMinWidth","minWidth"],minHeight:["cdkConnectedOverlayMinHeight","minHeight"],backdropClass:["cdkConnectedOverlayBackdropClass","backdropClass"],panelClass:["cdkConnectedOverlayPanelClass","panelClass"],transformOriginSelector:["cdkConnectedOverlayTransformOriginOn","transformOriginSelector"]},outputs:{backdropClick:"backdropClick",positionChange:"positionChange",attach:"attach",detach:"detach",overlayKeydown:"overlayKeydown"},exportAs:["cdkConnectedOverlay"],features:[La]}),t})();const uT={provide:aT,deps:[oT],useFactory:function(t){return()=>t.scrollStrategies.reposition()}};let hT=(()=>{class t{}return t.\u0275mod=_e({type:t}),t.\u0275inj=dt({factory:function(e){return new(e||t)},providers:[oT,uT],imports:[[I_,WO,B_],B_]}),t})();const dT=["mat-menu-item",""],pT=["*"];function fT(t,e){if(1&t){const t=Vs();Ls(0,"div",0),$s("keydown",(function(e){return Qe(t),Ys()._handleKeydown(e)}))("click",(function(){return Qe(t),Ys().closed.emit("click")}))("@transformMenu.start",(function(e){return Qe(t),Ys()._onAnimationStart(e)}))("@transformMenu.done",(function(e){return Qe(t),Ys()._onAnimationDone(e)})),Ls(1,"div",1),Js(2),Bs(),Bs()}if(2&t){const t=Ys();Rs("id",t.panelId)("ngClass",t._classList)("@transformMenu",t._panelAnimationState),ks("aria-label",t.ariaLabel||null)("aria-labelledby",t.ariaLabelledby||null)("aria-describedby",t.ariaDescribedby||null)}}const mT={transformMenu:jf("transformMenu",[Wf("void",Uf({opacity:0,transform:"scale(0.8)"})),Gf("void => enter",Hf([Xf(".mat-menu-content, .mat-mdc-menu-content",zf("100ms linear",Uf({opacity:1}))),zf("120ms cubic-bezier(0, 0, 0.2, 1)",Uf({transform:"scale(1)"}))])),Gf("* => void",zf("100ms 25ms linear",Uf({opacity:0})))]),fadeInItems:jf("fadeInItems",[Wf("showing",Uf({opacity:1})),Gf("void => *",[Uf({opacity:0}),zf("400ms 100ms cubic-bezier(0.55, 0, 0.55, 0.2)")])])};let gT=(()=>{class t{constructor(t,e,n,i,r,o,s){this._template=t,this._componentFactoryResolver=e,this._appRef=n,this._injector=i,this._viewContainerRef=r,this._document=o,this._changeDetectorRef=s,this._attached=new x}attach(t={}){this._portal||(this._portal=new LO(this._template,this._viewContainerRef)),this.detach(),this._outlet||(this._outlet=new jO(this._document.createElement("div"),this._componentFactoryResolver,this._appRef,this._injector));const e=this._template.elementRef.nativeElement;e.parentNode.insertBefore(this._outlet.outletElement,e),this._changeDetectorRef&&this._changeDetectorRef.markForCheck(),this._portal.attach(this._outlet,t),this._attached.next()}detach(){this._portal.isAttached&&this._portal.detach()}ngOnDestroy(){this._outlet&&this._outlet.dispose()}}return t.\u0275fac=function(e){return new(e||t)(Ms(bl),Ms(Ka),Ms(uu),Ms(us),Ms(Cl),Ms(vu),Ms(Xo))},t.\u0275dir=be({type:t,selectors:[["ng-template","matMenuContent",""]]}),t})();const yT=new jt("MAT_MENU_PANEL");class _T{}const vT=nk(tk(_T));let bT=(()=>{class t extends vT{constructor(t,e,n,i){super(),this._elementRef=t,this._focusMonitor=n,this._parentMenu=i,this.role="menuitem",this._hovered=new x,this._focused=new x,this._highlighted=!1,this._triggersSubmenu=!1,n&&n.monitor(this._elementRef,!1),i&&i.addItem&&i.addItem(this),this._document=e}focus(t="program",e){this._focusMonitor?this._focusMonitor.focusVia(this._getHostElement(),t,e):this._getHostElement().focus(e),this._focused.next(this)}ngOnDestroy(){this._focusMonitor&&this._focusMonitor.stopMonitoring(this._elementRef),this._parentMenu&&this._parentMenu.removeItem&&this._parentMenu.removeItem(this),this._hovered.complete(),this._focused.complete()}_getTabIndex(){return this.disabled?"-1":"0"}_getHostElement(){return this._elementRef.nativeElement}_checkDisabled(t){this.disabled&&(t.preventDefault(),t.stopPropagation())}_handleMouseEnter(){this._hovered.next(this)}getLabel(){const t=this._elementRef.nativeElement,e=this._document?this._document.TEXT_NODE:3;let n="";if(t.childNodes){const i=t.childNodes.length;for(let r=0;r<i;r++)t.childNodes[r].nodeType===e&&(n+=t.childNodes[r].textContent)}return n.trim()}}return t.\u0275fac=function(e){return new(e||t)(Ms(Ya),Ms(vu),Ms(EO),Ms(yT,8))},t.\u0275cmp=pe({type:t,selectors:[["","mat-menu-item",""]],hostAttrs:[1,"mat-focus-indicator"],hostVars:10,hostBindings:function(t,e){1&t&&$s("click",(function(t){return e._checkDisabled(t)}))("mouseenter",(function(){return e._handleMouseEnter()})),2&t&&(ks("role",e.role)("tabindex",e._getTabIndex())("aria-disabled",e.disabled.toString())("disabled",e.disabled||null),ua("mat-menu-item",!0)("mat-menu-item-highlighted",e._highlighted)("mat-menu-item-submenu-trigger",e._triggersSubmenu))},inputs:{disabled:"disabled",disableRipple:"disableRipple",role:"role"},exportAs:["matMenuItem"],features:[Ia],attrs:dT,ngContentSelectors:pT,decls:2,vars:2,consts:[["matRipple","",1,"mat-menu-ripple",3,"matRippleDisabled","matRippleTrigger"]],template:function(t,e){1&t&&(Zs(),Js(0),Ns(1,"div",0)),2&t&&(vr(1),Rs("matRippleDisabled",e.disableRipple||e.disabled)("matRippleTrigger",e._getHostElement()))},directives:[yk],encapsulation:2,changeDetection:0}),t})();const wT=new jt("mat-menu-default-options",{providedIn:"root",factory:function(){return{overlapTrigger:!1,xPosition:"after",yPosition:"below",backdropClass:"cdk-overlay-transparent-backdrop"}}});let CT=0,xT=(()=>{class t{constructor(t,e,n){this._elementRef=t,this._ngZone=e,this._defaultOptions=n,this._xPosition=this._defaultOptions.xPosition,this._yPosition=this._defaultOptions.yPosition,this._directDescendantItems=new Zl,this._tabSubscription=h.EMPTY,this._classList={},this._panelAnimationState="void",this._animationDone=new x,this.backdropClass=this._defaultOptions.backdropClass,this._overlapTrigger=this._defaultOptions.overlapTrigger,this._hasBackdrop=this._defaultOptions.hasBackdrop,this.closed=new Yl,this.close=this.closed,this.panelId=`mat-menu-panel-${CT++}`}get xPosition(){return this._xPosition}set xPosition(t){"before"!==t&&"after"!==t&&function(){throw Error('xPosition value must be either \'before\' or after\'.\n      Example: <mat-menu xPosition="before" #menu="matMenu"></mat-menu>')}(),this._xPosition=t,this.setPositionClasses()}get yPosition(){return this._yPosition}set yPosition(t){"above"!==t&&"below"!==t&&function(){throw Error('yPosition value must be either \'above\' or below\'.\n      Example: <mat-menu yPosition="above" #menu="matMenu"></mat-menu>')}(),this._yPosition=t,this.setPositionClasses()}get overlapTrigger(){return this._overlapTrigger}set overlapTrigger(t){this._overlapTrigger=cy(t)}get hasBackdrop(){return this._hasBackdrop}set hasBackdrop(t){this._hasBackdrop=cy(t)}set panelClass(t){const e=this._previousPanelClass;e&&e.length&&e.split(" ").forEach(t=>{this._classList[t]=!1}),this._previousPanelClass=t,t&&t.length&&(t.split(" ").forEach(t=>{this._classList[t]=!0}),this._elementRef.nativeElement.className="")}get classList(){return this.panelClass}set classList(t){this.panelClass=t}ngOnInit(){this.setPositionClasses()}ngAfterContentInit(){this._updateDirectDescendants(),this._keyManager=new dO(this._directDescendantItems).withWrap().withTypeAhead(),this._tabSubscription=this._keyManager.tabOut.subscribe(()=>this.closed.emit("tab")),this._directDescendantItems.changes.pipe(Ky(this._directDescendantItems),Zy(t=>$(...t.map(t=>t._focused)))).subscribe(t=>this._keyManager.updateActiveItem(t))}ngOnDestroy(){this._directDescendantItems.destroy(),this._tabSubscription.unsubscribe(),this.closed.complete()}_hovered(){return this._directDescendantItems.changes.pipe(Ky(this._directDescendantItems),Zy(t=>$(...t.map(t=>t._hovered))))}addItem(t){}removeItem(t){}_handleKeydown(t){const e=t.keyCode,n=this._keyManager;switch(e){case 27:YP(t)||(t.preventDefault(),this.closed.emit("keydown"));break;case 37:this.parentMenu&&"ltr"===this.direction&&this.closed.emit("keydown");break;case 39:this.parentMenu&&"rtl"===this.direction&&this.closed.emit("keydown");break;case 36:case 35:YP(t)||(36===e?n.setFirstItemActive():n.setLastItemActive(),t.preventDefault());break;default:38!==e&&40!==e||n.setFocusOrigin("keyboard"),n.onKeydown(t)}}focusFirstItem(t="program"){this.lazyContent?this._ngZone.onStable.asObservable().pipe(H_(1)).subscribe(()=>this._focusFirstItem(t)):this._focusFirstItem(t)}_focusFirstItem(t){const e=this._keyManager;if(e.setFocusOrigin(t).setFirstItemActive(),!e.activeItem&&this._directDescendantItems.length){let t=this._directDescendantItems.first._getHostElement().parentElement;for(;t;){if("menu"===t.getAttribute("role")){t.focus();break}t=t.parentElement}}}resetActiveItem(){this._keyManager.setActiveItem(-1)}setElevation(t){const e=`mat-elevation-z${Math.min(4+t,24)}`,n=Object.keys(this._classList).find(t=>t.startsWith("mat-elevation-z"));n&&n!==this._previousElevation||(this._previousElevation&&(this._classList[this._previousElevation]=!1),this._classList[e]=!0,this._previousElevation=e)}setPositionClasses(t=this.xPosition,e=this.yPosition){const n=this._classList;n["mat-menu-before"]="before"===t,n["mat-menu-after"]="after"===t,n["mat-menu-above"]="above"===e,n["mat-menu-below"]="below"===e}_startAnimation(){this._panelAnimationState="enter"}_resetAnimation(){this._panelAnimationState="void"}_onAnimationDone(t){this._animationDone.next(t),this._isAnimating=!1}_onAnimationStart(t){this._isAnimating=!0,"enter"===t.toState&&0===this._keyManager.activeItemIndex&&(t.element.scrollTop=0)}_updateDirectDescendants(){this._allItems.changes.pipe(Ky(this._allItems)).subscribe(t=>{this._directDescendantItems.reset(t.filter(t=>t._parentMenu===this)),this._directDescendantItems.notifyOnChanges()})}}return t.\u0275fac=function(e){return new(e||t)(Ms(Ya),Ms($c),Ms(wT))},t.\u0275dir=be({type:t,contentQueries:function(t,e,n){var i;1&t&&(hc(n,gT,!0),hc(n,bT,!0),hc(n,bT,!1)),2&t&&(ac(i=fc())&&(e.lazyContent=i.first),ac(i=fc())&&(e._allItems=i),ac(i=fc())&&(e.items=i))},viewQuery:function(t,e){var n;1&t&&cc(bl,!0),2&t&&ac(n=fc())&&(e.templateRef=n.first)},inputs:{backdropClass:"backdropClass",xPosition:"xPosition",yPosition:"yPosition",overlapTrigger:"overlapTrigger",hasBackdrop:"hasBackdrop",panelClass:["class","panelClass"],classList:"classList",ariaLabel:["aria-label","ariaLabel"],ariaLabelledby:["aria-labelledby","ariaLabelledby"],ariaDescribedby:["aria-describedby","ariaDescribedby"]},outputs:{closed:"closed",close:"close"}}),t})(),ET=(()=>{class t extends xT{}return t.\u0275fac=function(e){return ST(e||t)},t.\u0275dir=be({type:t,features:[Ia]}),t})();const ST=ui(ET);let PT=(()=>{class t extends ET{constructor(t,e,n){super(t,e,n)}}return t.\u0275fac=function(e){return new(e||t)(Ms(Ya),Ms($c),Ms(wT))},t.\u0275cmp=pe({type:t,selectors:[["mat-menu"]],exportAs:["matMenu"],features:[Ga([{provide:yT,useExisting:ET},{provide:ET,useExisting:t}]),Ia],ngContentSelectors:pT,decls:1,vars:0,consts:[["tabindex","-1","role","menu",1,"mat-menu-panel",3,"id","ngClass","keydown","click"],[1,"mat-menu-content"]],template:function(t,e){1&t&&(Zs(),Is(0,fT,3,6,"ng-template"))},directives:[vh],styles:['.mat-menu-panel{min-width:112px;max-width:280px;overflow:auto;-webkit-overflow-scrolling:touch;max-height:calc(100vh - 48px);border-radius:4px;outline:0;min-height:64px}.mat-menu-panel.ng-animating{pointer-events:none}.cdk-high-contrast-active .mat-menu-panel{outline:solid 1px}.mat-menu-content:not(:empty){padding-top:8px;padding-bottom:8px}.mat-menu-item{-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none;cursor:pointer;outline:none;border:none;-webkit-tap-highlight-color:transparent;white-space:nowrap;overflow:hidden;text-overflow:ellipsis;display:block;line-height:48px;height:48px;padding:0 16px;text-align:left;text-decoration:none;max-width:100%;position:relative}.mat-menu-item::-moz-focus-inner{border:0}.mat-menu-item[disabled]{cursor:default}[dir=rtl] .mat-menu-item{text-align:right}.mat-menu-item .mat-icon{margin-right:16px;vertical-align:middle}.mat-menu-item .mat-icon svg{vertical-align:top}[dir=rtl] .mat-menu-item .mat-icon{margin-left:16px;margin-right:0}.mat-menu-item[disabled]{pointer-events:none}.cdk-high-contrast-active .mat-menu-item.cdk-program-focused,.cdk-high-contrast-active .mat-menu-item.cdk-keyboard-focused,.cdk-high-contrast-active .mat-menu-item-highlighted{outline:dotted 1px}.mat-menu-item-submenu-trigger{padding-right:32px}.mat-menu-item-submenu-trigger::after{width:0;height:0;border-style:solid;border-width:5px 0 5px 5px;border-color:transparent transparent transparent currentColor;content:"";display:inline-block;position:absolute;top:50%;right:16px;transform:translateY(-50%)}[dir=rtl] .mat-menu-item-submenu-trigger{padding-right:16px;padding-left:32px}[dir=rtl] .mat-menu-item-submenu-trigger::after{right:auto;left:16px;transform:rotateY(180deg) translateY(-50%)}button.mat-menu-item{width:100%}.mat-menu-item .mat-menu-ripple{top:0;left:0;right:0;bottom:0;position:absolute;pointer-events:none}\n'],encapsulation:2,data:{animation:[mT.transformMenu,mT.fadeInItems]},changeDetection:0}),t})();const OT=new jt("mat-menu-scroll-strategy"),kT={provide:OT,deps:[oT],useFactory:function(t){return()=>t.scrollStrategies.reposition()}},TT=E_({passive:!0});let IT=(()=>{class t{constructor(t,e,n,i,r,o,s,a){this._overlay=t,this._element=e,this._viewContainerRef=n,this._parentMenu=r,this._menuItemInstance=o,this._dir=s,this._focusMonitor=a,this._overlayRef=null,this._menuOpen=!1,this._closingActionsSubscription=h.EMPTY,this._hoverSubscription=h.EMPTY,this._menuCloseSubscription=h.EMPTY,this._handleTouchStart=()=>this._openedBy="touch",this._openedBy=null,this.restoreFocus=!0,this.menuOpened=new Yl,this.onMenuOpen=this.menuOpened,this.menuClosed=new Yl,this.onMenuClose=this.menuClosed,e.nativeElement.addEventListener("touchstart",this._handleTouchStart,TT),o&&(o._triggersSubmenu=this.triggersSubmenu()),this._scrollStrategy=i}get _deprecatedMatMenuTriggerFor(){return this.menu}set _deprecatedMatMenuTriggerFor(t){this.menu=t}get menu(){return this._menu}set menu(t){t!==this._menu&&(this._menu=t,this._menuCloseSubscription.unsubscribe(),t&&(this._menuCloseSubscription=t.close.asObservable().subscribe(t=>{this._destroyMenu(),"click"!==t&&"tab"!==t||!this._parentMenu||this._parentMenu.closed.emit(t)})))}ngAfterContentInit(){this._checkMenu(),this._handleHover()}ngOnDestroy(){this._overlayRef&&(this._overlayRef.dispose(),this._overlayRef=null),this._element.nativeElement.removeEventListener("touchstart",this._handleTouchStart,TT),this._menuCloseSubscription.unsubscribe(),this._closingActionsSubscription.unsubscribe(),this._hoverSubscription.unsubscribe()}get menuOpen(){return this._menuOpen}get dir(){return this._dir&&"rtl"===this._dir.value?"rtl":"ltr"}triggersSubmenu(){return!(!this._menuItemInstance||!this._parentMenu)}toggleMenu(){return this._menuOpen?this.closeMenu():this.openMenu()}openMenu(){if(this._menuOpen)return;this._checkMenu();const t=this._createOverlay(),e=t.getConfig();this._setPosition(e.positionStrategy),e.hasBackdrop=null==this.menu.hasBackdrop?!this.triggersSubmenu():this.menu.hasBackdrop,t.attach(this._getPortal()),this.menu.lazyContent&&this.menu.lazyContent.attach(this.menuData),this._closingActionsSubscription=this._menuClosingActions().subscribe(()=>this.closeMenu()),this._initMenu(),this.menu instanceof ET&&this.menu._startAnimation()}closeMenu(){this.menu.close.emit()}focus(t="program",e){this._focusMonitor?this._focusMonitor.focusVia(this._element,t,e):this._element.nativeElement.focus(e)}_destroyMenu(){if(!this._overlayRef||!this.menuOpen)return;const t=this.menu;this._closingActionsSubscription.unsubscribe(),this._overlayRef.detach(),this._restoreFocus(),t instanceof ET?(t._resetAnimation(),t.lazyContent?t._animationDone.pipe(Vy(t=>"void"===t.toState),H_(1),$y(t.lazyContent._attached)).subscribe({next:()=>t.lazyContent.detach(),complete:()=>this._setIsMenuOpen(!1)}):this._setIsMenuOpen(!1)):(this._setIsMenuOpen(!1),t.lazyContent&&t.lazyContent.detach())}_initMenu(){this.menu.parentMenu=this.triggersSubmenu()?this._parentMenu:void 0,this.menu.direction=this.dir,this._setMenuElevation(),this._setIsMenuOpen(!0),this.menu.focusFirstItem(this._openedBy||"program")}_setMenuElevation(){if(this.menu.setElevation){let t=0,e=this.menu.parentMenu;for(;e;)t++,e=e.parentMenu;this.menu.setElevation(t)}}_restoreFocus(){this.restoreFocus&&(this._openedBy?this.triggersSubmenu()||this.focus(this._openedBy):this.focus()),this._openedBy=null}_setIsMenuOpen(t){this._menuOpen=t,this._menuOpen?this.menuOpened.emit():this.menuClosed.emit(),this.triggersSubmenu()&&(this._menuItemInstance._highlighted=t)}_checkMenu(){this.menu||function(){throw Error('matMenuTriggerFor: must pass in an mat-menu instance.\n\n    Example:\n      <mat-menu #menu="matMenu"></mat-menu>\n      <button [matMenuTriggerFor]="menu"></button>')}()}_createOverlay(){if(!this._overlayRef){const t=this._getOverlayConfig();this._subscribeToPositions(t.positionStrategy),this._overlayRef=this._overlay.create(t),this._overlayRef.keydownEvents().subscribe()}return this._overlayRef}_getOverlayConfig(){return new Vk({positionStrategy:this._overlay.position().flexibleConnectedTo(this._element).withLockedPosition().withTransformOriginOn(".mat-menu-panel, .mat-mdc-menu-panel"),backdropClass:this.menu.backdropClass||"cdk-overlay-transparent-backdrop",scrollStrategy:this._scrollStrategy(),direction:this._dir})}_subscribeToPositions(t){this.menu.setPositionClasses&&t.positionChanges.subscribe(t=>{this.menu.setPositionClasses("start"===t.connectionPair.overlayX?"after":"before","top"===t.connectionPair.overlayY?"below":"above")})}_setPosition(t){let[e,n]="before"===this.menu.xPosition?["end","start"]:["start","end"],[i,r]="above"===this.menu.yPosition?["bottom","top"]:["top","bottom"],[o,s]=[i,r],[a,l]=[e,n],c=0;this.triggersSubmenu()?(l=e="before"===this.menu.xPosition?"start":"end",n=a="end"===e?"start":"end",c="bottom"===i?8:-8):this.menu.overlapTrigger||(o="top"===i?"bottom":"top",s="top"===r?"bottom":"top"),t.withPositions([{originX:e,originY:o,overlayX:a,overlayY:i,offsetY:c},{originX:n,originY:o,overlayX:l,overlayY:i,offsetY:c},{originX:e,originY:s,overlayX:a,overlayY:r,offsetY:-c},{originX:n,originY:s,overlayX:l,overlayY:r,offsetY:-c}])}_menuClosingActions(){const t=this._overlayRef.backdropClick(),e=this._overlayRef.detachments();return $(t,this._parentMenu?this._parentMenu.closed:fy(),this._parentMenu?this._parentMenu._hovered().pipe(Vy(t=>t!==this._menuItemInstance),Vy(()=>this._menuOpen)):fy(),e)}_handleMousedown(t){wO(t)||(this._openedBy=0===t.button?"mouse":null,this.triggersSubmenu()&&t.preventDefault())}_handleKeydown(t){const e=t.keyCode;this.triggersSubmenu()&&(39===e&&"ltr"===this.dir||37===e&&"rtl"===this.dir)&&this.openMenu()}_handleClick(t){this.triggersSubmenu()?(t.stopPropagation(),this.openMenu()):this.toggleMenu()}_handleHover(){this.triggersSubmenu()&&(this._hoverSubscription=this._parentMenu._hovered().pipe(Vy(t=>t===this._menuItemInstance&&!t.disabled),TO(0,Iy)).subscribe(()=>{this._openedBy="mouse",this.menu instanceof ET&&this.menu._isAnimating?this.menu._animationDone.pipe(H_(1),TO(0,Iy),$y(this._parentMenu._hovered())).subscribe(()=>this.openMenu()):this.openMenu()}))}_getPortal(){return this._portal&&this._portal.templateRef===this.menu.templateRef||(this._portal=new LO(this.menu.templateRef,this._viewContainerRef)),this._portal}}return t.\u0275fac=function(e){return new(e||t)(Ms(oT),Ms(Ya),Ms(Cl),Ms(OT),Ms(ET,8),Ms(bT,10),Ms(k_,8),Ms(EO))},t.\u0275dir=be({type:t,selectors:[["","mat-menu-trigger-for",""],["","matMenuTriggerFor",""]],hostAttrs:["aria-haspopup","true",1,"mat-menu-trigger"],hostVars:2,hostBindings:function(t,e){1&t&&$s("mousedown",(function(t){return e._handleMousedown(t)}))("keydown",(function(t){return e._handleKeydown(t)}))("click",(function(t){return e._handleClick(t)})),2&t&&ks("aria-expanded",e.menuOpen||null)("aria-controls",e.menuOpen?e.menu.panelId:null)},inputs:{restoreFocus:["matMenuTriggerRestoreFocus","restoreFocus"],_deprecatedMatMenuTriggerFor:["mat-menu-trigger-for","_deprecatedMatMenuTriggerFor"],menu:["matMenuTriggerFor","menu"],menuData:["matMenuTriggerData","menuData"]},outputs:{menuOpened:"menuOpened",onMenuOpen:"onMenuOpen",menuClosed:"menuClosed",onMenuClose:"onMenuClose"},exportAs:["matMenuTrigger"]}),t})(),AT=(()=>{class t{}return t.\u0275mod=_e({type:t}),t.\u0275inj=dt({factory:function(e){return new(e||t)},providers:[kT],imports:[JO]}),t})(),MT=(()=>{class t{}return t.\u0275mod=_e({type:t}),t.\u0275inj=dt({factory:function(e){return new(e||t)},providers:[kT],imports:[[rd,JO,_k,hT,AT],L_,JO,AT]}),t})();const DT=["mat-button",""],RT=["*"],FT=["mat-button","mat-flat-button","mat-icon-button","mat-raised-button","mat-stroked-button","mat-mini-fab","mat-fab"];class LT{constructor(t){this._elementRef=t}}const BT=ek(tk(nk(LT)));let NT=(()=>{class t extends BT{constructor(t,e,n){super(t),this._focusMonitor=e,this._animationMode=n,this.isRoundButton=this._hasHostAttributes("mat-fab","mat-mini-fab"),this.isIconButton=this._hasHostAttributes("mat-icon-button");for(const i of FT)this._hasHostAttributes(i)&&this._getHostElement().classList.add(i);t.nativeElement.classList.add("mat-button-base"),this._focusMonitor.monitor(this._elementRef,!0),this.isRoundButton&&(this.color="accent")}ngOnDestroy(){this._focusMonitor.stopMonitoring(this._elementRef)}focus(t="program",e){this._focusMonitor.focusVia(this._getHostElement(),t,e)}_getHostElement(){return this._elementRef.nativeElement}_isRippleDisabled(){return this.disableRipple||this.disabled}_hasHostAttributes(...t){return t.some(t=>this._getHostElement().hasAttribute(t))}}return t.\u0275fac=function(e){return new(e||t)(Ms(Ya),Ms(EO),Ms(sy,8))},t.\u0275cmp=pe({type:t,selectors:[["button","mat-button",""],["button","mat-raised-button",""],["button","mat-icon-button",""],["button","mat-fab",""],["button","mat-mini-fab",""],["button","mat-stroked-button",""],["button","mat-flat-button",""]],viewQuery:function(t,e){var n;1&t&&cc(yk,!0),2&t&&ac(n=fc())&&(e.ripple=n.first)},hostAttrs:[1,"mat-focus-indicator"],hostVars:3,hostBindings:function(t,e){2&t&&(ks("disabled",e.disabled||null),ua("_mat-animation-noopable","NoopAnimations"===e._animationMode))},inputs:{disabled:"disabled",disableRipple:"disableRipple",color:"color"},exportAs:["matButton"],features:[Ia],attrs:DT,ngContentSelectors:RT,decls:4,vars:5,consts:[[1,"mat-button-wrapper"],["matRipple","",1,"mat-button-ripple",3,"matRippleDisabled","matRippleCentered","matRippleTrigger"],[1,"mat-button-focus-overlay"]],template:function(t,e){1&t&&(Zs(),Ls(0,"span",0),Js(1),Bs(),Ns(2,"div",1),Ns(3,"div",2)),2&t&&(vr(2),ua("mat-button-ripple-round",e.isRoundButton||e.isIconButton),Rs("matRippleDisabled",e._isRippleDisabled())("matRippleCentered",e.isIconButton)("matRippleTrigger",e._getHostElement()))},directives:[yk],styles:[".mat-button .mat-button-focus-overlay,.mat-icon-button .mat-button-focus-overlay{opacity:0}.mat-button:hover .mat-button-focus-overlay,.mat-stroked-button:hover .mat-button-focus-overlay{opacity:.04}@media(hover: none){.mat-button:hover .mat-button-focus-overlay,.mat-stroked-button:hover .mat-button-focus-overlay{opacity:0}}.mat-button,.mat-icon-button,.mat-stroked-button,.mat-flat-button{box-sizing:border-box;position:relative;-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none;cursor:pointer;outline:none;border:none;-webkit-tap-highlight-color:transparent;display:inline-block;white-space:nowrap;text-decoration:none;vertical-align:baseline;text-align:center;margin:0;min-width:64px;line-height:36px;padding:0 16px;border-radius:4px;overflow:visible}.mat-button::-moz-focus-inner,.mat-icon-button::-moz-focus-inner,.mat-stroked-button::-moz-focus-inner,.mat-flat-button::-moz-focus-inner{border:0}.mat-button[disabled],.mat-icon-button[disabled],.mat-stroked-button[disabled],.mat-flat-button[disabled]{cursor:default}.mat-button.cdk-keyboard-focused .mat-button-focus-overlay,.mat-button.cdk-program-focused .mat-button-focus-overlay,.mat-icon-button.cdk-keyboard-focused .mat-button-focus-overlay,.mat-icon-button.cdk-program-focused .mat-button-focus-overlay,.mat-stroked-button.cdk-keyboard-focused .mat-button-focus-overlay,.mat-stroked-button.cdk-program-focused .mat-button-focus-overlay,.mat-flat-button.cdk-keyboard-focused .mat-button-focus-overlay,.mat-flat-button.cdk-program-focused .mat-button-focus-overlay{opacity:.12}.mat-button::-moz-focus-inner,.mat-icon-button::-moz-focus-inner,.mat-stroked-button::-moz-focus-inner,.mat-flat-button::-moz-focus-inner{border:0}.mat-raised-button{box-sizing:border-box;position:relative;-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none;cursor:pointer;outline:none;border:none;-webkit-tap-highlight-color:transparent;display:inline-block;white-space:nowrap;text-decoration:none;vertical-align:baseline;text-align:center;margin:0;min-width:64px;line-height:36px;padding:0 16px;border-radius:4px;overflow:visible;transform:translate3d(0, 0, 0);transition:background 400ms cubic-bezier(0.25, 0.8, 0.25, 1),box-shadow 280ms cubic-bezier(0.4, 0, 0.2, 1)}.mat-raised-button::-moz-focus-inner{border:0}.mat-raised-button[disabled]{cursor:default}.mat-raised-button.cdk-keyboard-focused .mat-button-focus-overlay,.mat-raised-button.cdk-program-focused .mat-button-focus-overlay{opacity:.12}.mat-raised-button::-moz-focus-inner{border:0}._mat-animation-noopable.mat-raised-button{transition:none;animation:none}.mat-stroked-button{border:1px solid currentColor;padding:0 15px;line-height:34px}.mat-stroked-button .mat-button-ripple.mat-ripple,.mat-stroked-button .mat-button-focus-overlay{top:-1px;left:-1px;right:-1px;bottom:-1px}.mat-fab{box-sizing:border-box;position:relative;-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none;cursor:pointer;outline:none;border:none;-webkit-tap-highlight-color:transparent;display:inline-block;white-space:nowrap;text-decoration:none;vertical-align:baseline;text-align:center;margin:0;min-width:64px;line-height:36px;padding:0 16px;border-radius:4px;overflow:visible;transform:translate3d(0, 0, 0);transition:background 400ms cubic-bezier(0.25, 0.8, 0.25, 1),box-shadow 280ms cubic-bezier(0.4, 0, 0.2, 1);min-width:0;border-radius:50%;width:56px;height:56px;padding:0;flex-shrink:0}.mat-fab::-moz-focus-inner{border:0}.mat-fab[disabled]{cursor:default}.mat-fab.cdk-keyboard-focused .mat-button-focus-overlay,.mat-fab.cdk-program-focused .mat-button-focus-overlay{opacity:.12}.mat-fab::-moz-focus-inner{border:0}._mat-animation-noopable.mat-fab{transition:none;animation:none}.mat-fab .mat-button-wrapper{padding:16px 0;display:inline-block;line-height:24px}.mat-mini-fab{box-sizing:border-box;position:relative;-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none;cursor:pointer;outline:none;border:none;-webkit-tap-highlight-color:transparent;display:inline-block;white-space:nowrap;text-decoration:none;vertical-align:baseline;text-align:center;margin:0;min-width:64px;line-height:36px;padding:0 16px;border-radius:4px;overflow:visible;transform:translate3d(0, 0, 0);transition:background 400ms cubic-bezier(0.25, 0.8, 0.25, 1),box-shadow 280ms cubic-bezier(0.4, 0, 0.2, 1);min-width:0;border-radius:50%;width:40px;height:40px;padding:0;flex-shrink:0}.mat-mini-fab::-moz-focus-inner{border:0}.mat-mini-fab[disabled]{cursor:default}.mat-mini-fab.cdk-keyboard-focused .mat-button-focus-overlay,.mat-mini-fab.cdk-program-focused .mat-button-focus-overlay{opacity:.12}.mat-mini-fab::-moz-focus-inner{border:0}._mat-animation-noopable.mat-mini-fab{transition:none;animation:none}.mat-mini-fab .mat-button-wrapper{padding:8px 0;display:inline-block;line-height:24px}.mat-icon-button{padding:0;min-width:0;width:40px;height:40px;flex-shrink:0;line-height:40px;border-radius:50%}.mat-icon-button i,.mat-icon-button .mat-icon{line-height:24px}.mat-button-ripple.mat-ripple,.mat-button-focus-overlay{top:0;left:0;right:0;bottom:0;position:absolute;pointer-events:none;border-radius:inherit}.mat-button-ripple.mat-ripple:not(:empty){transform:translateZ(0)}.mat-button-focus-overlay{opacity:0;transition:opacity 200ms cubic-bezier(0.35, 0, 0.25, 1),background-color 200ms cubic-bezier(0.35, 0, 0.25, 1)}._mat-animation-noopable .mat-button-focus-overlay{transition:none}.cdk-high-contrast-active .mat-button-focus-overlay{background-color:#fff}.cdk-high-contrast-black-on-white .mat-button-focus-overlay{background-color:#000}.mat-button-ripple-round{border-radius:50%;z-index:1}.mat-button .mat-button-wrapper>*,.mat-flat-button .mat-button-wrapper>*,.mat-stroked-button .mat-button-wrapper>*,.mat-raised-button .mat-button-wrapper>*,.mat-icon-button .mat-button-wrapper>*,.mat-fab .mat-button-wrapper>*,.mat-mini-fab .mat-button-wrapper>*{vertical-align:middle}.mat-form-field:not(.mat-form-field-appearance-legacy) .mat-form-field-prefix .mat-icon-button,.mat-form-field:not(.mat-form-field-appearance-legacy) .mat-form-field-suffix .mat-icon-button{display:block;font-size:inherit;width:2.5em;height:2.5em}.cdk-high-contrast-active .mat-button,.cdk-high-contrast-active .mat-flat-button,.cdk-high-contrast-active .mat-raised-button,.cdk-high-contrast-active .mat-icon-button,.cdk-high-contrast-active .mat-fab,.cdk-high-contrast-active .mat-mini-fab{outline:solid 1px}\n"],encapsulation:2,changeDetection:0}),t})(),jT=(()=>{class t extends NT{constructor(t,e,n){super(e,t,n)}_haltDisabledEvents(t){this.disabled&&(t.preventDefault(),t.stopImmediatePropagation())}}return t.\u0275fac=function(e){return new(e||t)(Ms(EO),Ms(Ya),Ms(sy,8))},t.\u0275cmp=pe({type:t,selectors:[["a","mat-button",""],["a","mat-raised-button",""],["a","mat-icon-button",""],["a","mat-fab",""],["a","mat-mini-fab",""],["a","mat-stroked-button",""],["a","mat-flat-button",""]],hostAttrs:[1,"mat-focus-indicator"],hostVars:5,hostBindings:function(t,e){1&t&&$s("click",(function(t){return e._haltDisabledEvents(t)})),2&t&&(ks("tabindex",e.disabled?-1:e.tabIndex||0)("disabled",e.disabled||null)("aria-disabled",e.disabled.toString()),ua("_mat-animation-noopable","NoopAnimations"===e._animationMode))},inputs:{disabled:"disabled",disableRipple:"disableRipple",color:"color",tabIndex:"tabIndex"},exportAs:["matButton","matAnchor"],features:[Ia],attrs:DT,ngContentSelectors:RT,decls:4,vars:5,consts:[[1,"mat-button-wrapper"],["matRipple","",1,"mat-button-ripple",3,"matRippleDisabled","matRippleCentered","matRippleTrigger"],[1,"mat-button-focus-overlay"]],template:function(t,e){1&t&&(Zs(),Ls(0,"span",0),Js(1),Bs(),Ns(2,"div",1),Ns(3,"div",2)),2&t&&(vr(2),ua("mat-button-ripple-round",e.isRoundButton||e.isIconButton),Rs("matRippleDisabled",e._isRippleDisabled())("matRippleCentered",e.isIconButton)("matRippleTrigger",e._getHostElement()))},directives:[yk],styles:[".mat-button .mat-button-focus-overlay,.mat-icon-button .mat-button-focus-overlay{opacity:0}.mat-button:hover .mat-button-focus-overlay,.mat-stroked-button:hover .mat-button-focus-overlay{opacity:.04}@media(hover: none){.mat-button:hover .mat-button-focus-overlay,.mat-stroked-button:hover .mat-button-focus-overlay{opacity:0}}.mat-button,.mat-icon-button,.mat-stroked-button,.mat-flat-button{box-sizing:border-box;position:relative;-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none;cursor:pointer;outline:none;border:none;-webkit-tap-highlight-color:transparent;display:inline-block;white-space:nowrap;text-decoration:none;vertical-align:baseline;text-align:center;margin:0;min-width:64px;line-height:36px;padding:0 16px;border-radius:4px;overflow:visible}.mat-button::-moz-focus-inner,.mat-icon-button::-moz-focus-inner,.mat-stroked-button::-moz-focus-inner,.mat-flat-button::-moz-focus-inner{border:0}.mat-button[disabled],.mat-icon-button[disabled],.mat-stroked-button[disabled],.mat-flat-button[disabled]{cursor:default}.mat-button.cdk-keyboard-focused .mat-button-focus-overlay,.mat-button.cdk-program-focused .mat-button-focus-overlay,.mat-icon-button.cdk-keyboard-focused .mat-button-focus-overlay,.mat-icon-button.cdk-program-focused .mat-button-focus-overlay,.mat-stroked-button.cdk-keyboard-focused .mat-button-focus-overlay,.mat-stroked-button.cdk-program-focused .mat-button-focus-overlay,.mat-flat-button.cdk-keyboard-focused .mat-button-focus-overlay,.mat-flat-button.cdk-program-focused .mat-button-focus-overlay{opacity:.12}.mat-button::-moz-focus-inner,.mat-icon-button::-moz-focus-inner,.mat-stroked-button::-moz-focus-inner,.mat-flat-button::-moz-focus-inner{border:0}.mat-raised-button{box-sizing:border-box;position:relative;-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none;cursor:pointer;outline:none;border:none;-webkit-tap-highlight-color:transparent;display:inline-block;white-space:nowrap;text-decoration:none;vertical-align:baseline;text-align:center;margin:0;min-width:64px;line-height:36px;padding:0 16px;border-radius:4px;overflow:visible;transform:translate3d(0, 0, 0);transition:background 400ms cubic-bezier(0.25, 0.8, 0.25, 1),box-shadow 280ms cubic-bezier(0.4, 0, 0.2, 1)}.mat-raised-button::-moz-focus-inner{border:0}.mat-raised-button[disabled]{cursor:default}.mat-raised-button.cdk-keyboard-focused .mat-button-focus-overlay,.mat-raised-button.cdk-program-focused .mat-button-focus-overlay{opacity:.12}.mat-raised-button::-moz-focus-inner{border:0}._mat-animation-noopable.mat-raised-button{transition:none;animation:none}.mat-stroked-button{border:1px solid currentColor;padding:0 15px;line-height:34px}.mat-stroked-button .mat-button-ripple.mat-ripple,.mat-stroked-button .mat-button-focus-overlay{top:-1px;left:-1px;right:-1px;bottom:-1px}.mat-fab{box-sizing:border-box;position:relative;-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none;cursor:pointer;outline:none;border:none;-webkit-tap-highlight-color:transparent;display:inline-block;white-space:nowrap;text-decoration:none;vertical-align:baseline;text-align:center;margin:0;min-width:64px;line-height:36px;padding:0 16px;border-radius:4px;overflow:visible;transform:translate3d(0, 0, 0);transition:background 400ms cubic-bezier(0.25, 0.8, 0.25, 1),box-shadow 280ms cubic-bezier(0.4, 0, 0.2, 1);min-width:0;border-radius:50%;width:56px;height:56px;padding:0;flex-shrink:0}.mat-fab::-moz-focus-inner{border:0}.mat-fab[disabled]{cursor:default}.mat-fab.cdk-keyboard-focused .mat-button-focus-overlay,.mat-fab.cdk-program-focused .mat-button-focus-overlay{opacity:.12}.mat-fab::-moz-focus-inner{border:0}._mat-animation-noopable.mat-fab{transition:none;animation:none}.mat-fab .mat-button-wrapper{padding:16px 0;display:inline-block;line-height:24px}.mat-mini-fab{box-sizing:border-box;position:relative;-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none;cursor:pointer;outline:none;border:none;-webkit-tap-highlight-color:transparent;display:inline-block;white-space:nowrap;text-decoration:none;vertical-align:baseline;text-align:center;margin:0;min-width:64px;line-height:36px;padding:0 16px;border-radius:4px;overflow:visible;transform:translate3d(0, 0, 0);transition:background 400ms cubic-bezier(0.25, 0.8, 0.25, 1),box-shadow 280ms cubic-bezier(0.4, 0, 0.2, 1);min-width:0;border-radius:50%;width:40px;height:40px;padding:0;flex-shrink:0}.mat-mini-fab::-moz-focus-inner{border:0}.mat-mini-fab[disabled]{cursor:default}.mat-mini-fab.cdk-keyboard-focused .mat-button-focus-overlay,.mat-mini-fab.cdk-program-focused .mat-button-focus-overlay{opacity:.12}.mat-mini-fab::-moz-focus-inner{border:0}._mat-animation-noopable.mat-mini-fab{transition:none;animation:none}.mat-mini-fab .mat-button-wrapper{padding:8px 0;display:inline-block;line-height:24px}.mat-icon-button{padding:0;min-width:0;width:40px;height:40px;flex-shrink:0;line-height:40px;border-radius:50%}.mat-icon-button i,.mat-icon-button .mat-icon{line-height:24px}.mat-button-ripple.mat-ripple,.mat-button-focus-overlay{top:0;left:0;right:0;bottom:0;position:absolute;pointer-events:none;border-radius:inherit}.mat-button-ripple.mat-ripple:not(:empty){transform:translateZ(0)}.mat-button-focus-overlay{opacity:0;transition:opacity 200ms cubic-bezier(0.35, 0, 0.25, 1),background-color 200ms cubic-bezier(0.35, 0, 0.25, 1)}._mat-animation-noopable .mat-button-focus-overlay{transition:none}.cdk-high-contrast-active .mat-button-focus-overlay{background-color:#fff}.cdk-high-contrast-black-on-white .mat-button-focus-overlay{background-color:#000}.mat-button-ripple-round{border-radius:50%;z-index:1}.mat-button .mat-button-wrapper>*,.mat-flat-button .mat-button-wrapper>*,.mat-stroked-button .mat-button-wrapper>*,.mat-raised-button .mat-button-wrapper>*,.mat-icon-button .mat-button-wrapper>*,.mat-fab .mat-button-wrapper>*,.mat-mini-fab .mat-button-wrapper>*{vertical-align:middle}.mat-form-field:not(.mat-form-field-appearance-legacy) .mat-form-field-prefix .mat-icon-button,.mat-form-field:not(.mat-form-field-appearance-legacy) .mat-form-field-suffix .mat-icon-button{display:block;font-size:inherit;width:2.5em;height:2.5em}.cdk-high-contrast-active .mat-button,.cdk-high-contrast-active .mat-flat-button,.cdk-high-contrast-active .mat-raised-button,.cdk-high-contrast-active .mat-icon-button,.cdk-high-contrast-active .mat-fab,.cdk-high-contrast-active .mat-mini-fab{outline:solid 1px}\n"],encapsulation:2,changeDetection:0}),t})(),zT=(()=>{class t{}return t.\u0275mod=_e({type:t}),t.\u0275inj=dt({factory:function(e){return new(e||t)},imports:[[_k,JO],JO]}),t})();class HT{constructor(t){this.selector=t}call(t,e){return e.subscribe(new VT(t,this.selector,this.caught))}}class VT extends R{constructor(t,e,n){super(t),this.selector=e,this.caught=n}error(t){if(!this.isStopped){let n;try{n=this.selector(t,this.caught)}catch(e){return void super.error(e)}this._unsubscribeAndRecycle();const i=new P(this,void 0,void 0);this.add(i);const r=D(this,n,void 0,void 0,i);r!==i&&this.add(r)}}}class UT{constructor(t){this.callback=t}call(t,e){return e.subscribe(new WT(t,this.callback))}}class WT extends f{constructor(t,e){super(t),this.add(new h(e))}}const $T=["*"];function GT(t){return Error(`Unable to find icon with the name "${t}"`)}function qT(t){return Error("The URL provided to MatIconRegistry was not trusted as a resource URL "+`via Angular's DomSanitizer. Attempted URL was "${t}".`)}function XT(t){return Error("The literal provided to MatIconRegistry was not trusted as safe HTML by "+`Angular's DomSanitizer. Attempted literal was "${t}".`)}class KT{constructor(t,e){this.options=e,t.nodeName?this.svgElement=t:this.url=t}}let YT=(()=>{class t{constructor(t,e,n,i){this._httpClient=t,this._sanitizer=e,this._errorHandler=i,this._svgIconConfigs=new Map,this._iconSetConfigs=new Map,this._cachedIconsByUrl=new Map,this._inProgressUrlFetches=new Map,this._fontCssClassesByAlias=new Map,this._defaultFontSetClass="material-icons",this._document=n}addSvgIcon(t,e,n){return this.addSvgIconInNamespace("",t,e,n)}addSvgIconLiteral(t,e,n){return this.addSvgIconLiteralInNamespace("",t,e,n)}addSvgIconInNamespace(t,e,n,i){return this._addSvgIconConfig(t,e,new KT(n,i))}addSvgIconLiteralInNamespace(t,e,n,i){const r=this._sanitizer.sanitize(Xi.HTML,n);if(!r)throw XT(n);const o=this._createSvgElementForSingleIcon(r,i);return this._addSvgIconConfig(t,e,new KT(o,i))}addSvgIconSet(t,e){return this.addSvgIconSetInNamespace("",t,e)}addSvgIconSetLiteral(t,e){return this.addSvgIconSetLiteralInNamespace("",t,e)}addSvgIconSetInNamespace(t,e,n){return this._addSvgIconSetConfig(t,new KT(e,n))}addSvgIconSetLiteralInNamespace(t,e,n){const i=this._sanitizer.sanitize(Xi.HTML,e);if(!i)throw XT(e);const r=this._svgElementFromString(i);return this._addSvgIconSetConfig(t,new KT(r,n))}registerFontClassAlias(t,e=t){return this._fontCssClassesByAlias.set(t,e),this}classNameForFontAlias(t){return this._fontCssClassesByAlias.get(t)||t}setDefaultFontSetClass(t){return this._defaultFontSetClass=t,this}getDefaultFontSetClass(){return this._defaultFontSetClass}getSvgIconFromUrl(t){const e=this._sanitizer.sanitize(Xi.RESOURCE_URL,t);if(!e)throw qT(t);const n=this._cachedIconsByUrl.get(e);return n?fy(QT(n)):this._loadSvgIconFromConfig(new KT(t)).pipe($_(t=>this._cachedIconsByUrl.set(e,t)),F(t=>QT(t)))}getNamedSvgIcon(t,e=""){const n=ZT(e,t),i=this._svgIconConfigs.get(n);if(i)return this._getSvgFromConfig(i);const r=this._iconSetConfigs.get(e);return r?this._getSvgFromIconSetConfigs(t,r):s_(GT(n))}ngOnDestroy(){this._svgIconConfigs.clear(),this._iconSetConfigs.clear(),this._cachedIconsByUrl.clear()}_getSvgFromConfig(t){return t.svgElement?fy(QT(t.svgElement)):this._loadSvgIconFromConfig(t).pipe($_(e=>t.svgElement=e),F(t=>QT(t)))}_getSvgFromIconSetConfigs(t,e){const n=this._extractIconWithNameFromAnySet(t,e);return n?fy(n):sd(e.filter(t=>!t.svgElement).map(t=>{return this._loadSvgIconSetFromConfig(t).pipe((e=e=>{const n=`Loading icon set URL: ${this._sanitizer.sanitize(Xi.RESOURCE_URL,t.url)} failed: ${e.message}`;return this._errorHandler?this._errorHandler.handleError(new Error(n)):console.error(n),fy(null)},function(t){const n=new HT(e),i=t.lift(n);return n.caught=i}));var e})).pipe(F(()=>{const n=this._extractIconWithNameFromAnySet(t,e);if(!n)throw GT(t);return n}))}_extractIconWithNameFromAnySet(t,e){for(let n=e.length-1;n>=0;n--){const i=e[n];if(i.svgElement){const e=this._extractSvgIconFromSet(i.svgElement,t,i.options);if(e)return e}}return null}_loadSvgIconFromConfig(t){return this._fetchUrl(t.url).pipe(F(e=>this._createSvgElementForSingleIcon(e,t.options)))}_loadSvgIconSetFromConfig(t){return t.svgElement?fy(t.svgElement):this._fetchUrl(t.url).pipe(F(e=>(t.svgElement||(t.svgElement=this._svgElementFromString(e)),t.svgElement)))}_createSvgElementForSingleIcon(t,e){const n=this._svgElementFromString(t);return this._setSvgAttributes(n,e),n}_extractSvgIconFromSet(t,e,n){const i=t.querySelector(`[id="${e}"]`);if(!i)return null;const r=i.cloneNode(!0);if(r.removeAttribute("id"),"svg"===r.nodeName.toLowerCase())return this._setSvgAttributes(r,n);if("symbol"===r.nodeName.toLowerCase())return this._setSvgAttributes(this._toSvgElement(r),n);const o=this._svgElementFromString("<svg></svg>");return o.appendChild(r),this._setSvgAttributes(o,n)}_svgElementFromString(t){const e=this._document.createElement("DIV");e.innerHTML=t;const n=e.querySelector("svg");if(!n)throw Error("<svg> tag not found");return n}_toSvgElement(t){const e=this._svgElementFromString("<svg></svg>"),n=t.attributes;for(let i=0;i<n.length;i++){const{name:t,value:r}=n[i];"id"!==t&&e.setAttribute(t,r)}for(let i=0;i<t.childNodes.length;i++)t.childNodes[i].nodeType===this._document.ELEMENT_NODE&&e.appendChild(t.childNodes[i].cloneNode(!0));return e}_setSvgAttributes(t,e){return t.setAttribute("fit",""),t.setAttribute("height","100%"),t.setAttribute("width","100%"),t.setAttribute("preserveAspectRatio","xMidYMid meet"),t.setAttribute("focusable","false"),e&&e.viewBox&&t.setAttribute("viewBox",e.viewBox),t}_fetchUrl(t){if(!this._httpClient)throw Error("Could not find HttpClient provider for use with Angular Material icons. Please include the HttpClientModule from @angular/common/http in your app imports.");if(null==t)throw Error(`Cannot fetch icon from URL "${t}".`);const e=this._sanitizer.sanitize(Xi.RESOURCE_URL,t);if(!e)throw qT(t);const n=this._inProgressUrlFetches.get(e);if(n)return n;const i=this._httpClient.get(e,{responseType:"text"}).pipe((r=()=>this._inProgressUrlFetches.delete(e),t=>t.lift(new UT(r))),J());var r;return this._inProgressUrlFetches.set(e,i),i}_addSvgIconConfig(t,e,n){return this._svgIconConfigs.set(ZT(t,e),n),this}_addSvgIconSetConfig(t,e){const n=this._iconSetConfigs.get(t);return n?n.push(e):this._iconSetConfigs.set(t,[e]),this}}return t.\u0275fac=function(e){return new(e||t)(Kt(Jv,8),Kt(Df),Kt(vu,8),Kt(fi,8))},t.\u0275prov=ht({factory:function(){return new t(Kt(Jv,8),Kt(Df),Kt(vu,8),Kt(fi,8))},token:t,providedIn:"root"}),t})();function QT(t){return t.cloneNode(!0)}function ZT(t,e){return t+":"+e}class JT{constructor(t){this._elementRef=t}}const tI=ek(JT),eI=new jt("mat-icon-location",{providedIn:"root",factory:function(){const t=Yt(vu),e=t?t.location:null;return{getPathname:()=>e?e.pathname+e.search:""}}}),nI=["clip-path","color-profile","src","cursor","fill","filter","marker","marker-start","marker-mid","marker-end","mask","stroke"],iI=nI.map(t=>`[${t}]`).join(", "),rI=/^url\(['"]?#(.*?)['"]?\)$/;let oI=(()=>{class t extends tI{constructor(t,e,n,i,r){super(t),this._iconRegistry=e,this._location=i,this._errorHandler=r,this._inline=!1,this._currentIconFetch=h.EMPTY,n||t.nativeElement.setAttribute("aria-hidden","true")}get inline(){return this._inline}set inline(t){this._inline=cy(t)}get fontSet(){return this._fontSet}set fontSet(t){this._fontSet=this._cleanupFontValue(t)}get fontIcon(){return this._fontIcon}set fontIcon(t){this._fontIcon=this._cleanupFontValue(t)}_splitIconName(t){if(!t)return["",""];const e=t.split(":");switch(e.length){case 1:return["",e[0]];case 2:return e;default:throw Error(`Invalid icon name: "${t}"`)}}ngOnChanges(t){const e=t.svgIcon;if(e)if(this._currentIconFetch.unsubscribe(),this.svgIcon){const[t,e]=this._splitIconName(this.svgIcon);this._currentIconFetch=this._iconRegistry.getNamedSvgIcon(e,t).pipe(H_(1)).subscribe(t=>this._setSvgElement(t),n=>{const i=`Error retrieving icon ${t}:${e}! ${n.message}`;this._errorHandler?this._errorHandler.handleError(new Error(i)):console.error(i)})}else e.previousValue&&this._clearSvgElement();this._usingFontIcon()&&this._updateFontIconClasses()}ngOnInit(){this._usingFontIcon()&&this._updateFontIconClasses()}ngAfterViewChecked(){const t=this._elementsWithExternalReferences;if(t&&this._location&&t.size){const t=this._location.getPathname();t!==this._previousPath&&(this._previousPath=t,this._prependPathToReferences(t))}}ngOnDestroy(){this._currentIconFetch.unsubscribe(),this._elementsWithExternalReferences&&this._elementsWithExternalReferences.clear()}_usingFontIcon(){return!this.svgIcon}_setSvgElement(t){this._clearSvgElement();const e=t.querySelectorAll("style");for(let n=0;n<e.length;n++)e[n].textContent+=" ";if(this._location){const e=this._location.getPathname();this._previousPath=e,this._cacheChildrenWithExternalReferences(t),this._prependPathToReferences(e)}this._elementRef.nativeElement.appendChild(t)}_clearSvgElement(){const t=this._elementRef.nativeElement;let e=t.childNodes.length;for(this._elementsWithExternalReferences&&this._elementsWithExternalReferences.clear();e--;){const n=t.childNodes[e];1===n.nodeType&&"svg"!==n.nodeName.toLowerCase()||t.removeChild(n)}}_updateFontIconClasses(){if(!this._usingFontIcon())return;const t=this._elementRef.nativeElement,e=this.fontSet?this._iconRegistry.classNameForFontAlias(this.fontSet):this._iconRegistry.getDefaultFontSetClass();e!=this._previousFontSetClass&&(this._previousFontSetClass&&t.classList.remove(this._previousFontSetClass),e&&t.classList.add(e),this._previousFontSetClass=e),this.fontIcon!=this._previousFontIconClass&&(this._previousFontIconClass&&t.classList.remove(this._previousFontIconClass),this.fontIcon&&t.classList.add(this.fontIcon),this._previousFontIconClass=this.fontIcon)}_cleanupFontValue(t){return"string"==typeof t?t.trim().split(" ")[0]:t}_prependPathToReferences(t){const e=this._elementsWithExternalReferences;e&&e.forEach((e,n)=>{e.forEach(e=>{n.setAttribute(e.name,`url('${t}#${e.value}')`)})})}_cacheChildrenWithExternalReferences(t){const e=t.querySelectorAll(iI),n=this._elementsWithExternalReferences=this._elementsWithExternalReferences||new Map;for(let i=0;i<e.length;i++)nI.forEach(t=>{const r=e[i],o=r.getAttribute(t),s=o?o.match(rI):null;if(s){let e=n.get(r);e||(e=[],n.set(r,e)),e.push({name:t,value:s[1]})}})}}return t.\u0275fac=function(e){return new(e||t)(Ms(Ya),Ms(YT),Ds("aria-hidden"),Ms(eI,8),Ms(fi,8))},t.\u0275cmp=pe({type:t,selectors:[["mat-icon"]],hostAttrs:["role","img",1,"mat-icon","notranslate"],hostVars:4,hostBindings:function(t,e){2&t&&ua("mat-icon-inline",e.inline)("mat-icon-no-color","primary"!==e.color&&"accent"!==e.color&&"warn"!==e.color)},inputs:{color:"color",inline:"inline",fontSet:"fontSet",fontIcon:"fontIcon",svgIcon:"svgIcon"},exportAs:["matIcon"],features:[Ia,La],ngContentSelectors:$T,decls:1,vars:0,template:function(t,e){1&t&&(Zs(),Js(0))},styles:[".mat-icon{background-repeat:no-repeat;display:inline-block;fill:currentColor;height:24px;width:24px}.mat-icon.mat-icon-inline{font-size:inherit;height:inherit;line-height:inherit;width:inherit}[dir=rtl] .mat-icon-rtl-mirror{transform:scale(-1, 1)}.mat-form-field:not(.mat-form-field-appearance-legacy) .mat-form-field-prefix .mat-icon,.mat-form-field:not(.mat-form-field-appearance-legacy) .mat-form-field-suffix .mat-icon{display:block}.mat-form-field:not(.mat-form-field-appearance-legacy) .mat-form-field-prefix .mat-icon-button .mat-icon,.mat-form-field:not(.mat-form-field-appearance-legacy) .mat-form-field-suffix .mat-icon-button .mat-icon{margin:auto}\n"],encapsulation:2,changeDetection:0}),t})(),sI=(()=>{class t{}return t.\u0275mod=_e({type:t}),t.\u0275inj=dt({factory:function(e){return new(e||t)},imports:[[JO],JO]}),t})();const aI=["thumbContainer"],lI=["toggleBar"],cI=["input"],uI=function(){return{enterDuration:150}},hI=["*"],dI=new jt("mat-slide-toggle-default-options",{providedIn:"root",factory:()=>({disableToggleValue:!1})});let pI=0;const fI={provide:ld,useExisting:Et(()=>_I),multi:!0};class mI{constructor(t,e){this.source=t,this.checked=e}}class gI{constructor(t){this._elementRef=t}}const yI=ik(ek(nk(tk(gI)),"accent"));let _I=(()=>{class t extends yI{constructor(t,e,n,i,r,o,s,a){super(t),this._focusMonitor=e,this._changeDetectorRef=n,this.defaults=o,this._animationMode=s,this._onChange=t=>{},this._onTouched=()=>{},this._uniqueId=`mat-slide-toggle-${++pI}`,this._required=!1,this._checked=!1,this.name=null,this.id=this._uniqueId,this.labelPosition="after",this.ariaLabel=null,this.ariaLabelledby=null,this.change=new Yl,this.toggleChange=new Yl,this.dragChange=new Yl,this.tabIndex=parseInt(i)||0}get required(){return this._required}set required(t){this._required=cy(t)}get checked(){return this._checked}set checked(t){this._checked=cy(t),this._changeDetectorRef.markForCheck()}get inputId(){return`${this.id||this._uniqueId}-input`}ngAfterContentInit(){this._focusMonitor.monitor(this._elementRef,!0).subscribe(t=>{"keyboard"===t||"program"===t?this._inputElement.nativeElement.focus():t||Promise.resolve().then(()=>this._onTouched())})}ngOnDestroy(){this._focusMonitor.stopMonitoring(this._elementRef)}_onChangeEvent(t){t.stopPropagation(),this.toggleChange.emit(),this.defaults.disableToggleValue?this._inputElement.nativeElement.checked=this.checked:(this.checked=this._inputElement.nativeElement.checked,this._emitChangeEvent())}_onInputClick(t){t.stopPropagation()}writeValue(t){this.checked=!!t}registerOnChange(t){this._onChange=t}registerOnTouched(t){this._onTouched=t}setDisabledState(t){this.disabled=t,this._changeDetectorRef.markForCheck()}focus(t){this._focusMonitor.focusVia(this._inputElement,"keyboard",t)}toggle(){this.checked=!this.checked,this._onChange(this.checked)}_emitChangeEvent(){this._onChange(this.checked),this.change.emit(new mI(this,this.checked))}_onLabelTextChange(){this._changeDetectorRef.detectChanges()}}return t.\u0275fac=function(e){return new(e||t)(Ms(Ya),Ms(EO),Ms(Xo),Ds("tabindex"),Ms($c),Ms(dI),Ms(sy,8),Ms(k_,8))},t.\u0275cmp=pe({type:t,selectors:[["mat-slide-toggle"]],viewQuery:function(t,e){var n;1&t&&(cc(aI,!0),cc(lI,!0),cc(cI,!0)),2&t&&(ac(n=fc())&&(e._thumbEl=n.first),ac(n=fc())&&(e._thumbBarEl=n.first),ac(n=fc())&&(e._inputElement=n.first))},hostAttrs:[1,"mat-slide-toggle"],hostVars:12,hostBindings:function(t,e){2&t&&(Oa("id",e.id),ks("tabindex",e.disabled?null:-1)("aria-label",null)("aria-labelledby",null),ua("mat-checked",e.checked)("mat-disabled",e.disabled)("mat-slide-toggle-label-before","before"==e.labelPosition)("_mat-animation-noopable","NoopAnimations"===e._animationMode))},inputs:{disabled:"disabled",disableRipple:"disableRipple",color:"color",tabIndex:"tabIndex",name:"name",id:"id",labelPosition:"labelPosition",ariaLabel:["aria-label","ariaLabel"],ariaLabelledby:["aria-labelledby","ariaLabelledby"],required:"required",checked:"checked"},outputs:{change:"change",toggleChange:"toggleChange",dragChange:"dragChange"},exportAs:["matSlideToggle"],features:[Ga([fI]),Ia],ngContentSelectors:hI,decls:16,vars:18,consts:[[1,"mat-slide-toggle-label"],["label",""],[1,"mat-slide-toggle-bar"],["toggleBar",""],["type","checkbox","role","switch",1,"mat-slide-toggle-input","cdk-visually-hidden",3,"id","required","tabIndex","checked","disabled","change","click"],["input",""],[1,"mat-slide-toggle-thumb-container"],["thumbContainer",""],[1,"mat-slide-toggle-thumb"],["mat-ripple","",1,"mat-slide-toggle-ripple","mat-focus-indicator",3,"matRippleTrigger","matRippleDisabled","matRippleCentered","matRippleRadius","matRippleAnimation"],[1,"mat-ripple-element","mat-slide-toggle-persistent-ripple"],[1,"mat-slide-toggle-content",3,"cdkObserveContent"],["labelContent",""],[2,"display","none"]],template:function(t,e){if(1&t&&(Zs(),Ls(0,"label",0,1),Ls(2,"div",2,3),Ls(4,"input",4,5),$s("change",(function(t){return e._onChangeEvent(t)}))("click",(function(t){return e._onInputClick(t)})),Bs(),Ls(6,"div",6,7),Ns(8,"div",8),Ls(9,"div",9),Ns(10,"div",10),Bs(),Bs(),Bs(),Ls(11,"span",11,12),$s("cdkObserveContent",(function(){return e._onLabelTextChange()})),Ls(13,"span",13),Ca(14,"\xa0"),Bs(),Js(15),Bs(),Bs()),2&t){const t=As(1),n=As(12);ks("for",e.inputId),vr(2),ua("mat-slide-toggle-bar-no-side-margin",!n.textContent||!n.textContent.trim()),vr(2),Rs("id",e.inputId)("required",e.required)("tabIndex",e.tabIndex)("checked",e.checked)("disabled",e.disabled),ks("name",e.name)("aria-checked",e.checked.toString())("aria-label",e.ariaLabel)("aria-labelledby",e.ariaLabelledby),vr(5),Rs("matRippleTrigger",t)("matRippleDisabled",e.disableRipple||e.disabled)("matRippleCentered",!0)("matRippleRadius",20)("matRippleAnimation",Hl(17,uI))}},directives:[yk,iO],styles:[".mat-slide-toggle{display:inline-block;height:24px;max-width:100%;line-height:24px;white-space:nowrap;outline:none;-webkit-tap-highlight-color:transparent}.mat-slide-toggle.mat-checked .mat-slide-toggle-thumb-container{transform:translate3d(16px, 0, 0)}[dir=rtl] .mat-slide-toggle.mat-checked .mat-slide-toggle-thumb-container{transform:translate3d(-16px, 0, 0)}.mat-slide-toggle.mat-disabled{opacity:.38}.mat-slide-toggle.mat-disabled .mat-slide-toggle-label,.mat-slide-toggle.mat-disabled .mat-slide-toggle-thumb-container{cursor:default}.mat-slide-toggle-label{display:flex;flex:1;flex-direction:row;align-items:center;height:inherit;cursor:pointer}.mat-slide-toggle-content{white-space:nowrap;overflow:hidden;text-overflow:ellipsis}.mat-slide-toggle-label-before .mat-slide-toggle-label{order:1}.mat-slide-toggle-label-before .mat-slide-toggle-bar{order:2}[dir=rtl] .mat-slide-toggle-label-before .mat-slide-toggle-bar,.mat-slide-toggle-bar{margin-right:8px;margin-left:0}[dir=rtl] .mat-slide-toggle-bar,.mat-slide-toggle-label-before .mat-slide-toggle-bar{margin-left:8px;margin-right:0}.mat-slide-toggle-bar-no-side-margin{margin-left:0;margin-right:0}.mat-slide-toggle-thumb-container{position:absolute;z-index:1;width:20px;height:20px;top:-3px;left:0;transform:translate3d(0, 0, 0);transition:all 80ms linear;transition-property:transform}._mat-animation-noopable .mat-slide-toggle-thumb-container{transition:none}[dir=rtl] .mat-slide-toggle-thumb-container{left:auto;right:0}.mat-slide-toggle-thumb{height:20px;width:20px;border-radius:50%}.mat-slide-toggle-bar{position:relative;width:36px;height:14px;flex-shrink:0;border-radius:8px}.mat-slide-toggle-input{bottom:0;left:10px}[dir=rtl] .mat-slide-toggle-input{left:auto;right:10px}.mat-slide-toggle-bar,.mat-slide-toggle-thumb{transition:all 80ms linear;transition-property:background-color;transition-delay:50ms}._mat-animation-noopable .mat-slide-toggle-bar,._mat-animation-noopable .mat-slide-toggle-thumb{transition:none}.mat-slide-toggle .mat-slide-toggle-ripple{position:absolute;top:calc(50% - 20px);left:calc(50% - 20px);height:40px;width:40px;z-index:1;pointer-events:none}.mat-slide-toggle .mat-slide-toggle-ripple .mat-ripple-element:not(.mat-slide-toggle-persistent-ripple){opacity:.12}.mat-slide-toggle-persistent-ripple{width:100%;height:100%;transform:none}.mat-slide-toggle-bar:hover .mat-slide-toggle-persistent-ripple{opacity:.04}.mat-slide-toggle:not(.mat-disabled).cdk-keyboard-focused .mat-slide-toggle-persistent-ripple{opacity:.12}.mat-slide-toggle-persistent-ripple,.mat-slide-toggle.mat-disabled .mat-slide-toggle-bar:hover .mat-slide-toggle-persistent-ripple{opacity:0}@media(hover: none){.mat-slide-toggle-bar:hover .mat-slide-toggle-persistent-ripple{display:none}}.cdk-high-contrast-active .mat-slide-toggle-thumb,.cdk-high-contrast-active .mat-slide-toggle-bar{border:1px solid}.cdk-high-contrast-active .mat-slide-toggle.cdk-keyboard-focused .mat-slide-toggle-bar{outline:2px dotted;outline-offset:5px}\n"],encapsulation:2,changeDetection:0}),t})();const vI={provide:xd,useExisting:Et(()=>bI),multi:!0};let bI=(()=>{class t extends $p{}return t.\u0275fac=function(e){return wI(e||t)},t.\u0275dir=be({type:t,selectors:[["mat-slide-toggle","required","","formControlName",""],["mat-slide-toggle","required","","formControl",""],["mat-slide-toggle","required","","ngModel",""]],features:[Ga([vI]),Ia]}),t})();const wI=ui(bI);let CI=(()=>{class t{}return t.\u0275mod=_e({type:t}),t.\u0275inj=dt({factory:function(e){return new(e||t)}}),t})(),xI=(()=>{class t{}return t.\u0275mod=_e({type:t}),t.\u0275inj=dt({factory:function(e){return new(e||t)},imports:[[CI,_k,JO,rO],CI,JO]}),t})();const EI=["underline"],SI=["connectionContainer"],PI=["inputContainer"],OI=["label"];function kI(t,e){1&t&&(js(0),Ls(1,"div",14),Ns(2,"div",15),Ns(3,"div",16),Ns(4,"div",17),Bs(),Ls(5,"div",18),Ns(6,"div",15),Ns(7,"div",16),Ns(8,"div",17),Bs(),zs())}function TI(t,e){1&t&&(Ls(0,"div",19),Js(1,1),Bs())}function II(t,e){if(1&t&&(js(0),Js(1,2),Ls(2,"span"),Ca(3),Bs(),zs()),2&t){const t=Ys(2);vr(3),xa(t._control.placeholder)}}function AI(t,e){1&t&&Js(0,3,["*ngSwitchCase","true"])}function MI(t,e){1&t&&(Ls(0,"span",23),Ca(1," *"),Bs())}function DI(t,e){if(1&t){const t=Vs();Ls(0,"label",20,21),$s("cdkObserveContent",(function(){return Qe(t),Ys().updateOutlineGap()})),Is(2,II,4,1,"ng-container",12),Is(3,AI,1,0,void 0,12),Is(4,MI,2,0,"span",22),Bs()}if(2&t){const t=Ys();ua("mat-empty",t._control.empty&&!t._shouldAlwaysFloat)("mat-form-field-empty",t._control.empty&&!t._shouldAlwaysFloat)("mat-accent","accent"==t.color)("mat-warn","warn"==t.color),Rs("cdkObserveContentDisabled","outline"!=t.appearance)("id",t._labelId)("ngSwitch",t._hasLabel()),ks("for",t._control.id)("aria-owns",t._control.id),vr(2),Rs("ngSwitchCase",!1),vr(1),Rs("ngSwitchCase",!0),vr(1),Rs("ngIf",!t.hideRequiredMarker&&t._control.required&&!t._control.disabled)}}function RI(t,e){1&t&&(Ls(0,"div",24),Js(1,4),Bs())}function FI(t,e){if(1&t&&(Ls(0,"div",25,26),Ns(2,"span",27),Bs()),2&t){const t=Ys();vr(2),ua("mat-accent","accent"==t.color)("mat-warn","warn"==t.color)}}function LI(t,e){1&t&&(Ls(0,"div"),Js(1,5),Bs()),2&t&&Rs("@transitionMessages",Ys()._subscriptAnimationState)}function BI(t,e){if(1&t&&(Ls(0,"div",31),Ca(1),Bs()),2&t){const t=Ys(2);Rs("id",t._hintLabelId),vr(1),xa(t.hintLabel)}}function NI(t,e){if(1&t&&(Ls(0,"div",28),Is(1,BI,2,2,"div",29),Js(2,6),Ns(3,"div",30),Js(4,7),Bs()),2&t){const t=Ys();Rs("@transitionMessages",t._subscriptAnimationState),vr(1),Rs("ngIf",t.hintLabel)}}const jI=["*",[["","matPrefix",""]],[["mat-placeholder"]],[["mat-label"]],[["","matSuffix",""]],[["mat-error"]],[["mat-hint",3,"align","end"]],[["mat-hint","align","end"]]],zI=["*","[matPrefix]","mat-placeholder","mat-label","[matSuffix]","mat-error","mat-hint:not([align='end'])","mat-hint[align='end']"];let HI=0,VI=(()=>{class t{constructor(){this.id=`mat-error-${HI++}`}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275dir=be({type:t,selectors:[["mat-error"]],hostAttrs:["role","alert",1,"mat-error"],hostVars:1,hostBindings:function(t,e){2&t&&ks("id",e.id)},inputs:{id:"id"}}),t})();const UI={transitionMessages:jf("transitionMessages",[Wf("enter",Uf({opacity:1,transform:"translateY(0%)"})),Gf("void => enter",[Uf({opacity:0,transform:"translateY(-100%)"}),zf("300ms cubic-bezier(0.55, 0, 0.55, 0.2)")])])};let WI=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275dir=be({type:t}),t})();function $I(t){return Error(`A hint was already declared for 'align="${t}"'.`)}let GI=0,qI=(()=>{class t{constructor(){this.align="start",this.id=`mat-hint-${GI++}`}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275dir=be({type:t,selectors:[["mat-hint"]],hostAttrs:[1,"mat-hint"],hostVars:4,hostBindings:function(t,e){2&t&&(ks("id",e.id)("align",null),ua("mat-right","end"==e.align))},inputs:{align:"align",id:"id"}}),t})(),XI=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275dir=be({type:t,selectors:[["mat-label"]]}),t})(),KI=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275dir=be({type:t,selectors:[["mat-placeholder"]]}),t})(),YI=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275dir=be({type:t,selectors:[["","matPrefix",""]]}),t})(),QI=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275dir=be({type:t,selectors:[["","matSuffix",""]]}),t})(),ZI=0;class JI{constructor(t){this._elementRef=t}}const tA=ek(JI,"primary"),eA=new jt("MAT_FORM_FIELD_DEFAULT_OPTIONS"),nA=new jt("MatFormField");let iA=(()=>{class t extends tA{constructor(t,e,n,i,r,o,s,a){super(t),this._elementRef=t,this._changeDetectorRef=e,this._dir=i,this._defaults=r,this._platform=o,this._ngZone=s,this._outlineGapCalculationNeededImmediately=!1,this._outlineGapCalculationNeededOnStable=!1,this._destroyed=new x,this._showAlwaysAnimate=!1,this._subscriptAnimationState="",this._hintLabel="",this._hintLabelId=`mat-hint-${ZI++}`,this._labelId=`mat-form-field-label-${ZI++}`,this._labelOptions=n||{},this.floatLabel=this._getDefaultFloatLabelState(),this._animationsEnabled="NoopAnimations"!==a,this.appearance=r&&r.appearance?r.appearance:"legacy",this._hideRequiredMarker=!(!r||null==r.hideRequiredMarker)&&r.hideRequiredMarker}get appearance(){return this._appearance}set appearance(t){const e=this._appearance;this._appearance=t||this._defaults&&this._defaults.appearance||"legacy","outline"===this._appearance&&e!==t&&(this._outlineGapCalculationNeededOnStable=!0)}get hideRequiredMarker(){return this._hideRequiredMarker}set hideRequiredMarker(t){this._hideRequiredMarker=cy(t)}get _shouldAlwaysFloat(){return"always"===this.floatLabel&&!this._showAlwaysAnimate}get _canLabelFloat(){return"never"!==this.floatLabel}get hintLabel(){return this._hintLabel}set hintLabel(t){this._hintLabel=t,this._processHints()}get floatLabel(){return"legacy"!==this.appearance&&"never"===this._floatLabel?"auto":this._floatLabel}set floatLabel(t){t!==this._floatLabel&&(this._floatLabel=t||this._getDefaultFloatLabelState(),this._changeDetectorRef.markForCheck())}get _control(){return this._explicitFormFieldControl||this._controlNonStatic||this._controlStatic}set _control(t){this._explicitFormFieldControl=t}get _labelChild(){return this._labelChildNonStatic||this._labelChildStatic}getConnectedOverlayOrigin(){return this._connectionContainerRef||this._elementRef}ngAfterContentInit(){this._validateControlChild();const t=this._control;t.controlType&&this._elementRef.nativeElement.classList.add(`mat-form-field-type-${t.controlType}`),t.stateChanges.pipe(Ky(null)).subscribe(()=>{this._validatePlaceholders(),this._syncDescribedByIds(),this._changeDetectorRef.markForCheck()}),t.ngControl&&t.ngControl.valueChanges&&t.ngControl.valueChanges.pipe($y(this._destroyed)).subscribe(()=>this._changeDetectorRef.markForCheck()),this._ngZone.runOutsideAngular(()=>{this._ngZone.onStable.asObservable().pipe($y(this._destroyed)).subscribe(()=>{this._outlineGapCalculationNeededOnStable&&this.updateOutlineGap()})}),$(this._prefixChildren.changes,this._suffixChildren.changes).subscribe(()=>{this._outlineGapCalculationNeededOnStable=!0,this._changeDetectorRef.markForCheck()}),this._hintChildren.changes.pipe(Ky(null)).subscribe(()=>{this._processHints(),this._changeDetectorRef.markForCheck()}),this._errorChildren.changes.pipe(Ky(null)).subscribe(()=>{this._syncDescribedByIds(),this._changeDetectorRef.markForCheck()}),this._dir&&this._dir.change.pipe($y(this._destroyed)).subscribe(()=>{"function"==typeof requestAnimationFrame?this._ngZone.runOutsideAngular(()=>{requestAnimationFrame(()=>this.updateOutlineGap())}):this.updateOutlineGap()})}ngAfterContentChecked(){this._validateControlChild(),this._outlineGapCalculationNeededImmediately&&this.updateOutlineGap()}ngAfterViewInit(){this._subscriptAnimationState="enter",this._changeDetectorRef.detectChanges()}ngOnDestroy(){this._destroyed.next(),this._destroyed.complete()}_shouldForward(t){const e=this._control?this._control.ngControl:null;return e&&e[t]}_hasPlaceholder(){return!!(this._control&&this._control.placeholder||this._placeholderChild)}_hasLabel(){return!!this._labelChild}_shouldLabelFloat(){return this._canLabelFloat&&(this._control.shouldLabelFloat||this._shouldAlwaysFloat)}_hideControlPlaceholder(){return"legacy"===this.appearance&&!this._hasLabel()||this._hasLabel()&&!this._shouldLabelFloat()}_hasFloatingLabel(){return this._hasLabel()||"legacy"===this.appearance&&this._hasPlaceholder()}_getDisplayedMessages(){return this._errorChildren&&this._errorChildren.length>0&&this._control.errorState?"error":"hint"}_animateAndLockLabel(){this._hasFloatingLabel()&&this._canLabelFloat&&(this._animationsEnabled&&this._label&&(this._showAlwaysAnimate=!0,my(this._label.nativeElement,"transitionend").pipe(H_(1)).subscribe(()=>{this._showAlwaysAnimate=!1})),this.floatLabel="always",this._changeDetectorRef.markForCheck())}_validatePlaceholders(){if(this._control.placeholder&&this._placeholderChild)throw Error("Placeholder attribute and child element were both specified.")}_processHints(){this._validateHints(),this._syncDescribedByIds()}_validateHints(){if(this._hintChildren){let t,e;this._hintChildren.forEach(n=>{if("start"===n.align){if(t||this.hintLabel)throw $I("start");t=n}else if("end"===n.align){if(e)throw $I("end");e=n}})}}_getDefaultFloatLabelState(){return this._defaults&&this._defaults.floatLabel||this._labelOptions.float||"auto"}_syncDescribedByIds(){if(this._control){let t=[];if("hint"===this._getDisplayedMessages()){const e=this._hintChildren?this._hintChildren.find(t=>"start"===t.align):null,n=this._hintChildren?this._hintChildren.find(t=>"end"===t.align):null;e?t.push(e.id):this._hintLabel&&t.push(this._hintLabelId),n&&t.push(n.id)}else this._errorChildren&&(t=this._errorChildren.map(t=>t.id));this._control.setDescribedByIds(t)}}_validateControlChild(){if(!this._control)throw Error("mat-form-field must contain a MatFormFieldControl.")}updateOutlineGap(){const t=this._label?this._label.nativeElement:null;if("outline"!==this.appearance||!t||!t.children.length||!t.textContent.trim())return;if(!this._platform.isBrowser)return;if(!this._isAttachedToDOM())return void(this._outlineGapCalculationNeededImmediately=!0);let e=0,n=0;const i=this._connectionContainerRef.nativeElement,r=i.querySelectorAll(".mat-form-field-outline-start"),o=i.querySelectorAll(".mat-form-field-outline-gap");if(this._label&&this._label.nativeElement.children.length){const r=i.getBoundingClientRect();if(0===r.width&&0===r.height)return this._outlineGapCalculationNeededOnStable=!0,void(this._outlineGapCalculationNeededImmediately=!1);const o=this._getStartEnd(r),s=this._getStartEnd(t.children[0].getBoundingClientRect());let a=0;for(const e of t.children)a+=e.offsetWidth;e=Math.abs(s-o)-5,n=a>0?.75*a+10:0}for(let s=0;s<r.length;s++)r[s].style.width=`${e}px`;for(let s=0;s<o.length;s++)o[s].style.width=`${n}px`;this._outlineGapCalculationNeededOnStable=this._outlineGapCalculationNeededImmediately=!1}_getStartEnd(t){return this._dir&&"rtl"===this._dir.value?t.right:t.left}_isAttachedToDOM(){const t=this._elementRef.nativeElement;if(t.getRootNode){const e=t.getRootNode();return e&&e!==t}return document.documentElement.contains(t)}}return t.\u0275fac=function(e){return new(e||t)(Ms(Ya),Ms(Xo),Ms(Dk,8),Ms(k_,8),Ms(eA,8),Ms(y_),Ms($c),Ms(sy,8))},t.\u0275cmp=pe({type:t,selectors:[["mat-form-field"]],contentQueries:function(t,e,n){var i;1&t&&(hc(n,WI,!0),dc(n,WI,!0),hc(n,XI,!0),dc(n,XI,!0),hc(n,KI,!0),hc(n,VI,!0),hc(n,qI,!0),hc(n,YI,!0),hc(n,QI,!0)),2&t&&(ac(i=fc())&&(e._controlNonStatic=i.first),ac(i=fc())&&(e._controlStatic=i.first),ac(i=fc())&&(e._labelChildNonStatic=i.first),ac(i=fc())&&(e._labelChildStatic=i.first),ac(i=fc())&&(e._placeholderChild=i.first),ac(i=fc())&&(e._errorChildren=i),ac(i=fc())&&(e._hintChildren=i),ac(i=fc())&&(e._prefixChildren=i),ac(i=fc())&&(e._suffixChildren=i))},viewQuery:function(t,e){var n;1&t&&(cc(EI,!0),lc(SI,!0),cc(PI,!0),cc(OI,!0)),2&t&&(ac(n=fc())&&(e.underlineRef=n.first),ac(n=fc())&&(e._connectionContainerRef=n.first),ac(n=fc())&&(e._inputContainerRef=n.first),ac(n=fc())&&(e._label=n.first))},hostAttrs:[1,"mat-form-field"],hostVars:44,hostBindings:function(t,e){2&t&&ua("mat-form-field-appearance-standard","standard"==e.appearance)("mat-form-field-appearance-fill","fill"==e.appearance)("mat-form-field-appearance-outline","outline"==e.appearance)("mat-form-field-appearance-legacy","legacy"==e.appearance)("mat-form-field-invalid",e._control.errorState)("mat-form-field-can-float",e._canLabelFloat)("mat-form-field-should-float",e._shouldLabelFloat())("mat-form-field-has-label",e._hasFloatingLabel())("mat-form-field-hide-placeholder",e._hideControlPlaceholder())("mat-form-field-disabled",e._control.disabled)("mat-form-field-autofilled",e._control.autofilled)("mat-focused",e._control.focused)("mat-accent","accent"==e.color)("mat-warn","warn"==e.color)("ng-untouched",e._shouldForward("untouched"))("ng-touched",e._shouldForward("touched"))("ng-pristine",e._shouldForward("pristine"))("ng-dirty",e._shouldForward("dirty"))("ng-valid",e._shouldForward("valid"))("ng-invalid",e._shouldForward("invalid"))("ng-pending",e._shouldForward("pending"))("_mat-animation-noopable",!e._animationsEnabled)},inputs:{color:"color",floatLabel:"floatLabel",appearance:"appearance",hideRequiredMarker:"hideRequiredMarker",hintLabel:"hintLabel"},exportAs:["matFormField"],features:[Ga([{provide:nA,useExisting:t}]),Ia],ngContentSelectors:zI,decls:15,vars:8,consts:[[1,"mat-form-field-wrapper"],[1,"mat-form-field-flex",3,"click"],["connectionContainer",""],[4,"ngIf"],["class","mat-form-field-prefix",4,"ngIf"],[1,"mat-form-field-infix"],["inputContainer",""],[1,"mat-form-field-label-wrapper"],["class","mat-form-field-label",3,"cdkObserveContentDisabled","id","mat-empty","mat-form-field-empty","mat-accent","mat-warn","ngSwitch","cdkObserveContent",4,"ngIf"],["class","mat-form-field-suffix",4,"ngIf"],["class","mat-form-field-underline",4,"ngIf"],[1,"mat-form-field-subscript-wrapper",3,"ngSwitch"],[4,"ngSwitchCase"],["class","mat-form-field-hint-wrapper",4,"ngSwitchCase"],[1,"mat-form-field-outline"],[1,"mat-form-field-outline-start"],[1,"mat-form-field-outline-gap"],[1,"mat-form-field-outline-end"],[1,"mat-form-field-outline","mat-form-field-outline-thick"],[1,"mat-form-field-prefix"],[1,"mat-form-field-label",3,"cdkObserveContentDisabled","id","ngSwitch","cdkObserveContent"],["label",""],["class","mat-placeholder-required mat-form-field-required-marker","aria-hidden","true",4,"ngIf"],["aria-hidden","true",1,"mat-placeholder-required","mat-form-field-required-marker"],[1,"mat-form-field-suffix"],[1,"mat-form-field-underline"],["underline",""],[1,"mat-form-field-ripple"],[1,"mat-form-field-hint-wrapper"],["class","mat-hint",3,"id",4,"ngIf"],[1,"mat-form-field-hint-spacer"],[1,"mat-hint",3,"id"]],template:function(t,e){1&t&&(Zs(jI),Ls(0,"div",0),Ls(1,"div",1,2),$s("click",(function(t){return e._control.onContainerClick&&e._control.onContainerClick(t)})),Is(3,kI,9,0,"ng-container",3),Is(4,TI,2,0,"div",4),Ls(5,"div",5,6),Js(7),Ls(8,"span",7),Is(9,DI,5,16,"label",8),Bs(),Bs(),Is(10,RI,2,0,"div",9),Bs(),Is(11,FI,3,4,"div",10),Ls(12,"div",11),Is(13,LI,2,1,"div",12),Is(14,NI,5,2,"div",13),Bs(),Bs()),2&t&&(vr(3),Rs("ngIf","outline"==e.appearance),vr(1),Rs("ngIf",e._prefixChildren.length),vr(5),Rs("ngIf",e._hasFloatingLabel()),vr(1),Rs("ngIf",e._suffixChildren.length),vr(1),Rs("ngIf","outline"!=e.appearance),vr(1),Rs("ngSwitch",e._getDisplayedMessages()),vr(1),Rs("ngSwitchCase","error"),vr(1),Rs("ngSwitchCase","hint"))},directives:[Eh,kh,Th,iO],styles:[".mat-form-field{display:inline-block;position:relative;text-align:left}[dir=rtl] .mat-form-field{text-align:right}.mat-form-field-wrapper{position:relative}.mat-form-field-flex{display:inline-flex;align-items:baseline;box-sizing:border-box;width:100%}.mat-form-field-prefix,.mat-form-field-suffix{white-space:nowrap;flex:none;position:relative}.mat-form-field-infix{display:block;position:relative;flex:auto;min-width:0;width:180px}.cdk-high-contrast-active .mat-form-field-infix{border-image:linear-gradient(transparent, transparent)}.mat-form-field-label-wrapper{position:absolute;left:0;box-sizing:content-box;width:100%;height:100%;overflow:hidden;pointer-events:none}[dir=rtl] .mat-form-field-label-wrapper{left:auto;right:0}.mat-form-field-label{position:absolute;left:0;font:inherit;pointer-events:none;width:100%;white-space:nowrap;text-overflow:ellipsis;overflow:hidden;transform-origin:0 0;transition:transform 400ms cubic-bezier(0.25, 0.8, 0.25, 1),color 400ms cubic-bezier(0.25, 0.8, 0.25, 1),width 400ms cubic-bezier(0.25, 0.8, 0.25, 1);display:none}[dir=rtl] .mat-form-field-label{transform-origin:100% 0;left:auto;right:0}.mat-form-field-empty.mat-form-field-label,.mat-form-field-can-float.mat-form-field-should-float .mat-form-field-label{display:block}.mat-form-field-autofill-control:-webkit-autofill+.mat-form-field-label-wrapper .mat-form-field-label{display:none}.mat-form-field-can-float .mat-form-field-autofill-control:-webkit-autofill+.mat-form-field-label-wrapper .mat-form-field-label{display:block;transition:none}.mat-input-server:focus+.mat-form-field-label-wrapper .mat-form-field-label,.mat-input-server[placeholder]:not(:placeholder-shown)+.mat-form-field-label-wrapper .mat-form-field-label{display:none}.mat-form-field-can-float .mat-input-server:focus+.mat-form-field-label-wrapper .mat-form-field-label,.mat-form-field-can-float .mat-input-server[placeholder]:not(:placeholder-shown)+.mat-form-field-label-wrapper .mat-form-field-label{display:block}.mat-form-field-label:not(.mat-form-field-empty){transition:none}.mat-form-field-underline{position:absolute;width:100%;pointer-events:none;transform:scale3d(1, 1.0001, 1)}.mat-form-field-ripple{position:absolute;left:0;width:100%;transform-origin:50%;transform:scaleX(0.5);opacity:0;transition:background-color 300ms cubic-bezier(0.55, 0, 0.55, 0.2)}.mat-form-field.mat-focused .mat-form-field-ripple,.mat-form-field.mat-form-field-invalid .mat-form-field-ripple{opacity:1;transform:scaleX(1);transition:transform 300ms cubic-bezier(0.25, 0.8, 0.25, 1),opacity 100ms cubic-bezier(0.25, 0.8, 0.25, 1),background-color 300ms cubic-bezier(0.25, 0.8, 0.25, 1)}.mat-form-field-subscript-wrapper{position:absolute;box-sizing:border-box;width:100%;overflow:hidden}.mat-form-field-subscript-wrapper .mat-icon,.mat-form-field-label-wrapper .mat-icon{width:1em;height:1em;font-size:inherit;vertical-align:baseline}.mat-form-field-hint-wrapper{display:flex}.mat-form-field-hint-spacer{flex:1 0 1em}.mat-error{display:block}.mat-form-field-control-wrapper{position:relative}.mat-form-field._mat-animation-noopable .mat-form-field-label,.mat-form-field._mat-animation-noopable .mat-form-field-ripple{transition:none}\n",'.mat-form-field-appearance-fill .mat-form-field-flex{border-radius:4px 4px 0 0;padding:.75em .75em 0 .75em}.cdk-high-contrast-active .mat-form-field-appearance-fill .mat-form-field-flex{outline:solid 1px}.mat-form-field-appearance-fill .mat-form-field-underline::before{content:"";display:block;position:absolute;bottom:0;height:1px;width:100%}.mat-form-field-appearance-fill .mat-form-field-ripple{bottom:0;height:2px}.cdk-high-contrast-active .mat-form-field-appearance-fill .mat-form-field-ripple{height:0;border-top:solid 2px}.mat-form-field-appearance-fill:not(.mat-form-field-disabled) .mat-form-field-flex:hover~.mat-form-field-underline .mat-form-field-ripple{opacity:1;transform:none;transition:opacity 600ms cubic-bezier(0.25, 0.8, 0.25, 1)}.mat-form-field-appearance-fill._mat-animation-noopable:not(.mat-form-field-disabled) .mat-form-field-flex:hover~.mat-form-field-underline .mat-form-field-ripple{transition:none}.mat-form-field-appearance-fill .mat-form-field-subscript-wrapper{padding:0 1em}\n','.mat-input-element{font:inherit;background:transparent;color:currentColor;border:none;outline:none;padding:0;margin:0;width:100%;max-width:100%;vertical-align:bottom;text-align:inherit}.mat-input-element:-moz-ui-invalid{box-shadow:none}.mat-input-element::-ms-clear,.mat-input-element::-ms-reveal{display:none}.mat-input-element,.mat-input-element::-webkit-search-cancel-button,.mat-input-element::-webkit-search-decoration,.mat-input-element::-webkit-search-results-button,.mat-input-element::-webkit-search-results-decoration{-webkit-appearance:none}.mat-input-element::-webkit-contacts-auto-fill-button,.mat-input-element::-webkit-caps-lock-indicator,.mat-input-element::-webkit-credentials-auto-fill-button{visibility:hidden}.mat-input-element[type=date],.mat-input-element[type=datetime],.mat-input-element[type=datetime-local],.mat-input-element[type=month],.mat-input-element[type=week],.mat-input-element[type=time]{line-height:1}.mat-input-element[type=date]::after,.mat-input-element[type=datetime]::after,.mat-input-element[type=datetime-local]::after,.mat-input-element[type=month]::after,.mat-input-element[type=week]::after,.mat-input-element[type=time]::after{content:" ";white-space:pre;width:1px}.mat-input-element::-webkit-inner-spin-button,.mat-input-element::-webkit-calendar-picker-indicator,.mat-input-element::-webkit-clear-button{font-size:.75em}.mat-input-element::placeholder{-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none;transition:color 400ms 133.3333333333ms cubic-bezier(0.25, 0.8, 0.25, 1)}.mat-input-element::placeholder:-ms-input-placeholder{-ms-user-select:text}.mat-input-element::-moz-placeholder{-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none;transition:color 400ms 133.3333333333ms cubic-bezier(0.25, 0.8, 0.25, 1)}.mat-input-element::-moz-placeholder:-ms-input-placeholder{-ms-user-select:text}.mat-input-element::-webkit-input-placeholder{-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none;transition:color 400ms 133.3333333333ms cubic-bezier(0.25, 0.8, 0.25, 1)}.mat-input-element::-webkit-input-placeholder:-ms-input-placeholder{-ms-user-select:text}.mat-input-element:-ms-input-placeholder{-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none;transition:color 400ms 133.3333333333ms cubic-bezier(0.25, 0.8, 0.25, 1)}.mat-input-element:-ms-input-placeholder:-ms-input-placeholder{-ms-user-select:text}.mat-form-field-hide-placeholder .mat-input-element::placeholder{color:transparent !important;-webkit-text-fill-color:transparent;transition:none}.mat-form-field-hide-placeholder .mat-input-element::-moz-placeholder{color:transparent !important;-webkit-text-fill-color:transparent;transition:none}.mat-form-field-hide-placeholder .mat-input-element::-webkit-input-placeholder{color:transparent !important;-webkit-text-fill-color:transparent;transition:none}.mat-form-field-hide-placeholder .mat-input-element:-ms-input-placeholder{color:transparent !important;-webkit-text-fill-color:transparent;transition:none}textarea.mat-input-element{resize:vertical;overflow:auto}textarea.mat-input-element.cdk-textarea-autosize{resize:none}textarea.mat-input-element{padding:2px 0;margin:-2px 0}select.mat-input-element{-moz-appearance:none;-webkit-appearance:none;position:relative;background-color:transparent;display:inline-flex;box-sizing:border-box;padding-top:1em;top:-1em;margin-bottom:-1em}select.mat-input-element::-ms-expand{display:none}select.mat-input-element::-moz-focus-inner{border:0}select.mat-input-element:not(:disabled){cursor:pointer}select.mat-input-element::-ms-value{color:inherit;background:none}.mat-focused .cdk-high-contrast-active select.mat-input-element::-ms-value{color:inherit}.mat-form-field-type-mat-native-select .mat-form-field-infix::after{content:"";width:0;height:0;border-left:5px solid transparent;border-right:5px solid transparent;border-top:5px solid;position:absolute;top:50%;right:0;margin-top:-2.5px;pointer-events:none}[dir=rtl] .mat-form-field-type-mat-native-select .mat-form-field-infix::after{right:auto;left:0}.mat-form-field-type-mat-native-select .mat-input-element{padding-right:15px}[dir=rtl] .mat-form-field-type-mat-native-select .mat-input-element{padding-right:0;padding-left:15px}.mat-form-field-type-mat-native-select .mat-form-field-label-wrapper{max-width:calc(100% - 10px)}.mat-form-field-type-mat-native-select.mat-form-field-appearance-outline .mat-form-field-infix::after{margin-top:-5px}.mat-form-field-type-mat-native-select.mat-form-field-appearance-fill .mat-form-field-infix::after{margin-top:-10px}\n',".mat-form-field-appearance-legacy .mat-form-field-label{transform:perspective(100px);-ms-transform:none}.mat-form-field-appearance-legacy .mat-form-field-prefix .mat-icon,.mat-form-field-appearance-legacy .mat-form-field-suffix .mat-icon{width:1em}.mat-form-field-appearance-legacy .mat-form-field-prefix .mat-icon-button,.mat-form-field-appearance-legacy .mat-form-field-suffix .mat-icon-button{font:inherit;vertical-align:baseline}.mat-form-field-appearance-legacy .mat-form-field-prefix .mat-icon-button .mat-icon,.mat-form-field-appearance-legacy .mat-form-field-suffix .mat-icon-button .mat-icon{font-size:inherit}.mat-form-field-appearance-legacy .mat-form-field-underline{height:1px}.cdk-high-contrast-active .mat-form-field-appearance-legacy .mat-form-field-underline{height:0;border-top:solid 1px}.mat-form-field-appearance-legacy .mat-form-field-ripple{top:0;height:2px;overflow:hidden}.cdk-high-contrast-active .mat-form-field-appearance-legacy .mat-form-field-ripple{height:0;border-top:solid 2px}.mat-form-field-appearance-legacy.mat-form-field-disabled .mat-form-field-underline{background-position:0;background-color:transparent}.cdk-high-contrast-active .mat-form-field-appearance-legacy.mat-form-field-disabled .mat-form-field-underline{border-top-style:dotted;border-top-width:2px}.mat-form-field-appearance-legacy.mat-form-field-invalid:not(.mat-focused) .mat-form-field-ripple{height:1px}\n",".mat-form-field-appearance-outline .mat-form-field-wrapper{margin:.25em 0}.mat-form-field-appearance-outline .mat-form-field-flex{padding:0 .75em 0 .75em;margin-top:-0.25em;position:relative}.mat-form-field-appearance-outline .mat-form-field-prefix,.mat-form-field-appearance-outline .mat-form-field-suffix{top:.25em}.mat-form-field-appearance-outline .mat-form-field-outline{display:flex;position:absolute;top:.25em;left:0;right:0;bottom:0;pointer-events:none}.mat-form-field-appearance-outline .mat-form-field-outline-start,.mat-form-field-appearance-outline .mat-form-field-outline-end{border:1px solid currentColor;min-width:5px}.mat-form-field-appearance-outline .mat-form-field-outline-start{border-radius:5px 0 0 5px;border-right-style:none}[dir=rtl] .mat-form-field-appearance-outline .mat-form-field-outline-start{border-right-style:solid;border-left-style:none;border-radius:0 5px 5px 0}.mat-form-field-appearance-outline .mat-form-field-outline-end{border-radius:0 5px 5px 0;border-left-style:none;flex-grow:1}[dir=rtl] .mat-form-field-appearance-outline .mat-form-field-outline-end{border-left-style:solid;border-right-style:none;border-radius:5px 0 0 5px}.mat-form-field-appearance-outline .mat-form-field-outline-gap{border-radius:.000001px;border:1px solid currentColor;border-left-style:none;border-right-style:none}.mat-form-field-appearance-outline.mat-form-field-can-float.mat-form-field-should-float .mat-form-field-outline-gap{border-top-color:transparent}.mat-form-field-appearance-outline .mat-form-field-outline-thick{opacity:0}.mat-form-field-appearance-outline .mat-form-field-outline-thick .mat-form-field-outline-start,.mat-form-field-appearance-outline .mat-form-field-outline-thick .mat-form-field-outline-end,.mat-form-field-appearance-outline .mat-form-field-outline-thick .mat-form-field-outline-gap{border-width:2px}.mat-form-field-appearance-outline.mat-focused .mat-form-field-outline,.mat-form-field-appearance-outline.mat-form-field-invalid .mat-form-field-outline{opacity:0;transition:opacity 100ms cubic-bezier(0.25, 0.8, 0.25, 1)}.mat-form-field-appearance-outline.mat-focused .mat-form-field-outline-thick,.mat-form-field-appearance-outline.mat-form-field-invalid .mat-form-field-outline-thick{opacity:1}.mat-form-field-appearance-outline:not(.mat-form-field-disabled) .mat-form-field-flex:hover .mat-form-field-outline{opacity:0;transition:opacity 600ms cubic-bezier(0.25, 0.8, 0.25, 1)}.mat-form-field-appearance-outline:not(.mat-form-field-disabled) .mat-form-field-flex:hover .mat-form-field-outline-thick{opacity:1}.mat-form-field-appearance-outline .mat-form-field-subscript-wrapper{padding:0 1em}.mat-form-field-appearance-outline._mat-animation-noopable:not(.mat-form-field-disabled) .mat-form-field-flex:hover~.mat-form-field-outline,.mat-form-field-appearance-outline._mat-animation-noopable .mat-form-field-outline,.mat-form-field-appearance-outline._mat-animation-noopable .mat-form-field-outline-start,.mat-form-field-appearance-outline._mat-animation-noopable .mat-form-field-outline-end,.mat-form-field-appearance-outline._mat-animation-noopable .mat-form-field-outline-gap{transition:none}\n",".mat-form-field-appearance-standard .mat-form-field-flex{padding-top:.75em}.mat-form-field-appearance-standard .mat-form-field-underline{height:1px}.cdk-high-contrast-active .mat-form-field-appearance-standard .mat-form-field-underline{height:0;border-top:solid 1px}.mat-form-field-appearance-standard .mat-form-field-ripple{bottom:0;height:2px}.cdk-high-contrast-active .mat-form-field-appearance-standard .mat-form-field-ripple{height:0;border-top:2px}.mat-form-field-appearance-standard.mat-form-field-disabled .mat-form-field-underline{background-position:0;background-color:transparent}.cdk-high-contrast-active .mat-form-field-appearance-standard.mat-form-field-disabled .mat-form-field-underline{border-top-style:dotted;border-top-width:2px}.mat-form-field-appearance-standard:not(.mat-form-field-disabled) .mat-form-field-flex:hover~.mat-form-field-underline .mat-form-field-ripple{opacity:1;transform:none;transition:opacity 600ms cubic-bezier(0.25, 0.8, 0.25, 1)}.mat-form-field-appearance-standard._mat-animation-noopable:not(.mat-form-field-disabled) .mat-form-field-flex:hover~.mat-form-field-underline .mat-form-field-ripple{transition:none}\n"],encapsulation:2,data:{animation:[UI.transitionMessages]},changeDetection:0}),t})(),rA=(()=>{class t{}return t.\u0275mod=_e({type:t}),t.\u0275inj=dt({factory:function(e){return new(e||t)},imports:[[rd,JO,rO],JO]}),t})();function oA(t){return new _(e=>{let n;try{n=t()}catch(i){return void e.error(i)}return(n?j(n):o_()).subscribe(e)})}const sA=["trigger"],aA=["panel"];function lA(t,e){if(1&t&&(Ls(0,"span",8),Ca(1),Bs()),2&t){const t=Ys();vr(1),xa(t.placeholder||"\xa0")}}function cA(t,e){if(1&t&&(Ls(0,"span"),Ca(1),Bs()),2&t){const t=Ys(2);vr(1),xa(t.triggerValue||"\xa0")}}function uA(t,e){1&t&&Js(0,0,["*ngSwitchCase","true"])}function hA(t,e){1&t&&(Ls(0,"span",9),Is(1,cA,2,1,"span",10),Is(2,uA,1,0,void 0,11),Bs()),2&t&&(Rs("ngSwitch",!!Ys().customTrigger),vr(2),Rs("ngSwitchCase",!0))}function dA(t,e){if(1&t){const t=Vs();Ls(0,"div",12),Ls(1,"div",13,14),$s("@transformPanel.done",(function(e){return Qe(t),Ys()._panelDoneAnimatingStream.next(e.toState)}))("keydown",(function(e){return Qe(t),Ys()._handleKeydown(e)})),Js(3,1),Bs(),Bs()}if(2&t){const t=Ys();Rs("@transformPanelWrap",void 0),vr(1),"mat-select-panel ",n=t._getPanelTheme(),"",pa(oe,ha,Ts(Ke(),"mat-select-panel ",n,""),!0),ca("transform-origin",t._transformOrigin)("font-size",t._triggerFontSize,"px"),Rs("ngClass",t.panelClass)("@transformPanel",t.multiple?"showing-multiple":"showing"),ks("id",t.id+"-panel")}var n}const pA=[[["mat-select-trigger"]],"*"],fA=["mat-select-trigger","*"],mA={transformPanelWrap:jf("transformPanelWrap",[Gf("* => void",Xf("@transformPanel",[qf()],{optional:!0}))]),transformPanel:jf("transformPanel",[Wf("void",Uf({transform:"scaleY(0.8)",minWidth:"100%",opacity:0})),Wf("showing",Uf({opacity:1,minWidth:"calc(100% + 32px)",transform:"scaleY(1)"})),Wf("showing-multiple",Uf({opacity:1,minWidth:"calc(100% + 64px)",transform:"scaleY(1)"})),Gf("void => *",zf("120ms cubic-bezier(0, 0, 0.2, 1)")),Gf("* => void",zf("100ms 25ms linear",Uf({opacity:0})))])};let gA=0;const yA=new jt("mat-select-scroll-strategy"),_A=new jt("MAT_SELECT_CONFIG"),vA={provide:yA,deps:[oT],useFactory:function(t){return()=>t.scrollStrategies.reposition()}};class bA{constructor(t,e){this.source=t,this.value=e}}class wA{constructor(t,e,n,i,r){this._elementRef=t,this._defaultErrorStateMatcher=e,this._parentForm=n,this._parentFormGroup=i,this.ngControl=r}}const CA=nk(ik(tk(rk(wA))));let xA=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275dir=be({type:t,selectors:[["mat-select-trigger"]]}),t})(),EA=(()=>{class t extends CA{constructor(t,e,n,i,r,o,s,a,l,c,u,h,d,p){super(r,i,s,a,c),this._viewportRuler=t,this._changeDetectorRef=e,this._ngZone=n,this._dir=o,this._parentFormField=l,this.ngControl=c,this._liveAnnouncer=d,this._panelOpen=!1,this._required=!1,this._scrollTop=0,this._multiple=!1,this._compareWith=(t,e)=>t===e,this._uid=`mat-select-${gA++}`,this._destroy=new x,this._triggerFontSize=0,this._onChange=()=>{},this._onTouched=()=>{},this._optionIds="",this._transformOrigin="top",this._panelDoneAnimatingStream=new x,this._offsetY=0,this._positions=[{originX:"start",originY:"top",overlayX:"start",overlayY:"top"},{originX:"start",originY:"bottom",overlayX:"start",overlayY:"bottom"}],this._disableOptionCentering=!1,this._focused=!1,this.controlType="mat-select",this.ariaLabel="",this.optionSelectionChanges=oA(()=>{const t=this.options;return t?t.changes.pipe(Ky(t),Zy(()=>$(...t.map(t=>t.onSelectionChange)))):this._ngZone.onStable.asObservable().pipe(H_(1),Zy(()=>this.optionSelectionChanges))}),this.openedChange=new Yl,this._openedStream=this.openedChange.pipe(Vy(t=>t),F(()=>{})),this._closedStream=this.openedChange.pipe(Vy(t=>!t),F(()=>{})),this.selectionChange=new Yl,this.valueChange=new Yl,this.ngControl&&(this.ngControl.valueAccessor=this),this._scrollStrategyFactory=h,this._scrollStrategy=this._scrollStrategyFactory(),this.tabIndex=parseInt(u)||0,this.id=this.id,p&&(null!=p.disableOptionCentering&&(this.disableOptionCentering=p.disableOptionCentering),null!=p.typeaheadDebounceInterval&&(this.typeaheadDebounceInterval=p.typeaheadDebounceInterval))}get focused(){return this._focused||this._panelOpen}get placeholder(){return this._placeholder}set placeholder(t){this._placeholder=t,this.stateChanges.next()}get required(){return this._required}set required(t){this._required=cy(t),this.stateChanges.next()}get multiple(){return this._multiple}set multiple(t){if(this._selectionModel)throw Error("Cannot change `multiple` mode of select after initialization.");this._multiple=cy(t)}get disableOptionCentering(){return this._disableOptionCentering}set disableOptionCentering(t){this._disableOptionCentering=cy(t)}get compareWith(){return this._compareWith}set compareWith(t){if("function"!=typeof t)throw Error("`compareWith` must be a function.");this._compareWith=t,this._selectionModel&&this._initializeSelection()}get value(){return this._value}set value(t){t!==this._value&&(this.writeValue(t),this._value=t)}get typeaheadDebounceInterval(){return this._typeaheadDebounceInterval}set typeaheadDebounceInterval(t){this._typeaheadDebounceInterval=uy(t)}get id(){return this._id}set id(t){this._id=t||this._uid,this.stateChanges.next()}ngOnInit(){this._selectionModel=new A_(this.multiple),this.stateChanges.next(),this._panelDoneAnimatingStream.pipe(My(),$y(this._destroy)).subscribe(()=>{this.panelOpen?(this._scrollTop=0,this.openedChange.emit(!0)):(this.openedChange.emit(!1),this.overlayDir.offsetX=0,this._changeDetectorRef.markForCheck())}),this._viewportRuler.change().pipe($y(this._destroy)).subscribe(()=>{this._panelOpen&&(this._triggerRect=this.trigger.nativeElement.getBoundingClientRect(),this._changeDetectorRef.markForCheck())})}ngAfterContentInit(){this._initKeyManager(),this._selectionModel.changed.pipe($y(this._destroy)).subscribe(t=>{t.added.forEach(t=>t.select()),t.removed.forEach(t=>t.deselect())}),this.options.changes.pipe(Ky(null),$y(this._destroy)).subscribe(()=>{this._resetOptions(),this._initializeSelection()})}ngDoCheck(){this.ngControl&&this.updateErrorState()}ngOnChanges(t){t.disabled&&this.stateChanges.next(),t.typeaheadDebounceInterval&&this._keyManager&&this._keyManager.withTypeAhead(this._typeaheadDebounceInterval)}ngOnDestroy(){this._destroy.next(),this._destroy.complete(),this.stateChanges.complete()}toggle(){this.panelOpen?this.close():this.open()}open(){!this.disabled&&this.options&&this.options.length&&!this._panelOpen&&(this._triggerRect=this.trigger.nativeElement.getBoundingClientRect(),this._triggerFontSize=parseInt(getComputedStyle(this.trigger.nativeElement).fontSize||"0"),this._panelOpen=!0,this._keyManager.withHorizontalOrientation(null),this._calculateOverlayPosition(),this._highlightCorrectOption(),this._changeDetectorRef.markForCheck(),this._ngZone.onStable.asObservable().pipe(H_(1)).subscribe(()=>{this._triggerFontSize&&this.overlayDir.overlayRef&&this.overlayDir.overlayRef.overlayElement&&(this.overlayDir.overlayRef.overlayElement.style.fontSize=`${this._triggerFontSize}px`)}))}close(){this._panelOpen&&(this._panelOpen=!1,this._keyManager.withHorizontalOrientation(this._isRtl()?"rtl":"ltr"),this._changeDetectorRef.markForCheck(),this._onTouched())}writeValue(t){this.options&&this._setSelectionByValue(t)}registerOnChange(t){this._onChange=t}registerOnTouched(t){this._onTouched=t}setDisabledState(t){this.disabled=t,this._changeDetectorRef.markForCheck(),this.stateChanges.next()}get panelOpen(){return this._panelOpen}get selected(){return this.multiple?this._selectionModel.selected:this._selectionModel.selected[0]}get triggerValue(){if(this.empty)return"";if(this._multiple){const t=this._selectionModel.selected.map(t=>t.viewValue);return this._isRtl()&&t.reverse(),t.join(", ")}return this._selectionModel.selected[0].viewValue}_isRtl(){return!!this._dir&&"rtl"===this._dir.value}_handleKeydown(t){this.disabled||(this.panelOpen?this._handleOpenKeydown(t):this._handleClosedKeydown(t))}_handleClosedKeydown(t){const e=t.keyCode,n=40===e||38===e||37===e||39===e,i=13===e||32===e,r=this._keyManager;if(!r.isTyping()&&i&&!YP(t)||(this.multiple||t.altKey)&&n)t.preventDefault(),this.open();else if(!this.multiple){const n=this.selected;36===e||35===e?(36===e?r.setFirstItemActive():r.setLastItemActive(),t.preventDefault()):r.onKeydown(t);const i=this.selected;i&&n!==i&&this._liveAnnouncer.announce(i.viewValue,1e4)}}_handleOpenKeydown(t){const e=this._keyManager,n=t.keyCode,i=40===n||38===n,r=e.isTyping();if(36===n||35===n)t.preventDefault(),36===n?e.setFirstItemActive():e.setLastItemActive();else if(i&&t.altKey)t.preventDefault(),this.close();else if(r||13!==n&&32!==n||!e.activeItem||YP(t))if(!r&&this._multiple&&65===n&&t.ctrlKey){t.preventDefault();const e=this.options.some(t=>!t.disabled&&!t.selected);this.options.forEach(t=>{t.disabled||(e?t.select():t.deselect())})}else{const n=e.activeItemIndex;e.onKeydown(t),this._multiple&&i&&t.shiftKey&&e.activeItem&&e.activeItemIndex!==n&&e.activeItem._selectViaInteraction()}else t.preventDefault(),e.activeItem._selectViaInteraction()}_onFocus(){this.disabled||(this._focused=!0,this.stateChanges.next())}_onBlur(){this._focused=!1,this.disabled||this.panelOpen||(this._onTouched(),this._changeDetectorRef.markForCheck(),this.stateChanges.next())}_onAttached(){this.overlayDir.positionChange.pipe(H_(1)).subscribe(()=>{this._changeDetectorRef.detectChanges(),this._calculateOverlayOffsetX(),this.panel.nativeElement.scrollTop=this._scrollTop})}_getPanelTheme(){return this._parentFormField?`mat-${this._parentFormField.color}`:""}get empty(){return!this._selectionModel||this._selectionModel.isEmpty()}_initializeSelection(){Promise.resolve().then(()=>{this._setSelectionByValue(this.ngControl?this.ngControl.value:this._value),this.stateChanges.next()})}_setSelectionByValue(t){if(this.multiple&&t){if(!Array.isArray(t))throw Error("Value must be an array in multiple-selection mode.");this._selectionModel.clear(),t.forEach(t=>this._selectValue(t)),this._sortValues()}else{this._selectionModel.clear();const e=this._selectValue(t);e?this._keyManager.setActiveItem(e):this.panelOpen||this._keyManager.setActiveItem(-1)}this._changeDetectorRef.markForCheck()}_selectValue(t){const e=this.options.find(e=>{try{return null!=e.value&&this._compareWith(e.value,t)}catch(n){return Pi()&&console.warn(n),!1}});return e&&this._selectionModel.select(e),e}_initKeyManager(){this._keyManager=new hO(this.options).withTypeAhead(this._typeaheadDebounceInterval).withVerticalOrientation().withHorizontalOrientation(this._isRtl()?"rtl":"ltr").withAllowedModifierKeys(["shiftKey"]),this._keyManager.tabOut.pipe($y(this._destroy)).subscribe(()=>{this.panelOpen&&(!this.multiple&&this._keyManager.activeItem&&this._keyManager.activeItem._selectViaInteraction(),this.focus(),this.close())}),this._keyManager.change.pipe($y(this._destroy)).subscribe(()=>{this._panelOpen&&this.panel?this._scrollActiveOptionIntoView():this._panelOpen||this.multiple||!this._keyManager.activeItem||this._keyManager.activeItem._selectViaInteraction()})}_resetOptions(){const t=$(this.options.changes,this._destroy);this.optionSelectionChanges.pipe($y(t)).subscribe(t=>{this._onSelect(t.source,t.isUserInput),t.isUserInput&&!this.multiple&&this._panelOpen&&(this.close(),this.focus())}),$(...this.options.map(t=>t._stateChanges)).pipe($y(t)).subscribe(()=>{this._changeDetectorRef.markForCheck(),this.stateChanges.next()}),this._setOptionIds()}_onSelect(t,e){const n=this._selectionModel.isSelected(t);null!=t.value||this._multiple?(n!==t.selected&&(t.selected?this._selectionModel.select(t):this._selectionModel.deselect(t)),e&&this._keyManager.setActiveItem(t),this.multiple&&(this._sortValues(),e&&this.focus())):(t.deselect(),this._selectionModel.clear(),this._propagateChanges(t.value)),n!==this._selectionModel.isSelected(t)&&this._propagateChanges(),this.stateChanges.next()}_sortValues(){if(this.multiple){const t=this.options.toArray();this._selectionModel.sort((e,n)=>this.sortComparator?this.sortComparator(e,n,t):t.indexOf(e)-t.indexOf(n)),this.stateChanges.next()}}_propagateChanges(t){let e=null;e=this.multiple?this.selected.map(t=>t.value):this.selected?this.selected.value:t,this._value=e,this.valueChange.emit(e),this._onChange(e),this.selectionChange.emit(new bA(this,e)),this._changeDetectorRef.markForCheck()}_setOptionIds(){this._optionIds=this.options.map(t=>t.id).join(" ")}_highlightCorrectOption(){this._keyManager&&(this.empty?this._keyManager.setFirstItemActive():this._keyManager.setActiveItem(this._selectionModel.selected[0]))}_scrollActiveOptionIntoView(){const t=this._keyManager.activeItemIndex||0,e=Ik(t,this.options,this.optionGroups);this.panel.nativeElement.scrollTop=Ak(t+e,this._getItemHeight(),this.panel.nativeElement.scrollTop,256)}focus(t){this._elementRef.nativeElement.focus(t)}_getOptionIndex(t){return this.options.reduce((e,n,i)=>void 0!==e?e:t===n?i:void 0,void 0)}_calculateOverlayPosition(){const t=this._getItemHeight(),e=this._getItemCount(),n=Math.min(e*t,256),i=e*t-n;let r=this.empty?0:this._getOptionIndex(this._selectionModel.selected[0]);r+=Ik(r,this.options,this.optionGroups);const o=n/2;this._scrollTop=this._calculateOverlayScroll(r,o,i),this._offsetY=this._calculateOverlayOffsetY(r,o,i),this._checkOverlayWithinViewport(i)}_calculateOverlayScroll(t,e,n){const i=this._getItemHeight();return Math.min(Math.max(0,i*t-e+i/2),n)}_getAriaLabel(){return this.ariaLabelledby?null:this.ariaLabel||this.placeholder}_getAriaLabelledby(){return this.ariaLabelledby?this.ariaLabelledby:this._parentFormField&&this._parentFormField._hasFloatingLabel()&&!this._getAriaLabel()&&this._parentFormField._labelId||null}_getAriaActiveDescendant(){return this.panelOpen&&this._keyManager&&this._keyManager.activeItem?this._keyManager.activeItem.id:null}_calculateOverlayOffsetX(){const t=this.overlayDir.overlayRef.overlayElement.getBoundingClientRect(),e=this._viewportRuler.getViewportSize(),n=this._isRtl(),i=this.multiple?56:32;let r;if(this.multiple)r=40;else{let t=this._selectionModel.selected[0]||this.options.first;r=t&&t.group?32:16}n||(r*=-1);const o=0-(t.left+r-(n?i:0)),s=t.right+r-e.width+(n?0:i);o>0?r+=o+8:s>0&&(r-=s+8),this.overlayDir.offsetX=Math.round(r),this.overlayDir.overlayRef.updatePosition()}_calculateOverlayOffsetY(t,e,n){const i=this._getItemHeight(),r=(i-this._triggerRect.height)/2,o=Math.floor(256/i);let s;return this._disableOptionCentering?0:(s=0===this._scrollTop?t*i:this._scrollTop===n?(t-(this._getItemCount()-o))*i+(i-(this._getItemCount()*i-256)%i):e-i/2,Math.round(-1*s-r))}_checkOverlayWithinViewport(t){const e=this._getItemHeight(),n=this._viewportRuler.getViewportSize(),i=this._triggerRect.top-8,r=n.height-this._triggerRect.bottom-8,o=Math.abs(this._offsetY),s=Math.min(this._getItemCount()*e,256)-o-this._triggerRect.height;s>r?this._adjustPanelUp(s,r):o>i?this._adjustPanelDown(o,i,t):this._transformOrigin=this._getOriginBasedOnOption()}_adjustPanelUp(t,e){const n=Math.round(t-e);this._scrollTop-=n,this._offsetY-=n,this._transformOrigin=this._getOriginBasedOnOption(),this._scrollTop<=0&&(this._scrollTop=0,this._offsetY=0,this._transformOrigin="50% bottom 0px")}_adjustPanelDown(t,e,n){const i=Math.round(t-e);if(this._scrollTop+=i,this._offsetY+=i,this._transformOrigin=this._getOriginBasedOnOption(),this._scrollTop>=n)return this._scrollTop=n,this._offsetY=0,void(this._transformOrigin="50% top 0px")}_getOriginBasedOnOption(){const t=this._getItemHeight(),e=(t-this._triggerRect.height)/2;return`50% ${Math.abs(this._offsetY)-e+t/2}px 0px`}_getItemCount(){return this.options.length+this.optionGroups.length}_getItemHeight(){return 3*this._triggerFontSize}setDescribedByIds(t){this._ariaDescribedby=t.join(" ")}onContainerClick(){this.focus(),this.open()}get shouldLabelFloat(){return this._panelOpen||!this.empty}}return t.\u0275fac=function(e){return new(e||t)(Ms(F_),Ms(Xo),Ms($c),Ms(ok),Ms(Ya),Ms(k_,8),Ms(bp,8),Ms(Rp,8),Ms(nA,8),Ms(_d,10),Ds("tabindex"),Ms(yA),Ms(bO),Ms(_A,8))},t.\u0275cmp=pe({type:t,selectors:[["mat-select"]],contentQueries:function(t,e,n){var i;1&t&&(hc(n,xA,!0),hc(n,Tk,!0),hc(n,Ek,!0)),2&t&&(ac(i=fc())&&(e.customTrigger=i.first),ac(i=fc())&&(e.options=i),ac(i=fc())&&(e.optionGroups=i))},viewQuery:function(t,e){var n;1&t&&(cc(sA,!0),cc(aA,!0),cc(cT,!0)),2&t&&(ac(n=fc())&&(e.trigger=n.first),ac(n=fc())&&(e.panel=n.first),ac(n=fc())&&(e.overlayDir=n.first))},hostAttrs:["role","listbox",1,"mat-select"],hostVars:19,hostBindings:function(t,e){1&t&&$s("keydown",(function(t){return e._handleKeydown(t)}))("focus",(function(){return e._onFocus()}))("blur",(function(){return e._onBlur()})),2&t&&(ks("id",e.id)("tabindex",e.tabIndex)("aria-label",e._getAriaLabel())("aria-labelledby",e._getAriaLabelledby())("aria-required",e.required.toString())("aria-disabled",e.disabled.toString())("aria-invalid",e.errorState)("aria-owns",e.panelOpen?e._optionIds:null)("aria-multiselectable",e.multiple)("aria-describedby",e._ariaDescribedby||null)("aria-activedescendant",e._getAriaActiveDescendant()),ua("mat-select-disabled",e.disabled)("mat-select-invalid",e.errorState)("mat-select-required",e.required)("mat-select-empty",e.empty))},inputs:{disabled:"disabled",disableRipple:"disableRipple",tabIndex:"tabIndex",ariaLabel:["aria-label","ariaLabel"],id:"id",disableOptionCentering:"disableOptionCentering",typeaheadDebounceInterval:"typeaheadDebounceInterval",placeholder:"placeholder",required:"required",multiple:"multiple",compareWith:"compareWith",value:"value",panelClass:"panelClass",ariaLabelledby:["aria-labelledby","ariaLabelledby"],errorStateMatcher:"errorStateMatcher",sortComparator:"sortComparator"},outputs:{openedChange:"openedChange",_openedStream:"opened",_closedStream:"closed",selectionChange:"selectionChange",valueChange:"valueChange"},exportAs:["matSelect"],features:[Ga([{provide:WI,useExisting:t},{provide:kk,useExisting:t}]),Ia,La],ngContentSelectors:fA,decls:9,vars:9,consts:[["cdk-overlay-origin","","aria-hidden","true",1,"mat-select-trigger",3,"click"],["origin","cdkOverlayOrigin","trigger",""],[1,"mat-select-value",3,"ngSwitch"],["class","mat-select-placeholder",4,"ngSwitchCase"],["class","mat-select-value-text",3,"ngSwitch",4,"ngSwitchCase"],[1,"mat-select-arrow-wrapper"],[1,"mat-select-arrow"],["cdk-connected-overlay","","cdkConnectedOverlayLockPosition","","cdkConnectedOverlayHasBackdrop","","cdkConnectedOverlayBackdropClass","cdk-overlay-transparent-backdrop",3,"cdkConnectedOverlayScrollStrategy","cdkConnectedOverlayOrigin","cdkConnectedOverlayOpen","cdkConnectedOverlayPositions","cdkConnectedOverlayMinWidth","cdkConnectedOverlayOffsetY","backdropClick","attach","detach"],[1,"mat-select-placeholder"],[1,"mat-select-value-text",3,"ngSwitch"],[4,"ngSwitchDefault"],[4,"ngSwitchCase"],[1,"mat-select-panel-wrap"],[3,"ngClass","keydown"],["panel",""]],template:function(t,e){if(1&t&&(Zs(pA),Ls(0,"div",0,1),$s("click",(function(){return e.toggle()})),Ls(3,"div",2),Is(4,lA,2,1,"span",3),Is(5,hA,3,2,"span",4),Bs(),Ls(6,"div",5),Ns(7,"div",6),Bs(),Bs(),Is(8,dA,4,11,"ng-template",7),$s("backdropClick",(function(){return e.close()}))("attach",(function(){return e._onAttached()}))("detach",(function(){return e.close()}))),2&t){const t=As(1);vr(3),Rs("ngSwitch",e.empty),vr(1),Rs("ngSwitchCase",!0),vr(1),Rs("ngSwitchCase",!1),vr(3),Rs("cdkConnectedOverlayScrollStrategy",e._scrollStrategy)("cdkConnectedOverlayOrigin",t)("cdkConnectedOverlayOpen",e.panelOpen)("cdkConnectedOverlayPositions",e._positions)("cdkConnectedOverlayMinWidth",null==e._triggerRect?null:e._triggerRect.width)("cdkConnectedOverlayOffsetY",e._offsetY)}},directives:[lT,kh,Th,cT,Ih,vh],styles:[".mat-select{display:inline-block;width:100%;outline:none}.mat-select-trigger{display:inline-table;cursor:pointer;position:relative;box-sizing:border-box}.mat-select-disabled .mat-select-trigger{-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none;cursor:default}.mat-select-value{display:table-cell;max-width:0;width:100%;overflow:hidden;text-overflow:ellipsis;white-space:nowrap}.mat-select-value-text{white-space:nowrap;overflow:hidden;text-overflow:ellipsis}.mat-select-arrow-wrapper{display:table-cell;vertical-align:middle}.mat-form-field-appearance-fill .mat-select-arrow-wrapper{transform:translateY(-50%)}.mat-form-field-appearance-outline .mat-select-arrow-wrapper{transform:translateY(-25%)}.mat-form-field-appearance-standard.mat-form-field-has-label .mat-select:not(.mat-select-empty) .mat-select-arrow-wrapper{transform:translateY(-50%)}.mat-form-field-appearance-standard .mat-select.mat-select-empty .mat-select-arrow-wrapper{transition:transform 400ms cubic-bezier(0.25, 0.8, 0.25, 1)}._mat-animation-noopable.mat-form-field-appearance-standard .mat-select.mat-select-empty .mat-select-arrow-wrapper{transition:none}.mat-select-arrow{width:0;height:0;border-left:5px solid transparent;border-right:5px solid transparent;border-top:5px solid;margin:0 4px}.mat-select-panel-wrap{flex-basis:100%}.mat-select-panel{min-width:112px;max-width:280px;overflow:auto;-webkit-overflow-scrolling:touch;padding-top:0;padding-bottom:0;max-height:256px;min-width:100%;border-radius:4px}.cdk-high-contrast-active .mat-select-panel{outline:solid 1px}.mat-select-panel .mat-optgroup-label,.mat-select-panel .mat-option{font-size:inherit;line-height:3em;height:3em}.mat-form-field-type-mat-select:not(.mat-form-field-disabled) .mat-form-field-flex{cursor:pointer}.mat-form-field-type-mat-select .mat-form-field-label{width:calc(100% - 18px)}.mat-select-placeholder{transition:color 400ms 133.3333333333ms cubic-bezier(0.25, 0.8, 0.25, 1)}._mat-animation-noopable .mat-select-placeholder{transition:none}.mat-form-field-hide-placeholder .mat-select-placeholder{color:transparent;-webkit-text-fill-color:transparent;transition:none;display:block}\n"],encapsulation:2,data:{animation:[mA.transformPanelWrap,mA.transformPanel]},changeDetection:0}),t})(),SA=(()=>{class t{}return t.\u0275mod=_e({type:t}),t.\u0275inj=dt({factory:function(e){return new(e||t)},providers:[vA],imports:[[rd,hT,Mk,JO],L_,rA,Mk,JO]}),t})();const PA=E_({passive:!0});let OA=(()=>{class t{constructor(t,e){this._platform=t,this._ngZone=e,this._monitoredElements=new Map}monitor(t){if(!this._platform.isBrowser)return r_;const e=py(t),n=this._monitoredElements.get(e);if(n)return n.subject.asObservable();const i=new x,r="cdk-text-field-autofilled",o=t=>{"cdk-text-field-autofill-start"!==t.animationName||e.classList.contains(r)?"cdk-text-field-autofill-end"===t.animationName&&e.classList.contains(r)&&(e.classList.remove(r),this._ngZone.run(()=>i.next({target:t.target,isAutofilled:!1}))):(e.classList.add(r),this._ngZone.run(()=>i.next({target:t.target,isAutofilled:!0})))};return this._ngZone.runOutsideAngular(()=>{e.addEventListener("animationstart",o,PA),e.classList.add("cdk-text-field-autofill-monitored")}),this._monitoredElements.set(e,{subject:i,unlisten:()=>{e.removeEventListener("animationstart",o,PA)}}),i.asObservable()}stopMonitoring(t){const e=py(t),n=this._monitoredElements.get(e);n&&(n.unlisten(),n.subject.complete(),e.classList.remove("cdk-text-field-autofill-monitored"),e.classList.remove("cdk-text-field-autofilled"),this._monitoredElements.delete(e))}ngOnDestroy(){this._monitoredElements.forEach((t,e)=>this.stopMonitoring(e))}}return t.\u0275fac=function(e){return new(e||t)(Kt(y_),Kt($c))},t.\u0275prov=ht({factory:function(){return new t(Kt(y_),Kt($c))},token:t,providedIn:"root"}),t})(),kA=(()=>{class t{constructor(t,e){this._elementRef=t,this._autofillMonitor=e,this.cdkAutofill=new Yl}ngOnInit(){this._autofillMonitor.monitor(this._elementRef).subscribe(t=>this.cdkAutofill.emit(t))}ngOnDestroy(){this._autofillMonitor.stopMonitoring(this._elementRef)}}return t.\u0275fac=function(e){return new(e||t)(Ms(Ya),Ms(OA))},t.\u0275dir=be({type:t,selectors:[["","cdkAutofill",""]],outputs:{cdkAutofill:"cdkAutofill"}}),t})(),TA=(()=>{class t{constructor(t,e,n,i){this._elementRef=t,this._platform=e,this._ngZone=n,this._destroyed=new x,this._enabled=!0,this._previousMinRows=-1,this._document=i,this._textareaElement=this._elementRef.nativeElement}get minRows(){return this._minRows}set minRows(t){this._minRows=uy(t),this._setMinHeight()}get maxRows(){return this._maxRows}set maxRows(t){this._maxRows=uy(t),this._setMaxHeight()}get enabled(){return this._enabled}set enabled(t){t=cy(t),this._enabled!==t&&((this._enabled=t)?this.resizeToFitContent(!0):this.reset())}_setMinHeight(){const t=this.minRows&&this._cachedLineHeight?`${this.minRows*this._cachedLineHeight}px`:null;t&&(this._textareaElement.style.minHeight=t)}_setMaxHeight(){const t=this.maxRows&&this._cachedLineHeight?`${this.maxRows*this._cachedLineHeight}px`:null;t&&(this._textareaElement.style.maxHeight=t)}ngAfterViewInit(){this._platform.isBrowser&&(this._initialHeight=this._textareaElement.style.height,this.resizeToFitContent(),this._ngZone.runOutsideAngular(()=>{my(this._getWindow(),"resize").pipe(Hy(16),$y(this._destroyed)).subscribe(()=>this.resizeToFitContent(!0))}))}ngOnDestroy(){this._destroyed.next(),this._destroyed.complete()}_cacheTextareaLineHeight(){if(this._cachedLineHeight)return;let t=this._textareaElement.cloneNode(!1);t.rows=1,t.style.position="absolute",t.style.visibility="hidden",t.style.border="none",t.style.padding="0",t.style.height="",t.style.minHeight="",t.style.maxHeight="",t.style.overflow="hidden",this._textareaElement.parentNode.appendChild(t),this._cachedLineHeight=t.clientHeight,this._textareaElement.parentNode.removeChild(t),this._setMinHeight(),this._setMaxHeight()}ngDoCheck(){this._platform.isBrowser&&this.resizeToFitContent()}resizeToFitContent(t=!1){if(!this._enabled)return;if(this._cacheTextareaLineHeight(),!this._cachedLineHeight)return;const e=this._elementRef.nativeElement,n=e.value;if(!t&&this._minRows===this._previousMinRows&&n===this._previousValue)return;const i=e.placeholder;e.classList.add("cdk-textarea-autosize-measuring"),e.placeholder="",e.style.height=`${e.scrollHeight-4}px`,e.classList.remove("cdk-textarea-autosize-measuring"),e.placeholder=i,this._ngZone.runOutsideAngular(()=>{"undefined"!=typeof requestAnimationFrame?requestAnimationFrame(()=>this._scrollToCaretPosition(e)):setTimeout(()=>this._scrollToCaretPosition(e))}),this._previousValue=n,this._previousMinRows=this._minRows}reset(){void 0!==this._initialHeight&&(this._textareaElement.style.height=this._initialHeight)}_noopInputHandler(){}_getDocument(){return this._document||document}_getWindow(){return this._getDocument().defaultView||window}_scrollToCaretPosition(t){const{selectionStart:e,selectionEnd:n}=t,i=this._getDocument();this._destroyed.isStopped||i.activeElement!==t||t.setSelectionRange(e,n)}}return t.\u0275fac=function(e){return new(e||t)(Ms(Ya),Ms(y_),Ms($c),Ms(vu,8))},t.\u0275dir=be({type:t,selectors:[["textarea","cdkTextareaAutosize",""]],hostAttrs:["rows","1",1,"cdk-textarea-autosize"],hostBindings:function(t,e){1&t&&$s("input",(function(){return e._noopInputHandler()}))},inputs:{minRows:["cdkAutosizeMinRows","minRows"],maxRows:["cdkAutosizeMaxRows","maxRows"],enabled:["cdkTextareaAutosize","enabled"]},exportAs:["cdkTextareaAutosize"]}),t})(),IA=(()=>{class t{}return t.\u0275mod=_e({type:t}),t.\u0275inj=dt({factory:function(e){return new(e||t)},imports:[[__]]}),t})(),AA=(()=>{class t extends TA{get matAutosizeMinRows(){return this.minRows}set matAutosizeMinRows(t){this.minRows=t}get matAutosizeMaxRows(){return this.maxRows}set matAutosizeMaxRows(t){this.maxRows=t}get matAutosize(){return this.enabled}set matAutosize(t){this.enabled=t}get matTextareaAutosize(){return this.enabled}set matTextareaAutosize(t){this.enabled=t}}return t.\u0275fac=function(e){return MA(e||t)},t.\u0275dir=be({type:t,selectors:[["textarea","mat-autosize",""],["textarea","matTextareaAutosize",""]],hostAttrs:["rows","1",1,"cdk-textarea-autosize","mat-autosize"],inputs:{cdkAutosizeMinRows:"cdkAutosizeMinRows",cdkAutosizeMaxRows:"cdkAutosizeMaxRows",matAutosizeMinRows:"matAutosizeMinRows",matAutosizeMaxRows:"matAutosizeMaxRows",matAutosize:["mat-autosize","matAutosize"],matTextareaAutosize:"matTextareaAutosize"},exportAs:["matTextareaAutosize"],features:[Ia]}),t})();const MA=ui(AA),DA=new jt("MAT_INPUT_VALUE_ACCESSOR"),RA=["button","checkbox","file","hidden","image","radio","range","reset","submit"];let FA=0;class LA{constructor(t,e,n,i){this._defaultErrorStateMatcher=t,this._parentForm=e,this._parentFormGroup=n,this.ngControl=i}}const BA=rk(LA);let NA=(()=>{class t extends BA{constructor(t,e,n,i,r,o,s,a,l){super(o,i,r,n),this._elementRef=t,this._platform=e,this.ngControl=n,this._autofillMonitor=a,this._uid=`mat-input-${FA++}`,this.focused=!1,this.stateChanges=new x,this.controlType="mat-input",this.autofilled=!1,this._disabled=!1,this._required=!1,this._type="text",this._readonly=!1,this._neverEmptyInputTypes=["date","datetime","datetime-local","month","time","week"].filter(t=>b_().has(t));const c=this._elementRef.nativeElement,u=c.nodeName.toLowerCase();this._inputValueAccessor=s||c,this._previousNativeValue=this.value,this.id=this.id,e.IOS&&l.runOutsideAngular(()=>{t.nativeElement.addEventListener("keyup",t=>{let e=t.target;e.value||e.selectionStart||e.selectionEnd||(e.setSelectionRange(1,1),e.setSelectionRange(0,0))})}),this._isServer=!this._platform.isBrowser,this._isNativeSelect="select"===u,this._isTextarea="textarea"===u,this._isNativeSelect&&(this.controlType=c.multiple?"mat-native-select-multiple":"mat-native-select")}get disabled(){return this.ngControl&&null!==this.ngControl.disabled?this.ngControl.disabled:this._disabled}set disabled(t){this._disabled=cy(t),this.focused&&(this.focused=!1,this.stateChanges.next())}get id(){return this._id}set id(t){this._id=t||this._uid}get required(){return this._required}set required(t){this._required=cy(t)}get type(){return this._type}set type(t){this._type=t||"text",this._validateType(),!this._isTextarea&&b_().has(this._type)&&(this._elementRef.nativeElement.type=this._type)}get value(){return this._inputValueAccessor.value}set value(t){t!==this.value&&(this._inputValueAccessor.value=t,this.stateChanges.next())}get readonly(){return this._readonly}set readonly(t){this._readonly=cy(t)}ngOnInit(){this._platform.isBrowser&&this._autofillMonitor.monitor(this._elementRef.nativeElement).subscribe(t=>{this.autofilled=t.isAutofilled,this.stateChanges.next()})}ngOnChanges(){this.stateChanges.next()}ngOnDestroy(){this.stateChanges.complete(),this._platform.isBrowser&&this._autofillMonitor.stopMonitoring(this._elementRef.nativeElement)}ngDoCheck(){this.ngControl&&this.updateErrorState(),this._dirtyCheckNativeValue()}focus(t){this._elementRef.nativeElement.focus(t)}_focusChanged(t){t===this.focused||this.readonly&&t||(this.focused=t,this.stateChanges.next())}_onInput(){}_dirtyCheckNativeValue(){const t=this._elementRef.nativeElement.value;this._previousNativeValue!==t&&(this._previousNativeValue=t,this.stateChanges.next())}_validateType(){if(RA.indexOf(this._type)>-1)throw Error(`Input type "${this._type}" isn't supported by matInput.`)}_isNeverEmpty(){return this._neverEmptyInputTypes.indexOf(this._type)>-1}_isBadInput(){let t=this._elementRef.nativeElement.validity;return t&&t.badInput}get empty(){return!(this._isNeverEmpty()||this._elementRef.nativeElement.value||this._isBadInput()||this.autofilled)}get shouldLabelFloat(){if(this._isNativeSelect){const t=this._elementRef.nativeElement,e=t.options[0];return this.focused||t.multiple||!this.empty||!!(t.selectedIndex>-1&&e&&e.label)}return this.focused||!this.empty}setDescribedByIds(t){this._ariaDescribedby=t.join(" ")}onContainerClick(){this.focused||this.focus()}}return t.\u0275fac=function(e){return new(e||t)(Ms(Ya),Ms(y_),Ms(_d,10),Ms(bp,8),Ms(Rp,8),Ms(ok),Ms(DA,10),Ms(OA),Ms($c))},t.\u0275dir=be({type:t,selectors:[["input","matInput",""],["textarea","matInput",""],["select","matNativeControl",""],["input","matNativeControl",""],["textarea","matNativeControl",""]],hostAttrs:[1,"mat-input-element","mat-form-field-autofill-control"],hostVars:10,hostBindings:function(t,e){1&t&&$s("focus",(function(){return e._focusChanged(!0)}))("blur",(function(){return e._focusChanged(!1)}))("input",(function(){return e._onInput()})),2&t&&(Oa("disabled",e.disabled)("required",e.required),ks("id",e.id)("placeholder",e.placeholder)("readonly",e.readonly&&!e._isNativeSelect||null)("aria-describedby",e._ariaDescribedby||null)("aria-invalid",e.errorState)("aria-required",e.required.toString()),ua("mat-input-server",e._isServer))},inputs:{id:"id",disabled:"disabled",required:"required",type:"type",value:"value",readonly:"readonly",placeholder:"placeholder",errorStateMatcher:"errorStateMatcher"},exportAs:["matInput"],features:[Ga([{provide:WI,useExisting:t}]),Ia,La]}),t})(),jA=(()=>{class t{}return t.\u0275mod=_e({type:t}),t.\u0275inj=dt({factory:function(e){return new(e||t)},providers:[ok],imports:[[IA,rA],IA,rA]}),t})();const zA=["sliderWrapper"],HA=E_({passive:!1}),VA={provide:ld,useExisting:Et(()=>GA),multi:!0};class UA{}class WA{constructor(t){this._elementRef=t}}const $A=ik(ek(tk(WA),"accent"));let GA=(()=>{class t extends $A{constructor(t,e,n,i,r,o,s,a){super(t),this._focusMonitor=e,this._changeDetectorRef=n,this._dir=i,this._animationMode=o,this._ngZone=s,this._invert=!1,this._max=100,this._min=0,this._step=1,this._thumbLabel=!1,this._tickInterval=0,this._value=null,this._vertical=!1,this.change=new Yl,this.input=new Yl,this.valueChange=new Yl,this.onTouched=()=>{},this._percent=0,this._isSliding=!1,this._isActive=!1,this._tickIntervalPercent=0,this._sliderDimensions=null,this._controlValueAccessorChangeFn=()=>{},this._dirChangeSubscription=h.EMPTY,this._pointerDown=t=>{this.disabled||this._isSliding||!qA(t)&&0!==t.button||this._runInsideZone(()=>{const e=this.value,n=XA(t);this._isSliding=!0,this._lastPointerEvent=t,t.preventDefault(),this._focusHostElement(),this._onMouseenter(),this._bindGlobalEvents(t),this._focusHostElement(),this._updateValueFromPosition(n),this._valueOnSlideStart=this.value,this._pointerPositionOnStart=n,e!=this.value&&(this._emitInputEvent(),this._emitChangeEvent())})},this._pointerMove=t=>{if(this._isSliding){t.preventDefault();const e=this.value;this._lastPointerEvent=t,this._updateValueFromPosition(XA(t)),e!=this.value&&this._emitInputEvent()}},this._pointerUp=t=>{if(this._isSliding){const e=this._pointerPositionOnStart,n=XA(t);t.preventDefault(),this._removeGlobalEvents(),this._valueOnSlideStart=this._pointerPositionOnStart=this._lastPointerEvent=null,this._isSliding=!1,this._valueOnSlideStart==this.value||this.disabled||!e||e.x===n.x&&e.y===n.y||this._emitChangeEvent()}},this._windowBlur=()=>{this._lastPointerEvent&&this._pointerUp(this._lastPointerEvent)},this._document=a,this.tabIndex=parseInt(r)||0,this._runOutsizeZone(()=>{const e=t.nativeElement;e.addEventListener("mousedown",this._pointerDown,HA),e.addEventListener("touchstart",this._pointerDown,HA)})}get invert(){return this._invert}set invert(t){this._invert=cy(t)}get max(){return this._max}set max(t){this._max=uy(t,this._max),this._percent=this._calculatePercentage(this._value),this._changeDetectorRef.markForCheck()}get min(){return this._min}set min(t){this._min=uy(t,this._min),null===this._value&&(this.value=this._min),this._percent=this._calculatePercentage(this._value),this._changeDetectorRef.markForCheck()}get step(){return this._step}set step(t){this._step=uy(t,this._step),this._step%1!=0&&(this._roundToDecimal=this._step.toString().split(".").pop().length),this._changeDetectorRef.markForCheck()}get thumbLabel(){return this._thumbLabel}set thumbLabel(t){this._thumbLabel=cy(t)}get tickInterval(){return this._tickInterval}set tickInterval(t){this._tickInterval="auto"===t?"auto":"number"==typeof t||"string"==typeof t?uy(t,this._tickInterval):0}get value(){return null===this._value&&(this.value=this._min),this._value}set value(t){if(t!==this._value){let e=uy(t);this._roundToDecimal&&(e=parseFloat(e.toFixed(this._roundToDecimal))),this._value=e,this._percent=this._calculatePercentage(this._value),this._changeDetectorRef.markForCheck()}}get vertical(){return this._vertical}set vertical(t){this._vertical=cy(t)}get displayValue(){return this.displayWith?this.displayWith(this.value):this._roundToDecimal&&this.value&&this.value%1!=0?this.value.toFixed(this._roundToDecimal):this.value||0}focus(t){this._focusHostElement(t)}blur(){this._blurHostElement()}get percent(){return this._clamp(this._percent)}get _invertAxis(){return this.vertical?!this.invert:this.invert}get _isMinValue(){return 0===this.percent}get _thumbGap(){return this.disabled?7:this._isMinValue&&!this.thumbLabel?this._isActive?10:7:0}get _trackBackgroundStyles(){const t=this.vertical?`1, ${1-this.percent}, 1`:`${1-this.percent}, 1, 1`;return{transform:`translate${this.vertical?"Y":"X"}(${this._shouldInvertMouseCoords()?"-":""}${this._thumbGap}px) scale3d(${t})`}}get _trackFillStyles(){const t=this.percent,e=this.vertical?`1, ${t}, 1`:`${t}, 1, 1`;return{transform:`translate${this.vertical?"Y":"X"}(${this._shouldInvertMouseCoords()?"":"-"}${this._thumbGap}px) scale3d(${e})`,display:0===t?"none":""}}get _ticksContainerStyles(){return{transform:`translate${this.vertical?"Y":"X"}(${this.vertical||"rtl"!=this._getDirection()?"-":""}${this._tickIntervalPercent/2*100}%)`}}get _ticksStyles(){let t=100*this._tickIntervalPercent,e={backgroundSize:this.vertical?`2px ${t}%`:`${t}% 2px`,transform:`translateZ(0) translate${this.vertical?"Y":"X"}(${this.vertical||"rtl"!=this._getDirection()?"":"-"}${t/2}%)${this.vertical||"rtl"!=this._getDirection()?"":" rotate(180deg)"}`};if(this._isMinValue&&this._thumbGap){let t;t=this.vertical?this._invertAxis?"Bottom":"Top":this._invertAxis?"Right":"Left",e[`padding${t}`]=`${this._thumbGap}px`}return e}get _thumbContainerStyles(){return{transform:`translate${this.vertical?"Y":"X"}(-${100*(("rtl"!=this._getDirection()||this.vertical?this._invertAxis:!this._invertAxis)?this.percent:1-this.percent)}%)`}}_shouldInvertMouseCoords(){return"rtl"!=this._getDirection()||this.vertical?this._invertAxis:!this._invertAxis}_getDirection(){return this._dir&&"rtl"==this._dir.value?"rtl":"ltr"}ngOnInit(){this._focusMonitor.monitor(this._elementRef,!0).subscribe(t=>{this._isActive=!!t&&"keyboard"!==t,this._changeDetectorRef.detectChanges()}),this._dir&&(this._dirChangeSubscription=this._dir.change.subscribe(()=>{this._changeDetectorRef.markForCheck()}))}ngOnDestroy(){const t=this._elementRef.nativeElement;t.removeEventListener("mousedown",this._pointerDown,HA),t.removeEventListener("touchstart",this._pointerDown,HA),this._lastPointerEvent=null,this._removeGlobalEvents(),this._focusMonitor.stopMonitoring(this._elementRef),this._dirChangeSubscription.unsubscribe()}_onMouseenter(){this.disabled||(this._sliderDimensions=this._getSliderDimensions(),this._updateTickIntervalPercent())}_onFocus(){this._sliderDimensions=this._getSliderDimensions(),this._updateTickIntervalPercent()}_onBlur(){this.onTouched()}_onKeydown(t){if(this.disabled||YP(t))return;const e=this.value;switch(t.keyCode){case 33:this._increment(10);break;case 34:this._increment(-10);break;case 35:this.value=this.max;break;case 36:this.value=this.min;break;case 37:this._increment("rtl"==this._getDirection()?1:-1);break;case 38:this._increment(1);break;case 39:this._increment("rtl"==this._getDirection()?-1:1);break;case 40:this._increment(-1);break;default:return}e!=this.value&&(this._emitInputEvent(),this._emitChangeEvent()),this._isSliding=!0,t.preventDefault()}_onKeyup(){this._isSliding=!1}_getWindow(){var t;return(null===(t=this._document)||void 0===t?void 0:t.defaultView)||window}_bindGlobalEvents(t){const e=this._document;if(void 0!==e&&e){const n=qA(t),i=n?"touchend":"mouseup";e.addEventListener(n?"touchmove":"mousemove",this._pointerMove,HA),e.addEventListener(i,this._pointerUp,HA),n&&e.addEventListener("touchcancel",this._pointerUp,HA)}const n=this._getWindow();void 0!==n&&n&&n.addEventListener("blur",this._windowBlur)}_removeGlobalEvents(){const t=this._document;void 0!==t&&t&&(t.removeEventListener("mousemove",this._pointerMove,HA),t.removeEventListener("mouseup",this._pointerUp,HA),t.removeEventListener("touchmove",this._pointerMove,HA),t.removeEventListener("touchend",this._pointerUp,HA),t.removeEventListener("touchcancel",this._pointerUp,HA));const e=this._getWindow();void 0!==e&&e&&e.removeEventListener("blur",this._windowBlur)}_increment(t){this.value=this._clamp((this.value||0)+this.step*t,this.min,this.max)}_updateValueFromPosition(t){if(!this._sliderDimensions)return;let e=this._clamp(((this.vertical?t.y:t.x)-(this.vertical?this._sliderDimensions.top:this._sliderDimensions.left))/(this.vertical?this._sliderDimensions.height:this._sliderDimensions.width));if(this._shouldInvertMouseCoords()&&(e=1-e),0===e)this.value=this.min;else if(1===e)this.value=this.max;else{const t=this._calculateValue(e),n=Math.round((t-this.min)/this.step)*this.step+this.min;this.value=this._clamp(n,this.min,this.max)}}_emitChangeEvent(){this._controlValueAccessorChangeFn(this.value),this.valueChange.emit(this.value),this.change.emit(this._createChangeEvent())}_emitInputEvent(){this.input.emit(this._createChangeEvent())}_updateTickIntervalPercent(){if(this.tickInterval&&this._sliderDimensions)if("auto"==this.tickInterval){let t=this.vertical?this._sliderDimensions.height:this._sliderDimensions.width,e=Math.ceil(30/(t*this.step/(this.max-this.min)));this._tickIntervalPercent=e*this.step/t}else this._tickIntervalPercent=this.tickInterval*this.step/(this.max-this.min)}_createChangeEvent(t=this.value){let e=new UA;return e.source=this,e.value=t,e}_calculatePercentage(t){return((t||0)-this.min)/(this.max-this.min)}_calculateValue(t){return this.min+t*(this.max-this.min)}_clamp(t,e=0,n=1){return Math.max(e,Math.min(t,n))}_getSliderDimensions(){return this._sliderWrapper?this._sliderWrapper.nativeElement.getBoundingClientRect():null}_focusHostElement(t){this._elementRef.nativeElement.focus(t)}_blurHostElement(){this._elementRef.nativeElement.blur()}_runInsideZone(t){this._ngZone?this._ngZone.run(t):t()}_runOutsizeZone(t){this._ngZone?this._ngZone.runOutsideAngular(t):t()}writeValue(t){this.value=t}registerOnChange(t){this._controlValueAccessorChangeFn=t}registerOnTouched(t){this.onTouched=t}setDisabledState(t){this.disabled=t}}return t.\u0275fac=function(e){return new(e||t)(Ms(Ya),Ms(EO),Ms(Xo),Ms(k_,8),Ds("tabindex"),Ms(sy,8),Ms($c),Ms(vu,8))},t.\u0275cmp=pe({type:t,selectors:[["mat-slider"]],viewQuery:function(t,e){var n;1&t&&cc(zA,!0),2&t&&ac(n=fc())&&(e._sliderWrapper=n.first)},hostAttrs:["role","slider",1,"mat-slider","mat-focus-indicator"],hostVars:28,hostBindings:function(t,e){1&t&&$s("focus",(function(){return e._onFocus()}))("blur",(function(){return e._onBlur()}))("keydown",(function(t){return e._onKeydown(t)}))("keyup",(function(){return e._onKeyup()}))("mouseenter",(function(){return e._onMouseenter()}))("selectstart",(function(t){return t.preventDefault()})),2&t&&(Oa("tabIndex",e.tabIndex),ks("aria-disabled",e.disabled)("aria-valuemax",e.max)("aria-valuemin",e.min)("aria-valuenow",e.value)("aria-orientation",e.vertical?"vertical":"horizontal"),ua("mat-slider-disabled",e.disabled)("mat-slider-has-ticks",e.tickInterval)("mat-slider-horizontal",!e.vertical)("mat-slider-axis-inverted",e._invertAxis)("mat-slider-invert-mouse-coords",e._shouldInvertMouseCoords())("mat-slider-sliding",e._isSliding)("mat-slider-thumb-label-showing",e.thumbLabel)("mat-slider-vertical",e.vertical)("mat-slider-min-value",e._isMinValue)("mat-slider-hide-last-tick",e.disabled||e._isMinValue&&e._thumbGap&&e._invertAxis)("_mat-animation-noopable","NoopAnimations"===e._animationMode))},inputs:{disabled:"disabled",color:"color",tabIndex:"tabIndex",invert:"invert",max:"max",min:"min",value:"value",step:"step",thumbLabel:"thumbLabel",tickInterval:"tickInterval",vertical:"vertical",displayWith:"displayWith"},outputs:{change:"change",input:"input",valueChange:"valueChange"},exportAs:["matSlider"],features:[Ga([VA]),Ia],decls:13,vars:6,consts:[[1,"mat-slider-wrapper"],["sliderWrapper",""],[1,"mat-slider-track-wrapper"],[1,"mat-slider-track-background",3,"ngStyle"],[1,"mat-slider-track-fill",3,"ngStyle"],[1,"mat-slider-ticks-container",3,"ngStyle"],[1,"mat-slider-ticks",3,"ngStyle"],[1,"mat-slider-thumb-container",3,"ngStyle"],[1,"mat-slider-focus-ring"],[1,"mat-slider-thumb"],[1,"mat-slider-thumb-label"],[1,"mat-slider-thumb-label-text"]],template:function(t,e){1&t&&(Ls(0,"div",0,1),Ls(2,"div",2),Ns(3,"div",3),Ns(4,"div",4),Bs(),Ls(5,"div",5),Ns(6,"div",6),Bs(),Ls(7,"div",7),Ns(8,"div",8),Ns(9,"div",9),Ls(10,"div",10),Ls(11,"span",11),Ca(12),Bs(),Bs(),Bs(),Bs()),2&t&&(vr(3),Rs("ngStyle",e._trackBackgroundStyles),vr(1),Rs("ngStyle",e._trackFillStyles),vr(1),Rs("ngStyle",e._ticksContainerStyles),vr(1),Rs("ngStyle",e._ticksStyles),vr(1),Rs("ngStyle",e._thumbContainerStyles),vr(5),xa(e.displayValue))},directives:[Dh],styles:['.mat-slider{display:inline-block;position:relative;box-sizing:border-box;padding:8px;outline:none;vertical-align:middle}.mat-slider:not(.mat-slider-disabled):active,.mat-slider.mat-slider-sliding:not(.mat-slider-disabled){cursor:-webkit-grabbing;cursor:grabbing}.mat-slider-wrapper{position:absolute}.mat-slider-track-wrapper{position:absolute;top:0;left:0;overflow:hidden}.mat-slider-track-fill{position:absolute;transform-origin:0 0;transition:transform 400ms cubic-bezier(0.25, 0.8, 0.25, 1),background-color 400ms cubic-bezier(0.25, 0.8, 0.25, 1)}.mat-slider-track-background{position:absolute;transform-origin:100% 100%;transition:transform 400ms cubic-bezier(0.25, 0.8, 0.25, 1),background-color 400ms cubic-bezier(0.25, 0.8, 0.25, 1)}.mat-slider-ticks-container{position:absolute;left:0;top:0;overflow:hidden}.mat-slider-ticks{background-repeat:repeat;background-clip:content-box;box-sizing:border-box;opacity:0;transition:opacity 400ms cubic-bezier(0.25, 0.8, 0.25, 1)}.mat-slider-thumb-container{position:absolute;z-index:1;transition:transform 400ms cubic-bezier(0.25, 0.8, 0.25, 1)}.mat-slider-focus-ring{position:absolute;width:30px;height:30px;border-radius:50%;transform:scale(0);opacity:0;transition:transform 400ms cubic-bezier(0.25, 0.8, 0.25, 1),background-color 400ms cubic-bezier(0.25, 0.8, 0.25, 1),opacity 400ms cubic-bezier(0.25, 0.8, 0.25, 1)}.mat-slider.cdk-keyboard-focused .mat-slider-focus-ring,.mat-slider.cdk-program-focused .mat-slider-focus-ring{transform:scale(1);opacity:1}.mat-slider:not(.mat-slider-disabled):not(.mat-slider-sliding) .mat-slider-thumb-label,.mat-slider:not(.mat-slider-disabled):not(.mat-slider-sliding) .mat-slider-thumb{cursor:-webkit-grab;cursor:grab}.mat-slider-thumb{position:absolute;right:-10px;bottom:-10px;box-sizing:border-box;width:20px;height:20px;border:3px solid transparent;border-radius:50%;transform:scale(0.7);transition:transform 400ms cubic-bezier(0.25, 0.8, 0.25, 1),background-color 400ms cubic-bezier(0.25, 0.8, 0.25, 1),border-color 400ms cubic-bezier(0.25, 0.8, 0.25, 1)}.mat-slider-thumb-label{display:none;align-items:center;justify-content:center;position:absolute;width:28px;height:28px;border-radius:50%;transition:transform 400ms cubic-bezier(0.25, 0.8, 0.25, 1),border-radius 400ms cubic-bezier(0.25, 0.8, 0.25, 1),background-color 400ms cubic-bezier(0.25, 0.8, 0.25, 1)}.cdk-high-contrast-active .mat-slider-thumb-label{outline:solid 1px}.mat-slider-thumb-label-text{z-index:1;opacity:0;transition:opacity 400ms cubic-bezier(0.25, 0.8, 0.25, 1)}.mat-slider-sliding .mat-slider-track-fill,.mat-slider-sliding .mat-slider-track-background,.mat-slider-sliding .mat-slider-thumb-container{transition-duration:0ms}.mat-slider-has-ticks .mat-slider-wrapper::after{content:"";position:absolute;border-width:0;border-style:solid;opacity:0;transition:opacity 400ms cubic-bezier(0.25, 0.8, 0.25, 1)}.mat-slider-has-ticks.cdk-focused:not(.mat-slider-hide-last-tick) .mat-slider-wrapper::after,.mat-slider-has-ticks:hover:not(.mat-slider-hide-last-tick) .mat-slider-wrapper::after{opacity:1}.mat-slider-has-ticks.cdk-focused:not(.mat-slider-disabled) .mat-slider-ticks,.mat-slider-has-ticks:hover:not(.mat-slider-disabled) .mat-slider-ticks{opacity:1}.mat-slider-thumb-label-showing .mat-slider-focus-ring{display:none}.mat-slider-thumb-label-showing .mat-slider-thumb-label{display:flex}.mat-slider-axis-inverted .mat-slider-track-fill{transform-origin:100% 100%}.mat-slider-axis-inverted .mat-slider-track-background{transform-origin:0 0}.mat-slider:not(.mat-slider-disabled).cdk-focused.mat-slider-thumb-label-showing .mat-slider-thumb{transform:scale(0)}.mat-slider:not(.mat-slider-disabled).cdk-focused .mat-slider-thumb-label{border-radius:50% 50% 0}.mat-slider:not(.mat-slider-disabled).cdk-focused .mat-slider-thumb-label-text{opacity:1}.mat-slider:not(.mat-slider-disabled).cdk-mouse-focused .mat-slider-thumb,.mat-slider:not(.mat-slider-disabled).cdk-touch-focused .mat-slider-thumb,.mat-slider:not(.mat-slider-disabled).cdk-program-focused .mat-slider-thumb{border-width:2px;transform:scale(1)}.mat-slider-disabled .mat-slider-focus-ring{transform:scale(0);opacity:0}.mat-slider-disabled .mat-slider-thumb{border-width:4px;transform:scale(0.5)}.mat-slider-disabled .mat-slider-thumb-label{display:none}.mat-slider-horizontal{height:48px;min-width:128px}.mat-slider-horizontal .mat-slider-wrapper{height:2px;top:23px;left:8px;right:8px}.mat-slider-horizontal .mat-slider-wrapper::after{height:2px;border-left-width:2px;right:0;top:0}.mat-slider-horizontal .mat-slider-track-wrapper{height:2px;width:100%}.mat-slider-horizontal .mat-slider-track-fill{height:2px;width:100%;transform:scaleX(0)}.mat-slider-horizontal .mat-slider-track-background{height:2px;width:100%;transform:scaleX(1)}.mat-slider-horizontal .mat-slider-ticks-container{height:2px;width:100%}.cdk-high-contrast-active .mat-slider-horizontal .mat-slider-ticks-container{height:0;outline:solid 2px;top:1px}.mat-slider-horizontal .mat-slider-ticks{height:2px;width:100%}.mat-slider-horizontal .mat-slider-thumb-container{width:100%;height:0;top:50%}.mat-slider-horizontal .mat-slider-focus-ring{top:-15px;right:-15px}.mat-slider-horizontal .mat-slider-thumb-label{right:-14px;top:-40px;transform:translateY(26px) scale(0.01) rotate(45deg)}.mat-slider-horizontal .mat-slider-thumb-label-text{transform:rotate(-45deg)}.mat-slider-horizontal.cdk-focused .mat-slider-thumb-label{transform:rotate(45deg)}.cdk-high-contrast-active .mat-slider-horizontal.cdk-focused .mat-slider-thumb-label,.cdk-high-contrast-active .mat-slider-horizontal.cdk-focused .mat-slider-thumb-label-text{transform:none}.mat-slider-vertical{width:48px;min-height:128px}.mat-slider-vertical .mat-slider-wrapper{width:2px;top:8px;bottom:8px;left:23px}.mat-slider-vertical .mat-slider-wrapper::after{width:2px;border-top-width:2px;bottom:0;left:0}.mat-slider-vertical .mat-slider-track-wrapper{height:100%;width:2px}.mat-slider-vertical .mat-slider-track-fill{height:100%;width:2px;transform:scaleY(0)}.mat-slider-vertical .mat-slider-track-background{height:100%;width:2px;transform:scaleY(1)}.mat-slider-vertical .mat-slider-ticks-container{width:2px;height:100%}.cdk-high-contrast-active .mat-slider-vertical .mat-slider-ticks-container{width:0;outline:solid 2px;left:1px}.mat-slider-vertical .mat-slider-focus-ring{bottom:-15px;left:-15px}.mat-slider-vertical .mat-slider-ticks{width:2px;height:100%}.mat-slider-vertical .mat-slider-thumb-container{height:100%;width:0;left:50%}.mat-slider-vertical .mat-slider-thumb{-webkit-backface-visibility:hidden;backface-visibility:hidden}.mat-slider-vertical .mat-slider-thumb-label{bottom:-14px;left:-40px;transform:translateX(26px) scale(0.01) rotate(-45deg)}.mat-slider-vertical .mat-slider-thumb-label-text{transform:rotate(45deg)}.mat-slider-vertical.cdk-focused .mat-slider-thumb-label{transform:rotate(-45deg)}[dir=rtl] .mat-slider-wrapper::after{left:0;right:auto}[dir=rtl] .mat-slider-horizontal .mat-slider-track-fill{transform-origin:100% 100%}[dir=rtl] .mat-slider-horizontal .mat-slider-track-background{transform-origin:0 0}[dir=rtl] .mat-slider-horizontal.mat-slider-axis-inverted .mat-slider-track-fill{transform-origin:0 0}[dir=rtl] .mat-slider-horizontal.mat-slider-axis-inverted .mat-slider-track-background{transform-origin:100% 100%}.mat-slider._mat-animation-noopable .mat-slider-track-fill,.mat-slider._mat-animation-noopable .mat-slider-track-background,.mat-slider._mat-animation-noopable .mat-slider-ticks,.mat-slider._mat-animation-noopable .mat-slider-thumb-container,.mat-slider._mat-animation-noopable .mat-slider-focus-ring,.mat-slider._mat-animation-noopable .mat-slider-thumb,.mat-slider._mat-animation-noopable .mat-slider-thumb-label,.mat-slider._mat-animation-noopable .mat-slider-thumb-label-text,.mat-slider._mat-animation-noopable .mat-slider-has-ticks .mat-slider-wrapper::after{transition:none}\n'],encapsulation:2,changeDetection:0}),t})();function qA(t){return"t"===t.type[0]}function XA(t){const e=qA(t)?t.touches[0]||t.changedTouches[0]:t;return{x:e.clientX,y:e.clientY}}let KA=(()=>{class t{}return t.\u0275mod=_e({type:t}),t.\u0275inj=dt({factory:function(e){return new(e||t)},imports:[[rd,JO],JO]}),t})(),YA=(()=>{class t{constructor(){this._vertical=!1,this._inset=!1}get vertical(){return this._vertical}set vertical(t){this._vertical=cy(t)}get inset(){return this._inset}set inset(t){this._inset=cy(t)}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275cmp=pe({type:t,selectors:[["mat-divider"]],hostAttrs:["role","separator",1,"mat-divider"],hostVars:7,hostBindings:function(t,e){2&t&&(ks("aria-orientation",e.vertical?"vertical":"horizontal"),ua("mat-divider-vertical",e.vertical)("mat-divider-horizontal",!e.vertical)("mat-divider-inset",e.inset))},inputs:{vertical:"vertical",inset:"inset"},decls:0,vars:0,template:function(t,e){},styles:[".mat-divider{display:block;margin:0;border-top-width:1px;border-top-style:solid}.mat-divider.mat-divider-vertical{border-top:0;border-right-width:1px;border-right-style:solid}.mat-divider.mat-divider-inset{margin-left:80px}[dir=rtl] .mat-divider.mat-divider-inset{margin-left:auto;margin-right:80px}\n"],encapsulation:2,changeDetection:0}),t})(),QA=(()=>{class t{}return t.\u0275mod=_e({type:t}),t.\u0275inj=dt({factory:function(e){return new(e||t)},imports:[[JO],JO]}),t})();const ZA=["button"],JA=["*"],tM=new jt("MAT_BUTTON_TOGGLE_DEFAULT_OPTIONS"),eM={provide:ld,useExisting:Et(()=>oM),multi:!0};class nM{}let iM=0;class rM{constructor(t,e){this.source=t,this.value=e}}let oM=(()=>{class t{constructor(t,e){this._changeDetector=t,this._vertical=!1,this._multiple=!1,this._disabled=!1,this._controlValueAccessorChangeFn=()=>{},this._onTouched=()=>{},this._name=`mat-button-toggle-group-${iM++}`,this.valueChange=new Yl,this.change=new Yl,this.appearance=e&&e.appearance?e.appearance:"standard"}get name(){return this._name}set name(t){this._name=t,this._buttonToggles&&this._buttonToggles.forEach(t=>{t.name=this._name,t._markForCheck()})}get vertical(){return this._vertical}set vertical(t){this._vertical=cy(t)}get value(){const t=this._selectionModel?this._selectionModel.selected:[];return this.multiple?t.map(t=>t.value):t[0]?t[0].value:void 0}set value(t){this._setSelectionByValue(t),this.valueChange.emit(this.value)}get selected(){const t=this._selectionModel?this._selectionModel.selected:[];return this.multiple?t:t[0]||null}get multiple(){return this._multiple}set multiple(t){this._multiple=cy(t)}get disabled(){return this._disabled}set disabled(t){this._disabled=cy(t),this._buttonToggles&&this._buttonToggles.forEach(t=>t._markForCheck())}ngOnInit(){this._selectionModel=new A_(this.multiple,void 0,!1)}ngAfterContentInit(){this._selectionModel.select(...this._buttonToggles.filter(t=>t.checked))}writeValue(t){this.value=t,this._changeDetector.markForCheck()}registerOnChange(t){this._controlValueAccessorChangeFn=t}registerOnTouched(t){this._onTouched=t}setDisabledState(t){this.disabled=t}_emitChangeEvent(){const t=this.selected,e=Array.isArray(t)?t[t.length-1]:t,n=new rM(e,this.value);this._controlValueAccessorChangeFn(n.value),this.change.emit(n)}_syncButtonToggle(t,e,n=!1,i=!1){this.multiple||!this.selected||t.checked||(this.selected.checked=!1),this._selectionModel?e?this._selectionModel.select(t):this._selectionModel.deselect(t):i=!0,i?Promise.resolve().then(()=>this._updateModelValue(n)):this._updateModelValue(n)}_isSelected(t){return this._selectionModel&&this._selectionModel.isSelected(t)}_isPrechecked(t){return void 0!==this._rawValue&&(this.multiple&&Array.isArray(this._rawValue)?this._rawValue.some(e=>null!=t.value&&e===t.value):t.value===this._rawValue)}_setSelectionByValue(t){if(this._rawValue=t,this._buttonToggles)if(this.multiple&&t){if(!Array.isArray(t))throw Error("Value must be an array in multiple-selection mode.");this._clearSelection(),t.forEach(t=>this._selectValue(t))}else this._clearSelection(),this._selectValue(t)}_clearSelection(){this._selectionModel.clear(),this._buttonToggles.forEach(t=>t.checked=!1)}_selectValue(t){const e=this._buttonToggles.find(e=>null!=e.value&&e.value===t);e&&(e.checked=!0,this._selectionModel.select(e))}_updateModelValue(t){t&&this._emitChangeEvent(),this.valueChange.emit(this.value)}}return t.\u0275fac=function(e){return new(e||t)(Ms(Xo),Ms(tM,8))},t.\u0275dir=be({type:t,selectors:[["mat-button-toggle-group"]],contentQueries:function(t,e,n){var i;1&t&&hc(n,lM,!0),2&t&&ac(i=fc())&&(e._buttonToggles=i)},hostAttrs:["role","group",1,"mat-button-toggle-group"],hostVars:5,hostBindings:function(t,e){2&t&&(ks("aria-disabled",e.disabled),ua("mat-button-toggle-vertical",e.vertical)("mat-button-toggle-group-appearance-standard","standard"===e.appearance))},inputs:{appearance:"appearance",name:"name",vertical:"vertical",value:"value",multiple:"multiple",disabled:"disabled"},outputs:{valueChange:"valueChange",change:"change"},exportAs:["matButtonToggleGroup"],features:[Ga([eM,{provide:nM,useExisting:t}])]}),t})();class sM{}const aM=nk(sM);let lM=(()=>{class t extends aM{constructor(t,e,n,i,r,o){super(),this._changeDetectorRef=e,this._elementRef=n,this._focusMonitor=i,this._isSingleSelector=!1,this._checked=!1,this.ariaLabelledby=null,this._disabled=!1,this.change=new Yl;const s=Number(r);this.tabIndex=s||0===s?s:null,this.buttonToggleGroup=t,this.appearance=o&&o.appearance?o.appearance:"standard"}get buttonId(){return`${this.id}-button`}get appearance(){return this.buttonToggleGroup?this.buttonToggleGroup.appearance:this._appearance}set appearance(t){this._appearance=t}get checked(){return this.buttonToggleGroup?this.buttonToggleGroup._isSelected(this):this._checked}set checked(t){const e=cy(t);e!==this._checked&&(this._checked=e,this.buttonToggleGroup&&this.buttonToggleGroup._syncButtonToggle(this,this._checked),this._changeDetectorRef.markForCheck())}get disabled(){return this._disabled||this.buttonToggleGroup&&this.buttonToggleGroup.disabled}set disabled(t){this._disabled=cy(t)}ngOnInit(){const t=this.buttonToggleGroup;this._isSingleSelector=t&&!t.multiple,this._type=this._isSingleSelector?"radio":"checkbox",this.id=this.id||`mat-button-toggle-${iM++}`,this._isSingleSelector&&(this.name=t.name),t&&(t._isPrechecked(this)?this.checked=!0:t._isSelected(this)!==this._checked&&t._syncButtonToggle(this,this._checked)),this._focusMonitor.monitor(this._elementRef,!0)}ngOnDestroy(){const t=this.buttonToggleGroup;this._focusMonitor.stopMonitoring(this._elementRef),t&&t._isSelected(this)&&t._syncButtonToggle(this,!1,!1,!0)}focus(t){this._buttonElement.nativeElement.focus(t)}_onButtonClick(){const t=!!this._isSingleSelector||!this._checked;t!==this._checked&&(this._checked=t,this.buttonToggleGroup&&(this.buttonToggleGroup._syncButtonToggle(this,this._checked,!0),this.buttonToggleGroup._onTouched())),this.change.emit(new rM(this,this.value))}_markForCheck(){this._changeDetectorRef.markForCheck()}}return t.\u0275fac=function(e){return new(e||t)(Ms(oM,8),Ms(Xo),Ms(Ya),Ms(EO),Ds("tabindex"),Ms(tM,8))},t.\u0275cmp=pe({type:t,selectors:[["mat-button-toggle"]],viewQuery:function(t,e){var n;1&t&&cc(ZA,!0),2&t&&ac(n=fc())&&(e._buttonElement=n.first)},hostAttrs:[1,"mat-button-toggle"],hostVars:11,hostBindings:function(t,e){1&t&&$s("focus",(function(){return e.focus()})),2&t&&(ks("tabindex",-1)("id",e.id)("name",null),ua("mat-button-toggle-standalone",!e.buttonToggleGroup)("mat-button-toggle-checked",e.checked)("mat-button-toggle-disabled",e.disabled)("mat-button-toggle-appearance-standard","standard"===e.appearance))},inputs:{disableRipple:"disableRipple",ariaLabelledby:["aria-labelledby","ariaLabelledby"],tabIndex:"tabIndex",appearance:"appearance",checked:"checked",disabled:"disabled",id:"id",name:"name",ariaLabel:["aria-label","ariaLabel"],value:"value"},outputs:{change:"change"},exportAs:["matButtonToggle"],features:[Ia],ngContentSelectors:JA,decls:6,vars:9,consts:[["type","button",1,"mat-button-toggle-button","mat-focus-indicator",3,"id","disabled","click"],["button",""],[1,"mat-button-toggle-label-content"],[1,"mat-button-toggle-focus-overlay"],["matRipple","",1,"mat-button-toggle-ripple",3,"matRippleTrigger","matRippleDisabled"]],template:function(t,e){if(1&t&&(Zs(),Ls(0,"button",0,1),$s("click",(function(){return e._onButtonClick()})),Ls(2,"div",2),Js(3),Bs(),Bs(),Ns(4,"div",3),Ns(5,"div",4)),2&t){const t=As(1);Rs("id",e.buttonId)("disabled",e.disabled||null),ks("tabindex",e.disabled?-1:e.tabIndex)("aria-pressed",e.checked)("name",e.name||null)("aria-label",e.ariaLabel)("aria-labelledby",e.ariaLabelledby),vr(5),Rs("matRippleTrigger",t)("matRippleDisabled",e.disableRipple||e.disabled)}},directives:[yk],styles:[".mat-button-toggle-standalone,.mat-button-toggle-group{position:relative;display:inline-flex;flex-direction:row;white-space:nowrap;overflow:hidden;border-radius:2px;-webkit-tap-highlight-color:transparent}.cdk-high-contrast-active .mat-button-toggle-standalone,.cdk-high-contrast-active .mat-button-toggle-group{outline:solid 1px}.mat-button-toggle-standalone.mat-button-toggle-appearance-standard,.mat-button-toggle-group-appearance-standard{border-radius:4px}.cdk-high-contrast-active .mat-button-toggle-standalone.mat-button-toggle-appearance-standard,.cdk-high-contrast-active .mat-button-toggle-group-appearance-standard{outline:0}.mat-button-toggle-vertical{flex-direction:column}.mat-button-toggle-vertical .mat-button-toggle-label-content{display:block}.mat-button-toggle{white-space:nowrap;position:relative}.mat-button-toggle .mat-icon svg{vertical-align:top}.mat-button-toggle.cdk-keyboard-focused .mat-button-toggle-focus-overlay{opacity:1}.cdk-high-contrast-active .mat-button-toggle.cdk-keyboard-focused .mat-button-toggle-focus-overlay{opacity:.5}.mat-button-toggle-appearance-standard:not(.mat-button-toggle-disabled):hover .mat-button-toggle-focus-overlay{opacity:.04}.mat-button-toggle-appearance-standard.cdk-keyboard-focused:not(.mat-button-toggle-disabled) .mat-button-toggle-focus-overlay{opacity:.12}.cdk-high-contrast-active .mat-button-toggle-appearance-standard.cdk-keyboard-focused:not(.mat-button-toggle-disabled) .mat-button-toggle-focus-overlay{opacity:.5}@media(hover: none){.mat-button-toggle-appearance-standard:not(.mat-button-toggle-disabled):hover .mat-button-toggle-focus-overlay{display:none}}.mat-button-toggle-label-content{-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none;display:inline-block;line-height:36px;padding:0 16px;position:relative}.mat-button-toggle-appearance-standard .mat-button-toggle-label-content{line-height:48px;padding:0 12px}.mat-button-toggle-label-content>*{vertical-align:middle}.mat-button-toggle-focus-overlay{border-radius:inherit;pointer-events:none;opacity:0;top:0;left:0;right:0;bottom:0;position:absolute}.mat-button-toggle-checked .mat-button-toggle-focus-overlay{border-bottom:solid 36px}.cdk-high-contrast-active .mat-button-toggle-checked .mat-button-toggle-focus-overlay{opacity:.5;height:0}.cdk-high-contrast-active .mat-button-toggle-checked.mat-button-toggle-appearance-standard .mat-button-toggle-focus-overlay{border-bottom:solid 48px}.mat-button-toggle .mat-button-toggle-ripple{top:0;left:0;right:0;bottom:0;position:absolute;pointer-events:none}.mat-button-toggle-button{border:0;background:none;color:inherit;padding:0;margin:0;font:inherit;outline:none;width:100%;cursor:pointer}.mat-button-toggle-disabled .mat-button-toggle-button{cursor:default}.mat-button-toggle-button::-moz-focus-inner{border:0}\n"],encapsulation:2,changeDetection:0}),t})(),cM=(()=>{class t{}return t.\u0275mod=_e({type:t}),t.\u0275inj=dt({factory:function(e){return new(e||t)},imports:[[JO,_k],JO]}),t})();const uM={};function hM(...t){let e=null,n=null;return S(t[t.length-1])&&(n=t.pop()),"function"==typeof t[t.length-1]&&(e=t.pop()),1===t.length&&l(t[0])&&(t=t[0]),W(t,n).lift(new dM(e))}class dM{constructor(t){this.resultSelector=t}call(t,e){return e.subscribe(new pM(t,this.resultSelector))}}class pM extends R{constructor(t,e){super(t),this.resultSelector=e,this.active=0,this.values=[],this.observables=[]}_next(t){this.values.push(uM),this.observables.push(t)}_complete(){const t=this.observables,e=t.length;if(0===e)this.destination.complete();else{this.active=e,this.toRespond=e;for(let n=0;n<e;n++){const e=t[n];this.add(D(this,e,e,n))}}}notifyComplete(t){0==(this.active-=1)&&this.destination.complete()}notifyNext(t,e,n,i,r){const o=this.values,s=this.toRespond?o[n]===uM?--this.toRespond:this.toRespond:0;o[n]=e,0===s&&(this.resultSelector?this._tryResultSelector(o):this.destination.next(o.slice()))}_tryResultSelector(t){let e;try{e=this.resultSelector.apply(this,t)}catch(n){return void this.destination.error(n)}this.destination.next(e)}}class fM{constructor(t){this.total=t}call(t,e){return e.subscribe(new mM(t,this.total))}}class mM extends f{constructor(t,e){super(t),this.total=e,this.count=0}_next(t){++this.count>this.total&&this.destination.next(t)}}const gM=new Set;let yM,_M=(()=>{class t{constructor(t){this._platform=t,this._matchMedia=this._platform.isBrowser&&window.matchMedia?window.matchMedia.bind(window):vM}matchMedia(t){return this._platform.WEBKIT&&function(t){if(!gM.has(t))try{yM||(yM=document.createElement("style"),yM.setAttribute("type","text/css"),document.head.appendChild(yM)),yM.sheet&&(yM.sheet.insertRule(`@media ${t} {.fx-query-test{ }}`,0),gM.add(t))}catch(e){console.error(e)}}(t),this._matchMedia(t)}}return t.\u0275fac=function(e){return new(e||t)(Kt(y_))},t.\u0275prov=ht({factory:function(){return new t(Kt(y_))},token:t,providedIn:"root"}),t})();function vM(t){return{matches:"all"===t||""===t,media:t,addListener:()=>{},removeListener:()=>{}}}let bM=(()=>{class t{constructor(t,e){this._mediaMatcher=t,this._zone=e,this._queries=new Map,this._destroySubject=new x}ngOnDestroy(){this._destroySubject.next(),this._destroySubject.complete()}isMatched(t){return wM(hy(t)).some(t=>this._registerQuery(t).mql.matches)}observe(t){let e=hM(wM(hy(t)).map(t=>this._registerQuery(t).observable));return e=Xy(e.pipe(H_(1)),e.pipe(t=>t.lift(new fM(1)),QP(0))),e.pipe(F(t=>{const e={matches:!1,breakpoints:{}};return t.forEach(t=>{e.matches=e.matches||t.matches,e.breakpoints[t.query]=t.matches}),e}))}_registerQuery(t){if(this._queries.has(t))return this._queries.get(t);const e=this._mediaMatcher.matchMedia(t),n={observable:new _(t=>{const n=e=>this._zone.run(()=>t.next(e));return e.addListener(n),()=>{e.removeListener(n)}}).pipe(Ky(e),F(e=>({query:t,matches:e.matches})),$y(this._destroySubject)),mql:e};return this._queries.set(t,n),n}}return t.\u0275fac=function(e){return new(e||t)(Kt(_M),Kt($c))},t.\u0275prov=ht({factory:function(){return new t(Kt(_M),Kt($c))},token:t,providedIn:"root"}),t})();function wM(t){return t.map(t=>t.split(",")).reduce((t,e)=>t.concat(e)).map(t=>t.trim())}const CM={tooltipState:jf("state",[Wf("initial, void, hidden",Uf({opacity:0,transform:"scale(0)"})),Wf("visible",Uf({transform:"scale(1)"})),Gf("* => visible",zf("200ms cubic-bezier(0, 0, 0.2, 1)",$f([Uf({opacity:0,transform:"scale(0)",offset:0}),Uf({opacity:.5,transform:"scale(0.99)",offset:.5}),Uf({opacity:1,transform:"scale(1)",offset:1})]))),Gf("* => hidden",zf("100ms cubic-bezier(0, 0, 0.2, 1)",Uf({opacity:0})))])},xM=E_({passive:!0});function EM(t){return Error(`Tooltip position "${t}" is invalid.`)}const SM=new jt("mat-tooltip-scroll-strategy"),PM={provide:SM,deps:[oT],useFactory:function(t){return()=>t.scrollStrategies.reposition({scrollThrottle:20})}},OM=new jt("mat-tooltip-default-options",{providedIn:"root",factory:function(){return{showDelay:0,hideDelay:0,touchendHideDelay:1500}}});let kM=(()=>{class t{constructor(t,e,n,i,r,o,s,a,l,c,u,h){this._overlay=t,this._elementRef=e,this._scrollDispatcher=n,this._viewContainerRef=i,this._ngZone=r,this._platform=o,this._ariaDescriber=s,this._focusMonitor=a,this._dir=c,this._defaultOptions=u,this._position="below",this._disabled=!1,this.showDelay=this._defaultOptions.showDelay,this.hideDelay=this._defaultOptions.hideDelay,this.touchGestures="auto",this._message="",this._passiveListeners=new Map,this._destroyed=new x,this._handleKeydown=t=>{this._isTooltipVisible()&&27===t.keyCode&&!YP(t)&&(t.preventDefault(),t.stopPropagation(),this._ngZone.run(()=>this.hide(0)))},this._scrollStrategy=l,u&&(u.position&&(this.position=u.position),u.touchGestures&&(this.touchGestures=u.touchGestures)),a.monitor(e).pipe($y(this._destroyed)).subscribe(t=>{t?"keyboard"===t&&r.run(()=>this.show()):r.run(()=>this.hide(0))}),r.runOutsideAngular(()=>{e.nativeElement.addEventListener("keydown",this._handleKeydown)})}get position(){return this._position}set position(t){t!==this._position&&(this._position=t,this._overlayRef&&(this._updatePosition(),this._tooltipInstance&&this._tooltipInstance.show(0),this._overlayRef.updatePosition()))}get disabled(){return this._disabled}set disabled(t){this._disabled=cy(t),this._disabled&&this.hide(0)}get message(){return this._message}set message(t){this._ariaDescriber.removeDescription(this._elementRef.nativeElement,this._message),this._message=null!=t?`${t}`.trim():"",!this._message&&this._isTooltipVisible()?this.hide(0):(this._updateTooltipMessage(),this._ngZone.runOutsideAngular(()=>{Promise.resolve().then(()=>{this._ariaDescriber.describe(this._elementRef.nativeElement,this.message)})}))}get tooltipClass(){return this._tooltipClass}set tooltipClass(t){this._tooltipClass=t,this._tooltipInstance&&this._setTooltipClass(this._tooltipClass)}ngOnInit(){this._setupPointerEvents()}ngOnDestroy(){const t=this._elementRef.nativeElement;clearTimeout(this._touchstartTimeout),this._overlayRef&&(this._overlayRef.dispose(),this._tooltipInstance=null),t.removeEventListener("keydown",this._handleKeydown),this._passiveListeners.forEach((e,n)=>{t.removeEventListener(n,e,xM)}),this._passiveListeners.clear(),this._destroyed.next(),this._destroyed.complete(),this._ariaDescriber.removeDescription(t,this.message),this._focusMonitor.stopMonitoring(t)}show(t=this.showDelay){if(this.disabled||!this.message||this._isTooltipVisible()&&!this._tooltipInstance._showTimeoutId&&!this._tooltipInstance._hideTimeoutId)return;const e=this._createOverlay();this._detach(),this._portal=this._portal||new FO(TM,this._viewContainerRef),this._tooltipInstance=e.attach(this._portal).instance,this._tooltipInstance.afterHidden().pipe($y(this._destroyed)).subscribe(()=>this._detach()),this._setTooltipClass(this._tooltipClass),this._updateTooltipMessage(),this._tooltipInstance.show(t)}hide(t=this.hideDelay){this._tooltipInstance&&this._tooltipInstance.hide(t)}toggle(){this._isTooltipVisible()?this.hide():this.show()}_isTooltipVisible(){return!!this._tooltipInstance&&this._tooltipInstance.isVisible()}_createOverlay(){if(this._overlayRef)return this._overlayRef;const t=this._scrollDispatcher.getAncestorScrollContainers(this._elementRef),e=this._overlay.position().flexibleConnectedTo(this._elementRef).withTransformOriginOn(".mat-tooltip").withFlexibleDimensions(!1).withViewportMargin(8).withScrollableContainers(t);return e.positionChanges.pipe($y(this._destroyed)).subscribe(t=>{this._tooltipInstance&&t.scrollableViewProperties.isOverlayClipped&&this._tooltipInstance.isVisible()&&this._ngZone.run(()=>this.hide(0))}),this._overlayRef=this._overlay.create({direction:this._dir,positionStrategy:e,panelClass:"mat-tooltip-panel",scrollStrategy:this._scrollStrategy()}),this._updatePosition(),this._overlayRef.detachments().pipe($y(this._destroyed)).subscribe(()=>this._detach()),this._overlayRef}_detach(){this._overlayRef&&this._overlayRef.hasAttached()&&this._overlayRef.detach(),this._tooltipInstance=null}_updatePosition(){const t=this._overlayRef.getConfig().positionStrategy,e=this._getOrigin(),n=this._getOverlayPosition();t.withPositions([Object.assign(Object.assign({},e.main),n.main),Object.assign(Object.assign({},e.fallback),n.fallback)])}_getOrigin(){const t=!this._dir||"ltr"==this._dir.value,e=this.position;let n;if("above"==e||"below"==e)n={originX:"center",originY:"above"==e?"top":"bottom"};else if("before"==e||"left"==e&&t||"right"==e&&!t)n={originX:"start",originY:"center"};else{if(!("after"==e||"right"==e&&t||"left"==e&&!t))throw EM(e);n={originX:"end",originY:"center"}}const{x:i,y:r}=this._invertPosition(n.originX,n.originY);return{main:n,fallback:{originX:i,originY:r}}}_getOverlayPosition(){const t=!this._dir||"ltr"==this._dir.value,e=this.position;let n;if("above"==e)n={overlayX:"center",overlayY:"bottom"};else if("below"==e)n={overlayX:"center",overlayY:"top"};else if("before"==e||"left"==e&&t||"right"==e&&!t)n={overlayX:"end",overlayY:"center"};else{if(!("after"==e||"right"==e&&t||"left"==e&&!t))throw EM(e);n={overlayX:"start",overlayY:"center"}}const{x:i,y:r}=this._invertPosition(n.overlayX,n.overlayY);return{main:n,fallback:{overlayX:i,overlayY:r}}}_updateTooltipMessage(){this._tooltipInstance&&(this._tooltipInstance.message=this.message,this._tooltipInstance._markForCheck(),this._ngZone.onMicrotaskEmpty.asObservable().pipe(H_(1),$y(this._destroyed)).subscribe(()=>{this._tooltipInstance&&this._overlayRef.updatePosition()}))}_setTooltipClass(t){this._tooltipInstance&&(this._tooltipInstance.tooltipClass=t,this._tooltipInstance._markForCheck())}_invertPosition(t,e){return"above"===this.position||"below"===this.position?"top"===e?e="bottom":"bottom"===e&&(e="top"):"end"===t?t="start":"start"===t&&(t="end"),{x:t,y:e}}_setupPointerEvents(){if(this._platform.IOS||this._platform.ANDROID){if("off"!==this.touchGestures){this._disableNativeGesturesIfNecessary();const t=()=>{clearTimeout(this._touchstartTimeout),this.hide(this._defaultOptions.touchendHideDelay)};this._passiveListeners.set("touchend",t).set("touchcancel",t).set("touchstart",()=>{clearTimeout(this._touchstartTimeout),this._touchstartTimeout=setTimeout(()=>this.show(),500)})}}else this._passiveListeners.set("mouseenter",()=>this.show()).set("mouseleave",()=>this.hide());this._passiveListeners.forEach((t,e)=>{this._elementRef.nativeElement.addEventListener(e,t,xM)})}_disableNativeGesturesIfNecessary(){const t=this._elementRef.nativeElement,e=t.style,n=this.touchGestures;"off"!==n&&(("on"===n||"INPUT"!==t.nodeName&&"TEXTAREA"!==t.nodeName)&&(e.userSelect=e.msUserSelect=e.webkitUserSelect=e.MozUserSelect="none"),"on"!==n&&t.draggable||(e.webkitUserDrag="none"),e.touchAction="none",e.webkitTapHighlightColor="transparent")}}return t.\u0275fac=function(e){return new(e||t)(Ms(oT),Ms(Ya),Ms(D_),Ms(Cl),Ms($c),Ms(y_),Ms(cO),Ms(EO),Ms(SM),Ms(k_,8),Ms(OM,8),Ms(Ya))},t.\u0275dir=be({type:t,selectors:[["","matTooltip",""]],inputs:{showDelay:["matTooltipShowDelay","showDelay"],hideDelay:["matTooltipHideDelay","hideDelay"],touchGestures:["matTooltipTouchGestures","touchGestures"],position:["matTooltipPosition","position"],disabled:["matTooltipDisabled","disabled"],message:["matTooltip","message"],tooltipClass:["matTooltipClass","tooltipClass"]},exportAs:["matTooltip"]}),t})(),TM=(()=>{class t{constructor(t,e){this._changeDetectorRef=t,this._breakpointObserver=e,this._visibility="initial",this._closeOnInteraction=!1,this._onHide=new x,this._isHandset=this._breakpointObserver.observe("(max-width: 599.99px) and (orientation: portrait), (max-width: 959.99px) and (orientation: landscape)")}show(t){this._hideTimeoutId&&(clearTimeout(this._hideTimeoutId),this._hideTimeoutId=null),this._closeOnInteraction=!0,this._showTimeoutId=setTimeout(()=>{this._visibility="visible",this._showTimeoutId=null,this._markForCheck()},t)}hide(t){this._showTimeoutId&&(clearTimeout(this._showTimeoutId),this._showTimeoutId=null),this._hideTimeoutId=setTimeout(()=>{this._visibility="hidden",this._hideTimeoutId=null,this._markForCheck()},t)}afterHidden(){return this._onHide.asObservable()}isVisible(){return"visible"===this._visibility}ngOnDestroy(){this._onHide.complete()}_animationStart(){this._closeOnInteraction=!1}_animationDone(t){const e=t.toState;"hidden"!==e||this.isVisible()||this._onHide.next(),"visible"!==e&&"hidden"!==e||(this._closeOnInteraction=!0)}_handleBodyInteraction(){this._closeOnInteraction&&this.hide(0)}_markForCheck(){this._changeDetectorRef.markForCheck()}}return t.\u0275fac=function(e){return new(e||t)(Ms(Xo),Ms(bM))},t.\u0275cmp=pe({type:t,selectors:[["mat-tooltip-component"]],hostAttrs:["aria-hidden","true"],hostVars:2,hostBindings:function(t,e){1&t&&$s("click",(function(){return e._handleBodyInteraction()}),!1,$n),2&t&&ca("zoom","visible"===e._visibility?1:null)},decls:3,vars:7,consts:[[1,"mat-tooltip",3,"ngClass"]],template:function(t,e){var n;1&t&&(Ls(0,"div",0),$s("@state.start",(function(){return e._animationStart()}))("@state.done",(function(t){return e._animationDone(t)})),Xl(1,"async"),Ca(2),Bs()),2&t&&(ua("mat-tooltip-handset",null==(n=Kl(1,5,e._isHandset))?null:n.matches),Rs("ngClass",e.tooltipClass)("@state",e._visibility),vr(2),xa(e.message))},directives:[vh],pipes:[zh],styles:[".mat-tooltip-panel{pointer-events:none !important}.mat-tooltip{color:#fff;border-radius:4px;margin:14px;max-width:250px;padding-left:8px;padding-right:8px;overflow:hidden;text-overflow:ellipsis}.cdk-high-contrast-active .mat-tooltip{outline:solid 1px}.mat-tooltip-handset{margin:24px;padding-left:16px;padding-right:16px}\n"],encapsulation:2,data:{animation:[CM.tooltipState]},changeDetection:0}),t})(),IM=(()=>{class t{}return t.\u0275mod=_e({type:t}),t.\u0275inj=dt({factory:function(e){return new(e||t)},providers:[PM],imports:[[kO,rd,hT,JO],JO,L_]}),t})();const AM=["panel"];function MM(t,e){if(1&t&&(Ls(0,"div",0,1),Js(2),Bs()),2&t){const t=Ys();Rs("id",t.id)("ngClass",t._classList)}}const DM=["*"];let RM=0;class FM{constructor(t,e){this.source=t,this.option=e}}class LM{}const BM=nk(LM),NM=new jt("mat-autocomplete-default-options",{providedIn:"root",factory:function(){return{autoActiveFirstOption:!1}}});let jM=(()=>{class t extends BM{constructor(t,e,n){super(),this._changeDetectorRef=t,this._elementRef=e,this._activeOptionChanges=h.EMPTY,this.showPanel=!1,this._isOpen=!1,this.displayWith=null,this.optionSelected=new Yl,this.opened=new Yl,this.closed=new Yl,this.optionActivated=new Yl,this._classList={},this.id=`mat-autocomplete-${RM++}`,this._autoActiveFirstOption=!!n.autoActiveFirstOption}get isOpen(){return this._isOpen&&this.showPanel}get autoActiveFirstOption(){return this._autoActiveFirstOption}set autoActiveFirstOption(t){this._autoActiveFirstOption=cy(t)}set classList(t){this._classList=t&&t.length?t.split(" ").reduce((t,e)=>(t[e.trim()]=!0,t),{}):{},this._setVisibilityClasses(this._classList),this._elementRef.nativeElement.className=""}ngAfterContentInit(){this._keyManager=new hO(this.options).withWrap(),this._activeOptionChanges=this._keyManager.change.subscribe(t=>{this.optionActivated.emit({source:this,option:this.options.toArray()[t]||null})}),this._setVisibility()}ngOnDestroy(){this._activeOptionChanges.unsubscribe()}_setScrollTop(t){this.panel&&(this.panel.nativeElement.scrollTop=t)}_getScrollTop(){return this.panel?this.panel.nativeElement.scrollTop:0}_setVisibility(){this.showPanel=!!this.options.length,this._setVisibilityClasses(this._classList),this._changeDetectorRef.markForCheck()}_emitSelectEvent(t){const e=new FM(this,t);this.optionSelected.emit(e)}_setVisibilityClasses(t){t["mat-autocomplete-visible"]=this.showPanel,t["mat-autocomplete-hidden"]=!this.showPanel}}return t.\u0275fac=function(e){return new(e||t)(Ms(Xo),Ms(Ya),Ms(NM))},t.\u0275cmp=pe({type:t,selectors:[["mat-autocomplete"]],contentQueries:function(t,e,n){var i;1&t&&(hc(n,Tk,!0),hc(n,Ek,!0)),2&t&&(ac(i=fc())&&(e.options=i),ac(i=fc())&&(e.optionGroups=i))},viewQuery:function(t,e){var n;1&t&&(lc(bl,!0),cc(AM,!0)),2&t&&(ac(n=fc())&&(e.template=n.first),ac(n=fc())&&(e.panel=n.first))},hostAttrs:[1,"mat-autocomplete"],inputs:{disableRipple:"disableRipple",displayWith:"displayWith",autoActiveFirstOption:"autoActiveFirstOption",classList:["class","classList"],panelWidth:"panelWidth"},outputs:{optionSelected:"optionSelected",opened:"opened",closed:"closed",optionActivated:"optionActivated"},exportAs:["matAutocomplete"],features:[Ga([{provide:kk,useExisting:t}]),Ia],ngContentSelectors:DM,decls:1,vars:0,consts:[["role","listbox",1,"mat-autocomplete-panel",3,"id","ngClass"],["panel",""]],template:function(t,e){1&t&&(Zs(),Is(0,MM,3,2,"ng-template"))},directives:[vh],styles:[".mat-autocomplete-panel{min-width:112px;max-width:280px;overflow:auto;-webkit-overflow-scrolling:touch;visibility:hidden;max-width:none;max-height:256px;position:relative;width:100%;border-bottom-left-radius:4px;border-bottom-right-radius:4px}.mat-autocomplete-panel.mat-autocomplete-visible{visibility:visible}.mat-autocomplete-panel.mat-autocomplete-hidden{visibility:hidden}.mat-autocomplete-panel-above .mat-autocomplete-panel{border-radius:0;border-top-left-radius:4px;border-top-right-radius:4px}.mat-autocomplete-panel .mat-divider-horizontal{margin-top:-1px}.cdk-high-contrast-active .mat-autocomplete-panel{outline:solid 1px}\n"],encapsulation:2,changeDetection:0}),t})(),zM=(()=>{class t{constructor(t){this.elementRef=t}}return t.\u0275fac=function(e){return new(e||t)(Ms(Ya))},t.\u0275dir=be({type:t,selectors:[["","matAutocompleteOrigin",""]],exportAs:["matAutocompleteOrigin"]}),t})();const HM=new jt("mat-autocomplete-scroll-strategy"),VM={provide:HM,deps:[oT],useFactory:function(t){return()=>t.scrollStrategies.reposition()}},UM={provide:ld,useExisting:Et(()=>WM),multi:!0};let WM=(()=>{class t{constructor(t,e,n,i,r,o,s,a,l,c){this._element=t,this._overlay=e,this._viewContainerRef=n,this._zone=i,this._changeDetectorRef=r,this._dir=s,this._formField=a,this._document=l,this._viewportRuler=c,this._componentDestroyed=!1,this._autocompleteDisabled=!1,this._manuallyFloatingLabel=!1,this._viewportSubscription=h.EMPTY,this._canOpenOnNextFocus=!0,this._closeKeyEventStream=new x,this._windowBlurHandler=()=>{this._canOpenOnNextFocus=this._document.activeElement!==this._element.nativeElement||this.panelOpen},this._onChange=()=>{},this._onTouched=()=>{},this.position="auto",this.autocompleteAttribute="off",this._overlayAttached=!1,this.optionSelections=oA(()=>this.autocomplete&&this.autocomplete.options?$(...this.autocomplete.options.map(t=>t.onSelectionChange)):this._zone.onStable.asObservable().pipe(H_(1),Zy(()=>this.optionSelections))),this._scrollStrategy=o}get autocompleteDisabled(){return this._autocompleteDisabled}set autocompleteDisabled(t){this._autocompleteDisabled=cy(t)}ngAfterViewInit(){const t=this._getWindow();void 0!==t&&this._zone.runOutsideAngular(()=>t.addEventListener("blur",this._windowBlurHandler))}ngOnChanges(t){t.position&&this._positionStrategy&&(this._setStrategyPositions(this._positionStrategy),this.panelOpen&&this._overlayRef.updatePosition())}ngOnDestroy(){const t=this._getWindow();void 0!==t&&t.removeEventListener("blur",this._windowBlurHandler),this._viewportSubscription.unsubscribe(),this._componentDestroyed=!0,this._destroyPanel(),this._closeKeyEventStream.complete()}get panelOpen(){return this._overlayAttached&&this.autocomplete.showPanel}openPanel(){this._attachOverlay(),this._floatLabel()}closePanel(){this._resetLabel(),this._overlayAttached&&(this.panelOpen&&this.autocomplete.closed.emit(),this.autocomplete._isOpen=this._overlayAttached=!1,this._overlayRef&&this._overlayRef.hasAttached()&&(this._overlayRef.detach(),this._closingActionsSubscription.unsubscribe()),this._componentDestroyed||this._changeDetectorRef.detectChanges())}updatePosition(){this._overlayAttached&&this._overlayRef.updatePosition()}get panelClosingActions(){return $(this.optionSelections,this.autocomplete._keyManager.tabOut.pipe(Vy(()=>this._overlayAttached)),this._closeKeyEventStream,this._getOutsideClickStream(),this._overlayRef?this._overlayRef.detachments().pipe(Vy(()=>this._overlayAttached)):fy()).pipe(F(t=>t instanceof Ok?t:null))}get activeOption(){return this.autocomplete&&this.autocomplete._keyManager?this.autocomplete._keyManager.activeItem:null}_getOutsideClickStream(){return $(my(this._document,"click"),my(this._document,"touchend")).pipe(Vy(t=>{const e=this._isInsideShadowRoot&&t.composedPath?t.composedPath()[0]:t.target,n=this._formField?this._formField._elementRef.nativeElement:null;return this._overlayAttached&&e!==this._element.nativeElement&&(!n||!n.contains(e))&&!!this._overlayRef&&!this._overlayRef.overlayElement.contains(e)}))}writeValue(t){Promise.resolve(null).then(()=>this._setTriggerValue(t))}registerOnChange(t){this._onChange=t}registerOnTouched(t){this._onTouched=t}setDisabledState(t){this._element.nativeElement.disabled=t}_handleKeydown(t){const e=t.keyCode;if(27===e&&t.preventDefault(),this.activeOption&&13===e&&this.panelOpen)this.activeOption._selectViaInteraction(),this._resetActiveItem(),t.preventDefault();else if(this.autocomplete){const n=this.autocomplete._keyManager.activeItem,i=38===e||40===e;this.panelOpen||9===e?this.autocomplete._keyManager.onKeydown(t):i&&this._canOpen()&&this.openPanel(),(i||this.autocomplete._keyManager.activeItem!==n)&&this._scrollToOption()}}_handleInput(t){let e=t.target,n=e.value;"number"===e.type&&(n=""==n?null:parseFloat(n)),this._previousValue!==n&&(this._previousValue=n,this._onChange(n),this._canOpen()&&this._document.activeElement===t.target&&this.openPanel())}_handleFocus(){this._canOpenOnNextFocus?this._canOpen()&&(this._previousValue=this._element.nativeElement.value,this._attachOverlay(),this._floatLabel(!0)):this._canOpenOnNextFocus=!0}_floatLabel(t=!1){this._formField&&"auto"===this._formField.floatLabel&&(t?this._formField._animateAndLockLabel():this._formField.floatLabel="always",this._manuallyFloatingLabel=!0)}_resetLabel(){this._manuallyFloatingLabel&&(this._formField.floatLabel="auto",this._manuallyFloatingLabel=!1)}_scrollToOption(){const t=this.autocomplete._keyManager.activeItemIndex||0,e=Ik(t,this.autocomplete.options,this.autocomplete.optionGroups);if(0===t&&1===e)this.autocomplete._setScrollTop(0);else{const n=Ak(t+e,48,this.autocomplete._getScrollTop(),256);this.autocomplete._setScrollTop(n)}}_subscribeToClosingActions(){return $(this._zone.onStable.asObservable().pipe(H_(1)),this.autocomplete.options.changes.pipe($_(()=>this._positionStrategy.reapplyLastPosition()),TO(0))).pipe(Zy(()=>{const t=this.panelOpen;return this._resetActiveItem(),this.autocomplete._setVisibility(),this.panelOpen&&(this._overlayRef.updatePosition(),t!==this.panelOpen&&this.autocomplete.opened.emit()),this.panelClosingActions}),H_(1)).subscribe(t=>this._setValueAndClose(t))}_destroyPanel(){this._overlayRef&&(this.closePanel(),this._overlayRef.dispose(),this._overlayRef=null)}_setTriggerValue(t){const e=this.autocomplete&&this.autocomplete.displayWith?this.autocomplete.displayWith(t):t,n=null!=e?e:"";this._formField?this._formField._control.value=n:this._element.nativeElement.value=n,this._previousValue=n}_setValueAndClose(t){t&&t.source&&(this._clearPreviousSelectedOption(t.source),this._setTriggerValue(t.source.value),this._onChange(t.source.value),this._element.nativeElement.focus(),this.autocomplete._emitSelectEvent(t.source)),this.closePanel()}_clearPreviousSelectedOption(t){this.autocomplete.options.forEach(e=>{e!=t&&e.selected&&e.deselect()})}_attachOverlay(){if(!this.autocomplete)throw Error("Attempting to open an undefined instance of `mat-autocomplete`. Make sure that the id passed to the `matAutocomplete` is correct and that you're attempting to open it after the ngAfterContentInit hook.");null==this._isInsideShadowRoot&&(this._isInsideShadowRoot=!!P_(this._element.nativeElement));let t=this._overlayRef;t?(this._positionStrategy.setOrigin(this._getConnectedElement()),t.updateSize({width:this._getPanelWidth()})):(this._portal=new LO(this.autocomplete.template,this._viewContainerRef),t=this._overlay.create(this._getOverlayConfig()),this._overlayRef=t,t.keydownEvents().subscribe(t=>{(27===t.keyCode||38===t.keyCode&&t.altKey)&&(this._resetActiveItem(),this._closeKeyEventStream.next(),t.stopPropagation(),t.preventDefault())}),this._viewportRuler&&(this._viewportSubscription=this._viewportRuler.change().subscribe(()=>{this.panelOpen&&t&&t.updateSize({width:this._getPanelWidth()})}))),t&&!t.hasAttached()&&(t.attach(this._portal),this._closingActionsSubscription=this._subscribeToClosingActions());const e=this.panelOpen;this.autocomplete._setVisibility(),this.autocomplete._isOpen=this._overlayAttached=!0,this.panelOpen&&e!==this.panelOpen&&this.autocomplete.opened.emit()}_getOverlayConfig(){return new Vk({positionStrategy:this._getOverlayPosition(),scrollStrategy:this._scrollStrategy(),width:this._getPanelWidth(),direction:this._dir})}_getOverlayPosition(){const t=this._overlay.position().flexibleConnectedTo(this._getConnectedElement()).withFlexibleDimensions(!1).withPush(!1);return this._setStrategyPositions(t),this._positionStrategy=t,t}_setStrategyPositions(t){const e=[{originX:"start",originY:"bottom",overlayX:"start",overlayY:"top"},{originX:"end",originY:"bottom",overlayX:"end",overlayY:"top"}],n=[{originX:"start",originY:"top",overlayX:"start",overlayY:"bottom",panelClass:"mat-autocomplete-panel-above"},{originX:"end",originY:"top",overlayX:"end",overlayY:"bottom",panelClass:"mat-autocomplete-panel-above"}];let i;i="above"===this.position?n:"below"===this.position?e:[...e,...n],t.withPositions(i)}_getConnectedElement(){return this.connectedTo?this.connectedTo.elementRef:this._formField?this._formField.getConnectedOverlayOrigin():this._element}_getPanelWidth(){return this.autocomplete.panelWidth||this._getHostWidth()}_getHostWidth(){return this._getConnectedElement().nativeElement.getBoundingClientRect().width}_resetActiveItem(){this.autocomplete._keyManager.setActiveItem(this.autocomplete.autoActiveFirstOption?0:-1)}_canOpen(){const t=this._element.nativeElement;return!t.readOnly&&!t.disabled&&!this._autocompleteDisabled}_getWindow(){var t;return(null===(t=this._document)||void 0===t?void 0:t.defaultView)||window}}return t.\u0275fac=function(e){return new(e||t)(Ms(Ya),Ms(oT),Ms(Cl),Ms($c),Ms(Xo),Ms(HM),Ms(k_,8),Ms(nA,9),Ms(vu,8),Ms(F_))},t.\u0275dir=be({type:t,selectors:[["input","matAutocomplete",""],["textarea","matAutocomplete",""]],hostAttrs:[1,"mat-autocomplete-trigger"],hostVars:7,hostBindings:function(t,e){1&t&&$s("focusin",(function(){return e._handleFocus()}))("blur",(function(){return e._onTouched()}))("input",(function(t){return e._handleInput(t)}))("keydown",(function(t){return e._handleKeydown(t)})),2&t&&ks("autocomplete",e.autocompleteAttribute)("role",e.autocompleteDisabled?null:"combobox")("aria-autocomplete",e.autocompleteDisabled?null:"list")("aria-activedescendant",e.panelOpen&&e.activeOption?e.activeOption.id:null)("aria-expanded",e.autocompleteDisabled?null:e.panelOpen.toString())("aria-owns",e.autocompleteDisabled||!e.panelOpen||null==e.autocomplete?null:e.autocomplete.id)("aria-haspopup",!e.autocompleteDisabled)},inputs:{position:["matAutocompletePosition","position"],autocompleteAttribute:["autocomplete","autocompleteAttribute"],autocompleteDisabled:["matAutocompleteDisabled","autocompleteDisabled"],autocomplete:["matAutocomplete","autocomplete"],connectedTo:["matAutocompleteConnectedTo","connectedTo"]},exportAs:["matAutocompleteTrigger"],features:[Ga([UM]),La]}),t})(),$M=(()=>{class t{}return t.\u0275mod=_e({type:t}),t.\u0275inj=dt({factory:function(e){return new(e||t)},providers:[VM],imports:[[Mk,hT,JO,rd],L_,Mk,JO]}),t})();function GM(t,e){}class qM{constructor(){this.role="dialog",this.panelClass="",this.hasBackdrop=!0,this.backdropClass="",this.disableClose=!1,this.width="",this.height="",this.maxWidth="80vw",this.data=null,this.ariaDescribedBy=null,this.ariaLabelledBy=null,this.ariaLabel=null,this.autoFocus=!0,this.restoreFocus=!0,this.closeOnNavigation=!0}}const XM={dialogContainer:jf("dialogContainer",[Wf("void, exit",Uf({opacity:0,transform:"scale(0.7)"})),Wf("enter",Uf({transform:"none"})),Gf("* => enter",zf("150ms cubic-bezier(0, 0, 0.2, 1)",Uf({transform:"none",opacity:1}))),Gf("* => void, * => exit",zf("75ms cubic-bezier(0.4, 0.0, 0.2, 1)",Uf({opacity:0})))])};function KM(){throw Error("Attempting to attach dialog content after content is already attached")}let YM=(()=>{class t extends NO{constructor(t,e,n,i,r){super(),this._elementRef=t,this._focusTrapFactory=e,this._changeDetectorRef=n,this._config=r,this._elementFocusedBeforeDialogWasOpened=null,this._state="enter",this._animationStateChanged=new Yl,this.attachDomPortal=t=>(this._portalOutlet.hasAttached()&&KM(),this._setupFocusTrap(),this._portalOutlet.attachDomPortal(t)),this._ariaLabelledBy=r.ariaLabelledBy||null,this._document=i}attachComponentPortal(t){return this._portalOutlet.hasAttached()&&KM(),this._setupFocusTrap(),this._portalOutlet.attachComponentPortal(t)}attachTemplatePortal(t){return this._portalOutlet.hasAttached()&&KM(),this._setupFocusTrap(),this._portalOutlet.attachTemplatePortal(t)}_recaptureFocus(){this._containsFocus()||this._focusTrap.focusInitialElement()||this._elementRef.nativeElement.focus()}_trapFocus(){this._config.autoFocus?this._focusTrap.focusInitialElementWhenReady():this._containsFocus()||this._elementRef.nativeElement.focus()}_restoreFocus(){const t=this._elementFocusedBeforeDialogWasOpened;if(this._config.restoreFocus&&t&&"function"==typeof t.focus){const e=this._document.activeElement,n=this._elementRef.nativeElement;e&&e!==this._document.body&&e!==n&&!n.contains(e)||t.focus()}this._focusTrap&&this._focusTrap.destroy()}_setupFocusTrap(){this._focusTrap||(this._focusTrap=this._focusTrapFactory.create(this._elementRef.nativeElement)),this._document&&(this._elementFocusedBeforeDialogWasOpened=this._document.activeElement,this._elementRef.nativeElement.focus&&Promise.resolve().then(()=>this._elementRef.nativeElement.focus()))}_containsFocus(){const t=this._elementRef.nativeElement,e=this._document.activeElement;return t===e||t.contains(e)}_onAnimationDone(t){"enter"===t.toState?this._trapFocus():"exit"===t.toState&&this._restoreFocus(),this._animationStateChanged.emit(t)}_onAnimationStart(t){this._animationStateChanged.emit(t)}_startExitAnimation(){this._state="exit",this._changeDetectorRef.markForCheck()}}return t.\u0275fac=function(e){return new(e||t)(Ms(Ya),Ms(yO),Ms(Xo),Ms(vu,8),Ms(qM))},t.\u0275cmp=pe({type:t,selectors:[["mat-dialog-container"]],viewQuery:function(t,e){var n;1&t&&lc(HO,!0),2&t&&ac(n=fc())&&(e._portalOutlet=n.first)},hostAttrs:["tabindex","-1","aria-modal","true",1,"mat-dialog-container"],hostVars:6,hostBindings:function(t,e){1&t&&Gs("@dialogContainer.start",(function(t){return e._onAnimationStart(t)}))("@dialogContainer.done",(function(t){return e._onAnimationDone(t)})),2&t&&(ks("id",e._id)("role",e._config.role)("aria-labelledby",e._config.ariaLabel?null:e._ariaLabelledBy)("aria-label",e._config.ariaLabel)("aria-describedby",e._config.ariaDescribedBy||null),ka("@dialogContainer",e._state))},features:[Ia],decls:1,vars:0,consts:[["cdkPortalOutlet",""]],template:function(t,e){1&t&&Is(0,GM,0,0,"ng-template",0)},directives:[HO],styles:[".mat-dialog-container{display:block;padding:24px;border-radius:4px;box-sizing:border-box;overflow:auto;outline:0;width:100%;height:100%;min-height:inherit;max-height:inherit}.cdk-high-contrast-active .mat-dialog-container{outline:solid 1px}.mat-dialog-content{display:block;margin:0 -24px;padding:0 24px;max-height:65vh;overflow:auto;-webkit-overflow-scrolling:touch}.mat-dialog-title{margin:0 0 20px;display:block}.mat-dialog-actions{padding:8px 0;display:flex;flex-wrap:wrap;min-height:52px;align-items:center;margin-bottom:-24px}.mat-dialog-actions[align=end]{justify-content:flex-end}.mat-dialog-actions[align=center]{justify-content:center}.mat-dialog-actions .mat-button-base+.mat-button-base,.mat-dialog-actions .mat-mdc-button-base+.mat-mdc-button-base{margin-left:8px}[dir=rtl] .mat-dialog-actions .mat-button-base+.mat-button-base,[dir=rtl] .mat-dialog-actions .mat-mdc-button-base+.mat-mdc-button-base{margin-left:0;margin-right:8px}\n"],encapsulation:2,data:{animation:[XM.dialogContainer]}}),t})(),QM=0;class ZM{constructor(t,e,n=`mat-dialog-${QM++}`){this._overlayRef=t,this._containerInstance=e,this.id=n,this.disableClose=this._containerInstance._config.disableClose,this._afterOpened=new x,this._afterClosed=new x,this._beforeClosed=new x,this._state=0,e._id=n,e._animationStateChanged.pipe(Vy(t=>"done"===t.phaseName&&"enter"===t.toState),H_(1)).subscribe(()=>{this._afterOpened.next(),this._afterOpened.complete()}),e._animationStateChanged.pipe(Vy(t=>"done"===t.phaseName&&"exit"===t.toState),H_(1)).subscribe(()=>{clearTimeout(this._closeFallbackTimeout),this._finishDialogClose()}),t.detachments().subscribe(()=>{this._beforeClosed.next(this._result),this._beforeClosed.complete(),this._afterClosed.next(this._result),this._afterClosed.complete(),this.componentInstance=null,this._overlayRef.dispose()}),t.keydownEvents().pipe(Vy(t=>27===t.keyCode&&!this.disableClose&&!YP(t))).subscribe(t=>{t.preventDefault(),this.close()}),t.backdropClick().subscribe(()=>{this.disableClose?this._containerInstance._recaptureFocus():this.close()})}close(t){this._result=t,this._containerInstance._animationStateChanged.pipe(Vy(t=>"start"===t.phaseName),H_(1)).subscribe(e=>{this._beforeClosed.next(t),this._beforeClosed.complete(),this._overlayRef.detachBackdrop(),this._closeFallbackTimeout=setTimeout(()=>this._finishDialogClose(),e.totalTime+100)}),this._containerInstance._startExitAnimation(),this._state=1}afterOpened(){return this._afterOpened.asObservable()}afterClosed(){return this._afterClosed.asObservable()}beforeClosed(){return this._beforeClosed.asObservable()}backdropClick(){return this._overlayRef.backdropClick()}keydownEvents(){return this._overlayRef.keydownEvents()}updatePosition(t){let e=this._getPositionStrategy();return t&&(t.left||t.right)?t.left?e.left(t.left):e.right(t.right):e.centerHorizontally(),t&&(t.top||t.bottom)?t.top?e.top(t.top):e.bottom(t.bottom):e.centerVertically(),this._overlayRef.updatePosition(),this}updateSize(t="",e=""){return this._getPositionStrategy().width(t).height(e),this._overlayRef.updatePosition(),this}addPanelClass(t){return this._overlayRef.addPanelClass(t),this}removePanelClass(t){return this._overlayRef.removePanelClass(t),this}getState(){return this._state}_finishDialogClose(){this._state=2,this._overlayRef.dispose()}_getPositionStrategy(){return this._overlayRef.getConfig().positionStrategy}}const JM=new jt("MatDialogData"),tD=new jt("mat-dialog-default-options"),eD=new jt("mat-dialog-scroll-strategy"),nD={provide:eD,deps:[oT],useFactory:function(t){return()=>t.scrollStrategies.block()}};let iD=(()=>{class t{constructor(t,e,n,i,r,o,s){this._overlay=t,this._injector=e,this._defaultOptions=i,this._parentDialog=o,this._overlayContainer=s,this._openDialogsAtThisLevel=[],this._afterAllClosedAtThisLevel=new x,this._afterOpenedAtThisLevel=new x,this._ariaHiddenElements=new Map,this.afterAllClosed=oA(()=>this.openDialogs.length?this._afterAllClosed:this._afterAllClosed.pipe(Ky(void 0))),this._scrollStrategy=r}get openDialogs(){return this._parentDialog?this._parentDialog.openDialogs:this._openDialogsAtThisLevel}get afterOpened(){return this._parentDialog?this._parentDialog.afterOpened:this._afterOpenedAtThisLevel}get _afterAllClosed(){const t=this._parentDialog;return t?t._afterAllClosed:this._afterAllClosedAtThisLevel}open(t,e){if((e=function(t,e){return Object.assign(Object.assign({},e),t)}(e,this._defaultOptions||new qM)).id&&this.getDialogById(e.id))throw Error(`Dialog with id "${e.id}" exists already. The dialog id must be unique.`);const n=this._createOverlay(e),i=this._attachDialogContainer(n,e),r=this._attachDialogContent(t,i,n,e);return this.openDialogs.length||this._hideNonDialogContentFromAssistiveTechnology(),this.openDialogs.push(r),r.afterClosed().subscribe(()=>this._removeOpenDialog(r)),this.afterOpened.next(r),r}closeAll(){this._closeDialogs(this.openDialogs)}getDialogById(t){return this.openDialogs.find(e=>e.id===t)}ngOnDestroy(){this._closeDialogs(this._openDialogsAtThisLevel),this._afterAllClosedAtThisLevel.complete(),this._afterOpenedAtThisLevel.complete()}_createOverlay(t){const e=this._getOverlayConfig(t);return this._overlay.create(e)}_getOverlayConfig(t){const e=new Vk({positionStrategy:this._overlay.position().global(),scrollStrategy:t.scrollStrategy||this._scrollStrategy(),panelClass:t.panelClass,hasBackdrop:t.hasBackdrop,direction:t.direction,minWidth:t.minWidth,minHeight:t.minHeight,maxWidth:t.maxWidth,maxHeight:t.maxHeight,disposeOnNavigation:t.closeOnNavigation});return t.backdropClass&&(e.backdropClass=t.backdropClass),e}_attachDialogContainer(t,e){const n=us.create({parent:e&&e.viewContainerRef&&e.viewContainerRef.injector||this._injector,providers:[{provide:qM,useValue:e}]}),i=new FO(YM,e.viewContainerRef,n,e.componentFactoryResolver);return t.attach(i).instance}_attachDialogContent(t,e,n,i){const r=new ZM(n,e,i.id);if(t instanceof bl)e.attachTemplatePortal(new LO(t,null,{$implicit:i.data,dialogRef:r}));else{const n=this._createInjector(i,r,e),o=e.attachComponentPortal(new FO(t,i.viewContainerRef,n));r.componentInstance=o.instance}return r.updateSize(i.width,i.height).updatePosition(i.position),r}_createInjector(t,e,n){const i=t&&t.viewContainerRef&&t.viewContainerRef.injector,r=[{provide:YM,useValue:n},{provide:JM,useValue:t.data},{provide:ZM,useValue:e}];return!t.direction||i&&i.get(k_,null)||r.push({provide:k_,useValue:{value:t.direction,change:fy()}}),us.create({parent:i||this._injector,providers:r})}_removeOpenDialog(t){const e=this.openDialogs.indexOf(t);e>-1&&(this.openDialogs.splice(e,1),this.openDialogs.length||(this._ariaHiddenElements.forEach((t,e)=>{t?e.setAttribute("aria-hidden",t):e.removeAttribute("aria-hidden")}),this._ariaHiddenElements.clear(),this._afterAllClosed.next()))}_hideNonDialogContentFromAssistiveTechnology(){const t=this._overlayContainer.getContainerElement();if(t.parentElement){const e=t.parentElement.children;for(let n=e.length-1;n>-1;n--){let i=e[n];i===t||"SCRIPT"===i.nodeName||"STYLE"===i.nodeName||i.hasAttribute("aria-live")||(this._ariaHiddenElements.set(i,i.getAttribute("aria-hidden")),i.setAttribute("aria-hidden","true"))}}}_closeDialogs(t){let e=t.length;for(;e--;)t[e].close()}}return t.\u0275fac=function(e){return new(e||t)(Kt(oT),Kt(us),Kt(Mu,8),Kt(tD,8),Kt(eD),Kt(t,12),Kt(Kk))},t.\u0275prov=ht({token:t,factory:t.\u0275fac}),t})(),rD=0,oD=(()=>{class t{constructor(t,e,n){this.dialogRef=t,this._elementRef=e,this._dialog=n,this.type="button"}ngOnInit(){this.dialogRef||(this.dialogRef=cD(this._elementRef,this._dialog.openDialogs))}ngOnChanges(t){const e=t._matDialogClose||t._matDialogCloseResult;e&&(this.dialogResult=e.currentValue)}}return t.\u0275fac=function(e){return new(e||t)(Ms(ZM,8),Ms(Ya),Ms(iD))},t.\u0275dir=be({type:t,selectors:[["","mat-dialog-close",""],["","matDialogClose",""]],hostVars:2,hostBindings:function(t,e){1&t&&$s("click",(function(){return e.dialogRef.close(e.dialogResult)})),2&t&&ks("aria-label",e.ariaLabel||null)("type",e.type)},inputs:{type:"type",dialogResult:["mat-dialog-close","dialogResult"],ariaLabel:["aria-label","ariaLabel"],_matDialogClose:["matDialogClose","_matDialogClose"]},exportAs:["matDialogClose"],features:[La]}),t})(),sD=(()=>{class t{constructor(t,e,n){this._dialogRef=t,this._elementRef=e,this._dialog=n,this.id=`mat-dialog-title-${rD++}`}ngOnInit(){this._dialogRef||(this._dialogRef=cD(this._elementRef,this._dialog.openDialogs)),this._dialogRef&&Promise.resolve().then(()=>{const t=this._dialogRef._containerInstance;t&&!t._ariaLabelledBy&&(t._ariaLabelledBy=this.id)})}}return t.\u0275fac=function(e){return new(e||t)(Ms(ZM,8),Ms(Ya),Ms(iD))},t.\u0275dir=be({type:t,selectors:[["","mat-dialog-title",""],["","matDialogTitle",""]],hostAttrs:[1,"mat-dialog-title"],hostVars:1,hostBindings:function(t,e){2&t&&Oa("id",e.id)},inputs:{id:"id"},exportAs:["matDialogTitle"]}),t})(),aD=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275dir=be({type:t,selectors:[["","mat-dialog-content",""],["mat-dialog-content"],["","matDialogContent",""]],hostAttrs:[1,"mat-dialog-content"]}),t})(),lD=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275dir=be({type:t,selectors:[["","mat-dialog-actions",""],["mat-dialog-actions"],["","matDialogActions",""]],hostAttrs:[1,"mat-dialog-actions"]}),t})();function cD(t,e){let n=t.nativeElement.parentElement;for(;n&&!n.classList.contains("mat-dialog-container");)n=n.parentElement;return n?e.find(t=>t.id===n.id):null}let uD=(()=>{class t{}return t.\u0275mod=_e({type:t}),t.\u0275inj=dt({factory:function(e){return new(e||t)},providers:[iD,nD],imports:[[hT,WO,JO],JO]}),t})(),hD=0,dD=(()=>{class t{constructor(){this._stateChanges=new x,this._openCloseAllActions=new x,this.id=`cdk-accordion-${hD++}`,this._multi=!1}get multi(){return this._multi}set multi(t){this._multi=cy(t)}openAll(){this._openCloseAll(!0)}closeAll(){this._openCloseAll(!1)}ngOnChanges(t){this._stateChanges.next(t)}ngOnDestroy(){this._stateChanges.complete()}_openCloseAll(t){this.multi&&this._openCloseAllActions.next(t)}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275dir=be({type:t,selectors:[["cdk-accordion"],["","cdkAccordion",""]],inputs:{multi:"multi"},exportAs:["cdkAccordion"],features:[La]}),t})(),pD=0,fD=(()=>{class t{constructor(t,e,n){this.accordion=t,this._changeDetectorRef=e,this._expansionDispatcher=n,this._openCloseAllSubscription=h.EMPTY,this.closed=new Yl,this.opened=new Yl,this.destroyed=new Yl,this.expandedChange=new Yl,this.id=`cdk-accordion-child-${pD++}`,this._expanded=!1,this._disabled=!1,this._removeUniqueSelectionListener=()=>{},this._removeUniqueSelectionListener=n.listen((t,e)=>{this.accordion&&!this.accordion.multi&&this.accordion.id===e&&this.id!==t&&(this.expanded=!1)}),this.accordion&&(this._openCloseAllSubscription=this._subscribeToOpenCloseAllActions())}get expanded(){return this._expanded}set expanded(t){t=cy(t),this._expanded!==t&&(this._expanded=t,this.expandedChange.emit(t),t?(this.opened.emit(),this._expansionDispatcher.notify(this.id,this.accordion?this.accordion.id:this.id)):this.closed.emit(),this._changeDetectorRef.markForCheck())}get disabled(){return this._disabled}set disabled(t){this._disabled=cy(t)}ngOnDestroy(){this.opened.complete(),this.closed.complete(),this.destroyed.emit(),this.destroyed.complete(),this._removeUniqueSelectionListener(),this._openCloseAllSubscription.unsubscribe()}toggle(){this.disabled||(this.expanded=!this.expanded)}close(){this.disabled||(this.expanded=!1)}open(){this.disabled||(this.expanded=!0)}_subscribeToOpenCloseAllActions(){return this.accordion._openCloseAllActions.subscribe(t=>{this.disabled||(this.expanded=t)})}}return t.\u0275fac=function(e){return new(e||t)(Ms(dD,12),Ms(Xo),Ms(M_))},t.\u0275dir=be({type:t,selectors:[["cdk-accordion-item"],["","cdkAccordionItem",""]],inputs:{expanded:"expanded",disabled:"disabled"},outputs:{closed:"closed",opened:"opened",destroyed:"destroyed",expandedChange:"expandedChange"},exportAs:["cdkAccordionItem"],features:[Ga([{provide:dD,useValue:void 0}])]}),t})(),mD=(()=>{class t{}return t.\u0275mod=_e({type:t}),t.\u0275inj=dt({factory:function(e){return new(e||t)}}),t})();const gD=["body"];function yD(t,e){}const _D=[[["mat-expansion-panel-header"]],"*",[["mat-action-row"]]],vD=["mat-expansion-panel-header","*","mat-action-row"],bD=function(t,e){return{collapsedHeight:t,expandedHeight:e}},wD=function(t,e){return{value:t,params:e}};function CD(t,e){1&t&&Ns(0,"span",2),2&t&&Rs("@indicatorRotate",Ys()._getExpandedState())}const xD=[[["mat-panel-title"]],[["mat-panel-description"]],"*"],ED=["mat-panel-title","mat-panel-description","*"],SD=new jt("MAT_ACCORDION"),PD={indicatorRotate:jf("indicatorRotate",[Wf("collapsed, void",Uf({transform:"rotate(0deg)"})),Wf("expanded",Uf({transform:"rotate(180deg)"})),Gf("expanded <=> collapsed, void => collapsed",zf("225ms cubic-bezier(0.4,0.0,0.2,1)"))]),expansionHeaderHeight:jf("expansionHeight",[Wf("collapsed, void",Uf({height:"{{collapsedHeight}}"}),{params:{collapsedHeight:"48px"}}),Wf("expanded",Uf({height:"{{expandedHeight}}"}),{params:{expandedHeight:"64px"}}),Gf("expanded <=> collapsed, void => collapsed",Hf([Xf("@indicatorRotate",qf(),{optional:!0}),zf("225ms cubic-bezier(0.4,0.0,0.2,1)")]))]),bodyExpansion:jf("bodyExpansion",[Wf("collapsed, void",Uf({height:"0px",visibility:"hidden"})),Wf("expanded",Uf({height:"*",visibility:"visible"})),Gf("expanded <=> collapsed, void => collapsed",zf("225ms cubic-bezier(0.4,0.0,0.2,1)"))])};let OD=(()=>{class t{constructor(t){this._template=t}}return t.\u0275fac=function(e){return new(e||t)(Ms(bl))},t.\u0275dir=be({type:t,selectors:[["ng-template","matExpansionPanelContent",""]]}),t})(),kD=0;const TD=new jt("MAT_EXPANSION_PANEL_DEFAULT_OPTIONS");let ID=(()=>{class t extends fD{constructor(t,e,n,i,r,o,s){super(t,e,n),this._viewContainerRef=i,this._animationMode=o,this._hideToggle=!1,this.afterExpand=new Yl,this.afterCollapse=new Yl,this._inputChanges=new x,this._headerId=`mat-expansion-panel-header-${kD++}`,this._bodyAnimationDone=new x,this.accordion=t,this._document=r,this._bodyAnimationDone.pipe(My((t,e)=>t.fromState===e.fromState&&t.toState===e.toState)).subscribe(t=>{"void"!==t.fromState&&("expanded"===t.toState?this.afterExpand.emit():"collapsed"===t.toState&&this.afterCollapse.emit())}),s&&(this.hideToggle=s.hideToggle)}get hideToggle(){return this._hideToggle||this.accordion&&this.accordion.hideToggle}set hideToggle(t){this._hideToggle=cy(t)}get togglePosition(){return this._togglePosition||this.accordion&&this.accordion.togglePosition}set togglePosition(t){this._togglePosition=t}_hasSpacing(){return!!this.accordion&&this.expanded&&"default"===this.accordion.displayMode}_getExpandedState(){return this.expanded?"expanded":"collapsed"}toggle(){this.expanded=!this.expanded}close(){this.expanded=!1}open(){this.expanded=!0}ngAfterContentInit(){this._lazyContent&&this.opened.pipe(Ky(null),Vy(()=>this.expanded&&!this._portal),H_(1)).subscribe(()=>{this._portal=new LO(this._lazyContent._template,this._viewContainerRef)})}ngOnChanges(t){this._inputChanges.next(t)}ngOnDestroy(){super.ngOnDestroy(),this._bodyAnimationDone.complete(),this._inputChanges.complete()}_containsFocus(){if(this._body){const t=this._document.activeElement,e=this._body.nativeElement;return t===e||e.contains(t)}return!1}}return t.\u0275fac=function(e){return new(e||t)(Ms(SD,12),Ms(Xo),Ms(M_),Ms(Cl),Ms(vu),Ms(sy,8),Ms(TD,8))},t.\u0275cmp=pe({type:t,selectors:[["mat-expansion-panel"]],contentQueries:function(t,e,n){var i;1&t&&hc(n,OD,!0),2&t&&ac(i=fc())&&(e._lazyContent=i.first)},viewQuery:function(t,e){var n;1&t&&cc(gD,!0),2&t&&ac(n=fc())&&(e._body=n.first)},hostAttrs:[1,"mat-expansion-panel"],hostVars:6,hostBindings:function(t,e){2&t&&ua("mat-expanded",e.expanded)("_mat-animation-noopable","NoopAnimations"===e._animationMode)("mat-expansion-panel-spacing",e._hasSpacing())},inputs:{disabled:"disabled",expanded:"expanded",hideToggle:"hideToggle",togglePosition:"togglePosition"},outputs:{opened:"opened",closed:"closed",expandedChange:"expandedChange",afterExpand:"afterExpand",afterCollapse:"afterCollapse"},exportAs:["matExpansionPanel"],features:[Ga([{provide:SD,useValue:void 0}]),Ia,La],ngContentSelectors:vD,decls:7,vars:4,consts:[["role","region",1,"mat-expansion-panel-content",3,"id"],["body",""],[1,"mat-expansion-panel-body"],[3,"cdkPortalOutlet"]],template:function(t,e){1&t&&(Zs(_D),Js(0),Ls(1,"div",0,1),$s("@bodyExpansion.done",(function(t){return e._bodyAnimationDone.next(t)})),Ls(3,"div",2),Js(4,1),Is(5,yD,0,0,"ng-template",3),Bs(),Js(6,2),Bs()),2&t&&(vr(1),Rs("@bodyExpansion",e._getExpandedState())("id",e.id),ks("aria-labelledby",e._headerId),vr(4),Rs("cdkPortalOutlet",e._portal))},directives:[HO],styles:[".mat-expansion-panel{box-sizing:content-box;display:block;margin:0;border-radius:4px;overflow:hidden;transition:margin 225ms cubic-bezier(0.4, 0, 0.2, 1),box-shadow 280ms cubic-bezier(0.4, 0, 0.2, 1);position:relative}.mat-accordion .mat-expansion-panel:not(.mat-expanded),.mat-accordion .mat-expansion-panel:not(.mat-expansion-panel-spacing){border-radius:0}.mat-accordion .mat-expansion-panel:first-of-type{border-top-right-radius:4px;border-top-left-radius:4px}.mat-accordion .mat-expansion-panel:last-of-type{border-bottom-right-radius:4px;border-bottom-left-radius:4px}.cdk-high-contrast-active .mat-expansion-panel{outline:solid 1px}.mat-expansion-panel.ng-animate-disabled,.ng-animate-disabled .mat-expansion-panel,.mat-expansion-panel._mat-animation-noopable{transition:none}.mat-expansion-panel-content{display:flex;flex-direction:column;overflow:visible}.mat-expansion-panel-body{padding:0 24px 16px}.mat-expansion-panel-spacing{margin:16px 0}.mat-accordion>.mat-expansion-panel-spacing:first-child,.mat-accordion>*:first-child:not(.mat-expansion-panel) .mat-expansion-panel-spacing{margin-top:0}.mat-accordion>.mat-expansion-panel-spacing:last-child,.mat-accordion>*:last-child:not(.mat-expansion-panel) .mat-expansion-panel-spacing{margin-bottom:0}.mat-action-row{border-top-style:solid;border-top-width:1px;display:flex;flex-direction:row;justify-content:flex-end;padding:16px 8px 16px 24px}.mat-action-row button.mat-button-base,.mat-action-row button.mat-mdc-button-base{margin-left:8px}[dir=rtl] .mat-action-row button.mat-button-base,[dir=rtl] .mat-action-row button.mat-mdc-button-base{margin-left:0;margin-right:8px}\n"],encapsulation:2,data:{animation:[PD.bodyExpansion]},changeDetection:0}),t})(),AD=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275dir=be({type:t,selectors:[["mat-action-row"]],hostAttrs:[1,"mat-action-row"]}),t})(),MD=(()=>{class t{constructor(t,e,n,i,r){this.panel=t,this._element=e,this._focusMonitor=n,this._changeDetectorRef=i,this._parentChangeSubscription=h.EMPTY,this._animationsDisabled=!0;const o=t.accordion?t.accordion._stateChanges.pipe(Vy(t=>!(!t.hideToggle&&!t.togglePosition))):r_;this._parentChangeSubscription=$(t.opened,t.closed,o,t._inputChanges.pipe(Vy(t=>!!(t.hideToggle||t.disabled||t.togglePosition)))).subscribe(()=>this._changeDetectorRef.markForCheck()),t.closed.pipe(Vy(()=>t._containsFocus())).subscribe(()=>n.focusVia(e,"program")),n.monitor(e).subscribe(e=>{e&&t.accordion&&t.accordion._handleHeaderFocus(this)}),r&&(this.expandedHeight=r.expandedHeight,this.collapsedHeight=r.collapsedHeight)}_animationStarted(){this._animationsDisabled=!1}get disabled(){return this.panel.disabled}_toggle(){this.disabled||this.panel.toggle()}_isExpanded(){return this.panel.expanded}_getExpandedState(){return this.panel._getExpandedState()}_getPanelId(){return this.panel.id}_getTogglePosition(){return this.panel.togglePosition}_showToggle(){return!this.panel.hideToggle&&!this.panel.disabled}_keydown(t){switch(t.keyCode){case 32:case 13:YP(t)||(t.preventDefault(),this._toggle());break;default:return void(this.panel.accordion&&this.panel.accordion._handleHeaderKeydown(t))}}focus(t="program",e){this._focusMonitor.focusVia(this._element,t,e)}ngOnDestroy(){this._parentChangeSubscription.unsubscribe(),this._focusMonitor.stopMonitoring(this._element)}}return t.\u0275fac=function(e){return new(e||t)(Ms(ID,1),Ms(Ya),Ms(EO),Ms(Xo),Ms(TD,8))},t.\u0275cmp=pe({type:t,selectors:[["mat-expansion-panel-header"]],hostAttrs:["role","button",1,"mat-expansion-panel-header","mat-focus-indicator"],hostVars:19,hostBindings:function(t,e){1&t&&(Gs("@expansionHeight.start",(function(){return e._animationStarted()})),$s("click",(function(){return e._toggle()}))("keydown",(function(t){return e._keydown(t)}))),2&t&&(ks("id",e.panel._headerId)("tabindex",e.disabled?-1:0)("aria-controls",e._getPanelId())("aria-expanded",e._isExpanded())("aria-disabled",e.panel.disabled),ka("@.disabled",e._animationsDisabled)("@expansionHeight",Ul(16,wD,e._getExpandedState(),Ul(13,bD,e.collapsedHeight,e.expandedHeight))),ua("mat-expanded",e._isExpanded())("mat-expansion-toggle-indicator-after","after"===e._getTogglePosition())("mat-expansion-toggle-indicator-before","before"===e._getTogglePosition()))},inputs:{expandedHeight:"expandedHeight",collapsedHeight:"collapsedHeight"},ngContentSelectors:ED,decls:5,vars:1,consts:[[1,"mat-content"],["class","mat-expansion-indicator",4,"ngIf"],[1,"mat-expansion-indicator"]],template:function(t,e){1&t&&(Zs(xD),Ls(0,"span",0),Js(1),Js(2,1),Js(3,2),Bs(),Is(4,CD,1,1,"span",1)),2&t&&(vr(4),Rs("ngIf",e._showToggle()))},directives:[Eh],styles:['.mat-expansion-panel-header{display:flex;flex-direction:row;align-items:center;padding:0 24px;border-radius:inherit;position:relative}.mat-expansion-panel-header:focus,.mat-expansion-panel-header:hover{outline:none}.mat-expansion-panel-header.mat-expanded:focus,.mat-expansion-panel-header.mat-expanded:hover{background:inherit}.mat-expansion-panel-header:not([aria-disabled=true]){cursor:pointer}.mat-expansion-panel-header.mat-expansion-toggle-indicator-before{flex-direction:row-reverse}.mat-expansion-panel-header.mat-expansion-toggle-indicator-before .mat-expansion-indicator{margin:0 16px 0 0}[dir=rtl] .mat-expansion-panel-header.mat-expansion-toggle-indicator-before .mat-expansion-indicator{margin:0 0 0 16px}.mat-content{display:flex;flex:1;flex-direction:row;overflow:hidden}.mat-expansion-panel-header-title,.mat-expansion-panel-header-description{display:flex;flex-grow:1;margin-right:16px}[dir=rtl] .mat-expansion-panel-header-title,[dir=rtl] .mat-expansion-panel-header-description{margin-right:0;margin-left:16px}.mat-expansion-panel-header-description{flex-grow:2}.mat-expansion-indicator::after{border-style:solid;border-width:0 2px 2px 0;content:"";display:inline-block;padding:3px;transform:rotate(45deg);vertical-align:middle}\n'],encapsulation:2,data:{animation:[PD.indicatorRotate,PD.expansionHeaderHeight]},changeDetection:0}),t})(),DD=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275dir=be({type:t,selectors:[["mat-panel-description"]],hostAttrs:[1,"mat-expansion-panel-header-description"]}),t})(),RD=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275dir=be({type:t,selectors:[["mat-panel-title"]],hostAttrs:[1,"mat-expansion-panel-header-title"]}),t})(),FD=(()=>{class t extends dD{constructor(){super(...arguments),this._ownHeaders=new Zl,this._hideToggle=!1,this.displayMode="default",this.togglePosition="after"}get hideToggle(){return this._hideToggle}set hideToggle(t){this._hideToggle=cy(t)}ngAfterContentInit(){this._headers.changes.pipe(Ky(this._headers)).subscribe(t=>{this._ownHeaders.reset(t.filter(t=>t.panel.accordion===this)),this._ownHeaders.notifyOnChanges()}),this._keyManager=new dO(this._ownHeaders).withWrap()}_handleHeaderKeydown(t){const{keyCode:e}=t,n=this._keyManager;36===e?YP(t)||(n.setFirstItemActive(),t.preventDefault()):35===e?YP(t)||(n.setLastItemActive(),t.preventDefault()):this._keyManager.onKeydown(t)}_handleHeaderFocus(t){this._keyManager.updateActiveItem(t)}}return t.\u0275fac=function(e){return LD(e||t)},t.\u0275dir=be({type:t,selectors:[["mat-accordion"]],contentQueries:function(t,e,n){var i;1&t&&hc(n,MD,!0),2&t&&ac(i=fc())&&(e._headers=i)},hostAttrs:[1,"mat-accordion"],hostVars:2,hostBindings:function(t,e){2&t&&ua("mat-accordion-multi",e.multi)},inputs:{multi:"multi",displayMode:"displayMode",togglePosition:"togglePosition",hideToggle:"hideToggle"},exportAs:["matAccordion"],features:[Ga([{provide:SD,useExisting:t}]),Ia]}),t})();const LD=ui(FD);let BD=(()=>{class t{}return t.\u0275mod=_e({type:t}),t.\u0275inj=dt({factory:function(e){return new(e||t)},imports:[[rd,mD,WO]]}),t})();const ND=["primaryValueBar"];class jD{constructor(t){this._elementRef=t}}const zD=ek(jD,"primary"),HD=new jt("mat-progress-bar-location",{providedIn:"root",factory:function(){const t=Yt(vu),e=t?t.location:null;return{getPathname:()=>e?e.pathname+e.search:""}}});let VD=0,UD=(()=>{class t extends zD{constructor(t,e,n,i){super(t),this._elementRef=t,this._ngZone=e,this._animationMode=n,this._isNoopAnimation=!1,this._value=0,this._bufferValue=0,this.animationEnd=new Yl,this._animationEndSubscription=h.EMPTY,this.mode="determinate",this.progressbarId=`mat-progress-bar-${VD++}`;const r=i?i.getPathname().split("#")[0]:"";this._rectangleFillValue=`url('${r}#${this.progressbarId}')`,this._isNoopAnimation="NoopAnimations"===n}get value(){return this._value}set value(t){this._value=WD(uy(t)||0)}get bufferValue(){return this._bufferValue}set bufferValue(t){this._bufferValue=WD(t||0)}_primaryTransform(){return{transform:`scaleX(${this.value/100})`}}_bufferTransform(){return"buffer"===this.mode?{transform:`scaleX(${this.bufferValue/100})`}:null}ngAfterViewInit(){this._ngZone.runOutsideAngular(()=>{const t=this._primaryValueBar.nativeElement;this._animationEndSubscription=my(t,"transitionend").pipe(Vy(e=>e.target===t)).subscribe(()=>{"determinate"!==this.mode&&"buffer"!==this.mode||this._ngZone.run(()=>this.animationEnd.next({value:this.value}))})})}ngOnDestroy(){this._animationEndSubscription.unsubscribe()}}return t.\u0275fac=function(e){return new(e||t)(Ms(Ya),Ms($c),Ms(sy,8),Ms(HD,8))},t.\u0275cmp=pe({type:t,selectors:[["mat-progress-bar"]],viewQuery:function(t,e){var n;1&t&&cc(ND,!0),2&t&&ac(n=fc())&&(e._primaryValueBar=n.first)},hostAttrs:["role","progressbar","aria-valuemin","0","aria-valuemax","100",1,"mat-progress-bar"],hostVars:4,hostBindings:function(t,e){2&t&&(ks("aria-valuenow","indeterminate"===e.mode||"query"===e.mode?null:e.value)("mode",e.mode),ua("_mat-animation-noopable",e._isNoopAnimation))},inputs:{color:"color",mode:"mode",value:"value",bufferValue:"bufferValue"},outputs:{animationEnd:"animationEnd"},exportAs:["matProgressBar"],features:[Ia],decls:9,vars:4,consts:[["width","100%","height","4","focusable","false",1,"mat-progress-bar-background","mat-progress-bar-element"],["x","4","y","0","width","8","height","4","patternUnits","userSpaceOnUse",3,"id"],["cx","2","cy","2","r","2"],["width","100%","height","100%"],[1,"mat-progress-bar-buffer","mat-progress-bar-element",3,"ngStyle"],[1,"mat-progress-bar-primary","mat-progress-bar-fill","mat-progress-bar-element",3,"ngStyle"],["primaryValueBar",""],[1,"mat-progress-bar-secondary","mat-progress-bar-fill","mat-progress-bar-element"]],template:function(t,e){1&t&&(En(),Ls(0,"svg",0),Ls(1,"defs"),Ls(2,"pattern",1),Ns(3,"circle",2),Bs(),Bs(),Ns(4,"rect",3),Bs(),Sn(),Ns(5,"div",4),Ns(6,"div",5,6),Ns(8,"div",7)),2&t&&(vr(2),Rs("id",e.progressbarId),vr(2),ks("fill",e._rectangleFillValue),vr(1),Rs("ngStyle",e._bufferTransform()),vr(1),Rs("ngStyle",e._primaryTransform()))},directives:[Dh],styles:['.mat-progress-bar{display:block;height:4px;overflow:hidden;position:relative;transition:opacity 250ms linear;width:100%}._mat-animation-noopable.mat-progress-bar{transition:none;animation:none}.mat-progress-bar .mat-progress-bar-element,.mat-progress-bar .mat-progress-bar-fill::after{height:100%;position:absolute;width:100%}.mat-progress-bar .mat-progress-bar-background{width:calc(100% + 10px)}.cdk-high-contrast-active .mat-progress-bar .mat-progress-bar-background{display:none}.mat-progress-bar .mat-progress-bar-buffer{transform-origin:top left;transition:transform 250ms ease}.cdk-high-contrast-active .mat-progress-bar .mat-progress-bar-buffer{border-top:solid 5px;opacity:.5}.mat-progress-bar .mat-progress-bar-secondary{display:none}.mat-progress-bar .mat-progress-bar-fill{animation:none;transform-origin:top left;transition:transform 250ms ease}.cdk-high-contrast-active .mat-progress-bar .mat-progress-bar-fill{border-top:solid 4px}.mat-progress-bar .mat-progress-bar-fill::after{animation:none;content:"";display:inline-block;left:0}.mat-progress-bar[dir=rtl],[dir=rtl] .mat-progress-bar{transform:rotateY(180deg)}.mat-progress-bar[mode=query]{transform:rotateZ(180deg)}.mat-progress-bar[mode=query][dir=rtl],[dir=rtl] .mat-progress-bar[mode=query]{transform:rotateZ(180deg) rotateY(180deg)}.mat-progress-bar[mode=indeterminate] .mat-progress-bar-fill,.mat-progress-bar[mode=query] .mat-progress-bar-fill{transition:none}.mat-progress-bar[mode=indeterminate] .mat-progress-bar-primary,.mat-progress-bar[mode=query] .mat-progress-bar-primary{-webkit-backface-visibility:hidden;backface-visibility:hidden;animation:mat-progress-bar-primary-indeterminate-translate 2000ms infinite linear;left:-145.166611%}.mat-progress-bar[mode=indeterminate] .mat-progress-bar-primary.mat-progress-bar-fill::after,.mat-progress-bar[mode=query] .mat-progress-bar-primary.mat-progress-bar-fill::after{-webkit-backface-visibility:hidden;backface-visibility:hidden;animation:mat-progress-bar-primary-indeterminate-scale 2000ms infinite linear}.mat-progress-bar[mode=indeterminate] .mat-progress-bar-secondary,.mat-progress-bar[mode=query] .mat-progress-bar-secondary{-webkit-backface-visibility:hidden;backface-visibility:hidden;animation:mat-progress-bar-secondary-indeterminate-translate 2000ms infinite linear;left:-54.888891%;display:block}.mat-progress-bar[mode=indeterminate] .mat-progress-bar-secondary.mat-progress-bar-fill::after,.mat-progress-bar[mode=query] .mat-progress-bar-secondary.mat-progress-bar-fill::after{-webkit-backface-visibility:hidden;backface-visibility:hidden;animation:mat-progress-bar-secondary-indeterminate-scale 2000ms infinite linear}.mat-progress-bar[mode=buffer] .mat-progress-bar-background{-webkit-backface-visibility:hidden;backface-visibility:hidden;animation:mat-progress-bar-background-scroll 250ms infinite linear;display:block}.mat-progress-bar._mat-animation-noopable .mat-progress-bar-fill,.mat-progress-bar._mat-animation-noopable .mat-progress-bar-fill::after,.mat-progress-bar._mat-animation-noopable .mat-progress-bar-buffer,.mat-progress-bar._mat-animation-noopable .mat-progress-bar-primary,.mat-progress-bar._mat-animation-noopable .mat-progress-bar-primary.mat-progress-bar-fill::after,.mat-progress-bar._mat-animation-noopable .mat-progress-bar-secondary,.mat-progress-bar._mat-animation-noopable .mat-progress-bar-secondary.mat-progress-bar-fill::after,.mat-progress-bar._mat-animation-noopable .mat-progress-bar-background{animation:none;transition-duration:1ms}@keyframes mat-progress-bar-primary-indeterminate-translate{0%{transform:translateX(0)}20%{animation-timing-function:cubic-bezier(0.5, 0, 0.701732, 0.495819);transform:translateX(0)}59.15%{animation-timing-function:cubic-bezier(0.302435, 0.381352, 0.55, 0.956352);transform:translateX(83.67142%)}100%{transform:translateX(200.611057%)}}@keyframes mat-progress-bar-primary-indeterminate-scale{0%{transform:scaleX(0.08)}36.65%{animation-timing-function:cubic-bezier(0.334731, 0.12482, 0.785844, 1);transform:scaleX(0.08)}69.15%{animation-timing-function:cubic-bezier(0.06, 0.11, 0.6, 1);transform:scaleX(0.661479)}100%{transform:scaleX(0.08)}}@keyframes mat-progress-bar-secondary-indeterminate-translate{0%{animation-timing-function:cubic-bezier(0.15, 0, 0.515058, 0.409685);transform:translateX(0)}25%{animation-timing-function:cubic-bezier(0.31033, 0.284058, 0.8, 0.733712);transform:translateX(37.651913%)}48.35%{animation-timing-function:cubic-bezier(0.4, 0.627035, 0.6, 0.902026);transform:translateX(84.386165%)}100%{transform:translateX(160.277782%)}}@keyframes mat-progress-bar-secondary-indeterminate-scale{0%{animation-timing-function:cubic-bezier(0.15, 0, 0.515058, 0.409685);transform:scaleX(0.08)}19.15%{animation-timing-function:cubic-bezier(0.31033, 0.284058, 0.8, 0.733712);transform:scaleX(0.457104)}44.15%{animation-timing-function:cubic-bezier(0.4, 0.627035, 0.6, 0.902026);transform:scaleX(0.72796)}100%{transform:scaleX(0.08)}}@keyframes mat-progress-bar-background-scroll{to{transform:translateX(-8px)}}\n'],encapsulation:2,changeDetection:0}),t})();function WD(t,e=0,n=100){return Math.max(e,Math.min(n,t))}let $D=(()=>{class t{}return t.\u0275mod=_e({type:t}),t.\u0275inj=dt({factory:function(e){return new(e||t)},imports:[[rd,JO],JO]}),t})();const GD=["*"],qD=[[["","mat-list-avatar",""],["","mat-list-icon",""],["","matListAvatar",""],["","matListIcon",""]],[["","mat-line",""],["","matLine",""]],"*"],XD=["[mat-list-avatar], [mat-list-icon], [matListAvatar], [matListIcon]","[mat-line], [matLine]","*"],KD=["text"];function YD(t,e){if(1&t&&Ns(0,"mat-pseudo-checkbox",5),2&t){const t=Ys();Rs("state",t.selected?"checked":"unchecked")("disabled",t.disabled)}}const QD=["*",[["","mat-list-avatar",""],["","mat-list-icon",""],["","matListAvatar",""],["","matListIcon",""]]],ZD=["*","[mat-list-avatar], [mat-list-icon], [matListAvatar], [matListIcon]"];class JD{}const tR=tk(nk(JD));class eR{}const nR=nk(eR);let iR=(()=>{class t extends tR{constructor(){super(...arguments),this._stateChanges=new x}ngOnChanges(){this._stateChanges.next()}ngOnDestroy(){this._stateChanges.complete()}}return t.\u0275fac=function(e){return rR(e||t)},t.\u0275cmp=pe({type:t,selectors:[["mat-nav-list"]],hostAttrs:["role","navigation",1,"mat-nav-list","mat-list-base"],inputs:{disableRipple:"disableRipple",disabled:"disabled"},exportAs:["matNavList"],features:[Ia,La],ngContentSelectors:GD,decls:1,vars:0,template:function(t,e){1&t&&(Zs(),Js(0))},styles:['.mat-subheader{display:flex;box-sizing:border-box;padding:16px;align-items:center}.mat-list-base .mat-subheader{margin:0}.mat-list-base{padding-top:8px;display:block;-webkit-tap-highlight-color:transparent}.mat-list-base .mat-subheader{height:48px;line-height:16px}.mat-list-base .mat-subheader:first-child{margin-top:-8px}.mat-list-base .mat-list-item,.mat-list-base .mat-list-option{display:block;height:48px;-webkit-tap-highlight-color:transparent;width:100%;padding:0;position:relative}.mat-list-base .mat-list-item .mat-list-item-content,.mat-list-base .mat-list-option .mat-list-item-content{display:flex;flex-direction:row;align-items:center;box-sizing:border-box;padding:0 16px;position:relative;height:inherit}.mat-list-base .mat-list-item .mat-list-item-content-reverse,.mat-list-base .mat-list-option .mat-list-item-content-reverse{display:flex;align-items:center;padding:0 16px;flex-direction:row-reverse;justify-content:space-around}.mat-list-base .mat-list-item .mat-list-item-ripple,.mat-list-base .mat-list-option .mat-list-item-ripple{top:0;left:0;right:0;bottom:0;position:absolute;pointer-events:none}.mat-list-base .mat-list-item.mat-list-item-with-avatar,.mat-list-base .mat-list-option.mat-list-item-with-avatar{height:56px}.mat-list-base .mat-list-item.mat-2-line,.mat-list-base .mat-list-option.mat-2-line{height:72px}.mat-list-base .mat-list-item.mat-3-line,.mat-list-base .mat-list-option.mat-3-line{height:88px}.mat-list-base .mat-list-item.mat-multi-line,.mat-list-base .mat-list-option.mat-multi-line{height:auto}.mat-list-base .mat-list-item.mat-multi-line .mat-list-item-content,.mat-list-base .mat-list-option.mat-multi-line .mat-list-item-content{padding-top:16px;padding-bottom:16px}.mat-list-base .mat-list-item .mat-list-text,.mat-list-base .mat-list-option .mat-list-text{display:flex;flex-direction:column;width:100%;box-sizing:border-box;overflow:hidden;padding:0}.mat-list-base .mat-list-item .mat-list-text>*,.mat-list-base .mat-list-option .mat-list-text>*{margin:0;padding:0;font-weight:normal;font-size:inherit}.mat-list-base .mat-list-item .mat-list-text:empty,.mat-list-base .mat-list-option .mat-list-text:empty{display:none}.mat-list-base .mat-list-item.mat-list-item-with-avatar .mat-list-item-content .mat-list-text,.mat-list-base .mat-list-item.mat-list-option .mat-list-item-content .mat-list-text,.mat-list-base .mat-list-option.mat-list-item-with-avatar .mat-list-item-content .mat-list-text,.mat-list-base .mat-list-option.mat-list-option .mat-list-item-content .mat-list-text{padding-right:0;padding-left:16px}[dir=rtl] .mat-list-base .mat-list-item.mat-list-item-with-avatar .mat-list-item-content .mat-list-text,[dir=rtl] .mat-list-base .mat-list-item.mat-list-option .mat-list-item-content .mat-list-text,[dir=rtl] .mat-list-base .mat-list-option.mat-list-item-with-avatar .mat-list-item-content .mat-list-text,[dir=rtl] .mat-list-base .mat-list-option.mat-list-option .mat-list-item-content .mat-list-text{padding-right:16px;padding-left:0}.mat-list-base .mat-list-item.mat-list-item-with-avatar .mat-list-item-content-reverse .mat-list-text,.mat-list-base .mat-list-item.mat-list-option .mat-list-item-content-reverse .mat-list-text,.mat-list-base .mat-list-option.mat-list-item-with-avatar .mat-list-item-content-reverse .mat-list-text,.mat-list-base .mat-list-option.mat-list-option .mat-list-item-content-reverse .mat-list-text{padding-left:0;padding-right:16px}[dir=rtl] .mat-list-base .mat-list-item.mat-list-item-with-avatar .mat-list-item-content-reverse .mat-list-text,[dir=rtl] .mat-list-base .mat-list-item.mat-list-option .mat-list-item-content-reverse .mat-list-text,[dir=rtl] .mat-list-base .mat-list-option.mat-list-item-with-avatar .mat-list-item-content-reverse .mat-list-text,[dir=rtl] .mat-list-base .mat-list-option.mat-list-option .mat-list-item-content-reverse .mat-list-text{padding-right:0;padding-left:16px}.mat-list-base .mat-list-item.mat-list-item-with-avatar.mat-list-option .mat-list-item-content-reverse .mat-list-text,.mat-list-base .mat-list-item.mat-list-item-with-avatar.mat-list-option .mat-list-item-content .mat-list-text,.mat-list-base .mat-list-option.mat-list-item-with-avatar.mat-list-option .mat-list-item-content-reverse .mat-list-text,.mat-list-base .mat-list-option.mat-list-item-with-avatar.mat-list-option .mat-list-item-content .mat-list-text{padding-right:16px;padding-left:16px}.mat-list-base .mat-list-item .mat-list-avatar,.mat-list-base .mat-list-option .mat-list-avatar{flex-shrink:0;width:40px;height:40px;border-radius:50%;object-fit:cover}.mat-list-base .mat-list-item .mat-list-avatar~.mat-divider-inset,.mat-list-base .mat-list-option .mat-list-avatar~.mat-divider-inset{margin-left:72px;width:calc(100% - 72px)}[dir=rtl] .mat-list-base .mat-list-item .mat-list-avatar~.mat-divider-inset,[dir=rtl] .mat-list-base .mat-list-option .mat-list-avatar~.mat-divider-inset{margin-left:auto;margin-right:72px}.mat-list-base .mat-list-item .mat-list-icon,.mat-list-base .mat-list-option .mat-list-icon{flex-shrink:0;width:24px;height:24px;font-size:24px;box-sizing:content-box;border-radius:50%;padding:4px}.mat-list-base .mat-list-item .mat-list-icon~.mat-divider-inset,.mat-list-base .mat-list-option .mat-list-icon~.mat-divider-inset{margin-left:64px;width:calc(100% - 64px)}[dir=rtl] .mat-list-base .mat-list-item .mat-list-icon~.mat-divider-inset,[dir=rtl] .mat-list-base .mat-list-option .mat-list-icon~.mat-divider-inset{margin-left:auto;margin-right:64px}.mat-list-base .mat-list-item .mat-divider,.mat-list-base .mat-list-option .mat-divider{position:absolute;bottom:0;left:0;width:100%;margin:0}[dir=rtl] .mat-list-base .mat-list-item .mat-divider,[dir=rtl] .mat-list-base .mat-list-option .mat-divider{margin-left:auto;margin-right:0}.mat-list-base .mat-list-item .mat-divider.mat-divider-inset,.mat-list-base .mat-list-option .mat-divider.mat-divider-inset{position:absolute}.mat-list-base[dense]{padding-top:4px;display:block}.mat-list-base[dense] .mat-subheader{height:40px;line-height:8px}.mat-list-base[dense] .mat-subheader:first-child{margin-top:-4px}.mat-list-base[dense] .mat-list-item,.mat-list-base[dense] .mat-list-option{display:block;height:40px;-webkit-tap-highlight-color:transparent;width:100%;padding:0;position:relative}.mat-list-base[dense] .mat-list-item .mat-list-item-content,.mat-list-base[dense] .mat-list-option .mat-list-item-content{display:flex;flex-direction:row;align-items:center;box-sizing:border-box;padding:0 16px;position:relative;height:inherit}.mat-list-base[dense] .mat-list-item .mat-list-item-content-reverse,.mat-list-base[dense] .mat-list-option .mat-list-item-content-reverse{display:flex;align-items:center;padding:0 16px;flex-direction:row-reverse;justify-content:space-around}.mat-list-base[dense] .mat-list-item .mat-list-item-ripple,.mat-list-base[dense] .mat-list-option .mat-list-item-ripple{top:0;left:0;right:0;bottom:0;position:absolute;pointer-events:none}.mat-list-base[dense] .mat-list-item.mat-list-item-with-avatar,.mat-list-base[dense] .mat-list-option.mat-list-item-with-avatar{height:48px}.mat-list-base[dense] .mat-list-item.mat-2-line,.mat-list-base[dense] .mat-list-option.mat-2-line{height:60px}.mat-list-base[dense] .mat-list-item.mat-3-line,.mat-list-base[dense] .mat-list-option.mat-3-line{height:76px}.mat-list-base[dense] .mat-list-item.mat-multi-line,.mat-list-base[dense] .mat-list-option.mat-multi-line{height:auto}.mat-list-base[dense] .mat-list-item.mat-multi-line .mat-list-item-content,.mat-list-base[dense] .mat-list-option.mat-multi-line .mat-list-item-content{padding-top:16px;padding-bottom:16px}.mat-list-base[dense] .mat-list-item .mat-list-text,.mat-list-base[dense] .mat-list-option .mat-list-text{display:flex;flex-direction:column;width:100%;box-sizing:border-box;overflow:hidden;padding:0}.mat-list-base[dense] .mat-list-item .mat-list-text>*,.mat-list-base[dense] .mat-list-option .mat-list-text>*{margin:0;padding:0;font-weight:normal;font-size:inherit}.mat-list-base[dense] .mat-list-item .mat-list-text:empty,.mat-list-base[dense] .mat-list-option .mat-list-text:empty{display:none}.mat-list-base[dense] .mat-list-item.mat-list-item-with-avatar .mat-list-item-content .mat-list-text,.mat-list-base[dense] .mat-list-item.mat-list-option .mat-list-item-content .mat-list-text,.mat-list-base[dense] .mat-list-option.mat-list-item-with-avatar .mat-list-item-content .mat-list-text,.mat-list-base[dense] .mat-list-option.mat-list-option .mat-list-item-content .mat-list-text{padding-right:0;padding-left:16px}[dir=rtl] .mat-list-base[dense] .mat-list-item.mat-list-item-with-avatar .mat-list-item-content .mat-list-text,[dir=rtl] .mat-list-base[dense] .mat-list-item.mat-list-option .mat-list-item-content .mat-list-text,[dir=rtl] .mat-list-base[dense] .mat-list-option.mat-list-item-with-avatar .mat-list-item-content .mat-list-text,[dir=rtl] .mat-list-base[dense] .mat-list-option.mat-list-option .mat-list-item-content .mat-list-text{padding-right:16px;padding-left:0}.mat-list-base[dense] .mat-list-item.mat-list-item-with-avatar .mat-list-item-content-reverse .mat-list-text,.mat-list-base[dense] .mat-list-item.mat-list-option .mat-list-item-content-reverse .mat-list-text,.mat-list-base[dense] .mat-list-option.mat-list-item-with-avatar .mat-list-item-content-reverse .mat-list-text,.mat-list-base[dense] .mat-list-option.mat-list-option .mat-list-item-content-reverse .mat-list-text{padding-left:0;padding-right:16px}[dir=rtl] .mat-list-base[dense] .mat-list-item.mat-list-item-with-avatar .mat-list-item-content-reverse .mat-list-text,[dir=rtl] .mat-list-base[dense] .mat-list-item.mat-list-option .mat-list-item-content-reverse .mat-list-text,[dir=rtl] .mat-list-base[dense] .mat-list-option.mat-list-item-with-avatar .mat-list-item-content-reverse .mat-list-text,[dir=rtl] .mat-list-base[dense] .mat-list-option.mat-list-option .mat-list-item-content-reverse .mat-list-text{padding-right:0;padding-left:16px}.mat-list-base[dense] .mat-list-item.mat-list-item-with-avatar.mat-list-option .mat-list-item-content-reverse .mat-list-text,.mat-list-base[dense] .mat-list-item.mat-list-item-with-avatar.mat-list-option .mat-list-item-content .mat-list-text,.mat-list-base[dense] .mat-list-option.mat-list-item-with-avatar.mat-list-option .mat-list-item-content-reverse .mat-list-text,.mat-list-base[dense] .mat-list-option.mat-list-item-with-avatar.mat-list-option .mat-list-item-content .mat-list-text{padding-right:16px;padding-left:16px}.mat-list-base[dense] .mat-list-item .mat-list-avatar,.mat-list-base[dense] .mat-list-option .mat-list-avatar{flex-shrink:0;width:36px;height:36px;border-radius:50%;object-fit:cover}.mat-list-base[dense] .mat-list-item .mat-list-avatar~.mat-divider-inset,.mat-list-base[dense] .mat-list-option .mat-list-avatar~.mat-divider-inset{margin-left:68px;width:calc(100% - 68px)}[dir=rtl] .mat-list-base[dense] .mat-list-item .mat-list-avatar~.mat-divider-inset,[dir=rtl] .mat-list-base[dense] .mat-list-option .mat-list-avatar~.mat-divider-inset{margin-left:auto;margin-right:68px}.mat-list-base[dense] .mat-list-item .mat-list-icon,.mat-list-base[dense] .mat-list-option .mat-list-icon{flex-shrink:0;width:20px;height:20px;font-size:20px;box-sizing:content-box;border-radius:50%;padding:4px}.mat-list-base[dense] .mat-list-item .mat-list-icon~.mat-divider-inset,.mat-list-base[dense] .mat-list-option .mat-list-icon~.mat-divider-inset{margin-left:60px;width:calc(100% - 60px)}[dir=rtl] .mat-list-base[dense] .mat-list-item .mat-list-icon~.mat-divider-inset,[dir=rtl] .mat-list-base[dense] .mat-list-option .mat-list-icon~.mat-divider-inset{margin-left:auto;margin-right:60px}.mat-list-base[dense] .mat-list-item .mat-divider,.mat-list-base[dense] .mat-list-option .mat-divider{position:absolute;bottom:0;left:0;width:100%;margin:0}[dir=rtl] .mat-list-base[dense] .mat-list-item .mat-divider,[dir=rtl] .mat-list-base[dense] .mat-list-option .mat-divider{margin-left:auto;margin-right:0}.mat-list-base[dense] .mat-list-item .mat-divider.mat-divider-inset,.mat-list-base[dense] .mat-list-option .mat-divider.mat-divider-inset{position:absolute}.mat-nav-list a{text-decoration:none;color:inherit}.mat-nav-list .mat-list-item{cursor:pointer;outline:none}mat-action-list button{background:none;color:inherit;border:none;font:inherit;outline:inherit;-webkit-tap-highlight-color:transparent;text-align:left}[dir=rtl] mat-action-list button{text-align:right}mat-action-list button::-moz-focus-inner{border:0}mat-action-list .mat-list-item{cursor:pointer;outline:inherit}.mat-list-option:not(.mat-list-item-disabled){cursor:pointer;outline:none}.mat-list-item-disabled{pointer-events:none}.cdk-high-contrast-active .mat-list-item-disabled{opacity:.5}.cdk-high-contrast-active :host .mat-list-item-disabled{opacity:.5}.cdk-high-contrast-active .mat-selection-list:focus{outline-style:dotted}.cdk-high-contrast-active .mat-list-option:hover,.cdk-high-contrast-active .mat-list-option:focus,.cdk-high-contrast-active .mat-nav-list .mat-list-item:hover,.cdk-high-contrast-active .mat-nav-list .mat-list-item:focus,.cdk-high-contrast-active mat-action-list .mat-list-item:hover,.cdk-high-contrast-active mat-action-list .mat-list-item:focus{outline:dotted 1px}.cdk-high-contrast-active .mat-list-single-selected-option::after{content:"";position:absolute;top:50%;right:16px;transform:translateY(-50%);width:10px;height:0;border-bottom:solid 10px;border-radius:10px}.cdk-high-contrast-active [dir=rtl] .mat-list-single-selected-option::after{right:auto;left:16px}@media(hover: none){.mat-list-option:not(.mat-list-item-disabled):hover,.mat-nav-list .mat-list-item:not(.mat-list-item-disabled):hover,.mat-action-list .mat-list-item:not(.mat-list-item-disabled):hover{background:none}}\n'],encapsulation:2,changeDetection:0}),t})();const rR=ui(iR);let oR=(()=>{class t extends tR{constructor(t){super(),this._elementRef=t,this._stateChanges=new x,"action-list"===this._getListType()&&t.nativeElement.classList.add("mat-action-list")}_getListType(){const t=this._elementRef.nativeElement.nodeName.toLowerCase();return"mat-list"===t?"list":"mat-action-list"===t?"action-list":null}ngOnChanges(){this._stateChanges.next()}ngOnDestroy(){this._stateChanges.complete()}}return t.\u0275fac=function(e){return new(e||t)(Ms(Ya))},t.\u0275cmp=pe({type:t,selectors:[["mat-list"],["mat-action-list"]],hostAttrs:[1,"mat-list","mat-list-base"],inputs:{disableRipple:"disableRipple",disabled:"disabled"},exportAs:["matList"],features:[Ia,La],ngContentSelectors:GD,decls:1,vars:0,template:function(t,e){1&t&&(Zs(),Js(0))},styles:['.mat-subheader{display:flex;box-sizing:border-box;padding:16px;align-items:center}.mat-list-base .mat-subheader{margin:0}.mat-list-base{padding-top:8px;display:block;-webkit-tap-highlight-color:transparent}.mat-list-base .mat-subheader{height:48px;line-height:16px}.mat-list-base .mat-subheader:first-child{margin-top:-8px}.mat-list-base .mat-list-item,.mat-list-base .mat-list-option{display:block;height:48px;-webkit-tap-highlight-color:transparent;width:100%;padding:0;position:relative}.mat-list-base .mat-list-item .mat-list-item-content,.mat-list-base .mat-list-option .mat-list-item-content{display:flex;flex-direction:row;align-items:center;box-sizing:border-box;padding:0 16px;position:relative;height:inherit}.mat-list-base .mat-list-item .mat-list-item-content-reverse,.mat-list-base .mat-list-option .mat-list-item-content-reverse{display:flex;align-items:center;padding:0 16px;flex-direction:row-reverse;justify-content:space-around}.mat-list-base .mat-list-item .mat-list-item-ripple,.mat-list-base .mat-list-option .mat-list-item-ripple{top:0;left:0;right:0;bottom:0;position:absolute;pointer-events:none}.mat-list-base .mat-list-item.mat-list-item-with-avatar,.mat-list-base .mat-list-option.mat-list-item-with-avatar{height:56px}.mat-list-base .mat-list-item.mat-2-line,.mat-list-base .mat-list-option.mat-2-line{height:72px}.mat-list-base .mat-list-item.mat-3-line,.mat-list-base .mat-list-option.mat-3-line{height:88px}.mat-list-base .mat-list-item.mat-multi-line,.mat-list-base .mat-list-option.mat-multi-line{height:auto}.mat-list-base .mat-list-item.mat-multi-line .mat-list-item-content,.mat-list-base .mat-list-option.mat-multi-line .mat-list-item-content{padding-top:16px;padding-bottom:16px}.mat-list-base .mat-list-item .mat-list-text,.mat-list-base .mat-list-option .mat-list-text{display:flex;flex-direction:column;width:100%;box-sizing:border-box;overflow:hidden;padding:0}.mat-list-base .mat-list-item .mat-list-text>*,.mat-list-base .mat-list-option .mat-list-text>*{margin:0;padding:0;font-weight:normal;font-size:inherit}.mat-list-base .mat-list-item .mat-list-text:empty,.mat-list-base .mat-list-option .mat-list-text:empty{display:none}.mat-list-base .mat-list-item.mat-list-item-with-avatar .mat-list-item-content .mat-list-text,.mat-list-base .mat-list-item.mat-list-option .mat-list-item-content .mat-list-text,.mat-list-base .mat-list-option.mat-list-item-with-avatar .mat-list-item-content .mat-list-text,.mat-list-base .mat-list-option.mat-list-option .mat-list-item-content .mat-list-text{padding-right:0;padding-left:16px}[dir=rtl] .mat-list-base .mat-list-item.mat-list-item-with-avatar .mat-list-item-content .mat-list-text,[dir=rtl] .mat-list-base .mat-list-item.mat-list-option .mat-list-item-content .mat-list-text,[dir=rtl] .mat-list-base .mat-list-option.mat-list-item-with-avatar .mat-list-item-content .mat-list-text,[dir=rtl] .mat-list-base .mat-list-option.mat-list-option .mat-list-item-content .mat-list-text{padding-right:16px;padding-left:0}.mat-list-base .mat-list-item.mat-list-item-with-avatar .mat-list-item-content-reverse .mat-list-text,.mat-list-base .mat-list-item.mat-list-option .mat-list-item-content-reverse .mat-list-text,.mat-list-base .mat-list-option.mat-list-item-with-avatar .mat-list-item-content-reverse .mat-list-text,.mat-list-base .mat-list-option.mat-list-option .mat-list-item-content-reverse .mat-list-text{padding-left:0;padding-right:16px}[dir=rtl] .mat-list-base .mat-list-item.mat-list-item-with-avatar .mat-list-item-content-reverse .mat-list-text,[dir=rtl] .mat-list-base .mat-list-item.mat-list-option .mat-list-item-content-reverse .mat-list-text,[dir=rtl] .mat-list-base .mat-list-option.mat-list-item-with-avatar .mat-list-item-content-reverse .mat-list-text,[dir=rtl] .mat-list-base .mat-list-option.mat-list-option .mat-list-item-content-reverse .mat-list-text{padding-right:0;padding-left:16px}.mat-list-base .mat-list-item.mat-list-item-with-avatar.mat-list-option .mat-list-item-content-reverse .mat-list-text,.mat-list-base .mat-list-item.mat-list-item-with-avatar.mat-list-option .mat-list-item-content .mat-list-text,.mat-list-base .mat-list-option.mat-list-item-with-avatar.mat-list-option .mat-list-item-content-reverse .mat-list-text,.mat-list-base .mat-list-option.mat-list-item-with-avatar.mat-list-option .mat-list-item-content .mat-list-text{padding-right:16px;padding-left:16px}.mat-list-base .mat-list-item .mat-list-avatar,.mat-list-base .mat-list-option .mat-list-avatar{flex-shrink:0;width:40px;height:40px;border-radius:50%;object-fit:cover}.mat-list-base .mat-list-item .mat-list-avatar~.mat-divider-inset,.mat-list-base .mat-list-option .mat-list-avatar~.mat-divider-inset{margin-left:72px;width:calc(100% - 72px)}[dir=rtl] .mat-list-base .mat-list-item .mat-list-avatar~.mat-divider-inset,[dir=rtl] .mat-list-base .mat-list-option .mat-list-avatar~.mat-divider-inset{margin-left:auto;margin-right:72px}.mat-list-base .mat-list-item .mat-list-icon,.mat-list-base .mat-list-option .mat-list-icon{flex-shrink:0;width:24px;height:24px;font-size:24px;box-sizing:content-box;border-radius:50%;padding:4px}.mat-list-base .mat-list-item .mat-list-icon~.mat-divider-inset,.mat-list-base .mat-list-option .mat-list-icon~.mat-divider-inset{margin-left:64px;width:calc(100% - 64px)}[dir=rtl] .mat-list-base .mat-list-item .mat-list-icon~.mat-divider-inset,[dir=rtl] .mat-list-base .mat-list-option .mat-list-icon~.mat-divider-inset{margin-left:auto;margin-right:64px}.mat-list-base .mat-list-item .mat-divider,.mat-list-base .mat-list-option .mat-divider{position:absolute;bottom:0;left:0;width:100%;margin:0}[dir=rtl] .mat-list-base .mat-list-item .mat-divider,[dir=rtl] .mat-list-base .mat-list-option .mat-divider{margin-left:auto;margin-right:0}.mat-list-base .mat-list-item .mat-divider.mat-divider-inset,.mat-list-base .mat-list-option .mat-divider.mat-divider-inset{position:absolute}.mat-list-base[dense]{padding-top:4px;display:block}.mat-list-base[dense] .mat-subheader{height:40px;line-height:8px}.mat-list-base[dense] .mat-subheader:first-child{margin-top:-4px}.mat-list-base[dense] .mat-list-item,.mat-list-base[dense] .mat-list-option{display:block;height:40px;-webkit-tap-highlight-color:transparent;width:100%;padding:0;position:relative}.mat-list-base[dense] .mat-list-item .mat-list-item-content,.mat-list-base[dense] .mat-list-option .mat-list-item-content{display:flex;flex-direction:row;align-items:center;box-sizing:border-box;padding:0 16px;position:relative;height:inherit}.mat-list-base[dense] .mat-list-item .mat-list-item-content-reverse,.mat-list-base[dense] .mat-list-option .mat-list-item-content-reverse{display:flex;align-items:center;padding:0 16px;flex-direction:row-reverse;justify-content:space-around}.mat-list-base[dense] .mat-list-item .mat-list-item-ripple,.mat-list-base[dense] .mat-list-option .mat-list-item-ripple{top:0;left:0;right:0;bottom:0;position:absolute;pointer-events:none}.mat-list-base[dense] .mat-list-item.mat-list-item-with-avatar,.mat-list-base[dense] .mat-list-option.mat-list-item-with-avatar{height:48px}.mat-list-base[dense] .mat-list-item.mat-2-line,.mat-list-base[dense] .mat-list-option.mat-2-line{height:60px}.mat-list-base[dense] .mat-list-item.mat-3-line,.mat-list-base[dense] .mat-list-option.mat-3-line{height:76px}.mat-list-base[dense] .mat-list-item.mat-multi-line,.mat-list-base[dense] .mat-list-option.mat-multi-line{height:auto}.mat-list-base[dense] .mat-list-item.mat-multi-line .mat-list-item-content,.mat-list-base[dense] .mat-list-option.mat-multi-line .mat-list-item-content{padding-top:16px;padding-bottom:16px}.mat-list-base[dense] .mat-list-item .mat-list-text,.mat-list-base[dense] .mat-list-option .mat-list-text{display:flex;flex-direction:column;width:100%;box-sizing:border-box;overflow:hidden;padding:0}.mat-list-base[dense] .mat-list-item .mat-list-text>*,.mat-list-base[dense] .mat-list-option .mat-list-text>*{margin:0;padding:0;font-weight:normal;font-size:inherit}.mat-list-base[dense] .mat-list-item .mat-list-text:empty,.mat-list-base[dense] .mat-list-option .mat-list-text:empty{display:none}.mat-list-base[dense] .mat-list-item.mat-list-item-with-avatar .mat-list-item-content .mat-list-text,.mat-list-base[dense] .mat-list-item.mat-list-option .mat-list-item-content .mat-list-text,.mat-list-base[dense] .mat-list-option.mat-list-item-with-avatar .mat-list-item-content .mat-list-text,.mat-list-base[dense] .mat-list-option.mat-list-option .mat-list-item-content .mat-list-text{padding-right:0;padding-left:16px}[dir=rtl] .mat-list-base[dense] .mat-list-item.mat-list-item-with-avatar .mat-list-item-content .mat-list-text,[dir=rtl] .mat-list-base[dense] .mat-list-item.mat-list-option .mat-list-item-content .mat-list-text,[dir=rtl] .mat-list-base[dense] .mat-list-option.mat-list-item-with-avatar .mat-list-item-content .mat-list-text,[dir=rtl] .mat-list-base[dense] .mat-list-option.mat-list-option .mat-list-item-content .mat-list-text{padding-right:16px;padding-left:0}.mat-list-base[dense] .mat-list-item.mat-list-item-with-avatar .mat-list-item-content-reverse .mat-list-text,.mat-list-base[dense] .mat-list-item.mat-list-option .mat-list-item-content-reverse .mat-list-text,.mat-list-base[dense] .mat-list-option.mat-list-item-with-avatar .mat-list-item-content-reverse .mat-list-text,.mat-list-base[dense] .mat-list-option.mat-list-option .mat-list-item-content-reverse .mat-list-text{padding-left:0;padding-right:16px}[dir=rtl] .mat-list-base[dense] .mat-list-item.mat-list-item-with-avatar .mat-list-item-content-reverse .mat-list-text,[dir=rtl] .mat-list-base[dense] .mat-list-item.mat-list-option .mat-list-item-content-reverse .mat-list-text,[dir=rtl] .mat-list-base[dense] .mat-list-option.mat-list-item-with-avatar .mat-list-item-content-reverse .mat-list-text,[dir=rtl] .mat-list-base[dense] .mat-list-option.mat-list-option .mat-list-item-content-reverse .mat-list-text{padding-right:0;padding-left:16px}.mat-list-base[dense] .mat-list-item.mat-list-item-with-avatar.mat-list-option .mat-list-item-content-reverse .mat-list-text,.mat-list-base[dense] .mat-list-item.mat-list-item-with-avatar.mat-list-option .mat-list-item-content .mat-list-text,.mat-list-base[dense] .mat-list-option.mat-list-item-with-avatar.mat-list-option .mat-list-item-content-reverse .mat-list-text,.mat-list-base[dense] .mat-list-option.mat-list-item-with-avatar.mat-list-option .mat-list-item-content .mat-list-text{padding-right:16px;padding-left:16px}.mat-list-base[dense] .mat-list-item .mat-list-avatar,.mat-list-base[dense] .mat-list-option .mat-list-avatar{flex-shrink:0;width:36px;height:36px;border-radius:50%;object-fit:cover}.mat-list-base[dense] .mat-list-item .mat-list-avatar~.mat-divider-inset,.mat-list-base[dense] .mat-list-option .mat-list-avatar~.mat-divider-inset{margin-left:68px;width:calc(100% - 68px)}[dir=rtl] .mat-list-base[dense] .mat-list-item .mat-list-avatar~.mat-divider-inset,[dir=rtl] .mat-list-base[dense] .mat-list-option .mat-list-avatar~.mat-divider-inset{margin-left:auto;margin-right:68px}.mat-list-base[dense] .mat-list-item .mat-list-icon,.mat-list-base[dense] .mat-list-option .mat-list-icon{flex-shrink:0;width:20px;height:20px;font-size:20px;box-sizing:content-box;border-radius:50%;padding:4px}.mat-list-base[dense] .mat-list-item .mat-list-icon~.mat-divider-inset,.mat-list-base[dense] .mat-list-option .mat-list-icon~.mat-divider-inset{margin-left:60px;width:calc(100% - 60px)}[dir=rtl] .mat-list-base[dense] .mat-list-item .mat-list-icon~.mat-divider-inset,[dir=rtl] .mat-list-base[dense] .mat-list-option .mat-list-icon~.mat-divider-inset{margin-left:auto;margin-right:60px}.mat-list-base[dense] .mat-list-item .mat-divider,.mat-list-base[dense] .mat-list-option .mat-divider{position:absolute;bottom:0;left:0;width:100%;margin:0}[dir=rtl] .mat-list-base[dense] .mat-list-item .mat-divider,[dir=rtl] .mat-list-base[dense] .mat-list-option .mat-divider{margin-left:auto;margin-right:0}.mat-list-base[dense] .mat-list-item .mat-divider.mat-divider-inset,.mat-list-base[dense] .mat-list-option .mat-divider.mat-divider-inset{position:absolute}.mat-nav-list a{text-decoration:none;color:inherit}.mat-nav-list .mat-list-item{cursor:pointer;outline:none}mat-action-list button{background:none;color:inherit;border:none;font:inherit;outline:inherit;-webkit-tap-highlight-color:transparent;text-align:left}[dir=rtl] mat-action-list button{text-align:right}mat-action-list button::-moz-focus-inner{border:0}mat-action-list .mat-list-item{cursor:pointer;outline:inherit}.mat-list-option:not(.mat-list-item-disabled){cursor:pointer;outline:none}.mat-list-item-disabled{pointer-events:none}.cdk-high-contrast-active .mat-list-item-disabled{opacity:.5}.cdk-high-contrast-active :host .mat-list-item-disabled{opacity:.5}.cdk-high-contrast-active .mat-selection-list:focus{outline-style:dotted}.cdk-high-contrast-active .mat-list-option:hover,.cdk-high-contrast-active .mat-list-option:focus,.cdk-high-contrast-active .mat-nav-list .mat-list-item:hover,.cdk-high-contrast-active .mat-nav-list .mat-list-item:focus,.cdk-high-contrast-active mat-action-list .mat-list-item:hover,.cdk-high-contrast-active mat-action-list .mat-list-item:focus{outline:dotted 1px}.cdk-high-contrast-active .mat-list-single-selected-option::after{content:"";position:absolute;top:50%;right:16px;transform:translateY(-50%);width:10px;height:0;border-bottom:solid 10px;border-radius:10px}.cdk-high-contrast-active [dir=rtl] .mat-list-single-selected-option::after{right:auto;left:16px}@media(hover: none){.mat-list-option:not(.mat-list-item-disabled):hover,.mat-nav-list .mat-list-item:not(.mat-list-item-disabled):hover,.mat-action-list .mat-list-item:not(.mat-list-item-disabled):hover{background:none}}\n'],encapsulation:2,changeDetection:0}),t})(),sR=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275dir=be({type:t,selectors:[["","mat-list-avatar",""],["","matListAvatar",""]],hostAttrs:[1,"mat-list-avatar"]}),t})(),aR=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275dir=be({type:t,selectors:[["","mat-list-icon",""],["","matListIcon",""]],hostAttrs:[1,"mat-list-icon"]}),t})(),lR=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275dir=be({type:t,selectors:[["","mat-subheader",""],["","matSubheader",""]],hostAttrs:[1,"mat-subheader"]}),t})(),cR=(()=>{class t extends nR{constructor(t,e,n,i){super(),this._element=t,this._isInteractiveList=!1,this._destroyed=new x,this._disabled=!1,this._isInteractiveList=!!(n||i&&"action-list"===i._getListType()),this._list=n||i;const r=this._getHostElement();"button"!==r.nodeName.toLowerCase()||r.hasAttribute("type")||r.setAttribute("type","button"),this._list&&this._list._stateChanges.pipe($y(this._destroyed)).subscribe(()=>{e.markForCheck()})}get disabled(){return this._disabled||!(!this._list||!this._list.disabled)}set disabled(t){this._disabled=cy(t)}ngAfterContentInit(){ak(this._lines,this._element)}ngOnDestroy(){this._destroyed.next(),this._destroyed.complete()}_isRippleDisabled(){return!this._isInteractiveList||this.disableRipple||!(!this._list||!this._list.disableRipple)}_getHostElement(){return this._element.nativeElement}}return t.\u0275fac=function(e){return new(e||t)(Ms(Ya),Ms(Xo),Ms(iR,8),Ms(oR,8))},t.\u0275cmp=pe({type:t,selectors:[["mat-list-item"],["a","mat-list-item",""],["button","mat-list-item",""]],contentQueries:function(t,e,n){var i;1&t&&(hc(n,sR,!0),hc(n,aR,!0),hc(n,sk,!0)),2&t&&(ac(i=fc())&&(e._avatar=i.first),ac(i=fc())&&(e._icon=i.first),ac(i=fc())&&(e._lines=i))},hostAttrs:[1,"mat-list-item","mat-focus-indicator"],hostVars:6,hostBindings:function(t,e){2&t&&ua("mat-list-item-disabled",e.disabled)("mat-list-item-avatar",e._avatar||e._icon)("mat-list-item-with-avatar",e._avatar||e._icon)},inputs:{disableRipple:"disableRipple",disabled:"disabled"},exportAs:["matListItem"],features:[Ia],ngContentSelectors:XD,decls:6,vars:2,consts:[[1,"mat-list-item-content"],["mat-ripple","",1,"mat-list-item-ripple",3,"matRippleTrigger","matRippleDisabled"],[1,"mat-list-text"]],template:function(t,e){1&t&&(Zs(qD),Ls(0,"div",0),Ns(1,"div",1),Js(2),Ls(3,"div",2),Js(4,1),Bs(),Js(5,2),Bs()),2&t&&(vr(1),Rs("matRippleTrigger",e._getHostElement())("matRippleDisabled",e._isRippleDisabled()))},directives:[yk],encapsulation:2,changeDetection:0}),t})();class uR{}const hR=nk(uR);class dR{}const pR=nk(dR),fR={provide:ld,useExisting:Et(()=>yR),multi:!0};class mR{constructor(t,e){this.source=t,this.option=e}}let gR=(()=>{class t extends pR{constructor(t,e,n){super(),this._element=t,this._changeDetector=e,this.selectionList=n,this._selected=!1,this._disabled=!1,this._hasFocus=!1,this.checkboxPosition="after",this._inputsInitialized=!1}get color(){return this._color||this.selectionList.color}set color(t){this._color=t}get value(){return this._value}set value(t){this.selected&&t!==this.value&&this._inputsInitialized&&(this.selected=!1),this._value=t}get disabled(){return this._disabled||this.selectionList&&this.selectionList.disabled}set disabled(t){const e=cy(t);e!==this._disabled&&(this._disabled=e,this._changeDetector.markForCheck())}get selected(){return this.selectionList.selectedOptions.isSelected(this)}set selected(t){const e=cy(t);e!==this._selected&&(this._setSelected(e),this.selectionList._reportValueChange())}ngOnInit(){const t=this.selectionList;t._value&&t._value.some(e=>t.compareWith(e,this._value))&&this._setSelected(!0);const e=this._selected;Promise.resolve().then(()=>{(this._selected||e)&&(this.selected=!0,this._changeDetector.markForCheck())}),this._inputsInitialized=!0}ngAfterContentInit(){ak(this._lines,this._element)}ngOnDestroy(){this.selected&&Promise.resolve().then(()=>{this.selected=!1});const t=this._hasFocus,e=this.selectionList._removeOptionFromList(this);t&&e&&e.focus()}toggle(){this.selected=!this.selected}focus(){this._element.nativeElement.focus()}getLabel(){return this._text&&this._text.nativeElement.textContent||""}_isRippleDisabled(){return this.disabled||this.disableRipple||this.selectionList.disableRipple}_handleClick(){this.disabled||!this.selectionList.multiple&&this.selected||(this.toggle(),this.selectionList._emitChangeEvent(this))}_handleFocus(){this.selectionList._setFocusedOption(this),this._hasFocus=!0}_handleBlur(){this.selectionList._onTouched(),this._hasFocus=!1}_getHostElement(){return this._element.nativeElement}_setSelected(t){return t!==this._selected&&(this._selected=t,t?this.selectionList.selectedOptions.select(this):this.selectionList.selectedOptions.deselect(this),this._changeDetector.markForCheck(),!0)}_markForCheck(){this._changeDetector.markForCheck()}}return t.\u0275fac=function(e){return new(e||t)(Ms(Ya),Ms(Xo),Ms(Et(()=>yR)))},t.\u0275cmp=pe({type:t,selectors:[["mat-list-option"]],contentQueries:function(t,e,n){var i;1&t&&(hc(n,sR,!0),hc(n,aR,!0),hc(n,sk,!0)),2&t&&(ac(i=fc())&&(e._avatar=i.first),ac(i=fc())&&(e._icon=i.first),ac(i=fc())&&(e._lines=i))},viewQuery:function(t,e){var n;1&t&&cc(KD,!0),2&t&&ac(n=fc())&&(e._text=n.first)},hostAttrs:["role","option",1,"mat-list-item","mat-list-option","mat-focus-indicator"],hostVars:15,hostBindings:function(t,e){1&t&&$s("focus",(function(){return e._handleFocus()}))("blur",(function(){return e._handleBlur()}))("click",(function(){return e._handleClick()})),2&t&&(ks("aria-selected",e.selected)("aria-disabled",e.disabled)("tabindex",-1),ua("mat-list-item-disabled",e.disabled)("mat-list-item-with-avatar",e._avatar||e._icon)("mat-primary","primary"===e.color)("mat-accent","primary"!==e.color&&"warn"!==e.color)("mat-warn","warn"===e.color)("mat-list-single-selected-option",e.selected&&!e.selectionList.multiple))},inputs:{disableRipple:"disableRipple",checkboxPosition:"checkboxPosition",color:"color",value:"value",selected:"selected",disabled:"disabled"},exportAs:["matListOption"],features:[Ia],ngContentSelectors:ZD,decls:7,vars:5,consts:[[1,"mat-list-item-content"],["mat-ripple","",1,"mat-list-item-ripple",3,"matRippleTrigger","matRippleDisabled"],[3,"state","disabled",4,"ngIf"],[1,"mat-list-text"],["text",""],[3,"state","disabled"]],template:function(t,e){1&t&&(Zs(QD),Ls(0,"div",0),Ns(1,"div",1),Is(2,YD,1,2,"mat-pseudo-checkbox",2),Ls(3,"div",3,4),Js(5),Bs(),Js(6,1),Bs()),2&t&&(ua("mat-list-item-content-reverse","after"==e.checkboxPosition),vr(1),Rs("matRippleTrigger",e._getHostElement())("matRippleDisabled",e._isRippleDisabled()),vr(1),Rs("ngIf",e.selectionList.multiple))},directives:[yk,Eh,vk],encapsulation:2,changeDetection:0}),t})(),yR=(()=>{class t extends hR{constructor(t,e,n){super(),this._element=t,this._changeDetector=n,this._multiple=!0,this._contentInitialized=!1,this.selectionChange=new Yl,this.tabIndex=0,this.color="accent",this.compareWith=(t,e)=>t===e,this._disabled=!1,this.selectedOptions=new A_(this._multiple),this._tabIndex=-1,this._onChange=t=>{},this._destroyed=new x,this._onTouched=()=>{}}get disabled(){return this._disabled}set disabled(t){this._disabled=cy(t),this._markOptionsForCheck()}get multiple(){return this._multiple}set multiple(t){const e=cy(t);if(e!==this._multiple){if(Pi()&&this._contentInitialized)throw new Error("Cannot change `multiple` mode of mat-selection-list after initialization.");this._multiple=e,this.selectedOptions=new A_(this._multiple,this.selectedOptions.selected)}}ngAfterContentInit(){this._contentInitialized=!0,this._keyManager=new dO(this.options).withWrap().withTypeAhead().skipPredicate(()=>!1).withAllowedModifierKeys(["shiftKey"]),this._value&&this._setOptionsFromValues(this._value),this._keyManager.tabOut.pipe($y(this._destroyed)).subscribe(()=>{this._allowFocusEscape()}),this.options.changes.pipe(Ky(null),$y(this._destroyed)).subscribe(()=>{this._updateTabIndex()}),this.selectedOptions.changed.pipe($y(this._destroyed)).subscribe(t=>{if(t.added)for(let e of t.added)e.selected=!0;if(t.removed)for(let e of t.removed)e.selected=!1})}ngOnChanges(t){const e=t.disableRipple,n=t.color;(e&&!e.firstChange||n&&!n.firstChange)&&this._markOptionsForCheck()}ngOnDestroy(){this._destroyed.next(),this._destroyed.complete(),this._isDestroyed=!0}focus(t){this._element.nativeElement.focus(t)}selectAll(){this._setAllOptionsSelected(!0)}deselectAll(){this._setAllOptionsSelected(!1)}_setFocusedOption(t){this._keyManager.updateActiveItem(t)}_removeOptionFromList(t){const e=this._getOptionIndex(t);return e>-1&&this._keyManager.activeItemIndex===e&&(e>0?this._keyManager.updateActiveItem(e-1):0===e&&this.options.length>1&&this._keyManager.updateActiveItem(Math.min(e+1,this.options.length-1))),this._keyManager.activeItem}_keydown(t){const e=t.keyCode,n=this._keyManager,i=n.activeItemIndex,r=YP(t);switch(e){case 32:case 13:r||n.isTyping()||(this._toggleFocusedOption(),t.preventDefault());break;case 36:case 35:r||(36===e?n.setFirstItemActive():n.setLastItemActive(),t.preventDefault());break;default:if(65===e&&this.multiple&&YP(t,"ctrlKey")&&!n.isTyping()){const e=this.options.some(t=>!t.disabled&&!t.selected);this._setAllOptionsSelected(e,!0),t.preventDefault()}else n.onKeydown(t)}this.multiple&&(38===e||40===e)&&t.shiftKey&&n.activeItemIndex!==i&&this._toggleFocusedOption()}_reportValueChange(){if(this.options&&!this._isDestroyed){const t=this._getSelectedOptionValues();this._onChange(t),this._value=t}}_emitChangeEvent(t){this.selectionChange.emit(new mR(this,t))}_onFocus(){const t=this._keyManager.activeItemIndex;t&&-1!==t?this._keyManager.setActiveItem(t):this._keyManager.setFirstItemActive()}writeValue(t){this._value=t,this.options&&this._setOptionsFromValues(t||[])}setDisabledState(t){this.disabled=t}registerOnChange(t){this._onChange=t}registerOnTouched(t){this._onTouched=t}_setOptionsFromValues(t){this.options.forEach(t=>t._setSelected(!1)),t.forEach(t=>{const e=this.options.find(e=>!e.selected&&this.compareWith(e.value,t));e&&e._setSelected(!0)})}_getSelectedOptionValues(){return this.options.filter(t=>t.selected).map(t=>t.value)}_toggleFocusedOption(){let t=this._keyManager.activeItemIndex;if(null!=t&&this._isValidIndex(t)){let e=this.options.toArray()[t];!e||e.disabled||!this._multiple&&e.selected||(e.toggle(),this._emitChangeEvent(e))}}_setAllOptionsSelected(t,e){let n=!1;this.options.forEach(i=>{e&&i.disabled||!i._setSelected(t)||(n=!0)}),n&&this._reportValueChange()}_isValidIndex(t){return t>=0&&t<this.options.length}_getOptionIndex(t){return this.options.toArray().indexOf(t)}_markOptionsForCheck(){this.options&&this.options.forEach(t=>t._markForCheck())}_allowFocusEscape(){this._tabIndex=-1,setTimeout(()=>{this._tabIndex=0,this._changeDetector.markForCheck()})}_updateTabIndex(){this._tabIndex=0===this.options.length?-1:0}}return t.\u0275fac=function(e){return new(e||t)(Ms(Ya),Ds("tabindex"),Ms(Xo))},t.\u0275cmp=pe({type:t,selectors:[["mat-selection-list"]],contentQueries:function(t,e,n){var i;1&t&&hc(n,gR,!0),2&t&&ac(i=fc())&&(e.options=i)},hostAttrs:["role","listbox",1,"mat-selection-list","mat-list-base"],hostVars:3,hostBindings:function(t,e){1&t&&$s("focus",(function(){return e._onFocus()}))("keydown",(function(t){return e._keydown(t)})),2&t&&ks("aria-multiselectable",e.multiple)("aria-disabled",e.disabled.toString())("tabindex",e._tabIndex)},inputs:{disableRipple:"disableRipple",tabIndex:"tabIndex",color:"color",compareWith:"compareWith",disabled:"disabled",multiple:"multiple"},outputs:{selectionChange:"selectionChange"},exportAs:["matSelectionList"],features:[Ga([fR]),Ia,La],ngContentSelectors:GD,decls:1,vars:0,template:function(t,e){1&t&&(Zs(),Js(0))},styles:['.mat-subheader{display:flex;box-sizing:border-box;padding:16px;align-items:center}.mat-list-base .mat-subheader{margin:0}.mat-list-base{padding-top:8px;display:block;-webkit-tap-highlight-color:transparent}.mat-list-base .mat-subheader{height:48px;line-height:16px}.mat-list-base .mat-subheader:first-child{margin-top:-8px}.mat-list-base .mat-list-item,.mat-list-base .mat-list-option{display:block;height:48px;-webkit-tap-highlight-color:transparent;width:100%;padding:0;position:relative}.mat-list-base .mat-list-item .mat-list-item-content,.mat-list-base .mat-list-option .mat-list-item-content{display:flex;flex-direction:row;align-items:center;box-sizing:border-box;padding:0 16px;position:relative;height:inherit}.mat-list-base .mat-list-item .mat-list-item-content-reverse,.mat-list-base .mat-list-option .mat-list-item-content-reverse{display:flex;align-items:center;padding:0 16px;flex-direction:row-reverse;justify-content:space-around}.mat-list-base .mat-list-item .mat-list-item-ripple,.mat-list-base .mat-list-option .mat-list-item-ripple{top:0;left:0;right:0;bottom:0;position:absolute;pointer-events:none}.mat-list-base .mat-list-item.mat-list-item-with-avatar,.mat-list-base .mat-list-option.mat-list-item-with-avatar{height:56px}.mat-list-base .mat-list-item.mat-2-line,.mat-list-base .mat-list-option.mat-2-line{height:72px}.mat-list-base .mat-list-item.mat-3-line,.mat-list-base .mat-list-option.mat-3-line{height:88px}.mat-list-base .mat-list-item.mat-multi-line,.mat-list-base .mat-list-option.mat-multi-line{height:auto}.mat-list-base .mat-list-item.mat-multi-line .mat-list-item-content,.mat-list-base .mat-list-option.mat-multi-line .mat-list-item-content{padding-top:16px;padding-bottom:16px}.mat-list-base .mat-list-item .mat-list-text,.mat-list-base .mat-list-option .mat-list-text{display:flex;flex-direction:column;width:100%;box-sizing:border-box;overflow:hidden;padding:0}.mat-list-base .mat-list-item .mat-list-text>*,.mat-list-base .mat-list-option .mat-list-text>*{margin:0;padding:0;font-weight:normal;font-size:inherit}.mat-list-base .mat-list-item .mat-list-text:empty,.mat-list-base .mat-list-option .mat-list-text:empty{display:none}.mat-list-base .mat-list-item.mat-list-item-with-avatar .mat-list-item-content .mat-list-text,.mat-list-base .mat-list-item.mat-list-option .mat-list-item-content .mat-list-text,.mat-list-base .mat-list-option.mat-list-item-with-avatar .mat-list-item-content .mat-list-text,.mat-list-base .mat-list-option.mat-list-option .mat-list-item-content .mat-list-text{padding-right:0;padding-left:16px}[dir=rtl] .mat-list-base .mat-list-item.mat-list-item-with-avatar .mat-list-item-content .mat-list-text,[dir=rtl] .mat-list-base .mat-list-item.mat-list-option .mat-list-item-content .mat-list-text,[dir=rtl] .mat-list-base .mat-list-option.mat-list-item-with-avatar .mat-list-item-content .mat-list-text,[dir=rtl] .mat-list-base .mat-list-option.mat-list-option .mat-list-item-content .mat-list-text{padding-right:16px;padding-left:0}.mat-list-base .mat-list-item.mat-list-item-with-avatar .mat-list-item-content-reverse .mat-list-text,.mat-list-base .mat-list-item.mat-list-option .mat-list-item-content-reverse .mat-list-text,.mat-list-base .mat-list-option.mat-list-item-with-avatar .mat-list-item-content-reverse .mat-list-text,.mat-list-base .mat-list-option.mat-list-option .mat-list-item-content-reverse .mat-list-text{padding-left:0;padding-right:16px}[dir=rtl] .mat-list-base .mat-list-item.mat-list-item-with-avatar .mat-list-item-content-reverse .mat-list-text,[dir=rtl] .mat-list-base .mat-list-item.mat-list-option .mat-list-item-content-reverse .mat-list-text,[dir=rtl] .mat-list-base .mat-list-option.mat-list-item-with-avatar .mat-list-item-content-reverse .mat-list-text,[dir=rtl] .mat-list-base .mat-list-option.mat-list-option .mat-list-item-content-reverse .mat-list-text{padding-right:0;padding-left:16px}.mat-list-base .mat-list-item.mat-list-item-with-avatar.mat-list-option .mat-list-item-content-reverse .mat-list-text,.mat-list-base .mat-list-item.mat-list-item-with-avatar.mat-list-option .mat-list-item-content .mat-list-text,.mat-list-base .mat-list-option.mat-list-item-with-avatar.mat-list-option .mat-list-item-content-reverse .mat-list-text,.mat-list-base .mat-list-option.mat-list-item-with-avatar.mat-list-option .mat-list-item-content .mat-list-text{padding-right:16px;padding-left:16px}.mat-list-base .mat-list-item .mat-list-avatar,.mat-list-base .mat-list-option .mat-list-avatar{flex-shrink:0;width:40px;height:40px;border-radius:50%;object-fit:cover}.mat-list-base .mat-list-item .mat-list-avatar~.mat-divider-inset,.mat-list-base .mat-list-option .mat-list-avatar~.mat-divider-inset{margin-left:72px;width:calc(100% - 72px)}[dir=rtl] .mat-list-base .mat-list-item .mat-list-avatar~.mat-divider-inset,[dir=rtl] .mat-list-base .mat-list-option .mat-list-avatar~.mat-divider-inset{margin-left:auto;margin-right:72px}.mat-list-base .mat-list-item .mat-list-icon,.mat-list-base .mat-list-option .mat-list-icon{flex-shrink:0;width:24px;height:24px;font-size:24px;box-sizing:content-box;border-radius:50%;padding:4px}.mat-list-base .mat-list-item .mat-list-icon~.mat-divider-inset,.mat-list-base .mat-list-option .mat-list-icon~.mat-divider-inset{margin-left:64px;width:calc(100% - 64px)}[dir=rtl] .mat-list-base .mat-list-item .mat-list-icon~.mat-divider-inset,[dir=rtl] .mat-list-base .mat-list-option .mat-list-icon~.mat-divider-inset{margin-left:auto;margin-right:64px}.mat-list-base .mat-list-item .mat-divider,.mat-list-base .mat-list-option .mat-divider{position:absolute;bottom:0;left:0;width:100%;margin:0}[dir=rtl] .mat-list-base .mat-list-item .mat-divider,[dir=rtl] .mat-list-base .mat-list-option .mat-divider{margin-left:auto;margin-right:0}.mat-list-base .mat-list-item .mat-divider.mat-divider-inset,.mat-list-base .mat-list-option .mat-divider.mat-divider-inset{position:absolute}.mat-list-base[dense]{padding-top:4px;display:block}.mat-list-base[dense] .mat-subheader{height:40px;line-height:8px}.mat-list-base[dense] .mat-subheader:first-child{margin-top:-4px}.mat-list-base[dense] .mat-list-item,.mat-list-base[dense] .mat-list-option{display:block;height:40px;-webkit-tap-highlight-color:transparent;width:100%;padding:0;position:relative}.mat-list-base[dense] .mat-list-item .mat-list-item-content,.mat-list-base[dense] .mat-list-option .mat-list-item-content{display:flex;flex-direction:row;align-items:center;box-sizing:border-box;padding:0 16px;position:relative;height:inherit}.mat-list-base[dense] .mat-list-item .mat-list-item-content-reverse,.mat-list-base[dense] .mat-list-option .mat-list-item-content-reverse{display:flex;align-items:center;padding:0 16px;flex-direction:row-reverse;justify-content:space-around}.mat-list-base[dense] .mat-list-item .mat-list-item-ripple,.mat-list-base[dense] .mat-list-option .mat-list-item-ripple{top:0;left:0;right:0;bottom:0;position:absolute;pointer-events:none}.mat-list-base[dense] .mat-list-item.mat-list-item-with-avatar,.mat-list-base[dense] .mat-list-option.mat-list-item-with-avatar{height:48px}.mat-list-base[dense] .mat-list-item.mat-2-line,.mat-list-base[dense] .mat-list-option.mat-2-line{height:60px}.mat-list-base[dense] .mat-list-item.mat-3-line,.mat-list-base[dense] .mat-list-option.mat-3-line{height:76px}.mat-list-base[dense] .mat-list-item.mat-multi-line,.mat-list-base[dense] .mat-list-option.mat-multi-line{height:auto}.mat-list-base[dense] .mat-list-item.mat-multi-line .mat-list-item-content,.mat-list-base[dense] .mat-list-option.mat-multi-line .mat-list-item-content{padding-top:16px;padding-bottom:16px}.mat-list-base[dense] .mat-list-item .mat-list-text,.mat-list-base[dense] .mat-list-option .mat-list-text{display:flex;flex-direction:column;width:100%;box-sizing:border-box;overflow:hidden;padding:0}.mat-list-base[dense] .mat-list-item .mat-list-text>*,.mat-list-base[dense] .mat-list-option .mat-list-text>*{margin:0;padding:0;font-weight:normal;font-size:inherit}.mat-list-base[dense] .mat-list-item .mat-list-text:empty,.mat-list-base[dense] .mat-list-option .mat-list-text:empty{display:none}.mat-list-base[dense] .mat-list-item.mat-list-item-with-avatar .mat-list-item-content .mat-list-text,.mat-list-base[dense] .mat-list-item.mat-list-option .mat-list-item-content .mat-list-text,.mat-list-base[dense] .mat-list-option.mat-list-item-with-avatar .mat-list-item-content .mat-list-text,.mat-list-base[dense] .mat-list-option.mat-list-option .mat-list-item-content .mat-list-text{padding-right:0;padding-left:16px}[dir=rtl] .mat-list-base[dense] .mat-list-item.mat-list-item-with-avatar .mat-list-item-content .mat-list-text,[dir=rtl] .mat-list-base[dense] .mat-list-item.mat-list-option .mat-list-item-content .mat-list-text,[dir=rtl] .mat-list-base[dense] .mat-list-option.mat-list-item-with-avatar .mat-list-item-content .mat-list-text,[dir=rtl] .mat-list-base[dense] .mat-list-option.mat-list-option .mat-list-item-content .mat-list-text{padding-right:16px;padding-left:0}.mat-list-base[dense] .mat-list-item.mat-list-item-with-avatar .mat-list-item-content-reverse .mat-list-text,.mat-list-base[dense] .mat-list-item.mat-list-option .mat-list-item-content-reverse .mat-list-text,.mat-list-base[dense] .mat-list-option.mat-list-item-with-avatar .mat-list-item-content-reverse .mat-list-text,.mat-list-base[dense] .mat-list-option.mat-list-option .mat-list-item-content-reverse .mat-list-text{padding-left:0;padding-right:16px}[dir=rtl] .mat-list-base[dense] .mat-list-item.mat-list-item-with-avatar .mat-list-item-content-reverse .mat-list-text,[dir=rtl] .mat-list-base[dense] .mat-list-item.mat-list-option .mat-list-item-content-reverse .mat-list-text,[dir=rtl] .mat-list-base[dense] .mat-list-option.mat-list-item-with-avatar .mat-list-item-content-reverse .mat-list-text,[dir=rtl] .mat-list-base[dense] .mat-list-option.mat-list-option .mat-list-item-content-reverse .mat-list-text{padding-right:0;padding-left:16px}.mat-list-base[dense] .mat-list-item.mat-list-item-with-avatar.mat-list-option .mat-list-item-content-reverse .mat-list-text,.mat-list-base[dense] .mat-list-item.mat-list-item-with-avatar.mat-list-option .mat-list-item-content .mat-list-text,.mat-list-base[dense] .mat-list-option.mat-list-item-with-avatar.mat-list-option .mat-list-item-content-reverse .mat-list-text,.mat-list-base[dense] .mat-list-option.mat-list-item-with-avatar.mat-list-option .mat-list-item-content .mat-list-text{padding-right:16px;padding-left:16px}.mat-list-base[dense] .mat-list-item .mat-list-avatar,.mat-list-base[dense] .mat-list-option .mat-list-avatar{flex-shrink:0;width:36px;height:36px;border-radius:50%;object-fit:cover}.mat-list-base[dense] .mat-list-item .mat-list-avatar~.mat-divider-inset,.mat-list-base[dense] .mat-list-option .mat-list-avatar~.mat-divider-inset{margin-left:68px;width:calc(100% - 68px)}[dir=rtl] .mat-list-base[dense] .mat-list-item .mat-list-avatar~.mat-divider-inset,[dir=rtl] .mat-list-base[dense] .mat-list-option .mat-list-avatar~.mat-divider-inset{margin-left:auto;margin-right:68px}.mat-list-base[dense] .mat-list-item .mat-list-icon,.mat-list-base[dense] .mat-list-option .mat-list-icon{flex-shrink:0;width:20px;height:20px;font-size:20px;box-sizing:content-box;border-radius:50%;padding:4px}.mat-list-base[dense] .mat-list-item .mat-list-icon~.mat-divider-inset,.mat-list-base[dense] .mat-list-option .mat-list-icon~.mat-divider-inset{margin-left:60px;width:calc(100% - 60px)}[dir=rtl] .mat-list-base[dense] .mat-list-item .mat-list-icon~.mat-divider-inset,[dir=rtl] .mat-list-base[dense] .mat-list-option .mat-list-icon~.mat-divider-inset{margin-left:auto;margin-right:60px}.mat-list-base[dense] .mat-list-item .mat-divider,.mat-list-base[dense] .mat-list-option .mat-divider{position:absolute;bottom:0;left:0;width:100%;margin:0}[dir=rtl] .mat-list-base[dense] .mat-list-item .mat-divider,[dir=rtl] .mat-list-base[dense] .mat-list-option .mat-divider{margin-left:auto;margin-right:0}.mat-list-base[dense] .mat-list-item .mat-divider.mat-divider-inset,.mat-list-base[dense] .mat-list-option .mat-divider.mat-divider-inset{position:absolute}.mat-nav-list a{text-decoration:none;color:inherit}.mat-nav-list .mat-list-item{cursor:pointer;outline:none}mat-action-list button{background:none;color:inherit;border:none;font:inherit;outline:inherit;-webkit-tap-highlight-color:transparent;text-align:left}[dir=rtl] mat-action-list button{text-align:right}mat-action-list button::-moz-focus-inner{border:0}mat-action-list .mat-list-item{cursor:pointer;outline:inherit}.mat-list-option:not(.mat-list-item-disabled){cursor:pointer;outline:none}.mat-list-item-disabled{pointer-events:none}.cdk-high-contrast-active .mat-list-item-disabled{opacity:.5}.cdk-high-contrast-active :host .mat-list-item-disabled{opacity:.5}.cdk-high-contrast-active .mat-selection-list:focus{outline-style:dotted}.cdk-high-contrast-active .mat-list-option:hover,.cdk-high-contrast-active .mat-list-option:focus,.cdk-high-contrast-active .mat-nav-list .mat-list-item:hover,.cdk-high-contrast-active .mat-nav-list .mat-list-item:focus,.cdk-high-contrast-active mat-action-list .mat-list-item:hover,.cdk-high-contrast-active mat-action-list .mat-list-item:focus{outline:dotted 1px}.cdk-high-contrast-active .mat-list-single-selected-option::after{content:"";position:absolute;top:50%;right:16px;transform:translateY(-50%);width:10px;height:0;border-bottom:solid 10px;border-radius:10px}.cdk-high-contrast-active [dir=rtl] .mat-list-single-selected-option::after{right:auto;left:16px}@media(hover: none){.mat-list-option:not(.mat-list-item-disabled):hover,.mat-nav-list .mat-list-item:not(.mat-list-item-disabled):hover,.mat-action-list .mat-list-item:not(.mat-list-item-disabled):hover{background:none}}\n'],encapsulation:2,changeDetection:0}),t})(),_R=(()=>{class t{}return t.\u0275mod=_e({type:t}),t.\u0275inj=dt({factory:function(e){return new(e||t)},imports:[[ck,_k,JO,bk,rd],ck,JO,bk,QA]}),t})();function vR(t,e,n,i){return new(n||(n=Promise))((function(r,o){function s(t){try{l(i.next(t))}catch(e){o(e)}}function a(t){try{l(i.throw(t))}catch(e){o(e)}}function l(t){var e;t.done?r(t.value):(e=t.value,e instanceof n?e:new n((function(t){t(e)}))).then(s,a)}l((i=i.apply(t,e||[])).next())}))}class bR{}let wR=(()=>{class t extends bR{getTranslation(t){return fy({})}}return t.\u0275fac=function(e){return CR(e||t)},t.\u0275prov=ht({token:t,factory:t.\u0275fac}),t})();const CR=ui(wR);class xR{}let ER=(()=>{class t{handle(t){return t.key}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275prov=ht({token:t,factory:t.\u0275fac}),t})();function SR(t,e){if(t===e)return!0;if(null===t||null===e)return!1;if(t!=t&&e!=e)return!0;let n,i,r,o=typeof t;if(o==typeof e&&"object"==o){if(!Array.isArray(t)){if(Array.isArray(e))return!1;for(i in r=Object.create(null),t){if(!SR(t[i],e[i]))return!1;r[i]=!0}for(i in e)if(!(i in r)&&void 0!==e[i])return!1;return!0}if(!Array.isArray(e))return!1;if((n=t.length)==e.length){for(i=0;i<n;i++)if(!SR(t[i],e[i]))return!1;return!0}}return!1}function PR(t){return null!=t}function OR(t){return t&&"object"==typeof t&&!Array.isArray(t)}class kR{}let TR=(()=>{class t extends kR{constructor(){super(...arguments),this.templateMatcher=/{{\s?([^{}\s]*)\s?}}/g}interpolate(t,e){let n;return n="string"==typeof t?this.interpolateString(t,e):"function"==typeof t?this.interpolateFunction(t,e):t,n}getValue(t,e){let n="string"==typeof e?e.split("."):[e];e="";do{e+=n.shift(),!PR(t)||!PR(t[e])||"object"!=typeof t[e]&&n.length?n.length?e+=".":t=void 0:(t=t[e],e="")}while(n.length);return t}interpolateFunction(t,e){return t(e)}interpolateString(t,e){return e?t.replace(this.templateMatcher,(t,n)=>{let i=this.getValue(e,n);return PR(i)?i:t}):t}}return t.\u0275fac=function(e){return IR(e||t)},t.\u0275prov=ht({token:t,factory:t.\u0275fac}),t})();const IR=ui(TR);class AR{}let MR=(()=>{class t extends AR{compile(t,e){return t}compileTranslations(t,e){return t}}return t.\u0275fac=function(e){return DR(e||t)},t.\u0275prov=ht({token:t,factory:t.\u0275fac}),t})();const DR=ui(MR);class RR{constructor(){this.currentLang=this.defaultLang,this.translations={},this.langs=[],this.onTranslationChange=new Yl,this.onLangChange=new Yl,this.onDefaultLangChange=new Yl}}const FR=new jt("USE_STORE"),LR=new jt("USE_DEFAULT_LANG"),BR=new jt("DEFAULT_LANGUAGE"),NR=new jt("USE_EXTEND");let jR=(()=>{class t{constructor(t,e,n,i,r,o=!0,s=!1,a=!1,l){this.store=t,this.currentLoader=e,this.compiler=n,this.parser=i,this.missingTranslationHandler=r,this.useDefaultLang=o,this.isolate=s,this.extend=a,this.pending=!1,this._onTranslationChange=new Yl,this._onLangChange=new Yl,this._onDefaultLangChange=new Yl,this._langs=[],this._translations={},this._translationRequests={},l&&this.setDefaultLang(l)}get onTranslationChange(){return this.isolate?this._onTranslationChange:this.store.onTranslationChange}get onLangChange(){return this.isolate?this._onLangChange:this.store.onLangChange}get onDefaultLangChange(){return this.isolate?this._onDefaultLangChange:this.store.onDefaultLangChange}get defaultLang(){return this.isolate?this._defaultLang:this.store.defaultLang}set defaultLang(t){this.isolate?this._defaultLang=t:this.store.defaultLang=t}get currentLang(){return this.isolate?this._currentLang:this.store.currentLang}set currentLang(t){this.isolate?this._currentLang=t:this.store.currentLang=t}get langs(){return this.isolate?this._langs:this.store.langs}set langs(t){this.isolate?this._langs=t:this.store.langs=t}get translations(){return this.isolate?this._translations:this.store.translations}set translations(t){this.isolate?this._translations=t:this.store.translations=t}setDefaultLang(t){if(t===this.defaultLang)return;let e=this.retrieveTranslations(t);void 0!==e?(null==this.defaultLang&&(this.defaultLang=t),e.pipe(H_(1)).subscribe(e=>{this.changeDefaultLang(t)})):this.changeDefaultLang(t)}getDefaultLang(){return this.defaultLang}use(t){if(t===this.currentLang)return fy(this.translations[t]);let e=this.retrieveTranslations(t);return void 0!==e?(this.currentLang||(this.currentLang=t),e.pipe(H_(1)).subscribe(e=>{this.changeLang(t)}),e):(this.changeLang(t),fy(this.translations[t]))}retrieveTranslations(t){let e;return(void 0===this.translations[t]||this.extend)&&(this._translationRequests[t]=this._translationRequests[t]||this.getTranslation(t),e=this._translationRequests[t]),e}getTranslation(t){this.pending=!0;const e=this.currentLoader.getTranslation(t).pipe(m_(1),H_(1));return this.loadingTranslations=e.pipe(F(e=>this.compiler.compileTranslations(e,t)),m_(1),H_(1)),this.loadingTranslations.subscribe({next:e=>{this.translations[t]=this.extend&&this.translations[t]?Object.assign(Object.assign({},e),this.translations[t]):e,this.updateLangs(),this.pending=!1},error:t=>{this.pending=!1}}),e}setTranslation(t,e,n=!1){e=this.compiler.compileTranslations(e,t),this.translations[t]=(n||this.extend)&&this.translations[t]?function t(e,n){let i=Object.assign({},e);return OR(e)&&OR(n)&&Object.keys(n).forEach(r=>{OR(n[r])?r in e?i[r]=t(e[r],n[r]):Object.assign(i,{[r]:n[r]}):Object.assign(i,{[r]:n[r]})}),i}(this.translations[t],e):e,this.updateLangs(),this.onTranslationChange.emit({lang:t,translations:this.translations[t]})}getLangs(){return this.langs}addLangs(t){t.forEach(t=>{-1===this.langs.indexOf(t)&&this.langs.push(t)})}updateLangs(){this.addLangs(Object.keys(this.translations))}getParsedResult(t,e,n){let i;if(e instanceof Array){let i={},r=!1;for(let o of e)i[o]=this.getParsedResult(t,o,n),Ay(i[o])&&(r=!0);return r?sd(e.map(t=>Ay(i[t])?i[t]:fy(i[t]))).pipe(F(t=>{let n={};return t.forEach((t,i)=>{n[e[i]]=t}),n})):i}if(t&&(i=this.parser.interpolate(this.parser.getValue(t,e),n)),void 0===i&&null!=this.defaultLang&&this.defaultLang!==this.currentLang&&this.useDefaultLang&&(i=this.parser.interpolate(this.parser.getValue(this.translations[this.defaultLang],e),n)),void 0===i){let t={key:e,translateService:this};void 0!==n&&(t.interpolateParams=n),i=this.missingTranslationHandler.handle(t)}return void 0!==i?i:e}get(t,e){if(!PR(t)||!t.length)throw new Error('Parameter "key" required');if(this.pending)return this.loadingTranslations.pipe(Lv(n=>Ay(n=this.getParsedResult(n,t,e))?n:fy(n)));{let n=this.getParsedResult(this.translations[this.currentLang],t,e);return Ay(n)?n:fy(n)}}getStreamOnTranslationChange(t,e){if(!PR(t)||!t.length)throw new Error('Parameter "key" required');return Xy(oA(()=>this.get(t,e)),this.onTranslationChange.pipe(Zy(n=>{const i=this.getParsedResult(n.translations,t,e);return"function"==typeof i.subscribe?i:fy(i)})))}stream(t,e){if(!PR(t)||!t.length)throw new Error('Parameter "key" required');return Xy(oA(()=>this.get(t,e)),this.onLangChange.pipe(Zy(n=>{const i=this.getParsedResult(n.translations,t,e);return Ay(i)?i:fy(i)})))}instant(t,e){if(!PR(t)||!t.length)throw new Error('Parameter "key" required');let n=this.getParsedResult(this.translations[this.currentLang],t,e);if(Ay(n)){if(t instanceof Array){let e={};return t.forEach((n,i)=>{e[t[i]]=t[i]}),e}return t}return n}set(t,e,n=this.currentLang){this.translations[n][t]=this.compiler.compile(e,n),this.updateLangs(),this.onTranslationChange.emit({lang:n,translations:this.translations[n]})}changeLang(t){this.currentLang=t,this.onLangChange.emit({lang:t,translations:this.translations[t]}),null==this.defaultLang&&this.changeDefaultLang(t)}changeDefaultLang(t){this.defaultLang=t,this.onDefaultLangChange.emit({lang:t,translations:this.translations[t]})}reloadLang(t){return this.resetLang(t),this.getTranslation(t)}resetLang(t){this._translationRequests[t]=void 0,this.translations[t]=void 0}getBrowserLang(){if("undefined"==typeof window||void 0===window.navigator)return;let t=window.navigator.languages?window.navigator.languages[0]:null;return t=t||window.navigator.language||window.navigator.browserLanguage||window.navigator.userLanguage,void 0!==t?(-1!==t.indexOf("-")&&(t=t.split("-")[0]),-1!==t.indexOf("_")&&(t=t.split("_")[0]),t):void 0}getBrowserCultureLang(){if("undefined"==typeof window||void 0===window.navigator)return;let t=window.navigator.languages?window.navigator.languages[0]:null;return t=t||window.navigator.language||window.navigator.browserLanguage||window.navigator.userLanguage,t}}return t.\u0275fac=function(e){return new(e||t)(Kt(RR),Kt(bR),Kt(AR),Kt(kR),Kt(xR),Kt(LR),Kt(FR),Kt(NR),Kt(BR))},t.\u0275prov=ht({token:t,factory:t.\u0275fac}),t})(),zR=(()=>{class t{constructor(t,e,n){this.translateService=t,this.element=e,this._ref=n,this.onTranslationChangeSub||(this.onTranslationChangeSub=this.translateService.onTranslationChange.subscribe(t=>{t.lang===this.translateService.currentLang&&this.checkNodes(!0,t.translations)})),this.onLangChangeSub||(this.onLangChangeSub=this.translateService.onLangChange.subscribe(t=>{this.checkNodes(!0,t.translations)})),this.onDefaultLangChangeSub||(this.onDefaultLangChangeSub=this.translateService.onDefaultLangChange.subscribe(t=>{this.checkNodes(!0)}))}set translate(t){t&&(this.key=t,this.checkNodes())}set translateParams(t){SR(this.currentParams,t)||(this.currentParams=t,this.checkNodes(!0))}ngAfterViewChecked(){this.checkNodes()}checkNodes(t=!1,e){let n=this.element.nativeElement.childNodes;n.length||(this.setContent(this.element.nativeElement,this.key),n=this.element.nativeElement.childNodes);for(let i=0;i<n.length;++i){let r=n[i];if(3===r.nodeType){let n;if(t&&(r.lastKey=null),PR(r.lookupKey))n=r.lookupKey;else if(this.key)n=this.key;else{let t=this.getContent(r),e=t.trim();e.length&&(r.lookupKey=e,t!==r.currentValue?(n=e,r.originalContent=t||r.originalContent):r.originalContent?n=r.originalContent.trim():t!==r.currentValue&&(n=e,r.originalContent=t||r.originalContent))}this.updateValue(n,r,e)}}}updateValue(t,e,n){if(t){if(e.lastKey===t&&this.lastParams===this.currentParams)return;this.lastParams=this.currentParams;let i=n=>{n!==t&&(e.lastKey=t),e.originalContent||(e.originalContent=this.getContent(e)),e.currentValue=PR(n)?n:e.originalContent||t,this.setContent(e,this.key?e.currentValue:e.originalContent.replace(t,e.currentValue)),this._ref.markForCheck()};if(PR(n)){let e=this.translateService.getParsedResult(n,t,this.currentParams);Ay(e)?e.subscribe(i):i(e)}else this.translateService.get(t,this.currentParams).subscribe(i)}}getContent(t){return PR(t.textContent)?t.textContent:t.data}setContent(t,e){PR(t.textContent)?t.textContent=e:t.data=e}ngOnDestroy(){this.onLangChangeSub&&this.onLangChangeSub.unsubscribe(),this.onDefaultLangChangeSub&&this.onDefaultLangChangeSub.unsubscribe(),this.onTranslationChangeSub&&this.onTranslationChangeSub.unsubscribe()}}return t.\u0275fac=function(e){return new(e||t)(Ms(jR),Ms(Ya),Ms(Xo))},t.\u0275dir=be({type:t,selectors:[["","translate",""],["","ngx-translate",""]],inputs:{translate:"translate",translateParams:"translateParams"}}),t})(),HR=(()=>{class t{constructor(t,e){this.translate=t,this._ref=e,this.value=""}updateValue(t,e,n){let i=e=>{this.value=void 0!==e?e:t,this.lastKey=t,this._ref.markForCheck()};if(n){let r=this.translate.getParsedResult(n,t,e);Ay(r.subscribe)?r.subscribe(i):i(r)}this.translate.get(t,e).subscribe(i)}transform(t,...e){if(!t||!t.length)return t;if(SR(t,this.lastKey)&&SR(e,this.lastParams))return this.value;let n;if(PR(e[0])&&e.length)if("string"==typeof e[0]&&e[0].length){let t=e[0].replace(/(\')?([a-zA-Z0-9_]+)(\')?(\s)?:/g,'"$2":').replace(/:(\s)?(\')(.*?)(\')/g,':"$3"');try{n=JSON.parse(t)}catch(i){throw new SyntaxError(`Wrong parameter in TranslatePipe. Expected a valid Object, received: ${e[0]}`)}}else"object"!=typeof e[0]||Array.isArray(e[0])||(n=e[0]);return this.lastKey=t,this.lastParams=e,this.updateValue(t,n),this._dispose(),this.onTranslationChange||(this.onTranslationChange=this.translate.onTranslationChange.subscribe(e=>{this.lastKey&&e.lang===this.translate.currentLang&&(this.lastKey=null,this.updateValue(t,n,e.translations))})),this.onLangChange||(this.onLangChange=this.translate.onLangChange.subscribe(e=>{this.lastKey&&(this.lastKey=null,this.updateValue(t,n,e.translations))})),this.onDefaultLangChange||(this.onDefaultLangChange=this.translate.onDefaultLangChange.subscribe(()=>{this.lastKey&&(this.lastKey=null,this.updateValue(t,n))})),this.value}_dispose(){void 0!==this.onTranslationChange&&(this.onTranslationChange.unsubscribe(),this.onTranslationChange=void 0),void 0!==this.onLangChange&&(this.onLangChange.unsubscribe(),this.onLangChange=void 0),void 0!==this.onDefaultLangChange&&(this.onDefaultLangChange.unsubscribe(),this.onDefaultLangChange=void 0)}ngOnDestroy(){this._dispose()}}return t.\u0275fac=function(e){return new(e||t)(Ms(jR),vc())},t.\u0275pipe=we({name:"translate",type:t,pure:!1}),t.\u0275prov=ht({token:t,factory:t.\u0275fac}),t})(),VR=(()=>{class t{static forRoot(e={}){return{ngModule:t,providers:[e.loader||{provide:bR,useClass:wR},e.compiler||{provide:AR,useClass:MR},e.parser||{provide:kR,useClass:TR},e.missingTranslationHandler||{provide:xR,useClass:ER},RR,{provide:FR,useValue:e.isolate},{provide:LR,useValue:e.useDefaultLang},{provide:NR,useValue:e.extend},{provide:BR,useValue:e.defaultLanguage},jR]}}static forChild(e={}){return{ngModule:t,providers:[e.loader||{provide:bR,useClass:wR},e.compiler||{provide:AR,useClass:MR},e.parser||{provide:kR,useClass:TR},e.missingTranslationHandler||{provide:xR,useClass:ER},{provide:FR,useValue:e.isolate},{provide:LR,useValue:e.useDefaultLang},{provide:NR,useValue:e.extend},{provide:BR,useValue:e.defaultLanguage},jR]}}}return t.\u0275mod=_e({type:t}),t.\u0275inj=dt({factory:function(e){return new(e||t)}}),t})();var UR,WR=n("F/us"),$R=function(){var t=function(e,n){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(e,n)};return function(e,n){function i(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(i.prototype=n.prototype,new i)}}(),GR=function(t){function e(n){var i=t.call(this,n)||this;return i.name="CustomersCanvasException",Object.setPrototypeOf(i,e.prototype),i}return $R(e,t),e.prototype.toString=function(){return this.name+": "+this.message},e.prototype.toJSON=function(){return{name:this.name,innerException:this.innerException,message:this.message}},e}(Error),qR=function(t){function e(n){var i=t.call(this,n)||this;return i.name="NotImplementedException",Object.setPrototypeOf(i,e.prototype),i}return $R(e,t),e}(GR),XR=function(t){function e(n){var i=t.call(this,n)||this;return i.name="ArgumentException",Object.setPrototypeOf(i,e.prototype),i}return $R(e,t),e}(GR),KR=function(t){function e(n){var i=t.call(this,n)||this;return i.name="ArgumentNullException",Object.setPrototypeOf(i,e.prototype),i}return $R(e,t),e}(XR),YR=function(t){function e(n){var i=t.call(this,n)||this;return i.name="OutOfRangeException",Object.setPrototypeOf(i,e.prototype),i}return $R(e,t),e}(GR),QR=function(t){function e(n){var i=t.call(this,n)||this;return i.name="InvalidOperationException",Object.setPrototypeOf(i,e.prototype),i}return $R(e,t),e}(GR),ZR=($R((function t(e){var n=UR.call(this,e)||this;return n.name="UnexpectedDataException",Object.setPrototypeOf(n,t.prototype),n}),UR=GR),function(){function t(t){this._value="00000000-0000-0000-0000-000000000000",null!=t?this.set(t):this.generateNewGuid()}return t.prototype.set=function(t){if(!this.isValid(t))throw new GR(t+"is incorrect uuid!");this._value=t},Object.defineProperty(t.prototype,"value",{get:function(){return this._value},enumerable:!0,configurable:!0}),t.prototype.isValid=function(t){return t=t.toUpperCase(),null!=new RegExp("\\b(?:[A-F0-9]{8})(?:-[A-F0-9]{4}){3}-(?:[A-F0-9]{12})\\b").exec(t)},t.prototype.generateNewGuid=function(){var t=(new Date).getTime(),e="xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,(function(e){var n=(t+16*Math.random())%16|0;return t=Math.floor(t/16),("x"==e?n:7&n|8).toString(16)}));this.set(e)},t.prototype.toString=function(){return this._value},t.prototype.equals=function(t){return t._value===this._value},t}()),JR=n("gUib"),tF={IsIos:function(){return(/iPad|iPhone|iPod/.test(navigator.platform)||"MacIntel"===navigator.platform&&navigator.maxTouchPoints>1)&&!window.MSStream},GetIosVersion:function(){if(null==navigator.appVersion||!tF.IsIos())return[];var t=navigator.appVersion.match(/OS (\d+)_(\d+)_?(\d+)?/);return null==t?[]:t.slice(1).map((function(t){return parseInt(t,10)})).map((function(t){return isNaN(t)?null:t}))},IosMajorVersion:function(){var t=navigator.userAgent,e=t.indexOf("OS ");if(e>-1)return Number(t.substr(e+3,3).replace("_",".").charAt(0))},IsAndroid:function(){return!!navigator.userAgent.toLowerCase().match(/(android)/)},IsTouchDevice:function(){return tF.IsIos()||tF.IsAndroid()||tF.IsTouchIE()},IsNativeAndroidBrowser:function(){var t=navigator.userAgent;return t.indexOf("Mozilla/5.0")>-1&&t.indexOf("Android ")>-1&&t.indexOf("AppleWebKit")>-1&&!(t.indexOf("Chrome")>-1)},IsGoogleChrome:function(){return"object"==typeof window.chrome},IsSafari:function(){return-1!==navigator.userAgent.indexOf("Safari")&&-1===navigator.userAgent.indexOf("Chrome")},IsSafariOrSafariWebView:function(){return tF.IsSafari()||tF.IsIos()},IsFirefox:function(){return-1!==navigator.userAgent.indexOf("Firefox")&&-1===navigator.userAgent.indexOf("Seamonkey")},IsTouchIE:function(){return-1!==navigator.userAgent.indexOf("Trident")&&-1!==navigator.userAgent.indexOf("Touch")},IsIE:function(){return-1!==navigator.userAgent.indexOf("MSIE")||navigator.appVersion.indexOf("Trident/")>0},IsEdge:function(){return-1!=navigator.userAgent.indexOf("Edge")},GetEdgeHtmlVersion:function(){return tF.IsEdge()?navigator.userAgent.match(/Edge\/(\d+).(\d+)/).slice(1).map((function(t){return parseInt(t,10)})).map((function(t){return isNaN(t)?null:t})):[]},get devicePixelRatio(){return null!=window.devicePixelRatio?window.devicePixelRatio:1},get screenDpi(){return 96*tF.devicePixelRatio},IsSmallScreen:function(){return window.innerWidth<=500}},eF=tF,nF=function(t,e){return t===e||t!=t&&e!=e},iF=function(t,e){for(var n=t.length;n--;)if(nF(t[n][0],e))return n;return-1},rF=Array.prototype.splice;function oF(t){var e=-1,n=null==t?0:t.length;for(this.clear();++e<n;){var i=t[e];this.set(i[0],i[1])}}oF.prototype.clear=function(){this.__data__=[],this.size=0},oF.prototype.delete=function(t){var e=this.__data__,n=iF(e,t);return!(n<0||(n==e.length-1?e.pop():rF.call(e,n,1),--this.size,0))},oF.prototype.get=function(t){var e=this.__data__,n=iF(e,t);return n<0?void 0:e[n][1]},oF.prototype.has=function(t){return iF(this.__data__,t)>-1},oF.prototype.set=function(t,e){var n=this.__data__,i=iF(n,t);return i<0?(++this.size,n.push([t,e])):n[i][1]=e,this};var sF,aF=oF,lF=n("msI6"),cF=lF.a.Symbol,uF=Object.prototype,hF=uF.hasOwnProperty,dF=uF.toString,pF=cF?cF.toStringTag:void 0,fF=Object.prototype.toString,mF=cF?cF.toStringTag:void 0,gF=function(t){return null==t?void 0===t?"[object Undefined]":"[object Null]":mF&&mF in Object(t)?function(t){var e=hF.call(t,pF),n=t[pF];try{t[pF]=void 0;var i=!0}catch(o){}var r=dF.call(t);return i&&(e?t[pF]=n:delete t[pF]),r}(t):function(t){return fF.call(t)}(t)},yF=function(t){var e=typeof t;return null!=t&&("object"==e||"function"==e)},_F=function(t){if(!yF(t))return!1;var e=gF(t);return"[object Function]"==e||"[object GeneratorFunction]"==e||"[object AsyncFunction]"==e||"[object Proxy]"==e},vF=lF.a["__core-js_shared__"],bF=(sF=/[^.]+$/.exec(vF&&vF.keys&&vF.keys.IE_PROTO||""))?"Symbol(src)_1."+sF:"",wF=Function.prototype.toString,CF=function(t){if(null!=t){try{return wF.call(t)}catch(e){}try{return t+""}catch(e){}}return""},xF=/^\[object .+?Constructor\]$/,EF=RegExp("^"+Function.prototype.toString.call(Object.prototype.hasOwnProperty).replace(/[\\^$.*+?()[\]{}|]/g,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$"),SF=function(t,e){var n=function(t,e){return null==t?void 0:t[e]}(t,e);return function(t){return!(!yF(t)||(e=t,bF&&bF in e))&&(_F(t)?EF:xF).test(CF(t));var e}(n)?n:void 0},PF=SF(lF.a,"Map"),OF=SF(Object,"create"),kF=Object.prototype.hasOwnProperty,TF=Object.prototype.hasOwnProperty;function IF(t){var e=-1,n=null==t?0:t.length;for(this.clear();++e<n;){var i=t[e];this.set(i[0],i[1])}}IF.prototype.clear=function(){this.__data__=OF?OF(null):{},this.size=0},IF.prototype.delete=function(t){var e=this.has(t)&&delete this.__data__[t];return this.size-=e?1:0,e},IF.prototype.get=function(t){var e=this.__data__;if(OF){var n=e[t];return"__lodash_hash_undefined__"===n?void 0:n}return kF.call(e,t)?e[t]:void 0},IF.prototype.has=function(t){var e=this.__data__;return OF?void 0!==e[t]:TF.call(e,t)},IF.prototype.set=function(t,e){var n=this.__data__;return this.size+=this.has(t)?0:1,n[t]=OF&&void 0===e?"__lodash_hash_undefined__":e,this};var AF=IF,MF=function(t,e){var n,i,r=t.__data__;return("string"==(i=typeof(n=e))||"number"==i||"symbol"==i||"boolean"==i?"__proto__"!==n:null===n)?r["string"==typeof e?"string":"hash"]:r.map};function DF(t){var e=-1,n=null==t?0:t.length;for(this.clear();++e<n;){var i=t[e];this.set(i[0],i[1])}}DF.prototype.clear=function(){this.size=0,this.__data__={hash:new AF,map:new(PF||aF),string:new AF}},DF.prototype.delete=function(t){var e=MF(this,t).delete(t);return this.size-=e?1:0,e},DF.prototype.get=function(t){return MF(this,t).get(t)},DF.prototype.has=function(t){return MF(this,t).has(t)},DF.prototype.set=function(t,e){var n=MF(this,t),i=n.size;return n.set(t,e),this.size+=n.size==i?0:1,this};var RF=DF;function FF(t){var e=this.__data__=new aF(t);this.size=e.size}FF.prototype.clear=function(){this.__data__=new aF,this.size=0},FF.prototype.delete=function(t){var e=this.__data__,n=e.delete(t);return this.size=e.size,n},FF.prototype.get=function(t){return this.__data__.get(t)},FF.prototype.has=function(t){return this.__data__.has(t)},FF.prototype.set=function(t,e){var n=this.__data__;if(n instanceof aF){var i=n.__data__;if(!PF||i.length<199)return i.push([t,e]),this.size=++n.size,this;n=this.__data__=new RF(i)}return n.set(t,e),this.size=n.size,this};var LF=FF,BF=function(){try{var t=SF(Object,"defineProperty");return t({},"",{}),t}catch(e){}}(),NF=function(t,e,n){"__proto__"==e&&BF?BF(t,e,{configurable:!0,enumerable:!0,value:n,writable:!0}):t[e]=n},jF=Object.prototype.hasOwnProperty,zF=function(t,e,n){var i=t[e];jF.call(t,e)&&nF(i,n)&&(void 0!==n||e in t)||NF(t,e,n)},HF=function(t,e,n,i){var r=!n;n||(n={});for(var o=-1,s=e.length;++o<s;){var a=e[o],l=i?i(n[a],t[a],a,n,t):void 0;void 0===l&&(l=t[a]),r?NF(n,a,l):zF(n,a,l)}return n},VF=function(t){return null!=t&&"object"==typeof t},UF=function(t){return VF(t)&&"[object Arguments]"==gF(t)},WF=Object.prototype,$F=WF.hasOwnProperty,GF=WF.propertyIsEnumerable,qF=UF(function(){return arguments}())?UF:function(t){return VF(t)&&$F.call(t,"callee")&&!GF.call(t,"callee")},XF=Array.isArray,KF=n("QiUq"),YF=/^(?:0|[1-9]\d*)$/,QF=function(t,e){var n=typeof t;return!!(e=null==e?9007199254740991:e)&&("number"==n||"symbol"!=n&&YF.test(t))&&t>-1&&t%1==0&&t<e},ZF=function(t){return"number"==typeof t&&t>-1&&t%1==0&&t<=9007199254740991},JF={};JF["[object Float32Array]"]=JF["[object Float64Array]"]=JF["[object Int8Array]"]=JF["[object Int16Array]"]=JF["[object Int32Array]"]=JF["[object Uint8Array]"]=JF["[object Uint8ClampedArray]"]=JF["[object Uint16Array]"]=JF["[object Uint32Array]"]=!0,JF["[object Arguments]"]=JF["[object Array]"]=JF["[object ArrayBuffer]"]=JF["[object Boolean]"]=JF["[object DataView]"]=JF["[object Date]"]=JF["[object Error]"]=JF["[object Function]"]=JF["[object Map]"]=JF["[object Number]"]=JF["[object Object]"]=JF["[object RegExp]"]=JF["[object Set]"]=JF["[object String]"]=JF["[object WeakMap]"]=!1;var tL=function(t){return function(e){return t(e)}},eL=n("XbWe"),nL=eL.a&&eL.a.isTypedArray,iL=nL?tL(nL):function(t){return VF(t)&&ZF(t.length)&&!!JF[gF(t)]},rL=Object.prototype.hasOwnProperty,oL=function(t,e){var n=XF(t),i=!n&&qF(t),r=!n&&!i&&Object(KF.a)(t),o=!n&&!i&&!r&&iL(t),s=n||i||r||o,a=s?function(t,e){for(var n=-1,i=Array(t);++n<t;)i[n]=e(n);return i}(t.length,String):[],l=a.length;for(var c in t)!e&&!rL.call(t,c)||s&&("length"==c||r&&("offset"==c||"parent"==c)||o&&("buffer"==c||"byteLength"==c||"byteOffset"==c)||QF(c,l))||a.push(c);return a},sL=Object.prototype,aL=function(t){var e=t&&t.constructor;return t===("function"==typeof e&&e.prototype||sL)},lL=function(t,e){return function(n){return t(e(n))}},cL=lL(Object.keys,Object),uL=Object.prototype.hasOwnProperty,hL=function(t){return null!=t&&ZF(t.length)&&!_F(t)},dL=function(t){return hL(t)?oL(t):function(t){if(!aL(t))return cL(t);var e=[];for(var n in Object(t))uL.call(t,n)&&"constructor"!=n&&e.push(n);return e}(t)},pL=Object.prototype.hasOwnProperty,fL=function(t){return hL(t)?oL(t,!0):function(t){if(!yF(t))return function(t){var e=[];if(null!=t)for(var n in Object(t))e.push(n);return e}(t);var e=aL(t),n=[];for(var i in t)("constructor"!=i||!e&&pL.call(t,i))&&n.push(i);return n}(t)},mL=n("UiEs"),gL=function(){return[]},yL=Object.prototype.propertyIsEnumerable,_L=Object.getOwnPropertySymbols,vL=_L?function(t){return null==t?[]:(t=Object(t),function(e,n){for(var i=-1,r=null==e?0:e.length,o=0,s=[];++i<r;){var a=e[i];yL.call(t,a)&&(s[o++]=a)}return s}(_L(t)))}:gL,bL=function(t,e){for(var n=-1,i=e.length,r=t.length;++n<i;)t[r+n]=e[n];return t},wL=lL(Object.getPrototypeOf,Object),CL=Object.getOwnPropertySymbols?function(t){for(var e=[];t;)bL(e,vL(t)),t=wL(t);return e}:gL,xL=function(t,e,n){var i=e(t);return XF(t)?i:bL(i,n(t))},EL=function(t){return xL(t,dL,vL)},SL=function(t){return xL(t,fL,CL)},PL=SF(lF.a,"DataView"),OL=SF(lF.a,"Promise"),kL=SF(lF.a,"Set"),TL=SF(lF.a,"WeakMap"),IL=CF(PL),AL=CF(PF),ML=CF(OL),DL=CF(kL),RL=CF(TL),FL=gF;(PL&&"[object DataView]"!=FL(new PL(new ArrayBuffer(1)))||PF&&"[object Map]"!=FL(new PF)||OL&&"[object Promise]"!=FL(OL.resolve())||kL&&"[object Set]"!=FL(new kL)||TL&&"[object WeakMap]"!=FL(new TL))&&(FL=function(t){var e=gF(t),n="[object Object]"==e?t.constructor:void 0,i=n?CF(n):"";if(i)switch(i){case IL:return"[object DataView]";case AL:return"[object Map]";case ML:return"[object Promise]";case DL:return"[object Set]";case RL:return"[object WeakMap]"}return e});var LL=FL,BL=Object.prototype.hasOwnProperty,NL=lF.a.Uint8Array,jL=function(t){var e=new t.constructor(t.byteLength);return new NL(e).set(new NL(t)),e},zL=/\w*$/,HL=cF?cF.prototype:void 0,VL=HL?HL.valueOf:void 0,UL=Object.create,WL=function(){function t(){}return function(e){if(!yF(e))return{};if(UL)return UL(e);t.prototype=e;var n=new t;return t.prototype=void 0,n}}(),$L=eL.a&&eL.a.isMap,GL=$L?tL($L):function(t){return VF(t)&&"[object Map]"==LL(t)},qL=eL.a&&eL.a.isSet,XL=qL?tL(qL):function(t){return VF(t)&&"[object Set]"==LL(t)},KL={};KL["[object Arguments]"]=KL["[object Array]"]=KL["[object ArrayBuffer]"]=KL["[object DataView]"]=KL["[object Boolean]"]=KL["[object Date]"]=KL["[object Float32Array]"]=KL["[object Float64Array]"]=KL["[object Int8Array]"]=KL["[object Int16Array]"]=KL["[object Int32Array]"]=KL["[object Map]"]=KL["[object Number]"]=KL["[object Object]"]=KL["[object RegExp]"]=KL["[object Set]"]=KL["[object String]"]=KL["[object Symbol]"]=KL["[object Uint8Array]"]=KL["[object Uint8ClampedArray]"]=KL["[object Uint16Array]"]=KL["[object Uint32Array]"]=!0,KL["[object Error]"]=KL["[object Function]"]=KL["[object WeakMap]"]=!1;var YL=function t(e,n,i,r,o,s){var a,l=1&n,c=2&n,u=4&n;if(i&&(a=o?i(e,r,o,s):i(e)),void 0!==a)return a;if(!yF(e))return e;var h=XF(e);if(h){if(a=function(t){var e=t.length,n=new t.constructor(e);return e&&"string"==typeof t[0]&&BL.call(t,"index")&&(n.index=t.index,n.input=t.input),n}(e),!l)return function(t,e){var n=-1,i=t.length;for(e||(e=Array(i));++n<i;)e[n]=t[n];return e}(e,a)}else{var d=LL(e),p="[object Function]"==d||"[object GeneratorFunction]"==d;if(Object(KF.a)(e))return Object(mL.a)(e,l);if("[object Object]"==d||"[object Arguments]"==d||p&&!o){if(a=c||p?{}:function(t){return"function"!=typeof t.constructor||aL(t)?{}:WL(wL(t))}(e),!l)return c?function(t,e){return HF(t,CL(t),e)}(e,function(t,e){return t&&HF(e,fL(e),t)}(a,e)):function(t,e){return HF(t,vL(t),e)}(e,function(t,e){return t&&HF(e,dL(e),t)}(a,e))}else{if(!KL[d])return o?e:{};a=function(t,e,n){var i,r,o=t.constructor;switch(e){case"[object ArrayBuffer]":return jL(t);case"[object Boolean]":case"[object Date]":return new o(+t);case"[object DataView]":return function(t,e){var n=e?jL(t.buffer):t.buffer;return new t.constructor(n,t.byteOffset,t.byteLength)}(t,n);case"[object Float32Array]":case"[object Float64Array]":case"[object Int8Array]":case"[object Int16Array]":case"[object Int32Array]":case"[object Uint8Array]":case"[object Uint8ClampedArray]":case"[object Uint16Array]":case"[object Uint32Array]":return function(t,e){var n=e?jL(t.buffer):t.buffer;return new t.constructor(n,t.byteOffset,t.length)}(t,n);case"[object Map]":return new o;case"[object Number]":case"[object String]":return new o(t);case"[object RegExp]":return(r=new(i=t).constructor(i.source,zL.exec(i))).lastIndex=i.lastIndex,r;case"[object Set]":return new o;case"[object Symbol]":return VL?Object(VL.call(t)):{}}}(e,d,l)}}s||(s=new LF);var f=s.get(e);if(f)return f;s.set(e,a),XL(e)?e.forEach((function(r){a.add(t(r,n,i,r,e,s))})):GL(e)&&e.forEach((function(r,o){a.set(o,t(r,n,i,o,e,s))}));var m=h?void 0:(u?c?SL:EL:c?fL:dL)(e);return function(t,e){for(var n=-1,i=null==t?0:t.length;++n<i&&!1!==e(t[n],n););}(m||e,(function(r,o){m&&(r=e[o=r]),zF(a,o,t(r,n,i,o,e,s))})),a},QL=function(){function t(t,e){this.x=0,this.y=0,this.x=t||0,this.y=e||0}return t.prototype.rotate=function(e){return this.rotateAt(e,new t(0,0))},t.prototype.rotateAt=function(e,n){n||(n=new t(0,0));var i=pB(e),r=Math.cos(i)*(this.x-n.x)-Math.sin(i)*(this.y-n.y)+n.x,o=Math.sin(i)*(this.x-n.x)+Math.cos(i)*(this.y-n.y)+n.y;return this.x=r,this.y=o,this},t.prototype.translate=function(t,e){return this.x=this.x+t,this.y=this.y+e,this},t.prototype.scale=function(t,e){return this.x=this.x*t,this.y=this.y*e,this},t.prototype.clone=function(){return new t(this.x,this.y)},t.prototype.equals=function(t,e){return null!=t&&gB(this.x,t.x,e)&&gB(this.y,t.y,e)},t.isEqual=function(t,e,n){return void 0===n&&(n=1e-4),null==t&&null==e||null!=t&&null!=e&&t.equals(e)},t.prototype.distance=function(t){return Math.sqrt((this.x-t.x)*(this.x-t.x)+(this.y-t.y)*(this.y-t.y))},t.prototype.transform=function(e,n){return null==n&&(n=new t),this.translate(-n.x,-n.y),this.scale(e.scaleX,e.scaleY),this.rotate(e.angle),this.translate(e.translateX,e.translateY),this.translate(n.x,n.y),this},t.prototype.toString=function(){return[this.x,this.y].join(",")},t.prototype.toIPoint=function(){return{x:this.x,y:this.y}},t.fromIPoint=function(e){return new t(e.x,e.y)},t.prototype.round=function(){return this.x=Math.round(this.x),this.y=Math.round(this.y),this},t.prototype.isOrigin=function(){return 0===this.x&&0===this.y},t}(),ZL=function(){function t(t,e,n,i,r,o){if(6==arguments.length)this.setTransform(t,e,n,i,r,o);else{if(0!=arguments.length)throw new Error("Arguments error");this.setTransform(1,0,0,1,0,0)}}return t.prototype.setTransform=function(t,e,n,i,r,o){this.m00=t,this.m10=e,this.m01=n,this.m11=i,this.m02=r,this.m12=o},t.prototype.transformPoint=function(t,e){void 0===e&&(e=!1);var n=e?new QL:t,i=t.x,r=t.y;return n.x=i*this.m00+r*this.m01+this.m02,n.y=i*this.m10+r*this.m11+this.m12,n},t.prototype.concatenate=function(t){var e=this.m00,n=this.m01;return this.m00=t.m00*e+t.m10*n,this.m01=t.m01*e+t.m11*n,this.m02+=t.m02*e+t.m12*n,this.m10=t.m00*(e=this.m10)+t.m10*(n=this.m11),this.m11=t.m01*e+t.m11*n,this.m12+=t.m02*e+t.m12*n,this},t.prototype.rotate=function(e){e=pB(e);var n=Math.cos(e),i=Math.sin(e);return this.concatenate(new t(n,i,-i,n,0,0))},t.prototype.rotateAt=function(t,e,n){return this.translate(e,n),this.rotate(t),this.translate(-e,-n),this},t.prototype.scale=function(e,n){return this.concatenate(new t(e,0,0,n,0,0))},t.prototype.scaleRelativeToPoint=function(e,n,i){return this.concatenate(new t(e,0,0,n,i.x*(1-e),i.y*(1-n)))},t.prototype.translate=function(e,n){return this.concatenate(new t(1,0,0,1,e,n))},Object.defineProperty(t.prototype,"angle",{get:function(){return fB(Math.atan(-this.m01/this.m00))},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"scaleX",{get:function(){return Math.sqrt(this.m00*this.m00+this.m10*this.m10)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"scaleY",{get:function(){return Math.sqrt(this.m01*this.m01+this.m11*this.m11)},enumerable:!0,configurable:!0}),t.prototype.clone=function(){return new t(this.m00,this.m10,this.m01,this.m11,this.m02,this.m12)},t.prototype.updateObjectByMatrix=function(t,e,n){if(null==t)throw new XR("object cannot be null");if(!JR.isNumber(t[e])||!JR.isNumber(t[e]))throw new XR("object members by given keys nust be a numbers!");var i=this.transformPoint(new QL(t[e],t[n]));return t[e]=i.x,t[n]=i.y,t},t}(),JL=function(){var t=function(e,n){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(e,n)};return function(e,n){function i(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(i.prototype=n.prototype,new i)}}(),tB=function(t){var e="function"==typeof Symbol&&Symbol.iterator,n=e&&t[e],i=0;if(n)return n.call(t);if(t&&"number"==typeof t.length)return{next:function(){return t&&i>=t.length&&(t=void 0),{value:t&&t[i++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")},eB=function(t,e){var n="function"==typeof Symbol&&t[Symbol.iterator];if(!n)return t;var i,r,o=n.call(t),s=[];try{for(;(void 0===e||e-- >0)&&!(i=o.next()).done;)s.push(i.value)}catch(a){r={error:a}}finally{try{i&&!i.done&&(n=o.return)&&n.call(o)}finally{if(r)throw r.error}}return s},nB=function(){for(var t=[],e=0;e<arguments.length;e++)t=t.concat(eB(arguments[e]));return t},iB=function(){function t(){this._listeners=[]}return t.prototype.add=function(t){this._listeners.includes(t)||this._listeners.push(t)},t.prototype.remove=function(t){this._listeners=this._listeners.filter((function(e){return e!==t}))},t.prototype.listenersCount=function(){return this._listeners.length},t.prototype.notify=function(){for(var t,e,n=[],i=0;i<arguments.length;i++)n[i]=arguments[i];try{for(var r=tB(this._listeners),o=r.next();!o.done;o=r.next()){var s=o.value;s.apply(void 0,nB(n))}}catch(a){t={error:a}}finally{try{o&&!o.done&&(e=r.return)&&e.call(r)}finally{if(t)throw t.error}}},t}(),rB=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return JL(e,t),e.prototype.add=function(e){t.prototype.add.call(this,e)},e.prototype.remove=function(e){t.prototype.remove.call(this,e)},e.prototype.notify=function(e){t.prototype.notify.call(this,e)},e.prototype.fire=function(t){this.notify(t)},e}(iB),oB=function(t){function e(e){var n=t.call(this)||this;return n._sender=e,n}return JL(e,t),e.prototype.add=function(e){t.prototype.add.call(this,e)},e.prototype.remove=function(e){t.prototype.remove.call(this,e)},e.prototype.notify=function(e){t.prototype.notify.call(this,this._sender,e)},e.prototype.fire=function(t){this.notify(t)},e}(iB),sB=function(t){function e(e){void 0===e&&(e=null);var n=t.call(this)||this;return n._sender=e,n}return JL(e,t),e.prototype.add=function(e){t.prototype.add.call(this,e)},e.prototype.remove=function(e){t.prototype.remove.call(this,e)},e.prototype.notify=function(e,n){t.prototype.notify.call(this,e,n)},e}(iB),aB=function(){function t(t,e,n,i){this._propertyChanged=new sB,this._left="number"==typeof t?t:0,this._top="number"==typeof e?e:0,this._width="number"==typeof n?n:2,this._height="number"==typeof i?i:2,this._id=Math.random().toString()}return t.prototype.toJSON=function(){return{left:this.left,top:this.top,width:this.width,height:this.height,id:this._id}},Object.defineProperty(t.prototype,"left",{get:function(){return this._left},set:function(e){gB(e,this._left,t._tolerance)||(this._left=e,this._propertyChanged.notify(this,"left"))},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"top",{get:function(){return this._top},set:function(e){gB(e,this._top,t._tolerance)||(this._top=e,this._propertyChanged.notify(this,"top"))},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"width",{get:function(){return this._width},set:function(e){gB(e,this._width,t._tolerance)||(this._width=e,this._propertyChanged.notify(this,"width"))},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"height",{get:function(){return this._height},set:function(e){gB(e,this._height,t._tolerance)||(this._height=e,this._propertyChanged.notify(this,"height"))},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"id",{get:function(){return this._id},enumerable:!0,configurable:!0}),t.FromLTRB=function(e,n,i,r){return new t(e,n,i-e,r-n)},t.FromObject=function(e){return new t(e.left,e.top,e.width,e.height)},t.intersect=function(e,n){var i=Math.max(e.left,n.left),r=Math.min(e.right,n.right),o=Math.max(e.top,n.top),s=Math.min(e.bottom,n.bottom);return r>=i&&s>=o?new t(i,o,r-i,s-o):t.empty},t.union=function(e,n){var i=Math.min(e.left,n.left),r=Math.max(e.left+e.width,n.left+n.width),o=Math.min(e.top,n.top);return new t(i,o,r-i,Math.max(e.top+e.height,n.top+n.height)-o)},Object.defineProperty(t,"empty",{get:function(){return new t(0,0,-1,-1)},enumerable:!0,configurable:!0}),t.prototype.equals=function(e){return t.isEqual(this,e)},t.isEqual=function(t,e,n){return void 0===n&&(n=1e-4),null==t&&null==e||null!=t&&null!=e&&gB(t.left,e.left,n)&&gB(t.top,e.top,n)&&gB(t.width,e.width,n)&&gB(t.height,e.height,n)},t.prototype.contains=function(t,e,n){if(null==e&&(e=!1),e){"number"!=typeof n&&(n=1e-4);var i=this.left,r=this.top,o=this.left+this.width,s=this.top+this.height;return(t.x>i||gB(t.x,i,n))&&(t.y>r||gB(t.y,r,n))&&(t.x<o||gB(t.x,o,n))&&(t.y<s||gB(t.y,s,n))}return t.x>this.left&&t.y>this.top&&t.x<this.left+this.width&&t.y<this.top+this.height},t.prototype.containsRectangle=function(t){var e=new QL(t.left,t.top),n=new QL(t.right,t.bottom);return this.contains(e,!0)&&this.contains(n,!0)},t.prototype.clone=function(){return new t(this.left,this.top,this.width,this.height)},t.prototype.isEmpty=function(){return this.width<=0||this.height<=0},t.prototype.inflate=function(t){this.left-=t,this.top-=t,this.width+=2*t,this.height+=2*t},t.prototype.intersectsWith=function(t){return t.left<this.right&&this.left<t.right&&t.top<this.bottom&&this.top<t.bottom},t.prototype.updateByMatrix=function(t){if(0!==t.angle)throw new XR("RectangleF cannot be transformed by angle!");var e=new QL(this.left,this.top),n=new QL(this.right,this.bottom),i=t.transformPoint(e),r=t.transformPoint(n);return this.left=i.x,this.top=i.y,this.right=r.x,this.bottom=r.y,this},t.prototype.getShrinked=function(e){return t.FromLTRB(this.left-e.left,this.top-e.top,this.right+e.right,this.bottom+e.bottom)},t.prototype.toString=function(){return[this.left,this.top,this.width,this.height].join(",")},t.fromString=function(e){var n=e.replace(", ",",").split(",");return new t(parseFloat(n[0]),parseFloat(n[1]),parseFloat(n[2]),parseFloat(n[3]))},t.getMatrix=function(t,e){var n=new ZL,i=t.center,r=e.center;return n.scaleRelativeToPoint(e.width/t.width,e.height/t.height,i),n.translate((r.x-i.x)/n.scaleX,(r.y-i.y)/n.scaleY),n},t.getOverallBounds=function(e){return JR.isEmpty(e)?t.empty:e.reduce((function(e,n){return null==e?n.clone():t.union(e,n)}))},Object.defineProperty(t.prototype,"right",{get:function(){return this.left+this.width},set:function(t){this.width=t-this.left},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"bottom",{get:function(){return this.top+this.height},set:function(t){this.height=t-this.top},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"center",{get:function(){return new QL(this.left+this.width/2,this.top+this.height/2)},enumerable:!0,configurable:!0}),t.prototype.addPropertyChanged=function(t){this._propertyChanged.add(t)},t.prototype.removePropertyChanged=function(t){this._propertyChanged.remove(t)},t._tolerance=1e-6,t}(),lB=function(t,e,n){var i=Math.pow(t.x-e.x,2)+Math.pow(t.y-e.y,2),r=Math.pow(t.x-n.x,2)+Math.pow(t.y-n.y,2),o=Math.pow(e.x-n.x,2)+Math.pow(e.y-n.y,2),s=0;o*r!=0&&(s=mB(-1,(-i+o+r)/(2*Math.sqrt(o)*Math.sqrt(r)),1));var a=function(t,e,n){return t.x*e.y+t.y*n.x+e.x*n.y-(n.x*e.y+e.x*t.y+n.y*t.x)}(t,e,n),l=Math.acos(s);return a>0&&(l=-l),fB(l)},cB=function(t){return(t%=360)<0&&(t+=360),t},uB=function(t,e){return t.x*e.x+t.y*e.y},hB=function(t,e,n){var i=new QL(n.x-e.x,n.y-e.y),r=new QL(t.x-e.x,t.y-e.y),o=uB(r,i);if(o<=0)return dB(t,e);var s=uB(i,i);if(s<o)return dB(t,n);var a=o/s,l=new QL(e.x+i.x*a,e.y+i.y*a);return dB(t,l)},dB=function(t,e){return(e.x-t.x)*(e.x-t.x)+(e.y-t.y)*(e.y-t.y)},pB=function(t){return Math.PI*t/180},fB=function(t){return 180*t/Math.PI},mB=function(t,e,n){return Math.max(t,Math.min(n,e))},gB=function(t,e,n){return"number"==typeof t&&"number"==typeof e&&("number"!=typeof n&&(n=1e-4),0!=n?Math.abs(t-e)<=n:t==e)},yB=function(t){var e="function"==typeof Symbol&&Symbol.iterator,n=e&&t[e],i=0;if(n)return n.call(t);if(t&&"number"==typeof t.length)return{next:function(){return t&&i>=t.length&&(t=void 0),{value:t&&t[i++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")},_B=function(){function t(t,e){this._name="",this._points=[],this._name=t?t.toUpperCase():"",this._points=e||[]}return Object.defineProperty(t.prototype,"name",{get:function(){return this._name},enumerable:!0,configurable:!0}),t.prototype.getPoint=function(t){return this._points[t]},Object.defineProperty(t.prototype,"length",{get:function(){return this._points.length},enumerable:!0,configurable:!0}),t.prototype.transform=function(t,e){for(var n=0;n<this.length;n++)this.getPoint(n).transform(t,e)},t.prototype.rotateAt=function(t,e){for(var n=0;n<this.length;n++)this.getPoint(n).rotateAt(t,e)},t.prototype.translate=function(t,e){for(var n=0;n<this.length;n++)this.getPoint(n).translate(t,e)},t.prototype.draw=function(t){switch(this.name){case"Z":t.closePath();break;case"M":t.moveTo(this.getPoint(0).x,this.getPoint(0).y);break;case"L":t.lineTo(this.getPoint(0).x,this.getPoint(0).y);break;case"Q":t.quadraticCurveTo(this.getPoint(0).x,this.getPoint(0).y,this.getPoint(1).x,this.getPoint(1).y);break;case"C":t.bezierCurveTo(this.getPoint(0).x,this.getPoint(0).y,this.getPoint(1).x,this.getPoint(1).y,this.getPoint(2).x,this.getPoint(2).y)}},t.prototype.toString=function(){for(var t=this.name,e=0;e<this.length;e++)t+=" "+this.getPoint(e).x+" "+this.getPoint(e).y;return t},t.prototype.clone=function(){return new t(this.name,this._points.map((function(t){return t.clone()})))},t}(),vB=function(){function t(){this._path=new bB}return t.prototype.moveTo=function(t,e){this._path.moveTo(t,e)},t.prototype.lineTo=function(t,e){this._path.lineTo(t,e)},t.prototype.quadraticCurveTo=function(t,e,n,i){this._path.quadraticTo(t,e,n,i)},t.prototype.bezierCurveTo=function(t,e,n,i,r,o){this._path.cubicTo(t,e,n,i,r,o)},t.prototype.closePath=function(){this._path.close()},Object.defineProperty(t.prototype,"path",{get:function(){return this._path},enumerable:!0,configurable:!0}),t}(),bB=function(){function t(t){this._pathChangedEvent=new rB,this._segments=[],null!=t&&this._fromString(t)}return Object.defineProperty(t.prototype,"length",{get:function(){return this._segments.length},enumerable:!0,configurable:!0}),t.prototype.addPathChanged=function(t){this._pathChangedEvent.add(t)},t.prototype.removePathChanged=function(t){this._pathChangedEvent.remove(t)},t.prototype.moveTo=function(t,e){this._segments.push(new _B("M",[new QL(t,e)])),this._onPathChanged()},t.prototype.lineTo=function(t,e){this._segments.push(new _B("L",[new QL(t,e)])),this._onPathChanged()},t.prototype.quadraticTo=function(t,e,n,i){this._segments.push(new _B("Q",[new QL(t,e),new QL(n,i)])),this._onPathChanged()},t.prototype.cubicTo=function(t,e,n,i,r,o){this._segments.push(new _B("C",[new QL(t,e),new QL(n,i),new QL(r,o)])),this._onPathChanged()},t.prototype.close=function(){this._segments.push(new _B("Z")),this._onPathChanged()},t.prototype._onPathChanged=function(){this._pathChangedEvent.notify()},t.prototype.transform=function(t,e){for(var n=0;n<this.length;n++)this._segments[n].transform(t,e)},t.prototype.rotateAt=function(t,e){for(var n=0;n<this.length;n++)this._segments[n].rotateAt(t,e)},t.prototype.translate=function(t,e){for(var n=0;n<this.length;n++)this._segments[n].translate(t,e)},t.prototype.draw=function(t){if(t){t.beginPath();for(var e=0;e<this.length;e++)this._segments[e].draw(t)}},t.prototype.toString=function(){for(var t="",e=0;e<this.length;e++)t+=this._segments[e].toString(),e<this._segments.length-1&&(t+=" ");return t},t.prototype.clone=function(){return new t(this.toString())},t.prototype.equals=function(t){return this.isEqual(t)},t.prototype.isEqual=function(t){return null!=t&&this.toString()===t.toString()},t.prototype.addPath=function(t){var e,n;try{for(var i=yB(t._segments),r=i.next();!r.done;r=i.next())this._segments.push(r.value.clone())}catch(o){e={error:o}}finally{try{r&&!r.done&&(n=i.return)&&n.call(i)}finally{if(e)throw e.error}}},t.prototype.toTextWhizzPath=function(t){var e,n,i=new t.Path;try{for(var r=yB(this._segments),o=r.next();!o.done;o=r.next()){var s=o.value;switch(s.name){case"Z":i.close();break;case"M":i.moveTo(s.getPoint(0).x,s.getPoint(0).y);break;case"L":i.lineTo(s.getPoint(0).x,s.getPoint(0).y);break;case"Q":i.curveTo3(s.getPoint(0).x,s.getPoint(0).y,s.getPoint(1).x,s.getPoint(1).y);break;case"C":i.curveTo4(s.getPoint(0).x,s.getPoint(0).y,s.getPoint(1).x,s.getPoint(1).y,s.getPoint(2).x,s.getPoint(2).y)}}}catch(a){e={error:a}}finally{try{o&&!o.done&&(n=r.return)&&n.call(r)}finally{if(e)throw e.error}}return i},t.fromTextWhizzPath=function(t){var e=new vB;return t.parse(e),e.path},t.prototype._fromString=function(t){for(var e=t.split(" "),n=0;n<e.length;){for(var i=e[n],r=n+1,o=[];r<e.length;){var s=parseFloat(e[r]);if(isNaN(s)||!isFinite(s))break;o.push(s),r++}for(var a=0,l=[];a<o.length;)l.push(new QL(o[a],o[a+1])),a+=2;var c=new _B(i,l);this._segments.push(c),n=r}},t.rectangle=function(e,n,i,r){var o=new t;return o.moveTo(e,n),o.lineTo(e+i,n),o.lineTo(e+i,n+r),o.lineTo(e,n+r),o.lineTo(e,n),o.close(),o},t.ellipse=function(e,n,i,r){var o=i/2,s=r/2,a=new t;return a.moveTo(e,n+s),a.cubicTo(e,n+s-.5517*s,e+o-.5517*o,n,e+o,n),a.cubicTo(e+o+.5517*o,n,e+i,n+s-.5517*s,e+i,n+s),a.cubicTo(e+i,n+s+.5517*s,e+o+.5517*o,n+r,e+o,n+r),a.cubicTo(e+o-.5517*o,n+r,e,n+s+.5517*s,e,n+s),a.close(),a},t.roundedRectangle=function(e,n,i,r,o){if(null==o)return t.rectangle(e,n,i,r);var s=new t,a=e,l=n,c=o[0].width,u=o[0].height,h=o[1].width,d=o[1].height,p=o[2].width,f=o[2].height,m=o[3].width,g=o[3].height;return(gB(c,0)||gB(u,0))&&(c=u=0),(gB(h,0)||gB(d,0))&&(h=d=0),(gB(p,0)||gB(f,0))&&(p=f=0),(gB(m,0)||gB(g,0))&&(m=g=0),s.moveTo(a+c,l),gB(c+h,i)||s.lineTo(a+i-h,l),gB(h,0)||gB(d,0)||s.cubicTo(a+i-h*(1-.5517),l,a+i,l+d*(1-.5517),a+i,l+d),gB(d+f,r)||s.lineTo(a+i,l+r-f),gB(p,0)||gB(f,0)||s.cubicTo(a+i,l+r-f*(1-.5517),a+i-p*(1-.5517),l+r,a+i-p,l+r),gB(p+m,i)||s.lineTo(a+m,l+r),gB(m,0)||gB(g,0)||s.cubicTo(a+m*(1-.5517),l+r,a,l+r-g*(1-.5517),a,l+r-g),gB(g+u,r)||s.lineTo(a,l+u),gB(c,0)||gB(u,0)||s.cubicTo(a,l+u*(1-.5517),a+c*(1-.5517),l,a+c,l),s.close(),s},t.rotatedRectangle=function(e){var n=e.getUpperLeftCorner(),i=e.getUpperRightCorner(),r=e.getBottomRightCorner(),o=e.getBottomLeftCorner(),s=new t;return s.moveTo(n.x,n.y),s.lineTo(i.x,i.y),s.lineTo(r.x,r.y),s.lineTo(o.x,o.y),s.lineTo(n.x,n.y),s.close(),s},t}(),wB=function(){function t(t,e,n,i,r){this._angle=0,this._scaleX=0,this._scaleY=0,this._translateX=0,this._translateY=0,this._transformChangedEvent=new rB,this._angle=r||0,this._scaleX=t||0===t?t:1,this._scaleY=e||0===t?e:1,this._translateX=n||0,this._translateY=i||0}return t.prototype.addTransformChanged=function(t){this._transformChangedEvent.add(t)},t.prototype.removeTransformChanged=function(t){this._transformChangedEvent.remove(t)},t.prototype._setProperty=function(t,e,n){void 0===n&&(n=!1);var i="_"+t;this[i]!==e&&(this[i]=e,n||this._transformChangedEvent.notify())},Object.defineProperty(t.prototype,"angle",{get:function(){return this._angle},enumerable:!0,configurable:!0}),t.prototype.setAngle=function(t,e){this._setProperty("angle",t,e)},Object.defineProperty(t.prototype,"scaleX",{get:function(){return this._scaleX},enumerable:!0,configurable:!0}),t.prototype.setScaleX=function(t,e){this._setProperty("scaleX",t,e)},Object.defineProperty(t.prototype,"scaleY",{get:function(){return this._scaleY},enumerable:!0,configurable:!0}),t.prototype.setScaleY=function(t,e){this._setProperty("scaleY",t,e)},Object.defineProperty(t.prototype,"translateX",{get:function(){return this._translateX},enumerable:!0,configurable:!0}),t.prototype.setTranslateX=function(t,e){this._setProperty("translateX",t,e)},Object.defineProperty(t.prototype,"translateY",{get:function(){return this._translateY},enumerable:!0,configurable:!0}),t.prototype.setTranslateY=function(t,e){this._setProperty("translateY",t,e)},t.prototype.move=function(t,e){var n=this.clone();null!=t&&this.setTranslateX(this._translateX+t,!0),null!=e&&this.setTranslateY(this._translateY+e,!0),n.equals(this)||this._transformChangedEvent.notify()},t.prototype.rotate=function(t){null==t||gB(t,0)||(this._angle+=t,this._transformChangedEvent.notify())},t.prototype.clone=function(){return new t(this._scaleX,this._scaleY,this._translateX,this._translateY,this._angle)},t.prototype.equals=function(t,e){return null!=t&&gB(this._scaleX,t._scaleX,e)&&gB(this._scaleY,t._scaleY,e)&&gB(this._translateX,t._translateX,e)&&gB(this._translateY,t._translateY,e)&&gB(this._angle,t._angle,e)},t.isEqual=function(t,e,n){return void 0===n&&(n=1e-4),null==t&&null==e||null!=t&&null!=e&&t.equals(e,n)},t.prototype.toMatrix=function(){var t=this._angle,e=Math.sin(pB(t)),n=Math.cos(pB(t));return new ZL(n*this._scaleX,e*this._scaleX,-e*this._scaleY,n*this._scaleY,this._translateX,this._translateY)},t.prototype.clear=function(t){var e=void 0===t?{}:t,n=e.keepAngle,i=void 0!==n&&n,r=e.supressOnChanged,o=void 0!==r&&r;this._scaleX=1,this._scaleY=1,this._translateX=0,this._translateY=0,i||(this._angle=0),o||this._transformChangedEvent.notify()},Object.defineProperty(t.prototype,"isEmpty",{get:function(){return gB(this._scaleX,1)&&gB(this._scaleY,1)&&gB(this._translateX,0)&&gB(this._translateY,0)&&gB(this._angle,0)},enumerable:!0,configurable:!0}),t}(),CB=function(){function t(t,e,n,i,r){this.centerX=t||0,this.centerY=e||0,this.width=n||0===n?n:2,this.height=i||0===i?i:2,this.angle=r||0}return t.prototype.getSimplifiedObject=function(){return{centerX:this.centerX,centerY:this.centerY,width:this.width,height:this.height,angle:this.angle}},t.prototype.clone=function(){return new t(this.centerX,this.centerY,this.width,this.height,this.angle)},Object.defineProperty(t.prototype,"bounds",{get:function(){for(var t=new QL(this.centerX,this.centerY),e=this.width,n=this.height,i=[new QL(-e/2,-n/2),new QL(-e/2,n/2),new QL(e/2,-n/2),new QL(e/2,n/2)],r=0,o=0,s=0,a=0,l=0;l<4;l++)i[l].rotate(this.angle),(i[l].x<r||0===l)&&(r=i[l].x),(i[l].y<o||0===l)&&(o=i[l].y),(i[l].x>s||0===l)&&(s=i[l].x),(i[l].y>a||0===l)&&(a=i[l].y);return new aB(r+t.x,o+t.y,s-r,a-o)},enumerable:!0,configurable:!0}),t.prototype.equals=function(t,e){return null!=t&&gB(this.centerX,t.centerX,e)&&gB(this.centerY,t.centerY,e)&&gB(this.width,t.width,e)&&gB(this.height,t.height,e)&&gB(this.angle,t.angle,e)},t.prototype.getUpperLeftCorner=function(){var t=new QL(-this.width/2,-this.height/2);return(t=t.rotate(this.angle)).translate(this.centerX,this.centerY)},t.prototype.getUpperCenterPoint=function(){var t=new QL(0,-this.height/2);return(t=t.rotate(this.angle)).translate(this.centerX,this.centerY)},t.prototype.getLeftCenterPoint=function(){var t=new QL(-this.width/2,0);return(t=t.rotate(this.angle)).translate(this.centerX,this.centerY)},t.prototype.getUpperRightCorner=function(){var t=new QL(this.width/2,-this.height/2);return(t=t.rotate(this.angle)).translate(this.centerX,this.centerY)},t.prototype.getBottomRightCorner=function(){var t=new QL(this.width/2,this.height/2);return(t=t.rotate(this.angle)).translate(this.centerX,this.centerY)},t.prototype.getBottomLeftCorner=function(){var t=new QL(-this.width/2,this.height/2);return(t=t.rotate(this.angle)).translate(this.centerX,this.centerY)},t.prototype._checkProjectionIntersection=function(t,e){var n=this._getProjections(t),i=this._getProjections(e);return n.left<=i.right&&n.right>=i.left&&n.top<=i.bottom&&n.bottom>=i.top},t.prototype._getProjections=function(t){var e,n,i,r;e=n=t[0].x,i=r=t[0].y;for(var o=1;o<t.length;o++)e=Math.min(e,t[o].x),n=Math.max(n,t[o].x),i=Math.min(i,t[o].y),r=Math.max(r,t[o].y);return{left:e,right:n,top:i,bottom:r}},t.prototype.intersectsWith=function(t){var e=this.clone(),n=t.clone();if(!gB(this.angle,0)){var i=e.angle;e.angle=0,(r=n.center).rotateAt(-i,e.center),n.center=r,n.angle-=i}var r,o=[e.getUpperLeftCorner(),e.getUpperRightCorner(),e.getBottomRightCorner(),e.getBottomLeftCorner()],s=[n.getUpperLeftCorner(),n.getUpperRightCorner(),n.getBottomRightCorner(),n.getBottomLeftCorner()],a=this._checkProjectionIntersection(o,s),l=!0;return a&&!gB(this.angle,t.angle)&&(e=this.clone(),i=(n=t.clone()).angle,n.angle=0,(r=e.center).rotateAt(-i,n.center),e.center=r,e.angle-=i,o=[e.getUpperLeftCorner(),e.getUpperRightCorner(),e.getBottomRightCorner(),e.getBottomLeftCorner()],s=[n.getUpperLeftCorner(),n.getUpperRightCorner(),n.getBottomRightCorner(),n.getBottomLeftCorner()],l=this._checkProjectionIntersection(o,s)),a&&l},Object.defineProperty(t.prototype,"location",{get:function(){return this.getUpperLeftCorner()},set:function(t){var e=this.getUpperLeftCorner();this.centerX=this.centerX+(t.x-e.x),this.centerY=this.centerY+(t.y-e.y)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"center",{get:function(){return new QL(this.centerX,this.centerY)},set:function(t){this.centerX=t.x,this.centerY=t.y},enumerable:!0,configurable:!0}),t.prototype.rotateAt=function(t,e){var n=this.center;return n.rotateAt(t,e),this.center=n,this.angle+=t,this},t.prototype.translate=function(t,e){this.centerX+=t,this.centerY+=e},t.prototype.setTransform=function(t){null==t||t.equals(new wB)||(this.width*=t.scaleX,this.height*=t.scaleY,this.angle+=t.angle,this.centerX+=t.translateX,this.centerY+=t.translateY)},t.prototype.getTransform=function(t){if(null==t||this.equals(t))return new wB;var e=t.center;return new wB(0===t.width?0:this.width/t.width,0===t.height?0:this.height/t.height,this.centerX-e.x,this.centerY-e.y,this.angle-t.angle)},t.prototype.transform=function(t,e){this.rotateAt(t.angle,e),t.setAngle(0),this.setTransform(t)},t.prototype.toString=function(){return[this.centerX,this.centerY,this.width,this.height,this.angle].join(",")},t.prototype.toRectangleF=function(){return new aB(this.centerX-this.width/2,this.centerY-this.height/2,this.width,this.height)},t.prototype.contains=function(t){var e=this.clone();e.angle=0;var n=t.clone();return n.rotateAt(-this.angle,this.center),e.bounds.contains(n)},t.prototype.getCornerByIndex=function(t){switch(t){case 0:return this.getUpperLeftCorner();case 1:return this.getUpperRightCorner();case 2:return this.getBottomRightCorner();case 3:return this.getBottomLeftCorner();default:return null}},t.prototype.transformByMatrix=function(t){var e=this.clone();return e.center=t.transformPoint(e.center),e.width*=t.scaleX,e.height*=t.scaleY,e.angle+=t.angle,e},t.union=function(e,n){var i=e.clone(),r=n.clone(),o=i.angle,s=i.center;i.angle=0,r.rotateAt(-o,s);var a=aB.union(i.bounds,r.bounds),l=new QL(a.left+a.width/2,a.top+a.height/2),c=new t;c.center=l;var u=-1===Math.sign(e.width)||-1===Math.sign(e.width)?-1:1,h=-1===Math.sign(e.height)||-1===Math.sign(n.height)?-1:1;return c.width=a.width*u,c.height=a.height*h,c.rotateAt(o,s),c},t.fromRectangleF=function(e,n){return new t(e.left+e.width/2,e.top+e.height/2,e.width,e.height,"number"==typeof n?n:0)},t.FromLTRB=function(e,n,i,r){return t.fromRectangleF(aB.FromLTRB(e,n,i,r))},t.getRectWithOffset=function(t,e){if(null==t)throw new XR("RotatedRectangleF.getRectWithOffset: rectangle cannot be null!");return null==e||e.isOrigin()?t.clone():t.transformByMatrix((new ZL).translate(e.x,e.y))},t}(),xB=function(){function t(t,e){this.width=0,this.height=0,this.width=t,this.height=e}return t.prototype.clone=function(){return new t(this.width,this.height)},t.prototype.toString=function(){return[this.width,this.height].join(",")},t.prototype.updateByMatrix=function(t){return t.updateObjectByMatrix(this,"width","height"),this},t}(),EB=function(t){var e="function"==typeof Symbol&&Symbol.iterator,n=e&&t[e],i=0;if(n)return n.call(t);if(t&&"number"==typeof t.length)return{next:function(){return t&&i>=t.length&&(t=void 0),{value:t&&t[i++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")},SB=function(t,e){var n="function"==typeof Symbol&&t[Symbol.iterator];if(!n)return t;var i,r,o=n.call(t),s=[];try{for(;(void 0===e||e-- >0)&&!(i=o.next()).done;)s.push(i.value)}catch(a){r={error:a}}finally{try{i&&!i.done&&(n=o.return)&&n.call(o)}finally{if(r)throw r.error}}return s},PB=function(){for(var t=[],e=0;e<arguments.length;e++)t=t.concat(SB(arguments[e]));return t};function OB(t,e,n){var i=!1;return null!=n&&(i="boolean"==typeof n?n:n.ignoreCase),(t=i?t.toLowerCase():t)===(i?e.toLowerCase():e)}function kB(t){for(var e=[],n=1;n<arguments.length;n++)e[n-1]=arguments[n];var i=e.pop();if(0===e.length&&""===i)return t;var r="/";if(i=i.replace(/^(\/|\s)+/g,""),t=t.replace(/(\/|\s)+$/g,""),0===e.length)return t+r+i;var o=JR(e).map((function(t){return t.replace(/^(\/|\s)+/g,"").replace(/(\/|\s)+$/g,"")}));return JR.flatten([t,o,i]).join(r)}function TB(t,e){if(null==t&&null==e)return!0;if(null==t&&null!=e||null!=t&&null==e)return!1;var n=typeof t;return n===typeof e&&("string"===n||"boolean"===n?t===e:"number"===n?gB(t,e):Array.isArray(t)&&Array.isArray(e)?t.length===e.length&&IB(t,e):("function"==typeof t.equals&&"function"==typeof e.equals?function(t,e){return t.equals(e)}:function(t,e){return t==e})(t,e))}function IB(t,e){return null==t?t===e:t.reduce((function(t,n,i){return t&&TB(n,e[i])}),!0)}function AB(t,e){return t.reduce((function(t,n,i){return t&&n==e[i]}),!0)}function MB(t){return null==t||""===t.trim()}function DB(t){return!(MB(t)||!t.startsWith("<"))&&null==(new DOMParser).parseFromString("<root>"+t+"</root>","application/xml").querySelector("parsererror")}function RB(t,e){var n,i,r,o;void 0===e&&(e=" ");var s,a,l=(new DOMParser).parseFromString("<root>"+t+"</root>","application/xml");if(null==l.querySelector("parsererror")){try{for(var c=EB(Array.from(l.querySelectorAll("br"))),u=c.next();!u.done;u=c.next())u.value.textContent=e}catch(y){n={error:y}}finally{try{u&&!u.done&&(i=c.return)&&i.call(c)}finally{if(n)throw n.error}}var h=Array.from(l.querySelectorAll("p, li"));if(h.length>1){var d=JR.without(h,h[h.length-1]);try{for(var p=EB(d),f=p.next();!f.done;f=p.next()){var m=f.value,g=document.createElementNS("application/xml","span");g.textContent=e,m.appendChild(g)}}catch(_){r={error:_}}finally{try{f&&!f.done&&(o=p.return)&&o.call(p)}finally{if(r)throw r.error}}}return l.querySelector("root").textContent}return console.warn("Bad value",l),s=t,(a=(new DOMParser).parseFromString("<span></span>","application/xml")).querySelector("span").textContent=s,(new XMLSerializer).serializeToString(a).replace("<span>","").replace("</span>","").replace("<span/>","").replace("<span />","")}function FB(t,e,n){if((o=n,null==o&&(o={}),JR.defaults(o,{deep:!1,ignoreNull:!0}),n=o).ignoreNull)for(var i=0;i<e.length;i++){var r=YL(e[i],5);s(r),e[i]=r}var o;return n.deep?(function t(e){for(var n=[],i=1;i<arguments.length;i++)n[i-1]=arguments[i];for(var r=e,o=PB(n),s=function(e){for(var n in e)e.hasOwnProperty(n)&&("object"==typeof e[n]&&null!=r[n]?"object"==typeof r[n]?r[n]=t(r[n],e[n]):r=e[n]:r[n]=e[n])},a=0;a<o.length;a++){var l=o[a];s(l)}return r}).apply(void 0,PB([t],e)):Object.assign.apply(Object,PB([t],e));function s(t){var e,n;try{for(var i=EB(Object.keys(t)),r=i.next();!r.done;r=i.next()){var o=r.value,a=t[o];null===a?t.hasOwnProperty(o)?delete t[o]:t[o]=void 0:"object"==typeof a&&s(a)}}catch(l){e={error:l}}finally{try{r&&!r.done&&(n=i.return)&&n.call(i)}finally{if(e)throw e.error}}}}function LB(t,e){return FB(t,[e],{deep:!0})}function BB(t,e){return null!=e?e:t}function NB(t,e){return void 0!==e?e:t}function jB(t,e){var n;if("number"!=typeof(n="string"==typeof t&&/%$/.test(t)?e*Number(t.split(/%/)[0])/100:Number(t))||isNaN(n))throw new XR("'"+t+"' is not a number or percent string");return n}new Map;var zB=function(){function t(t){this._previewFromServer=!1,this.preview=null,this.profileId=null,null!=t&&(MB(t.preview)||(this._previewFromServer=!0),"string"!=typeof t&&this._init(t))}return Object.defineProperty(t.prototype,"previewFromServer",{get:function(){return this._previewFromServer},enumerable:!0,configurable:!0}),t.prototype.needUpdate=function(t){var e="RgbColor"===this.type;return(!e||e&&null!=this.profileId&&this.profileId!==t)&&!this.previewFromServer},t.prototype.equals=function(t,e){return void 0===e&&(e=!1),t.profileId===this.profileId&&(e||t.preview===this.preview)},t.prototype.getData=function(){return{preview:this.preview,profileId:this.profileId,type:this.type}},t.prototype._init=function(t){MB(t.preview)||(this.preview=t.preview),MB(t.profileId)||(this.profileId=t.profileId)},t.prototype._validateString=function(t){if(MB(t))throw new XR("Value must be a non-empty string")},t.prototype._validateNumber=function(t,e,n){if(void 0===e&&(e=0),void 0===n&&(n=255),"number"!=typeof t)throw new XR("Value must be a number");if(t<e||t>n)throw new XR("Value must be in range ["+e+", "+n+"]")},t.equals=function(t,e){return null==t&&null==e||null!=t&&t.equals(e)},t}(),HB=function(){var t=function(e,n){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(e,n)};return function(e,n){function i(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(i.prototype=n.prototype,new i)}}(),VB=function(t){function e(e){var n=t.call(this,e)||this;if(n._r=0,n._g=0,n._b=0,n._a=0,null==e)return n;var i="Incorrect RgbColor format: "+JSON.stringify(e);if("string"==typeof e){var r=e;if(0!==e.indexOf("#")&&0!==e.indexOf("rgb")&&null==(r=n._parseNamedColor(e))&&console.warn("Unknown rgb color name: "+e),n._tryInitFromRgba(r))return n;if(n._tryInitFromRgb(r))return n;n._tryInitFromHex(r)||console.warn(i)}else try{n._init(e)}catch(o){console.warn(i)}return n}return HB(e,t),e.prototype._parseNamedColor=function(t){if(window.getComputedStyle){var e=document.createElement("div");e.style.color=t,document.body.appendChild(e);var n=window.getComputedStyle(e).color;return document.body.removeChild(e),n}return console.warn("Unable to parse rgb color string "+t),null},e.prototype._tryInitFromRgba=function(t){var n=e.matchRgba(t);if(null!=n&&6===n.length){var i=parseInt((255*parseFloat(n[4])).toFixed(0));return i=Math.max(i,0),i=Math.min(i,255),this._init({r:+n[1],g:+n[2],b:+n[3],a:i}),!0}return!1},e.prototype._tryInitFromRgb=function(t){var n=e.matchRgb(t);return null!=n&&4===n.length&&(this._init({r:+n[1],g:+n[2],b:+n[3],a:255}),!0)},e.prototype._tryInitFromHex=function(t){t=t.replace(/^#?([a-f\d])([a-f\d])([a-f\d])$/i,(function(t,e,n,i){return e+e+n+n+i+i}));var e=/^#?([a-f\d]{2})([a-f\d]{2})([a-f\d]{2})$/i.exec(t);return null!=e&&4===e.length&&(this._init({r:parseInt(e[1],16),g:parseInt(e[2],16),b:parseInt(e[3],16),a:255}),!0)},Object.defineProperty(e.prototype,"type",{get:function(){return"RgbColor"},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"r",{get:function(){return this._r},set:function(t){this._r=t,this._updatePreview()},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"g",{get:function(){return this._g},set:function(t){this._g=t,this._updatePreview()},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"b",{get:function(){return this._b},set:function(t){this._b=t,this._updatePreview()},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"a",{get:function(){return this._a},set:function(t){this._a=t,this._updatePreview()},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"alpha",{get:function(){return this.a},enumerable:!0,configurable:!0}),e.matchRgba=function(t){return e._rgba.lastIndex=0,e._rgba.exec(t)},e.matchRgb=function(t){return e._rgb.lastIndex=0,e._rgb.exec(t)},e.prototype.getData=function(){var e=t.prototype.getData.call(this);return e.r=this.r,e.g=this.g,e.b=this.b,e.a=this.a,e},e.prototype.clone=function(){return new e(this)},e.prototype.toString=function(){return this._getPreview()},e.prototype.equals=function(n){return n instanceof e&&t.prototype.equals.call(this,n)},e.prototype._getPreview=function(){if(255===this.a)return"rgb("+this.r+","+this.g+","+this.b+")";var t=(this.a/255).toFixed(7);return"rgba("+this.r+","+this.g+","+this.b+","+t+")"},e.prototype._init=function(e){t.prototype._init.call(this,e),e.a=null!=e.a?e.a:255,this._validateNumber(e.r),this._validateNumber(e.g),this._validateNumber(e.b),this._validateNumber(e.a),this.r=e.r,this.g=e.g,this.b=e.b,this.a=e.a,this._updatePreview()},e.prototype._updatePreview=function(){this.preview=this._getPreview()},e._rgba=/^\s*rgba\(\s*(\d{1,3})\s*,\s*(\d{1,3})\s*,\s*(\d{1,3})\s*\,\s*(\d{1,}(\.\d{1,})?)\s*\)\s*;{0,1}\s*$/g,e._rgb=/^\s*rgb\(\s*(\d{1,3})\s*,\s*(\d{1,3})\s*,\s*(\d{1,3})\s*\)\s*;{0,1}\s*$/g,e}(zB),UB=function(){function t(){}return t.isValidRgbColor=function(t){return!MB(t)&&(null!=VB.matchRgb(t)||null!=VB.matchRgba(t))},t.convertPercentToByte=function(t){return mB(0,parseInt((255*parseFloat(t)/100).toFixed(0)),255)},t.convertByteToPercent=function(t){return(t/255*100).toFixed(0)+"%"},t}(),WB=function(){function t(t,e,n){this._sourceString=t,this._regexArray=e,this._maxValue=n}return t.prototype.validate=function(){var t=function(t,e){return"ComponentName - "+t+", Value - "+e+"; "},e="";this._validate(this._regexArray[1])||(e=e.concat(t("C",this._regexArray[1]))),this._validate(this._regexArray[2])||(e=e.concat(t("M",this._regexArray[2]))),this._validate(this._regexArray[3])||(e=e.concat(t("Y",this._regexArray[3]))),this._validate(this._regexArray[4])||(e=e.concat(t("K",this._regexArray[4]))),null==this._regexArray[5]||this._validate(this._regexArray[5])||(e=e.concat(t("A",this._regexArray[5]))),e.length>0&&(e=e.substring(0,e.length-2),console.warn("Invalid value of CMYK components. SourceString: "+this._sourceString+"; InvalidComponents: "+e+"."))},t.prototype._validate=function(t){var e=parseFloat(t);return e>=0&&e<=this._maxValue},t}(),$B=function(){var t=function(e,n){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(e,n)};return function(e,n){function i(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(i.prototype=n.prototype,new i)}}(),GB=function(t){function e(e){var n=t.call(this,e)||this;if(n.c=255,n.m=255,n.y=255,n.k=255,n.a=255,null==e)return n;var i="Incorrect CmykColor format: "+JSON.stringify(e);if("string"==typeof e)n._tryInitFromPercentCmyk(e)||n._tryInitFromRelativeCmyk(e)||n._tryInitFromDeviceCmyk(e)?n._previewFromServer=UB.isValidRgbColor(n.preview):console.warn(i);else try{n._init(e)}catch(r){console.warn(i)}return n}return $B(e,t),Object.defineProperty(e.prototype,"type",{get:function(){return"CmykColor"},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"alpha",{get:function(){return this.a},enumerable:!0,configurable:!0}),e.prototype._tryInitFromDeviceCmyk=function(t){var e=/^\s*device-cmyk\(\s*(\d{1,3})\s*,\s*(\d{1,3})\s*,\s*(\d{1,3})\s*\,\s*(\d{1,3})\s*(\,\s*(\d{1,}(\.\d{1,})?))?\s*(\,\s*(.*)\s*)?\)\s*;{0,1}\s*$/g.exec(t);if(null!=e&&10===e.length){var n={c:+e[1],m:+e[2],y:+e[3],k:+e[4],preview:e[9]};return null!=e[6]&&(n.a=this._convertRelativeToByte(e[6])),this._init(n),!0}return!1},e.prototype._tryInitFromPercentCmyk=function(t){var e=/^\s*cmyk\(\s*(\d{1,3}(?:\.\d{1,})?)%\s*,\s*(\d{1,3}(?:\.\d{1,})?)%\s*,\s*(\d{1,3}(?:\.\d{1,})?)%\s*,\s*(\d{1,3}(?:\.\d{1,})?)%\s*(?:\,\s*(\d{1,3}(?:\.\d{1,})?)%)?\s*(?:\,\s*(.*)\s*)?\);{0,1}\s*$/g.exec(t);if(null!=e&&7===e.length){new WB(t,e,100).validate();var n={c:UB.convertPercentToByte(e[1]),m:UB.convertPercentToByte(e[2]),y:UB.convertPercentToByte(e[3]),k:UB.convertPercentToByte(e[4]),preview:e[6]};return null!=e[5]&&(n.a=UB.convertPercentToByte(e[5])),this._init(n),!0}return!1},e.prototype._tryInitFromRelativeCmyk=function(t){var e=/^\s*cmyk\(\s*(\d{1,3}(?:\.\d{1,})?)\s*,\s*(\d{1,3}(?:\.\d{1,})?)\s*,\s*(\d{1,3}(?:\.\d{1,})?)\s*,\s*(\d{1,3}(?:\.\d{1,})?)\s*(?:\,\s*(\d{1,3}(?:\.\d{1,})?))?\s*(?:\,\s*(.*)\s*)?\);{0,1}\s*$/g.exec(t);if(null!=e&&7===e.length){new WB(t,e,1).validate();var n={c:this._convertRelativeToByte(e[1]),m:this._convertRelativeToByte(e[2]),y:this._convertRelativeToByte(e[3]),k:this._convertRelativeToByte(e[4]),preview:e[6]};return null!=e[5]&&(n.a=this._convertAlpha(e[5])),this._init(n),!0}return!1},e.prototype._convertRelativeToByte=function(t){return mB(0,parseInt((255*parseFloat(t)).toFixed(0)),255)},e.prototype._convertAlpha=function(t){return mB(parseInt((255*parseFloat(t)).toFixed(0)),0,255)},e.prototype.clone=function(){return new e(this)},e.prototype.getData=function(){var e=t.prototype.getData.call(this);return e.c=this.c,e.m=this.m,e.y=this.y,e.k=this.k,e.a=this.a,e},e.prototype.equals=function(n,i){return void 0===i&&(i=!1),n instanceof e&&t.prototype.equals.call(this,n,i)&&n instanceof e&&this.c===n.c&&this.m===n.m&&this.y===n.y&&this.k===n.k&&this.a===n.a},e.prototype.toString=function(){var t="cmyk("+this._toRelative(this.c)+","+this._toRelative(this.m)+","+this._toRelative(this.y)+","+this._toRelative(this.k)+","+this._toRelative(this.a);return null!=this.preview&&(t+=","+this.preview),t+")"},e.prototype._toRelative=function(t){return(t/255).toFixed(7)},e.prototype._getPreview=function(){return this.preview},e.prototype._init=function(e){t.prototype._init.call(this,e),e.a=null!=e.a?e.a:255,this._validateNumber(e.c),this._validateNumber(e.m),this._validateNumber(e.y),this._validateNumber(e.k),this._validateNumber(e.a),this.c=e.c,this.m=e.m,this.y=e.y,this.k=e.k,this.a=e.a},e}(zB),qB=function(){var t=function(e,n){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(e,n)};return function(e,n){function i(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(i.prototype=n.prototype,new i)}}(),XB=function(t){function e(e){var n=t.call(this,e)||this;if(n.l=0,n.a=255,null==e)return n;try{n._init(e)}catch(i){console.warn("Incorrect GrayscaleColor format: "+JSON.stringify(e))}return n}return qB(e,t),Object.defineProperty(e.prototype,"type",{get:function(){return"GrayscaleColor"},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"alpha",{get:function(){return this.a},enumerable:!0,configurable:!0}),e.prototype.clone=function(){return new e(this)},e.prototype.equals=function(n){return n instanceof e&&t.prototype.equals.call(this,n)&&n instanceof e&&this.l===n.l&&this.a===n.a},e.prototype.toString=function(){return this._getPreview()},e.prototype.getData=function(){var e=t.prototype.getData.call(this);return e.l=this.l,e.a=this.a,e},e.prototype._getPreview=function(){if(255===this.a)return"rgb("+this.l+","+this.l+","+this.l+")";var t=(this.a/255).toFixed(7);return"rgba("+this.l+","+this.l+","+this.l+","+t+")"},e.prototype._init=function(e){t.prototype._init.call(this,e),e.a=null!=e.a?e.a:255,this._validateNumber(e.l),this._validateNumber(e.a),this.l=e.l,this.a=e.a,null==this.preview&&(this.preview=this._getPreview())},e}(zB),KB=function(){var t=function(e,n){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(e,n)};return function(e,n){function i(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(i.prototype=n.prototype,new i)}}(),YB=function(t){function e(e){var n=t.call(this,e)||this;if(n.l=0,n.a=-128,n.b=-128,n.alpha=0,null==e)return n;var i="Incorrect LabColor format: "+JSON.stringify(e);if("string"==typeof e)n._tryInitFromString(e)?n._previewFromServer=UB.isValidRgbColor(n.preview):console.warn(i);else try{n._init(e)}catch(r){console.warn(i)}return n}return KB(e,t),Object.defineProperty(e.prototype,"type",{get:function(){return"LabColor"},enumerable:!0,configurable:!0}),e.prototype._tryInitFromString=function(t){e._lab.lastIndex=0;var n=e._lab.exec(t);return null!=n&&8===n.length&&(this._init({l:+n[1],a:+n[2],b:+n[3],alpha:null!=n[5]?UB.convertPercentToByte(n[5]):255,preview:null!=n[7]?n[7]:null}),!0)},e.prototype.clone=function(){return new e(this)},e.prototype.equals=function(n){return n instanceof e&&t.prototype.equals.call(this,n)&&n instanceof e&&this.l===n.l&&this.a===n.a&&this.b===n.b&&this.alpha===n.alpha},e.prototype.toString=function(){var t="lab("+this.l+","+this.a+","+this.b+","+UB.convertByteToPercent(this.alpha);return null!=this.preview&&(t+=","+this.preview),t+")"},e.prototype.getData=function(){var e=t.prototype.getData.call(this);return e.l=this.l,e.a=this.a,e.b=this.b,e.alpha=this.alpha,e},e.prototype._getPreview=function(){return this.preview},e.prototype._init=function(e){t.prototype._init.call(this,e),e.alpha=null!=e.alpha?e.alpha:255,this._validateNumber(e.l),this._validateNumber(e.a,-128,127),this._validateNumber(e.b,-128,127),this._validateNumber(e.alpha),this.l=e.l,this.a=e.a,this.b=e.b,this.alpha=e.alpha},e._lab=/^\s*lab\(\s*(\d{1,3})\s*,\s*(-*\d{1,3})\s*,\s*(-*\d{1,3})\s*(,\s*(\d{1,3})%)?\s*(\,\s*(.*)\s*)?\)\s*;{0,1}\s*$/g,e}(zB),QB=function(){function t(){}return t.registerColor=function(e,n,i){e&&(t._createFunctionByType[e]=i),n&&(t._createFunctionByName[n]=i)},Object.defineProperty(t,"rgbColorProfileId",{set:function(e){t._rgbColorProfileId=e},enumerable:!0,configurable:!0}),t._updateRgbColor=function(e){return JR.isEmpty(null==e?void 0:e.profileId)&&(e.profileId=t._rgbColorProfileId),e},t.createColor=function(e,n,i){void 0===n&&(n=!1),void 0===i&&(i=!1);try{return e instanceof zB?e:"string"==typeof e?0===e.indexOf("device-cmyk")||0===e.indexOf("cmyk")?new GB(e):0===e.indexOf("lab")?new YB(e):0===e.indexOf("spot")?t._createColorByName("spot",e):i?t._updateRgbColor(new VB(e)):new VB(e):t._fromData(e,i)}catch(r){if(!1!==n)throw r;return console.warn("Unable to create color from value "+JSON.stringify(e)+". Error: "+r),new VB("rgba(0,0,0,1)")}},t._createColorByName=function(e,n){if(!t._createFunctionByName[e])throw"Color with name '"+e+"' was not registered in ColorFactory";return new(0,t._createFunctionByName[e])(n)},t._createColorByType=function(e,n){if(!t._createFunctionByType[e])throw"Color with type name '"+e+"' was not registered in ColorFactory";return new(0,t._createFunctionByType[e])(n)},t._fromData=function(e,n){if(void 0===n&&(n=!1),null==e)throw"Value cannot be null";var i=e.type;if("RgbColor"===i)return n?t._updateRgbColor(new VB(e)):new VB(e);if("CmykColor"===i)return new GB(e);if("GrayscaleColor"===i)return new XB(e);if("LabColor"===i)return new YB(e);if("SpotColor"===i)return t._createColorByType("SpotColor",e);throw"Unsupported color type "+i},t._createFunctionByType={},t._createFunctionByName={},t}(),ZB=function(){var t=function(e,n){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(e,n)};return function(e,n){function i(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(i.prototype=n.prototype,new i)}}(),JB=function(t){function e(e){var n=t.call(this,e)||this;if(null==e)return n;var i="Incorrect SpotColor format: "+JSON.stringify(e);if("string"==typeof e)n._tryInitFromString(e)?n._previewFromServer=UB.isValidRgbColor(n.preview):console.warn(i);else try{n._init(e)}catch(r){console.warn(i)}return n}return ZB(e,t),Object.defineProperty(e.prototype,"type",{get:function(){return"SpotColor"},enumerable:!0,configurable:!0}),e.prototype._tryInitFromString=function(t){e._spot.lastIndex=0;var n=e._spot.exec(t);return null!=n&&10===n.length&&(this._init({inkName:n[1].replace(/'/g,"").replace(/\"/g,""),inkColor:QB.createColor(n[2]),inkSolidity:null!=n[4]?+n[4]:1,tint:null!=n[7]?UB.convertPercentToByte(n[7]):255,preview:null!=n[9]?n[9]:null}),!0)},e.prototype.toString=function(){var t=this.inkColor.clone();return t.preview=null,"spot('"+this.inkName+"',"+t.toString()+","+this.inkSolidity+","+UB.convertByteToPercent(this.tint)+","+this.preview+")"},e.prototype.clone=function(){return new e(this)},e.prototype.equals=function(n){return n instanceof e&&t.prototype.equals.call(this,n)&&n instanceof e&&this.inkName===n.inkName&&this.inkColor.equals(n.inkColor)&&this.inkSolidity===n.inkSolidity&&this.alpha===n.alpha&&this.tint===n.tint},e.prototype.getData=function(){var e=t.prototype.getData.call(this);return e.inkName=this.inkName,e.inkColor=this.inkColor.getData(),e.inkSolidity=this.inkSolidity,e.alpha=this.alpha,e.tint=this.tint,e},e.prototype._getPreview=function(){return this.preview},e.prototype._init=function(e){t.prototype._init.call(this,e),e.alpha=null!=e.alpha?e.alpha:255,e.tint=null!=e.tint?e.tint:255;var n=QB.createColor(e.inkColor,!0);this._validateString(e.inkName),this._validateNumber(e.inkSolidity,0,1),this._validateNumber(e.alpha),this._validateNumber(e.tint),this.inkName=e.inkName,this.inkColor=n,this.inkSolidity=e.inkSolidity,this.alpha=e.alpha,this.tint=e.tint},e._spot=/^\s*spot\(\s*([^()]*)\s*,\s*(.{3,4}\([^()]*\))\s*(,\s*(\d{1}(\.\d{1,})?))?\s*(,\s*(\d{1,3})%)?\s*(,\s*(.*)\s*)?\)\s*;{0,1}\s*$/g,e}(zB);QB.registerColor("SpotColor","spot",JB);var tN=n("6foH");const eN=(()=>{const t=Element.prototype;return t.matches||t.matchesSelector||t.mozMatchesSelector||t.msMatchesSelector||t.oMatchesSelector||t.webkitMatchesSelector})(),nN={schedule(t,e){const n=setTimeout(t,e);return()=>clearTimeout(n)},scheduleBeforeRender(t){if("undefined"==typeof window)return nN.schedule(t,0);if(void 0===window.requestAnimationFrame)return nN.schedule(t,16);const e=window.requestAnimationFrame(t);return()=>window.cancelAnimationFrame(e)}};function iN(t,e,n){let i=n;return function(t){return!!t&&t.nodeType===Node.ELEMENT_NODE}(t)&&e.some((e,n)=>!("*"===e||!function(t,e){return eN.call(t,e)}(t,e)||(i=n,0))),i}class rN{constructor(t,e){this.component=t,this.injector=e,this.componentFactory=e.get(Ka).resolveComponentFactory(t)}create(t){return new oN(this.componentFactory,t)}}class oN{constructor(t,e){this.componentFactory=t,this.injector=e,this.inputChanges=null,this.implementsOnChanges=!1,this.scheduledChangeDetectionFn=null,this.scheduledDestroyFn=null,this.initialInputValues=new Map,this.unchangedInputs=new Set}connect(t){if(null!==this.scheduledDestroyFn)return this.scheduledDestroyFn(),void(this.scheduledDestroyFn=null);this.componentRef||this.initializeComponent(t)}disconnect(){this.componentRef&&null===this.scheduledDestroyFn&&(this.scheduledDestroyFn=nN.schedule(()=>{this.componentRef&&(this.componentRef.destroy(),this.componentRef=null)},10))}getInputValue(t){return this.componentRef?this.componentRef.instance[t]:this.initialInputValues.get(t)}setInputValue(t,e){var n,i;this.componentRef?((n=e)!==(i=this.getInputValue(t))&&(n==n||i==i)||void 0===e&&this.unchangedInputs.has(t))&&(this.recordInputChange(t,e),this.componentRef.instance[t]=e,this.scheduleDetectChanges()):this.initialInputValues.set(t,e)}initializeComponent(t){const e=us.create({providers:[],parent:this.injector}),n=function(t,e){const n=t.childNodes,i=e.map(()=>[]);let r=-1;e.some((t,e)=>"*"===t&&(r=e,!0));for(let o=0,s=n.length;o<s;++o){const t=n[o],s=iN(t,e,r);-1!==s&&i[s].push(t)}return i}(t,this.componentFactory.ngContentSelectors);this.componentRef=this.componentFactory.create(e,n,t),this.implementsOnChanges="function"==typeof this.componentRef.instance.ngOnChanges,this.initializeInputs(),this.initializeOutputs(),this.detectChanges(),this.injector.get(uu).attachView(this.componentRef.hostView)}initializeInputs(){this.componentFactory.inputs.forEach(({propName:t})=>{this.implementsOnChanges&&this.unchangedInputs.add(t),this.initialInputValues.has(t)&&this.setInputValue(t,this.initialInputValues.get(t))}),this.initialInputValues.clear()}initializeOutputs(){const t=this.componentFactory.outputs.map(({propName:t,templateName:e})=>this.componentRef.instance[t].pipe(F(t=>({name:e,value:t}))));this.events=$(...t)}callNgOnChanges(){if(!this.implementsOnChanges||null===this.inputChanges)return;const t=this.inputChanges;this.inputChanges=null,this.componentRef.instance.ngOnChanges(t)}scheduleDetectChanges(){this.scheduledChangeDetectionFn||(this.scheduledChangeDetectionFn=nN.scheduleBeforeRender(()=>{this.scheduledChangeDetectionFn=null,this.detectChanges()}))}recordInputChange(t,e){if(this.componentRef&&!this.implementsOnChanges)return;null===this.inputChanges&&(this.inputChanges={});const n=this.inputChanges[t];if(n)return void(n.currentValue=e);const i=this.unchangedInputs.has(t);this.unchangedInputs.delete(t);const r=i?void 0:this.getInputValue(t);this.inputChanges[t]=new Fa(r,e,i)}detectChanges(){this.componentRef&&(this.callNgOnChanges(),this.componentRef.changeDetectorRef.detectChanges())}}class sN extends HTMLElement{constructor(){super(...arguments),this.ngElementEventsSubscription=null}}function aN(t,e){const n=function(t,e){return e.get(Ka).resolveComponentFactory(t).inputs}(t,e.injector),i=e.strategyFactory||new rN(t,e.injector),r=function(t){const e={};return t.forEach(({propName:t,templateName:n})=>{var i;e[(i=n,i.replace(/[A-Z]/g,t=>`-${t.toLowerCase()}`))]=t}),e}(n);class o extends sN{constructor(t){super(),this.ngElementStrategy=i.create(t||e.injector)}attributeChangedCallback(t,n,o,s){this.ngElementStrategy||(this.ngElementStrategy=i.create(e.injector)),this.ngElementStrategy.setInputValue(r[t],o)}connectedCallback(){this.ngElementStrategy||(this.ngElementStrategy=i.create(e.injector)),this.ngElementStrategy.connect(this),this.ngElementEventsSubscription=this.ngElementStrategy.events.subscribe(t=>{const e=function(t,e,n){if("function"!=typeof CustomEvent){const i=t.createEvent("CustomEvent");return i.initCustomEvent(e,!1,!1,n),i}return new CustomEvent(e,{bubbles:!1,cancelable:!1,detail:n})}(this.ownerDocument,t.name,t.value);this.dispatchEvent(e)})}disconnectedCallback(){this.ngElementStrategy&&this.ngElementStrategy.disconnect(),this.ngElementEventsSubscription&&(this.ngElementEventsSubscription.unsubscribe(),this.ngElementEventsSubscription=null)}}return o.observedAttributes=Object.keys(r),n.map(({propName:t})=>t).forEach(t=>{Object.defineProperty(o.prototype,t,{get:function(){return this.ngElementStrategy.getInputValue(t)},set:function(e){this.ngElementStrategy.setInputValue(t,e)},configurable:!0,enumerable:!0})}),o}const lN=function(t){return{last:t}};function cN(t,e){if(1&t){const t=Vs();Ls(0,"section-view",4),$s("onChange",(function(e){return Qe(t),Ys().onColorChange(e)})),Bs()}if(2&t){const t=e.$implicit,n=e.last,i=Ys();Rs("ngClass",Vl(6,lN,n))("showHeader",i.isShowHeader(t))("paletteHintsEnabled",i.paletteHintsEnabled)("section",t)("sectionCollapseEnabled",i.isSectionCollapse(t))("currentColor",i.currentColor)}}const uN=["brightnessAndSaturationPalette"],hN=["alphaSlider"],dN=["hueSlider"],pN=["rgbComponents"],fN=["cmykComponents"],mN=function(t){return{"background-image":t}};function gN(t,e){if(1&t&&Ns(0,"cc-no-ui-slider",20,21),2&t){const t=Ys();Rs("value",t.sliderAlphaValue)("min",0)("max",100)("step",1)("orientation","vertical")("onSlide",t.onAlphaUpdate)("onSlideEnd",t.onAlphaUpdateEnd)("ngStyle",Vl(8,mN,"linear-gradient(to top, rgba(0, 0, 0, 0), "+t.getCssColorWithoutAlpha()+")"))}}function yN(t,e){if(1&t){const t=Vs();Ls(0,"button",22),$s("click",(function(e){return Qe(t),Ys().onPickClick(e)})),Ca(1,"Pick"),Bs()}}function _N(t,e){if(1&t){const t=Vs();Ls(0,"div",31),Ls(1,"div",26),Ca(2,"A"),Bs(),Ls(3,"input",27),$s("ngModelChange",(function(e){return Qe(t),Ys(2).a=e}))("keydown",(function(e){return Qe(t),e.stopPropagation()})),Bs(),Bs()}if(2&t){const t=Ys(2);vr(3),Rs("ngModel",t.a),ks("disabled",t.isComponentsLoading?"":null)}}function vN(t,e){if(1&t){const t=Vs();Ls(0,"div",23,24),Ls(2,"div",25),Ls(3,"div",26),Ca(4,"R"),Bs(),Ls(5,"input",27),$s("ngModelChange",(function(e){return Qe(t),Ys().r=e}))("keydown",(function(e){return Qe(t),e.stopPropagation()})),Bs(),Bs(),Ls(6,"div",28),Ls(7,"div",26),Ca(8,"G"),Bs(),Ls(9,"input",27),$s("ngModelChange",(function(e){return Qe(t),Ys().g=e}))("keydown",(function(e){return Qe(t),e.stopPropagation()})),Bs(),Bs(),Ls(10,"div",29),Ls(11,"div",26),Ca(12,"B"),Bs(),Ls(13,"input",27),$s("ngModelChange",(function(e){return Qe(t),Ys().b=e}))("keydown",(function(e){return Qe(t),e.stopPropagation()})),Bs(),Bs(),Is(14,_N,4,2,"div",30),Bs()}if(2&t){const t=Ys();vr(5),Rs("ngModel",t.r),ks("disabled",t.isComponentsLoading?"":null),vr(4),Rs("ngModel",t.g),ks("disabled",t.isComponentsLoading?"":null),vr(4),Rs("ngModel",t.b),ks("disabled",t.isComponentsLoading?"":null),vr(1),Rs("ngIf",t.alphaEnabled)}}function bN(t,e){if(1&t){const t=Vs();Ls(0,"div",31),Ls(1,"div",26),Ca(2,"A"),Bs(),Ls(3,"input",27),$s("ngModelChange",(function(e){return Qe(t),Ys(2).a=e}))("keydown",(function(e){return Qe(t),e.stopPropagation()})),Bs(),Bs()}if(2&t){const t=Ys(2);vr(3),Rs("ngModel",t.a),ks("disabled",t.isComponentsLoading?"":null)}}function wN(t,e){if(1&t){const t=Vs();Ls(0,"div",32,33),Ls(2,"div",34),Ls(3,"div",26),Ca(4,"C"),Bs(),Ls(5,"input",27),$s("ngModelChange",(function(e){return Qe(t),Ys().c=e}))("keydown",(function(e){return Qe(t),e.stopPropagation()})),Bs(),Bs(),Ls(6,"div",35),Ls(7,"div",26),Ca(8,"M"),Bs(),Ls(9,"input",27),$s("ngModelChange",(function(e){return Qe(t),Ys().m=e}))("keydown",(function(e){return Qe(t),e.stopPropagation()})),Bs(),Bs(),Ls(10,"div",36),Ls(11,"div",26),Ca(12,"Y"),Bs(),Ls(13,"input",27),$s("ngModelChange",(function(e){return Qe(t),Ys().y=e}))("keydown",(function(e){return Qe(t),e.stopPropagation()})),Bs(),Bs(),Ls(14,"div",37),Ls(15,"div",26),Ca(16,"K"),Bs(),Ls(17,"input",27),$s("ngModelChange",(function(e){return Qe(t),Ys().k=e}))("keydown",(function(e){return Qe(t),e.stopPropagation()})),Bs(),Bs(),Is(18,bN,4,2,"div",30),Bs()}if(2&t){const t=Ys();vr(5),Rs("ngModel",t.c),ks("disabled",t.isComponentsLoading?"":null),vr(4),Rs("ngModel",t.m),ks("disabled",t.isComponentsLoading?"":null),vr(4),Rs("ngModel",t.y),ks("disabled",t.isComponentsLoading?"":null),vr(4),Rs("ngModel",t.k),ks("disabled",t.isComponentsLoading?"":null),vr(1),Rs("ngIf",t.alphaEnabled)}}function CN(t,e){1&t&&Ns(0,"div",38),2&t&&ca("color",Ys().getInitialCssColor())}function xN(t,e){if(1&t){const t=Vs();Ls(0,"button",39),$s("click",(function(){return Qe(t),Ys().onCancelButtonClick()})),Ca(1),Xl(2,"translate"),Bs()}2&t&&(vr(1),xa(Kl(2,1,"ColorPicker.CANCEL")))}const EN=function(t){return{enabled:t}};function SN(t,e){if(1&t){const t=Vs();Ls(0,"picker",3),$s("onChange",(function(e){return Qe(t),Ys().onColorChange(e)}))("onSubmit",(function(){return Qe(t),Ys().onChildSubmit()}))("onColorPickStarted",(function(){return Qe(t),Ys().onChildColorPickStarted()}))("onColorPickEnded",(function(){return Qe(t),Ys().onColorPickEnded()})),Bs()}if(2&t){const t=Ys();Rs("color",t.currentColor)("initialColor",t.initialValue)("showCancelButton",!1)("colorSpace",t.colorSpace)("pickColor",t.pickColor)}}const PN=function(t,e,n,i){return{"palette-only":t,"submit-button-enabled":e,"section-collapse":n,"is-hidden":i}};function ON(t,e){if(1&t&&(Ls(0,"div",3),Ca(1),Xl(2,"translate"),Bs()),2&t){const t=Ys();vr(1),Ea(" ",Kl(2,1,t.section.translationKey),"\n")}}function kN(t,e){if(1&t){const t=Vs();Ls(0,"palette",4),$s("onColorAdd",(function(e){return Qe(t),Ys().onColorAdd(e)}))("onChange",(function(e){return Qe(t),Ys().onItemChange(e)})),Bs()}if(2&t){const t=Ys();Rs("viewType",t.section.viewType)("paletteItems",t.paletteItems)("currentColor",t.currentColor)("paletteHintsEnabled",t.paletteHintsEnabled)}}function TN(t,e){if(1&t){const t=Vs();Ls(0,"div",5),Ls(1,"div",6),Ls(2,"div",3),Ca(3),Xl(4,"translate"),Bs(),Ns(5,"div",7),Bs(),Ls(6,"div",8),Ls(7,"palette",4),$s("onColorAdd",(function(e){return Qe(t),Ys().onColorAdd(e)}))("onChange",(function(e){return Qe(t),Ys().onItemChange(e)})),Bs(),Bs(),Bs()}if(2&t){const t=Ys();vr(1),ks("data-target","#"+t.sectionId)("aria-controls",t.sectionId),vr(2),xa(Kl(4,8,t.section.translationKey)),vr(3),ks("id",t.sectionId),vr(1),Rs("viewType",t.section.viewType)("paletteItems",t.paletteItems)("currentColor",t.currentColor)("paletteHintsEnabled",t.paletteHintsEnabled)}}function IN(t,e){1&t&&(Ls(0,"div",9),En(),Ls(1,"svg",10),Ls(2,"g",11),Ns(3,"path",12),Bs(),Bs(),Bs()),2&t&&ca("color",Ys(3).getContrastCssColorForCurrentColor())}function AN(t,e){if(1&t&&Ns(0,"div",13),2&t){const t=Ys().$implicit;ca("background-color",Ys(2).getCssColor(t))}}function MN(t,e){1&t&&Ns(0,"div",14)}function DN(t,e){if(1&t&&(En(),Ls(0,"svg",16),Ns(1,"path",17),Bs()),2&t){const t=Ys(2).$implicit;ca("color",Ys(2).getContrastCssColorForItem(t))}}function RN(t,e){if(1&t&&(Ls(0,"div",13),Is(1,DN,2,2,"svg",15),Bs()),2&t){const t=Ys(),e=t.$implicit,n=t.index,i=Ys().index,r=Ys();ca("background-color",r.getCssColor(e)),vr(1),Rs("ngIf",r.isActive(e,i,n))}}function FN(t,e){if(1&t&&(En(),Ls(0,"svg",16),Ns(1,"path",17),Bs()),2&t){const t=Ys(3).$implicit;ca("color",Ys(2).getContrastCssColorForItem(t))}}function LN(t,e){if(1&t&&(Ls(0,"div",13),Is(1,FN,2,2,"svg",15),Bs()),2&t){const t=Ys(2),e=t.$implicit,n=t.index,i=Ys().index,r=Ys();ca("background-color",r.getCssColor(e)),vr(1),Rs("ngIf",r.isActive(e,i,n))}}function BN(t,e){1&t&&Ns(0,"div",14)}function NN(t,e){1&t&&Ns(0,"div",20)}function jN(t,e){1&t&&(Ls(0,"div",9),En(),Ls(1,"svg",10),Ls(2,"g",11),Ns(3,"path",12),Bs(),Bs(),Bs()),2&t&&ca("color",Ys(4).getContrastCssColorForCurrentColor())}function zN(t,e){if(1&t&&(Ls(0,"div",18),Is(1,LN,2,3,"div",5),Is(2,BN,1,0,"div",6),Is(3,NN,1,0,"div",19),Is(4,jN,4,2,"div",4),Bs()),2&t){const t=Ys().$implicit,e=Ys(2);vr(1),Rs("ngIf",!e.isNoneItem(t)),vr(1),Rs("ngIf",!e.isNoneItem(t)),vr(1),Rs("ngIf",e.isNoneItem(t)),vr(1),Rs("ngIf",e.isAddItem(t))}}function HN(t,e){if(1&t&&(Ls(0,"div",21),Ca(1),Bs()),2&t){const t=Ys().$implicit,e=Ys(2);vr(1),Ea(" ",e.getTitle(t)," ")}}const VN=function(t,e,n){return{"color-container":t,"line-container":e,active:n}};function UN(t,e){if(1&t){const t=Vs();Ls(0,"div",3),$s("click",(function(){Qe(t);const n=e.$implicit,i=e.index,r=Ys().index;return Ys().onItemClick(n,r,i)})),Is(1,IN,4,2,"div",4),Is(2,AN,1,2,"div",5),Is(3,MN,1,0,"div",6),Is(4,RN,2,3,"div",5),Is(5,zN,5,4,"div",7),Is(6,HN,2,1,"div",8),Bs()}if(2&t){const t=e.$implicit,n=e.index,i=Ys().index,r=Ys();Rs("ngClass",Wl(8,VN,r.isBlockView,r.isLineView,r.isActive(t,i,n))),ks("title",r.getTitle(t)),vr(1),Rs("ngIf",r.isAddItem(t)&&r.isBlockView&&!r.isNoneItem(t)),vr(1),Rs("ngIf",!r.isNoneItem(t)),vr(1),Rs("ngIf",r.isBlockView&&!r.isNoneItem(t)),vr(1),Rs("ngIf",r.isBlockView&&!r.isNoneItem(t)),vr(1),Rs("ngIf",r.isLineView),vr(1),Rs("ngIf",r.isLineView)}}const WN=function(t,e){return{block:t,line:e}};function $N(t,e){if(1&t&&(Ls(0,"div",1),Is(1,UN,7,12,"div",2),Bs()),2&t){const t=e.$implicit,n=Ys();Rs("ngClass",Ul(2,WN,n.isBlockView,n.isLineView)),vr(1),Rs("ngForOf",t)}}function GN(t,e){if(1&t){const t=Vs();Ls(0,"div",5),Ls(1,"button",6),$s("click",(function(){return Qe(t),Ys(2).onSubmitButtonClick()})),Ca(2),Xl(3,"translate"),Bs(),Bs()}2&t&&(vr(2),xa(Kl(3,1,"ColorPicker.OK")))}function qN(t,e){if(1&t){const t=Vs();Ls(0,"div",2),Ls(1,"palette",3),$s("onColorAdd",(function(){return Qe(t),Ys().onColorAdd()}))("onChange",(function(e){return Qe(t),Ys().onItemChange(e)})),Bs(),Is(2,GN,4,3,"div",4),Bs()}if(2&t){const t=Ys();vr(1),Rs("viewType",null==t.config?null:t.config.viewType)("paletteItems",t.palette)("currentColor",null==t.config?null:t.config.currentColor)("paletteHintsEnabled",null==t.config?null:t.config.paletteHintsEnabled)("selectable",!0),vr(1),Rs("ngIf",null==t.config?null:t.config.submitButtonEnabled)}}function XN(t,e){if(1&t){const t=Vs();Ls(0,"cc-spot-color-add",7),$s("onSubmit",(function(e){return Qe(t),Ys().onAddComponentSubmit(e)}))("onCancel",(function(){return Qe(t),Ys().onAddComponentCancel()})),Bs()}if(2&t){const t=Ys();Rs("colorSpace",null==t.config?null:t.config.colorSpace)}}const KN=["spotInkName"];function YN(t){let e;return function(...n){return vR(this,void 0,void 0,(function*(){const i=e=new Object,r=t(...n);let o;for(;;){const t=r.next(o);if(t.done)return t.value;if(o=yield t.value,i!==e)return}}))}}function QN(t,e,n){return null!=n&&(t=Math.min(t,n)),null!=e&&(t=Math.max(e,t)),t}function ZN(t){const e=parseInt(t);return Object(WR.isEmpty)(t)||isNaN(e)||!isFinite(e)?null:e}var JN=function(t){return t.Cmyk="Cmyk",t.Rgb="Rgb",t}({}),tj=function(t){return t.PaletteSection="PaletteSection",t.RecentSection="RecentSection",t.ThemeSection="ThemeSection",t.NoColorSection="NoColorSection",t}({}),ej=function(t){return t.Background="Background",t.Fill="Fill",t.Border="Border",t.Text="Text",t.RichText="RichText",t.Shadow="Shadow",t.Stroke="Stroke",t.Line="Line",t.All="All",t}({}),nj=function(t){return t.Block="Block",t.Line="Line",t}({});class ij{constructor(t,e,n=nj.Block){this.palette=[[]],this.viewType=nj.Block,null!=t&&(this.translationKey=Object(WR.isEmpty)(t.translationKey)?e:t.translationKey,this.viewType=null!=t.viewType?function(t,e){let n=Object.getOwnPropertyNames(t);return n[n.map(e=>t[e].toString().toLowerCase()).indexOf(e.toLowerCase())]}(nj,t.viewType):n)}get isBlockView(){return this.viewType===nj.Block}get isLineView(){return this.viewType===nj.Line}}class rj{constructor(t,e,n=oj.Color){this.color=n!==oj.None?t:QB.createColor("rgba(0, 0, 0, 0)",!1,!0),this.title=null!=e?e:rj.getColorTitle(t),this.type=n}get isAddItem(){return this.type===oj.AddItem}get isNone(){return this.type===oj.None}static getColorTitle(t){const e=rj.toPercent;return t instanceof GB?255===t.a?`C:${e(t.c)} M:${e(t.m)} Y:${e(t.y)} K:${e(t.k)}`:`C:${e(t.c)} M:${e(t.m)} Y:${e(t.y)} K:${e(t.k)} A:${e(t.a)}`:t instanceof VB?255===t.a?`R:${t.r} G:${t.g} B:${t.b}`:`R:${t.r} G:${t.g} B:${t.b} A:${e(t.a)}`:t instanceof YB?255===t.a?`L:(${t.l},${t.a},${t.b}`:`L:(${t.l},${t.a},${t.b},${e(t.alpha)}`:t instanceof JB?t.inkName:""}static toPercent(t){return Math.round(t/255*100).toString()}}var oj=function(t){return t[t.Color=0]="Color",t[t.ThemeColor=1]="ThemeColor",t[t.AddItem=2]="AddItem",t[t.None=3]="None",t}({});let sj=(()=>{class t extends ij{constructor(t){super(t,"ColorPicker.COLOR_RECENT_CATEGORY_NAME"),this._addItem=new rj(null,"ColorPicker.ADD_RECENT_COLOR_TITLE",oj.AddItem),this.updateColorsFromStorage(),this.palette[0].unshift(this._addItem)}static get _recentColorsStorageKey(){try{if(window.sessionStorage)return"ccColorPickerPalette"}catch(e){if(t._isWarnPrinted)return null;t._isWarnPrinted=!0,console.warn("Restoring color picker palette on reload is turned off if your cookies are disabled.")}return null}static canUseRecentColors(){return null!=t._recentColorsStorageKey}setAddItemColor(t){this._addItem.color=t}onClose(e){null!=e&&this.addColor(e instanceof rj?e.color:e);const n=this.palette[0].filter(t=>t instanceof zB).map(t=>t.getData());sessionStorage.setItem(t._recentColorsStorageKey,JSON.stringify(n))}addColor(t){var e=t instanceof rj?t.color:t;const n=(t=>{for(const e of this.palette[0])if(!(e instanceof rj)&&e.equals(t))return e;return null})(e);n&&this.palette[0].splice(this.palette[0].indexOf(n),1),this.palette[0].splice(1,0,e.clone())}updateColorsFromStorage(){if(t.canUseRecentColors()){const e=JSON.parse(sessionStorage.getItem(t._recentColorsStorageKey));e&&(this.palette[0]=[this._addItem,...e.map(t=>QB.createColor(t))])}}}return t._isWarnPrinted=!1,t})();class aj extends ij{constructor(){super(),this.palette=[[new rj(QB.createColor("rgba(0,0,0,0)",!1,!0),"ColorPicker.NO_COLOR_TITLE",oj.None)]],this.viewType=nj.Line}}let lj=(()=>{let t=class{constructor(t){this._cdRef=t,this.showHeader=!0,this.onChange=new Yl,this._initialized=!1,this.onSubmit=new Yl}ngOnInit(){this._updateRecentSection()}_updateRecentSection(){Object(WR.isEmpty)(this.sections)||this.sections.forEach(t=>{t instanceof sj&&t.updateColorsFromStorage()})}ngOnDestroy(){this.onClose()}onClose(){this.initialized&&this.sections.forEach(t=>{t instanceof sj&&t.onClose(this.currentColor)})}_canUseRecentColors(){return!this.paletteOnly&&sj.canUseRecentColors()&&this.initialized}get sections(){return this._sections}set sections(t){Object(WR.isEmpty)(t)||(this._sections=t,this.showHeader=this._sections.length>1)}set initialized(t){if(t&&!this._initialized)return this._initialized=t,void this._updateRecentSection();this._initialized=t}get initialized(){return this._initialized}onPaletteSubmit(t){t.preventDefault(),this.onSubmit.emit()}onColorChange(t){this.onChange.emit(t)}isShowHeader(t){return this.showHeader&&!(t instanceof aj)}isSectionCollapse(t){return this.sectionCollapseEnabled&&!(t instanceof aj)}};return t.\u0275fac=function(e){return new(e||t)(Ms(Xo))},t.\u0275cmp=pe({type:t,selectors:[["sections-view"]],inputs:{sections:"sections",initialized:"initialized",sectionCollapseEnabled:"sectionCollapseEnabled",paletteOnly:"paletteOnly",submitButtonInPaletteOnly:"submitButtonInPaletteOnly",paletteHintsEnabled:"paletteHintsEnabled",currentColor:"currentColor"},outputs:{onChange:"onChange",onSubmit:"onSubmit"},decls:6,vars:5,consts:[[1,"sections-view"],[3,"ngClass","showHeader","paletteHintsEnabled","section","sectionCollapseEnabled","currentColor","onChange",4,"ngFor","ngForOf"],[1,"bottom-panel",3,"hidden"],[1,"btn","btn-primary","btn-raised","submit-button",3,"click"],[3,"ngClass","showHeader","paletteHintsEnabled","section","sectionCollapseEnabled","currentColor","onChange"]],template:function(t,e){1&t&&(Ls(0,"div",0),Is(1,cN,1,8,"section-view",1),Bs(),Ls(2,"div",2),Ls(3,"button",3),$s("click",(function(t){return e.onPaletteSubmit(t)})),Ca(4),Xl(5,"translate"),Bs(),Bs()),2&t&&(vr(1),Rs("ngForOf",e.sections),vr(1),Rs("hidden",!e.submitButtonInPaletteOnly||!e.paletteOnly),vr(2),xa(Kl(5,3,"ColorPicker.COLOR_CHOOSE")))},directives:function(){return[Ch,vj,vh]},pipes:function(){return[HR]},styles:["[_nghost-%COMP%]{background-color:#fff;width:100%;height:100%;display:flex;flex-direction:column}[_nghost-%COMP%]   .sections-view[_ngcontent-%COMP%]{flex:1;overflow-y:auto;overflow-x:hidden;display:flex;flex-direction:column}[_nghost-%COMP%]   .sections-view[_ngcontent-%COMP%]   section-view[_ngcontent-%COMP%]{padding:0 0 15px}[_nghost-%COMP%]   .sections-view[_ngcontent-%COMP%]   section-view.last[_ngcontent-%COMP%]{padding-bottom:0}[_nghost-%COMP%]   .bottom-panel[_ngcontent-%COMP%]{margin-top:10px}[_nghost-%COMP%]   .bottom-panel[_ngcontent-%COMP%]   .submit-button[_ngcontent-%COMP%]{margin:0 0 0 auto;padding:6px 20px;box-shadow:none!important}"]}),t})(),cj=(()=>{let t=class{constructor(t){this.title="cc-no-ui-slider",this.onSlideEnd=null,this.onSlide=null,this._sliderCenterTolerance=.1,this._isDragging=!1,this._slideThrottleTime=100,this._onSlideStart=()=>{this._isDragging=!0,this._updateValue(),this._initialValue=this.value},this._onSlideEnd=()=>{this._isDragging=!1,this._updateValue(),null!=this.onSlideEnd&&this.onSlideEnd(this.value,this._initialValue!==this.value)},this._onSlide=Object(WR.throttle)(()=>{this._updateValue(),null!=this.onSlide&&this._isDragging&&this.onSlide(this.value,this._initialValue!==this.value)},this._slideThrottleTime,{leading:!1}),this.element=t.nativeElement}get markValue(){return this._markValue}set markValue(t){t!==this._markValue&&(this._markValue=t,this._update())}get min(){return this._min}set min(t){t!==this._min&&(this._min=t,this._update())}get max(){return this._max}set max(t){t!==this._max&&(this._max=t,this._update())}get value(){return this._value}set value(t){t!==this._value&&(this._value=t,this._update())}_update(){null!=this._sliderInstance&&(this._sliderInstance.noUiSlider.updateOptions({range:this._range}),this._sliderInstance.noUiSlider.set(this.value))}get _step(){return"log"===this.type||"condensed"===this.type?void 0:this.step}get _range(){const t={max:this.max,min:this.min};if("condensed"===this.type){this.center||(this.center=this.min+(this.max-this.min)/2,console.warn("Slider center is null or undefined. Set up default value",this.center));let e=this.max-this.min,n=0,i=.5;for(let r=this.center;r<this.max;r+=e/10,i*=.5)n+=i,t[(100*n).toFixed(0)+"%"]=r}else if("log"===this.type){const e=Math.log,n=this.max-this.min,i=e(100);for(let r=10;r<100;r+=10){const o=100-r+"%",s=1-e(r)/i;t[o]=this.min+n*s}}else{if(null==this.type&&this.markValue){var e={max:[this.max],min:[this.min]},n=null!=this.markTolerancePct?.01*this.markTolerancePct:this._sliderCenterTolerance,i=null==this.markPositionPct?50:this.markPositionPct,r=(this.markValue-this.min)*n,o=(this.max-this.markValue)*n;return e[i-100*n+"%"]=[this.markValue-r,r],e[i+"%"]=[this.markValue,o],e[i+100*n+"%"]=[this.markValue+o],e}Object(WR.isString)(this.type)&&console.warn("Invalid slider type",this.type)}return t}get _orientation(){return this.orientation?this.orientation:"horizontal"}ngAfterViewInit(){this._initNoUiSlider()}_initNoUiSlider(){const t=this._sliderInstance=this.element;Object(tN.create)(this._sliderInstance,{start:null!=this.value?this.value:null!=this.min?this.min:0,connect:"lower",range:this._range,step:this._step,orientation:this._orientation,direction:"vertical"===this._orientation?"rtl":"ltr",format:{from:t=>+t,to:t=>+t}}),this._update(),this._subscribeSliderEvents(t),this._handleSliderKeyEvents(t)}get contentClass(){return this._contentClass}set contentClass(t){const e=t;this._contentClass=t;const n=this.element.querySelector(".noUi-base");null!=e&&n.classList.remove(e),null!=this._contentClass&&n.classList.add(this._contentClass)}_subscribeSliderEvents(t){t.noUiSlider.on("change",this._onSlideEnd),t.noUiSlider.on("start",this._onSlideStart),t.noUiSlider.on("slide",this._onSlide)}_handleSliderKeyEvents(t){const e=t.querySelector(".noUi-handle");e.tabIndex=0;const n="horizontal"===this._orientation?uj.Left:uj.Down,i="horizontal"===this._orientation?uj.Right:uj.Up;e.addEventListener("keydown",t=>{let e=this._sliderInstance.noUiSlider.get();switch(t.which){case n:e=Math.max(e-this.step,this.min),t.preventDefault();break;case i:e=Math.min(e+this.step,this.max),t.preventDefault()}for(let i of Object.keys(this._range)){const o=this._range[i];if("range-with-predefined-step"==((r=o)instanceof Array&&r.length>1?"range-with-predefined-step":"ordinal")){let i=o[0],r=o[1];if(e>i&&e<i+r){e=t.which===n?i:i+r;break}}}var r;this._sliderInstance.noUiSlider.set(e),this._onSlide()}),e.addEventListener("keyup",t=>{this._updateValue(),t.which!==n&&t.which!==i||this._onSlideEnd()}),t.querySelector(".noUi-base").addEventListener("click",()=>e.focus())}_updateValue(){this.value=this._sliderInstance.noUiSlider.get()}};return t.\u0275fac=function(e){return new(e||t)(Ms(Ya))},t.\u0275cmp=pe({type:t,selectors:[["cc-no-ui-slider"]],inputs:{onSlideEnd:"onSlideEnd",onSlide:"onSlide",markValue:"markValue",min:"min",max:"max",value:"value",center:"center",type:"type",markPositionPct:"markPositionPct",markTolerancePct:"markTolerancePct",orientation:"orientation",step:"step"},decls:0,vars:0,template:function(t,e){},styles:[".noUi-base{width:100%;height:100%;position:relative;z-index:1}.noUi-origin{position:absolute;right:0;top:0;left:0;bottom:0;transition:.2s ease-out}.noUi-handle{position:relative;z-index:1;cursor:n-resize}.noUi-handle:focus{outline:0}"],encapsulation:2}),t})();var uj=function(t){return t[t.Shift=16]="Shift",t[t.Left=37]="Left",t[t.Up=38]="Up",t[t.Right=39]="Right",t[t.Down=40]="Down",t[t.Delete=127]="Delete",t}({});class hj{}let dj=(()=>{let t=class{constructor(t,e){this._cdRef=t,this._colorConvertorService=e,this.alphaEnabled=!0,this.initialColorEnabled=!0,this.submitButtonEnabled=!0,this.showCancelButton=!0,this.onColorPickStarted=new Yl,this.onColorPickEnded=new Yl,this._isDestroyed=!1,this._defaultColorPreview=(new VB).preview,this.saturation=0,this.brightness=0,this.onChange=new Yl,this.onSubmit=new Yl,this.onCancel=new Yl,this._dragging=!1,this._debounceConvertToCmyk=Object(WR.debounce)(this._convertToCmyk,300),this._singleConvertToCmyk=YN(this._convertToCmykGenerator),this._debounceConvertToRgb=Object(WR.debounce)(this._convertToRgb,300),this._singleConvertToRgb=YN(this._convertToRgbGenerator),this.isComponentsLoading=!1,this.isPickerLoading=!1,this._updateView=(t=!1,e=!1)=>{if(this._isDestroyed)return;const n=null!=this._hsbColor?this._hsbColor.H:null;this._hsbColor=pj.fromRgb(this._rgbColor),e&&null!=n&&(this._hsbColor.H=n),this.saturation=100*this._hsbColor.S,this.brightness=100*(1-this._hsbColor.B),this._updateAlphaSlider(t),this._updateHueSlider(t),this._cdRef.destroyed||this._cdRef.detectChanges()},this.onPointerMove=t=>{t.stopImmediatePropagation(),t.preventDefault(),this._dragging&&this._onPointerPositionChanged(t,!1)},this.onPointerUp=t=>{this._dragging=!1,this._onPointerPositionChanged(t),document.removeEventListener("mousemove",this.onPointerMove),document.removeEventListener("touchmove",this.onPointerMove),document.removeEventListener("mouseup",this.onPointerUp),document.removeEventListener("touchend",this.onPointerUp),t.stopPropagation(),this._onColorChanged(this.color),this._updateView(!0)},this.onHueUpdate=t=>{this._hsbColor.H=QN(1-t/360,0,1),this._rgbColor=this._hsbColor.toRgb(),this.isCmyk?(this.isComponentsLoading=!0,this._debounceConvertToCmyk(!0)):this._cmykColor=null,this._updateHueSlider(),this._updateAlphaSlider()},this.onHueUpdateEnd=t=>{this.onHueUpdate(t),this.isRgb&&this._onColorChanged(this.color)},this._updateHueSlider=(t=!1)=>{if(null==this._hueSliderElement)return;const e=this._hueSliderElement.element.querySelector(".noUi-handle");null!=e&&(e.style.backgroundColor=this.getHueColor(),t&&null!=this._hueSliderElement.$componentScope&&null!=this._hueSliderElement.$componentScope.$parent&&this._hueSliderElement.$componentScope.$parent.$applyAsync())},this.onAlphaUpdate=t=>{if(null==this._rgbColor||!this.alphaEnabled)return;const e=Math.round(255*t/100);if(this._rgbColor.a=e,null!=this._cmykColor){this._cmykColor.a=e;const n=QN(t/100,0,1);this._cmykColor.preview=this._changeCmykPreviewAlpha(this._cmykColor.preview,n)}this._hsbColor.A=e,this._updateAlphaSlider()},this.onAlphaUpdateEnd=t=>{this.onAlphaUpdate(t),this._onColorChanged(this.color)},this._updateAlphaSlider=(t=!1)=>{if(null==this._alphaSliderElement||!this.alphaEnabled)return;const e=this._alphaSliderElement.element.querySelector(".noUi-handle");null!=e&&(e.style.backgroundColor=this.getCssColor(),t&&null!=this._alphaSliderElement.$componentScope&&null!=this._alphaSliderElement.$componentScope.$parent&&null!=this._alphaSliderElement.$componentScope.$parent.$digest&&this._alphaSliderElement.$componentScope.$parent.$digest())},this._colorSpace=JN.Cmyk,this._cmykColor=new GB({c:0,m:0,y:0,k:0,preview:"rgb(255,255,255)"}),this._updateRgbColorByPreview(this._cmykColor)}set pickColor(t){this._pickColor=t,this.pickColorButtonEnabled="function"==typeof this._pickColor}onPickClick(t){return vR(this,void 0,void 0,(function*(){t.stopPropagation(),t.preventDefault(),this.onColorPickStarted.emit();try{const t=yield this._pickColor();this.color=t,this._onColorChanged(t)}finally{this.onColorPickEnded.emit()}}))}set color(t){var e;if(null!=t){if(this._isColorSupported(t))this._unsupportedColor=null;else{if(null===(e=this._unsupportedColor)||void 0===e?void 0:e.equals(t))return;this._unsupportedColor=t.clone()}if(null!=this._colorSpace){if(t instanceof VB){if(null!=this._rgbColor&&this._rgbColor.equals(t))return;if(this._rgbColor=t.clone(),this.isCmyk)return void this._debounceConvertToCmyk(!1,!1);if(this.isRgb)return this._cmykColor=null,void this._debounceConvertToRgb(!1)}else{const e=t instanceof GB?t:t instanceof JB&&t.inkColor instanceof GB?t.inkColor:null;if(null!=this._cmykColor&&this._cmykColor.equals(e,!0))return void(t instanceof GB&&t.preview!==this._cmykColor.preview&&this._actualizeColorOnPalette());if(null==e)return void this._debounceConvertToCmyk();this._cmykColor=e.clone(),this._updateRgbColorByPreview(t),this.isRgb&&this._debounceConvertToRgb(!1)}setTimeout(this._updateView,0)}}}get color(){return null!=this._unsupportedColor?this._unsupportedColor:null!=this._cmykColor?this._cmykColor:this._rgbColor}get sliderHueValue(){return 360*(1-(null!=this._hsbColor?this._hsbColor.H:0))}get sliderAlphaValue(){return null!=this._rgbColor?Math.round(100*this._rgbColor.a/255).toString():255}get r(){return this._getRgbComponent("r")}set r(t){this._setRgbComponent("r",t)}get g(){return this._getRgbComponent("g")}set g(t){this._setRgbComponent("g",t)}get b(){return this._getRgbComponent("b")}set b(t){this._setRgbComponent("b",t)}get c(){return this._getCmykComponent("c")}set c(t){this._setCmykComponent("c",t)}get m(){return this._getCmykComponent("m")}set m(t){this._setCmykComponent("m",t)}get y(){return this._getCmykComponent("y")}set y(t){this._setCmykComponent("y",t)}get k(){return this._getCmykComponent("k")}set k(t){this._setCmykComponent("k",t)}get a(){return null!=this._rgbColor?Math.round(100*this._rgbColor.a/255).toString():"0"}set a(t){if(null==this._rgbColor||!this.alphaEnabled)return;let e=Math.max(0,ZN(t)||0);e=Math.min(100,e);const n=QN(Math.round(255*e/100),0,255);this._rgbColor.a=n,null!=this._cmykColor&&(this._cmykColor.a=n),(this.isRgb?this._rgbComponentsElement:this._cmykComponentsElement).nativeElement.querySelector(".a .component-input").value=this.a.toString(),this._onColorChanged(null!=this._cmykColor?this._cmykColor:this._rgbColor),this._updateView(!0)}set colorSpace(t){if(null==t)throw new XR("Picker.ts: Color space cannot be null!");if(t===this._colorSpace)return;const e=null==this._colorSpace;if(this._colorSpace=t,e){const t=this._unsupportedColor;return this._unsupportedColor=null,void(this.color=t)}if(this.isRgb)this._debounceConvertToRgb(!1);else if(this.isCmyk){if(null!=this._cmykColor)return;return this.isComponentsLoading=!0,void this._debounceConvertToCmyk(!1)}}get isCmyk(){return this._colorSpace===JN.Cmyk}get isRgb(){return this._colorSpace===JN.Rgb}ngOnDestroy(){this._isDestroyed=!0}ngOnInit(){this._updateView()}_actualizeColorOnPalette(){return vR(this,void 0,void 0,(function*(){this._isDestroyed||(this.isPickerLoading=!0,this._cdRef.destroyed||this._cdRef.detectChanges(),yield this._singleConvertToRgb(this._cmykColor.clone(),this._colorConvertorService,t=>vR(this,void 0,void 0,(function*(){this._cmykColor.preview!==t.preview&&(this._cmykColor.preview=t.preview,this._cmykColor=this._cmykColor.clone(),this._updateRgbColorByPreview(this._cmykColor),this._onColorChanged(this._cmykColor),this._updateView(!0),this.isPickerLoading=!1),this._updateView(!0),this.isPickerLoading=!1,this._cdRef.destroyed||this._cdRef.detectChanges()}))))}))}_isColorSupported(t){return this._colorSpace===JN.Rgb&&t instanceof VB||this._colorSpace===JN.Cmyk&&t instanceof GB}_onColorChanged(t){this.onChange.emit(t.clone())}onSubmitButtonClick(){this.onSubmit.emit(this.color)}onCancelButtonClick(){this.onCancel.emit()}getCssColor(){return null!=this.color?this.color.preview:this._defaultColorPreview}getInitialCssColor(){return null!=this.initialColor?this.initialColor.preview:this._defaultColorPreview}getCssColorWithoutAlpha(){if(null==this._rgbColor)return(new VB).preview;const t=this._rgbColor.clone();return t.a=255,t.preview}getHueColor(){return new pj(null!=this._hsbColor?this._hsbColor.H:0,1,1,255).toRgb().preview}onPointerDown(t){this._dragging=!0,this._onPointerPositionChanged(t),document.addEventListener("mousemove",this.onPointerMove),document.addEventListener("touchmove",this.onPointerMove),document.addEventListener("mouseup",this.onPointerUp),document.addEventListener("touchend",this.onPointerUp)}_onPointerPositionChanged(t,e=!0){const n=this._getPercentPositionFromEvent(t);null!=n&&this._updateColorBySaturationAndBrightness(n.X,n.Y,e)}_getPercentPositionFromEvent(t){let e,n;const i=this._basPaletteElement.nativeElement,r=i.getBoundingClientRect();if(t instanceof MouseEvent)e=t.pageX-r.left,n=t.pageY-r.top;else{if(null==t.touches||null==t.touches[0])return null;e=t.touches[0].pageX-r.left,n=t.touches[0].pageY-r.top}return{X:e/i.offsetWidth,Y:n/i.offsetHeight}}_updateColorBySaturationAndBrightness(t,e,n=!0){null!=this._hsbColor&&(t=QN(t,0,1),e=QN(e,0,1),this.saturation=100*t,this.brightness=100*e,this._hsbColor=new pj(this._hsbColor.H,t,1-e,this._rgbColor.a),this._rgbColor=this._hsbColor.toRgb(),this.isCmyk?(this.isComponentsLoading=!0,this._debounceConvertToCmyk(!1,n)):this._cmykColor=null,this._updateAlphaSlider(),this._updateHueSlider(),this._cdRef.destroyed||this._cdRef.detectChanges())}_changeCmykPreviewAlpha(t,e){let n=VB.matchRgba(t);return null!=n&&6===n.length?`rgba(${+n[1]},${+n[2]},${+n[3]},${e})`:(n=VB.matchRgb(t),null!=n&&4===n.length?`rgba(${+n[1]},${+n[2]},${+n[3]},${e})`:t)}_setRgbComponent(t,e){if(null==this._rgbColor||e===this._rgbColor[t].toString()||null==e)return;let n=Math.max(0,ZN(e)||0);n=Math.min(255,n),this._rgbColor[t]=n,this._rgbComponentsElement.nativeElement.querySelector(`.${t} .component-input`).value=this[t].toString(),this.isCmyk?this._debounceConvertToCmyk():(this._cmykColor=null,this._debounceConvertToRgb()),this._updateView(!0)}_getRgbComponent(t){return null!=this._rgbColor?this._rgbColor[t].toString():"0"}_getCmykComponent(t){return null!=this._cmykColor?Math.round(this._cmykColor[t]/255*100).toString():"0"}_setCmykComponent(t,e){if(null==this._cmykColor||e===this._cmykColor[t].toString())return;let n=Math.max(0,ZN(e)||0);n=Math.min(100,n),this._cmykColor[t]=QN(Math.round(255*n/100),0,255),this._cmykComponentsElement.nativeElement.querySelector(`.${t} .component-input`).value=this[t].toString();const i=this._cmykColor.clone();i.preview=null,this.color=i,this._updateView(!0)}_updateRgbColorByPreview(t){const e=QB.createColor(t.preview,!1,!0);null!=this._rgbColor&&this._rgbColor.equals(e)||(this._rgbColor=e)}_convertToCmyk(t=!1,e=!0){return vR(this,void 0,void 0,(function*(){this._isDestroyed||(this.isComponentsLoading=!0,this._cdRef.destroyed||this._cdRef.detectChanges(),yield this._singleConvertToCmyk(this._rgbColor.clone(),this._colorConvertorService,n=>{this._cmykColor=n,this.isComponentsLoading=!1,e&&this._onColorChanged(this._cmykColor),this._updateView(!0,t)}))}))}*_convertToCmykGenerator(t,e,n){n(yield e.convertRgbToCmyk(t))}*_convertToRgbGenerator(t,e,n){n(yield e.convertCmykToRgb(t))}_convertToRgb(t=!0){return vR(this,void 0,void 0,(function*(){if(this.isPickerLoading=!0,this._cdRef.destroyed||this._cdRef.detectChanges(),null==this._cmykColor)return this._rgbColor=this._rgbColor.clone(),this.isPickerLoading=!1,this._onColorChanged(this._rgbColor),void this._updateView(!0);yield this._singleConvertToRgb(this._cmykColor.clone(),this._colorConvertorService,e=>{this._rgbColor=e,this.isPickerLoading=!1,this._cmykColor.preview=this._rgbColor.preview,t&&this._onColorChanged(this._rgbColor),this._updateView(!0)})}))}};return t.\u0275fac=function(e){return new(e||t)(Ms(Xo),Ms(hj))},t.\u0275cmp=pe({type:t,selectors:[["picker"]],viewQuery:function(t,e){var n;1&t&&(cc(uN,!0),cc(hN,!0,cj),cc(dN,!0,cj),cc(pN,!0),cc(fN,!0)),2&t&&(ac(n=fc())&&(e._basPaletteElement=n.first),ac(n=fc())&&(e._alphaSliderElement=n.first),ac(n=fc())&&(e._hueSliderElement=n.first),ac(n=fc())&&(e._rgbComponentsElement=n.first),ac(n=fc())&&(e._cmykComponentsElement=n.first))},inputs:{alphaEnabled:"alphaEnabled",initialColorEnabled:"initialColorEnabled",submitButtonEnabled:"submitButtonEnabled",showCancelButton:"showCancelButton",pickColor:"pickColor",color:"color",colorSpace:"colorSpace",initialColor:"initialColor"},outputs:{onColorPickStarted:"onColorPickStarted",onColorPickEnded:"onColorPickEnded",onChange:"onChange",onSubmit:"onSubmit",onCancel:"onCancel"},decls:23,vars:33,consts:[[1,"sliders",3,"click","mousedown","touchstart"],[1,"cc-loading-shadow",3,"ngClass"],[1,"brightness-and-saturation-pallete",3,"selectstart","dragstart","click","mousedown","touchstart"],["brightnessAndSaturationPalette",""],[1,"saturation"],[1,"brightness"],[1,"pointer"],[1,"slider","svert","hue-slider",3,"value","min","max","step","orientation","onSlide","onSlideEnd"],["hueSlider",""],["class","slider svert alpha-slider",3,"value","min","max","step","orientation","onSlide","onSlideEnd","ngStyle",4,"ngIf"],[1,"color-space-container"],["class","pick-color btn",3,"click",4,"ngIf"],["class","rgb-components color-components",4,"ngIf"],["class","cmyk-components color-components",4,"ngIf"],[1,"bottom-panel"],[1,"color-preview-container"],["class","initial-color preview-color",3,"color",4,"ngIf"],[1,"target-color","preview-color"],["class","btn btn-secondary cancel-button",3,"click",4,"ngIf"],[1,"btn","btn-primary","btn-raised","submit-button",3,"disabled","click"],[1,"slider","svert","alpha-slider",3,"value","min","max","step","orientation","onSlide","onSlideEnd","ngStyle"],["alphaSlider",""],[1,"pick-color","btn",3,"click"],[1,"rgb-components","color-components"],["rgbComponents",""],[1,"component-container","r"],[1,"component-caption"],["onfocus","select()","type","text",1,"component-input",3,"ngModel","ngModelChange","keydown"],[1,"component-container","g"],[1,"component-container","b"],["class","component-container a",4,"ngIf"],[1,"component-container","a"],[1,"cmyk-components","color-components"],["cmykComponents",""],[1,"component-container","c"],[1,"component-container","m"],[1,"component-container","y"],[1,"component-container","k"],[1,"initial-color","preview-color"],[1,"btn","btn-secondary","cancel-button",3,"click"]],template:function(t,e){1&t&&(Ls(0,"div",0),$s("click",(function(t){return t.preventDefault(),t.stopPropagation(),t.stopImmediatePropagation()}))("mousedown",(function(t){return t.preventDefault(),t.stopPropagation(),t.stopImmediatePropagation()}))("touchstart",(function(t){return t.preventDefault(),t.stopPropagation(),t.stopImmediatePropagation()})),Ns(1,"div",1),Ls(2,"div",2,3),$s("selectstart",(function(t){return t.preventDefault()}))("dragstart",(function(t){return t.preventDefault()}))("click",(function(t){return t.preventDefault(),t.stopPropagation(),t.stopImmediatePropagation()}))("mousedown",(function(t){return e.onPointerDown(t)}))("touchstart",(function(t){return e.onPointerDown(t)})),Ns(4,"div",4),Ns(5,"div",5),Ns(6,"div",6),Bs(),Ns(7,"cc-no-ui-slider",7,8),Is(9,gN,2,10,"cc-no-ui-slider",9),Bs(),Ls(10,"div",10),Is(11,yN,2,0,"button",11),Ns(12,"div",1),Is(13,vN,15,7,"div",12),Is(14,wN,19,9,"div",13),Bs(),Ls(15,"div",14),Ls(16,"div",15),Is(17,CN,1,2,"div",16),Ns(18,"div",17),Bs(),Is(19,xN,3,3,"button",18),Ls(20,"button",19),$s("click",(function(){return e.onSubmitButtonClick()})),Ca(21),Xl(22,"translate"),Bs(),Bs()),2&t&&(vr(1),Rs("ngClass",Vl(29,EN,e.isPickerLoading)),vr(1),ca("background",e.getHueColor(),Ji),vr(4),ca("background",e.getCssColorWithoutAlpha(),Ji)("top",e.brightness+"%")("left",e.saturation+"%"),vr(1),Rs("value",e.sliderHueValue)("min",0)("max",360)("step",1)("orientation","vertical")("onSlide",e.onHueUpdate)("onSlideEnd",e.onHueUpdateEnd),vr(2),Rs("ngIf",e.alphaEnabled),vr(2),Rs("ngIf",e.pickColorButtonEnabled),vr(1),Rs("ngClass",Vl(31,EN,e.isComponentsLoading)),vr(1),Rs("ngIf",e.isRgb),vr(1),Rs("ngIf",e.isCmyk),vr(3),Rs("ngIf",e.initialColorEnabled),vr(1),ca("color",e.getCssColor()),vr(1),Rs("ngIf",e.showCancelButton),vr(1),Rs("disabled",!e.submitButtonEnabled),vr(1),xa(Kl(22,27,"ColorPicker.OK")))},directives:[vh,cj,Eh,Dh,pd,bd,kp],pipes:[HR],styles:['picker{background-color:#fff;display:flex;width:100%;height:100%;flex-direction:column;padding-left:15px}picker .cc-loading-shadow{background-color:#fff;opacity:0;display:flex;align-items:center;justify-content:center;width:100%;height:100%;position:absolute;top:0;left:0;z-index:100;transition:opacity .2s ease-in;pointer-events:none}picker .cc-loading-shadow.enabled{opacity:.5;pointer-events:auto}picker .sliders{display:flex;position:relative;padding-bottom:12px}picker .sliders.loading{background-color:#483d8b}picker .sliders .brightness-and-saturation-pallete{flex:1;height:158px;position:relative;cursor:pointer;border-radius:3px;transition:background-color .1s linear;border:1px solid #ccc;box-sizing:content-box;touch-action:none;-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none}picker .sliders .brightness-and-saturation-pallete .saturation{position:absolute;width:100%;height:100%;background-image:linear-gradient(to right,#fff,rgba(0,0,0,0));border-radius:2px}picker .sliders .brightness-and-saturation-pallete .brightness{position:absolute;width:100%;height:100%;background-image:linear-gradient(to top,#000,rgba(0,0,0,0));border-radius:2px}picker .sliders .brightness-and-saturation-pallete .pointer{border-radius:10px;height:10px;width:10px;border:4px solid #fff;position:absolute;box-sizing:content-box;transform:translate(-9px,-9px);pointer-events:none;transition:background-color .1s linear;box-shadow:0 1px 2px rgba(0,0,0,.25)}picker .sliders .slider{width:18px;height:158px;margin:0 0 0 12px;border-radius:2px;border:1px solid rgba(0,0,0,.1);box-sizing:content-box}picker .sliders .slider.hue-slider{background:linear-gradient(to bottom,red 0,#ff0 17%,#0f0 33%,#0ff 50%,#00f 67%,#f0f 83%,red 100%)}picker .sliders .slider.alpha-slider{position:relative;background-size:0;background-color:transparent}picker .sliders .slider.alpha-slider:after{content:"";background-image:linear-gradient(45deg,rgba(0,0,0,.1) 25%,transparent 25%,transparent 74%,rgba(0,0,0,.1) 75%,rgba(0,0,0,.1)),linear-gradient(45deg,rgba(0,0,0,.1) 25%,transparent 25%,transparent 74%,rgba(0,0,0,.1) 75%,rgba(0,0,0,.1));background-size:10px 10px;background-position:0 0,5px 5px;width:100%;height:100%;position:absolute;background-color:#fff;z-index:1}picker .sliders .slider.alpha-slider:before{content:"";background-image:inherit;position:absolute;height:100%;width:100%;z-index:2}picker .sliders .slider.alpha-slider .noUi-base{position:absolute;z-index:3}picker .sliders .slider .noUi-base{width:100%!important;left:0}picker .sliders .slider .noUi-base .noUi-connect{background:0 0;top:0;width:100%;left:0}picker .sliders .slider .noUi-base .noUi-connect .noUi-handle-upper{transition:background-color .1s linear;border-radius:10px;height:10px;width:10px;border:4px solid #fff;box-sizing:content-box;transform:translate(-9px,-9px)!important;background:0 0;left:50%;top:0;margin:0;box-shadow:0 1px 2px rgba(0,0,0,.25)}picker .color-space-container{display:flex;padding-bottom:16px;position:relative}picker .color-space-container .pick-color{display:flex;width:auto;height:100%}picker .color-space-container .color-components{display:flex;flex:1}picker .color-space-container .color-components .component-container{display:flex;flex-direction:column;flex:1}picker .color-space-container .color-components .component-container:not(:last-child){margin-right:8px}picker .color-space-container .color-components .component-container .component-input{text-align:center;height:24px;border-radius:2px;box-shadow:0;width:calc(100% - 6px);-webkit-appearance:none;border:1px solid #e0e0e0}picker .color-space-container .color-components .component-container .component-caption{display:flex;align-items:center;justify-content:center;height:12px;font-size:10px;color:#999;margin-bottom:2px}picker .bottom-panel{display:flex;align-items:center}picker .bottom-panel .color-preview-container{display:flex;border-radius:3px;border:1px solid rgba(0,0,0,.1);box-sizing:border-box;margin-right:auto;height:32px;overflow:auto}picker .bottom-panel .color-preview-container .preview-color{width:30px;height:30px;box-sizing:border-box;position:relative;background-size:0}picker .bottom-panel .color-preview-container .preview-color:before{background-color:currentColor;z-index:1;content:"";width:100%;height:100%;position:absolute}picker .bottom-panel .color-preview-container .preview-color:after{content:"";position:absolute;background-image:linear-gradient(45deg,rgba(0,0,0,.1) 25%,transparent 25%,transparent 74%,rgba(0,0,0,.1) 75%,rgba(0,0,0,.1)),linear-gradient(45deg,rgba(0,0,0,.1) 25%,transparent 25%,transparent 74%,rgba(0,0,0,.1) 75%,rgba(0,0,0,.1));background-size:10px 10px;background-position:0 0,5px 5px;width:100%;height:100%}picker .bottom-panel .color-preview-container .initial-color{border-bottom-left-radius:2px;border-top-left-radius:2px}picker .bottom-panel .color-preview-container .target-color{border-bottom-right-radius:2px;border-top-right-radius:2px}picker .bottom-panel .btn{padding:8px;box-shadow:none!important;width:72px}picker .bottom-panel .btn.cancel-button{margin-right:8px}'],encapsulation:2}),t})();class pj{constructor(t=0,e=0,n=0,i=0){this.H=t,this.S=e,this.B=n,this.A=i}static fromRgb(t){const e=t.r/255,n=t.g/255,i=t.b/255,r=Math.max(e,n,i),o=Math.min(e,n,i);let s=r;const a=r,l=r-o,c=0===r?0:l/r;if(r===o)s=0;else{switch(r){case e:s=(n-i)/l+(n<i?6:0);break;case n:s=(i-e)/l+2;break;case i:s=(e-n)/l+4}s/=6}return new pj(s,c,a,t.a)}toRgb(){const t=6*this.H,e=Math.floor(t),n=t-e,i=this.B*(1-this.S),r=this.B*(1-n*this.S),o=this.B*(1-(1-n)*this.S),s=e%6,a=[o,this.B,this.B,r,i,i][s],l=[i,i,o,this.B,this.B,r][s],c={r:Math.round(255*[this.B,r,i,i,o,this.B][s]),g:Math.round(255*a),b:Math.round(255*l),a:this.A,type:"RgbColor"};return QB.createColor(c,!1,!0)}}class fj extends ij{constructor(t,e){super(t,"ColorPicker.COLOR_THEME_CATEGORY_NAME",nj.Line),null!=e&&(this.palette=e)}}class mj extends ij{constructor(t){super(t,"ColorPicker.COLOR_DEFAULT_CATEGORY_NAME"),null!=t.palette&&(Object(WR.isArray)(t.palette[0])||(t.palette=[t.palette]),this.palette=t.palette.map(t=>t.map(t=>"string"==typeof t?QB.createColor(t):new rj(QB.createColor(t.color),t.title))))}}const gj=()=>({paletteHintsEnabled:!0,showPaletteOnly:!1,colorSpace:JN.Cmyk,sections:[{type:tj.NoColorSection,targets:[ej.Fill,ej.Border,ej.Background],translationKey:"ColorPicker.NO_COLOR_TITLE",viewType:nj.Line},{type:tj.RecentSection,translationKey:"ColorPicker.COLOR_RECENT_CATEGORY_NAME",viewType:nj.Block},{type:tj.PaletteSection,viewType:nj.Block,translationKey:"ColorPicker.COLOR_DEFAULT_CATEGORY_NAME",palette:[["rgba(0, 0, 0, 255)","rgba(255, 0, 0, 255)","rgba(0, 255, 0, 255)","rgba(0, 0, 255, 255)","rgba(255, 255, 0, 255)","rgba(0, 255, 255, 255)","rgba(255, 0, 255, 255)","rgba(255, 255, 255, 255)","rgba(0, 125, 255, 255)"],["cmyk(0%, 100%, 100%, 0%, 100%)","cmyk(0%, 0%, 100%, 0%, 100%)","cmyk(100%, 0%, 100%, 0%, 100%)","cmyk(100%, 0%, 0%, 0%, 100%)","cmyk(100%, 100%, 0%, 0%, 100%)","cmyk(0%, 100%, 0%, 0%, 100%)","cmyk(40%, 100%, 45%, 25%, 100%)"],["cmyk(0%, 0%, 0%, 0%, 100%)","cmyk(0%, 0%, 0%, 10%, 100%)","cmyk(0%, 0%, 0%, 15%, 100%)","cmyk(0%, 0%, 0%, 25%, 100%)","cmyk(0%, 0%, 0%, 50%, 100%)","cmyk(0%, 0%, 0%, 75%, 100%)","cmyk(0%, 0%, 0%, 100%, 100%)"],["cmyk(5%, 0%, 90%, 0%, 100%)","cmyk(5%, 10%, 85%, 5%, 100%)","cmyk(0%, 35%, 85%, 0%, 100%)","cmyk(0%, 50%, 100%, 0%, 100%)","cmyk(0%, 80%, 95%, 0%, 100%)","cmyk(0%, 90%, 85%, 0%, 100%)","cmyk(15%, 100%, 90%, 10%, 100%)"],["cmyk(20%, 0%, 100%, 0%, 100%)","cmyk(50%, 0%, 100%, 0%, 100%)","cmyk(65%, 0%, 100%, 0%, 100%)","cmyk(80%, 0%, 100%, 0%, 100%)","cmyk(85%, 10%, 100%, 10%, 100%)","cmyk(85%, 20%, 100%, 20%, 100%)","cmyk(80%, 30%, 90%, 30%, 100%)"],["cmyk(50%, 0%, 0%, 0%, 100%)","cmyk(65%, 5%, 5%, 0%, 100%)","cmyk(70%, 15%, 0%, 0%, 100%)","cmyk(85%, 50%, 0%, 0%, 100%)","cmyk(100%, 60%, 15%, 0%, 100%)","cmyk(100%, 75%, 15%, 0%, 100%)","cmyk(100%, 75%, 30%, 15%, 100%)"],["cmyk(0%, 60%, 20%, 0%, 100%)","cmyk(0%, 95%, 20%, 0%, 100%)","cmyk(10%, 100%, 50%, 0%, 100%)","cmyk(35%, 100%, 35%, 10%, 100%)","cmyk(50%, 100%, 0%, 0%, 100%)","cmyk(75%, 100%, 0%, 0%, 100%)","cmyk(80%, 100%, 15%, 20%, 100%)"],["cmyk(10%, 15%, 25%, 0%, 100%)","cmyk(25%, 25%, 40%, 0%, 100%)","cmyk(40%, 45%, 50%, 5%, 100%)","cmyk(50%, 50%, 60%, 25%, 100%)","cmyk(55%, 60%, 65%, 40%, 100%)","cmyk(55%, 60%, 55%, 50%, 100%)","cmyk(60%, 60%, 60%, 60%, 100%)"],["cmyk(10%, 20%, 50%, 0%, 100%)","cmyk(15%, 30%, 60%, 5%, 100%)","cmyk(25%, 40%, 65%, 0%, 100%)","cmyk(30%, 50%, 75%, 10%, 100%)","cmyk(35%, 60%, 80%, 25%, 100%)","cmyk(40%, 65%, 90%, 35%, 100%)","cmyk(40%, 60%, 90%, 50%, 100%)"]]}],sectionCollapseEnabled:!1});let yj=(()=>{let t=class{constructor(t){this._translateService=t,this.paletteOnly=!1,this.onChange=new Yl,this.onSubmit=new Yl,this.submitButtonInPaletteOnly=!1,this.initialized=!1,this.onColorPickStarted=new Yl,this.isHidden=!1,this._setDefaultLanguage(),this.conf=gj()}set conf(t){null!=t&&(this._conf=Object.assign(Object.assign({},gj()),t),this._init())}set themeColors(t){if(null==t)return;this._themeColors=[t.map(t=>new rj(t.color,t.title,oj.ThemeColor))];const e=this.sections.find(t=>t instanceof fj);null!=e&&(e.palette=this._themeColors)}set initialValue(t){t instanceof zB&&(null!=this._currentColor&&this._currentColor.equals(t)||(this._currentColor=t.clone()),this._initialColor=t.clone())}get initialValue(){return this._initialColor}get currentColor(){return null!=this._currentColor?this._currentColor:this._defaultColor}_setDefaultLanguage(){return vR(this,void 0,void 0,(function*(){this._translateService.setDefaultLang("en"),this._translateService.use("en")}))}_init(){var t;let e=!1,n=!1,i=!1;if(this.sections=Object(WR.isArray)(this._conf.sections)?Object(WR.without)(this._conf.sections.map(t=>{if(t.type===tj.ThemeSection){if(e)return console.log("ColorPicker: A widget must contain only one theme section."),null;e=!0}if(t.type===tj.RecentSection){if(n)return console.log("ColorPicker: A widget must contain only one recent section."),null;n=!0}if(t.type===tj.NoColorSection){if(i)return console.log("ColorPicker: A widget must contain only one no color section."),null;i=!0}return this._convertSection(t)}),null,void 0):[],i){const t=this.sections.find(t=>t instanceof aj);if(null!=t){const e=this.sections.indexOf(t);if(e>=0){const t=this.sections.splice(e,1)[0];this.sections.unshift(t)}}}this.colorSpace=this._conf.colorSpace,this.paletteOnly=null!=this._conf.showPaletteOnly&&this._conf.showPaletteOnly,this.sectionCollapseEnabled=this.sections.length>1&&!(2===this.sections.length&&n)&&this._conf.sectionCollapseEnabled,this.paletteHintsEnabled=null==(t=this._conf.paletteHintsEnabled)||t}_convertSection(t){let e;switch(t.type){case tj.PaletteSection:e=new mj(t);break;case tj.ThemeSection:e=new fj(t,this._themeColors);break;case tj.RecentSection:e=new sj(t);break;case tj.NoColorSection:e=new aj;break;default:console.error(`Unknown palette section type: ${t.type}`)}if(!(e instanceof aj)){const t=e.palette[0][0];null==this._defaultColor&&(this._defaultColor=t instanceof rj?t.color:t)}return e}onColorChange(t){this._currentColor=t instanceof rj?t.color:t,this.initialized&&this.onChange.emit(t)}onChildSubmit(){null!=this._sectionsView&&this._sectionsView.onClose(),this.onSubmit.emit(this.currentColor)}addLocalization(t,e,n=!1){this._translateService.setTranslation(t,e,!0),n&&(this._translateService.currentLang=t)}setLanguage(t){this._translateService.setDefaultLang(t),this._translateService.use(t)}get pickColor(){return this._pickColor}set pickColor(t){this._pickColor=t}onColorPickEnded(){this.isHidden=!1}onChildColorPickStarted(){this.onColorPickStarted.emit(),this.isHidden=!0}};return t.\u0275fac=function(e){return new(e||t)(Ms(jR))},t.\u0275cmp=pe({type:t,selectors:[["cc-color-picker"]],viewQuery:function(t,e){var n;1&t&&(cc(lj,!0),cc(dj,!0)),2&t&&(ac(n=fc())&&(e._sectionsView=n.first),ac(n=fc())&&(e._picker=n.first))},inputs:{paletteOnly:"paletteOnly",submitButtonInPaletteOnly:"submitButtonInPaletteOnly",initialized:"initialized",conf:"conf",themeColors:"themeColors",initialValue:"initialValue",sections:"sections",addLocalization:"addLocalization",setLanguage:"setLanguage",pickColor:"pickColor"},outputs:{onChange:"onChange",onSubmit:"onSubmit",onColorPickStarted:"onColorPickStarted"},decls:3,vars:14,consts:[[1,"color-picker","preventCanvasClickHandle",3,"ngClass"],[1,"sections-view",3,"paletteOnly","sections","currentColor","sectionCollapseEnabled","submitButtonInPaletteOnly","initialized","paletteHintsEnabled","onChange","onSubmit"],["class","picker",3,"color","initialColor","showCancelButton","colorSpace","pickColor","onChange","onSubmit","onColorPickStarted","onColorPickEnded",4,"ngIf"],[1,"picker",3,"color","initialColor","showCancelButton","colorSpace","pickColor","onChange","onSubmit","onColorPickStarted","onColorPickEnded"]],template:function(t,e){1&t&&(Ls(0,"div",0),Ls(1,"sections-view",1),$s("onChange",(function(t){return e.onColorChange(t)}))("onSubmit",(function(){return e.onChildSubmit()})),Bs(),Is(2,SN,1,5,"picker",2),Bs()),2&t&&(Rs("ngClass",$l(9,PN,e.paletteOnly,e.submitButtonInPaletteOnly,e.sectionCollapseEnabled,e.isHidden)),vr(1),Rs("paletteOnly",e.paletteOnly)("sections",e.sections)("currentColor",e.currentColor)("sectionCollapseEnabled",e.sectionCollapseEnabled)("submitButtonInPaletteOnly",e.submitButtonInPaletteOnly)("initialized",e.initialized)("paletteHintsEnabled",e.paletteHintsEnabled),vr(1),Rs("ngIf",!e.paletteOnly))},directives:[vh,lj,Eh,dj],styles:["cc-dropdown-content > [_nghost-%COMP%]{position:absolute}[_nghost-%COMP%]{font-family:Roboto;font-style:normal;font-weight:400;font-size:12px;line-height:20px;box-shadow:0 2px 5px 0 rgba(0,0,0,.26)}[_nghost-%COMP%]   .color-picker[_ngcontent-%COMP%]{opacity:1;transition:opacity .2s linear;max-height:285px;height:285px;padding:10px 15px 15px;display:flex;background:#fff}[_nghost-%COMP%]   .color-picker.palette-only[_ngcontent-%COMP%]{width:auto;padding-top:15px}[_nghost-%COMP%]   .color-picker.palette-only[_ngcontent-%COMP%]   .palette[_ngcontent-%COMP%]{width:auto}[_nghost-%COMP%]   .color-picker.palette-only[_ngcontent-%COMP%]:not(.section-collapse){height:auto}[_nghost-%COMP%]   .color-picker.palette-only[_ngcontent-%COMP%]:not(.section-collapse)   sections-view[_ngcontent-%COMP%]{max-height:260px}[_nghost-%COMP%]   .color-picker.palette-only.submit-button-enabled[_ngcontent-%COMP%]   .palette[_ngcontent-%COMP%]{width:100%}[_nghost-%COMP%]   .color-picker.is-hidden[_ngcontent-%COMP%]{opacity:0;-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none;pointer-events:none}[_nghost-%COMP%]   .color-picker[_ngcontent-%COMP%]   .sections-view[_ngcontent-%COMP%]{width:188px;max-width:188px;height:100%;padding-right:3px;padding-top:2px}[_nghost-%COMP%]   .color-picker[_ngcontent-%COMP%]   .picker[_ngcontent-%COMP%]{width:239px;height:100%}"]}),t})();class _j{constructor(t){this._value="00000000-0000-0000-0000-000000000000",null!=t?this.set(t):this.generateNewGuid()}set(t){if(!this.isValid(t))throw new Error(t+"is incorrect uuid!");this._value=t}get value(){return this._value}isValid(t){return t=t.toUpperCase(),null!=new RegExp("\\b(?:[A-F0-9]{8})(?:-[A-F0-9]{4}){3}-(?:[A-F0-9]{12})\\b").exec(t)}generateNewGuid(){var t=(new Date).getTime(),e="xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,(function(e){var n=(t+16*Math.random())%16|0;return t=Math.floor(t/16),("x"==e?n:7&n|8).toString(16)}));this.set(e)}toString(){return this._value}equals(t){return t._value===this._value}}let vj=(()=>{let t=class{constructor(t){this._cdRef=t,this.sectionId=new _j,this.onChange=new Yl}get currentColor(){return this._currentColor}set currentColor(t){this._currentColor=t,this.section instanceof sj&&null!=t&&this.section.setAddItemColor(t)}ngOnInit(){}ngOnDestroy(){}get paletteItems(){return this.section.palette}onItemChange(t){this.onChange.emit(t)}isRecentSection(t){return t instanceof sj}onColorAdd(t){this.section instanceof sj&&(this.section.addColor(t),this._cdRef.destroyed||this._cdRef.detectChanges())}};return t.\u0275fac=function(e){return new(e||t)(Ms(Xo))},t.\u0275cmp=pe({type:t,selectors:[["section-view"]],inputs:{currentColor:"currentColor",section:"section",sectionCollapseEnabled:"sectionCollapseEnabled",showHeader:"showHeader",paletteHintsEnabled:"paletteHintsEnabled"},outputs:{onChange:"onChange"},decls:3,vars:3,consts:[["class","header",4,"ngIf"],[3,"viewType","paletteItems","currentColor","paletteHintsEnabled","onColorAdd","onChange",4,"ngIf"],["class","collapse-container",4,"ngIf"],[1,"header"],[3,"viewType","paletteItems","currentColor","paletteHintsEnabled","onColorAdd","onChange"],[1,"collapse-container"],["type","button","data-toggle","collapse","aria-expanded","true",1,"collapse-button"],[1,"cc-icon-collapse"],["aria-expanded","true",1,"collapse","in"]],template:function(t,e){1&t&&(Is(0,ON,3,3,"div",0),Is(1,kN,1,4,"palette",1),Is(2,TN,8,10,"div",2)),2&t&&(Rs("ngIf",!e.sectionCollapseEnabled&&e.showHeader),vr(1),Rs("ngIf",!e.sectionCollapseEnabled),vr(1),Rs("ngIf",e.sectionCollapseEnabled))},directives:function(){return[Eh,bj]},pipes:function(){return[HR]},styles:["[_nghost-%COMP%]{background-color:#fff;width:100%;height:auto}[_nghost-%COMP%]   .header[_ngcontent-%COMP%]{line-height:16px;margin-bottom:8px}[_nghost-%COMP%]   .collapse-container[_ngcontent-%COMP%]{display:flex;flex-direction:column}[_nghost-%COMP%]   .collapse-container[_ngcontent-%COMP%]   .collapse-button[_ngcontent-%COMP%]{flex:1;flex-direction:row;display:flex;align-items:center;cursor:pointer;height:24px;min-height:24px}[_nghost-%COMP%]   .collapse-container[_ngcontent-%COMP%]   .collapse-button[_ngcontent-%COMP%]   .header[_ngcontent-%COMP%]{flex:1}[_nghost-%COMP%]   .collapse-container[_ngcontent-%COMP%]   .collapse-button[_ngcontent-%COMP%]   .cc-icon-collapse[_ngcontent-%COMP%]{font-size:16px;transition:transform .2s linear}[_nghost-%COMP%]   .collapse-container[_ngcontent-%COMP%]   .collapse-button.collapsed[_ngcontent-%COMP%]   .cc-icon-collapse[_ngcontent-%COMP%]{transform:rotate(180deg)}[_nghost-%COMP%]   .bottom-panel[_ngcontent-%COMP%]{margin-top:10px}[_nghost-%COMP%]   .bottom-panel[_ngcontent-%COMP%]   .submit-button[_ngcontent-%COMP%]{margin:0 0 0 auto;padding:6px 20px;box-shadow:none!important}"]}),t})(),bj=(()=>{let t=class{constructor(t,e){this._cdRef=t,this._translateService=e,this._selectedColorIndex=null,this.selectable=!1,this.onColorAdd=new Yl,this.onChange=new Yl,this._blackColorPreview="rgba(0, 0, 0, 255)",this._whiteColorPreview="rgba(255, 255, 255, 255)",this._updateActiveColor=()=>{var t;if(null!=this.paletteItems&&null!=this.currentColor){this._selectedColorIndex=null;for(let e=0;e<this.paletteItems.length;e++){const n=this.paletteItems[e];for(let i=0;i<n.length;i++){const r=n[i];let o=null;if(r instanceof rj?r.type!==oj.Color&&r.type!==oj.ThemeColor||(o=r.color):o=r,null===(t=o)||void 0===t?void 0:t.equals(this.currentColor))return void(this._selectedColorIndex={i:e,j:i})}}}}}set paletteItems(t){this._paletteItems=t,this._updateActiveColor()}get paletteItems(){return this._paletteItems}set currentColor(t){this._currentColor=t,this._updateActiveColor()}get currentColor(){return this._currentColor}get isBlockView(){return this.viewType===nj.Block}get isLineView(){return this.viewType===nj.Line}getCssColor(t){const e=t instanceof rj?t.color:t;return null!=e&&null!=e.preview?e.preview:this._whiteColorPreview}getCurrentCssColor(){return null!=this.currentColor?this.currentColor.preview:this._whiteColorPreview}getContrastCssColorForCurrentColor(){return this.getContrastCssColorForItem(this.currentColor)}getContrastCssColorForItem(t){const e=t instanceof rj?t.color:t;if(null==e)return this._blackColorPreview;const n=e instanceof VB?e:new VB(e.preview),i=1-n.a/255,r=[(n.r+(255-n.r)*i)/255,(n.g+(255-n.g)*i)/255,(n.b+(255-n.b)*i)/255];for(let o=0;o<r.length;o++)r[o]=r[o]<=.03928?r[o]/12.92:Math.pow((r[o]+.055)/1.055,2.4);return.2126*r[0]+.7152*r[1]+.0722*r[2]>.179?this._blackColorPreview:this._whiteColorPreview}getTitle(t){if(!this.paletteHintsEnabled)return null;const e=t instanceof rj?t.title:rj.getColorTitle(t);return this._translateService.instant(e)}onItemClick(t,e,n){t instanceof rj&&t.isAddItem?this.onColorAdd.emit(t.color):(this.onChange.emit(t instanceof rj&&t.isNone?t.color:t),this.selectable&&(this._selectedColorIndex={i:e,j:n})),this._cdRef.destroyed||this._cdRef.detectChanges()}isAddItem(t){return t instanceof rj&&t.isAddItem}isNoneItem(t){return t instanceof rj&&t.isNone}isActive(t,e,n){if(this.selectable){if(null==this._selectedColorIndex)return;return this._selectedColorIndex.i===e&&this._selectedColorIndex.j===n}if(null!=this.currentColor)return this.currentColor.equals(t instanceof rj?t.color:t,!0)&&!this.isNoneItem(t)&&!this.isAddItem(t)}};return t.\u0275fac=function(e){return new(e||t)(Ms(Xo),Ms(jR))},t.\u0275cmp=pe({type:t,selectors:[["palette"]],inputs:{selectable:"selectable",paletteItems:"paletteItems",currentColor:"currentColor",viewType:"viewType",paletteHintsEnabled:"paletteHintsEnabled"},outputs:{onColorAdd:"onColorAdd",onChange:"onChange"},decls:1,vars:1,consts:[["class","colors",3,"ngClass",4,"ngFor","ngForOf"],[1,"colors",3,"ngClass"],[3,"ngClass","click",4,"ngFor","ngForOf"],[3,"ngClass","click"],["class","cc-icon-add",3,"color",4,"ngIf"],["class","color",3,"backgroundColor",4,"ngIf"],["class","transparent-bg",4,"ngIf"],["class","color-container",4,"ngIf"],["class","caption",4,"ngIf"],[1,"cc-icon-add"],["xmlns","http://www.w3.org/2000/svg",0,"xmlns","xlink","http://www.w3.org/1999/xlink","version","1.1","viewBox","-10 0 522 512"],["transform","matrix(1 0 0 -1 0 512)"],["fill","currentColor","d","M405 235h-128v-128h-42v128h-128v42h128v128h42v-128h128v-42z"],[1,"color"],[1,"transparent-bg"],["width","16","height","16","viewBox","0 0 16 16","fill","none","xmlns","http://www.w3.org/2000/svg",3,"color",4,"ngIf"],["width","16","height","16","viewBox","0 0 16 16","fill","none","xmlns","http://www.w3.org/2000/svg"],["fill-rule","evenodd","clip-rule","evenodd","d","M14.0403 3.29289C14.4308 3.68342 14.4308 4.31658 14.0403 4.70711L6.70694 12.0404C6.51941 12.228 6.26505 12.3333 5.99984 12.3333C5.73462 12.3333 5.48027 12.228 5.29273 12.0404L1.9594 8.70711C1.56887 8.31658 1.56887 7.68342 1.9594 7.29289C2.34992 6.90237 2.98309 6.90237 3.37361 7.29289L5.99984 9.91912L12.6261 3.29289C13.0166 2.90237 13.6498 2.90237 14.0403 3.29289Z","fill","currentColor"],[1,"color-container"],["class","none-item color",4,"ngIf"],[1,"none-item","color"],[1,"caption"]],template:function(t,e){1&t&&Is(0,$N,2,5,"div",0),2&t&&Rs("ngForOf",e.paletteItems)},directives:[Ch,vh,Eh],styles:['[_nghost-%COMP%]{display:flex;flex-direction:column}[_nghost-%COMP%]   .colors[_ngcontent-%COMP%]{display:flex}[_nghost-%COMP%]   .colors.line[_ngcontent-%COMP%]{flex-direction:column}[_nghost-%COMP%]   .colors.line[_ngcontent-%COMP%]   .line-container[_ngcontent-%COMP%]{flex-direction:row;display:flex;cursor:pointer;height:20px;align-items:center;margin-bottom:4px}[_nghost-%COMP%]   .colors.line[_ngcontent-%COMP%]   .line-container[_ngcontent-%COMP%]   .color-container[_ngcontent-%COMP%]{margin:0}[_nghost-%COMP%]   .colors.line[_ngcontent-%COMP%]   .line-container.active[_ngcontent-%COMP%]   .caption[_ngcontent-%COMP%]{font-weight:700}[_nghost-%COMP%]   .colors.line[_ngcontent-%COMP%]   .line-container[_ngcontent-%COMP%]   .caption[_ngcontent-%COMP%]{padding:4px 8px;line-height:16px;font-size:12px;white-space:nowrap;overflow:hidden;text-overflow:ellipsis}[_nghost-%COMP%]   .colors.line[_ngcontent-%COMP%]   .line-container[_ngcontent-%COMP%]:active, [_nghost-%COMP%]   .colors.line[_ngcontent-%COMP%]   .line-container[_ngcontent-%COMP%]:focus, [_nghost-%COMP%]   .colors.line[_ngcontent-%COMP%]   .line-container[_ngcontent-%COMP%]:hover{background-color:#f5f5f5}[_nghost-%COMP%]   .colors.line[_ngcontent-%COMP%]   .line-container[_ngcontent-%COMP%]:active   .color[_ngcontent-%COMP%], [_nghost-%COMP%]   .colors.line[_ngcontent-%COMP%]   .line-container[_ngcontent-%COMP%]:focus   .color[_ngcontent-%COMP%], [_nghost-%COMP%]   .colors.line[_ngcontent-%COMP%]   .line-container[_ngcontent-%COMP%]:hover   .color[_ngcontent-%COMP%]{border-color:rgba(0,0,0,.5)}[_nghost-%COMP%]   .colors.line[_ngcontent-%COMP%]   .line-container[_ngcontent-%COMP%]:active.none-item:active:after, [_nghost-%COMP%]   .colors.line[_ngcontent-%COMP%]   .line-container[_ngcontent-%COMP%]:active.none-item:focus:after, [_nghost-%COMP%]   .colors.line[_ngcontent-%COMP%]   .line-container[_ngcontent-%COMP%]:active.none-item:hover:after, [_nghost-%COMP%]   .colors.line[_ngcontent-%COMP%]   .line-container[_ngcontent-%COMP%]:focus.none-item:active:after, [_nghost-%COMP%]   .colors.line[_ngcontent-%COMP%]   .line-container[_ngcontent-%COMP%]:focus.none-item:focus:after, [_nghost-%COMP%]   .colors.line[_ngcontent-%COMP%]   .line-container[_ngcontent-%COMP%]:focus.none-item:hover:after, [_nghost-%COMP%]   .colors.line[_ngcontent-%COMP%]   .line-container[_ngcontent-%COMP%]:hover.none-item:active:after, [_nghost-%COMP%]   .colors.line[_ngcontent-%COMP%]   .line-container[_ngcontent-%COMP%]:hover.none-item:focus:after, [_nghost-%COMP%]   .colors.line[_ngcontent-%COMP%]   .line-container[_ngcontent-%COMP%]:hover.none-item:hover:after{border-color:grey}[_nghost-%COMP%]   .colors.block[_ngcontent-%COMP%]{flex-wrap:wrap}[_nghost-%COMP%]   .colors[_ngcontent-%COMP%]   .color-container[_ngcontent-%COMP%]{width:20px;min-width:20px;height:20px;border-radius:2px;margin:0 4px 4px 0;cursor:pointer;display:flex;align-items:center;justify-content:center;position:relative}[_nghost-%COMP%]   .colors[_ngcontent-%COMP%]   .color-container[_ngcontent-%COMP%]   .color[_ngcontent-%COMP%]{width:100%;height:100%;display:flex;align-items:center;justify-content:center;left:0;top:0;position:absolute;transition:color .2s ease-in,background-color .2s ease-in,border-color .2s ease-in;z-index:1;border-radius:2px}[_nghost-%COMP%]   .colors[_ngcontent-%COMP%]   .color-container[_ngcontent-%COMP%]   .color.cc-icon-selected[_ngcontent-%COMP%]{display:block;font-size:18px;transform:none}[_nghost-%COMP%]   .colors[_ngcontent-%COMP%]   .color-container[_ngcontent-%COMP%]   .color.cc-icon-selected.preview-white[_ngcontent-%COMP%]::before{color:#fff}[_nghost-%COMP%]   .colors[_ngcontent-%COMP%]   .color-container[_ngcontent-%COMP%]   .color.cc-icon-selected.preview-black[_ngcontent-%COMP%]::before{color:#000}[_nghost-%COMP%]   .colors[_ngcontent-%COMP%]   .color-container[_ngcontent-%COMP%]   .color.none-item[_ngcontent-%COMP%]{display:flex;align-items:center;justify-content:center}[_nghost-%COMP%]   .colors[_ngcontent-%COMP%]   .color-container[_ngcontent-%COMP%]   .color.none-item[_ngcontent-%COMP%]:active:after, [_nghost-%COMP%]   .colors[_ngcontent-%COMP%]   .color-container[_ngcontent-%COMP%]   .color.none-item[_ngcontent-%COMP%]:focus:after, [_nghost-%COMP%]   .colors[_ngcontent-%COMP%]   .color-container[_ngcontent-%COMP%]   .color.none-item[_ngcontent-%COMP%]:hover:after{border-color:grey}[_nghost-%COMP%]   .colors[_ngcontent-%COMP%]   .color-container[_ngcontent-%COMP%]   .color.none-item[_ngcontent-%COMP%]:before{content:"";border-left:2px solid;color:red;height:127%;transform:rotate(45deg);border-radius:1px;z-index:0;position:absolute;left:9px;top:-2.5px}[_nghost-%COMP%]   .colors[_ngcontent-%COMP%]   .color-container[_ngcontent-%COMP%]   .color.none-item[_ngcontent-%COMP%]:after{transition:border-color .2s ease-in;z-index:1;border:1px solid #e5e5e5;content:"";border-radius:2px;top:0;left:0;width:100%;position:absolute;height:100%}[_nghost-%COMP%]   .colors[_ngcontent-%COMP%]   .color-container[_ngcontent-%COMP%]   .color[_ngcontent-%COMP%]:not(.none-item){border:1px solid rgba(0,0,0,.1)}[_nghost-%COMP%]   .colors[_ngcontent-%COMP%]   .color-container[_ngcontent-%COMP%]:active   .color[_ngcontent-%COMP%], [_nghost-%COMP%]   .colors[_ngcontent-%COMP%]   .color-container[_ngcontent-%COMP%]:focus   .color[_ngcontent-%COMP%], [_nghost-%COMP%]   .colors[_ngcontent-%COMP%]   .color-container[_ngcontent-%COMP%]:hover   .color[_ngcontent-%COMP%]{border-color:rgba(0,0,0,.5)}[_nghost-%COMP%]   .colors[_ngcontent-%COMP%]   .color-container[_ngcontent-%COMP%]   .transparent-bg[_ngcontent-%COMP%]{content:"";background-image:linear-gradient(45deg,rgba(0,0,0,.1) 25%,transparent 25%,transparent 74%,rgba(0,0,0,.1) 75%,rgba(0,0,0,.1)),linear-gradient(45deg,rgba(0,0,0,.1) 25%,transparent 25%,transparent 74%,rgba(0,0,0,.1) 75%,rgba(0,0,0,.1));background-size:10px 10px;background-position:0 0,5px 5px;width:100%;height:100%;position:absolute;background-color:#fff;z-index:0;border-radius:2px;left:0;top:0}[_nghost-%COMP%]   .colors[_ngcontent-%COMP%]   .color-container[_ngcontent-%COMP%]   .cc-icon-add[_ngcontent-%COMP%]{position:absolute;font-size:20px;z-index:2;left:0;top:0;width:20px;height:20px}']}),t})();class wj{}let Cj=(()=>{class t extends wj{getSpotColors(){throw new Error("Not implemented")}addSpotColor(t){throw new Error("Not implemented")}}return t.\u0275fac=function(e){return Fj(e||t)},t.\u0275prov=ht({token:t,factory:t.\u0275fac}),t})();var xj={ColorPicker:{COLOR_CHOOSE:"OK",COLOR_DEFAULT_CATEGORY_NAME:"Default",COLOR_RECENT_CATEGORY_NAME:"Recent",COLOR_THEME_CATEGORY_NAME:"Theme",ADD_RECENT_COLOR_TITLE:"Add to palette",NO_COLOR_TITLE:"No Color",CREATE_SPOT_COLOR:"Create a new spot color",OK:"OK",CANCEL:"Cancel",SPOT_COLOR_NAME:"Color name"}},Ej={COLOR_CHOOSE:"OK",COLOR_DEFAULT_CATEGORY_NAME:"D\xe9faut",COLOR_RECENT_CATEGORY_NAME:"R\xe9cent",ADD_RECENT_COLOR_TITLE:"Ajouter \xe0 la palette"},Sj={COLOR_CHOOSE:"OK",COLOR_DEFAULT_CATEGORY_NAME:"Default",COLOR_RECENT_CATEGORY_NAME:"Reciente",ADD_RECENT_COLOR_TITLE:"A\xf1adir a la paleta"},Pj={COLOR_CHOOSE:"OK",COLOR_DEFAULT_CATEGORY_NAME:"\u041f\u043e \u0443\u043c\u043e\u043b\u0447\u0430\u043d\u0438\u044e",COLOR_RECENT_CATEGORY_NAME:"\u041d\u0435\u0434\u0430\u0432\u043d\u043e \u0438\u0441\u043f\u043e\u043b\u044c\u0437\u043e\u0432\u0430\u043d\u043d\u044b\u0435",COLOR_THEME_CATEGORY_NAME:"\u0422\u0435\u043c\u0430",ADD_RECENT_COLOR_TITLE:"\u0414\u043e\u0431\u0430\u0432\u0438\u0442\u044c \u0432 \u043f\u0430\u043b\u0438\u0442\u0440\u0443",NO_COLOR_TITLE:"\u0411\u0435\u0437 \u0446\u0432\u0435\u0442\u0430"};let Oj=(()=>{let t=class{constructor(t,e){this._spotColorService=t,this._translateService=e,this.title="cc-spot-color-picker",this.palette=[[]],this.mode=Tj.List,this._initialized=!1,this.onChange=new Yl,this.onSubmit=new Yl,this._setDefaultLanguage(),this._config=kj.defaultConfiguration}_setDefaultLanguage(){return vR(this,void 0,void 0,(function*(){this._translateService.setDefaultLang("en"),this._translateService.use("en")}))}set config(t){var e;this._config=Object.assign(Object.assign({},kj.defaultConfiguration),t),null==this._config.currentColor&&(this._config.currentColor=null===(e=this._spotColors)||void 0===e?void 0:e[0])}get config(){return this._config}set initialized(t){this._initialized!==t&&(!this._initialized&&t&&this._updateColors(),this._initialized=t)}get initialized(){return this._initialized}ngOnInit(){this._updateColors()}_updateColors(){this._spotColors=this._spotColorService.getSpotColors(),this.palette[0]=[new rj(new VB({r:255,g:255,b:255}),"ColorPicker.CREATE_SPOT_COLOR",oj.AddItem)],this.palette[1]=[...this._spotColors.map(t=>new rj(t))]}onItemChange(t){this.onChange.emit(t)}onColorAdd(){this.mode=Tj.Add}onAddComponentSubmit(t){this.mode=Tj.List,this._spotColorService.addSpotColor(t),this._updateColors()}onAddComponentCancel(){this.mode=Tj.List}onSubmitButtonClick(){this.onSubmit.emit()}get isListMode(){return this.mode===Tj.List}get isAddMode(){return this.mode===Tj.Add}};return t.\u0275fac=function(e){return new(e||t)(Ms(wj),Ms(jR))},t.\u0275cmp=pe({type:t,selectors:[["cc-spot-color-picker"]],inputs:{config:"config",initialized:"initialized"},outputs:{onChange:"onChange",onSubmit:"onSubmit"},decls:2,vars:2,consts:[["class","palette",4,"ngIf"],[3,"colorSpace","onSubmit","onCancel",4,"ngIf"],[1,"palette"],[3,"viewType","paletteItems","currentColor","paletteHintsEnabled","selectable","onColorAdd","onChange"],["class","bottom-panel",4,"ngIf"],[1,"bottom-panel"],[1,"btn","btn-primary","btn-raised","submit-button",3,"click"],[3,"colorSpace","onSubmit","onCancel"]],template:function(t,e){1&t&&(Is(0,qN,3,6,"div",0),Is(1,XN,1,1,"cc-spot-color-add",1)),2&t&&(Rs("ngIf",e.isListMode),vr(1),Rs("ngIf",e.isAddMode))},directives:function(){return[Eh,bj,Aj]},pipes:function(){return[HR]},styles:["[_nghost-%COMP%]{width:254px;display:flex;min-height:315px}[_nghost-%COMP%]   .palette[_ngcontent-%COMP%]{flex:1;padding:16px;display:flex;flex-direction:column}[_nghost-%COMP%]   .palette[_ngcontent-%COMP%]   palette[_ngcontent-%COMP%]{flex:1;overflow:auto}[_nghost-%COMP%]   .palette[_ngcontent-%COMP%]   palette[_ngcontent-%COMP%]  .colors:first-child{margin-bottom:16px}[_nghost-%COMP%]   .palette[_ngcontent-%COMP%]   palette[_ngcontent-%COMP%]  .colors:nth-child(2){overflow-y:auto}[_nghost-%COMP%]   .palette[_ngcontent-%COMP%]   .bottom-panel[_ngcontent-%COMP%]{margin-top:8px;display:flex}[_nghost-%COMP%]   .palette[_ngcontent-%COMP%]   .bottom-panel[_ngcontent-%COMP%]   .submit-button[_ngcontent-%COMP%]{margin-left:auto}[_nghost-%COMP%]   cc-spot-color-add[_ngcontent-%COMP%]{flex:1}"]}),t})();var kj;!function(t){t.defaultConfiguration={viewType:nj.Line,paletteHintsEnabled:!0,submitButtonEnabled:!1,colorSpace:JN.Cmyk}}(kj||(kj={}));var Tj=function(t){return t[t.List=0]="List",t[t.Add=1]="Add",t}({});let Ij=(()=>{class t extends hj{convertCmykToRgb(t){throw new Error("Not implemented")}convertRgbToCmyk(t){throw new Error("Not implemented")}}return t.\u0275fac=function(e){return Rj(e||t)},t.\u0275prov=ht({token:t,factory:t.\u0275fac}),t})(),Aj=(()=>{let t=class{constructor(){this.onSubmit=new Yl,this.onCancel=new Yl,this.spotColorName=""}ngAfterViewInit(){var t;(null===(t=this._spotInkNameInput)||void 0===t?void 0:t.nativeElement).focus()}onPickerSubmit(t){const e=new JB({inkColor:t.clone(),inkName:this.spotColorName,inkSolidity:1,preview:t.preview});this.onSubmit.emit(e)}onPickerCancel(){this.onCancel.emit()}get isEmptySpotColorName(){return""===this.spotColorName.trim()}};return t.\u0275fac=function(e){return new(e||t)},t.\u0275cmp=pe({type:t,selectors:[["cc-spot-color-add"]],viewQuery:function(t,e){var n;1&t&&cc(KN,!0),2&t&&ac(n=fc())&&(e._spotInkNameInput=n.first)},inputs:{colorSpace:"colorSpace"},outputs:{onSubmit:"onSubmit",onCancel:"onCancel"},decls:4,vars:8,consts:[["id","#spotInkName","onfocus","this.select()","required","",1,"component-input",3,"ngModel","placeholder","ngModelChange"],["spotInkName",""],[1,"picker",3,"colorSpace","alphaEnabled","initialColorEnabled","submitButtonEnabled","onSubmit","onCancel"]],template:function(t,e){1&t&&(Ls(0,"input",0,1),$s("ngModelChange",(function(t){return e.spotColorName=t})),Xl(2,"translate"),Bs(),Ls(3,"picker",2),$s("onSubmit",(function(t){return e.onPickerSubmit(t)}))("onCancel",(function(){return e.onPickerCancel()})),Bs()),2&t&&(ta("placeholder",Kl(2,6,"ColorPicker.SPOT_COLOR_NAME")),Rs("ngModel",e.spotColorName),vr(3),Rs("colorSpace",e.colorSpace)("alphaEnabled",!1)("initialColorEnabled",!1)("submitButtonEnabled",!e.isEmptySpotColorName))},directives:[pd,Wp,bd,kp,dj],pipes:[HR],styles:["[_nghost-%COMP%]{padding:16px;display:flex;flex-direction:column}[_nghost-%COMP%]   input[_ngcontent-%COMP%]{border-radius:2px;font-size:14px;line-height:20px;height:18px;margin-bottom:15px;border:1px solid #ccc;color:#333;padding:6px 12px;width:calc(100% - 24px);box-sizing:content-box;-webkit-appearance:none}[_nghost-%COMP%]   picker[_ngcontent-%COMP%]{padding:0}"]}),t})();class Mj{getTranslation(t){switch(t.toLowerCase()){case"fr":return fy(Ej);case"es":return fy(Sj);case"ru":return fy(Pj);default:return fy(xj)}}}let Dj=(()=>{let t=class{constructor(t){this._injector=t}ngDoBootstrap(){const t=aN(yj,{injector:this._injector});customElements.define("au-color-picker",t);const e=aN(Oj,{injector:this._injector});customElements.define("cc-spot-color-add",e)}};return t.\u0275mod=_e({type:t,bootstrap:function(){return[yj,Oj]}}),t.\u0275inj=dt({factory:function(e){return new(e||t)(Kt(us))},providers:[{provide:hj,useClass:Ij},{provide:wj,useClass:Cj}],imports:[[rd,rf,fb,VR.forRoot({loader:{provide:bR,useClass:Mj,deps:[Jv]}})]]}),t})();const Rj=ui(Ij),Fj=ui(Cj),Lj=["input"],Bj=function(){return{enterDuration:150}},Nj=["*"],jj=new jt("mat-checkbox-default-options",{providedIn:"root",factory:function(){return{color:"accent",clickAction:"check-indeterminate"}}}),zj=new jt("mat-checkbox-click-action");let Hj=0;const Vj={provide:ld,useExisting:Et(()=>Gj),multi:!0};class Uj{}class Wj{constructor(t){this._elementRef=t}}const $j=ik(ek(nk(tk(Wj))));let Gj=(()=>{class t extends $j{constructor(t,e,n,i,r,o,s,a){super(t),this._changeDetectorRef=e,this._focusMonitor=n,this._ngZone=i,this._clickAction=o,this._animationMode=s,this._options=a,this.ariaLabel="",this.ariaLabelledby=null,this._uniqueId=`mat-checkbox-${++Hj}`,this.id=this._uniqueId,this.labelPosition="after",this.name=null,this.change=new Yl,this.indeterminateChange=new Yl,this._onTouched=()=>{},this._currentAnimationClass="",this._currentCheckState=0,this._controlValueAccessorChangeFn=()=>{},this._checked=!1,this._disabled=!1,this._indeterminate=!1,this._options=this._options||{},this._options.color&&(this.color=this._options.color),this.tabIndex=parseInt(r)||0,this._focusMonitor.monitor(t,!0).subscribe(t=>{t||Promise.resolve().then(()=>{this._onTouched(),e.markForCheck()})}),this._clickAction=this._clickAction||this._options.clickAction}get inputId(){return`${this.id||this._uniqueId}-input`}get required(){return this._required}set required(t){this._required=cy(t)}ngAfterViewInit(){this._syncIndeterminate(this._indeterminate)}ngAfterViewChecked(){}ngOnDestroy(){this._focusMonitor.stopMonitoring(this._elementRef)}get checked(){return this._checked}set checked(t){t!=this.checked&&(this._checked=t,this._changeDetectorRef.markForCheck())}get disabled(){return this._disabled}set disabled(t){const e=cy(t);e!==this.disabled&&(this._disabled=e,this._changeDetectorRef.markForCheck())}get indeterminate(){return this._indeterminate}set indeterminate(t){const e=t!=this._indeterminate;this._indeterminate=cy(t),e&&(this._transitionCheckState(this._indeterminate?3:this.checked?1:2),this.indeterminateChange.emit(this._indeterminate)),this._syncIndeterminate(this._indeterminate)}_isRippleDisabled(){return this.disableRipple||this.disabled}_onLabelTextChange(){this._changeDetectorRef.detectChanges()}writeValue(t){this.checked=!!t}registerOnChange(t){this._controlValueAccessorChangeFn=t}registerOnTouched(t){this._onTouched=t}setDisabledState(t){this.disabled=t}_getAriaChecked(){return this.checked?"true":this.indeterminate?"mixed":"false"}_transitionCheckState(t){let e=this._currentCheckState,n=this._elementRef.nativeElement;if(e!==t&&(this._currentAnimationClass.length>0&&n.classList.remove(this._currentAnimationClass),this._currentAnimationClass=this._getAnimationClassForCheckStateTransition(e,t),this._currentCheckState=t,this._currentAnimationClass.length>0)){n.classList.add(this._currentAnimationClass);const t=this._currentAnimationClass;this._ngZone.runOutsideAngular(()=>{setTimeout(()=>{n.classList.remove(t)},1e3)})}}_emitChangeEvent(){const t=new Uj;t.source=this,t.checked=this.checked,this._controlValueAccessorChangeFn(this.checked),this.change.emit(t)}toggle(){this.checked=!this.checked}_onInputClick(t){t.stopPropagation(),this.disabled||"noop"===this._clickAction?this.disabled||"noop"!==this._clickAction||(this._inputElement.nativeElement.checked=this.checked,this._inputElement.nativeElement.indeterminate=this.indeterminate):(this.indeterminate&&"check"!==this._clickAction&&Promise.resolve().then(()=>{this._indeterminate=!1,this.indeterminateChange.emit(this._indeterminate)}),this.toggle(),this._transitionCheckState(this._checked?1:2),this._emitChangeEvent())}focus(t="keyboard",e){this._focusMonitor.focusVia(this._inputElement,t,e)}_onInteractionEvent(t){t.stopPropagation()}_getAnimationClassForCheckStateTransition(t,e){if("NoopAnimations"===this._animationMode)return"";let n="";switch(t){case 0:if(1===e)n="unchecked-checked";else{if(3!=e)return"";n="unchecked-indeterminate"}break;case 2:n=1===e?"unchecked-checked":"unchecked-indeterminate";break;case 1:n=2===e?"checked-unchecked":"checked-indeterminate";break;case 3:n=1===e?"indeterminate-checked":"indeterminate-unchecked"}return`mat-checkbox-anim-${n}`}_syncIndeterminate(t){const e=this._inputElement;e&&(e.nativeElement.indeterminate=t)}}return t.\u0275fac=function(e){return new(e||t)(Ms(Ya),Ms(Xo),Ms(EO),Ms($c),Ds("tabindex"),Ms(zj,8),Ms(sy,8),Ms(jj,8))},t.\u0275cmp=pe({type:t,selectors:[["mat-checkbox"]],viewQuery:function(t,e){var n;1&t&&(cc(Lj,!0),cc(yk,!0)),2&t&&(ac(n=fc())&&(e._inputElement=n.first),ac(n=fc())&&(e.ripple=n.first))},hostAttrs:[1,"mat-checkbox"],hostVars:12,hostBindings:function(t,e){2&t&&(Oa("id",e.id),ks("tabindex",null),ua("mat-checkbox-indeterminate",e.indeterminate)("mat-checkbox-checked",e.checked)("mat-checkbox-disabled",e.disabled)("mat-checkbox-label-before","before"==e.labelPosition)("_mat-animation-noopable","NoopAnimations"===e._animationMode))},inputs:{disableRipple:"disableRipple",color:"color",tabIndex:"tabIndex",ariaLabel:["aria-label","ariaLabel"],ariaLabelledby:["aria-labelledby","ariaLabelledby"],id:"id",labelPosition:"labelPosition",name:"name",required:"required",checked:"checked",disabled:"disabled",indeterminate:"indeterminate",value:"value"},outputs:{change:"change",indeterminateChange:"indeterminateChange"},exportAs:["matCheckbox"],features:[Ga([Vj]),Ia],ngContentSelectors:Nj,decls:17,vars:19,consts:[[1,"mat-checkbox-layout"],["label",""],[1,"mat-checkbox-inner-container"],["type","checkbox",1,"mat-checkbox-input","cdk-visually-hidden",3,"id","required","checked","disabled","tabIndex","change","click"],["input",""],["matRipple","",1,"mat-checkbox-ripple","mat-focus-indicator",3,"matRippleTrigger","matRippleDisabled","matRippleRadius","matRippleCentered","matRippleAnimation"],[1,"mat-ripple-element","mat-checkbox-persistent-ripple"],[1,"mat-checkbox-frame"],[1,"mat-checkbox-background"],["version","1.1","focusable","false","viewBox","0 0 24 24",0,"xml","space","preserve",1,"mat-checkbox-checkmark"],["fill","none","stroke","white","d","M4.1,12.7 9,17.6 20.3,6.3",1,"mat-checkbox-checkmark-path"],[1,"mat-checkbox-mixedmark"],[1,"mat-checkbox-label",3,"cdkObserveContent"],["checkboxLabel",""],[2,"display","none"]],template:function(t,e){if(1&t&&(Zs(),Ls(0,"label",0,1),Ls(2,"div",2),Ls(3,"input",3,4),$s("change",(function(t){return e._onInteractionEvent(t)}))("click",(function(t){return e._onInputClick(t)})),Bs(),Ls(5,"div",5),Ns(6,"div",6),Bs(),Ns(7,"div",7),Ls(8,"div",8),En(),Ls(9,"svg",9),Ns(10,"path",10),Bs(),Sn(),Ns(11,"div",11),Bs(),Bs(),Ls(12,"span",12,13),$s("cdkObserveContent",(function(){return e._onLabelTextChange()})),Ls(14,"span",14),Ca(15,"\xa0"),Bs(),Js(16),Bs(),Bs()),2&t){const t=As(1),n=As(13);ks("for",e.inputId),vr(2),ua("mat-checkbox-inner-container-no-side-margin",!n.textContent||!n.textContent.trim()),vr(1),Rs("id",e.inputId)("required",e.required)("checked",e.checked)("disabled",e.disabled)("tabIndex",e.tabIndex),ks("value",e.value)("name",e.name)("aria-label",e.ariaLabel||null)("aria-labelledby",e.ariaLabelledby)("aria-checked",e._getAriaChecked()),vr(2),Rs("matRippleTrigger",t)("matRippleDisabled",e._isRippleDisabled())("matRippleRadius",20)("matRippleCentered",!0)("matRippleAnimation",Hl(18,Bj))}},directives:[yk,iO],styles:["@keyframes mat-checkbox-fade-in-background{0%{opacity:0}50%{opacity:1}}@keyframes mat-checkbox-fade-out-background{0%,50%{opacity:1}100%{opacity:0}}@keyframes mat-checkbox-unchecked-checked-checkmark-path{0%,50%{stroke-dashoffset:22.910259}50%{animation-timing-function:cubic-bezier(0, 0, 0.2, 0.1)}100%{stroke-dashoffset:0}}@keyframes mat-checkbox-unchecked-indeterminate-mixedmark{0%,68.2%{transform:scaleX(0)}68.2%{animation-timing-function:cubic-bezier(0, 0, 0, 1)}100%{transform:scaleX(1)}}@keyframes mat-checkbox-checked-unchecked-checkmark-path{from{animation-timing-function:cubic-bezier(0.4, 0, 1, 1);stroke-dashoffset:0}to{stroke-dashoffset:-22.910259}}@keyframes mat-checkbox-checked-indeterminate-checkmark{from{animation-timing-function:cubic-bezier(0, 0, 0.2, 0.1);opacity:1;transform:rotate(0deg)}to{opacity:0;transform:rotate(45deg)}}@keyframes mat-checkbox-indeterminate-checked-checkmark{from{animation-timing-function:cubic-bezier(0.14, 0, 0, 1);opacity:0;transform:rotate(45deg)}to{opacity:1;transform:rotate(360deg)}}@keyframes mat-checkbox-checked-indeterminate-mixedmark{from{animation-timing-function:cubic-bezier(0, 0, 0.2, 0.1);opacity:0;transform:rotate(-45deg)}to{opacity:1;transform:rotate(0deg)}}@keyframes mat-checkbox-indeterminate-checked-mixedmark{from{animation-timing-function:cubic-bezier(0.14, 0, 0, 1);opacity:1;transform:rotate(0deg)}to{opacity:0;transform:rotate(315deg)}}@keyframes mat-checkbox-indeterminate-unchecked-mixedmark{0%{animation-timing-function:linear;opacity:1;transform:scaleX(1)}32.8%,100%{opacity:0;transform:scaleX(0)}}.mat-checkbox-background,.mat-checkbox-frame{top:0;left:0;right:0;bottom:0;position:absolute;border-radius:2px;box-sizing:border-box;pointer-events:none}.mat-checkbox{transition:background 400ms cubic-bezier(0.25, 0.8, 0.25, 1),box-shadow 280ms cubic-bezier(0.4, 0, 0.2, 1);cursor:pointer;-webkit-tap-highlight-color:transparent}._mat-animation-noopable.mat-checkbox{transition:none;animation:none}.mat-checkbox .mat-ripple-element:not(.mat-checkbox-persistent-ripple){opacity:.16}.mat-checkbox-layout{-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none;cursor:inherit;align-items:baseline;vertical-align:middle;display:inline-flex;white-space:nowrap}.mat-checkbox-label{-webkit-user-select:auto;-moz-user-select:auto;-ms-user-select:auto;user-select:auto}.mat-checkbox-inner-container{display:inline-block;height:16px;line-height:0;margin:auto;margin-right:8px;order:0;position:relative;vertical-align:middle;white-space:nowrap;width:16px;flex-shrink:0}[dir=rtl] .mat-checkbox-inner-container{margin-left:8px;margin-right:auto}.mat-checkbox-inner-container-no-side-margin{margin-left:0;margin-right:0}.mat-checkbox-frame{background-color:transparent;transition:border-color 90ms cubic-bezier(0, 0, 0.2, 0.1);border-width:2px;border-style:solid}._mat-animation-noopable .mat-checkbox-frame{transition:none}.mat-checkbox.cdk-keyboard-focused .cdk-high-contrast-active .mat-checkbox-frame{border-style:dotted}.mat-checkbox-background{align-items:center;display:inline-flex;justify-content:center;transition:background-color 90ms cubic-bezier(0, 0, 0.2, 0.1),opacity 90ms cubic-bezier(0, 0, 0.2, 0.1)}._mat-animation-noopable .mat-checkbox-background{transition:none}.cdk-high-contrast-active .mat-checkbox .mat-checkbox-background{background:none}.mat-checkbox-persistent-ripple{width:100%;height:100%;transform:none}.mat-checkbox-inner-container:hover .mat-checkbox-persistent-ripple{opacity:.04}.mat-checkbox.cdk-keyboard-focused .mat-checkbox-persistent-ripple{opacity:.12}.mat-checkbox-persistent-ripple,.mat-checkbox.mat-checkbox-disabled .mat-checkbox-inner-container:hover .mat-checkbox-persistent-ripple{opacity:0}@media(hover: none){.mat-checkbox-inner-container:hover .mat-checkbox-persistent-ripple{display:none}}.mat-checkbox-checkmark{top:0;left:0;right:0;bottom:0;position:absolute;width:100%}.mat-checkbox-checkmark-path{stroke-dashoffset:22.910259;stroke-dasharray:22.910259;stroke-width:2.1333333333px}.cdk-high-contrast-black-on-white .mat-checkbox-checkmark-path{stroke:#000 !important}.mat-checkbox-mixedmark{width:calc(100% - 6px);height:2px;opacity:0;transform:scaleX(0) rotate(0deg);border-radius:2px}.cdk-high-contrast-active .mat-checkbox-mixedmark{height:0;border-top:solid 2px;margin-top:2px}.mat-checkbox-label-before .mat-checkbox-inner-container{order:1;margin-left:8px;margin-right:auto}[dir=rtl] .mat-checkbox-label-before .mat-checkbox-inner-container{margin-left:auto;margin-right:8px}.mat-checkbox-checked .mat-checkbox-checkmark{opacity:1}.mat-checkbox-checked .mat-checkbox-checkmark-path{stroke-dashoffset:0}.mat-checkbox-checked .mat-checkbox-mixedmark{transform:scaleX(1) rotate(-45deg)}.mat-checkbox-indeterminate .mat-checkbox-checkmark{opacity:0;transform:rotate(45deg)}.mat-checkbox-indeterminate .mat-checkbox-checkmark-path{stroke-dashoffset:0}.mat-checkbox-indeterminate .mat-checkbox-mixedmark{opacity:1;transform:scaleX(1) rotate(0deg)}.mat-checkbox-unchecked .mat-checkbox-background{background-color:transparent}.mat-checkbox-disabled{cursor:default}.cdk-high-contrast-active .mat-checkbox-disabled{opacity:.5}.mat-checkbox-anim-unchecked-checked .mat-checkbox-background{animation:180ms linear 0ms mat-checkbox-fade-in-background}.mat-checkbox-anim-unchecked-checked .mat-checkbox-checkmark-path{animation:180ms linear 0ms mat-checkbox-unchecked-checked-checkmark-path}.mat-checkbox-anim-unchecked-indeterminate .mat-checkbox-background{animation:180ms linear 0ms mat-checkbox-fade-in-background}.mat-checkbox-anim-unchecked-indeterminate .mat-checkbox-mixedmark{animation:90ms linear 0ms mat-checkbox-unchecked-indeterminate-mixedmark}.mat-checkbox-anim-checked-unchecked .mat-checkbox-background{animation:180ms linear 0ms mat-checkbox-fade-out-background}.mat-checkbox-anim-checked-unchecked .mat-checkbox-checkmark-path{animation:90ms linear 0ms mat-checkbox-checked-unchecked-checkmark-path}.mat-checkbox-anim-checked-indeterminate .mat-checkbox-checkmark{animation:90ms linear 0ms mat-checkbox-checked-indeterminate-checkmark}.mat-checkbox-anim-checked-indeterminate .mat-checkbox-mixedmark{animation:90ms linear 0ms mat-checkbox-checked-indeterminate-mixedmark}.mat-checkbox-anim-indeterminate-checked .mat-checkbox-checkmark{animation:500ms linear 0ms mat-checkbox-indeterminate-checked-checkmark}.mat-checkbox-anim-indeterminate-checked .mat-checkbox-mixedmark{animation:500ms linear 0ms mat-checkbox-indeterminate-checked-mixedmark}.mat-checkbox-anim-indeterminate-unchecked .mat-checkbox-background{animation:180ms linear 0ms mat-checkbox-fade-out-background}.mat-checkbox-anim-indeterminate-unchecked .mat-checkbox-mixedmark{animation:300ms linear 0ms mat-checkbox-indeterminate-unchecked-mixedmark}.mat-checkbox-input{bottom:0;left:50%}.mat-checkbox .mat-checkbox-ripple{position:absolute;left:calc(50% - 20px);top:calc(50% - 20px);height:40px;width:40px;z-index:1;pointer-events:none}\n"],encapsulation:2,changeDetection:0}),t})();const qj={provide:xd,useExisting:Et(()=>Xj),multi:!0};let Xj=(()=>{class t extends $p{}return t.\u0275fac=function(e){return Kj(e||t)},t.\u0275dir=be({type:t,selectors:[["mat-checkbox","required","","formControlName",""],["mat-checkbox","required","","formControl",""],["mat-checkbox","required","","ngModel",""]],features:[Ga([qj]),Ia]}),t})();const Kj=ui(Xj);let Yj=(()=>{class t{}return t.\u0275mod=_e({type:t}),t.\u0275inj=dt({factory:function(e){return new(e||t)}}),t})(),Qj=(()=>{class t{}return t.\u0275mod=_e({type:t}),t.\u0275inj=dt({factory:function(e){return new(e||t)},imports:[[_k,JO,rO,Yj],JO,Yj]}),t})();function Zj(t,e){1&t&&Js(0)}const Jj=["*"];function tz(t,e){}const ez=function(t){return{animationDuration:t}},nz=function(t,e){return{value:t,params:e}},iz=["tabBodyWrapper"],rz=["tabHeader"];function oz(t,e){}function sz(t,e){1&t&&Is(0,oz,0,0,"ng-template",9),2&t&&Rs("cdkPortalOutlet",Ys().$implicit.templateLabel)}function az(t,e){1&t&&Ca(0),2&t&&xa(Ys().$implicit.textLabel)}function lz(t,e){if(1&t){const t=Vs();Ls(0,"div",6),$s("click",(function(){Qe(t);const n=e.$implicit,i=e.index,r=Ys(),o=As(1);return r._handleClick(n,o,i)})),Ls(1,"div",7),Is(2,sz,1,1,"ng-template",8),Is(3,az,1,1,"ng-template",8),Bs(),Bs()}if(2&t){const t=e.$implicit,n=e.index,i=Ys();ua("mat-tab-label-active",i.selectedIndex==n),Rs("id",i._getTabLabelId(n))("disabled",t.disabled)("matRippleDisabled",t.disabled||i.disableRipple),ks("tabIndex",i._getTabIndex(t,n))("aria-posinset",n+1)("aria-setsize",i._tabs.length)("aria-controls",i._getTabContentId(n))("aria-selected",i.selectedIndex==n)("aria-label",t.ariaLabel||null)("aria-labelledby",!t.ariaLabel&&t.ariaLabelledby?t.ariaLabelledby:null),vr(2),Rs("ngIf",t.templateLabel),vr(1),Rs("ngIf",!t.templateLabel)}}function cz(t,e){if(1&t){const t=Vs();Ls(0,"mat-tab-body",10),$s("_onCentered",(function(){return Qe(t),Ys()._removeTabBodyWrapperHeight()}))("_onCentering",(function(e){return Qe(t),Ys()._setTabBodyWrapperHeight(e)})),Bs()}if(2&t){const t=e.$implicit,n=e.index,i=Ys();ua("mat-tab-body-active",i.selectedIndex==n),Rs("id",i._getTabContentId(n))("content",t.content)("position",t.position)("origin",t.origin)("animationDuration",i.animationDuration),ks("aria-labelledby",i._getTabLabelId(n))}}const uz=["tabListContainer"],hz=["tabList"],dz=["nextPaginator"],pz=["previousPaginator"],fz=["mat-tab-nav-bar",""],mz=new jt("MatInkBarPositioner",{providedIn:"root",factory:function(){return t=>({left:t?(t.offsetLeft||0)+"px":"0",width:t?(t.offsetWidth||0)+"px":"0"})}});let gz=(()=>{class t{constructor(t,e,n,i){this._elementRef=t,this._ngZone=e,this._inkBarPositioner=n,this._animationMode=i}alignToElement(t){this.show(),"undefined"!=typeof requestAnimationFrame?this._ngZone.runOutsideAngular(()=>{requestAnimationFrame(()=>this._setStyles(t))}):this._setStyles(t)}show(){this._elementRef.nativeElement.style.visibility="visible"}hide(){this._elementRef.nativeElement.style.visibility="hidden"}_setStyles(t){const e=this._inkBarPositioner(t),n=this._elementRef.nativeElement;n.style.left=e.left,n.style.width=e.width}}return t.\u0275fac=function(e){return new(e||t)(Ms(Ya),Ms($c),Ms(mz),Ms(sy,8))},t.\u0275dir=be({type:t,selectors:[["mat-ink-bar"]],hostAttrs:[1,"mat-ink-bar"],hostVars:2,hostBindings:function(t,e){2&t&&ua("_mat-animation-noopable","NoopAnimations"===e._animationMode)}}),t})(),yz=(()=>{class t{constructor(t){this.template=t}}return t.\u0275fac=function(e){return new(e||t)(Ms(bl))},t.\u0275dir=be({type:t,selectors:[["","matTabContent",""]]}),t})(),_z=(()=>{class t extends zO{}return t.\u0275fac=function(e){return vz(e||t)},t.\u0275dir=be({type:t,selectors:[["","mat-tab-label",""],["","matTabLabel",""]],features:[Ia]}),t})();const vz=ui(_z);class bz{}const wz=tk(bz),Cz=new jt("MAT_TAB_GROUP");let xz=(()=>{class t extends wz{constructor(t,e){super(),this._viewContainerRef=t,this._closestTabGroup=e,this.textLabel="",this._contentPortal=null,this._stateChanges=new x,this.position=null,this.origin=null,this.isActive=!1}get templateLabel(){return this._templateLabel}set templateLabel(t){t&&(this._templateLabel=t)}get content(){return this._contentPortal}ngOnChanges(t){(t.hasOwnProperty("textLabel")||t.hasOwnProperty("disabled"))&&this._stateChanges.next()}ngOnDestroy(){this._stateChanges.complete()}ngOnInit(){this._contentPortal=new LO(this._explicitContent||this._implicitContent,this._viewContainerRef)}}return t.\u0275fac=function(e){return new(e||t)(Ms(Cl),Ms(Cz,8))},t.\u0275cmp=pe({type:t,selectors:[["mat-tab"]],contentQueries:function(t,e,n){var i;1&t&&(hc(n,_z,!0),dc(n,yz,!0,bl)),2&t&&(ac(i=fc())&&(e.templateLabel=i.first),ac(i=fc())&&(e._explicitContent=i.first))},viewQuery:function(t,e){var n;1&t&&lc(bl,!0),2&t&&ac(n=fc())&&(e._implicitContent=n.first)},inputs:{disabled:"disabled",textLabel:["label","textLabel"],ariaLabel:["aria-label","ariaLabel"],ariaLabelledby:["aria-labelledby","ariaLabelledby"]},exportAs:["matTab"],features:[Ia,La],ngContentSelectors:Jj,decls:1,vars:0,template:function(t,e){1&t&&(Zs(),Is(0,Zj,1,0,"ng-template"))},encapsulation:2}),t})();const Ez={translateTab:jf("translateTab",[Wf("center, void, left-origin-center, right-origin-center",Uf({transform:"none"})),Wf("left",Uf({transform:"translate3d(-100%, 0, 0)",minHeight:"1px"})),Wf("right",Uf({transform:"translate3d(100%, 0, 0)",minHeight:"1px"})),Gf("* => left, * => right, left => center, right => center",zf("{{animationDuration}} cubic-bezier(0.35, 0, 0.25, 1)")),Gf("void => left-origin-center",[Uf({transform:"translate3d(-100%, 0, 0)"}),zf("{{animationDuration}} cubic-bezier(0.35, 0, 0.25, 1)")]),Gf("void => right-origin-center",[Uf({transform:"translate3d(100%, 0, 0)"}),zf("{{animationDuration}} cubic-bezier(0.35, 0, 0.25, 1)")])])};let Sz=(()=>{class t extends HO{constructor(t,e,n,i){super(t,e,i),this._host=n,this._centeringSub=h.EMPTY,this._leavingSub=h.EMPTY}ngOnInit(){super.ngOnInit(),this._centeringSub=this._host._beforeCentering.pipe(Ky(this._host._isCenterPosition(this._host._position))).subscribe(t=>{t&&!this.hasAttached()&&this.attach(this._host._content)}),this._leavingSub=this._host._afterLeavingCenter.subscribe(()=>{this.detach()})}ngOnDestroy(){super.ngOnDestroy(),this._centeringSub.unsubscribe(),this._leavingSub.unsubscribe()}}return t.\u0275fac=function(e){return new(e||t)(Ms(Ka),Ms(Cl),Ms(Et(()=>Oz)),Ms(vu))},t.\u0275dir=be({type:t,selectors:[["","matTabBodyHost",""]],features:[Ia]}),t})(),Pz=(()=>{class t{constructor(t,e,n){this._elementRef=t,this._dir=e,this._dirChangeSubscription=h.EMPTY,this._translateTabComplete=new x,this._onCentering=new Yl,this._beforeCentering=new Yl,this._afterLeavingCenter=new Yl,this._onCentered=new Yl(!0),this.animationDuration="500ms",e&&(this._dirChangeSubscription=e.change.subscribe(t=>{this._computePositionAnimationState(t),n.markForCheck()})),this._translateTabComplete.pipe(My((t,e)=>t.fromState===e.fromState&&t.toState===e.toState)).subscribe(t=>{this._isCenterPosition(t.toState)&&this._isCenterPosition(this._position)&&this._onCentered.emit(),this._isCenterPosition(t.fromState)&&!this._isCenterPosition(this._position)&&this._afterLeavingCenter.emit()})}set position(t){this._positionIndex=t,this._computePositionAnimationState()}ngOnInit(){"center"==this._position&&null!=this.origin&&(this._position=this._computePositionFromOrigin(this.origin))}ngOnDestroy(){this._dirChangeSubscription.unsubscribe(),this._translateTabComplete.complete()}_onTranslateTabStarted(t){const e=this._isCenterPosition(t.toState);this._beforeCentering.emit(e),e&&this._onCentering.emit(this._elementRef.nativeElement.clientHeight)}_getLayoutDirection(){return this._dir&&"rtl"===this._dir.value?"rtl":"ltr"}_isCenterPosition(t){return"center"==t||"left-origin-center"==t||"right-origin-center"==t}_computePositionAnimationState(t=this._getLayoutDirection()){this._position=this._positionIndex<0?"ltr"==t?"left":"right":this._positionIndex>0?"ltr"==t?"right":"left":"center"}_computePositionFromOrigin(t){const e=this._getLayoutDirection();return"ltr"==e&&t<=0||"rtl"==e&&t>0?"left-origin-center":"right-origin-center"}}return t.\u0275fac=function(e){return new(e||t)(Ms(Ya),Ms(k_,8),Ms(Xo))},t.\u0275dir=be({type:t,inputs:{animationDuration:"animationDuration",position:"position",_content:["content","_content"],origin:"origin"},outputs:{_onCentering:"_onCentering",_beforeCentering:"_beforeCentering",_afterLeavingCenter:"_afterLeavingCenter",_onCentered:"_onCentered"}}),t})(),Oz=(()=>{class t extends Pz{constructor(t,e,n){super(t,e,n)}}return t.\u0275fac=function(e){return new(e||t)(Ms(Ya),Ms(k_,8),Ms(Xo))},t.\u0275cmp=pe({type:t,selectors:[["mat-tab-body"]],viewQuery:function(t,e){var n;1&t&&cc(VO,!0),2&t&&ac(n=fc())&&(e._portalHost=n.first)},hostAttrs:[1,"mat-tab-body"],features:[Ia],decls:3,vars:6,consts:[[1,"mat-tab-body-content"],["content",""],["matTabBodyHost",""]],template:function(t,e){1&t&&(Ls(0,"div",0,1),$s("@translateTab.start",(function(t){return e._onTranslateTabStarted(t)}))("@translateTab.done",(function(t){return e._translateTabComplete.next(t)})),Is(2,tz,0,0,"ng-template",2),Bs()),2&t&&Rs("@translateTab",Ul(3,nz,e._position,Vl(1,ez,e.animationDuration)))},directives:[Sz],styles:[".mat-tab-body-content{height:100%;overflow:auto}.mat-tab-group-dynamic-height .mat-tab-body-content{overflow:hidden}\n"],encapsulation:2,data:{animation:[Ez.translateTab]}}),t})();const kz=new jt("MAT_TABS_CONFIG");let Tz=0;class Iz{}class Az{constructor(t){this._elementRef=t}}const Mz=ek(nk(Az),"primary");let Dz=(()=>{class t extends Mz{constructor(t,e,n,i){super(t),this._changeDetectorRef=e,this._animationMode=i,this._tabs=new Zl,this._indexToSelect=0,this._tabBodyWrapperHeight=0,this._tabsSubscription=h.EMPTY,this._tabLabelSubscription=h.EMPTY,this._dynamicHeight=!1,this._selectedIndex=null,this.headerPosition="above",this.selectedIndexChange=new Yl,this.focusChange=new Yl,this.animationDone=new Yl,this.selectedTabChange=new Yl(!0),this._groupId=Tz++,this.animationDuration=n&&n.animationDuration?n.animationDuration:"500ms",this.disablePagination=!(!n||null==n.disablePagination)&&n.disablePagination}get dynamicHeight(){return this._dynamicHeight}set dynamicHeight(t){this._dynamicHeight=cy(t)}get selectedIndex(){return this._selectedIndex}set selectedIndex(t){this._indexToSelect=uy(t,null)}get animationDuration(){return this._animationDuration}set animationDuration(t){this._animationDuration=/^\d+$/.test(t)?t+"ms":t}get backgroundColor(){return this._backgroundColor}set backgroundColor(t){const e=this._elementRef.nativeElement;e.classList.remove(`mat-background-${this.backgroundColor}`),t&&e.classList.add(`mat-background-${t}`),this._backgroundColor=t}ngAfterContentChecked(){const t=this._indexToSelect=this._clampTabIndex(this._indexToSelect);if(this._selectedIndex!=t){const e=null==this._selectedIndex;e||this.selectedTabChange.emit(this._createChangeEvent(t)),Promise.resolve().then(()=>{this._tabs.forEach((e,n)=>e.isActive=n===t),e||this.selectedIndexChange.emit(t)})}this._tabs.forEach((e,n)=>{e.position=n-t,null==this._selectedIndex||0!=e.position||e.origin||(e.origin=t-this._selectedIndex)}),this._selectedIndex!==t&&(this._selectedIndex=t,this._changeDetectorRef.markForCheck())}ngAfterContentInit(){this._subscribeToAllTabChanges(),this._subscribeToTabLabels(),this._tabsSubscription=this._tabs.changes.subscribe(()=>{if(this._clampTabIndex(this._indexToSelect)===this._selectedIndex){const t=this._tabs.toArray();for(let e=0;e<t.length;e++)if(t[e].isActive){this._indexToSelect=this._selectedIndex=e;break}}this._changeDetectorRef.markForCheck()})}_subscribeToAllTabChanges(){this._allTabs.changes.pipe(Ky(this._allTabs)).subscribe(t=>{this._tabs.reset(t.filter(t=>!t._closestTabGroup||t._closestTabGroup===this)),this._tabs.notifyOnChanges()})}ngOnDestroy(){this._tabs.destroy(),this._tabsSubscription.unsubscribe(),this._tabLabelSubscription.unsubscribe()}realignInkBar(){this._tabHeader&&this._tabHeader._alignInkBarToSelectedTab()}_focusChanged(t){this.focusChange.emit(this._createChangeEvent(t))}_createChangeEvent(t){const e=new Iz;return e.index=t,this._tabs&&this._tabs.length&&(e.tab=this._tabs.toArray()[t]),e}_subscribeToTabLabels(){this._tabLabelSubscription&&this._tabLabelSubscription.unsubscribe(),this._tabLabelSubscription=$(...this._tabs.map(t=>t._stateChanges)).subscribe(()=>this._changeDetectorRef.markForCheck())}_clampTabIndex(t){return Math.min(this._tabs.length-1,Math.max(t||0,0))}_getTabLabelId(t){return`mat-tab-label-${this._groupId}-${t}`}_getTabContentId(t){return`mat-tab-content-${this._groupId}-${t}`}_setTabBodyWrapperHeight(t){if(!this._dynamicHeight||!this._tabBodyWrapperHeight)return;const e=this._tabBodyWrapper.nativeElement;e.style.height=this._tabBodyWrapperHeight+"px",this._tabBodyWrapper.nativeElement.offsetHeight&&(e.style.height=t+"px")}_removeTabBodyWrapperHeight(){const t=this._tabBodyWrapper.nativeElement;this._tabBodyWrapperHeight=t.clientHeight,t.style.height="",this.animationDone.emit()}_handleClick(t,e,n){t.disabled||(this.selectedIndex=e.focusIndex=n)}_getTabIndex(t,e){return t.disabled?null:this.selectedIndex===e?0:-1}}return t.\u0275fac=function(e){return new(e||t)(Ms(Ya),Ms(Xo),Ms(kz,8),Ms(sy,8))},t.\u0275dir=be({type:t,inputs:{headerPosition:"headerPosition",animationDuration:"animationDuration",disablePagination:"disablePagination",dynamicHeight:"dynamicHeight",selectedIndex:"selectedIndex",backgroundColor:"backgroundColor"},outputs:{selectedIndexChange:"selectedIndexChange",focusChange:"focusChange",animationDone:"animationDone",selectedTabChange:"selectedTabChange"},features:[Ia]}),t})(),Rz=(()=>{class t extends Dz{constructor(t,e,n,i){super(t,e,n,i)}}return t.\u0275fac=function(e){return new(e||t)(Ms(Ya),Ms(Xo),Ms(kz,8),Ms(sy,8))},t.\u0275cmp=pe({type:t,selectors:[["mat-tab-group"]],contentQueries:function(t,e,n){var i;1&t&&hc(n,xz,!0),2&t&&ac(i=fc())&&(e._allTabs=i)},viewQuery:function(t,e){var n;1&t&&(cc(iz,!0),cc(rz,!0)),2&t&&(ac(n=fc())&&(e._tabBodyWrapper=n.first),ac(n=fc())&&(e._tabHeader=n.first))},hostAttrs:[1,"mat-tab-group"],hostVars:4,hostBindings:function(t,e){2&t&&ua("mat-tab-group-dynamic-height",e.dynamicHeight)("mat-tab-group-inverted-header","below"===e.headerPosition)},inputs:{color:"color",disableRipple:"disableRipple"},exportAs:["matTabGroup"],features:[Ga([{provide:Cz,useExisting:t}]),Ia],decls:6,vars:7,consts:[[3,"selectedIndex","disableRipple","disablePagination","indexFocused","selectFocusedIndex"],["tabHeader",""],["class","mat-tab-label mat-focus-indicator","role","tab","matTabLabelWrapper","","mat-ripple","","cdkMonitorElementFocus","",3,"id","mat-tab-label-active","disabled","matRippleDisabled","click",4,"ngFor","ngForOf"],[1,"mat-tab-body-wrapper"],["tabBodyWrapper",""],["role","tabpanel",3,"id","mat-tab-body-active","content","position","origin","animationDuration","_onCentered","_onCentering",4,"ngFor","ngForOf"],["role","tab","matTabLabelWrapper","","mat-ripple","","cdkMonitorElementFocus","",1,"mat-tab-label","mat-focus-indicator",3,"id","disabled","matRippleDisabled","click"],[1,"mat-tab-label-content"],[3,"ngIf"],[3,"cdkPortalOutlet"],["role","tabpanel",3,"id","content","position","origin","animationDuration","_onCentered","_onCentering"]],template:function(t,e){1&t&&(Ls(0,"mat-tab-header",0,1),$s("indexFocused",(function(t){return e._focusChanged(t)}))("selectFocusedIndex",(function(t){return e.selectedIndex=t})),Is(2,lz,4,14,"div",2),Bs(),Ls(3,"div",3,4),Is(5,cz,1,8,"mat-tab-body",5),Bs()),2&t&&(Rs("selectedIndex",e.selectedIndex||0)("disableRipple",e.disableRipple)("disablePagination",e.disablePagination),vr(2),Rs("ngForOf",e._tabs),vr(1),ua("_mat-animation-noopable","NoopAnimations"===e._animationMode),vr(2),Rs("ngForOf",e._tabs))},directives:function(){return[Hz,Ch,Bz,yk,PO,Eh,HO,Oz]},styles:[".mat-tab-group{display:flex;flex-direction:column}.mat-tab-group.mat-tab-group-inverted-header{flex-direction:column-reverse}.mat-tab-label{height:48px;padding:0 24px;cursor:pointer;box-sizing:border-box;opacity:.6;min-width:160px;text-align:center;display:inline-flex;justify-content:center;align-items:center;white-space:nowrap;position:relative}.mat-tab-label:focus{outline:none}.mat-tab-label:focus:not(.mat-tab-disabled){opacity:1}.cdk-high-contrast-active .mat-tab-label:focus{outline:dotted 2px;outline-offset:-2px}.mat-tab-label.mat-tab-disabled{cursor:default}.cdk-high-contrast-active .mat-tab-label.mat-tab-disabled{opacity:.5}.mat-tab-label .mat-tab-label-content{display:inline-flex;justify-content:center;align-items:center;white-space:nowrap}.cdk-high-contrast-active .mat-tab-label{opacity:1}@media(max-width: 599px){.mat-tab-label{padding:0 12px}}@media(max-width: 959px){.mat-tab-label{padding:0 12px}}.mat-tab-group[mat-stretch-tabs]>.mat-tab-header .mat-tab-label{flex-basis:0;flex-grow:1}.mat-tab-body-wrapper{position:relative;overflow:hidden;display:flex;transition:height 500ms cubic-bezier(0.35, 0, 0.25, 1)}._mat-animation-noopable.mat-tab-body-wrapper{transition:none;animation:none}.mat-tab-body{top:0;left:0;right:0;bottom:0;position:absolute;display:block;overflow:hidden;flex-basis:100%}.mat-tab-body.mat-tab-body-active{position:relative;overflow-x:hidden;overflow-y:auto;z-index:1;flex-grow:1}.mat-tab-group.mat-tab-group-dynamic-height .mat-tab-body.mat-tab-body-active{overflow-y:hidden}\n"],encapsulation:2}),t})();class Fz{}const Lz=tk(Fz);let Bz=(()=>{class t extends Lz{constructor(t){super(),this.elementRef=t}focus(){this.elementRef.nativeElement.focus()}getOffsetLeft(){return this.elementRef.nativeElement.offsetLeft}getOffsetWidth(){return this.elementRef.nativeElement.offsetWidth}}return t.\u0275fac=function(e){return new(e||t)(Ms(Ya))},t.\u0275dir=be({type:t,selectors:[["","matTabLabelWrapper",""]],hostVars:3,hostBindings:function(t,e){2&t&&(ks("aria-disabled",!!e.disabled),ua("mat-tab-disabled",e.disabled))},inputs:{disabled:"disabled"},features:[Ia]}),t})();const Nz=E_({passive:!0});let jz=(()=>{class t{constructor(t,e,n,i,r,o,s){this._elementRef=t,this._changeDetectorRef=e,this._viewportRuler=n,this._dir=i,this._ngZone=r,this._platform=o,this._animationMode=s,this._scrollDistance=0,this._selectedIndexChanged=!1,this._destroyed=new x,this._showPaginationControls=!1,this._disableScrollAfter=!0,this._disableScrollBefore=!0,this._stopScrolling=new x,this.disablePagination=!1,this._selectedIndex=0,this.selectFocusedIndex=new Yl,this.indexFocused=new Yl,r.runOutsideAngular(()=>{my(t.nativeElement,"mouseleave").pipe($y(this._destroyed)).subscribe(()=>{this._stopInterval()})})}get selectedIndex(){return this._selectedIndex}set selectedIndex(t){t=uy(t),this._selectedIndex!=t&&(this._selectedIndexChanged=!0,this._selectedIndex=t,this._keyManager&&this._keyManager.updateActiveItem(t))}ngAfterViewInit(){my(this._previousPaginator.nativeElement,"touchstart",Nz).pipe($y(this._destroyed)).subscribe(()=>{this._handlePaginatorPress("before")}),my(this._nextPaginator.nativeElement,"touchstart",Nz).pipe($y(this._destroyed)).subscribe(()=>{this._handlePaginatorPress("after")})}ngAfterContentInit(){const t=this._dir?this._dir.change:fy(null),e=this._viewportRuler.change(150),n=()=>{this.updatePagination(),this._alignInkBarToSelectedTab()};this._keyManager=new dO(this._items).withHorizontalOrientation(this._getLayoutDirection()).withWrap(),this._keyManager.updateActiveItem(0),"undefined"!=typeof requestAnimationFrame?requestAnimationFrame(n):n(),$(t,e,this._items.changes).pipe($y(this._destroyed)).subscribe(()=>{Promise.resolve().then(n),this._keyManager.withHorizontalOrientation(this._getLayoutDirection())}),this._keyManager.change.pipe($y(this._destroyed)).subscribe(t=>{this.indexFocused.emit(t),this._setTabFocus(t)})}ngAfterContentChecked(){this._tabLabelCount!=this._items.length&&(this.updatePagination(),this._tabLabelCount=this._items.length,this._changeDetectorRef.markForCheck()),this._selectedIndexChanged&&(this._scrollToLabel(this._selectedIndex),this._checkScrollingControls(),this._alignInkBarToSelectedTab(),this._selectedIndexChanged=!1,this._changeDetectorRef.markForCheck()),this._scrollDistanceChanged&&(this._updateTabScrollPosition(),this._scrollDistanceChanged=!1,this._changeDetectorRef.markForCheck())}ngOnDestroy(){this._destroyed.next(),this._destroyed.complete(),this._stopScrolling.complete()}_handleKeydown(t){if(!YP(t))switch(t.keyCode){case 36:this._keyManager.setFirstItemActive(),t.preventDefault();break;case 35:this._keyManager.setLastItemActive(),t.preventDefault();break;case 13:case 32:this.focusIndex!==this.selectedIndex&&(this.selectFocusedIndex.emit(this.focusIndex),this._itemSelected(t));break;default:this._keyManager.onKeydown(t)}}_onContentChanges(){const t=this._elementRef.nativeElement.textContent;t!==this._currentTextContent&&(this._currentTextContent=t||"",this._ngZone.run(()=>{this.updatePagination(),this._alignInkBarToSelectedTab(),this._changeDetectorRef.markForCheck()}))}updatePagination(){this._checkPaginationEnabled(),this._checkScrollingControls(),this._updateTabScrollPosition()}get focusIndex(){return this._keyManager?this._keyManager.activeItemIndex:0}set focusIndex(t){this._isValidIndex(t)&&this.focusIndex!==t&&this._keyManager&&this._keyManager.setActiveItem(t)}_isValidIndex(t){if(!this._items)return!0;const e=this._items?this._items.toArray()[t]:null;return!!e&&!e.disabled}_setTabFocus(t){if(this._showPaginationControls&&this._scrollToLabel(t),this._items&&this._items.length){this._items.toArray()[t].focus();const e=this._tabListContainer.nativeElement,n=this._getLayoutDirection();e.scrollLeft="ltr"==n?0:e.scrollWidth-e.offsetWidth}}_getLayoutDirection(){return this._dir&&"rtl"===this._dir.value?"rtl":"ltr"}_updateTabScrollPosition(){if(this.disablePagination)return;const t=this.scrollDistance,e=this._platform,n="ltr"===this._getLayoutDirection()?-t:t;this._tabList.nativeElement.style.transform=`translateX(${Math.round(n)}px)`,e&&(e.TRIDENT||e.EDGE)&&(this._tabListContainer.nativeElement.scrollLeft=0)}get scrollDistance(){return this._scrollDistance}set scrollDistance(t){this._scrollTo(t)}_scrollHeader(t){return this._scrollTo(this._scrollDistance+("before"==t?-1:1)*this._tabListContainer.nativeElement.offsetWidth/3)}_handlePaginatorClick(t){this._stopInterval(),this._scrollHeader(t)}_scrollToLabel(t){if(this.disablePagination)return;const e=this._items?this._items.toArray()[t]:null;if(!e)return;const n=this._tabListContainer.nativeElement.offsetWidth,{offsetLeft:i,offsetWidth:r}=e.elementRef.nativeElement;let o,s;"ltr"==this._getLayoutDirection()?(o=i,s=o+r):(s=this._tabList.nativeElement.offsetWidth-i,o=s-r);const a=this.scrollDistance,l=this.scrollDistance+n;o<a?this.scrollDistance-=a-o+60:s>l&&(this.scrollDistance+=s-l+60)}_checkPaginationEnabled(){if(this.disablePagination)this._showPaginationControls=!1;else{const t=this._tabList.nativeElement.scrollWidth>this._elementRef.nativeElement.offsetWidth;t||(this.scrollDistance=0),t!==this._showPaginationControls&&this._changeDetectorRef.markForCheck(),this._showPaginationControls=t}}_checkScrollingControls(){this.disablePagination?this._disableScrollAfter=this._disableScrollBefore=!0:(this._disableScrollBefore=0==this.scrollDistance,this._disableScrollAfter=this.scrollDistance==this._getMaxScrollDistance(),this._changeDetectorRef.markForCheck())}_getMaxScrollDistance(){return this._tabList.nativeElement.scrollWidth-this._tabListContainer.nativeElement.offsetWidth||0}_alignInkBarToSelectedTab(){const t=this._items&&this._items.length?this._items.toArray()[this.selectedIndex]:null,e=t?t.elementRef.nativeElement:null;e?this._inkBar.alignToElement(e):this._inkBar.hide()}_stopInterval(){this._stopScrolling.next()}_handlePaginatorPress(t,e){e&&null!=e.button&&0!==e.button||(this._stopInterval(),jy(650,100).pipe($y($(this._stopScrolling,this._destroyed))).subscribe(()=>{const{maxScrollDistance:e,distance:n}=this._scrollHeader(t);(0===n||n>=e)&&this._stopInterval()}))}_scrollTo(t){if(this.disablePagination)return{maxScrollDistance:0,distance:0};const e=this._getMaxScrollDistance();return this._scrollDistance=Math.max(0,Math.min(e,t)),this._scrollDistanceChanged=!0,this._checkScrollingControls(),{maxScrollDistance:e,distance:this._scrollDistance}}}return t.\u0275fac=function(e){return new(e||t)(Ms(Ya),Ms(Xo),Ms(F_),Ms(k_,8),Ms($c),Ms(y_),Ms(sy,8))},t.\u0275dir=be({type:t,inputs:{disablePagination:"disablePagination"}}),t})(),zz=(()=>{class t extends jz{constructor(t,e,n,i,r,o,s){super(t,e,n,i,r,o,s),this._disableRipple=!1}get disableRipple(){return this._disableRipple}set disableRipple(t){this._disableRipple=cy(t)}_itemSelected(t){t.preventDefault()}}return t.\u0275fac=function(e){return new(e||t)(Ms(Ya),Ms(Xo),Ms(F_),Ms(k_,8),Ms($c),Ms(y_),Ms(sy,8))},t.\u0275dir=be({type:t,inputs:{disableRipple:"disableRipple"},features:[Ia]}),t})(),Hz=(()=>{class t extends zz{constructor(t,e,n,i,r,o,s){super(t,e,n,i,r,o,s)}}return t.\u0275fac=function(e){return new(e||t)(Ms(Ya),Ms(Xo),Ms(F_),Ms(k_,8),Ms($c),Ms(y_),Ms(sy,8))},t.\u0275cmp=pe({type:t,selectors:[["mat-tab-header"]],contentQueries:function(t,e,n){var i;1&t&&hc(n,Bz,!1),2&t&&ac(i=fc())&&(e._items=i)},viewQuery:function(t,e){var n;1&t&&(lc(gz,!0),lc(uz,!0),lc(hz,!0),cc(dz,!0),cc(pz,!0)),2&t&&(ac(n=fc())&&(e._inkBar=n.first),ac(n=fc())&&(e._tabListContainer=n.first),ac(n=fc())&&(e._tabList=n.first),ac(n=fc())&&(e._nextPaginator=n.first),ac(n=fc())&&(e._previousPaginator=n.first))},hostAttrs:[1,"mat-tab-header"],hostVars:4,hostBindings:function(t,e){2&t&&ua("mat-tab-header-pagination-controls-enabled",e._showPaginationControls)("mat-tab-header-rtl","rtl"==e._getLayoutDirection())},inputs:{selectedIndex:"selectedIndex"},outputs:{selectFocusedIndex:"selectFocusedIndex",indexFocused:"indexFocused"},features:[Ia],ngContentSelectors:Jj,decls:13,vars:8,consts:[["aria-hidden","true","mat-ripple","",1,"mat-tab-header-pagination","mat-tab-header-pagination-before","mat-elevation-z4",3,"matRippleDisabled","click","mousedown","touchend"],["previousPaginator",""],[1,"mat-tab-header-pagination-chevron"],[1,"mat-tab-label-container",3,"keydown"],["tabListContainer",""],["role","tablist",1,"mat-tab-list",3,"cdkObserveContent"],["tabList",""],[1,"mat-tab-labels"],["aria-hidden","true","mat-ripple","",1,"mat-tab-header-pagination","mat-tab-header-pagination-after","mat-elevation-z4",3,"matRippleDisabled","mousedown","click","touchend"],["nextPaginator",""]],template:function(t,e){1&t&&(Zs(),Ls(0,"div",0,1),$s("click",(function(){return e._handlePaginatorClick("before")}))("mousedown",(function(t){return e._handlePaginatorPress("before",t)}))("touchend",(function(){return e._stopInterval()})),Ns(2,"div",2),Bs(),Ls(3,"div",3,4),$s("keydown",(function(t){return e._handleKeydown(t)})),Ls(5,"div",5,6),$s("cdkObserveContent",(function(){return e._onContentChanges()})),Ls(7,"div",7),Js(8),Bs(),Ns(9,"mat-ink-bar"),Bs(),Bs(),Ls(10,"div",8,9),$s("mousedown",(function(t){return e._handlePaginatorPress("after",t)}))("click",(function(){return e._handlePaginatorClick("after")}))("touchend",(function(){return e._stopInterval()})),Ns(12,"div",2),Bs()),2&t&&(ua("mat-tab-header-pagination-disabled",e._disableScrollBefore),Rs("matRippleDisabled",e._disableScrollBefore||e.disableRipple),vr(5),ua("_mat-animation-noopable","NoopAnimations"===e._animationMode),vr(5),ua("mat-tab-header-pagination-disabled",e._disableScrollAfter),Rs("matRippleDisabled",e._disableScrollAfter||e.disableRipple))},directives:[yk,iO,gz],styles:['.mat-tab-header{display:flex;overflow:hidden;position:relative;flex-shrink:0}.mat-tab-header-pagination{-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none;position:relative;display:none;justify-content:center;align-items:center;min-width:32px;cursor:pointer;z-index:2;-webkit-tap-highlight-color:transparent;touch-action:none}.mat-tab-header-pagination-controls-enabled .mat-tab-header-pagination{display:flex}.mat-tab-header-pagination-before,.mat-tab-header-rtl .mat-tab-header-pagination-after{padding-left:4px}.mat-tab-header-pagination-before .mat-tab-header-pagination-chevron,.mat-tab-header-rtl .mat-tab-header-pagination-after .mat-tab-header-pagination-chevron{transform:rotate(-135deg)}.mat-tab-header-rtl .mat-tab-header-pagination-before,.mat-tab-header-pagination-after{padding-right:4px}.mat-tab-header-rtl .mat-tab-header-pagination-before .mat-tab-header-pagination-chevron,.mat-tab-header-pagination-after .mat-tab-header-pagination-chevron{transform:rotate(45deg)}.mat-tab-header-pagination-chevron{border-style:solid;border-width:2px 2px 0 0;content:"";height:8px;width:8px}.mat-tab-header-pagination-disabled{box-shadow:none;cursor:default}.mat-tab-list{flex-grow:1;position:relative;transition:transform 500ms cubic-bezier(0.35, 0, 0.25, 1)}.mat-ink-bar{position:absolute;bottom:0;height:2px;transition:500ms cubic-bezier(0.35, 0, 0.25, 1)}._mat-animation-noopable.mat-ink-bar{transition:none;animation:none}.mat-tab-group-inverted-header .mat-ink-bar{bottom:auto;top:0}.cdk-high-contrast-active .mat-ink-bar{outline:solid 2px;height:0}.mat-tab-labels{display:flex}[mat-align-tabs=center]>.mat-tab-header .mat-tab-labels{justify-content:center}[mat-align-tabs=end]>.mat-tab-header .mat-tab-labels{justify-content:flex-end}.mat-tab-label-container{display:flex;flex-grow:1;overflow:hidden;z-index:1}._mat-animation-noopable.mat-tab-list{transition:none;animation:none}.mat-tab-label{height:48px;padding:0 24px;cursor:pointer;box-sizing:border-box;opacity:.6;min-width:160px;text-align:center;display:inline-flex;justify-content:center;align-items:center;white-space:nowrap;position:relative}.mat-tab-label:focus{outline:none}.mat-tab-label:focus:not(.mat-tab-disabled){opacity:1}.cdk-high-contrast-active .mat-tab-label:focus{outline:dotted 2px;outline-offset:-2px}.mat-tab-label.mat-tab-disabled{cursor:default}.cdk-high-contrast-active .mat-tab-label.mat-tab-disabled{opacity:.5}.mat-tab-label .mat-tab-label-content{display:inline-flex;justify-content:center;align-items:center;white-space:nowrap}.cdk-high-contrast-active .mat-tab-label{opacity:1}@media(max-width: 599px){.mat-tab-label{min-width:72px}}\n'],encapsulation:2}),t})(),Vz=(()=>{class t extends jz{constructor(t,e,n,i,r,o,s){super(t,i,r,e,n,o,s),this._disableRipple=!1,this.color="primary"}get backgroundColor(){return this._backgroundColor}set backgroundColor(t){const e=this._elementRef.nativeElement.classList;e.remove(`mat-background-${this.backgroundColor}`),t&&e.add(`mat-background-${t}`),this._backgroundColor=t}get disableRipple(){return this._disableRipple}set disableRipple(t){this._disableRipple=cy(t)}_itemSelected(){}ngAfterContentInit(){this._items.changes.pipe(Ky(null),$y(this._destroyed)).subscribe(()=>{this.updateActiveLink()}),super.ngAfterContentInit()}updateActiveLink(t){if(!this._items)return;const e=this._items.toArray();for(let n=0;n<e.length;n++)if(e[n].active)return this.selectedIndex=n,void this._changeDetectorRef.markForCheck();this.selectedIndex=-1,this._inkBar.hide()}}return t.\u0275fac=function(e){return new(e||t)(Ms(Ya),Ms(k_,8),Ms($c),Ms(Xo),Ms(F_),Ms(y_,8),Ms(sy,8))},t.\u0275dir=be({type:t,inputs:{color:"color",backgroundColor:"backgroundColor",disableRipple:"disableRipple"},features:[Ia]}),t})(),Uz=(()=>{class t extends Vz{constructor(t,e,n,i,r,o,s){super(t,e,n,i,r,o,s)}}return t.\u0275fac=function(e){return new(e||t)(Ms(Ya),Ms(k_,8),Ms($c),Ms(Xo),Ms(F_),Ms(y_,8),Ms(sy,8))},t.\u0275cmp=pe({type:t,selectors:[["","mat-tab-nav-bar",""]],contentQueries:function(t,e,n){var i;1&t&&hc(n,qz,!0),2&t&&ac(i=fc())&&(e._items=i)},viewQuery:function(t,e){var n;1&t&&(lc(gz,!0),lc(uz,!0),lc(hz,!0),cc(dz,!0),cc(pz,!0)),2&t&&(ac(n=fc())&&(e._inkBar=n.first),ac(n=fc())&&(e._tabListContainer=n.first),ac(n=fc())&&(e._tabList=n.first),ac(n=fc())&&(e._nextPaginator=n.first),ac(n=fc())&&(e._previousPaginator=n.first))},hostAttrs:[1,"mat-tab-nav-bar","mat-tab-header"],hostVars:10,hostBindings:function(t,e){2&t&&ua("mat-tab-header-pagination-controls-enabled",e._showPaginationControls)("mat-tab-header-rtl","rtl"==e._getLayoutDirection())("mat-primary","warn"!==e.color&&"accent"!==e.color)("mat-accent","accent"===e.color)("mat-warn","warn"===e.color)},inputs:{color:"color"},exportAs:["matTabNavBar","matTabNav"],features:[Ia],attrs:fz,ngContentSelectors:Jj,decls:13,vars:8,consts:[["aria-hidden","true","mat-ripple","",1,"mat-tab-header-pagination","mat-tab-header-pagination-before","mat-elevation-z4",3,"matRippleDisabled","click","mousedown","touchend"],["previousPaginator",""],[1,"mat-tab-header-pagination-chevron"],[1,"mat-tab-link-container",3,"keydown"],["tabListContainer",""],[1,"mat-tab-list",3,"cdkObserveContent"],["tabList",""],[1,"mat-tab-links"],["aria-hidden","true","mat-ripple","",1,"mat-tab-header-pagination","mat-tab-header-pagination-after","mat-elevation-z4",3,"matRippleDisabled","mousedown","click","touchend"],["nextPaginator",""]],template:function(t,e){1&t&&(Zs(),Ls(0,"div",0,1),$s("click",(function(){return e._handlePaginatorClick("before")}))("mousedown",(function(t){return e._handlePaginatorPress("before",t)}))("touchend",(function(){return e._stopInterval()})),Ns(2,"div",2),Bs(),Ls(3,"div",3,4),$s("keydown",(function(t){return e._handleKeydown(t)})),Ls(5,"div",5,6),$s("cdkObserveContent",(function(){return e._onContentChanges()})),Ls(7,"div",7),Js(8),Bs(),Ns(9,"mat-ink-bar"),Bs(),Bs(),Ls(10,"div",8,9),$s("mousedown",(function(t){return e._handlePaginatorPress("after",t)}))("click",(function(){return e._handlePaginatorClick("after")}))("touchend",(function(){return e._stopInterval()})),Ns(12,"div",2),Bs()),2&t&&(ua("mat-tab-header-pagination-disabled",e._disableScrollBefore),Rs("matRippleDisabled",e._disableScrollBefore||e.disableRipple),vr(5),ua("_mat-animation-noopable","NoopAnimations"===e._animationMode),vr(5),ua("mat-tab-header-pagination-disabled",e._disableScrollAfter),Rs("matRippleDisabled",e._disableScrollAfter||e.disableRipple))},directives:[yk,iO,gz],styles:['.mat-tab-header{display:flex;overflow:hidden;position:relative;flex-shrink:0}.mat-tab-header-pagination{-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none;position:relative;display:none;justify-content:center;align-items:center;min-width:32px;cursor:pointer;z-index:2;-webkit-tap-highlight-color:transparent;touch-action:none}.mat-tab-header-pagination-controls-enabled .mat-tab-header-pagination{display:flex}.mat-tab-header-pagination-before,.mat-tab-header-rtl .mat-tab-header-pagination-after{padding-left:4px}.mat-tab-header-pagination-before .mat-tab-header-pagination-chevron,.mat-tab-header-rtl .mat-tab-header-pagination-after .mat-tab-header-pagination-chevron{transform:rotate(-135deg)}.mat-tab-header-rtl .mat-tab-header-pagination-before,.mat-tab-header-pagination-after{padding-right:4px}.mat-tab-header-rtl .mat-tab-header-pagination-before .mat-tab-header-pagination-chevron,.mat-tab-header-pagination-after .mat-tab-header-pagination-chevron{transform:rotate(45deg)}.mat-tab-header-pagination-chevron{border-style:solid;border-width:2px 2px 0 0;content:"";height:8px;width:8px}.mat-tab-header-pagination-disabled{box-shadow:none;cursor:default}.mat-tab-list{flex-grow:1;position:relative;transition:transform 500ms cubic-bezier(0.35, 0, 0.25, 1)}.mat-tab-links{display:flex}[mat-align-tabs=center]>.mat-tab-link-container .mat-tab-links{justify-content:center}[mat-align-tabs=end]>.mat-tab-link-container .mat-tab-links{justify-content:flex-end}.mat-ink-bar{position:absolute;bottom:0;height:2px;transition:500ms cubic-bezier(0.35, 0, 0.25, 1)}._mat-animation-noopable.mat-ink-bar{transition:none;animation:none}.mat-tab-group-inverted-header .mat-ink-bar{bottom:auto;top:0}.cdk-high-contrast-active .mat-ink-bar{outline:solid 2px;height:0}.mat-tab-link-container{display:flex;flex-grow:1;overflow:hidden;z-index:1}.mat-tab-link{height:48px;padding:0 24px;cursor:pointer;box-sizing:border-box;opacity:.6;min-width:160px;text-align:center;display:inline-flex;justify-content:center;align-items:center;white-space:nowrap;vertical-align:top;text-decoration:none;position:relative;overflow:hidden;-webkit-tap-highlight-color:transparent}.mat-tab-link:focus{outline:none}.mat-tab-link:focus:not(.mat-tab-disabled){opacity:1}.cdk-high-contrast-active .mat-tab-link:focus{outline:dotted 2px;outline-offset:-2px}.mat-tab-link.mat-tab-disabled{cursor:default}.cdk-high-contrast-active .mat-tab-link.mat-tab-disabled{opacity:.5}.mat-tab-link .mat-tab-label-content{display:inline-flex;justify-content:center;align-items:center;white-space:nowrap}.cdk-high-contrast-active .mat-tab-link{opacity:1}[mat-stretch-tabs] .mat-tab-link{flex-basis:0;flex-grow:1}.mat-tab-link.mat-tab-disabled{pointer-events:none}@media(max-width: 599px){.mat-tab-link{min-width:72px}}\n'],encapsulation:2}),t})();class Wz{}const $z=ik(nk(tk(Wz)));let Gz=(()=>{class t extends $z{constructor(t,e,n,i,r,o){super(),this._tabNavBar=t,this.elementRef=e,this._focusMonitor=r,this._isActive=!1,this.rippleConfig=n||{},this.tabIndex=parseInt(i)||0,"NoopAnimations"===o&&(this.rippleConfig.animation={enterDuration:0,exitDuration:0}),r.monitor(e)}get active(){return this._isActive}set active(t){t!==this._isActive&&(this._isActive=t,this._tabNavBar.updateActiveLink(this.elementRef))}get rippleDisabled(){return this.disabled||this.disableRipple||this._tabNavBar.disableRipple||!!this.rippleConfig.disabled}focus(){this.elementRef.nativeElement.focus()}ngOnDestroy(){this._focusMonitor.stopMonitoring(this.elementRef)}}return t.\u0275fac=function(e){return new(e||t)(Ms(Vz),Ms(Ya),Ms(gk,8),Ds("tabindex"),Ms(EO),Ms(sy,8))},t.\u0275dir=be({type:t,inputs:{active:"active"},features:[Ia]}),t})(),qz=(()=>{class t extends Gz{constructor(t,e,n,i,r,o,s,a){super(t,e,r,o,s,a),this._tabLinkRipple=new mk(this,n,e,i),this._tabLinkRipple.setupTriggerEvents(e.nativeElement)}ngOnDestroy(){super.ngOnDestroy(),this._tabLinkRipple._removeTriggerEvents()}}return t.\u0275fac=function(e){return new(e||t)(Ms(Uz),Ms(Ya),Ms($c),Ms(y_),Ms(gk,8),Ds("tabindex"),Ms(EO),Ms(sy,8))},t.\u0275dir=be({type:t,selectors:[["","mat-tab-link",""],["","matTabLink",""]],hostAttrs:[1,"mat-tab-link","mat-focus-indicator"],hostVars:7,hostBindings:function(t,e){2&t&&(ks("aria-current",e.active?"page":null)("aria-disabled",e.disabled)("tabIndex",e.tabIndex),ua("mat-tab-disabled",e.disabled)("mat-tab-label-active",e.active))},inputs:{disabled:"disabled",disableRipple:"disableRipple",tabIndex:"tabIndex"},exportAs:["matTabLink"],features:[Ia]}),t})(),Xz=(()=>{class t{}return t.\u0275mod=_e({type:t}),t.\u0275inj=dt({factory:function(e){return new(e||t)},imports:[[rd,JO,WO,_k,rO,kO],JO]}),t})();const Kz=["*"];class Yz{constructor(t){this._elementRef=t}}const Qz=ik(ek(nk(Yz),"primary"),-1);let Zz=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275dir=be({type:t,selectors:[["mat-chip-avatar"],["","matChipAvatar",""]],hostAttrs:[1,"mat-chip-avatar"]}),t})(),Jz=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275dir=be({type:t,selectors:[["mat-chip-trailing-icon"],["","matChipTrailingIcon",""]],hostAttrs:[1,"mat-chip-trailing-icon"]}),t})(),tH=(()=>{class t extends Qz{constructor(t,e,n,i,r,o,s,a){super(t),this._elementRef=t,this._ngZone=e,this._changeDetectorRef=o,this._hasFocus=!1,this.chipListSelectable=!0,this._chipListMultiple=!1,this._chipListDisabled=!1,this._selected=!1,this._selectable=!0,this._disabled=!1,this._removable=!0,this._onFocus=new x,this._onBlur=new x,this.selectionChange=new Yl,this.destroyed=new Yl,this.removed=new Yl,this._addHostClassName(),this._chipRippleTarget=(a||document).createElement("div"),this._chipRippleTarget.classList.add("mat-chip-ripple"),this._elementRef.nativeElement.appendChild(this._chipRippleTarget),this._chipRipple=new mk(this,e,this._chipRippleTarget,n),this._chipRipple.setupTriggerEvents(t),this.rippleConfig=i||{},this._animationsDisabled="NoopAnimations"===r,this.tabIndex=null!=s&&parseInt(s)||-1}get rippleDisabled(){return this.disabled||this.disableRipple||!!this.rippleConfig.disabled}get selected(){return this._selected}set selected(t){const e=cy(t);e!==this._selected&&(this._selected=e,this._dispatchSelectionChange())}get value(){return void 0!==this._value?this._value:this._elementRef.nativeElement.textContent}set value(t){this._value=t}get selectable(){return this._selectable&&this.chipListSelectable}set selectable(t){this._selectable=cy(t)}get disabled(){return this._chipListDisabled||this._disabled}set disabled(t){this._disabled=cy(t)}get removable(){return this._removable}set removable(t){this._removable=cy(t)}get ariaSelected(){return this.selectable&&(this._chipListMultiple||this.selected)?this.selected.toString():null}_addHostClassName(){const t=this._elementRef.nativeElement;t.hasAttribute("mat-basic-chip")||"mat-basic-chip"===t.tagName.toLowerCase()?t.classList.add("mat-basic-chip"):t.classList.add("mat-standard-chip")}ngOnDestroy(){this.destroyed.emit({chip:this}),this._chipRipple._removeTriggerEvents()}select(){this._selected||(this._selected=!0,this._dispatchSelectionChange(),this._markForCheck())}deselect(){this._selected&&(this._selected=!1,this._dispatchSelectionChange(),this._markForCheck())}selectViaInteraction(){this._selected||(this._selected=!0,this._dispatchSelectionChange(!0),this._markForCheck())}toggleSelected(t=!1){return this._selected=!this.selected,this._dispatchSelectionChange(t),this._markForCheck(),this.selected}focus(){this._hasFocus||(this._elementRef.nativeElement.focus(),this._onFocus.next({chip:this})),this._hasFocus=!0}remove(){this.removable&&this.removed.emit({chip:this})}_handleClick(t){this.disabled?t.preventDefault():t.stopPropagation()}_handleKeydown(t){if(!this.disabled)switch(t.keyCode){case 46:case 8:this.remove(),t.preventDefault();break;case 32:this.selectable&&this.toggleSelected(!0),t.preventDefault()}}_blur(){this._ngZone.onStable.asObservable().pipe(H_(1)).subscribe(()=>{this._ngZone.run(()=>{this._hasFocus=!1,this._onBlur.next({chip:this})})})}_dispatchSelectionChange(t=!1){this.selectionChange.emit({source:this,isUserInput:t,selected:this._selected})}_markForCheck(){this._changeDetectorRef&&this._changeDetectorRef.markForCheck()}}return t.\u0275fac=function(e){return new(e||t)(Ms(Ya),Ms($c),Ms(y_),Ms(gk,8),Ms(sy,8),Ms(Xo),Ds("tabindex"),Ms(vu,8))},t.\u0275dir=be({type:t,selectors:[["mat-basic-chip"],["","mat-basic-chip",""],["mat-chip"],["","mat-chip",""]],contentQueries:function(t,e,n){var i;1&t&&(hc(n,Zz,!0),hc(n,Jz,!0),hc(n,eH,!0)),2&t&&(ac(i=fc())&&(e.avatar=i.first),ac(i=fc())&&(e.trailingIcon=i.first),ac(i=fc())&&(e.removeIcon=i.first))},hostAttrs:["role","option",1,"mat-chip","mat-focus-indicator"],hostVars:14,hostBindings:function(t,e){1&t&&$s("click",(function(t){return e._handleClick(t)}))("keydown",(function(t){return e._handleKeydown(t)}))("focus",(function(){return e.focus()}))("blur",(function(){return e._blur()})),2&t&&(ks("tabindex",e.disabled?null:e.tabIndex)("disabled",e.disabled||null)("aria-disabled",e.disabled.toString())("aria-selected",e.ariaSelected),ua("mat-chip-selected",e.selected)("mat-chip-with-avatar",e.avatar)("mat-chip-with-trailing-icon",e.trailingIcon||e.removeIcon)("mat-chip-disabled",e.disabled)("_mat-animation-noopable",e._animationsDisabled))},inputs:{color:"color",disableRipple:"disableRipple",tabIndex:"tabIndex",selected:"selected",value:"value",selectable:"selectable",disabled:"disabled",removable:"removable"},outputs:{selectionChange:"selectionChange",destroyed:"destroyed",removed:"removed"},exportAs:["matChip"],features:[Ia]}),t})(),eH=(()=>{class t{constructor(t,e){this._parentChip=t,e&&"BUTTON"===e.nativeElement.nodeName&&e.nativeElement.setAttribute("type","button")}_handleClick(t){const e=this._parentChip;e.removable&&!e.disabled&&e.remove(),t.stopPropagation()}}return t.\u0275fac=function(e){return new(e||t)(Ms(tH),Ms(Ya))},t.\u0275dir=be({type:t,selectors:[["","matChipRemove",""]],hostAttrs:[1,"mat-chip-remove","mat-chip-trailing-icon"],hostBindings:function(t,e){1&t&&$s("click",(function(t){return e._handleClick(t)}))}}),t})();const nH=new jt("mat-chips-default-options");class iH{constructor(t,e,n,i){this._defaultErrorStateMatcher=t,this._parentForm=e,this._parentFormGroup=n,this.ngControl=i}}const rH=rk(iH);let oH=0;class sH{constructor(t,e){this.source=t,this.value=e}}let aH=(()=>{class t extends rH{constructor(t,e,n,i,r,o,s){super(o,i,r,s),this._elementRef=t,this._changeDetectorRef=e,this._dir=n,this.ngControl=s,this.controlType="mat-chip-list",this._lastDestroyedChipIndex=null,this._destroyed=new x,this._uid=`mat-chip-list-${oH++}`,this._tabIndex=0,this._userTabIndex=null,this._onTouched=()=>{},this._onChange=()=>{},this._multiple=!1,this._compareWith=(t,e)=>t===e,this._required=!1,this._disabled=!1,this.ariaOrientation="horizontal",this._selectable=!0,this.change=new Yl,this.valueChange=new Yl,this.ngControl&&(this.ngControl.valueAccessor=this)}get selected(){return this.multiple?this._selectionModel.selected:this._selectionModel.selected[0]}get role(){return this.empty?null:"listbox"}get multiple(){return this._multiple}set multiple(t){this._multiple=cy(t),this._syncChipsState()}get compareWith(){return this._compareWith}set compareWith(t){this._compareWith=t,this._selectionModel&&this._initializeSelection()}get value(){return this._value}set value(t){this.writeValue(t),this._value=t}get id(){return this._chipInput?this._chipInput.id:this._uid}get required(){return this._required}set required(t){this._required=cy(t),this.stateChanges.next()}get placeholder(){return this._chipInput?this._chipInput.placeholder:this._placeholder}set placeholder(t){this._placeholder=t,this.stateChanges.next()}get focused(){return this._chipInput&&this._chipInput.focused||this._hasFocusedChip()}get empty(){return(!this._chipInput||this._chipInput.empty)&&0===this.chips.length}get shouldLabelFloat(){return!this.empty||this.focused}get disabled(){return this.ngControl?!!this.ngControl.disabled:this._disabled}set disabled(t){this._disabled=cy(t),this._syncChipsState()}get selectable(){return this._selectable}set selectable(t){this._selectable=cy(t),this.chips&&this.chips.forEach(t=>t.chipListSelectable=this._selectable)}set tabIndex(t){this._userTabIndex=t,this._tabIndex=t}get chipSelectionChanges(){return $(...this.chips.map(t=>t.selectionChange))}get chipFocusChanges(){return $(...this.chips.map(t=>t._onFocus))}get chipBlurChanges(){return $(...this.chips.map(t=>t._onBlur))}get chipRemoveChanges(){return $(...this.chips.map(t=>t.destroyed))}ngAfterContentInit(){this._keyManager=new dO(this.chips).withWrap().withVerticalOrientation().withHorizontalOrientation(this._dir?this._dir.value:"ltr"),this._dir&&this._dir.change.pipe($y(this._destroyed)).subscribe(t=>this._keyManager.withHorizontalOrientation(t)),this._keyManager.tabOut.pipe($y(this._destroyed)).subscribe(()=>{this._allowFocusEscape()}),this.chips.changes.pipe(Ky(null),$y(this._destroyed)).subscribe(()=>{this.disabled&&Promise.resolve().then(()=>{this._syncChipsState()}),this._resetChips(),this._initializeSelection(),this._updateTabIndex(),this._updateFocusForDestroyedChips(),this.stateChanges.next()})}ngOnInit(){this._selectionModel=new A_(this.multiple,void 0,!1),this.stateChanges.next()}ngDoCheck(){this.ngControl&&(this.updateErrorState(),this.ngControl.disabled!==this._disabled&&(this.disabled=!!this.ngControl.disabled))}ngOnDestroy(){this._destroyed.next(),this._destroyed.complete(),this.stateChanges.complete(),this._dropSubscriptions()}registerInput(t){this._chipInput=t}setDescribedByIds(t){this._ariaDescribedby=t.join(" ")}writeValue(t){this.chips&&this._setSelectionByValue(t,!1)}registerOnChange(t){this._onChange=t}registerOnTouched(t){this._onTouched=t}setDisabledState(t){this.disabled=t,this.stateChanges.next()}onContainerClick(t){this._originatesFromChip(t)||this.focus()}focus(t){this.disabled||this._chipInput&&this._chipInput.focused||(this.chips.length>0?(this._keyManager.setFirstItemActive(),this.stateChanges.next()):(this._focusInput(t),this.stateChanges.next()))}_focusInput(t){this._chipInput&&this._chipInput.focus(t)}_keydown(t){const e=t.target;8===t.keyCode&&this._isInputEmpty(e)?(this._keyManager.setLastItemActive(),t.preventDefault()):e&&e.classList.contains("mat-chip")&&(36===t.keyCode?(this._keyManager.setFirstItemActive(),t.preventDefault()):35===t.keyCode?(this._keyManager.setLastItemActive(),t.preventDefault()):this._keyManager.onKeydown(t),this.stateChanges.next())}_updateTabIndex(){this._tabIndex=this._userTabIndex||(0===this.chips.length?-1:0)}_updateFocusForDestroyedChips(){if(null!=this._lastDestroyedChipIndex)if(this.chips.length){const t=Math.min(this._lastDestroyedChipIndex,this.chips.length-1);this._keyManager.setActiveItem(t)}else this.focus();this._lastDestroyedChipIndex=null}_isValidIndex(t){return t>=0&&t<this.chips.length}_isInputEmpty(t){return!(!t||"input"!==t.nodeName.toLowerCase()||t.value)}_setSelectionByValue(t,e=!0){if(this._clearSelection(),this.chips.forEach(t=>t.deselect()),Array.isArray(t))t.forEach(t=>this._selectValue(t,e)),this._sortValues();else{const n=this._selectValue(t,e);n&&e&&this._keyManager.setActiveItem(n)}}_selectValue(t,e=!0){const n=this.chips.find(e=>null!=e.value&&this._compareWith(e.value,t));return n&&(e?n.selectViaInteraction():n.select(),this._selectionModel.select(n)),n}_initializeSelection(){Promise.resolve().then(()=>{(this.ngControl||this._value)&&(this._setSelectionByValue(this.ngControl?this.ngControl.value:this._value,!1),this.stateChanges.next())})}_clearSelection(t){this._selectionModel.clear(),this.chips.forEach(e=>{e!==t&&e.deselect()}),this.stateChanges.next()}_sortValues(){this._multiple&&(this._selectionModel.clear(),this.chips.forEach(t=>{t.selected&&this._selectionModel.select(t)}),this.stateChanges.next())}_propagateChanges(t){let e=null;e=Array.isArray(this.selected)?this.selected.map(t=>t.value):this.selected?this.selected.value:t,this._value=e,this.change.emit(new sH(this,e)),this.valueChange.emit(e),this._onChange(e),this._changeDetectorRef.markForCheck()}_blur(){this._hasFocusedChip()||this._keyManager.setActiveItem(-1),this.disabled||(this._chipInput?setTimeout(()=>{this.focused||this._markAsTouched()}):this._markAsTouched())}_markAsTouched(){this._onTouched(),this._changeDetectorRef.markForCheck(),this.stateChanges.next()}_allowFocusEscape(){-1!==this._tabIndex&&(this._tabIndex=-1,setTimeout(()=>{this._tabIndex=this._userTabIndex||0,this._changeDetectorRef.markForCheck()}))}_resetChips(){this._dropSubscriptions(),this._listenToChipsFocus(),this._listenToChipsSelection(),this._listenToChipsRemoved()}_dropSubscriptions(){this._chipFocusSubscription&&(this._chipFocusSubscription.unsubscribe(),this._chipFocusSubscription=null),this._chipBlurSubscription&&(this._chipBlurSubscription.unsubscribe(),this._chipBlurSubscription=null),this._chipSelectionSubscription&&(this._chipSelectionSubscription.unsubscribe(),this._chipSelectionSubscription=null),this._chipRemoveSubscription&&(this._chipRemoveSubscription.unsubscribe(),this._chipRemoveSubscription=null)}_listenToChipsSelection(){this._chipSelectionSubscription=this.chipSelectionChanges.subscribe(t=>{t.source.selected?this._selectionModel.select(t.source):this._selectionModel.deselect(t.source),this.multiple||this.chips.forEach(t=>{!this._selectionModel.isSelected(t)&&t.selected&&t.deselect()}),t.isUserInput&&this._propagateChanges()})}_listenToChipsFocus(){this._chipFocusSubscription=this.chipFocusChanges.subscribe(t=>{let e=this.chips.toArray().indexOf(t.chip);this._isValidIndex(e)&&this._keyManager.updateActiveItem(e),this.stateChanges.next()}),this._chipBlurSubscription=this.chipBlurChanges.subscribe(()=>{this._blur(),this.stateChanges.next()})}_listenToChipsRemoved(){this._chipRemoveSubscription=this.chipRemoveChanges.subscribe(t=>{const e=t.chip,n=this.chips.toArray().indexOf(t.chip);this._isValidIndex(n)&&e._hasFocus&&(this._lastDestroyedChipIndex=n)})}_originatesFromChip(t){let e=t.target;for(;e&&e!==this._elementRef.nativeElement;){if(e.classList.contains("mat-chip"))return!0;e=e.parentElement}return!1}_hasFocusedChip(){return this.chips.some(t=>t._hasFocus)}_syncChipsState(){this.chips&&this.chips.forEach(t=>{t._chipListDisabled=this._disabled,t._chipListMultiple=this.multiple})}}return t.\u0275fac=function(e){return new(e||t)(Ms(Ya),Ms(Xo),Ms(k_,8),Ms(bp,8),Ms(Rp,8),Ms(ok),Ms(_d,10))},t.\u0275cmp=pe({type:t,selectors:[["mat-chip-list"]],contentQueries:function(t,e,n){var i;1&t&&hc(n,tH,!0),2&t&&ac(i=fc())&&(e.chips=i)},hostAttrs:[1,"mat-chip-list"],hostVars:15,hostBindings:function(t,e){1&t&&$s("focus",(function(){return e.focus()}))("blur",(function(){return e._blur()}))("keydown",(function(t){return e._keydown(t)})),2&t&&(Oa("id",e._uid),ks("tabindex",e.disabled?null:e._tabIndex)("aria-describedby",e._ariaDescribedby||null)("aria-required",e.role?e.required:null)("aria-disabled",e.disabled.toString())("aria-invalid",e.errorState)("aria-multiselectable",e.multiple)("role",e.role)("aria-orientation",e.ariaOrientation),ua("mat-chip-list-disabled",e.disabled)("mat-chip-list-invalid",e.errorState)("mat-chip-list-required",e.required))},inputs:{ariaOrientation:["aria-orientation","ariaOrientation"],multiple:"multiple",compareWith:"compareWith",value:"value",required:"required",placeholder:"placeholder",disabled:"disabled",selectable:"selectable",tabIndex:"tabIndex",errorStateMatcher:"errorStateMatcher"},outputs:{change:"change",valueChange:"valueChange"},exportAs:["matChipList"],features:[Ga([{provide:WI,useExisting:t}]),Ia],ngContentSelectors:Kz,decls:2,vars:0,consts:[[1,"mat-chip-list-wrapper"]],template:function(t,e){1&t&&(Zs(),Ls(0,"div",0),Js(1),Bs())},styles:['.mat-chip{position:relative;box-sizing:border-box;-webkit-tap-highlight-color:transparent;transform:translateZ(0);border:none;-webkit-appearance:none;-moz-appearance:none}.mat-standard-chip{transition:box-shadow 280ms cubic-bezier(0.4, 0, 0.2, 1);display:inline-flex;padding:7px 12px;border-radius:16px;align-items:center;cursor:default;min-height:32px;height:1px}._mat-animation-noopable.mat-standard-chip{transition:none;animation:none}.mat-standard-chip .mat-chip-remove.mat-icon{width:18px;height:18px}.mat-standard-chip::after{top:0;left:0;right:0;bottom:0;position:absolute;border-radius:inherit;opacity:0;content:"";pointer-events:none;transition:opacity 200ms cubic-bezier(0.35, 0, 0.25, 1)}.mat-standard-chip:hover::after{opacity:.12}.mat-standard-chip:focus{outline:none}.mat-standard-chip:focus::after{opacity:.16}.cdk-high-contrast-active .mat-standard-chip{outline:solid 1px}.cdk-high-contrast-active .mat-standard-chip:focus{outline:dotted 2px}.mat-standard-chip.mat-chip-disabled::after{opacity:0}.mat-standard-chip.mat-chip-disabled .mat-chip-remove,.mat-standard-chip.mat-chip-disabled .mat-chip-trailing-icon{cursor:default}.mat-standard-chip.mat-chip-with-trailing-icon.mat-chip-with-avatar,.mat-standard-chip.mat-chip-with-avatar{padding-top:0;padding-bottom:0}.mat-standard-chip.mat-chip-with-trailing-icon.mat-chip-with-avatar{padding-right:8px;padding-left:0}[dir=rtl] .mat-standard-chip.mat-chip-with-trailing-icon.mat-chip-with-avatar{padding-left:8px;padding-right:0}.mat-standard-chip.mat-chip-with-trailing-icon{padding-top:7px;padding-bottom:7px;padding-right:8px;padding-left:12px}[dir=rtl] .mat-standard-chip.mat-chip-with-trailing-icon{padding-left:8px;padding-right:12px}.mat-standard-chip.mat-chip-with-avatar{padding-left:0;padding-right:12px}[dir=rtl] .mat-standard-chip.mat-chip-with-avatar{padding-right:0;padding-left:12px}.mat-standard-chip .mat-chip-avatar{width:24px;height:24px;margin-right:8px;margin-left:4px}[dir=rtl] .mat-standard-chip .mat-chip-avatar{margin-left:8px;margin-right:4px}.mat-standard-chip .mat-chip-remove,.mat-standard-chip .mat-chip-trailing-icon{width:18px;height:18px;cursor:pointer}.mat-standard-chip .mat-chip-remove,.mat-standard-chip .mat-chip-trailing-icon{margin-left:8px;margin-right:0}[dir=rtl] .mat-standard-chip .mat-chip-remove,[dir=rtl] .mat-standard-chip .mat-chip-trailing-icon{margin-right:8px;margin-left:0}.mat-chip-ripple{top:0;left:0;right:0;bottom:0;position:absolute;pointer-events:none;border-radius:inherit;overflow:hidden}.mat-chip-list-wrapper{display:flex;flex-direction:row;flex-wrap:wrap;align-items:center;margin:-4px}.mat-chip-list-wrapper input.mat-input-element,.mat-chip-list-wrapper .mat-standard-chip{margin:4px}.mat-chip-list-stacked .mat-chip-list-wrapper{flex-direction:column;align-items:flex-start}.mat-chip-list-stacked .mat-chip-list-wrapper .mat-standard-chip{width:100%}.mat-chip-avatar{border-radius:50%;justify-content:center;align-items:center;display:flex;overflow:hidden;object-fit:cover}input.mat-chip-input{width:150px;margin:4px;flex:1 0 150px}\n'],encapsulation:2,changeDetection:0}),t})(),lH=0,cH=(()=>{class t{constructor(t,e){this._elementRef=t,this._defaultOptions=e,this.focused=!1,this._addOnBlur=!1,this.separatorKeyCodes=this._defaultOptions.separatorKeyCodes,this.chipEnd=new Yl,this.placeholder="",this.id=`mat-chip-list-input-${lH++}`,this._disabled=!1,this._inputElement=this._elementRef.nativeElement}set chipList(t){t&&(this._chipList=t,this._chipList.registerInput(this))}get addOnBlur(){return this._addOnBlur}set addOnBlur(t){this._addOnBlur=cy(t)}get disabled(){return this._disabled||this._chipList&&this._chipList.disabled}set disabled(t){this._disabled=cy(t)}get empty(){return!this._inputElement.value}ngOnChanges(){this._chipList.stateChanges.next()}_keydown(t){t&&9===t.keyCode&&!YP(t,"shiftKey")&&this._chipList._allowFocusEscape(),this._emitChipEnd(t)}_blur(){this.addOnBlur&&this._emitChipEnd(),this.focused=!1,this._chipList.focused||this._chipList._blur(),this._chipList.stateChanges.next()}_focus(){this.focused=!0,this._chipList.stateChanges.next()}_emitChipEnd(t){!this._inputElement.value&&t&&this._chipList._keydown(t),t&&!this._isSeparatorKey(t)||(this.chipEnd.emit({input:this._inputElement,value:this._inputElement.value}),t&&t.preventDefault())}_onInput(){this._chipList.stateChanges.next()}focus(t){this._inputElement.focus(t)}_isSeparatorKey(t){if(YP(t))return!1;const e=this.separatorKeyCodes,n=t.keyCode;return Array.isArray(e)?e.indexOf(n)>-1:e.has(n)}}return t.\u0275fac=function(e){return new(e||t)(Ms(Ya),Ms(nH))},t.\u0275dir=be({type:t,selectors:[["input","matChipInputFor",""]],hostAttrs:[1,"mat-chip-input","mat-input-element"],hostVars:5,hostBindings:function(t,e){1&t&&$s("keydown",(function(t){return e._keydown(t)}))("blur",(function(){return e._blur()}))("focus",(function(){return e._focus()}))("input",(function(){return e._onInput()})),2&t&&(Oa("id",e.id),ks("disabled",e.disabled||null)("placeholder",e.placeholder||null)("aria-invalid",e._chipList&&e._chipList.ngControl?e._chipList.ngControl.invalid:null)("aria-required",e._chipList&&e._chipList.required||null))},inputs:{separatorKeyCodes:["matChipInputSeparatorKeyCodes","separatorKeyCodes"],placeholder:"placeholder",id:"id",chipList:["matChipInputFor","chipList"],addOnBlur:["matChipInputAddOnBlur","addOnBlur"],disabled:"disabled"},outputs:{chipEnd:"matChipInputTokenEnd"},exportAs:["matChipInput","matChipInputFor"],features:[La]}),t})();const uH={separatorKeyCodes:[13]};let hH=(()=>{class t{}return t.\u0275mod=_e({type:t}),t.\u0275inj=dt({factory:function(e){return new(e||t)},providers:[ok,{provide:nH,useValue:uH}]}),t})();class dH extends Of{constructor(){super(...arguments),this.overrides={pan:{direction:6},pinch:{enable:!1},rotate:{enable:!1}}}}class pH{getTranslation(t){return sd([j(n.e(5).then(n.t.bind(null,"DkCW",3))),(new Mj).getTranslation(t)]).pipe(F(t=>Object.assign(Object.assign({},t[0]),t[1])))}}let fH=(()=>{class t{}return t.\u0275mod=_e({type:t}),t.\u0275inj=dt({factory:function(e){return new(e||t)},providers:[YT,{provide:Pf,useClass:dH}],imports:[[ly,VR.forRoot({loader:{provide:bR,useClass:pH}})],MT,zT,sI,QA,cM,ly,QA,IM,xI,SA,jA,KA,fb,VR,$M,uD,BD,$D,Xz,hH,_R,Qj]}),t})(),mH=(()=>{class t{constructor(){this.subscriber=new x}ngOnDestroy(){this.subscriber.next(null),this.subscriber.complete(),this.subscriber.unsubscribe()}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275dir=be({type:t}),t})();class gH extends mH{constructor(t){super(),this.store=t,this.state$=t.pipe(cw(t=>t.templateEditor),$y(this.subscriber)),this.state$.subscribe(t=>this.state=t),this.product$=t.pipe(cw(t=>t.templateEditor.product),Vy(t=>!!t),$y(this.subscriber)),this.product$.subscribe(t=>this.product=t),this.viewer$=t.pipe(cw(t=>t.templateEditor.viewer),Vy(t=>!!t),$y(this.subscriber)),this.viewer$.subscribe(t=>this.viewer=t),this.currentSurfaceIndex$=t.pipe(cw(t=>t.templateEditor.currentSurfaceIndex),Vy(t=>null!==t),$y(this.subscriber)),this.currentSurfaceIndex$.subscribe(t=>this.currentSurfaceIndex=t),this.selectedItems$=t.pipe(cw(t=>t.templateEditor.selectedItems),Vy(t=>null!==t),$y(this.subscriber)),this.selectedItems$.subscribe(t=>this.selectedItems=t),this.viewerConfig$=t.pipe(cw(t=>{var e;return null===(e=t.templateEditor.configuration)||void 0===e?void 0:e.viewer}),Vy(t=>null!==t),$y(this.subscriber)),this.viewerConfig$.subscribe(t=>this.viewerConfig=t)}}const yH=wb("[Template editor] Set product",{_as:"props",_p:void 0}),_H=wb("[Template editor] Set viewer",{_as:"props",_p:void 0}),vH=wb("[Template editor] Set configuration",{_as:"props",_p:void 0}),bH=wb("[Template editor] Set current surface index",{_as:"props",_p:void 0}),wH=wb("[Template editor] Set selected items",{_as:"props",_p:void 0}),CH=wb("[Template editor] Set edit page",{_as:"props",_p:void 0}),xH=wb("[Template editor] Set editable tree item",{_as:"props",_p:void 0}),EH=wb("[Template editor] Set current layer",{_as:"props",_p:void 0}),SH=wb("[Template editor] SetFonts",{_as:"props",_p:void 0}),PH=wb("[Template editor] Set property tree",{_as:"props",_p:void 0}),OH=wb("[Template editor] Reset property tree"),kH=wb("[Template editor} Set property trees",{_as:"props",_p:void 0}),TH=wb("[Template editor] Mark trees as deprecated"),IH=wb("[Template editor] Delete item",{_as:"props",_p:void 0});let AH=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275cmp=pe({type:t,selectors:[["au-overlay-spinner"]],decls:2,vars:0,consts:[["mat-dialog-content","",1,"progress-dialog"],["mode","indeterminate"]],template:function(t,e){1&t&&(Ls(0,"div",0),Ns(1,"mat-progress-bar",1),Bs())},directives:[aD,UD],styles:[".progress-dialog[_ngcontent-%COMP%]{width:600px}.progress-dialog[_ngcontent-%COMP%]   .mat-dialog-content[_ngcontent-%COMP%]{padding:0}"]}),t})();const MH=wb("[UI] Set right panel item",{_as:"props",_p:void 0}),DH=wb("[UI] AddFontToMissing",{_as:"props",_p:void 0}),RH=wb("[UI] AddModifiedItems",{_as:"props",_p:void 0}),FH=wb("[UI] Clear missing fonts"),LH=wb("[UI] Set surfaces",{_as:"props",_p:void 0});class BH{constructor(t){this.family=t,this.styles=[],this._stylesList=[]}static fontFamilyList(t){return t.map(t=>t.toListItem())}get stylesList(){return this._stylesList}addStyle(t){this.styles.push(t),this._stylesList.push(t.toListItem())}toListItem(t=!1){return{value:this.family,viewValue:this.family,disabled:t}}belongMe(t){return this.styles.findIndex(e=>e.normalizePostScriptName===t.toLowerCase())>-1}findStyle(t){return this.styles.find(e=>e.style===t)}findStyleByPostScript(t){return this.styles.find(e=>e.normalizePostScriptName===t.toLowerCase())}firstStylePostScript(){const t=this.styles[0];if(t)return t.postscriptName}}class NH{constructor(t){this.preview=null==t?void 0:t.preview,this.family=null==t?void 0:t.metadata.family,this.name=null==t?void 0:t.metadata.style,this.postscriptName=null==t?void 0:t.metadata.postscriptName,this.style=null==t?void 0:t.metadata.style}get normalizePostScriptName(){return this.postscriptName.toLowerCase()}toListItem(){return{value:this.normalizePostScriptName,viewValue:this.name}}}var jH,zH=function(){function t(t,e){void 0===e&&(e=""),this._name="",this._propertyChanged=new sB,this.id=null!=t?t:(new ZR).toString(),this.name=e,null==this._tags&&(this._tags={})}return Object.defineProperty(t.prototype,"version",{get:function(){return"6.5.4"},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"name",{get:function(){return this._name},set:function(t){this._name!==t&&(this._name=t,this._propertyChanged.notify(this,"name"))},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"tags",{get:function(){return this._tags},set:function(t){if(null==t)throw new XR("value is null!");this._tags=t},enumerable:!0,configurable:!0}),t.prototype._copy=function(t,e,n,i){if(void 0===n&&(n=!1),void 0===i&&(i=!1),e.name=t.name,n?e.generateNewIds():e.id=t.id,null!=this.tags)for(var r in e.tags={},t.tags)e.tags[r]=JR.clone(t.tags[r])},t.prototype.getSimplifiedObject=function(t){var e=function(t,e){null==e?e=[]:"string"==typeof e&&(e=[e]);var n=[];for(var i in t)n.push(i);return n.filter((function(n){var i,r;try{for(var o=EB(["_","$$"]),s=o.next();!s.done;s=o.next())if(n.startsWith(s.value))return!1}catch(a){i={error:a}}finally{try{s&&!s.done&&(r=o.return)&&r.call(o)}finally{if(i)throw i.error}}return!e.some((function(t){return t===n}))&&"function"!=typeof t[n]})).reduce((function(e,n){return e[n]=t[n],e}),{})}(this,t);return e.tags=this.tags,e.id=this.id.toString(),e},t.prototype.generateNewIds=function(){this._generateNewId()},t.prototype._generateNewId=function(){this.id=(new ZR).toString()},t.prototype.toString=function(){return this.name},t.prototype.addPropertyChanged=function(t){this._propertyChanged.add(t)},t.prototype.removePropertyChanged=function(t){this._propertyChanged.remove(t)},t.prototype.equals=function(t){return this.name===t.name&&this.version===t.version},t}(),HH=function(){var t=function(e,n){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(e,n)};return function(e,n){function i(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(i.prototype=n.prototype,new i)}}(),VH=function(t){function e(){var n=null!==t&&t.apply(this,arguments)||this;return n.type=e.type,n}return HH(e,t),Object.defineProperty(e.prototype,"parentContainer",{get:function(){return this._parentContainer},set:function(t){this._parentContainer=t,this._onContainerChanged()},enumerable:!0,configurable:!0}),e.prototype._onContainerChanged=function(){},e.prototype._copy=function(e,n,i,r){t.prototype._copy.call(this,e,n,i),r&&(n.parentContainer=e.parentContainer)},e.prototype.clone=function(t,n){if(void 0===t&&(t=!1),void 0===n&&(n=!1),this.type!==e.type)throw new qR(".clone() method must be overriden in "+this.type+" class");var i=new e;return this._copy(this,i,t,n),i},e.prototype.update=function(t){this._copy(t,this,!0,!1)},e.prototype.getSimplifiedObject=function(e){JR.isArray(e)||JR.isString(e)||(e=[]);var n=t.prototype.getSimplifiedObject.call(this,["parentContainer"].concat(e));return n.$type=this.type,n},e.type="base",e}(zH),UH=function(){var t=function(e,n){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(e,n)};return function(e,n){function i(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(i.prototype=n.prototype,new i)}}(),WH=function(t){function e(){var n=t.call(this)||this;return n.type=e.type,n}return UH(e,t),e.prototype._copy=function(e,n,i,r){return t.prototype._copy.call(this,e,n,i,r),n.sourceDpi=e.sourceDpi,n.smartObjectDpi=e.smartObjectDpi,n.smartObjectRectangle=e.smartObjectRectangle,n.smartObjectSize=e.smartObjectSize,n.smartObjectStorageId=e.smartObjectStorageId,null!=e.warpControlPoints&&(n.warpControlPoints=e.warpControlPoints.map((function(t){return t}))),null!=e.projectiveTransform&&(n.projectiveTransform=e.projectiveTransform.map((function(t){return t}))),null!=e.vectorMask&&(n.vectorMask=e.vectorMask.map((function(t){return t}))),n},e.prototype.equals=function(e){return t.prototype.equals.call(this,e)&&TB(this.sourceDpi,e.sourceDpi)&&TB(this.smartObjectDpi,e.smartObjectDpi)&&JR.isEqual(this.smartObjectRectangle,e.smartObjectRectangle)&&JR.isEqual(this.smartObjectSize,e.smartObjectSize)&&TB(this.smartObjectStorageId,e.smartObjectStorageId)&&AB(this.warpControlPoints,e.warpControlPoints)&&AB(this.projectiveTransform,e.projectiveTransform)&&AB(this.vectorMask,e.vectorMask)},e.prototype.clone=function(t,n){void 0===t&&(t=!1),void 0===n&&(n=!1);var i=new e;return this._copy(this,i,t,n),i},e.type="SmartItem",e}(VH),$H="The item already belongs to this collection, or to another collection.",GH=n("AGOE");n("+P9r"),function(t){t.Move="Move",t.Add="Add",t.Remove="Remove"}(jH||(jH={}));var qH,XH,KH=function(t){var e="function"==typeof Symbol&&Symbol.iterator,n=e&&t[e],i=0;if(n)return n.call(t);if(t&&"number"==typeof t.length)return{next:function(){return t&&i>=t.length&&(t=void 0),{value:t&&t[i++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")},YH=function(t,e){var n="function"==typeof Symbol&&t[Symbol.iterator];if(!n)return t;var i,r,o=n.call(t),s=[];try{for(;(void 0===e||e-- >0)&&!(i=o.next()).done;)s.push(i.value)}catch(a){r={error:a}}finally{try{i&&!i.done&&(n=o.return)&&n.call(o)}finally{if(r)throw r.error}}return s},QH=function(){for(var t=[],e=0;e<arguments.length;e++)t=t.concat(YH(arguments[e]));return t};XH=(qH=GH).from,qH.from=function(t){return t instanceof JH?t:XH(t)};var ZH,JH=function(){function t(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];this._collection=[],this.constructor=function(t){throw new qR},this._itemAddedEvent=new rB,this._itemRemovedEvent=new rB,this._itemMovedEvent=new rB,this._enumerable=GH.from(this._collection),0!==t.length&&this.setRange(t)}return t.prototype.setRange=function(t){this.clear(),this.addRange(t)},t.prototype.addRange=function(e){var n;e instanceof t&&(e=e._collection),"getEnumerator"in(n=e)&&"toArray"in n&&(e=e.toArray());for(var i=0;i<e.length;i++)this.add(e[i])},t.prototype.add=function(){for(var t,e,n=[],i=0;i<arguments.length;i++)n[i]=arguments[i];try{for(var r=KH(n),o=r.next();!o.done;o=r.next()){var s=o.value;this.insertAt(this._collection.length,s)}}catch(a){t={error:a}}finally{try{o&&!o.done&&(e=r.return)&&e.call(r)}finally{if(t)throw t.error}}},t.prototype.push=function(t){return this.add(t),this.length},t.prototype.insertAt=function(t,e){var n,i,r;Array.isArray(e)||(e=[e]);try{for(var o=KH(e),s=o.next();!s.done;s=o.next())this._checkIfItemExists(l=s.value)}catch(c){n={error:c}}finally{try{s&&!s.done&&(i=o.return)&&i.call(o)}finally{if(n)throw n.error}}if(t<0||t>this._collection.length)throw new YR;(r=this._collection).splice.apply(r,QH([t,0],e));for(var a=0;a<e.length;a++){var l;this._onItemAdded(this._collection.indexOf(l=e[a]),l)}},t.prototype.remove=function(t){if(!this.contains(t))throw new XR("The item was not found in this collection.");return this.removeAt(this.indexOf(t))},t.prototype.removeAt=function(t){if(t<0||t>this._collection.length-1)throw new YR;var e=this._collection[t];return this._collection.splice(t,1),this._onItemRemoved(t,e),e},t.prototype.removeRange=function(t,e){for(var n=this._collection.slice(),i=this._collection.splice(t,e-t+1),r=0;r<i.length;r++){var o=i[r];this._onItemRemoved(n.indexOf(o),o)}return i},t.prototype.move=function(t,e,n){"boolean"!=typeof n&&(n=!1);var i=this._collection[t];return i&&t>=0&&e>=0&&t!=e&&(this._collection.splice(t,1),this._collection.splice(e,0,i),n||this._onItemMoved(t,e)),i},t.prototype.clear=function(){for(var t=this.length-1;t>=0;t--)this.removeAt(t)},t.prototype.replaceAt=function(t,e){if(e<0||e>this._collection.length-1)throw new YR;this._collection[e]=t},Object.defineProperty(t.prototype,"length",{get:function(){return this._collection.length},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"empty",{get:function(){return 0===this.length},enumerable:!0,configurable:!0}),t.prototype.get=function(t){return this.getItem(t)},t.prototype.set=function(t,e){throw new qR},t.prototype.getItem=function(t){return this._collection[t]},t.prototype._checkIfItemExists=function(t){if(this.contains(t))throw new XR($H)},t.prototype._onItemAdded=function(t,e){this._itemAddedEvent.notify({item:e,index:t,type:jH.Add})},t.prototype.add_itemAdded=function(t){this._itemAddedEvent.add(t)},t.prototype.remove_itemAdded=function(t){this._itemAddedEvent.remove(t)},t.prototype._onItemRemoved=function(t,e){this._itemRemovedEvent.notify({item:e,index:t,type:jH.Remove})},t.prototype.add_itemRemoved=function(t){this._itemRemovedEvent.add(t)},t.prototype.remove_itemRemoved=function(t){this._itemRemovedEvent.remove(t)},t.prototype._onItemMoved=function(t,e){this._itemMovedEvent.notify({oldIndex:t,newIndex:e,type:jH.Move})},t.prototype.add_itemMoved=function(t){this._itemMovedEvent.add(t)},t.prototype.remove_itemMoved=function(t){this._itemMovedEvent.remove(t)},t.prototype.add_collectionChanged=function(t){this.add_itemMoved(t),this.add_itemRemoved(t),this.add_itemAdded(t)},t.prototype.remove_collectionChanged=function(t){this.remove_itemMoved(t),this.remove_itemRemoved(t),this.remove_itemAdded(t)},t.prototype[Symbol.iterator]=function(){return this._collection.values()},t.prototype.toArray=function(){return this._collection.slice()},t.prototype.getEnumerator=function(){return this._enumerable.getEnumerator()},t.prototype.traverseBreadthFirst=function(){for(var t,e=[],n=0;n<arguments.length;n++)e[n]=arguments[n];return(t=this._enumerable).traverseBreadthFirst.apply(t,QH(e))},t.prototype.traverseDepthFirst=function(){for(var t,e=[],n=0;n<arguments.length;n++)e[n]=arguments[n];return(t=this._enumerable).traverseDepthFirst.apply(t,QH(e))},t.prototype.flatten=function(){return this._enumerable.flatten()},t.prototype.pairwise=function(t){return this._enumerable.pairwise(t)},t.prototype.scan=function(){for(var t,e=[],n=0;n<arguments.length;n++)e[n]=arguments[n];return(t=this._enumerable).scan.apply(t,QH(e))},t.prototype.select=function(t){return this._enumerable.select(t)},t.prototype.selectMany=function(){for(var t,e=[],n=0;n<arguments.length;n++)e[n]=arguments[n];return(t=this._enumerable).selectMany.apply(t,QH(e))},t.prototype.where=function(t){return this._enumerable.where(t)},t.prototype.choose=function(t){return this._enumerable.choose(t)},t.prototype.ofType=function(t){return this._enumerable.ofType(t)},t.prototype.zip=function(){for(var t,e=[],n=0;n<arguments.length;n++)e[n]=arguments[n];return(t=this._enumerable).zip.apply(t,QH(e))},t.prototype.merge=function(){for(var t,e=[],n=0;n<arguments.length;n++)e[n]=arguments[n];return(t=this._enumerable).merge.apply(t,QH(e))},t.prototype.join=function(){for(var t,e=[],n=0;n<arguments.length;n++)e[n]=arguments[n];return(t=this._enumerable).join.apply(t,QH(e))},t.prototype.groupJoin=function(){for(var t,e=[],n=0;n<arguments.length;n++)e[n]=arguments[n];return(t=this._enumerable).groupJoin.apply(t,QH(e))},t.prototype.all=function(t){return this._enumerable.all(t)},t.prototype.any=function(t){return this._enumerable.any(t)},t.prototype.isEmpty=function(){return this._enumerable.isEmpty()},t.prototype.concat=function(){for(var t,e=[],n=0;n<arguments.length;n++)e[n]=arguments[n];return(t=this._enumerable).concat.apply(t,QH(e))},t.prototype.alternate=function(){for(var t,e=[],n=0;n<arguments.length;n++)e[n]=arguments[n];return(t=this._enumerable).alternate.apply(t,QH(e))},t.prototype.defaultIfEmpty=function(t){return this._enumerable.defaultIfEmpty(t)},t.prototype.distinct=function(){for(var t,e=[],n=0;n<arguments.length;n++)e[n]=arguments[n];return(t=this._enumerable).distinct.apply(t,QH(e))},t.prototype.distinctUntilChanged=function(){for(var t,e=[],n=0;n<arguments.length;n++)e[n]=arguments[n];return(t=this._enumerable).distinctUntilChanged.apply(t,QH(e))},t.prototype.except=function(){for(var t,e=[],n=0;n<arguments.length;n++)e[n]=arguments[n];return(t=this._enumerable).except.apply(t,QH(e))},t.prototype.intersect=function(){for(var t,e=[],n=0;n<arguments.length;n++)e[n]=arguments[n];return(t=this._enumerable).intersect.apply(t,QH(e))},t.prototype.union=function(){for(var t,e=[],n=0;n<arguments.length;n++)e[n]=arguments[n];return(t=this._enumerable).union.apply(t,QH(e))},t.prototype.sequenceEqual=function(){for(var t,e=[],n=0;n<arguments.length;n++)e[n]=arguments[n];return(t=this._enumerable).sequenceEqual.apply(t,QH(e))},t.prototype.orderBy=function(t){return this._enumerable.orderBy(t)},t.prototype.orderByDescending=function(t){return this._enumerable.orderByDescending(t)},t.prototype.reverse=function(){return this._enumerable.reverse()},t.prototype.shuffle=function(){return this._enumerable.shuffle()},t.prototype.weightedSample=function(t){return this._enumerable.weightedSample(t)},t.prototype.groupBy=function(){for(var t,e=[],n=0;n<arguments.length;n++)e[n]=arguments[n];return(t=this._enumerable).groupBy.apply(t,QH(e))},t.prototype.partitionBy=function(){for(var t,e=[],n=0;n<arguments.length;n++)e[n]=arguments[n];return(t=this._enumerable).partitionBy.apply(t,QH(e))},t.prototype.buffer=function(t){return this._enumerable.buffer(t)},t.prototype.aggregate=function(){for(var t,e=[],n=0;n<arguments.length;n++)e[n]=arguments[n];return(t=this._enumerable).aggregate.apply(t,QH(e))},t.prototype.average=function(t){return this._enumerable.average(t)},t.prototype.count=function(t){return this._enumerable.count(t)},t.prototype.max=function(t){return this._enumerable.max(t)},t.prototype.min=function(t){return this._enumerable.min(t)},t.prototype.maxBy=function(t){return this._enumerable.maxBy(t)},t.prototype.minBy=function(t){return this._enumerable.minBy(t)},t.prototype.sum=function(t){return this._enumerable.sum(t)},t.prototype.elementAt=function(t){return this._enumerable.elementAt(t)},t.prototype.elementAtOrDefault=function(t,e){return this._enumerable.elementAtOrDefault(t,e)},t.prototype.first=function(t){return this._enumerable.first(t)},t.prototype.firstOrDefault=function(t,e){return"function"==typeof t?this._enumerable.firstOrDefault(t,e):this._enumerable.firstOrDefault(e)},t.prototype.last=function(t){return this._enumerable.last(t)},t.prototype.lastOrDefault=function(t,e){return"function"==typeof t?this._enumerable.lastOrDefault(t,e):this._enumerable.lastOrDefault(e)},t.prototype.single=function(t){return this._enumerable.single(t)},t.prototype.singleOrDefault=function(t,e){return this._enumerable.singleOrDefault(t,e)},t.prototype.skip=function(t){return this._enumerable.skip(t)},t.prototype.skipWhile=function(t){return this._enumerable.skipWhile(t)},t.prototype.take=function(t){return this._enumerable.take(t)},t.prototype.takeWhile=function(t){return this._enumerable.takeWhile(t)},t.prototype.takeExceptLast=function(t){return this._enumerable.takeExceptLast(t)},t.prototype.takeFromLast=function(t){return this._enumerable.takeFromLast(t)},t.prototype.indexOf=function(){for(var t,e=[],n=0;n<arguments.length;n++)e[n]=arguments[n];return(t=this._enumerable).indexOf.apply(t,QH(e))},t.prototype.lastIndexOf=function(){for(var t,e=[],n=0;n<arguments.length;n++)e[n]=arguments[n];return(t=this._enumerable).lastIndexOf.apply(t,QH(e))},t.prototype.asEnumerable=function(){return this._enumerable},t.prototype.cast=function(){return this._enumerable.cast()},t.prototype.toLookup=function(){for(var t,e=[],n=0;n<arguments.length;n++)e[n]=arguments[n];return(t=this._enumerable).toLookup.apply(t,QH(e))},t.prototype.toObject=function(t,e){return this._enumerable.toObject(t,e)},t.prototype.toDictionary=function(){for(var t,e=[],n=0;n<arguments.length;n++)e[n]=arguments[n];return(t=this._enumerable).toDictionary.apply(t,QH(e))},t.prototype.toJSONString=function(){for(var t,e=[],n=0;n<arguments.length;n++)e[n]=arguments[n];return(t=this._enumerable).toJSONString.apply(t,QH(e))},t.prototype.toJoinedString=function(){for(var t,e=[],n=0;n<arguments.length;n++)e[n]=arguments[n];return(t=this._enumerable).toJoinedString.apply(t,QH(e))},t.prototype.doAction=function(){for(var t,e=[],n=0;n<arguments.length;n++)e[n]=arguments[n];return(t=this._enumerable).doAction.apply(t,QH(e))},t.prototype.forEach=function(){for(var t,e=[],n=0;n<arguments.length;n++)e[n]=arguments[n];return(t=this._enumerable).forEach.apply(t,QH(e))},t.prototype.write=function(){for(var t,e=[],n=0;n<arguments.length;n++)e[n]=arguments[n];return(t=this._enumerable).write.apply(t,QH(e))},t.prototype.writeLine=function(){for(var t,e=[],n=0;n<arguments.length;n++)e[n]=arguments[n];return(t=this._enumerable).writeLine.apply(t,QH(e))},t.prototype.force=function(){return this._enumerable.force()},t.prototype.letBind=function(){for(var t,e=[],n=0;n<arguments.length;n++)e[n]=arguments[n];return(t=this._enumerable).letBind.apply(t,QH(e))},t.prototype.share=function(){return this._enumerable.share()},t.prototype.memoize=function(){return this._enumerable.memoize()},t.prototype.catchError=function(t){return this._enumerable.catchError(t)},t.prototype.finallyAction=function(t){return this._enumerable.finallyAction(t)},t.prototype.log=function(){for(var t,e=[],n=0;n<arguments.length;n++)e[n]=arguments[n];return(t=this._enumerable).log.apply(t,QH(e))},t.prototype.trace=function(){for(var t,e=[],n=0;n<arguments.length;n++)e[n]=arguments[n];return(t=this._enumerable).trace.apply(t,QH(e))},t.prototype.insert=function(){for(var t,e=[],n=0;n<arguments.length;n++)e[n]=arguments[n];return(t=this._enumerable).insert.apply(t,QH(e))},t.prototype.contains=function(){for(var t,e=[],n=0;n<arguments.length;n++)e[n]=arguments[n];return(t=this._enumerable).contains.apply(t,QH(e))},t}();!function(t){t[t.Normal=0]="Normal",t[t.Grayscale=1]="Grayscale",t[t.Solid=2]="Solid"}(ZH||(ZH={}));var tV=function(){var t=function(e,n){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(e,n)};return function(e,n){function i(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(i.prototype=n.prototype,new i)}}(),eV=function(t){function e(e,n){var i=t.call(this)||this;return i._items=new JH,i._visible=!0,i.parentComponent=null,i.locked=!1,i.renderingType=ZH.Normal,i.type="Container",i.region=null,i._onItemAdded=function(t){t.item.parentContainer=i},i._items=new JH,i._items.add_itemAdded(i._onItemAdded),null!=e&&i.items.setRange(e),null!=n&&(i.name=n),i}return tV(e,t),Object.defineProperty(e.prototype,"items",{get:function(){return this._items},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"visible",{get:function(){return this._visible},set:function(t){this._visible!==t&&(this._visible=t,this._propertyChanged.notify(this,"visible"))},enumerable:!0,configurable:!0}),e.prototype.getSimplifiedObject=function(){var e=t.prototype.getSimplifiedObject.call(this,["parentComponent","version"]);return e.version=this.version,e},e.prototype.generateNewIds=function(){this._generateNewId(),this._items.forEach((function(t){return t.generateNewIds()}))},e.prototype._copy=function(e,n,i){t.prototype._copy.call(this,e,n,i),n.items.addRange(e.items.toArray().map((function(t){return t.clone(i)}))),n.locked=e.locked,n.visible=e.visible,n.renderingType=e.renderingType,n.translationKey=e.translationKey,n.region=null!=e.region?e.region.clone():null},e.prototype.clone=function(t){void 0===t&&(t=!1);var n=new e;return this._copy(this,n,t),n},e}(zH),nV=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.locked=!0,e.noPrint=!1,e.noShow=!1,e.size=null,e}return tV(e,t),e.prototype._copy=function(e,n,i){t.prototype._copy.call(this,e,n,i),n.noPrint=e.noPrint,n.noShow=e.noShow,n.size=null!=e.size?e.size.clone():null},e.prototype.clone=function(t){void 0===t&&(t=!1);var n=new e;return this._copy(this,n,t),n},e}(eV),iV=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.locked=!1,e.type="SurfaceContainer",e}return tV(e,t),e.prototype.clone=function(t){void 0===t&&(t=!1);var n=new e;return this._copy(this,n,t),n},e}(eV),rV=function(t){function e(){var e=t.call(this)||this;return e.type="SpotColorContainer",e.renderingType=ZH.Grayscale,e}return tV(e,t),e.prototype._copy=function(e,n,i){t.prototype._copy.call(this,e,n,i),n.previewColor=e.previewColor},e.prototype.clone=function(t){void 0===t&&(t=!1);var n=new e;return this._copy(this,n,t),n},e}(iV),oV=function(t){function e(){var e=t.call(this)||this;return e.type="TextureContainer",e.renderingType=ZH.Solid,e}return tV(e,t),Object.defineProperty(e.prototype,"previewTextureSource",{get:function(){return this._previewTextureSource},set:function(t){t!==this._previewTextureSource&&(this._previewTextureSource=t,this._propertyChanged.notify(this,"previewTextureSource"))},enumerable:!0,configurable:!0}),e.prototype._copy=function(e,n,i){return t.prototype._copy.call(this,e,n,i),n.previewTextureSource=null!=e.previewTextureSource?e.previewTextureSource.clone():null,n.previewTextureName=e.previewTextureName,n},e.prototype.clone=function(t){void 0===t&&(t=!1);var n=new e;return this._copy(this,n,t),n},e.prototype.getSimplifiedObject=function(e){JR.isArray(e)||JR.isString(e)||(e=[]);var n=t.prototype.getSimplifiedObject.call(this);return n.previewTextureSource={id:this.previewTextureSource.id,width:this.previewTextureSource.width,height:this.previewTextureSource.height,isVector:this.previewTextureSource.isVector,pageIndex:this.previewTextureSource.pageIndex,url:this.previewTextureSource.url,actualSize:this.previewTextureSource.actualSize,saveAspectRatio:this.previewTextureSource.saveAspectRatio,origin:this.previewTextureSource.origin},n},e}(iV),sV=new(function(){function t(){this.data={},this._typeDictionary={}}return t.prototype.getPropertyMetadata=function(t,e){var n=t.type;if(null==n)return null;if(null==this._typeDictionary[n]){this._typeDictionary[n]=[];for(var i=t;null!=i.constructor.type;)this._typeDictionary[n].push(i.constructor.type),i=Object.getPrototypeOf(i)}for(var r=0;r<this._typeDictionary[n].length;r++){var o=this._typeDictionary[n][r];if(null!=this.data[o]){var s=this.data[o][e];if(null!=s)return s}}return null},t}());function aV(t){return function(e,n){var i=e.constructor.type;null==sV.data[i]&&(sV.data[i]={});var r=sV.data[i];null==r[n]&&(r[n]={type:null!=t.enumObject?"enum":typeof e[n],displayName:null!=t&&null!=t.displayName?t.displayName:n,propertyFactory:t.factory,values:null!=t.enumObject?Object.keys(t.enumObject).map((function(e){return t.enumObject[e]})).filter((function(t){return"string"==typeof t})):null,ignore:null==t.ignore||t.ignore})}}var lV,cV=function(t,e){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(t,e)},uV=function(){function t(e,n,i){void 0===i&&(i=!0),this._edgeConstraint=null,this._cornerArbitraryConstraint=null,this.propertyChanged=new rB,this.type=t.type,this.edge=n,this._setCornerValues(e,n,i)}return Object.defineProperty(t.prototype,"edgeConstraint",{set:function(t){var e=this.edge;this._edgeConstraint=t,this.edge!==e&&this.propertyChanged.notify()},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"edge",{get:function(){return null!=this._edgeConstraint?this._edgeConstraint:this._edge},set:function(t){this._edge!==t&&(this._edge=t,this.propertyChanged.notify())},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"corner",{get:function(){return this._corner},set:function(t){if(null==t)throw new KR("corner cannot be null");this._corner!==t&&(this._corner=t,this.propertyChanged.notify())},enumerable:!0,configurable:!0}),t.prototype._setCornerValues=function(e,n,i){this.corner=e&&n?i?[t.arbitrary,t.proportional]:[t.proportional,t.arbitrary]:e?[t.proportional]:n?[t.arbitrary]:[]},t.prototype.getCornerProportional=function(){return this.corner.includes(t.proportional)},t.prototype.getCornerArbitrary=function(){return null!=this._cornerArbitraryConstraint?this._cornerArbitraryConstraint:this.corner.includes(t.arbitrary)},t.prototype.setCornerProportional=function(t){var e=this.getCornerArbitrary();this._setCornerValues(t,e,!0)},t.prototype.setCornerArbitrary=function(t){var e=this.getCornerProportional();this._setCornerValues(e,t,!0)},t.prototype.setCornerArbitraryConstraint=function(t){var e=this.getCornerArbitrary();this._cornerArbitraryConstraint=t,this.getCornerArbitrary()!==e&&this.propertyChanged.notify()},t.prototype.clone=function(){var e=new t(!0,!0);return e.edge=this.edge,e.corner=this.corner.slice(),e},t.prototype.equals=function(t){return this.edge===t.edge&&JR.isEqual(this.corner,t.corner)},Object.defineProperty(t.prototype,"data",{get:function(){return{Edge:this.edge,Corner:this.corner}},enumerable:!0,configurable:!0}),t._fromData=function(e){if(null==e)return new t(!1,!1);var n=new t(!0,!0);return n.corner=e.Corner,n.edge=e.Edge,n},t.prototype.getSimplifiedObject=function(){var t={};return t.edge=this.edge,t.corner=this.corner,t},t.arbitrary="Arbitrary",t.proportional="Proportional",t.type="ResizeGripsPermissions",function(t,e,n,i){var r,o=arguments.length,s=o<3?e:null===i?i=Object.getOwnPropertyDescriptor(e,n):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(t,e,n,i);else for(var a=t.length-1;a>=0;a--)(r=t[a])&&(s=(o<3?r(s):o>3?r(e,n,s):r(e,n))||s);o>3&&s&&Object.defineProperty(e,n,s)}([aV({ignore:!0}),cV("design:type",Boolean),cV("design:paramtypes",[Boolean])],t.prototype,"edgeConstraint",null),t}(),hV=function(t,e){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(t,e)},dV=function(){function t(e){var n=this;void 0===e&&(e=!0),this._allowRotateConstraint=null,this.propertyChanged=new rB,this._firePropertyChanged=function(){return n.propertyChanged.notify()},this.type=t.type,this.allowDelete=e,this.allowMoveHorizontal=e,this.allowMoveVertical=e,this.allowRotate=e,this.allowDragAndDrop=e,this.resizeGrips=new uV(e,e)}return Object.defineProperty(t.prototype,"allowDelete",{get:function(){return this._allowDelete},set:function(t){this._allowDelete!==t&&(this._allowDelete=t,this.propertyChanged.notify())},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"allowMoveHorizontal",{get:function(){return this._allowMoveHorizontal},set:function(t){this._allowMoveHorizontal!==t&&(this._allowMoveHorizontal=t,this.propertyChanged.notify())},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"allowMoveVertical",{get:function(){return this._allowMoveVertical},set:function(t){this._allowMoveVertical!==t&&(this._allowMoveVertical=t,this.propertyChanged.notify())},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"allowRotateConstraint",{set:function(t){var e=this.allowRotate;this._allowRotateConstraint=t,this.allowRotate!==e&&this.propertyChanged.notify()},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"allowRotate",{get:function(){return null!=this._allowRotateConstraint?this._allowRotateConstraint:this._allowRotate},set:function(t){this._allowRotate!==t&&(this._allowRotate=t,this.propertyChanged.notify())},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"allowDragAndDrop",{get:function(){return this._allowDragAndDrop},set:function(t){this._allowDragAndDrop!==t&&(this._allowDragAndDrop=t,this.propertyChanged.fire())},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"resizeGrips",{get:function(){return this._resizeGrips},set:function(t){null!=this.resizeGrips&&null!=this.resizeGrips.propertyChanged&&this.resizeGrips.propertyChanged.remove(this._firePropertyChanged),this._resizeGrips=t,null!=this.resizeGrips.propertyChanged&&this.resizeGrips.propertyChanged.add(this._firePropertyChanged),this.propertyChanged.notify()},enumerable:!0,configurable:!0}),t.prototype.clone=function(){var e=new t;return e.allowDelete=this.allowDelete,e.allowDragAndDrop=this.allowDragAndDrop,e.allowMoveHorizontal=this.allowMoveHorizontal,e.allowMoveVertical=this.allowMoveVertical,e.allowRotate=this.allowRotate,e.allowRotateConstraint=this.allowRotateConstraint,e.resizeGrips=this.resizeGrips.clone(),e},t.prototype.equals=function(t){return this.allowDelete===t.allowDelete&&this.allowDragAndDrop===t.allowDragAndDrop&&this.allowMoveHorizontal===t.allowMoveHorizontal&&this.allowMoveVertical===t.allowMoveVertical&&this.allowRotate===t.allowRotate&&this.allowRotateConstraint===t.allowRotateConstraint&&TB(this.resizeGrips,t.resizeGrips)},t.prototype.getSimplifiedObject=function(){var t={};return t.allowDelete=this.allowDelete,t.resizeGrips=this.resizeGrips.getSimplifiedObject(),t.allowMoveHorizontal=this.allowMoveHorizontal,t.allowMoveVertical=this.allowMoveVertical,t.allowRotate=this.allowRotate,t.allowDragAndDrop=this.allowDragAndDrop,t},t.CreateFromRaw=function(e){var n=JR.extend(new uV(!0,!0),e.resizeGrips),i=JR.extend(new t,e);return i.resizeGrips=n,i},t.type="ManipulationPermissions",function(t,e,n,i){var r,o=arguments.length,s=o<3?e:null===i?i=Object.getOwnPropertyDescriptor(e,n):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(t,e,n,i);else for(var a=t.length-1;a>=0;a--)(r=t[a])&&(s=(o<3?r(s):o>3?r(e,n,s):r(e,n))||s);o>3&&s&&Object.defineProperty(e,n,s)}([aV({ignore:!0}),hV("design:type",Boolean),hV("design:paramtypes",[Boolean])],t.prototype,"allowRotateConstraint",null),t}(),pV=function(){function t(){this._noPrint=!1,this._noShow=!1,this.propertyChanged=new rB}return Object.defineProperty(t.prototype,"noPrint",{get:function(){return this._noPrint},set:function(t){this._noPrint!==t&&(this._noPrint=t,this.propertyChanged.notify())},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"noShow",{get:function(){return this._noShow},set:function(t){this._noShow!==t&&(this._noShow=t,this.propertyChanged.notify())},enumerable:!0,configurable:!0}),t.prototype.clone=function(){var e=new t;return e.noShow=this.noShow,e.noPrint=this.noPrint,e},t.prototype.equals=function(t){return this.noShow===t.noShow&&this.noPrint===t.noPrint},t.prototype.getSimplifiedObject=function(){var t={};return t.noPrint=this.noPrint,t.noShow=this.noShow,t},t}(),fV=function(t,e,n,i){var r,o=arguments.length,s=o<3?e:null===i?i=Object.getOwnPropertyDescriptor(e,n):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(t,e,n,i);else for(var a=t.length-1;a>=0;a--)(r=t[a])&&(s=(o<3?r(s):o>3?r(e,n,s):r(e,n))||s);return o>3&&s&&Object.defineProperty(e,n,s),s},mV=function(t,e){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(t,e)},gV=function(){function t(e){void 0===e&&(e=!0),this._showDeleteButton=!0,this._showEditButton=!0,this._showSelectButton=!0,this._showEditButtonConstraint=null,this.propertyChanged=new rB,this.showSelectButtonConstraint=null,this.type=t.type,this.showDeleteButton=e,this.showEditButton=e,this.showSelectButton=e}return Object.defineProperty(t.prototype,"showDeleteButton",{get:function(){return this._showDeleteButton},set:function(t){this._showDeleteButton!==t&&(this._showDeleteButton=t,this.propertyChanged.fire())},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"showEditButton",{get:function(){return null!=this.showEditButtonConstraint?this.showEditButtonConstraint:this._showEditButton},set:function(t){this._showEditButton!==t&&(this._showEditButton=t,this.propertyChanged.fire())},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"showEditButtonConstraint",{get:function(){return this._showEditButtonConstraint},set:function(t){this.showEditButtonConstraint!==t&&(this._showEditButtonConstraint=t,this.propertyChanged.fire())},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"showSelectButton",{get:function(){return null!=this.showSelectButtonConstraint?this.showSelectButtonConstraint:this._showSelectButton},set:function(t){this._showSelectButton!==t&&(this._showSelectButton=t,this.propertyChanged.fire())},enumerable:!0,configurable:!0}),t.prototype.getSimplifiedObject=function(){var t={};return t.showDeleteButton=this.showDeleteButton,t.showEditButton=this.showEditButton,t.showSelectButton=this.showSelectButton,t.showEditButtonConstraint=this.showEditButtonConstraint,t.showSelectButtonConstraint=this.showSelectButtonConstraint,t},t.prototype.clone=function(){var e=new t;return e.showDeleteButton=this._showDeleteButton,e.showEditButton=this._showEditButton,e.showEditButtonConstraint=this.showEditButtonConstraint,e.showSelectButton=this._showSelectButton,e.showSelectButtonConstraint=this.showSelectButtonConstraint,e},t.prototype.equals=function(t){return this.showDeleteButton==t.showDeleteButton&&this.showEditButton===t.showEditButton&&this.showEditButtonConstraint===t.showEditButtonConstraint&&this.showSelectButton===t.showSelectButton&&this.showSelectButtonConstraint===t.showSelectButtonConstraint},t.type="ItemToolbarPermissions",fV([aV({ignore:!0}),mV("design:type",Boolean)],t.prototype,"showSelectButtonConstraint",void 0),fV([aV({ignore:!0}),mV("design:type",Boolean),mV("design:paramtypes",[Boolean])],t.prototype,"showEditButtonConstraint",null),t}(),yV=function(){function t(t){var e=this;this._allowZOrderChange=!0,this._allowOpacityChange=!0,this._allowRemoveOnLayoutChange=!0,this._firePropertyChanged=function(){return e.propertyChanged.fire()},this.propertyChanged=new rB,null==t&&(t=!0),this.allowZOrderChange=t,this.allowOpacityChange=t,this.allowRemoveOnLayoutChange=t,this.itemToolbarPermissions=new gV(t)}return Object.defineProperty(t.prototype,"allowZOrderChange",{get:function(){return this._allowZOrderChange},set:function(t){this._allowZOrderChange!==t&&(this._allowZOrderChange=t,this.propertyChanged.notify())},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"allowOpacityChange",{get:function(){return this._allowOpacityChange},set:function(t){this._allowOpacityChange!==t&&(this._allowOpacityChange=t,this.propertyChanged.notify())},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"allowRemoveOnLayoutChange",{get:function(){return this._allowRemoveOnLayoutChange},set:function(t){this._allowRemoveOnLayoutChange!==t&&(this._allowRemoveOnLayoutChange=t,this.propertyChanged.notify())},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"itemToolbarPermissions",{get:function(){return this._itemToolbarPermissions},set:function(t){TB(this,t)||(null!=this.itemToolbarPermissions&&null!=this.itemToolbarPermissions.propertyChanged&&this.itemToolbarPermissions.propertyChanged.remove(this._firePropertyChanged),this._itemToolbarPermissions=t,null!=this.itemToolbarPermissions.propertyChanged&&this.itemToolbarPermissions.propertyChanged.add(this._firePropertyChanged),this.propertyChanged.fire())},enumerable:!0,configurable:!0}),t.prototype.getSimplifiedObject=function(){var t={};return t.allowZOrderChange=this.allowZOrderChange,t.allowOpacityChange=this.allowOpacityChange,t.allowRemoveOnLayoutChange=this.allowRemoveOnLayoutChange,t.itemToolbarPermissions=this.itemToolbarPermissions.getSimplifiedObject(),t},t.prototype.clone=function(){var e=new t;return e.allowZOrderChange=this.allowZOrderChange,e.allowOpacityChange=this.allowOpacityChange,e.allowRemoveOnLayoutChange=this.allowRemoveOnLayoutChange,e.itemToolbarPermissions=this.itemToolbarPermissions.clone(),e},t.prototype.equals=function(t){return this.allowOpacityChange===t.allowOpacityChange&&this.allowOpacityChange===t.allowOpacityChange&&this.allowRemoveOnLayoutChange===t.allowRemoveOnLayoutChange&&TB(this.itemToolbarPermissions,t.itemToolbarPermissions)},t}(),_V=function(){function t(){this._displayInObjectInspector=!0,this.propertyChanged=new rB}return Object.defineProperty(t.prototype,"displayInObjectInspector",{get:function(){return this._displayInObjectInspector},set:function(t){this._displayInObjectInspector!==t&&(this._displayInObjectInspector=t,this.propertyChanged.notify())},enumerable:!0,configurable:!0}),t.prototype.getSimplifiedObject=function(){var t={};return t.displayInObjectInspector=this.displayInObjectInspector,t},t.prototype.clone=function(){var e=new t;return e.displayInObjectInspector=this.displayInObjectInspector,e},t.prototype.equals=function(t){return this.displayInObjectInspector===t.displayInObjectInspector},t}();!function(t){t[t.None=0]="None",t[t.Square=1]="Square",t[t.Tight=2]="Tight"}(lV||(lV={}));var vV,bV=function(){function t(){this.styles=[],this.clipartColors=[]}return t.fromRaw=function(e){var n=new t;return n.text=e.text,n.stroke=e.stroke,n.shadow=e.shadow,n.img=e.img,n.border=e.border,n.fill=e.fill,n.textFill=e.textFill,n.line=e.line,n.altline=e.altline,n.horizontal=e.horizontal,n.vertical=e.vertical,n.barcode=e.barcode,n.styles=null!=e.styles?e.styles.slice(0):null,n.clipartColors=null!=e.clipartColors?e.clipartColors.slice(0):null,n},t.prototype.clone=function(){var e=new t;return e.text=this.text,e.stroke=this.stroke,e.shadow=this.shadow,e.img=this.img,e.border=this.border,e.fill=this.fill,e.textFill=this.textFill,e.line=this.line,e.altline=this.altline,e.horizontal=this.horizontal,e.vertical=this.vertical,e.barcode=this.barcode,e.styles=null!=this.styles?this.styles.slice(0):null,e.clipartColors=null!=this.clipartColors?this.clipartColors.slice(0):null,e},t.prototype.equals=function(t){return this.text===t.text&&this.stroke===t.stroke&&this.shadow===t.shadow&&this.img===t.img&&this.border===t.border&&this.fill===t.fill&&this.textFill===t.textFill&&this.line===t.line&&this.altline===t.altline&&this.horizontal===t.horizontal&&this.vertical===t.vertical&&this.barcode===t.barcode&&IB(this.styles,t.styles)&&IB(this.clipartColors,t.clipartColors)},t}();function wV(){return function(t,e){var n="_"+e;Object.defineProperty(t,e,{get:function(){return this[n]},set:function(t){var i=typeof t;if(null!=t&&"boolean"!==i&&"number"!==i&&"string"!==i&&("object"!==i||"function"!=typeof t.equals))throw new XR("PropertyChanged decorator works only for simple types or objects with equals method");TB(this[n],t)||(this[n]=t,this._propertyChanged.notify(this,e))},configurable:!0,enumerable:!0})}}!function(t){t.Normal="Normal",t.Multiply="Multiply",t.Screen="Screen",t.Overlay="Overlay",t.Darken="Darken",t.Lighten="Lighten",t.ColorDodge="ColorDodge",t.ColorBurn="ColorBurn",t.HardLight="HardLight",t.SoftLight="SoftLight",t.Difference="Difference",t.Exclusion="Exclusion",t.None="None"}(vV||(vV={}));var CV,xV=function(){var t=function(e,n){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(e,n)};return function(e,n){function i(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(i.prototype=n.prototype,new i)}}(),EV=function(t,e,n,i){var r,o=arguments.length,s=o<3?e:null===i?i=Object.getOwnPropertyDescriptor(e,n):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(t,e,n,i);else for(var a=t.length-1;a>=0;a--)(r=t[a])&&(s=(o<3?r(s):o>3?r(e,n,s):r(e,n))||s);return o>3&&s&&Object.defineProperty(e,n,s),s},SV=function(t,e){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(t,e)},PV=function(t){function e(n){var i=t.call(this)||this;return i.type=e.type,null==n&&(n=!0),i._allowSafetyLines=n,i._allowRegion=n,i._allowBleedArea=n,i}return xV(e,t),e.prototype.clone=function(t){void 0===t&&(t=null);var n=null!=t?t:new e;return n.allowSafetyLines=this.allowSafetyLines,n.allowRegion=this.allowRegion,n.allowBleedArea=this.allowBleedArea,n},e.prototype.equals=function(t){return this.type===t.type&&this.allowSafetyLines===t.allowSafetyLines&&this.allowRegion===t.allowRegion&&this.allowBleedArea===t.allowBleedArea},e.type="ViolationSettings",EV([wV(),SV("design:type",Boolean)],e.prototype,"allowSafetyLines",void 0),EV([wV(),SV("design:type",Boolean)],e.prototype,"allowRegion",void 0),EV([wV(),SV("design:type",Boolean)],e.prototype,"allowBleedArea",void 0),e}(zH),OV=function(){var t=function(e,n){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(e,n)};return function(e,n){function i(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(i.prototype=n.prototype,new i)}}(),kV=function(t,e,n,i){var r,o=arguments.length,s=o<3?e:null===i?i=Object.getOwnPropertyDescriptor(e,n):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(t,e,n,i);else for(var a=t.length-1;a>=0;a--)(r=t[a])&&(s=(o<3?r(s):o>3?r(e,n,s):r(e,n))||s);return o>3&&s&&Object.defineProperty(e,n,s),s},TV=function(t,e){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(t,e)},IV=function(t){function e(){var n=t.call(this)||this;n._visible=!0,n._locked=!1,n._opacity=1,n._fromLayout=!1,n._textWrappingMode=lV.None,n._isVariable=!1,n._blendMode=vV.Normal,n._ignorePermissionsChange=!1,n._mask=null,n._onPermissionsChanged=function(){n._ignorePermissionsChange||(n._ignorePermissionsChange=!0,n.applyPermissionsConstrain(),n._ignorePermissionsChange=!1,n._propertyChanged.notify(n,"permissions"))},n._parentGroupItem=null,n.themeBinding=new bV,n._onTransformChanged=function(t){n._propertyChanged.notify(n,"transform")},n._onMaskChanged=function(t){n._propertyChanged.notify(n,"mask")},n._changedEvent=new oB(n),n._changingEvent=new rB,n.type=e.type;var i=new yV;return i.allowRemoveOnLayoutChange=!1,n.itemPermissions=i,n.setManipulationPermissions(new dV),n.visualizationPermissions=new pV,n.frontendPermissions=new _V,n._setViolationSettings(new PV,!0),n.setTransform(new wB),n}return OV(e,t),e.prototype._copy=function(e,n,i,r){t.prototype._copy.call(this,e,n,i,r),n.itemPermissions=e._itemPermissions.clone(),n.visible=e._visible,n.locked=e._locked,n.opacity=e._opacity,n.isVariable=e._isVariable,n.textWrappingMode=e._textWrappingMode,n.setManipulationPermissions(e._manipulationPermissions.clone()),n.visualizationPermissions=e._visualizationPermissions.clone(),n.frontendPermissions=e._frontendPermissions.clone(),n.violationSettings=e._violationSettings.clone(),n.transform=e._transform.clone(),n.containerName=e.containerName,n.themeBinding=e.themeBinding.clone(),n.mask=null!=e.mask?e.mask.clone():null,n.blendMode=e.blendMode},e.prototype.equals=function(e){var n=t.prototype.equals.call(this,e),i=TB(this._itemPermissions,e._itemPermissions),r=TB(this._visible,e._visible),o=TB(this._locked,e._locked),s=TB(this._opacity,e._opacity),a=TB(this._isVariable,e._isVariable),l=TB(this._textWrappingMode,e._textWrappingMode),c=TB(this._manipulationPermissions,e._manipulationPermissions),u=TB(this._visualizationPermissions,e._visualizationPermissions),h=TB(this._frontendPermissions,e._frontendPermissions),d=TB(this._transform,e._transform),p=TB(this._violationSettings,e._violationSettings),f=TB(this.containerName,e.containerName),m=TB(this.themeBinding,e.themeBinding),g=TB(this._mask,e._mask),y=TB(this.blendMode,e.blendMode);return n&&i&&r&&o&&s&&a&&l&&c&&u&&h&&d&&p&&f&&m&&g&&y},Object.defineProperty(e.prototype,"manipulationPermissions",{get:function(){return this.getManipulationPermissions()},set:function(t){this.setManipulationPermissions(t)},enumerable:!0,configurable:!0}),e.prototype.getManipulationPermissions=function(){return this._manipulationPermissions},e.prototype.setManipulationPermissions=function(t){if(null==t)throw new XR("manipulationPermissions cannot be null");TB(this._manipulationPermissions,t)||(null!=this._manipulationPermissions&&this._manipulationPermissions.propertyChanged.remove(this._onPermissionsChanged),this._manipulationPermissions=t,this.applyPermissionsConstrain(),this._manipulationPermissions.propertyChanged.add(this._onPermissionsChanged),this._propertyChanged.notify(this,"manipulationPermissions"))},Object.defineProperty(e.prototype,"visualizationPermissions",{get:function(){return this._visualizationPermissions},set:function(t){if(null==t)throw new XR("visualizationPermissions cannot be null");TB(this._visualizationPermissions,t)||(null!=this._visualizationPermissions&&this._visualizationPermissions.propertyChanged.remove(this._onPermissionsChanged),this._visualizationPermissions=t,this.applyPermissionsConstrain(),this._visualizationPermissions.propertyChanged.add(this._onPermissionsChanged),this._propertyChanged.notify(this,"visualizationPermissions"))},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"itemPermissions",{get:function(){return this._itemPermissions},set:function(t){if(null==t)throw new XR("itemPermissions cannot be null");TB(this._itemPermissions,t)||(null!=this._itemPermissions&&this._itemPermissions.propertyChanged.remove(this._onPermissionsChanged),this._itemPermissions=t,this.applyPermissionsConstrain(),this._itemPermissions.propertyChanged.add(this._onPermissionsChanged),this._propertyChanged.notify(this,"itemPermissions"))},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"frontendPermissions",{get:function(){return this._frontendPermissions},set:function(t){if(null==t)throw new XR("frontendPermissions cannot be null");TB(this._frontendPermissions,t)||(null!=this._frontendPermissions&&this._frontendPermissions.propertyChanged.remove(this._onPermissionsChanged),this._frontendPermissions=t,this.applyPermissionsConstrain(),this._frontendPermissions.propertyChanged.add(this._onPermissionsChanged),this._propertyChanged.notify(this,"frontendPermissions"))},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"violationSettings",{get:function(){return this._violationSettings},set:function(t){this._setViolationSettings(t)},enumerable:!0,configurable:!0}),e.prototype._setViolationSettings=function(t,e){if(void 0===e&&(e=!1),null==t)throw new XR("violationSettings cannot be null");TB(this._violationSettings,t)||(null!=this._violationSettings&&this._violationSettings.removePropertyChanged(this._onPermissionsChanged),this._violationSettings=t,this.applyPermissionsConstrain(),this._violationSettings.addPropertyChanged(this._onPermissionsChanged),this._propertyChanged.notify(this,"violationSettings"))},e.prototype.applyPermissionsConstrain=function(){this.isRenderTypeIsNormal||(this.itemPermissions.allowOpacityChange=!1)},e.prototype._onContainerChanged=function(){t.prototype._onContainerChanged.call(this),this.applyPermissionsConstrain()},Object.defineProperty(e.prototype,"parentGroupItem",{get:function(){return this._parentGroupItem},set:function(t){this._parentGroupItem=t,null!=t&&(this.parentContainer=this._parentGroupItem.parentContainer)},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"blendMode",{get:function(){return this._blendMode},set:function(t){this._blendMode!==t&&(this._blendMode=t,this._propertyChanged.notify(this,"blendMode"))},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"transform",{get:function(){return this._transform},set:function(t){this.setTransform(t)},enumerable:!0,configurable:!0}),e.prototype.setTransform=function(t,e){void 0===e&&(e=!1),this._transform&&this._transform.removeTransformChanged(this._onTransformChanged);var n=!1;wB.isEqual(this._transform,t)||(this._transform=t,n=!0),this._transform&&this._transform.addTransformChanged(this._onTransformChanged),!e&&n&&this._propertyChanged.notify(this,"transform")},Object.defineProperty(e.prototype,"textWrappingMode",{get:function(){return this._textWrappingMode},set:function(t){this._textWrappingMode!==t&&(this._textWrappingMode=t,this._propertyChanged.notify(this,"textWrappingMode"))},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"locked",{get:function(){return this._locked},set:function(t){this._locked!==t&&(this._locked=t,this._propertyChanged.notify(this,"locked"))},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"mask",{get:function(){return this._mask},set:function(t){TB(this.mask,t)||(null!=this._mask&&this._mask.removeMaskChanged(this._onMaskChanged),this._mask=t,null!=this._mask&&this._mask.addMaskChanged(this._onMaskChanged),this._propertyChanged.notify(this,"mask"))},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"visible",{get:function(){return this._visible},set:function(t){this._visible!==t&&(this._visible=t,this._propertyChanged.notify(this,"visible"))},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"opacity",{get:function(){return this._opacity},set:function(t){gB(this._opacity,t)||(this._opacity=t,this._propertyChanged.notify(this,"opacity"))},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"isVariable",{get:function(){return this._isVariable},set:function(t){if(this._isVariable!==t){if(!this._canSetIsVariable())throw new QR("Unable to set isVariable on item of type '"+this.type+"'");this._isVariable=t,this._propertyChanged.notify(this,"isVariable")}},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"fromLayout",{get:function(){return this._fromLayout},set:function(t){this._fromLayout!==t&&(this._fromLayout=t,this._propertyChanged.notify(this,"fromLayout"))},enumerable:!0,configurable:!0}),e.prototype.canSetIsVariable=function(){return this._canSetIsVariable()},e.prototype._canSetIsVariable=function(){return!1},e.prototype._getParentContainer=function(){return null!=this.parentContainer?this.parentContainer:null},e.prototype.getSimplifiedObject=function(e){JR.isArray(e)||JR.isString(e)||(e=[]);var n=t.prototype.getSimplifiedObject.call(this,["_changedEvent","_changingEvent","manipulationPermissions","itemPermissions","visualizationPermissions","frontendPermissions","renderingType","isRenderTypeIsNormal","parentGroupItem"].concat(e));return n.manipulationPermissions=this.manipulationPermissions.getSimplifiedObject(),n.itemPermissions=this.itemPermissions.getSimplifiedObject(),n.visualizationPermissions=this.visualizationPermissions.getSimplifiedObject(),n.frontendPermissions=this.frontendPermissions.getSimplifiedObject(),n.mask=null!=this.mask?this.mask.getSimplifiedObject():null,n},e.prototype.getItemChangedEvent=function(){return this._changedEvent},e.prototype.getItemChangingEvent=function(){return this._changingEvent},e.prototype._getThemeBinding=function(t){return null!=t?t:this.themeBinding},e.prototype._applyThemeColor=function(t,e,n){if(null!=t&&null!=e[t]){var i=QB.createColor(e[t]);if(i)return n(i),!0}return!1},Object.defineProperty(e.prototype,"isRenderTypeIsNormal",{get:function(){return this.renderingType===ZH.Normal},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"renderingType",{get:function(){return this.parentContainer instanceof iV?this.parentContainer.renderingType:ZH.Normal},enumerable:!0,configurable:!0}),e.type="item",kV([aV({enumObject:vV,displayName:"Blend mode"}),TV("design:type",String),TV("design:paramtypes",[String])],e.prototype,"blendMode",null),kV([aV({enumObject:lV}),TV("design:type",Number),TV("design:paramtypes",[Number])],e.prototype,"textWrappingMode",null),kV([aV({displayName:"Locked"}),TV("design:type",Boolean),TV("design:paramtypes",[Boolean])],e.prototype,"locked",null),e}(VH),AV=function(){function t(t){this._allowChangeBorderWidth=!0,this._allowChangeFillColor=!0,this._allowChangeBorderColor=!0,this.propertyChanged=new rB,null==t&&(t=!0),this.allowChangeBorderWidth=t,this.allowChangeFillColor=t,this.allowChangeBorderColor=t}return Object.defineProperty(t.prototype,"allowChangeBorderWidth",{get:function(){return this._allowChangeBorderWidth},set:function(t){this._allowChangeBorderWidth!==t&&(this._allowChangeBorderWidth=t,this.propertyChanged.notify())},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"allowChangeFillColor",{get:function(){return this._allowChangeFillColor},set:function(t){this._allowChangeFillColor!==t&&(this._allowChangeFillColor=t,this.propertyChanged.notify())},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"allowChangeBorderColor",{get:function(){return this._allowChangeBorderColor},set:function(t){this._allowChangeBorderColor!==t&&(this._allowChangeBorderColor=t,this.propertyChanged.notify())},enumerable:!0,configurable:!0}),t.prototype.clone=function(){var e=new t;return e.allowChangeBorderColor=this.allowChangeBorderColor,e.allowChangeBorderWidth=this.allowChangeBorderWidth,e.allowChangeFillColor=this.allowChangeFillColor,e},t.prototype.getSimplifiedObject=function(){var t={};return t.allowChangeBorderWidth=this.allowChangeBorderWidth,t.allowChangeFillColor=this.allowChangeFillColor,t.allowChangeBorderColor=this.allowChangeBorderColor,t},t.prototype.equals=function(t){return this.allowChangeBorderColor===t.allowChangeBorderColor&&this.allowChangeFillColor===t.allowChangeFillColor&&this.allowChangeBorderWidth===t.allowChangeBorderWidth},t}(),MV=function(){var t=function(e,n){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(e,n)};return function(e,n){function i(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(i.prototype=n.prototype,new i)}}(),DV=function(t,e){var n="function"==typeof Symbol&&t[Symbol.iterator];if(!n)return t;var i,r,o=n.call(t),s=[];try{for(;(void 0===e||e-- >0)&&!(i=o.next()).done;)s.push(i.value)}catch(a){r={error:a}}finally{try{i&&!i.done&&(n=o.return)&&n.call(o)}finally{if(r)throw r.error}}return s},RV=function(){function t(t){this._defaultValue=t}return t.prototype.getDefaultValue=function(){return this._defaultValue},Object.defineProperty(t.prototype,"type",{get:function(){return typeof this._defaultValue},enumerable:!0,configurable:!0}),t}(),FV=function(){function t(t){for(var e=[],n=1;n<arguments.length;n++)e[n-1]=arguments[n];this._objectConstructor=t,this._args=e}return t.prototype.getDefaultValue=function(){var t;return new((t=this._objectConstructor).bind.apply(t,function(){for(var t=[],e=0;e<arguments.length;e++)t=t.concat(DV(arguments[e]));return t}([void 0],this._args)))},Object.defineProperty(t.prototype,"type",{get:function(){return typeof this._objectConstructor},enumerable:!0,configurable:!0}),t}(),LV=function(){function t(t,e){this._abstractObjectClass=t,this._derivedClassesData=e}return t.prototype.getDefaultValue=function(t){var e=this._derivedClassesData.find((function(e){return e.type===t}));if(null==e)throw new GR("Type "+t+" is not defined! Try on of these values: "+this.derivedTypes.join(", ")+".");return e.getDefaultValue()},Object.defineProperty(t.prototype,"type",{get:function(){return this._abstractObjectClass},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"derivedTypes",{get:function(){return this._derivedClassesData.map((function(t){return t.type}))},enumerable:!0,configurable:!0}),t}(),BV=function(t){function e(){return t.call(this,zB,[{type:"cmyk",getDefaultValue:function(){return new GB({c:0,m:0,y:0,k:100})}},{type:"rgb",getDefaultValue:function(){return new VB({r:0,g:0,b:0,a:255})}},{type:"spot",getDefaultValue:function(){return new JB({inkName:"inkName",inkColor:new GB({c:0,m:0,y:0,k:100}),inkSolidity:100})}},{type:"grayscale",getDefaultValue:function(){return new XB({l:0})}},{type:"lab",getDefaultValue:function(){return new YB({l:0,a:0,b:0})}}])||this}return MV(e,t),e}(LV),NV=function(){var t=function(e,n){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(e,n)};return function(e,n){function i(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(i.prototype=n.prototype,new i)}}(),jV=function(t,e){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(t,e)},zV=function(t){function e(n){var i=t.call(this,n)||this;return i.type=e.type,null==n&&(n=!0),i._allowShape=n,i}return NV(e,t),e.prototype.clone=function(n){void 0===n&&(n=null);var i=null!=n?n:new e;return i.allowShape=this.allowShape,t.prototype.clone.call(this,i)},e.prototype.equals=function(e){return t.prototype.equals.call(this,e)&&this.allowShape===e.allowShape},e.type="ShapeViolationSettings",function(t,e,n,i){var r,o=arguments.length,s=o<3?e:null===i?i=Object.getOwnPropertyDescriptor(e,n):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(t,e,n,i);else for(var a=t.length-1;a>=0;a--)(r=t[a])&&(s=(o<3?r(s):o>3?r(e,n,s):r(e,n))||s);o>3&&s&&Object.defineProperty(e,n,s)}([wV(),jV("design:type",Boolean)],e.prototype,"allowShape",void 0),e}(PV),HV=function(){var t=function(e,n){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(e,n)};return function(e,n){function i(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(i.prototype=n.prototype,new i)}}(),VV=function(t,e){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(t,e)},UV=function(t){function e(n){var i=t.call(this)||this;return i._borderWidth=1,i._fillColor=new VB("rgba(112,112,112,1)"),i._borderColor=new VB("rgba(0,0,0,1)"),i._altBorderColor=null,i._dash=[],i._fixedBorderWidth=!1,i._overprintStroke=!1,i._overprintFill=!1,i.sourcePathId=null,i.sourcePathLoaded=!1,i._stubPath=null,i._pathLoadedEvent=new rB,i.type=e.type,i.sourcePath=null!=n?n:new bB(""),i.sourceRectangle=new aB(0,0,10,10),i.shapePermissions=new AV,i._setViolationSettings(new zV,!0),i._ignorePermissionsChange=!0,i.manipulationPermissions.resizeGrips=new uV(!0,!0),i.itemPermissions.itemToolbarPermissions.showEditButton=!1,i.itemPermissions.itemToolbarPermissions.showSelectButton=!1,i._ignorePermissionsChange=!1,i}return HV(e,t),Object.defineProperty(e.prototype,"fixedBorderWidth",{get:function(){return this._fixedBorderWidth},set:function(t){this._fixedBorderWidth!==t&&(this._fixedBorderWidth=t,this._propertyChanged.notify(this,"fixedBorderWidth"))},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"borderWidth",{get:function(){return this._borderWidth},set:function(t){this._borderWidth!==t&&(this._borderWidth=t,this._propertyChanged.notify(this,"borderWidth"))},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"sourcePath",{get:function(){return this._sourcePath},set:function(t){TB(this._sourcePath,t)||(this._sourcePath=t,!0!==this.sourcePathLoaded&&this._propertyChanged.notify(this,"sourcePath"))},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"sourceRectangle",{get:function(){return this._sourceRectangle},set:function(t){aB.isEqual(this._sourceRectangle,t)||(this._sourceRectangle=t,this._propertyChanged.notify(this,"sourceRectangle"))},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"borderColor",{get:function(){return this._borderColor},set:function(t){zB.equals(this._borderColor,t)||(this._borderColor=t,this._propertyChanged.notify(this,"borderColor"))},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"overprintStroke",{get:function(){return this._overprintStroke},set:function(t){this._overprintStroke!==t&&(this._overprintStroke=t,this._propertyChanged.notify(this,"overprintStroke"))},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"fillColor",{get:function(){return this._fillColor},set:function(t){zB.equals(this._fillColor,t)||(this._fillColor=t,this._propertyChanged.notify(this,"fillColor"))},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"overprintFill",{get:function(){return this._overprintFill},set:function(t){this._overprintFill!==t&&(this._overprintFill=t,this._propertyChanged.notify(this,"overprintFill"))},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"altBorderColor",{get:function(){return this._altBorderColor},set:function(t){zB.equals(this._altBorderColor,t)||(this._altBorderColor=t,this._propertyChanged.notify(this,"altBorderColor"))},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"dash",{get:function(){return this._dash},set:function(t){JR.isEqual(this._dash,t)||(this._dash=t,this._propertyChanged.notify(this,"dash"))},enumerable:!0,configurable:!0}),e.prototype.applyPermissionsConstrain=function(){t.prototype.applyPermissionsConstrain.call(this),this.itemPermissions.itemToolbarPermissions.showEditButtonConstraint=!1,this.itemPermissions.itemToolbarPermissions.showSelectButtonConstraint=!1,this.isRenderTypeIsNormal||(this.shapePermissions.allowChangeBorderColor=!1,this.shapePermissions.allowChangeFillColor=!1)},Object.defineProperty(e.prototype,"shapePermissions",{get:function(){return this._shapePermissions},set:function(t){if(null==t)throw new XR("shapePermissions cannot be null");TB(this._shapePermissions,t)||(null!=this._shapePermissions&&this._shapePermissions.propertyChanged.remove(this._onPermissionsChanged),this._shapePermissions=t,this.applyPermissionsConstrain(),this._shapePermissions.propertyChanged.add(this._onPermissionsChanged),this._propertyChanged.notify(this,"shapePermissions"))},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"violationSettings",{get:function(){return this._violationSettings},set:function(t){this._setViolationSettings(t)},enumerable:!0,configurable:!0}),e.prototype._setViolationSettings=function(e,n){if(void 0===n&&(n=!1),!(n||e instanceof zV))throw new XR("Shape ViolationSettings property must has ShapeViolationSettings type!");t.prototype._setViolationSettings.call(this,e,n)},e.prototype._copy=function(e,n,i,r){t.prototype._copy.call(this,e,n,i,r),n.shapePermissions=null!=e._shapePermissions?e._shapePermissions.clone():null,n._stubPath=null!=e._stubPath?e._stubPath.clone():null,n.dash=JR.clone(e._dash),n.altBorderColor=null!=e._altBorderColor?e._altBorderColor.clone():null,n.fillColor=null!=e._fillColor?e._fillColor.clone():null,n.borderColor=null!=e._borderColor?e._borderColor.clone():null,n.sourceRectangle=null!=e._sourceRectangle?e._sourceRectangle.clone():null,null!=e.sourcePathId?n.sourcePathId=e.sourcePathId:n.sourcePath=null!=e._sourcePath?e._sourcePath.clone():null,n.borderWidth=e._borderWidth,n.fixedBorderWidth=e.fixedBorderWidth,n.overprintStroke=e.overprintStroke,n.overprintFill=e.overprintFill},e.prototype.equals=function(e){var n=t.prototype.equals.call(this,e),i=TB(this._shapePermissions,e._shapePermissions),r=TB(this._stubPath,e._stubPath),o=TB(this._dash,e._dash),s=TB(this._altBorderColor,e._altBorderColor),a=TB(this._fillColor,e._fillColor),l=TB(this._borderColor,e._borderColor),c=TB(this._sourceRectangle,e._sourceRectangle),u=TB(this.sourcePathId,e.sourcePathId),h=TB(this._sourcePath,e._sourcePath),d=TB(this._borderWidth,e._borderWidth),p=TB(this._fixedBorderWidth,e._fixedBorderWidth),f=TB(this._overprintStroke,e._overprintStroke),m=TB(this._overprintFill,e._overprintFill);return n&&i&&r&&o&&s&&a&&l&&c&&u&&h&&d&&p&&f&&m},e.prototype.clone=function(t,n){void 0===t&&(t=!1),void 0===n&&(n=!1);var i=new e;return this._copy(this,i,t,n),i},e.prototype.getSimplifiedObject=function(e){var n=t.prototype.getSimplifiedObject.call(this,["shapePermissions"].concat(e));return n.shapePermissions=this.shapePermissions.getSimplifiedObject(),n.sourcePath=null==this.sourcePathId&&null!=this.sourcePath?this.sourcePath.toString():null,n},e.prototype._onPathLoaded=function(){this._pathLoadedEvent.notify(this)},e.prototype.getPathLoadedEvent=function(){return this._pathLoadedEvent},e.type="ShapeItem",function(t,e,n,i){var r,o=arguments.length,s=o<3?e:null===i?i=Object.getOwnPropertyDescriptor(e,n):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(t,e,n,i);else for(var a=t.length-1;a>=0;a--)(r=t[a])&&(s=(o<3?r(s):o>3?r(e,n,s):r(e,n))||s);o>3&&s&&Object.defineProperty(e,n,s)}([aV({factory:new BV,displayName:"Alternative border color"}),VV("design:type",zB),VV("design:paramtypes",[zB])],e.prototype,"altBorderColor",null),e}(IV),WV=function(){var t=function(e,n){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(e,n)};return function(e,n){function i(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(i.prototype=n.prototype,new i)}}(),$V=function(t){function e(n){void 0===n&&(n=new aB(0,0,10,10));var i=t.call(this,bB.rectangle(n.left,n.top,n.width,n.height))||this;return i.type=e.type,i.sourceRectangle=n,i}return WV(e,t),e.prototype.clone=function(t,n){void 0===t&&(t=!1),void 0===n&&(n=!1);var i=new e;return this._copy(this,i,t,n),i},e.type="RectangleItem",e}(UV),GV=function(){var t=function(e,n){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(e,n)};return function(e,n){function i(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(i.prototype=n.prototype,new i)}}(),qV=function(t){function e(){var n=t.call(this)||this;return n._maskOpacity=.45,n._parentPlaceholder=null,n.type=e.type,n.borderWidth=0,n.fillColor=new VB("rgba(0, 0, 0, 0)"),n._ignorePermissionsChange=!0,n.itemPermissions.itemToolbarPermissions.showEditButton=!0,n._ignorePermissionsChange=!1,n}return GV(e,t),Object.defineProperty(e.prototype,"maskOpacity",{get:function(){return this._maskOpacity},set:function(t){gB(this._maskOpacity,t)||(this._maskOpacity=t,this._propertyChanged.notify(this,"maskOpacity"))},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"parentPlaceholder",{get:function(){return this._parentPlaceholder},set:function(t){this._parentPlaceholder=t,this._propertyChanged.notify(this,"parentPlaceholder")},enumerable:!0,configurable:!0}),e.prototype.applyPermissionsConstrain=function(){null!=this.parentPlaceholder&&(this.parentPlaceholder.isCoverMode?(this.manipulationPermissions.resizeGrips.edgeConstraint=!1,this.manipulationPermissions.resizeGrips.setCornerArbitraryConstraint(!1),this.manipulationPermissions.allowRotateConstraint=!1):(this.manipulationPermissions.resizeGrips.edgeConstraint=null,this.manipulationPermissions.resizeGrips.setCornerArbitraryConstraint(null),this.manipulationPermissions.allowRotateConstraint=null),this.parentPlaceholder.applyPermissionsConstrain()),this.isRenderTypeIsNormal||(this.itemPermissions.allowOpacityChange=!1,this.shapePermissions.allowChangeBorderColor=!1,this.shapePermissions.allowChangeFillColor=!1)},e.prototype.getSimplifiedObject=function(e){return JR.isArray(e)||JR.isString(e)||(e=[]),t.prototype.getSimplifiedObject.call(this,["parentPlaceholder"].concat(e))},e.prototype._canSetIsVariable=function(){return!0},e.prototype._getPrintAreaBounds=function(){var t=null!=this.parentContainer?this.parentContainer:null!=this.parentPlaceholder?this.parentPlaceholder.parentContainer:null;return t instanceof iV?t.parentComponent.bounds:null},e.prototype._getParentContainer=function(){return null!=this.parentPlaceholder?this.parentPlaceholder.parentContainer:null},e.prototype._copy=function(e,n,i,r){t.prototype._copy.call(this,e,n,i,r),n._maskOpacity=e._maskOpacity,n.isVariable=e.isVariable},e.prototype.equals=function(e){return t.prototype.equals.call(this,e)&&TB(this._maskOpacity,e._maskOpacity)&&TB(this.isVariable,e.isVariable)},e.prototype.clone=function(t,n){void 0===t&&(t=!1),void 0===n&&(n=!1);var i=new e;return this._copy(this,i,t,n),i},e.type="ContentItem",e}($V),XV=function(t,e){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(t,e)};!function(t){t.Miter="Miter",t.Round="Round",t.Bevel="Bevel"}(CV||(CV={}));var KV,YV,QV,ZV,JV,tU,eU=function(){function t(e){this._color=new VB("rgb(0,0,0)"),this._size=0,this._lineJoin=CV.Miter,this.type=t.type,this._propertyChanged=new sB,null!=e&&(this.color=null!=e.color?e.color:new VB("rgb(0,0,0)"),this.size=null!=e.size?e.size:0,this.lineJoin=null!=e.lineJoin?e.lineJoin:CV.Miter)}return Object.defineProperty(t.prototype,"color",{get:function(){return this._color},set:function(t){zB.equals(this._color,t)||(this._color=t,this._propertyChanged.notify(this,"color"))},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"size",{get:function(){return this._size},set:function(t){this._size!==t&&(this._size=t,this._propertyChanged.notify(this,"size"))},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"lineJoin",{get:function(){return this._lineJoin},set:function(t){this._lineJoin!==t&&(this._lineJoin=t,this._propertyChanged.notify(this,"lineJoin"))},enumerable:!0,configurable:!0}),t.prototype.clone=function(){return new t(this)},t._from_data=function(e){return null==e?null:new t({color:QB.createColor(e.color),size:"number"==typeof e.size?e.size:0,lineJoin:"string"==typeof e.lineJoin?e.lineJoin:CV.Miter})},t.prototype.equals=function(e){return e instanceof t&&this.color.equals(e.color)&&gB(this.size,e.size)&&this.lineJoin==e.lineJoin},t.equals=function(t,e){return null==t&&null==e||null!=t&&null!=e&&t.equals(e)},t.prototype.getSimplifiedObject=function(){return{color:this.color.toString(),size:this.size,lineJoin:this.lineJoin}},t.prototype.addPropertyChanged=function(t){this._propertyChanged.add(t)},t.prototype.removePropertyChanged=function(t){this._propertyChanged.remove(t)},t.type="StrokeSettings",function(t,e,n,i){var r,o=arguments.length,s=o<3?e:null===i?i=Object.getOwnPropertyDescriptor(e,n):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(t,e,n,i);else for(var a=t.length-1;a>=0;a--)(r=t[a])&&(s=(o<3?r(s):o>3?r(e,n,s):r(e,n))||s);o>3&&s&&Object.defineProperty(e,n,s)}([aV({enumObject:CV}),XV("design:type",String),XV("design:paramtypes",[String])],t.prototype,"lineJoin",null),t}(),nU=function(){function t(t){this._color=new VB("rgb(0,0,0)"),this._angle=0,this._distance=0,this._size=0,this._propertyChanged=new sB,null!=t&&(this.color=null!=t.color?t.color:new VB("rgb(0,0,0)"),this.angle=null!=t.angle?t.angle:0,this.distance=null!=t.distance?t.distance:0,this.size=null!=t.size?t.size:0)}return Object.defineProperty(t.prototype,"color",{get:function(){return this._color},set:function(t){zB.equals(this._color,t)||(this._color=t,this._propertyChanged.notify(this,"color"))},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"angle",{get:function(){return this._angle},set:function(t){this._angle!==t&&(this._angle=t,this._propertyChanged.notify(this,"angle"))},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"distance",{get:function(){return this._distance},set:function(t){this._distance!==t&&(this._distance=t,this._propertyChanged.notify(this,"distance"))},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"size",{get:function(){return this._size},set:function(t){this._size!==t&&(this._size=t,this._propertyChanged.notify(this,"size"))},enumerable:!0,configurable:!0}),t.prototype.clone=function(){return new t(this)},t._from_data=function(e){return null==e?null:new t({color:QB.createColor(e.color),angle:"number"==typeof e.angle?e.angle:0,distance:"number"==typeof e.distance?e.distance:0,size:"number"==typeof e.size?e.size:0})},t.prototype.equals=function(e){return e instanceof t&&this.color.equals(e.color)&&gB(this.angle,e.angle)&&gB(this.distance,e.distance)&&gB(this.size,e.size)},t.equals=function(t,e){return null==t&&null==e||null!=t&&null!=e&&t.equals(e)},t.prototype.getSimplifiedObject=function(){return{color:this.color.toString(),angle:this.angle,distance:this.distance,size:this.size}},t.prototype.addPropertyChanged=function(t){this._propertyChanged.add(t)},t.prototype.removePropertyChanged=function(t){this._propertyChanged.remove(t)},t}(),iU=function(){function t(t){this.propertyChanged=new rB,null==t&&(t=!0),this.allowChangeText=t,this.allowChangeFont=t,this.allowChangeFontSize=t,this.allowChangeFontColor=t,this.allowChangeTextAlignment=t,this.allowChangeTextBIU=t,this.allowChangeShadow=t,this.allowChangeStroke=t,this.allowChangeLeading=t,this.allowTextFormatting=null}return Object.defineProperty(t.prototype,"allowChangeText",{get:function(){return this._allowChangeText},set:function(t){this._allowChangeText!==t&&(this._allowChangeText=t,this.propertyChanged.notify())},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"allowChangeFont",{get:function(){return this._allowChangeFont},set:function(t){this._allowChangeFont!==t&&(this._allowChangeFont=t,this.propertyChanged.notify())},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"allowChangeFontSize",{get:function(){return this._allowChangeFontSize},set:function(t){this._allowChangeFontSize!==t&&(this._allowChangeFontSize=t,this.propertyChanged.notify())},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"allowChangeFontColor",{get:function(){return this._allowChangeFontColor},set:function(t){this._allowChangeFontColor!==t&&(this._allowChangeFontColor=t,this.propertyChanged.notify())},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"allowChangeTextAlignment",{get:function(){return this._allowChangeTextAlignment},set:function(t){this._allowChangeTextAlignment!==t&&(this._allowChangeTextAlignment=t,this.propertyChanged.notify())},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"allowChangeTextBIU",{get:function(){return this._allowChangeTextBIU},set:function(t){this._allowChangeTextBIU!==t&&(this._allowChangeTextBIU=t,this.propertyChanged.notify())},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"allowChangeShadow",{get:function(){return this._allowChangeShadow},set:function(t){this._allowChangeShadow!==t&&(this._allowChangeShadow=t,this.propertyChanged.notify())},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"allowChangeStroke",{get:function(){return this._allowChangeStroke},set:function(t){this._allowChangeStroke!==t&&(this._allowChangeStroke=t,this.propertyChanged.notify())},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"allowChangeLeading",{get:function(){return this._allowChangeLeading},set:function(t){this._allowChangeLeading!==t&&(this._allowChangeLeading=t,this.propertyChanged.notify())},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"allowTextFormatting",{get:function(){return this._allowTextFormatting},set:function(t){this._allowTextFormatting!==t&&(this._allowTextFormatting=t,this.propertyChanged.notify())},enumerable:!0,configurable:!0}),t.prototype.clone=function(){var e=new t;return e.allowChangeFont=this.allowChangeFont,e.allowChangeFontColor=this.allowChangeFontColor,e.allowChangeFontSize=this.allowChangeFontSize,e.allowChangeShadow=this.allowChangeShadow,e.allowChangeStroke=this.allowChangeStroke,e.allowChangeText=this.allowChangeText,e.allowChangeTextAlignment=this.allowChangeTextAlignment,e.allowChangeTextBIU=this.allowChangeTextBIU,e.allowChangeLeading=this.allowChangeLeading,e.allowTextFormatting=this.allowTextFormatting,e},t.prototype.equals=function(t){return this.allowChangeFont===t.allowChangeFont&&this.allowChangeFontColor===t.allowChangeFontColor&&this.allowChangeFontSize===t.allowChangeFontSize&&this.allowChangeShadow===t.allowChangeShadow&&this.allowChangeStroke===t.allowChangeStroke&&this.allowChangeText===t.allowChangeText&&this.allowChangeTextAlignment===t.allowChangeTextAlignment&&this.allowChangeTextBIU===t.allowChangeTextBIU&&this.allowChangeLeading===t.allowChangeLeading&&this.allowTextFormatting===t.allowTextFormatting},t.prototype.getSimplifiedObject=function(){var t={};return t.allowChangeText=this.allowChangeText,t.allowChangeFont=this.allowChangeFont,t.allowChangeFontSize=this.allowChangeFontSize,t.allowChangeFontColor=this.allowChangeFontColor,t.allowChangeTextAlignment=this.allowChangeTextAlignment,t.allowChangeTextBIU=this.allowChangeTextBIU,t.allowChangeShadow=this.allowChangeShadow,t.allowChangeStroke=this.allowChangeStroke,t.allowChangeLeading=this.allowChangeLeading,t.allowTextFormatting=this.allowTextFormatting,t},t}();!function(t){t[t.ShrinkToContentWidth=0]="ShrinkToContentWidth",t[t.StretchToContentWidth=1]="StretchToContentWidth",t[t.ShrinkOrStretchToContentWidth=2]="ShrinkOrStretchToContentWidth",t[t.ShrinkToContentHeight=3]="ShrinkToContentHeight",t[t.StretchToContentHeight=4]="StretchToContentHeight",t[t.ShrinkOrStretchToContentHeight=5]="ShrinkOrStretchToContentHeight",t[t.ShrinkToContent=6]="ShrinkToContent",t[t.StretchToContent=7]="StretchToContent",t[t.ShrinkOrStretchToContent=8]="ShrinkOrStretchToContent"}(KV||(KV={})),function(t){t[t.Size=0]="Size",t[t.Scale=1]="Scale"}(YV||(YV={})),function(t){t[t.Clip=0]="Clip",t[t.FitToWidth=1]="FitToWidth",t[t.FitToBox=2]="FitToBox",t[t.ExpandBox=3]="ExpandBox"}(QV||(QV={})),function(t){t[t.Left=0]="Left",t[t.Center=1]="Center",t[t.Right=2]="Right",t[t.Justify=3]="Justify",t[t.LastLeft=4]="LastLeft",t[t.LastRight=5]="LastRight",t[t.LastCenter=6]="LastCenter"}(ZV||(ZV={})),function(t){t[t.Top=0]="Top",t[t.Center=1]="Center",t[t.Bottom=2]="Bottom"}(JV||(JV={})),function(t){t[t.Ascent=0]="Ascent",t[t.CapHeight=1]="CapHeight",t[t.Leading=2]="Leading",t[t.XHeight=3]="XHeight",t[t.Fixed=4]="Fixed"}(tU||(tU={}));var rU=function(){var t=function(e,n){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(e,n)};return function(e,n){function i(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(i.prototype=n.prototype,new i)}}(),oU=function(t,e){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(t,e)},sU=function(t){function e(n){var i=t.call(this,n)||this;return i.type=e.type,null==n&&(n=!0),i._allowTextCrop=n,i}return rU(e,t),e.prototype.clone=function(){var n=new e;return n.allowTextCrop=this.allowTextCrop,t.prototype.clone.call(this,n)},e.prototype.equals=function(e){return t.prototype.equals.call(this,e)&&this.allowTextCrop===e.allowTextCrop},e.type="TextViolationSettings",function(t,e,n,i){var r,o=arguments.length,s=o<3?e:null===i?i=Object.getOwnPropertyDescriptor(e,n):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(t,e,n,i);else for(var a=t.length-1;a>=0;a--)(r=t[a])&&(s=(o<3?r(s):o>3?r(e,n,s):r(e,n))||s);o>3&&s&&Object.defineProperty(e,n,s)}([wV(),oU("design:type",Boolean)],e.prototype,"allowTextCrop",void 0),e}(zV),aU=function(){var t=function(e,n){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(e,n)};return function(e,n){function i(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(i.prototype=n.prototype,new i)}}(),lU=function(t,e,n,i){var r,o=arguments.length,s=o<3?e:null===i?i=Object.getOwnPropertyDescriptor(e,n):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(t,e,n,i);else for(var a=t.length-1;a>=0;a--)(r=t[a])&&(s=(o<3?r(s):o>3?r(e,n,s):r(e,n))||s);return o>3&&s&&Object.defineProperty(e,n,s),s},cU=function(t,e){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(t,e)},uU=function(t){function e(n,i,r){var o=t.call(this)||this;o._text="",o._originalText="",o._underline=!1,o._color=new VB("rgb(0,0,0)"),o._alignment=ZV.Left,o._tracking=0,o._leading=0,o._checkTextCrop=!0,o._overlapLinesEnabled=!1,o._verticalScale=1,o._horizontalScale=1,o._stroke=null,o._shadow=null,o._previewScale=1,o._placeholders=new JH,o._displayText=null,o._colorPalette=new JH,o._baselineShift=0,o._overprintText=!1,o.values=[],o._maxLineLength=null,o._maxLineCount=null,o.isTextPlaceholder=!1,o.textColorForAbnormalRendering=new VB("rgb(0,0,0)"),o.type=e.type,o._onFontPropertyChanged=function(t,e){o._propertyChanged.notify(o,"font")},o._onShadowPropertyChanged=function(t,e){o._propertyChanged.notify(o,"shadow")},o._onStrokePropertyChanged=function(t,e){o._propertyChanged.notify(o,"stroke")},o.borderWidth=0,o.fillColor=new VB("rgba(0, 0, 0, 0)"),o.text=null!=n?n:"",o._font=new e.FontSettings(i,null!=r?r:10),o._subscribeFontPropertyChanged(),o.textPermissions=new iU,o._setViolationSettings(new sU,!0);var s=function(){o._displayText=null,o._propertyChanged.notify(o,"text")};return o._placeholders.add_itemAdded((function(t){return t.item.addPropertyChanged(s)})),o._placeholders.add_itemRemoved((function(t){return t.item.removePropertyChanged(s)})),o._ignorePermissionsChange=!0,o.itemPermissions.allowRemoveOnLayoutChange=!0,o.itemPermissions.itemToolbarPermissions.showEditButton=!0,o._ignorePermissionsChange=!1,o}return aU(e,t),Object.defineProperty(e.prototype,"maxLineCount",{get:function(){return this._maxLineCount},set:function(t){this._maxLineCount!==t&&(this._maxLineCount=t,this._displayText=null,this._propertyChanged.notify(this,"maxLineCount"))},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"maxLineLength",{get:function(){return this._maxLineLength},set:function(t){this._maxLineLength!==t&&(this._maxLineLength=t,this._displayText=null,this._propertyChanged.notify(this,"maxLineLength"))},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"previewScale",{get:function(){return this._previewScale},set:function(t){gB(this._previewScale,t)||(this._previewScale=t,this._propertyChanged.notify(this,"previewScale"))},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"stroke",{get:function(){return this._stroke},set:function(t){eU.equals(this._stroke,t)||(this._unsubscribeStrokePropertyChanged(),this._stroke=t,this._subscribeStrokePropertyChanged(),this._propertyChanged.notify(this,"stroke"))},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"shadow",{get:function(){return this._shadow},set:function(t){null==this._shadow&&null==t||null!=t&&t.equals(this._shadow)||(this._unsubscribeShadowPropertyChanged(),this._shadow=t,this._subscribeShadowPropertyChanged(),this._propertyChanged.notify(this,"shadow"))},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"horizontalScale",{get:function(){return this._horizontalScale},set:function(t){gB(this._horizontalScale,t)||(this._horizontalScale=t,this._propertyChanged.notify(this,"horizontalScale"))},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"verticalScale",{get:function(){return this._verticalScale},set:function(t){gB(this._verticalScale,t)||(this._verticalScale=t,this._propertyChanged.notify(this,"verticalScale"))},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"checkTextCrop",{get:function(){return this._checkTextCrop},set:function(t){this._checkTextCrop!==t&&(this._checkTextCrop=t,this._propertyChanged.notify(this,"checkTextCrop"))},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"overlapLinesEnabled",{get:function(){return this._overlapLinesEnabled},set:function(t){this._overlapLinesEnabled!==t&&(this._overlapLinesEnabled=t,this._propertyChanged.notify(this,"overlapLinesEnabled"))},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"alignment",{get:function(){return this._alignment},set:function(t){this._alignment!==t&&(this._alignment=t,this._propertyChanged.notify(this,"alignment"))},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"tracking",{get:function(){return this._tracking},set:function(t){gB(this._tracking,t)||(this._tracking=t,this._propertyChanged.notify(this,"tracking"))},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"leading",{get:function(){return this._leading},set:function(t){gB(this._leading,t)||(this._leading=t,this._propertyChanged.notify(this,"leading"))},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"originalText",{get:function(){return null!=this._originalText?this._originalText:""},set:function(t){this._originalText=t},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"underline",{get:function(){return this._underline},set:function(t){this._underline!==t&&(this._underline=t,this._propertyChanged.notify(this,"underline"))},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"font",{get:function(){return this._font},set:function(t){e.FontSettings.equals(this._font,t)||(this._unsubscribeFontPropertyChanged(),this._font=t,this._subscribeFontPropertyChanged(),this._propertyChanged.notify(this,"font"))},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"text",{get:function(){return null==this._displayText&&(this._displayText=this.getUpdatedText(this._text)),this._text=this._displayText,this._text},set:function(t){this._text!==t&&(this._text=t,this._displayText=null,this._propertyChanged.notify(this,"text"))},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"color",{get:function(){return this._color},set:function(t){zB.equals(this._color,t)||(this._color=t,this._propertyChanged.notify(this,"color"))},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"baselineShift",{get:function(){return this._baselineShift},set:function(t){gB(this._baselineShift,t)||(this._baselineShift=t,this._propertyChanged.notify(this,"baselineShift"))},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"overprintText",{get:function(){return this._overprintText},set:function(t){t!=this._overprintText&&(this._overprintText=t,this._propertyChanged.notify(this,"overprintText"))},enumerable:!0,configurable:!0}),e.prototype.getUpdatedText=function(t){var e,n,i=t;this.placeholders.length>0&&(i=this._replaceInStringPlaceholders());var r=null!==(e=this._maxLineCount)&&void 0!==e?e:0,o=null!==(n=this._maxLineLength)&&void 0!==n?n:0;if(r>0||o>0){DB(i)&&(i=RB(t,"\n"));var s=i.split("\n");if(r>0&&s.length>r&&(s=s.splice(0,r)),o>0)for(var a=0;a<s.length;a++)s[a].length>o&&(s[a]=s[a].substr(0,o));return s.join("\n")}return i},Object.defineProperty(e.prototype,"placeholders",{get:function(){return this._placeholders},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"colorPalette",{get:function(){return this._colorPalette},enumerable:!0,configurable:!0}),e.prototype._canSetIsVariable=function(){return!0},Object.defineProperty(e.prototype,"previewFontSize",{get:function(){return this.font.size*this.previewScale},set:function(t){this.font.size=t/this.previewScale},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"previewLeading",{get:function(){return this.leading*this.previewScale},set:function(t){this.leading=t/this.previewScale},enumerable:!0,configurable:!0}),e.prototype.applyPermissionsConstrain=function(){t.prototype.applyPermissionsConstrain.call(this),this.itemPermissions.itemToolbarPermissions.showSelectButton=!1,this.itemPermissions.itemToolbarPermissions.showEditButtonConstraint=!(null!=this.textPermissions&&!this.textPermissions.allowChangeText)&&null,this.isRenderTypeIsNormal||(this.textPermissions.allowChangeFontColor=!1,this.textPermissions.allowChangeShadow=!1,this.textPermissions.allowChangeStroke=!1)},Object.defineProperty(e.prototype,"textPermissions",{get:function(){return this._textPermissions},set:function(t){if(null==t)throw new XR("textPermissions cannot be null");TB(this._textPermissions,t)||(null!=this._textPermissions&&this._textPermissions.propertyChanged.remove(this._onPermissionsChanged),this._textPermissions=t,this.applyPermissionsConstrain(),this._textPermissions.propertyChanged.add(this._onPermissionsChanged),this._propertyChanged.notify(this,"textPermissions"))},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"violationSettings",{get:function(){return this._violationSettings},set:function(t){this._setViolationSettings(t)},enumerable:!0,configurable:!0}),e.prototype._setViolationSettings=function(e,n){if(void 0===n&&(n=!1),!(n||e instanceof sU))throw new XR("Shape ViolationSettings property must has TextViolationSettings type!");t.prototype._setViolationSettings.call(this,e,n)},e.prototype._subscribeFontPropertyChanged=function(){null!=this._font&&this._font.addPropertyChanged(this._onFontPropertyChanged)},e.prototype._unsubscribeFontPropertyChanged=function(){null!=this._font&&this._font.removePropertyChanged(this._onFontPropertyChanged)},e.prototype._subscribeShadowPropertyChanged=function(){null!=this._shadow&&this._shadow.addPropertyChanged(this._onShadowPropertyChanged)},e.prototype._unsubscribeShadowPropertyChanged=function(){null!=this._shadow&&this._shadow.removePropertyChanged(this._onShadowPropertyChanged)},e.prototype._subscribeStrokePropertyChanged=function(){null!=this._stroke&&this._stroke.addPropertyChanged(this._onStrokePropertyChanged)},e.prototype._unsubscribeStrokePropertyChanged=function(){null!=this._stroke&&this._stroke.removePropertyChanged(this._onStrokePropertyChanged)},e.prototype.getSimplifiedObject=function(e){var n=t.prototype.getSimplifiedObject.call(this,["_placeholders","currentTextImage","textPermissions","textForTextWhizz","shadow","stroke"].concat(e));return n.placeholders=this.placeholders.toArray(),n.textPermissions=this.textPermissions.getSimplifiedObject(),n.font=this.font.getSimplifiedObject(),n.shadow=null!=this.shadow?this.shadow.getSimplifiedObject():null,n.stroke=null!=this.stroke?this.stroke.getSimplifiedObject():null,n},e.prototype._replaceInStringPlaceholders=function(){return DB(this.originalText)?this._replaceInStringPlaceholdersValueInRichText():this._replaceInStringPlaceholdersValueInPlainText()},e.prototype._replaceInStringPlaceholdersValueInPlainText=function(){var t=this.originalText;return this.placeholders.forEach((function(e){t=t.replace(e.id,e.value)})),t},e.prototype._replaceInStringPlaceholdersValueInRichText=function(){if(null==this._originalTextDom){var t=new DOMParser;this._originalTextDom=t.parseFromString("<xml>"+this.originalText+"</xml>","text/xml")}var e=this._originalTextDom.cloneNode(!0),n=e.getElementsByTagName("span");this.placeholders.forEach((function(t){if(null!=n&&n.length)for(var e=0;e<n.length;e++){var i=n[e];null!=i.textContent&&(i.textContent=i.textContent.replace(t.id,t.value))}}));var i=(new XMLSerializer).serializeToString(e);return i.substr(0,i.length-6).substr(5)},e.prototype._copy=function(e,n,i,r){var o,s;if(t.prototype._copy.call(this,e,n,i,r),n.textPermissions=e._textPermissions.clone(),n.placeholders.setRange(e.placeholders.toArray().map((function(t){return t.clone()}))),n.color=e._color.clone(),n.text=e._text,n.font=e._font.clone(),n.underline=e._underline,n.originalText=e._originalText,n.leading=e._leading,n.tracking=e._tracking,n.alignment=e._alignment,n.checkTextCrop=e._checkTextCrop,n.verticalScale=e._verticalScale,n.horizontalScale=e._horizontalScale,n.shadow=null!=e._shadow?e._shadow.clone():null,n.stroke=null!=e._stroke?e._stroke.clone():null,n.previewScale=e._previewScale,n._maxLineCount=e._maxLineCount,n.isTextPlaceholder=e.isTextPlaceholder,n.maxLineLength=e.maxLineLength,n.overlapLinesEnabled=e.overlapLinesEnabled,n.colorPalette.setRange(e.colorPalette.toArray().map((function(t){return t.clone()}))),n.baselineShift=e.baselineShift,n.overprintText=e.overprintText,null!=e.values){n.values=[];try{for(var a=function(t){var e="function"==typeof Symbol&&Symbol.iterator,n=e&&t[e],i=0;if(n)return n.call(t);if(t&&"number"==typeof t.length)return{next:function(){return t&&i>=t.length&&(t=void 0),{value:t&&t[i++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")}(e.values),l=a.next();!l.done;l=a.next())n.values.push(l.value.clone())}catch(c){o={error:c}}finally{try{l&&!l.done&&(s=a.return)&&s.call(a)}finally{if(o)throw o.error}}}},e.prototype.equals=function(e){var n=t.prototype.equals.call(this,e),i=TB(this._textPermissions,e._textPermissions),r=IB(this._placeholders.toArray(),e._placeholders.toArray()),o=TB(this._color,e._color),s=TB(this._text,e._text),a=TB(this._font,e._font),l=TB(this._underline,e._underline),c=TB(this._originalText,e._originalText),u=TB(this._leading,e._leading),h=TB(this._tracking,e._tracking),d=TB(this._alignment,e._alignment),p=TB(this._checkTextCrop,e._checkTextCrop),f=TB(this._verticalScale,e._verticalScale),m=TB(this._previewScale,e._previewScale),g=TB(this._maxLineCount,e._maxLineCount),y=TB(this.isTextPlaceholder,e.isTextPlaceholder),_=TB(this._maxLineLength,e._maxLineLength),v=TB(this._overlapLinesEnabled,e._overlapLinesEnabled),b=TB(this._stroke,e._stroke),w=IB(this.values,e.values),C=IB(this._colorPalette.toArray(),e._colorPalette.toArray()),x=TB(this._baselineShift,e._baselineShift),E=TB(this._overprintText,e._overprintText);return n&&i&&r&&o&&s&&a&&l&&c&&u&&h&&d&&p&&f&&m&&g&&y&&_&&v&&b&&w&&C&&x&&E},e.prototype.isEmptyText=function(){return""===this.text},e.prototype.isEmptyXmlText=function(){return"<p></p>"===this.text||"<p><span></span></p>"===this.text},e.prototype.isEmpty=function(){return!this.isTextPlaceholder&&(this.isEmptyText()||this.isEmptyXmlText())},e.type="baseText",lU([aV({factory:new RV(1),displayName:"Max line count"}),cU("design:type",Number),cU("design:paramtypes",[Number])],e.prototype,"maxLineCount",null),lU([aV({factory:new RV(50),displayName:"Max line length"}),cU("design:type",Number),cU("design:paramtypes",[Number])],e.prototype,"maxLineLength",null),lU([aV({factory:new FV(eU),displayName:"Stroke"}),cU("design:type",eU),cU("design:paramtypes",[eU])],e.prototype,"stroke",null),lU([aV({factory:new FV(nU),displayName:"Shadow"}),cU("design:type",nU),cU("design:paramtypes",[nU])],e.prototype,"shadow",null),lU([aV({enumObject:ZV}),cU("design:type",Number),cU("design:paramtypes",[Number])],e.prototype,"alignment",null),e}($V);!function(t){var e=function(t){function e(e,n){void 0===n&&(n=10);var i=t.call(this)||this;return i._fauxBold=!1,i._fauxItalic=!1,i._allCaps=!1,i._openTypeFeatures=[],i.$_propertyChanged=new sB,i._postScriptName=e,i._size=n,i}return aU(e,t),e.prototype.clone=function(){var t=new e(this._postScriptName,this._size);return t._openTypeFeatures=JR.clone(this._openTypeFeatures),t.allCaps=this._allCaps,t.fauxItalic=this._fauxItalic,t.fauxBold=this._fauxBold,t},Object.defineProperty(e.prototype,"fauxBold",{get:function(){return this._fauxBold},set:function(t){this._fauxBold!==t&&(this._fauxBold=t,this.$_propertyChanged.notify(this,"fauxBold"))},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"fauxItalic",{get:function(){return this._fauxItalic},set:function(t){this._fauxItalic!==t&&(this._fauxItalic=t,this.$_propertyChanged.notify(this,"fauxItalic"))},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"allCaps",{get:function(){return this._allCaps},set:function(t){this._allCaps!==t&&(this._allCaps=t,this.$_propertyChanged.notify(this,"allCaps"))},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"openTypeFeatures",{get:function(){return this._openTypeFeatures},set:function(t){this._openTypeFeatures!==t&&(this._openTypeFeatures=t,this.$_propertyChanged.notify(this,"openTypeFeatures"))},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"postScriptName",{get:function(){return this._postScriptName},set:function(t){this._postScriptName!==t&&(this._postScriptName=t,this.$_propertyChanged.notify(this,"postScriptName"))},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"size",{get:function(){return this._size},set:function(t){gB(this._size,t)||(this._size=t,this.$_propertyChanged.notify(this,"size"))},enumerable:!0,configurable:!0}),e.prototype.addPropertyChanged=function(t){this.$_propertyChanged.add(t)},e.prototype.removePropertyChanged=function(t){this.$_propertyChanged.remove(t)},e.equals=function(t,e){return null==t&&null==e||null!=t&&null!=e&&t.equals(e)},e.prototype.equals=function(t){return this.postScriptName===t.postScriptName&&this.size===t.size&&this.fauxBold===t.fauxBold&&this.fauxItalic===t.fauxItalic&&this.allCaps===t.allCaps&&JR.isEqual(this.openTypeFeatures,t.openTypeFeatures)},e.prototype.getSimplifiedObject=function(){return{allCaps:this.allCaps,fauxBold:this.fauxBold,fauxItalic:this.fauxItalic,openTypeFeatures:this.openTypeFeatures,postScriptName:this.postScriptName,size:this.size}},e}(zH);t.FontSettings=e;var n=function(){function t(t,e){this.name=t,this.text=e}return t.prototype.equals=function(t){return null!=t&&TB(this.name,t.name)&&TB(this.text,t.text)},t.prototype.clone=function(){return new t(this.name,this.text)},t}();t.BaseTextValue=n}(uU||(uU={}));var hU,dU,pU=function(){var t=function(e,n){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(e,n)};return function(e,n){function i(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(i.prototype=n.prototype,new i)}}(),fU=function(t){function e(n,i,r,o){var s=t.call(this,n,r,o)||this;return s._isVertical=!1,s.type=e.type,s._textRectangle=null!=i?i:new aB,s}return pU(e,t),Object.defineProperty(e.prototype,"textRectangle",{get:function(){return this._textRectangle},set:function(t){aB.isEqual(this._textRectangle,t)||(this._textRectangle=t,this._propertyChanged.notify(this,"textRectangle"))},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"isVertical",{get:function(){return this._isVertical},set:function(t){this._isVertical!==t&&(this._isVertical=t,this._propertyChanged.notify(this,"isVertical"))},enumerable:!0,configurable:!0}),e.prototype._copy=function(e,n,i,r){t.prototype._copy.call(this,e,n,i,r),n.isVertical=e.isVertical,n.textRectangle=e.textRectangle},e.prototype.equals=function(e){return t.prototype.equals.call(this,e)&&TB(this._isVertical,e._isVertical)&&TB(this._textRectangle,e._textRectangle)},e.prototype.clone=function(t,n){void 0===t&&(t=!1),void 0===n&&(n=!1);var i=new e;return this._copy(this,i,t,n),i},e.type="AutoScaledTextItem",e}(uU),mU=function(){function t(){this._allowChangeBarcodeType=!0,this._allowChangeBarcodeContent=!0,this._allowChangeBarcodeColor=!0,this.propertyChanged=new rB}return Object.defineProperty(t.prototype,"allowChangeBarcodeType",{get:function(){return this._allowChangeBarcodeType},set:function(t){this._allowChangeBarcodeType!==t&&(this._allowChangeBarcodeType=t,this.propertyChanged.notify())},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"allowChangeBarcodeContent",{get:function(){return this._allowChangeBarcodeContent},set:function(t){this._allowChangeBarcodeContent!==t&&(this._allowChangeBarcodeContent=t,this.propertyChanged.fire())},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"allowChangeBarcodeColor",{get:function(){return this._allowChangeBarcodeColor},set:function(t){this._allowChangeBarcodeColor!==t&&(this._allowChangeBarcodeColor=t,this.propertyChanged.notify())},enumerable:!0,configurable:!0}),t.prototype.getSimplifiedObject=function(){var t={};return t.allowChangeBarcodeType=this.allowChangeBarcodeType,t.allowChangeBarcodeContent=this.allowChangeBarcodeContent,t.allowChangeBarcodeColor=this.allowChangeBarcodeColor,t},t.prototype.clone=function(){var e=new t;return e.allowChangeBarcodeType=this.allowChangeBarcodeType,e.allowChangeBarcodeContent=this.allowChangeBarcodeContent,e.allowChangeBarcodeColor=this.allowChangeBarcodeColor,e},t.prototype.equals=function(t){return this.allowChangeBarcodeColor===t.allowChangeBarcodeColor&&this.allowChangeBarcodeContent===t.allowChangeBarcodeContent&&this.allowChangeBarcodeType===t.allowChangeBarcodeType},t}();!function(t){t.AZTEC="AZTEC",t.CODABAR="CODABAR",t.CODE_39="CODE_39",t.CODE_93="CODE_93",t.CODE_128="CODE_128",t.DATA_MATRIX="DATA_MATRIX",t.EAN_8="EAN_8",t.EAN_13="EAN_13",t.ITF="ITF",t.PDF_417="PDF_417",t.QR_CODE="QR_CODE",t.UPC_A="UPC_A",t.UPC_E="UPC_E",t.MSI="MSI",t.PLESSEY="PLESSEY",t.IMB="IMB"}(hU||(hU={})),function(t){t.None="None",t.VCard="VCard",t.Phone="Phone",t.Url="Url"}(dU||(dU={}));var gU,yU=n("z6aY"),_U=function(){function t(t){if(this.barcodeFormat=hU.QR_CODE,this.barcodeSubType=dU.None,JR.isString(t))try{t=JSON.parse(t)}catch(e){console.warn("Unable to parse BarcodeData from string ",t,e),t=null}JR.isObject(t)&&JR.extend(this,t)}return Object.defineProperty(t.prototype,"isEmpty",{get:function(){return JR.isEmpty(this.firstName)&&JR.isEmpty(this.lastName)&&JR.isEmpty(this.organization)&&JR.isEmpty(this.position)&&JR.isEmpty(this.email)&&JR.isEmpty(this.mobilePhone)&&JR.isEmpty(this.url)&&JR.isEmpty(this.phone)&&JR.isEmpty(this.barcodeValue)},enumerable:!0,configurable:!0}),t.prototype.equals=function(t){return null!=t&&this.barcodeFormat===t.barcodeFormat&&this.barcodeSubType===t.barcodeSubType&&this.firstName===t.firstName&&this.lastName===t.lastName&&this.organization===t.organization&&this.position===t.position&&this.email===t.email&&this.mobilePhone===t.mobilePhone&&this.url===t.url&&this.phone===t.phone&&this.barcodeValue===t.barcodeValue},t.prototype._isEmpty=function(t){return JR.isEmpty(null!=t?t.trim():null)},t.prototype.toVCardString=function(){return yU.generate({n:[{value:[this.lastName,this.firstName,"","",""]}],"email;internet":[{value:this.email}],org:[{value:this.organization}],"tel;cell":[{value:this.mobilePhone}],"tel;work":[{value:this.phone}],title:[{value:this.position}],url:[{value:this.url}]})},t.fromVCardString=function(e){var n=null!=e?yU.parse(e):{},i=new t;return i.barcodeFormat=hU.QR_CODE,i.barcodeSubType=dU.VCard,i.email=n.email&&n.email[0]&&n.email[0].value,i.lastName=n.n&&n.n[0]&&n.n[0].value[0],i.firstName=n.n&&n.n[0]&&n.n[0].value[1],i.organization=n.org&&n.org[0]&&n.org[0].value,i.mobilePhone=n.tel&&n.tel[0]&&n.tel[0].value,i.phone=n.tel&&n.tel[1]&&n.tel[1].value,i.position=n.title&&n.title[0]&&n.title[0].value,i.url=n.url&&n.url[0]&&n.url[0].value,i},t}(),vU=function(){var t=function(e,n){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(e,n)};return function(e,n){function i(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(i.prototype=n.prototype,new i)}}(),bU=function(t,e,n,i){var r,o=arguments.length,s=o<3?e:null===i?i=Object.getOwnPropertyDescriptor(e,n):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(t,e,n,i);else for(var a=t.length-1;a>=0;a--)(r=t[a])&&(s=(o<3?r(s):o>3?r(e,n,s):r(e,n))||s);return o>3&&s&&Object.defineProperty(e,n,s),s},wU=function(t,e){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(t,e)},CU=function(t){function e(n,i,r,o){var s=t.call(this)||this;return s._barcodeContent="",s._barcodeFormat=hU.QR_CODE,s._barcodeOptions=new xU,s._barcodeSubType=dU.Url,s._color=new VB("rgb(0,0,0)"),s.type=e.type,s._onOptionsPropertyChanged=function(t,e){s._propertyChanged.notify(s,"barcodeOptions")},s._barcodePermissions=new mU,s._barcodeOptions.pureBarcode=!0,s._ignorePermissionsChange=!1,s.manipulationPermissions.resizeGrips=new uV(!0,!1),s.itemPermissions.itemToolbarPermissions.showEditButton=!0,s.shapePermissions.allowChangeFillColor=!0,s.barcodePermissions.allowChangeBarcodeType=!1,s.barcodePermissions.allowChangeBarcodeColor=!0,s.barcodePermissions.allowChangeBarcodeContent=!0,s._ignorePermissionsChange=!0,s.fillColor=new VB("rgba(255,255,255,1)"),null!=n&&(s._barcodeFormat=n),null!=i&&(s._barcodeContent=i),null!=r&&(s._barcodeOptions=r),s._subscribeOptionsPropertyChanged(),null!=o&&(s.sourceRectangle=o),s.applyPermissionsConstrain(),s}return vU(e,t),Object.defineProperty(e.prototype,"barcodePermissions",{get:function(){return this._barcodePermissions},set:function(t){if(null==t)throw new XR("barcodePermissions cannot be null");TB(this._barcodePermissions,t)||(this._barcodePermissions.propertyChanged.remove(this._onPermissionsChanged),this._barcodePermissions=t,this._barcodePermissions.propertyChanged.add(this._onPermissionsChanged),this._onPermissionsChanged())},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"barcodeContent",{get:function(){return this._barcodeContent},set:function(t){this._barcodeContent!==t&&(this._barcodeContent=t,this._propertyChanged.notify(this,"barcodeContent"))},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"barcodeFormat",{get:function(){return this._barcodeFormat},set:function(t){this._barcodeFormat!==t&&(this._barcodeFormat=t,this._propertyChanged.notify(this,"barcodeFormat"))},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"barcodeSubType",{get:function(){return this._barcodeSubType},set:function(t){this._barcodeSubType!==t&&(this._barcodeSubType=t,this._propertyChanged.notify(this,"barcodeSubType"))},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"color",{get:function(){return this._color},set:function(t){this._color.equals(t)||(this._color=t,this._propertyChanged.notify(this,"color"))},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"barcodeOptions",{get:function(){return this._barcodeOptions},set:function(t){JSON.stringify(this._barcodeOptions)!==JSON.stringify(t)&&(this._unsubscribeOptionsPropertyChanged(),this._barcodeOptions=t,this._subscribeOptionsPropertyChanged(),this._propertyChanged.notify(this,"barcodeOptions"))},enumerable:!0,configurable:!0}),e.prototype._subscribeOptionsPropertyChanged=function(){null!=this._barcodeOptions&&this._barcodeOptions.addPropertyChanged(this._onOptionsPropertyChanged)},e.prototype._unsubscribeOptionsPropertyChanged=function(){null!=this._barcodeOptions&&this._barcodeOptions.removePropertyChanged(this._onOptionsPropertyChanged)},Object.defineProperty(e.prototype,"isQrCode",{get:function(){return this.barcodeFormat===hU.QR_CODE},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"isSquareCode",{get:function(){return this.barcodeFormat===hU.QR_CODE||this.barcodeFormat===hU.DATA_MATRIX},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"isLinearBarcode",{get:function(){return this.barcodeFormat===hU.EAN_13||this.barcodeFormat===hU.EAN_8||this.barcodeFormat==hU.CODE_128||this.barcodeFormat===hU.UPC_A||this.barcodeFormat===hU.UPC_E},enumerable:!0,configurable:!0}),e.prototype._copy=function(e,n,i,r){t.prototype._copy.call(this,e,n,i,r),n.barcodePermissions=e.barcodePermissions.clone(),n.barcodeContent=e.barcodeContent,n.barcodeFormat=e.barcodeFormat,n.barcodeSubType=e.barcodeSubType,n.color=e.color.clone(),n.barcodeOptions=new xU,n.barcodeOptions.width=e.barcodeOptions.width,n.barcodeOptions.height=e.barcodeOptions.height,n.barcodeOptions.margin=e.barcodeOptions.margin,n.barcodeOptions.pureBarcode=e.barcodeOptions.pureBarcode,n.barcodeOptions.errorCorrection=e.barcodeOptions.errorCorrection,n.barcodeOptions.characterSet=e.barcodeOptions.characterSet,n.barcodeOptions.pdf417Compact=e.barcodeOptions.pdf417Compact,n.barcodeOptions.pdf417Compaction=e.barcodeOptions.pdf417Compaction,n.barcodeOptions.pdf417Dimensions=e.barcodeOptions.pdf417Dimensions,n.barcodeOptions.disableEci=e.barcodeOptions.disableEci,n.barcodeOptions.code128ForceCodesetB=e.barcodeOptions.code128ForceCodesetB,n.barcodeOptions.aztecLayers=e.barcodeOptions.aztecLayers,n.barcodeOptions.qrVersion=e.barcodeOptions.qrVersion},e.prototype.equals=function(e){return t.prototype.equals.call(this,e)&&TB(this._barcodePermissions,e._barcodePermissions)&&TB(this._barcodeContent,e._barcodeContent)&&TB(this._barcodeFormat,e._barcodeFormat)&&TB(this._barcodeSubType,e._barcodeSubType)&&TB(this._color,e._color)&&TB(this._barcodeOptions,e._barcodeOptions)},e.prototype.clone=function(t,n){void 0===t&&(t=!1),void 0===n&&(n=!1);var i=new e;return this._copy(this,i,t,n),i},e.prototype.getSimplifiedObject=function(e){JR.isArray(e)||JR.isString(e)||(e=[]);var n=t.prototype.getSimplifiedObject.call(this,["barcodePermissions","isQrCode","isLinearBarcode","isSquareCode","barcodeData"].concat(e));return n.barcodePermissions=this.barcodePermissions.getSimplifiedObject(),n},e.prototype.applyPermissionsConstrain=function(){null!=this.itemPermissions&&null!=this.itemPermissions.itemToolbarPermissions&&(this.itemPermissions.itemToolbarPermissions.showEditButtonConstraint=null==this.barcodePermissions||this.barcodePermissions.allowChangeBarcodeContent?null:this.barcodePermissions.allowChangeBarcodeContent,this.itemPermissions.itemToolbarPermissions.showSelectButton=!1)},Object.defineProperty(e.prototype,"barcodeData",{get:function(){var t=new _U;switch(t.barcodeSubType=this.barcodeSubType,t.barcodeFormat=this.barcodeFormat,t.barcodeFormat){default:t.barcodeValue=this.barcodeContent;break;case hU.QR_CODE:switch(this.barcodeSubType){case dU.Phone:t.phone=this.barcodeContent;break;case dU.Url:t.url=this.barcodeContent;break;case dU.VCard:return _U.fromVCardString(this.barcodeContent)}}return t},enumerable:!0,configurable:!0}),e.prototype.applyBarcodeData=function(t){this.barcodeFormat=t.barcodeFormat,this.barcodeSubType=null!=t.barcodeSubType?t.barcodeSubType:this.barcodeFormat===hU.QR_CODE?dU.Phone:dU.None;var e="";switch(this.barcodeFormat){case hU.QR_CODE:switch(this.barcodeSubType){case dU.Phone:e=t.phone;break;case dU.None:case dU.Url:e=t.url;break;case dU.VCard:e=t.toVCardString()}break;default:e=t.barcodeValue}this.barcodeContent=e},e.type="BarcodeItem",bU([aV({enumObject:hU}),wU("design:type",String),wU("design:paramtypes",[String])],e.prototype,"barcodeFormat",null),bU([aV({enumObject:dU}),wU("design:type",String),wU("design:paramtypes",[String])],e.prototype,"barcodeSubType",null),e}(qV),xU=function(t){function e(){var n=null!==t&&t.apply(this,arguments)||this;return n.type=e.type,n}return vU(e,t),e.prototype.equals=function(t){return null!=t&&TB(this.width,t.width)&&TB(this.height,t.height)&&TB(this.margin,t.margin)&&TB(this.pureBarcode,t.pureBarcode)&&TB(this.errorCorrection,t.errorCorrection)&&TB(this.characterSet,t.characterSet)&&TB(this.pdf417Compact,t.pdf417Compact)&&TB(this.pdf417Compaction,t.pdf417Compaction)&&JR.isEqual(this.pdf417Dimensions,t.pdf417Dimensions)&&TB(this.disableEci,t.disableEci)&&TB(this.code128ForceCodesetB,t.code128ForceCodesetB)&&TB(this.aztecLayers,t.aztecLayers)&&TB(this.qrVersion,t.qrVersion)},e.type="EncodingOptions",bU([wV(),aV({factory:new RV(0)}),wU("design:type",Number)],e.prototype,"width",void 0),bU([wV(),aV({factory:new RV(0)}),wU("design:type",Number)],e.prototype,"height",void 0),bU([wV(),aV({factory:new RV(0)}),wU("design:type",Number)],e.prototype,"margin",void 0),bU([wV(),aV({factory:new RV(!0)}),wU("design:type",Boolean)],e.prototype,"pureBarcode",void 0),bU([wV(),aV({factory:new RV("")}),wU("design:type",String)],e.prototype,"errorCorrection",void 0),bU([wV(),aV({factory:new RV("")}),wU("design:type",String)],e.prototype,"characterSet",void 0),bU([wV(),aV({factory:new RV(!1)}),wU("design:type",Boolean)],e.prototype,"pdf417Compact",void 0),bU([wV(),aV({factory:new RV("")}),wU("design:type",String)],e.prototype,"pdf417Compaction",void 0),bU([wV(),wU("design:type",Object)],e.prototype,"pdf417Dimensions",void 0),bU([wV(),aV({factory:new RV(!1)}),wU("design:type",Boolean)],e.prototype,"disableEci",void 0),bU([wV(),aV({factory:new RV(!1)}),wU("design:type",Boolean)],e.prototype,"code128ForceCodesetB",void 0),bU([wV(),aV({factory:new RV(0)}),wU("design:type",Number)],e.prototype,"aztecLayers",void 0),bU([wV(),aV({factory:new RV(0)}),wU("design:type",Number)],e.prototype,"qrVersion",void 0),e}(zH),EU=function(){function t(t){this.FirstLineIndent=0,this.SpaceAfter=0,this.SpaceBefore=0,this.LeftIndent=0,this.RightIndent=0,null!=t&&(this.FirstLineIndent="number"==typeof t.FirstLineIndent?t.FirstLineIndent:0,this.SpaceAfter="number"==typeof t.SpaceAfter?t.SpaceAfter:0,this.SpaceBefore="number"==typeof t.SpaceBefore?t.SpaceBefore:0,this.LeftIndent="number"==typeof t.LeftIndent?t.LeftIndent:0,this.RightIndent="number"==typeof t.RightIndent?t.RightIndent:0)}return t.prototype.equals=function(e){return e instanceof t&&gB(this.FirstLineIndent,e.FirstLineIndent)&&gB(this.SpaceAfter,e.SpaceAfter)&&gB(this.SpaceBefore,e.SpaceBefore)&&gB(this.LeftIndent,e.LeftIndent)&&gB(this.RightIndent,e.RightIndent)},t.equals=function(t,e){return null==t&&null==e||null!=t&&null!=e&&t.equals(e)},t.prototype.clone=function(){return new t(this)},t}(),SU=function(){var t=function(e,n){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(e,n)};return function(e,n){function i(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(i.prototype=n.prototype,new i)}}(),PU=function(t,e,n,i){var r,o=arguments.length,s=o<3?e:null===i?i=Object.getOwnPropertyDescriptor(e,n):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(t,e,n,i);else for(var a=t.length-1;a>=0;a--)(r=t[a])&&(s=(o<3?r(s):o>3?r(e,n,s):r(e,n))||s);return o>3&&s&&Object.defineProperty(e,n,s),s},OU=function(t,e){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(t,e)},kU=function(t){function e(n,i,r,o){var s=t.call(this,n,r,o)||this;return s._textRectangle=new aB,s._verticalAlignment=JV.Top,s._isVertical=!1,s._paragraphSettings=new EU,s._wrappingPath=null,s._wrappingMargin=7,s._scheduledFitMode=null,s._shrinkMode=YV.Size,s._overflowStrategy=QV.Clip,s._originalVerticalScale=1,s._originalHorizontalScale=1,s._firstBaselineOffset=tU.Ascent,s._firstBaselineMinOffset=0,s.characterLimit=null,s.type=e.type,null!=i&&(s.textRectangle=i,s.sourcePath=bB.rectangle(i.left,i.top,i.width,i.height)),s}return SU(e,t),Object.defineProperty(e.prototype,"textRectangle",{get:function(){return this._textRectangle},set:function(t){aB.isEqual(this._textRectangle,t)||(this._textRectangle=t,this._propertyChanged.notify(this,"textRectangle"))},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"verticalAlignment",{get:function(){return this._verticalAlignment},set:function(t){this._verticalAlignment!==t&&(this._verticalAlignment=t,this._propertyChanged.notify(this,"verticalAlignment"))},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"isVertical",{get:function(){return this._isVertical},set:function(t){this._isVertical!==t&&(this._isVertical=t,this._propertyChanged.notify(this,"isVertical"))},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"paragraphSettings",{get:function(){return this._paragraphSettings},set:function(t){this._paragraphSettings.equals(t)||(this._paragraphSettings=t,this._propertyChanged.notify(this,"paragraphSettings"))},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"wrappingPath",{get:function(){return this._wrappingPath},set:function(t){null==this._wrappingPath&&null==t||null!=this._wrappingPath&&this._wrappingPath.isEqual(t)||(this._wrappingPath=t,this._propertyChanged.notify(this,"wrappingPath"))},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"wrappingMargin",{get:function(){return this._wrappingMargin},set:function(t){this._wrappingMargin!==t&&(this._wrappingMargin=t,this._propertyChanged.notify(this,"wrappingMargin"))},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"scheduledFitMode",{get:function(){return this._scheduledFitMode},set:function(t){this._scheduledFitMode!==t&&(this._scheduledFitMode=t,null!=t&&this._propertyChanged.notify(this,"scheduledFitMode"))},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"shrinkMode",{get:function(){return this._shrinkMode},set:function(t){this._shrinkMode!==t&&(this._shrinkMode=t,null!=t&&this._propertyChanged.notify(this,"shrinkMode"))},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"overflowStrategy",{get:function(){return this._overflowStrategy},set:function(t){this._overflowStrategy!==t&&(this._overflowStrategy=t,null!=t&&this._propertyChanged.notify(this,"overflowStrategy"))},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"originalVerticalScale",{get:function(){return this._originalVerticalScale},set:function(t){this._originalVerticalScale!==t&&(this._originalVerticalScale=t,null!=t&&this._propertyChanged.notify(this,"originalVerticalScale"))},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"originalHorizontalScale",{get:function(){return this._originalHorizontalScale},set:function(t){this._originalHorizontalScale!==t&&(this._originalHorizontalScale=t,null!=t&&this._propertyChanged.notify(this,"originalHorizontalScale"))},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"firstBaselineOffset",{get:function(){return this._firstBaselineOffset},set:function(t){this._firstBaselineOffset!==t&&(this._firstBaselineOffset=t,null!=t&&this._propertyChanged.notify(this,"firstBaselineOffset"))},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"firstBaselineMinOffset",{get:function(){return this._firstBaselineMinOffset},set:function(t){gB(this._firstBaselineMinOffset,t)||(this._firstBaselineMinOffset=t,null!=t&&this._propertyChanged.notify(this,"firstBaselineMinOffset"))},enumerable:!0,configurable:!0}),e.prototype._copy=function(e,n,i,r){t.prototype._copy.call(this,e,n,i,r),n.isVertical=e.isVertical,n.textRectangle=e.textRectangle.clone(),n.verticalAlignment=e.verticalAlignment,n.paragraphSettings=e.paragraphSettings.clone(),n.wrappingPath=null!=e.wrappingPath?e.wrappingPath.clone():null,n.wrappingMargin=e.wrappingMargin,n.scheduledFitMode=e.scheduledFitMode,n.shrinkMode=e.shrinkMode,n.overflowStrategy=e.overflowStrategy,n.originalVerticalScale=e.originalVerticalScale,n.originalHorizontalScale=e.originalHorizontalScale,n.characterLimit=e.characterLimit,n.firstBaselineOffset=e.firstBaselineOffset,n.firstBaselineMinOffset=e.firstBaselineMinOffset},e.prototype.equals=function(e){return t.prototype.equals.call(this,e)&&TB(this._isVertical,e._isVertical)&&TB(this._textRectangle,e._textRectangle)&&TB(this._verticalAlignment,e._verticalAlignment)&&TB(this._paragraphSettings,e._paragraphSettings)&&TB(this._wrappingPath,e._wrappingPath)&&TB(this._wrappingMargin,e._wrappingMargin)&&TB(this._scheduledFitMode,e._scheduledFitMode)&&TB(this._shrinkMode,e._shrinkMode)&&TB(this._overflowStrategy,e._overflowStrategy)&&TB(this._originalVerticalScale,e._originalVerticalScale)&&TB(this._originalHorizontalScale,e._originalHorizontalScale)&&TB(this.characterLimit,e.characterLimit)&&TB(this.firstBaselineOffset,e.firstBaselineOffset)&&TB(this.firstBaselineMinOffset,e.firstBaselineMinOffset)},e.prototype.clone=function(t,n){void 0===t&&(t=!1),void 0===n&&(n=!1);var i=new e;return this._copy(this,i,t,n),i},e.type="BoundedTextItem",PU([aV({factory:new RV(50),displayName:"Character Limit"}),OU("design:type",Number)],e.prototype,"characterLimit",void 0),PU([aV({enumObject:JV}),OU("design:type",Number),OU("design:paramtypes",[Number])],e.prototype,"verticalAlignment",null),PU([aV({factory:new FV(bB),displayName:"Wrapping path"}),OU("design:type",bB),OU("design:paramtypes",[bB])],e.prototype,"wrappingPath",null),PU([aV({enumObject:KV}),OU("design:type",Number),OU("design:paramtypes",[Number])],e.prototype,"scheduledFitMode",null),PU([aV({enumObject:YV}),OU("design:type",Number),OU("design:paramtypes",[Number])],e.prototype,"shrinkMode",null),PU([aV({enumObject:QV}),OU("design:type",Number),OU("design:paramtypes",[Number])],e.prototype,"overflowStrategy",null),e}(uU),TU=function(t,e){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(t,e)},IU=function(){function t(){this.propertyChanged=new rB,this.allowReplaceContentConstraint=null,this._allowReplaceContent=!0,this.allowUngroupContraint=null,this._allowUngroup=!0,this.allowSelectNestedItemsContraint=null,this._allowSelectNestedItems=!0}return Object.defineProperty(t.prototype,"allowReplaceContent",{get:function(){return null!=this.allowReplaceContentConstraint?this.allowReplaceContentConstraint:this._allowReplaceContent},set:function(t){this._allowReplaceContent!==t&&(this._allowReplaceContent=t,this.propertyChanged.notify())},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"allowUngroup",{get:function(){return null!=this.allowUngroupContraint?this.allowUngroupContraint:this._allowUngroup},set:function(t){this._allowUngroup!==t&&(this._allowUngroup=t,this.propertyChanged.notify())},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"allowSelectNestedItems",{get:function(){return null!=this.allowSelectNestedItemsContraint?this.allowSelectNestedItemsContraint:this._allowSelectNestedItems},set:function(t){this._allowSelectNestedItems!==t&&(this._allowSelectNestedItems=t,this.propertyChanged.notify())},enumerable:!0,configurable:!0}),t.prototype.getSimplifiedObject=function(){return{allowReplaceContent:this._allowReplaceContent,allowSelectNestedItems:this._allowSelectNestedItems,allowUngroup:this._allowUngroup}},t.prototype.clone=function(){var e=new t;return e.allowReplaceContent=this._allowReplaceContent,e.allowReplaceContentConstraint=this.allowReplaceContentConstraint,e.allowSelectNestedItems=this._allowSelectNestedItems,e.allowSelectNestedItemsContraint=this.allowSelectNestedItemsContraint,e.allowUngroup=this._allowUngroup,e.allowUngroupContraint=this.allowUngroupContraint,e},t.prototype.equals=function(t){return this.allowReplaceContent===t.allowReplaceContent&&this.allowReplaceContentConstraint===t.allowReplaceContentConstraint&&this.allowSelectNestedItems===t.allowSelectNestedItems&&this.allowSelectNestedItemsContraint===t.allowSelectNestedItemsContraint&&this.allowUngroup===t.allowUngroup&&this.allowUngroupContraint===t.allowUngroupContraint},function(t,e,n,i){var r,o=arguments.length,s=o<3?e:null===i?i=Object.getOwnPropertyDescriptor(e,n):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(t,e,n,i);else for(var a=t.length-1;a>=0;a--)(r=t[a])&&(s=(o<3?r(s):o>3?r(e,n,s):r(e,n))||s);o>3&&s&&Object.defineProperty(e,n,s)}([aV({ignore:!0}),TU("design:type",Boolean)],t.prototype,"allowReplaceContentConstraint",void 0),t}(),AU=function(){var t=function(e,n){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(e,n)};return function(e,n){function i(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(i.prototype=n.prototype,new i)}}(),MU=function(t,e){var n="function"==typeof Symbol&&t[Symbol.iterator];if(!n)return t;var i,r,o=n.call(t),s=[];try{for(;(void 0===e||e-- >0)&&!(i=o.next()).done;)s.push(i.value)}catch(a){r={error:a}}finally{try{i&&!i.done&&(n=o.return)&&n.call(o)}finally{if(r)throw r.error}}return s},DU=function(){for(var t=[],e=0;e<arguments.length;e++)t=t.concat(MU(arguments[e]));return t},RU=function(t){function e(n){var i=t.call(this)||this;return i.items=new JH,i.type=e.type,i.groupItemPermissions=new IU,i._ignorePermissionsChange=!0,i._groupItemPermissions.allowReplaceContent=!1,i._ignorePermissionsChange=!1,i.items.add_itemAdded((function(t){t.item.parentGroupItem=i,i._propertyChanged.notify(i,"items")})),i.items.add_itemRemoved((function(t){t.item.parentGroupItem=null,i._propertyChanged.notify(i,"items")})),null!=n&&i.items.addRange(n),i}return AU(e,t),Object.defineProperty(e.prototype,"groupItemPermissions",{get:function(){return this._groupItemPermissions},set:function(t){if(null==t)throw new XR("groupItemPermissions cannot be null");TB(this._groupItemPermissions,t)||(null!=this._groupItemPermissions&&this._groupItemPermissions.propertyChanged.remove(this._onPermissionsChanged),this._groupItemPermissions=t,this._groupItemPermissions.propertyChanged.add(this._onPermissionsChanged),this._onPermissionsChanged())},enumerable:!0,configurable:!0}),e.prototype.addItems=function(t,e){var n;null!=e&&(t=t.reverse()),null!=t&&0!==t.length&&(null!=e&&e>-1?this.items.insertAt(e,t):(n=this.items).add.apply(n,DU(t)))},e.prototype._onContainerChanged=function(){var t=this;this.applyToItems((function(e){e.parentContainer=t.parentContainer}))},e.prototype.addItem=function(t,e){null!=e&&e>-1?this.items.insertAt(e,t):this.items.add(t)},e.prototype.removeItems=function(t){var e,n;if(null!=t&&t.length>0)try{for(var i=function(t){var e="function"==typeof Symbol&&Symbol.iterator,n=e&&t[e],i=0;if(n)return n.call(t);if(t&&"number"==typeof t.length)return{next:function(){return t&&i>=t.length&&(t=void 0),{value:t&&t[i++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")}(t),r=i.next();!r.done;r=i.next())this.items.remove(r.value)}catch(o){e={error:o}}finally{try{r&&!r.done&&(n=i.return)&&n.call(i)}finally{if(e)throw e.error}}},e.prototype.getNestedItems=function(t){void 0===t&&(t=!1);for(var n=[],i=DU(this.items);i.length>0;){var r=i.shift();r instanceof e&&(i.splice.apply(i,DU([i.indexOf(r),0],r.items)),t)||n.push(r)}return n},e.prototype.getSimplifiedObject=function(e){void 0===e&&(e=[]);var n=t.prototype.getSimplifiedObject.call(this,["groupManipulationPermissions","itemRemovedEvent","groupItemPermissions","items"].concat(e));return n.items=this.items.toArray().map((function(t){return t.getSimplifiedObject()})),n.groupItemPermissions=this.groupItemPermissions.getSimplifiedObject(),n},e.prototype._copy=function(e,n,i,r){if(t.prototype._copy.call(this,e,n,i,r),!(e.items.length<=0)){var o=e.items.toArray().map((function(t){return t.clone(i,r)}));n.items.clear(),n.items.addRange(o),n.groupItemPermissions=e.groupItemPermissions.clone()}},e.prototype.clone=function(t,n){void 0===t&&(t=!1),void 0===n&&(n=!1);var i=new e;return this._copy(this,i,t,n),i},e.prototype.applyPermissionsConstrain=function(){t.prototype.applyPermissionsConstrain.call(this),this.itemPermissions.itemToolbarPermissions.showEditButton=!1,this.itemPermissions.itemToolbarPermissions.showSelectButton=!1},e.prototype.applyToItems=function(t){this.items.forEach(t)},Object.defineProperty(e.prototype,"manipulationPermissions",{get:function(){if(0===this.items.length)return this.groupManipulationPermissions;var t=this.groupManipulationPermissions.clone();return this.getNestedItems(!0).forEach((function(e){t.allowDelete=t.allowDelete&&e.manipulationPermissions.allowDelete})),Object.freeze(t),t},set:function(t){throw new Error("You cannot use ManipulationPermissions setter with GroupItem. Use groupManipulationPermissions setter instead")},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"groupManipulationPermissions",{get:function(){return t.prototype.getManipulationPermissions.call(this)},set:function(e){t.prototype.setManipulationPermissions.call(this,e)},enumerable:!0,configurable:!0}),e.prototype.isChildVisible=function(t){return!0},e.prototype.equals=function(e){var n=t.prototype.equals.call(this,e),i=TB(this.groupItemPermissions,e.groupItemPermissions),r=IB(DU(this.items),DU(e.items));return n&&i&&r},e.type="GroupItem",e}(IV),FU=function(){var t=function(e,n){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(e,n)};return function(e,n){function i(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(i.prototype=n.prototype,new i)}}(),LU=function(){return(LU=Object.assign||function(t){for(var e,n=1,i=arguments.length;n<i;n++)for(var r in e=arguments[n])Object.prototype.hasOwnProperty.call(e,r)&&(t[r]=e[r]);return t}).apply(this,arguments)},BU=function(t,e){var n="function"==typeof Symbol&&t[Symbol.iterator];if(!n)return t;var i,r,o=n.call(t),s=[];try{for(;(void 0===e||e-- >0)&&!(i=o.next()).done;)s.push(i.value)}catch(a){r={error:a}}finally{try{i&&!i.done&&(n=o.return)&&n.call(o)}finally{if(r)throw r.error}}return s},NU=function(){for(var t=[],e=0;e<arguments.length;e++)t=t.concat(BU(arguments[e]));return t},jU=function(t){function e(n,i){void 0===i&&(i=null);var r=t.call(this,n)||this;return r.type=e.type,r._colorGroups=[],r._onItemAdded=function(t){e._generateColorGroups([t.item]).forEach((function(t){var e;if(t.targets=t.targets.filter((function(t){return!r.colorGroups.some((function(e){return e.targets.some((function(e){return e.itemId===t.itemId&&e.prop===t.prop}))}))})),!(t.targets.length<1)){var n=r.colorGroups.find((function(e){return e.color.equals(t.color)}));null!=n?(e=n.targets).push.apply(e,NU(t.targets)):(null==r.themeBinding.clipartColors&&(r.themeBinding.clipartColors=new Array(r.colorGroups.length).fill(null)),r.colorGroups.push(t),r.themeBinding.clipartColors.push(null))}}))},r._onItemRemoved=function(t){var e=t.item.id;r.colorGroups.forEach((function(t){t.targets.some((function(t){return t.itemId===e}))&&(t.targets=t.targets.filter((function(t){return t.itemId!==e})))})),r.colorGroups.some((function(t){return 0===t.targets.length}))&&r.colorGroups.filter((function(t){return 0===t.targets.length})).map((function(t){return r.colorGroups.indexOf(t)})).forEach((function(t){r.colorGroups.splice(t,1),r.themeBinding.clipartColors.splice(t,1)}))},r._ignorePermissionsChange=!0,r.groupItemPermissions.allowSelectNestedItems=!1,r.groupItemPermissions.allowUngroup=!1,r._ignorePermissionsChange=!1,r.colorGroups=null!=i?i:e._generateColorGroups(r.items.toArray()),r.items.add_itemAdded(r._onItemAdded),r.items.add_itemRemoved(r._onItemRemoved),r}return FU(e,t),e.prototype.getSimplifiedObject=function(e){return void 0===e&&(e=[]),t.prototype.getSimplifiedObject.call(this,e)},e.prototype._copy=function(e,n,i,r){t.prototype._copy.call(this,e,n,i,r);var o=e.colorGroups.map((function(t){return t.clone()}));if(i){var s=n.items.toArray().map((function(t){return t.id})),a=e.items.toArray().map((function(t){return t.id})),l=o.reduce((function(t,e){return NU(t,e.targets)}),[]);s.forEach((function(t,e){return l.filter((function(t){return t.itemId===a[e]})).forEach((function(e){return e.itemId=t}))}))}n.colorGroups=o},e.prototype.clone=function(t,n){void 0===t&&(t=!1),void 0===n&&(n=!1);var i=new e;return this._copy(this,i,t,n),i},e.prototype.applyPermissionsConstrain=function(){t.prototype.applyPermissionsConstrain.call(this),null!=this.groupItemPermissions&&(this.groupItemPermissions.allowSelectNestedItemsContraint=!1,this.groupItemPermissions.allowUngroupContraint=!1)},Object.defineProperty(e.prototype,"colorGroups",{get:function(){return this._colorGroups},set:function(t){this._colorGroups=t},enumerable:!0,configurable:!0}),e.prototype.setColor=function(t,e){var n=this;if(!this.colorGroups.includes(t))throw Error("Unexpected colorgroup");var i=e instanceof zB?e:e.color;t.color.equals(i)||(e instanceof zB||(null==this.themeBinding.clipartColors&&(this.themeBinding.clipartColors=new Array(this.colorGroups.length).fill(null)),this.themeBinding.clipartColors[this.colorGroups.indexOf(t)]=e.title),t.targets.forEach((function(t){var e=t.prop,r=t.itemId,o=n.items.first((function(t){return t.id===r}));if(!(o instanceof UV))throw new Error("Unexpected item in colorgroup");n._setShapeItemColor(e,o,i.clone())})),t.color=i.clone(),this._propertyChanged.notify(this,"colorGroups"))},e._generateColorGroups=function(t){return t.filter((function(t){return t instanceof UV})).reduce((function(t,e){var n=t.find((function(t){return t.color.equals(e.fillColor)}));if(null==n&&(n=new zU(e.fillColor),t.push(n)),n.targets.push({itemId:e.id,prop:gU.FillColor}),e.borderWidth>0){var i=t.find((function(t){return t.color.equals(e.borderColor)}));null==i&&(i=new zU(e.borderColor),t.push(i)),i.targets.push({itemId:e.id,prop:gU.BorderColor})}return t}),[])},e.prototype._setShapeItemColor=function(t,e,n){switch(t){case gU.BorderColor:e.borderColor=n;break;case gU.FillColor:e.fillColor=n}},e.type="ClipartItem",e}(RU),zU=function(){function t(t,e){void 0===e&&(e=[]),this.color=t,this.targets=e}return t.prototype.clone=function(){return new t(this.color.clone(),NU(this.targets.map((function(t){return LU({},t)}))))},t}();!function(t){t[t.BorderColor=0]="BorderColor",t[t.FillColor=1]="FillColor"}(gU||(gU={}));var HU,VU=function(t,e){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(t,e)},UU=function(){function t(t){this._allowChangeImage=!0,this.allowEditImageConstraint=null,this._allowEditImage=!0,this._allowKeepOverlayColor=!1,this.propertyChanged=new rB,null==t&&(t=!0),this.allowChangeImage=t,this.allowEditImage=t,this.allowKeepOverlayColor=t}return Object.defineProperty(t.prototype,"allowChangeImage",{get:function(){return this._allowChangeImage},set:function(t){this._allowChangeImage!==t&&(this._allowChangeImage=t,this.propertyChanged.notify())},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"allowEditImage",{get:function(){return null!=this.allowEditImageConstraint?this.allowEditImageConstraint:this._allowEditImage},set:function(t){this._allowEditImage!==t&&(this._allowEditImage=t,this.propertyChanged.notify())},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"allowKeepOverlayColor",{get:function(){return this._allowKeepOverlayColor},set:function(t){this._allowKeepOverlayColor!==t&&(this._allowKeepOverlayColor=t,this.propertyChanged.notify())},enumerable:!0,configurable:!0}),t.prototype.clone=function(){var e=new t;return e.allowChangeImage=this.allowChangeImage,e.allowEditImage=this.allowEditImage,e.allowKeepOverlayColor=this.allowKeepOverlayColor,e},t.prototype.equals=function(t){return this.allowChangeImage===t.allowChangeImage&&this.allowEditImage===t.allowEditImage&&this.allowKeepOverlayColor===t.allowKeepOverlayColor},t.prototype.getSimplifiedObject=function(){var t={};return t.allowChangeImage=this.allowChangeImage,t.allowEditImage=this.allowEditImage,t.allowKeepOverlayColor=this.allowKeepOverlayColor,t},function(t,e,n,i){var r,o=arguments.length,s=o<3?e:null===i?i=Object.getOwnPropertyDescriptor(e,n):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(t,e,n,i);else for(var a=t.length-1;a>=0;a--)(r=t[a])&&(s=(o<3?r(s):o>3?r(e,n,s):r(e,n))||s);o>3&&s&&Object.defineProperty(e,n,s)}([aV({ignore:!0}),VU("design:type",Boolean)],t.prototype,"allowEditImageConstraint",void 0),t}(),WU=function(){function t(){var t=this;this._onPermissionsChanged=function(){t.propertyChanged.notify()},this.propertyChanged=new rB,this._imagePermissions=new UU,this._barcodePermissions=new mU,this._imagePermissions.propertyChanged.add(this._onPermissionsChanged),this._barcodePermissions.propertyChanged.add(this._onPermissionsChanged)}return Object.defineProperty(t.prototype,"barcodePermissions",{get:function(){return this._barcodePermissions},set:function(t){if(null==t)throw new XR("barcodePermissions cannot be null");this._barcodePermissions.propertyChanged.remove(this._onPermissionsChanged),this._barcodePermissions=t,this._barcodePermissions.propertyChanged.add(this._onPermissionsChanged),this._onPermissionsChanged()},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"imagePermissions",{get:function(){return this._imagePermissions},set:function(t){if(null==t)throw new XR("imagePermissions cannot be null");this._imagePermissions.propertyChanged.remove(this._onPermissionsChanged),this._imagePermissions=t,this._imagePermissions.propertyChanged.add(this._onPermissionsChanged),this._onPermissionsChanged()},enumerable:!0,configurable:!0}),t.prototype.getSimplifiedObject=function(){return{imagePermissions:this.imagePermissions.getSimplifiedObject(),barcodePermissions:this.barcodePermissions.getSimplifiedObject()}},t.prototype.clone=function(){var e=new t;return e.barcodePermissions=this.barcodePermissions.clone(),e.imagePermissions=this.imagePermissions.clone(),e},t.prototype.equals=function(t){return TB(this.barcodePermissions,t.barcodePermissions)&&TB(this.imagePermissions,t.imagePermissions)},t}(),$U=function(){var t=function(e,n){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(e,n)};return function(e,n){function i(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(i.prototype=n.prototype,new i)}}(),GU=function(t){function e(n,i,r,o){var s=t.call(this,n,r,o)||this;return s._textPath=new bB,s._fitToPath=!1,s._stretch=!1,s._originalFontSize=0,s._fitToPathStep=1,s._start=0,s.type=e.type,null!=i&&(s.textPath=i),s._ignorePermissionsChange=!0,s.manipulationPermissions.resizeGrips.setCornerArbitrary(!1),s.manipulationPermissions.resizeGrips.edge=!1,s._ignorePermissionsChange=!1,s}return $U(e,t),Object.defineProperty(e.prototype,"textPath",{get:function(){return this._textPath},set:function(t){this._textPath.equals(t)||(this._textPath=t,this._propertyChanged.notify(this,"textPath"))},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"fitToPath",{get:function(){return this._fitToPath},set:function(t){this._fitToPath!==t&&(this._fitToPath=t,this._propertyChanged.notify(this,"fitToPath"))},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"stretch",{get:function(){return this._stretch},set:function(t){this._stretch!==t&&(this._stretch=t,this._propertyChanged.notify(this,"stretch"))},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"start",{get:function(){return this._start},set:function(t){this._start!==t&&(this._start=t,this._propertyChanged.notify(this,"start"))},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"end",{get:function(){return this._end},set:function(t){this._end!==t&&(this._end=t,this._propertyChanged.notify(this,"end"))},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"originalFontSize",{get:function(){return this._originalFontSize},set:function(t){gB(this._originalFontSize,t)||(this._originalFontSize=t,this._propertyChanged.notify(this,"originalFontSize"))},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"fitToPathStep",{get:function(){return this._fitToPathStep},set:function(t){gB(this._fitToPathStep,t)||(this._fitToPathStep=t,this._propertyChanged.notify(this,"fitToPathStep"))},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"maxLineCount",{get:function(){return 1},set:function(t){throw new QR("Max Line Count of Curved Text can not be redefined!")},enumerable:!0,configurable:!0}),e.prototype.getSimplifiedObject=function(e){return t.prototype.getSimplifiedObject.call(this,["maxLineCount"].concat(e))},e.prototype.applyPermissionsConstrain=function(){t.prototype.applyPermissionsConstrain.call(this),null!=this.manipulationPermissions&&(this.manipulationPermissions.resizeGrips.setCornerArbitrary(!1),this.manipulationPermissions.resizeGrips.edge=!1)},e.prototype._copy=function(e,n,i,r){t.prototype._copy.call(this,e,n,i,r),n.textPath=e.textPath.clone(),n.fitToPath=e.fitToPath,n.stretch=e.stretch,n.originalFontSize=e.originalFontSize,n.fitToPathStep=e.fitToPathStep,n.start=e.start,n.end=e.end},e.prototype.equals=function(e){return t.prototype.equals.call(this,e)&&TB(this._textPath,e._textPath)&&TB(this._fitToPath,e._fitToPath)&&TB(this._stretch,e._stretch)&&TB(this._originalFontSize,e._originalFontSize)&&TB(this._fitToPathStep,e._fitToPathStep)&&TB(this._start,e._start)&&TB(this._end,e._end)&&TB(this._textPath,e._textPath)},e.prototype.clone=function(t,n){void 0===t&&(t=!1),void 0===n&&(n=!1);var i=new e;return this._copy(this,i,t,n),i},e.type="CurvedTextItem",e}(uU),qU=function(){function t(t){this._allowChangeLineWidth=!0,this._allowChangeLineColor=!0,this.propertyChanged=new rB,null==t&&(t=!0),this.allowChangeLineWidth=t,this.allowChangeLineColor=t}return Object.defineProperty(t.prototype,"allowChangeLineWidth",{get:function(){return this._allowChangeLineWidth},set:function(t){this._allowChangeLineWidth!==t&&(this._allowChangeLineWidth=t,this.propertyChanged.notify("allowChangeLineWidth"))},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"allowChangeLineColor",{get:function(){return this._allowChangeLineColor},set:function(t){this._allowChangeLineColor!==t&&(this._allowChangeLineColor=t,this.propertyChanged.notify("allowChangeLineColor"))},enumerable:!0,configurable:!0}),t.prototype.getSimplifiedObject=function(){var t={};return t.allowChangeLineWidth=this.allowChangeLineWidth,t.allowChangeLineColor=this.allowChangeLineColor,t},t.prototype.clone=function(){var e=new t;return e.allowChangeLineWidth=this.allowChangeLineWidth,e.allowChangeLineColor=this.allowChangeLineColor,e},t.prototype.equals=function(t){return this.allowChangeLineColor===t.allowChangeLineColor&&this.allowChangeLineWidth===t.allowChangeLineWidth},t}(),XU=function(){var t=function(e,n){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(e,n)};return function(e,n){function i(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(i.prototype=n.prototype,new i)}}(),KU=function(t){function e(n,i){var r=t.call(this)||this;return r._width=4,r._color=new VB("rgba(0, 0, 0, 1)"),r._sourcePoint0=new QL,r._sourcePoint1=new QL,r._fixedWidth=!1,r._overprintStroke=!1,r.lineColorForAbnormalRendering=new VB("rgb(0,0,0)"),r.type=e.type,r._sourcePoint0=null!=n?n:new QL,r._sourcePoint1=null!=i?i:new QL,r._linePermissions=new qU,r._linePermissions.propertyChanged.add(r._onPermissionsChanged),r._ignorePermissionsChange=!0,r.itemPermissions.itemToolbarPermissions.showEditButton=!1,r.itemPermissions.itemToolbarPermissions.showSelectButton=!1,r._ignorePermissionsChange=!1,r}return XU(e,t),Object.defineProperty(e.prototype,"width",{get:function(){return this._width},set:function(t){gB(this._width,t)||(this._width=t,this._propertyChanged.notify(this,"width"))},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"color",{get:function(){return this._color},set:function(t){zB.equals(this._color,t)||(this._color=t,this._propertyChanged.notify(this,"color"))},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"sourcePoint0",{get:function(){return this._sourcePoint0},set:function(t){QL.isEqual(this._sourcePoint0,t)||(this._sourcePoint0=t,this._propertyChanged.notify(this,"sourcePoint0"))},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"sourcePoint1",{get:function(){return this._sourcePoint1},set:function(t){QL.isEqual(this._sourcePoint1,t)||(this._sourcePoint1=t,this._propertyChanged.notify(this,"sourcePoint1"))},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"fixedWidth",{get:function(){return this._fixedWidth},set:function(t){this._fixedWidth!==t&&(this._fixedWidth=t,this._propertyChanged.notify(this,"fixedWidth"))},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"linePermissions",{get:function(){return this._linePermissions},set:function(t){if(null==t)throw new XR("linePermissions cannot be null");TB(this._linePermissions,t)||(this._linePermissions.propertyChanged.remove(this._onPermissionsChanged),this._linePermissions=t,this._linePermissions.propertyChanged.add(this._onPermissionsChanged),this._onPermissionsChanged())},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"overprintStroke",{get:function(){return this._overprintStroke},set:function(t){t!=this._overprintStroke&&(this._overprintStroke=t,this._propertyChanged.notify(this,"overprintStroke"))},enumerable:!0,configurable:!0}),e.prototype._subscribeToPermissionChanged=function(){this._linePermissions.propertyChanged.add(this._onPermissionsChanged)},e.prototype._unsubscribeFromPermissionChanged=function(){this._linePermissions.propertyChanged.remove(this._onPermissionsChanged)},e.prototype.applyPermissionsConstrain=function(){t.prototype.applyPermissionsConstrain.call(this),this.itemPermissions.itemToolbarPermissions.showEditButton=!1,this.itemPermissions.itemToolbarPermissions.showSelectButton=!1,this.isRenderTypeIsNormal||(this.linePermissions.allowChangeLineColor=!1)},e.prototype.getSimplifiedObject=function(e){var n=t.prototype.getSimplifiedObject.call(this,["linePermissions"].concat(e));return n.linePermissions=this.linePermissions.getSimplifiedObject(),n},e.prototype._copy=function(e,n,i,r){t.prototype._copy.call(this,e,n,i,r),n.width=e.width,n.color=e.color.clone(),n.sourcePoint0=e.sourcePoint0.clone(),n.sourcePoint1=e.sourcePoint1.clone(),n.fixedWidth=e.fixedWidth,n.linePermissions=null!=e._linePermissions?e._linePermissions.clone():null,n.overprintStroke=e.overprintStroke},e.prototype.equals=function(e){return t.prototype.equals.call(this,e)&&TB(this._width,e._width)&&TB(this._color,e._color)&&TB(this._sourcePoint0,e._sourcePoint0)&&TB(this._sourcePoint1,e._sourcePoint1)&&TB(this._fixedWidth,e._fixedWidth)&&TB(this._linePermissions,e._linePermissions)&&TB(this._overprintStroke,e._overprintStroke)},e.prototype.clone=function(t,n){void 0===t&&(t=!1),void 0===n&&(n=!1);var i=new e;return this._copy(this,i,t,n),i},e.type="LineItem",e}(IV),YU=function(){var t=function(e,n){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(e,n)};return function(e,n){function i(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(i.prototype=n.prototype,new i)}}(),QU=function(t){function e(n,i){var r=t.call(this,n,i)||this;return r._dashWidth=3,r._altDashWidth=3,r._altColor=new VB("rgba(0,0,0,0)"),r.type=e.type,r}return YU(e,t),Object.defineProperty(e.prototype,"dashWidth",{get:function(){return this._dashWidth},set:function(t){gB(this._dashWidth,t)||(this._dashWidth=t,this._propertyChanged.notify(this,"dashWidth"))},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"altDashWidth",{get:function(){return this._altDashWidth},set:function(t){gB(this._altDashWidth,t)||(this._altDashWidth=t,this._propertyChanged.notify(this,"altDashWidth"))},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"altColor",{get:function(){return this._altColor},set:function(t){zB.equals(this._altColor,t)||(this._altColor=t,this._propertyChanged.notify(this,"altColor"))},enumerable:!0,configurable:!0}),e.prototype._copy=function(e,n,i,r){t.prototype._copy.call(this,e,n,i,r),n.dashWidth=e.dashWidth,n.altDashWidth=e.altDashWidth,n.altColor=e.altColor.clone()},e.prototype.equals=function(e){return t.prototype.equals.call(this,e)&&TB(this._dashWidth,e._dashWidth)&&TB(this._altDashWidth,e._altDashWidth)&&TB(this._altColor,e._altColor)},e.prototype.clone=function(t,n){void 0===t&&(t=!1),void 0===n&&(n=!1);var i=new e;return this._copy(this,i,t,n),i},e.type="DashedLineItem",e}(KU),ZU=function(){var t=function(e,n){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(e,n)};return function(e,n){function i(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(i.prototype=n.prototype,new i)}}(),JU=function(t){function e(n){void 0===n&&(n=new aB(0,0,10,10));var i=t.call(this,bB.ellipse(n.left,n.top,n.width,n.height))||this;return i.type=e.type,i.sourceRectangle=n,i.manipulationPermissions.resizeGrips=new uV(!0,!0),i}return ZU(e,t),e.prototype.clone=function(t,n){void 0===t&&(t=!1),void 0===n&&(n=!1);var i=new e;return this._copy(this,i,t,n),i},e.type="EllipseItem",e}(UV),tW=function(){var t=function(e,n){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(e,n)};return function(e,n){function i(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(i.prototype=n.prototype,new i)}}(),eW=function(t){function e(n,i,r,o,s,a){var l=t.call(this)||this;return l.type=e.type,l._location=new QL(n,i),l._cols=r,l._rows=o,l._stepX=s,l._stepY=a,l._horizontalLineColor=new VB("rgba(0,0,0,1)"),l._verticalLineColor=new VB("rgba(0,0,0,1)"),l._lineWidth=1,l._fixedLineWidth=!0,l.textWrappingMode=lV.None,l}return tW(e,t),Object.defineProperty(e.prototype,"location",{get:function(){return this._location},set:function(t){QL.isEqual(this._location,t)||(this._location=t,this._propertyChanged.notify(this,"location"))},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"cols",{get:function(){return this._cols},set:function(t){gB(this._cols,t)||(this._cols=t,this._propertyChanged.notify(this,"cols"))},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"rows",{get:function(){return this._rows},set:function(t){gB(this._rows,t)||(this._rows=t,this._propertyChanged.notify(this,"rows"))},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"stepX",{get:function(){return this._stepX},set:function(t){gB(this._stepX,t)||(this._stepX=t,this._propertyChanged.notify(this,"stepX"))},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"stepY",{get:function(){return this._stepY},set:function(t){gB(this._stepY,t)||(this._stepY=t,this._propertyChanged.notify(this,"stepY"))},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"lineWidth",{get:function(){return this._lineWidth},set:function(t){gB(this._lineWidth,t)||(this._lineWidth=t,this._propertyChanged.notify(this,"lineWidth"))},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"fixedLineWidth",{get:function(){return this._fixedLineWidth},set:function(t){this._fixedLineWidth!==t&&(this._fixedLineWidth=t,this._propertyChanged.notify(this,"fixedLineWidth"))},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"verticalLineColor",{get:function(){return this._verticalLineColor},set:function(t){zB.equals(this._verticalLineColor,t)||(this._verticalLineColor=t,this._propertyChanged.notify(this,"verticalLineColor"))},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"horizontalLineColor",{get:function(){return this._horizontalLineColor},set:function(t){zB.equals(this._horizontalLineColor,t)||(this._horizontalLineColor=t,this._propertyChanged.notify(this,"horizontalLineColor"))},enumerable:!0,configurable:!0}),e.prototype._copy=function(e,n,i,r){t.prototype._copy.call(this,e,n,i,r),n.location=e.location.clone(),n.cols=e.cols,n.rows=e.rows,n.stepX=e.stepX,n.stepY=e.stepY,n.lineWidth=e.lineWidth,n.fixedLineWidth=e.fixedLineWidth,n.verticalLineColor=e.verticalLineColor.clone(),n.horizontalLineColor=e.horizontalLineColor.clone()},e.prototype.equals=function(e){return t.prototype.equals.call(this,e)&&TB(this._location,e._location)&&TB(this._rows,e._rows)&&TB(this._cols,e._cols)&&TB(this._stepX,e._stepX)&&TB(this._stepY,e._stepY)&&TB(this._lineWidth,e._lineWidth)&&TB(this._fixedLineWidth,e._fixedLineWidth)&&TB(this._verticalLineColor,e._verticalLineColor)&&TB(this._horizontalLineColor,e._horizontalLineColor)},e.prototype.clone=function(t,n){void 0===t&&(t=!1),void 0===n&&(n=!1);var i=new e(this.location.x,this.location.y,this.cols,this.rows,this.stepX,this.stepY);return this._copy(this,i,t,n),i},e.type="GridItem",e}(IV);function nW(t,e){if("number"==typeof t)return iW(t,e);if(t instanceof QL)return new QL(iW(t.x,e),iW(t.y,e));throw new XR("points")}function iW(t,e){return function(t,e){return t*e}(function(t){return t/72}(t),e)}function rW(t,e){return t/e*72}!function(t){t[t.None=0]="None",t[t.BlackAndWhite=1]="BlackAndWhite",t[t.FlipVertical=2]="FlipVertical",t[t.FlipHorizontal=3]="FlipHorizontal",t[t.Colorize=4]="Colorize"}(HU||(HU={}));var oW=function(t,e){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(t,e)},sW=function(){function t(e){if(this._color=null,this._opacity=null,this._blendMode=null,this.$_propertyChanged=new sB,this.type=t.type,null!=e){var n=e.color,i=e.opacity,r=e.blendMode;this.color=n instanceof zB?n:null,this.blendMode="string"==typeof r?r:null,this.opacity="number"==typeof i?i:null}}return t.prototype.equals=function(e){if(!(e instanceof t))return!1;var n=e.opacity,i=e.blendMode;return zB.equals(e.color,this.color)&&(null==n&&null==this.opacity||gB(n,this.opacity))&&(null==i&&null==this.blendMode||i===this.blendMode)},t.prototype.getSimplifiedObject=function(){return{color:this.color,blendMode:this.blendMode,opacity:this.opacity}},t.equals=function(t,e){return null==t&&null==e||null!=t&&t.equals(e)},t.prototype.clone=function(){return new t({blendMode:this.blendMode,color:null!=this.color?this.color.clone():null,opacity:this.opacity})},Object.defineProperty(t.prototype,"color",{get:function(){return this._color},set:function(t){zB.equals(this.color,t)||(this._color=t,this.$_propertyChanged.notify(this,"color"))},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"blendMode",{get:function(){return this._blendMode},set:function(t){this.blendMode!==t&&(this._blendMode=t,this.$_propertyChanged.notify(this,"blendMode"))},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"opacity",{get:function(){return this._opacity},set:function(t){this.opacity!==t&&(this._opacity=t,this.$_propertyChanged.notify(this,"opacity"))},enumerable:!0,configurable:!0}),t.prototype.addPropertyChanged=function(t){this.$_propertyChanged.add(t)},t.prototype.removePropertyChanged=function(t){this.$_propertyChanged.remove(t)},t.type="OverlayEffect",function(t,e,n,i){var r,o=arguments.length,s=o<3?e:null===i?i=Object.getOwnPropertyDescriptor(e,n):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(t,e,n,i);else for(var a=t.length-1;a>=0;a--)(r=t[a])&&(s=(o<3?r(s):o>3?r(e,n,s):r(e,n))||s);o>3&&s&&Object.defineProperty(e,n,s)}([aV({enumObject:vV}),oW("design:type",Object),oW("design:paramtypes",[Object])],t.prototype,"blendMode",null),t}(),aW=function(){function t(t,e){void 0===t&&(t=0),void 0===e&&(e=0),this.width=t,this.height=e}return t.prototype.equals=function(t){return null!=t&&TB(this.width,t.width)&&TB(this.height,t.height)},t.prototype.clone=function(){return new t(this.width,this.height)},t}(),lW=function(){var t=function(e,n){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(e,n)};return function(e,n){function i(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(i.prototype=n.prototype,new i)}}(),cW=function(t,e){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(t,e)},uW=function(t){function e(n){var i=t.call(this,n)||this;return i.type=e.type,null==n&&(n=!0),i._allowImageQuality=n,i}return lW(e,t),e.prototype.clone=function(){var n=new e;return n.allowImageQuality=this.allowImageQuality,t.prototype.clone.call(this,n)},e.prototype.equals=function(e){return t.prototype.equals.call(this,e)&&this.allowImageQuality===e.allowImageQuality},e.type="ImageViolationSettings",function(t,e,n,i){var r,o=arguments.length,s=o<3?e:null===i?i=Object.getOwnPropertyDescriptor(e,n):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(t,e,n,i);else for(var a=t.length-1;a>=0;a--)(r=t[a])&&(s=(o<3?r(s):o>3?r(e,n,s):r(e,n))||s);o>3&&s&&Object.defineProperty(e,n,s)}([wV(),cW("design:type",Boolean)],e.prototype,"allowImageQuality",void 0),e}(zV),hW=function(){var t=function(e,n){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(e,n)};return function(e,n){function i(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(i.prototype=n.prototype,new i)}}(),dW=function(t,e,n,i){var r,o=arguments.length,s=o<3?e:null===i?i=Object.getOwnPropertyDescriptor(e,n):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(t,e,n,i);else for(var a=t.length-1;a>=0;a--)(r=t[a])&&(s=(o<3?r(s):o>3?r(e,n,s):r(e,n))||s);return o>3&&s&&Object.defineProperty(e,n,s),s},pW=function(t,e){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(t,e)},fW=function(t){function e(n,i,r,o,s){var a=t.call(this)||this;return a._effect=HU.None,a._overlayEffect=null,a.type=e.type,a.mviKeepTemplateTransform=!1,a.values=[],a.allowedSubfolder=null,a.ratioWidthToHeight=null,a.isUserImage=!1,a._onSourcePropertyChanged=function(t,e){switch(e){case"url":case"id":case"pageIndex":a._propertyChanged.notify(a,"source");break;case"isVector":a.applyPermissionsConstrain(),a._propertyChanged.notify(a,"source")}},a._onOverlayEffectPropertyChanged=function(t,e){a._propertyChanged.notify(a,"overlayEffect")},a.imagePermissions=new UU,a._setViolationSettings(new uW,!0),a.manipulationPermissions.resizeGrips=new uV(!0,!1),a.shapePermissions.allowChangeFillColor=!1,a.imagePermissions.allowKeepOverlayColor=!1,a.itemPermissions.itemToolbarPermissions.showSelectButton=!0,a.source=null!=n?new e.ImageSource(n):new e.ImageSource,null!=s&&(a.ratioWidthToHeight=s),null!=r&&null!=o?a.sourceRectangle=new aB(0,0,r,o):(null!=r&&a.SetWidth(r),null!=o&&a.SetHeight(o)),null!=i&&(a.sourceRectangle.left=i.x,a.sourceRectangle.top=i.y),a}return hW(e,t),e.prototype._copy=function(e,n,i,r){var o,s;if(t.prototype._copy.call(this,e,n,i,r),n.imagePermissions=null!=e._imagePermissions?e._imagePermissions.clone():null,n.effect=e._effect,n.overlayEffect=null!=e.overlayEffect?e.overlayEffect.clone():null,n.source=e._source.clone(),n.mviKeepTemplateTransform=e.mviKeepTemplateTransform,null!=e.values){n.values=[];try{for(var a=function(t){var e="function"==typeof Symbol&&Symbol.iterator,n=e&&t[e],i=0;if(n)return n.call(t);if(t&&"number"==typeof t.length)return{next:function(){return t&&i>=t.length&&(t=void 0),{value:t&&t[i++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")}(e.values),l=a.next();!l.done;l=a.next())n.values.push(l.value.clone())}catch(c){o={error:c}}finally{try{l&&!l.done&&(s=a.return)&&s.call(a)}finally{if(o)throw o.error}}}n.allowedSubfolder=e.allowedSubfolder,n.allowedTabs=JR.clone(e.allowedTabs),n.ratioWidthToHeight=e.ratioWidthToHeight,n.isUserImage=e.isUserImage},e.prototype.equals=function(e){return t.prototype.equals.call(this,e)&&TB(this._imagePermissions,e._imagePermissions)&&TB(this._effect,e._effect)&&TB(this._source,e._source)&&TB(this.mviKeepTemplateTransform,e.mviKeepTemplateTransform)&&TB(this.overlayEffect,e.overlayEffect)&&IB(this.values,e.values)&&TB(this.allowedSubfolder,e.allowedSubfolder)&&IB(this.allowedTabs,e.allowedTabs)&&TB(this.ratioWidthToHeight,e.ratioWidthToHeight)&&TB(this.isUserImage,e.isUserImage)},e.prototype.clone=function(t,n){void 0===t&&(t=!1),void 0===n&&(n=!1);var i=new e;return this._copy(this,i,t,n),i},Object.defineProperty(e.prototype,"imagePermissions",{get:function(){return this._imagePermissions},set:function(t){if(null==t)throw new XR("imagePermissions cannot be null");TB(this._imagePermissions,t)||(null!=this._imagePermissions&&this._imagePermissions.propertyChanged.remove(this._onPermissionsChanged),this._imagePermissions=t,this.applyPermissionsConstrain(),this._imagePermissions.propertyChanged.add(this._onPermissionsChanged),this._propertyChanged.notify(this,"imagePermissions"))},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"violationSettings",{get:function(){return this._violationSettings},set:function(t){this._setViolationSettings(t)},enumerable:!0,configurable:!0}),e.prototype._setViolationSettings=function(e,n){if(void 0===n&&(n=!1),!(n||e instanceof uW))throw new XR("Shape ViolationSettings property must has ImageViolationSettings type!");t.prototype._setViolationSettings.call(this,e,n)},e.prototype.applyPermissionsConstrain=function(){t.prototype.applyPermissionsConstrain.call(this),this.itemPermissions.itemToolbarPermissions.showEditButtonConstraint=!(null!=this.imagePermissions&&!this.imagePermissions.allowEditImage)&&(null==this.source||!this.source.isVector)&&null,this.itemPermissions.itemToolbarPermissions.showSelectButtonConstraint=!(null!=this.imagePermissions&&!this.imagePermissions.allowChangeImage)&&null},Object.defineProperty(e.prototype,"displayName",{get:function(){var t=this;if(null==this._displayName&&null!=this.values&&this.values.length>0){var e=this.values.find((function(e){return e.value.id===t.source.id}));null!=e&&(this.displayName=e.name)}return this._displayName},set:function(t){t!=this._displayName&&(this._displayName=t)},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"source",{get:function(){return this._source},set:function(t){this._source===t||null!=this._source&&this._source.equals(t)||(null!=this._source&&this._source.removePropertyChanged(this._onSourcePropertyChanged),this._source=t,null!=this._source&&this._source.addPropertyChanged(this._onSourcePropertyChanged),this._propertyChanged.notify(this,"source"))},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"effect",{get:function(){return this._effect},set:function(t){this._effect!==t&&(this._effect=t,this._propertyChanged.notify(this,"effect"))},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"overlayEffect",{get:function(){return this._overlayEffect},set:function(t){sW.equals(this.overlayEffect,t)||(this._unsubscribeOverlayEffectPropertyChanged(),this._overlayEffect=t,this._subscribeOverlayEffectPropertyChanged(),this._propertyChanged.notify(this,"overlayEffect"))},enumerable:!0,configurable:!0}),e.prototype._subscribeOverlayEffectPropertyChanged=function(){null!=this.overlayEffect&&this.overlayEffect.addPropertyChanged(this._onOverlayEffectPropertyChanged)},e.prototype._unsubscribeOverlayEffectPropertyChanged=function(){null!=this.overlayEffect&&this.overlayEffect.removePropertyChanged(this._onOverlayEffectPropertyChanged)},e.prototype.SetWidth=function(t,e){this.sourceRectangle.width=t,null!=e&&(e=!0),null!=this.source.id&&e&&(this.sourceRectangle.height=this._calculateHeight(t))},e.prototype.SetHeight=function(t,e){this.sourceRectangle.height=t,null!=e&&(e=!0),null!=this.source.id&&e&&(this.sourceRectangle.width=this._calculateWidth(t))},e.prototype.getSrc=function(){throw new qR},e.prototype._calculateHeight=function(t){if(null==this.ratioWidthToHeight)throw new GR("Field ratioWidthToHeight is not set!");return t/this.ratioWidthToHeight},e.prototype._calculateWidth=function(t){if(null==this.ratioWidthToHeight)throw new GR("Field ratioWidthToHeight is not set!");return t*this.ratioWidthToHeight},e.prototype.getSimplifiedObject=function(e){JR.isArray(e)||JR.isString(e)||(e=[]);var n=t.prototype.getSimplifiedObject.call(this,["imagePermissions"].concat(e));return n.source={id:this.source.id,width:this.source.width,height:this.source.height,isVector:this.source.isVector,pageIndex:this.source.pageIndex,url:this.source.url,actualSize:this.source.actualSize,saveAspectRatio:this.source.saveAspectRatio,origin:this.source.origin},n.imagePermissions=this.imagePermissions.getSimplifiedObject(),n},e.prototype.getOriginalImageSize=function(){return{width:rW(this.source.width,this.source.dpiX||72),height:rW(this.source.height,this.source.dpiY||72)}},e.type="ImageItem",dW([aV({factory:new RV("subfolder"),displayName:"Allowed subfolder"}),pW("design:type",String)],e.prototype,"allowedSubfolder",void 0),dW([aV({factory:new RV("allowedTabs"),displayName:"Allowed tabs"}),pW("design:type",Array)],e.prototype,"allowedTabs",void 0),dW([aV({factory:new RV("Image"),displayName:"Display name"}),pW("design:type",Object),pW("design:paramtypes",[Object])],e.prototype,"displayName",null),dW([aV({enumObject:HU}),pW("design:type",Number),pW("design:paramtypes",[Number])],e.prototype,"effect",null),dW([aV({factory:new FV(sW,{color:new GB({c:0,m:0,y:0,k:0}),opacity:1,blendMode:vV.Normal}),displayName:"Overlay effect"}),pW("design:type",sW),pW("design:paramtypes",[sW])],e.prototype,"overlayEffect",null),e}(qV);!function(t){var e=function(){function t(t){JR.extend(this,t)}return t.prototype.clone=function(){return new t(this)},t.prototype.equals=function(t){return null!=t&&TB(this.id,t.id)&&TB(this.width,t.width)&&TB(this.height,t.height)&&TB(this.isVector,t.isVector)},t}();t.ImageMetaData=e;var n,i=function(){function t(t,e,n){this.name=t,this.value=e,this.transformedRectangle=n}return t.prototype.clone=function(){return new t(this.name,this.value.clone(),this.transformedRectangle.clone())},t.prototype.equals=function(t){return null!=t&&TB(this.name,t.name)&&TB(this.value,t.value)&&TB(this.transformedRectangle,t.transformedRectangle)},t}();t.ImageItemValue=i,function(t){t[t.None=0]="None",t[t.StorageId=3]="StorageId",t[t.Url=4]="Url"}(n=t.ImageSourceType||(t.ImageSourceType={}));var r=function(){function t(t,e,i,r,o,s){void 0===i&&(i=0),void 0===r&&(r=!1),void 0===o&&(o=!0),this._storageId=null,this._url=null,this._type=n.None,this._isVector=!1,this._pageIndex=0,this._origin=null,this._actualSize=!1,this._saveAspectRatio=!0,this._dpiX=72,this._dpiY=72,this._propertyChanged=new sB,this._storageId=t,null!=t&&(this._type=n.StorageId,this._origin=s),this._url=e,null!=e&&(this._type=n.Url,this._actualSize=r,this._saveAspectRatio=o)}return t.prototype.clone=function(){var e=new t;return e.id=this.id,e.url=this.url,e._type=this._type,e._width=this._width,e._height=this._height,e._isVector=this._isVector,e._pageIndex=this._pageIndex,e._origin=null!=this._origin?this._origin.clone():null,e._actualSize=this._actualSize,e._saveAspectRatio=this._saveAspectRatio,e},t.prototype.equals=function(t){return TB(this.id,t.id)&&TB(this.url,t.url)&&TB(this._type,t._type)&&TB(this._width,t._width)&&TB(this._height,t._height)&&TB(this._origin,t._origin)&&TB(this._saveAspectRatio,t._saveAspectRatio)&&t._pageIndex===this._pageIndex&&JSON.stringify(t._origin)===JSON.stringify(this._origin)&&t._actualSize===this._actualSize&&t._saveAspectRatio===this._saveAspectRatio},Object.defineProperty(t.prototype,"id",{get:function(){return this._storageId},set:function(t){this._storageId!==t&&(this._storageId=t,this._propertyChanged.notify(this,"id"))},enumerable:!0,configurable:!0}),t.prototype.setIdWithOrigin=function(t,e){this.id=t,this._setOrigin(e)},Object.defineProperty(t.prototype,"url",{get:function(){return this._url},set:function(t){this._url!==t&&(this._url=t,this._propertyChanged.notify(this,"url"))},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"width",{get:function(){return this._width},set:function(t){this._width!==t&&(this._width=t,this._propertyChanged.notify(this,"width"))},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"height",{get:function(){return this._height},set:function(t){this._height!==t&&(this._height=t,this._propertyChanged.notify(this,"height"))},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"isVector",{get:function(){return this._isVector},set:function(t){this._isVector!==t&&(this._isVector=t,this._propertyChanged.notify(this,"isVector"))},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"pageIndex",{get:function(){return this._pageIndex},set:function(t){t!==this._pageIndex&&(this._pageIndex=t,this._propertyChanged.notify(this,"pageIndex"))},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"origin",{get:function(){return this._origin},enumerable:!0,configurable:!0}),t.prototype._setOrigin=function(t){t!==this._origin&&(this._origin=t,this._propertyChanged.notify(this,"origin"))},Object.defineProperty(t.prototype,"type",{get:function(){return this._type},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"actualSize",{get:function(){return this._actualSize},set:function(t){this._actualSize=t},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"saveAspectRatio",{get:function(){return this._saveAspectRatio},set:function(t){this._saveAspectRatio=t},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"dpiX",{get:function(){return this._dpiX},set:function(t){t>0&&(this._dpiX=t)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"dpiY",{get:function(){return this._dpiY},set:function(t){t>0&&(this._dpiY=t)},enumerable:!0,configurable:!0}),t.prototype.addPropertyChanged=function(t){this._propertyChanged.add(t)},t.prototype.removePropertyChanged=function(t){this._propertyChanged.remove(t)},t}();t.ImageSource=r,function(t){var e=function(){function t(t){JR.extend(this,t||{}),null!=t&&null!=t.originalSize&&(this.originalSize=new aW(t.originalSize.width,t.originalSize.height))}return t.prototype.equals=function(t){return null==t&&TB(this.type,t.type)&&TB(this.data,t.data)&&TB(this.originalSize,t.originalSize)},t.prototype.clone=function(){return new t(this)},t}();t.Origin=e}(r=t.ImageSource||(t.ImageSource={}))}(fW||(fW={}));var mW,gW,yW,_W,vW,bW=function(){function t(t){if(this.storageId=null,this.size=new aW,this.name=null,this.isUserImage=!1,this.isVector=!1,this.pageIndex=0,"string"==typeof t)try{t=JSON.parse(t)}catch(e){console.warn("Unable to parse ImageMetaData from string ",t,e),t=null}JR.isObject(t)&&JR.extend(this,t)}return t.fromInterface=function(e,n){var i=new t;return i.storageId=e.id,i.size=new aW(e.width,e.height),i.name=void 0!==n?n:null,null!=e.isVector&&(i.isVector=e.isVector),i},t.prototype.clone=function(){return new t(this)},t.prototype.equals=function(t){return this.storageId===t.storageId&&TB(this.size,t.size)&&TB(this.name,t.name)&&TB(this.isUserImage,t.isUserImage)&&TB(this.isVector,t.isVector)&&TB(this.pageIndex,t.pageIndex)},t}(),wW=function(){var t=function(e,n){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(e,n)};return function(e,n){function i(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(i.prototype=n.prototype,new i)}}(),CW=function(t,e){var n="function"==typeof Symbol&&t[Symbol.iterator];if(!n)return t;var i,r,o=n.call(t),s=[];try{for(;(void 0===e||e-- >0)&&!(i=o.next()).done;)s.push(i.value)}catch(a){r={error:a}}finally{try{i&&!i.done&&(n=o.return)&&n.call(o)}finally{if(r)throw r.error}}return s},xW=function(t){function e(e,n,i,r,o){var s=t.call(this)||this;return s.id=e,s._name=n,s._mask=i,s._value=r,s._values=o,s}return wW(e,t),Object.defineProperty(e.prototype,"mask",{get:function(){return this._mask},set:function(t){t!=this._mask&&(this._mask=t,this._propertyChanged.notify(this,"mask"))},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"value",{get:function(){return this._value},set:function(t){t!=this._value&&(this._value=t,this._propertyChanged.notify(this,"value"))},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"values",{get:function(){return this._values},set:function(t){t!=this._values&&(this._values=t,this._propertyChanged.notify(this,"values"))},enumerable:!0,configurable:!0}),e.prototype.generateNewIds=function(){this._generateNewId()},e.prototype._copy=function(e,n,i){return t.prototype._copy.call(this,e,n,!1),n.mask=e.mask,n.value=e.value,n.values=function(){for(var t=[],e=0;e<arguments.length;e++)t=t.concat(CW(arguments[e]));return t}(e.values),n},e.prototype.clone=function(t){void 0===t&&(t=!1);var n=new e;return this._copy(this,n,t),n},e.prototype.equals=function(e){return t.prototype.equals.call(this,e)&&TB(this.mask,e.mask)&&TB(this.value,e.value)&&IB(this.values,e.values)},e.prototype.getSimplifiedObject=function(){return{id:this.id,mask:this.mask,value:this.value,values:this.values,name:this.name}},e}(zH),EW=function(){var t=function(e,n){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(e,n)};return function(e,n){function i(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(i.prototype=n.prototype,new i)}}(),SW=function(){return(SW=Object.assign||function(t){for(var e,n=1,i=arguments.length;n<i;n++)for(var r in e=arguments[n])Object.prototype.hasOwnProperty.call(e,r)&&(t[r]=e[r]);return t}).apply(this,arguments)},PW=function(t,e,n,i){var r,o=arguments.length,s=o<3?e:null===i?i=Object.getOwnPropertyDescriptor(e,n):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(t,e,n,i);else for(var a=t.length-1;a>=0;a--)(r=t[a])&&(s=(o<3?r(s):o>3?r(e,n,s):r(e,n))||s);return o>3&&s&&Object.defineProperty(e,n,s),s},OW=function(t,e){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(t,e)},kW=function(t,e){var n="function"==typeof Symbol&&t[Symbol.iterator];if(!n)return t;var i,r,o=n.call(t),s=[];try{for(;(void 0===e||e-- >0)&&!(i=o.next()).done;)s.push(i.value)}catch(a){r={error:a}}finally{try{i&&!i.done&&(n=o.return)&&n.call(o)}finally{if(r)throw r.error}}return s},TW=function(){for(var t=[],e=0;e<arguments.length;e++)t=t.concat(kW(arguments[e]));return t},IW=function(t){function e(n,i){var r=t.call(this,n)||this;return r.type=e.type,r._onLayoutSettingsChanged=function(t){r._propertyChanged.notify(r,t)},r.layoutSettings=null!=i?i:new RW,r}return EW(e,t),e.prototype.getSimplifiedObject=function(e){var n,i;void 0===e&&(e=[]);var r=t.prototype.getSimplifiedObject.call(this,["layoutSettings"].concat(e));return r.layoutSettings=null===(n=this.layoutSettings)||void 0===n?void 0:n.getSimplifiedObject(),r.sourceRectangle=null===(i=this.sourceRectangle)||void 0===i?void 0:i.toJSON(),r},e.prototype._copy=function(e,n,i,r){var o;t.prototype._copy.call(this,e,n,i,r),i&&this._copyItemsOrder(e,n),n.layoutSettings=e.layoutSettings.clone(),n.sourceRectangle=null===(o=e.sourceRectangle)||void 0===o?void 0:o.clone()},e.prototype._copyItemsOrder=function(t,e){var n=t.getItemsOrder().map((function(n){var i=t.items.indexOf((function(t){return t.id==n}));return e.items.get(i).id}));e.setItemsOrder(n)},e.prototype.clone=function(t,n){void 0===t&&(t=!1),void 0===n&&(n=!1);var i=new e;return this._copy(this,i,t,n),i},Object.defineProperty(e.prototype,"layoutSettings",{get:function(){return this._layoutSettings},set:function(t){if(null==t)throw new Error("LayoutSettings can't be null");null!=this._layoutSettings&&this._layoutSettings.propertyChanged.remove(this._onLayoutSettingsChanged),this._layoutSettings=t,this._layoutSettings.propertyChanged.add(this._onLayoutSettingsChanged),this._onLayoutSettingsChanged("layoutSettings")},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"sourceRectangle",{get:function(){return this._sourceRectangle},set:function(t){if(null!=this._sourceRectangle&&null==t)throw new Error("LayoutItem.sourceRectangle can't be null");null!=t&&t.equals(this._sourceRectangle)||(this._unsubscribeSourceRectangle(),this._sourceRectangle=t,this._subscribeSourceRectangle(),this._propertyChanged.notify(this,"sourceRectangle"))},enumerable:!0,configurable:!0}),e.prototype._subscribeSourceRectangle=function(){},e.prototype._unsubscribeSourceRectangle=function(){},e.prototype.addItems=function(n,i,r){var o=this.getItemsOrder();if(o){if(!Number.isInteger(r))throw new Error("orderIndex must not be null");o=e._insertToOrder(o,n.map((function(t){return t.id})),r),this.setItemsOrder(o)}t.prototype.addItems.call(this,n,i)},e.prototype.removeItems=function(e){var n=this.getItemsOrder();n&&(e.forEach((function(t){return n=n.filter((function(e){return e!==t.id}))})),this.setItemsOrder(n)),t.prototype.removeItems.call(this,e)},e.prototype.addItem=function(n,i,r){var o=this.getItemsOrder();o=e._insertToOrder(o,[n.id],r),this.setItemsOrder(o),t.prototype.addItem.call(this,n,i)},e._insertToOrder=function(t,e,n){var i=t.slice(0,n),r=t.slice(n);return i.concat(e,r)},e.prototype.setItemsOrder=function(t){this.tags[e._layoutItemsOrderTagKey]=t},e.prototype.getItemsOrder=function(){var t=this.tags[e._layoutItemsOrderTagKey];return null==t?null:t instanceof Array?t:null},e.prototype.getItemOrderIndex=function(t){return this.items.indexOf(t)<0?-1:this.getItemsOrder().indexOf(t.id)},e.generateAutoLayoutSettings=function(t,e,n,i,r){var o=new FW,s=t.map((function(t){return t.left})),a=t.map((function(t){return t.right})),l=t.map((function(t){return t.top})),c=t.map((function(t){return t.bottom})),u=t.map((function(t){return t.center.x})),h=t.map((function(t){return t.center.y}));if(null==n&&(n=Math.max.apply(Math,TW(u))-Math.min.apply(Math,TW(u))>Math.max.apply(Math,TW(h))-Math.min.apply(Math,TW(h))?yW.horizontal:yW.vertical),o.orientation=n,null==e)switch(o.orientation){case yW.horizontal:e=gB(Math.max.apply(Math,TW(l)),Math.min.apply(Math,TW(l)),5)?gW.start:gB(Math.max.apply(Math,TW(h)),Math.min.apply(Math,TW(h)),5)?gW.center:gB(Math.max.apply(Math,TW(c)),Math.min.apply(Math,TW(c)),5)?gW.end:gW.none;break;case yW.vertical:e=gB(Math.max.apply(Math,TW(s)),Math.min.apply(Math,TW(s)),5)?gW.start:gB(Math.max.apply(Math,TW(u)),Math.min.apply(Math,TW(u)),5)?gW.center:gB(Math.max.apply(Math,TW(a)),Math.min.apply(Math,TW(a)),5)?gW.end:gW.none}o.alignItems=e;for(var d=t.sort(o.orientation===yW.horizontal?function(t,e){return t.left-e.left}:function(t,e){return t.top-e.top}),p=[],f=1;f<d.length;f++){var m=d[f-1],g=d[f];p.push(o.orientation===yW.horizontal?g.left-m.right:g.top-m.bottom)}return null==i&&(i=Math.max(0,Math.min.apply(Math,TW(p.map(Math.round))))),o.margin=i,null==r&&(r=gB(Math.max.apply(Math,TW(p)),Math.min.apply(Math,TW(p)),2)?_W.stretch:_W.spaceBetween),o.justifyContent=r,o},e.prototype.isChildVisible=function(t){return!(t instanceof uU&&t.isEmpty())},e.prototype.equals=function(e){var n=t.prototype.equals.call(this,e),i=TB(this.sourceRectangle,e.sourceRectangle),r=TB(this.layoutSettings,e.layoutSettings);return n&&i&&r},e._layoutItemsOrderTagKey="$layoutItemsOrder",e.type="LayoutItem",e}(RU);!function(t){t[t.default=0]="default",t[t.auto=1]="auto"}(mW||(mW={})),function(t){t[t.none=0]="none",t[t.center=1]="center",t[t.start=2]="start",t[t.end=3]="end"}(gW||(gW={})),function(t){t[t.vertical=0]="vertical",t[t.horizontal=1]="horizontal"}(yW||(yW={})),function(t){t[t.stretch=0]="stretch",t[t.spaceBetween=1]="spaceBetween"}(_W||(_W={})),function(t){t[t.start=0]="start",t[t.center=1]="center",t[t.end=2]="end"}(vW||(vW={}));var AW,MW,DW,RW=function(){function t(){this.type=t.type,this.propertyChanged=new rB}return t.prototype.clone=function(){return new t},t.prototype.getSimplifiedObject=function(){var e={};return e.type=t.type,e},t.prototype.equals=function(t){return TB(this.type,t.type)},t.type="DefaultLayoutSettings",t}(),FW=function(t){function e(){var n=null!==t&&t.apply(this,arguments)||this;return n.type=e.type,n._margin=0,n._orientation=yW.vertical,n._alignItems=gW.none,n._anchorPoint=vW.start,n._justifyContent=_W.stretch,n}return EW(e,t),Object.defineProperty(e.prototype,"margin",{get:function(){return this._margin},set:function(t){if(null==t)throw new Error("Margin can't be null");t!==this.margin&&(this._margin=t,this.propertyChanged.notify("margin"))},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"orientation",{get:function(){return this._orientation},set:function(t){if(null==t)throw Error("Orientation can't be null");t!==this.orientation&&(this._orientation=t,this.propertyChanged.notify("orientation"))},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"alignItems",{get:function(){return this._alignItems},set:function(t){if(null==t)throw new Error("alignItems can't be null");t!==this.alignItems&&(this._alignItems=t,this.propertyChanged.notify("alignItems"))},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"justifyContent",{get:function(){return this._justifyContent},set:function(t){if(null==t)throw new Error("JustifyContent can't be null");t!==this.justifyContent&&(this._justifyContent=t,this.propertyChanged.notify("justifyContent"))},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"anchorPoint",{get:function(){return this._anchorPoint},set:function(t){if(null==t)throw new Error("anchorPoint can't be null");t!==this._anchorPoint&&(this._anchorPoint=t,this.propertyChanged.notify("anchorPoint"))},enumerable:!0,configurable:!0}),e.prototype.clone=function(){var t=new e;return t.orientation=this.orientation,t.alignItems=this.alignItems,t.justifyContent=this.justifyContent,t.margin=this.margin,t.anchorPoint=this.anchorPoint,t},e.prototype.getSimplifiedObject=function(){var n=t.prototype.getSimplifiedObject.call(this);return n.type=e.type,n.orientation=this.orientation,n.alignItems=this.alignItems,n.justifyContent=this.justifyContent,n.margin=this.margin,n.anchorPoint=this.anchorPoint,n},e.prototype.equals=function(e){var n=t.prototype.equals.call(this,e),i=TB(this.orientation,e.orientation),r=TB(this.alignItems,e.alignItems),o=TB(this.margin,e.margin),s=TB(this.anchorPoint,e.anchorPoint);return n&&i&&r&&o&&s},e.type="AutoLayoutSettings",PW([aV({ignore:!0}),OW("design:type",Object)],e.prototype,"type",void 0),PW([aV({enumObject:SW({},yW)}),OW("design:type",Object),OW("design:paramtypes",[Object])],e.prototype,"orientation",null),PW([aV({enumObject:gW}),OW("design:type",Object),OW("design:paramtypes",[Object])],e.prototype,"alignItems",null),PW([aV({enumObject:_W}),OW("design:type",Object),OW("design:paramtypes",[Object])],e.prototype,"justifyContent",null),PW([aV({enumObject:vW}),OW("design:type",Number),OW("design:paramtypes",[Number])],e.prototype,"anchorPoint",null),e}(RW),LW=function(){function t(t){this.propertyChanged=new rB,null==t&&(t=!0),this.allowChangeColumnCount=t}return Object.defineProperty(t.prototype,"allowChangeColumnCount",{get:function(){return this._allowChangeColumnCount},set:function(t){this._allowChangeColumnCount!==t&&(this._allowChangeColumnCount=t,this.propertyChanged.notify("allowChangeColumnCount"))},enumerable:!0,configurable:!0}),t.prototype.getSimplifiedObject=function(){var t={};return t.allowChangeColumnCount=this.allowChangeColumnCount,t},t.prototype.clone=function(){var e=new t;return e.allowChangeColumnCount=this.allowChangeColumnCount,e},t.prototype.equals=function(t){return this.allowChangeColumnCount===t.allowChangeColumnCount},t}(),BW=function(){var t=function(e,n){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(e,n)};return function(e,n){function i(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(i.prototype=n.prototype,new i)}}(),NW=function(t){function e(n,i,r,o){var s=t.call(this,n,r,o)||this;return s._boundingPaths=[],s._wrappingMargin=7,s._wrappingPath=null,s._paragraphSettings=new EU,s._characterLimit=null,s._isVertical=!1,s._firstBaselineOffset=tU.Ascent,s._firstBaselineMinOffset=0,s.type=e.type,null!=i&&(s.boundingPaths=i),s._pathBoundedTextPermissions=new LW,s._pathBoundedTextPermissions.propertyChanged.add(s._onPermissionsChanged),s}return BW(e,t),Object.defineProperty(e.prototype,"characterLimit",{get:function(){return this._characterLimit},set:function(t){null===this._characterLimit&&null===t||gB(this._characterLimit,t)||(this._characterLimit=t,this._propertyChanged.notify(this,"characterLimit"))},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"boundingPaths",{get:function(){return this._boundingPaths},set:function(t){t.length===this.boundingPaths.length&&this.boundingPaths.every((function(e,n){return e.isEqual(t[n])}))||(this._boundingPaths=t,this._propertyChanged.notify(this,"boundingPaths"))},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"wrappingPath",{get:function(){return this._wrappingPath},set:function(t){null==this._wrappingPath&&null==t||null!=this._wrappingPath&&this._wrappingPath.isEqual(t)||(this._wrappingPath=t,this._propertyChanged.notify(this,"wrappingPath"))},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"wrappingMargin",{get:function(){return this._wrappingMargin},set:function(t){gB(this._wrappingMargin,t)||(this._wrappingMargin=t,this._propertyChanged.notify(this,"wrappingMargin"))},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"paragraphSettings",{get:function(){return this._paragraphSettings},set:function(t){EU.equals(this._paragraphSettings,t)||(this._paragraphSettings=t,this._propertyChanged.notify(this,"paragraphSettings"))},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"isVertical",{get:function(){return this._isVertical},set:function(t){this._isVertical!==t&&(this._isVertical=t,this._propertyChanged.notify(this,"isVertical"))},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"pathBoundedTextPermissions",{get:function(){return this._pathBoundedTextPermissions},set:function(t){if(null==t)throw new XR("pathBoundedTextPermissions cannot be null");TB(this._pathBoundedTextPermissions,t)||(this._pathBoundedTextPermissions.propertyChanged.remove(this._onPermissionsChanged),this._pathBoundedTextPermissions=t,this._pathBoundedTextPermissions.propertyChanged.add(this._onPermissionsChanged),this._onPermissionsChanged())},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"firstBaselineOffset",{get:function(){return this._firstBaselineOffset},set:function(t){this._firstBaselineOffset!==t&&(this._firstBaselineOffset=t,null!=t&&this._propertyChanged.notify(this,"firstBaselineOffset"))},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"firstBaselineMinOffset",{get:function(){return this._firstBaselineMinOffset},set:function(t){gB(this._firstBaselineMinOffset,t)||(this._firstBaselineMinOffset=t,null!=t&&this._propertyChanged.notify(this,"firstBaselineMinOffset"))},enumerable:!0,configurable:!0}),e.prototype.getSimplifiedObject=function(e){var n=t.prototype.getSimplifiedObject.call(this,["pathBoundedTextPermissions"].concat(e));return n.pathBoundedTextPermissions=this.pathBoundedTextPermissions.getSimplifiedObject(),n},e.prototype._copy=function(e,n,i,r){t.prototype._copy.call(this,e,n,i,r),n.characterLimit=e.characterLimit,n.boundingPaths=e.boundingPaths.map((function(t){return t.clone()})),n.wrappingMargin=e.wrappingMargin,n.paragraphSettings=e.paragraphSettings.clone(),n.isVertical=e.isVertical,n.pathBoundedTextPermissions=e.pathBoundedTextPermissions.clone(),n.wrappingPath=null!=e.wrappingPath?e.wrappingPath.clone():null,n.firstBaselineOffset=e.firstBaselineOffset,n.firstBaselineMinOffset=e.firstBaselineMinOffset},e.prototype.equals=function(e){return t.prototype.equals.call(this,e)&&TB(this._characterLimit,e._characterLimit)&&IB(this._boundingPaths,e._boundingPaths)&&TB(this._wrappingMargin,e._wrappingMargin)&&TB(this._paragraphSettings,e._paragraphSettings)&&TB(this._isVertical,e._isVertical)&&TB(this._pathBoundedTextPermissions,e._pathBoundedTextPermissions)&&TB(this._wrappingPath,e._wrappingPath)&&TB(this.firstBaselineOffset,e.firstBaselineOffset)&&TB(this.firstBaselineMinOffset,e.firstBaselineMinOffset)},e.prototype.clone=function(t,n){void 0===t&&(t=!1),void 0===n&&(n=!1);var i=new e;return this._copy(this,i,t,n),i},e.type="PathBoundedTextItem",e}(uU),jW=function(t,e){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(t,e)},zW=function(){function t(){this._allowEditContent=!0,this.showSelectButtonConstraint=null,this._showSelectButton=!0,this._showHandleButton=!0,this.propertyChanged=new rB}return Object.defineProperty(t.prototype,"allowEditContent",{get:function(){return this._allowEditContent},set:function(t){this._allowEditContent!==t&&(this._allowEditContent=t,this.propertyChanged.notify())},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"showSelectButton",{get:function(){return null!=this.showSelectButtonConstraint?this.showSelectButtonConstraint:this._showSelectButton},set:function(t){this._showSelectButton!==t&&(this._showSelectButton=t,this.propertyChanged.notify())},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"showHandleButton",{get:function(){return this._showHandleButton},set:function(t){this._showHandleButton!==t&&(this._showHandleButton=t,this.propertyChanged.notify())},enumerable:!0,configurable:!0}),t.prototype.getSimplifiedObject=function(){var t={};return t.allowEditContent=this.allowEditContent,t.showSelectButton=this.showSelectButton,t.showHandleButton=this.showHandleButton,t},t.prototype.clone=function(){var e=new t;return e.allowEditContent=this.allowEditContent,e.showSelectButton=this.showSelectButton,e.showSelectButtonConstraint=this.showSelectButtonConstraint,e.showHandleButton=this.showHandleButton,e},t.prototype.equals=function(t){return this.allowEditContent===t.allowEditContent&&this.showSelectButton===t.showSelectButton&&this.showSelectButtonConstraint===t.showSelectButtonConstraint&&this.showHandleButton===t.showHandleButton},function(t,e,n,i){var r,o=arguments.length,s=o<3?e:null===i?i=Object.getOwnPropertyDescriptor(e,n):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(t,e,n,i);else for(var a=t.length-1;a>=0;a--)(r=t[a])&&(s=(o<3?r(s):o>3?r(e,n,s):r(e,n))||s);o>3&&s&&Object.defineProperty(e,n,s)}([aV({ignore:!0}),jW("design:type",Boolean)],t.prototype,"showSelectButtonConstraint",void 0),t}(),HW=function(){var t=function(e,n){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(e,n)};return function(e,n){function i(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(i.prototype=n.prototype,new i)}}(),VW=function(t,e,n,i){var r,o=arguments.length,s=o<3?e:null===i?i=Object.getOwnPropertyDescriptor(e,n):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(t,e,n,i);else for(var a=t.length-1;a>=0;a--)(r=t[a])&&(s=(o<3?r(s):o>3?r(e,n,s):r(e,n))||s);return o>3&&s&&Object.defineProperty(e,n,s),s},UW=function(t,e){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(t,e)},WW=function(t,e){var n="function"==typeof Symbol&&t[Symbol.iterator];if(!n)return t;var i,r,o=n.call(t),s=[];try{for(;(void 0===e||e-- >0)&&!(i=o.next()).done;)s.push(i.value)}catch(a){r={error:a}}finally{try{i&&!i.done&&(n=o.return)&&n.call(o)}finally{if(r)throw r.error}}return s},$W=function(){for(var t=[],e=0;e<arguments.length;e++)t=t.concat(WW(arguments[e]));return t};!function(t){t[t.None=0]="None",t[t.Center=1]="Center",t[t.Top=2]="Top",t[t.Bottom=3]="Bottom"}(AW||(AW={})),function(t){t[t.None=0]="None",t[t.Center=1]="Center",t[t.Right=2]="Right",t[t.Left=3]="Left"}(MW||(MW={})),function(t){t[t.Fit=0]="Fit",t[t.Fill=1]="Fill",t[t.Original=2]="Original"}(DW||(DW={}));var GW,qW=function(t){function e(n){var i=t.call(this,null!=n?bB.rectangle(n.left,n.top,n.width,n.height):null)||this;return i._isStubContent=!1,i._isCoverMode=!1,i._contentResizeMode=DW.Fill,i._contentEffect=HU.None,i._contentFillColor=null,i._contentOverlayEffect=null,i.stubStorageMeta=null,i.linkId=null,i.allowedSubfolder=null,i.contentVerticalAlignment=AW.None,i.contentHorizontalAlignment=MW.None,i.type=e.type,i._content=null,i._topFrames=[],i._bottomFrames=[],i._onContentOverlayEffectPropertyChanged=function(t,e){i._propertyChanged.notify(i,"contentOverlayEffect")},i.fixedStubContentSize=!1,i.sourceRectangle=null!=n?n:new aB(0,0,10,10),i.fillColor=new VB("rgba(0, 0, 0, 0)"),i.borderWidth=0,i.placeholderPermissions=new zW,i._contentPermissions=new WU,i._contentPermissions.propertyChanged.add(i._onPermissionsChanged),i._setViolationSettings(new uW,!0),i._ignorePermissionsChange=!0,i.manipulationPermissions.resizeGrips=new uV(!0,!0,!1),i.shapePermissions.allowChangeFillColor=!1,i.itemPermissions.allowRemoveOnLayoutChange=!0,i.itemPermissions.itemToolbarPermissions.showEditButton=!0,i.itemPermissions.itemToolbarPermissions.showSelectButtonConstraint=null,i.itemPermissions.itemToolbarPermissions.showSelectButton=!0,i.contentPermissions.imagePermissions.allowKeepOverlayColor=!1,i._ignorePermissionsChange=!1,i}return HW(e,t),Object.defineProperty(e.prototype,"contentEffect",{get:function(){return this._contentEffect},set:function(t){this._contentEffect!==t&&(this._contentEffect=t,this._propertyChanged.notify(this,"contentEffect"))},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"contentFillColor",{get:function(){return this._contentFillColor},set:function(t){this._contentFillColor!==t&&(this._contentFillColor=t,this._propertyChanged.notify(this,"contentFillColor"))},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"isStubContent",{get:function(){return this._isStubContent},set:function(t){this._isStubContent!==t&&(this._isStubContent=t,this._setStubStorageMeta(),this._propertyChanged.notify(this,"isStubContent"))},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"contentResizeMode",{get:function(){return this.isCoverMode?DW.Fill:this.isBarcodePlaceholder?DW.Fit:this._contentResizeMode},set:function(t){this._contentResizeMode!==t&&(this._contentResizeMode=t,this._propertyChanged.notify(this,"contentResizeMode"))},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"contentOverlayEffect",{get:function(){return this._contentOverlayEffect},set:function(t){sW.equals(this.contentOverlayEffect,t)||(this._unsubscribeContentOverlayEffectPropertyChanged(),this._contentOverlayEffect=t,this._subscribeContentOverlayEffectPropertyChanged(),this._propertyChanged.notify(this,"contentOverlayEffect"))},enumerable:!0,configurable:!0}),e.prototype._subscribeContentOverlayEffectPropertyChanged=function(){null!=this.contentOverlayEffect&&this.contentOverlayEffect.addPropertyChanged(this._onContentOverlayEffectPropertyChanged)},e.prototype._unsubscribeContentOverlayEffectPropertyChanged=function(){null!=this.contentOverlayEffect&&this.contentOverlayEffect.removePropertyChanged(this._onContentOverlayEffectPropertyChanged)},Object.defineProperty(e.prototype,"isCoverMode",{get:function(){return null==this.barcodeFormat&&this._isCoverMode},set:function(t){this._isCoverMode!==t&&(this._isCoverMode=t,this.isEmptyContent||this.content.applyPermissionsConstrain(),this._propertyChanged.notify(this,"isCoverMode"))},enumerable:!0,configurable:!0}),e.prototype.getImagePermissions=function(){return null!=this.contentPermissions?this.contentPermissions.imagePermissions:this.content instanceof fW?this.content.imagePermissions:null},e.prototype.applyPermissionsConstrain=function(){var t=this.getImagePermissions(),e=null==t||t.allowChangeImage;this.itemPermissions.itemToolbarPermissions.showEditButtonConstraint=!(this.isStubOrEmpty||null==t||!t.allowEditImage||null!=this.content&&this.content instanceof fW&&null!=this.content.source&&this.content.source.isVector)&&null,null!=this.placeholderPermissions&&(e?(this.placeholderPermissions.showSelectButtonConstraint=null,this.itemPermissions.itemToolbarPermissions.showSelectButtonConstraint=null):(this.placeholderPermissions.showSelectButtonConstraint=!1,this.itemPermissions.itemToolbarPermissions.showSelectButtonConstraint=!1)),null!=this.contentPermissions&&null!=this.contentPermissions.imagePermissions&&(this.contentPermissions.imagePermissions.allowEditImageConstraint=null==this.barcodeFormat&&null),this.isBarcodePlaceholder&&(null!=this.manipulationPermissions&&(this.manipulationPermissions.resizeGrips.edge=!1,this.manipulationPermissions.resizeGrips.setCornerArbitrary(!1)),null!=this.itemPermissions&&null!=this.itemPermissions.itemToolbarPermissions&&(this.itemPermissions.itemToolbarPermissions.showSelectButton=!1,this.itemPermissions.itemToolbarPermissions.showEditButtonConstraint=null),null!=this.placeholderPermissions&&(this.placeholderPermissions.allowEditContent=!1,this.placeholderPermissions.showHandleButton=!1),null!=this.contentPermissions&&null!=this.contentPermissions.barcodePermissions&&(this.contentPermissions.barcodePermissions.allowChangeBarcodeContent?this.placeholderPermissions.showSelectButtonConstraint=null:(this.placeholderPermissions.showSelectButtonConstraint=!1,this.itemPermissions.itemToolbarPermissions.showEditButtonConstraint=this.contentPermissions.barcodePermissions.allowChangeBarcodeContent)))},Object.defineProperty(e.prototype,"contentPermissions",{get:function(){return this._contentPermissions},set:function(t){if(null==t)throw new XR("ContentPermissions cannot be null");TB(this._contentPermissions,t)||(this._contentPermissions.propertyChanged.remove(this._onPermissionsChanged),this._contentPermissions=t,this._contentPermissions.propertyChanged.add(this._onPermissionsChanged),this._onPermissionsChanged())},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"placeholderPermissions",{get:function(){return this._placeholderPermissions},set:function(t){if(null==t)throw new XR("placeholderPermissions cannot be null");TB(this._placeholderPermissions,t)||(null!=this._placeholderPermissions&&this._placeholderPermissions.propertyChanged.remove(this._onPermissionsChanged),this._placeholderPermissions=t,this.applyPermissionsConstrain(),this._placeholderPermissions.propertyChanged.add(this._onPermissionsChanged),this._propertyChanged.notify(this,"placeholderPermissions"))},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"violationSettings",{get:function(){return this._violationSettings},set:function(t){this._setViolationSettings(t)},enumerable:!0,configurable:!0}),e.prototype._setViolationSettings=function(e,n){if(void 0===n&&(n=!1),!(n||e instanceof uW))throw new XR("Shape ViolationSettings property must has ImageViolationSettings type!");t.prototype._setViolationSettings.call(this,e,n)},Object.defineProperty(e.prototype,"isFrame",{get:function(){return null!=this._topFrames&&this._topFrames.length>0||null!=this._bottomFrames&&this._bottomFrames.length>0},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"content",{get:function(){return this._content},set:function(t){this._content=t,this.isEmptyContent||(this._content.parentPlaceholder=this,this._content.parentContainer=null,this._content.applyPermissionsConstrain()),this._setStubStorageMeta(),this._propertyChanged.notify(this,"content")},enumerable:!0,configurable:!0}),e.prototype._setStubStorageMeta=function(){this.stubStorageMeta=this.isStubContent&&this._content instanceof fW?new bW({isUserImage:this._content.isUserImage,isVector:this._content.source.isVector,name:"Stub content",size:{width:this._content.source.width,height:this._content.source.height},storageId:this._content.source.id,origin:this._content.source.origin}):null},Object.defineProperty(e.prototype,"topFrames",{get:function(){return this._topFrames},set:function(t){var e=this;if(null==t)throw new XR;this._topFrames=t,this._topFrames.forEach((function(t){t.parentPlaceholder=e,t.parentContainer=null}))},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"bottomFrames",{get:function(){return this._bottomFrames},set:function(t){var e=this;if(null==t)throw new XR;this._bottomFrames=t,this._bottomFrames.forEach((function(t){t.parentPlaceholder=e,t.parentContainer=null}))},enumerable:!0,configurable:!0}),e.prototype.updateContentAndFrames=function(t){null!=this.content&&t(this.content),null!=this.topFrames&&this.topFrames.forEach((function(e){t(e)})),null!=this.bottomFrames&&this.bottomFrames.forEach((function(e){t(e)}))},Object.defineProperty(e.prototype,"imageContent",{get:function(){if(null!=this._content&&!(this._content instanceof fW))throw new GR("Not image content!");return this._content},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"isEmptyContent",{get:function(){return null==this._content},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"isStubOrEmpty",{get:function(){return this.isStubContent||this.isEmptyContent},enumerable:!0,configurable:!0}),e.prototype._canSetIsVariable=function(){return!0},Object.defineProperty(e.prototype,"isBarcodePlaceholder",{get:function(){return null!=this.barcodeFormat},enumerable:!0,configurable:!0}),e.prototype.getSimplifiedObject=function(){var e=t.prototype.getSimplifiedObject.call(this,["_content","imageContent","placeholderPermissions","contentPermissions","isFrame","isEmptyContent","isStubOrEmpty","isBarcodePlaceholder"]);return e.content=null!=this.content?this.content.getSimplifiedObject():null,e.placeholderPermissions=this.placeholderPermissions.getSimplifiedObject(),e.contentPermissions=this.contentPermissions.getSimplifiedObject(),e},e.prototype._copy=function(e,n,i,r){if(t.prototype._copy.call(this,e,n,i,r),n.linkId=e.linkId,n.allowedSubfolder=e.allowedSubfolder,n.allowedTabs=null!=e.allowedTabs?e.allowedTabs.map((function(t){return t})):null,n.contentVerticalAlignment=e.contentVerticalAlignment,n.contentHorizontalAlignment=e.contentHorizontalAlignment,n.placeholderPermissions=e.placeholderPermissions.clone(),null!=e.content?(null==n.content?n.content=e.content.clone(i,r):n.content.update(e.content),n.content.parentPlaceholder=n):n.content=null,e.topFrames.length===n.topFrames.length)for(var o=0;o<e.topFrames.length;o++)n.topFrames[o].update(e.topFrames[o]),n.topFrames[o].parentPlaceholder=n;else n.topFrames=e.topFrames.map((function(t){var e=t.clone(i,r);return e.parentPlaceholder=n,e}));if(e.bottomFrames.length===n.bottomFrames.length)for(o=0;o<e.bottomFrames.length;o++)n.bottomFrames[o].update(e.bottomFrames[o]),n.bottomFrames[o].parentPlaceholder=n;else n.bottomFrames=e.bottomFrames.map((function(t){var e=t.clone(i,r);return e.parentPlaceholder=n,e}));n.stubStorageMeta=null!=e.stubStorageMeta?e.stubStorageMeta.clone():null,n.isStubContent=e.isStubContent,n.isCoverMode=e.isCoverMode,n.contentResizeMode=e.contentResizeMode,n.contentEffect=e.contentEffect,n.contentFillColor=null!=e._contentFillColor?e._contentFillColor.clone():null,n.contentOverlayEffect=null!=e.contentOverlayEffect?e.contentOverlayEffect.clone():null,n.barcodeFormat=e.barcodeFormat,n.contentPermissions=e.contentPermissions.clone(),n.isVariable=e.isVariable},e.prototype.equals=function(e){return t.prototype.equals.call(this,e)&&IB($W([this._content],this._topFrames,this._bottomFrames),$W([e._content],e._topFrames,e._bottomFrames))&&TB(this.linkId,e.linkId)&&TB(this.allowedSubfolder,e.allowedSubfolder)&&IB(this.allowedTabs,e.allowedTabs)&&TB(this.contentVerticalAlignment,e.contentVerticalAlignment)&&TB(this.contentHorizontalAlignment,e.contentHorizontalAlignment)&&TB(this._placeholderPermissions,e._placeholderPermissions)&&TB(this.stubStorageMeta,e.stubStorageMeta)&&TB(this._isStubContent,e._isStubContent)&&TB(this._isCoverMode,e._isCoverMode)&&TB(this._contentResizeMode,e._contentResizeMode)&&TB(this._contentEffect,e._contentEffect)&&TB(this.barcodeFormat,e.barcodeFormat)&&TB(this._contentPermissions,e._contentPermissions)&&TB(this.isVariable,e.isVariable)},e.prototype.clone=function(t,n){void 0===t&&(t=!1),void 0===n&&(n=!1);var i=new e;return this._copy(this,i,t,n),i},e.type="PlaceholderItem",VW([aV({factory:new FV(bW),displayName:"Stub storage meta"}),UW("design:type",bW)],e.prototype,"stubStorageMeta",void 0),VW([aV({factory:new RV("subfolder"),displayName:"Allowed subfolder"}),UW("design:type",String)],e.prototype,"allowedSubfolder",void 0),VW([aV({factory:new RV("allowedTabs"),displayName:"Allowed tabs"}),UW("design:type",Array)],e.prototype,"allowedTabs",void 0),VW([aV({enumObject:AW}),UW("design:type",Object)],e.prototype,"contentVerticalAlignment",void 0),VW([aV({enumObject:MW}),UW("design:type",Object)],e.prototype,"contentHorizontalAlignment",void 0),VW([aV({enumObject:HU}),UW("design:type",Number),UW("design:paramtypes",[Number])],e.prototype,"contentEffect",null),VW([aV({factory:new BV,displayName:"Content fill color"}),UW("design:type",zB),UW("design:paramtypes",[zB])],e.prototype,"contentFillColor",null),VW([aV({enumObject:DW}),UW("design:type",Object),UW("design:paramtypes",[Object])],e.prototype,"contentResizeMode",null),VW([aV({enumObject:hU,factory:new RV(hU.QR_CODE),displayName:"Barcode format"}),UW("design:type",String)],e.prototype,"barcodeFormat",void 0),VW([aV({factory:new FV(sW,{color:new GB({c:0,m:0,y:0,k:0}),opacity:1,blendMode:vV.Normal}),displayName:"Content overlay effect"}),UW("design:type",Object),UW("design:paramtypes",[Object])],e.prototype,"contentOverlayEffect",null),e}(UV),XW=function(){var t=function(e,n){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(e,n)};return function(e,n){function i(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(i.prototype=n.prototype,new i)}}(),KW=function(t){function e(n,i,r,o){var s=t.call(this,n,r,o)||this;return s._baselineLocation=new QL,s._isVertical=!1,s.type=e.type,null!=i&&(s.baselineLocation=i),s._ignorePermissionsChange=!0,s.manipulationPermissions.resizeGrips.setCornerArbitrary(!1),s.manipulationPermissions.resizeGrips.edge=!1,s._ignorePermissionsChange=!1,s}return XW(e,t),Object.defineProperty(e.prototype,"isVertical",{get:function(){return this._isVertical},set:function(t){this._isVertical!==t&&(this._isVertical=t,this._propertyChanged.notify(this,"isVertical"))},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"baselineLocation",{get:function(){return this._baselineLocation},set:function(t){QL.isEqual(this._baselineLocation,t)||(this._baselineLocation=t,this._propertyChanged.notify(this,"baselineLocation"))},enumerable:!0,configurable:!0}),e.prototype.applyPermissionsConstrain=function(){t.prototype.applyPermissionsConstrain.call(this),null!=this.manipulationPermissions&&null!=this.manipulationPermissions.resizeGrips&&(this.manipulationPermissions.resizeGrips.setCornerArbitraryConstraint(!1),this.manipulationPermissions.resizeGrips.edgeConstraint=!1)},e.prototype.getSimplifiedObject=function(e){void 0===e&&(e=[]);var n=t.prototype.getSimplifiedObject.call(this,["_placeholders","currentTextImage","sourcePath","sourceRectangle"].concat(e));return n.placeholders=this.placeholders.toArray(),n},e.prototype._copy=function(e,n,i,r){return t.prototype._copy.call(this,e,n,i,r),n.isVertical=e.isVertical,n.baselineLocation=e.baselineLocation,n},e.prototype.equals=function(e){return t.prototype.equals.call(this,e)&&TB(this._isVertical,e._isVertical)&&TB(this._baselineLocation,e._baselineLocation)},e.prototype.clone=function(t,n){void 0===t&&(t=!1),void 0===n&&(n=!1);var i=new e;return this._copy(this,i,t,n),i},e.type="PlainTextItem",e}(uU),YW=function(){var t=function(e,n){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(e,n)};return function(e,n){function i(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(i.prototype=n.prototype,new i)}}(),QW=function(t){function e(n){var i=t.call(this)||this;if(i._width=20,i._color=new VB("rgba(255,255,61,1)"),i._points=[],i.type=e.type,i._points=[],n&&n.length&&n.length>0)for(var r=0;r<n.length;r++)n[r]instanceof QL&&i._points.push(n[r]);return i.textWrappingMode=lV.None,i}return YW(e,t),Object.defineProperty(e.prototype,"width",{get:function(){return this._width},set:function(t){gB(this._width,t)||(this._width=t,this._propertyChanged.notify(this,"width"))},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"color",{get:function(){return this._color},set:function(t){zB.equals(this._color,t)||(this._color=t,this._propertyChanged.notify(this,"color"))},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"sourcePoints",{get:function(){return this._points},set:function(t){this._points=t,this._propertyChanged.notify(this,"sourcePoints")},enumerable:!0,configurable:!0}),e.prototype._copy=function(e,n,i,r){t.prototype._copy.call(this,e,n,i,r),n.width=e.width,n.color=e.color.clone(),n.sourcePoints=e.sourcePoints.map((function(t){return t.clone()}))},e.prototype.equals=function(e){return t.prototype.equals.call(this,e)&&TB(this._width,e._width)&&TB(this._color,e._color)&&IB(this._points,e._points)},e.prototype.clone=function(t,n){void 0===t&&(t=!1),void 0===n&&(n=!1);var i=new e;return this._copy(this,i,t,n),i},e.type="PolylineItem",e}(IV),ZW=function(){var t=function(e,n){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(e,n)};return function(e,n){function i(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(i.prototype=n.prototype,new i)}}(),JW=function(t){function e(n,i,r,o){var s=t.call(this,n,r,o)||this;return s.type=e.type,s._center=i,s._ignorePermissionsChange=!0,s.manipulationPermissions.resizeGrips.setCornerArbitrary(!1),s.manipulationPermissions.resizeGrips.edge=!1,s.textPermissions.allowChangeTextAlignment=!1,s.textPermissions.allowChangeLeading=!1,s._ignorePermissionsChange=!1,s}return ZW(e,t),e.prototype.applyPermissionsConstrain=function(){t.prototype.applyPermissionsConstrain.call(this),null!=this.manipulationPermissions&&null!=this.manipulationPermissions.resizeGrips&&(this.manipulationPermissions.resizeGrips.setCornerArbitraryConstraint(!1),this.manipulationPermissions.resizeGrips.edgeConstraint=!1),null!=this.textPermissions&&(this.textPermissions.allowChangeLeading=!1,this.textPermissions.allowChangeTextAlignment=!1)},Object.defineProperty(e.prototype,"center",{get:function(){return this._center},set:function(t){QL.isEqual(this._center,t)||(this._center=t,this._propertyChanged.notify(this,"center"))},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"bend",{get:function(){return this._bend},set:function(t){gB(this._bend,t)||(this._bend=t,this._propertyChanged.notify(this,"bend"))},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"warp",{get:function(){return this._warp},set:function(t){this._warp!==t&&(this._warp=t,this._propertyChanged.notify(this,"warp"))},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"maxLineCount",{get:function(){return 1},set:function(t){throw console.error("ArchedText set maxLineCount",t),new QR("Max Line Count of ArchedTextItem can not be redefined!")},enumerable:!0,configurable:!0}),e.prototype.getSimplifiedObject=function(e){return t.prototype.getSimplifiedObject.call(this,["maxLineCount"].concat(e))},e.prototype._copy=function(e,n,i,r){t.prototype._copy.call(this,e,n,i,r),n.center=e.center,n.bend=e.bend,n.warp=e.warp},e.prototype.equals=function(e){return t.prototype.equals.call(this,e)&&TB(this._center,e._center)&&TB(this._bend,e._bend)&&TB(this._warp,e._warp)},e.prototype.clone=function(t,n){void 0===t&&(t=!1),void 0===n&&(n=!1);var i=new e;return this._copy(this,i,t,n),i},e.type="ArchedTextItem",e}(uU),t$=function(){function t(){this.name="cropmark",this.margin=10,this.color=new VB({r:0,g:0,b:0,a:255}),this.widthPx=1,this.length=8,this.leftNotes=null,this.topNotes=null,this.rightNotes=null,this.bottomNotes=null}return Object.defineProperty(t.prototype,"margins",{get:function(){return"number"==typeof this.margin?{horizontal:this.margin,vertical:this.margin}:this.margin},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"lengths",{get:function(){return"number"==typeof this.length?{horizontal:this.length,vertical:this.length}:this.length},enumerable:!0,configurable:!0}),t.prototype.clone=function(){var e=new t;return e.name=this.name,e.margin=this.margin,e.color=this.color,e.widthPx=this.widthPx,e.length=this.length,e.leftNotes=null!=this.leftNotes?this.leftNotes.map((function(t){return t.clone()})):null,e.topNotes=null!=this.topNotes?this.topNotes.map((function(t){return t.clone()})):null,e.rightNotes=null!=this.rightNotes?this.rightNotes.map((function(t){return t.clone()})):null,e.bottomNotes=null!=this.bottomNotes?this.bottomNotes.map((function(t){return t.clone()})):null,e},t}();!function(t){t[t.Left=0]="Left",t[t.Center=1]="Center",t[t.Right=2]="Right"}(GW||(GW={}));var e$,n$=function(){function t(){this.alignment=GW.Left,this.fontSize=3,this.edgeMargin=.3,this.markMargin=.3}return t.prototype.clone=function(){var e=new t;return e.alignment=this.alignment,e.fontSize=this.fontSize,e.text=this.text,e.edgeMargin=this.edgeMargin,e.markMargin=this.markMargin,e},t}(),i$=function(){var t=function(e,n){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(e,n)};return function(e,n){function i(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(i.prototype=n.prototype,new i)}}(),r$=function(t){function e(e){var n,i,r,o,s,a,l,c,u,h,d,p,f=t.call(this)||this;f._propertyChanged=new sB;var m=e;return f._left=null!==(r=null!==(i=null!==(n=null==m?void 0:m.left)&&void 0!==n?n:null==m?void 0:m.horizontal)&&void 0!==i?i:m)&&void 0!==r?r:0,f._top=null!==(a=null!==(s=null!==(o=null==m?void 0:m.top)&&void 0!==o?o:null==m?void 0:m.vertical)&&void 0!==s?s:m)&&void 0!==a?a:0,f._right=null!==(u=null!==(c=null!==(l=null==m?void 0:m.right)&&void 0!==l?l:null==m?void 0:m.horizontal)&&void 0!==c?c:m)&&void 0!==u?u:0,f._bottom=null!==(p=null!==(d=null!==(h=null==m?void 0:m.bottom)&&void 0!==h?h:null==m?void 0:m.vertical)&&void 0!==d?d:m)&&void 0!==p?p:0,f}return i$(e,t),Object.defineProperty(e.prototype,"left",{get:function(){return this._left},set:function(t){gB(t,this._left)||(this._left=t,this._propertyChanged.notify(this,"left"))},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"top",{get:function(){return this._top},set:function(t){gB(t,this._top)||(this._top=t,this._propertyChanged.notify(this,"top"))},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"right",{get:function(){return this._right},set:function(t){gB(t,this._right)||(this._right=t,this._propertyChanged.notify(this,"right"))},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"bottom",{get:function(){return this._bottom},set:function(t){gB(t,this._bottom)||(this._bottom=t,this._propertyChanged.notify(this,"bottom"))},enumerable:!0,configurable:!0}),e.prototype.clone=function(){return new e({left:this.left,top:this.top,right:this.right,bottom:this.bottom})},Object.defineProperty(e.prototype,"isEmpty",{get:function(){return 0===this._left&&0===this._top&&0===this._right&&0===this._bottom},enumerable:!0,configurable:!0}),e.prototype.equals=function(t){return this.left===t.left&&this.top===t.top&&this.right===t.right&&this.bottom===t.bottom},e.prototype.getSimplifiedObject=function(){return{left:this.left,top:this.top,right:this.right,bottom:this.bottom}},e.prototype.addPropertyChanged=function(t){this._propertyChanged.add(t)},e.prototype.removePropertyChanged=function(t){this._propertyChanged.remove(t)},e}(zH);!function(t){t[t.Trim=0]="Trim",t[t.Bleed=1]="Bleed",t[t.Total=2]="Total"}(e$||(e$={}));var o$,s$=function(){var t=function(e,n){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(e,n)};return function(e,n){function i(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(i.prototype=n.prototype,new i)}}(),a$=function(t){function e(e,n,i){var r=t.call(this)||this;return r.parentSurface=null,r._safetyLines=new JH,r._cropMarks=new JH,r._onBoundsPropertyChanged=function(t,e){r._propertyChanged.notify(r,"bounds")},r._onBleedPropertyChanged=function(t,e){r._validateMargin(r.bleed,"bleed"),r._propertyChanged.notify(r,"bleed")},r._onSlugPropertyChanged=function(t,e){r._validateMargin(r.slug,"slug"),r._propertyChanged.notify(r,"slug")},r._validateMargin(n,"bleed"),r._validateMargin(i,"slug"),r._bounds=null!=e?e:new aB,r.bleed=null!=n?n:new r$,r.slug=null!=i?i:new r$,r}return s$(e,t),Object.defineProperty(e.prototype,"bounds",{get:function(){return this._bounds},set:function(t){this._bounds.equals(t)||(this._unsubscribeBoundsPropertyChanged(),this._bounds=t,this._subscribeBoundsPropertyChanged(),this._propertyChanged.notify(this,"bounds"))},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"safetyLines",{get:function(){return this._safetyLines},set:function(t){this._safetyLines!==t&&(this._safetyLines=t,this._propertyChanged.notify(this,"safetyLines"))},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"cropMarks",{get:function(){return this._cropMarks},set:function(t){this._cropMarks!==t&&(this._cropMarks=t,this._propertyChanged.notify(this,"cropMarks"))},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"bleed",{get:function(){return this._bleed},set:function(t){TB(t,this._bleed)||(this._validateMargin(t,"bleed"),this._unsubscribeBleedPropertyChanged(),this._bleed=t,this._subscribeBleedPropertyChanged(),this._propertyChanged.notify(this,"bleed"))},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"slug",{get:function(){return this._slug},set:function(t){TB(t,this._slug)||(this._validateMargin(t,"slug"),this._unsubscribeSlugPropertyChanged(),this._slug=t,this._subscribeSlugPropertyChanged(),this._propertyChanged.notify(this,"slug"))},enumerable:!0,configurable:!0}),e.prototype.getBounds=function(t){switch(t){case e$.Bleed:return this.bounds.getShrinked(this.bleed);case e$.Total:return this.bounds.getShrinked(new r$({left:this.bleed.left+this.slug.left,top:this.bleed.top+this.slug.top,right:this.bleed.right+this.slug.right,bottom:this.bleed.bottom+this.slug.bottom}));default:return this.bounds.clone()}},e.prototype._subscribeBoundsPropertyChanged=function(){null!=this._bounds&&this._bounds.addPropertyChanged(this._onBoundsPropertyChanged)},e.prototype._unsubscribeBoundsPropertyChanged=function(){null!=this._bounds&&this._bounds.removePropertyChanged(this._onBoundsPropertyChanged)},e.prototype._subscribeBleedPropertyChanged=function(){null!=this._bleed&&this._bleed.addPropertyChanged(this._onBleedPropertyChanged)},e.prototype._unsubscribeBleedPropertyChanged=function(){null!=this._bleed&&this._bleed.removePropertyChanged(this._onBleedPropertyChanged)},e.prototype._subscribeSlugPropertyChanged=function(){null!=this._slug&&this._slug.addPropertyChanged(this._onSlugPropertyChanged)},e.prototype._unsubscribeSlugPropertyChanged=function(){null!=this._slug&&this._slug.removePropertyChanged(this._onSlugPropertyChanged)},e.prototype._validateMargin=function(t,e){if(null!=t&&(t.left<0||t.top<0||t.right<0||t.bottom<0))throw new XR("PrintArea.ts: "+e+" margin members cannot be negative!")},e.prototype.getSimplifiedObject=function(){return t.prototype.getSimplifiedObject.call(this,["parentSurface","boundsWithMargins","boundsWithBleed"])},e.prototype._copy=function(e,n,i){var r,o;t.prototype._copy.call(this,e,n,i),n.bounds=null!=e.bounds?e.bounds.clone():null,n.safetyLines.addRange(e.safetyLines.toArray().map((function(t){return t.clone()}))),n.cropMarks.addRange(e.cropMarks.toArray().map((function(t){return t.clone()}))),n.bleed=null===(r=e.bleed)||void 0===r?void 0:r.clone(),n.slug=null===(o=e.slug)||void 0===o?void 0:o.clone()},e.prototype.clone=function(t){void 0===t&&(t=!1);var n=new e;return this._copy(this,n,t),n},e.prototype.generateNewIds=function(){this._generateNewId()},e}(zH),l$=function(){var t=function(e,n){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(e,n)};return function(e,n){function i(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(i.prototype=n.prototype,new i)}}(),c$=function(t){function e(e,n){void 0===e&&(e=[]),void 0===n&&(n=[]);var i=t.call(this)||this;return i.parentSurface=null,i._underContainers=new JH,i._overContainers=new JH,i._onContainerAdded=function(t){t.item.parentComponent=i},i.underContainers.add_itemAdded(i._onContainerAdded),i.underContainers.setRange(e),i.overContainers.add_itemAdded(i._onContainerAdded),i.overContainers.setRange(n),i}return l$(e,t),e.prototype.isEmpty=function(){return this.underContainers.concat(this.overContainers).all((function(t){return t.items.empty}))},Object.defineProperty(e.prototype,"underContainers",{get:function(){return this._underContainers},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"overContainers",{get:function(){return this._overContainers},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"allContainers",{get:function(){return this._overContainers.concat(this._underContainers)},enumerable:!0,configurable:!0}),e.prototype.getSimplifiedObject=function(){return t.prototype.getSimplifiedObject.call(this,["parentSurface","allContainers"])},e.prototype._copy=function(e,n,i){t.prototype._copy.call(this,e,n,i),n.underContainers.addRange(e.underContainers.toArray().map((function(t){return t.clone(i)}))),n.overContainers.addRange(e.overContainers.toArray().map((function(t){return t.clone(i)})))},e.prototype.clone=function(t){void 0===t&&(t=!1);var n=new e;return this._copy(this,n,t),n},e.prototype.generateNewIds=function(){this._generateNewId(),this._underContainers.forEach((function(t){return t.generateNewIds()})),this._overContainers.forEach((function(t){return t.generateNewIds()}))},e}(zH),u$=function(){var t=function(e,n){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(e,n)};return function(e,n){function i(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(i.prototype=n.prototype,new i)}}(),h$=function(t){var e="function"==typeof Symbol&&Symbol.iterator,n=e&&t[e],i=0;if(n)return n.call(t);if(t&&"number"==typeof t.length)return{next:function(){return t&&i>=t.length&&(t=void 0),{value:t&&t[i++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")},d$=function(t){function e(e,n,i,r,o,s,a){void 0===r&&(r=[]);var l=t.call(this,o,s)||this;if(l._rotateAngle=0,l._mockup=new c$,l._printAreas=new JH,l._previewMockups=new JH,l._printAreasCollectionChangedEvent=new sB,l._printAreaAddedEvent=new sB,l._printAreaRemovedEvent=new sB,l._onContainersItemAdded=function(t){t.item.parentComponent=l},l._onContainersItemRemoved=function(t){t.item.parentComponent=null},l.watermark=null,l._containers=new JH,l._onPrintAreaAdded=function(t){var e=t.item;e.parentSurface=l,l._printAreaAddedEvent.notify(l,e)},l._onPrintAreaRemoved=function(t){var e=t.item;e.parentSurface=null,l._printAreaRemovedEvent.notify(l,e)},l.width=null!=e?e:100,l.height=null!=n?n:100,l.parentProduct=null,l.mockup=null!=i?i:new c$,l.printAreas.add_itemAdded(l._onPrintAreaAdded),l.printAreas.add_itemRemoved(l._onPrintAreaRemoved),l.printAreas.setRange(r),l._containers.add_itemAdded(l._onContainersItemAdded),l._containers.add_itemRemoved(l._onContainersItemRemoved),a){var c=new iV;c.name=P$.BG_CONTAINER_NAME,l.containers.push(c);var u=new iV;u.name=P$.MAIN_CONTAINER_NAME,l.containers.push(u);var h=new iV;h.name=P$.FG_CONTAINER_NAME,l.containers.push(h)}return l}return u$(e,t),Object.defineProperty(e.prototype,"rotateAngle",{get:function(){return this._rotateAngle},set:function(t){var e=cB(t);e!==this._rotateAngle&&(this._rotateAngle=e,this._propertyChanged.notify(this,"rotateAngle"))},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"width",{get:function(){return this._width},set:function(t){t!==this._width&&(this._width=t,this._propertyChanged.notify(this,"width"))},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"height",{get:function(){return this._height},set:function(t){t!==this._height&&(this._height=t,this._propertyChanged.notify(this,"height"))},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"mockup",{get:function(){return this._mockup},set:function(t){if(null==t)throw new XR("mockup can`t be null");t!==this._mockup&&(this._mockup=t,null!=this._mockup&&(this._mockup.parentSurface=this),this._propertyChanged.notify(this,"mockup"))},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"previewMockups",{get:function(){return this._previewMockups},set:function(t){var e,n;if(null!=this._previewMockups)try{for(var i=h$(this._previewMockups),r=i.next();!r.done;r=i.next())r.value.parentSurface=null}catch(s){e={error:s}}finally{try{r&&!r.done&&(n=i.return)&&n.call(i)}finally{if(e)throw e.error}}if(this._previewMockups=t,null!=this._previewMockups)for(var o=0;o<this._previewMockups.length;++o)this._previewMockups.get(o).parentSurface=this},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"containers",{get:function(){return this._containers},set:function(t){if(null!=t&&t!==this._containers){null!=this._containers&&(this._containers.clear(),this._containers.remove_itemAdded(this._onContainersItemAdded),this._containers.remove_itemRemoved(this._onContainersItemRemoved)),this._containers=t;for(var e=0;e<this._containers.length;e++)this._onContainersItemAdded({index:e,item:this._containers.get(e)});this._containers.add_itemAdded(this._onContainersItemAdded),this._containers.add_itemRemoved(this._onContainersItemRemoved)}},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"printAreas",{get:function(){return this._printAreas},set:function(t){var e,n;if(null!=t&&t!==this._printAreas){null!=this._printAreas&&(this._printAreas.clear(),this._printAreas.remove_itemAdded(this._onPrintAreaAdded),this._printAreas.remove_itemRemoved(this._onPrintAreaRemoved)),this._printAreas=t;try{for(var i=h$(this._printAreas),r=i.next();!r.done;r=i.next())this._onPrintAreaAdded({item:r.value})}catch(o){e={error:o}}finally{try{r&&!r.done&&(n=i.return)&&n.call(i)}finally{if(e)throw e.error}}this._printAreas.add_itemAdded(this._onPrintAreaAdded),this._printAreas.add_itemRemoved(this._onPrintAreaRemoved)}},enumerable:!0,configurable:!0}),e.prototype.add_printAreaAdded=function(t){this._printAreaAddedEvent.add(t)},e.prototype.remove_printAreaAdded=function(t){this._printAreaAddedEvent.remove(t)},e.prototype.add_printAreaRemoved=function(t){this._printAreaRemovedEvent.add(t)},e.prototype.remove_printAreaRemoved=function(t){this._printAreaRemovedEvent.remove(t)},e.prototype.getSimplifiedObject=function(){return t.prototype.getSimplifiedObject.call(this,["parentProduct","nonChannelContainerItems"])},e.prototype.getAllItems=function(t){void 0===t&&(t={ignoreMockups:!1});var e=t.ignoreMockups?this.containers:GH.empty().concat(this.mockup.underContainers.cast(),this.containers,this.mockup.overContainers.cast());null!=t.containerFilterFunc&&(e=e.where(t.containerFilterFunc));var n=e.selectMany((function(t){return t.items.cast()}));return(t.flatGroupItems||t.includePlaceholderContents)&&(n=n.aggregate(new JH,(function(e,n){return n instanceof RU?(e.addRange(n.getNestedItems()),t.excludeGroupItems||e.add(n)):e.add(n),t.includePlaceholderContents&&n instanceof qW&&(null!=n.content&&e.add(n.content),n.topFrames.concat(n.bottomFrames).forEach((function(t){return e.add(t)}))),e}))),n},e.getItems=function(t,e){return t instanceof Array&&(t=GH.from(t)),t.selectMany((function(t){return t.getAllItems(e)})).toArray()},e.prototype.getBackgroundItem=function(){var t=this.containers.firstOrDefault((function(t){return t.name===P$.BG_CONTAINER_NAME}));return null!=t?t.items.get(0):null},e.prototype._copy=function(e,n,i){t.prototype._copy.call(this,e,n,i),n.width=e.width,n.height=e.height,n.rotateAngle=e.rotateAngle,n.mockup=e.mockup.clone(i),n.previewMockups.addRange(e.previewMockups.toArray().map((function(t){return t.clone(i)}))),n.printAreas.addRange(e.printAreas.toArray().map((function(t){return t.clone(i)}))),n.containers.addRange(e.containers.toArray().map((function(t){return t.clone(i)}))),n.watermark=null!=e.watermark?e.watermark.clone():null},e.prototype.clone=function(t){void 0===t&&(t=!1);var n=new e;return this._copy(this,n,t),n},e.prototype.generateNewIds=function(){this._generateNewId(),this._mockup.generateNewIds(),this._previewMockups.forEach((function(t){return t.generateNewIds()})),this._printAreas.forEach((function(t){return t.generateNewIds()})),this._containers.forEach((function(t){return t.generateNewIds()}))},e.getAllItems=function(t,e){return void 0===e&&(e={ignoreMockups:!1}),t instanceof Array&&(t=GH.from(t)),t.selectMany((function(t){return t.getAllItems(e)}))},Object.defineProperty(e.prototype,"nonChannelContainerItems",{get:function(){return JR.flatten(this._containers.toArray().filter((function(t){return t.renderingType===ZH.Normal})).map((function(t){return t.items.toArray()})))},enumerable:!0,configurable:!0}),e}(zH);!function(t){t[t.Point=0]="Point",t[t.Percent=1]="Percent",t[t.Pixel=2]="Pixel"}(o$||(o$={}));var p$,f$=function(){function t(t,e){this._rectangle=t,this._dpi=e}return t.prototype.convert=function(t){if(-1===t.indexOf("/"))return this._normalize(this._combineRadiuses(this._getRadiuses(t,!0),this._getRadiuses(t,!1)));var e=t.split("/");return this._normalize(this._combineRadiuses(this._getRadiuses(e[0].trim(),!0),this._getRadiuses(e[1].trim(),!1)))},t.prototype._normalize=function(t){if(null==t)return t;var e=t,n=(e[0].width+e[1].width)/this._rectangle.width,i=(e[2].width+e[3].width)/this._rectangle.width,r=(e[0].height+e[3].height)/this._rectangle.height,o=(e[1].height+e[2].height)/this._rectangle.height;return n>1&&(e[0].width=e[0].width/n,e[1].width=e[1].width/n),i>1&&(e[2].width=e[2].width/i,e[3].width=e[3].width/i),o>1&&(e[1].height=e[1].height/o,e[2].height=e[2].height/o),r>1&&(e[3].height=e[3].height/r,e[0].height=e[0].height/r),t},t.prototype._combineRadiuses=function(t,e){return null==t||4!==t.length||null==e||4!==e.length?null:[new xB(t[0],e[0]),new xB(t[1],e[1]),new xB(t[2],e[2]),new xB(t[3],e[3])]},t.prototype._getRadiuses=function(t,e){if(null==t)return null;var n=t.split(" ").filter((function(t){return null!=t&&t.length>0}));if(n.length<1)return null;if(n.length>4)return null;for(var i=[],r=0;r<n.length;r++){var o=this._tryParseNumberPart(n[r]);if(null==o)return null;i.push(this._toPoints(o,e))}switch(i.length){case 1:return[i[0],i[0],i[0],i[0]];case 2:return[i[0],i[1],i[0],i[1]];case 3:return[i[0],i[1],i[2],i[1]];default:return i}},t.prototype._tryParseNumberPart=function(t){if(t.endsWith("%")){var e=parseFloat(t);return NaN!==e?{value:e,measureType:o$.Percent}:null}if(t.toLowerCase().endsWith("px")){var n=parseFloat(t);return NaN!==n?{value:n,measureType:o$.Pixel}:null}var i=parseFloat(t);return isNaN(i)?null:{value:i,measureType:o$.Point}},t.prototype._toPoints=function(t,e){switch(t.measureType){case o$.Percent:return(e?this._rectangle.width:this._rectangle.height)*t.value/100;case o$.Pixel:return rW(t.value,this._dpi);default:return t.value}},t}();!function(t){t.Crop="Crop",t.Trim="Trim",t.Bleed="Bleed"}(p$||(p$={}));var m$=function(){function t(t){this._propertyChanged=new sB,this._name="bleed",this._widthPx=1,this._color=new VB({r:255,g:255,b:255,a:255}),this._altColor=new VB({r:0,g:0,b:0,a:255}),this._stepPx=10,this._margin=new r$(10),this._borderRadius=null,this._pdfBox=null,null!=t&&Object.assign(this,t)}return Object.defineProperty(t.prototype,"name",{get:function(){return this._name},set:function(t){this._name!==t&&(this._name=t,this._propertyChanged.notify(this,"name"))},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"widthPx",{get:function(){return this._widthPx},set:function(t){gB(this._widthPx,t)||(this._widthPx=t,this._propertyChanged.notify(this,"widthPx"))},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"color",{get:function(){return this._color},set:function(t){zB.equals(this._color,t)||(this._color=t,this._propertyChanged.notify(this,"color"))},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"altColor",{get:function(){return this._altColor},set:function(t){zB.equals(this._altColor,t)||(this._altColor=t,this._propertyChanged.notify(this,"altColor"))},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"margin",{get:function(){return this._margin},set:function(t){"number"==typeof t&&(t=new r$(t)),this._margin=t,this._propertyChanged.notify(this,"margin")},enumerable:!0,configurable:!0}),t.prototype.getMargin=function(){return this._margin},Object.defineProperty(t.prototype,"stepPx",{get:function(){return this._stepPx},set:function(t){gB(this._stepPx,t)||(this._stepPx=t,this._propertyChanged.notify(this,"stepPx"))},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"borderRadius",{get:function(){return this._borderRadius},set:function(t){this._borderRadius!==t&&(this._borderRadius=t,this._propertyChanged.notify(this,"borderRadius"))},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"pdfBox",{get:function(){return this._pdfBox},set:function(t){this._pdfBox!==t&&(this._pdfBox=t,this._propertyChanged.notify(this,"pdfBox"))},enumerable:!0,configurable:!0}),t.prototype.getRectangle=function(t){var e=this.getMargin();return aB.FromLTRB(t.left+e.left,t.top+e.top,t.right-e.right,t.bottom-e.bottom)},t.prototype.getCornerRadiuses=function(t){return null==this.borderRadius?null:new f$(this.getRectangle(t),72).convert(this.borderRadius)},t.prototype.addPropertyChanged=function(t){this._propertyChanged.add(t)},t.prototype.removePropertyChanged=function(t){this._propertyChanged.remove(t)},t.prototype.clone=function(){var e,n=new t;return n.name=this.name,n.widthPx=this.widthPx,n.color=this.color.clone(),n.altColor=this.altColor.clone(),n.stepPx=this.stepPx,n.borderRadius=this.borderRadius,n.pdfBox=this.pdfBox,n.margin=null===(e=this._margin)||void 0===e?void 0:e.clone(),n},t.voPrefix="$SAFETY_LINE",t}(),g$=function(){function t(){this._vectorMask=null,this._maskChangedEvent=new rB}return Object.defineProperty(t.prototype,"vectorMask",{get:function(){return this._vectorMask},set:function(t){this._vectorMask=t,this._maskChangedEvent.notify(this)},enumerable:!0,configurable:!0}),t.prototype.addMaskChanged=function(t){this._maskChangedEvent.add(t)},t.prototype.removeMaskChanged=function(t){this._maskChangedEvent.remove(t)},t.prototype.clone=function(){var e=new t;return e.vectorMask=null!=this.vectorMask?this.vectorMask.clone():null,e},t.prototype.equals=function(t){return TB(this.vectorMask,t.vectorMask)},t.prototype.getSimplifiedObject=function(){var t={};return t.vectorMask=null!=this.vectorMask?this.vectorMask.toString():null,t},t}(),y$=function(){function t(){}return t.prototype.clone=function(){var e=new t;return e.name=this.name,e.storageId=this.storageId,e.staticStorageId=this.staticStorageId,e.repeat=this.repeat,e.opacity=this.opacity,e},t}(),_$=function(){function t(){}return t.prototype.clone=function(){var e=new t;return e.text=this.text,e.fontSettings=null!=this.fontSettings?this.fontSettings.clone():null,e.scale=this.scale,e.opacity=this.opacity,e},t}(),v$=function(){function t(){}return t.prototype.clone=function(){var e=new t;return e.canvas=this.canvas,e.proof=this.proof,e},t}(),b$=function(){function t(){}return t.prototype.clone=function(){var e=new t;return e.text=null!=this.text?this.text.clone():null,e.image=null!=this.image?this.image.clone():null,e.visibility=null!=this.visibility?this.visibility.clone():null,e},t}(),w$=function(t,e){var n="function"==typeof Symbol&&t[Symbol.iterator];if(!n)return t;var i,r,o=n.call(t),s=[];try{for(;(void 0===e||e-- >0)&&!(i=o.next()).done;)s.push(i.value)}catch(a){r={error:a}}finally{try{i&&!i.done&&(n=o.return)&&n.call(o)}finally{if(r)throw r.error}}return s},C$=function(){for(var t=[],e=0;e<arguments.length;e++)t=t.concat(w$(arguments[e]));return t},x$=function(){function t(t){var e=this;this.parseSurface=function(t){var n=new d$;return e._parseModelComponent(t,n,[new E$("mockup",e.parseMockup.bind(e)),new E$("printAreas",(function(t){return e.parseCollection(t,e.parsePrintArea,n.printAreas)}),!0),new E$("containers",(function(t){return e.parseCollection(t,e.parseSurfaceContainer,n.containers)}),!0),new E$("previewMockups",(function(t){return e.parseCollection(t,e.parseMockup.bind(e),n.previewMockups)}),!0),new E$("watermark",e.parseWatermark.bind(e))]),n},this.parseMockupContainer=function(t){var n=new nV;return e.parseContainer(t,n),n},this.parseSurfaceContainer=function(t){var n,i=t.type;switch(delete t.type,i){case"SpotColorContainer":n=new rV,e.parseContainer(t,n),delete t.version,delete t.items,Object.assign(n,t);break;case"TextureContainer":n=new oV,e.parseContainer(t,n),n.previewTextureSource=e.parseImageSource(t.previewTextureSource),delete t.previewTextureSource,delete t.version,delete t.items,Object.assign(n,t);break;default:n=new iV,e.parseContainer(t,n)}return n},this.parseContainer=function(t,n){return void 0===n&&(n=new eV),e._parseModelComponent(t,n,[new E$("region",e.parseRectangleF.bind(e)),new E$("size",e.parseSizeF.bind(e)),new E$("items",(function(t){return e.parseCollection(t,e.parseItem,n.items)}),!0)]),n},this.parseSafetyLine=function(t){var n=new m$,i=[new E$("color",e.parseColor.bind(e)),new E$("altColor",e.parseColor.bind(e)),new E$("margin",e._parseMargin)];return e._parseObject(t,n,i),n},this.parseCropMark=function(t){var n=new t$,i=[new E$("color",e.parseColor.bind(e)),new E$("leftNotes",e._setConvertedArray.bind(e,e.parseCropMarkText,(function(t){n.leftNotes=t})),!0),new E$("rightNotes",e._setConvertedArray.bind(e,e.parseCropMarkText,(function(t){n.rightNotes=t})),!0),new E$("topNotes",e._setConvertedArray.bind(e,e.parseCropMarkText,(function(t){n.topNotes=t})),!0),new E$("bottomNotes",e._setConvertedArray.bind(e,e.parseCropMarkText,(function(t){n.bottomNotes=t})),!0)];return e._parseObject(t,n,i),n},this.parseCropMarkText=function(t){var n=new n$;return e._parseObject(t,n,[]),n},this.parsePrintArea=function(t){var n=new a$;return e._parseModelComponent(t,n,[new E$("bounds",e.parseRectangleF.bind(e)),new E$("safetyLines",(function(t){return e.parseCollection(t,e.parseSafetyLine,n.safetyLines)}),!0),new E$("cropMarks",(function(t){return new JH(t.map(e.parseCropMark))})),new E$("slug",e._parseMargin),new E$("bleed",e._parseMargin)]),n},this._parseMargin=function(t){return new r$(null==t?0:{left:t.left,top:t.top,right:t.right,bottom:t.bottom})},this.parseItem=function(t){if(null==t)return null;var n=t.$type;delete t.$type;var i=[new E$("pathBoundedTextPermissions",e.parsePathBoundedTextPermissions.bind(e)),new E$("manipulationPermissions",e.parseManipulationPermissioins.bind(e)),new E$("frontendPermissions",e.parseFrontendPermissions.bind(e)),new E$("visualizationPermissions",e.parseVisualizationPermissions.bind(e)),new E$("violationSettings",e.parseViolationSettings),new E$("itemPermissions",e.parseItemPermissions.bind(e)),new E$("transform",e.parseTransform.bind(e)),new E$("color",e.parseColor.bind(e)),new E$("themeBinding",e.parseThemeBinding.bind(e)),new E$("mask",e.parseMask.bind(e))],r=null,o=i.concat([new E$("textPermissions",e.parseTextPermissions.bind(e)),new E$("font",e.parseFontSettings.bind(e),!0),new E$("stroke",e.parseStrokeSettings.bind(e)),new E$("shadow",e.parseShadowSettings.bind(e))]);if(null==n)throw new GR("Serialized data seems to be corrupted.");switch(n){case WH.type:r=e.parseSmartItem(t);break;case $V.type:r=e.parseRectangleItem(t,i);break;case UV.type:r=e.parseShapeItem(t,i);break;case KU.type:r=e.parseLineItem(t,i);break;case QU.type:r=e.parseDashedLineItem(t,i);break;case JU.type:r=e.parseEllipseItem(t,i);break;case fW.type:r=e.parseImageItem(t,i);break;case CU.type:r=e.parseBarcodeItem(t,i);break;case KW.type:r=e.parsePlainTextItem(t,o);break;case kU.type:r=e.parseBoundedTextItem(t,o);break;case NW.type:r=e.parsePathBoundedTextItem(t,o);break;case GU.type:r=e.parseCurvedTextItem(t,o);break;case fU.type:r=e.parseAutoScaledTextItem(t,o);break;case JW.type:r=e.parseArchedTextItem(t,o);break;case qW.type:r=e.parsePlaceholderItem(t,i);break;case RU.type:r=e.parseGroupItem(t,i);break;case jU.type:r=e.parseClipartItem(t,i);break;case IW.type:r=e.parseLayoutItem(t,i);break;default:throw new qR("Deserializing of item with type - "+n+" is not implemented")}return r},this.parseEncodingOptions=function(t){var n=new xU;return e._parseModelComponent(t,n,[]),n},this.parseLineItem=function(t,n){var i=new KU,r=C$(n,e._getLineConverters());return e._parseModelComponent(t,i,r),i},this.parseRotatedRectangle=function(t){return new CB(t.centerX,t.centerY,t.width,t.height,t.angle)},this.parseViolationSettings=function(t){switch(delete t.version,t.type){case PV.type:return Object.assign(new PV,t);case zV.type:return Object.assign(new zV,t);case uW.type:return Object.assign(new uW,t);case sU.type:return Object.assign(new sU,t);default:throw new qR("Deserializing of item with type - "+t.type+" is not implemented")}},this.parsePlaceholderPermissions=function(t){return Object.assign(new zW,t)},this.parseLayoutSettings=function(t){var e;switch(t.type){case FW.type:e=new FW;break;default:e=new RW}return Object.assign(e,t)},this.parseGroupItemPermissions=function(t){return Object.assign(new IU,t)},this.parseLinePermissions=function(t){return Object.assign(new qU,t)},this.parseBarcodePermissions=function(t){return Object.assign(new mU,t)},this._parseOverlayEffect=function(t){if(null!=t)return new sW({color:null!=t.color?e.parseColor(t.color):null,opacity:null!=t.opacity?t.opacity:null,blendMode:null!=t.blendMode?t.blendMode:null})},this._parseImageItemValue=function(t){return new fW.ImageItemValue(t.name,new fW.ImageMetaData(t.value),e.parseRotatedRectangle(t.transformedRectangle))},this._parseTextItemValue=function(t){return new uU.BaseTextValue(t.name,t.text)},this._parseObject=function(t,n,i){for(var r in t)if(t.hasOwnProperty(r)){var o=i.find((function(t){return t.property===r})),s=t[r];if(null==o){if(JR.isObject(s)){var a=s.$type;if(delete s.$type,JR.isString(a)){var l=JR.find(e._additionalConverters,(function(t){return t.type===a}));if(null!=l){n[r]=l.parseRawValue(s);continue}console.warn("Unknown type "+a)}}n[r]=s;continue}if(o.setByConverter)try{o.convert(s,n)}catch(c){throw console.error("Error while parsing property "+r+" with converter ",o,c),c}else{if("manipulationPermissions"===r&&n instanceof RU){n.groupManipulationPermissions=o.convert(s);continue}n[r]=o.convert(s)}}},this._additionalConverters=null!=t?t:[]}return t.prototype.parseProduct=function(t){var e=this,n=new k$,i=[new E$("surfaces",(function(t){return e.parseCollection(t,e.parseSurface,n.surfaces)}),!0),new E$("watermarkConfig",this.parseWatermarkConfig.bind(this)),new E$("defaultSafetyLines",(function(t){return e.parseCollection(t,e.parseSafetyLine,n.defaultSafetyLines)}),!0),new E$("defaultCropMarks",(function(t){return e.parseCollection(t,e.parseCropMark,n.defaultCropMarks)}),!0),new E$("defaultDesignLocation",this.parsePointF.bind(this))];return this._parseModelComponent(t,n,i),n},t.prototype.parseWatermarkConfig=function(t){var e=this;if(null==t)return null;var n=new b$,i=new E$("fontSettings",(function(t){if(null==t)return null;var n=new uU.FontSettings(null);return e._parseObject(t,n,[]),n})),r=new E$("text",(function(t){if(null==t)return null;var n=new _$;return e._parseObject(t,n,[i]),n})),o=new E$("image",(function(t){if(null==t)return null;var n=new y$;return e._parseObject(t,n,[]),n})),s=new E$("visibility",(function(t){if(null==t)return null;var n=new v$;return e._parseObject(t,n,[]),n}));return this._parseObject(t,n,[r,o,s]),n},t.prototype.parseWatermark=function(t){if(null==t)return null;var e=new T$;return this._parseObject(t,e,[]),e},t.prototype.parseMockup=function(t){var e=this,n=new c$;return this._parseModelComponent(t,n,[new E$("underContainers",(function(t){return e.parseCollection(t,e.parseMockupContainer,n.underContainers)}),!0),new E$("overContainers",(function(t){return e.parseCollection(t,e.parseMockupContainer,n.overContainers)}),!0)]),n},t.prototype.parseCollection=function(t,e,n){null!=t&&n.setRange(t.map((function(t){return e(t)})))},t.prototype.parseRectangleF=function(t){return null==t?null:new aB(t.left,t.top,t.width,t.height)},t.prototype.parsePointF=function(t){if(null==t)return null;var e=new QL;return Object.assign(e,t),e},t.prototype.parseSizeF=function(t){if(null==t)return null;if(JR.isString(t)){var e=t.split(",");return new xB(parseFloat(e[0].trim()),parseFloat(e[1].trim()))}return JR.extend(new xB,t)},t.prototype.parsePath=function(t){return null==t?null:new bB("string"==typeof t?t:t.path)},t.prototype.parsePaths=function(t){var e=this;if(null==t||!JR.isArray(t))return null;var n=[];return JR.toArray(t).forEach((function(t){n.push(e.parsePath(t))})),n},t.prototype.parseSmartItem=function(t){var e=new WH;return this._parseModelComponent(t,e,[]),e},t.prototype.parsePlainTextItem=function(t,e){var n=new KW,i=e.concat(this._getShapeConverters(),this._getBaseTextItemConverters(n),[new E$("baselineLocation",this.parsePointF.bind(this))]);return this._parseModelComponent(t,n,i),n},t.prototype.parseArchedTextItem=function(t,e){var n=new JW,i=e.concat(this._getShapeConverters(),this._getBaseTextItemConverters(n),[new E$("center",this.parsePointF.bind(this))]);return this._parseModelComponent(t,n,i),n},t.prototype.parseAutoScaledTextItem=function(t,e){var n=new fU,i=e.concat(this._getShapeConverters(),this._getBaseTextItemConverters(n),[new E$("textRectangle",this.parseRectangleF.bind(this))]);return this._parseModelComponent(t,n,i),n},t.prototype.parseBoundedTextItem=function(t,e){var n=new kU,i=e.concat(this._getShapeConverters(),this._getBaseTextItemConverters(n),[new E$("paragraphSettings",this.parseParagraphSettings.bind(this)),new E$("textRectangle",this.parseRectangleF.bind(this)),new E$("wrappingPath",this.parsePath.bind(this))]);return this._parseModelComponent(t,n,i),n},t.prototype.parsePathBoundedTextItem=function(t,e){var n=new NW,i=e.concat(this._getShapeConverters(),this._getBaseTextItemConverters(n),[new E$("pathBoundedTextPermissions",this.parsePathBoundedTextPermissions.bind(this)),new E$("boundingPaths",this.parsePaths.bind(this)),new E$("paragraphSettings",this.parseParagraphSettings.bind(this)),new E$("wrappingPath",this.parsePath.bind(this))]);return this._parseModelComponent(t,n,i),n},t.prototype.parseCurvedTextItem=function(t,e){var n=new GU,i=e.concat(this._getShapeConverters(),this._getBaseTextItemConverters(n),[new E$("textPath",this.parsePath.bind(this))]);return this._parseModelComponent(t,n,i),n},t.prototype._getBaseTextItemConverters=function(t){var e=this;return[new E$("values",this._setConvertedArray.bind(this,this._parseTextItemValue,(function(e){t.values=e})),!0),new E$("placeholders",(function(n){return e.parseCollection(n,e.parseInStringPlaceholder,t.placeholders)}),!0),new E$("colorPalette",(function(n){return e.parseCollection(n,e.parseColor,t.colorPalette)}),!0)]},t.prototype.parseImageItem=function(t,e){var n=new fW,i=e.concat(this._getShapeConverters(),this._getImageConverters(n));return this._parseModelComponent(t,n,i),n},t.prototype.parseBarcodeItem=function(t,e){var n=new CU,i=e.concat(this._getShapeConverters(),this._getImageConverters(n),[new E$("barcodePermissions",this.parseBarcodePermissions.bind(this)),new E$("color",this.parseColor.bind(this)),new E$("barcodeOptions",this.parseEncodingOptions)]);return this._parseModelComponent(t,n,i),n},t.prototype.parsePlaceholderItem=function(t,e){var n=this,i=new qW,r=C$(e,this._getShapeConverters(),[new E$("placeholderPermissions",this.parsePlaceholderPermissions),new E$("contentPermissions",this.parseContentPermissioins.bind(this)),new E$("content",this.parseItem),new E$("topFrames",o),new E$("bottomFrames",o),new E$("stubStorageMeta",(function(t){return new bW(t)})),new E$("contentFillColor",this.parseColor.bind(this)),new E$("contentOverlayEffect",this._parseOverlayEffect.bind(this))]);return this._parseModelComponent(t,i,r),i;function o(t){return t.map(n.parseItem)}},t.prototype.parseGroupItem=function(t,e){var n=new RU,i=C$(e,this._getShapeConverters(),this._getGroupConverters(n));return this._parseModelComponent(t,n,i),n},t.prototype.parseClipartItem=function(t,e){var n=new jU,i=C$(e,this._getShapeConverters(),this._getGroupConverters(n),[new E$("colorGroups",this._setConvertedArray.bind(this,this.parseColorGroup.bind(this),(function(t){return n.colorGroups=t})),!0)]);return this._parseModelComponent(t,n,i),n},t.prototype.parseLayoutItem=function(t,e){var n=new IW,i=C$(e,this._getShapeConverters(),this._getGroupConverters(n),[new E$("layoutSettings",this.parseLayoutSettings),new E$("sourceRectangle",this.parseRotatedRectangle)]);return this._parseModelComponent(t,n,i),n},t.prototype.parseContentPermissioins=function(t,e){var n=new WU;return n.barcodePermissions=this.parseBarcodePermissions(t.barcodePermissions),n.imagePermissions=this.parseImagePermissions(t.imagePermissions),n},t.prototype.parseEllipseItem=function(t,e){var n=new JU,i=e.concat(this._getShapeConverters());return this._parseModelComponent(t,n,i),n},t.prototype.parseRectangleItem=function(t,e){var n=new $V,i=e.concat(this._getShapeConverters());return this._parseModelComponent(t,n,i),n},t.prototype.parseShapeItem=function(t,e){var n=new UV,i=e.concat(this._getShapeConverters());return this._parseModelComponent(t,n,i),n},t.prototype.parseDashedLineItem=function(t,e){var n=new QU,i=C$(e,this._getLineConverters(),this._getDashedLineConverters());return this._parseModelComponent(t,n,i),n},t.prototype.parseThemeBinding=function(t){return null!=t?bV.fromRaw(t):null},t.prototype.parseMask=function(t){if(null==t)return null;var e=new g$;return null!=t.vectorMask&&(e.vectorMask=this.parsePath(t.vectorMask)),e},t.prototype.parseColor=function(t){return null!=t?QB.createColor(t):null},t.prototype.parseTransform=function(t){return new wB(t.scaleX,t.scaleY,t.translateX,t.translateY,t.angle)},t.prototype.parseFontSettings=function(t,e){var n=new uU.FontSettings(null);return Object.assign(n,t),e.font=n,e.font},t.prototype.parseManipulationPermissioins=function(t){var e=Object.assign(new dV,t);return e.resizeGrips=Object.assign(new uV(!1,!1),t.resizeGrips),e},t.prototype.parseFrontendPermissions=function(t){return Object.assign(new _V,t)},t.prototype.parseVisualizationPermissions=function(t){return Object.assign(new pV,t)},t.prototype.parseColorGroup=function(t){return new zU(this.parseColor(t.color),t.targets)},t.prototype.parseItemPermissions=function(t){var e=Object.assign(new yV,t);return e.itemToolbarPermissions=Object.assign(new gV(!1),t.itemToolbarPermissions),e},t.prototype.parseTextPermissions=function(t){return Object.assign(new iU,t)},t.prototype.parsePathBoundedTextPermissions=function(t){return Object.assign(new LW,t)},t.prototype.parseShapePermissions=function(t){return Object.assign(new AV,t)},t.prototype.parseImagePermissions=function(t){return Object.assign(new UU,t)},t.prototype.parseImageSource=function(t){var e=null;return null!=t.origin&&(e=new fW.ImageSource.Origin(t.origin)),void 0!==t.origin&&delete t.origin,Object.assign(new fW.ImageSource(t.id,t.url,0,!1,!0,e),t)},t.prototype.parseParagraphSettings=function(t){return new EU(t)},t.prototype.parseStrokeSettings=function(t){return eU._from_data(t)},t.prototype.parseShadowSettings=function(t){return nU._from_data(t)},t.prototype.parseInStringPlaceholder=function(t){return new xW(t.id,t.name,t.mask,t.value,t.values)},t.prototype._setConvertedArray=function(t,e,n){JR.isArray(n)&&e(JR.map(n,(function(e){return t(e)})))},t.prototype._getImageConverters=function(t){return[new E$("source",this.parseImageSource.bind(this)),new E$("imagePermissions",this.parseImagePermissions.bind(this)),new E$("values",this._setConvertedArray.bind(this,this._parseImageItemValue,(function(e){t.values=e})),!0),new E$("overlayEffect",this._parseOverlayEffect.bind(this))]},t.prototype._getShapeConverters=function(){return[new E$("fillColor",this.parseColor.bind(this)),new E$("borderColor",this.parseColor.bind(this)),new E$("altBorderColor",this.parseColor.bind(this)),new E$("sourceRectangle",this.parseRectangleF.bind(this)),new E$("sourcePath",this.parsePath.bind(this)),new E$("shapePermissions",this.parseShapePermissions.bind(this))]},t.prototype._getGroupConverters=function(t){return[new E$("items",this._setConvertedArray.bind(this,this.parseItem,(function(e){return t.items.addRange(e)})),!0),new E$("groupItemPermissions",this.parseGroupItemPermissions)]},t.prototype._getLineConverters=function(){return[new E$("color",this.parseColor.bind(this)),new E$("sourcePoint0",this.parsePointF.bind(this)),new E$("sourcePoint1",this.parsePointF.bind(this)),new E$("linePermissions",this.parseLinePermissions)]},t.prototype._getDashedLineConverters=function(){return[new E$("altColor",this.parseColor.bind(this))]},t.prototype._parseModelComponent=function(t,e,n){if("6.5.4"!==t.version)throw new GR("Version of serialized model component ("+t.version+") does not match the editor's version (6.5.4).");n=n.concat([new E$("tags",(function(t,e){e._tags=t}),!0),new E$("version",(function(t,e){}),!0)]),this._parseObject(t,e,n)},t}(),E$=function(t,e,n){this.property=t,this.convert=e,this.setByConverter=n||!1},S$=function(){function t(t){this._additionalConverters=JR.isArray(t)?t:[],this.productParser=new x$(t)}return t.prototype.deserialize=function(t){var e=t;return"string"==typeof t&&(e=JSON.parse(t)),JR.isObject(e)?this.productParser.parseProduct(e):null},t.prototype.serialize=function(t,e){return this.serializeModelComponent(t,e)},t.prototype.serializeModelComponent=function(t,e){var n=this;return null==e&&(e=!1),JSON.stringify(t,(function(t,e){if(e instanceof zH)return e.getSimplifiedObject();if(e instanceof zB)return e.getData();if(e instanceof wB)return{scaleX:e.scaleX,scaleY:e.scaleY,translateX:e.translateX,translateY:e.translateY,angle:e.angle};if(e instanceof m$)return{name:e.name,altColor:e.altColor,color:e.color,margin:e.margin,stepPx:e.stepPx,widthPx:e.widthPx,borderRadius:e.borderRadius,pdfBox:e.pdfBox};if(e instanceof xB)return e.width+", "+e.height;if(e instanceof bB)return e.toString();if(e instanceof JH)return e.toArray();if(e instanceof sW)return e.getSimplifiedObject();var i=JR.find(n._additionalConverters,(function(t){return e instanceof t.typeCtor}));return null!=i&&((e=JR.clone(e)).$type=i.type),e}),2)},t}(),P$=function(){function t(){}return t.getProductSerializer=function(){return null!=t.jsonProductSerializerFactory?t.jsonProductSerializerFactory():t._defaultJsonProductSerializerFactory()},t._defaultJsonProductSerializerFactory=function(){return new S$},t.jsonProductSerializerFactory=null,t.MAIN_CONTAINER_NAME="Main",t.BG_CONTAINER_NAME="Background",t.FG_CONTAINER_NAME="Foreground",t.BG_SOLIDCOLOR="solidColor",t.SPINE_AND_FOLDING_CONTAINER_NAME="Spine&Folding",t}(),O$=function(){var t=function(e,n){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(e,n)};return function(e,n){function i(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(i.prototype=n.prototype,new i)}}(),k$=function(t){function e(e){void 0===e&&(e=[]);var n=t.call(this)||this;return n._defaultSafetyLines=new JH,n._defaultCropMarks=new JH,n.defaultDesignLocation=new QL,n._onSurfacesAdd=function(t){t.item.parentProduct=n},n._surfaces=new JH,n.surfaces.add_collectionChanged(n._onSurfacesAdd),n.surfaces.setRange(e),n}return O$(e,t),Object.defineProperty(e.prototype,"surfaces",{get:function(){return this._surfaces},set:function(t){this.surfaces.setRange(t)},enumerable:!0,configurable:!0}),e.prototype.serialize=function(t){return P$.getProductSerializer().serialize(this,t)},Object.defineProperty(e.prototype,"defaultSafetyLines",{get:function(){return this._defaultSafetyLines},set:function(t){this._defaultSafetyLines!==t&&(this._defaultSafetyLines=t,this._propertyChanged.notify(this,"defaultSafetyLines"))},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"defaultCropMarks",{get:function(){return this._defaultCropMarks},set:function(t){this._defaultCropMarks!==t&&(this._defaultCropMarks=t,this._propertyChanged.notify(this,"defaultCropMarks"))},enumerable:!0,configurable:!0}),e.prototype._copy=function(e,n,i){t.prototype._copy.call(this,e,n,i),n.surfaces.addRange(e.surfaces.toArray().map((function(t){return t.clone(i)}))),n.watermarkConfig=null!=e.watermarkConfig?e.watermarkConfig.clone():null,n.defaultCropMarks.addRange(e.defaultCropMarks.toArray().map((function(t){return t.clone()}))),n.defaultSafetyLines.addRange(e.defaultSafetyLines.toArray().map((function(t){return t.clone()}))),n.defaultDesignLocation=e.defaultDesignLocation.clone()},e.prototype.clone=function(t){void 0===t&&(t=!1);var n=new e;return this._copy(this,n,t),n},e.prototype.getAllItems=function(t){return void 0===t&&(t={ignoreMockups:!1}),d$.getItems(this.surfaces,t)},e.prototype.generateNewIds=function(){this._generateNewId(),this._surfaces.forEach((function(t){return t.generateNewIds()}))},e.prototype.getSurface=function(t){var e=this.surfaces.toArray(),n=parseInt(t);return NaN!=n&&n>=0&&e.length>n?e[n]:JR.find(e,(function(e){return e.name===t}))},e}(zH),T$=function(){function t(){}return t.prototype.clone=function(){var e=new t;return e.storageId=this.storageId,e.width=this.width,e.height=this.height,e},t}(),I$=function(t){return t[t.Container=0]="Container",t[t.Text=1]="Text",t[t.Barcode=2]="Barcode",t[t.Image=3]="Image",t[t.Group=4]="Group",t[t.Shape=5]="Shape",t[t.Line=6]="Line",t}({});const A$=t=>!(t instanceof RU||t instanceof iV),M$=t=>t instanceof RU,D$=t=>t instanceof iV,R$=t=>t instanceof qW,F$=(t,e)=>t.items.forEach(t=>M$(t)?F$(t,e):e(t)),L$=t=>D$(t)?I$.Container:t instanceof uU||t instanceof KW||t instanceof GU||t instanceof kU||t instanceof fU||t instanceof NW?I$.Text:t instanceof CU?I$.Barcode:t instanceof fW?I$.Image:t instanceof UV||t instanceof $V||t instanceof JU?I$.Shape:t instanceof KU||t instanceof QW?I$.Line:M$(t)?I$.Group:void 0;class B${static isTextType(t){const{type:e}=t;return e===uU.type||e===KW.type||e===JW.type||e===GU.type||e===kU.type||e===fU.type}static isShapeType(t){const{type:e}=t;return e===UV.type||e===$V.type||e===JU.type}static isGroupType(t){const{type:e}=t;return e===RU.type||e===IW.type}static isPlaceholderType(t){const{type:e}=t;return e===qW.type}static isBarcodeType(t){const{type:e}=t;return e===CU.type}static isImageType(t){const{type:e}=t;return e===fW.type}}class N${constructor(t,e,n){if(this._domain=n,e){const e=t.get(Nv);this.httpClient=new Jv(e)}else this.httpClient=t.get(Jv)}set domain(t){this._domain=t}get domain(){return this._domain}static formUrlEncoded(t){const e=new URLSearchParams;return Object.keys(t).forEach(n=>{null!=t[n]&&e.set(n,t[n])}),e.toString()}static getStringUrlParams(t){const e=N$.formUrlEncoded(t);return e?`?${e}`:""}getUrl(t){return`${this._domain}/${t}`}post(t,e,n){return vR(this,void 0,void 0,(function*(){return this.httpClient.post(this.getUrl(t),e,{headers:n}).toPromise()}))}get(t,e,n){return vR(this,void 0,void 0,(function*(){return this.httpClient.get(this.getUrl(t),{headers:e,responseType:n?"arraybuffer":"json"}).toPromise()}))}put(t,e,n){return vR(this,void 0,void 0,(function*(){return this.httpClient.put(this.getUrl(t),e,{headers:n}).toPromise()}))}delete(t,e,n){return vR(this,void 0,void 0,(function*(){return this.httpClient.delete(this.getUrl(t),{headers:n}).toPromise()}))}readFileFromBinary(t){return vR(this,void 0,void 0,(function*(){return new Promise((e,n)=>{const i=new Blob([new Uint8Array(t)]),r=new FileReader;r.readAsDataURL(i),r.addEventListener("loadend",t=>{e(t.target.result)}),r.addEventListener("abort",t=>n(t))})}))}}var j$=n("woRb");let z$=(()=>{class t extends N${constructor(t,e){super(t,!1),this._store=e,this._fonts=[],this._families=[],this._familiesList=new mb([]),this._families$=new mb([]),e.pipe(cw(t=>t.templateEditor.configuration),Vy(t=>!!t.api)).subscribe(t=>{this._defaultFont=t.ui.fonts.default,this._fonts=t.ui.fonts.fonts,this.domain=t.api.assetStorageApiUrl}),this._store.pipe(cw(t=>t.templateEditor.fonts),Vy(t=>!!t.length)).subscribe(t=>{this._families=t,this._families$.next(t);const e=this.createFontList(t);this._familiesList.next(e)})}get defaultFont(){return this._defaultFont||this._fonts[0]}get $familiesList(){return this._familiesList.asObservable()}get $families(){return this._families$.asObservable()}findFontFamily(t){return this._families.find(e=>e.belongMe(t))}getFamily(t){return this._families.find(e=>e.family===t)}updateDefault(t){this._defaultFont=t}setDefaultFont(t){this.defaultFont&&(t.font.style=this._defaultFont.metadata.style,t.font.family=this._defaultFont.metadata.family,t.font.postScriptName=this._defaultFont.metadata.postscriptName,t.text=t.text.replace(/font-name:.*;/,`font-name:${this.defaultFont.metadata.postscriptName};`))}fixMissingFonts(t,e,n){if(!M$(t)&&!(t=>t instanceof uU)(t))return;n&&n.length||(n=this._fonts);const i=n.map(t=>new NH(t)),r=t;var o;M$(t)?t.items.forEach(t=>this.fixMissingFonts(t,e,n)):r.font.postScriptName&&(o=r.font.postScriptName,-1!==i.findIndex(({normalizePostScriptName:t})=>t===o.toLowerCase()))||(e({item:t,oldFont:{style:r.font.style,family:r.font.family,postscriptName:r.font.postScriptName}}),this.setDefaultFont(r))}getFonts(){return vR(this,void 0,void 0,(function*(){const t=this.getUrl(`api/storage/v1/fonts${mu.production?"":`?tenantId=${mu.tenantId}`}`);try{return(yield this.httpClient.get(t).toPromise()).items}catch(e){return console.warn(e),[]}}))}handleFonts(t){const e=t.map(t=>new NH(t)),n=new Map;e.forEach(t=>{Object(j$.maybe)(n.get(t.family)).do({just:e=>e.addStyle(t),nothing:()=>{const e=new BH(t.family);e.addStyle(t),n.set(t.family,e)}})});const i=[];return n.forEach(t=>i.push(t)),i}createFontList(t){return t.map(t=>t.toListItem()).sort((t,e)=>{const n=t.viewValue.toLowerCase(),i=e.viewValue.toLowerCase();return n<i?-1:n>i?1:0})}defaultFontFamilyStyle(t,e){const n=this._families.find(e=>e.family===t);if(e){const t=n.findStyle(e);if(t)return t}return n.findStyle("Regular")||n.styles[0]}}return t.\u0275fac=function(e){return new(e||t)(Kt(us),Kt(aw))},t.\u0275prov=ht({token:t,factory:t.\u0275fac,providedIn:"root"}),t})();var H$=function(t){return t.Rename="SurfaceRename",t.Duplicate="SurfaceDuplicate",t.Delete="SurfaceDelete",t.New="SurfaceNew",t}({}),V$=function(t){return t.S_DUPLICATE="S_DUPLICATE",t.S_COMMON="S_COMMON",t}({});const U$=[{key:V$.S_DUPLICATE,items:[{name:"DUPLICATE_ACTION",action:H$.Duplicate}]},{key:V$.S_COMMON,items:[{name:"RENAME_ACTION",action:H$.Rename},{name:"DELETE_ACTION",action:H$.Delete},{name:"NEW_PAGE_ACTION",action:H$.New}]}];var W$=n("GyMh"),$$=function(t){return t.Duplicate="Duplicate",t.Rename="Rename",t.GroupSelection="GroupSelection",t.Ungroup="Ungroup",t.Arrange="Arrange",t.BringToFront="BringToFront",t.BringToForward="BringToForward",t.SendBackward="SendBackward",t.SendBack="SendBack",t.ShowAndHide="ShowAndHide",t.LockAndUnlock="LockAndUnlock",t.Delete="Delete",t}({}),G$=function(t){return t.MoveToPage="MoveToPage",t.MoveToPagePayload="MoveToPagePayload",t.MoveToLayer="MoveToLayer",t.MoveToLayerPayload="MoveToLayerPayload",t}({}),q$=function(t){return t.Align="Align",t.AlignToLeft="AlignToLeft",t.AlignCenter="AlignCenter",t.AlignRight="AlignRight",t.AlignToTop="AlignToTop",t.AlignToMiddle="AlignToMiddle",t.AlignToBottom="AlignToBottom",t}({}),X$=function(t){return t.Cut="Cut",t.Copy="Copy",t.Paste="Paste",t}({});const K$={action:G$.MoveToPage,name:"MOVE_TO_PAGE_ACTION"},Y$={action:G$.MoveToLayer,name:"MOVE_TO_LAYER_ACTION"},Q$={action:X$.Cut,name:"CUT_ACTION",hotkey:{keys:[[W$.Key.Ctrl,W$.Key.X]],label:"Ctrl + X"}},Z$={action:X$.Copy,name:"COPY_ACTION",hotkey:{keys:[[W$.Key.Ctrl,W$.Key.C]],label:"Ctrl + C"}},J$={action:X$.Paste,name:"PASTE_ACTION",hotkey:{keys:[[W$.Key.Ctrl,W$.Key.V]],label:"Ctrl + V"}},tG={action:$$.Duplicate,name:"DUPLICATE_ACTION",hotkey:{keys:[[W$.Key.Ctrl,W$.Key.D]],label:"Ctrl + D"}},eG={action:$$.Rename,name:"RENAME_ACTION",hotkey:{keys:[[W$.Key.Ctrl,W$.Key.R]],label:"Ctrl + R"}},nG={action:$$.GroupSelection,name:"GROUP_SELECTION_ACTION",hotkey:{keys:[[W$.Key.Ctrl,W$.Key.G]],label:"Ctrl + G"}},iG={action:$$.Ungroup,name:"UNGROUP_ACTION",hotkey:{keys:[[W$.Key.Ctrl,W$.Key.Shift,W$.Key.G]],label:"Ctrl + Shift + G"}},rG={action:$$.BringToFront,name:"BRING_TO_FONT_ACTION",hotkey:{keys:[[W$.Key.Ctrl,W$.Key.Shift,W$.Key.ClosedBracket]],label:"Ctrl + Shift + ]"}},oG={action:$$.BringToForward,name:"BRING_FORWARD_ACTION",hotkey:{keys:[[W$.Key.Ctrl,W$.Key.ClosedBracket]],label:"Ctrl + ]"}},sG={action:$$.SendBackward,name:"SEND_BACKWARD_ACTION",hotkey:{keys:[[W$.Key.Ctrl,W$.Key.OpenBracket]],label:"Ctrl + ["}},aG={action:$$.SendBack,name:"SEND_BACK_ACTION",hotkey:{keys:[[W$.Key.Ctrl,W$.Key.Shift,W$.Key.OpenBracket]],label:"Ctrl + Shift + ["}},lG={action:q$.AlignToLeft,name:"ALIGN_TO_LEFT_ACTION",hotkey:{keys:[[W$.Key.Alt,W$.Key.A]],label:"Alt + A"}},cG={action:q$.AlignCenter,name:"ALIGN_TO_CENTER_ACTION",hotkey:{keys:[[W$.Key.Alt,W$.Key.C]],label:"Alt + C"}},uG={action:q$.AlignRight,name:"ALIGN_TO_RIGHT_ACTION",hotkey:{keys:[[W$.Key.Alt,W$.Key.D]],label:"Alt + D"}},hG={action:q$.AlignToTop,name:"ALIGN_TO_TOP_ACTION",hotkey:{keys:[[W$.Key.Alt,W$.Key.W]],label:"Alt + W"}},dG={action:q$.AlignToMiddle,name:"ALIGN_TO_MIDDLE_ACTION",hotkey:{keys:[[W$.Key.Alt,W$.Key.M]],label:"Alt + M"}},pG={action:q$.AlignToBottom,name:"ALIGN_TO_BOTTOM_ACTION",hotkey:{keys:[[W$.Key.Alt,W$.Key.S]],label:"Alt + S"}},fG={action:$$.ShowAndHide,name:"SHOW_AND_HIDE_ACTION",hotkey:{keys:[[W$.Key.Ctrl,W$.Key.Shift,W$.Key.H]],label:"Ctrl + Shift + H"}},mG={action:$$.LockAndUnlock,name:"LOCK_AND_UNLOCK_ACTION",hotkey:{keys:[[W$.Key.Ctrl,W$.Key.Shift,W$.Key.L]],label:"Ctrl + Shift + L"}},gG={action:$$.Delete,name:"DELETE_ACTION",hotkey:{keys:[[W$.Key.Delete]],label:"Del"}};var yG=function(t){return t.S_MOVE="S_MOVE",t.S_OBJECT="S_OBJECT",t.S_BIAS="S_BIAS",t.S_ARRANGE="S_ARRANGE",t.S_ALIGN_X="S_ALIGN_X",t.S_ALIGN_Y="S_ALIGN_Y",t.S_BUFFER="S_BUFFER",t.S_BEHAVIOR="S_BEHAVIOR",t.S_DELETE="S_DELETE",t.S_MOVE_TO_PAGE="S_MOVE_TO_PAGE",t.S_MOVE_TO_LAYER="S_MOVE_TO_LAYER",t.S_LAYERS_MOVE="S_LAYERS_MOVE",t.S_LAYERS_RENAME="S_LAYERS_RENAME",t.S_PAGES="S_PAGES",t}({});const _G={key:yG.S_BEHAVIOR,items:[fG,mG]},vG={key:yG.S_DELETE,items:[gG]},bG=[{key:yG.S_MOVE,items:[K$,Y$]},{key:yG.S_BUFFER,items:[Q$,Z$,J$,tG]},{key:yG.S_OBJECT,items:[eG,nG,iG]},{key:yG.S_BIAS,items:[{action:$$.Arrange,name:"ARRANGE_ACTION",children:[{key:yG.S_ARRANGE,items:[rG,oG,sG,aG]}]},{action:q$.Align,name:"ALIGN_ACTION",children:[{key:yG.S_ALIGN_X,items:[lG,cG,uG]},{key:yG.S_ALIGN_Y,items:[hG,dG,pG]}]}]},_G,vG];var wG=function(t){return t.Selection="Selection",t.Text="Text",t.Image="Image",t.Placeholder="Placeholder",t.Rectangle="Rectangle",t.Ellipse="Ellipse",t.Barcode="Barcode",t.BarcodePlaceholder="BarcodePlaceholder",t.QRCode="QRCode",t.QRCodePlaceholder="QRCodePlaceholder",t}({}),CG=function(t){return t.Undo="Undo",t.Redo="Redo",t}({});const xG=[{action:CG.Undo,id:"history_undo",icon:"au-icon-undo",tooltip:"UNDO_TOOLTIP",hotkey:{keys:[[W$.Key.Ctrl,W$.Key.Z]],label:"(Ctrl + Z)"},children:[]},{action:CG.Redo,id:"history_redo",icon:"au-icon-redo",tooltip:"REDO_TOOLTIP",hotkey:{keys:[[W$.Key.Ctrl,W$.Key.Y]],label:"(Ctrl + Y)"},children:[]}],EG=[{id:"selection_tool",action:wG.Selection,icon:"au-icon-selection",tooltip:"SELECTION_TOOL_TOOLTIP",hotkey:{keys:[[W$.Key.V]],label:"(V)"},children:[]},{id:"text_tool",action:wG.Text,icon:"au-icon-text",tooltip:"TEXT_TOOLTIP",hotkey:{keys:[[W$.Key.T]],label:"(T)"},children:[]},{id:"images_tools",children:[{action:wG.Image,icon:"au-icon-image",name:"IMAGE_TOOL_NAME",tooltip:"IMAGE_TOOLTIP",isDefault:!0,hotkey:{keys:[[W$.Key.M]],label:"(M)"},children:[]},{action:wG.Placeholder,icon:"au-icon-image",name:"PLACEHOLDER_TOOL_NAME",tooltip:"PLACEHOLDER_TOOL_TOOLTIP",hotkey:{keys:[[W$.Key.P]],label:"(P)"},children:[]}]},{id:"shape_tools",children:[{action:wG.Rectangle,icon:"au-icon-square",name:"RECTANGLE_TOOL_NAME",tooltip:"RECTANGLE_TOOLTIP",isDefault:!0,hotkey:{keys:[[W$.Key.R]],label:"(R)"},children:[]},{action:wG.Ellipse,icon:"au-icon-round",name:"ELLIPSE_TOOL_NAME",tooltip:"ELLIPSE_TOOLTIP",hotkey:{keys:[[W$.Key.E]],label:"(E)"},children:[]}]},{id:"barcode_tools",children:[{action:wG.Barcode,icon:"au-icon-bar",name:"BARCODE_TOOL_NAME",tooltip:"BARCODE_TOOLTIP",isDefault:!0,hotkey:{keys:[[W$.Key.B]],label:"(B)"},children:[]},{action:wG.BarcodePlaceholder,icon:"au-icon-bar",name:"BARCODE_PLACEHOLDER_TOOL_NAME",tooltip:"BARCODE_PLACEHOLDER_TOOLTIP",hotkey:{keys:[[W$.Key.Ctrl,W$.Key.B]],label:"(Ctrl + B)"},children:[]},{action:wG.QRCode,icon:"au-icon-bar",name:"QR_TOOL_NAME",tooltip:"QR_TOOLTIP",hotkey:{keys:[[W$.Key.Q]],label:"(Q)"},children:[]},{action:wG.QRCodePlaceholder,icon:"au-icon-bar",name:"QR_PLACEHOLDER_TOOL_NAME",tooltip:"QR_PLACEHOLDER_TOOLTIP",hotkey:{keys:[[W$.Key.Ctrl,W$.Key.Q]],label:"(Ctrl + Q)"},children:[]}]}];var SG=function(t){return t.ZoomIn="ZoomIn",t.ZoomInWheel="ZoomInWheel",t.ZoomOutWheel="ZoomOutWheel",t.ZoomOut="ZoomOut",t.ZoomToFit="ZoomToFit",t.ZoomToSelection="ZoomToSelection",t.Zoom50="Zoom50",t.Zoom100="Zoom100",t.Zoom200="Zoom200",t}({}),PG=function(t){return t.Preview="Preview",t.Rulers="Rulers",t.Grid="Grid",t}({}),OG=function(t){return t.Snap="Snap",t.SnapTo="SnapTo",t.SnapToGuides="SnapToGuides",t.SnapToGrid="SnapToGrid",t.SnapToPage="SnapToPage",t.SnapToObjects="SnapToObjects",t.SnapToMargins="SnapToMargins",t}({}),kG=function(t){return t.Zoom="Zoom",t.Settings="Settings",t.Snap="Snap",t.SnapTo="SnapTo",t}({});const TG=[{key:kG.Zoom,isToggleZone:!0,items:[{action:SG.ZoomIn,hotkey:{keys:[[W$.Key.Add],[W$.Key.PlusSign]],label:"+"},name:"ZOOM_IN_ACTION"},{action:SG.ZoomOut,hotkey:{keys:[[W$.Key.Subtract],[W$.Key.Dash]],label:"-"},name:"ZOOM_OUT_ACTION"},{action:SG.ZoomToFit,hotkey:{keys:[[W$.Key.Shift,W$.Key.One]],label:"Shift + 1"},name:"ZOOM_TO_FIT_ACTION"},{action:SG.Zoom50,allowCheck:!0,name:"ZOOM_50_ACTION"},{action:SG.Zoom100,hotkey:{keys:[[W$.Key.Shift,W$.Key.Zero]],label:"Shift + 0"},allowCheck:!0,name:"ZOOM_100_ACTION"},{action:SG.Zoom200,allowCheck:!0,name:"ZOOM_200_ACTION"}]},{key:kG.Settings,items:[{action:PG.Preview,hotkey:{keys:[[W$.Key.Shift,W$.Key.R]],label:"Shift + R"},allowCheck:!0,name:"PREVIEW_ACTION"},{action:PG.Rulers,hotkey:{keys:[[W$.Key.Shift,W$.Key.R]],label:"Shift + R"},allowCheck:!0,name:"RULES_ACTION"},{action:PG.Grid,hotkey:{keys:[[W$.Key.Ctrl,W$.Key.Quote]],label:"Ctrl + '"},allowCheck:!0,name:"GRID_ACTION"}]},{key:OG.Snap,items:[{action:OG.Snap,name:"Snap",allowCheck:!0,hotkey:{keys:[[W$.Key.Ctrl,W$.Key.Shift,W$.Key.Quote]],label:'Ctrl + Shift + "'}},{action:OG.SnapTo,name:"Snap to",children:[{key:kG.SnapTo,items:[{action:OG.SnapToGrid,name:"SNAP_TO_GRID_ACTION",allowCheck:!0,disable:!0},{action:OG.SnapToGuides,name:"SNAP_TO_GUIDES_ACTION",allowCheck:!0,disable:!0},{action:OG.SnapToPage,allowCheck:!0,name:"SNAP_TO_PAGE_ACTION"},{action:OG.SnapToObjects,allowCheck:!0,name:"SNAP_TO_OBJECTS_ACTION"},{action:OG.SnapToMargins,name:"SNAP_TO_MARGINS",allowCheck:!0}]}]}]}],IG=[{percent:1.5},{percent:3},{percent:6},{percent:12.5},{percent:25},{percent:50,action:SG.Zoom50},{percent:100,action:SG.Zoom100},{percent:200,action:SG.Zoom200},{percent:400}];var AG=function(t){return t[t.LMB=0]="LMB",t[t.MMB=1]="MMB",t[t.RMB=2]="RMB",t[t.FMB=3]="FMB",t[t.BMB=4]="BMB",t}({}),MG=function(t){return t.UpKeyAction="UpKeyAction",t.DownKeyAction="DownKeyAction",t.LeftKeyAction="LeftKeyAction",t.RightKeyAction="RightKeyAction",t.DeleteKeyAction="DeleteKeyAction",t.EnterKeyAction="EnterKeyAction",t.SpaceKeyAction="SpaceKeyAction",t.NewKeyAction="NewKeyAction",t.SelectAll="SelectAll",t.CtrlClick="CtrlClick",t.CtrlUp="CtrlUp",t.CtrlDown="CtrlDown",t.CtrlS="CtrlS",t}({});const DG={keys:[[W$.Key.UpArrow]],action:MG.UpKeyAction},RG={keys:[[W$.Key.DownArrow]],action:MG.DownKeyAction},FG={keys:[[W$.Key.LeftArrow]],action:MG.LeftKeyAction},LG={keys:[[W$.Key.RightArrow]],action:MG.RightKeyAction},BG={keys:[[W$.Key.Delete]],action:MG.DeleteKeyAction},NG={keys:[[W$.Key.Enter]],action:MG.EnterKeyAction},jG={keys:[[W$.Key.Space]],action:MG.SpaceKeyAction},zG={keys:[[W$.Key.N]],action:MG.NewKeyAction},HG={keys:[[W$.Key.Ctrl,W$.Key.A]],action:MG.SelectAll},VG={mouseEvents:"wheelup",keys:[[W$.Key.Ctrl]],action:SG.ZoomInWheel},UG={mouseEvents:"wheeldown",keys:[[W$.Key.Ctrl]],action:SG.ZoomOutWheel},WG={mouseEvents:"wheelup",mouseKeys:[AG.LMB],keys:[[W$.Key.I,W$.Key.Alt]],action:"Test Action"},$G={mouseKeys:[AG.LMB],keys:[[W$.Key.Ctrl]],action:MG.CtrlClick},GG={keys:[[W$.Key.Ctrl,W$.Key.UpArrow]],action:MG.CtrlUp},qG={keys:[[W$.Key.Ctrl,W$.Key.DownArrow]],action:MG.CtrlDown},XG={keys:[[W$.Key.Ctrl,W$.Key.S]],action:MG.CtrlS},KG=/^([-]?\d)*([.]{1})?\d{1,}$/,YG=/\(?([0-9]{3})\)?([ .-]?)([0-9]{3})\2([0-9]{4})/,QG=/^(?:http(s)?:\/\/)?[\w.-]+(?:\.[\w\.-]+)+[\w\-\._~:/?#[\]@!\$&'\(\)\*\+,;=.]+$/gm;var ZG;!function(t){t.TOOLTIP_DELAY=500,t.DBL_CLICK_TIME=180,t.SETTINGS_KEY="$$product_settings"}(ZG||(ZG={}));let JG=(()=>{class t{constructor(t){this._store=t,this._historyChanged=new x,this._undo=new x,this._redo=new x,this.$viewer=this._store.pipe(cw(t=>t.templateEditor.viewer),Vy(t=>!!t)),this.$viewer.subscribe(t=>{this._history=t.history,this._history.addChanged(()=>this._historyChanged.next())})}get $historyChanged(){return this._historyChanged.asObservable()}get $undo(){return this._undo.asObservable()}get $redo(){return this._redo.asObservable()}get canUndo(){return new Promise(t=>Object(j$.maybe)(this._history).do({just:e=>t(e.canUndo),nothing:()=>this.$viewer.subscribe(e=>Object(j$.maybe)(e).do({just:e=>t(e.history.canUndo)}))}))}get canRedo(){return new Promise(t=>Object(j$.maybe)(this._history).do({just:e=>t(e.canRedo),nothing:()=>this.$viewer.subscribe(e=>Object(j$.maybe)(e).do({just:e=>t(e.history.canRedo)}))}))}handleEvent(t){this.doAction(t.action)}doAction(t){switch(t){case CG.Undo:this._history.undo(),this._undo.next();break;case CG.Redo:this._history.redo(),this._redo.next()}}clear(){this._history.clear()}pause(){this._history.pause()}resume(){this._history.resume()}addSnapshot(){this._history.addSnapshot()}}return t.\u0275fac=function(e){return new(e||t)(Kt(aw))},t.\u0275prov=ht({token:t,factory:t.\u0275fac,providedIn:"root"}),t})();function tq(t,e){if(1&t&&(Ls(0,"span"),Ca(1),Bs()),2&t){const t=Ys().$implicit;vr(1),xa(t.postscriptName)}}function eq(t,e){if(1&t&&(Ls(0,"div",12),Ca(1),Is(2,tq,2,1,"span",13),Bs()),2&t){const t=e.$implicit;vr(1),Sa(" ",t.family," ",t.style," "),vr(1),Rs("ngIf",t.postscriptName)}}function nq(t,e){if(1&t&&(Ls(0,"p",5),Ls(1,"span"),Ca(2),Xl(3,"translate"),Bs(),Ls(4,"span",12),Ca(5),Bs(),Ls(6,"span"),Ca(7),Xl(8,"translate"),Bs(),Bs()),2&t){const t=Ys();vr(2),Ea("",Kl(3,3,"FONT_MISSING_DIALOG_BODY_ITEMS")," "),vr(3),Ea("",t.data.defaultFont.name,". "),vr(2),xa(Kl(8,5,"Labels.FONT_CAN_CHANGE_IT"))}}function iq(t,e){if(1&t&&(Ls(0,"span"),Ca(1),Bs()),2&t){const t=Ys().$implicit;vr(1),xa(t.oldFont.postscriptName)}}function rq(t,e){if(1&t){const t=Vs();Ls(0,"div",14),Ls(1,"div",15),Ls(2,"div",16),Ca(3),Bs(),Ls(4,"div",12),Ls(5,"span"),Ca(6),Xl(7,"translate"),Bs(),Is(8,iq,2,1,"span",13),Ca(9,") "),Bs(),Bs(),Ls(10,"div",17),Ls(11,"au-font-field",18),$s("changeStyle",(function(n){Qe(t);const i=e.$implicit;return Ys().changeFont(n,i.item)})),Bs(),Bs(),Bs()}if(2&t){const t=e.$implicit,n=Ys();vr(3),Ea(" ",t.item.name," "),vr(3),Pa("(",Kl(7,8,"WAS_LABEL")," ",t.oldFont.family," ",t.oldFont.style,""),vr(2),Rs("ngIf",t.oldFont.postscriptName),vr(3),Rs("horizontal",!0)("families",n.families)("postScriptName",t.item.font.postScriptName)}}let oq=(()=>{class t extends mH{constructor(t,e,n,i,r){super(),this._dialogRef=t,this.data=e,this._fontSrv=n,this._store=i,this._histSrv=r,this.families=[],this.form=new gp({}),this._fontSrv.$families.pipe($y(this.subscriber)).subscribe(t=>this.families=t)}ngOnInit(){this.data.items.forEach(t=>{this.form.addControl(t.item.id,new mp)})}changeFont(t,e){this.form.get(e.id).setValue(t)}replaceFont(){this._histSrv.pause(),this.data.items.forEach(t=>{const e=this.form.get(t.item.id).value;e&&(t.item.font.style=e.style,t.item.font.family=e.family,t.item.font.postScriptName=e.postscriptName)}),this._histSrv.resume(),this._store.dispatch(FH()),this._dialogRef.close()}}return t.\u0275fac=function(e){return new(e||t)(Ms(ZM),Ms(JM),Ms(z$),Ms(aw),Ms(JG))},t.\u0275cmp=pe({type:t,selectors:[["ng-component"]],features:[Ia],decls:20,vars:15,consts:[["mat-dialog-title","",1,"d-flex","align-items-center"],[1,"my-0","font-weight-normal"],[1,"mat-typography"],[1,"warn-dialog-body"],[1,"my-1"],[1,"mb-2"],["class","font-italic",4,"ngFor","ngForOf"],["class","mb-2",4,"ngIf"],["class","d-flex align-items-center justify-content-between mb-2",4,"ngFor","ngForOf"],["align","center"],["mat-button","","cdkFocusInitial","",3,"click"],["mat-button","","mat-dialog-close",""],[1,"font-italic"],[4,"ngIf"],[1,"d-flex","align-items-center","justify-content-between","mb-2"],[1,"mr-2"],[1,"item-name"],[1,"change-font"],[3,"horizontal","families","postScriptName","changeStyle"]],template:function(t,e){1&t&&(Ls(0,"div",0),Ls(1,"h4",1),Ca(2),Xl(3,"translate"),Bs(),Bs(),Ls(4,"mat-dialog-content",2),Ls(5,"div",3),Ls(6,"p",4),Ca(7),Xl(8,"translate"),Bs(),Ls(9,"div",5),Is(10,eq,3,3,"div",6),Bs(),Is(11,nq,9,7,"p",7),Is(12,rq,12,10,"div",8),Bs(),Bs(),Ls(13,"mat-dialog-actions",9),Ls(14,"button",10),$s("click",(function(){return e.replaceFont()})),Ca(15),Xl(16,"translate"),Bs(),Ls(17,"button",11),Ca(18),Xl(19,"translate"),Bs(),Bs()),2&t&&(vr(2),xa(Kl(3,7,"FONTS_MISSING_DIALOG_TITLE")),vr(5),xa(Kl(8,9,"FONTS_MISSING_DIALOG_BODY")),vr(3),Rs("ngForOf",e.data.fonts),vr(1),Rs("ngIf",e.data.defaultFont),vr(1),Rs("ngForOf",e.data.items),vr(3),xa(Kl(16,11,"Labels.REPLACE_FONTS")),vr(3),xa(Kl(19,13,"Labels.CANCEL")))},styles:[".warn-dialog-body[_ngcontent-%COMP%]{min-width:350px;max-width:580px}.change-font[_ngcontent-%COMP%]{width:60%}.item-name[_ngcontent-%COMP%]{white-space:nowrap;width:100%;overflow:hidden;text-overflow:ellipsis;font-weight:bolder}"]}),t})();var sq=n("bQdR");let aq=(()=>{class t{parseData(t){var e,n,i,r,o,s,a,l;if(t){const c=yU.parse(t),u=new sq.vCard;return u.firstName=null===(e=c.n[0])||void 0===e?void 0:e.value[0],u.lastName=null===(n=c.n[0])||void 0===n?void 0:n.value[1],u.organization=null===(i=c.org[0])||void 0===i?void 0:i.value,u.role=null===(r=c.role[0])||void 0===r?void 0:r.value,u.url=null===(o=c.url[0])||void 0===o?void 0:o.value,u.email=null===(s=c.email[0])||void 0===s?void 0:s.value,u.cellPhone=null===(a=c.tel[0])||void 0===a?void 0:a.value,u.otherPhone=null===(l=c.tel[1])||void 0===l?void 0:l.value,u}return new sq.vCard}getVCardFormatString(t){const e=new sq.vCard;return Object.keys(t).forEach(n=>e[n]=t[n]),e.getFormattedString()}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275prov=ht({token:t,factory:t.\u0275fac}),t})(),lq=(()=>{class t{onKeydown(t){t.stopPropagation()}onKeyup(t){t.stopPropagation()}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275dir=be({type:t,selectors:[["","auKeyboardNoPropagation",""]],hostBindings:function(t,e){1&t&&$s("keydown",(function(t){return e.onKeydown(t)}))("keyup",(function(t){return e.onKeyup(t)}))}}),t})(),cq=(()=>{class t{constructor(t,e,n){this.dialogRef=t,this._data=e,this._vcardSrv=n,this.form=new gp({firstName:new mp("",[Pd.required]),lastName:new mp("",[Pd.required]),organization:new mp("",[Pd.required]),role:new mp("",[Pd.required]),url:new mp("",[Pd.required]),email:new mp("",[Pd.required]),cellPhone:new mp("",[Pd.required]),otherPhone:new mp("")});const i=this._vcardSrv.parseData(this._data),r=Object.keys(this.form.value);Object.keys(i).forEach(t=>{r.includes(t)&&this.form.get(t).setValue(i[t]||"")})}cancel(){this.dialogRef.close(this._data)}save(){if(this.form.valid){const t=this._vcardSrv.getVCardFormatString(this.form.value);this.dialogRef.close(t)}}}return t.\u0275fac=function(e){return new(e||t)(Ms(ZM),Ms(JM),Ms(aq))},t.\u0275cmp=pe({type:t,selectors:[["au-vcard-component"]],features:[Ga([aq])],decls:64,vars:31,consts:[["mat-dialog-title","",1,"d-flex","align-items-center"],[1,"my-0","font-weight-normal"],[1,"mat-typography"],[3,"formGroup"],[1,"d-flex"],[1,"mr-4"],["for","vcard-first-name"],["appearance","outline"],["id","vcard-first-name","type","text","matInput","","auKeyboardNoPropagation","","formControlName","firstName"],["for","vcard-last-name",1,"mt-2","mb-1"],["id","vcard-last-name","type","text","matInput","","auKeyboardNoPropagation","","formControlName","lastName"],["for","vcard-organization",1,"mt-2","mb-1"],["id","vcard-organization","type","text","matInput","","auKeyboardNoPropagation","","formControlName","organization"],["for","vcard-role",1,"mt-2","mb-1"],["id","vcard-role","type","text","matInput","","auKeyboardNoPropagation","","formControlName","role"],["for","vcard-url",1,"mt-2","mb-1"],["id","vcard-url","type","url","matInput","","auKeyboardNoPropagation","","formControlName","url"],["for","vcard-email",1,"mt-2","mb-1"],["id","vcard-email","type","email","matInput","","auKeyboardNoPropagation","","formControlName","email"],["for","vcard-phone",1,"mt-2","mb-1"],["id","vcard-phone","type","tel","matInput","","auKeyboardNoPropagation","","formControlName","cellPhone"],["for","vcard-mobile",1,"mt-2","mb-1"],["id","vcard-mobile","type","tel","matInput","","auKeyboardNoPropagation","","formControlName","otherPhone"],["align","center"],["mat-button","","cdkFocusInitial","",3,"click"],["mat-button","",3,"click"]],template:function(t,e){1&t&&(Ls(0,"div",0),Ls(1,"h4",1),Ca(2),Xl(3,"translate"),Bs(),Bs(),Ls(4,"mat-dialog-content",2),Ls(5,"form",3),Ls(6,"div",4),Ls(7,"div",5),Ls(8,"label",6),Ca(9),Xl(10,"translate"),Bs(),Ls(11,"mat-form-field",7),Ns(12,"input",8),Bs(),Bs(),Ls(13,"div"),Ls(14,"label",9),Ca(15),Xl(16,"translate"),Bs(),Ls(17,"mat-form-field",7),Ns(18,"input",10),Bs(),Bs(),Bs(),Ls(19,"div",4),Ls(20,"div",5),Ls(21,"label",11),Ca(22),Xl(23,"translate"),Bs(),Ls(24,"mat-form-field",7),Ns(25,"input",12),Bs(),Bs(),Ls(26,"div"),Ls(27,"label",13),Ca(28),Xl(29,"translate"),Bs(),Ls(30,"mat-form-field",7),Ns(31,"input",14),Bs(),Bs(),Bs(),Ls(32,"div",4),Ls(33,"div",5),Ls(34,"label",15),Ca(35),Xl(36,"translate"),Bs(),Ls(37,"mat-form-field",7),Ns(38,"input",16),Bs(),Bs(),Ls(39,"div"),Ls(40,"label",17),Ca(41),Xl(42,"translate"),Bs(),Ls(43,"mat-form-field",7),Ns(44,"input",18),Bs(),Bs(),Bs(),Ls(45,"div",4),Ls(46,"div",5),Ls(47,"label",19),Ca(48),Xl(49,"translate"),Bs(),Ls(50,"mat-form-field",7),Ns(51,"input",20),Bs(),Bs(),Ls(52,"div"),Ls(53,"label",21),Ca(54,"Mobile phone"),Bs(),Ls(55,"mat-form-field",7),Ns(56,"input",22),Bs(),Bs(),Bs(),Bs(),Bs(),Ls(57,"mat-dialog-actions",23),Ls(58,"button",24),$s("click",(function(){return e.save()})),Ca(59),Xl(60,"translate"),Bs(),Ls(61,"button",25),$s("click",(function(){return e.cancel()})),Ca(62),Xl(63,"translate"),Bs(),Bs()),2&t&&(vr(2),xa(Kl(3,11,"VCARD_EDITOR_DIALOG_TITLE")),vr(3),Rs("formGroup",e.form),vr(4),xa(Kl(10,13,"FIRST_NAME_LABEL")),vr(6),xa(Kl(16,15,"LAST_NAME_LABEL")),vr(7),xa(Kl(23,17,"ORGANIZATION_LABEL")),vr(6),xa(Kl(29,19,"POSITION_LABEL")),vr(7),xa(Kl(36,21,"URL_LABEL")),vr(6),xa(Kl(42,23,"EMAIL_LABEL")),vr(7),xa(Kl(49,25,"PHONE_LABEL")),vr(11),xa(Kl(60,27,"Labels.OK")),vr(3),xa(Kl(63,29,"Labels.CANCEL")))},directives:[sD,aD,Tp,wd,Rp,iA,NA,pd,lq,bd,Hp,lD,NT],pipes:[HR],styles:["label[_ngcontent-%COMP%]{display:block}"]}),t})();const uq=["id","type","previewText","$type","tags","version","sourcePathLoaded","sourceRectangle","textRectangle","baselineLocation","sourcePathId","scheduledFitMode","ratioWidthToHeight"],hq={name:"millimeters",shortName:"mm",ratio:2.835,accuracy:1},dq={name:"centimeters",shortName:"cm",ratio:28.346,accuracy:2},pq={name:"inch",shortName:"in",ratio:72,accuracy:4},fq={name:"point",shortName:"pt",ratio:1,accuracy:0},mq={name:"percent",shortName:"%",ratio:.01,accuracy:0},gq={name:"degree",shortName:"\xb0",ratio:1,accuracy:0},yq=new Map([[hq.shortName,hq],[dq.shortName,dq],[pq.shortName,pq],[fq.shortName,fq],[mq.shortName,mq],[gq.shortName,gq]]),_q=new Map([[hq.name,hq],[dq.name,dq],[pq.name,pq],[fq.name,fq],[mq.name,mq],[gq.name,gq]]),vq={key:"$$general",title:"General"};function bq(t,e){1&t&&(Ns(0,"div",1),Xl(1,"translate")),2&t&&Rs("matTooltip",Kl(1,1,"Tooltips.CHANGED_FOR_CURRENT_DESIGN"))}let wq=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275cmp=pe({type:t,selectors:[["au-indicator"]],inputs:{display:"display"},decls:1,vars:1,consts:[["class","indicator",3,"matTooltip",4,"ngIf"],[1,"indicator",3,"matTooltip"]],template:function(t,e){1&t&&Is(0,bq,2,3,"div",0),2&t&&Rs("ngIf",e.display)},directives:[Eh,kM],pipes:[HR],styles:[".indicator[_ngcontent-%COMP%] {\n        display: inline-block;\n        width: 7px;\n        height: 7px;\n        background: #40b6ff;\n        border-radius: 50%;\n        margin: 0 5px;\n        vertical-align: middle;\n      }"]}),t})();function Cq(t,e){if(1&t&&(Ls(0,"mat-option",17),Ca(1),Bs()),2&t){const t=e.$implicit;Rs("value",t.value),vr(1),Ea(" ",t.viewValue," ")}}function xq(t,e){if(1&t&&(Ls(0,"mat-option",17),Ca(1),Bs()),2&t){const t=e.$implicit;Rs("value",t.value),vr(1),Ea(" ",t.viewValue," ")}}function Eq(t,e){if(1&t){const t=Vs();Ls(0,"mat-chip",18),$s("removed",(function(){Qe(t);const n=e.$implicit;return Ys().removeFontSize(n)})),Ca(1),Ls(2,"mat-icon",19),Ca(3,"cancel"),Bs(),Bs()}if(2&t){const t=e.$implicit;Rs("selectable",!1)("removable",!0),vr(1),Ea(" ",t," ")}}let Sq=(()=>{class t extends mH{constructor(t){super(),this._fontSrv=t,this.form=new gp({defaultFont:new mp,sizes:new mp}),this.familiesList=[],this.separatorKeysCodes=[13,188],this._fontSrv.$familiesList.pipe($y(this.subscriber)).subscribe(t=>this.familiesList=t)}get sizesControl(){return this.form.get("sizes")}get fontStyles(){return this.curFamily?this.curFamily.stylesList:[]}ngOnInit(){this._updateForm()}ngOnChanges(){this._updateForm()}_updateForm(){this.fontConf.default&&(this.curFamily=this._fontSrv.findFontFamily(this.fontConf.default.metadata.postscriptName),this.form.get("defaultFont").setValue(this.fontConf.default.metadata.postscriptName)),this.form.get("sizes").setValue(this.fontConf.sizes||[])}changeFontFamily(t){this.curFamily=this._fontSrv.getFamily(t);const e=this._fontSrv.defaultFontFamilyStyle(t,this.fontConf.default.metadata.style);this.form.get("defaultFont").setValue(e.postscriptName)}selectFontStyle(t){this.form.get("defaultFont").setValue(t)}removeFontSize(t){const e=this.sizesControl.value.filter(e=>e!==t);this.sizesControl.setValue(e)}addFontSize(t){const e=t.input,n=this.sizesControl.value;let i=Number(t.value.trim());i<0&&(i*=-1),0!==i&&(n.push(i),this.sizesControl.setValue(n.sort((t,e)=>t-e)),e&&(e.value=""))}isChanged(t){var e,n,i,r,o,s,a,l,c;const u=null===(n=null===(e=this.productConf)||void 0===e?void 0:e.ui)||void 0===n?void 0:n.fonts,h=null===(r=null===(i=this.defaultConf)||void 0===i?void 0:i.ui)||void 0===r?void 0:r.fonts,d=null===(s=null===(o=null==u?void 0:u.default)||void 0===o?void 0:o.metadata)||void 0===s?void 0:s.postscriptName,p=null===(l=null===(a=null==h?void 0:h.default)||void 0===a?void 0:a.metadata)||void 0===l?void 0:l.postscriptName;switch(t){case"defaultFont":return null!=d&&p!==d;case"sizes":{const t=h.fonts;if(null!=(null==u?void 0:u.sizes)){if((null===(c=null==u?void 0:u.sizes)||void 0===c?void 0:c.length)!==t.length)return!0;{let e=!0;return u.sizes.forEach((n,i)=>e=e&&n===t[i]),e}}return!1}}}}return t.\u0275fac=function(e){return new(e||t)(Ms(z$))},t.\u0275cmp=pe({type:t,selectors:[["au-font-settings"]],inputs:{fontConf:"fontConf",productConf:"productConf",defaultConf:"defaultConf"},features:[Ia,La],decls:36,vars:28,consts:[[1,"fonts-settings"],[1,"m-0","font-weight-normal"],[1,"py-2","d-flex","justify-content-between","align-items-center"],["for","grid-step",1,"setting-label"],[3,"display"],[1,"font-select","mb-2"],["appearance","outline"],[3,"value","placeholder","valueChange"],[3,"value",4,"ngFor","ngForOf"],[1,"d-flex","mb-2"],[1,"font-select"],[1,"pb-2","d-flex","justify-content-between","align-items-center"],["appearance","outline",1,"sizes-edit"],["aria-label","Fruit selection"],["chipList",""],[3,"selectable","removable","removed",4,"ngFor","ngForOf"],["type","number","auKeyboardNoPropagation","",3,"placeholder","matChipInputFor","matChipInputSeparatorKeyCodes","matChipInputAddOnBlur","matChipInputTokenEnd"],[3,"value"],[3,"selectable","removable","removed"],["matChipRemove",""]],template:function(t,e){if(1&t&&(Ls(0,"form",0),Ls(1,"h2",1),Ca(2),Xl(3,"translate"),Bs(),Ns(4,"mat-divider"),Ls(5,"div",2),Ls(6,"label",3),Ls(7,"span"),Ca(8),Xl(9,"translate"),Bs(),Ns(10,"au-indicator",4),Bs(),Ls(11,"div"),Ls(12,"div",5),Ls(13,"mat-form-field",6),Ls(14,"mat-select",7),$s("valueChange",(function(t){return e.changeFontFamily(t)})),Xl(15,"translate"),Is(16,Cq,2,2,"mat-option",8),Bs(),Bs(),Bs(),Ls(17,"div",9),Ls(18,"div",10),Ls(19,"mat-form-field",6),Ls(20,"mat-select",7),$s("valueChange",(function(t){return e.selectFontStyle(t)})),Xl(21,"translate"),Is(22,xq,2,2,"mat-option",8),Bs(),Bs(),Bs(),Bs(),Bs(),Bs(),Ls(23,"div",11),Ls(24,"label",3),Ls(25,"span"),Ca(26),Xl(27,"translate"),Bs(),Ns(28,"au-indicator",4),Bs(),Ls(29,"div"),Ls(30,"mat-form-field",12),Ls(31,"mat-chip-list",13,14),Is(33,Eq,4,3,"mat-chip",15),Ls(34,"input",16),$s("matChipInputTokenEnd",(function(t){return e.addFontSize(t)})),Xl(35,"translate"),Bs(),Bs(),Bs(),Bs(),Bs(),Bs()),2&t){const t=As(32);vr(2),xa(Kl(3,16,"Labels.FONT")),vr(6),xa(Kl(9,18,"Labels.DEFAULT_FONT")),vr(2),Rs("display",e.isChanged("defaultFont")),vr(4),Rs("value",null==e.curFamily?null:e.curFamily.family)("placeholder",Kl(15,20,"Labels.FONT_FAMILY")),vr(2),Rs("ngForOf",e.familiesList),vr(4),Rs("value",e.form.get("defaultFont").value)("placeholder",Kl(21,22,"Labels.FONT_STYLE")),vr(2),Rs("ngForOf",e.fontStyles),vr(4),xa(Kl(27,24,"Labels.FONT_SIZES")),vr(2),Rs("display",e.isChanged("sizes")),vr(5),Rs("ngForOf",e.sizesControl.value),vr(1),Rs("placeholder",Kl(35,26,"Labels.ENTER_FONT_SIZES"))("matChipInputFor",t)("matChipInputSeparatorKeyCodes",e.separatorKeysCodes)("matChipInputAddOnBlur",!0)}},directives:[Tp,wd,bp,YA,wq,iA,EA,Ch,aH,cH,lq,Tk,tH,oI,eH],pipes:[HR],styles:[".font-select[_ngcontent-%COMP%]{width:180px}.font-select[_ngcontent-%COMP%]   .mat-form-field[_ngcontent-%COMP%]{width:100%}.sizes-edit[_ngcontent-%COMP%]{width:180px}.setting-label[_ngcontent-%COMP%]{align-self:baseline;margin-top:6px}.fonts-settings[_ngcontent-%COMP%]   .mat-standard-chip[_ngcontent-%COMP%]{border-radius:4px}"]}),t})();function Pq(t,e){if(1&t&&(js(0),Ns(1,"au-snap-config",15),zs()),2&t){const t=e.$implicit,n=e.index,i=Ys();vr(1),Rs("form",t)("productConf",i.productConf)("title",i.titles[n])("type",i.snapTypes[n])}}let Oq=(()=>{class t{constructor(){this.titles=["Labels.SNAP_ITEMS_CONF","Labels.SNAP_PRINTAREA_CONF","Labels.SNAP_SAFETYLINES_CONF"],this.snapTypes=["items","printArea","safetyLines"],this.snapColors=[],this.form=new gp({grid:new gp({step:new mp(0,[Pd.min(0)]),color:new mp,lineWidth:new mp(0,[Pd.min(0)]),enabled:new mp}),snap:new yp([this._snapForm(),this._snapForm(),this._snapForm()])})}_snapForm(){return new gp({enabled:new mp,color:new mp,priority:new mp(0,[Pd.min(0)]),tolerance:new mp(0,[Pd.min(0)])})}get gridGroup(){return this.form.get("grid")}get snapGroup(){return this.form.get("snap")}get snapItemsGroup(){return this.snapGroup.controls[0]}get snapPrintAreaGroup(){return this.snapGroup.controls[1]}get snapSafetyLineGroup(){return this.snapGroup.controls[2]}ngOnInit(){this._initForm()}ngOnChanges(){this._initForm()}_initForm(){this.snapColors=[],this.gridGroup.get("step").setValue(this.gridConf.stepX),this.gridGroup.get("color").setValue(this.gridConf.horizontalColor),this.gridGroup.get("lineWidth").setValue(this.gridConf.lineWidthPx),this.gridGroup.get("enabled").setValue(this.gridConf.enabled),this.color=new VB(this.gridConf.horizontalColor),this._initSnapForm(this.snapItemsGroup,this.snapConf.snapElements.items),this._initSnapForm(this.snapPrintAreaGroup,this.snapConf.snapElements.printArea),this._initSnapForm(this.snapSafetyLineGroup,this.snapConf.snapElements.safetyLines)}_initSnapForm(t,e){t.get("enabled").setValue(e.enabled),t.get("color").setValue(e.color),t.get("priority").setValue(e.priority),t.get("tolerance").setValue(e.tolerance),this.snapColors.push(new VB(e.color))}initColorPicker(t){const e=new VB(t.get("color").value);this.color=e,this._oldColor=e,this._colorMenuIsOpen=!0}closeColorMenu(t){this._oldColor&&t.get("color").setValue(this._oldColor.preview),this._oldColor=null,this._colorMenuIsOpen=!1}colorChange(t){this._colorMenuIsOpen&&(this.color=t)}onSubmit(t){t.get("color").setValue(this.color.preview),this._oldColor=null,this.colorMenu.closeMenu(),this._colorMenuIsOpen=!1}changeCheckbox(t){this.gridGroup.get("enabled").setValue(t.checked)}isChanged(t){var e,n,i,r,o,s;const a=null===(i=null===(n=null===(e=this.productConf)||void 0===e?void 0:e.viewer)||void 0===n?void 0:n.handlersConfig)||void 0===i?void 0:i.gridHandlerConfig,l=null===(s=null===(o=null===(r=this.defaultConf)||void 0===r?void 0:r.viewer)||void 0===o?void 0:o.handlersConfig)||void 0===s?void 0:s.gridHandlerConfig;switch(this.form.get("grid"),t){case"step":return null!=(null==a?void 0:a.stepX)&&(null==a?void 0:a.stepX)!==(null==l?void 0:l.stepX);case"color":return null!=(null==a?void 0:a.verticalColor)&&(null==a?void 0:a.verticalColor)!==(null==l?void 0:l.verticalColor);case"lineWidth":return null!=(null==a?void 0:a.lineWidthPx)&&(null==a?void 0:a.lineWidthPx)!==(null==l?void 0:l.lineWidthPx);case"enabled":return null!=(null==a?void 0:a.enabled)&&(null==a?void 0:a.enabled)!==(null==l?void 0:l.enabled)}}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275cmp=pe({type:t,selectors:[["au-grid-and-rulers-settings"]],viewQuery:function(t,e){var n;1&t&&cc(IT,!0),2&t&&ac(n=fc())&&(e.colorMenu=n.first)},inputs:{snapConf:"snapConf",gridConf:"gridConf",productConf:"productConf",defaultConf:"defaultConf"},features:[La],decls:41,vars:35,consts:[[1,"mr-1","te-grid-and-rulers-settings"],[3,"formGroup"],[1,"m-0","font-weight-normal"],[1,"checkbox-block","py-2","d-flex","justify-content-between","align-items-center"],["labelPosition","before","color","primary",3,"checked","change"],[3,"display"],[1,"pb-2","d-flex","justify-content-between","align-items-center"],["for","grid-color-setting"],["mat-button","",1,"color-button",3,"matMenuTriggerFor","onMenuOpen","onMenuClose"],["menu","matMenu"],[3,"initialColor","initialized","click","onChange","onSubmit"],["for","grid-step"],["appearance","outline"],["auKeyboardNoPropagation","","matInput","","autocomplete","off","type","number",3,"placeholder","formControlName"],[4,"ngFor","ngForOf"],[3,"form","productConf","title","type"]],template:function(t,e){if(1&t&&(Ls(0,"form",0),Ls(1,"div",1),Ls(2,"h2",2),Ca(3),Xl(4,"translate"),Bs(),Ns(5,"mat-divider"),Ls(6,"div",3),Ls(7,"mat-checkbox",4),$s("change",(function(t){return e.changeCheckbox(t)})),Ls(8,"span"),Ca(9),Xl(10,"translate"),Bs(),Ns(11,"au-indicator",5),Bs(),Bs(),Ls(12,"div",6),Ls(13,"label",7),Ls(14,"span"),Ca(15),Xl(16,"translate"),Bs(),Ns(17,"au-indicator",5),Bs(),Ls(18,"button",8),$s("onMenuOpen",(function(){return e.initColorPicker(e.gridGroup)}))("onMenuClose",(function(){return e.closeColorMenu(e.gridGroup)})),Ls(19,"mat-menu",null,9),Ls(21,"au-color-picker",10),$s("click",(function(t){return t.stopPropagation()}))("onChange",(function(t){return e.colorChange(t)}))("onSubmit",(function(){return e.onSubmit(e.gridGroup)})),Bs(),Bs(),Bs(),Bs(),Ls(22,"div",6),Ls(23,"label",11),Ls(24,"span"),Ca(25),Xl(26,"translate"),Bs(),Ns(27,"au-indicator",5),Bs(),Ls(28,"mat-form-field",12),Ns(29,"input",13),Xl(30,"translate"),Bs(),Bs(),Ls(31,"div",6),Ls(32,"label",11),Ls(33,"span"),Ca(34),Xl(35,"translate"),Bs(),Ns(36,"au-indicator",5),Bs(),Ls(37,"mat-form-field",12),Ns(38,"input",13),Xl(39,"translate"),Bs(),Bs(),Bs(),Is(40,Pq,2,4,"ng-container",14),Bs()),2&t){const t=As(20);vr(1),Rs("formGroup",e.gridGroup),vr(2),xa(Kl(4,21,"Labels.GRID")),vr(4),Rs("checked",e.gridGroup.get("enabled").value),vr(2),xa(Kl(10,23,"Labels.ENABLE_GRID")),vr(2),Rs("display",e.isChanged("enabled")),vr(4),xa(Kl(16,25,"Labels.COLOR")),vr(2),Rs("display",e.isChanged("color")),vr(1),ca("background-color",null==e.color?null:e.color.preview),Rs("matMenuTriggerFor",t),vr(3),Rs("initialColor",e.color)("initialized",e.color),vr(4),xa(Kl(26,27,"Labels.STEP")),vr(2),Rs("display",e.isChanged("step")),vr(2),Rs("placeholder",Kl(30,29,"Labels.GRID_STEP"))("formControlName","step"),vr(5),xa(Kl(35,31,"Labels.LINE_WIDTH")),vr(2),Rs("display",e.isChanged("lineWidth")),vr(2),Rs("placeholder",Kl(39,33,"Labels.LINE_WIDTH"))("formControlName","lineWidth"),vr(2),Rs("ngForOf",e.snapGroup.controls)}},styles:[".te-grid-and-rulers-settings .color-button,.te-snap-settings .color-button{width:36px;height:36px;min-width:unset;background:#000;border:1px solid #e5e5e5;box-sizing:border-box;border-radius:4px}.te-grid-and-rulers-settings .checkbox-block,.te-snap-settings .checkbox-block{height:52px}.te-grid-and-rulers-settings .mat-checkbox,.te-grid-and-rulers-settings .mat-checkbox-layout,.te-snap-settings .mat-checkbox,.te-snap-settings .mat-checkbox-layout{width:100%}.te-grid-and-rulers-settings .mat-checkbox-layout .mat-checkbox-inner-container,.te-snap-settings .mat-checkbox-layout .mat-checkbox-inner-container{margin-left:auto;margin-right:12px}"],encapsulation:2}),t})();var kq=function(t){return t.Main="Main",t.GridAndSnaps="GridAndSnaps",t.Fonts="Fonts",t}({});const Tq=[{label:"Labels.MAIN",value:kq.Main},{label:"Labels.GRID_AND_RULERS",value:kq.GridAndSnaps},{label:"Labels.FONTS",value:kq.Fonts}],Iq=[{value:JN.Cmyk,viewValue:"CMYK"},{value:JN.Rgb,viewValue:"RGB"}],Aq=[{value:"mm",viewValue:"mm"},{value:"cm",viewValue:"cm"},{value:"in",viewValue:"in"},{value:"pt",viewValue:"pt"}];function Mq(t,e){if(1&t&&(Ls(0,"mat-option",14),Ca(1),Bs()),2&t){const t=e.$implicit;Rs("value",t.value),vr(1),Ea(" ",t.viewValue," ")}}function Dq(t,e){if(1&t&&(Ls(0,"mat-option",14),Ca(1),Bs()),2&t){const t=e.$implicit;Rs("value",t.value),vr(1),Ea(" ",t.viewValue," ")}}function Rq(t,e){if(1&t&&(Ls(0,"mat-option",14),Ca(1),Bs()),2&t){const t=e.$implicit;Rs("value",t.value),vr(1),Ea(" ",t.viewValue," ")}}function Fq(t,e){if(1&t&&(Ls(0,"mat-option",14),Ca(1),Bs()),2&t){const t=e.$implicit;Rs("value",t.value),vr(1),Ea(" ",t.viewValue," ")}}let Lq=(()=>{class t{constructor(){this.colorProfiles=[],this.rgbProfiles=[],this.cmykProfiles=[],this.colorSpaces=Iq,this.units=Aq,this.form=new gp({enableRulers:new mp(!1),enableHoverItemNames:new mp(!1),enableViolationWarning:new mp(!1),enableQualityChangeContainers:new mp(!1),unit:new mp,colorSpace:new mp,colorProfileRgb:new mp,colorProfileCmyk:new mp})}get unit(){return this.form.get("unit")}ngOnInit(){var t,e,n,i;return vR(this,void 0,void 0,(function*(){this.form.get("enableRulers").setValue(null===(t=this.rulerConf)||void 0===t?void 0:t.enabled),this.form.get("enableHoverItemNames").setValue(null===(e=this.canvasConf)||void 0===e?void 0:e.canvasItemHoverEnabled),this.form.get("enableViolationWarning").setValue(null===(n=this.canvasConf)||void 0===n?void 0:n.violationWarningButtonsEnabled),this.form.get("enableQualityChangeContainers").setValue(null===(i=this.canvasConf)||void 0===i?void 0:i.qualityChangeContainersEnabled),this.unit.setValue(this.unitConf.shortName),this.form.get("colorSpace").setValue(this.colorConf.colorPickerConfig.colorSpace),this.form.get("colorProfileRgb").setValue(this.colorConf.rgbColorProfileId),this.form.get("colorProfileCmyk").setValue(this.colorConf.cmykColorProfileId),this.rgbProfiles=this.colorProfiles.filter(t=>t.metadata.colorSpace===JN.Rgb).map(({name:t,metadata:e})=>({viewValue:`${t.split(".")[0]}`,value:e.description})),this.cmykProfiles=this.colorProfiles.filter(t=>t.metadata.colorSpace===JN.Cmyk).map(({name:t,metadata:e})=>({viewValue:`${t.split(".")[0]}`,value:e.description}))}))}changeCheckbox(t,e){this.form.get(e).setValue(t.checked)}isChanged(t){var e,n,i,r,o,s,a,l,c,u,h,d,p,f,m,g,y,_,v,b,w,C,x,E,S,P,O,k,T,I;const A=null===(n=null===(e=this.productConf)||void 0===e?void 0:e.viewer)||void 0===n?void 0:n.canvas,M=null===(r=null===(i=this.defaultConf)||void 0===i?void 0:i.viewer)||void 0===r?void 0:r.canvas;switch(t){case"enableRulers":{const t=null===(a=null===(s=null===(o=this.productConf)||void 0===o?void 0:o.viewer)||void 0===s?void 0:s.options)||void 0===a?void 0:a.rulerEnabled,e=null===(u=null===(c=null===(l=this.defaultConf)||void 0===l?void 0:l.viewer)||void 0===c?void 0:c.options)||void 0===u?void 0:u.rulerEnabled;return null!=t&&t!==e}case"enableHoverItemNames":return null!=(null==A?void 0:A.canvasItemHoverEnabled)&&(null==M?void 0:M.canvasItemHoverEnabled)!==A.canvasItemHoverEnabled;case"enableViolationWarning":return null!=(null==A?void 0:A.violationWarningButtonsEnabled)&&(null==M?void 0:M.violationWarningButtonsEnabled)!==(null==A?void 0:A.violationWarningButtonsEnabled);case"enableQualityChangeContainers":return null!=(null==A?void 0:A.qualityChangeContainersEnabled)&&(null==M?void 0:M.qualityChangeContainersEnabled)!==(null==A?void 0:A.qualityChangeContainersEnabled);case"unit":{const t=null===(p=null===(d=null===(h=this.productConf)||void 0===h?void 0:h.ui)||void 0===d?void 0:d.unit)||void 0===p?void 0:p.shortName,e=null===(g=null===(m=null===(f=this.defaultConf)||void 0===f?void 0:f.ui)||void 0===m?void 0:m.unit)||void 0===g?void 0:g.shortName;return null!=t&&e!==t}case"colorSpace":{const t=null===(v=null===(_=null===(y=this.productConf)||void 0===y?void 0:y.color)||void 0===_?void 0:_.colorPickerConfig)||void 0===v?void 0:v.colorSpace,e=null===(C=null===(w=null===(b=this.defaultConf)||void 0===b?void 0:b.color)||void 0===w?void 0:w.colorPickerConfig)||void 0===C?void 0:C.colorSpace;return null!=t&&e!==t}case"colorProfileRgb":{const t=null===(E=null===(x=this.productConf)||void 0===x?void 0:x.color)||void 0===E?void 0:E.rgbColorProfileId,e=null===(P=null===(S=this.defaultConf)||void 0===S?void 0:S.color)||void 0===P?void 0:P.rgbColorProfileId;return null!=t&&e!==t}case"colorProfileCmyk":{const t=null===(k=null===(O=this.productConf)||void 0===O?void 0:O.color)||void 0===k?void 0:k.cmykColorProfileId,e=null===(I=null===(T=this.defaultConf)||void 0===T?void 0:T.color)||void 0===I?void 0:I.cmykColorProfileId;return null!=t&&e!==t}}}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275cmp=pe({type:t,selectors:[["au-main-settings"]],inputs:{colorConf:"colorConf",canvasConf:"canvasConf",rulerConf:"rulerConf",unitConf:"unitConf",colorProfiles:"colorProfiles",productConf:"productConf",defaultConf:"defaultConf"},decls:77,vars:63,consts:[[1,"te-main-settings",3,"formGroup"],[1,"m-0","font-weight-normal"],[1,"checkbox-block","py-2","d-flex","justify-content-between","align-items-center"],["labelPosition","before","color","primary",3,"checked","change"],[3,"display"],[1,"checkbox-block","pb-2","d-flex","justify-content-between","align-items-center"],["for","grid-step",1,"setting-label"],[1,"font-select","mb-2"],["appearance","outline"],[3,"formControl","placeholder"],[3,"value",4,"ngFor","ngForOf"],[1,"py-2","d-flex","justify-content-between","align-items-center"],[3,"formControlName","placeholder"],[1,"pb-2","d-flex","justify-content-between","align-items-center"],[3,"value"]],template:function(t,e){1&t&&(Ls(0,"form",0),Ls(1,"h2",1),Ca(2),Xl(3,"translate"),Bs(),Ns(4,"mat-divider"),Ls(5,"div",2),Ls(6,"mat-checkbox",3),$s("change",(function(t){return e.changeCheckbox(t,"enableRulers")})),Ca(7),Xl(8,"translate"),Ns(9,"au-indicator",4),Bs(),Bs(),Ls(10,"div",5),Ls(11,"mat-checkbox",3),$s("change",(function(t){return e.changeCheckbox(t,"enableHoverItemNames")})),Ca(12),Xl(13,"translate"),Ns(14,"au-indicator",4),Bs(),Bs(),Ls(15,"div",5),Ls(16,"mat-checkbox",3),$s("change",(function(t){return e.changeCheckbox(t,"enableViolationWarning")})),Ca(17),Xl(18,"translate"),Ns(19,"au-indicator",4),Bs(),Bs(),Ls(20,"div",5),Ls(21,"mat-checkbox",3),$s("change",(function(t){return e.changeCheckbox(t,"enableQualityChangeContainers")})),Ca(22),Xl(23,"translate"),Ns(24,"au-indicator",4),Bs(),Bs(),Ls(25,"div",5),Ls(26,"label",6),Ca(27),Xl(28,"translate"),Ns(29,"au-indicator",4),Bs(),Ls(30,"div"),Ls(31,"div",7),Ls(32,"mat-form-field",8),Ls(33,"mat-select",9),Xl(34,"translate"),Is(35,Mq,2,2,"mat-option",10),Bs(),Bs(),Bs(),Bs(),Bs(),Ls(36,"h2",1),Ca(37),Xl(38,"translate"),Bs(),Ns(39,"mat-divider"),Ls(40,"div",11),Ls(41,"label",6),Ca(42),Xl(43,"translate"),Ns(44,"au-indicator",4),Bs(),Ls(45,"div"),Ls(46,"div",7),Ls(47,"mat-form-field",8),Ls(48,"mat-select",12),Xl(49,"translate"),Is(50,Dq,2,2,"mat-option",10),Bs(),Bs(),Bs(),Bs(),Bs(),Ls(51,"div",13),Ls(52,"label",6),Ca(53),Xl(54,"translate"),Ns(55,"au-indicator",4),Bs(),Ls(56,"div"),Ls(57,"div",7),Ls(58,"mat-form-field",8),Ls(59,"mat-select",12),Xl(60,"translate"),Ls(61,"mat-option"),Ca(62,"<Default>"),Bs(),Is(63,Rq,2,2,"mat-option",10),Bs(),Bs(),Bs(),Bs(),Bs(),Ls(64,"div",13),Ls(65,"label",6),Ca(66),Xl(67,"translate"),Ns(68,"au-indicator",4),Bs(),Ls(69,"div"),Ls(70,"div",7),Ls(71,"mat-form-field",8),Ls(72,"mat-select",12),Xl(73,"translate"),Ls(74,"mat-option"),Ca(75,"<Default>"),Bs(),Is(76,Fq,2,2,"mat-option",10),Bs(),Bs(),Bs(),Bs(),Bs(),Bs()),2&t&&(Rs("formGroup",e.form),vr(2),xa(Kl(3,35,"Labels.EDITOR")),vr(4),Rs("checked",e.form.get("enableRulers").value),vr(1),Ea(" ",Kl(8,37,"Labels.ENABLE_RULER")," "),vr(2),Rs("display",e.isChanged("enableRulers")),vr(2),Rs("checked",e.form.get("enableHoverItemNames").value),vr(1),Ea(" ",Kl(13,39,"Labels.ENABLE_HOVER_ITEM_NAMES")," "),vr(2),Rs("display",e.isChanged("enableHoverItemNames")),vr(2),Rs("checked",e.form.get("enableViolationWarning").value),vr(1),Ea(" ",Kl(18,41,"Labels.ENABLE_VIOLATION_WARNING_BTN")," "),vr(2),Rs("display",e.isChanged("enableViolationWarning")),vr(2),Rs("checked",e.form.get("enableQualityChangeContainers").value),vr(1),Ea(" ",Kl(23,43,"Labels.ENABLE_QUALITY_CHANGE_CONTAINERS")," "),vr(2),Rs("display",e.isChanged("enableQualityChangeContainers")),vr(3),Ea(" ",Kl(28,45,"Labels.UNIT")," "),vr(2),Rs("display",e.isChanged("unit")),vr(4),Rs("formControl",e.unit)("placeholder",Kl(34,47,"Labels.SELECT_UNIT")),vr(2),Rs("ngForOf",e.units),vr(2),xa(Kl(38,49,"Labels.PRODUCT")),vr(5),Ea(" ",Kl(43,51,"Labels.COLOR_SPACE")," "),vr(2),Rs("display",e.isChanged("colorSpace")),vr(4),Rs("formControlName","colorSpace")("placeholder",Kl(49,53,"Labels.SELECT_COLOR_SPACE")),vr(2),Rs("ngForOf",e.colorSpaces),vr(3),Ea(" ",Kl(54,55,"Labels.SELECT_PROFILE")," "),vr(2),Rs("display",e.isChanged("colorProfileRgb")),vr(4),Rs("formControlName","colorProfileRgb")("placeholder",Kl(60,57,"Labels.SELECT_PROFILE")),vr(4),Rs("ngForOf",e.rgbProfiles),vr(3),Ea(" ",Kl(67,59,"Labels.COLOR_PROFILE_CMYK")," "),vr(2),Rs("display",e.isChanged("colorProfileCmyk")),vr(4),Rs("formControlName","colorProfileCmyk")("placeholder",Kl(73,61,"Labels.COLOR_PROFILE_CMYK")),vr(4),Rs("ngForOf",e.cmykProfiles))},directives:[Tp,wd,Rp,YA,Gj,wq,iA,EA,bd,Mp,Ch,Hp,Tk],pipes:[HR],styles:[".te-main-settings .checkbox-block{height:52px}.te-main-settings .font-select{width:180px}.te-main-settings .font-select .mat-form-field,.te-main-settings .mat-checkbox,.te-main-settings .mat-checkbox-layout{width:100%}.te-main-settings .mat-checkbox-layout .mat-checkbox-inner-container{margin-left:auto;margin-right:12px}"],encapsulation:2}),t})();class Bq{static DeepMerge(t,e){const n=t=>t&&"object"==typeof t;return n(t)&&n(e)?(Object.keys(e).forEach(i=>{const r=t[i],o=e[i];t[i]=Array.isArray(r)&&Array.isArray(o)?o:n(r)&&n(o)?Bq.DeepMerge(Object.assign({},r),o):o}),t):e}static getMaybeItemProperty(t,e){return null!=t?j$.Maybe.maybe(Bq.getItemProperty(t,e)):j$.Maybe.nothing()}static getItemMetadataByPath(t,e){const n=Bq.getItemProperty(t,e.slice(0,-1));if(n)return sV.getPropertyMetadata(n,e.slice(-1)[0])}static getItemProperty(t,e){let n=t;for(let i=0;i<e.length;i++){const t=e[i];if(null==n[t])return null;n=n[t]}return n}static setItemProperty(t,e,n){let i=t,r=null;for(let o=0;o<e.length;o++){const t=e[o];if(r=t,o>=e.length-1)break;if(i=i[t],null==i)return}i[r]=n}}var Nq,jq,zq,Hq,Vq;!function(t){t[t.always=0]="always",t[t.auto=1]="auto"}(Nq||(Nq={})),function(t){t[t.centerBottom=5]="centerBottom",t[t.centerCenter=4]="centerCenter",t[t.centerTop=3]="centerTop",t[t.leftBottom=2]="leftBottom",t[t.leftCenter=1]="leftCenter",t[t.leftTop=0]="leftTop",t[t.rightBottom=8]="rightBottom",t[t.rightCenter=7]="rightCenter",t[t.rightTop=6]="rightTop"}(jq||(jq={})),function(t){t[t.none=0]="none",t[t.bestFit=1]="bestFit",t[t.bestFitShrinkOnly=2]="bestFitShrinkOnly",t[t.fitToWidth=3]="fitToWidth",t[t.fitToHeight=4]="fitToHeight",t[t.fitToWidthShrinkOnly=6]="fitToWidthShrinkOnly",t[t.fitToHeightShrinkOnly=7]="fitToHeightShrinkOnly"}(zq||(zq={})),function(t){t[t.low=0]="low",t[t.medium=1]="medium",t[t.high=2]="high",t[t.shrinkHighStretchLow=3]="shrinkHighStretchLow"}(Hq||(Hq={})),function(t){t[t.ready=0]="ready",t[t.refresh=1]="refresh",t[t.busy=2]="busy"}(Vq||(Vq={}));var Uq,Wq,$q,Gq,qq,Xq,Kq=function(){function t(t){this._v=t}return Object.defineProperty(t.prototype,"postBackOnWorkspaceChanged",{get:function(){return this._v._clientSideOptions$postBackOnWorkspaceChanged},set:function(t){this._v._clientSideOptions$postBackOnWorkspaceChanged=t},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"postBackOnWorkspaceClick",{get:function(){return this._v._clientSideOptions$postBackOnWorkspaceClick},set:function(t){this._v._clientSideOptions$postBackOnWorkspaceClick=t},enumerable:!0,configurable:!0}),t}(),Yq=function(t,e,n,i){return new(n||(n=Promise))((function(r,o){function s(t){try{l(i.next(t))}catch(e){o(e)}}function a(t){try{l(i.throw(t))}catch(e){o(e)}}function l(t){var e;t.done?r(t.value):(e=t.value,e instanceof n?e:new n((function(t){t(e)}))).then(s,a)}l((i=i.apply(t,e||[])).next())}))},Qq=function(t,e){var n,i,r,o,s={label:0,sent:function(){if(1&r[0])throw r[1];return r[1]},trys:[],ops:[]};return o={next:a(0),throw:a(1),return:a(2)},"function"==typeof Symbol&&(o[Symbol.iterator]=function(){return this}),o;function a(o){return function(a){return function(o){if(n)throw new TypeError("Generator is already executing.");for(;s;)try{if(n=1,i&&(r=2&o[0]?i.return:o[0]?i.throw||((r=i.return)&&r.call(i),0):i.next)&&!(r=r.call(i,o[1])).done)return r;switch(i=0,r&&(o=[2&o[0],r.value]),o[0]){case 0:case 1:r=o;break;case 4:return s.label++,{value:o[1],done:!1};case 5:s.label++,i=o[1],o=[0];continue;case 7:o=s.ops.pop(),s.trys.pop();continue;default:if(!((r=(r=s.trys).length>0&&r[r.length-1])||6!==o[0]&&2!==o[0])){s=0;continue}if(3===o[0]&&(!r||o[1]>r[0]&&o[1]<r[3])){s.label=o[1];break}if(6===o[0]&&s.label<r[1]){s.label=r[1],r=o;break}if(r&&s.label<r[2]){s.label=r[2],s.ops.push(o);break}r[2]&&s.ops.pop(),s.trys.pop();continue}o=e.call(t,s)}catch(a){o=[6,a],i=0}finally{n=r=0}if(5&o[0])throw o[1];return{value:o[0]?o[1]:void 0,done:!0}}([o,a])}}},Zq=function(t,e){var n="function"==typeof Symbol&&t[Symbol.iterator];if(!n)return t;var i,r,o=n.call(t),s=[];try{for(;(void 0===e||e-- >0)&&!(i=o.next()).done;)s.push(i.value)}catch(a){r={error:a}}finally{try{i&&!i.done&&(n=o.return)&&n.call(o)}finally{if(r)throw r.error}}return s},Jq=function(){for(var t=[],e=0;e<arguments.length;e++)t=t.concat(Zq(arguments[e]));return t};(Wq=Uq||(Uq={})).round3=function(t){return Math.round(1e3*t)/1e3},Wq.createBoundedWrapper=function(t,e,n){return null==n?e.bind(t):Function.prototype.bind.apply(e,[t].concat(n))},Wq.cursorToCss=function(t){var e=$q;return null==e&&($q=e=["default","nw-resize","ne-resize","sw-resize","se-resize","n-resize","s-resize","w-resize","e-resize","move","crosshair","pointer","ew-resize","ns-resize","nesw-resize","nwse-resize","text"]),e[t]},Wq.makeSingle=function(t){var e;return function(){for(var n=[],i=0;i<arguments.length;i++)n[i]=arguments[i];return Yq(this,void 0,void 0,(function(){var i,r,o,s;return Qq(this,(function(a){switch(a.label){case 0:i=e=new Object,r=t.apply(void 0,Jq(n)),a.label=1;case 1:return(s=r.next(o)).done?[2,s.value]:[4,s.value];case 2:if(o=a.sent(),i!==e)return[2];a.label=3;case 3:return[3,1];case 4:return[2]}}))}))}},Wq.makeCancelable=function(t){var e=!1;return{promise:new Promise((function(n,i){t.then((function(t){return e?i({isCanceled:!0}):n(t)})),t.catch((function(t){return i(e?{isCanceled:!0}:t)}))})),id:(new ZR).toString(),cancel:function(){e=!0}}},Wq.getEventPath=function(t){if(null==t.view||!(t instanceof t.view.UIEvent))throw new Error("Unexpected event type");if(null!=t.path)return(Array.isArray(t.path)?t.path:Array.prototype.slice.call(t.path)).filter((function(t){return t instanceof Element}));var e=[],n=t.target;n instanceof t.view.Element||null==console||console.log("unexpected event target",n);do{e.push(n),n=n.parentElement}while(null!=n&&n!==t.currentTarget);return e},Wq.isEventPathContainsClass=function(t,e){var n;if(t instanceof UIEvent)n=t;else{if(!(t.originalEvent instanceof UIEvent))throw new Error("Unexpected event type");n=t.originalEvent}return!!Wq.getEventPath(n).some((function(t){return t.classList.contains(e)}))},function(t){t[t.defaultCursor=0]="defaultCursor",t[t.sizeNW=1]="sizeNW",t[t.sizeNE=2]="sizeNE",t[t.sizeSW=3]="sizeSW",t[t.sizeSE=4]="sizeSE",t[t.sizeN=5]="sizeN",t[t.sizeS=6]="sizeS",t[t.sizeW=7]="sizeW",t[t.sizeE=8]="sizeE",t[t.move=9]="move",t[t.cross=10]="cross",t[t.pointer=11]="pointer",t[t.sizeEW=12]="sizeEW",t[t.sizeNS=13]="sizeNS",t[t.sizeNESW=14]="sizeNESW",t[t.sizeNWSE=15]="sizeNWSE",t[t.text=16]="text"}(Gq||(Gq={})),function(t){t[t.rgb=16777216]="rgb",t[t.cmyk=335544320]="cmyk",t[t.grayScale=301989888]="grayScale",t[t.unknown=0]="unknown"}(qq||(qq={})),function(t){t[t.Item=0]="Item",t[t.Color=1]="Color"}(Xq||(Xq={}));var tX,eX,nX,iX=n("vLAJ"),rX={start:function(t){var e=t.checkFunction,n=t.onChange;return setInterval((function(){e()&&n()}),500)},stop:function(t){clearInterval(t)}};function oX(t){var e;switch(null==t?void 0:t.unit){case tX.Mm:return.352777778;case tX.Cm:return.0352777778;case tX.Inch:return.0138888889;case tX.Custom:return null!==(e=null==t?void 0:t.customUnitScale)&&void 0!==e?e:1;case tX.Point:default:return 1}}!function(t){t.Mm="Mm",t.Inch="Inch",t.Cm="Cm",t.Point="Point",t.Custom="Custom"}(tX||(tX={})),function(t){t[t.Default=0]="Default",t[t.Html=1]="Html",t[t.None=2]="None"}(eX||(eX={})),function(t){t.Overlay="Overlay",t.Normal="Normal"}(nX||(nX={}));var sX,aX=function(t){var e="function"==typeof Symbol&&Symbol.iterator,n=e&&t[e],i=0;if(n)return n.call(t);if(t&&"number"==typeof t.length)return{next:function(){return t&&i>=t.length&&(t=void 0),{value:t&&t[i++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")},lX=function(t){var e=this;function n(t){var n;e.pageX=(n=t.touches?t.touches.length>0?t.touches[0]:t.changedTouches[0]:t.pointers.length>0?t.pointers[0]:t.changedPointers[0]).pageX,e.pageY=n.pageY,e.clientX=n.clientX,e.clientY=n.clientY}e.originalEvent=t,e.type=t.type,e.x=t.x,e.y=t.y,"string"==typeof t.type&&-1!==t.type.indexOf("touch")?n(t):null!=t.gesture?n(t.gesture):t&&function(t){e.pageX=t.pageX,e.pageY=t.pageY,e.clientX=t.clientX,e.clientY=t.clientY}(t)},cX=function(){},uX=function(){},hX=function(){function t(t){void 0===t&&(t=null),this._zone=t,this._contentElements=[],this._rulerBorderWidth=1,this._rulerDivision=5,this._contentCtxLocation=null,this._ignoreDocumentClickOnce=!1,this._documentClickEvent=new sB,this._clickEvent=new sB,this._mouseDownEvent=new sB,this._mouseMoveEvent=new sB,this._mouseUpEvent=new sB,this._workspaceDoubleClickEvent=new sB,this._workspaceClickEvent=new sB,this._workspaceChangedEvent=new sB,this._workspaceMouseDownEvent=new sB,this._workspaceMouseUpEvent=new sB,this._workspaceMouseMoveEvent=new sB,this._statusChangedEvent=new sB,this._pinchStartEvent=new sB,this._pinchStopEvent=new sB,this._scrolledEvent=new sB,this._onresizeEvent=new sB,this._zoomedEvent=new sB,this._invokingCallbackRequestEvent=new sB,this._intervalCheckLoop=rX,this._contentAngle=0,this._backColor="#FFFFFF",this._maxZoom=16,this._minZoom=.05,this._screenXDpi=72,this._screenYDpi=72,this._scrollBarsStyle=Nq.auto,this._scrollBarWidth=17,this._scrollingPosition=new QL(0,0),this._viewportAlignment=jq.leftTop,this._zoom=1,this._zoomMode=zq.none,this._zoomQuality=Hq.shrinkHighStretchLow,this._bestFitWhiteSpacePc=0,this._stateFieldId="",this._needUpdateViewport=!1,this._msTouchActionInitialValue="",this._toolTip="",this._accessKey="",this._tabIndex="",this._callbackArgs="",this._callbackContext=0,this._status=Vq.ready,this._exceptionDescription="",this._returnValue="",this._clientSideOptions=new Kq(this),this._delayedRefreshTimeout=1e3,this._refreshTimer=null,this._contentElements=[],this._needToRefresh=!1,this._rulerEnabled=!1,this._rulerWidth=13,this._rulerScale=1,this._rulerOffsetX=0,this._rulerOffsetY=0,this._rulersOnScrollDelegate=null,this._rulersOnZoomDelegate=null,this._activeAjax=0,this._pinchZoomEnabled=!0,this._holderBounds=null,this._contentCtxDimension={},this._viewportLocation={},this._holderElement=null,this._touchFlags=new uX,this._rulers={},this._bodyCursor=null}return Object.defineProperty(t.prototype,"element",{get:function(){return this._viewerElement},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"id",{get:function(){return this._viewerElement.id},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"contentAngle",{get:function(){return this._contentAngle},set:function(t){if(null!=t&&t!==this._contentAngle){this._contentAngle=cB(t);var e="(0, 0)";90===this._contentAngle?e="(0px, -100%)":180===this._contentAngle?e="(-100%, -100%)":270===this._contentAngle&&(e="(-100%, 0px)"),this._contentCtx.style.transform="rotate("+this._contentAngle+"deg) translate"+e,this._contentCtx.style.transformOrigin="left top",this._updateViewport(),this._canvas.setZoom(this.zoom,void 0,{force:!0}),this._canvas.updateSelection(),this._canvas.redraw()}},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"contentWidth",{get:function(){return this._holderBounds.width},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"width",{get:function(){return this._holderBounds.offsetWidth},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"contentHeight",{get:function(){return this._holderBounds.height},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"height",{get:function(){return this._holderBounds.offsetHeight},enumerable:!0,configurable:!0}),t.prototype.notifySizeChanged=function(){this._onResize(null,!1)},t.prototype._renderContent=function(t){return t},Object.defineProperty(t.prototype,"hasContent",{get:function(){return!0},enumerable:!0,configurable:!0}),t.prototype._render=function(){var t="";t+='<div id="cvContent" style="position:absolute; overflow: hidden; box-sizing: content-box; -webkit-box-sizing: content-box; -moz-box-sizing: content-box;',t+=this.hasContent?"width:"+this.contentWidth+"px;height:"+this.contentHeight+"px;":"display:none;";var e=this._getViewportLocation();return t+="left:"+e.x+"px;top:"+e.y+"px",t=this._renderContent(t+='">'),(t+="</div>")+"</div>"},t.prototype._clearElement=function(t){for(;t.firstChild;)t.removeChild(t.firstChild)},t.prototype._rulersOnScroll=function(){this._touchFlags.pinchStarted||this._updateRulersStyle()},t.prototype._rulersOnZoom=function(){this._touchFlags.pinchStarted||(this._drawRulers(),this._updateRulersStyle())},t.prototype._rulersOnMouseMove=function(t,e){if(this.rulerEnabled){var n=this._rulers.topSlideBar,i=this._rulers.leftSlideBar;if(eF.IsTouchDevice()){if(!eF.IsTouchIE())return;if(e.originalEvent.pointerType!=e.originalEvent.MSPOINTER_TYPE_MOUSE)return n.style.left="0px",void(i.style.top="0px")}var r=this._getViewportLocation(),o=this._contentCtxLocation,s=-1,a=-1;isNaN(e.pageX)||isNaN(e.pageY)?e.originalEvent&&(e.originalEvent.touches?(s=e.originalEvent.touches[0].pageX,a=e.originalEvent.touches[0].pageY):(s=e.originalEvent.pageX,a=e.originalEvent.pageY)):(s=e.pageX,a=e.pageY);var l=r.y+a-o.top-this._scrollingPosition.y;n.style.left=r.x+s-o.left-this._scrollingPosition.x+"px",i.style.top=l+"px"}},t.prototype._initializeRulers=function(){var t=this.element.parentNode,e=t.ownerDocument,n="z-index: 2; -webkit-transform: translate3d(0px, 0px, 0px); -moz-transform: translate3d(0px, 0px, 0px)",i=e.createElement("div");i.setAttribute("style",n);var r=e.createElement("div"),o=e.createElement("div");o.setAttribute("style",n);var s=e.createElement("div"),a=e.createElement("div");a.style.zIndex="2";var l=e.createElement("div"),c=e.createElement("div");this._rulers.topRuller=i,this._rulers.leftRuller=o,this._rulers.fullTopRuller=r,this._rulers.fullLeftRuller=s,this._rulers.whiteRect=a,this._rulers.topSlideBar=l,this._rulers.leftSlideBar=c;var u=this.element.id;i.id=u+"_TopRuler",r.id=u+"_FullTopRuler",o.id=u+"_LeftRuler",s.id=u+"_FullLeftRuler",a.id=u+"_WhiteRect",l.id=u+"_TopSlideBar",c.id=u+"_LeftSlideBar",r=i.appendChild(r),s=o.appendChild(s),l=i.appendChild(l),c=o.appendChild(c),i=t.appendChild(i),o=t.appendChild(o),a=t.appendChild(a),i.style.position=r.style.position=o.style.position=s.style.position=a.style.position=l.style.position=c.style.position="absolute",c.style.width=l.style.height=this.rulerWidth+"px",c.style.height=l.style.width="1px",c.style.backgroundColor=l.style.backgroundColor="#ff0000",c.style.overflow=l.style.overflow="hidden",c.style.webkitTransform=l.style.webkitTransform="translate3d(0, 0, 0)",i.style.overflow=o.style.overflow=a.style.overflow="hidden",i.style.visibility=o.style.visibility=a.style.visibility="hidden",a.style.backgroundColor="#909090",t.style.position="relative",this._drawRulers(),this._updateRulersStyle(),this._rulersOnScrollDelegate||(this._rulersOnScrollDelegate=this._rulersOnScroll.bind(this),this.add_scrolled(this._rulersOnScrollDelegate)),this._rulersOnZoomDelegate||(this._rulersOnZoomDelegate=this._rulersOnZoom.bind(this),this.add_zoomed(this._rulersOnZoomDelegate)),this.add_mouseMove(Uq.createBoundedWrapper(this,this._rulersOnMouseMove))},t.prototype._disposeRulers=function(){this._rulersOnScrollDelegate&&(this.remove_scrolled(this._rulersOnScrollDelegate),this._rulersOnScrollDelegate=null),this._rulersOnZoomDelegate&&(this.remove_zoomed(this._rulersOnZoomDelegate),this._rulersOnZoomDelegate=null)},t.prototype._updateRulersStyle=function(){var t=this._rulers.whiteRect,e=this.width,n=this.height,i=this.contentWidth,r=this.contentHeight,o=this.scrollBarWidth,s=this._rulers.leftRuller.style,a=this._rulers.topRuller.style,l=this._rulers.fullTopRuller.style,c=this._rulers.fullLeftRuller.style,u=t.style;if(this._rulerEnabled){s.visibility=a.visibility=u.visibility="inherit",s.backgroundColor=a.backgroundColor="#ffffff",s.borderRight=a.borderBottom=this._rulerBorderWidth+"px solid black";var h=this.scrollBarsStyle==Nq.always,d=this.scrollBarsStyle==Nq.auto,p=h||d&&r>n-this.rulerWidth,f=h||d&&i>e-this.rulerWidth;p=p||f&&d&&r>n-this.rulerWidth-o;var m=(f=f||p&&d&&i>e-this.rulerWidth-o)?n-o:n;a.width=(p?e-o:e)+"px",s.height=m+"px",l.height=a.height=t.style.height=this._rulerWidth+"px",c.width=s.width=t.style.width=this._rulerWidth+"px",a.top=s.top=a.left=s.left=t.style.top=t.style.left="0px";var g=this.scrollingPosition;l.left=-g.x+"px",c.top=-g.y+"px"}else a.width=a.height=s.width=s.height=a.borderWidth=s.borderWidth=u.width=u.height="0px",s.visibility=a.visibility=u.visibility="hidden"},t.prototype._setRulersConfig=function(t){if(null==t?void 0:t.enabled){var e=oX(t);this._rulerEnabled=!0,this._rulerOffsetX=-1*t.origin.X/e,this._rulerOffsetY=-1*t.origin.Y/e,this._rulerScale=e,t.unit===tX.Inch&&(this._rulerDivision=4)}else this._rulerEnabled=!1;this._updateViewport()},t.prototype._drawRulers=function(){if(this._rulerEnabled)for(var t=this.element.parentNode.ownerDocument,e=this._rulers.fullLeftRuller,n=this._rulers.fullTopRuller,i=[{controlLength:this.width,contentLength:this.contentWidth,viewportLocation:this._getViewportLocation().x,factor:this.zoom*this.actualSizeHorizontalScale,ruler:n,startWorkspaceLocation:null,endWorkspaceLocation:null,rulerPixelLength:null,origin:null},{controlLength:this.height,contentLength:this.contentHeight,viewportLocation:this._getViewportLocation().y,factor:this.zoom*this.actualSizeHorizontalScale,ruler:e,startWorkspaceLocation:null,endWorkspaceLocation:null,rulerPixelLength:null,origin:null}],r=[this.rulerOffsetX+this._baseRulersOffset.x,this.rulerOffsetY+this._baseRulersOffset.y],o=this.scrollBarWidth,s=this.scrollBarsStyle==Nq.always,a=this.scrollBarsStyle==Nq.auto,l=this.rulerScale,c=0;c<i.length;c++){i[c].origin=i[c].viewportLocation+r[c]*i[c].factor;var u=s||a&&i[1-c].contentLength>i[1-c].controlLength-this.rulerWidth,h=s||a&&i[c].contentLength>i[c].controlLength-this.rulerWidth;u=u||h&&a&&i[1-c].contentLength>i[1-c].controlLength-this.rulerWidth-o,i[c].rulerPixelLength=(h=h||u&&a&&i[c].contentLength>i[c].controlLength-this.rulerWidth-o)?Math.max(i[c].contentLength+this.rulerWidth,i[c].controlLength-(u?o:0)):u?i[c].controlLength-o:i[c].controlLength,i[c].startWorkspaceLocation=-i[c].origin,i[c].endWorkspaceLocation=i[c].startWorkspaceLocation+i[c].rulerPixelLength,i[c].startWorkspaceLocation/=i[c].factor,i[c].endWorkspaceLocation/=i[c].factor,i[c].startWorkspaceLocation*=l,i[c].endWorkspaceLocation*=l;for(var d=1,p=80/i[c].factor*l,f=1;p>10;)p/=10,f*=10;p>5?(f*=5,d=this._rulerDivision):p>2&&(f*=2,d=2);for(var m=[{location:0,index:0}],g=0;g<i[c].endWorkspaceLocation;)m.push({location:g+=f,index:0});for(g=0;g>i[c].startWorkspaceLocation;)m.push({location:g-=f,index:0});for(this._clearElement(i[c].ruler),C=0;C<m.length;C++){var y=t.createElement("span"),_=Math.abs(Math.round(m[C].location)).toString();y.innerHTML=1==c?_.split("").join("<br/>"):_,y.style.position="absolute",y.style.fontSize="9px",y.style.margin="0px",y.style.padding="0px",y.style.fontFamily="Tahoma, Verdana, Arial;",y.style.backgroundColor="#ffffff";var v=Math.round(m[C].location*i[c].factor/l+i[c].origin);y.style.top=0==c?"-1px":v+2+"px",y.style.left=1==c?"2px":v+2+"px",i[c].ruler.appendChild(y)}var b=1,w={1:{newDiv:this._rulerDivision,fractions:2},2:{newDiv:1,fractions:2}};w[this._rulerDivision]={newDiv:1,fractions:this._rulerDivision};for(var C,x=w[d],E=f/x.fractions;E*i[c].factor/l>4;){for(var S=m.length-1;S>=0;){for(var P=0;P<x.fractions-1;P++)m.push({index:b,location:m[S].location+E*(P+1)});S--}b++,E/=(x=w[x.newDiv]).fractions}for(C=0;C<m.length;C++){var O=t.createElement("div");O.style.position="absolute",O.style.overflow="hidden",O.style.backgroundColor="#000000",O.style.padding="0px",O.style.margin="0px",v=Math.round(m[C].location*i[c].factor/l+i[c].origin);var k=this.rulerWidth,T=Math.max(Math.ceil(k/Math.pow(2,m[C].index)),2);O.style.width=0==c?"1px":T+"px",O.style.height=1==c?"1px":T+"px",O.style.top=0==c?k-T+"px":v+"px",O.style.left=1==c?k-T+"px":v+"px",O.style.webkitTransform="translate3d(0, 0, 0)",i[c].ruler.appendChild(O)}}},t.prototype._generateCssWithPrefixes=function(t,e){var n={};for(var i in t)n[t[i]+"transition"]=e;return n},t.prototype._getPageZoom=function(){return screen.deviceXDPI/screen.logicalXDPI},t.prototype._getActualScrollPosition=function(){var t=this.element;return new QL(t.scrollLeft,t.scrollTop)},t.prototype._getViewportLocation=function(){var t,e,n=this.rulerEnabled?this.rulerWidth:0,i=this._holderBounds,r=i.width-n,o=i.height-n,s=90===this._contentAngle||270===this._contentAngle,a=s?this.contentHeight:this.contentWidth,l=s?this.contentWidth:this.contentHeight;switch(this._viewportAlignment){case jq.centerBottom:case jq.centerCenter:case jq.centerTop:t=Math.floor((r-a)/2);break;case jq.leftBottom:case jq.leftCenter:case jq.leftTop:t=0;break;case jq.rightBottom:case jq.rightCenter:case jq.rightTop:t=r-a}switch(this._viewportAlignment){case jq.centerCenter:case jq.leftCenter:case jq.rightCenter:e=Math.floor((o-l)/2);break;case jq.centerTop:case jq.leftTop:case jq.rightTop:e=0;break;case jq.centerBottom:case jq.leftBottom:case jq.rightBottom:e=o-l}return new QL(Math.max(n,t+n),Math.max(n,e+n))},t.prototype.ignoreDocumentClickOnce=function(){this._ignoreDocumentClickOnce=!0},t.prototype._onDocumentClick=function(t){!0!==this._ignoreDocumentClickOnce?this._documentClickEvent.notify(this,t):this._ignoreDocumentClickOnce=!1},t.prototype._onClick=function(t){this._clickEvent.notify(this,t)},t.prototype._onMouseDown=function(t){this._mouseDownEvent.notify(this,t)},t.prototype._onMouseMove=function(t){this._mouseMoveEvent.notify(this,t)},t.prototype._onMouseUp=function(t){this._mouseUpEvent.notify(this,t)},t.prototype._useWorkspaceCoords=function(t){var e=new lX(t),n=this.pageToWorkspacePoint(e.pageX,e.pageY);return e.x=n.x,e.y=n.y,e},t.prototype._onWorkspaceDoubleClick=function(t){var e=this._useWorkspaceCoords(t);this._workspaceDoubleClickEvent.notify(this,{x:e.x,y:e.y})},t.prototype._onWorkspaceClick=function(t){var e=this._useWorkspaceCoords(t);this._workspaceClickEvent.notify(this,{x:e.x,y:e.y})},t.prototype._onWorkspaceMouseDown=function(t){if(!this._isManyTouches(t)){var e=this._useWorkspaceCoords(t);this._workspaceMouseDownEvent.notify(this,e),eF.IsTouchIE()||this._contentCtx.setCapture()}},t.prototype._onWorkspaceMouseUp=function(t){if(!this._isManyTouches(t)){var e=this._useWorkspaceCoords(t);this._workspaceMouseUpEvent.notify(this,e),this._contentCtx.releaseCapture()}},t.prototype._onWorkspaceMouseMove=function(t){if(this._isManyTouches(t))t.preventDefault();else{var e=this._useWorkspaceCoords(t);this._workspaceMouseMoveEvent.notify(this,e)}},t.prototype._makeInactive=function(t){t.ondrag=function(){return!1},t.unselectable="on"},t.prototype._makeInactiveAll=function(){for(var t=this._contentElements,e=0;e<t.length;e++)this._makeInactive(t[e])},t.prototype._resizeContentElements=function(){for(var t=this.contentWidth,e=this.contentHeight,n=this._contentElements,i=0;i<n.length;i++)n[i].style.width=t+"px",n[i].style.height=e+"px","IMG"==n[i].tagName&&(n[i].width=t,n[i].height=e);this._contentCtxDimension.width=t,this._contentCtxDimension.height=e,this._contentCtxLocation=this._getElementPageCoord(this._contentCtx),this._holderBounds=this._getElementBounds(this.element)},t.prototype._getElementBounds=function(t){for(var e=[];t.length>0&&t!=document;)"none"==t.style.display&&(e.push({element:t,display:t.style.display,visibility:t.style.visibility}),t.style.visibility="hidden",t.style.display="block"),t=t.parent();for(var n=t.clientWidth,i=t.clientHeight,r=t.offsetHeight,o=t.offsetWidth,s=t.offsetTop,a=t.offsetLeft,l=0;l<e.length;l++){var c=e[l];c.element[0].style.visibility=c.visibility,c.element[0].style.display=c.display}return{width:n,height:i,offsetWidth:o,offsetHeight:r,offsetTop:s,offsetLeft:a}},t.prototype._isManyTouches=function(t){if(eF.IsTouchDevice()){var e=t.originalEvent||t;if(window.navigator.pointerEnabled){if(this._touchFlags.multiTouch||!1!==e.isPrimary||(this._touchFlags.multiTouch=!0),this._touchFlags.multiTouch)return!0}else if("object"==typeof e.touches&&null!==e.touches&&"number"==typeof e.touches.length&&e.touches.length>1)return!0}return!1},t.prototype._onTouch=function(t){this._touchFlags.startZoom=this.zoom,this._touchFlags.multiTouch=t.gesture.touches.length>1},t.prototype._onPinch=function(t,e){if(t.gesture.preventDefault(),t.preventDefault(),this._touchFlags.multiTouch=t.gesture.touches.length>1,this._touchFlags.pinchStarted||(this._touchFlags.pinchStarted=!0,this._pinchStartEvent.notify(this)),this.pinchZoomEnabled){var n=this._touchFlags.startZoom*t.gesture.scale,i=new cX;e?i.skipZoomToCenter=!0:(i.centerPageX=t.gesture.center.pageX,i.centerPageY=t.gesture.center.pageY),this.setZoom(n,i)}},t.prototype._onRelease=function(t){this._touchFlags.multiTouch=!1,this._touchFlags.pinchStarted&&(this._touchFlags.pinchStarted=!1,this._pinchStopEvent.notify(this))},t.prototype.initialize=function(t){var e=this;void 0===t&&(t=null),null!=t&&(this._intervalCheckLoop=t);var n=document.createElement("style");n.id="aurigmaStyles",n.type="text/css",n.innerHTML=".aurigmaNoSelect {-webkit-user-select: none;-moz-user-select: none;-ms-user-select: none;user-select: none;}",document.getElementsByTagName("head")[0].appendChild(n);var i=this.element;this._holderBounds=this._getElementBounds(i),this._holderElement=i,i.innerHTML=this._render(),this._makeInactive(i);var r=i.querySelectorAll("#cvContent");this._contentElements.push(this._contentCtx=r[0]),this._addSetCapture(i);var o=this._scrollingPosition;this._scrollInitialized=!0,i.scrollLeft=o.x,i.scrollTop=o.y,this._initializeRulers();var s=this._pointerEvents;eF.IsTouchDevice()&&(iX(this._holderElement,{behavior:{touchAction:"pan-x pan-y"}}).on("touch",Uq.createBoundedWrapper(this,this._onTouch)).on("pinch",Uq.createBoundedWrapper(this,this._onPinch)).on("release",Uq.createBoundedWrapper(this,this._onRelease)),window.navigator.pointerEnabled&&(this._holderElement.style.touchAction=this._msTouchActionInitialValue)),document.addEventListener("click",Uq.createBoundedWrapper(this,this._onDocumentClick)),this._holderElement.addEventListener("contextmenu",(function(t){t.preventDefault()})),this._holderElement.addEventListener("click",Uq.createBoundedWrapper(this,this._onClick)),this._holderElement.addEventListener("scroll",Uq.createBoundedWrapper(this,this._onScroll)),this._contentCtx.addEventListener("click",Uq.createBoundedWrapper(this,this._onWorkspaceClick)),s.start.split(" ").forEach((function(t){e._holderElement.addEventListener(t,Uq.createBoundedWrapper(e,e._onMouseDown)),e._contentCtx.addEventListener(t,Uq.createBoundedWrapper(e,e._onWorkspaceMouseDown))})),s.move.split(" ").forEach((function(t){e._holderElement.addEventListener(t,Uq.createBoundedWrapper(e,e._onMouseMove)),e._contentCtx.addEventListener(t,Uq.createBoundedWrapper(e,e._onWorkspaceMouseMove))})),s.up.split(" ").forEach((function(t){e._holderElement.addEventListener(t,Uq.createBoundedWrapper(e,e._onMouseUp)),e._contentCtx.addEventListener(t,Uq.createBoundedWrapper(e,e._onWorkspaceMouseUp))})),s.cancel.split(" ").forEach((function(t){e._holderElement.addEventListener(t,Uq.createBoundedWrapper(e,e._onMouseUp)),e._contentCtx.addEventListener(t,Uq.createBoundedWrapper(e,e._onWorkspaceMouseUp))})),iX(this._contentCtx,{behavior:{touchAction:"pan-x pan-y"}}).on("doubletap",this._onWorkspaceDoubleClick.bind(this)),this._contentCtxDimension={width:this.contentWidth,height:this.contentHeight},this._contentCtxLocation=this._getElementPageCoord(this._contentCtx),this._updateViewport(),this._updateViewportAlignment(),this._updateRulersStyle(),this.add_pinchStart(Uq.createBoundedWrapper(this,(function(){this._rulers.topRuller.style.opacity=this._rulers.leftRuller.style.opacity=.1}))),this.add_pinchStop(Uq.createBoundedWrapper(this,(function(){this._rulersOnZoom(),this._rulers.topRuller.style.opacity=this._rulers.leftRuller.style.opacity=1}))),this._startIntervalCheckLoop()},t.prototype._startIntervalCheckLoop=function(){var t=this;this._intervalCheckLoop.start({checkFunction:function(){var e=t._getElementBounds(t.element);return t._contentCtxLocation=t._getElementPageCoord(t._contentCtx),e.width>0&&e.width!==t._holderBounds.width||e.height>0&&e.height!==t._holderBounds.height},onChange:function(){var e=t._getElementBounds(t.element);t._holderBounds=e,t._onResize(t,!1)}})},t.prototype.setIntervalCheckLoop=function(t){null!=t&&(this._intervalCheckLoop=t,this._startIntervalCheckLoop())},Object.defineProperty(t.prototype,"_pointerEvents",{get:function(){var t="mousedown",e="mousemove",n="mouseup",i="";return eF.IsTouchDevice()&&(window.navigator.pointerEnabled?(t="pointerdown",e="pointermove",n="pointerup",i="pointerCancel"):(t="mousedown touchstart",e="mousemove touchmove",n="mouseup touchend",i="touchcancel")),{start:t,move:e,up:n,cancel:i}},enumerable:!0,configurable:!0}),t.prototype._onScroll=function(t){this._scrollInitialized?this._scrollInitialized=!1:(this._scrollingPosition=this._getActualScrollPosition(),this._contentCtxLocation=this._getElementPageCoord(this._contentCtx),this._scrolledEvent.notify(this))},t.prototype._onResize=function(t,e){this._updateViewport(),this._updateViewportAlignment(),this._updateRulersStyle(),this._scrollingPosition=this._getActualScrollPosition(),this._onresizeEvent.notify(this),this._contentCtxLocation=this._getElementPageCoord(this._contentCtx)},t.prototype._updateViewport=function(){if(this.hasContent){var t=this.calculateZoomByZoomMode(this.zoomMode);if(!(null==t||t<0)){this._zoom=Math.min(Math.max(t,this.minZoom),this.getMaxZoom()),this._resizeContentElements();var e=this._getViewportLocation();this._contentCtx.style.left=e.x+"px",this._contentCtx.style.top=e.y+"px",this._viewportLocation=e,this._zoomedEvent.notify(this)}}},t.prototype._addSetCapture=function(t){var e=this._viewerElement;if(HTMLElement){var n=HTMLElement.prototype,i=["click","mousedown","mouseup","mousemove","mouseover","mouseout"],r=null;n.setCapture=function(){var t,e;document.querySelector("body").classList.add("aurigmaNoSelect"),r=this;try{for(var n=aX(i),o=n.next();!o.done;o=n.next())window.addEventListener(o.value,s,!0)}catch(a){t={error:a}}finally{try{o&&!o.done&&(e=n.return)&&e.call(n)}finally{if(t)throw t.error}}};var o=n.releaseCapture;n.releaseCapture=function(){var t,e;document.querySelector("body").classList.remove("aurigmaNoSelect"),null!=o&&o.call(this);try{for(var n=aX(i),a=n.next();!a.done;a=n.next())window.removeEventListener(a.value,s,!0)}catch(l){t={error:l}}finally{try{a&&!a.done&&(e=n.return)&&e.call(n)}finally{if(t)throw t.error}}r=null};var s=function(t){window.removeEventListener(t.type,s,!0);var n=t.path||t.composedPath();null==r||null!=e&&n.some((function(t){return t.id===e.id}))||r.dispatchEvent(a(t)),window.addEventListener(t.type,s,!0)},a=function(t){var e;document.createEvent?(e=document.createEvent("MouseEvent")).initMouseEvent(t.type,t.bubbles,t.cancelable,t.view,t.detail,t.screenX,t.screenY,t.clientX,t.clientY,t.ctrlKey,t.altKey,t.shiftKey,t.metaKey,t.button,t.relatedTarget):e=new MouseEvent(t.type,t);var n=t.buttons;return e.buttons!==n&&Object.defineProperty(e,"buttons",{get:function(){return n}}),e}}},t.prototype._getElementPageCoord=function(t){var e=t.getBoundingClientRect();return{left:e.left+window.scrollX,top:e.top+window.scrollY}},t.prototype._zoomToPagePoint=function(t,e,n){var i=this.pageToControlPoint(e,n),r=this.pageToWorkspacePoint(e,n,!0);this._setZoom(t);var o=this.workspaceToContentPoint(r),s=this.rulerEnabled?this._rulerWidth:0,a=new QL(Math.round(o.x-i.x+s),Math.round(o.y-i.y+s));this.scrollingPosition=a},t.prototype._updateViewportAlignment=function(){var t=this._getViewportLocation();this._contentCtx.style.left=t.x+"px",this._contentCtx.style.top=t.y+"px"},Object.defineProperty(t.prototype,"scrollingSize",{get:function(){var t=this.element,e=t.scrollWidth-t.clientWidth,n=t.scrollHeight-t.clientHeight;return e<0&&(e=0),n<0&&(n=0),new QL(Math.round(e),Math.round(n))},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"contentCtx",{get:function(){return this._contentCtx},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"clientSideOptions",{get:function(){return this._clientSideOptions},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"zoomConfig",{get:function(){return console.log("not implemented"),null},enumerable:!0,configurable:!0}),t.prototype.setCursor=function(t,e){if(void 0===e&&(e=!1),this._getElementForCursor().style.cursor=Uq.cursorToCss(t),null!=window){if((t=!0===e?t:Gq.defaultCursor)===this._bodyCursor)return;window.document.querySelector("body").style.cursor=Uq.cursorToCss(t),this._bodyCursor=t}},t.prototype._getElementForCursor=function(){return this._contentCtx},Object.defineProperty(t.prototype,"delayedRefreshTimeout",{get:function(){return this._delayedRefreshTimeout},set:function(t){this._delayedRefreshTimeout=t},enumerable:!0,configurable:!0}),t.prototype.getMaxZoom=function(){return this._maxZoom>0?this._maxZoom:2.5},t.prototype.setMaxZoom=function(t){this._maxZoom=t,this.zoom>this.getMaxZoom()&&this.setZoom(this.getMaxZoom(),null)},Object.defineProperty(t.prototype,"minZoom",{get:function(){return this.zoomConfig?this.zoomConfig.min:this._minZoom>0?this._minZoom:.001},set:function(t){this._minZoom=t,this.zoom<this.minZoom&&this.setZoom(this.minZoom,null)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"screenXDpi",{get:function(){return this._screenXDpi},set:function(t){this._screenXDpi=t},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"screenYDpi",{get:function(){return this._screenYDpi},set:function(t){this._screenYDpi=t},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"scrollBarsStyle",{get:function(){return this._scrollBarsStyle},set:function(t){this._scrollBarsStyle=t},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"scrollBarWidth",{get:function(){if(null==this._actualScrollbarWidth){var t=document.createElement("div");t.style.visibility="hidden",t.style.width="100px",t.style.overflow="scroll",document.body.appendChild(t);var e=document.createElement("div");e.style.width="100%",t.appendChild(e),this._actualScrollbarWidth=100-e.offsetWidth,t.remove()}return this._actualScrollbarWidth},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"scrollingPosition",{get:function(){return this._scrollingPosition=this._getActualScrollPosition(),this._scrollingPosition.round()},set:function(t){var e=this.element;e.scrollLeft=t.x,e.scrollTop=t.y;var n=this.scrollingPosition;this._scrollingPosition=new QL(n.x,n.y),this._scrolledEvent.notify(this)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"viewportAlignment",{get:function(){return this._viewportAlignment},set:function(t){this._viewportAlignment=t,this._updateViewportAlignment(),this._drawRulers(),this._updateRulersStyle()},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"zoom",{get:function(){return this._zoom},enumerable:!0,configurable:!0}),t.prototype.setZoom=function(t,e){var n,i;if(e){if(e.skipZoomToCenter)return this._setZoom(t),this._zoom;n=e.centerPageX,i=e.centerPageY}else{var r=this._getElementPageCoord(this.element),o=this.rulerEnabled?this._rulerWidth:0,s=this._holderBounds.height-o;n=Math.round(r.left+o+(this._holderBounds.width-o)/2),i=Math.round(r.top+o+s/2)}return this._zoomToPagePoint(t,n,i),this._zoom},t.prototype._setZoom=function(t){this._zoom==t&&this._zoomMode==zq.none||(this._zoom=Math.min(Math.max(t,this.minZoom),this.getMaxZoom()),this._zoomMode=zq.none,this._updateViewport())},Object.defineProperty(t.prototype,"pinchZoomEnabled",{get:function(){return this._pinchZoomEnabled},set:function(t){this._pinchZoomEnabled=t},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"rulerEnabled",{get:function(){return this._rulerEnabled},set:function(t){var e=t?"block":"none";this._rulers.fullLeftRuller.style.display=e,this._rulers.fullTopRuller.style.display=e,this._rulers.leftRuller.style.display=e,this._rulers.topRuller.style.display=e,this._rulers.whiteRect.style.display=e,this._rulerEnabled=t,this.zoomMode=this.zoomMode},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"rulerScale",{get:function(){return this._rulerScale},set:function(t){if(t<=0)throw new Error("Ruler scale should be greater 0.");this._rulerScale=t,this._updateViewport()},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"rulerDivision",{get:function(){return this._rulerDivision},set:function(t){if(t<=0)throw new Error("Ruler division should be greater 0.");this._rulerDivision=t,this._updateViewport()},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"rulerOffsetX",{get:function(){return this._rulerOffsetX},set:function(t){this._rulerOffsetX=t,this._updateViewport()},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"rulerOffsetY",{get:function(){return this._rulerOffsetY},set:function(t){this._rulerOffsetY=t,this._updateViewport()},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"rulerWidth",{get:function(){return this._rulerWidth},set:function(t){this._rulerWidth=t,this._updateViewport()},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"zoomMode",{get:function(){return this._zoomMode},set:function(t){this._setZoomMode(t)},enumerable:!0,configurable:!0}),t.prototype._setZoomMode=function(t){this._zoomMode=t,this._updateViewport()},Object.defineProperty(t.prototype,"bestFitWhiteSpacePc",{get:function(){return 100*this._bestFitWhiteSpacePc},set:function(t){"number"==typeof t&&!isNaN(t)&&t>=0&&t<99&&(this._bestFitWhiteSpacePc=t/100),this.zoomMode=this.zoomMode},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"zoomQuality",{get:function(){return this._zoomQuality},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"status",{get:function(){return this._status},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"exceptionDescription",{get:function(){return this._exceptionDescription},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"returnValue",{get:function(){return this._returnValue},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"workspaceWidth",{get:function(){throw new Error("Not implemented")},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"workspaceHeight",{get:function(){throw new Error("Not implemented")},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"actualSizeHorizontalScale",{get:function(){throw new Error("Not implemented")},enumerable:!0,configurable:!0}),t.prototype.calculateZoomByZoomMode=function(t){if(null!=this._holderBounds){var e=this.workspaceWidth*this.screenXDpi/72,n=this.workspaceHeight*this.screenYDpi/72,i=this.rulerEnabled?this.rulerWidth+this._rulerBorderWidth:0,r=this._holderBounds,o=r.offsetWidth-i,s=r.offsetHeight-i,a=90===this._contentAngle||270===this._contentAngle,l=a?n:e,c=a?e:n,u=o/l,h=s/c,d=this.scrollBarWidth,p=(o-d)/l,f=(s-d)/c,m=this._scrollBarsStyle===Nq.always,g=this.zoom;switch(t){case zq.bestFit:this._bestFitWhiteSpacePc>0&&(u=(o-o*this._bestFitWhiteSpacePc)/l,h=(s-s*this._bestFitWhiteSpacePc)/c,p=(o-d-(o-d)*this._bestFitWhiteSpacePc)/l,f=(s-d-(s-d)*this._bestFitWhiteSpacePc)/c),g=m?Math.min(p,f):Math.min(u,h);break;case zq.bestFitShrinkOnly:g=m?Math.min(p,f):Math.min(u,h),g=Math.min(1,g);break;case zq.fitToHeight:g=m?f:Math.round(h*l)<=o?h:f;break;case zq.fitToHeightShrinkOnly:g=m?Math.min(1,f):Math.round(Math.min(1,h)*l)<=o?Math.min(1,h):Math.min(1,f);break;case zq.fitToWidth:g=m?p:Math.round(u*c)<=s?u:p;break;case zq.fitToWidthShrinkOnly:g=m?Math.min(1,p):Math.round(Math.min(1,u)*c)<=s?Math.min(1,u):Math.min(1,p)}return g}},t.prototype.clearRenderCtx=function(t){for(;t.childNodes.length>0;)t.removeChild(t.childNodes[0])},t.prototype.workspaceToContentPoint=function(t){return this.controlToContentPoint(this.workspaceToControlPoint(t))},t.prototype.controlToContentPoint=function(t){var e=this._getViewportLocation(),n=this._getActualScrollPosition(),i=new QL(0,0),r=t.y;return i.x=t.x-e.x+n.x,i.y=r-e.y+n.y,i.round()},t.prototype.controlToPagePoint=function(t){var e=this._getElementPageCoord(this.element),n=t.y+e.top;return new QL(Math.round(t.x+e.left),Math.round(n))},t.prototype.contentToControlPoint=function(t){var e=this._getViewportLocation(),n=this._getActualScrollPosition(),i=new QL(0,0);return i.x=t.x+e.x-n.x,i.y=t.y+e.y-n.y,i.round()},t.prototype.controlToContentRectangle=function(t){var e=new QL(t.left,t.top),n=new QL(t.left+t.width,t.top+t.height);return e=this.controlToContentPoint(e),n=this.controlToContentPoint(n),new aB(e.x,e.y,n.x-e.x,n.y-e.y)},t.prototype.contentToControlRectangle=function(t){var e=new QL(t.left,t.top),n=new QL(t.left+t.width,t.top+t.height);return e=this.contentToControlPoint(e),n=this.contentToControlPoint(n),new aB(e.x,e.y,n.x-e.x,n.y-e.y)},t.prototype.workspaceToControlPoint=function(t){var e=this.zoom,n=t.y,i=new QL(Math.round(t.x*e*this._screenXDpi/72),Math.round(n*e*this._screenYDpi/72));return this.contentToControlPoint(i).round()},t.prototype.workspaceToWhiteSpacePoint=function(t){var e=this.workspaceToContentPoint(t),n=this.rulerEnabled?this.rulerWidth:0,i=this._getViewportLocation();return new QL(e.x-n+i.x,e.y-n+i.y)},t.prototype.whitespaceToWorkspacePoint=function(t){var e=this.rulerEnabled?this.rulerWidth:0,n=this._getViewportLocation();return this.controlToWorkspacePoint(this.contentToControlPoint(new QL(t.x-n.x+e,t.y-n.y+e)))},t.prototype.controlToWorkspacePoint=function(t){var e=this.zoom,n=this.controlToContentPoint(t);return new QL(n.x/(e*this._screenXDpi/72),n.y/(e*this._screenYDpi/72))},t.prototype.workspaceToControlRectangle=function(t){var e=this.zoom,n=this._screenXDpi/72*e,i=this._screenYDpi/72*e,r=new aB(Math.round(t.left*n),Math.round(t.top*i),Math.round(t.width*n),Math.round(t.height*i));return this.contentToControlRectangle(r)},t.prototype.pageToControlPoint=function(t,e){var n=this._getElementPageCoord(this.element),i=e-n.top;return new QL(Math.round(t-n.left),Math.round(i))},t.prototype.pageToWorkspacePoint=function(t,e,n){void 0===n&&(n=!1);var i=this.controlToWorkspacePoint(this.pageToControlPoint(t,e)),r=new QL(i.x,i.y),o=this.contentAngle;return o>0&&!0!==n&&(r.rotate(-o),90===o?r.translate(0,this._canvas.workspaceHeight):180===o?r.translate(this._canvas.workspaceWidth,this._canvas.workspaceHeight):270===o&&r.translate(this._canvas.workspaceWidth,0)),new QL(r.x,r.y)},t.prototype.controlToWorkspaceRectangle=function(t){var e=this.zoom,n=1/(e*this._screenXDpi/72),i=1/(e*this._screenYDpi/72),r=this.controlToContentRectangle(t);return new aB(r.left*n,r.top*i,r.width*n,r.height*i)},t.prototype.abort=function(){this._status==Vq.busy&&(this._callbackContext++,this._exceptionDescription="",this._status=Vq.ready)},t.prototype.dispose=function(){this._disposeRulers()},t.prototype.delayedRefresh=function(){this._refreshTimer&&window.clearTimeout(this._refreshTimer);var t=Uq.createBoundedWrapper(this,(function(){this._refreshTimer=null,this.refresh()}));this._refreshTimer=window.setTimeout(t,this._delayedRefreshTimeout)},t.prototype._refresh=function(){},t.prototype.refresh=function(){this._status==Vq.busy?this._needToRefresh=!0:(this._needToRefresh=!1,this._refresh())},t.prototype._raiseInvokingCallbackRequest=function(){this._invokingCallbackRequestEvent.notify(this)},t.prototype.add_onResize=function(t){this._onresizeEvent.add(t)},t.prototype.remove_onResize=function(t){this._onresizeEvent.remove(t)},t.prototype.add_invokingCallbackRequest=function(t){this._invokingCallbackRequestEvent.add(t)},t.prototype.remove_invokingCallbackRequest=function(t){this._invokingCallbackRequestEvent.remove(t)},t.prototype.add_workspaceChanged=function(t){this._workspaceChangedEvent.add(t)},t.prototype.remove_workspaceChanged=function(t){this._workspaceChangedEvent.remove(t)},t.prototype.add_scrolled=function(t){this._scrolledEvent.add(t)},t.prototype.remove_scrolled=function(t){this._scrolledEvent.remove(t)},t.prototype.add_statusChanged=function(t){this._statusChangedEvent.add(t)},t.prototype.remove_statusChanged=function(t){this._statusChangedEvent.remove(t)},t.prototype.add_pinchStart=function(t){this._pinchStartEvent.add(t)},t.prototype.remove_pinchStart=function(t){this._pinchStartEvent.remove(t)},t.prototype.add_pinchStop=function(t){this._pinchStopEvent.add(t)},t.prototype.remove_pinchStop=function(t){this._pinchStopEvent.remove(t)},t.prototype.add_zoomed=function(t){this._zoomedEvent.add(t)},t.prototype.remove_zoomed=function(t){this._zoomedEvent.remove(t)},t.prototype.add_click=function(t){this._clickEvent.add(t)},t.prototype.remove_click=function(t){this._clickEvent.remove(t)},t.prototype.add_mouseDown=function(t){this._mouseDownEvent.add(t)},t.prototype.remove_mouseDown=function(t,e){this._mouseDownEvent.remove(t)},t.prototype.add_mouseMove=function(t){this._mouseMoveEvent.add(t)},t.prototype.remove_mouseMove=function(t){this._mouseMoveEvent.remove(t)},t.prototype.add_mouseUp=function(t){this._mouseUpEvent.add(t)},t.prototype.remove_mouseUp=function(t){this._mouseUpEvent.remove(t)},t.prototype.add_workspaceClick=function(t){this._workspaceClickEvent.add(t)},t.prototype.remove_workspaceClick=function(t){this._workspaceClickEvent.remove(t)},t.prototype.add_workspaceDoubleClick=function(t){this._workspaceDoubleClickEvent.add(t)},t.prototype.remove_workspaceDoubleClick=function(t){this._workspaceDoubleClickEvent.remove(t)},t.prototype.add_workspaceMouseDown=function(t){this._workspaceMouseDownEvent.add(t)},t.prototype.remove_workspaceMouseDown=function(t){this._workspaceMouseDownEvent.remove(t)},t.prototype.add_workspaceMouseMove=function(t){this._workspaceMouseMoveEvent.add(t)},t.prototype.remove_workspaceMouseMove=function(t){this._workspaceMouseMoveEvent.remove(t)},t.prototype.add_workspaceMouseUp=function(t){this._workspaceMouseUpEvent.add(t)},t.prototype.remove_workspaceMouseUp=function(t){this._workspaceMouseUpEvent.remove(t)},t}(),dX=function(){function t(){var t=this;this._visible=!1,this._changedEvent=new rB,this._onSurfacePropertyChanged=function(e,n){switch(n){case"width":case"height":t._updateGrid()}}}return Object.defineProperty(t.prototype,"surface",{get:function(){return this._surface},set:function(t){this._surface!==t&&(null!=this._surface&&this.surface.removePropertyChanged(this._onSurfacePropertyChanged),this._surface=t,null!=this._surface&&this.surface.addPropertyChanged(this._onSurfacePropertyChanged),this._updateGrid())},enumerable:!0,configurable:!0}),t.prototype.setConfig=function(t,e){this._config=t,this._rulersConfig=e},Object.defineProperty(t.prototype,"gridContainers",{get:function(){var t=new JH;return null!=this._gridContainer&&t.add(this._gridContainer),t},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"gridContainer",{get:function(){return this._gridContainer},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"visible",{get:function(){return this._visible},set:function(t){this._visible!==t&&(this._visible=t,this._updateGrid())},enumerable:!0,configurable:!0}),t.prototype.addChanged=function(t){this._changedEvent.add(t)},t.prototype.removeChanged=function(t){this._changedEvent.remove(t)},t.prototype._updateGrid=function(){null!=this._gridContainer&&this._width==this.surface.width&&this._height==this.surface.height||(this._gridContainer=this._createGrid()),null!=this._gridContainer&&this._gridContainer.visible!==this._visible&&(this._gridContainer.visible=this._visible,this._changedEvent.fire())},t.prototype._createGrid=function(){if(null==this.surface)return null;if(this._width=this.surface.width,this._height=this.surface.height,0===this.surface.width||0===this.surface.height)return null;if(null==this._config)return null;var t=new eV;t.locked=!0,t.visible=!1,t.name="Grid";var e=oX(this._rulersConfig),n=this._config.stepX/e,i=this._config.stepY/e;if(n>0&&i>0){var r=Math.round(this._width/n)+1,o=Math.round(this._height/i)+1;if(r>0&&r!==Number.POSITIVE_INFINITY&&o>0&&o!==Number.POSITIVE_INFINITY){var s=new eW(0,0,r,o,n,i);s.horizontalLineColor=QB.createColor(this._config.horizontalColor),s.verticalLineColor=QB.createColor(this._config.verticalColor),s.lineWidth=this._config.lineWidthPx,s.fixedLineWidth=!0,t.items.add(s)}}return t},t}(),pX=n("EtXl"),fX=function(){return(fX=Object.assign||function(t){for(var e,n=1,i=arguments.length;n<i;n++)for(var r in e=arguments[n])Object.prototype.hasOwnProperty.call(e,r)&&(t[r]=e[r]);return t}).apply(this,arguments)},mX=function(t){var e="function"==typeof Symbol&&Symbol.iterator,n=e&&t[e],i=0;if(n)return n.call(t);if(t&&"number"==typeof t.length)return{next:function(){return t&&i>=t.length&&(t=void 0),{value:t&&t[i++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")},gX=function(){function t(e){var n=this;this._changedEvent=new sB,this._visibilityChangedEvent=new rB,this._containers=null,this._visible=!1,this._printZoneConf=t._getDefaultPrintZoneConfig(),this._onPrintAreaAdded=function(t){n._clearCurrentSafetyLinesContainers(),n._subscribePrintAreaEvents(t.item),n._changedEvent.notify(n)},this._onPrintAreaRemoved=function(t){n._clearCurrentSafetyLinesContainers(),n._unsubscribePrintAreaEvents(t.item),n._changedEvent.notify(n)},this._onSafetyLinePropertyChanged=function(){n._clearCurrentSafetyLinesContainers(),n._changedEvent.notify(n)},this._onSafetyLinesCollectionRemoved=function(t){n._unsubscribeSafetyLineEvents(t.item),n._clearCurrentSafetyLinesContainers(),n._changedEvent.notify(n)},this._onSafetyLinesCollectionAdded=function(t){n._subscribeSafetyLineEvents(t.item),n._clearCurrentSafetyLinesContainers(),n._changedEvent.notify(n)},this._onPrintAreaPropertyChanged=function(t,e){"bleed"!==e&&"slug"!==e&&"bounds"!==e||(n._clearCurrentSafetyLinesContainers(),n._changedEvent.notify(n))},this._onPrintAreaPropertyChangedDebounce=pX.debounce(this._onPrintAreaPropertyChanged,100),this.conf=e}return Object.defineProperty(t.prototype,"conf",{set:function(e){var n=t._getDefaultPrintZoneConfig();this._printZoneConf.bleed=fX(fX({},n.bleed),(null==e?void 0:e.bleed)||{}),this._printZoneConf.trim=fX(fX({},n.trim),(null==e?void 0:e.trim)||{})},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"surface",{get:function(){return this._surface},set:function(t){var e=this;this._surface!==t&&(null!=this._surface&&(this._surface.printAreas.remove_itemAdded(this._onPrintAreaAdded),this._surface.printAreas.remove_itemRemoved(this._onPrintAreaRemoved),this._surface.printAreas.forEach((function(t){return e._subscribePrintAreaEvents(t)}))),this._surface=t,this._clearCurrentSafetyLinesContainers(),null!=this._surface&&(this._surface.printAreas.add_itemAdded(this._onPrintAreaAdded),this._surface.printAreas.add_itemRemoved(this._onPrintAreaRemoved),this._surface.printAreas.forEach((function(t){return e._subscribePrintAreaEvents(t)}))))},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"safetyLinesContainers",{get:function(){return null==this._containers&&(this._containers=this._buildSafetyLinesContainers()),this._containers},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"visible",{get:function(){return this._visible},set:function(t){var e,n;if(this._visible!==t&&(this._visible=t,null!=this._containers)){var i=!1;try{for(var r=mX(this._containers),o=r.next();!o.done;o=r.next()){var s=o.value;s.visible!==this._visible&&(s.visible=this._visible,i=!0)}}catch(a){e={error:a}}finally{try{o&&!o.done&&(n=r.return)&&n.call(r)}finally{if(e)throw e.error}}i&&this._visibilityChangedEvent.notify()}},enumerable:!0,configurable:!0}),t.prototype.addChanged=function(t){this._changedEvent.add(t)},t.prototype.removeChanged=function(t){this._changedEvent.remove(t)},t.prototype.addVisibilityChanged=function(t){this._visibilityChangedEvent.add(t)},t.prototype.removeVisibilityChanged=function(t){this._visibilityChangedEvent.remove(t)},t.prototype._clearCurrentSafetyLinesContainers=function(){this._containers=null},t.prototype._subscribePrintAreaEvents=function(t){var e=this;t.safetyLines.add_itemAdded(this._onSafetyLinesCollectionAdded),t.safetyLines.add_itemRemoved(this._onSafetyLinesCollectionRemoved),t.safetyLines.forEach((function(t){return e._subscribeSafetyLineEvents(t)})),t.addPropertyChanged(this._onPrintAreaPropertyChangedDebounce)},t.prototype._unsubscribePrintAreaEvents=function(t){var e=this;t.safetyLines.forEach((function(t){return e._unsubscribeSafetyLineEvents(t)})),t.safetyLines.remove_itemAdded(this._onSafetyLinesCollectionAdded),t.safetyLines.remove_itemRemoved(this._onSafetyLinesCollectionRemoved),t.removePropertyChanged(this._onPrintAreaPropertyChangedDebounce)},t.prototype._subscribeSafetyLineEvents=function(t){t.addPropertyChanged(this._onSafetyLinePropertyChanged)},t.prototype._unsubscribeSafetyLineEvents=function(t){t.removePropertyChanged(this._onSafetyLinePropertyChanged)},t.prototype._buildSafetyLinesContainers=function(){var t,e,n,i,r=new JH;if(null==this.surface)return r;try{for(var o=mX(this.surface.printAreas),s=o.next();!s.done;s=o.next()){var a=s.value;if(null!=a.safetyLines)try{for(var l=(n=void 0,mX(a.safetyLines)),c=l.next();!c.done;c=l.next()){var u=c.value,h=this._createContainer("SafetyLines["+a.name+"]"),d=this._createDashedRectangleFromSafetyLine(a.bounds,u);h.items.add(d),r.add(h)}}catch(f){n={error:f}}finally{try{c&&!c.done&&(i=l.return)&&i.call(l)}finally{if(n)throw n.error}}if(!a.bleed.isEmpty){h=this._createContainer("Bleed["+a.name+"]"),r.add(h);var p=this._printZoneConf.bleed;d=this._createDashedRect(a.getBounds(e$.Bleed),p.width,p.step,QB.createColor(p.color),"bleed",p.altColor&&QB.createColor(p.altColor)),h.items.add(d)}a.slug.isEmpty&&a.bleed.isEmpty||(h=this._createContainer("Trim["+a.name+"]"),r.add(h),d=this._createDashedRect(a.bounds,(p=this._printZoneConf.trim).width,p.step,QB.createColor(p.color),"trim",p.altColor&&QB.createColor(p.altColor)),h.items.add(d))}}catch(m){t={error:m}}finally{try{s&&!s.done&&(e=o.return)&&e.call(o)}finally{if(t)throw t.error}}return r},t.prototype._createContainer=function(t){var e=new eV;return e.locked=!0,e.name="Bleed["+t+"]",e.visible=this._visible,e},t.prototype._createDashedRectangleFromSafetyLine=function(t,e){var n=e.getRectangle(t),i=e.getCornerRadiuses(t);return this._createDashedRect(n,e.widthPx,e.stepPx,e.color,e.name,e.altColor,i)},t.prototype._createDashedRect=function(t,e,n,i,r,o,s){var a=bB.roundedRectangle(t.left,t.top,t.width,t.height,s),l=new UV(a);return l.name=m$.voPrefix+"_"+r+"_shape",l.borderColor=i,l.fillColor=QB.createColor("transparent"),l.fixedBorderWidth=!0,l.borderWidth=e,null!=o&&(l.altBorderColor=o),l.dash=[n,3],l},t.prototype.dispose=function(){var t=this;null!=this._surface&&(this._surface.printAreas.remove_itemAdded(this._onPrintAreaAdded),this._surface.printAreas.remove_itemRemoved(this._onPrintAreaRemoved),this._surface.printAreas.forEach((function(e){return t._unsubscribePrintAreaEvents(e)})))},t._getDefaultPrintZoneConfig=function(){return{bleed:{color:"rgb(255, 0, 0)",altColor:"rgb(255, 0, 0)",step:1,width:1},trim:{color:"rgb(255, 0, 0)",step:5,width:1}}},t}(),yX=function(){function t(t,e){null==t&&(t={}),null==e&&(e=!0),this.noPrint=null==t.NoPrint?e:!!t.NoPrint,this.noShow=null==t.NoShow?e:!!t.NoShow,this.allowDelete=null==t.AllowDelete?e:!!t.AllowDelete,this.allowMoveHorizontal=null==t.AllowMoveHorizontal?e:!!t.AllowMoveHorizontal,this.allowMoveVertical=null==t.AllowMoveVertical?e:!!t.AllowMoveVertical,this.allowRotate=null==t.AllowRotate?e:!!t.AllowRotate,this.resizeGrips=null==t.ResizeGrips?new uV(e,e):uV._fromData(t.ResizeGrips),this.allowEditContent=null==t.AllowEditContent?e:!!t.AllowEditContent,this.showSelectButton=null==t.ShowSelectButton?e:!!t.ShowSelectButton,this.showHandleButton=null==t.ShowHandleButton?e:!!t.ShowHandleButton,this.showDoneButton=null==t.ShowDoneButton?e:!!t.ShowDoneButton,this.showDeleteToolbarButton=null==t.ShowDeleteToolbarButton?e:!!t.ShowDeleteToolbarButton,this.showEditToolbarButton=null==t.ShowEditToolbarButton?e:!!t.ShowEditToolbarButton,this.showSelectToolbarButton=null==t.ShowSelectToolbarButton?e:!!t.ShowSelectToolbarButton,this.allowDragAndDrop=null==t.AllowDragAndDrop?e:!!t.AllowDragAndDrop}return t.prototype.clone=function(){var e=new t;for(var n in this)this.hasOwnProperty(n)&&("resizeGrips"!==n?e[n]=this[n]:e.resizeGrips=null!=this.resizeGrips?this.resizeGrips.clone():null);return e},Object.defineProperty(t.prototype,"allowProportionalResize",{get:function(){return this.resizeGrips.getCornerProportional()},set:function(t){this.resizeGrips.setCornerProportional(t)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"allowArbitraryResize",{get:function(){return!!this.resizeGrips&&(this.resizeGrips.getCornerArbitrary()||this.resizeGrips.edge)},set:function(t){this.resizeGrips.setCornerArbitrary(t),this.resizeGrips.edge=t},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"allowResize",{get:function(){return this.allowProportionalResize||this.allowArbitraryResize},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"allowFreeMove",{get:function(){return this.allowMoveHorizontal&&this.allowMoveVertical},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"allowMove",{get:function(){return this.allowMoveHorizontal||this.allowMoveVertical},enumerable:!0,configurable:!0}),t}(),_X=function(){function t(t){this.__type="ItemHandlerData",this.P=[],this.Tg=null,this.ID="vo"+(new Date).getTime()+Math.round(1e3*Math.random()),t&&(this.P=t.controlPoints,this.Tg=t.tag,this.ID=t.uniqueId)}return t.prototype.applyState=function(t,e){e&&(e.beginUpdate(),e.controlPoints=t.P,e.tag=t.Tg,e.uniqueId=t.ID,e.endUpdate())},t}(),vX=function(){function t(t){this.id=t}return t.prototype.isEmpty=function(){return null==this.color&&null==this.fill&&null==this.border&&null==this.altBorder&&null==this.altColor&&null==this.stroke&&null==this.shadow&&null==this.verticalLineColor&&null==this.horizontalLineColor},t}(),bX=function(){function t(){}return t.drawLine=function(e,n,i,r,o,s,a,l){void 0===l&&(l=1),!t.isFullTransparentColor(a)&&s>0&&(null==l||l>0)&&(e.save(),l&&(e.globalAlpha=e.globalAlpha*l),e.lineWidth=s,e.strokeStyle=a,e.beginPath(),e.moveTo(n,i),e.lineTo(r,o),e.closePath(),e.stroke(),e.restore())},t.drawDashedLine=function(e,n,i,r,o,s,a,l,c,u,h){if(void 0===h&&(h=1),s>0&&c>0&&u>0&&(null==h||h>0)){if(e.save(),h&&(e.globalAlpha=e.globalAlpha*h),e.lineWidth=s,r<n){var d=n;n=r,r=d,d=i,i=o,o=d}var p,f=r-n,m=o-i,g=c+u,y=Math.sqrt(f*f+m*m),_=Math.floor(y/g),v=(f/=y/g)*(c/g),b=f*(u/g),w=(m/=y/g)*(c/g),C=m*(u/g),x=n,E=i;if(!t.isFullTransparentColor(a)){for(e.strokeStyle=a,e.beginPath(),e.moveTo(x,E),p=0;p<_;p++)e.lineTo(x+=v,E+=w),x+=b,E+=C,p+1<_&&e.moveTo(x,E);x+v<=r&&E+w<=o?(e.moveTo(x,E),e.lineTo(x+v,E+w)):(e.moveTo(x,E),e.lineTo(r,o)),e.closePath(),e.stroke()}if(x=n+v,E=i+w,!t.isFullTransparentColor(l)){for(e.strokeStyle=l,e.beginPath(),e.moveTo(x,E),p=0;p<_;p++)e.lineTo(x+=b,E+=C),x+=v,E+=w,p+1<_&&e.moveTo(x,E);x<r&&E<o&&(e.moveTo(x,E),e.lineTo(r,o)),e.closePath(),e.stroke()}e.restore()}},t.drawPolyline=function(e,n,i,r,o){if(!t.isFullTransparentColor(r)&&i>0&&(null==o||o>0)&&n&&n.length>1){e.save(),o&&(e.globalAlpha=e.globalAlpha*o),e.lineWidth=i,e.strokeStyle=r,e.beginPath(),e.moveTo(n[0].x,n[0].y);for(var s=1,a=n.length;s<a;++s){var l=n[s];e.lineTo(l.x,l.y)}e.stroke(),e.restore()}},t.drawPath=function(e,n,i,r,o,s,a){t.path(e,n,i,r,null,o,s,a,[])},t.fillPath=function(e,n,i,r,o,s){t.path(e,n,i,r,o,0,null,s,[])},t.path=function(e,n,i,r,o,s,a,l,c){var u=null!=a&&!t.isFullTransparentColor(a)&&s>0,h=null!=o&&!t.isFullTransparentColor(o);if((u||h)&&(null==l||l>0)){e.save(),l&&(e.globalAlpha=e.globalAlpha*l);var d=r.toMatrix();if(e.translate(i.x,i.y),e.transform(d.m00,d.m10,d.m01,d.m11,d.m02,d.m12),e.translate(-i.x,-i.y),n instanceof bB?n.draw(e):"function"==typeof n.addToContext&&n.addToContext(e),h&&(e.fillStyle=o,e.fill()),u){if(n instanceof bB&&!gB(r.scaleX,r.scaleY)){e.restore(),e.save(),l&&(e.globalAlpha=l);var p=n.clone();p.transform(r,i),p.draw(e)}else if(s/=r.scaleX,c&&c.length>0)for(var f=0;f<c.length;f++)c[f]/=r.scaleX;e.lineWidth=s,e.strokeStyle=a,e.setLineDash(c),e.stroke()}e.restore()}},t.clipPath=function(t,e){e.draw(t),t.clip()},t.drawImage=function(e,n,i,r,o,s,a,l,c){if(void 0===s&&(s=!1),void 0===a&&(a=null),void 0===l&&(l=1),void 0===c&&(c=null),null==l||l>0){e.save(),l&&(e.globalAlpha=e.globalAlpha*l),e.translate(i.centerX,i.centerY),e.rotate(pB(i.angle));var u=null!=c?c.width:n.naturalWidth||e.canvas.width,h=null!=c?c.height:n.naturalHeight||e.canvas.height,d=null!=r&&0!==r&&null!=o&&0!==o&&Math.abs(u-i.width*r)<1&&Math.abs(h-i.height*o)<1;s||(s=(e.imageSmoothingEnabled||!0===e.msImageSmoothingEnabled)&&Math.abs(i.angle)%90<.01&&d),s&&(e.imageSmoothingEnabled=!1,e.msImageSmoothingEnabled=!1);try{d?(e.scale(1/r,1/o),null!=c?e.drawImage(n,c.left,c.top,c.width,c.height,-i.width*r/2,-i.height*o/2,u,h):e.drawImage(n,-i.width*r/2,-i.height*o/2,u,h),e.scale(r,o)):null!=c?e.drawImage(n,c.left,c.top,c.width,c.height,-i.width/2,-i.height/2,i.width,i.height):e.drawImage(n,-i.width/2,-i.height/2,i.width,i.height),a&&!t.isFullTransparentColor(a)&&(e.fillStyle=a,e.fillRect(-i.width/2,-i.height/2,i.width,i.height))}catch(p){}s&&(e.imageSmoothingEnabled=!0,e.msImageSmoothingEnabled=!0),e.restore()}},t.drawRectangle=function(e,n,i,r,o){t.rectangle(e,n,i,r,null,o)},t.fillRectangle=function(e,n,i,r){t.rectangle(e,n,0,null,i,r)},t.rectangle=function(e,n,i,r,o,s){void 0===o&&(o=null),void 0===s&&(s=1);var a=r&&!t.isFullTransparentColor(r)&&i>0,l=o&&!t.isFullTransparentColor(o);(a||l)&&(null==s||s>0)&&(e.save(),s&&(e.globalAlpha=e.globalAlpha*s),e.translate(n.centerX,n.centerY),e.rotate(pB(n.angle)),l&&(e.fillStyle=o,e.fillRect(-n.width/2,-n.height/2,n.width,n.height)),a&&(e.lineWidth=i,e.strokeStyle=r,e.strokeRect(-n.width/2,-n.height/2,n.width,n.height)),e.restore())},t.isFullTransparentColor=function(t){if(!t)return!1;var e=t.A||t.a;return 0===e||!("string"!=typeof t||!(e=/^\s*rgba\(\s*\d{1,3}\s*,\s*\d{1,3}\s*,\s*\d{1,3}\s*\,\s*(\d{1,}(\.\d{1,})?)\s*\)\s*;{0,1}\s*$/i.exec(t)))&&0===parseFloat(e[1])},t.clearCanvas=function(t,e){void 0===e&&(e=!1),e&&(t.save(),t.setTransform(1,0,0,1,0,0)),t.clearRect(0,0,t.canvas.width,t.canvas.height),e&&t.restore()},t.drawRoundedRectangle=function(t,e,n){t.roundedRectangle(e.left,e.top,e.width,e.height,n)},t}();CanvasRenderingContext2D.prototype.roundedRectangle=function(t,e,n,i,r){var o=2*Math.PI/2,s=2*Math.PI/4;this.beginPath(),this.arc(r+t,r+e,r,-s,o,!0),this.lineTo(t,e+i-r),this.arc(r+t,i-r+e,r,o,s,!0),this.lineTo(t+n-r,e+i),this.arc(t+n-r,e+i-r,r,s,0,!0),this.lineTo(t+n,e+r),this.arc(t+n-r,e+r,r,0,-s,!0),this.lineTo(t+r,e),this.stroke(),this.fill(),this.closePath()},function(t){t[t.Hidden=0]="Hidden",t[t.Bottom=1]="Bottom",t[t.Active=2]="Active",t[t.Top=3]="Top"}(sX||(sX={}));var wX,CX=function(){function t(){var t=this;this._promise=new Promise((function(e,n){t._resolve=e,t._reject=n}))}return Object.defineProperty(t.prototype,"promise",{get:function(){return this._promise},enumerable:!0,configurable:!0}),t.prototype.resolve=function(t){this._resolve(t)},t.prototype.reject=function(t){this._reject(t)},t}(),xX=function(t,e,n,i){return new(n||(n=Promise))((function(r,o){function s(t){try{l(i.next(t))}catch(e){o(e)}}function a(t){try{l(i.throw(t))}catch(e){o(e)}}function l(t){var e;t.done?r(t.value):(e=t.value,e instanceof n?e:new n((function(t){t(e)}))).then(s,a)}l((i=i.apply(t,e||[])).next())}))},EX=function(t,e){var n,i,r,o,s={label:0,sent:function(){if(1&r[0])throw r[1];return r[1]},trys:[],ops:[]};return o={next:a(0),throw:a(1),return:a(2)},"function"==typeof Symbol&&(o[Symbol.iterator]=function(){return this}),o;function a(o){return function(a){return function(o){if(n)throw new TypeError("Generator is already executing.");for(;s;)try{if(n=1,i&&(r=2&o[0]?i.return:o[0]?i.throw||((r=i.return)&&r.call(i),0):i.next)&&!(r=r.call(i,o[1])).done)return r;switch(i=0,r&&(o=[2&o[0],r.value]),o[0]){case 0:case 1:r=o;break;case 4:return s.label++,{value:o[1],done:!1};case 5:s.label++,i=o[1],o=[0];continue;case 7:o=s.ops.pop(),s.trys.pop();continue;default:if(!((r=(r=s.trys).length>0&&r[r.length-1])||6!==o[0]&&2!==o[0])){s=0;continue}if(3===o[0]&&(!r||o[1]>r[0]&&o[1]<r[3])){s.label=o[1];break}if(6===o[0]&&s.label<r[1]){s.label=r[1],r=o;break}if(r&&s.label<r[2]){s.label=r[2],s.ops.push(o);break}r[2]&&s.ops.pop(),s.trys.pop();continue}o=e.call(t,s)}catch(a){o=[6,a],i=0}finally{n=r=0}if(5&o[0])throw o[1];return{value:o[0]?o[1]:void 0,done:!0}}([o,a])}}},SX=function(){function t(t){var e=this;this._isDisposed=!1,this._tag=null,this._afterUpdateCallbacks=[],this._modelItem=null,this._memoryCanvas=null,this._textureCanvas=null,this._skipPropertyChanged=!1,this._skippedPropertyName=null,this._transformOperation=null,this._baseOnItemPropertyChanged=function(t,n){e._skipPropertyChanged?e._skippedPropertyName=n:e._onItemPropertyChanged(t,n)},this._isCurrentWebServiceCallForAll=null,this._updating=!1,this._readyEvent=new sB,this._changingEvent=new rB,this._changedEvent=new rB,this._itemPropertyChangedEvent=new sB,this._setItem(t),this._controlPoints=[],this._layer=null,this._tag=null,this._permissions=this._createItemHandlerPermissions(),this._uniqueId=this._createUniqueID(),this._callbacks=[],this._renderState=sX.Hidden}return Object.defineProperty(t.prototype,"item",{get:function(){return this._modelItem},set:function(t){this._setItem(t)},enumerable:!0,configurable:!0}),t.prototype._getItem=function(){return this._modelItem},t.prototype._setItem=function(t){this._unsubscribeItemEvents(),this._modelItem=t,this._subscribeItemEvents()},t.prototype._subscribeItemEvents=function(){null!=this._modelItem&&this._modelItem.addPropertyChanged(this._baseOnItemPropertyChanged)},t.prototype._unsubscribeItemEvents=function(){null!=this._modelItem&&this._modelItem.removePropertyChanged(this._baseOnItemPropertyChanged)},t.prototype._onItemPropertyChanged=function(t,e){switch(e){case"locked":case"opacity":case"blendMode":null!=this.canvas&&(this.canvas.updateSelection(),this.canvas.redraw()),this.raiseChanged();break;case"name":null!=this.canvas&&this.canvas.updateHoverDiv();break;case"transform":null!=this.canvas&&(this.canvas.updateSelection(),this.canvas.redraw()),this._transformChanged();break;case"visible":this._onItemVisibilityChanged();break;case"manipulationPermissions":case"visualizationPermissions":case"itemPermissions":case"permissions":this._permissions=null,this.quickUpdate(),this.canvas&&this.canvas.redraw(),this.raiseChanged(),this._updateVisibility()}this._itemPropertyChangedEvent.notify(this,e)},t.prototype._onItemVisibilityChanged=function(){this.quickUpdate(),null!=this.canvas&&(this.canvas.updateSelection(),this.canvas.redraw()),this.raiseChanged()},t.prototype._createUniqueID=function(){return"vo"+(new Date).getTime()+Math.round(1e3*Math.random())},t.prototype._updateVisibility=function(){},Object.defineProperty(t.prototype,"ready",{get:function(){return!0},enumerable:!0,configurable:!0}),t.prototype._isLoadingImage=function(){return!1},t.prototype._setIsLoadingImage=function(t){throw new qR},Object.defineProperty(t.prototype,"isLoadingImage",{get:function(){return this._isLoadingImage()},set:function(t){this.isLoadingImage!==t&&this._setIsLoadingImage(t)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"uniqueId",{get:function(){return this._uniqueId},set:function(t){this._uniqueId=t},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"renderState",{get:function(){return this._renderState},set:function(t){this._renderState=t},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"parentGroupItemHandler",{get:function(){return null!=this.item.parentGroupItem&&null!=this.canvas?this.canvas.handlerFactory.get(this.item.parentGroupItem):null},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"blendMode",{get:function(){return this.item.blendMode},enumerable:!0,configurable:!0}),t.prototype.hasBlendMode=function(){return null!=this.item.blendMode&&this.item.blendMode!=vV.None&&this.item.blendMode!=vV.Normal},Object.defineProperty(t.prototype,"controlPoints",{get:function(){return this._controlPoints},set:function(t){this._controlPoints=t,this.raiseChanged()},enumerable:!0,configurable:!0}),t.prototype._createItemHandlerPermissions=function(){var t=this.item.manipulationPermissions,e=this.item.visualizationPermissions,n=this.item.itemPermissions;return new yX({AllowDelete:t.allowDelete,AllowMoveHorizontal:t.allowMoveHorizontal,AllowMoveVertical:t.allowMoveVertical,AllowRotate:t.allowRotate,ResizeGrips:null!=t.resizeGrips?{Edge:t.resizeGrips.edge,Corner:t.resizeGrips.corner}:null,AllowDragAndDrop:t.allowDragAndDrop,NoPrint:e.noPrint,NoShow:e.noShow,ShowDeleteToolbarButton:n.itemToolbarPermissions.showDeleteButton,ShowEditToolbarButton:n.itemToolbarPermissions.showEditButton,ShowSelectToolbarButton:n.itemToolbarPermissions.showSelectButton},!0)},t.prototype.getPermissions=function(){return null==this._permissions&&(this._permissions=this._createItemHandlerPermissions()),this._permissions},t.prototype._transformChanged=function(){this.raiseChanged()},Object.defineProperty(t.prototype,"tag",{get:function(){return this._tag},set:function(t){this._tag=t,this.raiseChanged()},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"canvas",{get:function(){return this._canvas},set:function(t){if(t!==this._canvas){var e=this._canvas;this._canvas=t,null!=this._canvas?this._onAddedOnCanvas(t):this._onRemovedFromCanvas(e)}},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"layer",{get:function(){return this._layer},set:function(t){this._layer=t,this.quickUpdate()},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"index",{get:function(){return null!=this._layer&&null!=this._canvas?this._canvas.flatGroupItemsInLayer(this._layer).indexOf(this):-1},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"bounds",{get:function(){return new aB(0,0,0,0)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"name",{get:function(){return this.item.name},set:function(t){this.item.name=t},enumerable:!0,configurable:!0}),t.prototype.getTypeName=function(){return this.constructor.typeName},t.prototype._createDataInstance=function(t){return new _X(t)},t.prototype.getData=function(t){var e=this._createDataInstance(this);return"asObject"===t?e:JSON.stringify(e)},t.prototype._getDataItem=function(){return(new S$).serializeModelComponent(this.item)},t.prototype._applyDataItem=function(t,e){var n=this,i=(new S$).productParser.parseItem(t);this._modifyItem((function(){n._setDataItem(i,e)}))},t.prototype._setDataItem=function(t,e){this.item.transform=t.transform.clone(),this.setData(e)},t.prototype.updateItem=function(t){this._skippedPropertyName=null,this._modifyItem((function(e){e.update(t)})),null!=this._skippedPropertyName&&(this._onItemPropertyChanged(this.item,this._skippedPropertyName),null!=this.canvas&&this.canvas.updateSelection())},t.prototype._modifyItem=function(t){if("function"==typeof t){this._skipPropertyChanged=!0;try{t(this.item)}finally{this._skipPropertyChanged=!1}}},t.prototype.setData=function(t){var e;t&&""!==t&&(e="string"==typeof t?JSON.parse(t):t,this._createDataInstance().applyState(e,this))},Object.defineProperty(t.prototype,"visible",{get:function(){return this.item.visible},set:function(t){this._setVisible(t)},enumerable:!0,configurable:!0}),t.prototype._setVisible=function(t){this.item.visible=t},t.prototype.isVisible=function(){var e=this,n=function(i){var r,o=i.parentGroupItem;if(null==o)return!1;if(!o.visible||o.visualizationPermissions.noShow)return!0;var s=null===(r=e.canvas)||void 0===r?void 0:r.handlerFactory.get(o);return!(!s||s.isVisible())||!(!s||!t.isGroupHandler(s)||s.isChildVisible(e))||n(o)};return this.visible&&!this.getPermissions().noShow&&(null==this.layer||this.layer.getVisible())&&!n(this.item)},t.isGroupHandler=function(t){return t._isGroupHandler()},t.prototype.isEmpty=function(){return!1},Object.defineProperty(t.prototype,"locked",{get:function(){return this.item.locked},set:function(t){this.item.locked=t},enumerable:!0,configurable:!0}),t.prototype.isLocked=function(){return this.locked||null!=this.layer&&this.layer.locked},t.prototype._onAddedOnCanvas=function(t,e){null!=t&&(t.updateTexts(),e||this.update())},t.prototype._onRemovedFromCanvas=function(t){this._canvas=null},t.prototype.processEvent=function(t){},t.prototype.hitTest=function(t){throw new Error("Not implemented")},t.prototype._convertBlendModeToGlobalOperation=function(t){var e=null;switch(t){case vV.Normal:e="normal";break;case vV.Multiply:e="multiply";break;case vV.Screen:e="screen";break;case vV.Overlay:e="overlay";break;case vV.Darken:e="darken";break;case vV.Lighten:e="lighten";break;case vV.ColorDodge:e="color-dodge";break;case vV.ColorBurn:e="color-burn";break;case vV.HardLight:e="hard-light";break;case vV.SoftLight:e="soft-light";break;case vV.Difference:e="difference";break;case vV.Exclusion:e="exclusion";break;case vV.None:default:e="none"}return e},t.prototype.draw=function(t,e){if(void 0===e&&(e=null),null!=t&&null!=this.canvas&&null!=this.layer){var n=t.globalCompositeOperation,i=this.hasBlendMode()?this._convertBlendModeToGlobalOperation(this.blendMode):n,r=null!=this.canvas.maskedLayers&&this.canvas.maskedLayers.includes(this.layer);t.globalAlpha=r?.2:1;var o=t.canvas.width,s=t.canvas.height,a=eF.screenDpi*this.canvas.zoom/72,l=eF.screenDpi*this.canvas.zoom/72;if(null!=e&&(t.save(),bX.clipPath(t,e)),this.isNormalRenderingType)this.hasBlendMode()&&(t.globalCompositeOperation=i),this.drawItemHandler(t),this.hasBlendMode()&&(t.globalCompositeOperation=n);else{var c=this.layer.textureImage;if(null==c)return void this.canvas.drawWaitClock(t,this.bounds.center);var u=this._getTemporaryCanvas(o,s),h=u.getContext("2d"),d=this._getTextureCanvas(o,s),p=d.getContext("2d"),f=new CB(o/2,s/2,o,s);bX.drawImage(p,c,f,a,l,this.canvas.disableSmoothing),h.scale(a,l),h.translate(this.canvas.offset.x,this.canvas.offset.y),this.drawItemHandler(h,t),p.globalCompositeOperation="destination-in",p.drawImage(u,0,0,o,s),t.drawImage(d,-this.canvas.offset.x,-this.canvas.offset.y,o/a,s/l)}null!=e&&t.restore()}},t.prototype.drawItemHandler=function(t,e){},Object.defineProperty(t.prototype,"isNormalRenderingType",{get:function(){return null==this.layer||this.layer.renderingType===ZH.Normal},enumerable:!0,configurable:!0}),t.prototype._getTemporaryCanvas=function(t,e){return null==this._memoryCanvas&&(this._memoryCanvas=document.createElement("canvas")),this._memoryCanvas.width=t,this._memoryCanvas.height=e,this._memoryCanvas},t.prototype._getTextureCanvas=function(t,e){return null==this._textureCanvas&&(this._textureCanvas=document.createElement("canvas")),this._textureCanvas.width=t,this._textureCanvas.height=e,this._textureCanvas},t.prototype.updateColors=function(){return null!=this.canvas&&this.hasColorsToUpdate()?this.canvas.updateColors(this):Promise.resolve()},t.prototype.getColorData=function(){return new vX(this.item.id)},t.prototype.setColorData=function(t){},t.prototype.hasColorsToUpdate=function(){return!1},t.prototype.quickUpdate=function(){},t.prototype.update=function(t,e){},t.prototype._validateBeforeCallService=function(){return!0},t.prototype.updateForExternalCanvas=function(t){this._serverSideUpdate(null,null,null,t)},t.prototype._update=function(t,e,n){this._serverSideUpdate(t,e,n,null)},t.prototype._serverSideUpdate=function(t,e,n,i){var r=this;if(this.isUpdating)this._callbacks.push(e);else{"function"==typeof e&&e(),null!=n&&this._afterUpdateCallbacks.push(n);var o=this._createDataInstance(this),s=[JSON.stringify(o),JSON.parse(this._getDataItem())];null!=t&&(s=s.concat(t)),null==this._handlerUpdated&&(this._handlerUpdated=new CX),this._validateBeforeCallService()?this._callService("Update"+this.getTypeName(),s,(function(t){if(null!=r.item){var e=null;"object"==typeof t&&(e=t.item,t=t.itemHandlerData),null!=e&&r._applyDataItem(e,t),r.setData(t),0===r._afterUpdateCallbacks.length?r.quickUpdate():(r._afterUpdateCallbacks.forEach((function(t){return t.apply(r)})),r._afterUpdateCallbacks=[],r.quickUpdate(),r.raiseChanged()),r.onSuccessResponse(),r.item.getItemChangedEvent().notify()}}),(function(t){r.onErrorResponse(t)}),i):this._onValidateBeforeCallServiceFailed()}},t.prototype._callService=function(t,e,n,i,r){var o=null!=r?r:this.canvas;if(null!=o&&o.isInitialized&&!o.initialization){var s=o.getCallService(t,e,n,i,this.isNormalRenderingType||null==this.layer?null:this.layer.uniqueId);this._updateActiveWebServiceCall(s)}else this._handlerUpdated=null},t.prototype.updateActiveColorWebServiceCall=function(t,e){return xX(this,void 0,void 0,(function(){return EX(this,(function(n){switch(n.label){case 0:return null==this._activeWebServiceCall?[3,2]:[4,this._activeWebServiceCall];case 1:n.sent(),n.label=2;case 2:return null!=this._activeColorWebServiceCall&&(this._activeColorWebServiceCall.cancel(),this._isCurrentWebServiceCallForAll&&!e)?(t.cancel(),this._isCurrentWebServiceCallForAll=e,this.canvas.updateColors(),this._activeColorWebServiceCall=null,[2]):(null==this._handlerUpdated&&(this._handlerUpdated=new CX),this._activeColorWebServiceCall=t,this._isCurrentWebServiceCallForAll=e,[2])}}))}))},t.prototype._updateActiveWebServiceCall=function(t){return xX(this,void 0,void 0,(function(){return EX(this,(function(e){switch(e.label){case 0:return this._cancelWebServiceCall(),this._activeWebServiceCall=t,null==this._activeColorWebServiceCall?[2]:(this._activeColorWebServiceCall.cancel(),this._activeColorWebServiceCall=null,[4,this._handlerUpdated.promise]);case 1:return e.sent(),this._isCurrentWebServiceCallForAll?this.canvas.updateColors():this.updateColors(),[2]}}))}))},t.prototype._startTransform=function(t){this.startTransform(t)},t.prototype.startTransform=function(t){this._transformOperation=t,this._cancelWebServiceCall()},t.prototype.endTransform=function(t,e,n){void 0===n&&(n=!1),this._transformOperation=null},t.prototype._cancelWebServiceCall=function(){null!=this._activeWebServiceCall&&(this._activeWebServiceCall.cancel(),this._activeWebServiceCall=null)},t.prototype.waitUpdate=function(){return xX(this,void 0,void 0,(function(){return EX(this,(function(t){switch(t.label){case 0:return null==this._handlerUpdated?[3,2]:[4,this._handlerUpdated.promise];case 1:t.sent(),t.label=2;case 2:return[2]}}))}))},Object.defineProperty(t.prototype,"isUpdating",{get:function(){return this._updating},enumerable:!0,configurable:!0}),t.prototype.beginUpdate=function(){this._updating=!0},t.prototype.endUpdate=function(){this._updating=!1,this.updated();for(var t=!1;this._callbacks.length>0;){var e=this._callbacks.shift();"function"==typeof e&&(e(),t=!0)}t&&this.update()},t.prototype.updated=function(){this.raiseChanged()},t.prototype.addReady=function(t){this._readyEvent.add(t)},t.prototype.removeReady=function(t){this._readyEvent.remove(t)},t.prototype._dispatchReadyEvent=function(){this._readyEvent.notify(this)},t.prototype.addChanging=function(t){this._changingEvent.add(t)},t.prototype.removeChanging=function(t){this._changingEvent.remove(t)},t.prototype.raiseChanging=function(t){this._changingEvent.notify(t=null!=t?t:this.item),this.item.getItemChangingEvent().notify(this.item)},t.prototype.getChangingEvent=function(){return this._changingEvent},t.prototype.addChanged=function(t){this._changedEvent.add(t)},t.prototype.removeChanged=function(t){this._changedEvent.remove(t)},t.prototype.raiseChanged=function(){this.isUpdating||this._changedEvent.notify(this)},t.prototype.getChangedEvent=function(){return this._changedEvent},t.prototype.addItemPropertyChanged=function(t){this._itemPropertyChangedEvent.add(t)},t.prototype.removeItemPropertyChanged=function(t){this._itemPropertyChangedEvent.remove(t)},t.prototype.initialize=function(){},t.prototype._onValidateBeforeCallServiceFailed=function(){this._handlerUpdated.resolve(),this._handlerUpdated=null},t.prototype.onSuccessResponse=function(t){void 0===t&&(t=Xq.Item),t==Xq.Item?this._activeWebServiceCall=null:t==Xq.Color&&(this._activeColorWebServiceCall=null),null==this._activeWebServiceCall&&null==this._activeColorWebServiceCall&&null!=this._handlerUpdated&&(this._handlerUpdated.resolve(),this._handlerUpdated=null)},t.prototype.onErrorResponse=function(t,e){void 0===e&&(e=Xq.Item),e==Xq.Item?this._activeWebServiceCall=null:e==Xq.Color&&(this._activeColorWebServiceCall=null),this._afterUpdateCallbacks=[],null==this._activeWebServiceCall&&null==this._activeColorWebServiceCall&&null!=this._handlerUpdated&&(this._handlerUpdated.reject(t),this._handlerUpdated=null)},t.prototype.validateActiveColorWebServiceCall=function(){null!=this._activeColorWebServiceCall?this.hasColorsToUpdate()||(this._activeColorWebServiceCall=null,null==this._activeWebServiceCall&&(this._handlerUpdated=null)):null==this._activeWebServiceCall&&(this._handlerUpdated=null)},t.prototype.dispose=function(){var t;this._unsubscribeItemEvents(),this._cancelWebServiceCall(),null===(t=this._activeColorWebServiceCall)||void 0===t||t.cancel(),this._activeColorWebServiceCall=null,this._isDisposed=!0},t.prototype._isGroupHandler=function(){return!0},t.typeName="ItemHandler",t}();!function(t){t[t.NotContent=0]="NotContent",t[t.PlaceholderContent=1]="PlaceholderContent",t[t.TopFrame=2]="TopFrame",t[t.BottomFrame=3]="BottomFrame"}(wX||(wX={}));var PX,OX,kX,TX=function(){function t(){}return t.getBounds=function(t,e,n){var i,r,o,s;return r=this,void 0,s=function(){var r;return function(t,e){var n,i,r,o,s={label:0,sent:function(){if(1&r[0])throw r[1];return r[1]},trys:[],ops:[]};return o={next:a(0),throw:a(1),return:a(2)},"function"==typeof Symbol&&(o[Symbol.iterator]=function(){return this}),o;function a(o){return function(a){return function(o){if(n)throw new TypeError("Generator is already executing.");for(;s;)try{if(n=1,i&&(r=2&o[0]?i.return:o[0]?i.throw||((r=i.return)&&r.call(i),0):i.next)&&!(r=r.call(i,o[1])).done)return r;switch(i=0,r&&(o=[2&o[0],r.value]),o[0]){case 0:case 1:r=o;break;case 4:return s.label++,{value:o[1],done:!1};case 5:s.label++,i=o[1],o=[0];continue;case 7:o=s.ops.pop(),s.trys.pop();continue;default:if(!((r=(r=s.trys).length>0&&r[r.length-1])||6!==o[0]&&2!==o[0])){s=0;continue}if(3===o[0]&&(!r||o[1]>r[0]&&o[1]<r[3])){s.label=o[1];break}if(6===o[0]&&s.label<r[1]){s.label=r[1],r=o;break}if(r&&s.label<r[2]){s.label=r[2],s.ops.push(o);break}r[2]&&s.ops.pop(),s.trys.pop();continue}o=e.call(t,s)}catch(a){o=[6,a],i=0}finally{n=r=0}if(5&o[0])throw o[1];return{value:o[0]?o[1]:void 0,done:!0}}([o,a])}}}(this,(function(o){switch(o.label){case 0:return null===(i=this.getBoundsSync(t,e))||void 0===i?[3,1]:(r=i,[3,3]);case 1:return[4,n.getPathBoundsFromServer(t)];case 2:r=o.sent(),o.label=3;case 3:return[2,r]}}))},new((o=void 0)||(o=Promise))((function(t,e){function n(t){try{a(s.next(t))}catch(n){e(n)}}function i(t){try{a(s.throw(t))}catch(n){e(n)}}function a(e){var r;e.done?t(e.value):(r=e.value,r instanceof o?r:new o((function(t){t(r)}))).then(n,i)}a((s=s.apply(r,[])).next())}))},t.getBoundsSync=function(t,e){if(void 0===e&&(e=null),null!=e){var n=t.toTextWhizzPath(e).getBounds();return new aB(n.x,n.y,n.width,n.height)}return this._isDomBoundsEnabled?this._getDOMBounds(t):null},Object.defineProperty(t,"_isDomBoundsEnabled",{get:function(){return!this._getDOMBounds(this._testRectangle).isEmpty()},enumerable:!0,configurable:!0}),t._getDOMBounds=function(t){var e=document.createElementNS("http://www.w3.org/2000/svg","svg");e.style.position="absolute",e.style.visibility="hidden";var n=document.createElementNS("http://www.w3.org/2000/svg","path");e.appendChild(n),n.setAttribute("d",t.toString());var i=document.querySelector("body");i.appendChild(e);var r=n.getBBox(),o=new aB(r.x,r.y,r.width,r.height);return i.removeChild(e),o},t._testRectangle=bB.rectangle(0,0,10,10),t}(),IX=function(){var t=function(e,n){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(e,n)};return function(e,n){function i(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(i.prototype=n.prototype,new i)}}(),AX=function(t){function e(e,n,i,r,o,s){void 0===s&&(s=null);var a=t.call(this,o)||this;a._textWhizz=s,a.floatingItemToolbar=null,a.selectToolbarButton=null,a.deleteToolbarButton=null,a.editToolbarButton=null,a._transformChanging=new oB(a),a._doubleClickEvent=new sB,a._clickEvent=new sB,a._deleteToolbarButtonClickEvent=new sB,a._editToolbarButtonClickEvent=new sB,a._selectToolbarButtonClickEvent=new sB,a._violationWarningButtonClick=new sB,a._violationWarningButtonClickEvent=new sB;var l=e||0,c=n||0,u=i||0,h=r||0;return a._controlPoints=[new QL(l,c),new QL(l+u,c+h)],a._allowNegativeResize=!1,a._selectionTolerance=0,a.floatingItemToolbar=null,a.selectToolbarButton=null,a.deleteToolbarButton=null,a.editToolbarButton=null,a._deleteToolbarButtonClickHandler=a._onDeleteToolbarButtonClick.bind(a),a._editToolbarButtonClickHandler=a._onEditToolbarButtonClick.bind(a),a._selectToolbarButtonClickHandler=a._onSelectToolbarButtonClick.bind(a),a._throttleSizeChanging=pX.throttle((function(){this.raiseChanging()}),100),a._violationWarningButton=null,a._violationWarningButtonClickHandler=a._onViolationWarningButtonClick.bind(a),a._violationContainer=null,a._updateVectorMaskCenterSync(),a}return IX(e,t),e.prototype._onItemPropertyChanged=function(e,n){switch(n){case"opacity":case"transform":break;case"locked":this._updateVisibility();break;case"textWrappingMode":null!=this.canvas&&this.canvas.updateTexts();break;case"mask":this._updateVectorMaskCenter();break;case"violationSettings":this.canvas.updateViolationContainer(this)}t.prototype._onItemPropertyChanged.call(this,e,n)},e.prototype._onItemVisibilityChanged=function(){t.prototype._onItemVisibilityChanged.call(this),this._updateVisibility()},Object.defineProperty(e.prototype,"allowNegativeResize",{get:function(){return this._allowNegativeResize},enumerable:!0,configurable:!0}),e.prototype._getBoundsMargin=function(){return 0},Object.defineProperty(e.prototype,"transformChanging",{get:function(){return this._transformChanging},enumerable:!0,configurable:!0}),e.prototype.getControlBounds=function(){var t=Math.max(this._controlPoints[0].x,this._controlPoints[1].x),e=Math.max(this._controlPoints[0].y,this._controlPoints[1].y),n=Math.min(this._controlPoints[0].x,this._controlPoints[1].x),i=Math.min(this._controlPoints[0].y,this._controlPoints[1].y);return new aB(n,i,t-n,e-i)},e.prototype.getControlCenter=function(){var t=this.getControlBounds();return new QL(t.left+t.width/2,t.top+t.height/2)},e.prototype._getRectangle=function(){var t=CB.fromRectangleF(this.getControlBounds());return t.setTransform(this.item.transform),t},Object.defineProperty(e.prototype,"rectangle",{get:function(){return this._getRectangle()},enumerable:!0,configurable:!0}),e.prototype.setRectangle=function(t,e){var n=CB.fromRectangleF(this.getControlBounds()),i=t.getTransform(n);this.item.setTransform(i,e)},Object.defineProperty(e.prototype,"bounds",{get:function(){var t=this.rectangle,e=this._getBoundsMargin();return t.width+=t.width>0?e:-e,t.height+=t.height>0?e:-e,t.bounds},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"drawingRectangle",{get:function(){return this.rectangle},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"angle",{get:function(){return this.item.transform.angle},set:function(t){this.item.transform.setAngle(t)},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"height",{get:function(){return this.rectangle.height},set:function(t){var e=this.rectangle;e.height=t,this.setRectangle(e)},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"width",{get:function(){return this.rectangle.width},set:function(t){var e=this.rectangle;e.width=t,this.setRectangle(e)},enumerable:!0,configurable:!0}),e.prototype.setLocation=function(t){var e=this.rectangle;e.location=t,this.setRectangle(e)},Object.defineProperty(e.prototype,"startRectangle",{get:function(){return null!=this._startRectangle?this._startRectangle:null},enumerable:!0,configurable:!0}),e.prototype._onAddedOnCanvas=function(e,n){t.prototype._onAddedOnCanvas.call(this,e,n),null!=e&&(null!=this._contentType&&this._contentType!==wX.NotContent||(e.addFloatingItemToolbar(this),e.addViolationContainer(this)),this._updateVectorMaskCenter())},e.prototype._onRemovedFromCanvas=function(e){t.prototype._onRemovedFromCanvas.call(this,e),null!=e&&(e.removeFloatingItemToolbar(this),e.removeViolationContainer(this))},e.prototype.onTextWhizzInit=function(){this._updateVectorMaskCenter()},e.prototype.update=function(){this.updateColors(),this._updateDeleteAndEditGroup(),this._updateViolationContainersVisibility()},e.prototype.hitTest=function(t){return this.canvas.hitTestSelection(this._getHighlightRectangle(),t)},e.prototype._calculateTransformedRectangle=function(t,n){var i;if(this._startRectangle.equals(t))i=n.clone();else{var r=this._startRectangle.clone();i=e.transformRectangleByTwoRectanglesDiff(r,t,n)}return i},e.prototype._onTransformRectangle=function(t,e,n){if(null!=t&&null!=e&&null!=this._startRectangle){var i=this._calculateTransformedRectangle(t,e);this.setRectangle(i,!0)}},e.prototype._transformRectangle=function(t,e,n){void 0===n&&(n=!1),this._onTransformRectangle(t,e,n);var i=this.canvas;null!=i&&i.updateFloatingItemToolbar(this),this.updateViolationContainerPosition(),null!=this.item.parentGroupItem?this.raiseChanging(this.item):this._throttleSizeChanging()},e.prototype.startTransform=function(e){t.prototype.startTransform.call(this,e),this._startRectangle=this.rectangle;var n=this.canvas;null!=n&&n.updateViolationContainer(this,!1)},e.prototype.endTransform=function(e,n,i){void 0===i&&(i=!1),t.prototype.endTransform.call(this,e,n,i),this._endTransform(e,n,i)},e.prototype._endTransform=function(t,e,n){void 0===n&&(n=!1),n||!t||!e&&null==this._startRectangle||this._itemPropertyChangedEvent.notify(this,"transform"),t&&e||delete this._startRectangle;var i=this.canvas;null!=i&&(i.updateFloatingItemToolbar(this),i.updateViolationContainer(this,!0))},e.prototype._transformChanged=function(){t.prototype._transformChanged.call(this);var e=this.canvas;null!=e&&e.updateFloatingItemToolbar(this),this.updateViolationContainerPosition()},e.prototype._onResized=function(){return delete this._startRectangle,!0},e.prototype.dispatchDoubleClickEvent=function(t){this._doubleClickEvent.notify(this,t)},e.prototype.addDoubleClick=function(t){this._doubleClickEvent.add(t)},e.prototype.removeDoubleClick=function(t){this._doubleClickEvent.remove(t)},e.prototype.dispatchClickEvent=function(t){this._clickEvent.notify(t)},e.prototype.addClick=function(t){this._clickEvent.add(t)},e.prototype.removeClick=function(t){this._clickEvent.remove(t)},e.prototype.drawHighlight=function(t){var e=this.canvas.mul,n=this._getHighlightRectangle();bX.rectangle(t,n,this.canvas.selectionWidth/e,this.canvas.selectionColor)},e.prototype._getHighlightRectangle=function(){var t=this.rectangle,e=parseInt(this._getBoundsMargin().toString());return t.width+=t.width>=0?e:-e,t.height+=t.height>=0?e:-e,t},e.prototype.getSelectionRectangle=function(){return this.isVisible()?this.rectangle:null},e.prototype.getBorderMargin=function(){return this._getBoundsMargin()/2},e.prototype.getSelectionTolerance=function(){return this._selectionTolerance},e.prototype.addDeleteToolbarButtonClick=function(t){this._deleteToolbarButtonClickEvent.add(t)},e.prototype.removeDeleteToolbarButtonClick=function(t){this._deleteToolbarButtonClickEvent.remove(t)},e.prototype._onDeleteToolbarButtonClick=function(){this._deleteToolbarButtonClickEvent.notify(this)},e.prototype.showDeleteToolbarButton=function(){return this.getPermissions().allowDelete&&this.getPermissions().showDeleteToolbarButton},e.prototype.addEditToolbarButtonClick=function(t){this._editToolbarButtonClickEvent.add(t)},e.prototype.removeEditToolbarButtonClick=function(t){this._editToolbarButtonClickEvent.remove(t)},e.prototype._onEditToolbarButtonClick=function(){this._editToolbarButtonClickEvent.notify(this)},e.prototype.showEditToolbarButton=function(){return this.getPermissions().showEditToolbarButton},e.prototype.addSelectToolbarButtonClick=function(t){this._selectToolbarButtonClickEvent.add(t)},e.prototype.removeSelectToolbarButtonClick=function(t){this._selectToolbarButtonClickEvent.remove(t)},e.prototype._onSelectToolbarButtonClick=function(){this._selectToolbarButtonClickEvent.notify(this)},e.prototype.showSelectToolbarButton=function(){return this.getPermissions().showSelectToolbarButton},e.prototype._updateVisibility=function(){this._updateDeleteAndEditGroup(),this._updateViolationContainersVisibility()},e.prototype._updateDeleteAndEditGroup=function(){var t;null===(t=this.canvas)||void 0===t||t.updateFloatingItemToolbar(this)},e.prototype._onViolationWarningButtonClick=function(t){this._violationWarningButtonClick.notify(this,t),t.preventDefault()},e.prototype._updateViolationContainersVisibility=function(){var t;null===(t=this.canvas)||void 0===t||t.updateViolationContainer(this)},e.prototype.updateViolationContainerPosition=function(){var t;null===(t=this.canvas)||void 0===t||t.updateViolationContainerPosition(this)},e.prototype.isGoodViolationIcon=function(){var t=this.canvas;return!(null==this._violationWarningButton||null==t||!this.isVisible())&&this._violationWarningButton.classList.contains(t.goodViolationIconCssClass)},e.prototype.setGoodViolationIcon=function(t){var e=this.canvas;if(null!=this._violationWarningButton&&null!=e&&this.isVisible()&&(this._violationWarningButton.style.visibility="visible",null!=t&&(this._violationWarningButton.title=t),!this.isGoodViolationIcon())){var n=e.goodViolationIconCssClass,i=e.badViolationIconCssClass;this._violationWarningButton.classList.remove(e.warningViolationIconCssClass),this._violationWarningButton.classList.remove(i),this._violationWarningButton.classList.add(n),this._violationWarningButton.classList.toggle("active",e.isOnlyThisItemHandlerSelected(this))}},e.prototype.isWarningViolationIcon=function(){var t=this.canvas;return!(null==this._violationWarningButton||null==t||!this.isVisible())&&this._violationWarningButton.classList.contains(t.warningViolationIconCssClass)},e.prototype.setWarningViolationIcon=function(t){var e=this.canvas;if(null!=this._violationWarningButton&&null!=e&&this.isVisible()&&(this._violationWarningButton.style.visibility="visible",null!=t&&(this._violationWarningButton.title=t),!this.isWarningViolationIcon())){var n=e.warningViolationIconCssClass,i=e.badViolationIconCssClass;this._violationWarningButton.classList.remove(e.goodViolationIconCssClass),this._violationWarningButton.classList.remove(i),this._violationWarningButton.classList.add(n),this._violationWarningButton.classList.toggle("active",e.isOnlyThisItemHandlerSelected(this))}},e.prototype.isBadViolationIcon=function(){var t=this.canvas;return!(null==this._violationWarningButton||null==t||!this.isVisible())&&this._violationWarningButton.classList.contains(t.badViolationIconCssClass)},e.prototype.setBadViolationIcon=function(t){var e=this.canvas;if(null!=this._violationWarningButton&&null!=e&&this.isVisible()&&(this._violationWarningButton.style.visibility="visible",null!=t&&(this._violationWarningButton.title=t),!this.isBadViolationIcon())){var n=e.warningViolationIconCssClass,i=e.badViolationIconCssClass;this._violationWarningButton.classList.remove(e.goodViolationIconCssClass),this._violationWarningButton.classList.remove(n),this._violationWarningButton.classList.add(i),this._violationWarningButton.classList.toggle("active",e.isOnlyThisItemHandlerSelected(this))}},e.prototype.isNoneViolationIcon=function(){var t=this.canvas;if(null==this._violationWarningButton||null==t||!this.isVisible())return!1;var e=t.warningViolationIconCssClass,n=t.badViolationIconCssClass,i=this._violationWarningButton.classList.contains(t.goodViolationIconCssClass)||this._violationWarningButton.classList.contains(e)||this._violationWarningButton.classList.contains(n);return"hidden"===this._violationWarningButton.style.visibility||!i},e.prototype.setNoneViolationIcon=function(){var t=this.canvas;if(null!=this._violationWarningButton&&null!=t&&this.isVisible()){var e=t.warningViolationIconCssClass,n=t.badViolationIconCssClass;this._violationWarningButton.classList.remove(t.goodViolationIconCssClass),this._violationWarningButton.classList.remove(e),this._violationWarningButton.classList.remove(n),this._violationWarningButton.style.visibility="hidden"}},e.prototype.addViolationWarningButtonClick=function(t){this._violationWarningButtonClick.add(t)},e.prototype.removeViolationWarningButtonClick=function(t){this._violationWarningButtonClick.remove(t)},e.prototype.getDeleteToolbarButtonClickHandler=function(){return this._deleteToolbarButtonClickHandler},e.prototype.getEditToolbarButtonClickHandler=function(){return this._editToolbarButtonClickHandler},e.prototype.getSelectToolbarButtonClickHandler=function(){return this._selectToolbarButtonClickHandler},e.prototype.getViolationWarningButton=function(){return this._violationWarningButton},e.prototype.setViolationWarningButton=function(t){this._violationWarningButton=t},e.prototype.getViolationWarningButtonClickHandler=function(){return this._violationWarningButtonClickHandler},e.prototype.getViolationContainer=function(){return this._violationContainer},e.prototype.setViolationContainer=function(t){this._violationContainer=t},e.prototype.getViolationWarningButtonElement=function(){return this._violationWarningButton},e.transformRectangleByTwoRectanglesDiff=function(t,e,n){var i=n.getTransform(e),r=i.angle,o=i.scaleX,s=i.scaleY;if(gB(n.angle,0)||t.rotateAt(-n.angle,e.center),gB(o,1)&&gB(s,1)?(t.centerX+=i.translateX,t.centerY+=i.translateY):(t.width=t.width*o,t.height=t.height*s,t.centerX=n.centerX+(t.centerX-e.centerX)*o,t.centerY=n.centerY+(t.centerY-e.centerY)*s),gB(n.angle,0)||t.rotateAt(n.angle,n.center),!gB(r,0)){var a=t.center;a.rotateAt(r,e.center),t.angle=t.angle+r,t.center=a}return t},e.prototype._getPrintAreaBounds=function(){if(null==this.layer||null==this.layer.container.parentComponent)return null;var t=this.layer.container.parentComponent;return null==t.printAreas||t.printAreas.length<1?null:t.printAreas.get(0).bounds},e.prototype.transformByMatrix=function(t){this.setRectangle(this.rectangle.transformByMatrix(t)),1===t.scaleX&&1===t.scaleY||this._onResized(),this._transformChanged(),null!=this.canvas&&this.canvas.updateSelection()},e.prototype.getTransformedRectangle=function(t,e){void 0===t&&(t=!0);var n=this.rectangle,i=this._getPrintAreaBounds();if(null!=i&&t&&(n.location=n.location.translate(-i.left,-i.top)),e){var r=this.getBorderMargin();n.width+=2*r,n.height+=2*r}return n},e.prototype.setTransformedRectangle=function(t){this.setRectangle(t)},e.prototype.getTextWrappingPath=function(){return this.item.textWrappingMode!==lV.None?bB.rotatedRectangle(this.rectangle):null},e.prototype._clip=function(t){if(this._hasVectorMask()){var e=this._getTransformedClippingPath();null!=e&&bX.clipPath(t,e)}},e.prototype._updateVectorMaskCenter=function(){var t,e,n,i,r,o;return i=this,void 0,o=function(){var i;return function(t,e){var n,i,r,o,s={label:0,sent:function(){if(1&r[0])throw r[1];return r[1]},trys:[],ops:[]};return o={next:a(0),throw:a(1),return:a(2)},"function"==typeof Symbol&&(o[Symbol.iterator]=function(){return this}),o;function a(o){return function(a){return function(o){if(n)throw new TypeError("Generator is already executing.");for(;s;)try{if(n=1,i&&(r=2&o[0]?i.return:o[0]?i.throw||((r=i.return)&&r.call(i),0):i.next)&&!(r=r.call(i,o[1])).done)return r;switch(i=0,r&&(o=[2&o[0],r.value]),o[0]){case 0:case 1:r=o;break;case 4:return s.label++,{value:o[1],done:!1};case 5:s.label++,i=o[1],o=[0];continue;case 7:o=s.ops.pop(),s.trys.pop();continue;default:if(!((r=(r=s.trys).length>0&&r[r.length-1])||6!==o[0]&&2!==o[0])){s=0;continue}if(3===o[0]&&(!r||o[1]>r[0]&&o[1]<r[3])){s.label=o[1];break}if(6===o[0]&&s.label<r[1]){s.label=r[1],r=o;break}if(r&&s.label<r[2]){s.label=r[2],s.ops.push(o);break}r[2]&&s.ops.pop(),s.trys.pop();continue}o=e.call(t,s)}catch(a){o=[6,a],i=0}finally{n=r=0}if(5&o[0])throw o[1];return{value:o[0]?o[1]:void 0,done:!0}}([o,a])}}}(this,(function(r){switch(r.label){case 0:return this._hasVectorMask()?[4,TX.getBounds(this.item.mask.vectorMask,null!==(t=this._textWhizz)&&void 0!==t?t:null===(e=this.canvas)||void 0===e?void 0:e.textWhizz,null===(n=this.canvas)||void 0===n?void 0:n.service)]:[3,2];case 1:return i=r.sent(),this._vectorMaskCenter=CB.fromRectangleF(i).center,[3,3];case 2:this._vectorMaskCenter=null,r.label=3;case 3:return[2]}}))},new((r=void 0)||(r=Promise))((function(t,e){function n(t){try{a(o.next(t))}catch(n){e(n)}}function s(t){try{a(o.throw(t))}catch(n){e(n)}}function a(e){var i;e.done?t(e.value):(i=e.value,i instanceof r?i:new r((function(t){t(i)}))).then(n,s)}a((o=o.apply(i,[])).next())}))},e.prototype._updateVectorMaskCenterSync=function(){var t,e;if(this._hasVectorMask()){var n=TX.getBoundsSync(this.item.mask.vectorMask,null!==(t=this._textWhizz)&&void 0!==t?t:null===(e=this.canvas)||void 0===e?void 0:e.textWhizz);if(null==n)return;this._vectorMaskCenter=CB.fromRectangleF(n).center}else this._vectorMaskCenter=null},e.prototype._getTransformedClippingPath=function(t){if(!this._hasVectorMask()||null==this._vectorMaskCenter)return null;null==t&&(t=this.item.transform.clone());var e=this.item.mask.vectorMask.clone(),n=this._vectorMaskCenter,i=this.getControlCenter();if(0!==t.angle&&(e.rotateAt(t.angle,i),t.setAngle(0,!0)),!gB(t.scaleX,1)||!gB(t.scaleY,1)){var r=n.x-i.x,o=n.y-i.y;i.translate(t.translateX,t.translateY),t.setTranslateX(i.x+r*t.scaleX-n.x),t.setTranslateY(i.y+o*t.scaleY-n.y)}return e.transform(t,n),e},e.prototype._hasVectorMask=function(){return null!=this.item.mask&&null!=this.item.mask.vectorMask},e.typeName="BaseRectangleItemHandler",e}(SX),MX=function(){var t=function(e,n){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(e,n)};return function(e,n){function i(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(i.prototype=n.prototype,new i)}}(),DX=function(t){function e(e){var n=t.call(this,e)||this;return n.__type="ShapeHandlerData",n}return MX(e,t),e.prototype.applyState=function(e,n){t.prototype.applyState.call(this,e,n)},e}(_X),RX=function(){var t=function(e,n){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(e,n)};return function(e,n){function i(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(i.prototype=n.prototype,new i)}}(),FX=function(t){function e(n){var i=t.call(this,n.value)||this;return i.ajaxResponse=n,i.name="AjaxResponseException",Object.setPrototypeOf(i,e.prototype),i}return RX(e,t),e.prototype.toJSON=function(){var e=t.prototype.toJSON.call(this);return e.ajaxResponse=this.ajaxResponse,e},e}(GR),LX=function(t){return new Promise((function(e,n){var i,r,o=new XMLHttpRequest;if(o.open(t.type,t.url,!0),o.setRequestHeader("Accept","*/*"),null!=t.headers)try{for(var s=function(t){var e="function"==typeof Symbol&&Symbol.iterator,n=e&&t[e],i=0;if(n)return n.call(t);if(t&&"number"==typeof t.length)return{next:function(){return t&&i>=t.length&&(t=void 0),{value:t&&t[i++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")}(t.headers),a=s.next();!a.done;a=s.next()){var l=a.value;o.setRequestHeader(l.name,l.value)}}catch(c){i={error:c}}finally{try{a&&!a.done&&(r=s.return)&&r.call(s)}finally{if(i)throw i.error}}null!=t.responseType&&(o.responseType=t.responseType),o.send(t.data),o.onreadystatechange=function(){if(4===o.readyState){var t=o.status,i={value:"arraybuffer"!==o.responseType?o.responseText:"",status:t,contentType:o.getResponseHeader("content-type"),xhr:o};t>=200&&t<300?e(i):n(new FX(i))}}}))};!function(t){t[t.Ok=200]="Ok",t[t.NoContent=204]="NoContent",t[t.NotFound=404]="NotFound",t[t.InternalServerError=500]="InternalServerError"}(PX||(PX={})),function(t){t.post="POST",t.get="GET",t.Delete="DELETE"}(OX||(OX={})),function(t){t.isJsonContentType=function(t){return 0===t.trim().toLowerCase().indexOf("application/json")},t.json={name:"Content-Type",value:"application/json;charset=UTF-8"},t.text={name:"Content-Type",value:"text/plain"}}(kX||(kX={}));var BX,NX=function(){var t=function(e,n){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(e,n)};return function(e,n){function i(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(i.prototype=n.prototype,new i)}}(),jX=function(t,e,n,i){return new(n||(n=Promise))((function(r,o){function s(t){try{l(i.next(t))}catch(e){o(e)}}function a(t){try{l(i.throw(t))}catch(e){o(e)}}function l(t){var e;t.done?r(t.value):(e=t.value,e instanceof n?e:new n((function(t){t(e)}))).then(s,a)}l((i=i.apply(t,e||[])).next())}))},zX=function(t,e){var n,i,r,o,s={label:0,sent:function(){if(1&r[0])throw r[1];return r[1]},trys:[],ops:[]};return o={next:a(0),throw:a(1),return:a(2)},"function"==typeof Symbol&&(o[Symbol.iterator]=function(){return this}),o;function a(o){return function(a){return function(o){if(n)throw new TypeError("Generator is already executing.");for(;s;)try{if(n=1,i&&(r=2&o[0]?i.return:o[0]?i.throw||((r=i.return)&&r.call(i),0):i.next)&&!(r=r.call(i,o[1])).done)return r;switch(i=0,r&&(o=[2&o[0],r.value]),o[0]){case 0:case 1:r=o;break;case 4:return s.label++,{value:o[1],done:!1};case 5:s.label++,i=o[1],o=[0];continue;case 7:o=s.ops.pop(),s.trys.pop();continue;default:if(!((r=(r=s.trys).length>0&&r[r.length-1])||6!==o[0]&&2!==o[0])){s=0;continue}if(3===o[0]&&(!r||o[1]>r[0]&&o[1]<r[3])){s.label=o[1];break}if(6===o[0]&&s.label<r[1]){s.label=r[1],r=o;break}if(r&&s.label<r[2]){s.label=r[2],s.ops.push(o);break}r[2]&&s.ops.pop(),s.trys.pop();continue}o=e.call(t,s)}catch(a){o=[6,a],i=0}finally{n=r=0}if(5&o[0])throw o[1];return{value:o[0]?o[1]:void 0,done:!0}}([o,a])}}},HX=function(t){function e(e,n,i){void 0===i&&(i=null);var r=t.call(this,null,null,null,null,n,i)||this;return r._originalPathId=null,r._isLoadingPath=!1,r._isLoadedPath=!1,r.originalPath=null!=e?e:new bB(""),r._addedOnCanvasEvent=new rB,null!=n&&null!=n.sourcePathId&&r.setOriginalPathId(n.sourcePathId),r._allowNegativeResize=!1,r._updateControlPointsSync(),r}return NX(e,t),Object.defineProperty(e.prototype,"item",{get:function(){return t.prototype._getItem.call(this)},set:function(e){t.prototype._setItem.call(this,e)},enumerable:!0,configurable:!0}),e.prototype._setDataItem=function(e,n){t.prototype._setDataItem.call(this,e,n),this.item.fillColor=e.fillColor,this.item.borderColor=e.borderColor,this.item.sourcePath=e.sourcePath,this.item.altBorderColor=e.altBorderColor,this.item.borderWidth=e.borderWidth,this.item.dash=e.dash,this.item.fixedBorderWidth=e.fixedBorderWidth},e.prototype._onItemPropertyChanged=function(e,n){var i=this.canvas;switch(n){case"fillColor":case"borderColor":case"altBorderColor":this.item.parentGroupItem instanceof jU||(this.update(),null!=this.canvas&&this.canvas.redraw());case"dash":break;case"fixedBorderWidth":case"borderWidth":null!=i&&(i.updateSelection(),i.redraw());break;case"sourceRectangle":this.originalPath=bB.rectangle(this.item.sourceRectangle.left,this.item.sourceRectangle.top,this.item.sourceRectangle.width,this.item.sourceRectangle.height),this._controlPoints=[new QL(this.item.sourceRectangle.left,this.item.sourceRectangle.top),new QL(this.item.sourceRectangle.right,this.item.sourceRectangle.bottom)]}t.prototype._onItemPropertyChanged.call(this,e,n)},e.prototype.update=function(e,n){"function"==typeof e?this.isVisible()?t.prototype._update.call(this,null,e,n):e():this.updateColors()},e.prototype._setVisible=function(e){t.prototype._setVisible.call(this,e),this.isVisible()&&this.update()},e.prototype._getActualDash=function(){var t=this.item.dash;if(null==t)return t;var e=this.canvas,n=t.slice(0);if(n.length>0&&this.item.fixedBorderWidth&&null!=e)for(var i=0;i<n.length;i++)n[i]/=e.zoom;return n},Object.defineProperty(e.prototype,"originalPath",{get:function(){return this.item.sourcePath},set:function(t){this.item.sourcePath=t,this._isLoadedPath=!0},enumerable:!0,configurable:!0}),e.prototype._updateControlPoints=function(){var t,e,n;return jX(this,void 0,void 0,(function(){var i;return zX(this,(function(r){switch(r.label){case 0:return null==this.item.sourcePath?[2]:[4,TX.getBounds(this.item.sourcePath,null!==(t=this._textWhizz)&&void 0!==t?t:null===(e=this.canvas)||void 0===e?void 0:e.textWhizz,null===(n=this.canvas)||void 0===n?void 0:n.service)];case 1:return i=r.sent(),this.controlPoints=[new QL(i.left,i.top),new QL(i.right,i.bottom)],[2]}}))}))},e.prototype._updateControlPointsSync=function(){var t,e;if(null!=this.item.sourcePath){var n=TX.getBoundsSync(this.item.sourcePath,null!==(t=this._textWhizz)&&void 0!==t?t:null===(e=this.canvas)||void 0===e?void 0:e.textWhizz);null!=n&&(this.controlPoints=[new QL(n.left,n.top),new QL(n.right,n.bottom)])}},e.prototype.getOriginalPathId=function(){return this._originalPathId},e.prototype.setOriginalPathId=function(t){return jX(this,void 0,void 0,(function(){var e,n,i,r;return zX(this,(function(o){switch(o.label){case 0:return this._originalPathId=t,null==this._originalPathId?[2]:(this._isLoadingPath=!0,this._isLoadedPath=!1,[4,this._waitAddOnCanvas()]);case 1:if(o.sent(),null==this.canvas)return[2];e=this.canvas.handlerUrl,o.label=2;case 2:return o.trys.push([2,4,5,6]),[4,LX({type:OX.get,url:e+"/pth?f="+this._originalPathId,headers:[kX.text]})];case 3:return n=o.sent(),i=new bB(n.value),this.item.sourcePathLoaded=!0,this.originalPath=i,this._updateControlPoints(),this._isLoadedPath=!0,[3,6];case 4:return r=o.sent(),console.error("Unable to load content path. Reason: "+r),this._isLoadedPath=!1,[3,6];case 5:return this._isLoadingPath=!1,this.item.sourcePathLoaded=!1,this.item.getPathLoadedEvent().notify(),[7];case 6:return this.canvas.redraw(),[2]}}))}))},e.prototype._waitAddOnCanvas=function(){return jX(this,void 0,void 0,(function(){var t=this;return zX(this,(function(e){switch(e.label){case 0:return null!=this.canvas?[2]:[4,new Promise((function(e){var n=function(){e(),t._addedOnCanvasEvent.remove(n)};t._addedOnCanvasEvent.add(n)}))];case 1:return e.sent(),[2]}}))}))},e.prototype._getActualBorderWidth=function(){var t=this.item.borderWidth,e=this.canvas;return this.item.fixedBorderWidth&&null!=e&&(t/=e.zoom),t},e.prototype._getBoundsMargin=function(){return this._getActualBorderWidth()},e.prototype._getTransformedPath=function(){var t=this.getControlCenter(),e=this.item.sourcePath.clone();return e.transform(this.item.transform,t),e},e.prototype._createDataInstance=function(t){return new DX(t)},e.prototype.drawItemHandler=function(t){if(null!=t)if(this._isLoadingPath||!this._isLoadedPath)this.canvas.drawWaitClock(t,this.rectangle.center);else{var e=this._getActualDash();this._hasVectorMask()&&(t.save(),this._clip(t));var n=this.item.altBorderColor;if(n&&null!=e&&e.length>0){var i=e.slice(0);i.unshift(0),i.push(0),bX.path(t,this.item.sourcePath,this.getControlCenter(),this.item.transform,this.item.fillColor.preview,this._getActualBorderWidth(),n.preview,this.item.opacity,i)}bX.path(t,this.item.sourcePath,this.getControlCenter(),this.item.transform,this.item.fillColor.preview,this._getActualBorderWidth(),this.item.borderColor.preview,this.item.opacity,e),this._hasVectorMask()&&t.restore()}},e.prototype.getColorData=function(){var e=this.item,n=null!=this.canvas?this.canvas.rgbColorProfileFileId:null,i=t.prototype.getColorData.call(this);return e.fillColor.needUpdate(n)&&(i.fill=e.fillColor.getData()),e.borderColor.needUpdate(n)&&(i.border=e.borderColor.getData()),null!=e.altBorderColor&&e.altBorderColor.needUpdate(n)&&(i.altBorder=e.altBorderColor.getData()),i},e.prototype.setColorData=function(e){t.prototype.setColorData.call(this,e),this._modifyItem((function(t){null!=e.fill&&(t.fillColor=QB.createColor(e.fill)),null!=e.border&&(t.borderColor=QB.createColor(e.border)),null!=e.altBorder&&(t.altBorderColor=QB.createColor(e.altBorder))}))},e.prototype.onTextWhizzInit=function(){t.prototype.onTextWhizzInit.call(this),this._updateControlPoints()},e.prototype.hasColorsToUpdate=function(){var e=this.item,n=null!=this.canvas?this.canvas.rgbColorProfileFileId:null;return t.prototype.hasColorsToUpdate.call(this)||e.fillColor.needUpdate(n)||e.borderColor.needUpdate(n)||null!=e.altBorderColor&&e.altBorderColor.needUpdate(n)},e.prototype._onAddedOnCanvas=function(e,n){t.prototype._onAddedOnCanvas.call(this,e,n),this._addedOnCanvasEvent.notify(),this._updateControlPoints()},e.prototype.getTextWrappingPath=function(){return this.item.textWrappingMode===lV.Tight?this._getTransformedPath():t.prototype.getTextWrappingPath.call(this)},e.typeName="ShapeItemHandler",e}(AX),VX=function(){var t=function(e,n){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(e,n)};return function(e,n){function i(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(i.prototype=n.prototype,new i)}}(),UX=function(t){function e(e,n){void 0===n&&(n=null);var i=this;return null!=e?(i=t.call(this,bB.rectangle(e.sourceRectangle.left,e.sourceRectangle.top,e.sourceRectangle.width,e.sourceRectangle.height),e,n)||this)._controlPoints=[new QL(e.sourceRectangle.left,e.sourceRectangle.top),new QL(e.sourceRectangle.right,e.sourceRectangle.bottom)]:i=t.call(this,null,e,n)||this,i._allowNegativeResize=!0,i}return VX(e,t),e.prototype._setDataItem=function(e,n){t.prototype._setDataItem.call(this,e,n),this.item.sourceRectangle=e.sourceRectangle},Object.defineProperty(e.prototype,"rectangle",{get:function(){var e=t.prototype._getRectangle.call(this);return e.width<0&&(e.width=-e.width),e.height<0&&(e.height=-e.height),e},enumerable:!0,configurable:!0}),e.typeName="RectangleItemHandler",e}(HX),WX=function(){function t(t){var e=this;this._src=null,this._onLoadedDelegate=function(n){if(!n.target)throw new Error('"e.target" is null.');e._onLoaded(n,n.target),t()},this._image=this._createImageObject(this._onLoadedDelegate),this._tmpImage=this._createImageObject(this._onLoadedDelegate)}return t.prototype._onLoaded=function(t,e){e===this._tmpImage&&(this._tmpImage=this._image,this._image=e,this._src=e.src),this._loaded=!0,this._loading=!1},Object.defineProperty(t.prototype,"isLoaded",{get:function(){return this._loaded},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"isLoading",{get:function(){return this._loading},set:function(t){this._loading=t},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"image",{get:function(){return this._image},enumerable:!0,configurable:!0}),t.prototype.updateUrl=function(t){this._tmpImage.src!==t?(this._loading=!0,this._tmpImage.src=t,this._src=t):this._onLoadedDelegate({target:this._tmpImage})},t.prototype.clear=function(){this.source=null},Object.defineProperty(t.prototype,"source",{get:function(){return this._src},set:function(t){this._src!==t&&(this._loaded=!1,this._src=t,this._image.src=null==this._src?"":t)},enumerable:!0,configurable:!0}),t.prototype._createImageObject=function(t){var e=new Image;return e.crossOrigin="anonymous","function"==typeof t&&e.addEventListener("load",t),e},t.prototype.dispose=function(){this._tmpImage.removeEventListener("load",this._onLoadedDelegate),this._image.removeEventListener("load",this._onLoadedDelegate),delete this._onLoadedDelegate},t}(),$X=function(){var t=function(e,n){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(e,n)};return function(e,n){function i(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(i.prototype=n.prototype,new i)}}(),GX=function(t){function e(e,n){void 0===n&&(n=null);var i=t.call(this,e,n)||this;return i._onCanvasChangedDelegate=null,i._contentType=wX.NotContent,i._parentPlaceholder=null,i._pixelWidth=0,i._pixelHeight=0,i._needToDownloadImage=!1,i._imageContainer=new WX(i._onImageLoaded.bind(i)),i}return $X(e,t),Object.defineProperty(e.prototype,"item",{get:function(){return this._getItem()},enumerable:!0,configurable:!0}),e.prototype._onItemPropertyChanged=function(e,n){var i,r;switch(n){case"maskOpacity":break;case"parentPlaceholder":this.parentPlaceholder=null!=e.parentPlaceholder?null===(r=null===(i=this.canvas)||void 0===i?void 0:i.handlerFactory)||void 0===r?void 0:r.get(e.parentPlaceholder):null}t.prototype._onItemPropertyChanged.call(this,e,n)},e.prototype.setRectangle=function(e,n){var i,r=this._parentPlaceholder;if(null!=r&&r.item.isCoverMode&&!r.item.isStubContent&&this._contentType!==wX.TopFrame&&this._contentType!==wX.BottomFrame){var o=r.rectangle,s=e.clone(),a=gB(cB(s.angle-o.angle)%180,90),l=this.rectangle;if(null!=l&&null!=r._previousRectangle&&!r.editing){var c,u=o.width/o.height,h=l.width/l.height,d=u>h!=r._previousRectangle.width/r._previousRectangle.height>h;s.width=l.width*(c=u>h?d?o.width/h/r._previousRectangle.height:o.width/r._previousRectangle.width:d?o.height*h/r._previousRectangle.width:o.height/r._previousRectangle.height),s.height=l.height*c,s.center=o.center;var p=s.angle;s.angle=0,(i=new QL(-((r._previousRectangle.centerX-l.centerX+l.width/2)*c-s.width/2),-((r._previousRectangle.centerY-l.centerY+l.height/2)*c-s.height/2))).rotateAt(o.angle-r._previousRectangle.angle),s.centerX=o.centerX+i.x,s.centerY=o.centerY+i.y,s.rotateAt(p,s.center)}var f=a?s.height:s.width,m=a?s.width:s.height;if(f<o.width||m<o.height){var g=Math.max(o.width/f,o.height/m);s.width*=g,s.height*=g}var y=o.angle;o.angle=0;var _=o.bounds,v=s.clone();v.rotateAt(-y,o.center);var b=v.bounds;return(i=new QL(0,0)).x=_.left<b.left?_.left-b.left:0,i.x=_.right>b.right?_.right-b.right:i.x,i.y=_.top<b.top?_.top-b.top:0,i.y=_.bottom>b.bottom?_.bottom-b.bottom:i.y,i.rotate(y),s.centerX+=i.x,s.centerY+=i.y,void t.prototype.setRectangle.call(this,s,n)}t.prototype.setRectangle.call(this,e,n)},e.prototype._setVisible=function(e){t.prototype._setVisible.call(this,e),this.isVisible()&&this.update()},e.prototype.isVisible=function(){return null!=this._parentPlaceholder?this._parentPlaceholder.isVisible():t.prototype.isVisible.call(this)},Object.defineProperty(e.prototype,"ready",{get:function(){return this._imageContainer.isLoaded},enumerable:!0,configurable:!0}),e.prototype._isLoadingImage=function(){return this._imageContainer.isLoading},e.prototype._setIsLoadingImage=function(t){this._imageContainer.isLoading=t},Object.defineProperty(e.prototype,"parentPlaceholder",{get:function(){return this._parentPlaceholder},set:function(t){this._parentPlaceholder=t},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"contentType",{get:function(){return this._contentType},set:function(t){this._contentType=t},enumerable:!0,configurable:!0}),e.prototype._getSrc=function(){var t=this._imageContainer.source;return MB(t)?this._createImageUrl():t},e.prototype._setSrc=function(t){this._imageContainer.source=t},e.prototype._onImageLoaded=function(t,e){null!=this.canvas&&this.canvas.redraw(),this.isLoadingImage=!1,this._dispatchReadyEvent()},e.prototype._createImageUrl=function(){return null},e.prototype._updateImageUrl=function(){if(this.isVisible()){var t=this.canvas;if(null!=t&&t.isInitialized){var e=this._createImageUrl();e!==this._imageContainer.source&&(null==e?(this._imageContainer.clear(),t.redraw()):this._imageContainer.updateUrl(e))}}},e.prototype._onCanvasChanged=function(){this._updateImageUrl()},e.prototype.quickUpdate=function(){this.updateColors(),this._updateImageUrl()},e.prototype._getDrawingFillColor=function(){return this.item.fillColor},e.prototype.drawItemHandler=function(t,e){if(null!=t&&null!=this.canvas){var n=null!=this._parentPlaceholder?this._parentPlaceholder.rectangle:this.rectangle,i=this.rectangle,r=this._getDrawingFillColor(),o=this.isNormalRenderingType||0===r.alpha?r.preview:"rgb(0,0,0)";this._hasVectorMask()&&(t.save(),this._clip(t)),bX.fillRectangle(t,i,o,this.isNormalRenderingType?this.item.opacity:1),this._imageContainer.isLoaded?this._drawImage(t,this.canvas.disableSmoothing):this._imageContainer.isLoading&&this.canvas.drawWaitClock(null!=e?e:t,new QL(n.centerX,n.centerY));var s=this._getActualBorderWidth();s>0&&(i.width+=s,i.height+=s,bX.drawRectangle(t,i,s,this.isNormalRenderingType||0===this.item.borderColor.alpha?this.item.borderColor.preview:"rgb(0,0,0)",this.item.opacity)),this._hasVectorMask()&&t.restore()}},e.prototype._drawMaskedContent=function(t){if(this._drawImage(t,this.canvas.disableSmoothing,this.item.maskOpacity),null!=this._parentPlaceholder){t.globalCompositeOperation="destination-out";var e=this._parentPlaceholder;bX.fillPath(t,e.originalPath,e.getControlCenter(),e.item.transform,"#fff"),t.globalCompositeOperation="source-over"}},e.prototype.updateRectangle=function(t,e,n,i,r,o){null==e&&(e=DW.Fit),null==t&&(t=!1);var s=this.getTransformedRectangle(!1);if(i=null!=i?i:this.bounds.width,r=null!=r?r:this.bounds.height,t){var a=s.location;s.width=s.height*(i/r),s.location=a}else if(null!=this.parentPlaceholder&&(s=this.parentPlaceholder.getTransformedRectangle(!1)),e===DW.Original&&this.item instanceof fW){var l=this.item.getOriginalImageSize();s.width=l.width*(c=null!=o?this.item.source.dpiX/o:1),s.height=l.height*c}else{var c=1;e===DW.Fit?c=Math.min(s.width/i,s.height/r):e===DW.Fill&&(c=Math.max(s.width/i,s.height/r)),s.width=i*c,s.height=r*c}if(null!=n){var u=n.getTransformedRectangle(!1);switch(n.item.contentVerticalAlignment){case AW.Top:s.centerY=u.centerY-(u.height-s.height)/2;break;case AW.Center:s.centerY=u.centerY;break;case AW.Bottom:s.centerY=u.centerY+(u.height-s.height)/2}switch(n.item.contentHorizontalAlignment){case MW.Left:s.centerX=u.centerX-(u.width-s.width)/2;break;case MW.Center:s.centerX=u.centerX;break;case MW.Right:s.centerX=u.centerX+(u.width-s.width)/2}}this.setTransformedRectangle(s)},e.prototype._drawImage=function(t,e,n,i){var r=this.canvas,o=this.isNormalRenderingType?this.item.opacity:1;bX.drawImage(t,null!=i?i:this._imageContainer.image,this.rectangle,eF.screenDpi*r.zoom/72,eF.screenDpi*r.zoom/72,e,null,null!=n?o*n:o)},e.prototype._getBoundsMargin=function(){return 2*this._getActualBorderWidth()},e.prototype._onAddedOnCanvas=function(e,n){if(t.prototype._onAddedOnCanvas.call(this,e,n||null!=this.parentPlaceholder),this._updateImageUrl(),!this._onCanvasChangedDelegate){var i=this.canvas;i&&(this._onCanvasChangedDelegate=this._onCanvasChanged.bind(this),i.add_zoomChanged(this._onCanvasChangedDelegate),this._needToDownloadImage&&this.update())}},e.prototype._onRemovedFromCanvas=function(e){t.prototype._onRemovedFromCanvas.call(this,e),e&&null!=this._onCanvasChangedDelegate&&(e.remove_zoomChanged(this._onCanvasChangedDelegate),delete this._onCanvasChangedDelegate)},e.prototype.dispose=function(){if(this._imageContainer.dispose(),this._onCanvasChangedDelegate){var e=this.canvas;e&&e.remove_zoomChanged(this._onCanvasChangedDelegate),delete this._onCanvasChangedDelegate}t.prototype.dispose.call(this)},e.typeName="ContentItemHandler",e}(UX),qX=function(){var t=function(e,n){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(e,n)};return function(e,n){function i(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(i.prototype=n.prototype,new i)}}(),XX=function(t){function e(e){var n=t.call(this,e)||this;return n.__type="ImageHandlerData",e&&(n.DI=e.needToDownloadImage,n.SAS=e.takeIntoAccountImageDpi,n.HR=e.sourceImageHorizontalResolution,n.VR=e.sourceImageVerticalResolution),n}return qX(e,t),e.prototype.applyState=function(e,n){n&&(n.beginUpdate(),n.sourceImageHorizontalResolution=e.HR,n.sourceImageVerticalResolution=e.VR,n.needToDownloadImage=e.DI,n.takeIntoAccountImageDpi=e.SAS,t.prototype.applyState.call(this,e,n))},e}(DX),KX=function(){function t(){}return t.getImageUrl=function(t,e,n,i,r,o,s,a,l,c,u){if(!Number.isInteger(n)||!Number.isInteger(i))throw new XR('Wrong "'+(Number.isInteger(n)?i:n)+'" type!');var h="/img";!e.endsWith(".svg")||r||eF.IsFirefox()||eF.IsIE()||(h="/svg");var d=t.handlerUrl+h+"?f="+encodeURIComponent(e)+"&w="+encodeURIComponent(n.toString())+"&h="+encodeURIComponent(i.toString());if(null!=t.cmykColorProfileFileId&&(d+="&cmyk="+encodeURIComponent(t.cmykColorProfileFileId)),null!=t.rgbColorProfileFileId&&(d+="&rgb="+encodeURIComponent(t.rgbColorProfileFileId)),null!=t.grayscaleColorProfileFileId&&(d+="&grayscale="+encodeURIComponent(t.grayscaleColorProfileFileId)),null!=r&&r&&(d+="&sq=true"),null!=o&&(o!==HU.None&&(d+="&effect="+encodeURIComponent(o.toString())),o===HU.Colorize&&null!=u&&(d+="&colorizeColor="+encodeURIComponent(u.toString()))),null!=s&&s&&(d+="&kp="+encodeURIComponent(s.toString())),null!=a){var p=a.color,f=a.blendMode,m=a.opacity;null!=p&&(d+="&color="+encodeURIComponent(p.toString())),null!=f&&(d+="&obm="+encodeURIComponent(f.toString())),null!=m&&(d+="&oo="+encodeURIComponent(m.toString()))}return null!=l&&parseInt(l.toString())>0&&(d+="&page="+encodeURIComponent(l.toString())),null!=c&&c&&(d+="&alphaMask="+encodeURIComponent(c.toString())),d},t}(),YX=function(){var t=function(e,n){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(e,n)};return function(e,n){function i(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(i.prototype=n.prototype,new i)}}(),QX=function(t,e,n,i){return new(n||(n=Promise))((function(r,o){function s(t){try{l(i.next(t))}catch(e){o(e)}}function a(t){try{l(i.throw(t))}catch(e){o(e)}}function l(t){var e;t.done?r(t.value):(e=t.value,e instanceof n?e:new n((function(t){t(e)}))).then(s,a)}l((i=i.apply(t,e||[])).next())}))},ZX=function(t,e){var n,i,r,o,s={label:0,sent:function(){if(1&r[0])throw r[1];return r[1]},trys:[],ops:[]};return o={next:a(0),throw:a(1),return:a(2)},"function"==typeof Symbol&&(o[Symbol.iterator]=function(){return this}),o;function a(o){return function(a){return function(o){if(n)throw new TypeError("Generator is already executing.");for(;s;)try{if(n=1,i&&(r=2&o[0]?i.return:o[0]?i.throw||((r=i.return)&&r.call(i),0):i.next)&&!(r=r.call(i,o[1])).done)return r;switch(i=0,r&&(o=[2&o[0],r.value]),o[0]){case 0:case 1:r=o;break;case 4:return s.label++,{value:o[1],done:!1};case 5:s.label++,i=o[1],o=[0];continue;case 7:o=s.ops.pop(),s.trys.pop();continue;default:if(!((r=(r=s.trys).length>0&&r[r.length-1])||6!==o[0]&&2!==o[0])){s=0;continue}if(3===o[0]&&(!r||o[1]>r[0]&&o[1]<r[3])){s.label=o[1];break}if(6===o[0]&&s.label<r[1]){s.label=r[1],r=o;break}if(r&&s.label<r[2]){s.label=r[2],s.ops.push(o);break}r[2]&&s.ops.pop(),s.trys.pop();continue}o=e.call(t,s)}catch(a){o=[6,a],i=0}finally{n=r=0}if(5&o[0])throw o[1];return{value:o[0]?o[1]:void 0,done:!0}}([o,a])}}},JX=function(t){function e(e,n){void 0===n&&(n=null);var i=t.call(this,e,n)||this;return i._maxImageSize=4e6,i._imageResizedEvent=new sB,i._qualityChangeContainer=null,i._qualityChangeScaleBar=null,i._qualityChangeInfoBar=null,i.item.source.type===fW.ImageSourceType.Url&&i.loadImage(null,{downloadToServerCache:!0,actualSize:i.item.source.actualSize,saveAspectRatio:i.item.source.saveAspectRatio}),i}return YX(e,t),Object.defineProperty(e.prototype,"item",{get:function(){return this._getItem()},set:function(e){t.prototype._setItem.call(this,e)},enumerable:!0,configurable:!0}),e.prototype._setDataItem=function(e,n){t.prototype._setDataItem.call(this,e,n);var i=null==this.item.source.id&&null!=this.item.source.url;this.item.source.id=e.source.id,this.item.source.width=e.source.width,this.item.source.height=e.source.height,this.item.source.isVector=e.source.isVector,this.item.source.pageIndex=e.source.pageIndex,this.item.source.url=e.source.url,i&&(this.updateRectangle(!1,null!=this.item.parentPlaceholder?this.item.parentPlaceholder.contentResizeMode:null,this.parentPlaceholder),this.update())},e.prototype._onItemPropertyChanged=function(e,n){switch(n){case"source":this._sourceUrl=null,this.update(),null==this.item.source.id&&null!=this.item.source.url&&this.updateRectangle(!1,null!=this.item.parentPlaceholder?this.item.parentPlaceholder.contentResizeMode:null,this.parentPlaceholder);var i=this.canvas;null!=i&&i.updateFloatingItemToolbar(this);break;case"fillColor":this.item.effect===HU.Colorize&&this.update();case"effect":case"overlayEffect":this.update()}t.prototype._onItemPropertyChanged.call(this,e,n)},Object.defineProperty(e.prototype,"needToDownloadImage",{get:function(){return this._needToDownloadImage},set:function(t){this._needToDownloadImage=t},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"takeIntoAccountImageDpi",{get:function(){return this._takeIntoAccountImageDpi},set:function(t){this._takeIntoAccountImageDpi=t},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"sourceImageHorizontalResolution",{get:function(){return this._sourceImageHorizontalResolution},set:function(t){this._sourceImageHorizontalResolution=t},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"sourceImageVerticalResolution",{get:function(){return this._sourceImageVerticalResolution},set:function(t){this._sourceImageVerticalResolution=t},enumerable:!0,configurable:!0}),e.prototype.loadImage=function(t,e){return void 0===e&&(e={}),QX(this,void 0,void 0,(function(){var n=this;return ZX(this,(function(i){switch(i.label){case 0:return"string"!=typeof t&&this.item.source.type!==fW.ImageSourceType.Url&&console.error("Invalid sourceUrl: "+t),e.downloadToServerCache?(this._needToDownloadImage=!0,this._actualSize=null!=e.actualSize&&e.actualSize,this._saveAspectRatio=null==e.saveAspectRatio||e.saveAspectRatio,this._sourceUrl=t,null==t&&(this._sourceUrl=this.item.source.url),[4,new Promise((function(t){return n.update(null,t)}))]):[3,2];case 1:return i.sent(),[3,3];case 2:this._needToDownloadImage=!1,this._setSrc(t),i.label=3;case 3:return[2,this.item.source.id]}}))}))},e.prototype.loadImageFromRemoteUrl=function(t,e){return QX(this,void 0,void 0,(function(){var n,i,r;return ZX(this,(function(o){switch(o.label){case 0:return r=(i=JSON).parse,[4,LX({url:kB(t,"/api/ImagePicker/GetWebImageMeta"),type:OX.post,headers:[kX.json],data:JSON.stringify({url:e})})];case 1:return n=r.apply(i,[o.sent().value]),this.item.source.id=n.storageId,this.item.source.width=n.width,this.item.source.height=n.height,this.item.source.isVector=n.isVector,this.item.name=n.name,this.item.sourceRectangle.width=this.item.source.width,this.item.sourceRectangle.height=this.item.source.height,[2]}}))}))},e.prototype.loadImageFromImagePicker=function(t,e,n){var i=this;return LX({url:kB(t,"api/imagepicker/GetSourceImageMetadata"),type:OX.post,headers:[kX.json],data:JSON.stringify(e)}).then((function(t){var e=new bW(t.value);i.item.source.setIdWithOrigin(e.storageId,e.origin),i.item.source.width=e.size.width,i.item.source.height=e.size.height,i.name=e.name,i.item.source.isVector=e.isVector,i.item.source.pageIndex=e.pageIndex,i.item.sourceRectangle=n,i.updateRectangle()}))},e.prototype.showEditButton=function(){return t.prototype.showEditToolbarButton.call(this)&&!this.item.source.isVector},e.prototype.update=function(t,e){var n=this;if(null!=this._sourceUrl&&null!=this._sourceUrl)this._update([this._actualSize,this._saveAspectRatio,this._sourceUrl],t,e),null==this.item.source.id&&null!=this.item.source.url&&this.updateRectangle(!1,null!=this.item.parentPlaceholder?this.item.parentPlaceholder.contentResizeMode:null,this.parentPlaceholder);else if(this.item.source.type===fW.ImageSourceType.Url)this.loadImage(null,{downloadToServerCache:!0,actualSize:this.item.source.actualSize,saveAspectRatio:this.item.source.saveAspectRatio}).then((function(){null!=n.canvas&&n.canvas.updateSelection()}));else{this.quickUpdate();var i=this.canvas;null!=i&&i.updateSelection()}},e.prototype._createDataInstance=function(t){return new XX(t)},e.prototype._updateImageUrl=function(){var e=this,n=this.canvas;if(null!=n&&this.isVisible()){if(null==this.item.source.id||null!=this.item.source.width&&null!=this.item.source.height)return void t.prototype._updateImageUrl.call(this);n.service.GetImageSize(this.item.source.id,this.item.source.pageIndex,(function(n){if(e.item.source.width=n.width,e.item.source.height=n.height,e._saveAspectRatio){var i=e.item.source.width/e.item.source.height;e.width<e.height?e.height=e.width/i:e.width=e.height*i}t.prototype._updateImageUrl.call(e)}),(function(t){window.console&&(console.error("Unable GetimageSize of image with id "+e.item.source.id),console.error(t))}))}},e.prototype._createImageUrl=function(){var t=this.item.source.id;if(null==t)return null;var e,n,i=this.canvas;if(null==i)return null;var r=i.zoom,o=this.rectangle;e=o.width*(r*eF.screenDpi/72),n=o.height*(r*eF.screenDpi/72),this.item.source.isVector||(e=Math.min(e,this.item.source.width),n=Math.min(n,this.item.source.height));var s=this._maxImageSize/e/n;return s<1&&(e*=s=Math.sqrt(s),n*=s),e=Math.max(1,Math.round(e)),n=Math.max(1,Math.round(n)),this._pixelWidth=e,this._pixelHeight=n,KX.getImageUrl(i,t,e,n,!1,this.item.effect,!1,this.item.overlayEffect,this.item.source.pageIndex,!this.isNormalRenderingType,this.item.fillColor)},e.prototype.addImageResized=function(t){this._imageResizedEvent.add(t)},e.prototype.removeImageResized=function(t){this._imageResizedEvent.remove(t)},e.prototype._onResized=function(){var e=this.rectangle;return this._imageResizedEvent.notify(this,{Width:e.width,Height:e.height}),this.update(),t.prototype._onResized.call(this)},e.prototype._getDrawingFillColor=function(){return this.item.effect===HU.Colorize?QB.createColor("rgba(0,0,0,0)"):this.item.fillColor},Object.defineProperty(e.prototype,"qualityChangeScaleBar",{get:function(){return this._qualityChangeScaleBar},set:function(t){this._qualityChangeScaleBar=t},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"qualityChangeInfoBar",{get:function(){return this._qualityChangeInfoBar},set:function(t){this._qualityChangeInfoBar=t},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"qualityChangeContainer",{get:function(){return this._qualityChangeContainer},set:function(t){this._qualityChangeContainer=t},enumerable:!0,configurable:!0}),e.prototype.setQualityChangeScaleBarWidth=function(t){null!=this._qualityChangeScaleBar&&(t=Math.max(0,t),t=Math.min(100,t),this._qualityChangeScaleBar.style.width=t+"%")},e.prototype.setQualityChangeInfoBarText=function(t){null!=this._qualityChangeInfoBar&&(this._qualityChangeInfoBar.innerText=t)},Object.defineProperty(e.prototype,"isQualityChangeBarEmpty",{get:function(){return null==this._qualityChangeScaleBar||null==this.canvas||this._qualityChangeScaleBar.className===this.canvas.qualityChangeScaleBarCssClass},enumerable:!0,configurable:!0}),e.prototype.setBadToWarningChangeScaleBarClass=function(){var t=this.canvas;if(null!=this._qualityChangeScaleBar&&null!=t){var e=this._qualityChangeScaleBar.getAttribute("class"),n=t.qualityBadToWarningChangeScaleBarCssClass;null!=n&&""!==n&&this._qualityChangeScaleBar.classList.toggle(n,!0);var i=t.qualityWarningToGoodChangeScaleBarCssClass;null!=i&&""!==i&&this._qualityChangeScaleBar.classList.toggle(i,!1);var r=t.qualityBadToGoodChangeScaleBarCssClass;null!=r&&""!==r&&this._qualityChangeScaleBar.classList.toggle(r,!1);var o=t.qualityNoAnimationChangeScaleBarCssClass;null!=o&&""!==o&&this._qualityChangeScaleBar.classList.toggle(o,this._qualityChangeScaleBar.getAttribute("class")!==e),this.canvas.updateViolationContainer(this)}},e.prototype.setWarningToGoodChangeScaleBarClass=function(){var t=this.canvas;if(null!=this._qualityChangeScaleBar&&null!=t){var e=this._qualityChangeScaleBar.getAttribute("class"),n=t.qualityWarningToGoodChangeScaleBarCssClass;null!=n&&""!==n&&this._qualityChangeScaleBar.classList.toggle(n,!0);var i=t.qualityBadToWarningChangeScaleBarCssClass;null!=i&&""!==i&&this._qualityChangeScaleBar.classList.toggle(i,!1);var r=t.qualityBadToGoodChangeScaleBarCssClass;null!=r&&""!==r&&this._qualityChangeScaleBar.classList.toggle(r,!1);var o=t.qualityNoAnimationChangeScaleBarCssClass;null!=o&&""!==o&&this._qualityChangeScaleBar.classList.toggle(o,this._qualityChangeScaleBar.getAttribute("class")!==e),this.canvas.updateViolationContainer(this)}},e.prototype.setBadToGoodChangeScaleBarClass=function(){var t=this.canvas;if(null!=this._qualityChangeScaleBar&&null!=t){var e=this._qualityChangeScaleBar.getAttribute("class"),n=t.qualityBadToGoodChangeScaleBarCssClass;null!=n&&""!==n&&this._qualityChangeScaleBar.classList.toggle(n,!0);var i=t.qualityBadToWarningChangeScaleBarCssClass;null!=i&&""!==i&&this._qualityChangeScaleBar.classList.toggle(i,!1);var r=t.qualityWarningToGoodChangeScaleBarCssClass;null!=r&&""!==r&&this._qualityChangeScaleBar.classList.toggle(r,!1);var o=t.qualityNoAnimationChangeScaleBarCssClass;null!=o&&""!==o&&this._qualityChangeScaleBar.classList.toggle(o,this._qualityChangeScaleBar.getAttribute("class")!==e),this.canvas.updateViolationContainer(this)}},e.prototype.updateRectangle=function(e,n,i,r){t.prototype.updateRectangle.call(this,e,n,i,this.item.source.width,this.item.source.height,r)},e.typeName="ImageItemHandler",e}(GX),tK=function(){var t=function(e,n){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(e,n)};return function(e,n){function i(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(i.prototype=n.prototype,new i)}}(),eK=function(t){function e(e){var n=t.call(this,e)||this;return n.__type="BaseTextHandlerData",n}return tK(e,t),e.prototype.applyState=function(e,n){n&&(n.beginUpdate(),n.currentTextImage=null!=e.currentTextImage?Object.assign(new oK,e.currentTextImage):null),t.prototype.applyState.call(this,e,n)},e}(DX),nK=function(){function t(t,e,n,i,r){this._staticCanvas=t,this._activeCanvas=e,this._textWhizz=n,this._zoom=i,this._offset=r,this._selectionColor=new VB("rgba(40, 135, 245, 0.9)"),this._selectionTextColor=new VB("rgb(255, 255, 255)")}return t.prototype.setZoom=function(t){this._zoom=t},Object.defineProperty(t.prototype,"offset",{set:function(t){this._offset=t},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"_scale",{get:function(){return eF.screenDpi*this._zoom/72},enumerable:!0,configurable:!0}),t.prototype._getScaledBounds=function(t){var e=this._scale,n=Math.round(t.left*e),i=Math.round(t.top*e),r=Math.round(t.width*e),o=Math.round(t.height*e);return new aB(n,i,r,o)},t.prototype._getBase64Url=function(){return this._staticCanvas.toDataURL()},t.prototype._colorToTextWhizz=function(t){return new this._textWhizz.Color(this._textWhizz.ColorType.rgb,[t.b,t.g,t.r,t.a])},t.renderTextImage=function(t,e,n,i,r){e.isLoaded?this._drawImage(t,e,n,i,r):!e.isLoading&&t.ready||this._drawWaitClock(t,i)},t._drawWaitClock=function(t,e){var n=t.rectangle;t.canvas.drawWaitClock(e,new QL(n.centerX,n.centerY))},t._isUpdatingAfterResize=function(t){return t instanceof rK&&("BoundedTextItemHandler"===t.getTypeName()||"PathBoundedTextItemHandler"===t.getTypeName())&&t.isUpdatingAfterResize},t._drawImage=function(t,e,n,i,r){var o=t.canvas,s=t.item,a=o.disableSmoothing,l=eF.screenDpi*o.zoom/72;this._isUpdatingAfterResize(t)||bX.drawImage(i,e.image,t.drawingRectangle,l,l,a,null,s.opacity*r,n)},t}(),iK=function(){var t=function(e,n){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(e,n)};return function(e,n){function i(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(i.prototype=n.prototype,new i)}}(),rK=function(t){function e(e,n){void 0===n&&(n=null);var i=t.call(this,e,n)||this;return i._defaultWidth=10,i._currentTextImage=null,i._onCanvasChangedDelegate=null,i._updatedFromServer=!1,i._isUpdatingAfterResize=!1,i._height=0,i._updateTextsFunc=function(){null!=i.canvas&&i.canvas.updateTexts()},i._imageContainer=new WX(i._onImageLoaded.bind(i)),i._allowNegativeResize=!1,i}return iK(e,t),e.prototype._getSrc=function(){var t=this._imageContainer.source;return MB(t)?this._createImageUrl():t},Object.defineProperty(e.prototype,"item",{get:function(){return this._getItem()},set:function(e){t.prototype._setItem.call(this,e)},enumerable:!0,configurable:!0}),e.prototype._onItemPropertyChanged=function(e,n){switch(n){case"text":case"font":this.update(null,this._updateTextsFunc);break;case"underline":case"color":case"alignment":case"leading":case"tracking":case"verticalScale":case"horizontalScale":case"previewScale":case"stroke":case"shadow":case"baselineShift":this.update();break;case"checkTextCrop":e.checkTextCrop&&this.update()}t.prototype._onItemPropertyChanged.call(this,e,n)},e.prototype._setDataItem=function(e,n){t.prototype._setDataItem.call(this,e,n),this.item.text=e.text,this.item.font=e.font,this.item.leading=e.leading,this.item.color=e.color,this.item.stroke=e.stroke,this.item.shadow=e.shadow,this.item.verticalScale=e.verticalScale,this.item.horizontalScale=e.horizontalScale,this.item.previewScale=e.previewScale,this.item.mask=e.mask,this.item.baselineShift=e.baselineShift,this._updateVectorMaskCenter()},Object.defineProperty(e.prototype,"currentTextImage",{get:function(){return null!=this._currentTextImage?this._currentTextImage:this._currentTextImage=new oK},set:function(t){this._currentTextImage=t},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"textCropped",{get:function(){return this.item.checkTextCrop?null!=this.currentTextImage&&this.currentTextImage.textCropped:null},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"ready",{get:function(){return this._imageContainer.isLoaded},enumerable:!0,configurable:!0}),e.prototype._isLoadingImage=function(){return this._imageContainer.isLoading},e.prototype._setIsLoadingImage=function(t){this._imageContainer.isLoading=t},Object.defineProperty(e.prototype,"isUpdatingAfterResize",{get:function(){return this._isUpdatingAfterResize},set:function(t){this._isUpdatingAfterResize=t},enumerable:!0,configurable:!0}),e.prototype._getText=function(){var t=this.isEmptyTextPlaceholder()?this.item.originalText:this.item.text;return DB(t)?this._xmlToHtml(t).textContent.trim():t.trim()},e.prototype.isEmptyTextPlaceholder=function(){return this.item.isTextPlaceholder&&""===this.item.text},e.prototype.update=function(t,e){var n=this;this.isVisible()?this._update(null,t,(function(){n._afterUpdate(e)})):"function"==typeof t&&t()},e.prototype.getColorData=function(){var e=this.item,n=null!=this.canvas?this.canvas.rgbColorProfileFileId:null,i=t.prototype.getColorData.call(this);return e.color.needUpdate(n)&&(i.color=e.color.getData()),null!=e.stroke&&e.stroke.color.needUpdate(n)&&(i.stroke=e.stroke.color.getData()),null!=e.shadow&&e.shadow.color.needUpdate(n)&&(i.shadow=e.shadow.color.getData()),i},e.prototype.setColorData=function(e){t.prototype.setColorData.call(this,e),this._modifyItem((function(t){null!=e.color&&(t.color=QB.createColor(e.color)),null!=e.stroke&&(t.stroke.color=QB.createColor(e.stroke)),null!=e.shadow&&(t.shadow.color=QB.createColor(e.shadow))}))},e.prototype.hasColorsToUpdate=function(){var e=this.item,n=null!=this.canvas?this.canvas.rgbColorProfileFileId:null;return t.prototype.hasColorsToUpdate.call(this)||e.color.needUpdate(n)||null!=e.stroke&&e.stroke.color.needUpdate(n)||null!=e.shadow&&e.shadow.color.needUpdate(n)},e.prototype.isEmpty=function(){return this.item.isEmpty()},e.prototype.isVisible=function(){var e=null==this.item.parentGroupItem||this.item.parentGroupItem.isChildVisible(this.item);return t.prototype.isVisible.call(this)&&e},e.prototype._afterUpdate=function(t){var e;"function"==typeof t&&t(),this._updatedFromServer||null===(e=this.canvas)||void 0===e||e.updateViolationContainerPosition(this),this._updatedFromServer=!0,null!=this.canvas&&(this.canvas.updateSelection(),this.canvas.redrawDesign())},e.prototype._xmlToHtml=function(t){return(new DOMParser).parseFromString("<body>"+t+"</body>","text/html").getElementsByTagName("body")[0]},e.prototype._validateBeforeCallService=function(){return""!==this._getText()},e.prototype._onValidateBeforeCallServiceFailed=function(){this._getSrc()?this._setDefaultTextControlPoints():this._updateEmptyTextControlPoints()},e.prototype._updateEmptyTextControlPoints=function(){var e,n=this,i=this._createDataInstance(this),r=JSON.parse(this._getDataItem());e=r.text,r.text="a";var o=[JSON.stringify(i),r];t.prototype._callService.call(this,"Update"+this.getTypeName(),o,(function(t){var i=null;"object"==typeof t&&(i=t.item,t=t.itemHandlerData),null!=i&&(i.text=e,n._applyDataItem(i,t)),n.setData(t);var r=n.canvas;null!=r&&(r.updateSelection(),r.redraw()),n.onSuccessResponse()}),(function(t){n.onErrorResponse(t)}),null)},e.prototype._setDefaultTextControlPoints=function(){var t=this.item.alignment;t===ZV.Center?this._controlPoints[0].x+=(this._controlPoints[1].x-this._controlPoints[0].x)/2-this._defaultWidth/2:t===ZV.Right&&(this._controlPoints[0].x=this._controlPoints[1].x-this._defaultWidth),this._controlPoints[1].x=this._controlPoints[0].x+this._defaultWidth,this.raiseChanged();var e=this.canvas;null!=e&&(e.updateSelection(),e.redraw()),this.onSuccessResponse()},e.prototype._transformChanged=function(){var e=this;if(t.prototype._transformChanged.call(this),this.isUpdating&&this._callbacks){var n=this.item.transform.clone();this._callbacks.push((function(){e.item.setTransform(n,!0)}))}},e.prototype._createImageUrl=function(){var t=this.canvas;return null==t||this.canvas.service.imageLoaderService.hasImageContainerFor(this.currentTextImage.cacheFileId)?null:null!=this.currentTextImage.cacheFileId&&0!==this.currentTextImage.cacheFileId.length||null!=this.currentTextImage.base64Image&&0!==this.currentTextImage.base64Image.length?this.currentTextImage&&this.currentTextImage.base64Image?"data:image/png;base64,"+this.currentTextImage.base64Image:t.handlerUrl+"/txt?f="+encodeURIComponent(this.currentTextImage.cacheFileId):null},e.prototype._updateImageUrl=function(){if(""!==this._getText()&&this.isVisible()){var t=this.canvas;if(null!=t&&t.isInitialized){var e=this._createImageUrl();null==this._imageContainer.source||e!==this._imageContainer.source?null===e?(this._imageContainer.clear(),t.redraw()):this._imageContainer.updateUrl(e):!0===this.isUpdatingAfterResize&&(this.isUpdatingAfterResize=!1,t.redraw())}}},e.prototype.quickUpdate=function(){this._updateImageUrl(),this.isVisible()&&!this._imageContainer.source&&this.canvas&&!this.canvas.service.imageLoaderService.hasImageContainerFor(this.currentTextImage.cacheFileId)&&this.update()},e.prototype._getBoundsMargin=function(){return 2*this._getActualBorderWidth()},e.prototype.drawItemHandler=function(t){if(null!=t&&null!=this.canvas){this._hasVectorMask()&&(t.save(),this._clip(t));var e=this.item,n=this.rectangle,i=this.isEmptyTextPlaceholder()?.5:1;if(bX.fillRectangle(t,n,e.fillColor.preview,e.opacity*i),""!==this._getText()||!0===this._updatedFromServer)try{var r=this.canvas.service.imageLoaderService.getImageContainerFor(this.currentTextImage.cacheFileId);if(null!=r){var o=this.canvas.service.imageLoaderService.getImageContainerRectangleFor(this.currentTextImage.cacheFileId);nK.renderTextImage(this,r,o,t,i)}else nK.renderTextImage(this,this._imageContainer,null,t,i)}catch(a){console.error(a),this.update()}var s=this._getActualBorderWidth();s>0&&(n.width+=s,n.height+=s,bX.drawRectangle(t,n,s,e.borderColor.preview,e.opacity*i)),this._hasVectorMask()&&t.restore()}},e.prototype._createDataInstance=function(t){return new eK(t)},e.prototype._onImageLoaded=function(){this.isUpdatingAfterResize=!1,this._height=this.rectangle.height,null!=this.canvas&&this.canvas.redraw(),this._dispatchReadyEvent()},e.prototype._onResized=function(){return null!=this.canvas&&(this.isUpdatingAfterResize=!0),t.prototype._onResized.call(this)},e.prototype._onCanvasChanged=function(){this.update()},e.prototype._onAddedOnCanvas=function(e,n){t.prototype._onAddedOnCanvas.call(this,e,n),null==this.canvas||this._onCanvasChangedDelegate||(this._onCanvasChangedDelegate=this._onCanvasChanged.bind(this),this.canvas.add_zoomChanged(this._onCanvasChangedDelegate))},e.prototype._onRemovedFromCanvas=function(e){t.prototype._onRemovedFromCanvas.call(this,e),e&&null!=this._onCanvasChangedDelegate&&(e.remove_zoomChanged(this._onCanvasChangedDelegate),delete this._onCanvasChangedDelegate)},e.prototype._endTransform=function(e,n){t.prototype._endTransform.call(this,e,n),e&&n&&this.update()},e.prototype.dispose=function(){this._imageContainer.dispose(),null!=this._onCanvasChangedDelegate&&(null!=this.canvas&&this.canvas.remove_zoomChanged(this._onCanvasChangedDelegate),delete this._onCanvasChangedDelegate),t.prototype.dispose.call(this)},e.typeName="BaseTextItemHandler",e}(UX),oK=function(){this.cacheFileId=null,this.base64Image=null,this.textCropped=null},sK=function(){var t=function(e,n){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(e,n)};return function(e,n){function i(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(i.prototype=n.prototype,new i)}}(),aK=function(t){function e(e,n){return void 0===n&&(n=null),t.call(this,e,n)||this}return sK(e,t),Object.defineProperty(e.prototype,"item",{get:function(){return this._getItem()},set:function(e){t.prototype._setItem.call(this,e)},enumerable:!0,configurable:!0}),e.prototype._setDataItem=function(e,n){t.prototype._setDataItem.call(this,e,n),this.item.baselineLocation=e.baselineLocation},e.prototype._onItemPropertyChanged=function(e,n){var i=this;switch(n){case"baselineLocation":this.update();break;case"alignment":var r=this.rectangle.location,o=this.canvas.history;null!=o&&o.pause(),this.update(null,(function(){var t=i.rectangle.location;i.item.transform.move(r.x-t.x,r.y-t.y),null!=o&&o.resume()}))}"alignment"!==n&&t.prototype._onItemPropertyChanged.call(this,e,n)},e.prototype._createItemHandlerPermissions=function(){var e=t.prototype._createItemHandlerPermissions.call(this);return e.allowArbitraryResize=!1,e},e.prototype._getBaselineLocation=function(){var t=this.getControlCenter(),e=this.item.baselineLocation.clone();return e.transform(this.item.transform.clone(),t),e},e.prototype.drawItemHandler=function(e){if(t.prototype.drawItemHandler.call(this,e),!0===window.__$abl$){var n=this._getBaselineLocation(),i=new CB(n.x,n.y,6,6,0);bX.fillRectangle(e,i,"red")}},e.prototype._onResized=function(){if(null!=this.canvas){var e=this.rectangle.height/this._height,n=parseFloat((this.item.font.size*e).toFixed(1)),i=parseFloat((this.item.leading*e).toFixed(1)),r=this.canvas,o=r.minFontSize;n="number"==typeof o?Math.max(n,o):n;var s=r.maxFontSize;if(n="number"==typeof s?Math.min(n,s):n,0!==i){var a=r.minLeading;i="number"==typeof a?Math.max(i,a):i;var l=r.maxLeading;i="number"==typeof l?Math.min(i,l):i}return gB(n,this.item.font.size,.01)&&gB(i,this.item.leading,.01)?(null!=this._startRectangle?(this.setRectangle(this._startRectangle),r.updateSelection(),delete this._startRectangle):this.update(null,null),!1):t.prototype._onResized.call(this)}},e.typeName="PlainTextItemHandler",e}(rK),lK=function(){var t=function(e,n){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(e,n)};return function(e,n){function i(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(i.prototype=n.prototype,new i)}}(),cK=function(t){function e(e,n){void 0===n&&(n=null);var i=t.call(this,e,n)||this;return i._lastRectangle=null,i._textAutoFitted=null,i._updateEmptyTextControlPoints(),i}return lK(e,t),Object.defineProperty(e.prototype,"item",{get:function(){return this._getItem()},set:function(e){t.prototype._setItem.call(this,e)},enumerable:!0,configurable:!0}),e.prototype._setDataItem=function(e,n){t.prototype._setDataItem.call(this,e,n),this._textAutoFitted=null,this.item.scheduledFitMode=null,this.item.textRectangle=e.textRectangle,this.item.firstBaselineOffset=e.firstBaselineOffset,this.item.firstBaselineMinOffset=e.firstBaselineMinOffset},e.prototype._onItemPropertyChanged=function(e,n){switch(n){case"textRectangle":case"verticalAlignment":case"isVertical":case"paragraphSettings":case"wrappingMargin":case"scheduledFitMode":case"shrinkMode":case"overflowStrategy":case"wrappingPath":case"firstBaselineOffset":case"firstBaselineMinOffset":this.update()}t.prototype._onItemPropertyChanged.call(this,e,n)},e.prototype.getTextRectangle=function(){var t=this.getControlCenter(),e=CB.fromRectangleF(this.item.textRectangle);return e.transform(this.item.transform.clone(),t),e},Object.defineProperty(e.prototype,"drawingRectangle",{get:function(){return this.canvas.isItemHandlerSelected(this)&&this.canvas.isResizing()&&null!=this.startRectangle?this.startRectangle:this.rectangle},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"lastRectangle",{get:function(){return this._lastRectangle},set:function(t){this._lastRectangle=t},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"textAutoFitted",{get:function(){var t;return null==this._textAutoFitted&&(this._textAutoFitted=(t=this.item).overflowStrategy!==QV.Clip&&(t.shrinkMode===YV.Scale||t.shrinkMode===YV.Size)&&(t.originalVerticalScale<t.verticalScale||t.originalHorizontalScale<t.horizontalScale)),this._textAutoFitted},enumerable:!0,configurable:!0}),e.prototype.getTextWrappingPath=function(){return this.item.textWrappingMode!==lV.None?bB.rotatedRectangle(this.getTextRectangle()):null},e.prototype.drawItemHandler=function(e){t.prototype.drawItemHandler.call(this,e),!0===window.__$abl$&&bX.drawRectangle(e,this.getTextRectangle(),1,"red",1)},e.prototype._updateEmptyTextControlPoints=function(){var t=this.item.textRectangle;this._controlPoints[0].x=t.left,this._controlPoints[0].y=t.top,this._controlPoints[1].x=t.right,this._controlPoints[1].y=t.bottom;var e=this.canvas;null!=e&&e.redraw()},e.prototype._setDefaultTextControlPoints=function(){},e.typeName="BoundedTextItemHandler",e}(rK),uK=function(){var t=function(e,n){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(e,n)};return function(e,n){function i(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(i.prototype=n.prototype,new i)}}(),hK=function(t){function e(e,n){void 0===n&&(n=null);var i=t.call(this,e,n)||this;return i._lastRectangle=null,i._lastRectangle=null,i}return uK(e,t),e.prototype._onItemPropertyChanged=function(e,n){switch(n){case"boundingPaths":case"wrappingPath":case"wrappingMargin":case"paragraphSettings":case"isVertical":case"firstBaselineOffset":case"firstBaselineMinOffset":this.update()}t.prototype._onItemPropertyChanged.call(this,e,n)},Object.defineProperty(e.prototype,"item",{get:function(){return this._getItem()},set:function(e){t.prototype._setItem.call(this,e)},enumerable:!0,configurable:!0}),e.prototype._setDataItem=function(e,n){t.prototype._setDataItem.call(this,e,n),this.item.boundingPaths=e.boundingPaths,this.item.wrappingMargin=e.wrappingMargin,this.item.characterLimit=e.characterLimit,this.item.paragraphSettings=e.paragraphSettings,this.item.isVertical=e.isVertical,this.item.firstBaselineOffset=e.firstBaselineOffset,this.item.firstBaselineMinOffset=e.firstBaselineMinOffset},Object.defineProperty(e.prototype,"boundingPaths",{get:function(){var t=[],e=this.getControlCenter(),n=this.item.transform.clone();return this.originalBoundingPaths.forEach((function(i){var r=i.clone();r.transform(n,e),t.push(r)})),t},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"originalBoundingPaths",{get:function(){return this.item.boundingPaths},set:function(t){this.item.boundingPaths=t},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"lastRectangle",{get:function(){return this._lastRectangle},set:function(t){this._lastRectangle=t},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"wrappingMargin",{get:function(){return this.item.wrappingMargin},set:function(t){this.item.wrappingMargin=t},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"paragraphSettings",{get:function(){return this.item.paragraphSettings},set:function(t){t instanceof EU||(t=new EU(t)),this.item.paragraphSettings=t},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"isVertical",{get:function(){return this.item.isVertical},set:function(t){this.item.isVertical=t},enumerable:!0,configurable:!0}),e.prototype.drawItemHandler=function(e){if(t.prototype.drawItemHandler.call(this,e),!0===window.__$abl$){var n=this.getControlCenter(),i=new wB;this.boundingPaths.forEach((function(t){bX.drawPath(e,t,n,i,1,"red",1)}))}},e.prototype.getBoundingPathsBounds=function(){return t=this,void 0,n=function(){var t,e,n,i=this;return function(t,e){var n,i,r,o,s={label:0,sent:function(){if(1&r[0])throw r[1];return r[1]},trys:[],ops:[]};return o={next:a(0),throw:a(1),return:a(2)},"function"==typeof Symbol&&(o[Symbol.iterator]=function(){return this}),o;function a(o){return function(a){return function(o){if(n)throw new TypeError("Generator is already executing.");for(;s;)try{if(n=1,i&&(r=2&o[0]?i.return:o[0]?i.throw||((r=i.return)&&r.call(i),0):i.next)&&!(r=r.call(i,o[1])).done)return r;switch(i=0,r&&(o=[2&o[0],r.value]),o[0]){case 0:case 1:r=o;break;case 4:return s.label++,{value:o[1],done:!1};case 5:s.label++,i=o[1],o=[0];continue;case 7:o=s.ops.pop(),s.trys.pop();continue;default:if(!((r=(r=s.trys).length>0&&r[r.length-1])||6!==o[0]&&2!==o[0])){s=0;continue}if(3===o[0]&&(!r||o[1]>r[0]&&o[1]<r[3])){s.label=o[1];break}if(6===o[0]&&s.label<r[1]){s.label=r[1],r=o;break}if(r&&s.label<r[2]){s.label=r[2],s.ops.push(o);break}r[2]&&s.ops.pop(),s.trys.pop();continue}o=e.call(t,s)}catch(a){o=[6,a],i=0}finally{n=r=0}if(5&o[0])throw o[1];return{value:o[0]?o[1]:void 0,done:!0}}([o,a])}}}(this,(function(r){switch(r.label){case 0:return[4,Promise.all(this.item.boundingPaths.map((function(t){return TX.getBounds(t,i.canvas.textWhizz,i.canvas.service)})))];case 1:return t=r.sent(),e=aB.getOverallBounds(t),(n=CB.fromRectangleF(e)).transform(this.item.transform.clone(),this.getControlCenter()),[2,n.toRectangleF()]}}))},new((e=void 0)||(e=Promise))((function(i,r){function o(t){try{a(n.next(t))}catch(e){r(e)}}function s(t){try{a(n.throw(t))}catch(e){r(e)}}function a(t){var n;t.done?i(t.value):(n=t.value,n instanceof e?n:new e((function(t){t(n)}))).then(o,s)}a((n=n.apply(t,[])).next())}));var t,e,n},Object.defineProperty(e.prototype,"drawingRectangle",{get:function(){return this.canvas.isItemHandlerSelected(this)&&this.canvas.isResizing()&&null!=this.startRectangle?this.startRectangle:this.rectangle},enumerable:!0,configurable:!0}),e.prototype._setDefaultTextControlPoints=function(){},e.typeName="PathBoundedTextItemHandler",e}(rK),dK=function(){function t(t){var e=t.map((function(t){return[t.typeName,t]}));this._dict=new Map(e)}return t.prototype.create=function(t){var e=this._dict.get(t);if(null!=e)return new e;throw new qR("Unknown vo type "+t)},t}(),pK=function(){var t=function(e,n){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(e,n)};return function(e,n){function i(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(i.prototype=n.prototype,new i)}}(),fK=function(t){function e(){return t.call(this,[HX,UX,JX,_K,aK,hK,cK])||this}return pK(e,t),e}(dK),mK=function(){var t=function(e,n){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(e,n)};return function(e,n){function i(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(i.prototype=n.prototype,new i)}}(),gK=function(t){function e(e){var n=this,i=e._editing;if(i&&(e._editing=!1),n=t.call(this,e)||this,e._editing=i,n.__type="PlaceholderHandlerData",e){n.CT=e.isEmptyContent()?null:e.getTypeName();var r=e.topFrames;if(null!=r){n.TFCT=[],n.TFCD=[];for(var o=0;o<r.length;o++)n.TFCD.push(r[o].getData()),n.TFCT.push(r[o].getTypeName())}var s=e.bottomFrames;if(null!=s)for(n.BFCT=[],n.BFCD=[],o=0;o<s.length;o++)n.BFCD.push(s[o].getData()),n.BFCT.push(s[o].getTypeName());n.SMC=e.showMaskedContent}return n}return mK(e,t),e.prototype.applyState=function(e,n){if(n){if(n.beginUpdate(),null!=e.TFCD&&0!==e.TFCD.length){for(var i=[],r=0;r<e.TFCD.length;r++)if(null!=e.TFCT[r]){var o=(new fK).create(e.TFCT[r]);o.setData(e.TFCD[r]),i.push(o)}n.topFrames=i}if(null!=e.BFCD&&0!==e.BFCD.length){var s=[];for(r=0;r<e.BFCD.length;r++)if(null!=e.BFCT[r]){var a=(new fK).create(e.BFCT[r]);a.setData(e.BFCD[r]),s.push(a)}n.bottomFrames=s}n.showMaskedContent=e.SMC,t.prototype.applyState.call(this,e,n)}},e}(DX),yK=function(){var t=function(e,n){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(e,n)};return function(e,n){function i(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(i.prototype=n.prototype,new i)}}(),_K=function(t){function e(n,i){void 0===i&&(i=null);var r=t.call(this,e._getItemPath(n),n,i)||this;return r._content=null,r._topFrames=[],r._bottomFrames=[],r._editing=!1,r._showMaskedContent=!0,r._isContentUpdating=!1,r._previousRectangle=null,r._placeholderButtonGroup=null,r._editButtonGroup=null,r._doneButtonGroup=null,r._selectButton=null,r._doneButton=null,r._handleButton=null,r._qualityChangeContainer=null,r._qualityChangeScaleBar=null,r._qualityChangeInfoBar=null,r._forceQualityChangeInfoBar=!1,r._emptyPlaceholderBorderColor=new VB({r:204,g:204,b:204}),r._emptyPlaceholderBorderWidth=1,r._selectButtonClickEvent=new sB,r._selectButtonClickHandler=r._onSelectButtonClick.bind(r),r}return yK(e,t),Object.defineProperty(e.prototype,"item",{get:function(){return this._getItem()},set:function(e){t.prototype._setItem.call(this,e)},enumerable:!0,configurable:!0}),e._getItemPath=function(t){return null==t?null:null!=t.sourcePath?t.sourcePath:null!=t.sourceRectangle?bB.rectangle(t.sourceRectangle.left,t.sourceRectangle.top,t.sourceRectangle.width,t.sourceRectangle.height):null},e.prototype._onItemPropertyChanged=function(e,n){var i,r=this;switch(n){case"content":this.content=null!=e.content&&null!=this.canvas?this.canvas.handlerFactory.get(e.content):null,this.update();break;case"topFrames":null!=this.canvas&&(this.topFrames=e.topFrames.map((function(t){return r.canvas.handlerFactory.get(t)}))),this.update();break;case"bottomFrames":null!=this.canvas&&(this.bottomFrames=e.bottomFrames.map((function(t){return r.canvas.handlerFactory.get(t)}))),this.update();break;case"locked":null===(i=this.canvas)||void 0===i||i.updatePlaceholderButtonGroup(this);break;case"isStubContent":this._reloadPlaceholderButtons();break;case"isCoverMode":null!=this._content&&this.item.isCoverMode&&this._content.setRectangle(this._content.rectangle);break;case"contentOverlayEffect":this.update()}t.prototype._onItemPropertyChanged.call(this,e,n)},e.prototype._onItemVisibilityChanged=function(){var e;t.prototype._onItemVisibilityChanged.call(this),null===(e=this.canvas)||void 0===e||e.updatePlaceholderButtonGroup(this)},e.prototype._setVisible=function(e){if(this.visible!==e){t.prototype._setVisible.call(this,e),null!=this._content&&(this._content.visible=e);var n=this.canvas;null!=n&&n.updatePlaceholderButtonGroup(this)}},e.prototype.quickUpdate=function(){this.isVisible()&&this.update(),null!=this.canvas&&this.canvas.updatePlaceholderButtonGroup(this)},Object.defineProperty(e.prototype,"content",{get:function(){return this._content},set:function(t){var e=this.canvas;if(null==e||this.isStubOrEmpty()||e.removeViolationContainer(this._content),this._content=t,null!=this._content&&(this._content.layer=this.layer,this._content.parentPlaceholder=this,this._content.contentType=wX.PlaceholderContent),null!=e){if(this._reloadPlaceholderButtons(),null==this._content)return;this._content.canvas=e}},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"topFrames",{get:function(){return this._topFrames},set:function(t){var e=this;this._topFrames=t,this._updateTopFrames((function(t){t.contentType=wX.TopFrame,t.layer=e.layer,t.parentPlaceholder=e,t.canvas=e.canvas}))},enumerable:!0,configurable:!0}),e.prototype.getTopFrame=function(t){return null!=this._topFrames?this._topFrames[t]:null},e.prototype.setTopFrame=function(t,e){e._contentType=wX.TopFrame,e._layer=this.layer,e._parentPlaceholder=this,e.canvas=this.canvas,this._topFrames[t]=e},Object.defineProperty(e.prototype,"bottomFrames",{get:function(){return this._bottomFrames},set:function(t){var e=this;this._bottomFrames=t,this._updateBottomFrames((function(t){t.contentType=wX.BottomFrame,t.layer=e.layer,t.parentPlaceholder=e,t.canvas=e.canvas}))},enumerable:!0,configurable:!0}),e.prototype.getBottomFrame=function(t){return null!=this._bottomFrames?this._bottomFrames[t]:null},e.prototype.setBottomFrame=function(t,e){e._contentType=wX.BottomFrame,e._layer=this.layer,e._parentPlaceholder=this,e.canvas=this.canvas,this._bottomFrames[t]=e},e.prototype.isEmptyContent=function(){return null==this._content},e.prototype._reloadPlaceholderButtons=function(){var t=this.canvas;null!=t&&(t.removePlaceholderButtonGroup(this),t.addPlaceholderButtonGroup(this),this.isStubOrEmpty()?t.removeViolationContainer(this._content):t.addViolationContainer(this._content))},e.prototype.isStubOrEmpty=function(){return this.item.isStubContent||this.isEmptyContent()},Object.defineProperty(e.prototype,"editing",{get:function(){return!this.isStubOrEmpty()&&this._editing},set:function(t){if(this._editing!==t){if(t&&!this.getPermissions().allowEditContent&&this.isStubOrEmpty())return;this._editing=t,this.raiseChanged();var e=this.canvas;null!=e&&(e.updateSelection(),e.updatePlaceholderButtonGroup(this),e.updateFloatingItemToolbar(this),e.redraw())}},enumerable:!0,configurable:!0}),e.prototype.isCoverMode=function(){return this.item.isCoverMode},e.prototype._createItemHandlerPermissions=function(){var e=t.prototype._createItemHandlerPermissions.call(this);return e.allowEditContent=this.item.placeholderPermissions.allowEditContent,e.showSelectButton=this.item.placeholderPermissions.showSelectButton,e.showHandleButton=this.item.placeholderPermissions.showHandleButton,e},e.prototype.showEditButton=function(){var e=t.prototype.showEditToolbarButton,n=!!this.isStubOrEmpty()||!this.item.imageContent.source.isVector;return e&&n},e.prototype.getPermissions=function(e){if(!this.editing||null!=e&&e)return t.prototype.getPermissions.call(this);if(!this.isEmptyContent()){var n=this._content.getPermissions().clone();return n.allowDelete=!1,n}return new yX({},!1)},Object.defineProperty(e.prototype,"showMaskedContent",{get:function(){return this._showMaskedContent},set:function(t){this._showMaskedContent=t},enumerable:!0,configurable:!0}),e.prototype.setRectangle=function(e,n,i){!this.editing||i?t.prototype.setRectangle.call(this,e,n):this._content.setRectangle(e,n)},e.prototype._createDataInstance=function(t){return new gK(t)},e.prototype.drawItemHandler=function(e){if(null!=e){var n=function(t){t.drawItemHandler(e)},i=this.editing&&this.showMaskedContent;i||this._updateBottomFrames(n);var r=bX,o=this.originalPath,s=this.getControlCenter(),a=this.item.transform;if(this.isEmptyContent())t.prototype.drawItemHandler.call(this,e),gB(0,this.item.borderWidth)&&r.drawPath(e,o,s,a,this._emptyPlaceholderBorderWidth,this._emptyPlaceholderBorderColor,1);else{i&&this._content._drawMaskedContent(e);var l=this.isNormalRenderingType?this.item.opacity:1;e.save();var c=null;null!=this.item.mask&&null!=this.item.mask.vectorMask?(c=this._getTransformedClippingPath(),o=this.item.mask.vectorMask):c=this._getTransformedPath(),null!=c&&r.clipPath(e,c),null!=o&&r.fillPath(e,o,s,a,this.item.fillColor.preview,l),this._content.drawItemHandler(e),this.canvas.dndHandler.isDragSource(this)&&(e.globalCompositeOperation="destination-out",r.fillRectangle(e,this.rectangle,new VB({r:0,g:0,b:0}),.3),e.globalCompositeOperation="source-over"),e.restore(),r.drawPath(e,o,s,a,this._getActualBorderWidth(),this.item.borderColor.preview,l)}if(i){if(e.globalCompositeOperation="destination-over",null!=this._bottomFrames)for(var u=this._bottomFrames.length-1;u>=0;u--)n(this._bottomFrames[u]);e.globalCompositeOperation="source-over"}this.canvas.dndHandler.isDragTarget(this)&&this.isNormalRenderingType&&r.fillRectangle(e,this.rectangle,new VB({r:0,g:0,b:0}),.5),this._updateTopFrames(n)}},e.prototype.getSelectionRectangle=function(){return this.editing?this._content.getSelectionRectangle():t.prototype.getSelectionRectangle.call(this)},e.prototype._getHighlightRectangle=function(){return this.editing?this.rectangle:t.prototype._getHighlightRectangle.call(this)},e.prototype.getBorderMargin=function(){return this.editing?this._content.getBorderMargin():t.prototype.getBorderMargin.call(this)},e.prototype.update=function(){this.updateColors(),this.updateContentAndFrames((function(t){t.update()})),null!=this.canvas&&this.canvas.updatePlaceholderButtonGroup(this)},e.prototype.addSelectButtonClick=function(t){this._selectButtonClickEvent.add(t)},e.prototype.removeSelectButtonClick=function(t){this._selectButtonClickEvent.remove(t)},e.prototype._onSelectButtonClick=function(){this._selectButtonClickEvent.notify(this)},e.prototype.getChangeContentButtonClickEvent=function(){return this._selectButtonClickEvent},e.prototype._onAddedOnCanvas=function(e){var n=this;t.prototype._onAddedOnCanvas.call(this,e),this.updateContentAndFrames((function(t){t.layer=n.layer,t.parentPlaceholder=n,t.canvas=e})),null!=e&&null==this.placeholderButtonGroup&&e.addPlaceholderButtonGroup(this),null!=this.content&&(this.content.canvas=e)},e.prototype._onRemovedFromCanvas=function(e){t.prototype._onRemovedFromCanvas.call(this,e),this.updateContentAndFrames((function(t){t._onRemovedFromCanvas(e)})),null!=e&&e.removePlaceholderButtonGroup(this)},e.prototype._onTransformRectangle=function(e,n,i){if(this._previousRectangle=this.rectangle,t.prototype._onTransformRectangle.call(this,e,n,i),!this.isEmptyContent()&&null!=this.content.startRectangle)if(this.item.isStubContent&&this.item.fixedStubContentSize&&!this.editing){var r=n.clone();r.Width=e.Width,r.Height=e.Height,this.content._transformRectangle(e,r)}else this.content._transformRectangle(e,n);this.editing||this._updateFrames((function(t){null!=t.startRectangle&&t._transformRectangle(e,n)})),this._previousRectangle=null;var o=this.canvas;null!=o&&o.updatePlaceholderButtonGroupPosition(this)},e.prototype.startTransform=function(e){t.prototype.startTransform.call(this,e),this.editing&&(this._startRectangle=this._content.rectangle),this.updateContentAndFrames((function(t){t._startRectangle=t.rectangle}))},e.prototype.endTransform=function(t,e){this._endTransform(t,e)},e.prototype._endTransform=function(t,e,n){void 0===n&&(n=!1),t&&(e||null!=this._startRectangle)&&(this.updateContentAndFrames((function(n){return n._endTransform(t,e,!0)})),n||this._itemPropertyChangedEvent.notify(this,"transform")),t&&e||(delete this._startRectangle,this.updateContentAndFrames((function(t){delete t._startRectangle}))),null!=this.canvas&&(this.canvas.updateFloatingItemToolbar(this),this.canvas.updateViolationContainer(this,!0))},e.prototype._transformChanged=function(){t.prototype._transformChanged.call(this);var e=this.canvas;null!=e&&e.updatePlaceholderButtonGroupPosition(this)},e.prototype._onResized=function(){return this.updateContentAndFrames((function(t){t._onResized()})),t.prototype._onResized.call(this)},e.prototype.showSelectButton=function(){return this.isStubOrEmpty()&&this.getPermissions().showSelectButton},e.prototype.showSelectToolbarButton=function(){return this._permissions.showSelectToolbarButton},e.prototype.showHandleButton=function(){return!this.isStubOrEmpty()&&this.getPermissions().allowEditContent&&this.getPermissions().showHandleButton&&!this._editing},e.prototype.onHandleButtonMouseDown=function(){this._isContentUpdating=!0,this.editing=!0},e.prototype.onPlaceholderButtonMouseUp=function(){this._isContentUpdating=!1,this.canvas.updatePlaceholderButtonGroup(this)},e.prototype.onDoneButtonClick=function(){var t=this.canvas;null!=t&&(t.setSelectedItemHandlers([this]),this.editing=!1)},e.prototype.setContentUpdating=function(t){this._isContentUpdating=t},e.prototype.isContentUpdating=function(){return this._isContentUpdating},e.prototype._updateFrames=function(t){this._updateTopFrames(t),this._updateBottomFrames(t)},e.prototype._updateTopFrames=function(t,e){if(null!=this._topFrames)for(var n=0;n<this._topFrames.length;n++)t(this._topFrames[n],null!=e?e[n]:null)},e.prototype._updateBottomFrames=function(t,e){if(null!=this._bottomFrames)for(var n=0;n<this._bottomFrames.length;n++)t(this._bottomFrames[n],null!=e?e[n]:null)},e.prototype._updateContent=function(t){this.isEmptyContent()||t(this._content)},e.prototype.updateContentAndFrames=function(t){this._updateContent(t),this._updateFrames(t)},e.prototype.getBoundsIncludingFrames=function(){var t=this.bounds;return this._updateFrames((function(e){t=aB.union(t,e.bounds)})),t},e.prototype.getRectangleIncludingFrames=function(){var t=this.rectangle;return this._updateFrames((function(e){t=CB.union(e.rectangle,t)})),t},Object.defineProperty(e.prototype,"qualityChangeScaleBar",{get:function(){return this._qualityChangeScaleBar},set:function(t){this._qualityChangeScaleBar=t},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"qualityChangeInfoBar",{get:function(){return this._qualityChangeInfoBar},set:function(t){this._qualityChangeInfoBar=t},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"qualityChangeContainer",{get:function(){return this._qualityChangeContainer},set:function(t){this._qualityChangeContainer=t},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"forceQualityChangeInfoBar",{get:function(){return this._forceQualityChangeInfoBar},set:function(t){this._forceQualityChangeInfoBar=t;var e=this.canvas;null!=e&&e.updateViolationContainer(this)},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"placeholderButtonGroup",{get:function(){return this._placeholderButtonGroup},set:function(t){this._placeholderButtonGroup=t},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"doneButtonGroup",{get:function(){return this._doneButtonGroup},set:function(t){this._doneButtonGroup=t},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"selectButton",{get:function(){return this._selectButton},set:function(t){this._selectButton=t},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"doneButton",{get:function(){return this._doneButton},set:function(t){this._doneButton=t},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"handleButton",{get:function(){return this._handleButton},set:function(t){this._handleButton=t},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"selectButtonClickHandler",{get:function(){return this._selectButtonClickHandler},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"editButtonGroup",{get:function(){return this._editButtonGroup},set:function(t){this._editButtonGroup=t},enumerable:!0,configurable:!0}),e.prototype.setQualityChangeScaleBarWidth=function(t){null!=this._qualityChangeScaleBar&&(t=Math.max(0,t),t=Math.min(100,t),this._qualityChangeScaleBar.style.width=t+"%")},e.prototype.setQualityChangeInfoBarText=function(t){null!=this._qualityChangeInfoBar&&(this._qualityChangeInfoBar.innerText=t)},Object.defineProperty(e.prototype,"isQualityChangeBarEmpty",{get:function(){return null==this._qualityChangeScaleBar||null==this.canvas||this._qualityChangeScaleBar.className===this.canvas.qualityChangeScaleBarCssClass},enumerable:!0,configurable:!0}),e.prototype.setBadToWarningChangeScaleBarClass=function(){var t=this.canvas;if(null!=this._qualityChangeScaleBar&&null!=t){var e=this._qualityChangeScaleBar.getAttribute("class"),n=t.qualityBadToWarningChangeScaleBarCssClass;null!=n&&""!==n&&this._qualityChangeScaleBar.classList.toggle(n,!0);var i=t.qualityWarningToGoodChangeScaleBarCssClass;null!=i&&""!==i&&this._qualityChangeScaleBar.classList.toggle(i,!1);var r=t.qualityBadToGoodChangeScaleBarCssClass;null!=r&&""!==r&&this._qualityChangeScaleBar.classList.toggle(r,!1);var o=t.qualityNoAnimationChangeScaleBarCssClass;null!=o&&""!==o&&this._qualityChangeScaleBar.classList.toggle(o,this._qualityChangeScaleBar.getAttribute("class")!==e),this.canvas.updateViolationContainer(this)}},e.prototype.setWarningToGoodChangeScaleBarClass=function(){var t=this.canvas;if(null!=this._qualityChangeScaleBar&&null!=t){var e=this._qualityChangeScaleBar.getAttribute("class"),n=t.qualityWarningToGoodChangeScaleBarCssClass;null!=n&&""!==n&&this._qualityChangeScaleBar.classList.toggle(n,!0);var i=t.qualityBadToWarningChangeScaleBarCssClass;null!=i&&""!==i&&this._qualityChangeScaleBar.classList.toggle(i,!1);var r=t.qualityBadToGoodChangeScaleBarCssClass;null!=r&&""!==r&&this._qualityChangeScaleBar.classList.toggle(r,!1);var o=t.qualityNoAnimationChangeScaleBarCssClass;null!=o&&""!==o&&this._qualityChangeScaleBar.classList.toggle(o,this._qualityChangeScaleBar.getAttribute("class")!==e),this.canvas.updateViolationContainer(this)}},e.prototype.setBadToGoodChangeScaleBarClass=function(){var t=this.canvas;if(null!=this._qualityChangeScaleBar&&null!=t){var e=this._qualityChangeScaleBar.getAttribute("class"),n=t.qualityBadToGoodChangeScaleBarCssClass;null!=n&&""!==n&&this._qualityChangeScaleBar.classList.toggle(n,!0);var i=t.qualityBadToWarningChangeScaleBarCssClass;null!=i&&""!==i&&this._qualityChangeScaleBar.classList.toggle(i,!1);var r=t.qualityWarningToGoodChangeScaleBarCssClass;null!=r&&""!==r&&this._qualityChangeScaleBar.classList.toggle(r,!1);var o=t.qualityNoAnimationChangeScaleBarCssClass;null!=o&&""!==o&&this._qualityChangeScaleBar.classList.toggle(o,this._qualityChangeScaleBar.getAttribute("class")!==e),this.canvas.updateViolationContainer(this)}},e.prototype.rotateContentLeft=function(){this._rotateContent(-90)},e.prototype.rotateContentRight=function(){this._rotateContent(90)},e.prototype._rotateContent=function(t){if(!this.isStubOrEmpty()){var e=this.content.getTransformedRectangle(!1);e.angle=cB((e.angle+t)%360),this.content.setTransformedRectangle(e),this.canvas.redraw()}},e.prototype.getContentScale=function(){if(this.isStubOrEmpty())return null;var t=this.getTransformedRectangle(!1),e=this.content.getTransformedRectangle(!1),n=90===cB(t.angle-e.angle)||270===cB(t.angle-e.angle),i=n?e.height/t.width:e.width/t.width,r=n?e.width/t.height:e.height/t.height;return this.item.contentResizeMode===DW.Fit?100*Math.max(i,r):100*Math.min(i,r)},e.prototype.setContentScale=function(t){if(!this.isStubOrEmpty()){var e=this.content.getTransformedRectangle(!1),n=t/this.getContentScale();this.content.setTransformedRectangle(new CB(e.centerX,e.centerY,e.width*n,e.height*n,e.angle)),this.raiseChanging(this.item),this.canvas.redraw()}},e.prototype.resetContent=function(){if(!this.isStubOrEmpty()){var t=this.getTransformedRectangle(!1),e=this.content.getTransformedRectangle(!1),n=100/this.getContentScale(),i=90===cB(t.angle-e.angle)||270===cB(t.angle-e.angle),r=this.content.item,o=i?e.height/e.width:e.width/e.height,s=r.ratioWidthToHeight||r.sourceRectangle.width/r.sourceRectangle.height,a=o<s?n*(s/o):n,l=o>s?n*(o/s):n,c=i?e.height*a:e.width*a,u=i?e.width*l:e.height*l,h=this.item.contentResizeMode===DW.Fit?Math.min(t.width/c,t.height/u):Math.max(t.width/c,t.height/u);this.content.setTransformedRectangle(new CB(t.centerX,t.centerY,c*h,u*h,t.angle)),this.content.item.getItemChangedEvent().notify(),this.canvas.redraw()}},e.prototype.transformByMatrix=function(t){this.setRectangle(this.rectangle.transformByMatrix(t),!1,!0),1===t.scaleX&&1===t.scaleY||this._onResized(),this._transformChanged(),null!=this.canvas&&this.canvas.updateSelection()},e.prototype.getSelectToolbarButtonClickEvent=function(){return this._selectButtonClickEvent},e.typeName="PlaceholderItemHandler",e}(HX),vK=function(){function t(t,e){this._service=t,this._imageLoaderService=e,this._multiCallInProgress=!1,this._multiCallItems=null,this._multiCallCallbacks=null,this._endMultiCallPromiseFuncs=null,this._multiCallInProgress=!1,this._multiCallItems=[],this._multiCallCallbacks=[],this._multiCallCounter=0,this._endMultiCallPromiseFuncs=[]}return t.prototype.increaseCounter=function(){this._multiCallCounter++},t.prototype.decreaseCounter=function(){return this._multiCallCounter--,this._multiCallCounter},t.prototype.enqueueEndMultiCall=function(){var t=this;return new Promise((function(e,n){return t._endMultiCallPromiseFuncs.push([e,n])}))},Object.defineProperty(t.prototype,"multiCallStarted",{get:function(){return this._multiCallCounter>0},enumerable:!0,configurable:!0}),t.prototype.beginMultiCall=function(){this.increaseCounter()},t.prototype.endMultiCall=function(t){if(void 0===t&&(t=!0),this.decreaseCounter()>0)return this.enqueueEndMultiCall();if(null==this._multiCallItems||this._multiCallItems.length<1)return this._onMultiCallFinally(),Promise.resolve(!1);var e=this._multiCallItems,n=this._multiCallCallbacks,i=this._endMultiCallPromiseFuncs;return this._multiCallItems=[],this._multiCallCallbacks=[],this._endMultiCallPromiseFuncs=[],this._updateByMultiCall(e,n,i,t)},t.prototype.queueForMultiCall=function(t,e,n){return!this._multiCallInProgress&&(this._multiCallItems.push(t),this._multiCallCallbacks.push([e,n]),!0)},t.prototype._updateByMultiCall=function(t,e,n,i){var r=this;return void 0===i&&(i=!0),this._multiCallInProgress=!0,new Promise((function(o,s){var a=r._filter(t,e);r._updateByMultiCallRequest({items:a.items},(function(t){return r._onMultiCallDone(t,a.callbacks,o,n,i)}),(function(i,o,a){return r._onMultiCallFailed(i,o,a,t,e,s,n)}))}))},t.prototype._filter=function(t,e){t=t.reverse(),e=e.reverse();var n=[],i=[];return{items:t=t.filter((function(t,e){return null!=t.itemData&&!i.includes(t.itemData.id)&&(i.push(t.itemData.id),n.push(e),!0)})),callbacks:n.map((function(t){return e[t]}))}},t.prototype._onMultiCallDone=function(t,e,n,i,r){void 0===r&&(r=!0);try{r&&this._imageLoaderService.loadCombinedImage(t.combinedImageDescription);for(var o=t.items,s=0;s<o.length;s++)this._processItemResult(o[s],e[s])}finally{this._onMultiCallFinally(),n(!0),null!=i&&i.forEach((function(t){return t[0](!0)}))}},t.prototype._processItemResult=function(t,e){try{var n=function(t,e){var n="function"==typeof Symbol&&t[Symbol.iterator];if(!n)return t;var i,r,o=n.call(t),s=[];try{for(;(void 0===e||e-- >0)&&!(i=o.next()).done;)s.push(i.value)}catch(a){r={error:a}}finally{try{i&&!i.done&&(n=o.return)&&n.call(o)}finally{if(r)throw r.error}}return s}(e,2),i=n[0];t.error?(0,n[1])({errorMessage:t.errorMessage}):i(t.result)}catch(r){console.error("Error while processing ItemHandlers service response",r)}},t.prototype._onMultiCallFailed=function(t,e,n,i,r,o,s){try{for(var a=0;a<r.length;a++)r[a][1]&&r[a][1](t,e,n)}finally{this._onMultiCallFinally(),o(),null!=s&&s.forEach((function(t){return t[1]()}))}},t.prototype._updateByMultiCallRequest=function(t,e,n){this._service.sendRequest("UpdateByMultiCallRequest",t,e,n)},t.prototype._onMultiCallFinally=function(){this._multiCallInProgress=!1,this._multiCallItems=[],this._multiCallCallbacks=[]},t}(),bK=function(){function t(t){this._serviceEndpoint=t,this.imageContainers={},this._fileCacheIdToCombined={},this._rectangles={},this._imageContainerLoadedEvent=new sB}return t.prototype.loadCombinedImage=function(t){var e=this;if(null!=t){var n=new WX((function(){return e._raiseImageLoadedEvent()}));for(var i in this.imageContainers[t.fileCacheId]=n,n.updateUrl(this._getImageUrl(t.fileCacheId)),t.itemsRectangles)this._fileCacheIdToCombined[i]=t.fileCacheId,this._rectangles[i]=aB.fromString(t.itemsRectangles[i])}},t.prototype.getImageContainerFor=function(t){return this.hasImageContainerFor(t)?this.imageContainers[this._fileCacheIdToCombined[t]]:null},t.prototype.hasImageContainerFor=function(t){return null!=t&&void 0!==t&&0!==t.length&&t in this._fileCacheIdToCombined},t.prototype.getImageContainerRectangleFor=function(t){return this._rectangles[t]},t.prototype.addImageContainerLoaded=function(t){this._imageContainerLoadedEvent.add(t)},t.prototype.removeImageContainerLoaded=function(t){this._imageContainerLoadedEvent.remove(t)},t.prototype._getImageUrl=function(t){return this._serviceEndpoint+"/txt?f="+encodeURIComponent(t)},t.prototype._raiseImageLoadedEvent=function(){this._imageContainerLoadedEvent.notify(this)},t}(),wK=function(t,e,n,i,r){this._timeout=t,this._message=e,this._stacktrace=n,this._type=i,this._data=r},CK=function(){function t(t,e){void 0===e&&(e=6e4),this._serviceEndpoint=t,this._timeout=e,this._multiCallEnabled=!1,this._nextMultiCallRequest=null,this.imageLoaderService=new bK(this._serviceEndpoint)}return Object.defineProperty(t.prototype,"multiCallEnabled",{get:function(){return this._multiCallEnabled},set:function(t){this._multiCallEnabled=t},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"serviceEndpoint",{get:function(){return this._serviceEndpoint},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"multiCallStarted",{get:function(){return null!=this._nextMultiCallRequest&&this._nextMultiCallRequest.multiCallStarted},enumerable:!0,configurable:!0}),t.prototype.beginMultiCall=function(){this.multiCallEnabled&&(this.multiCallStarted||(this._nextMultiCallRequest=new vK(this,this.imageLoaderService)),this._nextMultiCallRequest.beginMultiCall())},t.prototype.endMultiCall=function(t){if(void 0===t&&(t=!0),!this.multiCallEnabled)return Promise.resolve(!1);if(!this.multiCallStarted)throw new Error("ServiceProxy: beginMultiCall should be called first to start MultiCall.");return this._nextMultiCallRequest.endMultiCall(t)},t.prototype.UpdateImageItemHandler=function(t,e,n,i,r,o,s,a){this.sendRequest("UpdateImageItemHandler",{canvasData:t,itemHandlerData:e,itemData:n,actualSize:i,preserveAspectRatio:r,url:o},s,a)},t.prototype.UpdateBarcodeItemHandler=function(t,e,n,i,r){this.sendRequest("UpdateBarcodeItemHandler",{canvasData:t,itemHandlerData:e,itemData:n},i,r)},t.prototype.UpdateBoundedTextItemHandler=function(t,e,n,i,r){this._callUpdateItemHandler(t,e,n,i,r,"_updateBoundedTextItemHandler")},t.prototype._updateBoundedTextItemHandler=function(t,e,n,i,r){this.sendRequest("UpdateBoundedTextItemHandler",{itemData:n,canvasData:t,itemHandlerData:e},i,r)},t.prototype.UpdatePathBoundedTextItemHandler=function(t,e,n,i,r){this.sendRequest("UpdatePathBoundedTextItemHandler",{itemData:n,canvasData:t,itemHandlerData:e},i,r)},t.prototype.UpdatePlainTextItemHandler=function(t,e,n,i,r){this._callUpdateItemHandler(t,e,n,i,r,"_updatePlainTextItemHandler")},t.prototype._updatePlainTextItemHandler=function(t,e,n,i,r){this.sendRequest("UpdatePlainTextItemHandler",{itemData:n,canvasData:t,itemHandlerData:e},i,r)},t.prototype.UpdateAutoScaledTextItemHandler=function(t,e,n,i,r){this.sendRequest("UpdateAutoScaledTextItemHandler",{itemData:n,canvasData:t,itemHandlerData:e},i,r)},t.prototype.UpdateArchedTextItemHandler=function(t,e,n,i,r){this.sendRequest("UpdateArchedTextItemHandler",{itemData:n,canvasData:t,itemHandlerData:e},i,r)},t.prototype.UpdateCurvedTextItemHandler=function(t,e,n,i,r){this.sendRequest("UpdateCurvedTextItemHandler",{itemData:n,canvasData:t,itemHandlerData:e},i,r)},t.prototype.UpdateByColorData=function(t,e,n,i){this._callUpdateItemHandler(t,e,null,n,i,"_updateByColorData")},t.prototype._updateByColorData=function(t,e,n,i,r){this.sendRequest("UpdateByColorData",{canvasData:t,colorData:e},i,r)},t.prototype.UpdateByRectangleItemHandlerData=function(t,e,n,i,r){this.UpdateShapeItemHandler(t,e,n,i,r)},t.prototype.UpdateShapeItemHandler=function(t,e,n,i,r){this._callUpdateItemHandler(t,e,n,i,r,"_updateShapeItemHandler")},t.prototype._updateShapeItemHandler=function(t,e,n,i,r){this.sendRequest("UpdateShapeItemHandler",{canvasData:t,itemData:n,itemHandlerData:e},i,r)},t.prototype.GetImageSize=function(t,e,n,i){this._getImageSize(t,e,n,i)},t.prototype._getImageSize=function(t,e,n,i){this.sendRequest("GetImageSize",{imageId:t,pageIndex:e},n,i)},t.prototype.render=function(t,e,n,i){this.sendRequest("render",{product:t,renderingConfig:e},n,i)},t.prototype.getWatermarkItemsAsync=function(t,e,n){var i=this,r={width:t,height:e,watermarkConfig:n};return new Promise((function(t,e){i.sendRequest("getWatermarkItems",r,(function(e){t(e)}),(function(t,n,i){return e({error:t,userContext:n,methodName:i})}))}))},t.prototype.getWatermarkItems=function(t,e,n,i,r){this.sendRequest("getWatermarkItems",{width:t,height:e,watermarkConfig:n},i,r)},t.prototype.getPathBoundsFromServer=function(t){return e=this,void 0,i=function(){var e,n;return function(t,e){var n,i,r,o,s={label:0,sent:function(){if(1&r[0])throw r[1];return r[1]},trys:[],ops:[]};return o={next:a(0),throw:a(1),return:a(2)},"function"==typeof Symbol&&(o[Symbol.iterator]=function(){return this}),o;function a(o){return function(a){return function(o){if(n)throw new TypeError("Generator is already executing.");for(;s;)try{if(n=1,i&&(r=2&o[0]?i.return:o[0]?i.throw||((r=i.return)&&r.call(i),0):i.next)&&!(r=r.call(i,o[1])).done)return r;switch(i=0,r&&(o=[2&o[0],r.value]),o[0]){case 0:case 1:r=o;break;case 4:return s.label++,{value:o[1],done:!1};case 5:s.label++,i=o[1],o=[0];continue;case 7:o=s.ops.pop(),s.trys.pop();continue;default:if(!((r=(r=s.trys).length>0&&r[r.length-1])||6!==o[0]&&2!==o[0])){s=0;continue}if(3===o[0]&&(!r||o[1]>r[0]&&o[1]<r[3])){s.label=o[1];break}if(6===o[0]&&s.label<r[1]){s.label=r[1],r=o;break}if(r&&s.label<r[2]){s.label=r[2],s.ops.push(o);break}r[2]&&s.ops.pop(),s.trys.pop();continue}o=e.call(t,s)}catch(a){o=[6,a],i=0}finally{n=r=0}if(5&o[0])throw o[1];return{value:o[0]?o[1]:void 0,done:!0}}([o,a])}}}(this,(function(i){switch(i.label){case 0:return i.trys.push([0,2,,3]),[4,LX({type:OX.post,url:this.serviceEndpoint+"/GetShapeBounds",headers:[kX.json],data:JSON.stringify({path:t.toString()})})];case 1:return e=i.sent(),[2,aB.FromObject(JSON.parse(e.value))];case 2:return n=i.sent(),console.error("Unable to load shape bounds. Reason: "+n),[3,3];case 3:return[2]}}))},new((n=void 0)||(n=Promise))((function(t,r){function o(t){try{a(i.next(t))}catch(e){r(e)}}function s(t){try{a(i.throw(t))}catch(e){r(e)}}function a(e){var i;e.done?t(e.value):(i=e.value,i instanceof n?i:new n((function(t){t(i)}))).then(o,s)}a((i=i.apply(e,[])).next())}));var e,n,i},t.prototype.sendRequest=function(t,e,n,i,r){void 0===r&&(r=!1);var o=new XMLHttpRequest,s=this._serviceEndpoint;"render"===t&&(s=s.replace("api/ccviewer","api/rendering")),o.open("POST",s+"/"+t),r&&(o.responseType="arraybuffer"),o.setRequestHeader("Content-Type","application/json; charset=UTF-8"),o.timeout=this._timeout,o.onload=function(e){if(200===o.status)r?n(o.response,o):n(JSON.parse(o.response));else{var s=new wK(!1,o.statusText,o.response);i(s,null,t)}},o.onerror=function(e){i("error",null,t)},o.ontimeout=function(e){var n=new wK(!0,o.statusText,o.response);i(n,null,t)};var a=JSON.stringify(e);o.send(a)},t.prototype._callUpdateItemHandler=function(t,e,n,i,r,o){var s=o;o.startsWith("_")&&(s=o.charAt(1).toUpperCase()+o.substring(2)),null!=this._nextMultiCallRequest&&this._nextMultiCallRequest.multiCallStarted&&this._nextMultiCallRequest.queueForMultiCall({canvasData:t,itemHandlerData:e,itemData:n,methodName:s},i,r)||this[o](t,e,n,i,r)},t}(),xK=function(){var t=function(e,n){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(e,n)};return function(e,n){function i(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(i.prototype=n.prototype,new i)}}(),EK=function(t){var e="function"==typeof Symbol&&Symbol.iterator,n=e&&t[e],i=0;if(n)return n.call(t);if(t&&"number"==typeof t.length)return{next:function(){return t&&i>=t.length&&(t=void 0),{value:t&&t[i++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")},SK=function(t){function e(e){var n=t.call(this)||this;return n._canvas=e,n}return xK(e,t),e.prototype.getLayerById=function(t){for(var e=0,n=this.length;e<n;e++){var i=this.getItem(e);if(i.uniqueId==t)return i}return null},e.prototype.getLayerByContainerId=function(t){for(var e=0,n=this.length;e<n;e++){var i=this.getItem(e);if(i.container.id==t)return i}return null},e.prototype.getLayersByName=function(t){for(var e=[],n=0;n<this.length;n++)this.getItem(n).name==t&&e.push(this.getItem(n));return e},e.prototype.getItemHandlersByName=function(t){for(var e=[],n=0;n<this.length;n++)for(var i=this.getItem(n),r=0;r<i.itemHandlers.length;r++)i.itemHandlers.getItem(r).name===t&&e.push(i.itemHandlers.getItem(r));return e},e.prototype._onLayerAdded=function(t,e){var n=this._canvas;n&&(t.canvas=n,t.onLayerAdded())},e.prototype._onLayerMoved=function(t,e,n){},e.prototype.removeRange=function(e,n){var i=(function(t){this._onLayerRemoved(t.item,t.index)}).bind(this);try{return this.add_itemRemoved(i),t.prototype.removeRange.call(this,e,n)}finally{this.remove_itemRemoved(i)}},e.prototype.insertAt=function(e,n){var i,r;Array.isArray(n)||(n=[n]);try{for(var o=EK(n),s=o.next();!s.done;s=o.next())if(this.contains(s.value))throw new XR($H)}catch(c){i={error:c}}finally{try{s&&!s.done&&(r=o.return)&&r.call(o)}finally{if(i)throw i.error}}t.prototype.insertAt.call(this,e,n);for(var a=0;a<n.length;a++){var l=n[a];this._onLayerAdded(l,this._collection.indexOf(l))}},e.prototype.move=function(e,n){var i=t.prototype.move.call(this,e,n);return i&&this._onLayerMoved(i,e,n),i},e.prototype.clear=function(){var e,n;try{for(var i=EK(this),r=i.next();!r.done;r=i.next())r.value.dispose()}catch(o){e={error:o}}finally{try{r&&!r.done&&(n=i.return)&&n.call(i)}finally{if(e)throw e.error}}t.prototype.clear.call(this)},e}(JH),PK=function(){var t=function(e,n){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(e,n)};return function(e,n){function i(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(i.prototype=n.prototype,new i)}}(),OK=function(t){function e(e,n){void 0===n&&(n=null);var i=t.call(this,0,0,0,0,e,n)||this;return i._selectionTolerance=15,i._controlPoints=[new QL(e.sourcePoint0.x?e.sourcePoint0.x:0,e.sourcePoint0.y?e.sourcePoint0.y:0),new QL(e.sourcePoint1.x?e.sourcePoint1.x:0,e.sourcePoint1.y?e.sourcePoint1.y:0)],i._makeLineHorizontalWithAngle(),i}return PK(e,t),Object.defineProperty(e.prototype,"item",{get:function(){return this._getItem()},enumerable:!0,configurable:!0}),e.prototype._onItemPropertyChanged=function(e,n){switch(n){case"width":var i=this.canvas;null!=i&&i.updateSelection();break;case"color":case"fixedWidth":this.canvas.redraw()}t.prototype._onItemPropertyChanged.call(this,e,n)},Object.defineProperty(e.prototype,"controlPoints",{set:function(t){this._controlPoints=new Array(new QL(t[0].x,t[0].y),new QL(t[1].x,t[1].y)),this.item.sourcePoint0=this._controlPoints[0],this.item.sourcePoint1=this._controlPoints[1],this._makeLineHorizontalWithAngle(),this.raiseChanged()},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"width",{get:function(){return this.item.width},set:function(t){this.item.width=t},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"color",{get:function(){return this.item.color},set:function(t){var e=QB.createColor(t);this.item.color=e},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"fixedWidth",{get:function(){return this.item.fixedWidth},set:function(t){this.item.fixedWidth=t},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"point0",{get:function(){return this._getActualPoint(this._controlPoints[0])},set:function(t){var e=this.getControlBounds();if(0===e.width||0===e.height){var n=this._getActualPoint(this._controlPoints[1]);this._controlPoints=[t.clone(),n],this.item.transform=new wB}else this._makeLineHorizontalWithAngle(),this._setTransformByPoints(this._controlPoints[0],t,this._controlPoints[1])},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"point1",{get:function(){return this._getActualPoint(this._controlPoints[1])},set:function(t){var e=this.getControlBounds();if(0===e.width||0===e.height){var n=this._getActualPoint(this._controlPoints[0]);this._controlPoints=[n,t.clone()],this.item.transform=new wB}else this._makeLineHorizontalWithAngle(),this._setTransformByPoints(this._controlPoints[1],t,this._controlPoints[0])},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"rectangle",{get:function(){var e=t.prototype._getRectangle.call(this);return e.height=this._getActualWidth(),e},enumerable:!0,configurable:!0}),e.prototype._getActualPoint=function(t){var e=new QL(t.x,t.y),n=this.getControlCenter();e.translate(-n.x,-n.y);var i=this.item.transform;return e.scale(i.scaleX,i.scaleY),e.rotate(i.angle),e.translate(i.translateX,i.translateY),e.translate(n.x,n.y),e},e.prototype._setTransformByPoints=function(t,e,n){var i=this.getControlCenter(),r=this._getActualPoint(n),o=new QL((r.x+e.x)/2,(r.y+e.y)/2),s=o.x-i.x,a=o.y-i.y,l=new QL(t.x,t.y).translate(-i.x,-i.y),c=new QL(e.x,e.y).translate(-s,-a).translate(-i.x,-i.y),u=(l.x*c.x+l.y*c.y)/Math.sqrt((l.x*l.x+l.y*l.y)*(c.x*c.x+c.y*c.y));u=mB(-1,u,1);var h=fB(Math.acos(u));c=c.rotate(-h),this.item.transform=new wB(c.x/l.x,c.y/l.y,s,a,h)},e.prototype._getActualWidth=function(){var t=this.width,e=this.canvas;return this.fixedWidth&&null!=e&&(t/=e.zoom),t},e.prototype.drawItemHandler=function(t){if(null!=t){var e=this.point0,n=this.point1,i=this._getActualWidth();i>0&&bX.drawLine(t,e.x,e.y,n.x,n.y,i,this.isNormalRenderingType?this.item.color.preview:"rgb(0,0,0)",this.isNormalRenderingType?this.item.opacity:1)}},e.prototype._belongToPiece=function(t,e,n,i,r){var o=i/2+r;return hB(n,t,e)<=o*o},e.prototype.hitTest=function(e,n){var i=t.prototype.hitTest.call(this,e.clone()),r=e.clone(),o=this.canvas.zoom*eF.screenDpi/72,s=!!n&&this.rectangle.toRectangleF().contains(e),a=this._getActualWidth(),l=(this._selectionTolerance/o-a)/2,c=this._belongToPiece(this.point0,this.point1,r,a,l<0?0:l);return i.body=!(!s&&!c),i},e.prototype.getColorData=function(){var e=this.item,n=t.prototype.getColorData.call(this);return e.color.needUpdate(this.canvas.rgbColorProfileFileId)&&(n.color=e.color.getData()),n},e.prototype.setColorData=function(e){var n=this.item;t.prototype.setColorData.call(this,e),null!=e.color&&(n.color=QB.createColor(e.color))},e.prototype.hasColorsToUpdate=function(){var e=this.item,n=this.canvas.rgbColorProfileFileId;return t.prototype.hasColorsToUpdate.call(this)||e.color.needUpdate(n)},e.prototype._makeLineHorizontalWithAngle=function(){var t=this._controlPoints[0],e=this._controlPoints[1],n=lB(t,new QL(t.x,e.y),e);if(0!==n){var i=(t.x+e.x)/2,r=(t.y+e.y)/2,o=t.distance(e);this._controlPoints[0]=new QL(i-o/2,r),this.item.sourcePoint0=this._controlPoints[0],this._controlPoints[1]=new QL(i+o/2,r),this.item.sourcePoint1=this._controlPoints[1],this.angle=n}},e.prototype.transformByMatrix=function(t){var e=this.point0,n=this.point1;this.item.transform=new wB;var i=t.transformPoint(e),r=t.transformPoint(n);this.item.sourcePoint0=i,this.item.sourcePoint1=r,this._controlPoints=[i,r],this._makeLineHorizontalWithAngle(),1===t.scaleX&&1===t.scaleY||this._onResized()},e}(AX);!function(t){t[t.Left=37]="Left",t[t.Up=38]="Up",t[t.Right=39]="Right",t[t.Down=40]="Down",t[t.Home=36]="Home",t[t.End=35]="End",t[t.Enter=13]="Enter",t[t.Tab=9]="Tab",t[t.Escape=27]="Escape",t[t.Backspace=8]="Backspace",t[t.Delete=46]="Delete",t[t.Space=32]="Space",t[t.KeyA=65]="KeyA",t[t.KeyB=66]="KeyB",t[t.KeyI=73]="KeyI",t[t.KeyU=85]="KeyU",t[t.KeyL=76]="KeyL",t[t.KeyR=82]="KeyR",t[t.KeyE=69]="KeyE",t[t.KeyC=67]="KeyC",t[t.KeyV=86]="KeyV",t[t.KeyZ=90]="KeyZ",t[t.KeyY=89]="KeyY",t[t.KeyPeriod=190]="KeyPeriod",t[t.KeyComma=188]="KeyComma",t[t.KeyEqual=187]="KeyEqual"}(BX||(BX={}));var kK,TK=function(){function t(t,e){this._snapLinesHandler=e,this._parentSelectionRectangle=null,this._selectedItemHandlersChangedEvent=new sB,this._skipUpdate=!1,this._locked=!1,this._allowMoveHorizontal=!0,this._allowMoveVertical=!0,this._canvas=t,this._enabled=!0,this._multipleSelectionEnabled=!1,this._currentItemHandler=null,this._itemHandlers=new JH,this._rectangle=null,this._rectangleWithFrames=null,this._border=null,this._rubberband=null,this._region=null,this._needRedraw=!1,this._shiftState=!1,this._resizeLastPoint=null}return Object.defineProperty(t.prototype,"offset",{get:function(){return this._offset},set:function(t){null!=t&&t.equals(this._offset)||null==t&&null!=this.offset||(this._offset=t)},enumerable:!0,configurable:!0}),t.prototype.enable=function(){this.update(),this._enabled=!0},t.prototype.disable=function(){this._enabled=!1,this._canvas.hideSelection()},t.setIsSafetyLineItemHandlerFunc=function(t){this._isSafetyLineItemHandlersFunc=t},t.isSafetyLineItemHandler=function(e){if(t._isSafetyLineItemHandlersFunc)return t._isSafetyLineItemHandlersFunc(e)},Object.defineProperty(t.prototype,"history",{get:function(){return this._history},set:function(t){this._history=t},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"multipleSelectionEnabled",{get:function(){return this._multipleSelectionEnabled&&!eF.IsTouchDevice()&&!this.getSelectedItemHandlers().any((function(t){return t.item.parentGroupItem instanceof IW}))},set:function(t){this._multipleSelectionEnabled=t},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"currentItemHandler",{get:function(){return null!=this._currentItemHandler&&null==this._currentItemHandler.canvas&&this.clearSelectedItemHandlers(),this._currentItemHandler},set:function(t){t!==this._currentItemHandler&&(this._currentItemHandler=t,this._canvas.onCurrentItemHandlerChanged(t))},enumerable:!0,configurable:!0}),t.prototype.lock=function(t){void 0===t&&(t=!1),this._locked=!0,t||this._itemHandlers.clear(),this._canvas.onSelectionLocked(),this._canvas.hideSelection(),this._canvas.redraw()},t.prototype.unlock=function(){this._locked=!1,this._canvas.redraw()},Object.defineProperty(t.prototype,"isLocked",{get:function(){return this._locked},enumerable:!0,configurable:!0}),t.prototype.getSelectedItemHandlers=function(){return this._itemHandlers},t.prototype.setSelectedItemHandlers=function(t,e){if(void 0===e&&(e=!1),"[object Array]"===Object.prototype.toString.call(t)&&!this._locked&&!AB(t,this._itemHandlers.toArray())){e||this.clearSelectedItemHandlers();for(var n=0;n<this._itemHandlers.length;n++){var i=this._itemHandlers.get(n);this._canvas.isPlaceholder(i)&&(i.editing=!1)}for(this.multipleSelectionEnabled||t.splice(1,t.length-1),n=0;n<t.length;n++)this._itemHandlers.push(t[n]);this._onSelectedItemHandlersChanged();var r=this._itemHandlers.length>=1?this._itemHandlers.get(this._itemHandlers.length-1):null;this.currentItemHandler=r}},t.prototype.isItemHandlerSelected=function(t){return this._itemHandlers.contains(t)},t.prototype.isOnlyThisItemHandlerSelected=function(t){return this.isItemHandlerSelected(t)&&1===this._itemHandlers.length},Object.defineProperty(t.prototype,"needRedraw",{get:function(){return this._needRedraw},enumerable:!0,configurable:!0}),t.prototype.addSelectedItemHandler=function(t){!this.multipleSelectionEnabled&&this._itemHandlers.length>0&&this._itemHandlers.clear(),this.setSelectedItemHandlers([t],!0)},t.prototype.removeSelectedItemHandler=function(t){this._itemHandlers.remove(t),this._onSelectedItemHandlersChanged(),t instanceof _K&&(t.editing=!1),this.currentItemHandler=this._itemHandlers.length>0?this._itemHandlers.getItem(this._itemHandlers.length-1):null},t.prototype.clearSelectedItemHandlers=function(){for(var t=0;t<this._itemHandlers.length;t++){var e=this._itemHandlers.getItem(t);e instanceof _K&&(e.editing=!1)}this._itemHandlers.clear(),this._updateParentSelectionRectangle(),this._onSelectedItemHandlersChanged(),this.currentItemHandler=null,this._canvas.hideSelection()},Object.defineProperty(t.prototype,"visibleRectangle",{get:function(){return this._getVisibleSelectionRectangle(this._rectangle)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"visibleParentSelectionRectangle",{get:function(){return this._parentSelectionRectangle},enumerable:!0,configurable:!0}),t.prototype._getVisibleSelectionRectangle=function(t){if(null==t)return null;var e=t.clone();if(e.width=Math.abs(e.width),e.height=Math.abs(e.height),null!=this._border){var n=e.toRectangleF(),i=e.angle;(e=CB.FromLTRB(n.left-this._border.left,n.top-this._border.top,n.right+this._border.right,n.bottom+this._border.bottom)).angle=i}return e},t.prototype.hitTest=function(t,e){var n;if(!this._enabled)return{};var i,r,o=this.visibleRectangle;if(null==o)return{selection:0===this._canvas.getItemHandlersByHitTest(t).length};i=this._itemHandlers.length>1?this._itemHandlers.toArray().reduce((function(t,e){return Math.min(t,e.getSelectionTolerance())}),this._itemHandlers.getItem(0).getSelectionTolerance()):null!==(n=null==(r=this._itemHandlers.getItem(0))?void 0:r.getSelectionTolerance())&&void 0!==n?n:0;var s=1===this._itemHandlers.length&&this._currentItemHandler instanceof OK,a=this._canvas.hitTestSelection(o,t,s,i),l=!1;if(null!=r&&r instanceof _K){if(r.isContentUpdating()&&a.body&&!a.resize)return a.drag=!0,a;l=r.editing&&r.isCoverMode()}var c=this._permissions;if(a.rotate=a.rotate&&c.allowRotate&&!l&&this._allowManipulation,a.resize){var u=a.resizeIndex,h=IK.isEdgeResizeGrip(u)&&this._getEdgeResize(c,r),d=IK.isCornerResizeGrip(u)&&this._getCornerResize(c,r,!1,uV.arbitrary),p=IK.isCornerResizeGrip(u)&&this._getCornerResize(c,r,!0,uV.arbitrary),f=IK.isCornerResizeGrip(u)&&this._getCornerResize(c,r,!1,uV.proportional),m=IK.isCornerResizeGrip(u)&&this._getCornerResize(c,r,!0,uV.proportional);a.arbitraryResize=h||d,a.cornerArbitraryResize=d||p,a.cornerProportionalResize=f||m,a.proportionalResize=f&&!s,a.resize=a.arbitraryResize||a.proportionalResize}return a.dragX=a.body&&c.allowMoveHorizontal&&this._allowManipulation,a.dragY=a.body&&c.allowMoveVertical&&this._allowManipulation,a.drag=a.dragX||a.dragY,a},t.prototype._getEdgeResize=function(t,e){return!(null!=e&&"PlainTextItemHandler"===e.getTypeName()||!this._allowManipulation)&&t.resizeGrips.edge},t.prototype._getCornerResize=function(t,e,n,i){if(i===uV.arbitrary&&null!=e&&"PlainTextItemHandler"===e.getTypeName()||!this._allowManipulation)return!1;var r=t.resizeGrips;return null!=r.corner&&0!==r.corner.length&&(n&&r.corner.length>1?r.corner[1]:r.corner[0])===i},t.prototype.getCursor=function(t){var e=this.hitTest(t,!1),n=Gq,i=this._permissions;if(e.resize){var r=cB(this._rectangle.angle-this._canvas.viewer.contentAngle),o=([315,45,135,225,270,0,90,180][e.resizeIndex-1]+r)%360;if(o>337.5||o<=22.5)return n.sizeNS;if(o>22.5&&o<=67.5)return n.sizeNESW;if(o>67.5&&o<=112.5)return n.sizeEW;if(o>112.5&&o<=157.5)return n.sizeNWSE;if(o>157.5&&o<=202.5)return n.sizeNS;if(o>202.5&&o<=247.5)return n.sizeNESW;if(o>247.5&&o<=292.5)return n.sizeEW;if(o>292.5&&o<=337.5)return n.sizeNWSE}else{if(e.rotate)return n.pointer;if(e.body&&(i.allowMoveHorizontal||i.allowMoveVertical&&this._allowManipulation))return n.move}return n.defaultCursor},t.prototype.update=function(){if(!this._skipUpdate)if(this._itemHandlers.length>0){var t=this._itemHandlers.getItem(0),e=t.getBorderMargin();if(1===this._itemHandlers.length)this._rectangle=t.getSelectionRectangle(),this._border={left:e,top:e,right:e,bottom:e};else{for(var n=t.getSelectionRectangle().bounds,i=n.left,r=n.top,o=n.right,s=n.bottom,a={left:e,top:e,right:e,bottom:e},l=1;l<this._itemHandlers.length;l++)e=(t=this._itemHandlers.getItem(l)).getBorderMargin(),(n=t.getSelectionRectangle().bounds).left-e<i-a.left&&(i=n.left,a.left=e),n.top-e<r-a.top&&(r=n.top,a.top=e),n.right+e>o+a.right&&(o=n.right,a.right=e),n.bottom+e>s+a.bottom&&(s=n.bottom,a.bottom=e);this._rectangle=CB.FromLTRB(i,r,o,s),this._border=a}this._updateParentSelectionRectangle(),this._rectangleWithFrames=this._getRectWithFrames(this._rectangle),this._region=this._getRegion()}else this._rectangle=null,this._border=null,this._region=null},t.prototype._updateParentSelectionRectangle=function(){var t=null;if(null!=this._itemHandlers&&this._itemHandlers.any()&&(t=this._itemHandlers.getItem(0).item.parentGroupItem),null!=t){var e=this._canvas.handlerFactory.get(t);if(e.isEmpty())this._parentSelectionRectangle=null;else{var n=e.getSelectionRectangle();this._parentSelectionRectangle=n}}else this._parentSelectionRectangle=null},t.prototype._isItemHandlerVisible=function(t){return t.isVisible()},t.prototype.draw=function(t,e){if(this._enabled&&!this._locked){null!=this._rubberband?e.drawRubberband(t,this._rubberband):this._needRedraw=!1;var n=this.visibleRectangle;if(null==n||0===this._itemHandlers.where((function(t){return t.isVisible()})).count())return this._canvas.hideSelection(),void this._canvas.showParentSelection(this.visibleParentSelectionRectangle);var i=!1,r=!1,o=!1,s=null;if(1===this._itemHandlers.length)i=(s=this._itemHandlers.getItem(0))instanceof OK,o=s instanceof _K&&s.editing;else for(var a=0;a<this._itemHandlers.length;a++){var l=this._itemHandlers.getItem(a);l instanceof OK&&(r=!0),l instanceof _K&&l.editing&&(o=!0)}var c=o&&this._itemHandlers.getItem(0).item.isCoverMode,u=this._permissions,h={rotate:u.allowRotate&&!c&&this._allowManipulation,resize:(this._getCornerResize(u,s,!1,uV.arbitrary)||this._getCornerResize(u,s,!1,uV.proportional))&&!i,arbitraryWidthResize:this._getEdgeResize(u,s)&&!r&&!c,arbitraryHeightResize:this._getEdgeResize(u,s)&&!i&&!r&&!c};this._canvas.showSelection(n,h),this._canvas.showParentSelection(this.visibleParentSelectionRectangle),null!==this._canvas.hoverDiv&&(null!==s?this._canvas.updateHoverPosition(s.rectangle,s.item.name):this._canvas.hideHover()),o||this._snapLinesHandler.drawActiveLines(t,e,this._allowMoveHorizontal,this._allowMoveVertical)}},t.prototype.processKeyEvent=function(t){if(null!=this._rectangle){var e=this._permissions;if(((t.keyCode===BX.Left||t.keyCode===BX.Right)&&e.allowMoveHorizontal||(t.keyCode===BX.Up||t.keyCode===BX.Down)&&e.allowMoveVertical)&&this._allowManipulation)if("keydown"===t.type&&void 0===this._operation){var n=!0===t.shiftKey?5:1;this._keyPushed||this._startTransform(),this._keyPushed=!0,this._keyCode=t.keyCode,this._move(t.keyCode,n)}else"keyup"===t.type&&this._keyPushed&&this._keyCode===t.keyCode&&(this._keyPushed=!1,this._endTransform());if(16===t.keyCode&&this._allowManipulation){var i=t.shiftKey;i!==this._shiftState&&(this._shiftState=i,this._operation&&this._operation.resize&&this._resize(null))}}},t.prototype.startTransform=function(t){this._startPoint=t,this._startTransform(),this._startRubberbandSelection(),this._fillSnapData()},t.prototype.processMouseEvent=function(t,e){void 0===e&&(e=!1);var n=new QL(t.x,t.y);if("mousedown"===t.type)this._operation=this.hitTest(n,t.originalEvent.shiftKey),this.startTransform(n);else if("mouseup"===t.type){var i=this._operation&&this._operation.resize;delete this._operation,this._endTransform(i,e),this._endRubberbandSelection(),this._snapLinesHandler.clearSnapData(),delete this._startPoint}else if("mousemove"===t.type&&null!=this._operation&&null!=this._startPoint){if(this._operation.selection)this._updateRubberband(n);else if(this._operation.resize)this._resize(n);else if(this._operation.rotate)this._rotate(n,!(t.originalEvent.ctrlKey||t.originalEvent.metaKey),t.originalEvent.shiftKey);else if(this._operation.drag){var r=this._permissions;this._drag(new QL(r.allowMoveHorizontal&&this._allowManipulation?n.x:this._startPoint.x,r.allowMoveVertical&&this._allowManipulation?n.y:this._startPoint.y),t.originalEvent.ctrlKey||t.originalEvent.metaKey)}this._itemHandlers.length>0&&this._updateParentSelectionRectangle()}},t.prototype.processPinch=function(t){var e=this._currentItemHandler,n=e;if(e.editing){var i=e.rectangle,r=new CB(e.rectangle.bounds.center.x,e.rectangle.bounds.center.y,i.width*t.gesture.scale,i.height*t.gesture.scale);null==n.startRectangle&&n.startTransform(),n._transformRectangle(i,r,!0)}},t.prototype._fillSnapData=function(){this._snapLinesHandler.fillSnapData(this._startRectangle,this._startRectangleWithFrames,null!=this._startRectangle&&null!=this._border?this._getRectangleWithBorder(this._startRectangle).bounds:null,this._region,this._canvas,this._operation)},t.prototype._constrainRectangleToSnapLines=function(t,e){return this._snapLinesHandler.constrainRectangleToSnapLines(t,this._getRectangleWithBorder(this._rectangle),e,this._operation,this._getRectWithFrames(t),this._getRectangleWithBorder(t),this._canvas)},t.prototype.isResizing=function(){return this._operation&&this._operation.resize},t.prototype.isRotating=function(){return this._operation&&this._operation.rotate},t.prototype.isOperationNotNull=function(){return null!=this._operation},Object.defineProperty(t.prototype,"angle",{set:function(t){this._startTransform();var e=this._rectangle.clone();e.angle=t,this._updateRectangle(e),this._endTransform(),this._canvas.redraw()},enumerable:!0,configurable:!0}),t.prototype._startTransform=function(){if(null!=this._rectangle){this._startRectangle=this._rectangle.clone(),this._startRectangleWithFrames=this._getRectWithFrames(this._startRectangle);for(var t=0;t<this._itemHandlers.length;t++)this._itemHandlers.getItem(t).startTransform(this._operation)}},t.prototype._endTransform=function(t,e){if(void 0===t&&(t=!1),void 0===e&&(e=!1),null!=this._rectangle){this._skipUpdate=!0;var n=!e&&null!=this._startRectangle&&!this._rectangle.equals(this._startRectangle);this.history&&this.history.pause();for(var i=0;i<this._itemHandlers.length;i++){var r=this._itemHandlers.getItem(i),o=t;n&&t&&(o=r._onResized()),r.endTransform(n,o)}n&&this._canvas.updateTexts(),this.history&&this.history.resume(),delete this._startRectangle,delete this._startRectangleWithFrames,this._skipUpdate=!1,t&&this.update()}},t.prototype._startRubberbandSelection=function(){null!=this._canvas.viewer&&this._canvas.viewer.ignoreDocumentClickOnce()},t.prototype._endRubberbandSelection=function(){if(null!=this._rubberband){var t=aB.FromLTRB(this._rubberband.left,this._rubberband.top,this._rubberband.right,this._rubberband.bottom);if(!gB(t.width,0)&&!gB(t.height,0)){for(var e=[],n=this._canvas.getAllItemHandlers({onlyVisible:!0}),i=0;i<n.length;i++){var r=n[i];!this._canvas.isLockedOrDisabled(r)&&t.contains(r.rectangle.center)&&e.push(r)}this.setSelectedItemHandlers(e)}this._rubberband=null}},t.prototype._updateRubberband=function(t){this.multipleSelectionEnabled&&null!=this._startPoint&&(this._rubberband={left:Math.min(this._startPoint.x,t.x),top:Math.min(this._startPoint.y,t.y),right:Math.max(this._startPoint.x,t.x),bottom:Math.max(this._startPoint.y,t.y)},this._needRedraw=!0)},t.prototype.pinchResize=function(t,e,n){n._transformRectangle(t,e,!0)},t.prototype._resize=function(e){null==e&&(e=this._resizeLastPoint),this._resizeLastPoint=e;var n=this._operation.arbitraryResize;this._shiftState&&(n&&this._operation.cornerProportionalResize?n=!1:!n&&this._operation.cornerArbitraryResize&&(n=!0));var i,r=this._rectangle.clone(),o=new QL(e.x-this._startRectangle.centerX,e.y-this._startRectangle.centerY);o.rotate(-r.angle);var s=new QL(this._startPoint.x-this._startRectangle.centerX,this._startPoint.y-this._startRectangle.centerY);s.rotate(-r.angle);var a=o.translate(-s.x,-s.y),l=1,c=1;if(n)r.width=this._startRectangle.width+a.x*t.cw[this._operation.resizeIndex],r.height=this._startRectangle.height+a.y*t.ch[this._operation.resizeIndex],6!==this._operation.resizeIndex&&5!==this._operation.resizeIndex||(l=-1,c=-1),1===this._operation.resizeIndex&&(l=-1,c=-1),2===this._operation.resizeIndex&&(l=1,c=-1),4===this._operation.resizeIndex&&(l=-1,c=1);else{var u=a.x*t.cw[this._operation.resizeIndex]/this._startRectangle.width,h=a.y*t.ch[this._operation.resizeIndex]/this._startRectangle.height,d=u<h?u:h;a.x=this._startRectangle.width*d,a.y=this._startRectangle.height*d,r.width=this._startRectangle.width+a.x,r.height=this._startRectangle.height+a.y}if(this._allowNegativeResize||r.width>=0&&r.height>=0){if((i=new QL(a.x/2*t.cw[this._operation.resizeIndex],a.y/2*t.ch[this._operation.resizeIndex])).rotate(r.angle),r.centerX=this._startRectangle.centerX+i.x*l,r.centerY=this._startRectangle.centerY+i.y*c,n){var p=i=new QL(this._startRectangle.centerX,this._startRectangle.centerY);p.rotate(-r.angle),p.x=p.x+a.x/2*t.cw[this._operation.resizeIndex]*t.cw[this._operation.resizeIndex],p.y=p.y+a.y/2*t.ch[this._operation.resizeIndex]*t.ch[this._operation.resizeIndex],p.rotate(r.angle),r.centerX=p.x,r.centerY=p.y}}else{var f=new QL(-t.cw[this._operation.resizeIndex]*this._rectangle.width/2,-t.ch[this._operation.resizeIndex]*this._rectangle.height/2);if(f.rotate(this._rectangle.angle),f.translate(this._rectangle.centerX,this._rectangle.centerY),r.center=f,n)r.width=Math.max(r.width,1),r.height=Math.max(r.height,1);else{var m=this._startRectangle.width/this._startRectangle.height;m>=1?(r.width=Math.max(r.width,1*m),r.height=Math.max(r.height,1)):(r.width=Math.max(r.width,1),r.height=Math.max(r.height,1/m))}var g=new QL(t.cw[this._operation.resizeIndex]*r.width/2,t.ch[this._operation.resizeIndex]*r.height/2);g.rotate(r.angle),r.centerX+=g.x,r.centerY+=g.y}var y=this._canvas.contentEditingPlaceholderItemHandler;null!=y&&y.item.isCoverMode&&(r=this._constrainRectangleToPlaceholderCover(r,y.rectangle)),null==this._canvas.contentEditingPlaceholderItemHandler&&(r=this._constrainRectangleToSnapLines(r,n)),this._updateRectangle(r,!1,this._operation.resizeIndex)},t.prototype._drag=function(t,e){var n=this._canvas.contentEditingPlaceholderItemHandler,i=new QL(t.x-this._startPoint.x,t.y-this._startPoint.y);e?this._snapLinesHandler.resetActiveLines():null==this._canvas.contentEditingPlaceholderItemHandler&&(i=this._snapLinesHandler.constrainDiffToSnapLines(t,this._startPoint,this._canvas,this._allowMoveHorizontal,this._allowMoveVertical)),null==n?i=this._constrainDiffToRegion(this._startRectangleWithFrames.bounds,i):n.item.isCoverMode&&(i=this._constrainDiffToPlaceholderCover(this._startRectangle,n.rectangle,i));var r=this._rectangle.clone();r.centerX=this._startRectangle.centerX+i.x,r.centerY=this._startRectangle.centerY+i.y,this._updateRectangle(r,!0)},t.prototype._rotate=function(t,e,n){var i=t.clone(),r=this._startPoint,o=this._rectangle.clone(),s=new QL(o.centerX,o.centerY),a=lB(i,r,s),l=n?15:90,c=e?n?7.5:5:0,u=a=cB(this._startRectangle.angle+a),h=a%l;h<c?u=l*Math.floor(a/l):h>l-c&&(u=l*Math.floor(a/l+1)),o.angle=cB(u),this._updateRectangle(o)},t.prototype._move=function(t,e){var n=e/this._canvas.mul,i=null;switch(t){case BX.Up:i=new QL(0,-n);break;case BX.Down:i=new QL(0,n);break;case BX.Left:i=new QL(-n,0);break;case BX.Right:i=new QL(n,0)}if(null!=i){var r=this._canvas.viewer.contentAngle;r>0&&i.rotate(-r);var o=this._canvas.contentEditingPlaceholderItemHandler;null==o?i=this._constrainDiffToRegion(this._rectangle.bounds,i):o.item.isCoverMode&&(i=this._constrainDiffToPlaceholderCover(this._rectangle,o.rectangle,i));var s=this._rectangle.clone();s.centerX+=i.x,s.centerY+=i.y,this._updateRectangle(s),this._updateParentSelectionRectangle()}},Object.defineProperty(t.prototype,"_permissions",{get:function(){if(null==this._rectangle||0===this._itemHandlers.length)return new yX({},!1);var t=this._itemHandlers.getItem(0).getPermissions().clone();this._itemHandlers.length>1&&(this._rectangle.angle-this._itemHandlers.getItem(0).angle)%90!=0&&(t.resizeGrips.edge=!1,t.resizeGrips.setCornerArbitrary(!1));for(var e=1;e<this._itemHandlers.length;e++){var n=this._itemHandlers.getItem(e),i=n.getPermissions();i.allowMoveHorizontal||(t.allowMoveHorizontal=!1),i.allowMoveVertical||(t.allowMoveVertical=!1),i.allowRotate||(t.allowRotate=!1),i.resizeGrips.edge||(t.resizeGrips.edge=!1),i.resizeGrips.getCornerProportional()||t.resizeGrips.setCornerProportional(!1),i.resizeGrips.getCornerArbitrary()||t.resizeGrips.setCornerArbitrary(!1),(this._rectangle.angle-n.angle)%90!=0&&(t.resizeGrips.edge=!1,t.resizeGrips.setCornerArbitrary(!1))}return t},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"_allowNegativeResize",{get:function(){if(null==this._rectangle||0===this._itemHandlers.length)return!1;for(var t=0;t<this._itemHandlers.length;t++)if(!this._itemHandlers.getItem(t).allowNegativeResize)return!1;return!0},enumerable:!0,configurable:!0}),t.prototype._getRegion=function(){var t=null;if(this._canvas.constrainedMarginEnabled&&this._canvas.margin>0){var e=this._canvas.margin;t=new aB(e,e,this._canvas.workspaceWidth-e,this._canvas.workspaceHeight-e)}for(var n=new JH,i=0;i<this._itemHandlers.length;i++){var r=this._itemHandlers.getItem(i).layer;null==r||null==r.region||n.contains(r)||n.add(r)}for(var o=0;o<n.length;o++){var s=n.getItem(o).region;t=null!=t?aB.intersect(t,s):s}return t},t.prototype._updateRectangle=function(t,e,n){if(void 0===e&&(e=!1),e||!this._canvas.suppressOutOfRegionManipulation||null==this._region||null!=this._canvas.contentEditingPlaceholderItemHandler||this._region.containsRectangle(this._getRectWithFrames(t).bounds)){this._rectangle=t,this._rectangleWithFrames=this._getRectWithFrames(t);for(var i=0;i<this._itemHandlers.length;i++)this._itemHandlers.getItem(i)._transformRectangle(this._startRectangle,this._rectangle,!0)}},t.prototype._getRectWithFrames=function(t){for(var e=this._getRectangleWithBorder(t),n=0;n<this._itemHandlers.length;n++){var i=this._itemHandlers.getItem(n);if(null!=i&&i instanceof _K){var r=i.getRectangleIncludingFrames(),o=AX.transformRectangleByTwoRectanglesDiff(r,this._rectangle,t);e=CB.union(o,e)}}return e},t.prototype._constrainDiffToRegion=function(t,e){return this._canvas.suppressOutOfRegionManipulation&&null!=this._region?(t.left+e.x<this._region.left&&(e.x=this._region.left-t.left),t.top+e.y<this._region.top&&(e.y=this._region.top-t.top),t.right+e.x>this._region.left+this._region.width&&(e.x=this._region.left+this._region.width-t.right),t.bottom+e.y>this._region.top+this._region.height&&(e.y=this._region.top+this._region.height-t.bottom),e):e},t.prototype._constrainDiffToPlaceholderCover=function(t,e,n){var i=e.angle;e.angle=0;var r=e.bounds,o=t.clone();o.rotateAt(-i,e.center);var s=o.bounds;return n.rotate(-i),s.left+n.x>r.left&&(n.x=r.left-s.left),s.top+n.y>r.top&&(n.y=r.top-s.top),s.right+n.x<r.left+r.width&&(n.x=r.left+r.width-s.right),s.bottom+n.y<r.top+r.height&&(n.y=r.top+r.height-s.bottom),n.rotate(i),n},t.prototype._constrainRectangleToPlaceholderCover=function(t,e){var n=t.angle,i=e.angle,r=gB(90,cB(n-i)%180);e.angle=0;var o=e.bounds;t.rotateAt(-i,e.center);var s=t.bounds,a=Math.min(s.left,o.left),l=Math.min(s.top,o.top),c=Math.max(s.right,o.right),u=Math.max(s.bottom,o.bottom),h=c-a,d=u-l,p=r?this._startRectangle.height/this._startRectangle.width:this._startRectangle.width/this._startRectangle.height,f=h/d,m=(this._operation.resizeIndex-1+Math.round(cB(n-i)/90))%4+1;if(f>p){var g=Math.abs(h/p-h/f);1===m||2===m?l-=g:u+=g}if(f<p){var y=Math.abs(d*p-d*f);2===m||3===m?c+=y:a-=y}var _=new aB(a,l,c-a,u-l);if(!gB(0,n-i%360)){var v=CB.fromRectangleF(_);v.rotateAt(i-n,e.center),_=v.bounds}var b=CB.fromRectangleF(_);return b.rotateAt(n,e.center),b},t.prototype._getRectangleWithBorder=function(t){if(null==t||null==this._border)return null;var e=t.center,n=t.angle;t.angle=0;var i=t.bounds,r=CB.FromLTRB(i.left-this._border.left,i.top-this._border.top,i.right+this._border.right,i.bottom+this._border.bottom);return r.width*=Math.sign(t.width),r.height*=Math.sign(t.height),r.rotateAt(n,e),t.angle=n,r},t.prototype.addSelectedItemHandlersChanged=function(t){this._selectedItemHandlersChangedEvent.add(t)},t.prototype.removeSelectedItemHandlersChanged=function(t){this._selectedItemHandlersChangedEvent.remove(t)},t.prototype._onSelectedItemHandlersChanged=function(){this._updateCurrentMovePermissions(),this._selectedItemHandlersChangedEvent.notify(this)},t.prototype._updateCurrentMovePermissions=function(){var t=this;this._allowMoveHorizontal=!0,this._allowMoveVertical=!0,this._itemHandlers.forEach((function(e){var n=e.getPermissions();t._allowMoveHorizontal=t._allowMoveHorizontal&&n.allowMoveHorizontal,t._allowMoveVertical=t._allowMoveVertical&&n.allowMoveVertical}))},Object.defineProperty(t.prototype,"_allowManipulation",{get:function(){return null!=this._canvas&&(!this._canvas.simpleMode||null!=this._canvas.contentEditingPlaceholderItemHandler)},enumerable:!0,configurable:!0}),t.cw=[0,-1,1,1,-1,-1,0,1,0],t.ch=[0,-1,-1,1,1,0,-1,0,1],t._isSafetyLineItemHandlersFunc=null,t}(),IK=function(){function t(){}return t.isLeftResizeGrip=function(t){return 1===t||4===t||5===t},t.isTopResizeGrip=function(t){return 1===t||2===t||6===t},t.isRightResizeGrip=function(t){return 2===t||3===t||7===t},t.isBottomResizeGrip=function(t){return 3===t||4===t||8===t},t.isCornerResizeGrip=function(t){return 1===t||2===t||3===t||4===t},t.isEdgeResizeGrip=function(t){return 5===t||6===t||7===t||8===t},t}(),AK=function(){var t=function(e,n){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(e,n)};return function(e,n){function i(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(i.prototype=n.prototype,new i)}}(),MK=function(t){function e(e,n){return void 0===n&&(n=null),t.call(this,e,n)||this}return AK(e,t),Object.defineProperty(e.prototype,"item",{get:function(){return this._getItem()},enumerable:!0,configurable:!0}),e.prototype._onItemPropertyChanged=function(e,n){switch(n){case"center":case"bend":case"warp":this.update()}t.prototype._onItemPropertyChanged.call(this,e,n)},e.prototype._setDataItem=function(e,n){t.prototype._setDataItem.call(this,e,n),this.item.center=e.center,this.item.bend=e.bend,this.item.warp=e.warp},e.typeName="ArchedTextItemHandler",e}(rK),DK=function(){var t=function(e,n){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(e,n)};return function(e,n){function i(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(i.prototype=n.prototype,new i)}}(),RK=function(t){function e(e,n){return void 0===n&&(n=null),t.call(this,e,n)||this}return DK(e,t),Object.defineProperty(e.prototype,"item",{get:function(){return this._getItem()},enumerable:!0,configurable:!0}),e.prototype._onItemPropertyChanged=function(e,n){switch(n){case"isVertical":this.update()}t.prototype._onItemPropertyChanged.call(this,e,n)},e.prototype._setDataItem=function(e,n){t.prototype._setDataItem.call(this,e,n),this.item.textRectangle=e.textRectangle,this.item.isVertical=e.isVertical},Object.defineProperty(e.prototype,"originalTextRectangle",{get:function(){return this.item.textRectangle},set:function(t){this.item.textRectangle=t},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"verticalScale",{get:function(){return this.item.verticalScale},set:function(t){},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"horizontalScale",{get:function(){return this.item.horizontalScale},set:function(t){},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"isVertical",{get:function(){return this.item.isVertical},set:function(t){this.item.isVertical=t},enumerable:!0,configurable:!0}),e.prototype.getTextRectangle=function(){var t=this.getControlCenter(),e=CB.fromRectangleF(this.item.textRectangle);return e.transform(this.item.transform.clone(),t),e.toRectangleF()},e.prototype._updateEmptyTextControlPoints=function(){var t=this.item.textRectangle;this._controlPoints[0].x=t.left,this._controlPoints[0].y=t.top,this._controlPoints[1].x=t.right,this._controlPoints[1].y=t.bottom;var e=this.canvas;null!=e&&e.redraw()},e.prototype._setDefaultTextControlPoints=function(){},e.typeName="AutoScaledTextItemHandler",e}(rK),FK=function(){var t=function(e,n){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(e,n)};return function(e,n){function i(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(i.prototype=n.prototype,new i)}}(),LK=function(t){function e(e){var n=t.call(this,e)||this;if(n.__type="BarcodeHandlerData",null==e||null==e.canvas)return n;if(e.canvas.viewer.configuration&&e.canvas.viewer.configuration.stubImages&&e.canvas.viewer.configuration.stubImages.barcode){var i=e.canvas.viewer.configuration.stubImages.barcode;n.stubText=i.text,n.stubPostScriptName=i.postScriptName}var r=(null!=e.item.parentPlaceholder?e.item.parentPlaceholder.parentContainer.parentComponent:e.item.parentContainer.parentComponent).printAreas.getItem(0);return n.dpi=e.canvas.viewer.configuration&&e.canvas.viewer.configuration.renderingConfig?e.canvas.viewer.configuration.renderingConfig.getHiResRendering(r).dpi:72,n.size=Math.round(Math.max(r.bounds.width,r.bounds.height)/2),n}return FK(e,t),e.prototype.applyState=function(e,n){n&&(n.beginUpdate(),n.currentFileId=e.currentFileId,n.stubTextImageFileId=e.stubTextImageFileId,n.errorMessage=e.errorMessage),t.prototype.applyState.call(this,e,n)},e}(DX),BK=function(){var t=function(e,n){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(e,n)};return function(e,n){function i(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(i.prototype=n.prototype,new i)}}(),NK=function(t){function e(e,n){void 0===n&&(n=null);var i=t.call(this,e,n)||this;return i.currentFileId=null,i.stubTextImageFileId=null,i.errorMessage=null,i._maxImageSize=4e6,i._stubTextImageContainer=new WX(i._onstubTextImageLoaded.bind(i)),i}return BK(e,t),e.prototype._createDataInstance=function(t){return new LK(t)},Object.defineProperty(e.prototype,"item",{get:function(){return this._getItem()},set:function(e){t.prototype._setItem.call(this,e)},enumerable:!0,configurable:!0}),e.prototype._onItemPropertyChanged=function(e,n){switch(n){case"barcodeContent":case"barcodeFormat":case"barcodeOptions":case"color":this.currentFileId=null,this.stubTextImageFileId=null,this.errorMessage=null,this.update()}t.prototype._onItemPropertyChanged.call(this,e,n)},e.prototype._createImageUrl=function(){var t,e,n=this.canvas;if(null==this.currentFileId||null==n)return null;var i=n.zoom,r=this.rectangle,o=this._maxImageSize/(t=r.width*(i*eF.screenDpi/72))/(e=r.height*(i*eF.screenDpi/72));return o<1&&(t*=o=Math.sqrt(o),e*=o),t=Math.round(t),e=Math.round(e),this._pixelWidth=t,this._pixelHeight=e,KX.getImageUrl(n,this.currentFileId,this._pixelWidth,this._pixelHeight,!1)},e.prototype._createStubTextImageUrl=function(){if(null!=this.stubTextImageFileId)return KX.getImageUrl(this.canvas,this.stubTextImageFileId,this._pixelWidth,this._pixelHeight,!1)},e.prototype.update=function(e,n){if(this.isVisible())if(null==this.currentFileId&&null==this.errorMessage)t.prototype._update.call(this,null,e,n);else{this.quickUpdate();var i=this.canvas;null!=i&&i.updateSelection()}},Object.defineProperty(e.prototype,"ready",{get:function(){return this._imageContainer.isLoaded&&!(this.item.barcodeData.isEmpty&&!this._stubTextImageContainer.isLoaded)},enumerable:!0,configurable:!0}),e.prototype._isLoadingImage=function(){return this._imageContainer.isLoading||!(this.item.barcodeData.isEmpty&&!this._stubTextImageContainer.isLoading)},e.prototype._setIsLoadingImage=function(t){this._imageContainer.isLoading=t,this.item.barcodeData.isEmpty&&(this._stubTextImageContainer.isLoading=t)},e.prototype._updateImageUrl=function(){t.prototype._updateImageUrl.call(this),this._updateStubTextImageUrl()},e.prototype._updateStubTextImageUrl=function(){if(this.isVisible()){var t=this.canvas;if(null!=t&&t.isInitialized){var e=this._createStubTextImageUrl();e!==this._stubTextImageContainer.source&&(null==e?(this._stubTextImageContainer.clear(),t.redraw()):this._stubTextImageContainer.updateUrl(e))}}},e.prototype._onstubTextImageLoaded=function(t,e){this._stubTextImageContainer.isLoading=!1,this._imageContainer.isLoading||(null!=this.canvas&&this.canvas.redraw(),this._dispatchReadyEvent())},e.prototype._onImageLoaded=function(t,e){this._imageContainer.isLoading=!1,this._stubTextImageContainer.isLoading||(null!=this.canvas&&this.canvas.redraw(),this._dispatchReadyEvent())},e.prototype.quickUpdate=function(){this.isVisible()&&this.canvas&&!this.canvas.service.imageLoaderService.hasImageContainerFor(this.currentFileId)&&t.prototype.quickUpdate.call(this)},e.prototype.drawItemHandler=function(t){if(null!=t){var e=null!=this.parentPlaceholder?this.parentPlaceholder.rectangle:this.rectangle,n=this.rectangle;bX.fillRectangle(t,n,this.isNormalRenderingType||0===this.item.fillColor.alpha?this.item.fillColor.preview:"rgba(0,0,0,0)",this.isNormalRenderingType?this.item.opacity:1),this._imageContainer.isLoaded&&this._drawImage(t,this.canvas.disableSmoothing),this._stubTextImageContainer.isLoaded&&this._drawImage(t,this.canvas.disableSmoothing,1,this._stubTextImageContainer.image),(this._imageContainer.isLoading||this._stubTextImageContainer.isLoading)&&this.canvas.drawWaitClock(t,new QL(e.centerX,e.centerY));var i=this._getActualBorderWidth();i>0&&(n.width+=i,n.height+=i,bX.drawRectangle(t,n,i,this.isNormalRenderingType||0===this.item.borderColor.alpha?this.item.borderColor.preview:"rgb(0,0,0)",this.item.opacity))}},e.prototype._onResized=function(){return this.update(),t.prototype._onResized.call(this)},e.prototype.dispose=function(){t.prototype.dispose.call(this),this._stubTextImageContainer.dispose()},e.typeName="BarcodeItemHandler",e}(GX),jK=function(){var t=function(e,n){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(e,n)};return function(e,n){function i(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(i.prototype=n.prototype,new i)}}(),zK=function(t){function e(e){var n=t.call(this,e)||this;return n.__type="CurvedTextHandlerData",null==e||(n.firstUpdateIsComplete=e.firstUpdateIsComplete),n}return jK(e,t),e.prototype.applyState=function(e,n){t.prototype.applyState.call(this,e,n),null!=n&&(n.firstUpdateIsComplete=e.firstUpdateIsComplete)},e}(eK);!function(t){t.Left="left",t.Right="right",t.Top="top",t.Bottom="bottom",t.Center="center"}(kK||(kK={}));var HK,VK,UK=function(){return(UK=Object.assign||function(t){for(var e,n=1,i=arguments.length;n<i;n++)for(var r in e=arguments[n])Object.prototype.hasOwnProperty.call(e,r)&&(t[r]=e[r]);return t}).apply(this,arguments)};function WK(t,e,n){return GK(t.left,e.left,n)&&GK(t.top,e.top,n)&&GK(t.width,e.width,n)&&GK(t.height,e.height,n)}function $K(t,e,n){if(void 0===n&&(n=VK.Fit),t.width===e.width&&t.height===e.height)return t;if(n===VK.Original)return UK({},t);if(n===VK.Arbitrary)return UK({},e);var i=n===VK.Fit?Math.min(e.width/t.width,e.height/t.height):Math.max(e.width/t.width,e.height/t.height);return{width:t.width*i,height:t.height*i}}function GK(t,e,n){return null==n&&(n=1e-4),0!==n?Math.abs(t-e)<=n:t===e}function qK(t,e,n){return null!=n&&(t=Math.min(t,n)),null!=e&&(t=Math.max(e,t)),t}function XK(t,e,n){var i,r;switch(e){case kK.Left:i=t.left;break;case kK.Right:i=t.right;break;default:i=t.left+t.width/2}switch(n){case kK.Top:r=t.top;break;case kK.Bottom:r=t.bottom;break;default:r=t.top+t.height/2}return new QL(i,r)}!function(t){t.from=function(t){return{width:t.width,height:t.height}}}(HK||(HK={})),function(t){t[t.Fit=0]="Fit",t[t.Fill=1]="Fill",t[t.Arbitrary=2]="Arbitrary",t[t.Original=3]="Original"}(VK||(VK={}));var KK,YK=function(){var t=function(e,n){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(e,n)};return function(e,n){function i(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(i.prototype=n.prototype,new i)}}(),QK=function(t,e){var n="function"==typeof Symbol&&t[Symbol.iterator];if(!n)return t;var i,r,o=n.call(t),s=[];try{for(;(void 0===e||e-- >0)&&!(i=o.next()).done;)s.push(i.value)}catch(a){r={error:a}}finally{try{i&&!i.done&&(n=o.return)&&n.call(o)}finally{if(r)throw r.error}}return s},ZK=function(){for(var t=[],e=0;e<arguments.length;e++)t=t.concat(QK(arguments[e]));return t},JK=function(t){var e="function"==typeof Symbol&&Symbol.iterator,n=e&&t[e],i=0;if(n)return n.call(t);if(t&&"number"==typeof t.length)return{next:function(){return t&&i>=t.length&&(t=void 0),{value:t&&t[i++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")},tY=function(t){function e(e,n,i){void 0===i&&(i=null);var r=t.call(this,null,null,null,null,e,i)||this;return r._itemHandlers=new JH,r._onChildItemHandlerChanging=function(t){return r.raiseChanging(r.item)},Array.isArray(n)&&(r.itemHandlers=new JH(n)),r.item.items.add_itemAdded(r._onItemAdded.bind(r)),r.item.items.add_itemRemoved(r._onItemRemoved.bind(r)),r._subscribeItemHandlers(),r}return YK(e,t),e.prototype._unsubscribeItemHandlers=function(){var t=this;null!=this.itemHandlers&&(this.itemHandlers.remove_itemAdded(this._onItemHandlerAdded.bind(this)),this.itemHandlers.remove_itemRemoved(this._onItemHandlerRemoved.bind(this)),this.itemHandlers.forEach((function(e){return e.getChangingEvent().remove(t._onChildItemHandlerChanging)})))},e.prototype._subscribeItemHandlers=function(){var t=this;null!=this.itemHandlers&&(this.itemHandlers.add_itemAdded(this._onItemHandlerAdded.bind(this)),this.itemHandlers.add_itemRemoved(this._onItemHandlerRemoved.bind(this)),this.itemHandlers.forEach((function(e){return e.getChangingEvent().add(t._onChildItemHandlerChanging)})))},e.prototype.setItemHandlers=function(t){this._unsubscribeItemHandlers(),Array.isArray(t)&&(this.itemHandlers=new JH(t)),this._subscribeItemEvents()},Object.defineProperty(e.prototype,"itemHandlers",{get:function(){return this._itemHandlers},set:function(t){if(null==t)throw new Error("ItemHandlers can't be null");this._itemHandlers.clear(),this._itemHandlers.addRange(t)},enumerable:!0,configurable:!0}),e.prototype.drawItemHandler=function(t){var e=this;this.getNestedItemHandlers(!0,!1,!0).forEach((function(n){var i,r,o,s=(null===(o=null===(r=null===(i=e.canvas.viewer)||void 0===i?void 0:i.configuration)||void 0===r?void 0:r.handlers)||void 0===o?void 0:o.placeholderEditingViewMode)===nX.Normal;null==n.canvas||!s&&n instanceof _K&&n.editing||n.drawItemHandler(t)}))},e.prototype.drawHighlight=function(e,n){void 0===n&&(n=!1),this.drawChildHighlights(e),!n&&this.item.groupItemPermissions&&t.prototype.drawHighlight.call(this,e)},e.prototype.drawChildHighlights=function(t){this.itemHandlers.where((function(t){return t.isVisible()})).forEach((function(e){return e.drawHighlight(t)}))},e.prototype.getOrderedItems=function(){return this.item.items.toArray()},e.prototype._setVisible=function(e){this.visible!==e&&(t.prototype._setVisible.call(this,e),this.applyToItems((function(t){return t.visible=e})))},e.prototype._onItemPropertyChanged=function(e,n){switch(n){case"opacity":var i=e.opacity;this.item.applyToItems((function(t){GK(t.opacity,i)||(t.opacity=i),t instanceof qW&&!GK(t.content.opacity,i)&&t.updateContentAndFrames((function(t){return t.opacity=i}))}))}t.prototype._onItemPropertyChanged.call(this,e,n)},e.prototype._onItemAdded=function(t){var e=t.item,n=t.index;null!=this.canvas&&(null!=n?this.itemHandlers.insertAt(n,this.canvas.handlerFactory.get(e)):this.itemHandlers.add(this.canvas.handlerFactory.get(e)))},e.prototype._onItemRemoved=function(t){if(null!=this.canvas){var e=this.itemHandlers.firstOrDefault((function(e){return e.item==t.item}));this.canvas.isItemHandlerSelected(e)&&this.canvas.removeSelectedItemHandler(e),this.itemHandlers.remove(e)}},e.prototype._onItemHandlerAdded=function(t){var n=this,i=t.item;i.getChangingEvent().add(this._onChildItemHandlerChanging);var r=function(t){t.layer=n.layer,t.canvas=n.canvas,t instanceof e&&t.applyToItems((function(t){return r(t)}))};r(i)},e.prototype._onItemHandlerRemoved=function(t){var e=t.item;e.getChangingEvent().remove(this._onChildItemHandlerChanging),this.canvas.isItemHandlerSelected(t.item)&&this.canvas.removeSelectedItemHandler(t.item),e.canvas=null,e.layer=null,e.item.parentContainer=null},e.prototype.replaceItemHandler=function(t,e){var n=this.itemHandlers.indexOf(t);if(-1==n)throw new GR("ItemHandler not found");this.itemHandlers.replaceAt(e,n),e.layer=this.layer,this._onItemHandlerRemoved({item:t,index:n}),this._onItemHandlerAdded({item:e,index:n})},e.prototype.getNestedItemHandlers=function(t,n,i){void 0===t&&(t=!1),void 0===n&&(n=!1),void 0===i&&(i=!1);for(var r=[],o=n?this.itemHandlers.toArray().slice().reverse():this.itemHandlers.toArray().slice();o.length>0;){var s=o.shift();if(!i||s.isVisible()&&!s.getPermissions().noShow){if(s instanceof e){var a=n?s.itemHandlers.toArray().slice().reverse():s.itemHandlers.toArray();if(o.unshift.apply(o,ZK(a)),t)continue}r.push(s)}}return r},e.prototype.updateNestedItemHandlers=function(t){var e,n,i=!1;try{for(var r=JK(this.itemHandlers),o=r.next();!o.done;o=r.next()){var s=o.value,a=t(s);i=i||a,"updateNestedItemHandlers"in s&&(a=s.updateNestedItemHandlers(t),i=i||a)}}catch(l){e={error:l}}finally{try{o&&!o.done&&(n=r.return)&&n.call(r)}finally{if(e)throw e.error}}return i},e.prototype._onTransformRectangle=function(e,n,i){t.prototype._onTransformRectangle.call(this,e,n,i),this.itemHandlers.forEach((function(t){return t._transformRectangle(e,n,i)}))},e.prototype.update=function(){this.applyToItems((function(t){return t.update()})),t.prototype.update.call(this)},e.prototype.quickUpdate=function(){this.applyToItems((function(t){return t.quickUpdate()})),t.prototype.quickUpdate.call(this)},e.prototype._onResized=function(){return this.applyToItems((function(t){return t._onResized()})),t.prototype._onResized.call(this)},e.prototype.startTransform=function(e){this.applyToItems((function(t){return t.startTransform(e)})),t.prototype.startTransform.call(this,e)},e.prototype._endTransform=function(e,n,i){void 0===i&&(i=!1),this.applyToItems((function(t){return t.endTransform(e,n,!0)})),t.prototype._endTransform.call(this,e,n)},e.prototype._transformChanged=function(){t.prototype._transformChanged.call(this),this.applyToItems((function(t){return t._transformChanged()}))},e.prototype.setRectangle=function(e,n){var i=e.getTransform(this.rectangle),r=i.translateX,o=i.translateY,s=i.scaleX,a=i.scaleY,l=i.angle,c=function(t){var n=t.rectangle;n.translate(r,o),n.rotateAt(l,e.center),t.setRectangle(n,!0),t instanceof _K&&t.updateContentAndFrames(c)};this.itemHandlers.forEach(c);var u=this.rectangle,h=function(t){var e=t.rectangle;e.setTransform(new wB(s,a,(e.centerX-u.centerX)*(s-1),(e.centerY-u.centerY)*(a-1))),t.setRectangle(e,!0),t instanceof _K&&t.updateContentAndFrames(h)};this.itemHandlers.forEach(h),t.prototype.setRectangle.call(this,e,n)},Object.defineProperty(e.prototype,"_calculateRectangleFromChild",{get:function(){return!0},enumerable:!0,configurable:!0}),e.prototype._getRectangle=function(){if(!this._calculateRectangleFromChild)return t.prototype._getRectangle.call(this);var e=this.itemHandlers.where((function(t){return t.isVisible()})).toArray().map((function(t){return t.getTransformedRectangle(!1,!0)}));if(e.length<1)return null!=e[0]?e[0]:new CB;var n=this.item.transform.angle,i=e.reduce((function(t,e){return CB.union(t,e)})).center,r=e.map((function(t){return t.rotateAt(-n,i).bounds})).reduce((function(t,e){return{left:Math.min(t.left,e.left),top:Math.min(t.top,e.top),right:Math.max(t.right,e.right),bottom:Math.max(t.bottom,e.bottom)}}));return CB.FromLTRB(r.left,r.top,r.right,r.bottom).rotateAt(n,i)},e.prototype._onAddedOnCanvas=function(e){t.prototype._onAddedOnCanvas.call(this,e),this.applyToItems((function(t){return t.canvas=e}))},e.prototype._onRemovedFromCanvas=function(e){t.prototype._onRemovedFromCanvas.call(this,e),this.applyToItems((function(t){return t.canvas=null}))},e.prototype.applyToItems=function(t){if(null!=this.itemHandlers)for(var e=0;e<this.itemHandlers.length;e++)t(this.itemHandlers.getItem([e]))},e.prototype.getPermissions=function(){var e,n,i=t.prototype.getPermissions.call(this).clone();try{for(var r=JK(this.itemHandlers),o=r.next();!o.done;o=r.next()){var s=o.value,a=s.getPermissions();a.allowMoveHorizontal||(i.allowMoveHorizontal=!1),a.allowMoveVertical||(i.allowMoveVertical=!1),a.allowRotate||(i.allowRotate=!1),a.resizeGrips.edge||(i.resizeGrips.edge=!1),a.resizeGrips.getCornerProportional()||i.resizeGrips.setCornerProportional(!1),a.resizeGrips.getCornerArbitrary()||i.resizeGrips.setCornerArbitrary(!1),(this.item.transform.angle-s.angle)%90!=0&&(i.resizeGrips.edge=!1,i.resizeGrips.setCornerArbitrary(!1))}}catch(l){e={error:l}}finally{try{o&&!o.done&&(n=r.return)&&n.call(r)}finally{if(e)throw e.error}}return i.showSelectToolbarButton=this.item.groupItemPermissions.allowReplaceContent,i},e.prototype.isChildVisible=function(t){return!0},Object.defineProperty(e.prototype,"item",{get:function(){return this._getItem()},enumerable:!0,configurable:!0}),e.typeName="GroupItemHandler",e}(AX),eY=function(){var t=function(e,n){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(e,n)};return function(e,n){function i(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(i.prototype=n.prototype,new i)}}(),nY=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return eY(e,t),e.prototype._onItemPropertyChanged=function(e,n){switch(n){case"colorGroups":null!=this.canvas&&(this.update(),this.canvas.redraw())}t.prototype._onItemPropertyChanged.call(this,e,n)},Object.defineProperty(e.prototype,"item",{get:function(){return this._getItem()},enumerable:!0,configurable:!0}),e}(tY),iY=function(){var t=function(e,n){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(e,n)};return function(e,n){function i(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(i.prototype=n.prototype,new i)}}(),rY=function(t){function e(e,n){return void 0===n&&(n=null),t.call(this,e,n)||this}return iY(e,t),Object.defineProperty(e.prototype,"item",{get:function(){return this._getItem()},set:function(e){t.prototype._setItem.call(this,e)},enumerable:!0,configurable:!0}),e.prototype._setDataItem=function(e,n){t.prototype._setDataItem.call(this,e,n),this.item.textPath=e.textPath,this.item.fitToPath=e.fitToPath,this.item.fitToPathStep=e.fitToPathStep,this.item.stretch=e.stretch,this.item.originalFontSize=e.originalFontSize,this.item.start=e.start,this.item.end=e.end},e.prototype._onItemPropertyChanged=function(e,n){switch(n){case"textPath":case"fitToPath":case"fitToPathStep":case"stretch":case"originalFontSize":case"start":case"end":this.update()}t.prototype._onItemPropertyChanged.call(this,e,n)},Object.defineProperty(e.prototype,"textPath",{get:function(){var t=this.getControlCenter(),e=this.item.textPath.clone(),n=this.item.transform.clone();return e.transform(n,t),e},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"originalTextPath",{get:function(){return this.item.textPath},set:function(t){this.item.textPath=t},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"fitToPath",{get:function(){return this.item.fitToPath},set:function(t){this.item.fitToPath=t},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"stretch",{get:function(){return this.item.stretch},set:function(t){this.item.stretch=t},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"originalFontSize",{get:function(){return this.item.originalFontSize},set:function(t){this.item.originalFontSize=t},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"fitToPathStep",{get:function(){return this.item.fitToPathStep},set:function(t){this.item.fitToPathStep=t},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"start",{get:function(){return this.item.start},set:function(t){this.item.start=t},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"end",{get:function(){return this.item.end},set:function(t){this.item.end=t},enumerable:!0,configurable:!0}),e.prototype._onResized=function(){var e=parseFloat((this.item.font.size*(this.rectangle.height/this._height)).toFixed(1)),n=this.canvas;if(null!=n){var i=n.minFontSize;e="number"==typeof i?Math.max(e,i):e;var r=n.maxFontSize;e="number"==typeof r?Math.min(e,r):e}return gB(e,this.item.font.size,.01)?(null!=this._startRectangle?(this.setRectangle(this._startRectangle),n.updateSelection(),delete this._startRectangle):this.update(),!1):t.prototype._onResized.call(this)},e.prototype.drawItemHandler=function(e){t.prototype.drawItemHandler.call(this,e),!0===window.__$abl$&&bX.drawPath(e,this.item.textPath,this.getControlCenter(),this.item.transform,1,"red",1)},e.prototype._setDefaultTextControlPoints=function(){this._updateEmptyTextControlPoints()},e.prototype._createDataInstance=function(t){return new zK(t)},e.typeName="CurvedTextItemHandler",e}(rK),oY=function(){var t=function(e,n){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(e,n)};return function(e,n){function i(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(i.prototype=n.prototype,new i)}}(),sY=function(t){function e(e,n){return void 0===n&&(n=null),t.call(this,0,0,0,0,e,n)||this}return oY(e,t),Object.defineProperty(e.prototype,"item",{get:function(){return this._getItem()},enumerable:!0,configurable:!0}),e.prototype._onItemPropertyChanged=function(t,e){},e.prototype._getBoundsMargin=function(){return this.item.width},e.prototype.drawItemHandler=function(t){if(null!=t&&this.item.width>0){var e=this.getActualPoints();bX.drawPolyline(t,e,this.item.width,this.item.color.preview,this.item.opacity)}},e.prototype._belongToLine=function(t,e){for(var n=this.getActualPoints(),i=!1,r=this.item.width/2+e,o=r*r,s=1;s<n.length;s++)if(hB(t,n[s-1],n[s])<=o){i=!0;break}return i},e.prototype.hitTest=function(e,n){var i=t.prototype.hitTest.call(this,e.clone()),r=this.canvas.zoom*eF.screenDpi/72,o=this._getRectangle(),s=!!n&&o.toRectangleF().contains(e),a=this._belongToLine(e,2/r);return i.body=s||a,i},e.prototype.getColorData=function(){var e=this.item,n=t.prototype.getColorData.call(this);return e.color.needUpdate(this.canvas.rgbColorProfileFileId)&&(n.color=e.color.getData()),n},e.prototype.setColorData=function(e){var n=this.item;t.prototype.setColorData.call(this,e),null!=e.color&&(n.color=QB.createColor(e.color))},e.prototype.hasColorsToUpdate=function(){var e=this.item,n=this.canvas.rgbColorProfileFileId;return t.prototype.hasColorsToUpdate.call(this)||e.color.needUpdate(n)},e.prototype.getActualPoints=function(){for(var t=[],e=this.getControlCenter(),n=0;n<this.item.sourcePoints.length;n++)t.push(this._getActualPointFromControlPoint(this.item.sourcePoints[n],e));return t},e.prototype._getActualPointFromControlPoint=function(t,e){var n=new QL(t.x,t.y);n.translate(-e.x,-e.y);var i=this.item.transform;return n.scale(i.scaleX,i.scaleY),n.rotate(i.angle),n.translate(i.translateX,i.translateY),n.translate(e.x,e.y),n},e.prototype.getControlBounds=function(){var t=0,e=0,n=0,i=0,r=this.item.sourcePoints,o=r.length;o>0&&(t=r[0].x,n=r[0].x,e=r[0].y,i=r[0].y);for(var s=1;s<o;s++)t=Math.min(r[s].x,t),n=Math.max(r[s].x,n),e=Math.min(r[s].y,e),i=Math.max(r[s].y,i);return new aB(t,e,n-t,i-e)},e.prototype._addPoint=function(t){var e=this.canvas,n=-1;e&&(n=eF.screenDpi/72*e.zoom);var i=this.item.sourcePoints;if(i.length>0){var r=i[i.length-1].distance(t);(-1===n||r*n>30)&&i.push(t)}else i.push(t)},e.prototype.addPoint=function(t){this.insertPoint(t,this.item.sourcePoints.length)},e.prototype.insertPoint=function(t,e){if(e<0||e>this.item.sourcePoints.length)throw new YR("addPoint: Index out of range.");var n=this.getActualPoints();n.splice(e,0,t),this.item.sourcePoints=n,this.item.transform=new wB},e.prototype.setPoint=function(t,e){if(e<0||e>=this.item.sourcePoints.length)throw new YR("setPoint: Index out of range.");var n=this.getActualPoints();n[e]=t,this.item.sourcePoints=n,this.item.transform=new wB,this.raiseChanged()},e.prototype.getPointsCount=function(){return this.item.sourcePoints.length},e.prototype.getPoint=function(t){if(t<0||t>=this.item.sourcePoints.length)throw new YR("setPoint: Index out of range.");return this._getActualPointFromControlPoint(this.item.sourcePoints[t],this.getControlCenter())},e.prototype.removePoint=function(t){if(t<0||t>=this.item.sourcePoints.length)throw new YR("removePoint: Index out of range.");var e=this.item.sourcePoints;e.splice(t,1),this.item.sourcePoints=e},e.typeName="PolylineItemHandler",e}(AX),aY=function(){var t=function(e,n){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(e,n)};return function(e,n){function i(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(i.prototype=n.prototype,new i)}}(),lY=function(t){function e(e,n){return void 0===n&&(n=null),t.call(this,e,n)||this}return aY(e,t),Object.defineProperty(e.prototype,"item",{get:function(){return this._getItem()},enumerable:!0,configurable:!0}),e.prototype._onItemPropertyChanged=function(e,n){switch(n){case"altColor":case"dashWidth":case"altDashWidth":this.canvas.redraw()}t.prototype._onItemPropertyChanged.call(this,e,n)},Object.defineProperty(e.prototype,"dashWidth",{get:function(){return this.item.dashWidth},set:function(t){this.item.dashWidth=t},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"altDashWidth",{get:function(){return this.item.altDashWidth},set:function(t){this.item.altDashWidth=t},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"altColor",{get:function(){return this.item.altColor},set:function(t){this.item.altColor=t},enumerable:!0,configurable:!0}),e.prototype.drawItemHandler=function(t){if(null!=t){var e=this.point0,n=this.point1,i=this._getActualWidth();if(i){var r=this.dashWidth,o=this.altDashWidth;if(this.fixedWidth){var s=this.canvas.zoom;r/=s,o/=s}bX.drawDashedLine(t,e.x,e.y,n.x,n.y,i,this.color.preview,this.altColor.preview,r,o,this.item.opacity)}}},e.prototype.getColorData=function(){var e=this.item,n=t.prototype.getColorData.call(this),i=this.canvas.rgbColorProfileFileId;return e.color.needUpdate(i)&&(n.color=e.color.getData()),e.altColor.needUpdate(i)&&(n.altColor=e.altColor.getData()),n},e.prototype.setColorData=function(e){var n=this.item;t.prototype.setColorData.call(this,e),null!=e.color&&(n.color=QB.createColor(e.color)),null!=e.altColor&&(n.altColor=QB.createColor(e.altColor))},e.prototype.hasColorsToUpdate=function(){var e=this.item,n=this.canvas.rgbColorProfileFileId;return t.prototype.hasColorsToUpdate.call(this)||e.color.needUpdate(n)||e.altColor.needUpdate(n)},e}(OK),cY=function(){var t=function(e,n){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(e,n)};return function(e,n){function i(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(i.prototype=n.prototype,new i)}}(),uY=function(t){function e(e,n){return void 0===n&&(n=null),t.call(this,0,0,0,0,e,n)||this}return cY(e,t),Object.defineProperty(e.prototype,"item",{get:function(){return this._getItem()},enumerable:!0,configurable:!0}),e.prototype._onItemPropertyChanged=function(t,e){},Object.defineProperty(e.prototype,"locked",{get:function(){return this.item.locked},set:function(t){this.item.locked=t},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"cols",{get:function(){return this.item.cols},set:function(t){this.item.cols=t},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"rows",{get:function(){return this.item.rows},set:function(t){this.item.rows=t},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"stepX",{get:function(){return this.item.stepX},set:function(t){this.item.stepX=t},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"stepY",{get:function(){return this.item.stepY},set:function(t){this.item.stepY=t},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"horizontalLineColor",{get:function(){return this.item.horizontalLineColor},set:function(t){this.item.horizontalLineColor=t},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"verticalLineColor",{get:function(){return this.item.verticalLineColor},set:function(t){this.item.verticalLineColor=t},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"lineWidth",{get:function(){return this.item.lineWidth},set:function(t){this.item.lineWidth=t},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"fixedLineWidth",{get:function(){return this.item.fixedLineWidth},set:function(t){this.item.fixedLineWidth=t},enumerable:!0,configurable:!0}),e.prototype.getControlBounds=function(){return new aB(this.item.location.x,this.item.location.y,this.item.cols*this.stepX,this.item.rows*this.stepY)},e.prototype._getBoundsMargin=function(){var t=this.lineWidth;return this.fixedLineWidth&&(t/=this.canvas.zoom),t},e.prototype.drawItemHandler=function(t){if(null!=t){t.save();var e=this.item.location,n=this.getControlCenter(),i=this.verticalLineColor.preview,r=this.horizontalLineColor.preview,o=this.lineWidth;this.fixedLineWidth&&(o/=this.canvas.zoom);var s,a,l=o/2/this.item.transform.scaleX,c=o/2/this.item.transform.scaleY,u=this.stepX*this.cols,h=this.stepY*this.rows;for(s=0,a=this.cols;s<=a;s++){var d=e.x+s*this.stepX,p=e.y+h+c,f=new QL(d,e.y-c).transform(this.item.transform,n),m=new QL(d,p).transform(this.item.transform,n);bX.drawLine(t,f.x,f.y,m.x,m.y,o,i,this.item.opacity)}for(s=0,a=this.rows;s<=a;s++){var g=e.x+u+l,y=e.y+s*this.stepY;f=new QL(e.x-l,y).transform(this.item.transform,n),m=new QL(g,y).transform(this.item.transform,n),bX.drawLine(t,f.x,f.y,m.x,m.y,o,r,this.item.opacity)}t.restore()}},e.prototype.getColorData=function(){var e=this.item,n=t.prototype.getColorData.call(this),i=this.canvas.rgbColorProfileFileId;return e.verticalLineColor.needUpdate(i)&&(n.verticalLineColor=e.verticalLineColor.getData()),e.horizontalLineColor.needUpdate(i)&&(n.horizontalLineColor=e.horizontalLineColor.getData()),n},e.prototype.setColorData=function(e){var n=this.item;t.prototype.setColorData.call(this,e),null!=e.verticalLineColor&&(n.verticalLineColor=QB.createColor(e.verticalLineColor)),null!=e.horizontalLineColor&&(n.horizontalLineColor=QB.createColor(e.horizontalLineColor))},e.prototype.hasColorsToUpdate=function(){var e=this.item,n=this.canvas.rgbColorProfileFileId;return t.prototype.hasColorsToUpdate.call(this)||e.verticalLineColor.needUpdate(n)||e.horizontalLineColor.needUpdate(n)},e}(AX),hY=function(){var t=function(e,n){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(e,n)};return function(e,n){function i(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(i.prototype=n.prototype,new i)}}(),dY=function(t){function e(e,n){void 0===n&&(n=null);var i=this;return null!=e?(i=t.call(this,bB.ellipse(e.sourceRectangle.left,e.sourceRectangle.top,e.sourceRectangle.width,e.sourceRectangle.height),e,n)||this)._controlPoints=[new QL(e.sourceRectangle.left,e.sourceRectangle.top),new QL(e.sourceRectangle.right,e.sourceRectangle.bottom)]:i=t.call(this,null,e,n)||this,i._allowNegativeResize=!1,i}return hY(e,t),e.prototype.hitTest=function(e,n){var i=t.prototype.hitTest.call(this,e.clone()),r=this._getRectangle(),o=e.clone();o.translate(-r.centerX,-r.centerY),o.rotate(-r.angle),o.scale(2/r.width,2/r.height);var s=o.x*o.x+o.y*o.y<1,a=!!n&&r.toRectangleF().contains(e);return i.body=s||a,i},e}(HX),pY=function(){function t(){}return t.alignment="alignment",t.firstLineIndent="first-line-indent",t.spaceAfter="space-after",t.spaceBefore="space-before",t.leftIndent="left-indent",t.rightIndent="right-indent",t}(),fY=function(){function t(){}return t.fontName="font-name",t.fontSize="font-size",t.color="color",t.bold="bold",t.italic="italic",t.underline="underline",t.penColor="pen-color",t.penWidth="pen-width",t.tracking="tracking",t.leading="leading",t.sub="sub",t.sup="sup",t.allCaps="all-caps",t.smallCaps="small-caps",t.fontFamily="font-family",t.fontStyle="font-style",t.wordSpacingScale="word-spacing-scale",t.supSize="sup-size",t.supPosition="sup-position",t.subSize="sub-size",t.subPosition="sub-position",t.digitType="digit-type",t.openType="ot",t.baselineShift="baseline-shift",t.inkName="ink-name",t.inkSolidity="ink-solidity",t.inkColor="ink-color",t.penInkName="pen-ink-name",t.penInkSolidity="pen-ink-solidity",t.penInkColor="pen-ink-color",t}(),mY=function(){function t(t,e,n,i){this._colorPaletteManager=t,this._fontService=e,this._useSimpleFontList=n,this._previewScale=i}return t.prototype.convert=function(t){var e=this._parse(t),n=this._convert(e,null);return this._serialize(n)},t.prototype._convert=function(t,e){var n=this._convertNode(t);null!=n&&null!=e&&e.appendChild(n);for(var i=0;i<t.childNodes.length;++i){var r=t.childNodes[i];this._isAccepted(r)==NodeFilter.FILTER_ACCEPT&&this._convert(r,n||e)}return n},t.prototype.getNodeName=function(t){return t.nodeName.toLowerCase()},t.dictToStyle=function(t){var e="",n=function(n){t.hasOwnProperty(n)&&(n===fY.openType?t[n].split(",").forEach((function(t){if(!MB(t)){var i=t.trim().split(" "),r=i[0].toLowerCase()+","+(2===i.length?i[1]:"1");e+=n+": "+r+"; "}})):e+=n+": "+t[n]+"; ")};for(var i in t)n(i);return e.trim()},t.styleToDict=function(t){var e,n,i={};if(MB(t))return i;var r=t.split(";");try{for(var o=function(t){var e="function"==typeof Symbol&&Symbol.iterator,n=e&&t[e],i=0;if(n)return n.call(t);if(t&&"number"==typeof t.length)return{next:function(){return t&&i>=t.length&&(t=void 0),{value:t&&t[i++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")}(r),s=o.next();!s.done;s=o.next()){var a=s.value.split(":");if(2===a.length){var l=a[0].trim(),c=a[1].trim();l===fY.openType&&i.hasOwnProperty(l)&&(c=i[l]+";"+c),i[l]=c}}}catch(u){e={error:u}}finally{try{s&&!s.done&&(n=o.return)&&n.call(o)}finally{if(e)throw e.error}}return i},t.stringToBoolean=function(t){return"true"===t},t.stringToNumber=function(t,e,n){if(void 0===e&&(e=""),void 0===n&&(n=0),null==t)return null;var i=MB(e)?+t:+t.replace(e,"");return isNaN(i)?n:i},t.letterSpacingToTracking=function(t){var e=1e3*+t.replace("em;","").replace("em","");return isNaN(e)?0:e},t.trackingToLetterSpacing=function(t){return(isNaN(t)?0:t/1e3)+"em"},t.stringToTextAlignment=function(t){switch(t.toLocaleLowerCase()){case"left":return ZV.Left;case"center":return ZV.Center;case"right":return ZV.Right;case"justify":case"justify-all":case"justification":case"justification-last-left":case"justification-last-center":case"justification-last-right":return ZV.Justify;default:return ZV.Left}},t.textAlignmentToXmlString=function(t){switch(t){case ZV.Left:return"left";case ZV.Center:return"center";case ZV.Right:return"right";case ZV.Justify:return"justification-last-left"}},t.textAlignmentToHtmlString=function(t){switch(t){case ZV.Left:return"left";case ZV.Center:return"center";case ZV.Right:return"right";case ZV.Justify:return"justify"}},t._defaultSupSubSize=.583,t}(),gY=function(t,e){this.tag=t,this.value=e},yY=function(){var t=function(e,n){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(e,n)};return function(e,n){function i(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(i.prototype=n.prototype,new i)}}(),_Y=function(t){function e(e,n,i,r,o){var s=t.call(this,e,n,i,r)||this;return s._defaultFontValue=o,s._supportedSpanStyles=["font-weight","font-style","text-decoration","text-decoration-line","font-size","font-family","color","-webkit-text-stroke","-webkit-text-stroke-width","-webkit-text-stroke-color","letter-spacing","line-height","text-transform","font-variant-caps","vertical-align","font-feature-settings"],s._supportedParagraphStyles=["text-indent","padding-bottom","padding-top","margin-left","margin-right","text-align"],s}return yY(e,t),e.prototype._parse=function(t){return(new DOMParser).parseFromString(t,"text/html").getElementsByTagName("body")[0]},e.prototype._serialize=function(t){return(new XMLSerializer).serializeToString(t).replace(/<body[\s\w.=":\/\s-;]*>/,"").replace("<body>","").replace("</body>","").replace(/&nbsp;/g,"\xa0").trim()},e.prototype._isAccepted=function(t){var e=this.getNodeName(t);return"p"===e||"br"===e||"span"===e||"#text"===e?NodeFilter.FILTER_ACCEPT:NodeFilter.FILTER_REJECT},e.prototype._convertNode=function(t){switch(this.getNodeName(t)){case"p":return this._convertParagraph(t);case"span":return this._convertSpan(t);default:return t.cloneNode(!1)}},e.prototype._convertParagraph=function(t){var e=document.createElement("p"),n=t.attributes.style;return this._applyParagraphStyles(e,null!=n?n.value:null),e},e.prototype._applyParagraphStyles=function(t,n){var i=this;if(null!=n){var r={},o=mY.styleToDict(n),s=e.getAlignmentValue(o);null!=s&&(r[pY.alignment]=mY.textAlignmentToXmlString(s));var a=e.getFirstLineIndentValue(o,this._previewScale);null!=a&&(r[pY.firstLineIndent]=a+"pt");var l=e.getSpaceAfterValue(o,this._previewScale);null!=l&&(r[pY.spaceAfter]=l+"pt");var c=e.getSpaceBeforeValue(o,this._previewScale);null!=c&&(r[pY.spaceBefore]=c+"pt");var u=e.getLeftIndentValue(o,this._previewScale);null!=u&&(r[pY.leftIndent]=u+"pt");var h=e.getRightIndentValue(o,this._previewScale);null!=h&&(r[pY.rightIndent]=h+"pt");var d=pX.keys(o).filter((function(t){return!i._supportedParagraphStyles.includes(t)}));d.length>0&&d.forEach((function(t){return console.log("HtmlToXml: Unknown paragraph style:"+t)}));var p=mY.dictToStyle(r);MB(p)||t.setAttribute("style",p)}},e.getAlignmentValue=function(t){var e=t["text-align"];return null==e?null:mY.stringToTextAlignment(e)},e.getFirstLineIndentValue=function(t,e){void 0===e&&(e=1);var n=t["text-indent"];return null==n?null:mY.stringToNumber(n,"pt")/e},e.getSpaceAfterValue=function(t,e){void 0===e&&(e=1);var n=t["padding-bottom"];return null==n?null:mY.stringToNumber(n,"pt")/e},e.getSpaceBeforeValue=function(t,e){void 0===e&&(e=1);var n=t["padding-top"];return null==n?null:mY.stringToNumber(n,"pt")/e},e.getLeftIndentValue=function(t,e){void 0===e&&(e=1);var n=t["margin-left"];return null==n?null:mY.stringToNumber(n,"pt")/e},e.getRightIndentValue=function(t,e){void 0===e&&(e=1);var n=t["margin-right"];return null==n?null:mY.stringToNumber(n,"pt")/e},e.prototype._convertSpan=function(t){var e=document.createElement("span"),n=t.attributes.style,i=t.attributes.colordata;return this._applySpanStyles(e,null!=n?n.value:null,null!=i?i.value:null,t),e},e.prototype._applySpanStyles=function(t,n,i,r){var o=this;if(null!=n){var s=mY.styleToDict(n),a=mY.styleToDict(i),l={},c=e.getElementFontValue(r,null,this._defaultFontValue);null!=c&&e.setFontValue(l,c,this._fontService,this._useSimpleFontList);var u=e.getUnderlineValue(s);null!=u&&(l[fY.underline]=""+u);var h=e.getFontSizeValue(s,this._previewScale);null!=h&&(l[fY.fontSize]=h+"pt");var d=e.getColorValue(s,a,this._colorPaletteManager);null!=d&&(l[fY.color]=d.toString());var p=e.getStrokeValue(s,a,this._colorPaletteManager,this._previewScale);null!=p&&(null!=p.size&&(l[fY.penWidth]=p.size+"pt"),null!=p.colorIndex&&(l[fY.penColor]=p.colorIndex.toString()));var f=e.getTrackingValue(s);null!=f&&(l[fY.tracking]=f.toString());var m=e.getLeadingValue(s,this._previewScale);null!=m&&(l[fY.leading]=m+"pt");var g=e.getAllCapsValue(s);null!=g&&(l[fY.allCaps]=""+g);var y,_=e.getSmallCapsValue(s);null!=_&&(l[fY.smallCaps]=""+_),!0===e.getSupValue(s)&&(l[fY.sup]="true",null!=(y=e._getSupSubSize(s))&&(l[fY.supSize]=y)),!0===e.getSubValue(s)&&(l[fY.sub]="true",null!=(y=e._getSupSubSize(s))&&(l[fY.subSize]=y));var v=e.getOpenTypeStringValue(s);null!=v&&(l[fY.openType]=v);var b=pX.keys(s).filter((function(t){return!o._supportedSpanStyles.includes(t)}));b.length>0&&b.forEach((function(t){return console.log("HtmlToXml: Unknown span style:"+t)}));var w=mY.dictToStyle(l);MB(w)||t.setAttribute("style",w)}},e._getSupSubSize=function(t){var e=t["font-size"];if(null==e)return null;var n=mY.stringToNumber(e.replace("%",""));if(null==n)return null;var i=n/100;return gB(mY._defaultSupSubSize,i)?null:(+i.toFixed(3)).toString()},e.getElementFontValue=function(t,e,n){var i=null!=n?pX.clone(n):{},r=function(t){null!=t.parentElement&&t!=e&&r(t.parentElement);var n=t.style.fontFamily,o=t.style.fontWeight,s=t.style.fontStyle;MB(n)||(i.family=n),MB(o)||(i.bold="bold"===o),MB(s)||(i.italic="italic"===s)};return r(t),i},e.getFontValue=function(t){var e=t["font-weight"],n=t["font-style"],i=t["font-family"];return null==i&&null==e&&null==n?null:{family:MB(i)?null:i,bold:null==e?null:"bold"===e,italic:null==n?null:"italic"===n}},e.getFontSettings=function(t,n,i){if(i){var r=e._deserializeCssEscapedString(t.family).replace(/"/g,"").replace(/'/g,"");return n.findSuitableFontParams(n.findOriginalFamilyName(r.replace("_cc_family_","")),t.bold,t.italic)}var o={};if(null!=t.family){var s=n.findOriginalPsName(t.family.replace("_cc_psname_",""));o.postScriptName=s}return null!=t.bold&&(o.fauxBold=t.bold),null!=t.italic&&(o.fauxItalic=t.italic),o},e.setFontValue=function(t,n,i,r){var o=e.getFontSettings(n,i,r);null!=o.postScriptName&&(t[fY.fontName]=o.postScriptName),null!=o.fauxBold&&(t[fY.bold]=""+o.fauxBold),null!=o.fauxItalic&&(t[fY.italic]=""+o.fauxItalic)},e._deserializeCssEscapedString=function(t){var e=t;return"'"===e[0]&&(e=e.slice(1)),"'"===e[e.length-1]&&(e=e.slice(0,e.length-1)),e},e.getBoldValue=function(t){var e=t["font-weight"];return null==e?null:"bold"===e},e.getItalicValue=function(t){var e=t["font-style"];return null==e?null:"italic"===e},e.getUnderlineValue=function(t){var e=t["text-decoration"]||t["text-decoration-line"];return null==e?null:"underline"===e},e.getFontSizeValue=function(t,e){void 0===e&&(e=1);var n=t["font-size"];if(null==n||"super"===t["vertical-align"]||"sub"===t["vertical-align"])return null;var i=12;return n.endsWith("pt")?i=mY.stringToNumber(n,"pt"):n.endsWith("px")?i=72*mY.stringToNumber(n,"px")/96:"x-small"==n?i=7.5:"small"==n?i=12*.8:"medium"==n?i=12:"large"==n?i=13.5:"x-large"==n?i=18:"xx-large"==n?i=24:"xxx-large"==n&&(i=36),+(i/e).toFixed(2)},e.getColorValue=function(t,n,i){var r=t.color;if(null==r)return null;var o=e._convertColor(r,n["color-index"],i);return null!=o?o:void 0},e.getStrokeValue=function(t,n,i,r){void 0===r&&(r=1);var o=null,s=null,a=t["-webkit-text-stroke"];if(null!=a?(o=a.substring(0,a.indexOf(" ")),s=a.substring(a.indexOf(" ")+1)):(o=t["-webkit-text-stroke-width"],s=t["-webkit-text-stroke-color"]),null==s&&null==o)return null;var l={};if(null!=o&&(l.size=mY.stringToNumber(o,"pt")/r),null!=s){var c=e._convertColor(s,n["pen-color-index"],i);null!=c&&(l.colorIndex=c)}return l},e.getTrackingValue=function(t){var n=t["letter-spacing"];return null==n?null:e.letterSpacingToTracking(n)},e.getLeadingValue=function(t,e){void 0===e&&(e=1);var n=t["line-height"];return null==n?null:"normal"===n?0:mY.stringToNumber(n,"pt")/e},e.getAllCapsValue=function(t){var e=t["text-transform"];return null==e?null:"uppercase"===e},e.getSmallCapsValue=function(t){var e=t["font-variant-caps"];return null==e?null:"all-small-caps"===e},e.getSupValue=function(t){var e=t["vertical-align"];return null==e?null:"super"===e},e.getSubValue=function(t){var e=t["vertical-align"];return null==e?null:"sub"===e},e.getOpenTypeValue=function(t){var e=t["font-feature-settings"];return null!=e?e.split(",").map((function(t){var e,n=t.trim().split(" ");return new gY(n[0].replace(/"/g,""),mY.stringToNumber(null!==(e=n[1])&&void 0!==e?e:"1"))})):null},e.getOpenTypeStringValue=function(t){var e=t["font-feature-settings"];return null!=e?e.replace(/"/g,""):null},e._convertColor=function(t,e,n){var i;if(null!=e){if(i=+e,isNaN(i))return console.warn("HtmlToXml: invalid color index: "+e),null}else{var r=QB.createColor(t);i=n.addColorToPaletteReturnIndex(r)}return i},e}(mY);!function(t){t[t.Regular=0]="Regular",t[t.Bold=1]="Bold",t[t.Italic=2]="Italic",t[t.BoldItalic=3]="BoldItalic",t[t.Other=4]="Other"}(KK||(KK={}));var vY,bY=function(){var t=function(e,n){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(e,n)};return function(e,n){function i(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(i.prototype=n.prototype,new i)}}(),wY=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return bY(e,t),e.prototype._parse=function(t){return(new DOMParser).parseFromString("<body>"+t.replace(/  /g,"\xa0 ")+"</body>","text/html").getElementsByTagName("body")[0]},e.prototype._serialize=function(t){return t.innerHTML},e.prototype._isAccepted=function(t){var e=this.getNodeName(t);return"p"===e||"br"===e||"span"===e||"#text"===e?NodeFilter.FILTER_ACCEPT:NodeFilter.FILTER_REJECT},e.prototype._convertNode=function(t){switch(this.getNodeName(t)){case"p":return this._convertParagraph(t);case"span":return this._convertSpan(t);default:return t.cloneNode(!1)}},e.prototype._convertParagraph=function(t){var e=document.createElement("p"),n=t.attributes.style;return this._applyParagraphStyles(e,null!=n?n.value:null),e},e.prototype._applyParagraphStyles=function(t,n){if(null!=n){var i=mY.styleToDict(n),r=i[pY.alignment];null!=r&&e.setAlignmentValue(t,r);var o=i[pY.firstLineIndent];o&&e.setFirstLineIndentValue(t,o,this._previewScale);var s=i[pY.spaceAfter];null!=s&&e.setSpaceAfterValue(t,s,this._previewScale);var a=i[pY.spaceBefore];null!=a&&e.setSpaceBeforeValue(t,a,this._previewScale);var l=i[pY.leftIndent];null!=l&&e.setLeftIndentValue(t,l,this._previewScale);var c=i[pY.rightIndent];null!=c&&e.setRightIndentValue(t,c,this._previewScale);var u=pX.values(pY),h=pX.keys(i).filter((function(t){return!u.includes(t)}));h.length>0&&h.forEach((function(t){return console.log("XmlToHtml: Unknown paragraph style:"+t)}))}},e.setAlignmentValue=function(t,e){var n="string"==typeof e?mY.stringToTextAlignment(e):e;t.style.textAlign=mY.textAlignmentToHtmlString(n)},e.setFirstLineIndentValue=function(t,e,n){void 0===n&&(n=1);var i="number"==typeof e?e:mY.stringToNumber(e,"pt");t.style.textIndent=i*n+"pt"},e.setSpaceAfterValue=function(t,e,n){void 0===n&&(n=1);var i="number"==typeof e?e:mY.stringToNumber(e,"pt");t.style.paddingBottom=i*n+"pt"},e.setSpaceBeforeValue=function(t,e,n){void 0===n&&(n=1);var i="number"==typeof e?e:mY.stringToNumber(e,"pt");t.style.paddingTop=i*n+"pt"},e.setRightIndentValue=function(t,e,n){void 0===n&&(n=1);var i="number"==typeof e?e:mY.stringToNumber(e,"pt");t.style.marginRight=i*n+"pt"},e.setLeftIndentValue=function(t,e,n){void 0===n&&(n=1);var i="number"==typeof e?e:mY.stringToNumber(e,"pt");t.style.marginLeft=i*n+"pt"},e.prototype._convertSpan=function(t){var e=document.createElement("span"),n=t.attributes.style;return this._applySpanStyles(e,null!=n?n.value:null),e},e.prototype._applySpanStyles=function(t,n){if(null!=n){var i=mY.styleToDict(n),r=e.getFontValue(i,this._fontService,this._useSimpleFontList);null!=r&&e.setFontValue(t,r);var o=i[fY.underline];null!=o&&e.setUnderlineValue(t,o);var s=i[fY.fontSize];null!=s&&e.setFontSizeValue(t,s,this._previewScale);var a=i[fY.leading];null!=a&&e.setLeadingValue(t,a,this._previewScale);var l=i[fY.tracking];null!=l&&e.setTrackingValue(t,parseFloat(l));var c=i[fY.color];null!=c&&e.setColorValue(t,this._convertColor(c),this._colorPaletteManager);var u=i[fY.penColor],h=i[fY.penWidth];if(null!=u||null!=h){var d={enabled:!0};null!=u&&(d.color=this._convertColor(u)),null!=h&&(d.size=mY.stringToNumber(h,"pt")),e.setStrokeValue(t,d,this._colorPaletteManager,this._previewScale)}var p=i[fY.sup],f=mY.stringToNumber(i[fY.supSize]);null!=p&&e.setSupValue(t,p,f);var m=i[fY.sub],g=mY.stringToNumber(i[fY.subSize]);null!=m&&e.setSubValue(t,m,g);var y=i[fY.allCaps];null!=y&&e.setAllCapsValue(t,y);var _=i[fY.smallCaps];null!=_&&e.setSmallCapsValue(t,_);var v=i[fY.openType];null!=v&&e.setOpenTypeStringValue(t,v);var b=pX.values(fY),w=pX.keys(i).filter((function(t){return!b.includes(t)}));w.length>0&&w.forEach((function(t){return console.log("XmlToHtml: Unknown span style:"+t)}))}},e.getFontValue=function(t,n,i){var r=t[fY.fontName],o=t[fY.bold],s=t[fY.italic];if(null==r&&null==o&&null==s)return null;var a={postScriptName:MB(r)?null:r,fauxBold:MB(o)?null:mY.stringToBoolean(o),fauxItalic:MB(s)?null:mY.stringToBoolean(s)};return e.fontSettingsToHtmlValue(a,n,i)},e.fontSettingsToHtmlValue=function(t,e,n){if(null==t)return null;var i=t.postScriptName,r=t.fauxBold,o=t.fauxItalic;if(null==i&&null==r&&null==o)return null;var s={};if(n){if(!MB(i)){s.family=e.getCssFontFamily(e.availableFontsByPsName[i.toLowerCase()].family);var a=e.recognizeStyleByPsName(i);s.bold=a===KK.Bold||a===KK.BoldItalic,s.italic=a===KK.Italic||a===KK.BoldItalic}}else s.family=null!=i?e.getCssPsName(i):null,s.bold=r,s.italic=o;return s},e.setFontValue=function(t,e){null!=e.family&&(t.style.fontFamily=e.family),null!=e.bold&&(t.style.fontWeight=!0===e.bold?"bold":"normal"),null!=e.italic&&(t.style.fontStyle=!0===e.italic?"italic":"normal")},e.setBoldValue=function(t,e){t.style.fontWeight=!0===e||"true"===e?"bold":"normal"},e.setItalicValue=function(t,e){t.style.fontStyle=!0===e||"true"===e?"italic":"normal"},e.setUnderlineValue=function(t,e){t.style.textDecoration=!0===e||"true"===e?"underline":"none"},e.setFontSizeValue=function(t,e,n){void 0===n&&(n=1);var i="number"==typeof e?e:mY.stringToNumber(e,"pt");t.style.fontSize=i*n+"pt"},e.setFontNameValue=function(t,e){t.style.fontFamily=e},e.setLeadingValue=function(t,e,n){void 0===n&&(n=1);var i="number"==typeof e?e:mY.stringToNumber(e,"pt");t.style.lineHeight=0===i?"normal":i*n+"pt"},e.setTrackingValue=function(t,e){t.style.letterSpacing=mY.trackingToLetterSpacing(e)},e.setColorValue=function(t,n,i){t.style.color=n.preview;var r=i.addColorToPaletteReturnIndex(n);e.setColorIndex(t,r)},e.setColorIndex=function(t,e){var n=t.attributes.colordata,i=null!=n?mY.styleToDict(n.value):{};i["color-index"]=e.toString(),t.setAttribute("colordata",mY.dictToStyle(i))},e.setStrokeValue=function(t,e,n,i){void 0===i&&(i=1);var r=t.attributes.colordata,o=null!=r?mY.styleToDict(r.value):{};e.enabled?(t.style.webkitTextStrokeWidth=e.size*i+"pt",t.style.webkitTextStrokeColor=e.color.preview,o["pen-color-index"]=n.addColorToPaletteReturnIndex(e.color).toString()):(MB(t.style.webkitTextStrokeWidth)&&MB(t.style.webkitTextStrokeColor)&&MB(t.style.webkitTextStroke)?(t.style.webkitTextStrokeWidth="0pt",t.style.webkitTextStrokeColor="rgba(0,0,0,0)"):(t.style.webkitTextStrokeWidth=null,t.style.webkitTextStrokeColor=null,t.style.webkitTextStroke=null),delete o["pen-color-index"]),pX.isEmpty(o)?t.removeAttribute("colordata"):t.setAttribute("colordata",mY.dictToStyle(o))},e.setSupValue=function(t,e,n){!0!==e&&"true"!==e||(t.style.verticalAlign="super",null==n&&(n=mY._defaultSupSubSize),t.style.fontSize=100*n+"%")},e.setSubValue=function(t,e,n){!0!==e&&"true"!==e||(t.style.verticalAlign="sub",null==n&&(n=mY._defaultSupSubSize),t.style.fontSize=100*n+"%")},e.setAllCapsValue=function(t,e){t.style.textTransform=!0===e||"true"===e?"uppercase":"none"},e.setSmallCapsValue=function(t,e){t.style.fontVariantCaps=!0===e||"true"===e?"all-small-caps":"none"},e.setOpenTypeValue=function(t,e){null!=e&&0!=e.length&&(t.style.fontFeatureSettings=e.map((function(t){return'"'+t.tag.toLowerCase()+'" '+t.value})).join(", "))},e.setOpenTypeStringValue=function(t,e){var n=null;e.split(";").forEach((function(t){if(!MB(t)){var e=t.split(","),i=2===e.length?e[1]:null;null==n?n="":n+=", ",n+='"'+e[0].toLowerCase()+'"',null!=i&&(n+=" "+i)}})),null!=n&&(t.style.fontFeatureSettings=n)},e.prototype._convertColor=function(t){var e=+t;return isNaN(e)?QB.createColor(t):this._colorPaletteManager.getPaletteColorAt(e)},e}(mY),CY=function(t,e){var n="function"==typeof Symbol&&t[Symbol.iterator];if(!n)return t;var i,r,o=n.call(t),s=[];try{for(;(void 0===e||e-- >0)&&!(i=o.next()).done;)s.push(i.value)}catch(a){r={error:a}}finally{try{i&&!i.done&&(n=o.return)&&n.call(o)}finally{if(r)throw r.error}}return s},xY=function(){function t(){}return t.fontName="fontName",t.bold="bold",t.italic="italic",t.underline="underline",t.subscript="subscript",t.superscript="superscript",t.documentCommands=pX.values([t.fontName,t.bold,t.italic,t.underline,t.color="color",t.justifyCenter="justifyCenter",t.justifyFull="justifyFull",t.justifyLeft="justifyLeft",t.justifyRight="justifyRight",t.subscript,t.superscript]),t.verticalAlignmentTop="verticalAlignmentTop",t.verticalAlignmentCenter="verticalAlignmentCenter",t.verticalAlignmentBottom="verticalAlignmentBottom",t.alignment="alignment",t.firstLineIndent="first-line-indent",t.spaceAfter="space-after",t.spaceBefore="space-before",t.leftIndent="left-indent",t.rightIndent="right-indent",t.verticalAlignment="vertical-alignment",t.fontSize="fontSize",t.stroke="stroke",t.tracking="tracking",t.leading="leading",t.allCaps="all-caps",t.smallCaps="small-caps",t.openType="open-type",t}(),EY=function(){function t(t){var e=this;this._manager=null,this._fontService=null,this._useSimpleFontList=!1,this._range=null,this._inlineStyle=null,this._defaultInlineStyle=null,this._paragraphStyle=null,this._defaultParagraphStyle=null,this._usedColors=[],this._previewScale=1,this.styleChanged=new rB,this.initialized=new rB,this._ready=!1,this._elementHandler=t,document.onselectionchange=function(t){e._onSelectionChange()}}return t.prototype.init=function(t,e,n){var i=this;this._fontService=t,this._useSimpleFontList=e,null!=n&&LX({url:n+"/cssFonts",type:OX.post,headers:[kX.json],data:JSON.stringify({requestedFontsByPsName:Object.keys(t.availableFontsByPsName),advancedMode:!this._useSimpleFontList})}).then((function(t){var e="data:text/css,"+encodeURI(t.value);i._elementHandler.addTextEditorStyles(e),i._ready=!0,i.initialized.fire()}))},t.prototype.show=function(t,e){var n,i,r=this;this._manager=t,this._previewScale=null!==(n=e.previewScale)&&void 0!==n?n:1;var o=null===(i=e.textFormattingEnabled)||void 0===i||i,s=new wY(this._manager,this._fontService,this._useSimpleFontList,this._previewScale).convert(e.text);this._elementHandler.showTextEditor(e.rectangle,e.textAlignment,s,e.borderWidth,e.borderColor,e.fillColor,e.opacity,e.textVerticalAlignment),this._setDefaultStyles(e.defaultInlineStyle,e.defaultParagraphStyle),this._innerDiv.addEventListener("input",(function(t){r._innerDiv.innerHTML.startsWith("<p")||(document.execCommand("selectAll"),document.execCommand("formatblock",!1,"p")),"historyUndo"!==t.inputType&&"historyRedo"!==t.inputType||document.getSelection().collapseToEnd()})),o||this._div.addEventListener("beforeinput",(function(t){["formatBold","formatItalic","formatUnderline","formatSuperscript","formatSubscript","formatJustifyFull","formatJustifyCenter","formatJustifyRight","formatJustifyLeft","formatFontColor","formatFontName"].includes(t.inputType)&&t.preventDefault()})),this._innerDiv.addEventListener("paste",(function(t){t.preventDefault();var e=t.clipboardData.getData("text/plain");document.execCommand("insertText",!1,e)})),this._usedColors=[]},t.prototype.hide=function(){this._updateColors();var t=this._elementHandler.hideTextEditor(),e=_Y.getElementFontValue(this._innerDiv),n=new _Y(this._manager,this._fontService,this._useSimpleFontList,this._previewScale,e).convert(t);return this._manager=null,n},t.prototype.undo=function(){document.execCommand("undo")},t.prototype.redo=function(){document.execCommand("redo")},Object.defineProperty(t.prototype,"canUndo",{get:function(){return document.queryCommandEnabled("undo")},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"canRedo",{get:function(){return document.queryCommandEnabled("redo")},enumerable:!0,configurable:!0}),t.prototype.processMouseEvent=function(t){},t.prototype.processKeyEvent=function(t){return!0},Object.defineProperty(t.prototype,"_div",{get:function(){return this._elementHandler.textEditorDiv},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"_innerDiv",{get:function(){return this._elementHandler.textEditorInnerDiv},enumerable:!0,configurable:!0}),t.prototype._updateColors=function(){var t=this;this._innerDiv.querySelectorAll("span[style*=color]").forEach((function(e){if(!MB(e.style.color)){var n=t._findUsedColor(e.style.color);if(null!=n){var i=t._manager.addColorToPaletteReturnIndex(n);wY.setColorIndex(e,i)}}}))},t.prototype._findUsedColor=function(t){if(MB(t))return null;var e=QB.createColor(t),n=this._usedColors.find((function(t){return QB.createColor(t.preview).equals(e)}));return null!=n?n.color:null},t.prototype._focusOnDiv=function(){var t=document.getSelection(),e=t.rangeCount>0?t.getRangeAt(0):null;null!=e&&this._innerDiv.contains(e.commonAncestorContainer)||(this._innerDiv.focus(),t.removeAllRanges(),t.addRange(this._range))},t.prototype._onSelectionChange=function(t){if(void 0===t&&(t=!0),null!=this._innerDiv){var e=document.getSelection(),n=e.rangeCount>0?e.getRangeAt(0):null;null!=n&&this._innerDiv.contains(n.commonAncestorContainer)&&(this._range=n,t&&this._updateStyles())}},Object.defineProperty(t.prototype,"active",{get:function(){return null!=this._manager},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"ready",{get:function(){return this._ready},enumerable:!0,configurable:!0}),t.prototype._updateStyles=function(){if(this.active){var t=this._updateInlineStyles(),e=this._updateParagraphStyles();(t||e)&&this.styleChanged.fire()}},t.prototype._updateInlineStyles=function(){var t=this;if(null==this._range||this._range.startContainer==this._innerDiv)return!1;var e=this._getDefaultInlineStyle(),n=function(i){if(t._isParagraph(i)||n(i.parentNode),t._isSpan(i)){var r=i.attributes.style,o=mY.styleToDict(null!=r?r.value:null),s=i.attributes.colordata,a=mY.styleToDict(null!=s?s.value:null),l=_Y.getElementFontValue(i,t._innerDiv);if(null!=l){var c=_Y.getFontSettings(l,t._fontService,t._useSimpleFontList);null!=c.postScriptName&&(e.font.postScriptName=c.postScriptName),null!=c.fauxBold&&(e.font.fauxBold=c.fauxBold),null!=c.fauxItalic&&(e.font.fauxItalic=c.fauxItalic)}var u=_Y.getFontSizeValue(o,t._previewScale);null!=u&&(e.font.size=u);var h=_Y.getUnderlineValue(o);null!=h&&(e.underline=h);var d=_Y.getAllCapsValue(o);null!=d&&(e.font.allCaps=d);var p=_Y.getLeadingValue(o,t._previewScale);null!=p&&(e.leading=p);var f=_Y.getTrackingValue(o);null!=f&&(e.tracking=f);var m=_Y.getSubValue(o);null!=m&&(e.subscript=m);var g=_Y.getSupValue(o);null!=g&&(e.superscript=g);var y=_Y.getOpenTypeValue(o);null!=y&&(e.openType=y);var _=t._findUsedColor(o.color);if(null!=_)e.color=_;else{var v=_Y.getColorValue(o,a,t._manager);null!=v&&(e.color=t._manager.getPaletteColorAt(v))}var b=_Y.getStrokeValue(o,a,t._manager,t._previewScale);if(null!=b){var w=!1;e.stroke={},null!=b.size&&(e.stroke.size=b.size,w=e.stroke.size>0),null!=b.colorIndex&&(e.stroke.color=t._manager.getPaletteColorAt(b.colorIndex),w=w||e.stroke.color.alpha>0),e.stroke.enabled=w}}};return n(this._range.startContainer),!pX.isEqual(this._inlineStyle,e)&&(this._inlineStyle=e,!0)},t.prototype._updateParagraphStyles=function(){var t=this;if(null==this._range||this._range.startContainer==this._innerDiv)return!1;var e=this._getDefaultParagraphStyle(),n=function(i){if(t._isParagraph(i)){var r=i.attributes.style,o=mY.styleToDict(null!=r?r.value:null),s=_Y.getAlignmentValue(o);null!=s&&(e.alignment=s);var a=_Y.getFirstLineIndentValue(o,t._previewScale);null!=a&&(e.firstLineIndent=a);var l=_Y.getSpaceAfterValue(o,t._previewScale);null!=l&&(e.spaceAfter=l);var c=_Y.getSpaceBeforeValue(o,t._previewScale);null!=c&&(e.spaceBefore=c);var u=_Y.getLeftIndentValue(o,t._previewScale);null!=u&&(e.leftIndent=u);var h=_Y.getRightIndentValue(o,t._previewScale);null!=h&&(e.rightIndent=h)}else n(i.parentNode)};return n(this._range.startContainer),!pX.isEqual(this._paragraphStyle,e)&&(this._paragraphStyle=e,!0)},Object.defineProperty(t.prototype,"inlineStyle",{get:function(){return this.active?this._inlineStyle:null},set:function(t){if(this.active&&(this._removeCurrentStyles(t,this._inlineStyle),!pX.isEmpty(t))){var e=this._inlineStyleToCommands(t);if(0!=e.length){this._focusOnDiv();var n=e[0];if(1==e.length&&xY.documentCommands.includes(n.key))if(n.key==xY.color){var i=n.value;null!=i?(document.execCommand("foreColor",!1,i.preview),this._usedColors.push({preview:i.preview,color:i})):console.warn("Incorrect color value")}else document.execCommand(n.key,!1,n.value);else this._customInlineCommand(e);this._updateStyles()}}},enumerable:!0,configurable:!0}),t.prototype._removeCurrentStyles=function(t,e){var n=this;pX.keys(t).forEach((function(i){var r=e[i],o=t[i];null!=r?"stroke"===i?(pX.isEqual(o,r)||o.enabled===r.enabled&&o.size===r.size&&o.color instanceof zB&&o.color.equals(r.color))&&delete t[i]:"openType"===i||(o instanceof zB?o.equals(r)&&delete t[i]:o instanceof Object?n._removeCurrentStyles(o,r):o===r&&delete t[i]):console.warn("_removeCurrentStyles: Incorrect current value state: key "+i+" not found")}))},t.prototype._inlineStyleToCommands=function(t){var e=[];if(null!=t.font){var n=wY.fontSettingsToHtmlValue(t.font,this._fontService,this._useSimpleFontList);if(null!=n){if(null!=this._inlineStyle){var i=wY.fontSettingsToHtmlValue(this._inlineStyle.font,this._fontService,this._useSimpleFontList);this._removeCurrentStyles(n,i)}null!=n.family&&e.push({key:xY.fontName,value:n.family}),null!=n.bold&&e.push({key:xY.bold,value:n.bold}),null!=n.italic&&e.push({key:xY.italic,value:n.italic})}null!=t.font.size&&e.push({key:xY.fontSize,value:t.font.size}),null!=t.font.allCaps&&e.push({key:xY.allCaps,value:t.font.allCaps})}return null!=t.underline&&e.push({key:xY.underline,value:t.underline}),null!=t.leading&&e.push({key:xY.leading,value:t.leading}),null!=t.tracking&&e.push({key:xY.tracking,value:t.tracking}),null!=t.color&&e.push({key:xY.color,value:t.color}),null!=t.stroke&&e.push({key:xY.stroke,value:t.stroke}),null!=t.subscript&&e.push({key:xY.subscript,value:t.subscript}),null!=t.superscript&&e.push({key:xY.superscript,value:t.superscript}),null!=t.openType&&e.push({key:xY.openType,value:t.openType}),e},Object.defineProperty(t.prototype,"paragraphStyle",{get:function(){return this.active?this._paragraphStyle:null},set:function(t){if(this.active&&(this._removeCurrentStyles(t,this._paragraphStyle),!pX.isEmpty(t))){var e=this._paragraphStyleToCommands(t);if(0!=e.length){var n=e[0];1==e.length&&xY.documentCommands.includes(n.key)?(this._innerDiv.focus(),document.execCommand(n.key,!1,n.value)):this._customParagraphCommand(e),this._updateStyles()}}},enumerable:!0,configurable:!0}),t.prototype._paragraphStyleToCommands=function(t,e){void 0===e&&(e=!0);var n=[];if(null!=t.alignment)if(e&&pX.isEmpty(pX.omit(t,xY.alignment)))switch(t.alignment){case ZV.Left:n.push({key:xY.justifyLeft});break;case ZV.Center:n.push({key:xY.justifyCenter});break;case ZV.Right:n.push({key:xY.justifyRight});break;case ZV.Justify:n.push({key:xY.justifyFull})}else n.push({key:xY.alignment,value:t.alignment});return null!=t.firstLineIndent&&n.push({key:xY.firstLineIndent,value:t.firstLineIndent}),null!=t.leftIndent&&n.push({key:xY.leftIndent,value:t.leftIndent}),null!=t.rightIndent&&n.push({key:xY.rightIndent,value:t.rightIndent}),null!=t.spaceAfter&&n.push({key:xY.spaceAfter,value:t.spaceAfter}),null!=t.spaceBefore&&n.push({key:xY.spaceBefore,value:t.spaceBefore}),n},t.prototype._isSpan=function(t){return"span"===t.nodeName.toLocaleLowerCase()},t.prototype._isParagraph=function(t){return"p"===t.nodeName.toLocaleLowerCase()},t.prototype._isText=function(t){return"#text"===t.nodeName.toLocaleLowerCase()},t.prototype._customInlineCommand=function(t){var e=this,n=this._range;if(null!=n&&!n.collapsed){var i=document.getSelection(),r=this._innerDiv.cloneNode(),o=function(t){if(i.containsNode(t,!1)||!t.hasChildNodes())return!0;var r=!0,s=!0;return e._isSpan(t.firstChild)?r=o(t.firstChild):e._isText(t.firstChild)&&(r=t.firstChild.isSameNode(n.startContainer)&&0==n.startOffset),e._isSpan(t.lastChild)?s=o(t.lastChild):e._isText(t.lastChild)&&(s=t.lastChild.isSameNode(n.endContainer)&&n.endOffset==t.lastChild.length),e._range.startContainer.isSameNode(n.endContainer)?r&&s:r||s},s=function(r,a){r.childNodes.forEach((function(r){if(i.containsNode(r,!0))if(e._isText(r)){var l=r.cloneNode(!1),c=null,u=0;r.isSameNode(n.startContainer)&&(c=l.splitText(u=n.startOffset),a.appendChild(l),l=c,c=null),r.isSameNode(n.endContainer)&&(c=l.splitText(n.endOffset-u));var h=document.createElement("span");e._applyCommands(h,t),h.textContent=l.textContent,a.appendChild(h),null!=c&&a.appendChild(c)}else if(e._isSpan(r)&&o(r)){var d=r.cloneNode(!0);e._applyCommands(d,t),a.appendChild(d)}else{var p=r.cloneNode(!1);s(r,p),a.appendChild(p)}else a.appendChild(r.cloneNode(!0))}))};this._innerDiv.childNodes.forEach((function(t){if(i.containsNode(t,!0)){var e=t.cloneNode(!1);s(t,e),r.appendChild(e)}else r.appendChild(t.cloneNode(!0))})),this._innerDiv.focus(),document.execCommand("selectAll"),document.execCommand("insertHTML",!1,r.innerHTML),this._onSelectionChange(!1)}},t.prototype._customParagraphCommand=function(t){var e=this;if(null!=this._range){var n=document.getSelection(),i=this._div.cloneNode();this._innerDiv.childNodes.forEach((function(r){if(e._isParagraph(r)){var o=r.cloneNode(!0);n.containsNode(r,!0)&&e._applyCommands(o,t),i.appendChild(o)}})),this._innerDiv.focus(),document.execCommand("selectAll"),document.execCommand("insertHTML",!1,i.innerHTML),this._onSelectionChange(!1)}},t.prototype._applyCommands=function(t,e){var n,i;try{for(var r=function(t){var e="function"==typeof Symbol&&Symbol.iterator,n=e&&t[e],i=0;if(n)return n.call(t);if(t&&"number"==typeof t.length)return{next:function(){return t&&i>=t.length&&(t=void 0),{value:t&&t[i++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")}(e),o=r.next();!o.done;o=r.next()){var s=o.value,a=s.value;switch(s.key){case xY.fontName:wY.setFontNameValue(t,a);break;case xY.fontSize:wY.setFontSizeValue(t,a,this._previewScale);break;case xY.bold:wY.setBoldValue(t,a);break;case xY.italic:wY.setItalicValue(t,a);break;case xY.allCaps:wY.setAllCapsValue(t,a);break;case xY.underline:wY.setUnderlineValue(t,a);break;case xY.leading:wY.setLeadingValue(t,a,this._previewScale);break;case xY.tracking:wY.setTrackingValue(t,a);break;case xY.color:wY.setColorValue(t,a,this._manager);break;case xY.stroke:wY.setStrokeValue(t,a,this._manager,this._previewScale);break;case xY.openType:wY.setOpenTypeValue(t,a);break;case xY.subscript:wY.setSubValue(t,a);break;case xY.superscript:wY.setSupValue(t,a);break;case xY.alignment:wY.setAlignmentValue(t,a);break;case xY.firstLineIndent:wY.setFirstLineIndentValue(t,a,this._previewScale);break;case xY.spaceAfter:wY.setSpaceAfterValue(t,a,this._previewScale);break;case xY.spaceBefore:wY.setSpaceBeforeValue(t,a,this._previewScale);break;case xY.leftIndent:wY.setLeftIndentValue(t,a,this._previewScale);break;case xY.rightIndent:wY.setRightIndentValue(t,a,this._previewScale)}}}catch(l){n={error:l}}finally{try{o&&!o.done&&(i=r.return)&&i.call(r)}finally{if(n)throw n.error}}},t.prototype._setDefaultStyles=function(t,e){this._inlineStyle=null,this._defaultInlineStyle=t,this._paragraphStyle=null,this._defaultParagraphStyle=e;var n=this._inlineStyleToCommands(t),i=this._paragraphStyleToCommands(e,!1);this._applyCommands(this._innerDiv,function(){for(var t=[],e=0;e<arguments.length;e++)t=t.concat(CY(arguments[e]));return t}(n,i))},t.prototype._getDefaultInlineStyle=function(){var t=this._defaultInlineStyle;return{font:{postScriptName:t.font.postScriptName,fauxBold:t.font.fauxBold,fauxItalic:t.font.fauxItalic,size:t.font.size},underline:t.underline,leading:t.leading,tracking:t.tracking,color:t.color.clone(),stroke:{enabled:t.stroke.enabled,size:t.stroke.size,color:t.stroke.color.clone()},openType:t.openType}},t.prototype._getDefaultParagraphStyle=function(){return pX.clone(this._defaultParagraphStyle)},t}(),SY=function(t,e,n,i){return new(n||(n=Promise))((function(r,o){function s(t){try{l(i.next(t))}catch(e){o(e)}}function a(t){try{l(i.throw(t))}catch(e){o(e)}}function l(t){var e;t.done?r(t.value):(e=t.value,e instanceof n?e:new n((function(t){t(e)}))).then(s,a)}l((i=i.apply(t,e||[])).next())}))},PY=function(t,e){var n,i,r,o,s={label:0,sent:function(){if(1&r[0])throw r[1];return r[1]},trys:[],ops:[]};return o={next:a(0),throw:a(1),return:a(2)},"function"==typeof Symbol&&(o[Symbol.iterator]=function(){return this}),o;function a(o){return function(a){return function(o){if(n)throw new TypeError("Generator is already executing.");for(;s;)try{if(n=1,i&&(r=2&o[0]?i.return:o[0]?i.throw||((r=i.return)&&r.call(i),0):i.next)&&!(r=r.call(i,o[1])).done)return r;switch(i=0,r&&(o=[2&o[0],r.value]),o[0]){case 0:case 1:r=o;break;case 4:return s.label++,{value:o[1],done:!1};case 5:s.label++,i=o[1],o=[0];continue;case 7:o=s.ops.pop(),s.trys.pop();continue;default:if(!((r=(r=s.trys).length>0&&r[r.length-1])||6!==o[0]&&2!==o[0])){s=0;continue}if(3===o[0]&&(!r||o[1]>r[0]&&o[1]<r[3])){s.label=o[1];break}if(6===o[0]&&s.label<r[1]){s.label=r[1],r=o;break}if(r&&s.label<r[2]){s.label=r[2],s.ops.push(o);break}r[2]&&s.ops.pop(),s.trys.pop();continue}o=e.call(t,s)}catch(a){o=[6,a],i=0}finally{n=r=0}if(5&o[0])throw o[1];return{value:o[0]?o[1]:void 0,done:!0}}([o,a])}}},OY=function(){function t(t){this._productHandler=t}return t.prototype._switchSurface=function(t){var e=this._productHandler.product;if(null!=e){var n=e.surfaces;if(!(n.length<=0)){var i=n.indexOf(this._productHandler.currentSurface);-1===i&&(console.warn("Current surface is not found in product"),i=0);var r,o=n.length-1;r=null!=t?Math.max(Math.min(i+t,o),0):i<o?i+1:0,this.switchToSurface(n.get(r))}}},t.prototype.switchToSurface=function(t){return SY(this,void 0,void 0,(function(){var e;return PY(this,(function(n){return null==(e=this._productHandler.product)?[2]:0===e.surfaces.length?(console.warn("Surfaces are not found!"),[2]):(this._productHandler.currentSurface===t||(this._productHandler.currentSurface=t),[2])}))}))},t.prototype.getNextSurface=function(t){return SY(this,void 0,void 0,(function(){var e,n,i,r;return PY(this,(function(o){return null==(e=this._productHandler.product)?[2]:(n=e.surfaces).length<=0?[2,null]:(-1==(i=n.indexOf(this._productHandler.currentSurface))&&(console.warn("Current surface is not found in product"),i=0),r=i,null!=t?r+=t:r++,[2,e.surfaces.get(r)])}))}))},t.prototype.switchToNextSurface=function(){this._switchSurface()},t.prototype.switchSurfaceForward=function(){return SY(this,void 0,void 0,(function(){return PY(this,(function(t){return this._switchSurface(1),[2]}))}))},t.prototype.switchSurfaceBackward=function(){return SY(this,void 0,void 0,(function(){return PY(this,(function(t){return this._switchSurface(-1),[2]}))}))},t}();!function(t){t.switchToSurface="switchToSurface",t.getNextSurface="getNextSurface",t.switchToNextSurface="switchToNextSurface",t.switchSurfaceForward="switchSurfaceForward",t.switchSurfaceBackward="switchSurfaceBackward"}(vY||(vY={}));var kY,TY=function(){function t(t){this._args=t}return t.prototype.execute=function(){throw new qR},t}(),IY=function(){var t=function(e,n){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(e,n)};return function(e,n){function i(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(i.prototype=n.prototype,new i)}}(),AY=function(t){function e(e,n){var i=t.call(this,e)||this;return i._historyArgs=n,null==i._historyArgs&&(i._historyArgs={}),i._historyUpdateMode=null!=i._historyArgs.historyUpdateMode?i._historyArgs.historyUpdateMode:kY.Update,i}return IY(e,t),e.prototype.execute=function(){return t=this,void 0,n=function(){var t;return function(t,e){var n,i,r,o,s={label:0,sent:function(){if(1&r[0])throw r[1];return r[1]},trys:[],ops:[]};return o={next:a(0),throw:a(1),return:a(2)},"function"==typeof Symbol&&(o[Symbol.iterator]=function(){return this}),o;function a(o){return function(a){return function(o){if(n)throw new TypeError("Generator is already executing.");for(;s;)try{if(n=1,i&&(r=2&o[0]?i.return:o[0]?i.throw||((r=i.return)&&r.call(i),0):i.next)&&!(r=r.call(i,o[1])).done)return r;switch(i=0,r&&(o=[2&o[0],r.value]),o[0]){case 0:case 1:r=o;break;case 4:return s.label++,{value:o[1],done:!1};case 5:s.label++,i=o[1],o=[0];continue;case 7:o=s.ops.pop(),s.trys.pop();continue;default:if(!((r=(r=s.trys).length>0&&r[r.length-1])||6!==o[0]&&2!==o[0])){s=0;continue}if(3===o[0]&&(!r||o[1]>r[0]&&o[1]<r[3])){s.label=o[1];break}if(6===o[0]&&s.label<r[1]){s.label=r[1],r=o;break}if(r&&s.label<r[2]){s.label=r[2],s.ops.push(o);break}r[2]&&s.ops.pop(),s.trys.pop();continue}o=e.call(t,s)}catch(a){o=[6,a],i=0}finally{n=r=0}if(5&o[0])throw o[1];return{value:o[0]?o[1]:void 0,done:!0}}([o,a])}}}(this,(function(e){switch(e.label){case 0:return null!=this._historyArgs.history&&this._historyArgs.history.pause(),[4,this._executeCommandBody()];case 1:return t=e.sent(),null!=this._historyArgs.history&&this._historyArgs.history.resume(this._historyUpdateMode!==kY.NotUpdate,this._historyArgs.historyUpdateMode===kY.ForceUpdate),[2,t]}}))},new((e=void 0)||(e=Promise))((function(i,r){function o(t){try{a(n.next(t))}catch(e){r(e)}}function s(t){try{a(n.throw(t))}catch(e){r(e)}}function a(t){var n;t.done?i(t.value):(n=t.value,n instanceof e?n:new e((function(t){t(n)}))).then(o,s)}a((n=n.apply(t,[])).next())}));var t,e,n},e.prototype._executeCommandBody=function(){throw new qR},e.prototype.redo=function(){throw new qR},e.prototype.undo=function(){throw new qR},e}(TY);!function(t){t[t.NotUpdate=0]="NotUpdate",t[t.Update=1]="Update",t[t.ForceUpdate=2]="ForceUpdate"}(kY||(kY={}));var MY,DY=function(){var t=function(e,n){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(e,n)};return function(e,n){function i(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(i.prototype=n.prototype,new i)}}(),RY=function(t){function e(e,n,i){var r=t.call(this,i,n)||this;return r._product=e,r}return DY(e,t),e}(AY),FY=function(){function t(){}return t.prototype.rotate=function(t,e){t.rotateAngle+=this._getRotationTypeAngle(e)},t.prototype._getRotationTypeAngle=function(t){switch(t){case MY.Rotate180:return 180;case MY.Rotate270:return 270;default:return 90}},t}();!function(t){t[t.None=0]="None",t[t.Rotate90=90]="Rotate90",t[t.Rotate180=180]="Rotate180",t[t.Rotate270=270]="Rotate270",t[t.Auto=-1]="Auto"}(MY||(MY={}));var LY=function(){var t=function(e,n){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(e,n)};return function(e,n){function i(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(i.prototype=n.prototype,new i)}}(),BY=function(t){function e(e,n,i,r){var o=t.call(this,i,n,r)||this;return o._productHandler=e,o._rotationAlgorithm=new FY,o}return LY(e,t),e.prototype._executeCommandBody=function(){return t=this,void 0,n=function(){return function(t,e){var n,i,r,o,s={label:0,sent:function(){if(1&r[0])throw r[1];return r[1]},trys:[],ops:[]};return o={next:a(0),throw:a(1),return:a(2)},"function"==typeof Symbol&&(o[Symbol.iterator]=function(){return this}),o;function a(o){return function(a){return function(o){if(n)throw new TypeError("Generator is already executing.");for(;s;)try{if(n=1,i&&(r=2&o[0]?i.return:o[0]?i.throw||((r=i.return)&&r.call(i),0):i.next)&&!(r=r.call(i,o[1])).done)return r;switch(i=0,r&&(o=[2&o[0],r.value]),o[0]){case 0:case 1:r=o;break;case 4:return s.label++,{value:o[1],done:!1};case 5:s.label++,i=o[1],o=[0];continue;case 7:o=s.ops.pop(),s.trys.pop();continue;default:if(!((r=(r=s.trys).length>0&&r[r.length-1])||6!==o[0]&&2!==o[0])){s=0;continue}if(3===o[0]&&(!r||o[1]>r[0]&&o[1]<r[3])){s.label=o[1];break}if(6===o[0]&&s.label<r[1]){s.label=r[1],r=o;break}if(r&&s.label<r[2]){s.label=r[2],s.ops.push(o);break}r[2]&&s.ops.pop(),s.trys.pop();continue}o=e.call(t,s)}catch(a){o=[6,a],i=0}finally{n=r=0}if(5&o[0])throw o[1];return{value:o[0]?o[1]:void 0,done:!0}}([o,a])}}}(this,(function(t){return[2,this.rotateProduct(this._args.rotationType)]}))},new((e=void 0)||(e=Promise))((function(i,r){function o(t){try{a(n.next(t))}catch(e){r(e)}}function s(t){try{a(n.throw(t))}catch(e){r(e)}}function a(t){var n;t.done?i(t.value):(n=t.value,n instanceof e?n:new e((function(t){t(n)}))).then(o,s)}a((n=n.apply(t,[])).next())}));var t,e,n},e.prototype.redo=function(){throw new qR},e.prototype.undo=function(){throw new qR},e.prototype.rotateProduct=function(t){return null!=this._productHandler&&null!=this._product&&this._rotationAlgorithm.rotate(this._productHandler.currentSurface,t),this._productHandler.contentAngle},e}(RY),NY=function(){},jY=function(){},zY=function(){},HY=function(){function t(t){this._itemData=t}return t.prototype.applyImage=function(t){var e=this.applyShape(t);return this._applyColor(t,"overlayColor")||e},t.prototype.applyLine=function(t){var e=this._applyOpacity(t);return this._applyColor(t)||e},t.prototype.applyDashedLine=function(t){var e=this._applyOpacity(t);return e=this._applyColor(t)||e,this._applyColor(t,"altColor","altColor")||e},t.prototype.applyBaseText=function(t){var e=this.applyShape(t);return e=this._applyColor(t)||e,e=this._applyFont(t)||e,e=this._applyTextProperty(t,"underline")||e,e=this._applyTextProperty(t,"tracking")||e,e=this._applyTextProperty(t,"leading")||e,e=this._applyShadow(t)||e,this._applyStroke(t)||e},t.prototype.applyShape=function(t){var e=this._applyOpacity(t);return e=this._applyFillColor(t)||e,e=this._applyBorderColor(t)||e,this._applyBorderWidth(t)||e},t.prototype.applyClipart=function(t){return this._applyClipartColors(t)},t.prototype.applyBarcode=function(t){var e=this.applyShape(t);return this._applyBarcodeColor(t)||e},t.prototype.applyPlaceholder=function(t){var e=!1;return JZ.getContentEffect(t)===HU.Colorize&&(e=this._applyColor(t,"contentFillColor","fillColor")||e,this._itemData.fillColor=null),e=this.applyShape(t)||e,this._applyColor(t,"overlayColor")||e},t.prototype._applyFillColor=function(t){return this._applyColor(t,"fillColor","fillColor")},t.prototype._applyClipartColors=function(t){var e=this,n=!1;return this._itemData.clipartColors.forEach((function(i,r){null!=i&&e._tryApplyColor(i,(function(e){t.setColor(t.colorGroups[r],e),n=!0}))})),n},t.prototype._applyTextFillColor=function(t){return this._applyColor(t,"fillColor","textFillColor")},t.prototype._applyFont=function(t){if(null==this._itemData.font)return!1;var e=!1;return this._itemData.font.postScriptName&&(t.font.postScriptName=this._itemData.font.postScriptName,e=!0),null!=this._itemData.font.fauxItalic&&(t.font.fauxItalic=this._itemData.font.fauxItalic,e=!0),null!=this._itemData.font.fauxBold&&(t.font.fauxBold=this._itemData.font.fauxBold,e=!0),this._itemData.font.size&&(t.font.size=this._itemData.font.size,e=!0),null!=this._itemData.font.allCaps&&(t.font.allCaps=this._itemData.font.allCaps,e=!0),e},t.prototype._applyTextProperty=function(t,e){return null!=this._itemData[e]&&(t[e]=this._itemData[e],!0)},t.prototype._applyShadow=function(t){if(null==this._itemData.shadow||null==t.shadow)return!1;var e=!1;return this._itemData.shadow.color&&this._itemData.shadow.color!==t.shadow.color.preview&&(e=this._tryApplyColor(this._itemData.shadow.color,(function(e){return t.shadow.color=e}))),this._itemData.shadow.angle&&this._itemData.shadow.angle!==t.shadow.angle&&(t.shadow.angle=this._itemData.shadow.angle,e=!0),this._itemData.shadow.distance&&this._itemData.shadow.distance!==t.shadow.distance&&(t.shadow.distance=this._itemData.shadow.distance,e=!0),this._itemData.shadow.size&&this._itemData.shadow.size!==t.shadow.size&&(t.shadow.size=this._itemData.shadow.size,e=!0),e},t.prototype._applyStroke=function(t){if(null==this._itemData.stroke||null==t.stroke)return!1;var e=!1;return this._itemData.stroke.color&&(e=this._tryApplyColor(this._itemData.stroke.color,(function(e){return t.stroke.color=e}))),this._itemData.stroke.size&&this._itemData.stroke.size!==t.stroke.size&&(t.stroke.size=this._itemData.stroke.size,e=!0),e},t.prototype._applyOpacity=function(t){return null!=this._itemData.opacity&&(t.opacity=this._itemData.opacity,!0)},t.prototype._applyBorderColor=function(t){return this._applyColor(t,"borderColor","borderColor")},t.prototype._applyBorderWidth=function(t){return null!=this._itemData.borderWidth&&(t.borderWidth=this._itemData.borderWidth,!0)},t.prototype._applyColor=function(t,e,n){return void 0===e&&(e="color"),void 0===n&&(n="color"),null!=this._itemData[n]&&this._tryApplyColor(this._itemData[n],(function(n){"overlayColor"===e&&(t instanceof fW||t instanceof qW)?JZ.setOverlayEffectColor(t,n):t[e]=n}))},t.prototype._tryApplyColor=function(t,e){var n=QB.createColor(t);return!!n&&(e(n),!0)},t.prototype._applyBarcodeColor=function(t){return this._applyColor(t,"color","barcodeColor")},t}(),VY=function(t){var e="function"==typeof Symbol&&Symbol.iterator,n=e&&t[e],i=0;if(n)return n.call(t);if(t&&"number"==typeof t.length)return{next:function(){return t&&i>=t.length&&(t=void 0),{value:t&&t[i++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")},UY=function(){function t(){}return t.prototype.apply=function(t,e,n){var i,r;if(!t)return!1;var o=!1;try{for(var s=VY(t.getAllItems()),a=s.next();!a.done;a=s.next())o=this.applyToItem(a.value,e,n)||o}catch(l){i={error:l}}finally{try{a&&!a.done&&(r=s.return)&&r.call(s)}finally{if(i)throw i.error}}return o},t.prototype.applyToItem=function(t,e,n){var i=n||t.themeBinding;if(!t||!e||!i)return!1;var r=this._getItemDataByItemType(t,e,i);return t instanceof fW?new HY(r).applyImage(t):t instanceof qW?this._applyToPlaceholder(t,e,i):t instanceof QU?new HY(r).applyDashedLine(t):t instanceof KU?new HY(r).applyLine(t):t instanceof uU?new HY(r).applyBaseText(t):t instanceof CU?new HY(r).applyBarcode(t):t instanceof UV?new HY(r).applyShape(t):t instanceof jU?new HY(r).applyClipart(t):void 0},t.prototype._getItemDataByItemType=function(t,e,n){return t instanceof fW?this._getMergedItemData(e,n,n.img):t instanceof KU?this._getMergedItemData(e,n,n.line):t instanceof uU?this._getMergedItemData(e,n,n.text):t instanceof CU?this._getMergedItemData(e,n,n.barcode):this._getMergedItemData(e,n)},t.prototype._applyToPlaceholder=function(t,e,n){var i=this,r=!1,o=this._getMergedItemData(e,n);return null!=o.fillColor&&JZ.isBgContainerItem(t)&&JZ.clearImageContent(t),t.content instanceof IV&&(r=this.applyToItem(t.content,e,n)),null!=t.topFrames&&t.topFrames.map((function(t){r=i.applyToItem(t,e)||r})),null!=t.bottomFrames&&t.bottomFrames.map((function(t){r=i.applyToItem(t,e)||r})),new HY(o).applyPlaceholder(t)||r},t.prototype._getMergedItemData=function(t,e,n){var i,r,o=this;void 0===n&&(n=null);var s=new zY;if(e.styles){var a=e.styles.map((function(e){return o._getThemeItemData(e,t)}));try{for(var l=VY(a),c=l.next();!c.done;c=l.next()){var u=c.value;u&&(s=this._applyStyle(s,u))}}catch(h){i={error:h}}finally{try{c&&!c.done&&(r=l.return)&&r.call(l)}finally{if(i)throw i.error}}}return this._applyTHBMColor(t,e,n,s)},t.prototype._applyStyle=function(t,e){return t.color=BB(t.color,e.color),t.fillColor=BB(t.fillColor,e.fillColor),t.borderColor=BB(t.borderColor,e.borderColor),t.borderWidth=BB(t.borderWidth,e.borderWidth),t.altColor=BB(t.altColor,e.altColor),t.leading=BB(t.leading,e.leading),t.tracking=BB(t.tracking,e.tracking),t.underline=BB(t.underline,e.underline),t.horizontalLineColor=BB(t.horizontalLineColor,e.horizontalLineColor),t.verticalLineColor=BB(t.verticalLineColor,e.verticalLineColor),t.barcodeColor=BB(t.barcodeColor,e.barcodeColor),t.opacity=BB(t.opacity,e.opacity),t.font=this._applySettings(t.font,e.font),t},t.prototype._applyTHBMColor=function(t,e,n,i){var r=this;return i.fillColor=BB(i.fillColor,this._getTHMBColor(e.fill,t)),i.textFillColor=BB(i.textFillColor,this._getTHMBColor(e.textFill,t)),i.borderColor=BB(i.borderColor,this._getTHMBColor(e.border,t)),i.color=BB(i.color,this._getTHMBColor(n,t)),i.altColor=BB(i.altColor,this._getTHMBColor(e.altline,t)),i.horizontalLineColor=BB(i.horizontalLineColor,this._getTHMBColor(e.horizontal,t)),i.verticalLineColor=BB(i.verticalLineColor,this._getTHMBColor(e.vertical,t)),i.barcodeColor=BB(i.barcodeColor,this._getTHMBColor(e.barcode,t)),null!=e.shadow&&(null==i.shadow&&(i.shadow=new NY),i.shadow.color=BB(i.shadow.color,this._getTHMBColor(e.shadow,t))),null!=e.stroke&&(null==i.stroke&&(i.stroke=new jY),i.stroke.color=BB(i.stroke.color,this._getTHMBColor(e.stroke,t))),i.clipartColors=null!=e.clipartColors?e.clipartColors.map((function(e){return r._getTHMBColor(e,t)})):[],i},t.prototype._applySettings=function(t,e){var n,i;if(null==e)return t;if(null==t)return e;try{for(var r=VY(Object.getOwnPropertyNames(e)),o=r.next();!o.done;o=r.next()){var s=o.value,a=e[s];null!=a&&(t[s]=a)}}catch(l){n={error:l}}finally{try{o&&!o.done&&(i=r.return)&&i.call(r)}finally{if(n)throw n.error}}return t},t.prototype._getThemeItemData=function(t,e){return t?e[t]:null},t.prototype._getTHMBColor=function(t,e){return t?e[t]:null},t}(),WY=function(){var t=function(e,n){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(e,n)};return function(e,n){function i(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(i.prototype=n.prototype,new i)}}(),$Y=function(t){function e(e,n,i){var r=t.call(this,i,n)||this;return r._items=e,r}return WY(e,t),e}(AY),GY=function(){var t=function(e,n){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(e,n)};return function(e,n){function i(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(i.prototype=n.prototype,new i)}}(),qY=function(t,e){var n="function"==typeof Symbol&&t[Symbol.iterator];if(!n)return t;var i,r,o=n.call(t),s=[];try{for(;(void 0===e||e-- >0)&&!(i=o.next()).done;)s.push(i.value)}catch(a){r={error:a}}finally{try{i&&!i.done&&(n=o.return)&&n.call(o)}finally{if(r)throw r.error}}return s},XY=function(t){function e(e,n,i,r,o,s,a){var l=t.call(this,n.dataList.map((function(t){return t.item})),e,n)||this;return l._productHandler=i,l._product=r,l._variableItemHelper=o,l._commandManager=s,l._eventManager=a,l}return GY(e,t),e.prototype._executeCommandBody=function(){return t=this,void 0,n=function(){return function(t,e){var n,i,r,o,s={label:0,sent:function(){if(1&r[0])throw r[1];return r[1]},trys:[],ops:[]};return o={next:a(0),throw:a(1),return:a(2)},"function"==typeof Symbol&&(o[Symbol.iterator]=function(){return this}),o;function a(o){return function(a){return function(o){if(n)throw new TypeError("Generator is already executing.");for(;s;)try{if(n=1,i&&(r=2&o[0]?i.return:o[0]?i.throw||((r=i.return)&&r.call(i),0):i.next)&&!(r=r.call(i,o[1])).done)return r;switch(i=0,r&&(o=[2&o[0],r.value]),o[0]){case 0:case 1:r=o;break;case 4:return s.label++,{value:o[1],done:!1};case 5:s.label++,i=o[1],o=[0];continue;case 7:o=s.ops.pop(),s.trys.pop();continue;default:if(!((r=(r=s.trys).length>0&&r[r.length-1])||6!==o[0]&&2!==o[0])){s=0;continue}if(3===o[0]&&(!r||o[1]>r[0]&&o[1]<r[3])){s.label=o[1];break}if(6===o[0]&&s.label<r[1]){s.label=r[1],r=o;break}if(r&&s.label<r[2]){s.label=r[2],s.ops.push(o);break}r[2]&&s.ops.pop(),s.trys.pop();continue}o=e.call(t,s)}catch(a){o=[6,a],i=0}finally{n=r=0}if(5&o[0])throw o[1];return{value:o[0]?o[1]:void 0,done:!0}}([o,a])}}}(this,(function(t){return[2,this._setImageDataList(this._args.dataList,this._args.keepLocation)]}))},new((e=void 0)||(e=Promise))((function(i,r){function o(t){try{a(n.next(t))}catch(e){r(e)}}function s(t){try{a(n.throw(t))}catch(e){r(e)}}function a(t){var n;t.done?i(t.value):(n=t.value,n instanceof e?n:new e((function(t){t(n)}))).then(o,s)}a((n=n.apply(t,[])).next())}));var t,e,n},e.prototype._setImageDataList=function(t,n){var i,r;this._normalizeDataList(t);try{for(var o=function(t){var e="function"==typeof Symbol&&Symbol.iterator,n=e&&t[e],i=0;if(n)return n.call(t);if(t&&"number"==typeof t.length)return{next:function(){return t&&i>=t.length&&(t=void 0),{value:t&&t[i++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")}(t),s=o.next();!s.done;s=o.next()){var a=s.value,l=a.item,c=a.imageData,u=a.tags,h=a.rotatedRectangle;if(l instanceof qW){var d=JZ.createImageContentForPlaceholder(l,c,this._productHandler,this._args.dpi);d instanceof fW&&this._ensureImageItemName(d),l.isStubContent=!1,null!=d&&null!=u&&(d.tags=u),this._commandManager.execute(UQ.addContent,{placeholder:l,content:d},kY.NotUpdate)}else{var p=JZ.getImageItem(l),f=this._productHandler.getHandler(p);p.effect!==HU.Colorize&&(p.fillColor=QB.createColor("rgba(0, 0, 0, 0)")),null!=p.overlayEffect&&(p.imagePermissions.allowKeepOverlayColor?JZ.setOverlayEffectColor(p,p.overlayEffect.color):p.overlayEffect.color=null),e.setDataToImage(c,p),null!=u&&(p.tags=u),null!=h?f.setTransformedRectangle(h):f.updateRectangle(n),f.quickUpdate(),this._ensureImageItemName(p)}this._eventManager.imageContentChangedEvent.notify(l)}}catch(m){i={error:m}}finally{try{s&&!s.done&&(r=o.return)&&r.call(o)}finally{if(i)throw i.error}}this._productHandler.updateSelection()},e.prototype._ensureImageItemName=function(t){t.isVariable&&(t.isVariable=!1,this._variableItemHelper.setVariableValue(t,!0,!0))},e.prototype._normalizeDataList=function(t){for(var e=[],n=t.length,i=function(n){var i=t[n].item;if(i instanceof qW&&null!=i.linkId&&-1===e.indexOf(i.linkId)){var o=r._product.getAllItems({ignoreMockups:!1,flatGroupItems:!0}).filter((function(t){return t instanceof qW&&t.linkId===i.linkId}));t.push.apply(t,function(){for(var t=[],e=0;e<arguments.length;e++)t=t.concat(qY(arguments[e]));return t}(o.map((function(e){return{item:e,imageData:t[n].imageData,tags:t[n].tags}})))),e.push(i.linkId)}},r=this,o=0;o<n;o++)i(o)},e.prototype.redo=function(){throw new qR},e.prototype.undo=function(){throw new qR},e.setDataToImage=function(t,e){null!=t.name&&(e.displayName=t.name),e.isUserImage=t.isUserImage,e.source.setIdWithOrigin(t.storageId,t.origin),e.source.pageIndex=t.pageIndex,e.source.width=t.size.width,e.source.height=t.size.height,e.source.isVector=t.isVector},e}($Y),KY=function(){var t=function(e,n){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(e,n)};return function(e,n){function i(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(i.prototype=n.prototype,new i)}}(),YY=function(t){var e="function"==typeof Symbol&&Symbol.iterator,n=e&&t[e],i=0;if(n)return n.call(t);if(t&&"number"==typeof t.length)return{next:function(){return t&&i>=t.length&&(t=void 0),{value:t&&t[i++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")},QY=function(t){function e(e,n,i,r,o,s,a,l){var c=t.call(this,i,n,r)||this;return c._productHandler=e,c._commandManager=o,c._productThemeManager=s,c._canvas=a,c._eventManager=l,c}return KY(e,t),e.prototype._executeCommandBody=function(){return t=this,void 0,n=function(){var t,e=this;return function(t,e){var n,i,r,o,s={label:0,sent:function(){if(1&r[0])throw r[1];return r[1]},trys:[],ops:[]};return o={next:a(0),throw:a(1),return:a(2)},"function"==typeof Symbol&&(o[Symbol.iterator]=function(){return this}),o;function a(o){return function(a){return function(o){if(n)throw new TypeError("Generator is already executing.");for(;s;)try{if(n=1,i&&(r=2&o[0]?i.return:o[0]?i.throw||((r=i.return)&&r.call(i),0):i.next)&&!(r=r.call(i,o[1])).done)return r;switch(i=0,r&&(o=[2&o[0],r.value]),o[0]){case 0:case 1:r=o;break;case 4:return s.label++,{value:o[1],done:!1};case 5:s.label++,i=o[1],o=[0];continue;case 7:o=s.ops.pop(),s.trys.pop();continue;default:if(!((r=(r=s.trys).length>0&&r[r.length-1])||6!==o[0]&&2!==o[0])){s=0;continue}if(3===o[0]&&(!r||o[1]>r[0]&&o[1]<r[3])){s.label=o[1];break}if(6===o[0]&&s.label<r[1]){s.label=r[1],r=o;break}if(r&&s.label<r[2]){s.label=r[2],s.ops.push(o);break}r[2]&&s.ops.pop(),s.trys.pop();continue}o=e.call(t,s)}catch(a){o=[6,a],i=0}finally{n=r=0}if(5&o[0])throw o[1];return{value:o[0]?o[1]:void 0,done:!0}}([o,a])}}}(this,(function(n){return[2,this.changeBackground(this._args.surfaces,(t=this._args.data instanceof bW)?"image":"solidColor",t?function(t){t instanceof qW&&e._setBgImage(t,e._args.data)}:function(t){(t instanceof qW||t instanceof $V)&&e._selectBgRectangleColor(t,e._args.data)},t?null:this._args.data)]}))},new((e=void 0)||(e=Promise))((function(i,r){function o(t){try{a(n.next(t))}catch(e){r(e)}}function s(t){try{a(n.throw(t))}catch(e){r(e)}}function a(t){var n;t.done?i(t.value):(n=t.value,n instanceof e?n:new e((function(t){t(n)}))).then(o,s)}a((n=n.apply(t,[])).next())}));var t,e,n},e.prototype.changeBackground=function(t,e,n,i){var r,o,s=this;try{var a=void 0;switch(e){case"image":case"solidColor":a=t.map((function(t){return s.getOrCreateBgItems(t,e)})).reduce((function(t,e){return t.concat(e)}),[]);break;default:throw new qR}try{for(var l=YY(a),c=l.next();!c.done;c=l.next()){var u=c.value;if(u instanceof qW||u instanceof $V){if(u instanceof qW){JZ.clearImageContent(u);var h=u.content;i instanceof zB?(i.equals(u.fillColor)||(u.themeBinding.fill=null,h.themeBinding.fill=null),u.fillColor=QB.createColor(i),h.fillColor=QB.createColor(i)):null!=i&&(u.themeBinding.fill=i.title,h.themeBinding.fill=i.title)}n(u)}}}catch(d){r={error:d}}finally{try{c&&!c.done&&(o=l.return)&&o.call(l)}finally{if(r)throw r.error}}return JZ.updateItems(a,this._productHandler,this._canvas),a}finally{}},e.prototype.getOrCreateBgItems=function(t,e){var n,i,r,o,s=this,a=function(t){var e=new qW(t);return e.contentResizeMode=DW.Fill,e.content=new fW,s._productHandler.getHandler(e.content).setRectangle(CB.fromRectangleF(t)),e},l=function(t){return t.every((function(t){return t instanceof qW||t instanceof $V}))},c=t.containers.first((function(t){return t.name===P$.BG_CONTAINER_NAME})),u=c.items.toArray();if(0===u.length){var h=a((f=t.printAreas.getItem(0)).getBounds(e$.Bleed));return this._addItem(t,c,h,!1),[h]}if(t.printAreas.length===u.length){for(var d=[],p=0;p<t.printAreas.length;p++){var f=t.printAreas.getItem(p),m=u[p];if(m instanceof fW){var g=m.frontendPermissions;this._commandManager.execute(UQ.deleteItems,{items:[m],force:!0}),(h=a(f.getBounds(e$.Bleed))).frontendPermissions=g,this._addItem(t,c,h,!1),d.push(h)}else if(m instanceof qW){var y=m;if(e!==P$.BG_SOLIDCOLOR){var _=f.getBounds(e$.Bleed),v=bB.rectangle(_.left,_.top,_.width,_.height),b=!1;y.sourcePath.isEqual(v)||(y.sourcePath=v,b=!0),aB.isEqual(y.sourceRectangle,_)||(y.sourceRectangle=_,b=!0),(b&&0!==y.transform.translateX||0!==y.transform.translateY)&&(y.transform.setTranslateX(0),y.transform.setTranslateY(0));var w=CB.fromRectangleF(_),C=this._productHandler.getHandler(y.content);C.getTransformedRectangle().equals(w)||(C.setTransformedRectangle(w),b=!0),b&&JZ.updateItems(u,this._productHandler,this._canvas,{redraw:!0})}else y.content instanceof fW&&y.content.source.type!=fW.ImageSourceType.None&&(y.sourceRectangle=f.getBounds(e$.Bleed));d.push(y)}}return d}if(l(u)){var x=P$.BG_SOLIDCOLOR;if(e===x&&null==u.find((function(t){return t.name===x}))){var E=(r=(f=t.printAreas.getItem(0)).getBounds(e$.Bleed),o=new $V(r),s._productHandler.getHandler(o).setRectangle(CB.fromRectangleF(r)),o.borderWidth=0,o);E.name=x,this._addItem(t,c,E,!1)}if(null!=this._historyArgs.history&&this._historyArgs.history.pause(),l(u=c.items.toArray()))try{for(var S=YY(u),P=S.next();!P.done;P=S.next()){var O=P.value,k=O.name===x;O.visualizationPermissions.noPrint=e===x?!k:k,O.visualizationPermissions.noShow=e===x?!k:k}}catch(T){n={error:T}}finally{try{P&&!P.done&&(i=S.return)&&i.call(S)}finally{if(n)throw n.error}}return JZ.updateItems(u,this._productHandler,this._canvas,{redraw:!0}),null!=this._historyArgs.history&&this._historyArgs.history.resume(),u}throw new qR("Containers contains unexpected content")},e.prototype._addItem=function(t,e,n,i){this._commandManager.execute(VQ.addItems,{surface:t,targetContainer:e,items:[n],selectOnCanvas:!0})},e.prototype._setBgImage=function(t,e){var n=t.content;this._productHandler.getHandler(n).setTransformedRectangle(this._getBgImageRectangle(t,e)),t.fillColor=QB.createColor("rgba(0,0,0,0)"),n.fillColor=QB.createColor("rgba(0,0,0,0)"),null!=n.overlayEffect&&(n.imagePermissions.allowKeepOverlayColor?JZ.setOverlayEffectColor(n,n.overlayEffect.color):n.overlayEffect.color=null),XY.setDataToImage(e,n),this._eventManager.imageContentChangedEvent.fire(t)},e.prototype._getBgImageRectangle=function(t,e){var n,i,r=this._productHandler.getHandler(t).getTransformedRectangle(!1),o=e.size.width/e.size.height;return o<r.width/r.height?i=(n=r.width)/o:n=(i=r.height)*o,new CB(r.centerX,r.centerY,n,i,0)},e.prototype._selectBgRectangleColor=function(t,e){e instanceof zB?t.fillColor=QB.createColor(e):null!=e&&(t.themeBinding.fill=e.title,(new UY).applyToItem(t,this._productThemeManager.currentProductTheme))},e.prototype.redo=function(){throw new qR},e.prototype.undo=function(){throw new qR},e}(RY),ZY=function(){var t=function(e,n){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(e,n)};return function(e,n){function i(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(i.prototype=n.prototype,new i)}}(),JY=function(t){function e(e,n,i){var r=t.call(this,i,n)||this;return r.surface=e,r}return ZY(e,t),e}(AY),tQ=function(){var t=function(e,n){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(e,n)};return function(e,n){function i(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(i.prototype=n.prototype,new i)}}(),eQ=function(t,e,n,i){return new(n||(n=Promise))((function(r,o){function s(t){try{l(i.next(t))}catch(e){o(e)}}function a(t){try{l(i.throw(t))}catch(e){o(e)}}function l(t){var e;t.done?r(t.value):(e=t.value,e instanceof n?e:new n((function(t){t(e)}))).then(s,a)}l((i=i.apply(t,e||[])).next())}))},nQ=function(t,e){var n,i,r,o,s={label:0,sent:function(){if(1&r[0])throw r[1];return r[1]},trys:[],ops:[]};return o={next:a(0),throw:a(1),return:a(2)},"function"==typeof Symbol&&(o[Symbol.iterator]=function(){return this}),o;function a(o){return function(a){return function(o){if(n)throw new TypeError("Generator is already executing.");for(;s;)try{if(n=1,i&&(r=2&o[0]?i.return:o[0]?i.throw||((r=i.return)&&r.call(i),0):i.next)&&!(r=r.call(i,o[1])).done)return r;switch(i=0,r&&(o=[2&o[0],r.value]),o[0]){case 0:case 1:r=o;break;case 4:return s.label++,{value:o[1],done:!1};case 5:s.label++,i=o[1],o=[0];continue;case 7:o=s.ops.pop(),s.trys.pop();continue;default:if(!((r=(r=s.trys).length>0&&r[r.length-1])||6!==o[0]&&2!==o[0])){s=0;continue}if(3===o[0]&&(!r||o[1]>r[0]&&o[1]<r[3])){s.label=o[1];break}if(6===o[0]&&s.label<r[1]){s.label=r[1],r=o;break}if(r&&s.label<r[2]){s.label=r[2],s.ops.push(o);break}r[2]&&s.ops.pop(),s.trys.pop();continue}o=e.call(t,s)}catch(a){o=[6,a],i=0}finally{n=r=0}if(5&o[0])throw o[1];return{value:o[0]?o[1]:void 0,done:!0}}([o,a])}}},iQ=function(t,e){var n="function"==typeof Symbol&&t[Symbol.iterator];if(!n)return t;var i,r,o=n.call(t),s=[];try{for(;(void 0===e||e-- >0)&&!(i=o.next()).done;)s.push(i.value)}catch(a){r={error:a}}finally{try{i&&!i.done&&(n=o.return)&&n.call(o)}finally{if(r)throw r.error}}return s},rQ=function(){for(var t=[],e=0;e<arguments.length;e++)t=t.concat(iQ(arguments[e]));return t},oQ=function(t){function e(e,n,i,r,o,s,a,l){var c=t.call(this,i.surface,n,i)||this;return c._productHandler=e,c._productThemeManager=r,c._canvas=o,c._variableItemHelper=s,c._commandManager=a,c._eventManager=l,c}return tQ(e,t),e.prototype._executeCommandBody=function(){return eQ(this,void 0,void 0,(function(){var t,e,n,i,r,o,s=this;return nQ(this,(function(a){switch(a.label){case 0:return e=(t=this._args).items,n=t.targetGroupItem,i=t.index,r=t.orderIndex,o=pX.extend({targetContainer:this._productHandler.userEditContainer,surface:this._productHandler.currentSurface,selectOnCanvas:!0,index:null,orderIndex:null,ignoreOrderRules:!1,ignoreCanvasRotate:!0,createCloneName:!1},this._args),this._historyArgs.history.pause(),null==n?[3,2]:[4,this._insertItemsIntoGroupItem(e,n,i,r)];case 1:return a.sent(),this._eventManager.itemCollectionChangedEvent.notify(),[3,4];case 2:return e.forEach((function(t){return s._addItem(o,t)})),this._canvas.updateTexts(),[4,JZ.waitForItemsUpdated(e,this._canvas)];case 3:a.sent(),a.label=4;case 4:return e.some((function(t){return t instanceof KW}))||this._canvas.redraw(),this._historyArgs.history.resume(),o.selectOnCanvas&&this._commandManager.execute(WQ.selectItems,{items:e.filter((function(t){return!t.locked}))}),[2]}}))}))},e.prototype._addItem=function(t,e){null!=this._productThemeManager.currentProductTheme&&(new UY).applyToItem(e,this._productThemeManager.currentProductTheme),null==t.index&&(t.index=-1);var n=t.targetContainer;this._args.createCloneName&&(e.name=JZ.createCloneName(e,this._variableItemHelper,this._productHandler));var i=n.items;if(i.add(e),-1!==t.index)n.items.move(i.length-1,t.index);else if(!t.ignoreOrderRules&&e instanceof fW&&i.length>1){var r=pX.find(i.toArray().slice().reverse(),(function(t){return t instanceof kU||t instanceof NW})),o=pX.find(i.toArray(),(function(t){return t instanceof uU})),s=-1;null!=r?s=i.indexOf(r)+1:null!=o&&(s=i.indexOf(o)),-1!==s&&n.items.move(i.length-1,s)}},e.prototype._insertItemsIntoGroupItem=function(t,e,n,i){return eQ(this,void 0,void 0,(function(){var r,o,s;return nQ(this,(function(a){switch(a.label){case 0:if(e instanceof IW?e.addItems(t,n,i):e.addItems(t,n),!((r=rQ(t,t.filter((function(t){return t instanceof RU})).reduce((function(t,e){return rQ(t,e.getNestedItems(!0))}),[]))).length>0))return[3,2];for(o=e;null!=o.parentGroupItem;)o=o.parentGroupItem;return s=o.locked,o.locked=!0,[4,JZ.waitForItemsUpdated(r,this._canvas)];case 1:a.sent(),o.locked=s,a.label=2;case 2:return[2]}}))}))},e.prototype.redo=function(){throw new qR},e.prototype.undo=function(){throw new qR},e}(JY),sQ=function(){var t=function(e,n){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(e,n)};return function(e,n){function i(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(i.prototype=n.prototype,new i)}}(),aQ=function(t,e){var n="function"==typeof Symbol&&t[Symbol.iterator];if(!n)return t;var i,r,o=n.call(t),s=[];try{for(;(void 0===e||e-- >0)&&!(i=o.next()).done;)s.push(i.value)}catch(a){r={error:a}}finally{try{i&&!i.done&&(n=o.return)&&n.call(o)}finally{if(r)throw r.error}}return s},lQ=function(t){function e(e,n,i,r,o,s){var a=t.call(this,i.items,n,i)||this;return a._productHandler=e,a._canvas=r,a._commandManager=s,a._conf=o.messages.delete,a}return sQ(e,t),e.prototype._executeCommandBody=function(){return t=this,void 0,n=function(){var t;return function(t,e){var n,i,r,o,s={label:0,sent:function(){if(1&r[0])throw r[1];return r[1]},trys:[],ops:[]};return o={next:a(0),throw:a(1),return:a(2)},"function"==typeof Symbol&&(o[Symbol.iterator]=function(){return this}),o;function a(o){return function(a){return function(o){if(n)throw new TypeError("Generator is already executing.");for(;s;)try{if(n=1,i&&(r=2&o[0]?i.return:o[0]?i.throw||((r=i.return)&&r.call(i),0):i.next)&&!(r=r.call(i,o[1])).done)return r;switch(i=0,r&&(o=[2&o[0],r.value]),o[0]){case 0:case 1:r=o;break;case 4:return s.label++,{value:o[1],done:!1};case 5:s.label++,i=o[1],o=[0];continue;case 7:o=s.ops.pop(),s.trys.pop();continue;default:if(!((r=(r=s.trys).length>0&&r[r.length-1])||6!==o[0]&&2!==o[0])){s=0;continue}if(3===o[0]&&(!r||o[1]>r[0]&&o[1]<r[3])){s.label=o[1];break}if(6===o[0]&&s.label<r[1]){s.label=r[1],r=o;break}if(r&&s.label<r[2]){s.label=r[2],s.ops.push(o);break}r[2]&&s.ops.pop(),s.trys.pop();continue}o=e.call(t,s)}catch(a){o=[6,a],i=0}finally{n=r=0}if(5&o[0])throw o[1];return{value:o[0]?o[1]:void 0,done:!0}}([o,a])}}}(this,(function(e){return t=pX.extend({force:!1,autoUngroup:!0,autoParentGroupDelete:!0},this._args),this.deleteItems(t.items,t.force,t.autoUngroup,t.autoParentGroupDelete),[2]}))},new((e=void 0)||(e=Promise))((function(i,r){function o(t){try{a(n.next(t))}catch(e){r(e)}}function s(t){try{a(n.throw(t))}catch(e){r(e)}}function a(t){var n;t.done?i(t.value):(n=t.value,n instanceof e?n:new e((function(t){t(n)}))).then(o,s)}a((n=n.apply(t,[])).next())}));var t,e,n},e.prototype.deleteItems=function(t,e,n,i){var r,o;if(0!=t.length&&(t.every((function(t){return t.manipulationPermissions.allowDelete}))||e)&&(e||!this._conf.enabled||confirm(this._conf.message))){for(var s=new Map,a=0;a<t.length;a++){var l=t[a],c=l.parentGroupItem;null!=c?(s.has(c)||s.set(c,[]),s.get(c).push(l)):this.deleteItem(l)}try{for(var u=function(t){var e="function"==typeof Symbol&&Symbol.iterator,n=e&&t[e],i=0;if(n)return n.call(t);if(t&&"number"==typeof t.length)return{next:function(){return t&&i>=t.length&&(t=void 0),{value:t&&t[i++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")}(s),h=u.next();!h.done;h=u.next()){var d=aQ(h.value,2);this._removeChildItemsFromGroup(d[0],d[1],i,n)}}catch(p){r={error:p}}finally{try{h&&!h.done&&(o=u.return)&&o.call(u)}finally{if(r)throw r.error}}this._canvas.updateTexts(),this._canvas.updateSelection(),this._productHandler.redraw()}},e.prototype._removeChildItemsFromGroup=function(t,e,n,i){e.forEach(t instanceof IW?function(e){return t.removeItems([e])}:function(e){return t.items.remove(e)}),n&&0===t.items.length?this.deleteItem(t):i&&t.items.length<2&&this._commandManager.execute(UQ.ungroupItems,{items:t.items.toArray()})},e.prototype.deleteItem=function(t){if(null!=t){var e=null!=t.parentGroupItem?t.parentGroupItem:t.parentContainer;null!=e&&e.items.contains(t)&&(e instanceof IW?e.removeItems([t]):e.items.remove(t))}},e.prototype.redo=function(){throw new qR},e.prototype.undo=function(){throw new qR},e}($Y),cQ=function(){var t=function(e,n){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(e,n)};return function(e,n){function i(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(i.prototype=n.prototype,new i)}}(),uQ=function(t){function e(e,n,i){var r=t.call(this,n)||this;return r._productHandler=e,r._canvas=i,r}return cQ(e,t),e.prototype.execute=function(){return t=this,void 0,n=function(){var t,e,n=this;return function(t,e){var n,i,r,o,s={label:0,sent:function(){if(1&r[0])throw r[1];return r[1]},trys:[],ops:[]};return o={next:a(0),throw:a(1),return:a(2)},"function"==typeof Symbol&&(o[Symbol.iterator]=function(){return this}),o;function a(o){return function(a){return function(o){if(n)throw new TypeError("Generator is already executing.");for(;s;)try{if(n=1,i&&(r=2&o[0]?i.return:o[0]?i.throw||((r=i.return)&&r.call(i),0):i.next)&&!(r=r.call(i,o[1])).done)return r;switch(i=0,r&&(o=[2&o[0],r.value]),o[0]){case 0:case 1:r=o;break;case 4:return s.label++,{value:o[1],done:!1};case 5:s.label++,i=o[1],o=[0];continue;case 7:o=s.ops.pop(),s.trys.pop();continue;default:if(!((r=(r=s.trys).length>0&&r[r.length-1])||6!==o[0]&&2!==o[0])){s=0;continue}if(3===o[0]&&(!r||o[1]>r[0]&&o[1]<r[3])){s.label=o[1];break}if(6===o[0]&&s.label<r[1]){s.label=r[1],r=o;break}if(r&&s.label<r[2]){s.label=r[2],s.ops.push(o);break}r[2]&&s.ops.pop(),s.trys.pop();continue}o=e.call(t,s)}catch(a){o=[6,a],i=0}finally{n=r=0}if(5&o[0])throw o[1];return{value:o[0]?o[1]:void 0,done:!0}}([o,a])}}}(this,(function(i){return t=[],e=null!=this._args.multiselection&&this._args.multiselection,this._args.items.forEach((function(i){var r=n._productHandler.getHandler(i),o=!1;(r instanceof rK||r instanceof pJ)&&r.isEmpty()&&(o=!0),null==r||r.isLocked()||!r.isVisible()&&!o||i.visualizationPermissions.noShow||(n._canvas.isItemHandlerSelected(r)&&e?n._canvas.removeSelectedItemHandler(r):e?n._canvas.addSelectedItemHandler(r):t.push(r),n.lastSelectedItem=i)})),e||this._canvas.setSelectedItemHandlers(t),this._canvas.redraw(),[2]}))},new((e=void 0)||(e=Promise))((function(i,r){function o(t){try{a(n.next(t))}catch(e){r(e)}}function s(t){try{a(n.throw(t))}catch(e){r(e)}}function a(t){var n;t.done?i(t.value):(n=t.value,n instanceof e?n:new e((function(t){t(n)}))).then(o,s)}a((n=n.apply(t,[])).next())}));var t,e,n},e}(TY),hQ=function(){var t=function(e,n){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(e,n)};return function(e,n){function i(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(i.prototype=n.prototype,new i)}}(),dQ=function(t){function e(e,n,i){var r=t.call(this,null)||this;return r._productHandler=e,r._commandManager=n,r._canvas=i,r._canSelectItem=function(t){var e=r._productHandler.currentSurface;return null!=e&&!t.visualizationPermissions.noShow&&!t.locked&&e.getBackgroundItem()!=t},r}return hQ(e,t),e.prototype.execute=function(){return t=this,void 0,n=function(){var t,e,n,i;return function(t,e){var n,i,r,o,s={label:0,sent:function(){if(1&r[0])throw r[1];return r[1]},trys:[],ops:[]};return o={next:a(0),throw:a(1),return:a(2)},"function"==typeof Symbol&&(o[Symbol.iterator]=function(){return this}),o;function a(o){return function(a){return function(o){if(n)throw new TypeError("Generator is already executing.");for(;s;)try{if(n=1,i&&(r=2&o[0]?i.return:o[0]?i.throw||((r=i.return)&&r.call(i),0):i.next)&&!(r=r.call(i,o[1])).done)return r;switch(i=0,r&&(o=[2&o[0],r.value]),o[0]){case 0:case 1:r=o;break;case 4:return s.label++,{value:o[1],done:!1};case 5:s.label++,i=o[1],o=[0];continue;case 7:o=s.ops.pop(),s.trys.pop();continue;default:if(!((r=(r=s.trys).length>0&&r[r.length-1])||6!==o[0]&&2!==o[0])){s=0;continue}if(3===o[0]&&(!r||o[1]>r[0]&&o[1]<r[3])){s.label=o[1];break}if(6===o[0]&&s.label<r[1]){s.label=r[1],r=o;break}if(r&&s.label<r[2]){s.label=r[2],s.ops.push(o);break}r[2]&&s.ops.pop(),s.trys.pop();continue}o=e.call(t,s)}catch(a){o=[6,a],i=0}finally{n=r=0}if(5&o[0])throw o[1];return{value:o[0]?o[1]:void 0,done:!0}}([o,a])}}}(this,(function(r){switch(r.label){case 0:return null==(t=this._productHandler.currentSurface)||null==(e=t.printAreas)||e.count()<=0||null==(n=t.getAllItems({ignoreMockups:!0}).toArray())||n.length<=0||null==this._canvas?[2]:(null==i&&(i=n.reverse().find(this._canSelectItem)),[4,this._canvas.waitUpdate()]);case 1:return r.sent(),null!=i&&this._commandManager.execute(WQ.selectItems,{items:[i],multiselection:!1}),[2]}}))},new((e=void 0)||(e=Promise))((function(i,r){function o(t){try{a(n.next(t))}catch(e){r(e)}}function s(t){try{a(n.throw(t))}catch(e){r(e)}}function a(t){var n;t.done?i(t.value):(n=t.value,n instanceof e?n:new e((function(t){t(n)}))).then(o,s)}a((n=n.apply(t,[])).next())}));var t,e,n},e}(TY),pQ=function(){var t=function(e,n){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(e,n)};return function(e,n){function i(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(i.prototype=n.prototype,new i)}}(),fQ=function(t){function e(e){var n=t.call(this,null)||this;return n._canvas=e,n}return pQ(e,t),e.prototype.execute=function(){return t=this,void 0,n=function(){return function(t,e){var n,i,r,o,s={label:0,sent:function(){if(1&r[0])throw r[1];return r[1]},trys:[],ops:[]};return o={next:a(0),throw:a(1),return:a(2)},"function"==typeof Symbol&&(o[Symbol.iterator]=function(){return this}),o;function a(o){return function(a){return function(o){if(n)throw new TypeError("Generator is already executing.");for(;s;)try{if(n=1,i&&(r=2&o[0]?i.return:o[0]?i.throw||((r=i.return)&&r.call(i),0):i.next)&&!(r=r.call(i,o[1])).done)return r;switch(i=0,r&&(o=[2&o[0],r.value]),o[0]){case 0:case 1:r=o;break;case 4:return s.label++,{value:o[1],done:!1};case 5:s.label++,i=o[1],o=[0];continue;case 7:o=s.ops.pop(),s.trys.pop();continue;default:if(!((r=(r=s.trys).length>0&&r[r.length-1])||6!==o[0]&&2!==o[0])){s=0;continue}if(3===o[0]&&(!r||o[1]>r[0]&&o[1]<r[3])){s.label=o[1];break}if(6===o[0]&&s.label<r[1]){s.label=r[1],r=o;break}if(r&&s.label<r[2]){s.label=r[2],s.ops.push(o);break}r[2]&&s.ops.pop(),s.trys.pop();continue}o=e.call(t,s)}catch(a){o=[6,a],i=0}finally{n=r=0}if(5&o[0])throw o[1];return{value:o[0]?o[1]:void 0,done:!0}}([o,a])}}}(this,(function(t){return this._canvas.clearSelectedItemHandlers(),this._canvas.redraw(),[2]}))},new((e=void 0)||(e=Promise))((function(i,r){function o(t){try{a(n.next(t))}catch(e){r(e)}}function s(t){try{a(n.throw(t))}catch(e){r(e)}}function a(t){var n;t.done?i(t.value):(n=t.value,n instanceof e?n:new e((function(t){t(n)}))).then(o,s)}a((n=n.apply(t,[])).next())}));var t,e,n},e}(TY),mQ=function(){var t=function(e,n){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(e,n)};return function(e,n){function i(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(i.prototype=n.prototype,new i)}}(),gQ=function(t,e){var n="function"==typeof Symbol&&t[Symbol.iterator];if(!n)return t;var i,r,o=n.call(t),s=[];try{for(;(void 0===e||e-- >0)&&!(i=o.next()).done;)s.push(i.value)}catch(a){r={error:a}}finally{try{i&&!i.done&&(n=o.return)&&n.call(o)}finally{if(r)throw r.error}}return s},yQ=function(t){function e(e,n,i,r,o){var s=t.call(this,i.items,n,i)||this;return s._productHandler=e,s._commandManager=r,s._variableItemHelper=o,s}return mQ(e,t),e.prototype._executeCommandBody=function(){return t=this,void 0,n=function(){var t,e,n,i,r,o,s,a,l,c=this;return function(t,e){var n,i,r,o,s={label:0,sent:function(){if(1&r[0])throw r[1];return r[1]},trys:[],ops:[]};return o={next:a(0),throw:a(1),return:a(2)},"function"==typeof Symbol&&(o[Symbol.iterator]=function(){return this}),o;function a(o){return function(a){return function(o){if(n)throw new TypeError("Generator is already executing.");for(;s;)try{if(n=1,i&&(r=2&o[0]?i.return:o[0]?i.throw||((r=i.return)&&r.call(i),0):i.next)&&!(r=r.call(i,o[1])).done)return r;switch(i=0,r&&(o=[2&o[0],r.value]),o[0]){case 0:case 1:r=o;break;case 4:return s.label++,{value:o[1],done:!1};case 5:s.label++,i=o[1],o=[0];continue;case 7:o=s.ops.pop(),s.trys.pop();continue;default:if(!((r=(r=s.trys).length>0&&r[r.length-1])||6!==o[0]&&2!==o[0])){s=0;continue}if(3===o[0]&&(!r||o[1]>r[0]&&o[1]<r[3])){s.label=o[1];break}if(6===o[0]&&s.label<r[1]){s.label=r[1],r=o;break}if(r&&s.label<r[2]){s.label=r[2],s.ops.push(o);break}r[2]&&s.ops.pop(),s.trys.pop();continue}o=e.call(t,s)}catch(a){o=[6,a],i=0}finally{n=r=0}if(5&o[0])throw o[1];return{value:o[0]?o[1]:void 0,done:!0}}([o,a])}}}(this,(function(u){switch(u.label){case 0:return 0==this._items.length?[2]:(t=this._items[0].parentContainer,e=this._items[0].parentGroupItem,n=this._items.map((function(t){return c.cloneItem(t)})),i=[],r=[],o=[],s=function(t,s){var a=c._items.findIndex((function(e){return e===t}));if(a>-1&&(i.push(s),r.push({item:n[a],index:s}),e instanceof IW)){var l=e.getItemOrderIndex(t);o.push({clone:n[a],orderIndex:l+1})}},e?e.items.toArray().forEach(s):t.items.toArray().forEach(s),a=Math.max.apply(Math,function(){for(var t=[],e=0;e<arguments.length;e++)t=t.concat(gQ(arguments[e]));return t}(i))+1,l=r.sort((function(t,e){return t.index-e.index})).reverse().map((function(t){return t.item})),e?(e instanceof IW?o.sort((function(t,e){return t.orderIndex-e.orderIndex})).reverse().forEach((function(t){return e.addItem(t.clone,null,t.orderIndex)})):e.addItems(l,a),[3,3]):[3,1]);case 1:return[4,this._commandManager.execute(VQ.addItems,{surface:t.parentComponent,targetContainer:t,items:l,selectOnCanvas:!0,index:a,ignoreOrderRules:null,ignoreCanvasRotate:!0,createCloneName:!0})];case 2:u.sent(),u.label=3;case 3:return[4,this._commandManager.execute(WQ.selectItems,{items:n})];case 4:return u.sent(),[2]}}))},new((e=void 0)||(e=Promise))((function(i,r){function o(t){try{a(n.next(t))}catch(e){r(e)}}function s(t){try{a(n.throw(t))}catch(e){r(e)}}function a(t){var n;t.done?i(t.value):(n=t.value,n instanceof e?n:new e((function(t){t(n)}))).then(o,s)}a((n=n.apply(t,[])).next())}));var t,e,n},e.prototype.cloneItem=function(t){var e=t.clone(!0),n=5,i=5,r=this._productHandler.contentAngle;r>0&&(90!==r&&180!==r||(i=-5),180!==r&&270!==r||(n=-5));var o=this._productHandler.regionForCurrentContainer,s=JZ.getItemBoundsForViolationCheck(this._productHandler.getHandler(t));s.left+=n,s.top+=i;var a=0,l=0;null==o||o.containsRectangle(s)||(a=(a=o.right-s.right)<0?a:0,l=(l=o.bottom-s.bottom)<0?l:0);var c=function(t){t.transform.move(n+a,i+l),t instanceof qW&&t.updateContentAndFrames(c),t instanceof RU&&t.applyToItems(c)};for(var u in c(e),e)-1!=u.indexOf("$$")&&delete e[u];return e},e.prototype.redo=function(){throw new qR},e.prototype.undo=function(){throw new qR},e}($Y),_Q=function(){return(_Q=Object.assign||function(t){for(var e,n=1,i=arguments.length;n<i;n++)for(var r in e=arguments[n])Object.prototype.hasOwnProperty.call(e,r)&&(t[r]=e[r]);return t}).apply(this,arguments)},vQ=function(){function t(t,e,n){var i=this;this._productHandler=t,this._canvas=e,this._eventManager=n,this.maskSymbol="%",this._eventManager.addItemAdded((function(t){return i.initVariableItem(t.item)}))}return t.prototype.initVariableItems=function(t){var e=this;t.getAllItems({ignoreMockups:!1,flatGroupItems:!0,excludeGroupItems:!0}).forEach((function(t){return e.initVariableItem(t)}))},t.prototype.setVariableValues=function(t,e){var n=this;0!==t.length&&t.forEach((function(t){n.setVariableValue(t,e)}))},t.prototype.setVariableValue=function(t,e,n){JZ.isVariableItem(t)&&this._setVariableValue(t,e),t instanceof qW&&!t.isEmptyContent&&JZ.isVariableItem(t.content)&&this._setVariableValue(t.content,e),n||JZ.updateItems([t],this._productHandler,this._canvas)},t.prototype.getVariableItemDisplayName=function(t){if(null!=t){var e=this.maskSymbol,n=new RegExp("^"+e+"|"+e+"$","gm");return t.replace(n,"")}},t.prototype._isCanBeVariable=function(t){return t.canSetIsVariable()},t.prototype.getRealItemName=function(t){return this._isCanBeVariable(t)&&t.isVariable?t.name.replace(new RegExp("^"+this.maskSymbol+"|"+this.maskSymbol+"$","gm"),""):t.name},t.prototype.createNewItemName=function(t,e){return this._isCanBeVariable(t)&&t.isVariable?""+this.maskSymbol+e+this.maskSymbol:e},t.prototype._setVariableValue=function(t,e){if(t.isVariable!==e){if(e)t.name=""+this.maskSymbol+t.name+this.maskSymbol;else{var n=new RegExp("^"+this.maskSymbol+"|"+this.maskSymbol+"$","gm");t.name=t.name.replace(n,"")}t.isVariable=e}},t.prototype.initVariableItem=function(t){var e=t instanceof qW&&!t.isEmptyContent?t.content:t;if(e instanceof qV){var n=this.maskSymbol,i=e.name;0===i.indexOf(n)&&i.lastIndexOf(n)===i.length-1&&(e.isVariable=!0)}},t.getVariablesFromItems=function(e){var n=[];return e.forEach((function(e){var i;e instanceof uU?i=t.getVariablesFromTextItem(e):e instanceof qW?i=t.getVariablesFromPlaceholderItem(e):e instanceof CU?i=t.getVariablesFromBarcodeItem(e):e instanceof fW?i=t.getVariablesFromImageItem(e):e instanceof JU?i=t.getVariablesFromEllipseItem(e):e instanceof $V?i=t.getVariablesFromRectangleItem(e):e instanceof UV?i=t.getVariablesFromShapeItem(e):e instanceof RU&&(i=t.getVariablesFromGroupItem(e)),pX.isEmpty(null!=i?pX.without(i,null):null)||i.forEach((function(t){null==n.find((function(e){return e.name==t.name&&e.type==t.type}))&&n.push(t)}))})),n},t.getVariablesFromGroupItem=function(t){return this.getVariablesFromItems(t.getNestedItems(!0))},t.getVariablesFromShapeItem=function(t){return null},t.getVariablesFromEllipseItem=function(t){return null},t.getVariablesFromRectangleItem=function(t){return null},t.getVariablesFromImageItem=function(t){return t.isVariable?[{name:t.name,type:"Image",value:null}]:null},t.getVariablesFromPlaceholderItem=function(t){return t.isVariable?t instanceof qW&&t.isBarcodePlaceholder?[_Q(_Q({},this.getVariablesFromBarcodeItem(t.content,!0)[0]),{name:t.name,type:"BarcodePlaceholder"})]:[{name:t.name,type:"ImagePlaceholder",value:null}]:null},t.getVariablesFromBarcodeItem=function(t,e){return void 0===e&&(e=!1),e||t.isVariable?[{name:t.name,type:"Barcode",barcodeFormat:t.barcodeFormat,barcodeSubType:t.barcodeSubType,value:t.barcodeContent}]:null},t.getVariablesFromTextItem=function(e){var n=[];if(t.isInStringPlacehodler(e))return e.placeholders.forEach((function(t){n.push({name:t.name,type:"InString",value:null!=t.value&&""!==t.value?t.value:t.name})})),n;var i=t.getInterpolationVariables(e);return pX.isEmpty(i)?e.isVariable?[{name:e.name,type:"Text",value:e.text}]:null:i},t.getInterpolationVariables=function(e){var n=[];if(t.isInStringPlacehodler(e))return n;for(var i,r=DB(e.text)?(i=e.text,(new DOMParser).parseFromString("<span>"+i+"</span>","application/xml").querySelector("span").textContent):e.text,o=/\{\{(.+?)\}\}/g,s=o.exec(r);null!=s;)n.push({name:s[1],type:"InString",value:s[1],values:[],mask:null}),s=o.exec(r);return n},t.isInStringPlacehodler=function(t){return t instanceof uU&&t.placeholders.length>0},t}(),bQ=function(){function t(){}return t.prototype.convert=function(t){var e=this._replaceInterpolationStrings(t);return!e.isEmpty&&(t.originalText=e.inStringText,t.text=e.inStringText,t.placeholders.addRange(t.placeholders.concat(e.placeholders)),!0)},t.prototype._replaceInterpolationStrings=function(t){var e,n,i=vQ.getInterpolationVariables(t),r=new wQ;if(pX.isEmpty(i))return r;var o=t.text;try{for(var s=function(t){var e="function"==typeof Symbol&&Symbol.iterator,n=e&&t[e],i=0;if(n)return n.call(t);if(t&&"number"==typeof t.length)return{next:function(){return t&&i>=t.length&&(t=void 0),{value:t&&t[i++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")}(i),a=s.next();!a.done;a=s.next()){var l=a.value,c="[#"+l.name+"]",u="{{"+l.name+"}}";o=DB(t.text)?CQ(o,u,c):o.replace(u,c);var h=new xW(c,l.name,l.mask,l.name,l.values);r.placeholders.push(h)}}catch(d){e={error:d}}finally{try{a&&!a.done&&(n=s.return)&&n.call(s)}finally{if(e)throw e.error}}return r.inStringText=o,r},t}(),wQ=function(){function t(){this.placeholders=[]}return Object.defineProperty(t.prototype,"isEmpty",{get:function(){return pX.isEmpty(this.placeholders)},enumerable:!0,configurable:!0}),t}();function CQ(t,e,n){var i=(new DOMParser).parseFromString("<body>"+t+"</body>","text/xml").getElementsByTagName("body")[0];if(!i.textContent.includes(e))return t;for(var r=i,o=null;r!==o;){if(!(r=pX.find(r.childNodes,(function(t){return t.textContent.includes(e)}))))return t;pX.isEmpty(r.childNodes)&&(o=r)}return o.textContent=o.textContent.replace(e,n),i.innerHTML}var xQ,EQ,SQ=function(){var t=function(e,n){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(e,n)};return function(e,n){function i(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(i.prototype=n.prototype,new i)}}(),PQ=function(t){function e(e,n,i,r){var o=t.call(this,i,n)||this;return o._productHandler=e,o._canvas=r,o}return SQ(e,t),e.prototype._executeCommandBody=function(){return t=this,void 0,n=function(){return function(t,e){var n,i,r,o,s={label:0,sent:function(){if(1&r[0])throw r[1];return r[1]},trys:[],ops:[]};return o={next:a(0),throw:a(1),return:a(2)},"function"==typeof Symbol&&(o[Symbol.iterator]=function(){return this}),o;function a(o){return function(a){return function(o){if(n)throw new TypeError("Generator is already executing.");for(;s;)try{if(n=1,i&&(r=2&o[0]?i.return:o[0]?i.throw||((r=i.return)&&r.call(i),0):i.next)&&!(r=r.call(i,o[1])).done)return r;switch(i=0,r&&(o=[2&o[0],r.value]),o[0]){case 0:case 1:r=o;break;case 4:return s.label++,{value:o[1],done:!1};case 5:s.label++,i=o[1],o=[0];continue;case 7:o=s.ops.pop(),s.trys.pop();continue;default:if(!((r=(r=s.trys).length>0&&r[r.length-1])||6!==o[0]&&2!==o[0])){s=0;continue}if(3===o[0]&&(!r||o[1]>r[0]&&o[1]<r[3])){s.label=o[1];break}if(6===o[0]&&s.label<r[1]){s.label=r[1],r=o;break}if(r&&s.label<r[2]){s.label=r[2],s.ops.push(o);break}r[2]&&s.ops.pop(),s.trys.pop();continue}o=e.call(t,s)}catch(a){o=[6,a],i=0}finally{n=r=0}if(5&o[0])throw o[1];return{value:o[0]?o[1]:void 0,done:!0}}([o,a])}}}(this,(function(t){return this.replaceInterpolationPlaceholders(),[2]}))},new((e=void 0)||(e=Promise))((function(i,r){function o(t){try{a(n.next(t))}catch(e){r(e)}}function s(t){try{a(n.throw(t))}catch(e){r(e)}}function a(t){var n;t.done?i(t.value):(n=t.value,n instanceof e?n:new e((function(t){t(n)}))).then(o,s)}a((n=n.apply(t,[])).next())}));var t,e,n},e.prototype.replaceInterpolationPlaceholders=function(){var t=pX.filter(this._product.getAllItems({ignoreMockups:!1,flatGroupItems:!0}),(function(t){return t instanceof uU})),e=new bQ,n=[];return t.forEach((function(t){e.convert(t)&&n.push(t)})),n.length>0&&JZ.updateItems(n,this._productHandler,this._canvas),n},e.prototype.redo=function(){throw new qR},e.prototype.undo=function(){throw new qR},e}(RY),OQ=function(){var t=function(e,n){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(e,n)};return function(e,n){function i(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(i.prototype=n.prototype,new i)}}(),kQ=function(t){function e(e,n,i,r,o){var s=t.call(this,n,e,i)||this;return s._productThemeManager=r,s._commandManager=o,s}return OQ(e,t),e.prototype._executeCommandBody=function(){return t=this,void 0,n=function(){return function(t,e){var n,i,r,o,s={label:0,sent:function(){if(1&r[0])throw r[1];return r[1]},trys:[],ops:[]};return o={next:a(0),throw:a(1),return:a(2)},"function"==typeof Symbol&&(o[Symbol.iterator]=function(){return this}),o;function a(o){return function(a){return function(o){if(n)throw new TypeError("Generator is already executing.");for(;s;)try{if(n=1,i&&(r=2&o[0]?i.return:o[0]?i.throw||((r=i.return)&&r.call(i),0):i.next)&&!(r=r.call(i,o[1])).done)return r;switch(i=0,r&&(o=[2&o[0],r.value]),o[0]){case 0:case 1:r=o;break;case 4:return s.label++,{value:o[1],done:!1};case 5:s.label++,i=o[1],o=[0];continue;case 7:o=s.ops.pop(),s.trys.pop();continue;default:if(!((r=(r=s.trys).length>0&&r[r.length-1])||6!==o[0]&&2!==o[0])){s=0;continue}if(3===o[0]&&(!r||o[1]>r[0]&&o[1]<r[3])){s.label=o[1];break}if(6===o[0]&&s.label<r[1]){s.label=r[1],r=o;break}if(r&&s.label<r[2]){s.label=r[2],s.ops.push(o);break}r[2]&&s.ops.pop(),s.trys.pop();continue}o=e.call(t,s)}catch(a){o=[6,a],i=0}finally{n=r=0}if(5&o[0])throw o[1];return{value:o[0]?o[1]:void 0,done:!0}}([o,a])}}}(this,(function(t){return[2,this._productThemeManager.applyProductTheme(this._args.theme,this._product,this._commandManager)]}))},new((e=void 0)||(e=Promise))((function(i,r){function o(t){try{a(n.next(t))}catch(e){r(e)}}function s(t){try{a(n.throw(t))}catch(e){r(e)}}function a(t){var n;t.done?i(t.value):(n=t.value,n instanceof e?n:new e((function(t){t(n)}))).then(o,s)}a((n=n.apply(t,[])).next())}));var t,e,n},e.prototype.redo=function(){throw new qR},e.prototype.undo=function(){throw new qR},e}(RY),TQ=function(){var t=function(e,n){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(e,n)};return function(e,n){function i(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(i.prototype=n.prototype,new i)}}(),IQ=function(t){function e(e,n,i,r,o){var s=t.call(this,[i.placeholder],n,i)||this;return s._productHandler=e,s._productThemeManager=r,s._eventManager=o,s}return TQ(e,t),e.prototype._executeCommandBody=function(){return t=this,void 0,n=function(){var t,e,n,i,r;return function(t,e){var n,i,r,o,s={label:0,sent:function(){if(1&r[0])throw r[1];return r[1]},trys:[],ops:[]};return o={next:a(0),throw:a(1),return:a(2)},"function"==typeof Symbol&&(o[Symbol.iterator]=function(){return this}),o;function a(o){return function(a){return function(o){if(n)throw new TypeError("Generator is already executing.");for(;s;)try{if(n=1,i&&(r=2&o[0]?i.return:o[0]?i.throw||((r=i.return)&&r.call(i),0):i.next)&&!(r=r.call(i,o[1])).done)return r;switch(i=0,r&&(o=[2&o[0],r.value]),o[0]){case 0:case 1:r=o;break;case 4:return s.label++,{value:o[1],done:!1};case 5:s.label++,i=o[1],o=[0];continue;case 7:o=s.ops.pop(),s.trys.pop();continue;default:if(!((r=(r=s.trys).length>0&&r[r.length-1])||6!==o[0]&&2!==o[0])){s=0;continue}if(3===o[0]&&(!r||o[1]>r[0]&&o[1]<r[3])){s.label=o[1];break}if(6===o[0]&&s.label<r[1]){s.label=r[1],r=o;break}if(r&&s.label<r[2]){s.label=r[2],s.ops.push(o);break}r[2]&&s.ops.pop(),s.trys.pop();continue}o=e.call(t,s)}catch(a){o=[6,a],i=0}finally{n=r=0}if(5&o[0])throw o[1];return{value:o[0]?o[1]:void 0,done:!0}}([o,a])}}}(this,(function(o){return t=this._args.content,n=this._productHandler.getHandler(e=this._args.placeholder),null!=t?(i=this._productHandler.getHandler(t),e.content=t,r=this._productThemeManager.currentProductTheme,e.contentPermissions.imagePermissions.allowKeepOverlayColor||null!=e.contentOverlayEffect?null!=r&&this._productThemeManager.applyToItem(e,r):e.imageContent.overlayEffect=null,n.content=i,e.content.getItemChangedEvent().fire()):(e.content=null,n.content=null,e.itemPermissions.itemToolbarPermissions.showEditButton=!0),this._eventManager.imageContentChangedEvent.fire(e),[2]}))},new((e=void 0)||(e=Promise))((function(i,r){function o(t){try{a(n.next(t))}catch(e){r(e)}}function s(t){try{a(n.throw(t))}catch(e){r(e)}}function a(t){var n;t.done?i(t.value):(n=t.value,n instanceof e?n:new e((function(t){t(n)}))).then(o,s)}a((n=n.apply(t,[])).next())}));var t,e,n},e.prototype.redo=function(){throw new qR},e.prototype.undo=function(){throw new qR},e}($Y),AQ=function(){var t=function(e,n){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(e,n)};return function(e,n){function i(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(i.prototype=n.prototype,new i)}}(),MQ=function(t){function e(e,n,i,r){var o=t.call(this,i.items,n,i)||this;return o._productHandler=e,o._canvas=r,o}return AQ(e,t),e.prototype._executeCommandBody=function(){return t=this,void 0,n=function(){var t;return function(t,e){var n,i,r,o,s={label:0,sent:function(){if(1&r[0])throw r[1];return r[1]},trys:[],ops:[]};return o={next:a(0),throw:a(1),return:a(2)},"function"==typeof Symbol&&(o[Symbol.iterator]=function(){return this}),o;function a(o){return function(a){return function(o){if(n)throw new TypeError("Generator is already executing.");for(;s;)try{if(n=1,i&&(r=2&o[0]?i.return:o[0]?i.throw||((r=i.return)&&r.call(i),0):i.next)&&!(r=r.call(i,o[1])).done)return r;switch(i=0,r&&(o=[2&o[0],r.value]),o[0]){case 0:case 1:r=o;break;case 4:return s.label++,{value:o[1],done:!1};case 5:s.label++,i=o[1],o=[0];continue;case 7:o=s.ops.pop(),s.trys.pop();continue;default:if(!((r=(r=s.trys).length>0&&r[r.length-1])||6!==o[0]&&2!==o[0])){s=0;continue}if(3===o[0]&&(!r||o[1]>r[0]&&o[1]<r[3])){s.label=o[1];break}if(6===o[0]&&s.label<r[1]){s.label=r[1],r=o;break}if(r&&s.label<r[2]){s.label=r[2],s.ops.push(o);break}r[2]&&s.ops.pop(),s.trys.pop();continue}o=e.call(t,s)}catch(a){o=[6,a],i=0}finally{n=r=0}if(5&o[0])throw o[1];return{value:o[0]?o[1]:void 0,done:!0}}([o,a])}}}(this,(function(e){if(0===this._items.length)return[2];for(t=0;t<this._items.length;t++)this.alignItem(this._items[t],this._args.align);return this._canvas.updateTexts(),[2]}))},new((e=void 0)||(e=Promise))((function(i,r){function o(t){try{a(n.next(t))}catch(e){r(e)}}function s(t){try{a(n.throw(t))}catch(e){r(e)}}function a(t){var n;t.done?i(t.value):(n=t.value,n instanceof e?n:new e((function(t){t(n)}))).then(o,s)}a((n=n.apply(t,[])).next())}));var t,e,n},e.prototype.alignItem=function(t,e){var n=t.locked?null:this._productHandler.getHandler(t);null!=n&&n instanceof AX&&this._canvas.alignItemHandler(n,e)},e.prototype.redo=function(){throw new qR},e.prototype.undo=function(){throw new qR},e}($Y),DQ=function(){var t=function(e,n){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(e,n)};return function(e,n){function i(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(i.prototype=n.prototype,new i)}}(),RQ=function(t){function e(e,n,i){var r=t.call(this,null,e,n)||this;return r._canvas=i,r}return DQ(e,t),e.prototype._executeCommandBody=function(){return t=this,void 0,n=function(){return function(t,e){var n,i,r,o,s={label:0,sent:function(){if(1&r[0])throw r[1];return r[1]},trys:[],ops:[]};return o={next:a(0),throw:a(1),return:a(2)},"function"==typeof Symbol&&(o[Symbol.iterator]=function(){return this}),o;function a(o){return function(a){return function(o){if(n)throw new TypeError("Generator is already executing.");for(;s;)try{if(n=1,i&&(r=2&o[0]?i.return:o[0]?i.throw||((r=i.return)&&r.call(i),0):i.next)&&!(r=r.call(i,o[1])).done)return r;switch(i=0,r&&(o=[2&o[0],r.value]),o[0]){case 0:case 1:r=o;break;case 4:return s.label++,{value:o[1],done:!1};case 5:s.label++,i=o[1],o=[0];continue;case 7:o=s.ops.pop(),s.trys.pop();continue;default:if(!((r=(r=s.trys).length>0&&r[r.length-1])||6!==o[0]&&2!==o[0])){s=0;continue}if(3===o[0]&&(!r||o[1]>r[0]&&o[1]<r[3])){s.label=o[1];break}if(6===o[0]&&s.label<r[1]){s.label=r[1],r=o;break}if(r&&s.label<r[2]){s.label=r[2],s.ops.push(o);break}r[2]&&s.ops.pop(),s.trys.pop();continue}o=e.call(t,s)}catch(a){o=[6,a],i=0}finally{n=r=0}if(5&o[0])throw o[1];return{value:o[0]?o[1]:void 0,done:!0}}([o,a])}}}(this,(function(t){return this._canvas.alignItemHandlers(this._args.align),[2]}))},new((e=void 0)||(e=Promise))((function(i,r){function o(t){try{a(n.next(t))}catch(e){r(e)}}function s(t){try{a(n.throw(t))}catch(e){r(e)}}function a(t){var n;t.done?i(t.value):(n=t.value,n instanceof e?n:new e((function(t){t(n)}))).then(o,s)}a((n=n.apply(t,[])).next())}));var t,e,n},e.prototype.redo=function(){throw new qR},e.prototype.undo=function(){throw new qR},e}($Y),FQ=function(){var t=function(e,n){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(e,n)};return function(e,n){function i(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(i.prototype=n.prototype,new i)}}(),LQ=function(t){function e(e,n,i,r,o){var s=t.call(this,i.items,n,i)||this;return s._productHandler=e,s._commandManager=r,s._canvas=o,s}return FQ(e,t),e.prototype._executeCommandBody=function(){return t=this,void 0,n=function(){return function(t,e){var n,i,r,o,s={label:0,sent:function(){if(1&r[0])throw r[1];return r[1]},trys:[],ops:[]};return o={next:a(0),throw:a(1),return:a(2)},"function"==typeof Symbol&&(o[Symbol.iterator]=function(){return this}),o;function a(o){return function(a){return function(o){if(n)throw new TypeError("Generator is already executing.");for(;s;)try{if(n=1,i&&(r=2&o[0]?i.return:o[0]?i.throw||((r=i.return)&&r.call(i),0):i.next)&&!(r=r.call(i,o[1])).done)return r;switch(i=0,r&&(o=[2&o[0],r.value]),o[0]){case 0:case 1:r=o;break;case 4:return s.label++,{value:o[1],done:!1};case 5:s.label++,i=o[1],o=[0];continue;case 7:o=s.ops.pop(),s.trys.pop();continue;default:if(!((r=(r=s.trys).length>0&&r[r.length-1])||6!==o[0]&&2!==o[0])){s=0;continue}if(3===o[0]&&(!r||o[1]>r[0]&&o[1]<r[3])){s.label=o[1];break}if(6===o[0]&&s.label<r[1]){s.label=r[1],r=o;break}if(r&&s.label<r[2]){s.label=r[2],s.ops.push(o);break}r[2]&&s.ops.pop(),s.trys.pop();continue}o=e.call(t,s)}catch(a){o=[6,a],i=0}finally{n=r=0}if(5&o[0])throw o[1];return{value:o[0]?o[1]:void 0,done:!0}}([o,a])}}}(this,(function(t){return[2,this.bringItems(this._items,this._args.position)]}))},new((e=void 0)||(e=Promise))((function(i,r){function o(t){try{a(n.next(t))}catch(e){r(e)}}function s(t){try{a(n.throw(t))}catch(e){r(e)}}function a(t){var n;t.done?i(t.value):(n=t.value,n instanceof e?n:new e((function(t){t(n)}))).then(o,s)}a((n=n.apply(t,[])).next())}));var t,e,n},e.prototype.bringItems=function(t,e){var n=this;if(0!==t.length){var i=this._productHandler.currentSurface;"front"===e||"levelUp"===e?i.containers.reverse().forEach((function(i){return i.items.reverse().forEach((function(i){i instanceof IV&&pX.contains(t,i)&&n.bringItem(i,e,!1)}))})):"bottom"!==e&&"levelDown"!==e||i.containers.forEach((function(i){return i.items.forEach((function(i){i instanceof IV&&pX.contains(t,i)&&n.bringItem(i,e,!1)}))}));var r=t.map((function(t){return n._productHandler.getHandler(t)}));this._canvas.setSelectedItemHandlers(r),this._canvas.updateTexts()}},e.prototype.bringItem=function(t,e,n){if(null==n&&(n=!0),t.itemPermissions.allowZOrderChange){var i=t.parentContainer.items.toArray(),r=pX.indexOf(i,t),o=i.length-1,s=r;if(r>=0)switch(e){case"front":s=o;break;case"levelUp":s=Math.min(r+1,o);break;case"levelDown":s=Math.max(r-1,0);break;case"bottom":s=0}this._commandManager.execute(UQ.moveItem,{item:t,newIndex:s,needUpdate:n})}},e.prototype.redo=function(){throw new qR},e.prototype.undo=function(){throw new qR},e}($Y),BQ=function(){var t=function(e,n){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(e,n)};return function(e,n){function i(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(i.prototype=n.prototype,new i)}}(),NQ=function(t){function e(e,n,i){var r=t.call(this,[i.item],n,i)||this;return r._productHandler=e,r}return BQ(e,t),e.prototype._executeCommandBody=function(){return t=this,void 0,n=function(){return function(t,e){var n,i,r,o,s={label:0,sent:function(){if(1&r[0])throw r[1];return r[1]},trys:[],ops:[]};return o={next:a(0),throw:a(1),return:a(2)},"function"==typeof Symbol&&(o[Symbol.iterator]=function(){return this}),o;function a(o){return function(a){return function(o){if(n)throw new TypeError("Generator is already executing.");for(;s;)try{if(n=1,i&&(r=2&o[0]?i.return:o[0]?i.throw||((r=i.return)&&r.call(i),0):i.next)&&!(r=r.call(i,o[1])).done)return r;switch(i=0,r&&(o=[2&o[0],r.value]),o[0]){case 0:case 1:r=o;break;case 4:return s.label++,{value:o[1],done:!1};case 5:s.label++,i=o[1],o=[0];continue;case 7:o=s.ops.pop(),s.trys.pop();continue;default:if(!((r=(r=s.trys).length>0&&r[r.length-1])||6!==o[0]&&2!==o[0])){s=0;continue}if(3===o[0]&&(!r||o[1]>r[0]&&o[1]<r[3])){s.label=o[1];break}if(6===o[0]&&s.label<r[1]){s.label=r[1],r=o;break}if(r&&s.label<r[2]){s.label=r[2],s.ops.push(o);break}r[2]&&s.ops.pop(),s.trys.pop();continue}o=e.call(t,s)}catch(a){o=[6,a],i=0}finally{n=r=0}if(5&o[0])throw o[1];return{value:o[0]?o[1]:void 0,done:!0}}([o,a])}}}(this,(function(t){return[2,this.moveTo(this._args.item,this._args.newIndex,this._args.needUpdate)]}))},new((e=void 0)||(e=Promise))((function(i,r){function o(t){try{a(n.next(t))}catch(e){r(e)}}function s(t){try{a(n.throw(t))}catch(e){r(e)}}function a(t){var n;t.done?i(t.value):(n=t.value,n instanceof e?n:new e((function(t){t(n)}))).then(o,s)}a((n=n.apply(t,[])).next())}));var t,e,n},e.prototype.moveTo=function(t,e,n){null==n&&(n=!0);var i=null!=t?t.parentContainer:null;if(null!=i){var r=i.items.toArray(),o=Math.max(r.length-1,0),s=pX.indexOf(r,t);e=Math.min(Math.max(e,0),o),s=Math.min(Math.max(s,0),o);var a=this._getMoveRange(r,s);if(null==a)return;if(e<a[0]?e=a[0]:e>a[1]&&(e=a[1]),s===e)return;i.items.move(s,e),this._productHandler.redraw()}},e.prototype._getMoveRange=function(t,e){if(e<0)return null;if(null==t)return null;if(e>=t.length)return null;for(var n=e,i=e,r=e-1;r>=0&&t[r].itemPermissions.allowZOrderChange;r--)n=r;for(r=e+1;r<t.length&&t[r].itemPermissions.allowZOrderChange;r++)i=r;return[n,i]},e.prototype.redo=function(){throw new qR},e.prototype.undo=function(){throw new qR},e}($Y),jQ=function(){var t=function(e,n){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(e,n)};return function(e,n){function i(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(i.prototype=n.prototype,new i)}}(),zQ=function(t){function e(e,n,i){var r=t.call(this,[],n,i)||this;return r._itemsDataApplier=e,r}return jQ(e,t),e.prototype._executeCommandBody=function(){return t=this,void 0,n=function(){var t;return function(t,e){var n,i,r,o,s={label:0,sent:function(){if(1&r[0])throw r[1];return r[1]},trys:[],ops:[]};return o={next:a(0),throw:a(1),return:a(2)},"function"==typeof Symbol&&(o[Symbol.iterator]=function(){return this}),o;function a(o){return function(a){return function(o){if(n)throw new TypeError("Generator is already executing.");for(;s;)try{if(n=1,i&&(r=2&o[0]?i.return:o[0]?i.throw||((r=i.return)&&r.call(i),0):i.next)&&!(r=r.call(i,o[1])).done)return r;switch(i=0,r&&(o=[2&o[0],r.value]),o[0]){case 0:case 1:r=o;break;case 4:return s.label++,{value:o[1],done:!1};case 5:s.label++,i=o[1],o=[0];continue;case 7:o=s.ops.pop(),s.trys.pop();continue;default:if(!((r=(r=s.trys).length>0&&r[r.length-1])||6!==o[0]&&2!==o[0])){s=0;continue}if(3===o[0]&&(!r||o[1]>r[0]&&o[1]<r[3])){s.label=o[1];break}if(6===o[0]&&s.label<r[1]){s.label=r[1],r=o;break}if(r&&s.label<r[2]){s.label=r[2],s.ops.push(o);break}r[2]&&s.ops.pop(),s.trys.pop();continue}o=e.call(t,s)}catch(a){o=[6,a],i=0}finally{n=r=0}if(5&o[0])throw o[1];return{value:o[0]?o[1]:void 0,done:!0}}([o,a])}}}(this,(function(e){switch(e.label){case 0:switch(this._args.type){case xQ.AutoScaledTextItem:t=new fU;break;case xQ.BarcodeItem:t=new CU;break;case xQ.BoundedTextItem:t=new kU;break;case xQ.CurvedTextItem:t=new GU;break;case xQ.EllipseItem:t=new JU;break;case xQ.ImageItem:t=new fW;break;case xQ.LineItem:t=new KU;break;case xQ.PathBoundedTextItem:t=new NW;break;case xQ.PlaceholderItem:t=new qW;break;case xQ.PlainTextItem:t=new KW;break;case xQ.RectangleItem:t=new $V;break;case xQ.ArchedTextItem:t=new JW;break;case xQ.ShapeItem:t=new UV}return null==this._args.itemData?[2,t]:[4,this._itemsDataApplier.applyToItem(t,this._args.itemData,{changePosition:!0,relativeToPrintArea:null==this._args.relativeToPrintArea||this._args.relativeToPrintArea})];case 1:return e.sent(),[2,t]}}))},new((e=void 0)||(e=Promise))((function(i,r){function o(t){try{a(n.next(t))}catch(e){r(e)}}function s(t){try{a(n.throw(t))}catch(e){r(e)}}function a(t){var n;t.done?i(t.value):(n=t.value,n instanceof e?n:new e((function(t){t(n)}))).then(o,s)}a((n=n.apply(t,[])).next())}));var t,e,n},e.prototype.redo=function(){throw new qR},e.prototype.undo=function(){throw new qR},e}($Y);(EQ=xQ||(xQ={})).isText=function(t){return[EQ.AutoScaledTextItem,EQ.BoundedTextItem,EQ.CurvedTextItem,EQ.PathBoundedTextItem,EQ.PlainTextItem,EQ.ArchedTextItem].includes(t)},EQ.getType=function(t){if(t instanceof fU)return EQ.AutoScaledTextItem;if(t instanceof CU)return EQ.BarcodeItem;if(t instanceof kU)return EQ.BoundedTextItem;if(t instanceof GU)return EQ.CurvedTextItem;if(t instanceof JU)return EQ.EllipseItem;if(t instanceof fW)return EQ.ImageItem;if(t instanceof KU)return EQ.LineItem;if(t instanceof NW)return EQ.PathBoundedTextItem;if(t instanceof qW)return EQ.PlaceholderItem;if(t instanceof KW)return EQ.PlainTextItem;if(t instanceof JW)return EQ.ArchedTextItem;if(t instanceof $V)return EQ.RectangleItem;if(t instanceof UV)return EQ.ShapeItem;if(t instanceof IW)return EQ.LayoutItem;if(t instanceof jU)return EQ.ClipartItem;if(t instanceof RU)return EQ.GroupItem;throw new XR("ItemType: Unexpected item!")},function(t){t[t.AutoScaledTextItem=0]="AutoScaledTextItem",t[t.BarcodeItem=1]="BarcodeItem",t[t.BoundedTextItem=2]="BoundedTextItem",t[t.CurvedTextItem=3]="CurvedTextItem",t[t.EllipseItem=4]="EllipseItem",t[t.ImageItem=5]="ImageItem",t[t.LineItem=6]="LineItem",t[t.PathBoundedTextItem=7]="PathBoundedTextItem",t[t.PlaceholderItem=8]="PlaceholderItem",t[t.PlainTextItem=9]="PlainTextItem",t[t.RectangleItem=10]="RectangleItem",t[t.ArchedTextItem=11]="ArchedTextItem",t[t.ShapeItem=12]="ShapeItem",t[t.GroupItem=13]="GroupItem",t[t.LayoutItem=14]="LayoutItem",t[t.ClipartItem=15]="ClipartItem"}(xQ||(xQ={}));var HQ,VQ,UQ,WQ,$Q=function(){var t=function(e,n){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(e,n)};return function(e,n){function i(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(i.prototype=n.prototype,new i)}}(),GQ=function(t){function e(e,n,i,r){var o=t.call(this,[],i,r)||this;return o._itemsDataApplier=e,o._productHandler=n,o}return $Q(e,t),e.prototype._executeCommandBody=function(){return t=this,void 0,n=function(){var t,e,n,i=this;return function(t,e){var n,i,r,o,s={label:0,sent:function(){if(1&r[0])throw r[1];return r[1]},trys:[],ops:[]};return o={next:a(0),throw:a(1),return:a(2)},"function"==typeof Symbol&&(o[Symbol.iterator]=function(){return this}),o;function a(o){return function(a){return function(o){if(n)throw new TypeError("Generator is already executing.");for(;s;)try{if(n=1,i&&(r=2&o[0]?i.return:o[0]?i.throw||((r=i.return)&&r.call(i),0):i.next)&&!(r=r.call(i,o[1])).done)return r;switch(i=0,r&&(o=[2&o[0],r.value]),o[0]){case 0:case 1:r=o;break;case 4:return s.label++,{value:o[1],done:!1};case 5:s.label++,i=o[1],o=[0];continue;case 7:o=s.ops.pop(),s.trys.pop();continue;default:if(!((r=(r=s.trys).length>0&&r[r.length-1])||6!==o[0]&&2!==o[0])){s=0;continue}if(3===o[0]&&(!r||o[1]>r[0]&&o[1]<r[3])){s.label=o[1];break}if(6===o[0]&&s.label<r[1]){s.label=r[1],r=o;break}if(r&&s.label<r[2]){s.label=r[2],s.ops.push(o);break}r[2]&&s.ops.pop(),s.trys.pop();continue}o=e.call(t,s)}catch(a){o=[6,a],i=0}finally{n=r=0}if(5&o[0])throw o[1];return{value:o[0]?o[1]:void 0,done:!0}}([o,a])}}}(this,(function(r){switch(r.label){case 0:t=!1,e=(null!=this._args.items?this._args.items:this._productHandler.selectedItems).filter((function(t){return t instanceof(i._args.type||Object)})),n=0,r.label=1;case 1:return n<e.length?[4,this._itemsDataApplier.applyToItem(e[n],this._args.itemData,this._args.applyParams)]:[3,4];case 2:t=r.sent()||t,r.label=3;case 3:return n++,[3,1];case 4:return this._productHandler.redraw(),[2]}}))},new((e=void 0)||(e=Promise))((function(i,r){function o(t){try{a(n.next(t))}catch(e){r(e)}}function s(t){try{a(n.throw(t))}catch(e){r(e)}}function a(t){var n;t.done?i(t.value):(n=t.value,n instanceof e?n:new e((function(t){t(n)}))).then(o,s)}a((n=n.apply(t,[])).next())}));var t,e,n},e.prototype.redo=function(){throw new qR},e.prototype.undo=function(){throw new qR},e}($Y),qQ=function(){var t=function(e,n){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(e,n)};return function(e,n){function i(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(i.prototype=n.prototype,new i)}}(),XQ=function(t){function e(e,n,i){var r=t.call(this,[],n,e)||this;return r._productHandler=i,r}return qQ(e,t),e.prototype._executeCommandBody=function(){return t=this,void 0,n=function(){var t,e=this;return function(t,e){var n,i,r,o,s={label:0,sent:function(){if(1&r[0])throw r[1];return r[1]},trys:[],ops:[]};return o={next:a(0),throw:a(1),return:a(2)},"function"==typeof Symbol&&(o[Symbol.iterator]=function(){return this}),o;function a(o){return function(a){return function(o){if(n)throw new TypeError("Generator is already executing.");for(;s;)try{if(n=1,i&&(r=2&o[0]?i.return:o[0]?i.throw||((r=i.return)&&r.call(i),0):i.next)&&!(r=r.call(i,o[1])).done)return r;switch(i=0,r&&(o=[2&o[0],r.value]),o[0]){case 0:case 1:r=o;break;case 4:return s.label++,{value:o[1],done:!1};case 5:s.label++,i=o[1],o=[0];continue;case 7:o=s.ops.pop(),s.trys.pop();continue;default:if(!((r=(r=s.trys).length>0&&r[r.length-1])||6!==o[0]&&2!==o[0])){s=0;continue}if(3===o[0]&&(!r||o[1]>r[0]&&o[1]<r[3])){s.label=o[1];break}if(6===o[0]&&s.label<r[1]){s.label=r[1],r=o;break}if(r&&s.label<r[2]){s.label=r[2],s.ops.push(o);break}r[2]&&s.ops.pop(),s.trys.pop();continue}o=e.call(t,s)}catch(a){o=[6,a],i=0}finally{n=r=0}if(5&o[0])throw o[1];return{value:o[0]?o[1]:void 0,done:!0}}([o,a])}}}(this,(function(n){return t=this._args.scale,(null!=this._args.items?this._args.items:this._productHandler.selectedItems).forEach((function(n){if(n instanceof qW){var i=e._productHandler.getHandler(n);i.forceQualityChangeInfoBar=null!=e._args.forceQualityChangeInfoBar&&e._args.forceQualityChangeInfoBar,GK(i.getContentScale(),t)||i.setContentScale(t),e._historyArgs.historyUpdateMode!==kY.NotUpdate&&i.quickUpdate()}})),this._productHandler.updateSelection(),this._productHandler.redraw(),[2]}))},new((e=void 0)||(e=Promise))((function(i,r){function o(t){try{a(n.next(t))}catch(e){r(e)}}function s(t){try{a(n.throw(t))}catch(e){r(e)}}function a(t){var n;t.done?i(t.value):(n=t.value,n instanceof e?n:new e((function(t){t(n)}))).then(o,s)}a((n=n.apply(t,[])).next())}));var t,e,n},e.prototype.redo=function(){throw new qR},e.prototype.undo=function(){throw new qR},e}($Y),KQ=function(){var t=function(e,n){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(e,n)};return function(e,n){function i(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(i.prototype=n.prototype,new i)}}(),YQ=function(t){function e(e,n,i){var r=t.call(this,[],n,e)||this;return r._productHandler=i,r}return KQ(e,t),e.prototype._executeCommandBody=function(){return t=this,void 0,n=function(){var t=this;return function(t,e){var n,i,r,o,s={label:0,sent:function(){if(1&r[0])throw r[1];return r[1]},trys:[],ops:[]};return o={next:a(0),throw:a(1),return:a(2)},"function"==typeof Symbol&&(o[Symbol.iterator]=function(){return this}),o;function a(o){return function(a){return function(o){if(n)throw new TypeError("Generator is already executing.");for(;s;)try{if(n=1,i&&(r=2&o[0]?i.return:o[0]?i.throw||((r=i.return)&&r.call(i),0):i.next)&&!(r=r.call(i,o[1])).done)return r;switch(i=0,r&&(o=[2&o[0],r.value]),o[0]){case 0:case 1:r=o;break;case 4:return s.label++,{value:o[1],done:!1};case 5:s.label++,i=o[1],o=[0];continue;case 7:o=s.ops.pop(),s.trys.pop();continue;default:if(!((r=(r=s.trys).length>0&&r[r.length-1])||6!==o[0]&&2!==o[0])){s=0;continue}if(3===o[0]&&(!r||o[1]>r[0]&&o[1]<r[3])){s.label=o[1];break}if(6===o[0]&&s.label<r[1]){s.label=r[1],r=o;break}if(r&&s.label<r[2]){s.label=r[2],s.ops.push(o);break}r[2]&&s.ops.pop(),s.trys.pop();continue}o=e.call(t,s)}catch(a){o=[6,a],i=0}finally{n=r=0}if(5&o[0])throw o[1];return{value:o[0]?o[1]:void 0,done:!0}}([o,a])}}}(this,(function(e){return(null!=this._args&&null!=this._args.items?this._args.items:this._productHandler.selectedItems).forEach((function(e){e instanceof qW&&t._productHandler.getHandler(e).resetContent()})),[2]}))},new((e=void 0)||(e=Promise))((function(i,r){function o(t){try{a(n.next(t))}catch(e){r(e)}}function s(t){try{a(n.throw(t))}catch(e){r(e)}}function a(t){var n;t.done?i(t.value):(n=t.value,n instanceof e?n:new e((function(t){t(n)}))).then(o,s)}a((n=n.apply(t,[])).next())}));var t,e,n},e.prototype.redo=function(){throw new qR},e.prototype.undo=function(){throw new qR},e}($Y),QQ=function(){var t=function(e,n){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(e,n)};return function(e,n){function i(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(i.prototype=n.prototype,new i)}}(),ZQ=function(t){function e(e,n,i){var r=t.call(this,[],n,e)||this;return r._productHandler=i,r}return QQ(e,t),e.prototype._executeCommandBody=function(){return t=this,void 0,n=function(){var t,e,n=this;return function(t,e){var n,i,r,o,s={label:0,sent:function(){if(1&r[0])throw r[1];return r[1]},trys:[],ops:[]};return o={next:a(0),throw:a(1),return:a(2)},"function"==typeof Symbol&&(o[Symbol.iterator]=function(){return this}),o;function a(o){return function(a){return function(o){if(n)throw new TypeError("Generator is already executing.");for(;s;)try{if(n=1,i&&(r=2&o[0]?i.return:o[0]?i.throw||((r=i.return)&&r.call(i),0):i.next)&&!(r=r.call(i,o[1])).done)return r;switch(i=0,r&&(o=[2&o[0],r.value]),o[0]){case 0:case 1:r=o;break;case 4:return s.label++,{value:o[1],done:!1};case 5:s.label++,i=o[1],o=[0];continue;case 7:o=s.ops.pop(),s.trys.pop();continue;default:if(!((r=(r=s.trys).length>0&&r[r.length-1])||6!==o[0]&&2!==o[0])){s=0;continue}if(3===o[0]&&(!r||o[1]>r[0]&&o[1]<r[3])){s.label=o[1];break}if(6===o[0]&&s.label<r[1]){s.label=r[1],r=o;break}if(r&&s.label<r[2]){s.label=r[2],s.ops.push(o);break}r[2]&&s.ops.pop(),s.trys.pop();continue}o=e.call(t,s)}catch(a){o=[6,a],i=0}finally{n=r=0}if(5&o[0])throw o[1];return{value:o[0]?o[1]:void 0,done:!0}}([o,a])}}}(this,(function(i){return null==this._args.barcodeFormat||pX.isEmpty(t=null!=this._args.items?this._args.items:this._productHandler.selectedItems)||((e=new _U).barcodeFormat=this._args.barcodeFormat,e.barcodeSubType=this._args.barcodeFormat===hU.QR_CODE?dU.VCard:dU.None,t.filter((function(t){return t instanceof qW})).forEach((function(t){if(null==t.content||null==t.barcodeFormat||!(t.content instanceof CU))return!1;t.content=JZ.createImageContentForPlaceholder(t,e,n._productHandler),t.content.barcodeContent=null,t.isStubContent=!0,n._productHandler.getHandler(t).content=n._productHandler.getHandler(t.content)}))),[2]}))},new((e=void 0)||(e=Promise))((function(i,r){function o(t){try{a(n.next(t))}catch(e){r(e)}}function s(t){try{a(n.throw(t))}catch(e){r(e)}}function a(t){var n;t.done?i(t.value):(n=t.value,n instanceof e?n:new e((function(t){t(n)}))).then(o,s)}a((n=n.apply(t,[])).next())}));var t,e,n},e.prototype.redo=function(){throw new qR},e.prototype.undo=function(){throw new qR},e}($Y),JQ=function(){var t=function(e,n){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(e,n)};return function(e,n){function i(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(i.prototype=n.prototype,new i)}}(),tZ=function(t,e){var n="function"==typeof Symbol&&t[Symbol.iterator];if(!n)return t;var i,r,o=n.call(t),s=[];try{for(;(void 0===e||e-- >0)&&!(i=o.next()).done;)s.push(i.value)}catch(a){r={error:a}}finally{try{i&&!i.done&&(n=o.return)&&n.call(o)}finally{if(r)throw r.error}}return s},eZ=function(){for(var t=[],e=0;e<arguments.length;e++)t=t.concat(tZ(arguments[e]));return t},nZ=function(t){function e(e,n,i){var r=t.call(this,[],n,e)||this;return r._productHandler=i,r}return JQ(e,t),e.prototype._executeCommandBody=function(){return t=this,void 0,n=function(){var t=this;return function(t,e){var n,i,r,o,s={label:0,sent:function(){if(1&r[0])throw r[1];return r[1]},trys:[],ops:[]};return o={next:a(0),throw:a(1),return:a(2)},"function"==typeof Symbol&&(o[Symbol.iterator]=function(){return this}),o;function a(o){return function(a){return function(o){if(n)throw new TypeError("Generator is already executing.");for(;s;)try{if(n=1,i&&(r=2&o[0]?i.return:o[0]?i.throw||((r=i.return)&&r.call(i),0):i.next)&&!(r=r.call(i,o[1])).done)return r;switch(i=0,r&&(o=[2&o[0],r.value]),o[0]){case 0:case 1:r=o;break;case 4:return s.label++,{value:o[1],done:!1};case 5:s.label++,i=o[1],o=[0];continue;case 7:o=s.ops.pop(),s.trys.pop();continue;default:if(!((r=(r=s.trys).length>0&&r[r.length-1])||6!==o[0]&&2!==o[0])){s=0;continue}if(3===o[0]&&(!r||o[1]>r[0]&&o[1]<r[3])){s.label=o[1];break}if(6===o[0]&&s.label<r[1]){s.label=r[1],r=o;break}if(r&&s.label<r[2]){s.label=r[2],s.ops.push(o);break}r[2]&&s.ops.pop(),s.trys.pop();continue}o=e.call(t,s)}catch(a){o=[6,a],i=0}finally{n=r=0}if(5&o[0])throw o[1];return{value:o[0]?o[1]:void 0,done:!0}}([o,a])}}}(this,(function(e){return(null!=this._args.items?this._args.items:this._productHandler.selectedItems).filter((function(t){return t instanceof NW})).forEach((function(e){return t._setColumnCount(e,t._args.value)})),[2]}))},new((e=void 0)||(e=Promise))((function(i,r){function o(t){try{a(n.next(t))}catch(e){r(e)}}function s(t){try{a(n.throw(t))}catch(e){r(e)}}function a(t){var n;t.done?i(t.value):(n=t.value,n instanceof e?n:new e((function(t){t(n)}))).then(o,s)}a((n=n.apply(t,[])).next())}));var t,e,n},e.prototype._setColumnCount=function(t,e){for(var n=function(t){if(0===t.length)return aB.empty;var e=Math.min.apply(Math,eZ(t.map((function(t){return t.left})))),n=Math.max.apply(Math,eZ(t.map((function(t){return t.right})))),i=Math.min.apply(Math,eZ(t.map((function(t){return t.top})))),r=Math.max.apply(Math,eZ(t.map((function(t){return t.bottom}))));return aB.FromLTRB(e,i,n,r)}(t.boundingPaths.map((function(t){var e=document.createElementNS("http://www.w3.org/2000/svg","svg");e.style.position="absolute",e.style.visibility="hidden";var n=document.createElementNS("http://www.w3.org/2000/svg","path");e.appendChild(n),n.setAttribute("d",t.toString());var i=document.querySelector("body");i.appendChild(e);var r,o=(r=n.getBBox(),new aB(r.x,r.y,r.width,r.height));return i.removeChild(e),o}))),i=(n.width-10*(e-1))/e,r=[],o=0;o<e;o++){var s=n.left+(i+10)*o,a=n.top,l=s+i,c=a+n.height,u=new bB;u.moveTo(s,a),u.lineTo(l,a),u.lineTo(l,c),u.lineTo(s,c),u.lineTo(s,a),r.push(u)}t.boundingPaths=r},e.prototype.redo=function(){throw new qR},e.prototype.undo=function(){throw new qR},e}($Y),iZ=function(){var t=function(e,n){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(e,n)};return function(e,n){function i(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(i.prototype=n.prototype,new i)}}(),rZ=function(t){function e(e,n,i){var r=t.call(this,[],n,e)||this;return r._productHandler=i,r}return iZ(e,t),e.prototype._executeCommandBody=function(){return t=this,void 0,n=function(){var t,e=this;return function(t,e){var n,i,r,o,s={label:0,sent:function(){if(1&r[0])throw r[1];return r[1]},trys:[],ops:[]};return o={next:a(0),throw:a(1),return:a(2)},"function"==typeof Symbol&&(o[Symbol.iterator]=function(){return this}),o;function a(o){return function(a){return function(o){if(n)throw new TypeError("Generator is already executing.");for(;s;)try{if(n=1,i&&(r=2&o[0]?i.return:o[0]?i.throw||((r=i.return)&&r.call(i),0):i.next)&&!(r=r.call(i,o[1])).done)return r;switch(i=0,r&&(o=[2&o[0],r.value]),o[0]){case 0:case 1:r=o;break;case 4:return s.label++,{value:o[1],done:!1};case 5:s.label++,i=o[1],o=[0];continue;case 7:o=s.ops.pop(),s.trys.pop();continue;default:if(!((r=(r=s.trys).length>0&&r[r.length-1])||6!==o[0]&&2!==o[0])){s=0;continue}if(3===o[0]&&(!r||o[1]>r[0]&&o[1]<r[3])){s.label=o[1];break}if(6===o[0]&&s.label<r[1]){s.label=r[1],r=o;break}if(r&&s.label<r[2]){s.label=r[2],s.ops.push(o);break}r[2]&&s.ops.pop(),s.trys.pop();continue}o=e.call(t,s)}catch(a){o=[6,a],i=0}finally{n=r=0}if(5&o[0])throw o[1];return{value:o[0]?o[1]:void 0,done:!0}}([o,a])}}}(this,(function(n){return t=null==this._args.clockwise||this._args.clockwise,(null!=this._args.items?this._args.items:this._productHandler.selectedItems).filter((function(t){return t instanceof qW})).forEach((function(n){var i=e._productHandler.getHandler(n);return t?i.rotateContentRight():i.rotateContentLeft()})),[2]}))},new((e=void 0)||(e=Promise))((function(i,r){function o(t){try{a(n.next(t))}catch(e){r(e)}}function s(t){try{a(n.throw(t))}catch(e){r(e)}}function a(t){var n;t.done?i(t.value):(n=t.value,n instanceof e?n:new e((function(t){t(n)}))).then(o,s)}a((n=n.apply(t,[])).next())}));var t,e,n},e.prototype.redo=function(){throw new qR},e.prototype.undo=function(){throw new qR},e}($Y),oZ=function(){var t=function(e,n){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(e,n)};return function(e,n){function i(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(i.prototype=n.prototype,new i)}}(),sZ=function(t){function e(e,n,i,r){var o=t.call(this,[],n,e)||this;return o._productHandler=i,o._commandManager=r,o}return oZ(e,t),e.prototype._executeCommandBody=function(){return t=this,void 0,n=function(){var t,e,n,i,r,o,s=this;return function(t,e){var n,i,r,o,s={label:0,sent:function(){if(1&r[0])throw r[1];return r[1]},trys:[],ops:[]};return o={next:a(0),throw:a(1),return:a(2)},"function"==typeof Symbol&&(o[Symbol.iterator]=function(){return this}),o;function a(o){return function(a){return function(o){if(n)throw new TypeError("Generator is already executing.");for(;s;)try{if(n=1,i&&(r=2&o[0]?i.return:o[0]?i.throw||((r=i.return)&&r.call(i),0):i.next)&&!(r=r.call(i,o[1])).done)return r;switch(i=0,r&&(o=[2&o[0],r.value]),o[0]){case 0:case 1:r=o;break;case 4:return s.label++,{value:o[1],done:!1};case 5:s.label++,i=o[1],o=[0];continue;case 7:o=s.ops.pop(),s.trys.pop();continue;default:if(!((r=(r=s.trys).length>0&&r[r.length-1])||6!==o[0]&&2!==o[0])){s=0;continue}if(3===o[0]&&(!r||o[1]>r[0]&&o[1]<r[3])){s.label=o[1];break}if(6===o[0]&&s.label<r[1]){s.label=r[1],r=o;break}if(r&&s.label<r[2]){s.label=r[2],s.ops.push(o);break}r[2]&&s.ops.pop(),s.trys.pop();continue}o=e.call(t,s)}catch(a){o=[6,a],i=0}finally{n=r=0}if(5&o[0])throw o[1];return{value:o[0]?o[1]:void 0,done:!0}}([o,a])}}}(this,(function(a){switch(a.label){case 0:return e=(t=this._args).items,n=t.selectOnCanvas,[4,Promise.all(e.map((function(t){return JZ.positionItemInArea(s._productHandler,t,s._args.sourceWidth,s._args.sourceHeight,!1),s._commandManager.execute(VQ.addItems,{items:[t],selectOnCanvas:!1,ignoreOrderRules:!0,ignoreCanvasRotate:!1})})))];case 1:return a.sent(),(i=this._productHandler.contentAngle)>0?[4,this._productHandler.waitUpdate()]:[3,3];case 2:a.sent(),r=this._productHandler.userEditPrintArea,JZ.rotateItems(this._productHandler,e,(null!=(o=this._productHandler.userEditContainer.region)?o:r.bounds).center,-i),a.label=3;case 3:return n&&this._commandManager.execute(WQ.selectItems,{items:e.filter((function(t){return!t.locked}))}),[2]}}))},new((e=void 0)||(e=Promise))((function(i,r){function o(t){try{a(n.next(t))}catch(e){r(e)}}function s(t){try{a(n.throw(t))}catch(e){r(e)}}function a(t){var n;t.done?i(t.value):(n=t.value,n instanceof e?n:new e((function(t){t(n)}))).then(o,s)}a((n=n.apply(t,[])).next())}));var t,e,n},e.prototype.redo=function(){throw new qR},e.prototype.undo=function(){throw new qR},e}($Y),aZ=function(){var t=function(e,n){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(e,n)};return function(e,n){function i(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(i.prototype=n.prototype,new i)}}(),lZ=function(t){function e(e,n,i,r,o){var s=t.call(this,[],n,e)||this;return s._productHandler=i,s._product=r,s._commandManager=o,s}return aZ(e,t),e.prototype._executeCommandBody=function(){return t=this,void 0,n=function(){var t,e,n,i,r=this;return function(t,e){var n,i,r,o,s={label:0,sent:function(){if(1&r[0])throw r[1];return r[1]},trys:[],ops:[]};return o={next:a(0),throw:a(1),return:a(2)},"function"==typeof Symbol&&(o[Symbol.iterator]=function(){return this}),o;function a(o){return function(a){return function(o){if(n)throw new TypeError("Generator is already executing.");for(;s;)try{if(n=1,i&&(r=2&o[0]?i.return:o[0]?i.throw||((r=i.return)&&r.call(i),0):i.next)&&!(r=r.call(i,o[1])).done)return r;switch(i=0,r&&(o=[2&o[0],r.value]),o[0]){case 0:case 1:r=o;break;case 4:return s.label++,{value:o[1],done:!1};case 5:s.label++,i=o[1],o=[0];continue;case 7:o=s.ops.pop(),s.trys.pop();continue;default:if(!((r=(r=s.trys).length>0&&r[r.length-1])||6!==o[0]&&2!==o[0])){s=0;continue}if(3===o[0]&&(!r||o[1]>r[0]&&o[1]<r[3])){s.label=o[1];break}if(6===o[0]&&s.label<r[1]){s.label=r[1],r=o;break}if(r&&s.label<r[2]){s.label=r[2],s.ops.push(o);break}r[2]&&s.ops.pop(),s.trys.pop();continue}o=e.call(t,s)}catch(a){o=[6,a],i=0}finally{n=r=0}if(5&o[0])throw o[1];return{value:o[0]?o[1]:void 0,done:!0}}([o,a])}}}(this,(function(o){switch(o.label){case 0:return t=this._productHandler.userEditContainer,e=this._product.getAllItems({ignoreMockups:!0}).filter((function(e){return e.parentContainer.parentComponent===r._productHandler.currentSurface&&e.parentContainer.id===t.id&&e.itemPermissions.allowRemoveOnLayoutChange})),n=function(t){return t instanceof uU&&0===t.placeholders.length&&0===t.values.length},i=e.filter((function(t){return t instanceof qW||n(t)})),this._args.items.forEach((function(t){t.fromLayout=!0,t.itemPermissions.allowRemoveOnLayoutChange=!0,JZ.positionItemInArea(r._productHandler,t,r._args.sourceWidth,r._args.sourceHeight,!0),r._commandManager.execute(VQ.addItems,{items:[t],selectOnCanvas:!1,ignoreOrderRules:!0,ignoreCanvasRotate:!0,createCloneName:null==i||null==i.find((function(e){return e.name===t.name}))})})),[4,this._productHandler.waitUpdate()];case 1:return o.sent(),JZ.changeItemsContent(this._product,this._productHandler,this._commandManager,i,this._args.items,!0),0!==e.length&&this._commandManager.execute(UQ.deleteItems,{items:e,force:!0}),[2]}}))},new((e=void 0)||(e=Promise))((function(i,r){function o(t){try{a(n.next(t))}catch(e){r(e)}}function s(t){try{a(n.throw(t))}catch(e){r(e)}}function a(t){var n;t.done?i(t.value):(n=t.value,n instanceof e?n:new e((function(t){t(n)}))).then(o,s)}a((n=n.apply(t,[])).next())}));var t,e,n},e.prototype.redo=function(){throw new qR},e.prototype.undo=function(){throw new qR},e}($Y),cZ=function(){var t=function(e,n){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(e,n)};return function(e,n){function i(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(i.prototype=n.prototype,new i)}}(),uZ=function(t,e){var n="function"==typeof Symbol&&t[Symbol.iterator];if(!n)return t;var i,r,o=n.call(t),s=[];try{for(;(void 0===e||e-- >0)&&!(i=o.next()).done;)s.push(i.value)}catch(a){r={error:a}}finally{try{i&&!i.done&&(n=o.return)&&n.call(o)}finally{if(r)throw r.error}}return s},hZ=function(t){function e(e,n,i){var r=t.call(this,null,e,n)||this;return r._commandManager=i,r}return cZ(e,t),e.prototype._executeCommandBody=function(){return t=this,void 0,n=function(){var t,e,n,i,r,o,s,a,l,c,u,h;return function(t,e){var n,i,r,o,s={label:0,sent:function(){if(1&r[0])throw r[1];return r[1]},trys:[],ops:[]};return o={next:a(0),throw:a(1),return:a(2)},"function"==typeof Symbol&&(o[Symbol.iterator]=function(){return this}),o;function a(o){return function(a){return function(o){if(n)throw new TypeError("Generator is already executing.");for(;s;)try{if(n=1,i&&(r=2&o[0]?i.return:o[0]?i.throw||((r=i.return)&&r.call(i),0):i.next)&&!(r=r.call(i,o[1])).done)return r;switch(i=0,r&&(o=[2&o[0],r.value]),o[0]){case 0:case 1:r=o;break;case 4:return s.label++,{value:o[1],done:!1};case 5:s.label++,i=o[1],o=[0];continue;case 7:o=s.ops.pop(),s.trys.pop();continue;default:if(!((r=(r=s.trys).length>0&&r[r.length-1])||6!==o[0]&&2!==o[0])){s=0;continue}if(3===o[0]&&(!r||o[1]>r[0]&&o[1]<r[3])){s.label=o[1];break}if(6===o[0]&&s.label<r[1]){s.label=r[1],r=o;break}if(r&&s.label<r[2]){s.label=r[2],s.ops.push(o);break}r[2]&&s.ops.pop(),s.trys.pop();continue}o=e.call(t,s)}catch(a){o=[6,a],i=0}finally{n=r=0}if(5&o[0])throw o[1];return{value:o[0]?o[1]:void 0,done:!0}}([o,a])}}}(this,(function(d){switch(d.label){case 0:return n=(t=this._args).asLayoutItem,null==(e=t.items)||0===e.length?[2]:(i=uZ(e,1),o=(r=i[0]).parentContainer,a=(null!=(s=r.parentGroupItem)?s.items:o.items).toArray(),e.some((function(t){return t.parentGroupItem!==s}))?[2]:(l=Math.max.apply(Math,function(){for(var t=[],e=0;e<arguments.length;e++)t=t.concat(uZ(arguments[e]));return t}(e.map((function(t){return a.indexOf(t)}))))-e.length+1,c=e.sort((function(t,e){return a.indexOf(t)-a.indexOf(e)})),u=c.map((function(t){return t.clone()})),(h=n?new IW(u):new RU(u)).name="Group item",this._commandManager.execute(WQ.clearSelection),this._commandManager.execute(UQ.deleteItems,{items:e,force:!0,autoUngroup:!1,autoParentGroupDelete:!1}),[4,this._commandManager.execute(VQ.addItems,{items:[h],targetContainer:o,index:l,selectOnCanvas:!0,targetGroupItem:s})]));case 1:return d.sent(),[2]}}))},new((e=void 0)||(e=Promise))((function(i,r){function o(t){try{a(n.next(t))}catch(e){r(e)}}function s(t){try{a(n.throw(t))}catch(e){r(e)}}function a(t){var n;t.done?i(t.value):(n=t.value,n instanceof e?n:new e((function(t){t(n)}))).then(o,s)}a((n=n.apply(t,[])).next())}));var t,e,n},e.prototype.redo=function(){throw new qR},e.prototype.undo=function(){throw new qR},e}($Y),dZ=function(){var t=function(e,n){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(e,n)};return function(e,n){function i(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(i.prototype=n.prototype,new i)}}(),pZ=function(t,e,n,i){return new(n||(n=Promise))((function(r,o){function s(t){try{l(i.next(t))}catch(e){o(e)}}function a(t){try{l(i.throw(t))}catch(e){o(e)}}function l(t){var e;t.done?r(t.value):(e=t.value,e instanceof n?e:new n((function(t){t(e)}))).then(s,a)}l((i=i.apply(t,e||[])).next())}))},fZ=function(t,e){var n,i,r,o,s={label:0,sent:function(){if(1&r[0])throw r[1];return r[1]},trys:[],ops:[]};return o={next:a(0),throw:a(1),return:a(2)},"function"==typeof Symbol&&(o[Symbol.iterator]=function(){return this}),o;function a(o){return function(a){return function(o){if(n)throw new TypeError("Generator is already executing.");for(;s;)try{if(n=1,i&&(r=2&o[0]?i.return:o[0]?i.throw||((r=i.return)&&r.call(i),0):i.next)&&!(r=r.call(i,o[1])).done)return r;switch(i=0,r&&(o=[2&o[0],r.value]),o[0]){case 0:case 1:r=o;break;case 4:return s.label++,{value:o[1],done:!1};case 5:s.label++,i=o[1],o=[0];continue;case 7:o=s.ops.pop(),s.trys.pop();continue;default:if(!((r=(r=s.trys).length>0&&r[r.length-1])||6!==o[0]&&2!==o[0])){s=0;continue}if(3===o[0]&&(!r||o[1]>r[0]&&o[1]<r[3])){s.label=o[1];break}if(6===o[0]&&s.label<r[1]){s.label=r[1],r=o;break}if(r&&s.label<r[2]){s.label=r[2],s.ops.push(o);break}r[2]&&s.ops.pop(),s.trys.pop();continue}o=e.call(t,s)}catch(a){o=[6,a],i=0}finally{n=r=0}if(5&o[0])throw o[1];return{value:o[0]?o[1]:void 0,done:!0}}([o,a])}}},mZ=function(t){function e(e,n,i){var r=t.call(this,null,e,n)||this;return r._commandManager=i,r}return dZ(e,t),e.prototype._executeCommandBody=function(){return pZ(this,void 0,void 0,(function(){var t;return fZ(this,(function(e){switch(e.label){case 0:return[4,this._ungroupItems((t=this._args).items,t.keepNestedGroups)];case 1:return e.sent(),[2]}}))}))},e.prototype._ungroupItems=function(t,e){return void 0===e&&(e=!1),pZ(this,void 0,void 0,(function(){var n,i,r=this;return fZ(this,(function(o){switch(o.label){case 0:return[4,this._commandManager.execute(WQ.clearSelection)];case 1:return o.sent(),n=this._historyArgs.history,0===t.length?[2]:!e&&t.every((function(t){return t instanceof RU&&t.groupItemPermissions.allowUngroup}))?(n.pause(),t.forEach((function(t){return r._ungroupItems(t.items.toArray(),!0)})),n.resume(),[2]):t.every((function(t,e,n){var i=function(t,e){var n="function"==typeof Symbol&&t[Symbol.iterator];if(!n)return t;var i,r,o=n.call(t),s=[];try{for(;(void 0===e||e-- >0)&&!(i=o.next()).done;)s.push(i.value)}catch(a){r={error:a}}finally{try{i&&!i.done&&(n=o.return)&&n.call(o)}finally{if(r)throw r.error}}return s}(n,1);return null!=t.parentGroupItem&&t.parentGroupItem===i[0].parentGroupItem}))?(n.pause(),[4,this._extractItemsFromGroupItem(t)]):[2];case 2:return i=o.sent(),n.resume(),[4,this._commandManager.execute(WQ.selectItems,{items:i})];case 3:return o.sent(),[2]}}))}))},e.prototype._extractItemsFromGroupItem=function(t){return pZ(this,void 0,void 0,(function(){var e,n,i,r,o,s,a,l,c;return fZ(this,(function(u){switch(u.label){case 0:return(e=t[0].parentGroupItem).items.toArray().filter((function(e){return!t.includes(e)})).length<2&&(t=e.items.toArray()),n=t.map((function(t){return t.clone()})).reverse(),i=e.parentContainer,o=null!=(r=e.parentGroupItem)?r.items.toArray():i.items.toArray(),s=o.indexOf(e),a=null,r instanceof IW&&(l=r.getItemsOrder())&&(c=l.indexOf(e.id),a=c),[4,this._commandManager.execute(UQ.deleteItems,{items:t,force:!0,autoUngroup:!1,autoParentGroupDelete:!0})];case 1:return u.sent(),0!==e.items.length?[3,3]:[4,this._commandManager.execute(UQ.deleteItems,{items:[e],force:!0,autoUngroup:!1})];case 2:u.sent(),u.label=3;case 3:return[4,this._commandManager.execute(VQ.addItems,{targetContainer:i,items:n,index:s,orderIndex:a,selectOnCanvas:!1,targetGroupItem:r})];case 4:return u.sent(),[2,n]}}))}))},e.prototype.redo=function(){throw new qR},e.prototype.undo=function(){throw new qR},e}($Y),gZ=function(){var t=function(e,n){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(e,n)};return function(e,n){function i(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(i.prototype=n.prototype,new i)}}(),yZ=function(t){function e(e,n,i,r,o,s,a){var l=t.call(this,null,e,n)||this;return l._productHandler=i,l._product=r,l._commandManager=o,l._productThemeManager=s,l._canvas=a,l}return gZ(e,t),e.prototype._executeCommandBody=function(){return t=this,void 0,n=function(){var t,e,n,i,r,o,s,a,l;return function(t,e){var n,i,r,o,s={label:0,sent:function(){if(1&r[0])throw r[1];return r[1]},trys:[],ops:[]};return o={next:a(0),throw:a(1),return:a(2)},"function"==typeof Symbol&&(o[Symbol.iterator]=function(){return this}),o;function a(o){return function(a){return function(o){if(n)throw new TypeError("Generator is already executing.");for(;s;)try{if(n=1,i&&(r=2&o[0]?i.return:o[0]?i.throw||((r=i.return)&&r.call(i),0):i.next)&&!(r=r.call(i,o[1])).done)return r;switch(i=0,r&&(o=[2&o[0],r.value]),o[0]){case 0:case 1:r=o;break;case 4:return s.label++,{value:o[1],done:!1};case 5:s.label++,i=o[1],o=[0];continue;case 7:o=s.ops.pop(),s.trys.pop();continue;default:if(!((r=(r=s.trys).length>0&&r[r.length-1])||6!==o[0]&&2!==o[0])){s=0;continue}if(3===o[0]&&(!r||o[1]>r[0]&&o[1]<r[3])){s.label=o[1];break}if(6===o[0]&&s.label<r[1]){s.label=r[1],r=o;break}if(r&&s.label<r[2]){s.label=r[2],s.ops.push(o);break}r[2]&&s.ops.pop(),s.trys.pop();continue}o=e.call(t,s)}catch(a){o=[6,a],i=0}finally{n=r=0}if(5&o[0])throw o[1];return{value:o[0]?o[1]:void 0,done:!0}}([o,a])}}}(this,(function(c){switch(c.label){case 0:return n=(t=this._args).newItems,null==(e=t.targetGroupItem)||null==n||n.length<1?[2]:(i=!1,r=this._productHandler.getHandler(e),o=r.getTransformedRectangle(i),s=e.items.toArray(),JZ.changeItemsContent(this._product,this._productHandler,this._commandManager,s,n,!1),e.items.clear(),e.addItems(n),(a=e.getNestedItems(!0).filter((function(t){return t instanceof uU}))).length>0?[4,JZ.waitForItemsUpdated(a,this._canvas)]:[3,2]);case 1:c.sent(),c.label=2;case 2:return l=r.getTransformedRectangle(i).bounds,JZ.positionItemInArea(this._productHandler,e,l.width,l.height,!0,o,l.center,i),null!=this._productThemeManager.currentProductTheme&&this._updateAppliedProductTheme(),0===o.angle?[3,5]:a.length>0?[4,JZ.waitForItemsUpdated(a,this._canvas)]:[3,4];case 3:c.sent(),c.label=4;case 4:JZ.rotateItems(this._productHandler,[e],o.center,o.angle),c.label=5;case 5:return this._commandManager.execute(WQ.selectItems,{items:[e]}),[2]}}))},new((e=void 0)||(e=Promise))((function(i,r){function o(t){try{a(n.next(t))}catch(e){r(e)}}function s(t){try{a(n.throw(t))}catch(e){r(e)}}function a(t){var n;t.done?i(t.value):(n=t.value,n instanceof e?n:new e((function(t){t(n)}))).then(o,s)}a((n=n.apply(t,[])).next())}));var t,e,n},e.prototype._updateAppliedProductTheme=function(){this._commandManager.execute(HQ.applyProductTheme,{theme:this._productThemeManager.currentProductTheme})},e.prototype.redo=function(){throw new qR},e.prototype.undo=function(){throw new qR},e}($Y),_Z=function(){var t=function(e,n){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(e,n)};return function(e,n){function i(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(i.prototype=n.prototype,new i)}}(),vZ=function(t){function e(e,n){return t.call(this,null,e,n)||this}return _Z(e,t),e.prototype._executeCommandBody=function(){return t=this,void 0,n=function(){var t,e,n,i;return function(t,e){var n,i,r,o,s={label:0,sent:function(){if(1&r[0])throw r[1];return r[1]},trys:[],ops:[]};return o={next:a(0),throw:a(1),return:a(2)},"function"==typeof Symbol&&(o[Symbol.iterator]=function(){return this}),o;function a(o){return function(a){return function(o){if(n)throw new TypeError("Generator is already executing.");for(;s;)try{if(n=1,i&&(r=2&o[0]?i.return:o[0]?i.throw||((r=i.return)&&r.call(i),0):i.next)&&!(r=r.call(i,o[1])).done)return r;switch(i=0,r&&(o=[2&o[0],r.value]),o[0]){case 0:case 1:r=o;break;case 4:return s.label++,{value:o[1],done:!1};case 5:s.label++,i=o[1],o=[0];continue;case 7:o=s.ops.pop(),s.trys.pop();continue;default:if(!((r=(r=s.trys).length>0&&r[r.length-1])||6!==o[0]&&2!==o[0])){s=0;continue}if(3===o[0]&&(!r||o[1]>r[0]&&o[1]<r[3])){s.label=o[1];break}if(6===o[0]&&s.label<r[1]){s.label=r[1],r=o;break}if(r&&s.label<r[2]){s.label=r[2],s.ops.push(o);break}r[2]&&s.ops.pop(),s.trys.pop();continue}o=e.call(t,s)}catch(a){o=[6,a],i=0}finally{n=r=0}if(5&o[0])throw o[1];return{value:o[0]?o[1]:void 0,done:!0}}([o,a])}}}(this,(function(r){if(n=(t=this._args).colorGroup,i=t.newColor,!((e=t.clipartItem)instanceof jU)||null==n||null==i)throw new Error("ChangeClipartItemColorCommand: Uncorrect arguments");if(!(i instanceof zB||i.color instanceof zB))throw new Error("ChangeClipartItemColorCommand: Uncorrect color");return e.setColor(n,i),[2]}))},new((e=void 0)||(e=Promise))((function(i,r){function o(t){try{a(n.next(t))}catch(e){r(e)}}function s(t){try{a(n.throw(t))}catch(e){r(e)}}function a(t){var n;t.done?i(t.value):(n=t.value,n instanceof e?n:new e((function(t){t(n)}))).then(o,s)}a((n=n.apply(t,[])).next())}));var t,e,n},e.prototype.redo=function(){throw new qR},e.prototype.undo=function(){throw new qR},e}($Y),bZ=function(){var t=function(e,n){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(e,n)};return function(e,n){function i(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(i.prototype=n.prototype,new i)}}(),wZ=function(t){function e(e,n,i,r){var o=t.call(this,n,e,i)||this;return o._commandManager=r,o}return bZ(e,t),e.prototype._executeCommandBody=function(){return t=this,void 0,n=function(){var t,e;return function(t,e){var n,i,r,o,s={label:0,sent:function(){if(1&r[0])throw r[1];return r[1]},trys:[],ops:[]};return o={next:a(0),throw:a(1),return:a(2)},"function"==typeof Symbol&&(o[Symbol.iterator]=function(){return this}),o;function a(o){return function(a){return function(o){if(n)throw new TypeError("Generator is already executing.");for(;s;)try{if(n=1,i&&(r=2&o[0]?i.return:o[0]?i.throw||((r=i.return)&&r.call(i),0):i.next)&&!(r=r.call(i,o[1])).done)return r;switch(i=0,r&&(o=[2&o[0],r.value]),o[0]){case 0:case 1:r=o;break;case 4:return s.label++,{value:o[1],done:!1};case 5:s.label++,i=o[1],o=[0];continue;case 7:o=s.ops.pop(),s.trys.pop();continue;default:if(!((r=(r=s.trys).length>0&&r[r.length-1])||6!==o[0]&&2!==o[0])){s=0;continue}if(3===o[0]&&(!r||o[1]>r[0]&&o[1]<r[3])){s.label=o[1];break}if(6===o[0]&&s.label<r[1]){s.label=r[1],r=o;break}if(r&&s.label<r[2]){s.label=r[2],s.ops.push(o);break}r[2]&&s.ops.pop(),s.trys.pop();continue}o=e.call(t,s)}catch(a){o=[6,a],i=0}finally{n=r=0}if(5&o[0])throw o[1];return{value:o[0]?o[1]:void 0,done:!0}}([o,a])}}}(this,(function(n){switch(n.label){case 0:return t=JZ.getEmptyPlaceholdersFromProduct(this._product),e=this._args.metadataList.map((function(e,n){return{imageData:e,item:t[n]}})).filter((function(t){return null!=t.item})),[4,this._commandManager.execute(UQ.setImageMetadata,{dataList:e})];case 1:return n.sent(),[2,e.map((function(t){return t.item}))]}}))},new((e=void 0)||(e=Promise))((function(i,r){function o(t){try{a(n.next(t))}catch(e){r(e)}}function s(t){try{a(n.throw(t))}catch(e){r(e)}}function a(t){var n;t.done?i(t.value):(n=t.value,n instanceof e?n:new e((function(t){t(n)}))).then(o,s)}a((n=n.apply(t,[])).next())}));var t,e,n},e.prototype.redo=function(){throw new qR},e.prototype.undo=function(){throw new qR},e}(RY),CZ=function(){var t=function(e,n){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(e,n)};return function(e,n){function i(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(i.prototype=n.prototype,new i)}}(),xZ=function(){return(xZ=Object.assign||function(t){for(var e,n=1,i=arguments.length;n<i;n++)for(var r in e=arguments[n])Object.prototype.hasOwnProperty.call(e,r)&&(t[r]=e[r]);return t}).apply(this,arguments)},EZ=function(t){function e(e,n,i,r,o,s){var a=t.call(this,n,e,i)||this;return a._productHandler=r,a._commandManager=o,a._canvas=s,a._executeCommandBody=function(){return t=a,void 0,n=function(){var t,e,n,i=this;return function(t,e){var n,i,r,o,s={label:0,sent:function(){if(1&r[0])throw r[1];return r[1]},trys:[],ops:[]};return o={next:a(0),throw:a(1),return:a(2)},"function"==typeof Symbol&&(o[Symbol.iterator]=function(){return this}),o;function a(o){return function(a){return function(o){if(n)throw new TypeError("Generator is already executing.");for(;s;)try{if(n=1,i&&(r=2&o[0]?i.return:o[0]?i.throw||((r=i.return)&&r.call(i),0):i.next)&&!(r=r.call(i,o[1])).done)return r;switch(i=0,r&&(o=[2&o[0],r.value]),o[0]){case 0:case 1:r=o;break;case 4:return s.label++,{value:o[1],done:!1};case 5:s.label++,i=o[1],o=[0];continue;case 7:o=s.ops.pop(),s.trys.pop();continue;default:if(!((r=(r=s.trys).length>0&&r[r.length-1])||6!==o[0]&&2!==o[0])){s=0;continue}if(3===o[0]&&(!r||o[1]>r[0]&&o[1]<r[3])){s.label=o[1];break}if(6===o[0]&&s.label<r[1]){s.label=r[1],r=o;break}if(r&&s.label<r[2]){s.label=r[2],s.ops.push(o);break}r[2]&&s.ops.pop(),s.trys.pop();continue}o=e.call(t,s)}catch(a){o=[6,a],i=0}finally{n=r=0}if(5&o[0])throw o[1];return{value:o[0]?o[1]:void 0,done:!0}}([o,a])}}}(this,(function(r){switch(r.label){case 0:null!=this._canvas&&this._canvas.pauseRedraw(),r.label=1;case 1:return r.trys.push([1,,4,7]),t=this._convertedArgs.target,e=this._items.map(this._productHandler.getHandler),null==this._canvas?[3,3]:(n=this._canvas.getAllItemHandlers(),[4,Promise.all(e.filter((function(t){return t instanceof rK&&!n.includes(t)})).map((function(t){return t.updateForExternalCanvas(i._canvas),t.waitUpdate()})))]);case 2:r.sent(),r.label=3;case 3:return e.forEach((function(t){t.startTransform(),t.beginUpdate()})),t instanceof k$?this._resizeProduct(t):t instanceof a$?this._resizePrintArea(t):pX.isArray(t)&&(t[0]instanceof d$?t.forEach((function(t){return i._resizeSurface(t)})):t[0]instanceof IV&&this._resizeItems(t)),this._items.map(this._productHandler.getHandler).forEach((function(t){t.endTransform(!0,!0),t.endUpdate()})),[3,7];case 4:return null==this._canvas?[3,6]:[4,this._canvas.waitUpdate()];case 5:r.sent(),this._canvas.updateSelection(),this._canvas.continueRedraw(),this._canvas.updateTexts(),r.label=6;case 6:return[7];case 7:return[2]}}))},new((e=void 0)||(e=Promise))((function(i,r){function o(t){try{a(n.next(t))}catch(e){r(e)}}function s(t){try{a(n.throw(t))}catch(e){r(e)}}function a(t){var n;t.done?i(t.value):(n=t.value,n instanceof e?n:new e((function(t){t(n)}))).then(o,s)}a((n=n.apply(t,[])).next())}));var t,e,n},a._resizeProduct=function(t){t.surfaces.forEach((function(t){return a._resizeSurface(t)}))},a._resizeSurface=function(t){var e=new aB(0,0,t.width,t.height),n=a._getTransformMatrix(e,kK.Left,kK.Top);t.mockup.allContainers.forEach((function(e){return a._resizeMockupContainer(e,n,t)})),t.printAreas.forEach((function(t){return a._resizePrintAreaBounds(t,n)})),t.containers.forEach((function(e){return a._resizeContainer(e,n,t)})),n.updateObjectByMatrix(t,"width","height")},a._resizeMockupContainer=function(t,e,n){null!=t.size&&t.size.updateByMatrix(e),a._resizeContainer(t,e,n)},a._resizeContainer=function(t,e,n,i){void 0===i&&(i=null),null!=t.region&&t.region.updateByMatrix(e);var r=function(t){return i.bounds.intersectsWith(a._productHandler.getHandler(t).bounds)},o=t.items.toArray().filter((function(t){return null==i||r(t)})),s=a._getResizeOptions(t).resize,l=a._getItemsMatrix(o,s,e,n),c=a._getResizeOptions(t).resetPlaceholderContent;t.items.forEach((function(t){var n=null!=i?a._getTranslateMatrixRelativeToPrintArea(i.bounds,a._productHandler.getHandler(t).bounds,r(t)?l:e):l;a._resizeItem(t,n,c)}))},a._resizeItems=function(t){var e;if(a._getResizeOptions().resize===VK.Original)throw new GR("Original type not supported when resizing items.");if(1===t.length){var n=a._productHandler.getHandler(t[0]).rectangle;n.angle=0,e=n.bounds}else e=a._getItemsBounds(t);var i=a._getTransformMatrix(e),r=a._getItemsMatrix(t,a._getResizeOptions().resize,i,null);t.forEach((function(t){var e;return a._resizeItem(t,r,null===(e=a._defaultResizeOptions.resetPlaceholderContent)||void 0===e||e)}))},a._resizeItem=function(t,e,n){var i=function(t){var n;t.transformByMatrix(e);var i=t.item;i instanceof fW&&(null===(n=i.values)||void 0===n||n.filter((function(t){return null!=(null==t?void 0:t.transformedRectangle)})).forEach((function(t){t.transformedRectangle=t.transformedRectangle.transformByMatrix(e)})))},r=function(t){n&&null!=t.content&&t.content.updateRectangle(!1,t.item.contentResizeMode,t)},o=a._productHandler.getHandler(t);i(o),o instanceof _K&&(o.updateContentAndFrames(i),r(o)),o instanceof tY&&o.itemHandlers.toArray().filter((function(t){return t instanceof _K})).forEach(r)},a._resizePrintAreaBounds=function(t,e){t.bounds.updateByMatrix(e)},a._resizePrintArea=function(t){var e=a._product.surfaces.toArray().find((function(e){return e.printAreas.contains(t)})),n=a._getMatrixForPrintArea(t);e.containers.forEach((function(i){return a._resizeContainer(i,n,e,t)})),e.printAreas.forEach((function(e){e!==t&&a._resizePrintAreaBounds(e,a._getTranslateMatrixRelativeToPrintArea(t.bounds,e.bounds,n))})),a._resizePrintAreaBounds(t,n),a._resizeSurfaceByPrintArea(e)},a._resizeSurfaceByPrintArea=function(t){var e=aB.getOverallBounds(t.printAreas.toArray().map((function(t){return t.bounds})));new aB(0,0,t.width,t.height).containsRectangle(e)||(t.width=Math.max(t.width,e.right),t.height=Math.max(t.height,e.bottom),e.left>=0||e.top>=0||a._commandManager.execute(UQ.translateItems,{items:t.getAllItems().toArray(),translateX:-Math.min(0,e.left),translateY:-Math.min(0,e.top)}))},a._getTransformMatrix=function(t,e,n){void 0===e&&(e=kK.Center),void 0===n&&(n=kK.Center);var i=XK(t,e,n),r=new ZL;return r.scaleRelativeToPoint(a._getScaleMultiplier(a._args.width,t.width),a._getScaleMultiplier(a._args.height,t.height),i),r},a._getScaleMultiplier=function(t,e){if("string"==typeof t){if(/%$/.test(t))return Number(t.split(/%/)[0])/100;var n=parseFloat(t);if(isNaN(n))throw new XR("ResizeCommand: Wrong string format: "+t);t=n}if(t<=0)throw new XR("ResizeCommand: Wrong value: "+t);if(e<=0)throw new XR("ResizeCommand: Wrong parentSize: "+e);return t/e},a._convertedArgs=null!=a._args.target?a._args:a._convertExternalConfig(a._args),a}return CZ(e,t),Object.defineProperty(e.prototype,"_items",{get:function(){var t=this._convertedArgs.target;if(t instanceof k$)return t.getAllItems();if(t instanceof a$){var e=this._product.surfaces.firstOrDefault((function(e){return e.printAreas.contains(t)}));return null==e?[]:e.getAllItems().toArray()}return pX.isArray(t)?t[0]instanceof IV?t:t[0]instanceof d$?pX.flatten(t.map((function(t){return t.getAllItems().toArray()}))):[]:[]},enumerable:!0,configurable:!0}),e.prototype._getTranslateMatrixRelativeToPrintArea=function(t,e,n){var i=new ZL;if(e.bottom<=t.top||e.right<=t.left)return i;if(t.intersectsWith(e))return n;var r=t.clone().updateByMatrix(n);return i.translate(e.left>t.right||GK(t.right-e.left,0)?r.right-t.right:0,e.top>t.bottom||GK(t.bottom-e.top,0)?r.bottom-t.bottom:0),i},e.prototype._getItemsMatrix=function(t,e,n,i){var r;if(e!==VK.Original){var o=this._getItemsBounds(t),s=o.clone().updateByMatrix(n),a=function(t,e,n,i,r){if(void 0===n&&(n=VK.Fit),void 0===i&&(i=kK.Center),void 0===r&&(r=kK.Center),aB.isEqual(t,e))return t.clone();var o,s,a=$K({width:t.width,height:t.height},{width:e.width,height:e.height},n);switch(i){case kK.Left:o=e.left;break;case kK.Right:o=e.right-a.width;break;default:o=e.center.x-a.width/2}switch(r){case kK.Top:s=e.top;break;case kK.Bottom:s=e.bottom-a.height;break;default:s=e.center.y-a.height/2}return new aB(o,s,a.width,a.height)}(o,s,e);r=aB.getMatrix(o,a)}else r=this._getTranslateMatrixForOriginalMode(n,i);return r},e.prototype._getTranslateMatrixForOriginalMode=function(t,e,n,i){void 0===n&&(n=kK.Center),void 0===i&&(i=kK.Center);var r=new aB(0,0,e.width,e.height),o=XK(r,n,i),s=XK(r.updateByMatrix(t),n,i),a=new ZL;return a.translate(s.x-o.x,s.y-o.y),a},e.prototype._getResizeOptions=function(t){var e=this;return Object(j$.maybe)(this._args.containerOptions).bind((function(e){return Object(j$.maybe)(t).map((function(t){return e[t.name]}))})).caseOf({just:function(t){return xZ(xZ({},e._defaultResizeOptions),t)},nothing:function(){return e._defaultResizeOptions}})},Object.defineProperty(e.prototype,"_defaultResizeOptions",{get:function(){return xZ({resize:VK.Fit,resetPlaceholderContent:!0},this._args.defaultOptions||{})},enumerable:!0,configurable:!0}),e.prototype._getItemsBounds=function(t){var e=this;return pX.isEmpty(t)?aB.empty:aB.getOverallBounds(t.map((function(t){return e._productHandler.getHandler(t).bounds})))},e.prototype._getMatrixForPrintArea=function(t){return this._getTransformMatrix(t.bounds,kK.Left,kK.Top)},e.prototype._convertExternalConfig=function(t){var e;switch(t.targetType){case"surfaces":if(pX.isEmpty(t.targetIds))throw new XR("ResizeCommand: target Ids cannot be empty");e=this._product.surfaces.toArray().filter((function(e){return t.targetIds.includes(e.id)}));break;case"items":if(pX.isEmpty(t.targetIds))throw new XR("ResizeCommand: target Ids cannot be empty");e=this._productHandler.currentSurface.getAllItems({ignoreMockups:!1,flatGroupItems:!0}).toArray().filter((function(e){return t.targetIds.includes(e.id)}));break;case"printArea":if(pX.isEmpty(t.targetIds))throw new XR("ResizeCommand: target Ids cannot be empty");e=pX.flatten(this._product.surfaces.toArray().map((function(t){return t.printAreas.toArray()}))).find((function(e){return t.targetIds.includes(e.id)}));break;default:e=this._product}return{target:e,width:t.width,height:t.height,containerOptions:t.containerOptions,defaultOptions:t.defaultOptions}},e.prototype.redo=function(){throw new qR},e.prototype.undo=function(){throw new qR},e}(RY),SZ=function(){var t=function(e,n){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(e,n)};return function(e,n){function i(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(i.prototype=n.prototype,new i)}}(),PZ=function(t){function e(e,n,i,r){var o=t.call(this,[],e,n)||this;return o._productHandler=i,o._canvas=r,o._convertedArgs=null!=n.items?n:o._convertExternalConfig(n),o._items=o._convertedArgs.items,o}return SZ(e,t),e.prototype._executeCommandBody=function(){return t=this,void 0,n=function(){var t,e=this;return function(t,e){var n,i,r,o,s={label:0,sent:function(){if(1&r[0])throw r[1];return r[1]},trys:[],ops:[]};return o={next:a(0),throw:a(1),return:a(2)},"function"==typeof Symbol&&(o[Symbol.iterator]=function(){return this}),o;function a(o){return function(a){return function(o){if(n)throw new TypeError("Generator is already executing.");for(;s;)try{if(n=1,i&&(r=2&o[0]?i.return:o[0]?i.throw||((r=i.return)&&r.call(i),0):i.next)&&!(r=r.call(i,o[1])).done)return r;switch(i=0,r&&(o=[2&o[0],r.value]),o[0]){case 0:case 1:r=o;break;case 4:return s.label++,{value:o[1],done:!1};case 5:s.label++,i=o[1],o=[0];continue;case 7:o=s.ops.pop(),s.trys.pop();continue;default:if(!((r=(r=s.trys).length>0&&r[r.length-1])||6!==o[0]&&2!==o[0])){s=0;continue}if(3===o[0]&&(!r||o[1]>r[0]&&o[1]<r[3])){s.label=o[1];break}if(6===o[0]&&s.label<r[1]){s.label=r[1],r=o;break}if(r&&s.label<r[2]){s.label=r[2],s.ops.push(o);break}r[2]&&s.ops.pop(),s.trys.pop();continue}o=e.call(t,s)}catch(a){o=[6,a],i=0}finally{n=r=0}if(5&o[0])throw o[1];return{value:o[0]?o[1]:void 0,done:!0}}([o,a])}}}(this,(function(n){null!=this._canvas&&this._canvas.pauseRedraw();try{t=this._transformMatrix,this._items.forEach((function(n){var i=function(n){e._productHandler.getHandler(n).transformByMatrix(t)};i(n),n instanceof qW&&n.updateContentAndFrames(i)}))}finally{null!=this._canvas&&this._canvas.continueRedraw()}return[2]}))},new((e=void 0)||(e=Promise))((function(i,r){function o(t){try{a(n.next(t))}catch(e){r(e)}}function s(t){try{a(n.throw(t))}catch(e){r(e)}}function a(t){var n;t.done?i(t.value):(n=t.value,n instanceof e?n:new e((function(t){t(n)}))).then(o,s)}a((n=n.apply(t,[])).next())}));var t,e,n},Object.defineProperty(e.prototype,"_transformMatrix",{get:function(){var t=this._parentRectangle,e=jB(this._args.translateX,t.width),n=jB(this._args.translateY,t.height),i=new ZL;return i.translate(e,n),i},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"_parentRectangle",{get:function(){return Object(j$.maybe)(this._items[0]).map((function(t){return t.parentContainer})).map((function(t){return{surface:t.parentComponent,container:t}})).map((function(t){var e=t.container;return{printArea:t.surface.printAreas.get(0),container:e}})).map((function(t){var e=t.printArea,n=t.container;return Object(j$.maybe)(n.region).caseOf({just:function(t){return aB.union(e.bounds,t)},nothing:function(){return e.bounds}})})).caseOf({just:function(t){return new aW(t.width,t.height)},nothing:function(){return new aW(100,100)}})},enumerable:!0,configurable:!0}),e.prototype._convertExternalConfig=function(t){if(pX.isEmpty(t.itemIds))throw new XR("TranslateItemsCommand: itemIds cannot be null.");return{items:this._productHandler.currentSurface.getAllItems({ignoreMockups:!1,flatGroupItems:!0}).toArray().filter((function(e){return t.itemIds.includes(e.id)})),translateX:t.translateX,translateY:t.translateY}},e.prototype.redo=function(){throw new qR},e.prototype.undo=function(){throw new qR},e}($Y),OZ=function(){var t=function(e,n){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(e,n)};return function(e,n){function i(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(i.prototype=n.prototype,new i)}}(),kZ=function(t,e,n,i){return new(n||(n=Promise))((function(r,o){function s(t){try{l(i.next(t))}catch(e){o(e)}}function a(t){try{l(i.throw(t))}catch(e){o(e)}}function l(t){var e;t.done?r(t.value):(e=t.value,e instanceof n?e:new n((function(t){t(e)}))).then(s,a)}l((i=i.apply(t,e||[])).next())}))},TZ=function(t,e){var n,i,r,o,s={label:0,sent:function(){if(1&r[0])throw r[1];return r[1]},trys:[],ops:[]};return o={next:a(0),throw:a(1),return:a(2)},"function"==typeof Symbol&&(o[Symbol.iterator]=function(){return this}),o;function a(o){return function(a){return function(o){if(n)throw new TypeError("Generator is already executing.");for(;s;)try{if(n=1,i&&(r=2&o[0]?i.return:o[0]?i.throw||((r=i.return)&&r.call(i),0):i.next)&&!(r=r.call(i,o[1])).done)return r;switch(i=0,r&&(o=[2&o[0],r.value]),o[0]){case 0:case 1:r=o;break;case 4:return s.label++,{value:o[1],done:!1};case 5:s.label++,i=o[1],o=[0];continue;case 7:o=s.ops.pop(),s.trys.pop();continue;default:if(!((r=(r=s.trys).length>0&&r[r.length-1])||6!==o[0]&&2!==o[0])){s=0;continue}if(3===o[0]&&(!r||o[1]>r[0]&&o[1]<r[3])){s.label=o[1];break}if(6===o[0]&&s.label<r[1]){s.label=r[1],r=o;break}if(r&&s.label<r[2]){s.label=r[2],s.ops.push(o);break}r[2]&&s.ops.pop(),s.trys.pop();continue}o=e.call(t,s)}catch(a){o=[6,a],i=0}finally{n=r=0}if(5&o[0])throw o[1];return{value:o[0]?o[1]:void 0,done:!0}}([o,a])}}},IZ=function(t){function e(e,n,i,r){var o=t.call(this,i.items,n,i)||this;return o._productHandler=e,o._cm=r,o}return OZ(e,t),e.prototype._executeCommandBody=function(){return kZ(this,void 0,void 0,(function(){var t,e,n,i,r,o,s=this;return TZ(this,(function(a){switch(a.label){case 0:return e=(t=this._args).align,i=t.items,(n=t.group)&&i?(r=this._productHandler.getHandler(n).bounds,o=i.map((function(t){return n.items.toArray().includes(t)?s.alignItemIntoGroup(t,e,r):Promise.resolve()})),[4,Promise.all(o)]):[2];case 1:return a.sent(),[2]}}))}))},e.prototype.alignItemIntoGroup=function(t,e,n){return kZ(this,void 0,void 0,(function(){var i,r,o,s,a,l,c,u,h,d,p,f,m,g,y;return TZ(this,(function(_){switch(_.label){case 0:switch(i=n.top,r=n.bottom,o=n.left,s=n.right,l=(a=n.center).x,c=a.y,u=this._productHandler.getHandler(t).bounds,h=u.top,d=u.bottom,p=u.left,f=u.right,g=(m=u.center).x,y=m.y,e){case"top":return[3,1];case"bottom":return[3,3];case"left":return[3,5];case"right":return[3,7];case"horizontalCenter":return[3,9];case"verticalCenter":return[3,11]}return[3,13];case 1:return[4,this._cm.execute(UQ.translateItems,{items:[t],translateX:0,translateY:i-h})];case 2:return _.sent(),[3,13];case 3:return[4,this._cm.execute(UQ.translateItems,{items:[t],translateX:0,translateY:r-d})];case 4:return _.sent(),[3,13];case 5:return[4,this._cm.execute(UQ.translateItems,{items:[t],translateX:o-p,translateY:0})];case 6:return _.sent(),[3,13];case 7:return[4,this._cm.execute(UQ.translateItems,{items:[t],translateX:s-f,translateY:0})];case 8:return _.sent(),[3,13];case 9:return[4,this._cm.execute(UQ.translateItems,{items:[t],translateX:l-g,translateY:0})];case 10:return _.sent(),[3,13];case 11:return[4,this._cm.execute(UQ.translateItems,{items:[t],translateX:0,translateY:c-y})];case 12:return _.sent(),[3,13];case 13:return[2]}}))}))},e.prototype.redo=function(){throw new qR},e.prototype.undo=function(){throw new qR},e}($Y),AZ=function(){var t=function(e,n){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(e,n)};return function(e,n){function i(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(i.prototype=n.prototype,new i)}}(),MZ=function(t){function e(e,n,i,r){var o=t.call(this,n.items,e)||this;return o._commandManager=i,o._canvas=r,o}return AZ(e,t),e.prototype._executeCommandBody=function(){return t=this,void 0,n=function(){var t,e=this;return function(t,e){var n,i,r,o,s={label:0,sent:function(){if(1&r[0])throw r[1];return r[1]},trys:[],ops:[]};return o={next:a(0),throw:a(1),return:a(2)},"function"==typeof Symbol&&(o[Symbol.iterator]=function(){return this}),o;function a(o){return function(a){return function(o){if(n)throw new TypeError("Generator is already executing.");for(;s;)try{if(n=1,i&&(r=2&o[0]?i.return:o[0]?i.throw||((r=i.return)&&r.call(i),0):i.next)&&!(r=r.call(i,o[1])).done)return r;switch(i=0,r&&(o=[2&o[0],r.value]),o[0]){case 0:case 1:r=o;break;case 4:return s.label++,{value:o[1],done:!1};case 5:s.label++,i=o[1],o=[0];continue;case 7:o=s.ops.pop(),s.trys.pop();continue;default:if(!((r=(r=s.trys).length>0&&r[r.length-1])||6!==o[0]&&2!==o[0])){s=0;continue}if(3===o[0]&&(!r||o[1]>r[0]&&o[1]<r[3])){s.label=o[1];break}if(6===o[0]&&s.label<r[1]){s.label=r[1],r=o;break}if(r&&s.label<r[2]){s.label=r[2],s.ops.push(o);break}r[2]&&s.ops.pop(),s.trys.pop();continue}o=e.call(t,s)}catch(a){o=[6,a],i=0}finally{n=r=0}if(5&o[0])throw o[1];return{value:o[0]?o[1]:void 0,done:!0}}([o,a])}}}(this,(function(n){switch(n.label){case 0:return[4,this._commandManager.execute(UQ.deleteItems,{items:this._items})];case 1:return n.sent(),t=[],this._items.forEach((function(e){if(e instanceof RU){var n=new IW(e.items.toArray(),new RW);n.name=e.name.includes("Group item")?e.name.replace("Group item","Layout item"):e.name,t.push(n)}})),[4,this._commandManager.execute(VQ.addItems,{items:t})];case 2:return n.sent(),t.forEach((function(t){e._canvas.viewer.getHandler(t).generateAndApplyAutolayoutSettings()})),[2,t]}}))},new((e=void 0)||(e=Promise))((function(i,r){function o(t){try{a(n.next(t))}catch(e){r(e)}}function s(t){try{a(n.throw(t))}catch(e){r(e)}}function a(t){var n;t.done?i(t.value):(n=t.value,n instanceof e?n:new e((function(t){t(n)}))).then(o,s)}a((n=n.apply(t,[])).next())}));var t,e,n},e.prototype.redo=function(){throw new qR},e.prototype.undo=function(){throw new qR},e}($Y),DZ=function(){var t=function(e,n){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(e,n)};return function(e,n){function i(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(i.prototype=n.prototype,new i)}}(),RZ=function(t){function e(e,n,i){var r=t.call(this,n.items,e)||this;return r._commandManager=i,r}return DZ(e,t),e.prototype._executeCommandBody=function(){return t=this,void 0,n=function(){var t;return function(t,e){var n,i,r,o,s={label:0,sent:function(){if(1&r[0])throw r[1];return r[1]},trys:[],ops:[]};return o={next:a(0),throw:a(1),return:a(2)},"function"==typeof Symbol&&(o[Symbol.iterator]=function(){return this}),o;function a(o){return function(a){return function(o){if(n)throw new TypeError("Generator is already executing.");for(;s;)try{if(n=1,i&&(r=2&o[0]?i.return:o[0]?i.throw||((r=i.return)&&r.call(i),0):i.next)&&!(r=r.call(i,o[1])).done)return r;switch(i=0,r&&(o=[2&o[0],r.value]),o[0]){case 0:case 1:r=o;break;case 4:return s.label++,{value:o[1],done:!1};case 5:s.label++,i=o[1],o=[0];continue;case 7:o=s.ops.pop(),s.trys.pop();continue;default:if(!((r=(r=s.trys).length>0&&r[r.length-1])||6!==o[0]&&2!==o[0])){s=0;continue}if(3===o[0]&&(!r||o[1]>r[0]&&o[1]<r[3])){s.label=o[1];break}if(6===o[0]&&s.label<r[1]){s.label=r[1],r=o;break}if(r&&s.label<r[2]){s.label=r[2],s.ops.push(o);break}r[2]&&s.ops.pop(),s.trys.pop();continue}o=e.call(t,s)}catch(a){o=[6,a],i=0}finally{n=r=0}if(5&o[0])throw o[1];return{value:o[0]?o[1]:void 0,done:!0}}([o,a])}}}(this,(function(e){switch(e.label){case 0:return[4,this._commandManager.execute(UQ.deleteItems,{items:this._items})];case 1:return e.sent(),t=[],this._items.forEach((function(e){if(e instanceof IW){var n=new RU(e.items.toArray());n.name=e.name.includes("Layout item")?e.name.replace("Layout item","Group item"):e.name,t.push(n)}})),[4,this._commandManager.execute(VQ.addItems,{items:t})];case 2:return e.sent(),[2,t]}}))},new((e=void 0)||(e=Promise))((function(i,r){function o(t){try{a(n.next(t))}catch(e){r(e)}}function s(t){try{a(n.throw(t))}catch(e){r(e)}}function a(t){var n;t.done?i(t.value):(n=t.value,n instanceof e?n:new e((function(t){t(n)}))).then(o,s)}a((n=n.apply(t,[])).next())}));var t,e,n},e.prototype.redo=function(){throw new qR},e.prototype.undo=function(){throw new qR},e}($Y),FZ=function(){var t=function(e,n){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(e,n)};return function(e,n){function i(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(i.prototype=n.prototype,new i)}}(),LZ=function(t){function e(e,n,i){var r=t.call(this,[n.item],e,n)||this;return r._commandManager=i,r}return FZ(e,t),e.prototype._executeCommandBody=function(){return t=this,void 0,i=function(){var t;return function(t,e){var n,i,r,o,s={label:0,sent:function(){if(1&r[0])throw r[1];return r[1]},trys:[],ops:[]};return o={next:a(0),throw:a(1),return:a(2)},"function"==typeof Symbol&&(o[Symbol.iterator]=function(){return this}),o;function a(o){return function(a){return function(o){if(n)throw new TypeError("Generator is already executing.");for(;s;)try{if(n=1,i&&(r=2&o[0]?i.return:o[0]?i.throw||((r=i.return)&&r.call(i),0):i.next)&&!(r=r.call(i,o[1])).done)return r;switch(i=0,r&&(o=[2&o[0],r.value]),o[0]){case 0:case 1:r=o;break;case 4:return s.label++,{value:o[1],done:!1};case 5:s.label++,i=o[1],o=[0];continue;case 7:o=s.ops.pop(),s.trys.pop();continue;default:if(!((r=(r=s.trys).length>0&&r[r.length-1])||6!==o[0]&&2!==o[0])){s=0;continue}if(3===o[0]&&(!r||o[1]>r[0]&&o[1]<r[3])){s.label=o[1];break}if(6===o[0]&&s.label<r[1]){s.label=r[1],r=o;break}if(r&&s.label<r[2]){s.label=r[2],s.ops.push(o);break}r[2]&&s.ops.pop(),s.trys.pop();continue}o=e.call(t,s)}catch(a){o=[6,a],i=0}finally{n=r=0}if(5&o[0])throw o[1];return{value:o[0]?o[1]:void 0,done:!0}}([o,a])}}}(this,(function(n){if(null==this._args.item||null==this._args.targetItem)throw new XR("SetImageItemCommand: item and target item cannot be null");return t={dataList:[{imageData:e.getImageData(this._args.item),item:this._args.targetItem,tags:this._args.item.tags}],dpi:this._args.dpi,keepLocation:this._args.keepLocation},this._commandManager.execute(UQ.setImageMetadata,t,kY.NotUpdate),[2]}))},new((n=void 0)||(n=Promise))((function(e,r){function o(t){try{a(i.next(t))}catch(e){r(e)}}function s(t){try{a(i.throw(t))}catch(e){r(e)}}function a(t){var i;t.done?e(t.value):(i=t.value,i instanceof n?i:new n((function(t){t(i)}))).then(o,s)}a((i=i.apply(t,[])).next())}));var t,n,i},e.prototype.redo=function(){throw new qR},e.prototype.undo=function(){throw new qR},e.getImageData=function(t){var e,n;if(null==t.source)return null;var i=new bW;return i.isUserImage=t.isUserImage,i.storageId=t.source.id,i.pageIndex=t.source.pageIndex,i.isVector=t.source.isVector,i.name=null!==(e=t.displayName)&&void 0!==e?e:t.name,i.origin=null===(n=t.source.origin)||void 0===n?void 0:n.clone(),i.size.width=t.source.width,i.size.height=t.source.height,i},e}($Y),BZ=function(){var t=function(e,n){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(e,n)};return function(e,n){function i(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(i.prototype=n.prototype,new i)}}(),NZ=function(t){function e(e,n,i){var r=t.call(this,null,e,n)||this;return r._productHandler=i,r}return BZ(e,t),e.prototype._executeCommandBody=function(){var t,e,n,i,r;return n=this,void 0,r=function(){var n,i;return function(t,e){var n,i,r,o,s={label:0,sent:function(){if(1&r[0])throw r[1];return r[1]},trys:[],ops:[]};return o={next:a(0),throw:a(1),return:a(2)},"function"==typeof Symbol&&(o[Symbol.iterator]=function(){return this}),o;function a(o){return function(a){return function(o){if(n)throw new TypeError("Generator is already executing.");for(;s;)try{if(n=1,i&&(r=2&o[0]?i.return:o[0]?i.throw||((r=i.return)&&r.call(i),0):i.next)&&!(r=r.call(i,o[1])).done)return r;switch(i=0,r&&(o=[2&o[0],r.value]),o[0]){case 0:case 1:r=o;break;case 4:return s.label++,{value:o[1],done:!1};case 5:s.label++,i=o[1],o=[0];continue;case 7:o=s.ops.pop(),s.trys.pop();continue;default:if(!((r=(r=s.trys).length>0&&r[r.length-1])||6!==o[0]&&2!==o[0])){s=0;continue}if(3===o[0]&&(!r||o[1]>r[0]&&o[1]<r[3])){s.label=o[1];break}if(6===o[0]&&s.label<r[1]){s.label=r[1],r=o;break}if(r&&s.label<r[2]){s.label=r[2],s.ops.push(o);break}r[2]&&s.ops.pop(),s.trys.pop();continue}o=e.call(t,s)}catch(a){o=[6,a],i=0}finally{n=r=0}if(5&o[0])throw o[1];return{value:o[0]?o[1]:void 0,done:!0}}([o,a])}}}(this,(function(r){return null==(n=this._args.item)?[2]:!(n instanceof UV)||n instanceof qW?(console.warn("ConvertItemToPlaceholderCommand: item type "+n.type+" is not supported"),[2]):((i=new qW(n.sourceRectangle.clone())).sourcePath=n.sourcePath.clone(),i.sourcePathId=n.sourcePathId,i.transform=n.transform.clone(),i.name=n.name,i.manipulationPermissions=n.manipulationPermissions.clone(),i.visualizationPermissions=n.visualizationPermissions.clone(),i.itemPermissions=n.itemPermissions.clone(),i.shapePermissions=n.shapePermissions.clone(),this._productHandler.replaceItem(n,i),n instanceof qV?(i.content=n,i.isStubContent=!0,i.barcodeFormat=null!==(e=null===(t=n)||void 0===t?void 0:t.barcodeFormat)&&void 0!==e?e:null):(i.fillColor=n.fillColor,i.borderColor=n.borderColor,i.borderWidth=n.borderWidth),[2,i])}))},new((i=void 0)||(i=Promise))((function(t,e){function o(t){try{a(r.next(t))}catch(n){e(n)}}function s(t){try{a(r.throw(t))}catch(n){e(n)}}function a(e){var n;e.done?t(e.value):(n=e.value,n instanceof i?n:new i((function(t){t(n)}))).then(o,s)}a((r=r.apply(n,[])).next())}))},e.prototype.redo=function(){throw new qR},e.prototype.undo=function(){throw new qR},e}($Y),jZ=function(){var t=function(e,n){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(e,n)};return function(e,n){function i(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(i.prototype=n.prototype,new i)}}(),zZ=function(t){function e(e,n,i){var r=t.call(this,null,e,n)||this;return r._productHandler=i,r}return jZ(e,t),e.prototype._executeCommandBody=function(){return t=this,void 0,n=function(){var t,e,n,i;return function(t,e){var n,i,r,o,s={label:0,sent:function(){if(1&r[0])throw r[1];return r[1]},trys:[],ops:[]};return o={next:a(0),throw:a(1),return:a(2)},"function"==typeof Symbol&&(o[Symbol.iterator]=function(){return this}),o;function a(o){return function(a){return function(o){if(n)throw new TypeError("Generator is already executing.");for(;s;)try{if(n=1,i&&(r=2&o[0]?i.return:o[0]?i.throw||((r=i.return)&&r.call(i),0):i.next)&&!(r=r.call(i,o[1])).done)return r;switch(i=0,r&&(o=[2&o[0],r.value]),o[0]){case 0:case 1:r=o;break;case 4:return s.label++,{value:o[1],done:!1};case 5:s.label++,i=o[1],o=[0];continue;case 7:o=s.ops.pop(),s.trys.pop();continue;default:if(!((r=(r=s.trys).length>0&&r[r.length-1])||6!==o[0]&&2!==o[0])){s=0;continue}if(3===o[0]&&(!r||o[1]>r[0]&&o[1]<r[3])){s.label=o[1];break}if(6===o[0]&&s.label<r[1]){s.label=r[1],r=o;break}if(r&&s.label<r[2]){s.label=r[2],s.ops.push(o);break}r[2]&&s.ops.pop(),s.trys.pop();continue}o=e.call(t,s)}catch(a){o=[6,a],i=0}finally{n=r=0}if(5&o[0])throw o[1];return{value:o[0]?o[1]:void 0,done:!0}}([o,a])}}}(this,(function(r){return null==(t=this._args.item)?[2]:t instanceof qW?(t.isEmptyContent?((n=new UV(t.sourcePath.clone())).sourcePath=t.sourcePath.clone(),n.sourcePathId=t.sourcePathId,n.transform=t.transform.clone(),n.name=t.name,n.manipulationPermissions=t.manipulationPermissions.clone(),n.visualizationPermissions=t.visualizationPermissions.clone(),n.itemPermissions=t.itemPermissions.clone(),n.shapePermissions=t.shapePermissions.clone(),n.fillColor=t.fillColor,n.borderColor=t.borderColor,n.borderWidth=t.borderWidth,e=n):(i=t.content,t.content=null,i.parentPlaceholder=null,e=i),this._productHandler.replaceItem(t,e),[2,e]):(console.warn("ConvertPlaceholderToItemCommand: item type "+t.type+" is not supported"),[2])}))},new((e=void 0)||(e=Promise))((function(i,r){function o(t){try{a(n.next(t))}catch(e){r(e)}}function s(t){try{a(n.throw(t))}catch(e){r(e)}}function a(t){var n;t.done?i(t.value):(n=t.value,n instanceof e?n:new e((function(t){t(n)}))).then(o,s)}a((n=n.apply(t,[])).next())}));var t,e,n},e.prototype.redo=function(){throw new qR},e.prototype.undo=function(){throw new qR},e}($Y),HZ=function(){function t(t,e,n,i,r,o,s){this._history=t,this._productHandler=e,this._productThemeManager=n,this._variableItemHelper=i,this._eventManager=r,this._canvas=o,this._itemsDataApplier=s,this._surfaceManager=new OY(e)}return Object.defineProperty(t.prototype,"_product",{get:function(){return this._productHandler.product},enumerable:!0,configurable:!0}),t.prototype.execute=function(t,e,n){var i={history:this._history,historyUpdateMode:n};switch(t){case vY.switchToSurface:return this._surfaceManager.switchToSurface(e.value instanceof d$?e.value:this._product.surfaces.get(e.value));case vY.getNextSurface:return this._surfaceManager.getNextSurface(e.spinIndex);case vY.switchSurfaceForward:return this._surfaceManager.switchSurfaceForward();case vY.switchSurfaceBackward:return this._surfaceManager.switchSurfaceBackward();case HQ.rotateProduct:return new BY(this._productHandler,i,this._product,e).execute();case HQ.replaceInterpolationPlaceholders:return new PQ(this._productHandler,i,this._product,this._canvas).execute();case HQ.changeBackground:return new QY(this._productHandler,i,this._product,e,this,this._productThemeManager,this._canvas,this._eventManager).execute();case HQ.applyProductTheme:return new kQ(i,this._product,e,this._productThemeManager,this).execute();case HQ.fillPlaceholders:return new wZ(i,this._product,e,this).execute();case HQ.resize:return new EZ(i,this._product,e,this._productHandler,this,this._canvas).execute();case VQ.addItems:return new oQ(this._productHandler,i,e,this._productThemeManager,this._canvas,this._variableItemHelper,this,this._eventManager).execute();case UQ.deleteItems:return new lQ(this._productHandler,i,e,this._canvas,this.configuration,this).execute();case UQ.cloneItems:return new yQ(this._productHandler,i,e,this,this._variableItemHelper).execute();case UQ.addContent:return new IQ(this._productHandler,i,e,this._productThemeManager,this._eventManager).execute();case UQ.alignItems:return new MQ(this._productHandler,i,e,this._canvas).execute();case UQ.alignIntoGroup:return new IZ(this._productHandler,i,e,this).execute();case UQ.groupAlign:return new RQ(i,e,this._canvas).execute();case UQ.bringItems:return new LQ(this._productHandler,i,e,this,this._canvas).execute();case UQ.moveItem:return new NQ(this._productHandler,i,e).execute();case UQ.createItem:return new zQ(this._itemsDataApplier,i,e).execute();case UQ.editItems:return new GQ(this._itemsDataApplier,this._productHandler,i,e).execute();case UQ.setImageMetadata:return new XY(i,e,this._productHandler,this._product,this._variableItemHelper,this,this._eventManager).execute();case UQ.setImageItem:return new LZ(i,e,this).execute();case UQ.placeholderContentScale:return new XQ(e,i,this._productHandler).execute();case UQ.placeholderContentReset:return new YQ(e,i,this._productHandler).execute();case UQ.changeBarcodeFormat:return new ZQ(e,i,this._productHandler).execute();case UQ.changeColumnCount:return new nZ(e,i,this._productHandler).execute();case UQ.placeholderContentRotate:return new rZ(e,i,this._productHandler).execute();case UQ.insertItemsIntoArea:return new sZ(e,i,this._productHandler,this).execute();case UQ.changeLayout:return new lZ(e,i,this._productHandler,this._product,this).execute();case UQ.groupItems:return new hZ(i,e,this).execute();case UQ.ungroupItems:return new mZ(i,e,this).execute();case UQ.replaceGroupItemContent:return new yZ(i,e,this._productHandler,this._product,this,this._productThemeManager,this._canvas).execute();case UQ.changeClipartItemColor:return new vZ(i,e).execute();case UQ.translateItems:return new PZ(i,e,this._productHandler,this._canvas).execute();case UQ.convertGroupIntoLayout:return new MZ(i,e,this,this._canvas).execute();case UQ.convertLayoutIntoGroup:return new RZ(i,e,this).execute();case UQ.convertItemToPlaceholder:return new NZ(i,e,this._productHandler).execute();case UQ.convertPlaceholderToItem:return new zZ(i,e,this._productHandler).execute();case WQ.selectItems:return new uQ(this._productHandler,e,this._canvas).execute();case WQ.selectFirst:return new dQ(this._productHandler,this,this._canvas).execute();case WQ.clearSelection:return new fQ(this._canvas).execute();default:throw new XR}},t}();!function(t){t.rotateProduct="rotateProduct",t.replaceInterpolationPlaceholders="replaceInterpolationPlaceholders",t.changeBackground="changeBackground",t.applyProductTheme="applyProductTheme",t.fillPlaceholders="fillPlaceholders",t.resize="resize"}(HQ||(HQ={})),function(t){t.addItems="addItems"}(VQ||(VQ={})),function(t){t.deleteItems="deleteItems",t.cloneItems="cloneItems",t.addContent="addContent",t.alignItems="alignItems",t.alignIntoGroup="alignIntoGroup",t.groupAlign="groupAlign",t.bringItems="bringItems",t.moveItem="moveItem",t.createItem="createItem",t.editItems="editItems",t.setImageMetadata="setImageMetadata",t.setImageItem="setImageItem",t.placeholderContentScale="placeholderContentScale",t.placeholderContentReset="placeholderContentReset",t.placeholderContentRotate="placeholderContentRotate",t.changeBarcodeFormat="changeBarcodeFormat",t.changeColumnCount="changeColumnCount",t.insertItemsIntoArea="insertItemsIntoArea",t.changeLayout="changeLayout",t.groupItems="groupItems",t.ungroupItems="ungroupItems",t.replaceGroupItemContent="replaceGroupItemContent",t.changeClipartItemColor="changeClipartItemColor",t.convertGroupIntoLayout="convertGroupIntoLayout",t.convertLayoutIntoGroup="convertLayoutIntoGroup",t.translateItems="translateItems",t.convertItemToPlaceholder="itemToPlaceholder",t.convertPlaceholderToItem="placeholderToItem"}(UQ||(UQ={})),function(t){t.clearSelection="clearSelection",t.selectFirst="selectFirst",t.selectItems="selectItems"}(WQ||(WQ={}));var VZ,UZ=function(t,e,n,i){return new(n||(n=Promise))((function(r,o){function s(t){try{l(i.next(t))}catch(e){o(e)}}function a(t){try{l(i.throw(t))}catch(e){o(e)}}function l(t){var e;t.done?r(t.value):(e=t.value,e instanceof n?e:new n((function(t){t(e)}))).then(s,a)}l((i=i.apply(t,e||[])).next())}))},WZ=function(t,e){var n,i,r,o,s={label:0,sent:function(){if(1&r[0])throw r[1];return r[1]},trys:[],ops:[]};return o={next:a(0),throw:a(1),return:a(2)},"function"==typeof Symbol&&(o[Symbol.iterator]=function(){return this}),o;function a(o){return function(a){return function(o){if(n)throw new TypeError("Generator is already executing.");for(;s;)try{if(n=1,i&&(r=2&o[0]?i.return:o[0]?i.throw||((r=i.return)&&r.call(i),0):i.next)&&!(r=r.call(i,o[1])).done)return r;switch(i=0,r&&(o=[2&o[0],r.value]),o[0]){case 0:case 1:r=o;break;case 4:return s.label++,{value:o[1],done:!1};case 5:s.label++,i=o[1],o=[0];continue;case 7:o=s.ops.pop(),s.trys.pop();continue;default:if(!((r=(r=s.trys).length>0&&r[r.length-1])||6!==o[0]&&2!==o[0])){s=0;continue}if(3===o[0]&&(!r||o[1]>r[0]&&o[1]<r[3])){s.label=o[1];break}if(6===o[0]&&s.label<r[1]){s.label=r[1],r=o;break}if(r&&s.label<r[2]){s.label=r[2],s.ops.push(o);break}r[2]&&s.ops.pop(),s.trys.pop();continue}o=e.call(t,s)}catch(a){o=[6,a],i=0}finally{n=r=0}if(5&o[0])throw o[1];return{value:o[0]?o[1]:void 0,done:!0}}([o,a])}}},$Z=function(t,e){var n="function"==typeof Symbol&&t[Symbol.iterator];if(!n)return t;var i,r,o=n.call(t),s=[];try{for(;(void 0===e||e-- >0)&&!(i=o.next()).done;)s.push(i.value)}catch(a){r={error:a}}finally{try{i&&!i.done&&(n=o.return)&&n.call(o)}finally{if(r)throw r.error}}return s},GZ=function(){for(var t=[],e=0;e<arguments.length;e++)t=t.concat($Z(arguments[e]));return t},qZ=function(){function t(t,e,n){var i=this;this._productHandler=t,this._canvas=e,this._productThemeManager=n,this._applyToBarcode=function(t,e,n){return UZ(i,void 0,void 0,(function(){var i;return WZ(this,(function(r){return this._applyBarcodePermissions(e.barcodePermissions,t.barcodePermissions),null==e.barcodeContent||!t.barcodePermissions.allowChangeBarcodeContent&&n.ignorePermissions||!t.barcodeData.isEmpty||(i=new _U(e.barcodeContent),t.barcodePermissions.allowChangeBarcodeType&&!n.ignorePermissions&&(i.barcodeFormat=t.barcodeFormat),i.barcodeFormat===hU.QR_CODE&&i.barcodeSubType===dU.None&&(i.barcodeSubType=dU.Url),t.applyBarcodeData(i)),null!=e.color&&(n.ignorePermissions||t.barcodePermissions.allowChangeBarcodeColor)&&(t.color=QB.createColor(e.color)),[2,this._applyToContentItem(t,e,n)]}))}))},this._applyToImage=function(t,e,n){return UZ(i,void 0,void 0,(function(){var i,r,o;return WZ(this,(function(s){switch(s.label){case 0:return null==e?[3,3]:(this._applyImagePermissions(e.imagePermissions,t.imagePermissions),t.violationSettings.allowImageQuality=null!==(o=null===(r=e.violationSettings)||void 0===r?void 0:r.allowImageQuality)&&void 0!==o?o:t.violationSettings.allowImageQuality,null==e.imageUrl||!n.ignorePermissions&&!t.imagePermissions.allowChangeImage?[3,2]:((i=this._productHandler.getHandler(t)).canvas=this._canvas,[4,i.loadImage(e.imageUrl,{downloadToServerCache:!0,actualSize:!1,saveAspectRatio:!0})]));case 1:s.sent(),s.label=2;case 2:if(null!=e.overlayColor&&JZ.setOverlayEffectColor(t,QB.createColor(e.overlayColor)),null!=e.effect)switch(e.effect.toLowerCase()){case"none":t.effect=HU.None;break;case"blackandwhite":t.effect=HU.BlackAndWhite;break;case"flipvertical":t.effect=HU.FlipVertical;break;case"fliphorizontal":t.effect=HU.FlipHorizontal;break;case"colorize":t.effect=HU.Colorize;break;default:console.error("Unknown image effect:",e.effect)}s.label=3;case 3:return[2,this._applyToContentItem(t,e,n)]}}))}))},this._applyImagePermissions=function(t,e){null!=t&&(e.allowChangeImage=BB(e.allowChangeImage,t.allowChangeImage),e.allowEditImage=BB(e.allowEditImage,t.allowEditImage),e.allowKeepOverlayColor=BB(e.allowKeepOverlayColor,t.allowKeepOverlayColor))},this._applyBarcodePermissions=function(t,e){null!=t&&(e.allowChangeBarcodeType=BB(e.allowChangeBarcodeType,t.allowChangeBarcodeType),e.allowChangeBarcodeContent=BB(e.allowChangeBarcodeContent,t.allowChangeBarcodeContent),e.allowChangeBarcodeColor=BB(e.allowChangeBarcodeColor,t.allowChangeBarcodeColor))},this._updateThemeForItem=function(t){i._productThemeManager.applyToItem(t,i._productThemeManager.currentProductTheme)}}return t.prototype.applyToItem=function(t,e,n){return void 0===n&&(n=null),UZ(this,void 0,void 0,(function(){var i,r,o;return WZ(this,(function(s){switch(s.label){case 0:return null==e?[2]:(i=Object.assign({ignorePermissions:!0,changePosition:!1,relativeToPrintArea:!0},n||{}),r=!1,t.addPropertyChanged(o=function(){return r=!0}),t instanceof qW?[4,this._applyToPlaceholderItem(t,e,i)]:[3,2]);case 1:return s.sent(),[3,20];case 2:return t instanceof fW?[4,this._applyToImage(t,e,i)]:[3,4];case 3:return s.sent(),[3,20];case 4:return t instanceof uU?[4,this._applyToText(t,e,i)]:[3,6];case 5:return s.sent(),[3,20];case 6:return t instanceof CU?[4,this._applyToBarcode(t,e,i)]:[3,8];case 7:return s.sent(),[3,20];case 8:return t instanceof JU?[4,this._applyToEllipse(t,e,i)]:[3,10];case 9:return s.sent(),[3,20];case 10:return t instanceof $V?[4,this._applyToRectangle(t,e,i)]:[3,12];case 11:return s.sent(),[3,20];case 12:return t instanceof UV?[4,this._applyToShapeItem(t,e,i)]:[3,14];case 13:return s.sent(),[3,20];case 14:return t instanceof KU?[4,this._applyToLineItem(t,e,i)]:[3,16];case 15:return s.sent(),[3,20];case 16:return t instanceof jU?[4,this._applyToClipartItem(t,e,i)]:[3,18];case 17:return s.sent(),[3,20];case 18:return t instanceof RU?[4,this._applyToGroupItem(t,e,i)]:[3,20];case 19:s.sent(),s.label=20;case 20:return t.removePropertyChanged(o),r&&null!=this._productHandler.product&&this._productHandler.product.getAllItems().includes(t)&&(this._productHandler.getHandler(t).update(),this._canvas.redraw(),this._canvas.updateSelection()),[2,r]}}))}))},t.prototype._applyToText=function(t,e,n){if(null!=e){if(null!=e.textPermissions&&(t.textPermissions.allowChangeText=BB(t.textPermissions.allowChangeText,e.textPermissions.allowChangeText),t.textPermissions.allowChangeFont=BB(t.textPermissions.allowChangeFont,e.textPermissions.allowChangeFont),t.textPermissions.allowChangeFontSize=BB(t.textPermissions.allowChangeFontSize,e.textPermissions.allowChangeFontSize),t.textPermissions.allowChangeFontColor=BB(t.textPermissions.allowChangeFontColor,e.textPermissions.allowChangeFontColor),t.textPermissions.allowChangeTextAlignment=BB(t.textPermissions.allowChangeTextAlignment,e.textPermissions.allowChangeTextAlignment),t.textPermissions.allowChangeTextBIU=BB(t.textPermissions.allowChangeTextBIU,e.textPermissions.allowChangeTextBIU),t.textPermissions.allowChangeShadow=BB(t.textPermissions.allowChangeShadow,e.textPermissions.allowChangeShadow),t.textPermissions.allowChangeStroke=BB(t.textPermissions.allowChangeStroke,e.textPermissions.allowChangeStroke),t.textPermissions.allowTextFormatting=BB(t.textPermissions.allowTextFormatting,e.textPermissions.allowTextFormatting)),(t instanceof KW||t instanceof kU||t instanceof NW)&&(t.isVertical=BB(t.isVertical,e.isVertical)),t instanceof GU||t instanceof JW||(t.maxLineCount=BB(t.maxLineCount,e.maxLineCount)),t.maxLineLength=BB(t.maxLineLength,e.maxLineLength),(t instanceof kU||t instanceof NW)&&(t.wrappingMargin=BB(t.wrappingMargin,e.wrappingMargin),t.characterLimit=BB(t.characterLimit,e.characterLimit),null!=e.paragraphSettings)){var i=new EU(t.paragraphSettings);i.FirstLineIndent=BB(i.FirstLineIndent,e.paragraphSettings.firstLineIndent),i.SpaceBefore=BB(i.SpaceBefore,e.paragraphSettings.spaceBefore),i.SpaceAfter=BB(i.SpaceAfter,e.paragraphSettings.spaceAfter),i.LeftIndent=BB(i.LeftIndent,e.paragraphSettings.leftIndent),i.RightIndent=BB(i.RightIndent,e.paragraphSettings.rightIndent),t.paragraphSettings=i}if(t instanceof kU){if(null!=e.verticalAlignment)if("string"==typeof e.verticalAlignment)switch(e.verticalAlignment.toLowerCase()){case"top":t.verticalAlignment=JV.Top;break;case"center":t.verticalAlignment=JV.Center;break;case"bottom":t.verticalAlignment=JV.Bottom}else t.verticalAlignment=e.verticalAlignment;var r=this._convertOverflowStrategy(e.overflowStrategy);t.overflowStrategy=BB(t.overflowStrategy,r),t.shrinkMode=BB(t.shrinkMode,this._convertShrinkMode(e.textShrinkMode))}t instanceof JW&&(t.bend=BB(t.bend,e.bend),t.warp=BB(t.warp,e.warp))}return this._applyToBaseTextItem(t,e,n)},t.prototype._convertShrinkMode=function(t){if(null==t)return null;if("number"==typeof t)return t;switch(t){case"scale":return YV.Scale;case"size":return YV.Size;default:throw new XR("Invalid shrink mode.")}},t.prototype._convertOverflowStrategy=function(t){if(null==t)return null;if("number"==typeof t)return t;switch(t){case"clip":return QV.Clip;case"fitToWidth":return QV.FitToWidth;case"fitToBox":return QV.FitToBox;case"expandBox":return QV.ExpandBox;default:throw new XR("Invalid overflow strategy.")}},t.prototype._applyToLineItem=function(t,e,n){null!=e.linePermissions&&(t.linePermissions.allowChangeLineColor=BB(t.linePermissions.allowChangeLineColor,e.linePermissions.allowChangeLineColor),t.linePermissions.allowChangeLineWidth=BB(t.linePermissions.allowChangeLineWidth,e.linePermissions.allowChangeLineWidth));var i=this._productHandler.userEditContainer,r=this._productHandler.userEditPrintArea,o=null!=r?r.bounds.center:new QL(50,50),s=null!=i?.4*this._productHandler.getPrintAreaVisualSize(i).width:10;if(n.ignorePermissions||t.linePermissions.allowChangeLineWidth){var a=BB(t.width,e.width);if(null!=i&&null!=i.region&&this._productHandler.suppressOutOfRegionManipulation){var l=this._calcNewGroupBounds(this._productHandler.selectedItems,a);WK(aB.intersect(i.region,l),l)&&(t.width=a)}else t.width=a;t.fixedWidth=BB(t.fixedWidth,e.fixedWidth)}if(n.changePosition&&(null!=e.point0?(t.sourcePoint0.x=BB(t.sourcePoint0.x,e.point0.x),t.sourcePoint0.y=BB(t.sourcePoint0.y,e.point0.y)):t.sourcePoint0=new QL(o.x-s/2,o.y),null!=e.point1?(t.sourcePoint1.x=BB(t.sourcePoint1.x,e.point1.x),t.sourcePoint1.y=BB(t.sourcePoint1.y,e.point1.y)):t.sourcePoint1=new QL(o.x+s/2,o.y)),null!=e.color&&(n.ignorePermissions||t.linePermissions.allowChangeLineColor)){var c=QB.createColor(e.color);t.color=BB(t.color,c)}null!=e.overprintStroke&&(t.overprintStroke=e.overprintStroke);var u=this._productHandler.contentAngle;u>0&&t.transform.rotate(-u);var h=t.width+.01,d=null!=i?this._getRotatedRegion(i):null;if(null!=d){d.width-=h,d.height-=h;var p=1,f=this._productHandler.getHandler(t),m=t instanceof qW?f.getBoundsIncludingFrames():f.bounds;if(m.width>d.width||m.height>d.height){var g=$K(HK.from(m),HK.from(d));g.width*=.9,g.height*=.9,p=g.width/m.width}var y=new QL(m.left+m.width/2,m.top+m.height/2),_=y.x-d.left-d.width/2,v=y.y-d.top-d.height/2;t.transform.setScaleX(p*t.transform.scaleX),t.transform.setScaleY(p*t.transform.scaleY),t.transform.setTranslateX(t.transform.translateX-_-(f.getTransformedRectangle().centerX-y.x)*(1-p)),t.transform.setTranslateY(t.transform.translateY-v-(f.getTransformedRectangle().centerY-y.y)*(1-p))}this._applyToItem(t,e,n)},t.prototype._applyToRectangle=function(t,e,n){this._applyToShapeItem(t,e,n)},t.prototype._applyToGroupItem=function(t,e,n){this._applyToItem(t,e,n)},t.prototype._applyToEllipse=function(t,e,n){this._applyToShapeItem(t,e,n)},t.prototype._applyToClipartItem=function(t,e,n){this._applyToItem(t,e,n)},t.prototype._applyToPlaceholderItem=function(e,n,i){var r,o,s,a;return UZ(this,void 0,void 0,(function(){var l,c,u,h,d,p;return WZ(this,(function(f){switch(f.label){case 0:if(null!=n.placeholderPermissions&&(e.placeholderPermissions.allowEditContent=BB(e.placeholderPermissions.allowEditContent,n.placeholderPermissions.allowEditContent),e.placeholderPermissions.showSelectButton=BB(e.placeholderPermissions.showSelectButton,n.placeholderPermissions.showSelectButton),e.placeholderPermissions.showHandleButton=BB(e.placeholderPermissions.showHandleButton,n.placeholderPermissions.showHandleButton)),e.violationSettings.allowImageQuality=null!==(o=null===(r=n.violationSettings)||void 0===r?void 0:r.allowImageQuality)&&void 0!==o?o:e.violationSettings.allowImageQuality,null!=n.contentResizeMode)switch(n.contentResizeMode.toLowerCase()){case"original":e.contentResizeMode=DW.Original;break;case"fill":e.contentResizeMode=DW.Fill;break;case"fit":e.contentResizeMode=DW.Fit}return e.isStubContent=BB(e.isStubContent,n.isStubContent),e.allowedSubfolder=BB(e.allowedSubfolder,n.allowedSubfolder),e.allowedTabs=BB(e.allowedTabs,n.allowedTabs),e.isVariable=BB(e.isVariable,n.isVariable),e.isCoverMode=BB(e.isCoverMode,n.isCoverMode),e.fixedStubContentSize=BB(e.fixedStubContentSize,n.fixedStubContentSize),l=null!==(s=n.barcodeFormat)&&void 0!==s?s:null===(a=n.barcodeContent)||void 0===a?void 0:a.barcodeFormat,e.barcodeFormat=BB(e.barcodeFormat,l),null==e.content&&(c=void 0,null!=n.contentImageUrl?c=new fW:e.isBarcodePlaceholder&&(u=t.getBarcodeRatio(e.barcodeFormat),c=new CU(null,null,null,new aB(0,0,u.width,u.height))),e.content=c),null==e.content?[3,5]:((h=pX.clone(i)).changePosition=!1,e.content instanceof fW?[4,this._applyToImage(e.content,{imageUrl:n.contentImageUrl,imagePermissions:e.contentPermissions.imagePermissions},h)]:[3,2]);case 1:return f.sent(),[3,4];case 2:return e.content instanceof CU?[4,this._applyToBarcode(e.content,{barcodeContent:n.barcodeContent||{barcodeFormat:e.barcodeFormat,barcodeValue:""},barcodePermissions:e.contentPermissions.barcodePermissions,color:n.contentBarcodeColor},h)]:[3,4];case 3:f.sent(),e.barcodeFormat=e.content.barcodeFormat,e.shapePermissions.allowChangeFillColor=!0,f.label=4;case 4:null==e.barcodeFormat&&(e.imageContent.allowedSubfolder=e.allowedSubfolder,e.imageContent.allowedTabs=e.allowedTabs),f.label=5;case 5:return this._applyToShapeItem(e,n,i),null==n.contentImageUrl&&null==e.barcodeFormat?[2]:[4,(d=this._productHandler.getHandler(e.content)).waitUpdate()];case 6:return f.sent(),p=this._productHandler.getHandler(e),d.updateRectangle(!1,e.contentResizeMode,p),[2]}}))}))},t.prototype._applyToContentItem=function(t,e,n){return null!=e&&(t.isVariable=BB(t.isVariable,e.isVariable),t.maskOpacity=BB(t.maskOpacity,e.maskOpacity)),this._applyToShapeItem(t,e,n)},t.prototype._applyToShapeItem=function(t,e,n){var i,r;if(void 0===e&&(e=null),null!=e){if(null!=e.shapePermissions&&(t.shapePermissions.allowChangeBorderColor=BB(t.shapePermissions.allowChangeBorderColor,e.shapePermissions.allowChangeBorderColor),t.shapePermissions.allowChangeBorderWidth=BB(t.shapePermissions.allowChangeBorderWidth,e.shapePermissions.allowChangeBorderWidth),t.shapePermissions.allowChangeFillColor=BB(t.shapePermissions.allowChangeFillColor,e.shapePermissions.allowChangeFillColor)),t.violationSettings.allowShape=null!==(r=null===(i=e.violationSettings)||void 0===i?void 0:i.allowShape)&&void 0!==r?r:t.violationSettings.allowShape,n.ignorePermissions||t.shapePermissions.allowChangeBorderWidth){var o=null!=t.parentContainer?t.parentContainer:this._productHandler.userEditContainer,s=BB(t.borderWidth,e.borderWidth);if(null!=o&&null!=o.region&&this._productHandler.suppressOutOfRegionManipulation){var a=this._calcNewGroupBounds(this._productHandler.selectedItems,s);WK(aB.intersect(o.region,a),a)&&(t.borderWidth=s)}else t.borderWidth=s}if(null!=e.borderColor&&(n.ignorePermissions||t.shapePermissions.allowChangeBorderColor)){var l=QB.createColor(e.borderColor);t.borderColor=l}null!=e.fillColor&&(n.ignorePermissions||t.shapePermissions.allowChangeFillColor)&&(l=QB.createColor(e.fillColor),t instanceof qW&&t.isBarcodePlaceholder?t.content.fillColor=l:t.fillColor=l),null!=e.overprintFill&&(t.overprintFill=e.overprintFill),null!=e.overprintStroke&&(t.overprintStroke=e.overprintStroke)}this._applyToItem(t,e,n)},t.prototype._applyToBaseTextItem=function(e,n,i){var r,o,s;if(null!=n){if((i.ignorePermissions||e.textPermissions.allowChangeText)&&(e.text=BB(e.text,n.text)),(i.ignorePermissions||e.textPermissions.allowChangeTextBIU)&&(e.underline=BB(e.underline,n.underline)),e.violationSettings.allowTextCrop=null!==(o=null===(r=n.violationSettings)||void 0===r?void 0:r.allowTextCrop)&&void 0!==o?o:e.violationSettings.allowTextCrop,e.tracking=BB(e.tracking,n.tracking),null!=n.previewLeading?e.previewLeading=BB(e.previewLeading,n.previewLeading):e.leading=BB(e.leading,n.leading),(i.ignorePermissions||e.textPermissions.allowChangeTextAlignment)&&(e.alignment=BB(e.alignment,n.alignment)),e.horizontalScale=BB(e.horizontalScale,n.horizontalScale),e.verticalScale=BB(e.verticalScale,n.verticalScale),e.previewScale=BB(e.previewScale,n.previewScale),e.overlapLinesEnabled=BB(e.overlapLinesEnabled,n.overlapLinesEnabled),e.checkTextCrop=BB(e.checkTextCrop,n.checkTextCrop),e.isVariable=null!==(s=n.isVariable)&&void 0!==s?s:e.isVariable,null!=n.color&&(i.ignorePermissions||e.textPermissions.allowChangeFontColor)){var a=QB.createColor(n.color);e.color=BB(e.color,a)}if(null!=n.font){if((i.ignorePermissions||e.textPermissions.allowChangeTextBIU)&&(e.font.fauxBold=BB(e.font.fauxBold,n.font.fauxBold),e.font.fauxItalic=BB(e.font.fauxItalic,n.font.fauxItalic)),(i.ignorePermissions||e.textPermissions.allowChangeFont)&&(e.font.postScriptName=BB(e.font.postScriptName,n.font.postScriptName)),i.ignorePermissions||e.textPermissions.allowChangeFontSize)if(null!=n.font.previewSize){var l=t.parseItemsDataValueRelativeToHeight(n.font.previewSize,this._productHandler,i.relativeToPrintArea),c=BB(e.previewFontSize,l),u=e.previewFontSize;if(e.previewFontSize=c,e instanceof GU){var h=this._productHandler.getHandler(e).getTransformedRectangle().location,d=c/u,p=new wB(d,d,0,0,0);e.textPath.transform(p,h)}}else if(null!=n.font.size){var f=t.parseItemsDataValueRelativeToHeight(n.font.size,this._productHandler,i.relativeToPrintArea);e.font.size=BB(e.font.size,f)}e.font.allCaps=BB(e.font.allCaps,n.font.allCaps)}void 0!==n.stroke&&(i.ignorePermissions||e.textPermissions.allowChangeStroke)&&(null==n.stroke?e.stroke=null:(a=QB.createColor(n.stroke.color||"#00ffff"),e.stroke=new eU({size:n.stroke.size,color:a}))),void 0!==n.shadow&&(i.ignorePermissions||e.textPermissions.allowChangeShadow)&&(null==n.shadow?e.shadow=null:(a=QB.createColor(n.shadow.color||"#00ffff"),e.shadow=new nU({size:n.shadow.size,distance:n.shadow.distance,angle:n.shadow.angle,color:a}))),null!=n.overprintText&&(e.overprintText=n.overprintText)}this._applyToShapeItem(e,n,i)},t.prototype._applyToItem=function(t,e,n){var i,r,o,s,a,l,c,u,h,d,p=this;if(null!=e){if(null!=e.manipulationPermissions){var f=e.manipulationPermissions,m=t.manipulationPermissions;m.resizeGrips.corner=BB(m.resizeGrips.corner,f.resizeGrips.corner),m.resizeGrips.edge=BB(m.resizeGrips.edge,f.resizeGrips.edge),m.allowDelete=BB(m.allowDelete,f.allowDelete),m.allowMoveHorizontal=BB(m.allowMoveHorizontal,f.allowMoveHorizontal),m.allowMoveVertical=BB(m.allowMoveVertical,f.allowMoveVertical),m.allowRotate=BB(m.allowRotate,f.allowRotate),m.allowDragAndDrop=BB(m.allowDragAndDrop,f.allowDragAndDrop)}null!=e.visualizationPermissions&&(t.visualizationPermissions.noPrint=BB(t.visualizationPermissions.noPrint,e.visualizationPermissions.noPrint),t.visualizationPermissions.noShow=BB(t.visualizationPermissions.noShow,e.visualizationPermissions.noShow));var g=e.itemPermissions;if(null!=g){t.itemPermissions.allowOpacityChange=BB(t.itemPermissions.allowOpacityChange,g.allowOpacityChange),t.itemPermissions.allowZOrderChange=BB(t.itemPermissions.allowZOrderChange,g.allowZOrderChange);var y=g.itemToolbarPermissions;null!=y&&(t.itemPermissions.itemToolbarPermissions.showEditButton=BB(t.itemPermissions.itemToolbarPermissions.showEditButton,y.showEditButton),t.itemPermissions.itemToolbarPermissions.showDeleteButton=BB(t.itemPermissions.itemToolbarPermissions.showDeleteButton,y.showDeleteButton),t.itemPermissions.itemToolbarPermissions.showSelectButton=BB(t.itemPermissions.itemToolbarPermissions.showSelectButton,y.showSelectButton)),t.itemPermissions.allowRemoveOnLayoutChange=BB(t.itemPermissions.allowRemoveOnLayoutChange,g.allowRemoveOnLayoutChange)}if(t.violationSettings.allowBleedArea=null!==(r=null===(i=e.violationSettings)||void 0===i?void 0:i.allowBleedArea)&&void 0!==r?r:t.violationSettings.allowBleedArea,t.violationSettings.allowRegion=null!==(s=null===(o=e.violationSettings)||void 0===o?void 0:o.allowRegion)&&void 0!==s?s:t.violationSettings.allowRegion,t.violationSettings.allowSafetyLines=null!==(l=null===(a=e.violationSettings)||void 0===a?void 0:a.allowSafetyLines)&&void 0!==l?l:t.violationSettings.allowSafetyLines,null!=e.textWrappingMode)switch(e.textWrappingMode.toLowerCase()){case"none":t.textWrappingMode=lV.None;break;case"square":t.textWrappingMode=lV.Square;break;case"tight":t.textWrappingMode=lV.Tight;break;default:console.error("Unknown textWrappingMode:",e.textWrappingMode)}if((n.ignorePermissions||t.itemPermissions.allowOpacityChange)&&(t.opacity=BB(t.opacity,e.opacity),t instanceof qW&&t.updateContentAndFrames((function(t){return t.opacity=BB(t.opacity,e.opacity)}))),t.name=BB(t.name,e.name),null!=e.blendMode){var _=null!==(u=vV,h=e.blendMode,c=(d=Object.getOwnPropertyNames(u))[d.map((function(t){return u[t].toString().toLowerCase()})).indexOf(h.toLowerCase())])&&void 0!==c?c:vV.Normal;t.blendMode=_}null!=e.themeBinding&&(t.themeBinding.text=NB(t.themeBinding.text,e.themeBinding.text),t.themeBinding.stroke=NB(t.themeBinding.stroke,e.themeBinding.stroke),t.themeBinding.shadow=NB(t.themeBinding.shadow,e.themeBinding.shadow),t.themeBinding.img=NB(t.themeBinding.img,e.themeBinding.img),t.themeBinding.border=NB(t.themeBinding.border,e.themeBinding.border),t.themeBinding.fill=NB(t.themeBinding.fill,e.themeBinding.fill),t.themeBinding.textFill=NB(t.themeBinding.textFill,e.themeBinding.textFill),t.themeBinding.barcode=NB(t.themeBinding.barcode,e.themeBinding.barcode),t.themeBinding.line=NB(t.themeBinding.line,e.themeBinding.line),null!=e.themeBinding.styles&&(t.themeBinding.styles=GZ(t.themeBinding.styles||[],e.themeBinding.styles)),this._updateThemeForItem(t))}if(n.changePosition&&!(t instanceof qV&&null!=t.parentPlaceholder))if(t instanceof uU&&""!==t.text.trim()){var v=function(){t.getItemChangedEvent().remove(v),p._applyPositionAndSize(t,e,n.relativeToPrintArea)};if(t instanceof kU){var b=e;null==b.width&&null==b.height?t.scheduledFitMode=KV.ShrinkOrStretchToContent:null==b.height?t.scheduledFitMode=KV.ShrinkOrStretchToContentHeight:null==b.width&&(t.scheduledFitMode=KV.ShrinkOrStretchToContentWidth)}t instanceof kU&&null==t.scheduledFitMode||t instanceof NW?this._applyPositionAndSize(t,e,n.relativeToPrintArea):t.getItemChangedEvent().add(v)}else this._applyPositionAndSize(t,e,n.relativeToPrintArea)},t.prototype._applyPositionAndSize=function(e,n,i){var r;if(!(e instanceof KU)){var o,s,a=t._getTargetBounds(this._productHandler,i),l=t._getVisualSize(this._productHandler,a),c=this._productHandler.contentAngle,u=jB(null!=n&&null!=n.width?n.width:"50%",l.width),h=jB(null!=n&&null!=n.height?n.height:"50%",l.height),d=this._productHandler.getHandler(e),p=d.getTransformedRectangle(!1),f=p.angle-c+(null!==(r=n.angle)&&void 0!==r?r:0);if(e instanceof KW||e instanceof JW)o=p.width,s=p.height;else if(e.type===UV.type)if(p.width<l.width&&p.height<l.height)o=p.width,s=p.height;else{var m=2*d.getBorderMargin(),g=window.Math.min(l.width/(p.width+m),l.height/(p.height+m));o=p.width*g,s=p.height*g}else e instanceof kU?(o=null!=n&&null!=n.width?u:p.width,s=null!=n&&null!=n.height?h:p.height):(o=u,s=h);if(null!=this._productHandler.regionForCurrentContainer&&(g=window.Math.min(.9*l.width/o,.9*l.height/s))<1&&(o*=g,s*=g),e instanceof CU){var y=$K(t.getBarcodeRatio(e.barcodeFormat),new aW(u,h));o=y.width,s=y.height}else if(e instanceof fW||e instanceof qW&&!e.isEmptyContent&&null==e.barcodeFormat){if(null==n.width&&null==n.height&&!(e instanceof CU)){var _=this._getOriginalImageSize(e),v=_.width<l.width&&_.height<l.height;o=v?_.width:l.width,s=v?_.height:l.height}var b=this._getImageSource(e);g=Math.min(o/b.width,s/b.height),o=b.width*g,s=b.height*g}else if(e instanceof RU){var w=d.rectangle;g=Math.min(o/w.width,s/w.height),o=w.width*g,s=w.height*g}var C=a.width/2,x=a.height/2,E=null!=n&&null!=n.location&&null!=n.location.y?n.location.y:x,S=jB(null!=n&&null!=n.location&&null!=n.location.x?n.location.x:C,a.width),P=jB(E,a.height);90!==c&&180!==c||(P=a.height-P),180!==c&&270!==c||(S=a.width-S);var O=(null!=n&&null!=n.location?n.location.originY:null)||kK.Center;switch(((null!=n&&null!=n.location?n.location.originX:null)||kK.Center).toLowerCase()){case kK.Left:C=S;break;case kK.Right:0===c?C=S-o:90===c?C=S-s:180===c?C=S+o:270===c&&(C=S+s);break;case kK.Center:0===c?C=S-o/2:90===c?C=S-s/2:180===c?C=S+o/2:270===c&&(C=S+s/2)}switch(O.toLowerCase()){case kK.Top:x=P;break;case kK.Bottom:0===c?x=P-s:90===c?x=P+o:180===c?x=P+s:270===c&&(x=P-o);break;case kK.Center:0===c?x=P-s/2:90===c?x=P+o/2:180===c?x=P+s/2:270===c&&(x=P-o/2)}C+=a.left,x+=a.top;var k=new CB(0,0,o,s);if(k.angle=f,k.location=new QL(C,x),e instanceof uU)if(e instanceof kU&&null!=n&&e.overflowStrategy===QV.Clip&&(null==n.width&&null==n.height?e.scheduledFitMode=KV.ShrinkOrStretchToContent:null==n.height?e.scheduledFitMode=KV.ShrinkOrStretchToContentHeight:null==n.width&&(e.scheduledFitMode=KV.ShrinkOrStretchToContentWidth)),e instanceof kU||e instanceof NW){var T=k.toRectangleF(),I=bB.rectangle(T.left,T.top,T.width,T.height);e.sourcePath=I,e.sourceRectangle=T.clone(),e instanceof kU?e.textRectangle=T:e.boundingPaths=[I]}else d.setTransformedRectangle(k);else{if(e instanceof qW||e instanceof qV){var A=k.toRectangleF();e.sourceRectangle=A,e.sourcePath=bB.rectangle(A.left,A.top,A.width,A.height)}d.setTransformedRectangle(k)}this._productHandler.getHandler(e).update()}},t.prototype._getOriginalImageSize=function(t){return t instanceof fW?t.getOriginalImageSize():null!=t.content&&t.content instanceof fW?t.content.getOriginalImageSize():null},t._getTargetBounds=function(t,e){return e?t.getPrintAreaBounds():new aB(0,0,t.currentSurface.width,t.currentSurface.height)},t._getVisualSize=function(t,e){return t.getVisualSize(e)},t.prototype._getImageSource=function(t){return t instanceof fW?t.source:t.content.source},t.prototype._getRotatedRegion=function(t){if(null==t.region)return null;var e=this._productHandler.userEditPrintArea.bounds,n=aB.FromObject(t.region),i=this._productHandler.contentAngle;if(i>0){var r=CB.fromRectangleF(n);r.rotateAt(i,e.center),n=r.bounds}return n},t.prototype._calcNewGroupBounds=function(t,e){var n,i,r=this,o=t.map((function(t){return t.clone()})).map((function(t){return r._productHandler.getHandler(t)}));try{for(var s=function(t){var e="function"==typeof Symbol&&Symbol.iterator,n=e&&t[e],i=0;if(n)return n.call(t);if(t&&"number"==typeof t.length)return{next:function(){return t&&i>=t.length&&(t=void 0),{value:t&&t[i++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")}(o),a=s.next();!a.done;a=s.next()){var l=a.value;l instanceof HX?l.item.borderWidth=e:l.width=e}}catch(u){n={error:u}}finally{try{a&&!a.done&&(i=s.return)&&i.call(s)}finally{if(n)throw n.error}}var c=o.map((function(t){return t.bounds}));return aB.FromLTRB(Math.min.apply(Math,GZ(c.map((function(t){return t.left})))),Math.min.apply(Math,GZ(c.map((function(t){return t.top})))),Math.max.apply(Math,GZ(c.map((function(t){return t.right})))),Math.max.apply(Math,GZ(c.map((function(t){return t.bottom})))))},t.getBarcodeRatio=function(t){return t===hU.IMB?new aW(744,49):new aW(t===hU.QR_CODE||t===hU.AZTEC||t===hU.DATA_MATRIX?1:2.5,1)},t.parseItemsDataValueRelativeToHeight=function(e,n,i){if("number"==typeof e)return e;var r=t._getTargetBounds(n,i);return jB(e,t._getVisualSize(n,r).height)},t}(),XZ=function(t,e,n,i){return new(n||(n=Promise))((function(r,o){function s(t){try{l(i.next(t))}catch(e){o(e)}}function a(t){try{l(i.throw(t))}catch(e){o(e)}}function l(t){var e;t.done?r(t.value):(e=t.value,e instanceof n?e:new n((function(t){t(e)}))).then(s,a)}l((i=i.apply(t,e||[])).next())}))},KZ=function(t,e){var n,i,r,o,s={label:0,sent:function(){if(1&r[0])throw r[1];return r[1]},trys:[],ops:[]};return o={next:a(0),throw:a(1),return:a(2)},"function"==typeof Symbol&&(o[Symbol.iterator]=function(){return this}),o;function a(o){return function(a){return function(o){if(n)throw new TypeError("Generator is already executing.");for(;s;)try{if(n=1,i&&(r=2&o[0]?i.return:o[0]?i.throw||((r=i.return)&&r.call(i),0):i.next)&&!(r=r.call(i,o[1])).done)return r;switch(i=0,r&&(o=[2&o[0],r.value]),o[0]){case 0:case 1:r=o;break;case 4:return s.label++,{value:o[1],done:!1};case 5:s.label++,i=o[1],o=[0];continue;case 7:o=s.ops.pop(),s.trys.pop();continue;default:if(!((r=(r=s.trys).length>0&&r[r.length-1])||6!==o[0]&&2!==o[0])){s=0;continue}if(3===o[0]&&(!r||o[1]>r[0]&&o[1]<r[3])){s.label=o[1];break}if(6===o[0]&&s.label<r[1]){s.label=r[1],r=o;break}if(r&&s.label<r[2]){s.label=r[2],s.ops.push(o);break}r[2]&&s.ops.pop(),s.trys.pop();continue}o=e.call(t,s)}catch(a){o=[6,a],i=0}finally{n=r=0}if(5&o[0])throw o[1];return{value:o[0]?o[1]:void 0,done:!0}}([o,a])}}},YZ=function(t,e){var n="function"==typeof Symbol&&t[Symbol.iterator];if(!n)return t;var i,r,o=n.call(t),s=[];try{for(;(void 0===e||e-- >0)&&!(i=o.next()).done;)s.push(i.value)}catch(a){r={error:a}}finally{try{i&&!i.done&&(n=o.return)&&n.call(o)}finally{if(r)throw r.error}}return s},QZ=function(){for(var t=[],e=0;e<arguments.length;e++)t=t.concat(YZ(arguments[e]));return t},ZZ=function(t){var e="function"==typeof Symbol&&Symbol.iterator,n=e&&t[e],i=0;if(n)return n.call(t);if(t&&"number"==typeof t.length)return{next:function(){return t&&i>=t.length&&(t=void 0),{value:t&&t[i++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")},JZ=function(){function t(){}return t.isBgContainerItem=function(t){if(t.parentContainer instanceof iV)return t.parentContainer instanceof iV&&OB(t.parentContainer.name,P$.BG_CONTAINER_NAME,!0)},t.isFgContainerItem=function(t){return t.parentContainer instanceof iV&&OB(t.parentContainer.name,P$.FG_CONTAINER_NAME,!0)},t.isImage=function(e){return(e instanceof fW||e instanceof qW)&&!t.isBgContainerItem(e)},t.isEmptyPlaceholder=function(t){return t instanceof qW&&t.isStubOrEmpty},t.isDataMatrixBarcode=function(t){return t instanceof CU&&t.barcodeFormat===hU.DATA_MATRIX||t instanceof qW&&t.barcodeFormat==hU.DATA_MATRIX},t.isQrCode=function(t){return t instanceof CU&&t.isQrCode||t instanceof qW&&t.barcodeFormat==hU.QR_CODE},t.isLinearBarcode=function(t){return t instanceof CU&&t.isLinearBarcode||t instanceof qW&&(t.barcodeFormat==hU.EAN_13||t.barcodeFormat==hU.EAN_8||t.barcodeFormat==hU.UPC_A||t.barcodeFormat==hU.UPC_E||t.barcodeFormat==hU.CODE_128)},t.isVariableItem=function(t){return t.canSetIsVariable()},t.isMultiValueItem=function(t){return(t instanceof fW||t instanceof uU)&&0!==t.values.length},t.isTextType=function(t){return t===uU||uU.prototype.isPrototypeOf(t.prototype)},t.getAllowTextFormatting=function(t,e){var n,i,r,o;if(null!=t&&t instanceof kU&&t.overflowStrategy!==QV.Clip&&t.overflowStrategy!==QV.ExpandBox)return!1;var s=t instanceof GU?0:null!==(n=null==t?void 0:t.maxLineCount)&&void 0!==n?n:0,a=null!==(i=null==t?void 0:t.maxLineLength)&&void 0!==i?i:0;return!(s>0||a>0)&&(null!==(o=null===(r=null==t?void 0:t.textPermissions)||void 0===r?void 0:r.allowTextFormatting)&&void 0!==o?o:e)},t.allowMoveHorizontal=function(t){return!t.locked&&(!t.manipulationPermissions||t.manipulationPermissions.allowMoveHorizontal)},t.allowMoveVertical=function(t){return!t.locked&&(!t.manipulationPermissions||t.manipulationPermissions.allowMoveVertical)},t.allowManipulate=function(t){return!t.locked&&(!t.manipulationPermissions||t.manipulationPermissions.allowMoveVertical||t.manipulationPermissions.allowMoveHorizontal||t.manipulationPermissions.allowDelete||t.manipulationPermissions.allowRotate)},t.clearImageContent=function(t){if(null!=t){var e=t.content;e instanceof fW&&(e.source.id=null,e.source.width=null,e.source.height=null,e.isUserImage=!1,e.fillColor=new VB("rgba(0,0,0,0)"))}},t.getImageItem=function(t){if(null==t)return null;if(t instanceof fW)return t;var e=t.content;if(e instanceof fW)return e;if(null==e||e instanceof CU)return null;throw new GR("Wrong placeholder content!")},t.getImagePermissions=function(t){return null==t?null:t instanceof fW?t.imagePermissions:t.getImagePermissions()},t.getContentEffect=function(t){return t.content instanceof fW?t.content.effect:t.contentEffect},t.getAllowChangeContent=function(e){if(e instanceof CU||e instanceof qW&&e.isBarcodePlaceholder)return t.getBarcodePermissions(e).allowChangeBarcodeContent;var n=t.getImagePermissions(e),i=null==n||n.allowChangeImage,r=t.getImageItem(e);return i&&(null==r||0===r.values.length)},t.getImageMetaDataFromFile=function(e,n,i){return void 0===i&&(i=null),XZ(this,void 0,void 0,(function(){var r,o,s;return KZ(this,(function(a){switch(a.label){case 0:r={filePath:n,userId:i},a.label=1;case 1:return a.trys.push([1,3,,4]),[4,LX({url:kB(e,"/api/ImagePicker/GetFileMetadata"),type:OX.post,headers:[kX.json],data:JSON.stringify(r)})];case 2:return o=a.sent(),[2,t._parseImageMetadata(o.value)];case 3:throw s=a.sent(),new GR(JSON.parse(s.toJSON().message).ExceptionMessage);case 4:return[2]}}))}))},t.getImageMetaDataFromDesignImage=function(e,n){return XZ(this,void 0,void 0,(function(){var i,r,o;return KZ(this,(function(s){switch(s.label){case 0:i={designImageName:n},s.label=1;case 1:return s.trys.push([1,3,,4]),[4,LX({url:kB(e,"/api/ImagePicker/GetDesignImageMeta"),type:OX.post,headers:[kX.json],data:JSON.stringify(i)})];case 2:return r=s.sent(),[3,4];case 3:throw o=s.sent(),new GR(JSON.parse(o.toJSON().message).ExceptionMessage);case 4:return[2,t._parseImageMetadata(r.value)]}}))}))},t.getImageMetadataFromRemoteFile=function(e,n){return XZ(this,void 0,void 0,(function(){var i,r,o;return KZ(this,(function(s){switch(s.label){case 0:i={url:n},s.label=1;case 1:return s.trys.push([1,3,,4]),[4,LX({url:kB(e,"/api/ImagePicker/GetWebImageMeta"),type:OX.post,headers:[kX.json],data:JSON.stringify(i)})];case 2:return r=s.sent(),[3,4];case 3:throw o=s.sent(),new GR(JSON.parse(o.toJSON().message).ExceptionMessage);case 4:return[2,t._parseImageMetadata(r.value)]}}))}))},t._parseImageMetadata=function(t){var e=JSON.parse(t),n=new bW;return n.storageId=e.storageId,n.name=e.name,n.size.width=e.width,n.size.height=e.height,n},t.getTextFromRichTextItem=function(t){return RB(t.text)},t.getMaxFontSize=function(t){if(null==t||!(t instanceof uU))return null;if(!DB(t.text))return t.font.size;var e=[t.font.size];try{null!=t.text&&function(t,n,i){var r=(new DOMParser).parseFromString("<body>"+t+"</body>","application/xml"),o={acceptNode:function(t){var e=t.nodeName.toLowerCase();return n.includes(e)?NodeFilter.FILTER_ACCEPT:NodeFilter.FILTER_SKIP}};eF.IsIE()&&(o=function(t){return t.acceptNode}(o));for(var s,a=document.createTreeWalker(r.childNodes[0],NodeFilter.SHOW_ELEMENT,o,!1);a.nextNode();)s=void 0,null!=(s=function(t){var e,n,i=t.attributes.getNamedItem("style");if(null==i||null==i.value)return null;var r=i.value.split(";"),o=new Map;try{for(var s=ZZ(r),a=s.next();!a.done;a=s.next()){var l=a.value;if(null!=(l=l.trim())&&""!==l){var c=l.split(":"),u=c[0].trim(),h=c[1].trim();o.set(u,h)}}}catch(d){e={error:d}}finally{try{a&&!a.done&&(n=s.return)&&n.call(s)}finally{if(e)throw e.error}}return o}(a.currentNode))&&s.has("font-size")&&e.push(parseFloat(s.get("font-size")))}(t.text,["span","ol","ul"])}catch(n){console.error("Unexpected exception while parsing item text"),console.error(n)}return Math.max.apply(Math,QZ(e))},t.getBarcodeItem=function(t){if(null==t)return null;if(t instanceof CU)return t;var e=t.content;if(e instanceof CU)return e;if(null==e)return null;throw new GR("Wrong placeholder content!")},t.getBarcodePermissions=function(t){if(null==t)return null;if(t instanceof CU)return t.barcodePermissions;if(null!=t.contentPermissions)return t.contentPermissions.barcodePermissions;var e=t.content;return e instanceof CU?e.barcodePermissions:null},t.getImageUrlFromImageMetadata=function(t,e,n,i,r){return KX.getImageUrl(e,t.storageId,null!=n?n:t.size.width,null!=i?i:t.size.height,null,null,null!=r&&r,null,t.pageIndex)},t.updateItems=function(t,e,n,i){var r,o,s;if(null==(s=i)&&(s={}),JR.defaults(s,{addToHistory:!0,updatePhase:VZ.Final,redraw:!0}),i=s,0!==t.length){try{for(var a=ZZ(t),l=a.next();!l.done;l=a.next())this._updateItem(e,l.value,i,n)}catch(c){r={error:c}}finally{try{l&&!l.done&&(o=a.return)&&o.call(a)}finally{if(r)throw r.error}}i.redraw&&e.redraw()}},t._updateItem=function(t,e,n,i){var r=t.getHandler(e);null!=r&&null!=r.layer&&(e instanceof fW?this._updateImageItem(e,r,n,i):e instanceof qW&&this._updatePlaceholderItem(e,r,n,i))},t._updateImageItem=function(t,e,n,i){e.quickUpdate(),n.updatePhase===VZ.Final&&(t.getItemChangedEvent().fire(),e.update(),i.updateTexts())},t._updatePlaceholderItem=function(t,e,n,i){null!=t.content&&this._updateImageItem(t.content,e.content,n,i),this._hidePlaceholderButtonWhileImageLoad(e)||e.update()},t._hidePlaceholderButtonWhileImageLoad=function(t){if(t.isEmptyContent()||!t.getPermissions().showSelectButton&&!t.getPermissions().showHandleButton)return!1;var e=function(n){n.removeReady(e),t.getPermissions().showSelectButton=!0,t.update()};return t.content.addReady(e),t.getPermissions().showSelectButton=!1,t.update(),!0},t.getItemBoundsForViolationCheck=function(t){return t instanceof _K?t.getBoundsIncludingFrames():t.bounds},t.createCloneName=function(t,e,n){var i;"string"!=typeof(i="string"==typeof t?t:e.getRealItemName(t))&&(i="");var r=n.currentSurface.getAllItems({ignoreMockups:!1,excludeGroupItems:!0,flatGroupItems:!0}).toArray(),o=function(t){return r.some((function(n){return e.getRealItemName(n)===t}))};if(!o(i))return i;var s=0,a=i.match(/_(\d+)$/);if(null!=a&&i.length>=2){i=i.substr(0,i.length-a[0].length);var l=parseInt(a[1]);l>0&&(s=l)}var c,u=1;do{if(!o(c=i+"_"+(s+u).toString()))break;u++}while(u<=1e4);return"string"==typeof t?c:e.createNewItemName(t,c)},t.createImageContentForPlaceholder=function(e,n,i,r){if(e.isBarcodePlaceholder!==n instanceof _U)return null;var o,s=i.getHandler(e),a=s.getTransformedRectangle(!1);a.angle=0;var l=e.content,c=e.contentPermissions;if(e.isBarcodePlaceholder&&n instanceof _U){var u=a.clone(),h=$K(qZ.getBarcodeRatio(n.barcodeFormat),new aW(a.width,a.height));u.width=h.width,u.height=h.height;var d=void 0;null!=l.barcodeOptions?d=l.barcodeOptions:(d=new xU).pureBarcode=!0,(o=new CU(n.barcodeFormat,null,d,u.toRectangleF())).applyBarcodeData(n),e.barcodeFormat=n.barcodeFormat}else n instanceof bW&&(o=new fW(n.storageId,a.location,a.width,a.height,n.size.width/n.size.height));o instanceof fW&&n instanceof bW&&(XY.setDataToImage(n,o),o.effect=e.contentEffect,o.imagePermissions=c.imagePermissions.clone(),o.effect==HU.Colorize&&null!=e.contentFillColor&&(o.fillColor=e.contentFillColor),null!=e.contentOverlayEffect&&(o.overlayEffect=e.contentOverlayEffect.clone())),o.transform.setAngle(e.transform.angle),i.getHandler(o).updateRectangle(null,e.contentResizeMode,s,r),o.textWrappingMode=lV.Square,o.isVariable=null!=l&&l.isVariable,o instanceof CU&&(o.barcodePermissions=c.barcodePermissions.clone());var p=e.contentPermissions.imagePermissions.allowKeepOverlayColor;return null==l?(o instanceof fW&&(o.allowedSubfolder=e.allowedSubfolder,o.allowedTabs=e.allowedTabs),o.opacity=e.opacity):(l instanceof fW&&o instanceof fW&&(o.allowedSubfolder=l.allowedSubfolder,o.allowedTabs=l.allowedTabs,o.imagePermissions=l.imagePermissions.clone(),p&&t.setOverlayEffectColor(o,l.overlayEffect.color)),o.manipulationPermissions=l.manipulationPermissions.clone(),o.opacity=e.content.opacity,o.fillColor=l.fillColor.clone(),o instanceof CU&&l instanceof CU&&(o.barcodePermissions=l.barcodePermissions.clone())),o},t.positionItemInArea=function(e,n,i,r,o,s,a,l){if(void 0===o&&(o=!0),void 0===s&&(s=null),void 0===a&&(a=null),void 0===l&&(l=!0),n instanceof RU)return n.getNestedItems(!0).forEach((function(n){return t.positionItemInArea(e,n,i,r,o,s,a,l)}));var c=e.userEditContainer,u=null!=s?s.toRectangleF():c.region,h=null!=u,d=c.parentComponent.printAreas.getItem(0).bounds,p=h?u:d,f=p.center,m=o?HK.from(p):e.getPrintAreaVisualSize(c),g=Math.min(m.width/i,m.height/r),y=null!=a?a:new QL(i/2,r/2),_=function(t){var n=f;if(t instanceof kU||t instanceof fU)t.textRectangle.width*=g,t.textRectangle.height*=g,t.textRectangle.left=n.x+g*(t.textRectangle.left-y.x)-0,t.textRectangle.top=n.y+g*(t.textRectangle.top-y.y)-0;else if(t instanceof KW){var i=n.y+g*(t.baselineLocation.y-y.y);t.baselineLocation.x=n.x+g*(t.baselineLocation.x-y.x),t.baselineLocation.y=i}else{var r=e.getHandler(t).getTransformedRectangle(l),o=n.x+g*(r.centerX-y.x),s=n.y+g*(r.centerY-y.y);t.transform.setScaleX(g),t.transform.setScaleY(g),t.transform.move(o-r.centerX,s-r.centerY)}};_(n),n instanceof qW&&n.updateContentAndFrames(_),n instanceof uU&&(n.font.size*=g)},t.rotateItems=function(t,e,n,i){var r=function(e){if(e instanceof RU)return e.applyToItems(r);var o=t.getHandler(e),s=o.getTransformedRectangle(!1);s.rotateAt(i,n);var a=s.getTransform(o.getTransformedRectangle(!1));e.transform.move(a.translateX,a.translateY),e.transform.rotate(a.angle),e instanceof qW&&e.updateContentAndFrames(r)};e.forEach((function(t){return r(t)}))},t.changeItemsContent=function(t,e,n,i,r,o){var s,a,l,c,u,h,d=this,p=i.map((function(t){return t.clone()})),f=p.filter((function(t){return t instanceof RU})),m=r.filter((function(t){return t instanceof RU}));this._replaceContentFromOldToNewItems(f,m,(function(i,r){return d.changeItemsContent(t,e,n,r.items.toArray(),i.items.toArray(),o)}),o);var g=p.filter((function(t){return t instanceof uU})),y=r.filter((function(t){return t instanceof uU})),_=t.getAllItems({ignoreMockups:!1,flatGroupItems:!0}),v=_.filter((function(t){return t instanceof uU}));v=pX.without.apply(pX,QZ([v],y));try{for(var b=ZZ(y),w=b.next();!w.done;w=b.next()){var C=w.value;if(0!==C.placeholders.length){var x=function(t){var e=v.filter((function(e){return null!=e.placeholders.toArray().find((function(e){return e.name===t.name}))}));if(0===e.length)return"continue";t.value=e[0].placeholders.toArray().find((function(e){return e.name===t.name})).value};try{for(var E=(l=void 0,ZZ(C.placeholders.toArray())),S=E.next();!S.done;S=E.next())x(S.value)}catch(L){l={error:L}}finally{try{S&&!S.done&&(c=E.return)&&c.call(E)}finally{if(l)throw l.error}}}}}catch(B){s={error:B}}finally{try{w&&!w.done&&(a=b.return)&&a.call(b)}finally{if(s)throw s.error}}this._replaceContentFromOldToNewItems(g,y,(function(t,e){t.text=e.text,null!=e.tags&&(t.tags=e.tags)}),o);var P=function(t,e){var i=new bW;i.size=new aW(e.imageContent.source.width,e.imageContent.source.height),i.storageId=e.imageContent.source.id,i.name=e.imageContent.name,i.origin=e.imageContent.source.origin,i.isVector=e.imageContent.source.isVector,i.pageIndex=e.imageContent.source.pageIndex,n.execute(UQ.setImageMetadata,{dataList:[{item:t,imageData:i,tags:e.tags}]}),e.isEmptyContent||t.isEmptyContent||null==e.content.tags||(t.content.tags=e.content.tags)},O=function(t){return t instanceof qW&&!t.isStubOrEmpty&&t.content instanceof fW},k=p.filter(O),T=r.filter((function(t){return t instanceof qW})),I=_.filter(O);I=pX.without.apply(pX,QZ([I],T));var A=T.filter((function(t){return null!=t.linkId}));if(0!==A.length){var M=new Set,D=function(t){var e=I.find((function(e){return e.linkId===t.linkId&&!e.isStubOrEmpty&&e.content instanceof fW}));if(null==e)return"continue";M.add(e.linkId),P(t,e),T=pX.without(T,t)};try{for(var R=ZZ(A),F=R.next();!F.done;F=R.next())D(F.value)}catch(N){u={error:N}}finally{try{F&&!F.done&&(h=R.return)&&h.call(R)}finally{if(u)throw u.error}}k=k.filter((function(t){return!M.has(t.linkId)}))}this._replaceContentFromOldToNewItems(k,T,P,o)},t._replaceContentFromOldToNewItems=function(t,e,n,i){for(var r=t.map((function(t){return t.name})),o=[],s=function(t){r.find((function(n){return n===e[t].name}))&&(r.splice(r.indexOf(e[t].name),1),o.push(t))},a=0;a<e.length;a++)s(a);var l,c=function(s){var a=e[s],c=void 0;o.includes(s)?c=t.find((function(t){return t.name===a.name})):i&&0!==r.length&&(l=r.shift(),c=t.find((function(t){return t.name===l}))),null!=c&&(n(a,c.clone()),t.splice(t.indexOf(c),1))};for(a=0;a<e.length;a++)c(a)},t.getEmptyPlaceholdersFromProduct=function(t,e){void 0===e&&(e=!1);var n=[];return t.getAllItems({flatGroupItems:!0,ignoreMockups:!0}).filter((function(t){if(!(t instanceof qW&&t.isStubOrEmpty&&null!=t.parentContainer&&t.parentContainer.name===P$.MAIN_CONTAINER_NAME))return!1;if(e)return!0;if(null!=t.linkId){if(n.includes(t.linkId))return!1;n.push(t.linkId)}return!0}))},t.waitForItemsUpdated=function(t,e){return XZ(this,void 0,void 0,(function(){var n,i;return KZ(this,(function(r){switch(r.label){case 0:return n=t.filter((function(t){return t instanceof RU})).map((function(t){return t.getNestedItems(!0)})).reduce((function(t,e){return QZ(t,e)}),[]),i=t.concat(n).map((function(t){return e.handlerFactory.get(t)})),[4,e.waitUpdate(i)];case 1:return r.sent(),[2]}}))}))},t.isTextItemHandlerReady=function(t,e){if(t instanceof uU){var n=e.getHandler(t);if(n instanceof rK&&null==n.currentTextImage.cacheFileId)return!1;if(n instanceof pJ&&!n.ready)return!1}return!0},t.setOverlayEffectColor=function(e,n){null!=e&&(t._getItemOverlayEffect(e).color=n)},t._getItemOverlayEffect=function(t){return t instanceof fW?(t.overlayEffect=null!=t.overlayEffect?t.overlayEffect:new sW,t.overlayEffect):(t.contentOverlayEffect=null!=t.contentOverlayEffect?t.contentOverlayEffect:new sW,t.contentOverlayEffect)},t}();!function(t){t[t.InProgress=0]="InProgress",t[t.Final=1]="Final"}(VZ||(VZ={}));var tJ,eJ,nJ=function(t,e,n,i){return new(n||(n=Promise))((function(r,o){function s(t){try{l(i.next(t))}catch(e){o(e)}}function a(t){try{l(i.throw(t))}catch(e){o(e)}}function l(t){var e;t.done?r(t.value):(e=t.value,e instanceof n?e:new n((function(t){t(e)}))).then(s,a)}l((i=i.apply(t,e||[])).next())}))},iJ=function(t,e){var n,i,r,o,s={label:0,sent:function(){if(1&r[0])throw r[1];return r[1]},trys:[],ops:[]};return o={next:a(0),throw:a(1),return:a(2)},"function"==typeof Symbol&&(o[Symbol.iterator]=function(){return this}),o;function a(o){return function(a){return function(o){if(n)throw new TypeError("Generator is already executing.");for(;s;)try{if(n=1,i&&(r=2&o[0]?i.return:o[0]?i.throw||((r=i.return)&&r.call(i),0):i.next)&&!(r=r.call(i,o[1])).done)return r;switch(i=0,r&&(o=[2&o[0],r.value]),o[0]){case 0:case 1:r=o;break;case 4:return s.label++,{value:o[1],done:!1};case 5:s.label++,i=o[1],o=[0];continue;case 7:o=s.ops.pop(),s.trys.pop();continue;default:if(!((r=(r=s.trys).length>0&&r[r.length-1])||6!==o[0]&&2!==o[0])){s=0;continue}if(3===o[0]&&(!r||o[1]>r[0]&&o[1]<r[3])){s.label=o[1];break}if(6===o[0]&&s.label<r[1]){s.label=r[1],r=o;break}if(r&&s.label<r[2]){s.label=r[2],s.ops.push(o);break}r[2]&&s.ops.pop(),s.trys.pop();continue}o=e.call(t,s)}catch(a){o=[6,a],i=0}finally{n=r=0}if(5&o[0])throw o[1];return{value:o[0]?o[1]:void 0,done:!0}}([o,a])}}},rJ=function(){function t(){this._local="",this._allowWriteToGlobalClipboard=!1,this._allowReadFromGlobalClipboard=!1}return t.prototype.init=function(){this._allowWriteToGlobalClipboard=this._allowReadFromGlobalClipboard=null!=window.navigator.clipboard},t.prototype.read=function(){return nJ(this,void 0,void 0,(function(){var t,e;return iJ(this,(function(n){switch(n.label){case 0:if(!this._allowReadFromGlobalClipboard)return[2,this._local];t=this._createTextArea(),document.body.appendChild(t),t.focus(),t.select(),n.label=1;case 1:return n.trys.push([1,3,4,5]),[4,window.navigator.clipboard.readText()];case 2:return[2,n.sent()];case 3:return e=n.sent(),console.warn(e),this._allowReadFromGlobalClipboard=!1,[2,this._local];case 4:return document.body.removeChild(t),[7];case 5:return[2]}}))}))},t.prototype.write=function(t){return nJ(this,void 0,void 0,(function(){var e,n;return iJ(this,(function(i){switch(i.label){case 0:if(this._local=t,!this._allowWriteToGlobalClipboard)return[3,5];e=this._createTextArea(),document.body.appendChild(e),e.focus(),e.select(),i.label=1;case 1:return i.trys.push([1,3,4,5]),[4,window.navigator.clipboard.writeText(t)];case 2:return i.sent(),[3,5];case 3:return n=i.sent(),console.warn(n),this._allowWriteToGlobalClipboard=!1,[3,5];case 4:return document.body.removeChild(e),[7];case 5:return[2]}}))}))},t.prototype._createTextArea=function(){var t=document.createElement("textarea");return t.style.position="fixed",t.style.top="0",t.style.left="0",t.style.width="2em",t.style.height="2em",t.style.padding="0",t.style.background="transparent",t.style.border="none",t.style.outline="none",t.style.boxShadow="none",t},t}(),oJ=function(){function t(t,e){this._canvas=null,this._activeTextCanvasHandler=null,this._clipboard=null,this._manager=null,this._rectangle=null,this._previewScale=1,this._textFormattingEnabled=!0,this._transform=null,this._inlineStyle=null,this._paragraphStyle=null,this.styleChanged=new rB,this.initialized=new rB,this._originalCanvasFloatingItemMenuEnabled=!1,this._selectionValue=null,this._selectionAnchor=null,this._mouseSelectionIsActive=!1,this._cursorBlinkInterval=null,this._cursorBlink=!0,this._cursorEnabled=!1,this._ready=!1,this._canvas=t,this._activeTextCanvasHandler=e,this._clipboard=new rJ}return t.prototype.init=function(t,e,n){this._ready=!0,this._clipboard.init(),this.initialized.fire()},t.prototype.show=function(t,e){var n,i,r=this;this._manager=t,this._activeTextCanvasHandler.moveActiveTextCanvasOnTop(),this._rectangle=e.rectangle,this._previewScale=null!==(n=e.previewScale)&&void 0!==n?n:1,this._transform=e.transform,this._textFormattingEnabled=null!==(i=e.textFormattingEnabled)&&void 0!==i?i:this._canvas.viewer.textFormattingEnabled,this._originalCanvasFloatingItemMenuEnabled=this._canvas.floatingItemToolbarEnabled,this._canvas.floatingItemToolbarEnabled=!1,this._cursorEnabled=!0,this._setCursor(QL.fromIPoint(e.point)),this._selectionAnchor=this._textHandler.getCursor().getPosition(),null==this._cursorBlinkInterval&&(this._cursorBlinkInterval=setInterval((function(){r._drawCursor()}),500)),this._textHandler.clearUndoRedo()},t.prototype.hide=function(){this._selection=null,this._selectionAnchor=null,this._canvas.floatingItemToolbarEnabled=this._originalCanvasFloatingItemMenuEnabled,this._cursorEnabled=!1,this._canvas.clearTextCursor();var t=this._getFormattedText();return this._manager=null,this._activeTextCanvasHandler.moveActiveTextCanvasBack(),t},Object.defineProperty(t.prototype,"active",{get:function(){return null!=this._manager},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"ready",{get:function(){return this._ready},enumerable:!0,configurable:!0}),t.prototype.setTextWhizz=function(t){this._textWhizz=t},Object.defineProperty(t.prototype,"_textHandler",{get:function(){var t;return null==this._manager&&console.warn("TextEditor: Cannot access TextHandler when the editor is hidden"),null===(t=this._manager)||void 0===t?void 0:t.textHandler},enumerable:!0,configurable:!0}),t.prototype._getFormattedText=function(){return this._textHandler.getTextRange().getFormattedTextForDefaults()},Object.defineProperty(t.prototype,"_selection",{get:function(){return this._selectionValue},set:function(t){this._selectionValue=t,this._drawCursor(!0),this._manager.drawSelection(t),this._updateStyles()},enumerable:!0,configurable:!0}),t.prototype.undo=function(){this._textHandler.undo();var t=this._textHandler.getUndoInfo(),e=this._textHandler.getUndoRedoCursorOrSelection(t.index);if(e.isValid())if(lJ.comparePosition(e.getStart(),e.getEnd())){var n=e.getStart();this._textHandler.getCursor().set(n)}else this._selection=e;this._manager.updateItemHandler(this._selection),this._onCursorChanged(!0)},t.prototype.redo=function(){this._textHandler.redo();var t=this._textHandler.getUndoInfo(),e=this._textHandler.getUndoRedoCursorOrSelection(t.index);if(e.isValid())if(lJ.comparePosition(e.getStart(),e.getEnd())){var n=e.getStart();this._textHandler.getCursor().set(n)}else this._selection=e;this._manager.updateItemHandler(this._selection),this._onCursorChanged(!0)},Object.defineProperty(t.prototype,"canUndo",{get:function(){var t=this._textHandler.getUndoInfo();return t.count>1&&t.index>0},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"canRedo",{get:function(){var t=this._textHandler.getUndoInfo();return t.count>1&&t.index<t.count-1},enumerable:!0,configurable:!0}),t.prototype.processMouseEvent=function(t){var e=t.type,n=new QL(t.x,t.y),i=this._textHandler.getCursor();if("dblclick"===e)this._setCursor(n),this._selection=i.getPosition().getWord(),this._selectionAnchor=this._selection.getStart(),i.set(this._selection.getEnd());else if("mousedown"===e)this._selection=null,this._setCursor(n),this._mouseSelectionIsActive=!0,this._selectionAnchor=i.getPosition();else if("mousemove"===e){if(this._mouseSelectionIsActive){this._setCursor(n,!1);var r=new this._textWhizz.TextRange(this._selectionAnchor,i.getPosition());null!=this._selection&&lJ.compareSelection(this._selection,r)||(this._selection=r,this._drawCursor(!0))}}else if("mouseup"===e){this._mouseSelectionIsActive=!1;var o=i.getPosition();lJ.comparePosition(o,this._selectionAnchor)?this._selection=null:(r=new this._textWhizz.TextRange(this._selectionAnchor,i.getPosition()),null!=this._selection&&lJ.compareSelection(this._selection,r)||(this._selection=r))}},t.prototype.processKeyEvent=function(t){var e=!0===t.ctrlKey||!0===t.metaKey,n=!0===t.shiftKey,i=this._textHandler.getCursor(),r=!0,o=this._keyEventToDirection(t);if(null!=o)i.move(o),n?this._selection=new this._textWhizz.TextRange(this._selectionAnchor,i.getPosition()):e&&(this._selectionAnchor=i.getPosition());else if(t.keyCode===BX.Backspace||t.keyCode===BX.Delete){if(null!=this._selection)this._selection.isValid()&&i.set(this._selection.delete(this._textWhizz.RangeCursorPos.left)),this._selection=null;else{var s=i.getPosition();if(i.move(t.keyCode===BX.Backspace?e?this._textWhizz.MoveDirection.leftWord:this._textWhizz.MoveDirection.left:e?this._textWhizz.MoveDirection.rightWord:this._textWhizz.MoveDirection.right)){var a=t.keyCode===BX.Backspace?i.getPosition():s,l=t.keyCode===BX.Backspace?s:i.getPosition(),c=t.keyCode===BX.Backspace?this._textWhizz.RangeCursorPos.right:this._textWhizz.RangeCursorPos.left;i.set(new this._textWhizz.TextRange(a,l).delete(c))}}this._selectionAnchor=i.getPosition()}else if(e)r=this._applyHotKey(t.keyCode,i,n);else if(t.keyCode===BX.Enter||t.keyCode===BX.Tab||1===t.key.length)if(null!=this._selection&&this._selection.isValid()&&i.set(this._selection.delete(this._textWhizz.RangeCursorPos.left)),t.keyCode!==BX.Enter||n){var u=t.key;t.keyCode===BX.Enter?u="\n":t.keyCode===BX.Tab&&(u="\t"),i.insertPlainText(u)}else i.insertLine();return n||e||(this._selectionAnchor=i.getPosition(),this._selection=null),this._manager.updateItemHandler(this._selection),this._onCursorChanged(!0),r},t.prototype._keyEventToDirection=function(t){var e=t.ctrlKey||t.metaKey;switch(t.keyCode){case BX.Left:return e?this._textWhizz.MoveDirection.leftWord:this._textWhizz.MoveDirection.left;case BX.Right:return e?this._textWhizz.MoveDirection.rightWord:this._textWhizz.MoveDirection.right;case BX.Up:return this._textWhizz.MoveDirection.up;case BX.Down:return this._textWhizz.MoveDirection.down;case BX.Home:return e?this._textWhizz.MoveDirection.textStart:this._textWhizz.MoveDirection.lineStart;case BX.End:return e?this._textWhizz.MoveDirection.textEnd:this._textWhizz.MoveDirection.lineEnd}return null},t.prototype._applyHotKey=function(t,e,n){var i,r,o=this;if(void 0===n&&(n=!1),t===BX.Space)this._clearFormat();else if(t!==BX.KeyA||n){if(t===BX.KeyC)(null===(i=this._selection)||void 0===i?void 0:i.isValid())&&this._clipboard.write(RB(this._selection.getFormattedTextForDefaults(),"\n"));else if(t===BX.KeyV)(null===(r=this._selection)||void 0===r?void 0:r.isValid())&&e.set(this._selection.delete(this._textWhizz.RangeCursorPos.left)),this._clipboard.read().then((function(t){e.insertPlainText(t),o._manager.updateItemHandler(o._selection),o._onCursorChanged(!0)}));else if(t===BX.KeyZ){if(!this.canUndo)return!1;this.undo()}else if(t===BX.KeyY){if(!this.canRedo)return!1;this.redo()}}else this._selection=this._textHandler.getTextRange();if(!this._textFormattingEnabled)return!0;if(t===BX.KeyA&&n){var s=!this.getCharStyle().allCaps;this.updateCharStyle({font:{allCaps:s}})}else t===BX.KeyB?(s=!this.getCharStyle().fauxBold,this.updateCharStyle({font:{fauxBold:s}})):t===BX.KeyI?(s=!this.getCharStyle().fauxItalic,this.updateCharStyle({font:{fauxItalic:s}})):t===BX.KeyU?(s=!this.getCharStyle().underline,this.updateCharStyle({underline:s})):t===BX.KeyPeriod&&n?(s=this.getCharStyle().fontSize+1,this.updateCharStyle({font:{size:s}})):t===BX.KeyComma&&n?(s=this.getCharStyle().fontSize-1,this.updateCharStyle({font:{size:s}})):t===BX.KeyEqual&&n||t===BX.KeyPeriod?(s=!this.getCharStyle().superscript,this.updateCharStyle({superscript:s,subscript:!s&&void 0})):t===BX.KeyEqual||t===BX.KeyComma?(s=!this.getCharStyle().subscript,this.updateCharStyle({subscript:s,superscript:!s&&void 0})):t===BX.KeyL?this.updateParagraphStyle((function(t){return t.alignment=o._textWhizz.TextAlignment.left,t})):t===BX.KeyR?this.updateParagraphStyle((function(t){return t.alignment=o._textWhizz.TextAlignment.right,t})):t===BX.KeyE&&this.updateParagraphStyle((function(t){return t.alignment=o._textWhizz.TextAlignment.center,t}));return!0},t.prototype._clearFormat=function(){if(null!=this._selection){var t=this._textHandler.getDefaultCharStyle();this._selection.updateCharStyles((function(e){return t}))}},t.prototype._setCursor=function(t,e){void 0===e&&(e=!0),t.translate(-this._canvas.offset.x,-this._canvas.offset.y),null!=this._transform&&(t.rotateAt(-this._transform.angle,this._rectangle.center),t.translate(-this._transform.translateX,-this._transform.translateY)),t.scale(1/this._previewScale,1/this._previewScale);var n=this._textHandler,i=n.getPosition(t.x,t.y);n.getCursor().set(i),this._onCursorChanged(e)},t.prototype._onCursorChanged=function(t){this._updateStyles(),this._drawCursor(t)},t.prototype._drawCursor=function(t){var e=this;void 0===t&&(t=!1),this._cursorEnabled&&(this._cursorBlink=t||!this._cursorBlink,this._cursorBlink&&null==this._selection&&!this._mouseSelectionIsActive?this._canvas.drawTextCursor((function(t){var n=e._textHandler.getCursor().getPath();gB(e._previewScale,1)||n.scale(e._previewScale,e._previewScale),n.addToContext(t)})):this._canvas.clearTextCursor())},t.prototype.updateCharStyle=function(t){var e,n=this,i=function(e){if(null!=t.font){var i=t.font;null!=i.postScriptName&&(e.fontName=i.postScriptName),null!=i.size&&(e.fontSize=i.size),null!=i.fauxBold&&(e.fauxBold=i.fauxBold),null!=i.fauxItalic&&(e.fauxItalic=i.fauxItalic),null!=i.allCaps&&(e.allCaps=i.allCaps)}return null!=t.color&&(e.fillColor=n._manager.addColorToPalette(t.color)),null!=t.underline&&(e.underline=t.underline),null!=t.leading&&(e.leading=t.leading),null!=t.tracking&&(e.tracking=t.tracking),null!=t.stroke&&(t.stroke.enabled?(null!=t.stroke.color&&(e.strokeColor=n._manager.addColorToPalette(t.stroke.color)),null!=t.stroke.size&&(e.strokeWidth=t.stroke.size)):(e.strokeColor=n._manager.addColorToPalette(new VB({r:0,g:0,b:0,a:0})),e.strokeWidth=0)),Array.isArray(t.openType)&&t.openType.length&&t.openType.forEach((function(t){return e.openType.set(n._textWhizz.OpenTypeFeature[t.tag],t.value)})),null!=t.subscript&&(e.subscript=t.subscript),null!=t.superscript&&(e.superscript=t.superscript),e},r=this._selection,o=function(){null!=r&&r.isValid()&&r.updateCharStyles(i),n._updateInlineStyles(),n._manager.updateItemHandler(n._selection)},s=null===(e=t.font)||void 0===e?void 0:e.postScriptName;if(null==s||this._canvas.fontRegistry.containsFonts([s])){o();var a=i(this._textHandler.getCursor().getCharStyle());this._textHandler.getCursor().setCharStyle(a),this._drawCursor(!0)}else this._canvas.fontRegistry.loadFonts([s]).finally(o)},t.prototype.updateParagraphStyle=function(t){null!=this._selection&&this._selection.isValid()&&this._selection.updateParagraphStyles(t);var e=t(this._textHandler.getCursor().getParagraphStyle());this._textHandler.getCursor().setParagraphStyle(e),this._manager.updateItemHandler(this._selection),this._drawCursor(!0)},t.prototype.getCharStyle=function(){if(null!=this._selection&&this._selection.isValid()){var t=this._selection.getCharStyles();if(t.size()>0)return t.get(0)}return this._textHandler.getCursor().getCharStyle()},t.prototype.getParagraphStyles=function(){return this._textHandler.getCursor().getParagraphStyle()},t.prototype._updateStyles=function(){if(this.active){var t=this._updateInlineStyles(),e=this._updateParagraphStyles();(t||e)&&this.styleChanged.fire()}},t.prototype._updateInlineStyles=function(){var t=this,e={},n=this.getCharStyle();return e.font={postScriptName:n.fontName,size:n.fontSize,fauxBold:n.fauxBold,fauxItalic:n.fauxItalic,allCaps:n.allCaps},e.color=this._manager.getPaletteColorAt(n.fillColor.index),e.underline=n.underline,e.leading=n.leading,e.tracking=n.tracking,e.superscript=n.superscript,e.subscript=n.subscript,e.openType=Object.keys(this._textWhizz.OpenTypeFeature).filter((function(e){return 1===n.openType.get(t._textWhizz.OpenTypeFeature[e])})).map((function(t){return new gY(t,1)})),e.stroke={color:this._manager.getPaletteColorAt(n.strokeColor.index),size:n.strokeWidth,enabled:this._isStrokeEnabled(n)},!pX.isEqual(this._inlineStyle,e)&&(this._inlineStyle=e,!0)},t.prototype._updateParagraphStyles=function(){var t={},e=this.getParagraphStyles();return t.alignment=this._textWhizzAlignmentToAlignment(e.alignment),t.firstLineIndent=e.firstLineIndent,t.leftIndent=e.leftIndent,t.rightIndent=e.rightIndent,t.spaceAfter=e.spaceAfter,t.spaceBefore=e.spaceBefore,!pX.isEqual(this._paragraphStyle,t)&&(this._paragraphStyle=t,!0)},Object.defineProperty(t.prototype,"inlineStyle",{get:function(){return this.active?this._inlineStyle:null},set:function(t){this.active&&this.updateCharStyle(t)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"paragraphStyle",{get:function(){return this.active?this._paragraphStyle:null},set:function(e){var n=this;this.active&&(this.updateParagraphStyle((function(i){return null!=e.alignment&&(i.alignment=t.alignmentToTextWhizzAlignment(e.alignment,n._textWhizz)),null!=e.firstLineIndent&&(i.firstLineIndent=e.firstLineIndent),null!=e.leftIndent&&(i.leftIndent=e.leftIndent),null!=e.rightIndent&&(i.rightIndent=e.rightIndent),null!=e.spaceAfter&&(i.spaceAfter=e.spaceAfter),null!=e.spaceBefore&&(i.spaceBefore=e.spaceBefore),i})),this._updateParagraphStyles())},enumerable:!0,configurable:!0}),t.prototype._isStrokeEnabled=function(t){var e=t.strokeColor;return t.strokeWidth>0||e.getType()===this._textWhizz.ColorType.rgb&&e.A>0||e.getType()===this._textWhizz.ColorType.indexed&&this._manager.getPaletteColorAt(e.index).alpha>0},t.alignmentToTextWhizzAlignment=function(t,e){switch(t){case ZV.Center:return e.TextAlignment.center;case ZV.Right:return e.TextAlignment.right;case ZV.Justify:return e.TextAlignment.justification;case ZV.LastLeft:return e.TextAlignment.justificationLastLeft;case ZV.LastCenter:return e.TextAlignment.justificationLastCenter;case ZV.LastRight:return e.TextAlignment.justificationLastRight;case ZV.Left:default:return e.TextAlignment.left}},t.verticalAlignmentToTextWhizz=function(t,e){switch(t){case JV.Top:return e.VerticalAlignment.top;case JV.Center:return e.VerticalAlignment.center;case JV.Bottom:return e.VerticalAlignment.bottom;default:return e.VerticalAlignment.top}},t.prototype._textWhizzAlignmentToAlignment=function(t){switch(t){case this._textWhizz.TextAlignment.center:return ZV.Center;case this._textWhizz.TextAlignment.right:return ZV.Right;case this._textWhizz.TextAlignment.justification:return ZV.Justify;case this._textWhizz.TextAlignment.justificationLastLeft:return ZV.LastLeft;case this._textWhizz.TextAlignment.justificationLastCenter:return ZV.LastCenter;case this._textWhizz.TextAlignment.justificationLastRight:return ZV.LastRight;case this._textWhizz.TextAlignment.left:default:return ZV.Left}},t}(),sJ=function(){function t(){}return t.insert=function(t,e,n){if(null==t)throw new Error("input string must not be null");if(e<0)throw new Error("index must be positive number");if(e>t.length)throw new console.error("index must not be greater than string length");return t.substring(0,e)+n+t.substring(e)},t}(),aJ=function(){function t(){}return t.prototype.getTextForFrameMeasure=function(t){return""===t||null==t?"X":(this._isEmptyFirstLine(t)&&(t=this._insertIntoFirstLine(t,"X")),this._isEmptyLastLine(t)&&(t=this._insertIntoLastLine(t,"X")),t)},t.prototype._isEmptyFirstLine=function(t){return!!(t=this._normalizeTags(t)).startsWith("<p></p>")||!!t.startsWith("<p><span><br/>")||!!t.startsWith("<p><br/>")},t.prototype._insertIntoFirstLine=function(t,e){return t.startsWith("<p></p>")||t.startsWith("<p><br/>")?sJ.insert(t,3,"X"):t.startsWith("<p><span>")?sJ.insert(t,9,"X"):t},t.prototype._isEmptyLastLine=function(t){return!!(t=this._normalizeTags(t)).endsWith("<p></p>")||!!t.endsWith("<p><span><br/></span></p>")||!!t.endsWith("<p><br/></p>")},t.prototype._insertIntoLastLine=function(t,e){var n=t.lastIndexOf("<p>");return t.substring(0,n)+"<p><span>X</span></p>"},t.prototype._normalizeTags=function(t){return t.replace("<br />","<br/>").replace("<br>","<br/>").replace("<br >","<br/>")},t}(),lJ=function(){function t(t){var e=this;this._canvas=null,this._textEditor=null,this._textRenderer=null,this._exitedEditModeEvent=new sB,this._enteredEditModeEvent=new sB,this._textProcessor=new aJ,this._isDisposed=!1,this._failed=!1,this._initialFormattedText=null,this._waitMobileTextEditorInit=!1,this._stateValue="static",this._isStaticTextImageValid=!1,this._staticTextImageChanged=new rB,this._throttleRedrawText=pX.throttle(this._redrawActiveText,100),this._onCanvasZoomChanged=function(){e._isStaticTextImageValid=!1,e.ready&&e._redrawText()},this._onCanvasSelectedItemHandlerChanged=function(){"inEdit"===e._state&&e.exitEditMode(),e._state=e._canvas.isOnlyThisItemHandlerSelected(e._itemHandler)?"active":"static"},this._onCanvasSelectionLocked=function(){e.isStatic||(e._isStaticTextImageValid=!1,e._updateStaticTextImage())},this._onMobileTextEditorInitialized=function(){e._waitMobileTextEditorInit=!1,e._itemHandler==e._canvas.currentItemHandler?e.enterEditMode(0,0):e._canvas.redraw()},this._itemHandler=t,this._canvas=this._itemHandler.canvas,this._textWhizz=this._canvas.textWhizz,this._textEditor=this._canvas.textEditor,this._textRenderer=this._canvas.textRenderer,this._stateValue=this._canvas.isOnlyThisItemHandlerSelected(t)?"active":"static",this.bindToCanvas()}return t.prototype.bindToCanvas=function(){this._canvas.add_zoomChanged(this._onCanvasZoomChanged),this._canvas.add_selectedItemHandlerChanged(this._onCanvasSelectedItemHandlerChanged),this._canvas.add_onSelectionLocked(this._onCanvasSelectionLocked)},t.prototype.unbindFromCanvas=function(){this._canvas.remove_zoomChanged(this._onCanvasZoomChanged),this._canvas.remove_selectedItemHandlerChanged(this._onCanvasSelectedItemHandlerChanged),this._canvas.remove_onSelectionLocked(this._onCanvasSelectionLocked)},Object.defineProperty(t.prototype,"textHandler",{get:function(){return this._textHandler},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"_state",{get:function(){return this._stateValue},set:function(t){this._stateValue!==t&&(this._stateValue=t,this._onTextStateChanged())},enumerable:!0,configurable:!0}),t.prototype._onTextStateChanged=function(){this.ready&&("static"===this._state&&this._isStaticTextImageValid||this.isMobile&&"inEdit"==this._state?this._textRenderer.clearText():this.isMobile||this.updateText("frame"),this._redrawText())},Object.defineProperty(t.prototype,"isStatic",{get:function(){return"static"===this._state},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"isActive",{get:function(){return"active"===this._state},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"isInEdit",{get:function(){return"inEdit"===this._state},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"exitedEditModeEvent",{get:function(){return this._exitedEditModeEvent},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"enteredEditModeEvent",{get:function(){return this._enteredEditModeEvent},enumerable:!0,configurable:!0}),t.prototype.add_staticTextImageChanged=function(t){this._staticTextImageChanged.add(t)},t.prototype.remove_staticTextImageChanged=function(t){this._staticTextImageChanged.remove(t)},Object.defineProperty(t.prototype,"ready",{get:function(){return null!=this._textWhizz&&this._ready},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"failed",{get:function(){return this._failed},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"activeTextEditor",{get:function(){return"inEdit"===this._state?this._textEditor:null},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"waitMobileTextEditorInit",{get:function(){return this._waitMobileTextEditorInit},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"isCropped",{get:function(){return null==this._isCropped&&(this._isCropped=this._checkTextCropped()),this._isCropped},enumerable:!0,configurable:!0}),t.prototype.getPaletteColorAt=function(t){return this._itemHandler.item.colorPalette.get(t)},t.prototype.addColorToPaletteReturnIndex=function(t){var e=this._itemHandler.item.colorPalette.indexOf((function(e){return e.equals(t)}));if(-1===e){this._itemHandler.item.colorPalette.add(t);var n=new VB(t.preview);this._textHandler.getColorPalette().add(new this._textWhizz.Color(this._textWhizz.ColorType.rgb,[n.b,n.g,n.r,n.a])),e=this._textHandler.getColorPalette().getSize()-1}return e},t.prototype.addColorToPalette=function(t){var e=this.addColorToPaletteReturnIndex(t);return new this._textWhizz.Color(this._textWhizz.ColorType.indexed,[e])},Object.defineProperty(t.prototype,"_fontRegistry",{get:function(){var t,e;return null===(e=null===(t=this._canvas)||void 0===t?void 0:t.fontRegistry)||void 0===e?void 0:e.textWhizzFontRegistry},enumerable:!0,configurable:!0}),t.prototype.updateText=function(e){if(void 0===e&&(e=null),null!=this._textWhizz&&null!=this._fontRegistry&&(this.isMobile||"text"!==e||this._itemHandler.item.text!==this._getFormattedText())){this._ready=!1;try{null==this._textHandler||null==e||"text"==e?(this._textHandler=new this._textWhizz.TextHandler(this._fontRegistry,72),this._itemHandler.initTextWhizzHandler(this._textHandler,null,!1)):"frame"===e?this._itemHandler.updateTextWhizzFrames(this._textHandler):"wrappingPath"===e&&this._itemHandler.setTextWhizzWrappingPath(this._textHandler)}catch(i){throw this._failed=!0,t.createException(i,this._textWhizz)}this._failed=!1,this._isCropped=null,this._ready=!0;var n=this.measureText();this._isStaticTextImageValid=!1,this._itemHandler.updateRectangle(n),this._redrawText(!0),"inEdit"==this._state&&this.isMobile&&(this.exitEditMode(),this.enterEditMode(0,0))}},t.prototype.transformText=function(t){var e,n=this._itemHandler.item;this._textRenderer.transformText(this._textHandler,t,this._itemHandler.getControlCenter(),n.previewScale,n.opacity,null===(e=n.mask)||void 0===e?void 0:e.vectorMask)},t.prototype.measureText=function(t){var e=this;void 0===t&&(t=!1);var n=this._textHandler.getBounds();if(this._isBounded()){for(var i=function(t){var n=e._textHandler.getFrame(t);if(n instanceof e._textWhizz.ShapeTextFrame)return n.shape},r=i(0),o=1;o<this._textHandler.getFrameCount();o++)r=this._textWhizz.Path.union(r,i(o));if(t){var s=new this._textWhizz.Path;s.rect(n.x,n.y,n.width,n.height),r=this._textWhizz.Path.union(r,s)}n=r.getBounds()}else if(gB(0,n.width)&&gB(0,n.height)&&""===this._getFormattedText()){var a=new this._textWhizz.TextHandler(this._fontRegistry,72);this._itemHandler.initTextWhizzHandler(a,"X",!0),n=a.getBounds()}var l=this._itemHandler.item.previewScale;return new aB(n.x*l,n.y*l,n.width*l,n.height*l)},t.prototype.measureTextFrame=function(e){void 0===e&&(e=!1);var n=null;try{n=new this._textWhizz.TextHandler(this._fontRegistry,72);var i=this._itemHandler.getTextForRendering(),r=e?this._getFormattedText():this._textProcessor.getTextForFrameMeasure(i);this._itemHandler.initTextWhizzHandler(n,r,!0)}catch(s){throw t.createException(s,this._textWhizz)}var o=n.getBounds();return new aB(o.x,o.y,o.width,o.height)},t.prototype.clearText=function(){this._textRenderer.clearText()},t.prototype._isBounded=function(){return this._textHandler.getFrame(0)instanceof this._textWhizz.ShapeTextFrame},t.prototype._redrawText=function(t){"static"===this._state?this._isStaticTextImageValid||this._updateStaticTextImage():"active"!==this._state&&this.isMobile||(this._throttleRedrawText(),t&&this._canvas.redrawDesign())},t.prototype._updateStaticTextImage=function(){var t=this.measureText(!0);this._itemHandler.clearImageContainer();var e=this._textRenderer.getTextImage(this._textHandler,t,this._itemHandler.item.previewScale);this._staticTextImageChanged.fire({url:e,rect:t}),this._isStaticTextImageValid=!0},t.prototype._redrawActiveText=function(){var t;if(!this._isDisposed&&("active"===this._state||"inEdit"===this._state)){var e=this._itemHandler.item,n=!this.isInEdit&&this._itemHandler.isEmptyTextPlaceholder()?.5:1;this._textRenderer.drawText(this._textHandler,e.transform,this._itemHandler.getControlCenter(),e.previewScale,e.opacity*n,"inEdit"!=this._state?null===(t=e.mask)||void 0===t?void 0:t.vectorMask:null)}},t.prototype.drawSelection=function(t){if(null==t?void 0:t.isValid()){var e=this._itemHandler.item;this._textRenderer.drawSelection(this._textHandler,t,e.transform,this._itemHandler.getControlCenter(),e.previewScale)}else this._redrawActiveText()},Object.defineProperty(t.prototype,"isMobile",{get:function(){return this._textEditor instanceof EY},enumerable:!0,configurable:!0}),t.prototype._getFormattedText=function(){return this._textHandler.getTextRange().getFormattedTextForDefaults()},t.prototype.processMouseEvent=function(t,e){var n=t.type,i=new QL(t.x,t.y);if("inEdit"!==this._state&&"dblclick"!==n)return!1;if(!e&&("mousedown"===n||"dblclick"===n)&&"inEdit"===this._state)return this.exitEditMode(),!1;if("dblclick"===n&&"inEdit"!==this._state){if(this.isMobile&&!this._textEditor.ready)return this._textEditor.initialized.remove(this._onMobileTextEditorInitialized),this._textEditor.initialized.add(this._onMobileTextEditorInitialized),this._waitMobileTextEditorInit=!0,this._canvas.redraw(),!1;this.enterEditMode(i.x,i.y)}else this.isMobile||this._textEditor.processMouseEvent(t);return this._canvas.viewer.setCursor(e?Gq.text:Gq.defaultCursor,!1),!0},t.prototype.processKeyEvent=function(t){return t.keyCode===BX.Escape?(this.exitEditMode(!0),!0):this._textEditor.processKeyEvent(t)},t.prototype.getEditorInitData=function(){var t=this._itemHandler.item;return{text:this._initialFormattedText,rectangle:this._itemHandler.rectangle,textAlignment:t instanceof KW?t.alignment:null,defaultInlineStyle:this._defaultInlineStyle,defaultParagraphStyle:this._defaultParagraphStyle,borderColor:t.borderColor.preview,borderWidth:t.borderWidth,fillColor:t.fillColor.preview,opacity:t.opacity,previewScale:t.previewScale,textFormattingEnabled:JZ.getAllowTextFormatting(t,this._canvas.viewer.textFormattingEnabled),transform:t.transform,textVerticalAlignment:t instanceof kU?t.verticalAlignment:null}},Object.defineProperty(t.prototype,"_defaultParagraphStyle",{get:function(){var t=this._itemHandler.item,e={alignment:t.alignment};return(t instanceof kU||t instanceof NW)&&(e.firstLineIndent=t.paragraphSettings.FirstLineIndent,e.spaceAfter=t.paragraphSettings.SpaceAfter,e.spaceBefore=t.paragraphSettings.SpaceBefore,e.leftIndent=t.paragraphSettings.LeftIndent,e.rightIndent=t.paragraphSettings.RightIndent),e},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"_defaultInlineStyle",{get:function(){var t=this._itemHandler.item,e={font:{postScriptName:t.font.postScriptName,size:t.font.size,fauxBold:t.font.fauxBold,fauxItalic:t.font.fauxItalic},underline:t.underline,leading:t.leading,tracking:t.tracking,color:t.color.clone()},n={};return null!=t.stroke?(n.color=t.stroke.color.clone(),n.size=t.stroke.size,n.enabled=n.size>0&&n.color.alpha>0):(n.color=new VB({r:0,g:0,b:0,a:0}),n.size=0,n.enabled=!1),e.stroke=n,t.font.openTypeFeatures.length>0&&(e.openType=t.font.openTypeFeatures.map((function(t){return new gY(t.tag,t.value)}))),e},enumerable:!0,configurable:!0}),t.prototype.enterEditMode=function(t,e){var n=this;if(null!=this._textEditor){var i=this._itemHandler.isEmptyTextPlaceholder();this._textEditor instanceof oJ&&!this._itemHandler.item.transform.isEmpty&&this._itemHandler._frontEndUpdate().then((function(){i&&n._textHandler.getTextRange().delete(n._textWhizz.RangeCursorPos.left),n._textEditor._setCursor(new QL(t,e))})),this._initialFormattedText=i?"":this._getFormattedText(),i&&this._textHandler.getTextRange().delete(this._textWhizz.RangeCursorPos.left);var r=this.getEditorInitData();r.point={x:t,y:e},this._textEditor.show(this,r),this._state="inEdit",this._canvas.disableSelection(),this._canvas.redraw(),this._enteredEditModeEvent.notify(this)}},t.prototype.onTextEditorTextChanged=function(t){var e=this._initialFormattedText!==t;return e&&(this._isStaticTextImageValid=!1,this._itemHandler.item.text=t),e},t.prototype.exitEditMode=function(t){if(void 0===t&&(t=!1),null!=this._textEditor){var e=this._textEditor.hide();this.onTextEditorTextChanged(e),this._itemHandler.isEmptyTextPlaceholder()&&(this._textHandler.getCursor().insertText(this._itemHandler.item.originalText),this.updateItemHandler()),this._state=t?"active":"static",this._canvas.enableSelection(),this._canvas.redraw(),this._exitedEditModeEvent.notify(this)}},t.prototype.updateItemHandler=function(t){if(this._isCropped=null,this._itemHandler instanceof IJ||this._itemHandler instanceof _J)this._itemHandler.updateRectangle(this.measureText()),this._canvas.redrawDesign();else if(this._itemHandler instanceof gJ&&this._itemHandler.item instanceof kU&&this._itemHandler.item.overflowStrategy==QV.ExpandBox){var e=this._itemHandler.rectangle.toRectangleF(),n=this.measureTextFrame(!0);n.height>e.height&&(e.height=n.height),this._itemHandler.updateRectangle(e),this._itemHandler.updateTextWhizzFrames(this._textHandler),this._canvas.redrawDesign(),this._canvas.updateSelection(),this._itemHandler.raiseChanged()}else this._itemHandler.raiseChanged();this._redrawActiveText(),(null==t?void 0:t.isValid())&&this.drawSelection(t)},t.comparePosition=function(t,e){return null==t&&null==e||null!=t&&null!=e&&t.isEqual(e)},t.compareSelection=function(t,e){return null==t&&null==e||null!=t&&null!=e&&(this.comparePosition(t.getStart(),e.getStart())&&this.comparePosition(t.getEnd(),e.getEnd())||this.comparePosition(t.getStart(),e.getEnd())&&this.comparePosition(t.getEnd(),e.getStart()))},t.prototype._checkTextCropped=function(){if(""===this._getFormattedText())return!1;var e=this._textHandler.getTextRange(),n=this._textHandler.getVisibleTextRange();if(!t.compareSelection(e,n))return!0;var i=this._textHandler.getBounds();return gB(0,i.width)||gB(0,i.height)},t.createException=function(t,e){if("number"!=typeof t)throw t;var n=e.getExceptionMessage(t),i=e.getExceptionName(t);return new GR(i+": "+n)},t.prototype.dispose=function(){this.clearText(),this._isDisposed=!0},t}(),cJ=function(){var t=function(e,n){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(e,n)};return function(e,n){function i(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(i.prototype=n.prototype,new i)}}(),uJ=function(t,e,n,i){return new(n||(n=Promise))((function(r,o){function s(t){try{l(i.next(t))}catch(e){o(e)}}function a(t){try{l(i.throw(t))}catch(e){o(e)}}function l(t){var e;t.done?r(t.value):(e=t.value,e instanceof n?e:new n((function(t){t(e)}))).then(s,a)}l((i=i.apply(t,e||[])).next())}))},hJ=function(t,e){var n,i,r,o,s={label:0,sent:function(){if(1&r[0])throw r[1];return r[1]},trys:[],ops:[]};return o={next:a(0),throw:a(1),return:a(2)},"function"==typeof Symbol&&(o[Symbol.iterator]=function(){return this}),o;function a(o){return function(a){return function(o){if(n)throw new TypeError("Generator is already executing.");for(;s;)try{if(n=1,i&&(r=2&o[0]?i.return:o[0]?i.throw||((r=i.return)&&r.call(i),0):i.next)&&!(r=r.call(i,o[1])).done)return r;switch(i=0,r&&(o=[2&o[0],r.value]),o[0]){case 0:case 1:r=o;break;case 4:return s.label++,{value:o[1],done:!1};case 5:s.label++,i=o[1],o=[0];continue;case 7:o=s.ops.pop(),s.trys.pop();continue;default:if(!((r=(r=s.trys).length>0&&r[r.length-1])||6!==o[0]&&2!==o[0])){s=0;continue}if(3===o[0]&&(!r||o[1]>r[0]&&o[1]<r[3])){s.label=o[1];break}if(6===o[0]&&s.label<r[1]){s.label=r[1],r=o;break}if(r&&s.label<r[2]){s.label=r[2],s.ops.push(o);break}r[2]&&s.ops.pop(),s.trys.pop();continue}o=e.call(t,s)}catch(a){o=[6,a],i=0}finally{n=r=0}if(5&o[0])throw o[1];return{value:o[0]?o[1]:void 0,done:!0}}([o,a])}}},dJ=function(t){var e="function"==typeof Symbol&&Symbol.iterator,n=e&&t[e],i=0;if(n)return n.call(t);if(t&&"number"==typeof t.length)return{next:function(){return t&&i>=t.length&&(t=void 0),{value:t&&t[i++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")},pJ=function(t){function e(n,i){void 0===i&&(i=null);var r=t.call(this,null,n,i)||this;r._textManager=null,r._staticTextRect=null,r._exitedEditModeEvent=new sB,r._enteredEditModeEvent=new sB,r._onTextManagerEnteredEditMode=function(t){r._enteredEditModeEvent.notify(r)},r._onTextManagerExitedEditMode=function(t){r._exitedEditModeEvent.notify(r)},r._initFrontEndRenderingDef=null;var o=null!=r.item?r.item.sourceRectangle:null;return(null==o||o.isEmpty())&&(o=new aB(0,0,10,10)),r.originalPath=bB.rectangle(o.left,o.top,o.width,o.height),r.controlPoints=[new QL(o.left,o.top),new QL(o.right,o.bottom)],r._imageContainer=new WX((function(){return uJ(r,void 0,void 0,(function(){var t;return hJ(this,(function(n){switch(n.label){case 0:return null==this.canvas?[2]:[4,this.waitUpdate()];case 1:if(n.sent(),this._textManager.isStatic){if(null==this.canvas)return[2];0!=this.canvas.getSelectedItemHandlers().length&&this.canvas.currentItemHandler instanceof e&&(null===(t=this.canvas.currentItemHandler._textManager)||void 0===t?void 0:t.isActive)||this._textManager.clearText(),this.canvas.redraw(!0)}else this._textManager.isInEdit&&this.canvas.isSelectionLocked()&&this.canvas.redraw(!0);return[2]}}))}))})),r._allowNegativeResize=!1,r}return cJ(e,t),Object.defineProperty(e.prototype,"item",{get:function(){return this._getItem()},set:function(e){t.prototype._setItem.call(this,e)},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"isInEdit",{get:function(){var t;return null===(t=this._textManager)||void 0===t?void 0:t.isInEdit},enumerable:!0,configurable:!0}),e.prototype.isEmpty=function(){return this.item.isEmpty()&&!this._textManager.isInEdit},e.prototype.isEmptyTextPlaceholder=function(){return this.item.isTextPlaceholder&&""===this.item.text},Object.defineProperty(e.prototype,"_fontRegistry",{get:function(){var t;return null===(t=this.canvas)||void 0===t?void 0:t.fontRegistry},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"textEditor",{get:function(){var t;return null===(t=this._textManager)||void 0===t?void 0:t.activeTextEditor},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"editing",{get:function(){return null!=this.textEditor},enumerable:!0,configurable:!0}),e.prototype.onTextWhizzInit=function(){t.prototype.onTextWhizzInit.call(this),this.update()},e.prototype._onItemPropertyChanged=function(e,n){switch(n){case"text":this.update(null,null,"text");break;case"font":case"underline":case"color":case"alignment":case"leading":case"tracking":case"verticalScale":case"horizontalScale":case"previewScale":case"stroke":case"shadow":case"baselineShift":this.update();break;case"checkTextCrop":!this.frontEndRenderingReady&&e.checkTextCrop&&this.update()}"checkTextCrop"!==n&&t.prototype._onItemPropertyChanged.call(this,e,n)},e.prototype._onItemVisibilityChanged=function(){var e,n,i;t.prototype._onItemVisibilityChanged.call(this),(null===(e=this.canvas)||void 0===e?void 0:e.isItemHandlerSelected(this))&&(this.item.visible?null===(n=this._textManager)||void 0===n||n.updateItemHandler():null===(i=this._textManager)||void 0===i||i.clearText())},e.prototype._setDataItem=function(t,e){throw new qR("NewBaseTextItemHandler._setDataItem")},e.prototype._createDataInstance=function(t){throw new qR("NewBaseTextItemHandler._createDataInstance")},e.prototype._onAddedOnCanvas=function(e){var n;this._textWhizz=e.textWhizz,t.prototype._onAddedOnCanvas.call(this,e),null===(n=this._textManager)||void 0===n||n.bindToCanvas()},e.prototype._onRemovedFromCanvas=function(e){var n;t.prototype._onRemovedFromCanvas.call(this,e),null===(n=this._textManager)||void 0===n||n.unbindFromCanvas()},Object.defineProperty(e.prototype,"textCropped",{get:function(){return this.item.checkTextCrop?!(!this.ready||!this.frontEndRenderingReady)&&this._textManager.isCropped:null},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"ready",{get:function(){var t;return null===(t=this._textManager)||void 0===t?void 0:t.ready},enumerable:!0,configurable:!0}),e.prototype.updateText=function(t){this._modifyItem((function(e){e.text=t}))},e.prototype._getFonts=function(){return function(t){var e=[t.font.postScriptName];if(DB(t.text))try{null!=t.text&&function(t,n,i){var r=(new DOMParser).parseFromString("<body>"+t+"</body>","application/xml"),o={acceptNode:function(t){var e=t.nodeName.toLowerCase();return n.includes(e)?NodeFilter.FILTER_ACCEPT:NodeFilter.FILTER_SKIP}};eF.IsIE()&&(o=function(t){return t.acceptNode}(o));for(var s,a=document.createTreeWalker(r.childNodes[0],NodeFilter.SHOW_ELEMENT,o,!1);a.nextNode();)s=void 0,null!=(s=function(t){var e,n,i=t.attributes.getNamedItem("style");if(null==i||null==i.value)return null;var r=i.value.split(";"),o=new Map;try{for(var s=EB(r),a=s.next();!a.done;a=s.next()){var l=a.value;if(null!=(l=l.trim())&&""!==l){var c=l.split(":"),u=c[0].trim(),h=c[1].trim();o.set(u,h)}}}catch(d){e={error:d}}finally{try{a&&!a.done&&(n=s.return)&&n.call(s)}finally{if(e)throw e.error}}return o}(a.currentNode))&&s.has("font-name")&&e.push(s.get("font-name"))}(t.text,["span","ol","ul"])}catch(n){console.error("Unexpected exception while parsing item text"),console.error(n)}return e}(this.item)},e.prototype.update=function(t,e,n){var i=this;this.isVisible()?this._frontEndUpdate(t,(function(){"function"==typeof e&&e(),i.canvas.updateSelection(),i.canvas.redrawDesign()}),n):"function"==typeof t&&t()},e.prototype.getColorData=function(){var e=this.item,n=null!=this.canvas?this.canvas.rgbColorProfileFileId:null,i=t.prototype.getColorData.call(this);return e.color.needUpdate(n)&&(i.color=e.color.getData()),null!=e.stroke&&e.stroke.color.needUpdate(n)&&(i.stroke=e.stroke.color.getData()),null!=e.shadow&&e.shadow.color.needUpdate(n)&&(i.shadow=e.shadow.color.getData()),i},e.prototype.setColorData=function(e){t.prototype.setColorData.call(this,e),this._modifyItem((function(t){null!=e.color&&(t.color=QB.createColor(e.color)),null!=e.stroke&&(t.stroke.color=QB.createColor(e.stroke)),null!=e.shadow&&(t.shadow.color=QB.createColor(e.shadow))}))},e.prototype.hasColorsToUpdate=function(){var e,n=this.item,i=null===(e=this.canvas)||void 0===e?void 0:e.rgbColorProfileFileId;return t.prototype.hasColorsToUpdate.call(this)||n.color.needUpdate(i)||null!=n.stroke&&n.stroke.color.needUpdate(i)||null!=n.shadow&&n.shadow.color.needUpdate(i)},Object.defineProperty(e.prototype,"_isMobileTextEditorActive",{get:function(){return this.textEditor instanceof EY},enumerable:!0,configurable:!0}),e.prototype.setRectangle=function(t,e){var n,i=CB.fromRectangleF(this.getControlBounds()),r=t.getTransform(i);r.equals(this.item.transform)||(this.item.setTransform(r,e),(null===(n=this._textManager)||void 0===n?void 0:n.isActive)&&this._transformText(r))},e.prototype._transformText=function(t){this._textManager.transformText(t)},e.prototype._getBoundsMargin=function(){return 2*this._getActualBorderWidth()},e.prototype.renderFill=function(t,e){var n=this.item;bX.fillRectangle(t,this.rectangle,n.fillColor.preview,n.opacity*e)},e.prototype.renderStroke=function(t,e){var n=this.item,i=this.rectangle,r=this._getActualBorderWidth();r>0&&(i.width+=r,i.height+=r,bX.drawRectangle(t,i,r,n.borderColor.preview,n.opacity*e))},e.prototype.drawItemHandler=function(t){var e,n;if(null!=t&&null!=this.canvas&&null!=this._textWhizz){var i=this.ready&&!(null===(e=this._textManager)||void 0===e?void 0:e.isStatic)&&this.canvas.isSelectionLocked();if(!this._isMobileTextEditorActive||i){this._hasVectorMask()&&!i&&(t.save(),this._clip(t));var r=this.isEmptyTextPlaceholder()?.5:1;if(this.renderFill(t,r),!this.ready||(null===(n=this._textManager)||void 0===n?void 0:n.isStatic)||i)try{nK.renderTextImage(this,this._imageContainer,null,t,r)}catch(o){console.error(o)}this.renderStroke(t,r),this._hasVectorMask()&&!i&&t.restore()}}},e.prototype.drawHighlight=function(e){this._isMobileTextEditorActive||t.prototype.drawHighlight.call(this,e)},e.prototype.clearImageContainer=function(){this._imageContainer.clear()},e.prototype.showEditToolbarButton=function(){return null==this.canvas.textEditor||this.item.placeholders.length>0},e.prototype._getEndTransformTrigger=function(t){return"frame"},e.prototype._endTransform=function(e,n){t.prototype._endTransform.call(this,e,n),e&&n&&this.frontEndRenderingReady&&this.update(null,null,this._getEndTransformTrigger(n))},Object.defineProperty(e.prototype,"frontEndRenderingReady",{get:function(){var t=null!=this._textWhizz,e=null!=this._textManager&&!this._textManager.failed,n=null!=this._fontRegistry&&this._fontRegistry.ready&&this._fontRegistry.containsFonts(this._getFonts()),i=!this.hasColorsToUpdate();return t&&e&&n&&i},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"inPlaceEditingEnabled",{get:function(){return this.frontEndRenderingReady&&0==this.item.placeholders.length},enumerable:!0,configurable:!0}),e.prototype.processInPlaceEditingMouseEvent=function(t,e){return this._textManager.processMouseEvent(t,e)},e.prototype.processInPlaceEditingKeyEvent=function(t){return"keydown"!==t.type||this._textManager.processKeyEvent(t)},e.prototype.enterEditMode=function(){this._textManager.enterEditMode(0,0)},e.prototype.exitEditMode=function(t){void 0===t&&(t=!1),this._textManager.exitEditMode(t)},e.prototype._initFrontEndRendering=function(){var t=this;this._textManager=new lJ(this),this._textManager.add_staticTextImageChanged((function(e){null==e.url?(t._imageContainer.clear(),t.canvas.redraw()):(t._staticTextRect=e.rect,t._imageContainer.updateUrl(e.url))})),this._textManager.exitedEditModeEvent.add(this._onTextManagerExitedEditMode),this._textManager.enteredEditModeEvent.add(this._onTextManagerEnteredEditMode)},Object.defineProperty(e.prototype,"exitedEditModeEvent",{get:function(){return this._exitedEditModeEvent},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"enteredEditModeEvent",{get:function(){return this._enteredEditModeEvent},enumerable:!0,configurable:!0}),e.prototype.getTextForRendering=function(){return this.isEmptyTextPlaceholder()?this.item.originalText:this.item.text},e.prototype.initTextWhizzHandler=function(t,e,n){var i,r,o,s;if(void 0===e&&(e=null),null!=this.canvas){this._textWhizz=this.canvas.textWhizz;var a=this.item;try{for(var l=dJ(a.colorPalette),c=l.next();!c.done;c=l.next()){var u=QB.createColor(c.value.preview);t.getColorPalette().add(new this._textWhizz.Color(this._textWhizz.ColorType.rgb,[u.b,u.g,u.r,u.a]))}}catch(y){i={error:y}}finally{try{c&&!c.done&&(r=l.return)&&r.call(l)}finally{if(i)throw i.error}}var h=t.getDefaultCharStyle();h.fontName=a.font.postScriptName,h.fontSize=a.font.size,h.fauxBold=a.font.fauxBold,h.fauxItalic=a.font.fauxItalic,h.allCaps=a.font.allCaps,h.underline=a.underline,h.leading=a.leading,h.tracking=a.tracking,h.baselineShift=a.baselineShift;try{for(var d=dJ(a.font.openTypeFeatures),p=d.next();!p.done;p=d.next()){var f=p.value,m=this._textWhizz.OpenTypeFeature[f.tag];null!=m&&h.openType.set(m,f.value)}}catch(_){o={error:_}}finally{try{p&&!p.done&&(s=d.return)&&s.call(d)}finally{if(o)throw o.error}}h.fillColor=this._textManager.addColorToPalette(a.color),null!=a.stroke?(h.strokeColor=this._textManager.addColorToPalette(a.stroke.color),h.strokeWidth=a.stroke.size):(h.strokeColor=this._textManager.addColorToPalette(new VB({r:0,g:0,b:0,a:0})),h.strokeWidth=0),t.setDefaultCharStyle(h);var g=t.getDefaultParagraphStyle();g.alignment=oJ.alignmentToTextWhizzAlignment(a.alignment,this._textWhizz),(a instanceof kU||a instanceof NW)&&(g.firstLineIndent=a.paragraphSettings.FirstLineIndent,g.spaceAfter=a.paragraphSettings.SpaceAfter,g.spaceBefore=a.paragraphSettings.SpaceBefore,g.leftIndent=a.paragraphSettings.LeftIndent,g.rightIndent=a.paragraphSettings.RightIndent),t.setDefaultParagraphStyle(g),this._addTextWhizzFrames(t,n),this.setTextWhizzWrappingPath(t),t.getCursor().insertText(null!=e?e:this.getTextForRendering())}},e.prototype._beforeFrontEndUpdate=function(){var t=this;if(!this.item.transform.isEmpty){var e=this.getControlCenter(),n=this.item.transform.clone();n.setAngle(0),this._modifyItem((function(i){var r;t._applyTransform(i,n,e),null!=(null===(r=i.mask)||void 0===r?void 0:r.vectorMask)&&(i.mask.vectorMask=t._getTransformedClippingPath(n)),i.transform.clear({keepAngle:!0,supressOnChanged:!0})}))}},e.prototype._getPreviewScaleLimits=function(){var t=null,e=null;return null==this.canvas.maxFontSize||isNaN(this.canvas.maxFontSize)||(t=this.canvas.maxFontSize/this.item.font.size),null==this.canvas.minFontSize||isNaN(this.canvas.minFontSize)||(e=this.canvas.minFontSize/this.item.font.size),{min:e,max:t}},e.prototype.updateRectangle=function(t){this._modifyItem((function(e){e.sourceRectangle=t,e.sourcePath=bB.rectangle(t.left,t.top,t.width,t.height)})),this.controlPoints=[new QL(t.left,t.top),new QL(t.right,t.bottom)],this.item.getItemChangedEvent().fire()},e.prototype.waitInitFrontEndRendering=function(){return uJ(this,void 0,void 0,(function(){return hJ(this,(function(t){switch(t.label){case 0:return null==this.canvas?[2,null]:null!=this._fontRegistry&&null!=this._textManager?[2]:null!=this._initFrontEndRenderingDef?[2,this._initFrontEndRenderingDef.promise]:(this._initFrontEndRenderingDef=new CX,[4,this.canvas.waitFontRegistryInitialized()]);case 1:return t.sent(),null!=this.canvas&&null==this._textManager&&this._initFrontEndRendering(),this._initFrontEndRenderingDef.resolve(),this._initFrontEndRenderingDef=null,[2]}}))}))},e.prototype._frontEndUpdate=function(t,e,n){return uJ(this,void 0,void 0,(function(){var i,r=this;return hJ(this,(function(o){switch(o.label){case 0:return this._isDisposed||null==this._fontRegistry&&null==this.canvas?[2]:(null==this._handlerUpdated&&(this._handlerUpdated=new CX),[4,this.waitInitFrontEndRendering()]);case 1:return o.sent(),(i=Uq.makeCancelable(new Promise((function(i,o){if(!r._isDisposed&&null!=r.canvas){var s=function(){"function"==typeof t&&t(),r._beforeFrontEndUpdate();try{r._textManager.updateText(n)}catch(s){return void o(s)}"function"==typeof e&&e(),null!=r._handlerUpdated&&(r._handlerUpdated.resolve(),r._handlerUpdated=null),i()};if(r.frontEndRenderingReady)s();else{var a=new Array;a.push(r._fontRegistry.loadFonts(r._getFonts())),a.push(r.updateColors()),Promise.all(a).then(s).catch((function(t){o(t)}))}}})))).promise.catch((function(t){})),this._updateActiveWebServiceCall(i),[2]}}))}))},e.prototype._pathToTextWhizzPath=function(t){return t.toTextWhizzPath(this._textWhizz)},e.prototype.waitUpdate=function(){return uJ(this,void 0,void 0,(function(){var e;return hJ(this,(function(n){switch(n.label){case 0:return this._isDisposed?[2]:(e=[],this.frontEndRenderingReady||(e.push(this.waitInitFrontEndRendering()),this.update()),e.push(t.prototype.waitUpdate.call(this)),[4,Promise.all(e)]);case 1:return n.sent(),[2]}}))}))},e.prototype.quickUpdate=function(){this.isVisible()&&this.canvas&&!this.frontEndRenderingReady&&this.update()},e.prototype.dispose=function(){var e,n,i;null===(e=this._textManager)||void 0===e||e.exitedEditModeEvent.remove(this._onTextManagerExitedEditMode),null===(n=this._textManager)||void 0===n||n.enteredEditModeEvent.remove(this._onTextManagerEnteredEditMode),null===(i=this._textManager)||void 0===i||i.dispose(),this._imageContainer.dispose(),t.prototype.dispose.call(this)},e.typeName="NewBaseTextItemHandler",e}(HX),fJ=function(){var t=function(e,n){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(e,n)};return function(e,n){function i(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(i.prototype=n.prototype,new i)}}(),mJ=function(t){var e="function"==typeof Symbol&&Symbol.iterator,n=e&&t[e],i=0;if(n)return n.call(t);if(t&&"number"==typeof t.length)return{next:function(){return t&&i>=t.length&&(t=void 0),{value:t&&t[i++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")},gJ=function(t){function e(e,n){void 0===n&&(n=null);var i=t.call(this,e,n)||this;return i.lastRectangle=null,i}return fJ(e,t),Object.defineProperty(e.prototype,"item",{get:function(){return this._getItem()},set:function(e){t.prototype._setItem.call(this,e)},enumerable:!0,configurable:!0}),e.prototype._getFrames=function(){var t,e;return this.item instanceof kU?(e=(null===(t=this._textManager)||void 0===t?void 0:t.isInEdit)?this.rectangle.toRectangleF():this.item.textRectangle,[bB.rectangle(e.left,e.top,e.width,e.height)]):this.item.boundingPaths},e.prototype._onItemPropertyChanged=function(e,n){switch(n){case"textRectangle":case"boundingPaths":case"firstBaselineOffset":case"firstBaselineMinOffset":this.update(null,null,"frame");break;case"wrappingPath":case"wrappingMargin":this.update(null,null,this.item.transform.isEmpty?"wrappingPath":null);break;case"verticalAlignment":case"isVertical":case"shrinkMode":case"scheduledFitMode":case"paragraphSettings":case"overflowStrategy":this.update()}t.prototype._onItemPropertyChanged.call(this,e,n)},e.prototype._transformText=function(e){this.canvas.isResizing()||null!=this.item.wrappingPath?this.update(null,null,"frame"):t.prototype._transformText.call(this,e)},e.prototype.renderFill=function(t){var e=this.item,n=this.getControlCenter(),i=this.item.transform;this._getFrames().forEach((function(r){bX.fillPath(t,r,n,i,e.fillColor.preview,e.opacity)}))},e.prototype.renderStroke=function(t){var e=this,n=this._getActualBorderWidth();if(!(n<=0)){var i=this.item,r=this.getControlCenter(),o=this.item.transform;this._getFrames().forEach((function(s){var a=s.toTextWhizzPath(e._textWhizz);a.offsetContour(n/2),bX.drawPath(t,a,r,o,n,i.borderColor.preview,i.opacity)}))}},e.prototype.getTextWrappingPath=function(){var e=this;if(this.item instanceof NW&&this.item.textWrappingMode===lV.Tight){var n=this._getFrames(),i=function(t){var n=t.clone();return n.transform(e.item.transform,e.getControlCenter()),n};if(1==n.length)return i(n[0]);for(var r=i(n[0]).toTextWhizzPath(this._textWhizz),o=1;o<n.length;o++)r=this._textWhizz.Path.union(r,i(n[o]).toTextWhizzPath(this._textWhizz));return bB.fromTextWhizzPath(r)}return t.prototype.getTextWrappingPath.call(this)},e.prototype._onTransformRectangle=function(t,e,n){var i;if(null!=t&&null!=e&&null!=this._startRectangle){var r=this._calculateTransformedRectangle(t,e);this.setRectangle(r,!0),null===(i=this.canvas)||void 0===i||i.redraw()}},e.prototype._validateRect=function(t){var e;if(null===this._textManager)return null;if(this.item instanceof kU&&this.item.overflowStrategy==QV.ExpandBox){var n=this._textManager.measureTextFrame();if(n.height>t.height){var i=n.height-t.height;if(GK(i,0))return null;var r=t.clone();return(null===(e=this._transformOperation)||void 0===e?void 0:e.resize)&&IK.isTopResizeGrip(this._transformOperation.resizeIndex)&&(i*=-1),r.centerY+=i/2,r.height=n.height,r}}return null},e.prototype._validateRectAndSet=function(e,n){var i=this._validateRect(e);null!=i?(t.prototype.setRectangle.call(this,i,n),this.update()):t.prototype.setRectangle.call(this,e,n)},e.prototype.setRectangleValidated=function(t){void 0===t&&(t=null),null==t&&(t=this.rectangle),this._validateRectAndSet(t,!0)},e.prototype.setRectangle=function(t,e){this._validateRectAndSet(t,e)},e.prototype.updateRectangle=function(e){t.prototype.updateRectangle.call(this,e),this.setRectangleValidated()},e.prototype.getTextRectangle=function(){var t,e,n=this.getControlCenter();return(e=(null===(t=this._textManager)||void 0===t?void 0:t.ready)?CB.fromRectangleF(this._textManager.measureText()):CB.fromRectangleF(this.item.sourceRectangle)).transform(this.item.transform.clone(),n),e},Object.defineProperty(e.prototype,"drawingRectangle",{get:function(){var t=this.canvas.isItemHandlerSelected(this)&&this.canvas.isResizing();if(null==this._staticTextRect)return t&&null!=this.startRectangle?this.startRectangle:this.rectangle;var e=CB.fromRectangleF(this._staticTextRect),n=t&&null!=this.startRectangle?this.startRectangle.getTransform(CB.fromRectangleF(this.getControlBounds())):this.item.transform.clone();return e.transform(n,this.getControlCenter()),e},enumerable:!0,configurable:!0}),e.prototype._addTextWhizzFrames=function(t,e){var n,i;try{for(var r=mJ(this._getFrames()),o=r.next();!o.done;o=r.next())t.addFrame(this._createTextWhizzFrame(o.value,e))}catch(s){n={error:s}}finally{try{o&&!o.done&&(i=r.return)&&i.call(r)}finally{if(n)throw n.error}}},e.prototype.setTextWhizzWrappingPath=function(t){var e=this.item,n=null;if(null!=e.wrappingPath){if(gB(0,this.item.transform.angle))n=e.wrappingPath.toTextWhizzPath(this._textWhizz);else{var i=e.wrappingPath.clone();i.rotateAt(-this.item.transform.angle,this.getControlCenter()),n=i.toTextWhizzPath(this._textWhizz)}n.offsetContour(e.wrappingMargin)}else n=new this._textWhizz.Path;t.setWrappingPath(n)},e.prototype.updateTextWhizzFrames=function(t){for(var e=t.getFrameCount(),n=this._getFrames(),i=0;i<n.length;i++){var r=n[i];i<e?t.replaceFrame(this._createTextWhizzFrame(r,!1),i):t.addFrame(this._createTextWhizzFrame(r,!1))}if(e>n.length)for(var o=i;i<e;i++)t.removeFrame(o);this.setRectangleValidated()},e.prototype._calculateIsLargeRect=function(){return this._textManager.measureTextFrame().height<this.rectangle.height},e.prototype._createTextWhizzFrame=function(t,e){var n=new this._textWhizz.ShapeTextFrame;n.shape=this._pathToTextWhizzPath(t),n.firstBaselineOffset=this._firstBaselineOffsetToTextWhizz(this.item.firstBaselineOffset),n.firstBaselineMinOffset=this.item.firstBaselineMinOffset,this.item instanceof kU&&(this.item.overflowStrategy==QV.ExpandBox?!e&&this._calculateIsLargeRect()?n.verticalAlignment=oJ.verticalAlignmentToTextWhizz(this.item.verticalAlignment,this._textWhizz):n.autoSizeMode=this._textWhizz.AutoSizeMode.heightOnly:n.verticalAlignment=oJ.verticalAlignmentToTextWhizz(this.item.verticalAlignment,this._textWhizz),this.item.overflowStrategy==QV.FitToBox&&(n.copyFittingMode=this._textWhizz.CopyFittingMode.fitToBox),this.item.overflowStrategy==QV.FitToWidth&&(n.copyFittingMode=this._textWhizz.CopyFittingMode.fitToWidth));var i=this.item.previewScale;return gB(i,1)||n.shape.scale(1/i,1/i),n},e.prototype._applyTransform=function(t,e,n){var i,r;if(t instanceof kU){var o=CB.fromRectangleF(t.textRectangle);o.setTransform(e),t.textRectangle=o.toRectangleF()}if(t instanceof NW)try{for(var s=mJ(t.boundingPaths),a=s.next();!a.done;a=s.next())a.value.transform(e,n)}catch(l){i={error:l}}finally{try{a&&!a.done&&(r=s.return)&&r.call(s)}finally{if(i)throw i.error}}},e.prototype._firstBaselineOffsetToTextWhizz=function(t){switch(t){case tU.Ascent:return this._textWhizz.FirstBaselineOffset.ascent;case tU.CapHeight:return this._textWhizz.FirstBaselineOffset.capHeight;case tU.Leading:return this._textWhizz.FirstBaselineOffset.leading;case tU.XHeight:return this._textWhizz.FirstBaselineOffset.xHeight;case tU.Fixed:return this._textWhizz.FirstBaselineOffset.fixed}},e.typeName="NewBoundedTextItemHandler",e}(pJ),yJ=function(){var t=function(e,n){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(e,n)};return function(e,n){function i(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(i.prototype=n.prototype,new i)}}(),_J=function(t){function e(e,n){return void 0===n&&(n=null),t.call(this,e,n)||this}return yJ(e,t),Object.defineProperty(e.prototype,"item",{get:function(){return this._getItem()},set:function(e){t.prototype._setItem.call(this,e)},enumerable:!0,configurable:!0}),e.prototype._onItemPropertyChanged=function(e,n){switch(n){case"textPath":case"start":case"end":this.update(null,null,"frame");break;case"fitToPath":case"fitToPathStep":case"stretch":case"originalFontSize":this.update()}t.prototype._onItemPropertyChanged.call(this,e,n)},e.prototype._addTextWhizzFrames=function(t){t.addFrame(this._createTextWhizzFrame())},e.prototype.updateTextWhizzFrames=function(t){t.replaceFrame(this._createTextWhizzFrame(),0)},e.prototype.setTextWhizzWrappingPath=function(t){},e.prototype._getEndTransformTrigger=function(t){return t?null:"frame"},e.prototype._applyTransform=function(t,e,n){var i,r;if(t instanceof GU){var o=t.textPath.clone();o.transform(e,n),t.textPath=o;var s=this._getPreviewScaleLimits(),a=this.item.previewScale*e.scaleY;a=Math.min(null!==(i=s.max)&&void 0!==i?i:Number.MAX_VALUE,a),a=Math.max(null!==(r=s.min)&&void 0!==r?r:Number.MIN_VALUE,a),t.previewScale=a}},e.prototype._createTextWhizzFrame=function(){var t=this.item.textPath.toTextWhizzPath(this._textWhizz),e=this.item.previewScale;gB(e,1)||t.scale(1/e,1/e);var n=new this._textWhizz.PathTextFrame;return n.baseline=t,n},e.typeName="NewCurvedTextItemHandler",e}(pJ),vJ=function(t,e,n,i){return new(n||(n=Promise))((function(r,o){function s(t){try{l(i.next(t))}catch(e){o(e)}}function a(t){try{l(i.throw(t))}catch(e){o(e)}}function l(t){var e;t.done?r(t.value):(e=t.value,e instanceof n?e:new n((function(t){t(e)}))).then(s,a)}l((i=i.apply(t,e||[])).next())}))},bJ=function(t,e){var n,i,r,o,s={label:0,sent:function(){if(1&r[0])throw r[1];return r[1]},trys:[],ops:[]};return o={next:a(0),throw:a(1),return:a(2)},"function"==typeof Symbol&&(o[Symbol.iterator]=function(){return this}),o;function a(o){return function(a){return function(o){if(n)throw new TypeError("Generator is already executing.");for(;s;)try{if(n=1,i&&(r=2&o[0]?i.return:o[0]?i.throw||((r=i.return)&&r.call(i),0):i.next)&&!(r=r.call(i,o[1])).done)return r;switch(i=0,r&&(o=[2&o[0],r.value]),o[0]){case 0:case 1:r=o;break;case 4:return s.label++,{value:o[1],done:!1};case 5:s.label++,i=o[1],o=[0];continue;case 7:o=s.ops.pop(),s.trys.pop();continue;default:if(!((r=(r=s.trys).length>0&&r[r.length-1])||6!==o[0]&&2!==o[0])){s=0;continue}if(3===o[0]&&(!r||o[1]>r[0]&&o[1]<r[3])){s.label=o[1];break}if(6===o[0]&&s.label<r[1]){s.label=r[1],r=o;break}if(r&&s.label<r[2]){s.label=r[2],s.ops.push(o);break}r[2]&&s.ops.pop(),s.trys.pop();continue}o=e.call(t,s)}catch(a){o=[6,a],i=0}finally{n=r=0}if(5&o[0])throw o[1];return{value:o[0]?o[1]:void 0,done:!0}}([o,a])}}},wJ=function(){function t(t,e,n,i){var r=this;this._item=t,this._itemHandlers=e,this._itemHandler=n,this._history=i,this._layoutEvent=new rB,this._orderedItemHandlers=null,this._initialized=!1,this._disposed=!1,this._onChildItemHandlerChanging=function(t){r.applyLayout()},this._onChildItemHandlerPropertyChanged=function(t,e){return vJ(r,void 0,void 0,(function(){return bJ(this,(function(n){switch(n.label){case 0:switch(e){case"font":case"text":case"tracking":case"leading":case"shadow":case"stroke":case"underline":case"sourceRectangle":case"borderWidth":case"transform":return[3,1]}return[3,3];case 1:return[4,t.waitUpdate()];case 2:return n.sent(),this.applyLayout(),[3,3];case 3:return[2]}}))}))},this._onItemPropertyChanged=function(t,e){switch(e){case"layoutSettings":r._orderedItemHandlers=null,r._updateItemsOrder();case"margin":r.applyLayout();break;case"orientation":r.applyLayout(!0);break;case"alignItems":case"justifyContent":r.applyLayout()}},this._ignoreLayoutApply=!1,this._filterHiddenItems=function(t){return!((t instanceof rK||t instanceof pJ||t instanceof SJ)&&t.isEmpty())},this._item.addPropertyChanged(this._onItemPropertyChanged),this._itemHandlers.add_itemAdded(this._onItemHandlerAdded.bind(this)),this._itemHandlers.add_itemRemoved(this._onItemHandlerRemoved.bind(this)),this._itemHandlers.forEach((function(t){return t.addItemPropertyChanged(r._onChildItemHandlerPropertyChanged)})),this._itemHandlers.ofType(SJ).forEach((function(t){return t.getLayoutEvent().add(r._onChildItemHandlerChanging)})),this._init()}return t.prototype.dispose=function(){var t=this;this._disposed=!0,this._item.removePropertyChanged(this._onItemPropertyChanged),this._itemHandlers.remove_itemAdded(this._onItemHandlerAdded.bind(this)),this._itemHandlers.remove_itemRemoved(this._onItemHandlerRemoved.bind(this)),this._itemHandlers.forEach((function(e){return e.removeItemPropertyChanged(t._onChildItemHandlerPropertyChanged)})),this._itemHandlers.ofType(SJ).forEach((function(e){return e.getLayoutEvent().remove(t._onChildItemHandlerChanging)}))},t.prototype.getLayoutEvent=function(){return this._layoutEvent},t.prototype.onItemRemoved=function(t){this._updateItemsOrder({removedItem:t.item}),this.applyLayout()},t.prototype.onItemHandlersCollectionChanged=function(){this._orderedItemHandlers=null},t.prototype._init=function(){return vJ(this,void 0,void 0,(function(){var t;return bJ(this,(function(e){switch(e.label){case 0:return t=this._item.getItemsOrder(),null==this._itemHandler.canvas?[2]:[4,this._itemHandler.waitUpdate()];case 1:return e.sent(),t||this._updateItemsOrder(),this._initialized=!0,this.applyLayout(),[2]}}))}))},t.prototype._onItemHandlerAdded=function(t){t.item.addItemPropertyChanged(this._onChildItemHandlerPropertyChanged),t.item.getChangingEvent().add(this._onChildItemHandlerChanging),t.item instanceof SJ&&t.item.getLayoutEvent().add(this._onChildItemHandlerChanging),this._orderedItemHandlers=null},t.prototype._onItemHandlerRemoved=function(t){t.item.removeItemPropertyChanged(this._onChildItemHandlerPropertyChanged),t.item.getChangingEvent().remove(this._onChildItemHandlerChanging),t.item instanceof SJ&&t.item.getLayoutEvent().remove(this._onChildItemHandlerChanging),this._orderedItemHandlers=null},t.prototype._updateItemsOrder=function(t){if(this._item.layoutSettings instanceof FW){if(this._validateItemsOrder())return;if(null==this._item.getItemsOrder()){this._initSortedItemHandlers();var e=this._getSortedItemHandlers().map((function(t){return t.item.id}));this._item.setItemsOrder(e)}}},t.prototype._initSortedItemHandlers=function(){var t=this._itemHandler.getTransformedRectangle(!1,!0).center,e=this._item.transform.angle,n=this._item.layoutSettings.orientation;return this._orderedItemHandlers=this._itemHandlers.toArray().sort((function(i,r){return function(t,e){return n===yW.horizontal?t.bounds.left-e.bounds.left:t.bounds.top-e.bounds.top}(i.getTransformedRectangle(!1,!0).rotateAt(-e,t),r.getTransformedRectangle(!1,!0).rotateAt(-e,t))})),this._orderedItemHandlers},t.prototype._validateItemsOrder=function(){var t=this._item.getItemsOrder();if(null==t)return!1;if(t.length!==this._item.items.length)return!1;var e=this._item.items.select((function(t){return t.id})).toArray();return t.every((function(t){return e.includes(t)}))},t.prototype._getSortedItemHandlers=function(){if(null!=this._orderedItemHandlers)return this._orderedItemHandlers;var t=this._item.getItemsOrder();if(!t)return null;var e=[],n=this._itemHandlers.toArray();if(n.length!=t.length)throw new Error("itemsOrder length does not match itemHandlers length");return t.forEach((function(t){var i=n.findIndex((function(e){return e.item.id==t}));if(-1==i)throw new Error("itemsOrder: Element with id "+t+" was not found in itemHandlers");e.push(n[i]),n.splice(i,1)})),this._orderedItemHandlers=e,this._orderedItemHandlers},t.prototype.getOrderedItems=function(){var t=this._item.getItemsOrder();if(t){var e=this._item.items.toArray();return e.sort((function(e,n){return t.indexOf(e.id)-t.indexOf(n.id)})),e}return null},Object.defineProperty(t.prototype,"ignoreLayoutApply",{set:function(t){this._ignoreLayoutApply=t},enumerable:!0,configurable:!0}),t.prototype.applyLayout=function(t){if(void 0===t&&(t=!1),!this._disposed&&this._initialized&&!this._ignoreLayoutApply){this._ignoreLayoutApply=!0;try{var e=!this._history.isPaused();e&&this._history.pause(),this._itemHandler.canvas.pauseRedraw();var n=this._applyLayoutImpl(t);this._itemHandler.canvas.continueRedraw(!0),e&&this._history.resume(!!n,!1,!0),this._layoutEvent.notify()}finally{this._ignoreLayoutApply=!1}}},t.prototype._applyLayoutImpl=function(t){var e,n=this;void 0===t&&(t=!1);var i=this._getSortedItemHandlers();if(null!=i&&0!=i.length){var r=this._itemHandler.rectangle,o=r.center,s=this._item.layoutSettings,a=s.alignItems,l=s.orientation,c=s.margin,u=s.anchorPoint,h=r.toRectangleF(),d=this._getAnchorPoint(h,u,l),p=this._getOriginalPoint(h,a,l);i=i.filter((function(t){return n._filterHiddenItems(t)}));var f=[];i.forEach((function(t){var e=n._getItemHandlerPositionRect(t,r,p,a,l),i=n._getPositionRectOffset(l,h,e)+c;p=n._getOriginalPoint(h,a,l,i),f.push(e)})),f=this._applyAnchor(f,h,u,l);var m=!1;i.forEach((function(t){var e=f.shift(),i=n._setItemHandlerPosition(t,r,e);m=m||i}));var g=this._itemHandlers.cast().where(this._filterHiddenItems);if(g.any()){var y=g.select((function(t){return t.getTransformedRectangle(!1,!0)})).aggregate((function(t,e){return CB.union(t,e)}));t&&(this._correctCenterPosition(y.center,o,i),y=g.select((function(t){return t.getTransformedRectangle(!1,!0)})).aggregate((function(t,e){return CB.union(t,e)})));var _=this._getSourceRectangleByAnchorPoint(y,d,l,u);this._itemHandler.setSourceRectangle(_)}return null===(e=this._itemHandler.canvas)||void 0===e||e.updateTexts(),m}},t.prototype._getSourceRectangleByAnchorPoint=function(t,e,n,i){var r=t.angle,o=t.toRectangleF();return n==yW.horizontal?i==vW.start?o.left=e.x:i==vW.center?o.left-=o.center.x-e.x:o.right=e.x:i==vW.start?o.top=e.y:i==vW.center?o.top-=o.center.y-e.y:o.bottom=e.y,CB.fromRectangleF(o,r)},t.prototype._getAnchorPoint=function(t,e,n){if(n==yW.horizontal){var i=t.center.y;switch(e){case vW.start:return new QL(t.left,i);case vW.center:return new QL(t.center.x,i);case vW.end:return new QL(t.right,i)}}else{var r=t.center.x;switch(e){case vW.start:return new QL(r,t.top);case vW.center:return new QL(r,t.center.y);case vW.end:return new QL(r,t.bottom)}}},t.prototype._applyAnchor=function(t,e,n,i){if(0==t.length)return t;if(n==vW.start)return t;var r=function(t){var r=0,o=0,s=t.reduce((function(t,e){return aB.union(t,e)}));if(i==yW.horizontal)if(n==vW.center)r=s.center.x-e.center.x;else{if(n!=vW.end)throw new Error("Invalid _applyAnchor operation. Orientation: '"+i+"' AnchorPoint: '"+n+"'");r=s.right-e.right}else if(n==vW.center)o=s.center.y-e.center.y;else{if(n!=vW.end)throw new Error("Invalid _applyAnchor operation. Orientation: '"+i+"' AnchorPoint: '"+n+"'");o=s.bottom-e.bottom}return new QL(r,o)}(t);return t.map((function(t){return new aB(t.left-r.x,t.top-r.y,t.width,t.height)}))},t.prototype._correctCenterPosition=function(t,e,n){var i=this,r=e.x-t.x,o=e.y-t.y;n.forEach((function(t){var e=function(t){var n=t.getTransformedRectangle(!1,!0);return n.translate(r,o),i._setItemHandlerRectangle(t,n,e),!0};e(t)}))},t.prototype._setItemHandlerPosition=function(t,e,n){var i=this,r=function(t){var o=t.getTransformedRectangle(!1,!0),s=o.clone();o.rotateAt(-e.angle,e.center);var a=o.bounds;return o.translate(n.left-a.left,n.top-a.top),o.rotateAt(e.angle,e.center),!s.equals(o)&&(i._setItemHandlerRectangle(t,o,r),!0)};return r(t)},t.prototype._setItemHandlerRectangle=function(t,e,n){var i=t.getBorderMargin();e.width-=2*i,e.height-=2*i,t instanceof SJ?t.setRectangle(e,!0,!0):(t.setRectangle(e),t instanceof _K&&t.updateContentAndFrames(n),t instanceof tY&&t.getNestedItemHandlers(!0).forEach((function(t){n(t)})))},t.prototype._getPositionRectOffset=function(t,e,n){return t==yW.vertical?n.bottom-e.top:n.right-e.left},t.prototype._getItemHandlerPositionRect=function(t,e,n,i,r){var o=t.getTransformedRectangle(!1,!0);o.angle-=e.angle;var s=o.bounds,a=this._getOriginalPoint(s,i,r),l=n.y-a.y;return i===gW.none&&r!==yW.horizontal||(s.left+=n.x-a.x),i===gW.none&&r!==yW.vertical||(s.top+=l),s},t.prototype._getOriginalPoint=function(t,e,n,i){var r;return void 0===i&&(i=0),n==yW.vertical?(r=new QL(e==gW.start||e==gW.none?t.left:e==gW.center?t.center.x:t.right,t.top)).y+=i:(r=new QL(t.left,e==gW.start||e==gW.none?t.top:e==gW.center?t.center.y:t.bottom)).x+=i,r},t}(),CJ=function(){var t=function(e,n){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(e,n)};return function(e,n){function i(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(i.prototype=n.prototype,new i)}}(),xJ=function(t,e,n,i){return new(n||(n=Promise))((function(r,o){function s(t){try{l(i.next(t))}catch(e){o(e)}}function a(t){try{l(i.throw(t))}catch(e){o(e)}}function l(t){var e;t.done?r(t.value):(e=t.value,e instanceof n?e:new n((function(t){t(e)}))).then(s,a)}l((i=i.apply(t,e||[])).next())}))},EJ=function(t,e){var n,i,r,o,s={label:0,sent:function(){if(1&r[0])throw r[1];return r[1]},trys:[],ops:[]};return o={next:a(0),throw:a(1),return:a(2)},"function"==typeof Symbol&&(o[Symbol.iterator]=function(){return this}),o;function a(o){return function(a){return function(o){if(n)throw new TypeError("Generator is already executing.");for(;s;)try{if(n=1,i&&(r=2&o[0]?i.return:o[0]?i.throw||((r=i.return)&&r.call(i),0):i.next)&&!(r=r.call(i,o[1])).done)return r;switch(i=0,r&&(o=[2&o[0],r.value]),o[0]){case 0:case 1:r=o;break;case 4:return s.label++,{value:o[1],done:!1};case 5:s.label++,i=o[1],o=[0];continue;case 7:o=s.ops.pop(),s.trys.pop();continue;default:if(!((r=(r=s.trys).length>0&&r[r.length-1])||6!==o[0]&&2!==o[0])){s=0;continue}if(3===o[0]&&(!r||o[1]>r[0]&&o[1]<r[3])){s.label=o[1];break}if(6===o[0]&&s.label<r[1]){s.label=r[1],r=o;break}if(r&&s.label<r[2]){s.label=r[2],s.ops.push(o);break}r[2]&&s.ops.pop(),s.trys.pop();continue}o=e.call(t,s)}catch(a){o=[6,a],i=0}finally{n=r=0}if(5&o[0])throw o[1];return{value:o[0]?o[1]:void 0,done:!0}}([o,a])}}},SJ=function(t){function e(e,n,i,r){void 0===r&&(r=null);var o=t.call(this,e,n,r)||this;return o._history=i,o._layoutEvent=new rB,o._rectMap={},o._onChildItemChanged=function(t){var e=o.canvas.viewer.getHandler(t);if(e instanceof pJ){var n=e.rectangle;if(n.equals(o._rectMap[e.uniqueId]))return;o._rectMap[e.uniqueId]=n,o.applyLayout()}},o._onChildItemHandlerChanging=function(t){null!=o._layoutHandler&&o._layoutHandler instanceof wJ||o._resetSourceRectangle(),o.raiseChanging(o.item)},o._transformStarted=!1,o._transformedRectangle=null,o._onItemHandlerExitedEditMode=function(t){o.applyLayout()},o._onItemHandlerEnteredEditMode=function(t){o.applyLayout()},o._initSourceRectangle().then((function(){o._initLayoutHandler(),o.applyLayout(null)})),o._subscribeChildItemHandlers(),o}return CJ(e,t),e.prototype._isGroupHandler=function(){return!0},e.prototype._onItemPropertyChanged=function(t,e){switch(e){case"layoutSettings":this._initLayoutHandler()}},e.prototype._initLayoutHandler=function(){this.item.layoutSettings instanceof FW?this._layoutHandler instanceof wJ||(this._layoutHandler=new wJ(this.item,this.itemHandlers,this,this._history),this._layoutHandler.getLayoutEvent().add(this._onLayoutHandlerLayoutEvent.bind(this))):(null!=this._layoutHandler&&this._layoutHandler.dispose(),this._layoutHandler=null)},e.prototype.getLayoutEvent=function(){return this._layoutEvent},e.prototype._onLayoutHandlerLayoutEvent=function(){null!=this.canvas&&(this.canvas.updateSelection(),this.canvas.updateButtonGroups(),this.getChangingEvent().notify(this.item),this.updateViolationContainerPosition(),this.canvas.updateFloatingItemToolbar(this),this.canvas.redraw()),this._layoutEvent.notify()},e.prototype._initSourceRectangle=function(){return xJ(this,void 0,void 0,(function(){return EJ(this,(function(t){switch(t.label){case 0:return this.item.sourceRectangle&&!this.item.sourceRectangle.isEmpty()?[2]:this.canvas?[4,this._resetSourceRectangle()]:[2];case 1:return t.sent(),[2]}}))}))},e.prototype._resetSourceRectangle=function(){return xJ(this,void 0,void 0,(function(){var t;return EJ(this,(function(e){switch(e.label){case 0:return[4,this.waitUpdate()];case 1:return e.sent(),this.itemHandlers.any()&&(t=this.itemHandlers.cast().select((function(t){return t.rectangle})).aggregate((function(t,e){return CB.union(t,e)})),this.setSourceRectangle(t)),[2]}}))}))},e.prototype.waitUpdate=function(){return xJ(this,void 0,void 0,(function(){return EJ(this,(function(t){switch(t.label){case 0:return[4,Promise.all(this.itemHandlers.toArray().map((function(t){return t.waitUpdate()})))];case 1:return t.sent(),[2]}}))}))},e.prototype.startTransform=function(e){this._originalHeight=this.height,this._transformStarted=!0,this._layoutHandler&&(this._layoutHandler.ignoreLayoutApply=!0),t.prototype.startTransform.call(this,e)},e.prototype._onResized=function(){return null!=this.item.layoutSettings&&this.item.layoutSettings instanceof FW&&(this.item.layoutSettings.margin*=this.height/this._originalHeight),t.prototype._onResized.call(this)},e.prototype._endTransform=function(e,n,i){return xJ(this,void 0,void 0,(function(){var r;return EJ(this,(function(o){return t.prototype._endTransform.call(this,e,n,i),null==this._transformedRectangle?(this._transformStarted=!1,this._layoutHandler&&(this._layoutHandler.ignoreLayoutApply=!1),[2]):(this.canvas.pauseRedraw(),r=this._transformedRectangle,this._transformedRectangle=null,this._transformStarted=!1,this._history.pause(),this.setSourceRectangle(r),this._layoutHandler&&(this._layoutHandler.ignoreLayoutApply=!1),this.applyLayout(null),this._history.resume(!0,!1,!0),this.canvas.continueRedraw(),[2])}))}))},e.prototype.drawChildHighlights=function(t){var e=this;null!=this._layoutHandler&&this.itemHandlers.toArray().filter((function(t){return e._layoutHandler._filterHiddenItems(t)})).forEach((function(e){return e.drawHighlight(t)}))},Object.defineProperty(e.prototype,"_calculateRectangleFromChild",{get:function(){return!1},enumerable:!0,configurable:!0}),e.prototype._getRectangle=function(){return this._transformedRectangle?this._transformedRectangle:t.prototype._getRectangle.call(this)},e.prototype.isEmpty=function(){var t=this.itemHandlers.where((function(t){var n=!1;return((t instanceof rK||t instanceof pJ)&&!t.isLocked()||t instanceof e)&&(n=!0),n}));return!!t.any()&&!t.any((function(t){return!t.isEmpty()}))},e.prototype.isVisible=function(){return t.prototype.isVisible.call(this)&&!this.isEmpty()},e.prototype.applyLayout=function(t){t instanceof _K&&t.editing||this.itemHandlers.length<2||(this.item.layoutSettings instanceof FW&&this._layoutHandler?this._layoutHandler.applyLayout():(this._resetSourceRectangle(),this._onLayoutHandlerLayoutEvent()))},e.prototype.getControlBounds=function(){return this.item.sourceRectangle?this.item.sourceRectangle:new aB},e.prototype.setRectangle=function(e,n,i){void 0===i&&(i=!0),this._transformStarted?this._transformedRectangle=e.clone():(i&&t.prototype.setRectangle.call(this,e,n),this.setSourceRectangle(e))},e.prototype.setSourceRectangle=function(t){this.item.sourceRectangle=t.toRectangleF(),this.item.transform=new wB(1,1,0,0,t.angle)},e.prototype.transformByMatrix=function(t){this.setRectangle(this.rectangle.transformByMatrix(t),!1,!0),1===t.scaleX&&1===t.scaleY||this._onResized(),this._transformChanged(),null!=this.canvas&&this.canvas.updateSelection()},e.prototype.getOrderedItems=function(){return this.item.layoutSettings instanceof FW&&null!=this._layoutHandler?this._layoutHandler.getOrderedItems():t.prototype.getOrderedItems.call(this)},e.prototype.generateAndApplyAutolayoutSettings=function(t,e,n,i){this.item.layoutSettings=IW.generateAutoLayoutSettings(this.itemHandlers.toArray().map((function(t){return t.getTransformedRectangle(!1,!0).bounds})),t,e,n,i)},e.prototype._onItemAdded=function(e){return xJ(this,void 0,void 0,(function(){return EJ(this,(function(n){switch(n.label){case 0:return t.prototype._onItemAdded.call(this,e),e.item instanceof uU?[4,JZ.waitForItemsUpdated([e.item],this.canvas)]:[3,2];case 1:n.sent(),n.label=2;case 2:return this._subscribeChildItemChanges(e.item),this.applyLayout(this.itemHandlers.first((function(t){return t.item===e.item}))),[2]}}))}))},e.prototype._onItemRemoved=function(e){t.prototype._onItemRemoved.call(this,e),this._unsubscribeChildItemChanges(e.item),this._layoutHandler?this._layoutHandler.onItemRemoved(e):this._resetSourceRectangle()},e.prototype._onItemHandlerAdded=function(e){return xJ(this,void 0,void 0,(function(){return EJ(this,(function(n){switch(n.label){case 0:return t.prototype._onItemHandlerAdded.call(this,e),this._layoutHandler instanceof wJ&&this._layoutHandler.onItemHandlersCollectionChanged(),[4,this.waitUpdate()];case 1:return n.sent(),this.applyLayout(),[2]}}))}))},e.prototype._onItemHandlerRemoved=function(e){t.prototype._onItemHandlerRemoved.call(this,e),this._layoutHandler instanceof wJ&&this._layoutHandler.onItemHandlersCollectionChanged()},e.prototype._subscribeChildItemHandlers=function(){var t=this;this.itemHandlers.forEach((function(e){return t._subscribeChildItemHandler(e)}))},e.prototype._unsubscribeChildItemHandlers=function(){var t=this;this.itemHandlers.forEach((function(e){return t._unsubscribeChildItemHandler(e)}))},e.prototype._subscribeChildItemHandler=function(t){t.getChangingEvent().add(this._onChildItemHandlerChanging),t instanceof pJ&&(t.exitedEditModeEvent.add(this._onItemHandlerExitedEditMode),t.enteredEditModeEvent.add(this._onItemHandlerEnteredEditMode))},e.prototype._unsubscribeChildItemHandler=function(t){t.getChangingEvent().remove(this._onChildItemHandlerChanging),t instanceof pJ&&(t.exitedEditModeEvent.remove(this._onItemHandlerExitedEditMode),t.enteredEditModeEvent.remove(this._onItemHandlerEnteredEditMode))},e.prototype._unsubscribeChildItems=function(){var t=this;this.item.items.forEach((function(e){return t._unsubscribeChildItemChanges(e)}))},e.prototype._subscribeChildItems=function(){var t=this;this.item.items.forEach((function(e){return t._subscribeChildItemChanges(e)}))},e.prototype._unsubscribeChildItemChanges=function(t){t.getItemChangedEvent().remove(this._onChildItemChanged)},e.prototype._subscribeChildItemChanges=function(t){t.getItemChangedEvent().add(this._onChildItemChanged)},e.prototype._onRemovedFromCanvas=function(e){return xJ(this,void 0,void 0,(function(){return EJ(this,(function(n){return this._unsubscribeChildItems(),this._unsubscribeChildItemHandlers(),null!=this._layoutHandler&&(this._layoutHandler.dispose(),this._layoutHandler=null),t.prototype._onRemovedFromCanvas.call(this,e),[2]}))}))},e.prototype._onAddedOnCanvas=function(e){return xJ(this,void 0,void 0,(function(){return EJ(this,(function(n){switch(n.label){case 0:return t.prototype._onAddedOnCanvas.call(this,e),this._subscribeChildItems(),this._initLayoutHandler(),[4,this._initSourceRectangle()];case 1:return n.sent(),[2]}}))}))},e.prototype.drawItemHandler=function(e){this.isEmpty()||t.prototype.drawItemHandler.call(this,e)},Object.defineProperty(e.prototype,"item",{get:function(){return this._getItem()},enumerable:!0,configurable:!0}),e.prototype.isChildVisible=function(t){return!(t instanceof rK||t instanceof pJ)||!t.isEmpty()},e.typeName="LayoutItemHandler",e}(tY),PJ=function(){function t(t){var e=this;this._canvas=t,this._handlers=new Map,this._beforeReplaceItemHandlerEvent=new rB,this._afterReplaceItemHandlerEvent=new rB,this.get=function(t){var n=e._handlers.has(t)?e._handlers.get(t):e._createItemHandler(t);return e._handlers.set(t,n),e._isItemOnCanvas(t)&&n.canvas!=e._canvas&&(n.canvas=e._canvas),n}}return Object.defineProperty(t.prototype,"beforeReplaceItemHandlerEvent",{get:function(){return this._beforeReplaceItemHandlerEvent},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"afterReplaceItemHandlerEvent",{get:function(){return this._afterReplaceItemHandlerEvent},enumerable:!0,configurable:!0}),t.prototype.delete=function(t){var e=this;t instanceof tY&&t.itemHandlers.forEach((function(t){return e.delete(t)})),this._handlers.delete(t.item),t.dispose()},t.prototype.replaceItemHandler=function(t,e){var n=this.get(t),i=this._canvas.isItemHandlerSelected(n);this._beforeReplaceItemHandlerEvent.notify(n),this._handlers.delete(t);var r=this.get(null!=e?e:t),o=n.parentGroupItemHandler;if(null!=o)o.replaceItemHandler(n,r);else{var s=n.layer.itemHandlers,a=s.indexOf(n);s.remove(n),s.insertAt(a,r)}n.dispose(),n.item=null,this._afterReplaceItemHandlerEvent.notify(r),i&&this._canvas.addSelectedItemHandler(r)},t.prototype.replaceTextItemHandler=function(t){if(t instanceof uU){var e=this._useOldItemHandler(t,!1),n=this.get(t);(e&&n instanceof pJ||!e&&n instanceof rK)&&this.replaceItemHandler(t)}},Object.defineProperty(t.prototype,"_viewer",{get:function(){return this._canvas.viewer},enumerable:!0,configurable:!0}),t.prototype._createItemHandler=function(t){var e,n,i,r,o,s,a,l,c,u,h,d,p,f,m,g,y,_,v,b,w,C,x=this;if(t.type===$V.type)return new UX(t,null===(e=this._canvas)||void 0===e?void 0:e.textWhizz);if(function(t){return t.type===fW.type}(t))return new JX(t,null===(n=this._canvas)||void 0===n?void 0:n.textWhizz);if(function(t){return t.type===CU.type}(t))return new NK(t,null===(i=this._canvas)||void 0===i?void 0:i.textWhizz);if(function(t){return t.type===qW.type}(t)){var E=new _K(t,null===(r=this._canvas)||void 0===r?void 0:r.textWhizz);return null!=t.content&&(E.content=this.get(t.content)),E.bottomFrames=t.bottomFrames.map((function(t){return x.get(t)})),E.topFrames=t.topFrames.map((function(t){return x.get(t)})),E}if(function(t){return t.type===fU.type}(t))return new RK(t,null===(o=this._canvas)||void 0===o?void 0:o.textWhizz);if(function(t){return t.type===JW.type}(t))return new MK(t,null===(s=this._canvas)||void 0===s?void 0:s.textWhizz);if(t instanceof uU)if(this._useOldItemHandler(t,!this._canvas.viewer.frontEndTextRenderingEnabled)){if(S(t))return new cK(t,null===(a=this._canvas)||void 0===a?void 0:a.textWhizz);if(k(t))return new hK(t,null===(l=this._canvas)||void 0===l?void 0:l.textWhizz);if(P(t))return new rY(t,null===(c=this._canvas)||void 0===c?void 0:c.textWhizz);if(O(t))return new aK(t,null===(u=this._canvas)||void 0===u?void 0:u.textWhizz)}else{if(S(t)||k(t))return new gJ(t,null===(h=this._canvas)||void 0===h?void 0:h.textWhizz);if(P(t))return new _J(t,null===(d=this._canvas)||void 0===d?void 0:d.textWhizz);if(O(t))return new IJ(t,null===(p=this._canvas)||void 0===p?void 0:p.textWhizz)}if(function(t){return t.type===KU.type}(t))return new OK(t,null===(f=this._canvas)||void 0===f?void 0:f.textWhizz);if(function(t){return t.type===QU.type}(t))return new lY(t,null===(m=this._canvas)||void 0===m?void 0:m.textWhizz);if(function(t){return t.type===UV.type}(t))return new HX(t.sourcePath,t,null===(g=this._canvas)||void 0===g?void 0:g.textWhizz);if(function(t){return t.type===QW.type}(t))return new sY(t,null===(y=this._canvas)||void 0===y?void 0:y.textWhizz);if(function(t){return t.type===eW.type}(t))return new uY(t,null===(_=this._canvas)||void 0===_?void 0:_.textWhizz);if(function(t){return t.type===JU.type}(t))return new dY(t,null===(v=this._canvas)||void 0===v?void 0:v.textWhizz);if(function(t){return t.type===RU.type}(t))return new tY(t,t.items.toArray().map((function(t){return x.get(t)})),null===(b=this._canvas)||void 0===b?void 0:b.textWhizz);if(function(t){return t.type===jU.type}(t))return new nY(t,t.items.toArray().map((function(t){return x.get(t)})),null===(w=this._canvas)||void 0===w?void 0:w.textWhizz);if(function(t){return t.type===IW.type}(t))return new SJ(t,t.items.toArray().map((function(t){return x.get(t)})),this._canvas.history,null===(C=this._canvas)||void 0===C?void 0:C.textWhizz);throw new qR("Item of type "+t.type+" not supported");function S(t){return t.type===kU.type}function P(t){return t.type===GU.type}function O(t){return t.type===KW.type}function k(t){return t.type===NW.type}},t.prototype._isItemOnCanvas=function(t){return null!=t.parentContainer&&t.parentContainer.parentComponent instanceof d$&&this._viewer.surface==t.parentContainer.parentComponent},Object.defineProperty(t.prototype,"_debugWarnEnabled",{get:function(){return void 0===window.$DesignAtoms$WarnOnLegacyItemHandlers&&(window.$DesignAtoms$WarnOnLegacyItemHandlers=!1),window.$DesignAtoms$WarnOnLegacyItemHandlers},enumerable:!0,configurable:!0}),t.prototype._logUseOldItemHandler=function(t,e,n){if(this._debugWarnEnabled){var i="unknown";switch(e){case"verticalScale":i="verticalScale property value "+n+" is not equal to 1";break;case"shadow":i="item has shadow";break;case"overlapLinesEnabled":i="overlapLinesEnabled is true";break;case"maxLineCount":case"maxLineLength":i="maxLineLength ("+n+") is greater then 0";break;case"AutoScaledTextItem":i="item is AutoScaledTextItem";break;case"text-list":i="item text contains list tags";break;case"isVertical":i="isVertical is true";break;case"verticalAlignment":i="verticalAlignment ("+n+") is not Top";break;case"scheduledFitMode":i="scheduledFitMode is set ("+n+")";break;case"overflowStrategy":i="overflowStrategy is set ("+n+")";break;case"characterLimit":i="characterLimit ("+n+") is greater then 0";break;case"fitToPath":i="fitToPath is true";break;default:i="unknown, property: "+e}console.warn("Legacy text item handler created for item ["+t.type+"#"+t.name+"] reason: "+i)}},t.prototype._useOldItemHandler=function(t,e){if(!0===e)return!0;if(!gB(1,t.verticalScale,.001)||!gB(1,t.horizontalScale,.001))return this._logUseOldItemHandler(t,"verticalScale",t.verticalScale),!0;if(null!=t.shadow)return this._logUseOldItemHandler(t,"shadow",null),!0;if(t.overlapLinesEnabled)return this._logUseOldItemHandler(t,"overlapLinesEnabled",null),!0;if(t.maxLineCount>0||t.maxLineLength>0)return t.maxLineCount&&this._logUseOldItemHandler(t,"maxLineCount",t.maxLineCount),t.maxLineLength&&this._logUseOldItemHandler(t,"maxLineLength",t.maxLineLength),!0;if(t instanceof fU)return this._logUseOldItemHandler(t,"AutoScaledTextItem",null),!0;if(t.text.includes("<ol")||t.text.includes("<ul")||t.text.includes("<li"))return this._logUseOldItemHandler(t,"text-list",null),!0;if(t instanceof kU){if(t.isVertical)return this._logUseOldItemHandler(t,"isVertical",null),!0;if(null!=t.scheduledFitMode)return this._logUseOldItemHandler(t,"scheduledFitMode",t.scheduledFitMode),!0;if(t.characterLimit>0)return this._logUseOldItemHandler(t,"characterLimit",t.characterLimit),!0}if(t instanceof NW){if(t.isVertical)return this._logUseOldItemHandler(t,"isVertical",null),!0;if(t.characterLimit>0)return this._logUseOldItemHandler(t,"characterLimit",t.characterLimit),!0}return t instanceof KW&&t.isVertical?(this._logUseOldItemHandler(t,"isVertical",null),!0):!!(t instanceof GU&&t.fitToPath)&&(this._logUseOldItemHandler(t,"fitToPath",null),!0)},t}(),OJ=function(){var t=function(e,n){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(e,n)};return function(e,n){function i(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(i.prototype=n.prototype,new i)}}(),kJ=function(t){function e(e){var n=this;if(!e)throw new KR("layer");return(n=t.call(this)||this)._layer=e,n}return OJ(e,t),e.prototype._onHandlerAdded=function(t,e,n){var i=this,r=function(t){t.layer=i._layer;var e=i._layer.canvas;e&&(t.canvas=e),t instanceof tY&&t.applyToItems(r)};r(t)},e.prototype._onHandlerRemoved=function(t,e){var n=this._layer.canvas;n&&n.isItemHandlerSelected(t)&&n.removeSelectedItemHandler(t),t.layer=null,n&&(t.canvas=null)},e.prototype.insertAt=function(e,n){t.prototype.insertAt.call(this,e,n),this._onHandlerAdded(n,e,this._layer.index)},e.prototype.move=function(e,n){return t.prototype.move.call(this,e,n)},e.prototype.removeAt=function(e){var n=t.prototype.removeAt.call(this,e);return n&&this._onHandlerRemoved(n,e),n},e.prototype.clear=function(){for(var e=0;e<this.length;e++)this.getItem(e).layer=null;t.prototype.clear.call(this)},e}(JH),TJ=function(){var t=function(e,n){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(e,n)};return function(e,n){function i(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(i.prototype=n.prototype,new i)}}(),IJ=function(t){function e(e,n){return void 0===n&&(n=null),t.call(this,e,n)||this}return TJ(e,t),Object.defineProperty(e.prototype,"item",{get:function(){return this._getItem()},set:function(e){t.prototype._setItem.call(this,e)},enumerable:!0,configurable:!0}),e.prototype._onItemPropertyChanged=function(e,n){switch(n){case"baselineLocation":this.update(null,null,"frame")}t.prototype._onItemPropertyChanged.call(this,e,n)},e.prototype.drawItemHandler=function(e){t.prototype.drawItemHandler.call(this,e)},e.prototype._addTextWhizzFrames=function(t){t.addFrame(this._createTextWhizzFrame())},e.prototype.setTextWhizzWrappingPath=function(t){},e.prototype.updateTextWhizzFrames=function(t){t.replaceFrame(this._createTextWhizzFrame(),0)},e.prototype._getEndTransformTrigger=function(t){return t?null:"frame"},e.prototype._applyTransform=function(t,e,n){var i,r;if(t instanceof KW){var o=t.baselineLocation.clone();o.transform(e,n),t.baselineLocation=o;var s=this._getPreviewScaleLimits(),a=this.item.previewScale*e.scaleY;a=Math.min(null!==(i=s.max)&&void 0!==i?i:Number.MAX_VALUE,a),a=Math.max(null!==(r=s.min)&&void 0!==r?r:Number.MIN_VALUE,a),t.previewScale=a}},e.prototype._getPreviewScaleLimits=function(){var e,n,i=t.prototype._getPreviewScaleLimits.call(this);return this.item.leading>0&&(null==this.canvas.maxLeading||isNaN(this.canvas.maxLeading)||(i.max=Math.min(null!==(e=i.max)&&void 0!==e?e:Number.MAX_VALUE,this.canvas.maxLeading/this.item.leading)),null==this.canvas.minLeading||isNaN(this.canvas.minLeading)||(i.min=Math.max(null!==(n=i.min)&&void 0!==n?n:Number.MIN_VALUE,this.canvas.minLeading/this.item.leading))),i},e.prototype._createTextWhizzFrame=function(){var t=this.item.baselineLocation.clone(),e=this.item.previewScale;gB(e,1)||t.scale(1/e,1/e);var n=new this._textWhizz.PointTextFrame;return n.point=t,n},e.typeName="NewPlainTextItemHandler",e}(pJ),AJ=function(t,e){var n="function"==typeof Symbol&&t[Symbol.iterator];if(!n)return t;var i,r,o=n.call(t),s=[];try{for(;(void 0===e||e-- >0)&&!(i=o.next()).done;)s.push(i.value)}catch(a){r={error:a}}finally{try{i&&!i.done&&(n=o.return)&&n.call(o)}finally{if(r)throw r.error}}return s},MJ=function(){function t(t,e){var n=this;this._canvas=t,this._viewer=e,this._dndStarting=!1,this._dndStarted=!1,this._isShown=!1,this._startPoint=null,this._currentPoint=null,this._currentPointClient=null,this._isOutOfCanvas=!1,this._dragSource=null,this._dragOver=null,this._dragImg=null,this._dragTargets=null,this._allowedTargets=null,this._onDragNDropStarting=function(t){n._canvas._onDragNDropStarting(t);var e=t.source.item,i=n._canvas.viewer.surface.getAllItems({ignoreMockups:!1,flatGroupItems:!0}),r=pX.filter(i.toArray(),(function(t){return null!=t.parentContainer&&t instanceof qW&&!(null!=t.content&&t.content instanceof CU)&&t!==e&&function(t,e){if(t.allowedSubfolder!==e.allowedSubfolder)return!1;if(null==t.allowedTabs&&null!=e.allowedTabs||null!=t.allowedTabs&&null==e.allowedTabs)return!1;if(null!=t.linkId&&e.linkId===t.linkId)return!1;if(null!=t.allowedTabs&&null!=e.allowedTabs){if(t.allowedTabs.length!==e.allowedTabs.length)return!1;for(var n=0;n<t.allowedTabs.length;n++)if(!e.allowedTabs.includes(t.allowedTabs[n]))return!1}return!0}(e,t)&&t.parentContainer.name!==P$.BG_CONTAINER_NAME&&t.manipulationPermissions.allowDragAndDrop}));t.allowedTargets=r.map((function(t){return n._canvas.viewer.getHandler(t)}))},this._onDragNDropPerformed=function(t){n._canvas._onDragNDropPerformed(t);var e=t.target,i=t.source.item,r=i.content,o=null,s=null;null!=e&&(s=(o=e.item).content);var a=s&&!o.isStubOrEmpty,l=a?new bW({isUserImage:s.isUserImage,isVector:s.source.isVector,name:s.name,size:{width:s.source.width,height:s.source.height},storageId:s.source.id,origin:s.source.origin}):i.stubStorageMeta;if(n._createAndInsertImageContent(l,i,!a,null!=s?s.tags:null),null!=o){var c=new bW({isUserImage:r.isUserImage,isVector:r.source.isVector,name:r.name,size:{width:r.source.width,height:r.source.height},storageId:r.source.id,origin:r.source.origin});n._createAndInsertImageContent(c,o,null,r.tags)}},this._createAndInsertImageContent=function(t,e,i,r){var o,s;void 0===i&&(i=!1),void 0===r&&(r={});var a=n._canvas.viewer,l=a.surface.parentProduct,c=(null!=l?l.getAllItems({ignoreMockups:!1,flatGroupItems:!0}):a.surface.getAllItems().toArray()).filter((function(t){return t instanceof qW})),u=null!=e.linkId?c.filter((function(t){return t.linkId===e.linkId})):[],h=function(){for(var t=[],e=0;e<arguments.length;e++)t=t.concat(AJ(arguments[e]));return t}([e],u);try{for(var d=function(t){var e="function"==typeof Symbol&&Symbol.iterator,n=e&&t[e],i=0;if(n)return n.call(t);if(t&&"number"==typeof t.length)return{next:function(){return t&&i>=t.length&&(t=void 0),{value:t&&t[i++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")}(h),p=d.next();!p.done;p=d.next()){var f=p.value,m=null==t||null==t.storageId?null:JZ.createImageContentForPlaceholder(f,t,a.productHandler);f.isStubContent=null!=i&&i,null!=m&&null!=r&&(m.tags=r),n._viewer.commandManager.execute(UQ.addContent,{placeholder:f,content:m},kY.NotUpdate)}}catch(g){o={error:g}}finally{try{p&&!p.done&&(s=d.return)&&s.call(d)}finally{if(o)throw o.error}}}}return t.prototype.processMouseEvent=function(t){var e=new QL(t.x,t.y);if("mousedown"===t.type){var n=this.hitTest(e),i=this._canvas.currentItemHandler;if(null!=n&&null!=i&&n.uniqueId===i.uniqueId){this._isOutOfCanvas=this._testOutOfCanvas(e);var r=n.getPermissions(),o=r.allowDragAndDrop;n.isStubOrEmpty()||!1!==r.allowMove&&!this._canvas.simpleMode||!o||this._isOutOfCanvas||n.content instanceof NK||(this._dndStarting=!0,this._startPoint=e,this._currentPoint=e,this._currentPointClient=new QL(t.clientX+window.scrollX,t.clientY+window.scrollY),this._dragSource=n,this._allowedTargets=null)}}else if("mousemove"===t.type){if(this._dndStarting){var s=Math;if(s.abs(e.x-this._startPoint.x)>4||s.abs(e.y-this._startPoint.y)>4){var a={source:this._dragSource,allowedTargets:null};this._onDragNDropStarting(a),null!=a.allowedTargets&&(this._allowedTargets=a.allowedTargets),this._dndStarted=!0,this._dndStarting=!1,this._dragSource._reloadPlaceholderButtons(),this._dragImg=this._image,this._setDragTargets(this._dragSource)}}this._dndStarted&&(this._isOutOfCanvas=this._testOutOfCanvas(e),n=this.hitTest(e),this._dragTargets.includes(n)||(n=null),this._setDragOver(n),this._currentPoint=e,this._currentPointClient=new QL(t.clientX+window.scrollX,t.clientY+window.scrollY))}else if("mouseup"===t.type&&(this._dndStarted||this._dndStarting)){var l=this.hitTest(e);this.isDragTarget(l)||(l=null),this._testOutOfCanvas(e)?(this._onDragNDropPerformed({source:this._dragSource,target:null}),this._canvas.setSelectedItemHandlers([])):null!=l&&l!=this._dragSource&&(this._onDragNDropPerformed({source:this._dragSource,target:l}),this._canvas.setSelectedItemHandlers([l])),this._setDragOver(null),this._dndStarted=!1,this._dndStarting=!1;var c=this._dragSource;this._dragSource=null,c&&c._reloadPlaceholderButtons(),this._startPoint=null,this._currentPoint=null,this._currentPointClient=null,this._dragImg=null,this._dragOver=null,this._unsetDragTargets(),this.draw(),this._canvas._onDragNDropDone()}},t.prototype._setDragOver=function(t){if(null!=this._dragOver&&this._dragOver!==t){var e=this._dragOver;this._dragOver=null,this._canvas.redrawDesign(),e._reloadPlaceholderButtons()}t&&t!==this._dragSource&&t!==this._dragOver&&(this._dragOver=t,this._canvas.redrawDesign(),this._dragOver._reloadPlaceholderButtons())},t.prototype.isDragSource=function(t){return this._dragSource===t},t.prototype.isDragTarget=function(t){return null!=this._dragTargets&&this._dragTargets.includes(t)},t.prototype.isDragStarted=function(){return this._dndStarted},t.prototype.isDragOver=function(t){return void 0===t&&(t=null),null===t?null!=this._dragOver:this._dragOver===t},t.prototype.isOutOfCanvas=function(){return this._isOutOfCanvas},t.prototype.hitTest=function(t){var e=this._canvas.getItemHandlersByHitTest(t).filter((function(t){return!(t instanceof tY)}))[0];return e instanceof _K?e:null},t.prototype._testOutOfCanvas=function(t){return t.x<0||t.x>this._canvas.workspaceWidth||t.y<0||t.y>this._canvas.workspaceHeight},Object.defineProperty(t.prototype,"_image",{get:function(){return this._dragSource.content._imageContainer._image},enumerable:!0,configurable:!0}),t.prototype._unsetDragTargets=function(){var t=this._dragTargets;this._dragTargets=null,null!=t&&(t.forEach((function(t){return t._reloadPlaceholderButtons()})),this._canvas.redraw())},t.prototype._setDragTargets=function(t){var e=this,n=this._canvas.getAllItemHandlers({onlyVisible:!0,onlyType:_K,flatGroupItems:!0});this._dragTargets=n.filter((function(n){return n!==t&&(null==e._allowedTargets||e._allowedTargets.includes(n))})),this._dragTargets.length>0&&(this._dragTargets.forEach((function(t){return t._reloadPlaceholderButtons()})),this._canvas.redraw())},t.prototype.draw=function(){this._dndStarted?(this._canvas.showDnd(this._currentPointClient,this._dragImg),this._isShown=!0):this._isShown&&(this._canvas.hideDnd(),this._isShown=!1)},t}(),DJ=function(){function t(t,e){this.rotateDiv=null,this._canvas=t,this._viewer=e,this._rotationStyle=null}return t.prototype.addRotationStyle=function(){null!=this._viewer&&(null!=this._rotationStyle&&this._rotationStyle.remove(),this._rotationStyle=document.createElement("style"),this._rotationStyle.type="text/css",this._rotationStyle.innerHTML="\n                #rotate-circle svg { \n                    position: absolute; \n                    width: 16px; \n                    height: 16px;                     \n                    top: 3px; \n                    left: 3px; \n                } \n                #degree { \n                    position: absolute; \n                    border-radius: 5px; \n                    background-color: rgba(0, 0, 0, 0.8); \n                    color: #fff; \n                    display: flex; \n                    align-items: center; \n                    justify-content: center; \n                    z-index: 2; \n                    font-size: 12px; \n                    line-height: 14px; \n                    height: 22px; \n                    width: 45px; \n                    transition: 0.3s opacity; \n                }\n                ",document.head.appendChild(this._rotationStyle))},t.prototype.addRotateDiv=function(t,e){if(null!=this._viewer&&null!=this._viewer.whitespaceDiv){var n=this._viewer.whitespaceDiv;this.rotateDiv=document.createElement("div"),this.rotateDiv.id="degree",n.appendChild(this.rotateDiv),this.updateRotatePositionDiv(t,e),this._canvas.updateHoverDiv()}},t.prototype.removeRotateDiv=function(){null!=this.rotateDiv&&(this.rotateDiv.remove(),this.rotateDiv=null)},t.prototype.updateRotatePositionDiv=function(t,e){null!=this.rotateDiv&&(this.rotateDiv.style.top=t+"px",this.rotateDiv.style.left=e+"px")},t.prototype.updateRotateDegreeDiv=function(t){null!=this.rotateDiv&&(this.rotateDiv.innerHTML=Math.round(t)%360+"&deg;")},t.prototype.rotateHoverLabel=function(t,e){t>45&&t<135?this._canvas.hoverDiv.querySelectorAll("#hover-label").forEach((function(t){t.style.left="-"+(e.width/2+10)+"px",t.style.top=e.height-e.width/2-7+"px",t.style.transform="rotate(-90deg)"})):t>=135&&t<225?this._canvas.hoverDiv.querySelectorAll("#hover-label").forEach((function(t){t.style.left="0px",t.style.top=e.height+5+"px",t.style.transform="rotate(180deg)"})):t>225&&t<315?this._canvas.hoverDiv.querySelectorAll("#hover-label").forEach((function(t){t.style.left=e.width/2+10+"px",t.style.top=e.width/2-10+"px",t.style.transform="rotate(90deg)"})):this._canvas.hoverDiv.querySelectorAll("#hover-label").forEach((function(t){t.style.left="0px",t.style.top="-20px",t.style.transform="rotate(0deg)"}))},t.prototype.calculatePositionRotateDiv=function(t,e,n,i,r,o){var s=this._canvas.mul;switch(t){case 0:var a=i.x*s+e+20,l=i.y*s+n+20;break;case 90:a=o-i.y*s+e+20,l=i.x*s+n+20;break;case 180:a=r-i.x*s+e+20,l=o-i.y*s+n+20;break;case 270:a=i.y*s+e+20,l=r-i.x*s+n+20}return new QL(a,l)},t.getRotatedPoint=function(t,e,n){void 0===n&&(n=null);var i=null!=n?n:t.contentAngle;return this.getRotatedPointFromSize(e,new xB(t.workspaceWidth,t.workspaceHeight),i)},t.getRotatedPointFromSize=function(t,e,n){var i=t.clone();return i.rotateAt(n,new QL),90===n?i.translate(e.height,0):180===n?i.translate(e.width,e.height):270===n&&i.translate(0,e.width),i},t}(),RJ=function(){function t(t,e){if(this.N="",this.V=!0,this.L=!1,this.ID="l"+(new Date).getTime()+Math.round(1e3*Math.random()),this.VO=[],this.RenderingType=ZH.Normal,t){if(this.RenderingType=t.renderingType,e)return;this.N=t.name,this.V=t.getVisible(),this.L=t.locked,this.R=t.region,this.ID=t.uniqueId,this.VO=[];for(var n=t.itemHandlers,i=0;i<n.length;i++){var r=n.getItem(i);this.VO.push({T:r.getTypeName(),D:r.getData("asObject")})}this.TextureStorageId=t.textureStorageId,this.TextureSourceWidth=t.textureSourceWidth,this.TextureSourceHeight=t.textureSourceHeight,this.PreviewColor=t.previewColor}}return t.applyState=function(t,e,n){if(n||(n={}),e){e.name=t.N,e.setVisible(t.V),e.locked=t.L,e.uniqueId=t.ID,e.textureStorageId=t.TextureStorageId,e.textureSourceWidth=t.TextureSourceWidth,e.textureSourceHeight=t.TextureSourceHeight,e.previewColor=t.PreviewColor,e.renderingType=t.RenderingType,t.R&&(e.region=aB.FromObject(t.R));for(var i=e.itemHandlers,r=0;r<t.VO.length;r++){var o=t.VO[r].D,s=n[o.ID];s?(n[o.ID]=null,s.setData(o)):((s=(new fK).create(t.VO[r].T)).setData(o),s.initialize()),i.add(s)}}},t}(),FJ=function(t,e,n){if(this.L=[],this.XDpi=72,this.YDpi=72,this.Z=1,this.RV=null,this.MinFontSize=null,this.MaxFontSize=null,this.MinLeading=null,this.MaxLeading=null,t){this.RgbCPId=t.rgbColorProfileFileId,this.CmykCPId=t.cmykColorProfileFileId,this.GrayscaleCPId=t.grayscaleColorProfileFileId,this.Z=t.zoom,this.XDpi=eF.screenDpi,this.YDpi=eF.screenDpi,this.TDpi=t.targetDpi,this.WW=t.workspaceWidth,this.WH=t.workspaceHeight,this.MinFontSize=t.minFontSize,this.MaxFontSize=t.maxFontSize,this.MinLeading=t.minLeading,this.MaxLeading=t.maxLeading;var i=t.layers;if(this.L=[],!1===e||void 0===e){for(var r=0;r<i.length;r++)this.L.push(new RJ(i.getItem(r)));this.ReGC=t.resizeGripColor,this.RoGC=t.rotationGripColor,this.ReGS=t.resizeGripSize,this.RoGS=t.rotationGripSize,this.RV=t.returnValue,this.SB=t.isSquaredBackground,this.MW=t.marginWidth,this.MC=t.marginColor,this.LM=t.leftMargin,this.RM=t.rightMargin,this.TM=t.topMargin,this.BM=t.bottomMargin,this.CM=t.constrainedMarginEnabled,this.Tags=t.tags,this.LIU=t.loadingImageUrl,this.SC=t.selectionColor,this.SW=t.selectionWidth,this.ReGLC=t.resizeGripLineColor,this.RoGLC=t.rotationGripLineColor,this.RoGLL=t.rotationGripLineLength,this.PBGCC=t.placeholderButtonGroupCssClass,this.FloatingItemToolbarCssClass=t.floatingItemToolbarCssClass,this.SIBCC=t.selectImageButtonCssClass,this.SBBCC=t.selectBarcodeButtonCssClass,this.HBCC=t.handleButtonCssClass,this.DBCC=t.doneButtonCssClass,this.DeleteToolbarButtonCssClass=t.deleteToolbarButtonCssClass,this.EditToolbarButtonCssClass=t.editToolbarButtonCssClass,this.SelectToolbarButtonCssClass=t.selectToolbarButtonCssClass,this.QCCCC=t.qualityChangeContainerCssClass,this.QCSBCC=t.qualityChangeScaleBarCssClass,this.QBTWCSBCC=t.qualityBadToWarningChangeScaleBarCssClass,this.QWTGCSBCC=t.qualityWarningToGoodChangeScaleBarCssClass,this.QBTGCSBCC=t.qualityBadToGoodChangeScaleBarCssClass,this.QNACSBCC=t.qualityNoAnimationChangeScaleBarCssClass,this.QCIBCC=t.qualityChangeInfoBarCssClass,this.VCCC=t.violationContainerCssClass,this.VBCC=t.violationWarningButtonCssClass,this.GVICC=t.goodViolationIconCssClass,this.WVICC=t.warningViolationIconCssClass,this.BVICC=t.badViolationIconCssClass,this.BBGCC=t.bigButtonGroupCssClass,this.SBT=t.selectButtonTitle,this.HBT=t.handleButtonTitle,this.DBT=t.doneButtonTitle,this.DLTBT=t.deleteButtonTitle,this.EBT=t.editButtonTitle,this.MSE=t.multipleSelectionEnabled,this.MMT=t.mouseMoveTimeout,this.DS=t.disableSmoothing}else null!=n&&this.L.push(new RJ(i.getLayerById(n),!0))}},LJ=function(){function t(t,e){var n=this;if(this._container=t,this._uniqueId="l"+(new Date).getTime()+Math.round(1e3*Math.random()),this._textureSizeMultiplier=null,this._textureUrl=null,this._isTextureLoaded=!1,this._createItemHandlersCollection=function(){n.itemHandlers.setRange(n._container.items.ofType(IV).select(n._canvas.handlerFactory.get).toArray()),n._canvas.redraw()},this._onContainerPropertyChanged=function(t,e){switch(e){case"visible":n.setVisible(t.visible);break;case"previewTextureSource":n.updateTexture(!0)}},this._canvas=null,this._itemHandlers=new kJ(this),this._visible=!0,this.updateTexture=function(t){if(null!=n._canvas&&!n.locked&&(null!=n.textureStorageId&&null!=n.textureSourceWidth&&null!=n.textureSourceHeight||null!=n.previewColor))if(null==n.previewColor){var e=Math.max(n._canvas.width/n.textureSourceWidth,n._canvas.height/n.textureSourceHeight);if(e=Math.min(1,e),t||null==n._textureSizeMultiplier||!(n._textureSizeMultiplier>e)){n._textureSizeMultiplier=e;var i=n._textureUrl,r=parseInt((n.textureSourceWidth*e).toString()),o=parseInt((n.textureSourceHeight*e).toString());if(n._textureUrl=KX.getImageUrl(n._canvas,n.textureStorageId,r,o,!1,null,!0),i!==n._textureUrl){var s=new Image(r,o);s.crossOrigin="anonymous",s.src=n._textureUrl;var a=n;s.onload=function(){a.textureImage=s,a._isTextureLoaded=!0,a._canvas.onLayerTextureLoaded()}}}}else if(null==n.textureImage){n.textureImage=document.createElement("canvas"),n.textureImage.width=10,n.textureImage.height=10;var l=n.textureImage.getContext("2d");l.fillStyle=new VB(n.previewColor).preview,l.fillRect(0,0,10,10)}},this._disposeEvent=new rB,this.textureImage=null,null!=e&&(this._canvas=e),null!=this._container){this._container.addPropertyChanged(this._onContainerPropertyChanged);var i=function(t){null!=t&&(n.itemHandlers.insertAt(t.index,n._canvas.handlerFactory.get(t.item)),n._canvas.updateTexts())},r=function(t){null!=t&&n.itemHandlers.removeAt(t.index)},o=function(t){null!=t&&n.itemHandlers.move(t.oldIndex,t.newIndex)};this._container.items.add_itemAdded(i),this._container.items.add_itemRemoved(r),this._container.items.add_itemMoved(o),this._disposeEvent.add((function(){n._container.items.remove_itemAdded(i),n._container.items.remove_itemRemoved(r),n._container.items.remove_itemMoved(o)})),this._createItemHandlersCollection(),this._visible=this._container.visible}}return Object.defineProperty(t.prototype,"uniqueId",{get:function(){return this._uniqueId},set:function(t){this._uniqueId=t},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"canvas",{get:function(){return this._canvas},set:function(t){this._canvas=t},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"index",{get:function(){var t=this.canvas;return t?t.layers.indexOf(this):-1},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"data",{get:function(){var t=new RJ(this);return JSON.stringify(t)},set:function(t){if(t&&""!=t){var e=JSON.parse(t);RJ.applyState(e,this)}},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"region",{get:function(){return this._container.region},set:function(t){this._container.region=t},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"itemHandlers",{get:function(){return this._itemHandlers},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"name",{get:function(){return this._container.name},set:function(t){this.container.name=t},enumerable:!0,configurable:!0}),t.prototype.getVisible=function(){return this._visible},t.prototype.setVisible=function(t,e){this._visible!==t&&(this._visible=t,(e=null==e||e)&&null!=this._canvas&&(this._canvas.updatePlaceholderButtonGroups(),this._canvas.updateViolationContainers()))},Object.defineProperty(t.prototype,"locked",{get:function(){return this._container.locked},set:function(t){this.locked!==t&&(this.container.locked=t,null!=this._canvas&&this._canvas.updatePlaceholderButtonGroups())},enumerable:!0,configurable:!0}),t.prototype._onRemovedFromCanvas=function(t){for(var e=this.itemHandlers,n=e.length,i=0;i<n;i++)e.getItem(i).canvas=null;this._canvas.remove_zoomChanged(this.updateTexture)},t.prototype.onLayerAdded=function(){this.updateTexture(),this._canvas.add_zoomChanged(this.updateTexture)},t.prototype.isTextureLoadedOrNotExists=function(){return null==this.textureStorageId||this._isTextureLoaded},t.prototype.dispose=function(){this._disposeEvent.notify()},Object.defineProperty(t.prototype,"container",{get:function(){return this._container},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"textureStorageId",{get:function(){return this._container instanceof oV?this._container.previewTextureSource.id:null},set:function(t){this._container instanceof oV&&(this._container.previewTextureSource.id=t)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"textureSourceWidth",{get:function(){return this._container instanceof oV?this._container.previewTextureSource.width:null},set:function(t){this._container instanceof oV&&(this._container.previewTextureSource.width=t)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"textureSourceHeight",{get:function(){return this._container instanceof oV?this._container.previewTextureSource.height:null},set:function(t){this._container instanceof oV&&(this._container.previewTextureSource.height=t)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"previewColor",{get:function(){return this._container instanceof rV?this._container.previewColor:null},set:function(t){this._container instanceof rV&&(this._container.previewColor=t)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"renderingType",{get:function(){return this._container.renderingType},set:function(t){this.container.renderingType=t},enumerable:!0,configurable:!0}),t}(),BJ=function(){function t(t){this._canvas=t}return t.prototype.processMouseEvent=function(t,e){"mousemove"===t.type&&(null==e?this._canvas.hideHover():this._canvas.showHover(e.rectangle,e.item.name))},t}(),NJ=function(t,e){var n="function"==typeof Symbol&&t[Symbol.iterator];if(!n)return t;var i,r,o=n.call(t),s=[];try{for(;(void 0===e||e-- >0)&&!(i=o.next()).done;)s.push(i.value)}catch(a){r={error:a}}finally{try{i&&!i.done&&(n=o.return)&&n.call(o)}finally{if(r)throw r.error}}return s},jJ=function(){for(var t=[],e=0;e<arguments.length;e++)t=t.concat(NJ(arguments[e]));return t},zJ=function(){function t(t,e,n,i){var r=this;this._viewer=t,this._selection=e,this._dndHandler=n,this._rotateHandler=i,this._document=null,this._parent=null,this._whitespace=null,this._dndDiv=null,this._dndStyle=null,this._spotlightDivs=[],this._spotlightOptions=[],this._selectionDiv=null,this._parentSelectionDiv=null,this._selectionStyle=null,this._buttonStyle=null,this.hoverDiv=null,this._textEditorDiv=null,this._textEditorInnerDiv=null,this.surfaceCanvas=null,this.activeCanvas=null,this.inactiveCanvas=null,this.designCanvas=null,this.cursorCanvas=null,this.staticTextCanvas=null,this.activeTextCanvas=null,this._getRotationCircleSvg=function(){var t=document.createElementNS("http://www.w3.org/2000/svg","svg");return t.setAttribute("width","16"),t.setAttribute("height","16"),t.setAttribute("viewBox","0 0 16 16"),t.setAttribute("fill","none"),t.innerHTML='<path d="M11.151 2.54293C14.1643 4.28262 15.1967 8.13564 13.457 11.1489C13.175 11.6374 12.8374 12.0738 12.4569 12.4548L10.5467 14.3629M4.85101 13.4548C1.83777 11.7151 0.805356 7.86213 2.54505 4.84888C2.82707 4.36041 3.16463 3.924 3.54514 3.54301L5.4555 1.63498M10.5456 11.182L10.5467 14.3629M10.5467 14.3629L13.7275 14.364M5.45439 4.81807L5.4555 1.63498M5.4555 1.63498L2.27241 1.63609" stroke="currentColor" stroke-width="1.5" stroke-linecap="round" stroke-linejoin="round"/>',t.style.color="var(--de-brand-primary)",t},this._showQualityChangeContainer=function(t){if(!t.item.violationSettings.allowImageQuality)return!1;if(t instanceof _K&&t.isStubOrEmpty())return!1;var e=JZ.getImageItem(t.item);return!(null!=e&&e.source.isVector||!(r._selection.isResizing()||t instanceof _K&&t.forceQualityChangeInfoBar)||t.isQualityChangeBarEmpty)},this._textEditorId="textEditor",this._onZoomedScrolledDelegate=function(){var t=r._selection.currentItemHandler;null!=t&&r._updateTextEditorPosition(t.rectangle,t.item instanceof KW?t.item.alignment:null,t.item.borderWidth,t.item instanceof kU?t.item.verticalAlignment:null)},this._stopPropagationFnc=function(t){t.stopPropagation()};var o=this._viewer.id;if(null==o)throw new QR("Element id cannot be null or undefined");this._surfaceCanvasId=o,this._activeCanvasId=o+"_active",this._inactiveCanvasId=o+"_inactive",this._designCanvasId=o+"_design",this._cursorCanvasId=o+"_cursor",this._staticTextCanvasId=o+"_staticText",this._activeTextCanvasId=o+"_activeText"}return Object.defineProperty(t.prototype,"offset",{get:function(){return this._offset},set:function(t){null!=t&&t.equals(this._offset)||null==t&&null!=this.offset||(this._offset=t)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"_canvas",{get:function(){return this._viewer.canvas},enumerable:!0,configurable:!0}),t.prototype.addStyles=function(){this._addButtonStyles(),this._addSelectionStyle(),this._addDndStyle(),this._rotateHandler.addRotationStyle()},t.prototype._addButtonStyles=function(){null!=this._buttonStyle&&this._buttonStyle.remove(),this._buttonStyle=document.createElement("style"),this._buttonStyle.type="text/css",this._buttonStyle.innerHTML=".buttonsHidden {opacity: 0; transition: 0.3s opacity; pointer-events: none !important;}.buttonsShown {opacity: 1; transition: 0.3s opacity; position: relative;}.elementHidden {opacity: 0; transition: 0.3s opacity;}.elementShown {opacity: 1; transition: 0.3s opacity;}",document.head.appendChild(this._buttonStyle)},t.prototype._addSelectionStyle=function(){null!=this._selectionStyle&&this._selectionStyle.remove(),this._selectionStyle=document.createElement("style"),this._selectionStyle.type="text/css",this._selectionStyle.innerHTML="#grips, #grips .selection, #hover {position: absolute; z-index: 1; pointer-events: none; box-sizing: border-box}#hover-label, .hover-label {left: 0px; top: -20px; position: absolute; width: 100%; text-align: left;min-width: 48px; font-family: Roboto; font-style: normal; font-weight: normal; font-size: 12px; line-height: 14px; white-space: nowrap; overflow: hidden;text-overflow: ellipsis;}",document.head.appendChild(this._selectionStyle)},t.prototype._addDndStyle=function(){null!=this._dndStyle&&this._dndStyle.remove(),this._dndStyle=document.createElement("style"),this._dndStyle.type="text/css",this._dndStyle.innerHTML="#ccDndDiv {position: absolute; left: 0; top: 0; z-index: 3; pointer-events: none; box-sizing: border-box; width: 100%; height: 100%;}#ccDndDiv .thumb {position: absolute; left: 0; top: 0; z-index: 3; pointer-events: none; box-sizing: border-box; width: 100px; height: 100px; border: 1px solid black; opacity: 0.8; background-size: cover;}#ccDndDiv .thumb.outside-canvas:after { content: '\\e92b'; font-size: 46px; text-align: center; font-family: 'Material Icons'; line-height: 100px; vertical-align: middle; color: white; background-color: red; opacity: 0.5; width: 100%; height: 100%; display: block; }#ccDndDiv .thumb.outside-canvas { opacity: 0.5 }#ccDndDiv .thumb.drag-over { opacity: 0.4 }.cc-dnd-icon {color: white}.cc-dnd-over {transition: transform 1.5s; transform: scale(1.2); }",document.head.appendChild(this._dndStyle)},t.prototype.addTextEditorStyles=function(t){var e=document.createElement("link");e.type="text/css",e.rel="stylesheet",e.href=t,document.head.appendChild(e)},t.prototype._addStaticTextCanvas=function(t,e){this.staticTextCanvas=this._createCanvasElement(this._staticTextCanvasId,t,e),this.staticTextCanvas.style.visibility="hidden",this._parent.appendChild(this.staticTextCanvas)},t.prototype.addElement=function(t,e,n,i){this._parent=t,this._document=t.ownerDocument,this._whitespace=e,null!=this._document&&null!=this._whitespace&&(this._addStaticTextCanvas(n,i),this.surfaceCanvas=this._createCanvasElement(this._surfaceCanvasId,n,i),this._parent.appendChild(this.surfaceCanvas),this.activeCanvas=this._createCanvasElement(this._activeCanvasId,n,i),this._parent.appendChild(this.activeCanvas),this.activeTextCanvas=this._createCanvasElement(this._activeTextCanvasId,n,i),this._parent.appendChild(this.activeTextCanvas),this.inactiveCanvas=this._createCanvasElement(this._inactiveCanvasId,n,i),this._parent.appendChild(this.inactiveCanvas),this.designCanvas=this._createCanvasElement(this._designCanvasId,n,i),this._parent.appendChild(this.designCanvas),this.cursorCanvas=this._createCanvasElement(this._cursorCanvasId,n,i),this._parent.appendChild(this.cursorCanvas),this._viewer.frontEndTextRenderingEnabled&&this._addTextEditorDiv(),this._addDndDiv(),this._addSelectionDiv(),this._addParentSelectionDiv(),this._addHoverDiv())},t.prototype.replaceStaticTextCanvas=function(){var t,e=this.staticTextCanvas.width,n=this.staticTextCanvas.height,i=null===(t=this.staticTextCanvas)||void 0===t?void 0:t.parentNode;return null!=i&&(i.removeChild(this.staticTextCanvas),this.staticTextCanvas=null),this._addStaticTextCanvas(e,n),this.staticTextCanvas},t.prototype.removeElement=function(){var t=this._getAllCanvases(),e=null!=t[0]?t[0].parentNode:null;if(null!=e)for(var n=t.length-1;n>=0;--n){var i=t[n];null!=i&&e.removeChild(i)}this._removeTextEditorDiv(),this._removeDndDiv(),this._removeSelectionDiv(),this._removeParentSelectionDiv(),this._removeHoverDiv()},t.prototype.updateElementSize=function(e,n){for(var i=this._getAllCanvases(),r=0;r<i.length;r++){var o=i[r];null!=o&&t.setElementSize(o,e,n)}},t.prototype.moveActiveTextCanvasOnTop=function(){this._parent.insertBefore(this.activeTextCanvas,this.designCanvas)},t.prototype.moveActiveTextCanvasBack=function(){this._parent.insertBefore(this.activeTextCanvas,this.inactiveCanvas)},t.prototype._addDndDiv=function(){this._dndDiv=this._document.createElement("div"),this._dndDiv.id="ccDndDiv",this._document.body.appendChild(this._dndDiv);var t=this._document.createElement("div");t.id="ccDndThumb",t.classList.add("thumb"),t.style.visibility="hidden",t.style.left="50%",t.style.top="0%",this._dndDiv.appendChild(t)},t.prototype._removeDndDiv=function(){null!=this._dndDiv&&(this._dndDiv.remove(),this._dndDiv=null)},t.prototype.showDnd=function(t,e,n){this._dndDiv.querySelectorAll("div[id^=ccDndThumb]").forEach((function(e){e.style.left=t.x-50+"px",e.style.top=t.y-50+"px"})),this._dndDiv.style.visibility="visible",this._dndDiv.querySelectorAll("div[id^=ccDndThumb]").forEach((function(t){t.style.visibility="visible",t.style.backgroundImage="url("+e.src+")",t.style.transform="rotate("+n+"deg)"})),this._dndHandler.isOutOfCanvas()?this._dndDiv.querySelectorAll("div[id^=ccDndThumb]").forEach((function(t){t.classList.add("outside-canvas")})):this._dndDiv.querySelectorAll("div[id^=ccDndThumb]").forEach((function(t){t.classList.remove("outside-canvas")})),this._dndHandler.isDragOver()?this._dndDiv.querySelectorAll("div[id^=ccDndThumb]").forEach((function(t){t.classList.add("drag-over")})):this._dndDiv.querySelectorAll("div[id^=ccDndThumb]").forEach((function(t){t.classList.remove("drag-over")}))},t.prototype.hideDnd=function(){this._dndDiv.style.visibility="hidden",this._dndDiv.querySelectorAll("div[id^=ccDndThumb]").forEach((function(t){t.style.visibility="hidden"}))},t.prototype.showSpotlight=function(t,e,n){var i=this;this._spotlightOptions=e,t.forEach((function(t,r){var o=e[r];if(!i._spotlightDivs.find((function(t){return t.id==="spotlight_"+o.id}))){var s=document.createElement("div");s.id="spotlight_"+o.id,i.setSpotlightStyles(s,o,t,n),s.animate([{opacity:0},{opacity:1}],o.transition||0).play(),i._spotlightDivs.push(s),i._whitespace.appendChild(s)}}))},t.prototype.hideSpotlight=function(t){var e=this;t.forEach((function(t){var n=e._spotlightDivs.find((function(e){return e.id==="spotlight_"+t}));if(n){var i=e._spotlightOptions.find((function(e){return e.id===t})),r=n.animate([{opacity:1},{opacity:0}],(null==i?void 0:i.transition)||0);r.play(),r.addEventListener("finish",(function(){return e._whitespace.removeChild(n)}))}})),this._spotlightOptions=this._spotlightDivs.filter((function(e){return t.find((function(t){return e.id===t}))})),this._spotlightDivs=this._spotlightDivs.filter((function(e){return!t.find((function(t){return"spotlight_"+t===e.id}))}))},t.prototype.updateSpotlight=function(t,e,n,i){var r=this;t.forEach((function(t,o){var s=r._spotlightDivs.find((function(e){return e.id==="spotlight_"+t}));s.innerHTML="",r.setSpotlightStyles(s,n[o],e[o],i)}))},t.prototype.setSpotlightStyles=function(t,e,n,i){if(e.name){var r=document.createElement("div");r.innerText=e.name,r.style.color=(null==e?void 0:e.color)||this._canvas.resizeGripLineColor,r.style.position="absolute",r.style.top="-20px",r.classList.add("hover-label"),t.appendChild(r)}var o=CB.getRectWithOffset(n,this._offset);t.style.position="absolute",t.style.boxSizing="border-box",t.style.boxShadow="0px 1px 3px rgba(0, 0, 0, 0.2)",this._updateFramePosition(t,o,i),t.style.border=(e.width||1)+"px solid "+((null==e?void 0:e.color)||this._canvas.resizeGripLineColor)},t.prototype._addParentSelectionDiv=function(){var t=document.createElement("div");t.classList.add("parent-selection"),t.style.visibility="hidden",t.style.position="absolute",this._whitespace.appendChild(t),this._parentSelectionDiv=t,this.updateParentSelectionDiv()},t.prototype._addSelectionDiv=function(){var t=this;this._selectionDiv=document.createElement("div"),this._selectionDiv.id="grips",this._selectionDiv.style.visibility="hidden",this._whitespace.appendChild(this._selectionDiv);var e=document.createElement("div");e.appendChild(this._getRotationCircleSvg()),e.id="rotate-circle",e.classList.add("selection"),e.style.left="calc(50% - 12px)",e.style.bottom="0%",this._selectionDiv.appendChild(e),[{left:0,top:0,id:"resize-left-top"},{left:100,top:0,id:"resize-right-top"},{left:100,top:100,id:"resize-right-bottom"},{left:0,top:100,id:"resize-left-bottom"},{left:0,top:50,id:"resize-width-left"},{left:100,top:50,id:"resize-width-right"},{left:50,top:0,id:"resize-height-top"},{left:50,top:100,id:"resize-height-bottom"}].forEach((function(e){return t._addGrips(e.left,e.top,e.id)})),this.updateSelectionDiv()},t.prototype._addGrips=function(t,e,n){var i=document.createElement("div");i.id=n,i.classList.add("selection"),i.style.left=t+"%",i.style.top=e+"%",this._selectionDiv.appendChild(i)},t.prototype._removeSelectionDiv=function(){null!=this._selectionDiv&&(this._selectionDiv.remove(),this._selectionDiv=null)},t.prototype._removeParentSelectionDiv=function(){null!=this._parentSelectionDiv&&(this._parentSelectionDiv.remove(),this._parentSelectionDiv=null)},t.prototype.updateSelectionDiv=function(){var t=this;if(null!=this._selectionDiv){this._selectionDiv.style.border=this._canvas.selectionWidth+"px solid "+this._canvas.selectionColor;var e=this._canvas.resizeGripSize;this._selectionDiv.querySelectorAll("div[id^=resize]").forEach((function(n){n.style.width=e+"px",n.style.height=e+"px",n.style.marginLeft="-"+e/2+"px",n.style.marginTop="-"+e/2+"px",n.style.border="1px solid "+t._canvas.resizeGripLineColor,n.style.backgroundColor=""+t._canvas.resizeGripColor}));var n=this._canvas.rotationGripSize;this._selectionDiv.querySelectorAll("div#rotate-circle").forEach((function(t){t.style.width=n+"px",t.style.height=n+"px",t.style.marginBottom="-"+2*n+"px",t.style.border="1px solid #eee",t.style.borderRadius="50%",t.style.backgroundColor="#fff",t.style.boxShadow="0px 1px 3px rgba(0, 0, 0, 0.2), 0px 0px 2px rgba(0, 0, 0, 0.2)"}))}},t.prototype.updateParentSelectionDiv=function(){null!=this._parentSelectionDiv&&(this._parentSelectionDiv.style.border=this._canvas.selectionWidth+"px dashed "+this._canvas.selectionColor)},t.prototype.showSelection=function(t,e,n){null==this._selectionDiv||null==n||this._selection.isLocked||(this._updateSelectionPosition(t,n),this._selectionDiv.querySelectorAll("div[id^=rotate]").forEach((function(t){t.style.visibility=e.rotate?"visible":"hidden"})),this._selectionDiv.querySelectorAll("div[id^=resize]").forEach((function(t){t.style.visibility=e.resize?"visible":"hidden"})),this._selectionDiv.querySelectorAll("div[id^=resize-width]").forEach((function(t){t.style.visibility=e.arbitraryWidthResize?"visible":"hidden"})),this._selectionDiv.querySelectorAll("div[id^=resize-height]").forEach((function(t){t.style.visibility=e.arbitraryHeightResize?"visible":"hidden"})))},t.prototype.showParentSelection=function(t,e){null==t?this._parentSelectionDiv.style.visibility="hidden":this._updateSelectionPositionForDiv(this._parentSelectionDiv,t,e)},t.prototype.hideSelection=function(){null!=this._selectionDiv&&(this._selectionDiv.style.visibility="hidden",this._selectionDiv.querySelectorAll("div[id^=rotate]").forEach((function(t){t.style.visibility="hidden"})),this._selectionDiv.querySelectorAll("div[id^=resize]").forEach((function(t){t.style.visibility="hidden"})),this._selectionDiv.querySelectorAll("div[id^=resize-width]").forEach((function(t){t.style.visibility="hidden"})),this._selectionDiv.querySelectorAll("div[id^=resize-height]").forEach((function(t){t.style.visibility="hidden"})),this._parentSelectionDiv.style.visibility="hidden")},t.prototype.addChild=function(t){this._whitespace.appendChild(t)},t.prototype.removeChilds=function(t){this._whitespace.removeChild(t)},t.prototype._updateSelectionPosition=function(t,e){if(null!=(t=t||this._selection.visibleRectangle)){var n=e.contentAngle,i=CB.getRectWithOffset(t,this._offset);this._updateFramePosition(this._selectionDiv,i,e),this._rotateHandler.updateRotateDegreeDiv(i.angle-n)}},t.prototype._updateFramePosition=function(t,e,n){var i=this._getControlRectangle(e,n);t.style.visibility="visible",t.style.left=i.left+"px",t.style.top=i.top+"px",t.style.width=i.width+"px",t.style.height=i.height+"px",t.style.transform="rotate("+e.angle+"deg)"},t.prototype._updateSelectionPositionForDiv=function(t,e,n){if(null!=e){var i=CB.getRectWithOffset(e,this._offset),r=this._getControlRectangle(i,n);t.style.visibility="visible",t.style.left=r.left+"px",t.style.top=r.top+"px",t.style.width=r.width+"px",t.style.height=r.height+"px",t.style.transform="rotate("+i.angle+"deg)"}},t.prototype._addHoverDiv=function(){this.hoverDiv=document.createElement("div"),this.hoverDiv.id="hover",this.hoverDiv.style.visibility="hidden",this.hoverDiv.style.zIndex="-1";var t=document.createElement("div");t.id="hover-label",t.classList.add("hover-label"),this.hoverDiv.appendChild(t),this._whitespace.appendChild(this.hoverDiv),this.updateHoverDiv()},t.prototype._removeHoverDiv=function(){null!=this.hoverDiv&&(this.hoverDiv.remove(),this.hoverDiv=null)},t.prototype.updateHoverDiv=function(){null!=this.hoverDiv&&(this.hoverDiv.style.border=this._canvas.selectionWidth+"px solid "+this._canvas.selectionColor,this.hoverDiv.querySelector("#hover-label").style.color=""+this._canvas.selectionColor)},t.prototype.showHover=function(t,e,n){null!=t&&null!=this.hoverDiv&&null!=n&&(this.hoverDiv.querySelector("div[id^=hover-label]").innerText=e,this.hoverDiv.querySelector("div[id^=hover-label]").title=e,this.hoverDiv.style.visibility="visible",this.updateHoverPosition(t,n))},t.prototype.hideHover=function(){null!=this.hoverDiv&&(this.hoverDiv.style.visibility="hidden")},t.prototype.updateHoverPosition=function(t,e,n){if(null!=t&&"hidden"!==this.hoverDiv.style.visibility){var i=CB.getRectWithOffset(t,this._offset),r=this._getControlRectangle(i,e);null!=n&&(this.hoverDiv.querySelector("div[id^=hover-label]").innerText=n),this.hoverDiv.style.left=r.left+"px",this.hoverDiv.style.top=r.top+"px",this.hoverDiv.style.width=r.width+"px",this.hoverDiv.style.height=r.height+"px",this.hoverDiv.style.transform="rotate("+i.angle+"deg)",this._rotateHandler.rotateHoverLabel(i.angle%360,r)}},t.prototype.addPlaceholderButtonGroup=function(t,e){var n,i,r,o,s,a,l;if(null!=e&&null!=this._parent&&null!=t){var c=this._parent,u=document.createElement("div");u.style.position="absolute",u.style.display="flex",u.style.alignItems="center",u.id="buttonDiv";var h=this._canvas.placeholderButtonGroupCssClass,d=document.createElement("div");if(d.id="editDiv",null!=h&&""!==h&&(n=d.classList).add.apply(n,jJ(h.split(" "))),eF.IsTouchDevice()){var p=this._canvas.bigButtonGroupCssClass;null!=p&&""!==p&&(i=d.classList).add.apply(i,jJ(p.split(" ")))}if(t.isStubOrEmpty()&&(!this._dndHandler.isDragStarted()||!this._dndHandler.isDragTarget(t))){var f=document.createElement("button");if(f.type="button",f.id="selectButton",f.setAttribute("style","will-change: transform"),f.addEventListener("mousedown",this._stopPropagationFnc),f.addEventListener("dblclick",this._stopPropagationFnc),this._addClickAndTapHandler(f,t.selectButtonClickHandler),t.item.isBarcodePlaceholder){var m=this._canvas.selectBarcodeButtonCssClass;null!=m&&""!==m?(r=f.classList).add.apply(r,jJ(m.split(" "))):f.innerText="Select"}else{var g=this._canvas.selectImageButtonCssClass;null!=g&&""!==g?(o=f.classList).add.apply(o,jJ(g.split(" "))):f.innerText="Select"}t.selectButton=f,d.appendChild(f)}if(this._dndHandler.isDragStarted&&this._dndHandler.isDragTarget(t)){var y=document.createElement("div");y.id="dropIcon",y.classList.add("cc-dnd-icon"),y.setAttribute("style","width: 30px; height: 30px; will-change: transform");var _=t.isStubOrEmpty()?"cc-icon-dnd-target-empty":"cc-icon-dnd-target-not-empty";y.classList.add(_),this._dndHandler.isDragOver(t)&&y.classList.add("cc-dnd-over"),d.appendChild(y)}var v=t.getPermissions().allowEditContent;if(v&&!t.isStubOrEmpty()&&!this._dndHandler.isDragStarted()){var b=document.createElement("button");b.type="button",b.id="handleButton",b.setAttribute("style","will-change: transform"),b.addEventListener("dblclick",this._stopPropagationFnc);var w=this._canvas.handleButtonCssClass;null!=w&&""!==w?(s=b.classList).add.apply(s,jJ(w.split(" "))):b.innerText="Handle",t.handleButton=b,d.appendChild(b)}u.appendChild(d);var C=document.createElement("div");if(C.id="doneDiv",null!=h&&""!==h&&(a=C.classList).add.apply(a,jJ(h.split(" "))),v){var x=document.createElement("button");x.type="button",x.setAttribute("style","will-change: transform"),x.addEventListener("dblclick",this._stopPropagationFnc);var E=this._canvas.doneButtonCssClass;null!=E&&""!==E?(l=x.classList).add.apply(l,jJ(E.split(" "))):x.innerText="Done",t.doneButton=x,C.appendChild(x)}u.appendChild(C),c.appendChild(u),t.placeholderButtonGroup=u,t.editButtonGroup=d,t.doneButtonGroup=C,this.updatePlaceholderButtonGroup(t,e)}},t.prototype.removePlaceholderButtonGroup=function(t){if(null!=t&&null!=t.placeholderButtonGroup){for(var e=[t.selectButton,t.doneButton,t.handleButton],n=0;n<e.length;n++){var i=e[n];null!=i&&(i.removeEventListener("click",this._stopPropagationFnc),i.removeEventListener("mousedown",this._stopPropagationFnc),i.removeEventListener("dblclick",this._stopPropagationFnc))}t.placeholderButtonGroup.remove(),t.placeholderButtonGroup=null,t.doneButtonGroup=null,t.selectButton=null,t.handleButton=null,t.doneButton=null}},t.prototype.updatePlaceholderButtonGroup=function(t,e){if(null!=t&&null!=t.placeholderButtonGroup){var n=t.placeholderButtonGroup;if(t.isVisible()&&!t.isLocked()&&this._isSelectionBehavior){n.style.visibility="visible";var i=this._selection.isItemHandlerSelected(t)?"auto":"none",r=e.contentAngle;n.style.pointerEvents=i,n.style.transform="rotate(-"+r+"deg)";var o=t.editButtonGroup,s=t.doneButtonGroup,a=function(){return t.isStubOrEmpty()&&t.showSelectButton()};this._canvas.autoPlaceholderEditModeEnabled?(a()||this._buttonsHidden(o),this._buttonsHidden(s)):(a()||!t.isStubOrEmpty()&&t.showHandleButton()&&this._selection.isItemHandlerSelected(t)&&!t.isContentUpdating()&&1===this._selection.getSelectedItemHandlers().length||this._dndHandler.isDragStarted()&&this._dndHandler.isDragTarget(t)?this._buttonsShow(o):this._buttonsHidden(o),t.editing&&!t.isContentUpdating()&&t.getPermissions(!0).showDoneButton?this._buttonsShow(s):this._buttonsHidden(s));var l=t.selectButton;null!=l&&(l.title=this._getSelectButtonTitle(t));var c=t.doneButton;null!=c&&(c.title=this._canvas.doneButtonTitle);var u=t.handleButton;null!=u&&(u.title=this._canvas.handleButtonTitle),this.updatePlaceholderButtonGroupPosition(t,e)}else n.style.visibility="hidden"}},t.prototype.updatePlaceholderButtonGroupPosition=function(t,e){if(null!=e&&null!=this._parent&&null!=t&&null!=t.placeholderButtonGroup){var n=CB.getRectWithOffset(t.rectangle,this._offset),i=e.workspaceToControlPoint(new QL(n.centerX,n.centerY)),r=e.getParentPosition(this._parent.parentElement),o=new QL(r.left,r.top),s=t.placeholderButtonGroup,a=i.x-s.offsetWidth/2-o.x,l=i.y-s.offsetHeight/2-o.y;s.style.position="absolute",s.style.left=a+"px",s.style.top=l+"px"}},t.prototype.addFloatingItemToolbar=function(t,e){var n,i,r,o,s;if(null!=e&&null!=this._parent&&null!=t&&this._canvas.floatingItemToolbarEnabled&&null==t.floatingItemToolbar){var a=this._whitespace,l=document.createElement("div");l.style.position="absolute",l.id="buttonDiv";var c=this._canvas.floatingItemToolbarCssClass,u=document.createElement("div");if(u.style.display="flex",u.id="floatingItemToolbarDiv",null!=c&&""!==c&&(n=u.classList).add.apply(n,jJ(c.split(" "))),eF.IsTouchDevice()){var h=this._canvas.bigButtonGroupCssClass;null!=h&&""!==h&&(i=u.classList).add.apply(i,jJ(h.split(" ")))}if(this._isPlaceholder(t)||this._isImage(t)||this._isGroup(t)){var d=document.createElement("button");d.type="button",d.addEventListener("mousedown",this._stopPropagationFnc),d.addEventListener("dblclick",this._stopPropagationFnc);var p=t.getSelectToolbarButtonClickHandler();this._addClickAndTapHandler(d,p);var f=this._canvas.selectToolbarButtonCssClass;null!=f&&""!==f?(r=d.classList).add.apply(r,jJ(f.split(" "))):d.innerText="Select",t.selectToolbarButton=d,u.appendChild(d)}var m=document.createElement("button");m.type="button",m.addEventListener("mousedown",this._stopPropagationFnc),m.addEventListener("dblclick",this._stopPropagationFnc);var g=t.getEditToolbarButtonClickHandler();this._addClickAndTapHandler(m,g);var y=this._canvas.editToolbarButtonCssClass;null!=y&&""!==y?(o=m.classList).add.apply(o,jJ(y.split(" "))):m.innerText="Edit",t.editToolbarButton=m,u.appendChild(m);var _=document.createElement("button");_.type="button",_.addEventListener("mousedown",this._stopPropagationFnc),_.addEventListener("dblclick",this._stopPropagationFnc);var v=t.getDeleteToolbarButtonClickHandler();this._addClickAndTapHandler(_,v);var b=this._canvas.deleteToolbarButtonCssClass;null!=b&&""!==b?(s=_.classList).add.apply(s,jJ(b.split(" "))):_.innerText="Delete",t.deleteToolbarButton=_,u.appendChild(_),l.appendChild(u),a.appendChild(l),t.floatingItemToolbar=l,this.updateFloatingItemToolbar(t,e)}},t.prototype.removeFloatingItemToolbar=function(t){if(null!=t&&null!=t.floatingItemToolbar){for(var e=[t.selectToolbarButton,t.deleteToolbarButton,t.editToolbarButton],n=0;n<e.length;n++){var i=e[n];null!=i&&(i.removeEventListener("click",this._stopPropagationFnc),i.removeEventListener("mousedown",this._stopPropagationFnc),i.removeEventListener("dblclick",this._stopPropagationFnc))}t.floatingItemToolbar.remove(),t.floatingItemToolbar=null,t.selectToolbarButton=null,t.deleteToolbarButton=null,t.editToolbarButton=null}},t.prototype.updateFloatingItemToolbar=function(t,e){if(null!=t&&null!=t.floatingItemToolbar&&this._canvas.floatingItemToolbarEnabled){var n=t.floatingItemToolbar;if(this._canvas.isShowFloatingItemToolbar(t)){if(this._buttonsShow(n),this._isImageOrPlaceholder(t)||this._isGroup(t)){var i=t.selectToolbarButton;null!=i&&(t.showSelectToolbarButton()?(i.style.display="block",this._updateFloatingItemToolbarPosition(t,e)):i.style.display="none",i.title=this._getSelectButtonTitle(t))}var r=t.deleteToolbarButton;null!=r&&(r.style.display=t.showDeleteToolbarButton()&&!this._canvas.simpleMode?"block":"none",r.title=this._canvas.deleteButtonTitle);var o=t.editToolbarButton;null!=o&&(o.style.display=t.showEditToolbarButton()?"block":"none",o.title=this._canvas.editButtonTitle),this._updateFloatingItemToolbarPosition(t,e)}else this._buttonsHidden(n)}},t.prototype._updateFloatingItemToolbarPosition=function(t,e){if(null!=e&&null!=this._parent&&null!=t&&this._canvas.floatingItemToolbarEnabled&&null!=t.floatingItemToolbar){var n=CB.getRectWithOffset(t.rectangle,this._offset),i=e.contentAngle,r=t.floatingItemToolbar;i>0&&(n.rotateAt(i,new QL),90===i?n.translate(e.workspaceHeight,0):180===i?n.translate(e.workspaceWidth,e.workspaceHeight):270===i&&n.translate(0,e.workspaceWidth));var o=e.zoom,s=e.screenYDpi/72*o,a=Math.floor(n.width*(e.screenXDpi/72*o)),l=Math.floor(n.height*s),c=r.offsetWidth,u=r.offsetHeight,h=3.5*c>a||3.5*u>l;new QL((h?-c/2:8)+c/2,(h?-u:8)+u/2).rotate(n.angle);var d=e.workspaceToControlPoint(n.getUpperRightCorner()),p=e.element,f=new QL(0,0);f.x=Math.max(0,d.x),f.y=Math.max(0,d.y);var m=t.rectangle.angle%360;if(m>=0&&m<90){var g=[e.workspaceToControlPoint(n.getUpperLeftCorner()),e.workspaceToControlPoint(n.getUpperRightCorner()),e.workspaceToControlPoint(n.getBottomRightCorner()),e.workspaceToControlPoint(n.getBottomLeftCorner())];f=this._findBetter(g,i,p,f,u,c,e)}else m>=180&&m<270?(g=[e.workspaceToControlPoint(n.getBottomRightCorner()),e.workspaceToControlPoint(n.getBottomLeftCorner()),e.workspaceToControlPoint(n.getUpperLeftCorner()),e.workspaceToControlPoint(n.getUpperRightCorner())],f=this._findBetter(g,i,p,f,u,c,e)):m>=270?(g=[e.workspaceToControlPoint(n.getUpperRightCorner()),e.workspaceToControlPoint(n.getBottomRightCorner()),e.workspaceToControlPoint(n.getBottomLeftCorner()),e.workspaceToControlPoint(n.getUpperLeftCorner())],f=this._findBetter(g,i,p,f,u,c,e)):(g=[e.workspaceToControlPoint(n.getBottomLeftCorner()),e.workspaceToControlPoint(n.getUpperLeftCorner()),e.workspaceToControlPoint(n.getUpperRightCorner()),e.workspaceToControlPoint(n.getBottomRightCorner())],f=this._findBetter(g,i,p,f,u,c,e));r.style.left=f.x-12+"px",r.style.top=f.y+"px"}},t.prototype._findBetter=function(t,e,n,i,r,o,s){switch(e){case 90:t=t.concat(t.splice(0,3));break;case 180:t=t.concat(t.splice(0,2));break;case 270:t=t.concat(t.splice(0,1))}var a=t[0],l=t[1],c=t[2],u=t[3],h=n.offsetWidth-(l.x+o/2),d=n.offsetHeight-c.y,p=a.y-12,f=this._selectionDiv.querySelector("div#rotate-circle"),m=null;if(f){var g=f.getBoundingClientRect();m=s.pageToControlPoint(g.left,g.top)}var y=function(){return null!=m&&m.y+15>i.y&&m.y-15<i.y+r&&m.x+30>i.x&&m.x-30<i.x+o},_=function(){return i.x=h<0?l.x-o/2-5+h:l.x-o/2-5,y()&&(i.x=h>0&&n.offsetWidth-(m.x+30+o+5)>0?m.x+30:m.x-15-o),i.x},v=function(){return i.y=a.y-r>0?a.y-r:0,y()&&(i.y=m.y+15),i.y};return p>r?(i.y=a.y-r-12,i.x=_()):h-(o/2+5)>0?(i.x=l.x+5,i.y=v()):h-(o/2+5)<0&&(u.x-o-5>5?(i.x=u.x-o-5,i.y=v()):(i.x=_(),i.y=d>r?c.y:v())),i.x+=n.scrollLeft,i.y+=n.scrollTop,i},t.prototype.addViolationContainer=function(t,e){var n,i,r,o,s;if(null!=e&&null!=this._parent&&null!=t&&(this._canvas.violationWarningButtonsEnabled||this._canvas.qualityChangeContainersEnabled)&&null==t.getViolationContainer()&&(this._canvas.violationWarningButtonsEnabled||!this._canvas.qualityChangeContainersEnabled||t instanceof JX||t instanceof aK)){var a=document.createElement("div"),l=this._canvas.violationContainerCssClass;if(null!=l&&""!==l&&(n=a.classList).add.apply(n,jJ(l.split(" "))),t.setViolationContainer(a),this._canvas.qualityChangeContainersEnabled&&(t instanceof JX||t instanceof _K&&null==t.item.barcodeFormat)){var c=document.createElement("div");a.appendChild(c);var u=this._canvas.qualityChangeContainerCssClass;null!=u&&""!==u&&(i=c.classList).add.apply(i,jJ(u.split(" ")));var h=document.createElement("div");c.appendChild(h);var d=this._canvas.qualityChangeScaleBarCssClass;null!=d&&""!==d&&(r=h.classList).add.apply(r,jJ(d.split(" ")));var p=document.createElement("div");c.appendChild(p);var f=this._canvas.qualityChangeInfoBarCssClass;null!=f&&""!==f&&(o=p.classList).add.apply(o,jJ(f.split(" "))),t.qualityChangeContainer=c,t.qualityChangeScaleBar=h,t.qualityChangeInfoBar=p}if(this._canvas.violationWarningButtonsEnabled){var m=this._canvas.violationWarningButtonCssClass,g=document.createElement("button");g.innerHTML='\n                <svg width="24" height="24" class="warning-svg" viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg"><path d="M10.29 3.86001L1.82002 18C1.64539 18.3024 1.55299 18.6453 1.55201 18.9945C1.55103 19.3437 1.64151 19.6871 1.81445 19.9905C1.98738 20.2939 2.23675 20.5468 2.53773 20.7239C2.83871 20.901 3.18082 20.9962 3.53002 21H20.47C20.8192 20.9962 21.1613 20.901 21.4623 20.7239C21.7633 20.5468 22.0127 20.2939 22.1856 19.9905C22.3585 19.6871 22.449 19.3437 22.448 18.9945C22.4471 18.6453 22.3547 18.3024 22.18 18L13.71 3.86001C13.5318 3.56611 13.2807 3.32313 12.9812 3.15449C12.6817 2.98585 12.3438 2.89726 12 2.89726C11.6563 2.89726 11.3184 2.98585 11.0188 3.15449C10.7193 3.32313 10.4683 3.56611 10.29 3.86001V3.86001Z" fill="currentColor" stroke="black" stroke-width="1.5" stroke-linecap="round" stroke-linejoin="round"/><path d="M12 9V13" stroke="black" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"/><path d="M12 17H12.01" stroke="black" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"/></svg>\n                <svg width="24" height="24" class="good-svg" viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg"><path d="M12 22C17.5228 22 22 17.5228 22 12C22 6.47715 17.5228 2 12 2C6.47715 2 2 6.47715 2 12C2 17.5228 6.47715 22 12 22Z" fill="currentColor" stroke="black" stroke-width="1.5" stroke-linecap="round" stroke-linejoin="round"/><path d="M16.5 9L10.3125 15L7.5 12.2727" stroke="black" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"/></svg>\n            ',g.type="button",null!=m&&""!==m?(s=g.classList).add.apply(s,jJ(m.split(" "))):g.innerText="Quality",g.addEventListener("mousedown",this._stopPropagationFnc),g.addEventListener("dblclick",this._stopPropagationFnc);var y=t.getViolationWarningButtonClickHandler();this._addClickAndTapHandler(g,y),t.setViolationWarningButton(g),a.appendChild(g)}this._whitespace.appendChild(a),this.updateViolationContainer(t,!0,e)}},t.prototype.removeViolationContainer=function(t){if(null!=t){var e=t.getViolationWarningButton();if(null!=e&&(e.removeEventListener("click",this._stopPropagationFnc),e.removeEventListener("mousedown",this._stopPropagationFnc),e.removeEventListener("dblclick",this._stopPropagationFnc),e.remove(),t.setViolationWarningButton(null)),t instanceof JX||t instanceof _K){var n=t.qualityChangeContainer;null!=n&&(n.remove(),t.qualityChangeContainer=null,t.qualityChangeScaleBar=null,t.qualityChangeInfoBar=null)}var i=t.getViolationContainer();null!=i&&(i.remove(),t.setViolationContainer(null))}},t.prototype.updateViolationContainer=function(t,e,n){if(void 0===e&&(e=!1),null!=t&&null!=t.getViolationContainer()){var i=t instanceof JX||t instanceof _K?t.qualityChangeContainer:null,r=t.getViolationWarningButton();if(!t.isVisible()||t.locked||!this._isSelectionBehavior)return null!=i&&(i.style.visibility="hidden"),void(null!=r&&(r.style.visibility="hidden"));this._canvas.violationWarningButtonsEnabled&&null!=r&&(r.style.pointerEvents="auto",this._selection.isOnlyThisItemHandlerSelected(t)?r.classList.add("active"):r.classList.remove("active")),this._canvas.qualityChangeContainersEnabled&&null!=i&&(i.style.visibility="visible",this._showQualityChangeContainer(t)?this._buttonsShow(i):this._buttonsHidden(i)),e&&this.updateViolationContainerPosition(t,n)}},t.prototype.updateViolationContainerPosition=function(t,e){if(null!=e&&null!=this._parent&&null!=t&&null!=t.item&&(this._canvas.violationWarningButtonsEnabled||this._canvas.qualityChangeContainersEnabled)&&null!=t.getViolationContainer()){var n=CB.getRectWithOffset(t.rectangle,this._offset),i=e.contentAngle;i>0&&(n.rotateAt(i,new QL),90===i?n.translate(e.workspaceHeight,0):180===i?n.translate(e.workspaceWidth,e.workspaceHeight):270===i&&n.translate(0,e.workspaceWidth));var r=e.zoom,o=e.screenYDpi/72*r,s=Math.floor(n.width*(e.screenXDpi/72*r)),a=Math.floor(n.height*o),l=t.getViolationWarningButton(),c=t.getViolationContainer(),u=null!=c?c:l,h=u.offsetWidth,d=u.offsetHeight,p=3.5*h>s||3.5*d>a,f=new QL((p?-h/2:8)+h/2,(p?-d:8)+d/2);f.rotate(n.angle);var m=e.workspaceToControlPoint(n.getUpperLeftCorner()),g=e.whitespaceDiv,y=e.element;m.x+=f.x-g.offsetLeft-h/2+y.scrollLeft,m.y+=f.y-g.offsetTop-d/2+y.scrollTop,m.x=Math.max(0,m.x),m.y=Math.max(0,m.y);var _=m.x+h-e.whitespaceDiv.offsetWidth;_>0&&(m.x-=_);var v=m.y+d-e.whitespaceDiv.offsetHeight;v>0&&(m.y-=v),c.style.left=m.x+"px",c.style.top=m.y+"px",c.style.position="absolute",l=t.getViolationWarningButton(),t.isVisible()?null!=l&&(l.style.visibility="visible",this._selection.isOperationNotNull()?(l.classList.remove("elementShown"),l.classList.add("elementHidden")):(l.classList.remove("elementHidden"),l.classList.add("elementShown"))):null!=l&&(l.style.visibility="hidden")}},t.prototype._addTextEditorDiv=function(){document.execCommand("styleWithCSS");var t=document.createElement("style");t.type="text/css",t.innerHTML="#"+this._textEditorId+" { -webkit-user-select: text; user-select: text; } p { margin: 0px; line-height: normal; } p:first-child::first-line { line-height: 1; }",document.head.appendChild(t),this._viewer.add_zoomed(this._onZoomedScrolledDelegate),this._viewer.add_scrolled(this._onZoomedScrolledDelegate)},t.prototype._removeTextEditorDiv=function(){null!=this._textEditorDiv&&(this._removeTextEditorDivFromDom(),this._textEditorDiv=null,this._viewer.remove_zoomed(this._onZoomedScrolledDelegate),this._viewer.remove_scrolled(this._onZoomedScrolledDelegate))},t.prototype._appendTextEditorDivToDom=function(){this._textEditorDiv=document.createElement("div"),this._textEditorDiv.id=this._textEditorId,this._textEditorDiv.style.display="flex",this._textEditorDiv.style.position="absolute",this._textEditorDiv.style.zIndex="1",this._textEditorDiv.style.backgroundColor="transparent",this._textEditorDiv.style.overflow="hidden",this._textEditorDiv.style.cursor="text",this._textEditorDiv.contentEditable="true",this._textEditorDiv.addEventListener("dblclick",this._stopPropagationFnc),this._textEditorDiv.addEventListener("click",this._stopPropagationFnc),this._textEditorDiv.addEventListener("mousedown",this._stopPropagationFnc),this._textEditorDiv.addEventListener("mousemove",this._stopPropagationFnc),this._textEditorDiv.addEventListener("mouseup",this._stopPropagationFnc),this._textEditorDiv.addEventListener("keydown",this._stopPropagationFnc),this._textEditorDiv.addEventListener("keyup",this._stopPropagationFnc),this._parent.parentElement.parentElement.parentElement.appendChild(this._textEditorDiv),this._textEditorInnerDiv=document.createElement("div"),this._textEditorInnerDiv.style.display="block",this._textEditorDiv.appendChild(this._textEditorInnerDiv)},t.prototype._removeTextEditorDivFromDom=function(){this._textEditorDiv.removeEventListener("dblclick",this._stopPropagationFnc),this._textEditorDiv.removeEventListener("click",this._stopPropagationFnc),this._textEditorDiv.removeEventListener("mousedown",this._stopPropagationFnc),this._textEditorDiv.removeEventListener("mousemove",this._stopPropagationFnc),this._textEditorDiv.removeEventListener("mouseup",this._stopPropagationFnc),this._textEditorDiv.removeEventListener("keydown",this._stopPropagationFnc),this._textEditorDiv.removeEventListener("keyup",this._stopPropagationFnc),this._textEditorDiv.remove()},Object.defineProperty(t.prototype,"textEditorDiv",{get:function(){return this._textEditorDiv},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"textEditorInnerDiv",{get:function(){return this._textEditorInnerDiv},enumerable:!0,configurable:!0}),t.prototype.showTextEditor=function(t,e,n,i,r,o,s,a){this._appendTextEditorDivToDom(),this._updateTextEditorPosition(t,e,i,a),this._textEditorDiv.style.border="solid "+i+"pt "+r,this._textEditorDiv.style.backgroundColor=""+o,this._textEditorDiv.style.opacity=""+s,this._textEditorDiv.style.setProperty("outline",this._canvas.selectionWidth+"px solid "+this._canvas.selectionColor,"important"),this._textEditorInnerDiv.innerHTML=n,this._textEditorInnerDiv.focus()},t.prototype.hideTextEditor=function(){if(null!=this._textEditorDiv){var t=""===this._textEditorInnerDiv.innerText.trim()?"":this._textEditorInnerDiv.innerHTML;return this._removeTextEditorDivFromDom(),t}},t.prototype._updateTextEditorPosition=function(t,e,n,i){if(null!=t&&null!=this._textEditorDiv){var r=this._viewer;if(n>0&&(t.width+=2*n,t.height+=2*n),t=this._rotateRectangle(t,r),null==e){var o=r.workspaceToControlPoint(t.location).round();this._textEditorDiv.style.left="0px",this._textEditorDiv.style.top="0px",this._textEditorDiv.style.width=t.width+"pt",this._textEditorDiv.style.height=t.height+"pt",this._textEditorDiv.style.transformOrigin="left top",this._textEditorDiv.style.transform="translate("+o.x+"px, "+o.y+"px) scale("+r.zoom+") rotate("+t.angle+"deg)"}else{t.angle=0;var s=r.workspaceToControlPoint(t.getUpperLeftCorner()).round();if(this._textEditorDiv.style.top="0px",this._textEditorDiv.style.width="max-content",this._textEditorDiv.style.height="max-content",e==ZV.Center){var a=r.workspaceToControlPoint(t.center).round();this._textEditorDiv.style.left=a.x+"px",this._textEditorDiv.style.transformOrigin="center top",this._textEditorDiv.style.transform="translate(-50%, "+s.y+"px) scale("+r.zoom+")"}else if(e==ZV.Right){var l=r.workspaceToControlPoint(t.getUpperRightCorner()).round();this._textEditorDiv.style.left=l.x+"px",this._textEditorDiv.style.transformOrigin="right top",this._textEditorDiv.style.transform="translate(-100%, "+l.y+"px) scale("+r.zoom+")"}else this._textEditorDiv.style.left="0px",this._textEditorDiv.style.transformOrigin="left top",this._textEditorDiv.style.transform="translate("+s.x+"px, "+s.y+"px) scale("+r.zoom+")"}switch(i){case JV.Bottom:this._textEditorDiv.style.alignItems="flex-end";break;case JV.Center:this._textEditorDiv.style.alignItems="center";break;case JV.Top:default:this._textEditorDiv.style.alignItems="flex-start"}}},t.prototype.calculateRenderStateForItemHandlers=function(t){var e=this,n=!1,i=function(t,e){return t.renderState!==e&&(t.renderState=e,n=!0,!0)},r=new JH,o=function(t,e){t.contains(e)||t.add(e)};t.selectMany((function(t){return t.itemHandlers.toArray()})).reverse().forEach((function(t){o(r,t),t instanceof tY&&t.getNestedItemHandlers().forEach((function(t){return o(r,t)}))}));var s=this._selection._permissions,a=this._selection.getSelectedItemHandlers(),l=1==a.length&&a.get(0)instanceof pJ;if(!this._selection.isLocked&&(s.allowMove||s.allowRotate||s.allowResize||l))for(var c=r.indexOf((function(t){return e._selection.isItemHandlerSelected(t)})),u=r.lastIndexOf((function(t){return e._selection.isItemHandlerSelected(t)})),h=r.indexOf((function(t){return t.hasBlendMode()})),d=h>-1,p=0;p<r.count();p++){var f=r.elementAt(p),m=f.parentGroupItemHandler;if(this.setHandlerState(f,p,c,h,u,d,i)&&m){var g=r.indexOf(m);this.setHandlerState(f.parentGroupItemHandler,g,c,h,u,d,i)}}else r.forEach((function(t){t.isVisible()?i(t,sX.Bottom):i(t,sX.Hidden)}));return n},t.prototype.setHandlerState=function(t,e,n,i,r,o,s){return t.isVisible()?t instanceof tY&&t.getNestedItemHandlers().some((function(t){return t.renderState===sX.Active}))?s(t,sX.Active):s(t,e<n&&(e<i||!o)?sX.Top:e>=n&&e<=r||o&&n>=i?sX.Active:sX.Bottom):s(t,sX.Hidden)},t.prototype._getAllCanvases=function(){return[this.surfaceCanvas,this.activeCanvas,this.inactiveCanvas,this.staticTextCanvas,this.activeTextCanvas,this.designCanvas,this.cursorCanvas]},t.prototype._createCanvasElement=function(e,n,i){var r=this._document.createElement("canvas");return r.id=e,r.style.position="absolute",r.style.top="0px",r.style.left="0px",r.style.pointerEvents="none",t.setElementSize(r,n,i),r},t.setElementSize=function(t,e,n){var i=eF.devicePixelRatio;t.width=Math.ceil(e),t.style.width=Math.ceil(e/i)+"px",t.height=Math.ceil(n),t.style.height=Math.ceil(n/i)+"px"},t.prototype._addClickAndTapHandler=function(t,e){eF.IsTouchDevice()&&!eF.IsAndroid()?window.Hammer(t).on("tap",e):t.addEventListener("click",e)},t.prototype._buttonsShow=function(t){t.classList.remove("buttonsHidden"),t.classList.add("buttonsShown")},t.prototype._buttonsHidden=function(t){t.classList.remove("buttonsShown"),t.classList.add("buttonsHidden")},t.prototype._isPlaceholder=function(t){return t instanceof _K},t.prototype._isImage=function(t){return t instanceof JX},t.prototype._isGroup=function(t){return t instanceof tY},t.prototype._isImageOrPlaceholder=function(t){return this._isImage(t)||this._isPlaceholder(t)},t.prototype._getSelectButtonTitle=function(t){return this._isGroup(t)?this._canvas.replaceGroupContentButtonTitle:this._isPlaceholder(t)&&t.item.isBarcodePlaceholder?this._canvas.editBarcodeButtonTitle:this._canvas.selectButtonTitle},t.prototype._getControlRectangle=function(t,e){var n=(t=this._rotateRectangle(t,e)).toRectangleF(),i=e.zoom,r=e.screenXDpi/72*i,o=e.screenYDpi/72*i,s=aB.FromLTRB(Math.floor(n.left*r),Math.floor(n.top*o),Math.ceil(n.right*r)+this._canvas.selectionWidth,Math.ceil(n.bottom*o)+this._canvas.selectionWidth);return e.contentToWhitespaceRectangle(new aB(s.left,s.top,s.width,s.height))},Object.defineProperty(t.prototype,"_isSelectionBehavior",{get:function(){return this._canvas.mouseBehaviorManager.isSelectionMouseBehavior},enumerable:!0,configurable:!0}),t.prototype._rotateRectangle=function(t,e){var n=e.contentAngle;return n>0&&(t.rotateAt(n,new QL),90===n?t.translate(e.workspaceHeight,0):180===n?t.translate(e.workspaceWidth,e.workspaceHeight):270===n&&t.translate(0,e.workspaceWidth)),t},t}(),HJ=function(){return(HJ=Object.assign||function(t){for(var e,n=1,i=arguments.length;n<i;n++)for(var r in e=arguments[n])Object.prototype.hasOwnProperty.call(e,r)&&(t[r]=e[r]);return t}).apply(this,arguments)},VJ=function(){function t(t,e,n,i){this._selection=t,this._dndHandler=e,this._canvas=n,this._loadingImage=new Image,this.previewMode=!1,this.conf=i}return Object.defineProperty(t.prototype,"conf",{set:function(t){this._handlerConfiguration=HJ({placeholderEditingViewMode:nX.Overlay},t||{})},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"offset",{get:function(){return this._offset},set:function(t){null!=t&&t.equals(this._offset)||null==t&&null!=this.offset||(this._offset=t)},enumerable:!0,configurable:!0}),t.prototype.redrawActiveCanvas=function(t,e,n){var i=this,r=this._getScaledContext(e),o=this._getScaledContext(n);if(null!=r&&null!=o){this._getItemHandlersByRenderState(t,sX.Active).forEach((function(t){return i.drawHandler(t,r)}));var s=this._selection.getSelectedItemHandlers();if(s.length>1)s.forEach((function(t){return t.drawHighlight(o)}));else{var a=this._selection.currentItemHandler;a instanceof tY&&a.drawHighlight(o,!0),null!=a&&this._isEditing(a)&&(this._handlerConfiguration.placeholderEditingViewMode===nX.Overlay&&a instanceof _K&&(this._drawFade(o),this.drawHandler(a,o)),a.drawHighlight(o))}this._selection.draw(o,this),this._dndHandler.draw(),r.restore(),o.restore()}},t.prototype.drawHandler=function(t,e){var n,i,r=!1;if(!this.previewMode)return t.draw(e);var o=null===(n=null==t?void 0:t.item)||void 0===n?void 0:n.parentContainer;o instanceof iV&&(null===(i=null==o?void 0:o.parentComponent)||void 0===i||i.printAreas.forEach((function(n){var i=bB.rectangle(n.bounds.left,n.bounds.top,n.bounds.width,n.bounds.height);null!=i&&(r=!0,t.draw(e,i))}))),r||t.draw(e)},t.prototype.redrawInactiveCanvas=function(t,e,n){var i=this,r=this._getScaledContext(e),o=this._getScaledContext(n);null!=r&&null!=o&&(this._drawMargins(r),this._getItemHandlersByRenderState(t,sX.Bottom).forEach((function(t){return i.drawHandler(t,r)})),this._getItemHandlersByRenderState(t,sX.Top).forEach((function(t){return i.drawHandler(t,o)})),o.restore(),r.restore())},t.prototype.drawRubberband=function(t,e){null==this._offset||this._offset.isOrigin()||(e.left-=this._offset.x,e.right-=this._offset.x,e.top-=this._offset.y,e.bottom-=this._offset.y);var n=this._canvas.mul,i=1/n,r="rgba(0,0,0,1)",o="rgba(0,0,0,0)",s=2/n;bX.drawDashedLine(t,e.left,e.top,e.right,e.top,i,r,o,s,s),bX.drawDashedLine(t,e.right,e.top,e.right,e.bottom,i,r,o,s,s),bX.drawDashedLine(t,e.right,e.bottom,e.left,e.bottom,i,r,o,s,s),bX.drawDashedLine(t,e.left,e.bottom,e.left,e.top,i,r,o,s,s)},t.prototype.drawVerticalLine=function(t,e,n){bX.drawLine(t,e,null!=this._offset?-this._offset.y:0,e,this._canvas.workspaceHeight,1/this._canvas.zoom,n)},t.prototype.drawHorizontalLine=function(t,e,n){bX.drawLine(t,null!=this._offset?-this._offset.x:0,e,this._canvas.workspaceWidth,e,1/this._canvas.zoom,n)},t.prototype.drawWaitClock=function(t,e){var n=this._canvas.mul,i=new CB(e.x||0,e.y||0,this._loadingImage.width/n,this._loadingImage.height/n,0);this._loadingImage.complete&&bX.drawImage(t,this._loadingImage,i,n,n)},t.prototype.setLoadingImageUrl=function(t){this._loadingImage.crossOrigin="anonymous",this._loadingImage.src=t},t.prototype.drawTextCursor=function(t,e,n){var i=this._getScaledContext(t);if(null!=i){var r=e.item.transform.toMatrix(),o=e.getControlCenter();i.translate(o.x,o.y),i.transform(r.m00,r.m10,r.m01,r.m11,r.m02,r.m12),i.translate(-o.x,-o.y),n(i),i.strokeStyle="rgb(0, 0, 0)",i.lineWidth=1/this._canvas.mul,i.stroke(),i.restore()}},t.prototype.clearTextCursor=function(t){var e=this._getScaledContext(t);null!=e&&e.restore()},t.prototype._getScaledContext=function(t){if(null==t)return null;var e=t.getContext("2d");if(null==e)return null;bX.clearCanvas(e),e.save();var n=eF.screenDpi*this._canvas.zoom/72;return e.scale(n,n),null==this._offset||this._offset.isOrigin()||e.translate(this._offset.x,this._offset.y),e},t.prototype._isEditing=function(t){return t instanceof _K&&t.editing||t instanceof pJ&&t.editing},t.prototype._getItemHandlersByRenderState=function(t,e){var n=this._handlerConfiguration.placeholderEditingViewMode===nX.Normal;return t.selectMany((function(t){return t.itemHandlers.toArray()})).where((function(t){return t.renderState==e&&(n||!(t instanceof _K&&t.editing))}))},t.prototype._drawFade=function(t){var e=CB.FromLTRB(null!=this._offset?-this._offset.x:0,null!=this._offset?-this._offset.y:0,this._canvas.workspaceWidth,this._canvas.workspaceHeight);bX.rectangle(t,e,0,null,"rgb(0, 0, 0)",.75)},t.prototype._drawMargins=function(t){var e,n,i,r,o=-(null!==(n=null===(e=this._offset)||void 0===e?void 0:e.x)&&void 0!==n?n:0),s=-(null!==(r=null===(i=this._offset)||void 0===i?void 0:i.y)&&void 0!==r?r:0),a=this._canvas.leftMargin+o,l=this._canvas.rightMargin,c=this._canvas.topMargin+s,u=this._canvas.bottomMargin,h=this._canvas.workspaceWidth,d=this._canvas.workspaceHeight,p=this._canvas.marginWidth/this._canvas.mul,f=this._canvas.marginColor;0!==a&&0!==l&&0!==c&&0!==u&&h>=a+l&&d>=c+u&&p>0&&(bX.drawLine(t,a,c,a,d-u,p,f),bX.drawLine(t,a,c,h-l,c,p,f),bX.drawLine(t,h-l,d-u,a,d-u,p,f),bX.drawLine(t,h-l,d-u,h-l,c,p,f))},t}(),UJ=function(){return(UJ=Object.assign||function(t){for(var e,n=1,i=arguments.length;n<i;n++)for(var r in e=arguments[n])Object.prototype.hasOwnProperty.call(e,r)&&(t[r]=e[r]);return t}).apply(this,arguments)},WJ=function(){function t(t){this.setConfiguration(t),this._snapData={xAnchors:[],yAnchors:[],defaultBounds:null,activeXAnchorIndex:null,activeYAnchorIndex:null,xPoints:[],yPoints:[],activeXPointIndex:null,activeYPointIndex:null}}return t.prototype.setConfiguration=function(t){this._conf=FB(this._getDefaultConf,[t||{}])},Object.defineProperty(t.prototype,"configuration",{get:function(){return this._conf},enumerable:!0,configurable:!0}),t.prototype.drawActiveLines=function(t,e,n,i){if(null!=this._snapData.activeXAnchorIndex&&n){var r=this._snapData.xAnchors[this._snapData.activeXAnchorIndex];e.drawVerticalLine(t,r.position,this._conf.snapElements[r.type].color)}if(null!=this._snapData.activeYAnchorIndex&&i){var o=this._snapData.yAnchors[this._snapData.activeYAnchorIndex];e.drawHorizontalLine(t,o.position,this._conf.snapElements[o.type].color)}},t.prototype.resetActiveLines=function(){this._snapData.activeXAnchorIndex=null,this._snapData.activeYAnchorIndex=null},t.prototype.constrainDiffToSnapLines=function(t,e,n,i,r){if(null==e)return new QL;var o=new QL(t.x-e.x,t.y-e.y);if(!this._enabled)return o;null==o&&(o=new QL(0,0));var s=o.clone();null==this._prevPoint&&(this._prevPoint=e);var a=t.x-this._prevPoint.x,l=t.y-this._prevPoint.y;if(this._prevPoint=t,this._snapData.activeXAnchorIndex=null,i){var c=this._findSnap(n,o.x,a,this._snapData.xAnchors,this._snapData.xPoints);s.x=c.diffValue,this._snapData.activeXAnchorIndex=c.activeAnchorIndex,this._snapData.activeXPointIndex=c.activePointIndex}if(this._snapData.activeYAnchorIndex=null,r){var u=this._findSnap(n,o.y,l,this._snapData.yAnchors,this._snapData.yPoints);s.y=u.diffValue,this._snapData.activeYAnchorIndex=u.activeAnchorIndex,this._snapData.activeYPointIndex=u.activePointIndex}return s},t.prototype._findSnap=function(e,n,i,r,o){var s=new t.SnapResult;s.diffValue=n;for(var a=i>0?r.length-1:0,l=i>0?1:-1,c=i>0?o.length-1:0,u=i>0?0:o.length-1,h=i>0?-1:1,d=i>0?0:r.length-1;d!==a+l;d+=l)for(var p=r[d],f=c;f!==u+h;f+=h){var m=o[f],g=this._getSnapLineTolerance(e,p.type);Math.abs(m+n-p.position)<g&&(null==s.activeAnchorIndex||this._conf.snapElements[p.type].priority>(null!=s.activeAnchorIndex?this._conf.snapElements[r[s.activeAnchorIndex].type]:null).priority)&&(s.diffValue=p.position-m,s.activeAnchorIndex=d,s.activePointIndex=f)}return s},t.prototype.constrainRectangleToSnapLines=function(t,e,n,i,r,o,s){var a=this;if(!this._enabled)return t;var l,c,u=t.clone();this._snapData.xPoints=[],this._snapData.yPoints=[];var h=i.resizeIndex-1;i.resizeIndex>4?((c=new QL(r.centerX+TK.cw[i.resizeIndex]*(r.width/2),r.centerY+TK.ch[i.resizeIndex]*(r.height/2))).rotateAt(u.angle,r.center),(l=new QL(o.centerX+TK.cw[i.resizeIndex]*(o.width/2),o.centerY+TK.ch[i.resizeIndex]*(o.height/2))).rotateAt(u.angle,o.center)):(c=r.getCornerByIndex(h),l=o.getCornerByIndex(h));var d,p,f=this,m=function(t,e){if(void 0===t&&(t=null),void 0===e&&(e=null),e=null==e||e,(t=null==t||t)||e){var n=a._getSnapLineTolerance(s,tJ.Items);t&&(f._snapData.xPoints=[c.x],Math.abs(c.x-l.x)>n&&f._snapData.xPoints.push(l.x)),e&&(f._snapData.yPoints=[c.y],Math.abs(c.y-l.y)>n&&f._snapData.yPoints.push(l.y))}};if(n){if(r.angle%90!=0&&i.resizeIndex>4)return t;var g=u.center,y=i.resizeIndex>4&&(u.angle-90)%180==0;m(TK.cw[i.resizeIndex]!==(0^(y?1:0)),TK.ch[i.resizeIndex]!==(0^(y?1:0)));var _=this.constrainDiffToSnapLines(c,c,s,!0,!0);if(null==_||gB(_.x,0,.1)&&gB(_.y,0,.01))return t;var v=new QL((d=(p=0!==_.x&&0===this._snapData.activeXPointIndex||0!==_.y&&0===this._snapData.activeYPointIndex)?c:l).x+_.x,d.y+_.y),b=u.angle;v.rotateAt(-b,g),d.rotateAt(-u.angle,g),u.angle=0;var w=new QL((v.x-d.x)*(p?u.width/r.width:1),(v.y-d.y)*(p?u.height/r.height:1));u.centerX+=w.x/2,u.width+=TK.cw[i.resizeIndex]*w.x,u.centerY+=w.y/2,u.height+=TK.ch[i.resizeIndex]*w.y,u.rotateAt(b,g)}else if(!n){if(e.getCornerByIndex(h).equals(l,.01))return t;m();var C=this.constrainDiffToSnapLines(l,l,s,!0,!0),x=gB(C.x,0,.01),E=gB(C.y,0,.01);if(x&&E)return t;d=(p=!x&&0===this._snapData.activeXPointIndex||!E&&0===this._snapData.activeYPointIndex)?c:l;var S,P=(h+2)%4,O=o.getCornerByIndex(P);S=x?new QL(O.x,d.y+C.y):new QL(d.x+C.x,O.y);var k=lB(S,d,O),T=pB(k),I=Math.sqrt(dB(O,S))/Math.cos(T)/Math.sqrt(dB(O,d));if(null==I)return t;var A=u.getCornerByIndex(P);u.width*=I,u.height*=I;var M=u.getCornerByIndex(P);u.centerX+=A.x-M.x,u.centerY+=A.y-M.y}return u},t.prototype.fillSnapData=function(t,e,n,i,r,o){if(this.clearSnapData(),null!=r.viewer.surface.printAreas.get(0)&&(this._snapData.defaultBounds=r.viewer.surface.printAreas.get(0).bounds,this._enabled&&null!=t)){var s=[],a=[],l=function(t,e){var n=null!=i?aB.intersect(t,i):t;n.isEmpty()||(s.push({position:n.left,type:e},{position:n.left+n.width/2,type:e},{position:n.right,type:e}),a.push({position:n.top,type:e},{position:n.top+n.height/2,type:e},{position:n.bottom,type:e}))},c=this._conf.snapElements;null!=i&&c.region.enabled&&l(i,tJ.Region),null!=this._snapData.defaultBounds&&c.printArea.enabled&&l(this._snapData.defaultBounds,tJ.PrintArea);var u=r.getAllItemHandlers({onlyVisible:!0,onlyUnlocked:!0,whiteListFilter:TK.isSafetyLineItemHandler,flatGroupItems:!0});(c.items.enabled||c.safetyLines.enabled)&&u.forEach((function(t){if(t.layer.getVisible())if(TK.isSafetyLineItemHandler(t)){if(!c.safetyLines.enabled)return;var e=t.controlPoints[0],n=t.controlPoints[1];s.push({position:e.x,type:tJ.SafetyLines}),s.push({position:n.x,type:tJ.SafetyLines}),a.push({position:e.y,type:tJ.SafetyLines}),a.push({position:n.y,type:tJ.SafetyLines})}else!r.isItemHandlerSelected(t)&&c.items.enabled&&l(t.bounds,tJ.Items)}));var h=function(t,e){void 0===e&&(e=null);var n=t.sort((function(t,e){return t.position-e.position})),i=[];return n.forEach((function(t,n){var r=i.slice(-1)[0];0!==n&&gB(r.position,t.position,null!=e?e:.01)&&r.type===t.type||i.push(t)})),i},d=function(t,e){void 0===e&&(e=null);var n=t.sort((function(t,e){return t-e})),i=[];return n.forEach((function(t,n){0!==n&&gB(i.slice(-1)[0],t,null!=e?e:.01)||i.push(t)})),i};if(this._snapData.xAnchors=h(s),this._snapData.yAnchors=h(a),o.drag){var p=e.bounds;this._snapData.xPoints=[n.left,t.centerX,n.right],this._snapData.yPoints=[n.top,t.centerY,n.bottom];var f=this._getSnapLineTolerance(r,tJ.Items);this._snapData.xPoints=d([p.left,n.left,e.centerX,t.centerX,n.right,p.right],f),this._snapData.yPoints=d([p.top,n.top,e.centerY,t.centerY,n.bottom,p.bottom],f)}}},t.prototype.clearSnapData=function(){this._snapData.xAnchors=[],this._snapData.yAnchors=[],this._snapData.activeXAnchorIndex=null,this._snapData.activeYAnchorIndex=null,this._snapData.xPoints=[],this._snapData.yPoints=[]},t.prototype._getSnapLineTolerance=function(t,e){return Math.abs(this._conf.snapElements[e.toString()].tolerance/t.zoom)},Object.defineProperty(t.prototype,"_getDefaultConf",{get:function(){var t={tolerance:5,color:"rgb(255,0,255)",enabled:!1,priority:0};return{snapElements:{items:UJ({},t),printArea:UJ({},t),safetyLines:UJ({},t),region:UJ({},t)}}},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"_enabled",{get:function(){var t=this._conf.snapElements;return t.items.enabled||t.printArea.enabled||t.region.enabled||t.safetyLines.enabled},enumerable:!0,configurable:!0}),t.SnapResult=function(){this.diffValue=null,this.activeAnchorIndex=null,this.activePointIndex=null},t}();!function(t){t.Items="items",t.PrintArea="printArea",t.SafetyLines="safetyLines",t.Region="region"}(tJ||(tJ={})),function(t){t[t.Selection=0]="Selection",t[t.Create=1]="Create",t[t.SelectPixel=2]="SelectPixel",t[t.Locked=3]="Locked"}(eJ||(eJ={}));var $J,GJ=function(){function t(){this._isMouseDownFired=!1,this._isMouseMoveFired=!1,this._stateChanged=new rB,this._currentState=$J.Initial,this._allowedTransitions=new Map([[$J.Initial,[$J.PointSelected,$J.RectangleSelectionStarted]],[$J.RectangleSelectionStarted,[$J.RectangleSelected,$J.RectangleSelectionChanged]],[$J.RectangleSelectionChanged,[$J.RectangleSelected,$J.RectangleSelectionChanged]],[$J.RectangleSelected,[$J.Initial]],[$J.PointSelected,[$J.Initial]]])}return t.prototype.processMouseEvent=function(t){var e=new QL(t.x,t.y);switch(t.type){case"dblclick":return this._changeState($J.PointSelected,e);case"mousedown":this._onMouseDown();break;case"mousemove":this._onMouseMove(e);break;case"mouseup":this._onMouseUp(e)}},t.prototype.addStateChanged=function(t){this._stateChanged.add(t)},t.prototype.removeStateChanged=function(t){this._stateChanged.remove(t)},t.prototype._onMouseDown=function(){this._isMouseDownFired=!0},t.prototype._onMouseMove=function(t){return e=this,void 0,i=function(){return function(t,e){var n,i,r,o,s={label:0,sent:function(){if(1&r[0])throw r[1];return r[1]},trys:[],ops:[]};return o={next:a(0),throw:a(1),return:a(2)},"function"==typeof Symbol&&(o[Symbol.iterator]=function(){return this}),o;function a(o){return function(a){return function(o){if(n)throw new TypeError("Generator is already executing.");for(;s;)try{if(n=1,i&&(r=2&o[0]?i.return:o[0]?i.throw||((r=i.return)&&r.call(i),0):i.next)&&!(r=r.call(i,o[1])).done)return r;switch(i=0,r&&(o=[2&o[0],r.value]),o[0]){case 0:case 1:r=o;break;case 4:return s.label++,{value:o[1],done:!1};case 5:s.label++,i=o[1],o=[0];continue;case 7:o=s.ops.pop(),s.trys.pop();continue;default:if(!((r=(r=s.trys).length>0&&r[r.length-1])||6!==o[0]&&2!==o[0])){s=0;continue}if(3===o[0]&&(!r||o[1]>r[0]&&o[1]<r[3])){s.label=o[1];break}if(6===o[0]&&s.label<r[1]){s.label=r[1],r=o;break}if(r&&s.label<r[2]){s.label=r[2],s.ops.push(o);break}r[2]&&s.ops.pop(),s.trys.pop();continue}o=e.call(t,s)}catch(a){o=[6,a],i=0}finally{n=r=0}if(5&o[0])throw o[1];return{value:o[0]?o[1]:void 0,done:!0}}([o,a])}}}(this,(function(e){return this._isMouseDownFired?this._isMouseMoveFired?(this._changeState($J.RectangleSelectionChanged,t),[2]):(this._isMouseMoveFired=!0,this._changeState($J.RectangleSelectionStarted,t),[2]):[2]}))},new((n=void 0)||(n=Promise))((function(t,r){function o(t){try{a(i.next(t))}catch(e){r(e)}}function s(t){try{a(i.throw(t))}catch(e){r(e)}}function a(e){var i;e.done?t(e.value):(i=e.value,i instanceof n?i:new n((function(t){t(i)}))).then(o,s)}a((i=i.apply(e,[])).next())}));var e,n,i},t.prototype._onMouseUp=function(t){this._changeState(this._isMouseMoveFired?$J.RectangleSelected:$J.PointSelected,t),this._isMouseDownFired=!1,this._isMouseMoveFired=!1,this._changeState($J.Initial,t)},t.prototype._changeState=function(t,e){if(!this._allowedTransitions.get(this._currentState).includes(t))throw new GR(this._currentState+" to "+t+" transition is restricted");this._currentState=t,this._stateChanged.notify({state:t,point:e})},t}();!function(t){t.Initial="Initial",t.PointSelected="PointSelected",t.RectangleSelectionStarted="RectangleSelectionStarted",t.RectangleSelectionChanged="RectangleSelectionChanged",t.RectangleSelected="RectangleSelected"}($J||($J={}));var qJ=function(t,e,n,i){return new(n||(n=Promise))((function(r,o){function s(t){try{l(i.next(t))}catch(e){o(e)}}function a(t){try{l(i.throw(t))}catch(e){o(e)}}function l(t){var e;t.done?r(t.value):(e=t.value,e instanceof n?e:new n((function(t){t(e)}))).then(s,a)}l((i=i.apply(t,e||[])).next())}))},XJ=function(t,e){var n,i,r,o,s={label:0,sent:function(){if(1&r[0])throw r[1];return r[1]},trys:[],ops:[]};return o={next:a(0),throw:a(1),return:a(2)},"function"==typeof Symbol&&(o[Symbol.iterator]=function(){return this}),o;function a(o){return function(a){return function(o){if(n)throw new TypeError("Generator is already executing.");for(;s;)try{if(n=1,i&&(r=2&o[0]?i.return:o[0]?i.throw||((r=i.return)&&r.call(i),0):i.next)&&!(r=r.call(i,o[1])).done)return r;switch(i=0,r&&(o=[2&o[0],r.value]),o[0]){case 0:case 1:r=o;break;case 4:return s.label++,{value:o[1],done:!1};case 5:s.label++,i=o[1],o=[0];continue;case 7:o=s.ops.pop(),s.trys.pop();continue;default:if(!((r=(r=s.trys).length>0&&r[r.length-1])||6!==o[0]&&2!==o[0])){s=0;continue}if(3===o[0]&&(!r||o[1]>r[0]&&o[1]<r[3])){s.label=o[1];break}if(6===o[0]&&s.label<r[1]){s.label=r[1],r=o;break}if(r&&s.label<r[2]){s.label=r[2],s.ops.push(o);break}r[2]&&s.ops.pop(),s.trys.pop();continue}o=e.call(t,s)}catch(a){o=[6,a],i=0}finally{n=r=0}if(5&o[0])throw o[1];return{value:o[0]?o[1]:void 0,done:!0}}([o,a])}}},KJ=function(){function t(t,e,n){var i=this;if(this._args=t,this._viewer=e,this._selection=n,this._onCompleted=new rB,this._onStateChanged=function(t){switch(t.state){case $J.Initial:break;case $J.PointSelected:i._onPointSelectedState(t.point);break;case $J.RectangleSelectionStarted:i._startPoint=t.point,i._onRectangleSelectionStarted(t.point);break;case $J.RectangleSelectionChanged:i._endPoint=t.point,i._onRectangleSelectionChanged();break;case $J.RectangleSelected:i._endPoint=t.point,i._onRectangleSelected()}},null==this._args)throw new XR("CreateBehaviorHandler: Create Behavior args cannot be null");if(null==this._args.item)throw new XR("CreateBehaviorHandler: args.createdItem cannot be null!");var r=this._args.item;if(null!=r.selection||null!=r.click){if(null==r.click||null==r.selection)throw new XR("CreateBehaviorHandler: Point and Rectangle create args must be exist both or must be null");if(null==r.click.type||null==r.selection.type)throw new XR("CreateBehaviorHandler: Item type cannot be null")}else if(null==this._args.item.type)throw new XR("CreateBehaviorHandler: Item type cannot be null")}return t.prototype.init=function(){this._createBehaviorStateMachine=new GJ,this._createBehaviorStateMachine.addStateChanged(this._onStateChanged),this._selection.lock(),this._viewer.setCursor(Gq.cross,!0)},t.prototype.dispose=function(){this._createBehaviorStateMachine.removeStateChanged(this._onStateChanged)},t.prototype.processMouseEvent=function(t){return qJ(this,void 0,void 0,(function(){return XJ(this,(function(e){return this._currentMouseEvent=t,this._createBehaviorStateMachine.processMouseEvent(t),[2]}))}))},Object.defineProperty(t.prototype,"_selectAfterCreate",{get:function(){return null==this._args.selectAfterCreate||this._args.selectAfterCreate},enumerable:!0,configurable:!0}),t.prototype.addOnCompleted=function(t){this._onCompleted.add(t)},t.prototype.removeOnCompleted=function(t){this._onCompleted.remove(t)},t.prototype._onRectangleSelectionStarted=function(t){return qJ(this,void 0,void 0,(function(){var e;return XJ(this,(function(n){switch(n.label){case 0:return e=this._getCreateItemArgs(t,!0),this._selection.unlock(),e.type===xQ.BoundedTextItem?[3,2]:[4,this._addItem(e)];case 1:return n.sent(),this._selection._operation={resize:!0,resizeIndex:3,arbitraryResize:!0,cornerArbitraryResize:!0,proportionalResize:!0,cornerProportionalResize:!0},[3,3];case 2:this._selection._operation={selection:!0},n.label=3;case 3:return this._selection.update(),this._selection.startTransform(t),[2]}}))}))},t.prototype._onRectangleSelectionChanged=function(){this._selection.processMouseEvent(this._currentMouseEvent),this._viewer.canvas.redrawDesign()},t.prototype._onRectangleSelected=function(){return qJ(this,void 0,void 0,(function(){var t,e,n,i;return XJ(this,(function(r){switch(r.label){case 0:return t=pX.clone(this._currentMouseEvent),null==this._itemAdded?[3,2]:[4,this._itemAdded.promise];case 1:r.sent(),r.label=2;case 2:return e=this._getCreateItemArgs(this._startPoint,!0).type===xQ.BoundedTextItem,n=this._selectionRect,e?[4,this._viewer.commandManager.execute(UQ.createItem,this._getCreateItemArgs(this._startPoint,!0))]:[3,6];case 3:return i=r.sent(),[4,this._viewer.commandManager.execute(VQ.addItems,{items:[i]})];case 4:return r.sent(),[4,this._textWorkaround(n,i)];case 5:return r.sent(),[3,8];case 6:return[4,this._viewer.getHandler(this._item).waitUpdate()];case 7:r.sent(),r.label=8;case 8:return this._selection.processMouseEvent(t),this._onCompleted.notify(n),this._selectAfterCreate||this._selection.clearSelectedItemHandlers(),[2]}}))}))},t.prototype._onPointSelectedState=function(t){return qJ(this,void 0,void 0,(function(){var e;return XJ(this,(function(n){switch(n.label){case 0:return null==(e=this._getCreateItemArgs(t,!1))?[3,2]:[4,this._addItem(e)];case 1:n.sent(),n.label=2;case 2:return this._onCompleted.notify(t),this._selectAfterCreate||this._selection.clearSelectedItemHandlers(),[2]}}))}))},t.prototype._textWorkaround=function(t,e){return qJ(this,void 0,void 0,(function(){var n;return XJ(this,(function(i){switch(i.label){case 0:return[4,(n=this._viewer.getHandler(e)).waitUpdate()];case 1:return i.sent(),e.sourceRectangle=t,e.textRectangle=t,e.sourcePath=bB.rectangle(t.left,t.top,t.width,t.height),e.transform=CB.fromRectangleF(t).getTransform(CB.fromRectangleF(e.sourceRectangle)),n.update(),[2]}}))}))},t.prototype._addItem=function(t){return qJ(this,void 0,void 0,(function(){var e;return XJ(this,(function(n){switch(n.label){case 0:return this._itemAdded=new CX,[4,this._viewer.commandManager.execute(UQ.createItem,t)];case 1:return e=n.sent(),this._item=e,[4,this._viewer.commandManager.execute(VQ.addItems,{items:[e]})];case 2:return n.sent(),[4,this._viewer.canvas.waitUpdate()];case 3:return n.sent(),this._itemAdded.resolve(),[2]}}))}))},t.prototype._getCreateItemArgs=function(t,e){void 0===e&&(e=!1);var n=this._args.item;return this._getUpdatedArgs(null==n.click&&null==n.selection?this._args.item:e?n.selection:n.click,t,e)},t.prototype._getUpdatedArgs=function(t,e,n){void 0===n&&(n=!1);var i=Object.assign({},t);i.itemData=Object.assign({},t.itemData||{});var r=i.itemData;return null==r.location&&(r.location={}),r.location.x=e.x,r.location.y=e.y,n&&(r.width=1,r.height=1,r.location.originX=kK.Left,r.location.originY=kK.Top),i.relativeToPrintArea=!1,i},Object.defineProperty(t.prototype,"_selectionRect",{get:function(){return new aB(Math.min(this._startPoint.x,this._endPoint.x),Math.min(this._startPoint.y,this._endPoint.y),Math.abs(this._startPoint.x-this._endPoint.x),Math.abs(this._startPoint.y-this._endPoint.y))},enumerable:!0,configurable:!0}),t}();function YJ(t){return null!=t&&"function"==typeof t.addOnCompleted&&"function"==typeof t.removeOnCompleted}var QJ,ZJ=function(){function t(t,e,n,i,r,o){this._canvas=t,this._selection=e,this._hoverHandler=n,this._viewer=i,this._rotateHandler=r,this._dndHandler=o,this._isMouseButtonPressed=!1,this._isSelectionProcessed=!1,this._isMouseDrag=!1}return t.prototype.init=function(){this._selection.unlock()},t.prototype.dispose=function(){},t.prototype.onTouchStart=function(t){if(eF.IsTouchDevice()){var e=new QL(t.x,t.y),n=this._selection.hitTest(e,!1);if(n.resize||n.rotate||n.body)t.originalEvent.preventDefault();else{var i=this._canvas.getItemHandlersByHitTest(e);null!=this._getHandlerForSelect(i,e,t)&&t.originalEvent.preventDefault()}}},t.prototype.processMouseEvent=function(t){var e=new QL(t.x,t.y),n=this._canvas.getItemHandlersByHitTest(e),i=this._getHandlerForSelect(n,e,t),r=this._selection.hitTest(e,t.originalEvent.shiftKey);if(null!=this._canvas.textEditor&&!this._isMultiselection(t)&&1===this._selection.getSelectedItemHandlers().length&&!r.resize&&!r.rotate){var o=this._canvas.currentItemHandler,s=null!=i&&null!=o&&o.uniqueId===i.uniqueId;if(null!=o&&o instanceof pJ&&o.inPlaceEditingEnabled&&o.processInPlaceEditingMouseEvent(t,s))return;if(null!=i&&i!=o&&i instanceof pJ&&i.inPlaceEditingEnabled&&("mousedown"!==t.type&&"dblclick"!==t.type||this._processSelection(i,t),i.processInPlaceEditingMouseEvent(t,s)))return}var a=i instanceof _K&&this._placeholderButtonGroupHitTest(i,e),l=this._placeholderHandleButtonGroupHitTest(e),c=!!this._canvas.isShowFloatingItemToolbar()&&this._floatingItemToolbarHitTest(e),u=r.body||r.resize||r.rotate;!this._canvas.canvasItemHoverEnabled||r.resize||r.rotate||this._isMouseButtonPressed?this._canvas.hideHover():this._hoverHandler.processMouseEvent(t,i);var h=u||this._canvas.isResizing()||!this._canvas.violationWarningButtonsEnabled?null:this._canvas.violationWarningButtonHitTestObject(e),d=null!=h,p=this._canvas.contentUpdatingPlaceholderItemHandler,f=null!=this._viewer?this._viewer.whitespaceDiv:null;null!=f&&(f.style.pointerEvents=l||a?"none":"auto");var m=!1;if("mousedown"===t.type||"dblclick"===t.type){if(this._isSelectionProcessed=!1,null!=i){l||c||d||r.resize||r.rotate||this._canvas.currentItemHandler instanceof tY&&i.item.parentGroupItem===this._canvas.currentItemHandler.item||(this._processSelection(i,t),this._isSelectionProcessed=!0);var g=this._canvas.selectedPlaceholderItemHandler;!l||this._isMouseButtonPressed||null==g||this._canvas.autoPlaceholderEditModeEnabled?null==g||!this._canvas.autoPlaceholderEditModeEnabled||this._isMouseButtonPressed||g.editing||g.onHandleButtonMouseDown():g.showHandleButton()?g.onHandleButtonMouseDown():g.editing&&g.getPermissions(!0).showDoneButton&&g.onDoneButtonClick()}else u||c||d||!this._viewer.clearSelectionOnViewerClick||this._canvas.clearSelectedItemHandlers();var y=this._canvas.contentEditingPlaceholderItemHandler;null!=y&&u&&(y.setContentUpdating(!0),this._canvas.updatePlaceholderButtonGroups()),this._mouseDownTimeStamp=(new Date).getTime(),"dblclick"===t.type&&null!=this._canvas.currentItemHandler&&(this._viewer.selectedItems.length>1?null!=i&&(this._canvas.clearSelectedItemHandlers(),this._canvas.addSelectedItemHandler(i),i.dispatchDoubleClickEvent(t)):this._canvas.currentItemHandler.dispatchDoubleClickEvent(t)),"dblclick"!==t.type&&(this._isMouseButtonPressed=!0)}else if("mouseup"===t.type)null!=i&&!this._isMouseDrag&&!this._isSelectionProcessed&&this._canvas.currentItemHandler instanceof tY&&(m=!0),this._isMouseButtonPressed=!1,this._isMouseDrag=!1,null!=p&&p.onPlaceholderButtonMouseUp.apply(p),delete this._mouseDownTimeStamp,delete this._cursor,null!=this._rotateHandler.rotateDiv&&this._rotateHandler.removeRotateDiv(),this._viewer.selectedItems.length>0&&this._rotation(this._canvas.currentItemHandler,e,!0);else if("mousemove"===t.type){this._isMouseButtonPressed&&(this._isMouseDrag=!0);for(var _=this._canvas.getAllItemHandlers({onlyVisible:!0,onlyType:_K}),v=0;v<_.length;v++){var b=_[v],w=b.placeholderButtonGroup;this._canvas.isItemHandlerSelected(b)||null==w||(w.style.pointerEvents="none")}if(l||a)if(i instanceof _K&&null!=i.placeholderButtonGroup)i.placeholderButtonGroup.style.pointerEvents="auto";else{var C=this._canvas.selectedPlaceholderItemHandler;null!=C&&null!=C.placeholderButtonGroup&&(C.placeholderButtonGroup.style.pointerEvents="auto")}var x=this._canvas.selectedHandler;if(null!=x&&null!=x.floatingItemToolbar&&this._canvas.floatingItemToolbarEnabled&&(x.floatingItemToolbar.style.pointerEvents=r.rotate||r.resize?"none":"auto"),d&&(h.getViolationWarningButton().style.pointerEvents=r.rotate||r.resize?"none":"auto"),this._viewer.selectedItems.length>0&&this._isMouseButtonPressed&&this._rotation(x,e),null!=this._mouseDownTimeStamp&&(new Date).getTime()-this._mouseDownTimeStamp<this._canvas.mouseMoveTimeout)return}var E=this._cursor,S=null!=E;p=this._canvas.contentUpdatingPlaceholderItemHandler,null==E&&(r.resize||r.rotate||null==i||this._canvas.isItemHandlerSelected(i)||a?null==p||r.resize||r.rotate?E=a?Gq.defaultCursor:this._selection.getCursor(e):(E=Gq.move,S=!0):E=Gq.pointer),this._viewer.setCursor(E,S),"mousemove"!==t.type&&(this._cursor="mousedown"===t.type?E:null),this._selection.processMouseEvent(t,m),m&&this._processSelection(i,t),(l||p||this._selection.isResizing())&&"mouseup"!==t.originalEvent.type||this._dndHandler.processMouseEvent(t),"mousemove"===t.type?(this._selection.isOperationNotNull()||null!=r.selection&&this._isMouseButtonPressed||this._dndHandler.isDragStarted())&&this._canvas.redrawDesign():"mouseup"===t.type&&this._canvas.redrawDesign()},t.prototype._getHandlerForSelect=function(t,e,n){var i=this;if(null!=t&&0!==t.length){var r=n.originalEvent.shiftKey||n.originalEvent.metaKey||n.originalEvent.ctrlKey,o=t.findIndex((function(t){return i._canvas.isItemHandlerSelected(t)})),s=t[0],a=this._canvas.contentEditingPlaceholderItemHandler;if(null!=a&&a.content.hitTest(e).body)return a;if(!(this._canvas.getSelectedItemHandlers().length>1&&this._selection.visibleRectangle.bounds.contains(e))||r||"dblclick"==n.type){if(t.some((function(t){return t instanceof tY}))&&this._canvas.getSelectedItemHandlers().length>0){var l=this._canvas.getSelectedItemHandlers().getItem(0),c=-1;if(l instanceof tY&&t.includes(l)?c=t.indexOf(l):null!=l.item.parentGroupItem&&t.includes(this._canvas.handlerFactory.get(l.item.parentGroupItem))&&(c=t.indexOf(this._canvas.handlerFactory.get(l.item.parentGroupItem))),c>-1&&null!=t[c+1]){var u=t[c+1].item,h=l.item;if(u.parentGroupItem===h||null!=u.parentGroupItem&&u.parentGroupItem===h.parentGroupItem)return t[c+1]}}return o>0&&!t[o].bounds.containsRectangle(s.bounds)&&!r?t[o]:s}}},t.prototype._placeholderButtonGroupHitTest=function(t,e){return!(null==this._viewer||null==this._canvas.parentElement||null==t||null==t.placeholderButtonGroup||t.getPermissions()&&!t.getPermissions().showSelectButton)&&this._getPlaceholderButtonGroupRect(t.placeholderButtonGroup).contains(e)},t.prototype._placeholderHandleButtonGroupHitTest=function(t){var e=this._canvas.selectedPlaceholderItemHandler;return null!=e&&null!=e.placeholderButtonGroup&&this._getPlaceholderButtonGroupRect(e.placeholderButtonGroup).contains(t)},t.prototype._floatingItemToolbarHitTest=function(t){if(null==this._viewer||null==this._canvas.parentElement||!this._canvas.floatingItemToolbarEnabled)return!1;var e=this._canvas.selectedHandler;return null!=e&&null!=e.floatingItemToolbar&&this._canvas.getButtonGroupRectInGripsDiv(e.floatingItemToolbar).contains(t)},t.prototype._isMultiselection=function(t){return t.originalEvent.ctrlKey||t.originalEvent.metaKey||t.originalEvent.shiftKey},t.prototype._processSelection=function(t,e){if(null!=t){var n=this._isMultiselection(e);this._canvas.isItemHandlerSelected(t)?n?this._canvas.removeSelectedItemHandler(t):this._selection.currentItemHandler=t:n&&this._canvas.getSelectedItemHandlers().toArray().every((function(e){return e.item.parentGroupItem===t.item.parentGroupItem}))?this._canvas.addSelectedItemHandler(t):this._canvas.setSelectedItemHandlers([t])}},t.prototype._rotation=function(t,e,n){var i=this,r=document.querySelectorAll("#resize-left-top, #resize-right-top, #resize-right-bottom, #resize-left-bottom, #rotate-circle, #resize-width-left, #resize-width-right, #resize-height-top, #resize-height-bottom"),o=this._viewer.contentAngle,s=null!=t&&this._canvas.isPlaceholder(t)?t:null,a=function(){r.forEach((function(t){i._buttonsShow(t)})),null!=s&&(null!=s.handleButton&&i._buttonsShow(s.handleButton),null!=s.selectButton&&i._buttonsShow(s.selectButton)),i._rotateHandler.removeRotateDiv()},l=this._viewer.element,c=this._rotateHandler.calculatePositionRotateDiv(o,Math.max(0,i._viewer.getParentPosition(i._canvas.parentElement.parentElement).left),Math.max(0,i._viewer.getParentPosition(i._canvas.parentElement.parentElement).top),e,this._canvas.parentElement.parentElement.offsetWidth,this._canvas.parentElement.parentElement.offsetHeight),u=l.scrollTop,h=l.scrollLeft,d=l.scrollWidth>l.clientWidth&&0==h||h>0,p=l.scrollHeight>l.clientHeight&&0==u||u>0,f=eF.IsTouchDevice()?0:17,m=this._viewer.height-(35+(d?f:0))+u,g=this._viewer.width-(58+(p?f:0))+h;c.y>m?c.y=m:c.y<u&&(c.y=u),c.x>g?c.x=g:c.x<h&&(c.x=h),this._selection.isRotating()?(r.forEach((function(t){i._buttonsHidden(t)})),null!=s&&(null!=s.handleButton&&this._buttonsHidden(s.handleButton),null!=s.selectButton&&this._buttonsHidden(s.selectButton)),null==this._rotateHandler.rotateDiv?this._rotateHandler.addRotateDiv(c.y,c.x):this._rotateHandler.updateRotatePositionDiv(c.y,c.x)):a(),n&&a(),this._canvas.updatePlaceholderButtonGroups()},t.prototype._getPlaceholderButtonGroupRect=function(t){var e=this._viewer.getParentPosition(this._canvas.parentElement.parentElement),n=new aB(t.offsetLeft+e.left,t.offsetTop+e.top,t.offsetWidth,t.offsetHeight),i=this._viewer.controlToWorkspaceRectangle(n),r=new aB(i.left,i.top,i.width,i.height);return CB.fromRectangleF(r).bounds},t.prototype._buttonsHidden=function(t){t.classList.remove("buttonsShown"),t.classList.add("buttonsHidden")},t.prototype._buttonsShow=function(t){t.classList.remove("buttonsHidden"),t.classList.add("buttonsShown")},t}(),JJ=function(){return(JJ=Object.assign||function(t){for(var e,n=1,i=arguments.length;n<i;n++)for(var r in e=arguments[n])Object.prototype.hasOwnProperty.call(e,r)&&(t[r]=e[r]);return t}).apply(this,arguments)},t0=function(){function t(t,e,n){var i=this;this._canvas=t,this._canvasElementHandler=e,this._selection=n,this._mobileMode=eF.IsTouchDevice(),this._cursorSize=10,this._pixelRadius=this._mobileMode?6.5:8.5,this._zoom=10,this._lenseRadius=this._pixelRadius*this._zoom,this._textYPosition=130,this._textPadding={v:4,h:10},this._buttonsElementMargin=8,this._lenseCaptured=!1,this._onCompletedEvent=new sB,this._currentColorData=null,this._createButtonsElement=function(){var t=document.createElement("div");i._canvas.viewer.whitespaceDiv.appendChild(t),t.className="floating-btn-group btn-group color-select",t.style.position="absolute";var e=document.createElement("button");e.className="btn btn-default reject-button cc-icon-arrow-close",e.addEventListener("click",i._onReject),t.appendChild(e);var n=document.createElement("button");n.className="btn btn-default accept-button cc-icon-check-image",n.addEventListener("click",i._onAccept),t.appendChild(n),i._buttonsElement=t},this._onAccept=function(){i._onSelectPixelEnd(null!=i._currentColorData?QB.createColor(i._currentColorData,!1,!0):null)},this._onReject=function(){i._onSelectPixelEnd(null)},this._onSelectPixelEnd=function(t){i._onCompletedEvent.notify(i,t),i._canvas.viewer.eventManager.selectPixelFinished.notify(t),i._selection.unlock()},this._updateCreateButtonsPosition=function(){if(null!=i._buttonsElement){var t=parseFloat(i._canvasLensElement.style.left),e=parseFloat(i._canvasLensElement.style.top),n=parseFloat(i._canvasLensElement.style.height),r=parseFloat(i._canvasLensElement.style.height),o=i._buttonsElement.getBoundingClientRect();i._buttonsElement.style.left=t+n/2-o.width/2+"px";var s=e-o.height-i._buttonsElementMargin;e-o.height-i._buttonsElementMargin<=0&&(s=e+r+i._buttonsElementMargin),i._buttonsElement.style.top=s+"px"}},this._updateView=function(t){void 0===t&&(t=null);var e=t||i._currentPoint;i._updateLensImage(e),i._changePosition(e),i._mobileMode&&i._updateCreateButtonsPosition()},this._createLensCanvas=function(){var t=document.createElement("canvas");t.width=2*i._lenseRadius,t.height=2*i._lenseRadius,t.style.width=2*i._lenseRadius+"px",t.style.height=2*i._lenseRadius+"px",t.style.position="absolute",t.style.borderRadius=i._lenseRadius+"px",t.style.borderWidth="1px",t.style.borderColor="rgb(0,0,0,0.7)",t.style.borderStyle="solid",t.style.userSelect="none",t.tabIndex=-1,t.addEventListener("keydown",i._onKeyDown);var e=t.getContext("2d");return e.imageSmoothingEnabled=!1,e.imageSmoothingQuality="low",setTimeout((function(){return t.focus()})),t},this._onKeyDown=function(t){27===t.keyCode&&i._onReject()}}return t.prototype.init=function(){this._canvas.viewer.setCursor(Gq.cross),this._selection.lock(!0),this._canvas.viewer.ignoreDocumentClickOnce(),this._mobileMode&&(this._canvasLensElement=this._createLensCanvas(),this._canvasElementHandler.addChild(this._canvasLensElement),this._createButtonsElement(),this._putLenseOnWhitespaceCenter(),this._canvas.viewer.add_onResize(this._updateView),this._canvasElementHandler.hideSelection())},t.prototype.addOnCompleted=function(t){this._onCompletedEvent.add(t)},t.prototype.removeOnCompleted=function(t){this._onCompletedEvent.remove(t)},t.prototype._putLenseOnWhitespaceCenter=function(){var t=this._canvas.viewer,e=t.whitespaceDiv,n=new QL(e.offsetWidth/2,e.offsetHeight/2),i=t.whitespaceToWorkspacePoint(n);this._currentPoint=i,this._updateView()},t.prototype.processMouseEvent=function(t){this._mobileMode?this._processMobileEvent(t):this._processDesktopEvent(t)},t.prototype._processDesktopEvent=function(t){var e=new QL(t.x,t.y);this._canvas.viewer.ignoreDocumentClickOnce(),"mousemove"===t.type?(null==this._canvasLensElement&&(this._canvasLensElement=this._createLensCanvas(),this._canvasElementHandler.addChild(this._canvasLensElement)),this._updateView(e)):"mouseup"===t.type&&(this._updateView(e),this._onAccept())},t.prototype._processMobileEvent=function(t){var e=new QL(t.x,t.y),n=this._canvas.viewer;if("mousemove"===t.type){if(!this._lenseCaptured)return;var i=new QL(this._currentPoint.x+e.x-this._capturedPoint.x,this._currentPoint.y+e.y-this._capturedPoint.y);this._updateView(i)}else if("mousedown"===t.type){var r=new QL(parseInt(this._canvasLensElement.style.left)+this._lenseRadius,parseInt(this._canvasLensElement.style.top)+this._lenseRadius),o=n.workspaceToWhiteSpacePoint(e);Math.sqrt(Math.pow(o.x-r.x,2)+Math.pow(o.y-r.y,2))<this._lenseRadius&&(this._lenseCaptured=!0,this._capturedPoint=e.clone())}else if("mouseup"===t.type){if(!this._lenseCaptured)return;this._lenseCaptured=!1,this._currentPoint=new QL(this._currentPoint.x+e.x-this._capturedPoint.x,this._currentPoint.y+e.y-this._capturedPoint.y),this._capturedPoint=null}this._lenseCaptured&&(t.originalEvent.preventDefault(),t.originalEvent.stopPropagation())},t.prototype._changePosition=function(t){var e=this._canvas.viewer,n=DJ.getRotatedPoint(e,t),i=e.workspaceToWhiteSpacePoint(n),r=2*this._lenseRadius,o=e.whitespaceDiv;this._mobileMode?(this._canvasLensElement.style.left=qK(i.x,this._lenseRadius,o.offsetWidth-this._lenseRadius)-this._lenseRadius+"px",this._canvasLensElement.style.top=qK(i.y,this._lenseRadius,o.offsetHeight-this._lenseRadius)-this._lenseRadius+"px"):(this._canvasLensElement.style.left=i.x+this._cursorSize+2*this._lenseRadius<o.offsetWidth?i.x+this._cursorSize+"px":i.x-this._cursorSize-r+"px",this._canvasLensElement.style.top=i.y+this._cursorSize+2*this._lenseRadius<o.offsetHeight?i.y+this._cursorSize+"px":i.y-this._cursorSize-r+"px")},t.prototype._updateLensImage=function(t){var e=this._canvas.viewer,n=2*this._pixelRadius,i=e.workspaceToContentPoint(t);i.x*=window.devicePixelRatio,i.y*=window.devicePixelRatio;var r=2*this._lenseRadius,o=new aB(i.x-Math.trunc(this._pixelRadius),i.y-Math.trunc(this._pixelRadius)+1,n,n),s=this._canvasElementHandler.surfaceCanvas.getContext("2d"),a=s.getImageData(o.left,o.top,o.width,o.height),l=Math.trunc(n/2),c=this._canvasLensElement.getContext("2d");bX.clearCanvas(c);for(var u=a.data,h=new xB(n,n),d=0;d<u.length;d+=4){var p=d/4,f=Math.trunc(p/n),m=p%n,g=u[d+3]/255,y=255*(1-g),_={r:Math.min(Math.round(u[d]*g+y),255),g:Math.min(Math.round(u[d+1]*g+y),255),b:Math.min(Math.round(u[d+2]*g+y),255)};c.fillStyle="rgba("+_.r+","+_.g+","+_.b+")";var v=DJ.getRotatedPointFromSize(new QL(m,f),h,e.contentAngle);c.fillRect(v.x*this._zoom,v.y*this._zoom,this._zoom,this._zoom),l===f&&l===m&&(this._currentColorData=JJ(JJ({},_),{type:"RgbColor"}))}for(d=0;d<n;d++)bX.drawLine(c,d*this._zoom,0,d*this._zoom,r,1,"black",.15),bX.drawLine(c,0,d*this._zoom,r,d*this._zoom,1,"black",.15);if(s.globalAlpha=1,c.lineWidth=1,c.strokeStyle="#000",c.strokeRect(l*this._zoom,l*this._zoom,this._zoom,this._zoom),c.strokeStyle="#fff",c.strokeRect(l*this._zoom-1,l*this._zoom-1,this._zoom+2,this._zoom+2),this._canvas.viewer.surfaceHandler.getBounds(e$.Total).contains(t,!0)){if(!this._mobileMode){var b=this._currentColorData,w="RGB: "+b.r+" "+b.g+" "+b.b,C=s.measureText(w).width;c.font="10px Roboto",c.fillStyle="black";var x=(r-C)/2;c.fillStyle="rgba(0, 0, 0, 0.7)",bX.drawRoundedRectangle(c,new aB(x-this._textPadding.h,this._textYPosition-10,C+2*this._textPadding.h,20),10),c.fillStyle="white",c.fillText(w,x+2,this._textYPosition+3,r)}}else this._currentColorData=null},t.prototype.dispose=function(){this._canvas.viewer.setCursor(Gq.defaultCursor),null!=this._buttonsElement&&(this._buttonsElement.querySelector(".accept-button").removeEventListener("click",this._onAccept),this._buttonsElement.querySelector(".accept-button").removeEventListener("touchend",this._onAccept),this._buttonsElement.querySelector(".reject-button").removeEventListener("click",this._onAccept),this._buttonsElement.querySelector(".reject-button").removeEventListener("touchend",this._onAccept),this._buttonsElement.remove()),null!=this._canvasLensElement&&(this._canvasLensElement.removeEventListener("keydown",this._onKeyDown),this._canvasLensElement.remove()),this._canvas.viewer.remove_onResize(this._updateView)},t}(),e0=function(){function t(t){this._selection=t}return t.prototype.processMouseEvent=function(t){},t.prototype.init=function(){this._selection.lock()},t.prototype.dispose=function(){this._selection.unlock()},t}(),n0=function(){function t(t,e,n,i,r,o,s){var a=this;this._selection=t,this._viewer=e,this._canvas=n,this._hoverHandler=i,this._rotateHandler=r,this._dndHandler=o,this._canvasElementHandler=s,this._onMouseBehaviorComplete=function(t){a._viewer.eventManager.mouseBehaviorCreateFinishedEvent.notify(t),(null==a._currentOptions||null==a._currentOptions.resetToDefaultBehavior||a._currentOptions.resetToDefaultBehavior)&&a.setMouseBehavior(eJ.Selection)}}return Object.defineProperty(t.prototype,"currentMouseBehaviorHandler",{get:function(){return this._currentMouseBehaviorHandler},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"currentMouseBehavior",{get:function(){return this._currentMouseBehavior},enumerable:!0,configurable:!0}),t.prototype.setMouseBehavior=function(t,e,n){switch(this._currentMouseBehavior=t,this._currentOptions=n,null!=this._currentMouseBehaviorHandler&&(YJ(this._currentMouseBehaviorHandler)&&this._currentMouseBehaviorHandler.removeOnCompleted(this._onMouseBehaviorComplete),this.currentMouseBehaviorHandler.dispose()),t){case eJ.Selection:this._currentMouseBehaviorHandler=this._getSelectionModeHandler();break;case eJ.Create:this._currentMouseBehaviorHandler=new KJ(e,this._viewer,this._selection);break;case eJ.SelectPixel:this._currentMouseBehaviorHandler=new t0(this._canvas,this._canvasElementHandler,this._selection);break;case eJ.Locked:this._currentMouseBehaviorHandler=new e0(this._selection)}this._currentMouseBehaviorHandler.init(),null!=this._currentMouseBehaviorHandler&&YJ(this._currentMouseBehaviorHandler)&&this._currentMouseBehaviorHandler.addOnCompleted(this._onMouseBehaviorComplete),this._canvas.updateButtonGroups()},t.prototype._getSelectionModeHandler=function(){return this._selectionModeHandler||this._createSelectionHandler()},t.prototype._createSelectionHandler=function(){return this._selectionModeHandler=new ZJ(this._canvas,this._selection,this._hoverHandler,this._viewer,this._rotateHandler,this._dndHandler),this._selectionModeHandler},Object.defineProperty(t.prototype,"isSelectionMouseBehavior",{get:function(){return this._currentMouseBehaviorHandler===this._getSelectionModeHandler()},enumerable:!0,configurable:!0}),t.prototype.processMouseEvent=function(t){this._currentMouseBehaviorHandler.processMouseEvent(t)},t}(),i0=function(t){var e="function"==typeof Symbol&&Symbol.iterator,n=e&&t[e],i=0;if(n)return n.call(t);if(t&&"number"==typeof t.length)return{next:function(){return t&&i>=t.length&&(t=void 0),{value:t&&t[i++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")},r0=function(){function t(t,e){this._failedFonts=new Array,this._activeRequests=new Array,this._textWhizz=t,this._url=e+"/api/ccviewer/fonts",this._fontRegistry=new this._textWhizz.FontRegistry(72)}return Object.defineProperty(t.prototype,"textWhizzFontRegistry",{get:function(){return this._fontRegistry},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"ready",{get:function(){return null!=this._fontRegistry},enumerable:!0,configurable:!0}),t.prototype.createFont=function(t,e){return this._fontRegistry.createFont(this._normalizePsName(t),e)},t.prototype.containsFonts=function(t){var e,n;try{for(var i=i0(t),r=i.next();!r.done;r=i.next())if(!this._fontRegistry.contains(this._normalizePsName(r.value)))return!1}catch(o){e={error:o}}finally{try{r&&!r.done&&(n=i.return)&&n.call(i)}finally{if(e)throw e.error}}return!0},t.prototype.checkFailedFonts=function(t){var e,n;try{for(var i=i0(t),r=i.next();!r.done;r=i.next())if(this._failedFonts.includes(this._normalizePsName(r.value)))return!0}catch(o){e={error:o}}finally{try{r&&!r.done&&(n=i.return)&&n.call(i)}finally{if(e)throw e.error}}return!1},t.prototype.loadFonts=function(t){var e,n;if(this.containsFonts(t))return Promise.resolve();var i=new Array;try{for(var r=i0(t),o=r.next();!o.done;o=r.next())i.push(this._loadFont(this._normalizePsName(o.value)))}catch(s){e={error:s}}finally{try{o&&!o.done&&(n=r.return)&&n.call(r)}finally{if(e)throw e.error}}return Promise.all(i).then((function(){})).catch((function(){throw"Failed to load some fonts"}))},t.prototype.clear=function(){this._fontRegistry.clear(),this._failedFonts=new Array},t.prototype._loadFont=function(t){var e=this;if(this._failedFonts.includes(t))return Promise.reject(null);var n=this._activeRequests.find((function(e){return e.id===t}));if(null!=n)return n.promise;var i=LX({type:OX.get,url:this._url+"/"+t,responseType:"arraybuffer"}).then((function(t){var n=t.xhr.response;if(n){var i=new Uint8Array(n),r=i.length*i.BYTES_PER_ELEMENT,o=e._textWhizz._malloc(r),s=new Uint8Array(e._textWhizz.HEAPU8.buffer,o,r);s.set(new Uint8Array(i)),e._fontRegistry.add(s.byteOffset,s.length),e._textWhizz._free(o)}})).catch((function(){throw e._failedFonts.push(t),null})).finally((function(){e._activeRequests=e._activeRequests.filter((function(e){return e.id!==t}))}));return this._activeRequests.push({id:t,promise:i}),i},t.prototype._normalizePsName=function(t){return t.trim().toLowerCase()},t}(),o0=function(){var t=function(e,n){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(e,n)};return function(e,n){function i(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(i.prototype=n.prototype,new i)}}(),s0=function(t){function e(e,n,i,r,o){var s=t.call(this,e,n,i,r,o)||this;return s._currentCanvas=null,s._needWorkaroundForIOs=!1,s._needWorkaroundForIOs=eF.IsIos(),s._setCurrentCanvas(s._staticCanvas),s}return o0(e,t),e.prototype._setCurrentCanvas=function(t){this._currentCanvas!=t&&(this._textWhizz.setCurrentContext("#"+t.id),this._textWhizz.clearContext(),this._currentCanvas=t,t==this._activeCanvas&&this._needWorkaroundForIOs&&(this._textWhizz.setCurrentContextSize(Math.ceil(t.width+1),Math.ceil(t.height+1)),this._needWorkaroundForIOs=!1)),this._textWhizz.setCurrentContextSize(Math.ceil(t.width),Math.ceil(t.height));var e=this._scale,n=this._textWhizz.Matrix.createScale(e,e);this._textWhizz.setContextTransform(n)},e.prototype._getTextTransform=function(t,e,n){var i=this._scale*n,r=this._textWhizz.Matrix.createIdentity();return e.scale(1/n,1/n),r.translate(-e.x,-e.y),r.scale(t.scaleX,t.scaleY),r.rotate(pB(t.angle)),r.translate(t.translateX/n,t.translateY/n),r.translate(e.x,e.y),r.translate(this._offset.x/n,this._offset.y/n),r.scale(i,i),r},e.prototype.drawText=function(t,e,n,i,r,o){var s=this._getTextTransform(e,n,i);try{if(this._activeCanvas.style.opacity=(null!=r?r:1).toString(),this._setCurrentCanvas(this._activeCanvas),this._textWhizz.clearContext(),this._textWhizz.setContextTransform(s),null!=o){var a=o.clone();a.transform(new wB(1/i,1/i,0,0,0),new QL(0,0)),this._textWhizz.setClippingPaths(a.toTextWhizzPath(this._textWhizz))}else this._textWhizz.clearClippingPaths();this._textWhizz.addTextToContext(t)}catch(l){throw lJ.createException(l,this._textWhizz)}},e.prototype.transformText=function(t,e,n,i,r,o){if(this._currentCanvas==this._activeCanvas){var s=this._getTextTransform(e,n,i);this._textWhizz.setContextTransform(s)}else this.drawText(t,e,n,i,r,o)},e.prototype.clearText=function(){this._setCurrentCanvas(this._activeCanvas),this._textWhizz.clearContext()},e.prototype.drawSelection=function(t,e,n,i,r){if(this._currentCanvas==this._activeCanvas)try{var o=e.getArea();this._textWhizz.clearContext();var s=e.getStart(),a=e.getEnd();(e.getStart().getLineIndex()>e.getEnd().getLineIndex()||e.getStart().getLineIndex()==e.getEnd().getLineIndex()&&e.getStart().getOffset()>e.getEnd().getOffset())&&(a=e.getStart(),s=e.getEnd());var l=this._colorToTextWhizz(this._selectionColor);this._textWhizz.addShapeToContext(o,l);var c=new this._textWhizz.TextRange(t.getFirstPosition(),s);this._textWhizz.addTextRangeToContext(t,c);var u=new this._textWhizz.TextRange(a,t.getLastPosition());this._textWhizz.addTextRangeToContext(t,u);var h=this._colorToTextWhizz(this._selectionTextColor);this._textWhizz.addColorTextRangeToContext(t,e,h)}catch(d){throw lJ.createException(d,this._textWhizz)}},e.prototype.getTextImage=function(t,e,n){if(gB(0,e.width)||gB(0,e.height))return null;var i=this._scale,r=this._getScaledBounds(e);zJ.setElementSize(this._staticCanvas,r.width,r.height);try{this._setCurrentCanvas(this._staticCanvas);var o=this._textWhizz.Matrix.createScale(n*i,n*i);o.translate(-r.left,-r.top),this._textWhizz.setContextTransform(o),this._textWhizz.clearContext(),this._textWhizz.addTextToContext(t)}catch(s){throw lJ.createException(s,this._textWhizz)}try{return this._getBase64Url()}catch(s){return console.warn("Cannot get base64 image for text. Reason: "+s),null}},e}(nK),a0=function(){var t=function(e,n){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(e,n)};return function(e,n){function i(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(i.prototype=n.prototype,new i)}}(),l0=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return a0(e,t),e.prototype.drawText=function(t,e,n,i,r,o){var s=this._getScaledContext(e,n,i);if(s.globalAlpha=null!=r?r:1,null!=o){var a=o.clone();a.transform(new wB(1/i,1/i,0,0,0),new QL(0,0)),bX.clipPath(s,a)}try{t.draw(s)}catch(l){throw lJ.createException(l,this._textWhizz)}finally{s.restore()}},e.prototype.transformText=function(t,e,n,i,r,o){this.drawText(t,e,n,i,r,o)},e.prototype.clearText=function(){var t=this._activeCanvas.getContext("2d");t.clearRect(0,0,t.canvas.width,t.canvas.height)},e.prototype.drawSelection=function(t,e,n,i,r){var o=this._getScaledContext(n,i,r);try{e.getArea().addToContext(o),o.fillStyle=this._selectionColor.preview,o.fill(),t.draw(o);var s=this._colorToTextWhizz(this._selectionTextColor);e.draw(o,s)}catch(a){throw lJ.createException(a,this._textWhizz)}finally{o.restore()}},e.prototype.getTextImage=function(t,e,n){if(gB(0,e.width)||gB(0,e.height))return null;var i=this._scale,r=this._getScaledBounds(e);zJ.setElementSize(this._staticCanvas,r.width,r.height);var o=this._staticCanvas.getContext("2d");o.clearRect(0,0,o.canvas.width,o.canvas.height),o.save(),o.translate(-r.left,-r.top),o.scale(i*n,i*n);try{t.draw(o)}catch(s){throw lJ.createException(s,this._textWhizz)}finally{o.restore()}try{return this._getBase64Url()}catch(s){return console.warn("Cannot get base64 image for text. Reason: "+s),null}},e.prototype._getScaledContext=function(t,e,n){var i=this._activeCanvas.getContext("2d");i.clearRect(0,0,i.canvas.width,i.canvas.height),i.save();var r=this._scale;i.scale(r,r),i.translate(this._offset.x,this._offset.y);var o=t.toMatrix();return i.translate(e.x,e.y),i.transform(o.m00,o.m10,o.m01,o.m11,o.m02,o.m12),i.translate(-e.x,-e.y),i.scale(n,n),i},e}(nK),c0=function(){function t(){}return Object.defineProperty(t,"debug",{set:function(t){if(this._debug=t,t&&null==document.getElementById("violationServiceDebug")){var e=document.createElement("div");e.id="violationServiceDebug",e.style.position="fixed",e.style.backgroundColor="rgba(0, 0, 0, 0.5)",e.style.border="solid 1px black",e.style.width="800px",e.style.height="100px",e.style.top="calc(100% - 200px)",e.style.left="0",e.style.overflow="auto",e.style.zIndex="100",e.style.display="flex",e.style.flexDirection="column",e.style.fontSize="14px",e.style.fontWeight="500",document.documentElement.appendChild(e),this._debugTimeStart=Date.now()}},enumerable:!0,configurable:!0}),t.debugLog=function(e,n){if(void 0===n&&(n=QJ.Log),this._debug){var i='<span style="color: rgb(255, 0, 255)">'+(Date.now()-this._debugTimeStart)+":</span> "+e,r=document.createElement("span");r.innerHTML=i,r.style.color=t._getMessageColor(n);var o=document.getElementById("violationServiceDebug");o.appendChild(r),o.scrollTop=o.scrollHeight}},t.extendNativeLog=function(e){var n=console[e];console[e]=function(){for(var i=[],r=0;r<arguments.length;r++)i[r]=arguments[r];var o=i.join(" ");n(o),t.debugLog(o,e)}},t._getMessageColor=function(t){return t===QJ.Error?"#dc3545":t===QJ.Warning?"#ffc107":t===QJ.Trace?"#17a2b8":"black"},t._debug=!1,t}();window.___$setDaLoggerEnabled=function(t,e){void 0===e&&(e=null),c0.debug=t,t&&(null==e?void 0:e.length)>0&&e.forEach((function(t){c0.extendNativeLog(t)}))},function(t){t.Trace="trace",t.Log="log",t.Warning="warn",t.Error="error"}(QJ||(QJ={}));var u0,h0=function(){return(h0=Object.assign||function(t){for(var e,n=1,i=arguments.length;n<i;n++)for(var r in e=arguments[n])Object.prototype.hasOwnProperty.call(e,r)&&(t[r]=e[r]);return t}).apply(this,arguments)},d0=function(t,e,n,i){return new(n||(n=Promise))((function(r,o){function s(t){try{l(i.next(t))}catch(e){o(e)}}function a(t){try{l(i.throw(t))}catch(e){o(e)}}function l(t){var e;t.done?r(t.value):(e=t.value,e instanceof n?e:new n((function(t){t(e)}))).then(s,a)}l((i=i.apply(t,e||[])).next())}))},p0=function(t,e){var n,i,r,o,s={label:0,sent:function(){if(1&r[0])throw r[1];return r[1]},trys:[],ops:[]};return o={next:a(0),throw:a(1),return:a(2)},"function"==typeof Symbol&&(o[Symbol.iterator]=function(){return this}),o;function a(o){return function(a){return function(o){if(n)throw new TypeError("Generator is already executing.");for(;s;)try{if(n=1,i&&(r=2&o[0]?i.return:o[0]?i.throw||((r=i.return)&&r.call(i),0):i.next)&&!(r=r.call(i,o[1])).done)return r;switch(i=0,r&&(o=[2&o[0],r.value]),o[0]){case 0:case 1:r=o;break;case 4:return s.label++,{value:o[1],done:!1};case 5:s.label++,i=o[1],o=[0];continue;case 7:o=s.ops.pop(),s.trys.pop();continue;default:if(!((r=(r=s.trys).length>0&&r[r.length-1])||6!==o[0]&&2!==o[0])){s=0;continue}if(3===o[0]&&(!r||o[1]>r[0]&&o[1]<r[3])){s.label=o[1];break}if(6===o[0]&&s.label<r[1]){s.label=r[1],r=o;break}if(r&&s.label<r[2]){s.label=r[2],s.ops.push(o);break}r[2]&&s.ops.pop(),s.trys.pop();continue}o=e.call(t,s)}catch(a){o=[6,a],i=0}finally{n=r=0}if(5&o[0])throw o[1];return{value:o[0]?o[1]:void 0,done:!0}}([o,a])}}},f0=function(t){var e="function"==typeof Symbol&&Symbol.iterator,n=e&&t[e],i=0;if(n)return n.call(t);if(t&&"number"==typeof t.length)return{next:function(){return t&&i>=t.length&&(t=void 0),{value:t&&t[i++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")},m0=function(t,e){var n="function"==typeof Symbol&&t[Symbol.iterator];if(!n)return t;var i,r,o=n.call(t),s=[];try{for(;(void 0===e||e-- >0)&&!(i=o.next()).done;)s.push(i.value)}catch(a){r={error:a}}finally{try{i&&!i.done&&(n=o.return)&&n.call(o)}finally{if(r)throw r.error}}return s},g0=function(){for(var t=[],e=0;e<arguments.length;e++)t=t.concat(m0(arguments[e]));return t},y0=function(){function t(t){var e,n=this;this._violationWarningButtonCssClass="da-violation-icon",this._goodViolationIconCssClass="da-violation-icon-good",this._warningViolationIconCssClass="da-violation-icon-warning",this._violationBadIconCssClass="da-violation-icon-bad",this._qualityChangeContainerCssClass="da-quality-change-container",this._violationContainerCssClass="da-violation-container",this._qualityChangeScaleBarCssClass="da-quality-change-scale-bar",this._qualityBadToWarningChangeScaleBarCssClass="da-bad-to-warning",this._qualityWarningToGoodChangeScaleBarCssClass="da-warning-to-good",this._qualityBadToGoodChangeScaleBarCssClass="da-bad-to-good",this._qualityNoAnimationChangeScaleBarCssClass="da-no-animation",this._qualityChangeInfoBarCssClass="da-quality-change-info-bar",this._initialized=!1,this._zoomChangedEvent=new sB,this._workspaceSizeChangedEvent=new sB,this._beforeReplaceItemHandlerEvent=new rB,this._afterReplaceItemHandlerEvent=new rB,this._onSelectionLockedEvent=new rB,this.canvasItemHoverEnabled=!1,this._simpleMode=!0,this.handlerFactory=new PJ(this),this._throttleRedraw=pX.throttle(this._redraw,250),this._onBeforeReplaceItemHandler=function(t){n._beforeReplaceItemHandlerEvent.fire(t)},this._onAfterReplaceItemHandler=function(t){n._afterReplaceItemHandlerEvent.fire(t)},this._onItemRemoved=function(t){var e=t.item;if(e instanceof IV){var i=n.handlerFactory.get(e);n.isItemHandlerSelected(i)&&n.removeSelectedItemHandler(i),i.canvas=null,n.handlerFactory.delete(i)}},this._onContainersChanged=function(t){var e,i,r,o,s,a,l,c;try{for(var u=f0(t.removed),h=u.next();!h.done;h=u.next()){var d=h.value;try{for(var p=(r=void 0,f0(d.items)),f=p.next();!f.done;f=p.next())n._onItemRemoved({item:f.value})}catch(v){r={error:v}}finally{try{f&&!f.done&&(o=p.return)&&o.call(p)}finally{if(r)throw r.error}}}}catch(b){e={error:b}}finally{try{h&&!h.done&&(i=u.return)&&i.call(u)}finally{if(e)throw e.error}}n._updateLayers();try{for(var m=f0(t.added),g=m.next();!g.done;g=m.next())g.value.items.add_itemRemoved(n._onItemRemoved)}catch(w){s={error:w}}finally{try{g&&!g.done&&(a=m.return)&&a.call(m)}finally{if(s)throw s.error}}try{for(var y=f0(t.removed),_=y.next();!_.done;_=y.next())(d=_.value).items.remove_itemRemoved(n._onItemRemoved)}catch(C){l={error:C}}finally{try{_&&!_.done&&(c=y.return)&&c.call(y)}finally{if(l)throw l.error}}n.redraw()},this._updateLayers=function(){n.layers.clear(),n.layers.addRange(n._viewer.containersFlatList.map((function(t){return new LJ(t,n)}))),n.disabledLayers=n.disabledLayers.map((function(t){return n.layers.toArray().find((function(e){return e.container.id===t.container.id}))})).filter((function(t){return void 0!==t})),n.maskedLayers=n.maskedLayers.map((function(t){return n.layers.toArray().find((function(e){return e.container.id===t.container.id}))})).filter((function(t){return void 0!==t})),n._layersUpdatedEvent.notify(n,{})},this._onServiceImageContainerLoaded=function(t){n.redraw()},this._fontRegistryUpdated=null,this._isRedrawPaused=!1,this._viewer=t,this._prevWorkspaceSize={width:0,height:0},this._snapLinesHandler=new WJ,this._selection=new TK(this,this._snapLinesHandler),this._dndHandler=new MJ(this,this.viewer),this._hoverHandler=new BJ(this),this._rotateHandler=new DJ(this,this.viewer),this._canvasRenderer=new VJ(this._selection,this._dndHandler,this,null===(e=t.configuration)||void 0===e?void 0:e.handlers),this._canvasElementHandler=new zJ(this.viewer,this._selection,this._dndHandler,this._rotateHandler),this._mouseBehaviorManager=new n0(this._selection,this._viewer,this,this._hoverHandler,this._rotateHandler,this._dndHandler,this._canvasElementHandler),this.layers=new SK(this),this._disabledLayers=[],this._maskedLayers=[],this._workspaceWidth=72,this._workspaceHeight=72,this._zoom=1,this._targetDpi=null,this._hiddenFieldID="",this._parent=null,this._document=document,this._mouseMoveTimeout=100,this._disableSmoothing=!1,this._rotationGripSize=24,this._resizeGripSize=11,this._resizeGripColor="rgba(255,255,255,1)",this._rotationGripColor="rgba(0,0,255,0.2)",this._resizeGripLineColor="rgba(255,0,0,1)",this._rotationGripLineColor="rgba(112,112,112,1)",this._rotationGripLineLength=12,this._floatingItemToolbarEnabled=!1,this._violationWarningButtonsEnabled=!1,this._qualityChangeContainersEnabled=!0,this._floatingItemToolbarCssClass=null,this._placeholderButtonGroupCssClass=null,this._selectImageButtonCssClass=null,this._selectBarcodeButtonCssClass=null,this._doneButtonCssClass=null,this._handleButtonCssClass=null,this._deleteToolbarButtonCssClass=null,this._editToolbarButtonCssClass=null,this._selectToolbarButtonCssClass=null,this._bigButtonGroupCssClass=null,this._selectButtonTitle="Select image",this._editBarcodeButtonTitle="Edit barcode",this._doneButtonTitle="Done",this._handleButtonTitle="Handle",this._deleteButtonTitle="Delete item",this._editButtonTitle="Edit item",this._backgroundImage=null,this._loadingImageUrl=null,this._marginColor="rgba(100,255,100,1)",this._marginWidth=0,this._leftMargin=18,this._rightMargin=18,this._topMargin=18,this._bottomMargin=18,this._maxFontSize=null,this._minFontSize=null,this._maxLeading=null,this._minLeading=null,this._constrainedMarginEnabled=!1,this._keyEventEnabled=!0,this._selectionColor="rgba(0,0,255,0.7)",this._selectionWidth=2,this._handlerUrl=null,this._suppressOutOfRegionManipulation=!0,this._initialization=!1,this._callback=null,this._status=Vq.ready,this._callbackContext=0,this._callbackCount=0,this._rgbColorProfileFileId=null,this._cmykColorProfileFileId=null,this._grayscaleColorProfileFileId=null,this._returnValue=null,this._tags={},this._ready=!1,this._serviceEndpoint=null,this._service=null,this._sendingRequestEvent=new sB,this._requestCompleteEvent=new sB,this._statusChangedEvent=new sB,this._callbackExceptionEvent=new sB,this._initializedEvent=new sB,this._invokingCallbackRequestEvent=new sB,this._currentItemHandlerChangedEvent=new rB,this._selectedItemHandlersChangedEvent=new sB,this._dragNDropDoneEvent=new sB,this._dragNDropStartingEvent=new sB,this._dragNDropPerformedEvent=new sB,this._readyEvent=new sB,this._layersUpdatedEvent=new sB,this._floatingItemToolbarEnabled=!1,this._autoPlaceholderEditModeEnabled=!1,this.handlerFactory.beforeReplaceItemHandlerEvent.add(this._onBeforeReplaceItemHandler),this.handlerFactory.afterReplaceItemHandlerEvent.add(this._onAfterReplaceItemHandler),this._initContainersObservation()}return Object.defineProperty(t.prototype,"snapLinesHandler",{get:function(){return this._snapLinesHandler},enumerable:!0,configurable:!0}),t.prototype._initContainersObservation=function(){var t,e;this._updateLayers();try{for(var n=f0(this._viewer.containersFlatList),i=n.next();!i.done;i=n.next())i.value.items.add_itemRemoved(this._onItemRemoved)}catch(r){t={error:r}}finally{try{i&&!i.done&&(e=n.return)&&e.call(n)}finally{if(t)throw t.error}}this._viewer.containersFlatListChangedEvent.add(this._onContainersChanged)},t.prototype.setHistory=function(t){this._history=t,this._selection.history=t},Object.defineProperty(t.prototype,"conf",{set:function(t){this._canvasRenderer.conf=null==t?void 0:t.handlers,this.snapLinesHandler.setConfiguration(null==t?void 0:t.snapLines)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"mouseBehaviorManager",{get:function(){return this._mouseBehaviorManager},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"history",{get:function(){return this._history},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"dndHandler",{get:function(){return this._dndHandler},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"hiddenFieldID",{get:function(){return this._hiddenFieldID},set:function(t){this._hiddenFieldID=t},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"rgbColorProfileFileId",{get:function(){return this._rgbColorProfileFileId},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"cmykColorProfileFileId",{get:function(){return this._cmykColorProfileFileId},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"grayscaleColorProfileFileId",{get:function(){return this._grayscaleColorProfileFileId},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"serviceEndpoint",{get:function(){return this._serviceEndpoint},set:function(t){this._serviceEndpoint=t,this.service=t?new CK(t):null},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"service",{get:function(){return this._service},set:function(t){null!=this._service&&this._service.imageLoaderService.removeImageContainerLoaded(this._onServiceImageContainerLoaded),this._service=t,null!=this._service&&this._service.imageLoaderService.addImageContainerLoaded(this._onServiceImageContainerLoaded)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"viewer",{get:function(){return this._viewer},enumerable:!0,configurable:!0}),t.prototype.setTextWhizzModule=function(t,e){var n,i;this._textWhizz=t,this._setFontRegistry(new r0(this._textWhizz,e)),this.textEditor instanceof oJ&&this.textEditor.setTextWhizz(this._textWhizz);var r=this._canvasElementHandler.staticTextCanvas,o=this._canvasElementHandler.activeTextCanvas,s=!eF.IsFirefox()&&this._textWhizz.isHardwareAccelerationAvailable("#"+r.id);s||(r=this._canvasElementHandler.replaceStaticTextCanvas(),console.warn("WebGL text rendering is not supported")),this._textRenderer=s?new s0(r,o,t,this.zoom,this.offset):new l0(r,o,t,this.zoom,this.offset);var a=this.getAllItemHandlers({flatGroupItems:!0});try{for(var l=f0(a),c=l.next();!c.done;c=l.next())c.value.onTextWhizzInit()}catch(u){n={error:u}}finally{try{c&&!c.done&&(i=l.return)&&i.call(l)}finally{if(n)throw n.error}}},Object.defineProperty(t.prototype,"textWhizz",{get:function(){return this._textWhizz},enumerable:!0,configurable:!0}),t.prototype._setFontRegistry=function(t){this._fontRegistry=t,null!=this._fontRegistryUpdated&&this._fontRegistryUpdated.resolve()},Object.defineProperty(t.prototype,"fontRegistry",{get:function(){return this._fontRegistry},enumerable:!0,configurable:!0}),t.prototype.waitFontRegistryInitialized=function(){return null!=this._fontRegistry?Promise.resolve():(null==this._fontRegistryUpdated&&(this._fontRegistryUpdated=new CX),this._fontRegistryUpdated.promise)},Object.defineProperty(t.prototype,"textEditor",{get:function(){return this._textEditor},set:function(t){this._textEditor=t,this._textEditor instanceof oJ&&this._textWhizz&&this._textEditor.setTextWhizz(this._textWhizz)},enumerable:!0,configurable:!0}),t.prototype.initTextEditor=function(t,e,n,i){var r;this.textEditor=t==eX.None?null:t==eX.Html||eF.IsTouchDevice()?new EY(this._canvasElementHandler):new oJ(this,this._canvasElementHandler),null===(r=this._textEditor)||void 0===r||r.init(e,n,i)},Object.defineProperty(t.prototype,"textRenderer",{get:function(){return this._textRenderer},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"simpleMode",{get:function(){return this._simpleMode},set:function(t){this._simpleMode=t,this.clearSelectedItemHandlers(),this.redraw()},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"offset",{get:function(){return this._offset},set:function(t){null!=t&&t.equals(this._offset)||null==t&&null!=this.offset||(this._offset=t,this._canvasRenderer.offset=t,this._canvasElementHandler.offset=t,null!=this._textRenderer&&(this._textRenderer.offset=t),this.redraw())},enumerable:!0,configurable:!0}),t.prototype.alignItemHandler=function(t,e){if(t&&!this.isLockedOrDisabled(t)&&!this._simpleMode){var n=t instanceof _K&&!("verticalCenter"===e||"horizontalCenter"===e),i=n?t.getBoundsIncludingFrames():t.bounds,r=t.rectangle,o=t.rectangle,s=t.layer.region,a=t.getPermissions();s?"left"===e?o.centerX=a.allowMoveHorizontal?s.left+i.width/2:o.centerX:"horizontalCenter"===e?o.centerX=a.allowMoveHorizontal?s.left+s.width/2:o.centerX:"right"===e?o.centerX=a.allowMoveHorizontal?s.left+s.width-i.width/2:o.centerX:"top"===e?o.centerY=a.allowMoveVertical?s.top+i.height/2:o.centerY:"verticalCenter"===e?o.centerY=a.allowMoveVertical?s.top+s.height/2:o.centerY:"bottom"===e&&(o.centerY=a.allowMoveVertical?s.top+s.height-i.height/2:o.centerY):"left"===e?o.centerX=a.allowMoveHorizontal?this.leftMargin+i.width/2:o.centerX:"horizontalCenter"===e?o.centerX=a.allowMoveHorizontal?this.leftMargin+(this.workspaceWidth-this.rightMargin-this.leftMargin)/2:o.centerX:"right"===e?o.centerX=a.allowMoveHorizontal?this.workspaceWidth-this.rightMargin-i.width/2:o.centerX:"top"===e?o.centerY=a.allowMoveVertical?this.topMargin+i.height/2:o.centerY:"verticalCenter"===e?o.centerY=a.allowMoveVertical?this.topMargin+(this.workspaceHeight-this.bottomMargin-this.topMargin)/2:o.centerY:"bottom"===e&&(o.centerY=a.allowMoveVertical?this.workspaceHeight-this.bottomMargin-i.height/2:o.centerY),n&&!this.isLockedOrDisabled(t)&&("bottom"!==e&&"top"!==e||!t.getPermissions().allowMoveVertical||(o.centerY-=i.top+i.height/2-r.centerY),"left"!==e&&"right"!==e||!t.getPermissions().allowMoveHorizontal||(o.centerX-=i.left+i.width/2-r.centerX)),t instanceof _K?(t.setRectangle(o,null,!0),t.updateContentAndFrames((function(t){var e=t.rectangle;e.centerX+=o.centerX-r.centerX,e.centerY+=o.centerY-r.centerY,t.setRectangle(e)}))):t instanceof SJ?t.setRectangle(o,null,!0):t.setRectangle(o),this._selection.update(),this.redraw()}},t.prototype.alignItemHandlers=function(t){if(!this._simpleMode){var e=this.getSelectedItemHandlers();if(e.length>1){for(var n=this._selection.visibleRectangle,i=0;i<e.length;i++){var r=e.getItem(i);if(!this.isLockedOrDisabled(r)){var o=r.rectangle,s=r.rectangle,a=s.bounds;"left"===t?s.centerX=r.getPermissions().allowMoveHorizontal?n.location.x+a.width/2:s.centerX:"horizontalCenter"===t?s.centerX=r.getPermissions().allowMoveHorizontal?n.centerX:s.centerX:"right"===t?s.centerX=r.getPermissions().allowMoveHorizontal?n.getBottomRightCorner().x-a.width/2:s.centerX:"top"===t?s.centerY=r.getPermissions().allowMoveVertical?n.location.y+a.height/2:s.centerY:"verticalCenter"===t?s.centerY=r.getPermissions().allowMoveVertical?n.centerY:s.centerY:"bottom"===t&&(s.centerY=r.getPermissions().allowMoveVertical?n.getBottomRightCorner().y-a.height/2:s.centerY),r.setRectangle(s),r instanceof _K&&r.updateContentAndFrames((function(t){var e=t.rectangle;e.centerX+=s.centerX-o.centerX,e.centerY+=s.centerY-o.centerY,t.setRectangle(e)})),this._selection.update(),this.redraw()}}this.updateTexts()}}},Object.defineProperty(t.prototype,"handlerUrl",{get:function(){return this._handlerUrl},set:function(t){this._handlerUrl=t},enumerable:!0,configurable:!0}),t.prototype._deleteSelectedItemHandlersWithoutConfirm=function(){for(var t=!1,e=this.getSelectedItemHandlers().toArray(),n=0;n<e.length;n++){var i=e[n];this._canDeleteItemHandler(i)&&(i.item.parentContainer.items.remove(i.item),t=!0)}t&&(this.updateTexts(),this.updateSelection(),this.redraw())},t.prototype._canDeleteItemHandler=function(t){return!this.simpleMode&&null!=t&&null!=t.layer&&!this.isLockedOrDisabled(t)&&!t.layer.locked&&t.visible&&t.layer.getVisible()&&t.getPermissions()&&t.getPermissions().allowDelete},t.prototype.deleteSelectedItemHandlers=function(t){void 0===t&&(t=!1);for(var e=!0,n=this.getSelectedItemHandlers(),i=0;i<n.length;i++){var r=n.getItem(i);if(!this._canDeleteItemHandler(r)){e=!1;break}}e&&this.viewer.commandManager.execute(UQ.deleteItems,{items:n.toArray().map((function(t){return t.item})),force:t})},Object.defineProperty(t.prototype,"ready",{get:function(){return this._ready},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"tags",{get:function(){return this._tags},set:function(t){this._tags=t},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"width",{get:function(){return this._workspaceWidth*this._zoom*eF.screenDpi/72},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"height",{get:function(){return this._workspaceHeight*this._zoom*eF.screenDpi/72},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"keyEventEnabled",{get:function(){return this._keyEventEnabled},set:function(t){this._keyEventEnabled=t},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"marginColor",{get:function(){return this._marginColor},set:function(t){this._marginColor=t},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"marginWidth",{get:function(){return this._marginWidth},set:function(t){this._marginWidth=t},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"selectionColor",{get:function(){return this._selectionColor},set:function(t){this._selectionColor=t,this._updateGripsAndHoverDiv()},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"selectionWidth",{get:function(){return this._selectionWidth},set:function(t){this._selectionWidth=t,this._updateGripsAndHoverDiv()},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"margin",{get:function(){return Math.min(this._leftMargin,this._topMargin,this._rightMargin,this._bottomMargin)},set:function(t){this._leftMargin=t,this._rightMargin=t,this._topMargin=t,this._bottomMargin=t},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"leftMargin",{get:function(){return this._leftMargin},set:function(t){this._leftMargin!==t&&(this._leftMargin=t)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"rightMargin",{get:function(){return this._rightMargin},set:function(t){this._rightMargin!==t&&(this._rightMargin=t)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"topMargin",{get:function(){return this._topMargin},set:function(t){this._topMargin!==t&&(this._topMargin=t)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"bottomMargin",{get:function(){return this._bottomMargin},set:function(t){this._bottomMargin!==t&&(this._bottomMargin=t)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"constrainedMarginEnabled",{get:function(){return this._constrainedMarginEnabled},set:function(t){this._constrainedMarginEnabled=t},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"targetDpi",{get:function(){return this._targetDpi},set:function(t){this._targetDpi=t},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"suppressOutOfRegionManipulation",{get:function(){return this._suppressOutOfRegionManipulation},set:function(t){this._suppressOutOfRegionManipulation=t},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"floatingItemToolbarEnabled",{get:function(){return this._floatingItemToolbarEnabled},set:function(t){this._floatingItemToolbarEnabled=t,t?this._addFloatingItemToolbars():this._removeFloatingItemToolbars()},enumerable:!0,configurable:!0}),t.prototype.setViolationContainersEnabled=function(t,e){this._violationWarningButtonsEnabled=t,this._qualityChangeContainersEnabled=e,this._removeViolationContainers(),(t||e)&&this._addViolationContainers()},Object.defineProperty(t.prototype,"violationWarningButtonsEnabled",{get:function(){return this._violationWarningButtonsEnabled},set:function(t){this._violationWarningButtonsEnabled=t},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"qualityChangeContainersEnabled",{get:function(){return this._qualityChangeContainersEnabled},set:function(t){this._qualityChangeContainersEnabled=t},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"maxFontSize",{get:function(){return this._maxFontSize},set:function(t){this._maxFontSize=t},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"minFontSize",{get:function(){return this._minFontSize},set:function(t){this._minFontSize=t},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"maxLeading",{get:function(){return this._maxLeading},set:function(t){this._maxLeading=t},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"minLeading",{get:function(){return this._minLeading},set:function(t){this._minLeading=t},enumerable:!0,configurable:!0}),t.prototype.getCallService=function(t,e,n,i,r){void 0===r&&(r=null);var o=this,s=Uq.makeCancelable(new Promise((function(n,i){var s,a=[o.getData(!0,r)];null!=e&&(a=a.concat(e)),a=a.concat(n,(function(t,e,n){i({error:t,userContext:e,methodName:n})})),(s=o.service)[t].apply(s,g0(a))})));return s.promise.then((function(t){"function"==typeof n&&n(t)})).catch((function(t){t instanceof GR?console.error("Exception of type "+t.name+": "+t.message):t.isCanceled||"function"==typeof i&&i(t.error)})),s},t.prototype.updateColors=function(t){var e,n,i,r,o,s=this;void 0===t&&(t=null);var a=null!=t?new Array(t):this.getAllItemHandlers({onlyVisible:!0}),l=new Array;try{for(var c=f0(a),u=c.next();!u.done;u=c.next()){var h=u.value;h.validateActiveColorWebServiceCall();var d=h.getColorData();d.isEmpty()||l.push(d)}}catch(y){e={error:y}}finally{try{u&&!u.done&&(n=c.return)&&n.call(c)}finally{if(e)throw e.error}}if(0===l.length)return Promise.resolve();var p=this.getCallService("UpdateByColorData",JSON.stringify(l),(function(t){var e,n,i=JSON.parse(t),r=function(t){var e=a.find((function(e){return e.item.id===t.id}));null!=e&&(e.setColorData(t),e.onSuccessResponse(Xq.Color))};try{for(var o=f0(i),l=o.next();!l.done;l=o.next())r(l.value)}catch(c){e={error:c}}finally{try{l&&!l.done&&(n=o.return)&&n.call(o)}finally{if(e)throw e.error}}s.redraw()}),(function(t){var e,n;console.log(t);try{for(var i=f0(a),r=i.next();!r.done;r=i.next())r.value.onErrorResponse(t)}catch(o){e={error:o}}finally{try{r&&!r.done&&(n=i.return)&&n.call(i)}finally{if(e)throw e.error}}})),f=function(e){null===(o=a.find((function(t){return t.item.id===e.id})))||void 0===o||o.updateActiveColorWebServiceCall(p,null==t)};try{for(var m=f0(l),g=m.next();!g.done;g=m.next())f(g.value)}catch(_){i={error:_}}finally{try{g&&!g.done&&(r=m.return)&&r.call(m)}finally{if(i)throw i.error}}return p.promise},t.prototype.waitUpdate=function(t){void 0===t&&(t=null);var e=null!=t?t:this.getAllItemHandlers();return Promise.all(e.map((function(t){return t.waitUpdate()})))},Object.defineProperty(t.prototype,"status",{get:function(){return this._status},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"surfaceCanvas",{get:function(){return this._canvasElementHandler.surfaceCanvas},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"multipleSelectionEnabled",{get:function(){return this._selection.multipleSelectionEnabled},set:function(t){this._selection.multipleSelectionEnabled=t},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"mouseMoveTimeout",{get:function(){return this._mouseMoveTimeout},set:function(t){this._mouseMoveTimeout=t},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"disableSmoothing",{get:function(){return this._disableSmoothing},set:function(t){this._disableSmoothing=t},enumerable:!0,configurable:!0}),t.prototype.getAllItemHandlers=function(t){t=function(t){return null==t&&(t={}),pX.defaults(t,{excludeGroupItems:!1,flatGroupItems:!1,onlyVisible:!1,onlyUnlocked:!1,whiteListFilter:function(t){return!1}})}(t);var e=this;return this.layers.toArray().map((function(t){return t.itemHandlers.toArray()})).reduce((function(t,e){return t.concat(e)}),[]).reduce((function(e,n){return e.push(n),t.flatGroupItems&&n instanceof tY&&e.push.apply(e,g0(n.getNestedItemHandlers())),e}),[]).filter((function(n){if(t.whiteListFilter(n))return!0;var i=!0;return t.excludeGroupItems&&(i=i&&!(n instanceof tY)),t.onlyVisible&&i&&(i=(i=(i=i&&null!=n.layer&&n.layer.getVisible())&&n.visible)&&!n.getPermissions().noShow),t.onlyUnlocked&&i&&(i=!n.layer.locked&&!e.isLockedOrDisabled(n)),t.onlyType&&i&&(Array.isArray(t.onlyType)||(t.onlyType=[t.onlyType]),i=!1,t.onlyType.some((function(t){if(n instanceof t)return i=!0,!0}))),i}))},Object.defineProperty(t.prototype,"previewMode",{get:function(){var t,e;return null!==(e=null===(t=this._canvasRenderer)||void 0===t?void 0:t.previewMode)&&void 0!==e&&e},set:function(t){if(null==this._canvasRenderer)throw new GR("CanvasRendere is not initialized!");this._canvasRenderer.previewMode=t,this.redraw()},enumerable:!0,configurable:!0}),t.prototype.flatGroupItemsInLayer=function(t){var e=t.itemHandlers.toArray();return new JH(e.reduce((function(t,e){return t.concat(e instanceof tY?g0([e],e.getNestedItemHandlers(!0)):e)}),[]))},t.prototype.updateTexts=function(t){void 0===t&&(t=null);for(var e=function(t){return t instanceof cK||t instanceof hK||t instanceof gJ},n=e(t)?t.uniqueId:null,i=this.layers,r=0,o=i.length;r<o;r++){var s=i.getItem(r);if(s.getVisible())for(var a=this.flatGroupItemsInLayer(s),l=0,c=a.length;l<c;l++){var u=a.getItem(l);u.uniqueId!==n&&e(u)&&u.visible&&!u.getPermissions().noShow&&this._updateWrappingRectangles(u)}}},Object.defineProperty(t.prototype,"backgroundImage",{set:function(t){this._backgroundImage=t},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"isSquaredBackground",{get:function(){return this._isSquaredBackground},set:function(t){if(this._isSquaredBackground=t,this.isInitialized){var e="url("+this._backgroundImage+") repeat";this._isSquaredBackground||(e="transparent"),this.surfaceCanvas.style.background=e}},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"loadingImageUrl",{get:function(){return this._loadingImageUrl},set:function(t){"string"==typeof t&&this._loadingImageUrl!==t&&(this._loadingImageUrl=t,this._canvasRenderer.setLoadingImageUrl(t))},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"workspaceWidth",{get:function(){return this._workspaceWidth},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"workspaceHeight",{get:function(){return this._workspaceHeight},enumerable:!0,configurable:!0}),t.prototype.setWorkspaceSize=function(t,e,n){gB(this._workspaceWidth,t)&&gB(this._workspaceHeight,e)||(this._workspaceWidth=t,this._workspaceHeight=e,this._workspaceSizeChangedEvent.notify(this,n))},t.prototype.begin_initialization=function(){this._initialization=!0,this._prevWorkspaceSize={width:this._workspaceWidth,height:this._workspaceHeight},this.service.beginMultiCall()},t.prototype.end_initialization=function(t){void 0===t&&(t=!1),this._initialization=!1,(t||this._workspaceWidth!==this._prevWorkspaceSize.width||this._workspaceHeight!==this._prevWorkspaceSize.height)&&this._workspaceSizeChangedEvent.notify(this,{}),this.service.endMultiCall()},Object.defineProperty(t.prototype,"initialization",{get:function(){return this._initialization},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"rotationGripColor",{get:function(){return this._rotationGripColor},set:function(t){this._rotationGripColor=t,this._updateGripsAndHoverDiv()},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"resizeGripColor",{get:function(){return this._resizeGripColor},set:function(t){this._resizeGripColor=t,this._updateGripsAndHoverDiv()},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"rotationGripSize",{get:function(){return this._rotationGripSize},set:function(t){this._rotationGripSize=t,this._updateGripsAndHoverDiv()},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"resizeGripSize",{get:function(){return this._resizeGripSize},set:function(t){this._resizeGripSize=t,this._updateGripsAndHoverDiv()},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"resizeGripLineColor",{get:function(){return this._resizeGripLineColor},set:function(t){this._resizeGripLineColor=t,this._updateGripsAndHoverDiv()},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"rotationGripLineColor",{get:function(){return this._rotationGripLineColor},set:function(t){this._rotationGripLineColor=t,this._updateGripsAndHoverDiv()},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"rotationGripLineLength",{get:function(){return this._rotationGripLineLength},set:function(t){this._rotationGripLineLength=t,this._updateGripsAndHoverDiv()},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"placeholderButtonGroupCssClass",{get:function(){return this._placeholderButtonGroupCssClass},set:function(t){this._placeholderButtonGroupCssClass=t},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"floatingItemToolbarCssClass",{get:function(){return this._floatingItemToolbarCssClass},set:function(t){this._floatingItemToolbarCssClass=t},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"violationContainerCssClass",{get:function(){return this._violationContainerCssClass},set:function(t){this._violationContainerCssClass=t},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"selectImageButtonCssClass",{get:function(){return this._selectImageButtonCssClass},set:function(t){this._selectImageButtonCssClass=t},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"selectBarcodeButtonCssClass",{get:function(){return this._selectBarcodeButtonCssClass},set:function(t){this._selectBarcodeButtonCssClass=t},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"handleButtonCssClass",{get:function(){return this._handleButtonCssClass},set:function(t){this._handleButtonCssClass=t},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"doneButtonCssClass",{get:function(){return this._doneButtonCssClass},set:function(t){this._doneButtonCssClass=t},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"violationWarningButtonCssClass",{get:function(){return this._violationWarningButtonCssClass},set:function(t){this._violationWarningButtonCssClass=t},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"qualityChangeContainerCssClass",{get:function(){return this._qualityChangeContainerCssClass},set:function(t){this._qualityChangeContainerCssClass=t},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"qualityChangeScaleBarCssClass",{get:function(){return this._qualityChangeScaleBarCssClass},set:function(t){this._qualityChangeScaleBarCssClass=t},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"qualityBadToWarningChangeScaleBarCssClass",{get:function(){return this._qualityBadToWarningChangeScaleBarCssClass},set:function(t){this._qualityBadToWarningChangeScaleBarCssClass=t},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"qualityWarningToGoodChangeScaleBarCssClass",{get:function(){return this._qualityWarningToGoodChangeScaleBarCssClass},set:function(t){this._qualityWarningToGoodChangeScaleBarCssClass=t},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"qualityBadToGoodChangeScaleBarCssClass",{get:function(){return this._qualityBadToGoodChangeScaleBarCssClass},set:function(t){this._qualityBadToGoodChangeScaleBarCssClass=t},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"qualityNoAnimationChangeScaleBarCssClass",{get:function(){return this._qualityNoAnimationChangeScaleBarCssClass},set:function(t){this._qualityNoAnimationChangeScaleBarCssClass=t},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"qualityChangeInfoBarCssClass",{get:function(){return this._qualityChangeInfoBarCssClass},set:function(t){this._qualityChangeInfoBarCssClass=t},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"deleteToolbarButtonCssClass",{get:function(){return this._deleteToolbarButtonCssClass},set:function(t){this._deleteToolbarButtonCssClass=t},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"editToolbarButtonCssClass",{get:function(){return this._editToolbarButtonCssClass},set:function(t){this._editToolbarButtonCssClass=t},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"selectToolbarButtonCssClass",{get:function(){return this._selectToolbarButtonCssClass},set:function(t){this._selectToolbarButtonCssClass=t},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"bigButtonGroupCssClass",{get:function(){return this._bigButtonGroupCssClass},set:function(t){this._bigButtonGroupCssClass=t},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"goodViolationIconCssClass",{get:function(){return this._goodViolationIconCssClass},set:function(t){this._goodViolationIconCssClass=t},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"warningViolationIconCssClass",{get:function(){return this._warningViolationIconCssClass},set:function(t){this._warningViolationIconCssClass=t},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"badViolationIconCssClass",{get:function(){return this._violationBadIconCssClass},set:function(t){this._violationBadIconCssClass=t},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"selectButtonTitle",{get:function(){return this._selectButtonTitle},set:function(t){this.setSelectButtonTitle(t)},enumerable:!0,configurable:!0}),t.prototype.setSelectButtonTitle=function(t,e){return void 0===e&&(e=!1),this.selectButtonTitle!==(t=null!=t?t:"")&&(this._selectButtonTitle=t,e||this.updatePlaceholderButtonGroups(),!0)},Object.defineProperty(t.prototype,"editBarcodeButtonTitle",{get:function(){return this._editBarcodeButtonTitle},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"EditBarcodeButtonTitle",{set:function(t){this.setEditBarcodeButtonTitle(t)},enumerable:!0,configurable:!0}),t.prototype.setEditBarcodeButtonTitle=function(t,e){return void 0===e&&(e=!1),this.editBarcodeButtonTitle!==(t=null!=t?t:"")&&(this._editBarcodeButtonTitle=t,e||this.updatePlaceholderButtonGroups(),!0)},Object.defineProperty(t.prototype,"replaceGroupContentButtonTitle",{get:function(){return this._replaceGroupContentButtonTitle},set:function(t){this.setReplaceGroupContentButtonTitle(t)},enumerable:!0,configurable:!0}),t.prototype.setReplaceGroupContentButtonTitle=function(t,e){return void 0===e&&(e=!1),this.replaceGroupContentButtonTitle!==(t=null!=t?t:"")&&(this._replaceGroupContentButtonTitle=t,e||this.updatePlaceholderButtonGroups(),!0)},Object.defineProperty(t.prototype,"handleButtonTitle",{get:function(){return this._handleButtonTitle},set:function(t){this.setHandleButtonTitle(t)},enumerable:!0,configurable:!0}),t.prototype.setHandleButtonTitle=function(t,e){return void 0===e&&(e=!1),this.handleButtonTitle!==(t=null!=t?t:"")&&(this._handleButtonTitle=t,e||this.updatePlaceholderButtonGroups(),!0)},Object.defineProperty(t.prototype,"doneButtonTitle",{get:function(){return this._doneButtonTitle},set:function(t){this.setDoneButtonTitle(t)},enumerable:!0,configurable:!0}),t.prototype.setDoneButtonTitle=function(t,e){return void 0===e&&(e=!1),this.doneButtonTitle!==(t=null!=t?t:"")&&(this._doneButtonTitle=t,e||this.updatePlaceholderButtonGroups(),!0)},Object.defineProperty(t.prototype,"deleteButtonTitle",{get:function(){return this._deleteButtonTitle},set:function(t){this.setDeleteButtonTitle(t)},enumerable:!0,configurable:!0}),t.prototype.setDeleteButtonTitle=function(t,e){return void 0===e&&(e=!1),this.deleteButtonTitle!==(t=null!=t?t:"")&&(this._deleteButtonTitle=t,e||this.updatePlaceholderButtonGroups(),!0)},Object.defineProperty(t.prototype,"editButtonTitle",{get:function(){return this._editButtonTitle},set:function(t){this.setEditButtonTitle(t)},enumerable:!0,configurable:!0}),t.prototype.setEditButtonTitle=function(t,e){return void 0===e&&(e=!1),this.editButtonTitle!==(t=null!=t?t:"")&&(this._editButtonTitle=t,e||this.updatePlaceholderButtonGroups(),!0)},t.prototype.setZoom=function(t,e,n){var i;null==n&&(n={}),null==n.force&&(n.force=!1),null==n.updateButtonGroup&&(n.updateButtonGroup=!0),(t!==this._zoom||n.force)&&(this._zoom=t,null===(i=this._textRenderer)||void 0===i||i.setZoom(this._zoom),this._initialization||(this._updateCanvasElementSize(n.updateButtonGroup),e||this._zoomChangedEvent.notify(this,{})))},Object.defineProperty(t.prototype,"zoom",{get:function(){return this._zoom},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"autoPlaceholderEditModeEnabled",{get:function(){return this._autoPlaceholderEditModeEnabled},set:function(t){null!=t&&null!=t&&(this._autoPlaceholderEditModeEnabled=t)},enumerable:!0,configurable:!0}),t.prototype.calcPlatformLimitZoom=function(){var t=nW(this.workspaceWidth,eF.screenDpi),e=nW(this.workspaceHeight,eF.screenDpi),n=function(n){return Math.sqrt(n/(t*e))},i=function(n,i){return Math.min(n/t,i/e)};if(eF.IsIos()){var r=eF.GetIosVersion();return n("number"==typeof r[0]&&r[0]>=9&&"number"==typeof r[1]&&r[1]>=3?16e6:5e6)}return eF.IsIE()||eF.IsEdge()?i(8192,8192):eF.IsGoogleChrome()?Math.min(i(32767,32767),n(268435456)):eF.IsSafariOrSafariWebView()?Math.min(i(32767,32767)):eF.IsFirefox()?Math.min(i(32767,32767),n(472907776)):2147483647},t.prototype._updateCanvasElementSize=function(t){var e=this.width,n=this.height;this._canvasElementSize||(this._canvasElementSize={});var i=this._canvasElementSize;e===i.width&&n===i.height||(i.width=e,i.height=n,this._canvasElementHandler.updateElementSize(e,n)),(null==t||t)&&this.updateButtonGroups()},t.prototype.updateSelection=function(){if(this.getSelectedItemHandlers().where((function(t){return!t.isVisible()})).toArray().length>0&&this.getSelectedItemHandlers().where((function(t){return t.isVisible()})).toArray(),this._selection.update(),this._floatingItemToolbarEnabled){var t=this.getSelectedItemHandlers().where((function(t){return t.isVisible()})).firstOrDefault();null!=t&&null!=t.floatingItemToolbar&&this.isOnlyThisItemHandlerSelected(t)&&this.updateFloatingItemToolbar(t)}},t.prototype.getSelectedItemHandlers=function(){return this._selection.getSelectedItemHandlers()},t.prototype.setSelectedItemHandlers=function(t){this._selection.setSelectedItemHandlers(t)},t.prototype.isItemHandlerSelected=function(t){return this._selection.isItemHandlerSelected(t)},t.prototype.isOnlyThisItemHandlerSelected=function(t){return this._selection.isOnlyThisItemHandlerSelected(t)},t.prototype.addSelectedItemHandler=function(t){this._selection.addSelectedItemHandler(t)},t.prototype.removeSelectedItemHandler=function(t){this._selection.removeSelectedItemHandler(t)},t.prototype.clearSelectedItemHandlers=function(){this._selection.clearSelectedItemHandlers()},Object.defineProperty(t.prototype,"currentItemHandler",{get:function(){return this._selection.currentItemHandler},enumerable:!0,configurable:!0}),t.prototype._onDragNDropStarting=function(t){this._dragNDropStartingEvent.notify(this,t)},t.prototype._onDragNDropDone=function(){this._dragNDropDoneEvent.notify(this)},t.prototype._onDragNDropPerformed=function(t){this._dragNDropPerformedEvent.notify(this,t),this._currentItemHandlerChangedEvent.notify(this.currentItemHandler)},t.prototype.onCurrentItemHandlerChanged=function(t){this._mouseBehaviorManager.isSelectionMouseBehavior&&null==t&&this._viewer.setCursor(Gq.defaultCursor),this._currentItemHandlerChangedEvent.notify(t)},t.prototype.onSelectionLocked=function(){this._onSelectionLockedEvent.notify(this)},t.prototype.enableSelection=function(){this._selection.enable()},t.prototype.disableSelection=function(){this._selection.disable()},t.prototype.isSelectionLocked=function(){return this._selection.isLocked},Object.defineProperty(t.prototype,"layers",{get:function(){return this._layers},set:function(t){this._layers=t},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"disabledLayers",{get:function(){return this._disabledLayers},set:function(t){this._disabledLayers=t},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"maskedLayers",{get:function(){return this._maskedLayers},set:function(t){this._maskedLayers=t},enumerable:!0,configurable:!0}),t.prototype.getData=function(t,e){void 0===t&&(t=!1),void 0===e&&(e=null);var n=new FJ(this,t,e);return JSON.stringify(n)},Object.defineProperty(t.prototype,"returnValue",{get:function(){return this._returnValue},enumerable:!0,configurable:!0}),t.prototype.add_zoomChanged=function(t){this._zoomChangedEvent.add(t)},t.prototype.remove_zoomChanged=function(t){this._zoomChangedEvent.remove(t)},t.prototype.add_statusChanged=function(t){this._statusChangedEvent.add(t)},t.prototype.remove_statusChanged=function(t){this._statusChangedEvent.remove(t)},t.prototype.add_callbackException=function(t){this._callbackExceptionEvent.add(t)},t.prototype.remove_callbackException=function(t){this._callbackExceptionEvent.remove(t)},t.prototype.add_initialized=function(t){this._initializedEvent.add(t)},t.prototype.remove_initialized=function(t){this._initializedEvent.remove(t)},t.prototype.add_invokingCallbackRequest=function(t){this._invokingCallbackRequestEvent.add(t)},t.prototype.remove_invokingCallbackRequest=function(t){this._invokingCallbackRequestEvent.remove(t)},t.prototype.raiseMouseMove=function(t){this._onMouseMove(t)},t.prototype.raiseMouseUp=function(t){this._onMouseUp(t)},t.prototype.raiseMouseDown=function(t){this._onMouseDown(t)},t.prototype.raiseDoubleClick=function(t){this._onDoubleClick(t)},t.prototype.raiseKeyDown=function(t){this._keyEventEnabled&&this._onKeyDown(t)},t.prototype.raisePinch=function(t){this.currentItemHandler.editing&&(t.preventDefault(),t.gesture.preventDefault(),this._selection.processPinch(t),this.redrawDesign(),this.updateSelection())},t.prototype.raiseRelease=function(){var t=this.currentItemHandler;null!=t&&(t.update(),this.updateViolationContainer(t,!0))},t.prototype.raiseKeyUp=function(t){this._keyEventEnabled&&this._onKeyUp(t)},t.prototype.raiseTouchStart=function(t){var e;null===(e=this._mouseBehaviorManager.currentMouseBehaviorHandler)||void 0===e||e.onTouchStart(t)},t.prototype.add_currentItemHandlerChanged=function(t){this._currentItemHandlerChangedEvent.add(t)},t.prototype.remove_currentItemHandlerChanged=function(t){this._currentItemHandlerChangedEvent.remove(t)},t.prototype.add_selectedItemHandlerChanged=function(t){this._selectedItemHandlersChangedEvent.add(t)},t.prototype.remove_selectedItemHandlerChanged=function(t){this._selectedItemHandlersChangedEvent.remove(t)},t.prototype.add_dragNDropDone=function(t){this._dragNDropDoneEvent.add(t)},t.prototype.remove_dragNDropDone=function(t){this._dragNDropDoneEvent.remove(t)},t.prototype.add_dragNDropStarting=function(t){this._dragNDropStartingEvent.add(t)},t.prototype.remove_dragNDropStarting=function(t){this._dragNDropStartingEvent.remove(t)},t.prototype.add_dragNDropPerformed=function(t){this._dragNDropPerformedEvent.add(t)},t.prototype.remove_dragNDropPerformed=function(t){this._dragNDropPerformedEvent.remove(t)},t.prototype.add_ready=function(t){this._readyEvent.add(t)},t.prototype.remove_ready=function(t){this._readyEvent.remove(t)},t.prototype.add_workspaceSizeChanged=function(t){this._workspaceSizeChangedEvent.add(t)},t.prototype.remove_workspaceSizeChanged=function(t){this._workspaceSizeChangedEvent.remove(t)},t.prototype.add_layersUpdated=function(t){this._layersUpdatedEvent.add(t)},t.prototype.remove_layersUpdated=function(t){this._layersUpdatedEvent.remove(t)},t.prototype.add_beforeReplaceItemHandler=function(t){this._beforeReplaceItemHandlerEvent.add(t)},t.prototype.remove_beforeReplaceItemHandler=function(t){this._beforeReplaceItemHandlerEvent.remove(t)},t.prototype.add_afterReplaceItemHandler=function(t){this._afterReplaceItemHandlerEvent.add(t)},t.prototype.remove_afterReplaceItemHandler=function(t){this._afterReplaceItemHandlerEvent.remove(t)},t.prototype.add_onSelectionLocked=function(t){this._onSelectionLockedEvent.add(t)},t.prototype.remove_onSelectionLocked=function(t){this._onSelectionLockedEvent.remove(t)},t.prototype.addElement=function(t){null!=this._viewer&&(this._removeElement(),this._parent=t,this._document=t.ownerDocument,this._document&&this._canvasElementHandler.addElement(this._parent,this._viewer.whitespaceDiv,this.width,this.height))},Object.defineProperty(t.prototype,"parentElement",{get:function(){return this._parent},enumerable:!0,configurable:!0}),t.prototype._removeElement=function(){this._canvasElementHandler.removeElement(),this._document=null},Object.defineProperty(t.prototype,"hoverDiv",{get:function(){return this._canvasElementHandler.hoverDiv},enumerable:!0,configurable:!0}),t.prototype.addStyles=function(){this._canvasElementHandler.addStyles()},t.prototype.updateHoverDiv=function(){this._canvasElementHandler.updateHoverDiv()},t.prototype.updateSelectionDiv=function(){this._canvasElementHandler.updateSelectionDiv()},t.prototype._updateGripsAndHoverDiv=function(){this._canvasElementHandler.updateSelectionDiv(),this._canvasElementHandler.updateParentSelectionDiv(),this._canvasElementHandler.updateHoverDiv()},t.prototype.showDnd=function(t,e){this._canvasElementHandler.showDnd(t,e,this._viewer.contentAngle)},t.prototype.hideDnd=function(){this._canvasElementHandler.hideDnd()},t.prototype.showSpotlight=function(t,e){var n=this,i=[],r=[];t.forEach((function(t){var o=n._viewer.getHandler(t).rectangle;i.push(o),r.push(h0(h0({},e),{id:t.id}))})),this._canvasElementHandler.showSpotlight(i,r,this.viewer)},t.prototype.hideSpotlight=function(t){var e=t.map((function(t){return t.id}));this._canvasElementHandler.hideSpotlight(e)},t.prototype.updateSpotlight=function(t,e){var n=this,i=t.map((function(t){return t.id})),r=[],o=[];t.forEach((function(t){var i=n._viewer.getHandler(t).rectangle;r.push(i),o.push(h0(h0({},e),{id:t.id}))})),this._canvasElementHandler.updateSpotlight(i,r,o,this.viewer)},t.prototype.showSelection=function(t,e){this._canvasElementHandler.showSelection(t,e,this._viewer)},t.prototype.showParentSelection=function(t){this._canvasElementHandler.showParentSelection(t,this._viewer)},t.prototype.hideSelection=function(){this._canvasElementHandler.hideSelection()},t.prototype.showHover=function(t,e){this._canvasElementHandler.showHover(t,e,this._viewer)},t.prototype.updateHoverPosition=function(t,e){this._canvasElementHandler.updateHoverPosition(t,this._viewer,e)},t.prototype.hideHover=function(){this._canvasElementHandler.hideHover()},t.prototype.isPlaceholder=function(t){return t instanceof _K},t.prototype._isImage=function(t){return t instanceof JX},t.prototype._isGroup=function(t){return t instanceof tY},t.prototype._isImageOrPlaceholder=function(t){return this._isImage(t)||this.isPlaceholder(t)},t.prototype._addFloatingItemToolbars=function(){if(null!=this._viewer)for(var t=this.getAllItemHandlers(),e=0;e<t.length;e++)this.addFloatingItemToolbar(t[e])},t.prototype._removeFloatingItemToolbars=function(){if(null!=this._viewer)for(var t=this.getAllItemHandlers(),e=0;e<t.length;e++)this._canvasElementHandler.removeFloatingItemToolbar(t[e])},t.prototype._addViolationContainers=function(){if(null!=this._viewer)for(var t=this.getAllItemHandlers(),e=0;e<t.length;e++)this.addViolationContainer(t[e])},t.prototype._removeViolationContainers=function(){var t,e;if(null!=this._viewer){var n=this.getAllItemHandlers();try{for(var i=f0(n),r=i.next();!r.done;r=i.next()){var o=r.value;this.removeViolationContainer(o);var s=o.getViolationWarningButton();if(null!=s&&s.remove(),o instanceof JX||o instanceof _K){var a=void 0;null!=(a=o.qualityChangeContainer)&&a.remove()}}}catch(l){t={error:l}}finally{try{r&&!r.done&&(e=i.return)&&e.call(i)}finally{if(t)throw t.error}}}},t.prototype.addPlaceholderButtonGroup=function(t){this._canvasElementHandler.addPlaceholderButtonGroup(t,this._viewer)},t.prototype.addFloatingItemToolbar=function(t){this._canvasElementHandler.addFloatingItemToolbar(t,this._viewer)},t.prototype.addViolationContainer=function(t){this._canvasElementHandler.addViolationContainer(t,this._viewer)},t.prototype.removePlaceholderButtonGroup=function(t){this._canvasElementHandler.removePlaceholderButtonGroup(t)},t.prototype.removeFloatingItemToolbar=function(t){this._canvasElementHandler.removeFloatingItemToolbar(t)},t.prototype.removeViolationContainer=function(t){this._canvasElementHandler.removeViolationContainer(t)},t.prototype.updateButtonGroups=function(t){void 0===t&&(t={onlyVisible:!0,floatingItemToolbar:!0,violationContainers:!0,placeholderButtons:!0}),!0===t.floatingItemToolbar&&this.updateFloatingItemToolbars(t.onlyVisible),!0===t.violationContainers&&this.updateViolationContainers(!0,t.onlyVisible),!0===t.placeholderButtons&&this.updatePlaceholderButtonGroups(t.onlyVisible)},t.prototype.updateFloatingItemToolbars=function(t){if(this._floatingItemToolbarEnabled)for(var e=this.getAllItemHandlers({onlyVisible:t,flatGroupItems:!0}),n=0;n<e.length;n++)this.updateFloatingItemToolbar(e[n])},t.prototype.updateViolationContainers=function(t,e){if(void 0===t&&(t=!1),void 0===e&&(e=!1),this._violationWarningButtonsEnabled||this._qualityChangeContainersEnabled)for(var n=this.getAllItemHandlers({onlyVisible:e,flatGroupItems:!0}),i=0;i<n.length;i++)this.updateViolationContainer(n[i],t)},t.prototype.updatePlaceholderButtonGroups=function(t){void 0===t&&(t=!1);for(var e=this.getAllItemHandlers({onlyType:_K,onlyVisible:t,flatGroupItems:!0,excludeGroupItems:!0}),n=0;n<e.length;n++)this.updatePlaceholderButtonGroup(e[n])},t.prototype.updatePlaceholderButtonGroup=function(t){this._canvasElementHandler.updatePlaceholderButtonGroup(t,this._viewer)},t.prototype.updateViolationContainer=function(t,e){void 0===e&&(e=!1),this._canvasElementHandler.updateViolationContainer(t,e,this._viewer)},t.prototype.updateFloatingItemToolbar=function(t){this._canvasElementHandler.updateFloatingItemToolbar(t,this._viewer)},t.prototype.updatePlaceholderButtonGroupPosition=function(t){this._canvasElementHandler.updatePlaceholderButtonGroupPosition(t,this._viewer)},t.prototype.updateViolationContainerPosition=function(t){this._canvasElementHandler.updateViolationContainerPosition(t,this._viewer)},t.prototype.violationWarningButtonHitTestObject=function(t){if(null==this._viewer||null==this._parent||!this._violationWarningButtonsEnabled)return null;for(var e=this.getAllItemHandlers({onlyVisible:!0}).reduce((function(t,e){return g0(t,e instanceof tY?e.itemHandlers:[e])}),[]),n=0;n<e.length;n++){var i=e[n].getViolationWarningButton();if("none"!==getComputedStyle(i).pointerEvents&&null!=i&&this.getButtonGroupRectInGripsDiv(i).contains(t))return e[n]}return null},t.prototype.getButtonGroupRectInGripsDiv=function(t,e){void 0===e&&(e=!1);var n=this._viewer.element.getBoundingClientRect(),i=t.getBoundingClientRect(),r=new aB(i.left-n.left,i.top-n.top,t.offsetWidth,t.offsetHeight),o=this._viewer.controlToWorkspaceRectangle(r),s=new aB(o.left,o.top,o.width,o.height),a=CB.fromRectangleF(s),l=this._viewer.contentAngle;return l>0&&!e&&(a.rotateAt(-l,new QL),90===l?a.translate(0,this.workspaceHeight):180===l?a.translate(this.workspaceWidth,this.workspaceHeight):270===l&&a.translate(this.workspaceWidth,0)),a.bounds},t.prototype.pauseRedraw=function(){this._isRedrawPaused=!0},t.prototype.continueRedraw=function(t){void 0===t&&(t=!1),this._isRedrawPaused=!1,this.redraw(t)},t.prototype.redraw=function(t){void 0===t&&(t=!1),t?this._redraw():this._throttleRedraw()},t.prototype._redraw=function(t){void 0===t&&(t=!0),!this.isInitialized||this.isUpdating||this._initialization||this._isRedrawPaused||(t&&this._canvasElementHandler.calculateRenderStateForItemHandlers(this.layers),this._canvasRenderer.redrawInactiveCanvas(this.layers,this._canvasElementHandler.surfaceCanvas,this._canvasElementHandler.inactiveCanvas),this._canvasRenderer.redrawActiveCanvas(this.layers,this._canvasElementHandler.activeCanvas,this._canvasElementHandler.designCanvas))},t.prototype.redrawDesign=function(){this._isRedrawPaused||this._canvasRenderer.redrawActiveCanvas(this.layers,this._canvasElementHandler.activeCanvas,this._canvasElementHandler.designCanvas)},t.prototype.drawWaitClock=function(t,e){this._canvasRenderer.drawWaitClock(t,e)},t.prototype.drawTextCursor=function(t){var e=this.currentItemHandler;null!=e?this._canvasRenderer.drawTextCursor(this._canvasElementHandler.cursorCanvas,e,t):console.warn("drawTextCursor: itemHandler is undefined")},t.prototype.clearTextCursor=function(){this._canvasRenderer.clearTextCursor(this._canvasElementHandler.cursorCanvas)},t.prototype.workspaceToControl=function(t){var e=t.clone(),n=eF.screenDpi/72*this.zoom;return e.scale(n,n),e.round()},t.prototype.controlToWorkspace=function(t){var e=t.clone(),n=72/(eF.screenDpi*this.zoom);return e.scale(n,n),e},t.prototype._onClick=function(t){if(t.type="click",null!=t.x&&null!=t.y){var e=t instanceof lX?t:new lX(t);this._processMouseEvent(e)}},t.prototype._onKeyDown=function(t){if("keydown"!==t.type)throw new Error("fix this!");this._processKeyEvent(t)},t.prototype._onKeyUp=function(t){if("keyup"!==t.type)throw new Error("fix this!");this._processKeyEvent(t)},t.prototype._isPrimaryPointer=function(t){var e=t.originalEvent;return e instanceof MouseEvent&&(null!=e.button||null!=e.which)?null!=e.button?0===e.button:1===e.which:e instanceof TouchEvent?1===e.touches.length||0===e.touches.length:e instanceof PointerEvent?e.isPrimary:t.which>0&&1===t.which},t.prototype._onMouseMove=function(t){if(t.type="mousemove",null!=t.x&&null!=t.y){var e=t instanceof lX?t:new lX(t);this._processMouseEvent(e)}},t.prototype._onMouseUp=function(t){if(t.type="mouseup",null!=t.x&&null!=t.y&&this._isPrimaryPointer(t)){var e=t instanceof lX?t:new lX(t);this._processMouseEvent(e)}},t.prototype._onMouseDown=function(t){if(t.type="mousedown",null!=t.x&&null!=t.y&&this._isPrimaryPointer(t)){var e=t instanceof lX?t:new lX(t);this._processMouseEvent(e)}},t.prototype._onDoubleClick=function(t){if(t.type="dblclick",null!=t.x&&null!=t.y){var e=t instanceof lX?t:new lX(t);this._processMouseEvent(e)}},t.prototype._processMouseEvent=function(t){this._mouseBehaviorManager.processMouseEvent(t)},t.prototype.isSelectionByHitTest=function(t){return this._selection.visibleRectangle.contains(t)},t.prototype.getItemHandlersByHitTest=function(t){for(var e=this,n=[],i=function(t){return t.visible&&!e.isLockedOrDisabled(t)&&!t.getPermissions().noShow&&!t.isEmpty()},r=this.layers.length-1;r>=0;r--){var o=this.layers.getItem(r);if(o.getVisible()&&!o.locked)for(var s=o.itemHandlers.length-1;s>=0;s--){var a=o.itemHandlers.getItem(s);i(a)&&a.hitTest(t).body&&(n.push(a),a instanceof tY&&a.item.groupItemPermissions.allowSelectNestedItems&&n.push.apply(n,g0(a.getNestedItemHandlers(!1,!0).filter((function(e){return!0===e.hitTest(t).body&&i(e)})))))}}return n},t.prototype._processKeyEvent=function(t){if("keydown"===t.type||"keyup"===t.type){if(null!=this.textEditor){var e=this.currentItemHandler;if(null!=e&&e instanceof pJ&&e.editing&&e.processInPlaceEditingKeyEvent(t))return}if("keydown"===t.type&&"Delete"===t.code)this.deleteSelectedItemHandlers(!0);else if("keydown"===t.type&&(t.ctrlKey||t.metaKey))switch(t.code){case"KeyZ":this._history.undo();break;case"KeyY":this._history.redo()}else this._selection.processKeyEvent(t),this.redrawDesign()}},Object.defineProperty(t.prototype,"contentUpdatingPlaceholderItemHandler",{get:function(){var t=this.selectedPlaceholderItemHandler;return null!=t&&t.isContentUpdating()?t:null},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"contentEditingPlaceholderItemHandler",{get:function(){var t=this.selectedPlaceholderItemHandler;return null!=t&&t.editing?t:null},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"selectedPlaceholderItemHandler",{get:function(){var t=this.selectedHandler;return t instanceof _K?t:null},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"selectedHandler",{get:function(){var t=this.getSelectedItemHandlers();return 1===t.length?t.getItem(0):null},enumerable:!0,configurable:!0}),t.prototype.isShowFloatingItemToolbar=function(t){if(!this.mouseBehaviorManager.isSelectionMouseBehavior)return!1;var e=this.selectedHandler,n=!1,i=!1;return null!=t?(n=this.isOnlyThisItemHandlerSelected(t),i=this._autoPlaceholderEditModeEnabled&&this.isPlaceholder(t)):null!=e&&(n=this.isOnlyThisItemHandlerSelected(e),i=this._autoPlaceholderEditModeEnabled&&this.isPlaceholder(e)),null!=e&&n&&e.isVisible()&&!e.isLocked()&&!i&&this._floatingItemToolbarEnabled&&(e.showDeleteToolbarButton()&&!this.simpleMode||e.showEditToolbarButton()||(this._isImageOrPlaceholder(e)||this._isGroup(e))&&e.showSelectToolbarButton())&&!this._selection.isOperationNotNull()&&null==this.contentEditingPlaceholderItemHandler&&null==this.contentUpdatingPlaceholderItemHandler},t.prototype.isResizing=function(){return this._selection.isResizing()},Object.defineProperty(t.prototype,"isInitialized",{get:function(){return this._initialized},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"isUpdating",{get:function(){return!1},enumerable:!0,configurable:!0}),t.prototype.initialize=function(){var t=this;this.begin_initialization(),eF.IsTouchDevice()&&(this.rotationGripSize=24),this._onSelectedItemHandlersChangedDelegate=function(e){t.updateButtonGroups(),t._selection.update(),t._selectedItemHandlersChangedEvent.notify(null),t._canvasElementHandler.calculateRenderStateForItemHandlers(t.layers)&&t._redraw(!1)};var e=this.getSelectedItemHandlers();e.add_itemAdded(this._onSelectedItemHandlersChangedDelegate),e.add_itemRemoved(this._onSelectedItemHandlersChangedDelegate),this._onSelectedItemHandlersDeletingDelegate=this._deleteSelectedItemHandlersWithoutConfirm.bind(this),this._canvasRenderer.setLoadingImageUrl(this._loadingImageUrl),this._document=document,this.redraw(),this._initialized=!0,this._initializedEvent.notify(null),this._checkReady(),this.end_initialization()},t.prototype.checkReady=function(){this._ready=!1,this._checkReady()},t.prototype._checkReady=function(){var t=this;if(!this._ready){for(var e=this.layers,n=[],i=0,r=e.length;i<r;i++)for(var o=e.getItem(i).itemHandlers,s=0,a=o.length;s<a;s++){var l=o.getItem(s);l.ready||n.push(l)}if(0===n.length)this._ready=!0,c0.debugLog("Canvas is ready!"),this._readyEvent.notify(this);else{var c=function(e,i){for(var r=0,o=n.length;r<o;r++)if(n[r]==e){n[r].remove_ready(c),n.splice(r,1);break}0===n.length&&(t._ready=!0,c0.debugLog("Canvas is ready!"),t._readyEvent.notify(t))};for(i=0,r=n.length;i<r;i++)n[i].add_ready(c)}}},t.prototype._updateWrappingRectangles=function(t,e){var n,i;return void 0===e&&(e=!1),d0(this,void 0,void 0,(function(){var r,o,s,a,l,c,u,h,d,p,f,m,g,y,_,v,b,w,C,x,E,S,P,O,k;return p0(this,(function(T){switch(T.label){case 0:return this.viewer.frontEndTextRenderingEnabled||!(t instanceof cK||t instanceof hK)?[3,2]:[4,this._updateWrappingRectanglesWithoutTextWhizz(t,e)];case 1:return T.sent(),[2];case 2:return!0===this._initialization||null==this.textWhizz?[2]:e&&t instanceof cK?(t.update(),[2]):(r=null!==(i=null===(n=t.layer)||void 0===n?void 0:n.index)&&void 0!==i?i:-1,o=t.index,-1===r||-1===o?[2]:t.isUpdating?[4,t.waitUpdate()]:[3,4]);case 3:T.sent(),T.label=4;case 4:return s=null,t instanceof cK||t instanceof gJ?(s=t.getTextRectangle(),[3,9]):[3,5];case 5:return t instanceof hK?t.getControlBounds().equals(aB.FromLTRB(0,0,10,10))?(c=(l=CB).fromRectangleF,[4,t.getBoundingPathsBounds()]):[3,7]:[3,9];case 6:return a=c.apply(l,[T.sent(),t.angle]),[3,8];case 7:a=t.rectangle,T.label=8;case 8:s=a,T.label=9;case 9:for(u=bB.rotatedRectangle(s).toTextWhizzPath(this.textWhizz),h=[],p=r,f=(d=this.layers).length;p>-1&&p<f;p++)if((m=d.getItem(p)).getVisible())for(g=this.flatGroupItemsInLayer(m),y=0,_=g.length;y<_;y++)(v=g.getItem(y)).visible&&!v.getPermissions().noShow&&v.item.textWrappingMode!==lV.None&&(v.index>o||m.index>r)&&(b=v.getTextWrappingPath(),this.textWhizz.Path.intersect(u,b.toTextWhizzPath(this.textWhizz)).isEmpty()||h.push(b));w=h.length>0?new bB:null;try{for(C=f0(h),x=C.next();!x.done;x=C.next())w.addPath(x.value)}catch(I){O={error:I}}finally{try{x&&!x.done&&(k=C.return)&&k.call(C)}finally{if(O)throw O.error}}return S=!(E=t.lastRectangle)||!s.equals(E),t.lastRectangle=s,P=null==t.item.wrappingPath||!t.item.wrappingPath.isEqual(w),t.item.wrappingPath=w,!P&&(e||S&&h.length>0)&&t.update(),[2]}}))}))},t.prototype._updateWrappingRectanglesWithoutTextWhizz=function(t,e){return void 0===e&&(e=!1),d0(this,void 0,void 0,(function(){var n,i,r,o,s,a,l,c,u,h,d,p,f,m,g,y,_,v,b,w,C,x,E,S,P,O,k,T,I;return p0(this,(function(A){switch(A.label){case 0:return!0===this._initialization?[2]:e&&t instanceof cK?(t.update(),[2]):(i=t.index,-1===(n=t.layer.index)||-1===i?[2]:t.isUpdating?[4,t.waitUpdate()]:[3,2]);case 1:A.sent(),A.label=2;case 2:return r=null,t instanceof cK?(r=t.getTextRectangle(),[3,7]):[3,3];case 3:return t.getControlBounds().equals(aB.FromLTRB(0,0,10,10))?(a=(s=CB).fromRectangleF,[4,t.getBoundingPathsBounds()]):[3,5];case 4:return o=a.apply(s,[A.sent(),t.angle]),[3,6];case 5:o=t.rectangle,A.label=6;case 6:r=o,A.label=7;case 7:for(l=[],u=n,h=(c=this.layers).length;u>-1&&u<h;u++)if((d=c.getItem(u)).getVisible())for(p=this.flatGroupItemsInLayer(d),f=0,m=p.length;f<m;f++)(g=p.getItem(f)).visible&&!g.getPermissions().noShow&&g.item.textWrappingMode!==lV.None&&(g.index>i||d.index>n)&&(y=this._getItemHandlerWrappingRectangle(g),r.intersectsWith(y)&&l.push(y));_=l.length>0?new bB:null;try{for(v=f0(l),b=v.next();!b.done;b=v.next())C=(w=b.value).getUpperLeftCorner(),x=w.getUpperRightCorner(),E=w.getBottomRightCorner(),S=w.getBottomLeftCorner(),_.moveTo(C.x,C.y),_.lineTo(x.x,x.y),_.lineTo(E.x,E.y),_.lineTo(S.x,S.y),_.lineTo(C.x,C.y),_.close()}catch(M){T={error:M}}finally{try{b&&!b.done&&(I=v.return)&&I.call(v)}finally{if(T)throw T.error}}return O=!(P=t.lastRectangle)||!r.equals(P),t.lastRectangle=r,k=null==t.item.wrappingPath||!t.item.wrappingPath.isEqual(_),t.item.wrappingPath=_,!k&&(e||O&&l.length>0)&&t.update(),[2]}}))}))},t.prototype._getItemHandlerWrappingRectangle=function(t){if(t instanceof cK){var e=CB.fromRectangleF(t.item.textRectangle,0);switch(t.item.transform.isEmpty||e.transform(t.item.transform.clone(),e.center),t.item.textWrappingMode){case lV.Square:return CB.fromRectangleF(e.bounds);case lV.Tight:default:return e}}else switch(t.item.textWrappingMode){case lV.Square:return CB.fromRectangleF(t.bounds);case lV.Tight:default:return t.rectangle}},t.prototype.dispose=function(){var t=this.getSelectedItemHandlers();null!=this._onSelectedItemHandlersChangedDelegate&&(t.remove_itemAdded(this._onSelectedItemHandlersChangedDelegate),delete this._onSelectedItemHandlersChangedDelegate),null!=this._onSelectedItemHandlersChangedDelegate&&(t.remove_itemRemoved(this._onSelectedItemHandlersChangedDelegate),delete this._onSelectedItemHandlersDeletingDelegate),this.getAllItemHandlers({flatGroupItems:!0}).forEach((function(t){return t.dispose()}))},t.prototype.hitTestSelection=function(t,e,n,i){void 0===n&&(n=!1),void 0===i&&(i=null);var r=null==this._offset||this._offset.isOrigin()?e.clone():new QL(e.x-this._offset.x,e.y-this._offset.y),o={},s=new ZL;0!==t.angle&&s.rotate(-t.angle),s.translate(-t.centerX,-t.centerY),r=s.transformPoint(r,!0);var a=t.width,l=t.height,c=this.mul,u=null!=i?Math.max(i/c,l):l,h=null!=i?Math.max(i/c,a):a;o.body=new aB(-h/2,-u/2,h,u).contains(r),o.resize=!1,o.resizeIndex=0;for(var d=(eF.IsTouchDevice()?33:this.resizeGripSize)/c,p=d/2,f=[null,new aB(-a/2-p,-l/2-p,d,d),new aB(a/2-p,-l/2-p,d,d),new aB(a/2-p,l/2-p,d,d),new aB(-a/2-p,l/2-p,d,d),new aB(-a/2-p,0-p,d,d),new aB(0-p,-l/2-p,d,d),new aB(a/2-p,0-p,d,d),new aB(0-p,l/2-p,d,d)],m=new Array(5,7),g=1,y=f.length;g<y;g++)if(f[g].contains(r)&&(!n||-1!==m.indexOf(g))){o.resize=!0,o.resizeIndex=g;break}l<0&&(l=-l),o.rotate=!1,o.rotateIndex=0;var _=r.x-0,v=r.y-(l/2+this.rotationGripSize/c+(d=this.rotationGripSize/2/c));return _*_+v*v<d*d&&(o.rotate=!0,o.rotateIndex=6),o},Object.defineProperty(t.prototype,"mul",{get:function(){return 96*this.zoom/72},enumerable:!0,configurable:!0}),t.prototype.isLockedOrDisabled=function(t){return null==t||t.isLocked()||this.disabledLayers.includes(t.layer)},t.prototype.onLayerTextureLoaded=function(){for(var t=0;t<this.layers.length;t++){var e=this.layers.getItem(t);if(!e.locked&&!e.isTextureLoadedOrNotExists())return}this.redraw()},t}(),_0=function(){function t(t,e){var n=this;this._productParser=new x$,this._watermarkCollectionChangedEvent=new sB,this._watermarkContainers=new JH,this._onSurfacePropertyChanged=function(t,e){switch(e){case"width":case"height":n._updateWatermark()}},this._watermarkConfig=t,this._service=e,this._clearWatermarkContainer()}return Object.defineProperty(t.prototype,"surface",{get:function(){return this._surface},set:function(t){this._surface!==t&&(null!=this._surface&&this.surface.removePropertyChanged(this._onSurfacePropertyChanged),this._surface=t,this._watermarkConfig=null!=this._surface&&null!=this._surface.parentProduct?this._surface.parentProduct.watermarkConfig:null,null!=this._surface&&this.surface.addPropertyChanged(this._onSurfacePropertyChanged),this._updateWatermark())},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"watermarkConfig",{get:function(){return this._watermarkConfig},set:function(t){this._watermarkConfig!==t&&(this._watermarkConfig=t,this._updateWatermark())},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"watermarkContainers",{get:function(){return null==this._watermarkContainers&&(this._watermarkContainers=new JH),this._watermarkContainers},enumerable:!0,configurable:!0}),t.prototype._setWatermarkContainers=function(t){this._watermarkContainers=t,this._watermarkCollectionChangedEvent.notify(this)},t.prototype.add_watermarkCollectionChanged=function(t){this._watermarkCollectionChangedEvent.add(t)},t.prototype.remove_watermarkCollectionChanged=function(t){this._watermarkCollectionChangedEvent.remove(t)},t.prototype._clearWatermarkContainer=function(){this._watermarkContainers=null},t.prototype._updateWatermark=function(){this._clearWatermarkContainer(),null!=this.surface&&0!==this.surface.width&&0!==this.surface.height&&null!=this.watermarkConfig&&null!=this.watermarkConfig.visibility&&!1!==this.watermarkConfig.visibility.canvas&&this._requestWatermarkItems()},t.prototype._requestWatermarkItems=function(){var t=this,e=Math.random();this._requestWatermarkItemsId=e,this._service.getWatermarkItemsAsync(this.surface.width,this.surface.height,this._watermarkConfig).then((function(n){try{if(e!==t._requestWatermarkItemsId)return;var i=new JH([t._productParser.parseContainer(n)]);t._setWatermarkContainers(i)}catch(r){throw r}})).catch((function(t){console.error("Error while updating watermark items.",t)}))},t}(),v0=function(t){this.text={fitToPathStep:1},this.messages={warningImageResolution:"Image resolution ([DPI_VALUE_PLACEHOLDER] dpi) is close to poor, however, print quality may still be acceptable but far from ideal.",badImageResolution:"Too low image resolution ([DPI_VALUE_PLACEHOLDER] dpi) which may result in poor print quality",moreThanOneWarning:"Element has more than one warning.",safetyLinesViolationWarning:"The object is too close to the edge.",bleedViolationWarning:"The object edge is inside the bleed area. It may be trimmed incorrectly. Move it inside the safe zone or outside of the bleed line.",regionViolationWarning:"The object goes out of the region.",textCropWarning:"The text is too long for this box. Some text strings are clipped. Try to make it shorter or use smaller font."},this.violationService={enabled:!0,bleedViolationWarningEnabled:!0,qualityChangeContainersEnabled:!0,regionViolationWarningEnabled:!0,safetyLineViolationWarningEnabled:!0,textCropViolationWarningEnabled:!0,violationWarningButtonsEnabled:!0,qualityMeter:{renderingDpi:300,enabled:!0,qualityLevels:{bad:100,warning:100}}},FB(this,[t=null!=t?t:{}],{deep:!0})},b0=function(t,e,n,i){return new(n||(n=Promise))((function(r,o){function s(t){try{l(i.next(t))}catch(e){o(e)}}function a(t){try{l(i.throw(t))}catch(e){o(e)}}function l(t){var e;t.done?r(t.value):(e=t.value,e instanceof n?e:new n((function(t){t(e)}))).then(s,a)}l((i=i.apply(t,e||[])).next())}))},w0=function(t,e){var n,i,r,o,s={label:0,sent:function(){if(1&r[0])throw r[1];return r[1]},trys:[],ops:[]};return o={next:a(0),throw:a(1),return:a(2)},"function"==typeof Symbol&&(o[Symbol.iterator]=function(){return this}),o;function a(o){return function(a){return function(o){if(n)throw new TypeError("Generator is already executing.");for(;s;)try{if(n=1,i&&(r=2&o[0]?i.return:o[0]?i.throw||((r=i.return)&&r.call(i),0):i.next)&&!(r=r.call(i,o[1])).done)return r;switch(i=0,r&&(o=[2&o[0],r.value]),o[0]){case 0:case 1:r=o;break;case 4:return s.label++,{value:o[1],done:!1};case 5:s.label++,i=o[1],o=[0];continue;case 7:o=s.ops.pop(),s.trys.pop();continue;default:if(!((r=(r=s.trys).length>0&&r[r.length-1])||6!==o[0]&&2!==o[0])){s=0;continue}if(3===o[0]&&(!r||o[1]>r[0]&&o[1]<r[3])){s.label=o[1];break}if(6===o[0]&&s.label<r[1]){s.label=r[1],r=o;break}if(r&&s.label<r[2]){s.label=r[2],s.ops.push(o);break}r[2]&&s.ops.pop(),s.trys.pop();continue}o=e.call(t,s)}catch(a){o=[6,a],i=0}finally{n=r=0}if(5&o[0])throw o[1];return{value:o[0]?o[1]:void 0,done:!0}}([o,a])}}},C0=function(){function t(t,e){var n=this;this._viewer=t,this._backendUrl=e,this._viewer.add_onResize((function(){n._updatePosition(),null!=n._expireLicenseMessageElement&&n._updateHeightExpireLicenseMessage()}))}return t.prototype.checkLicense=function(){return b0(this,void 0,void 0,(function(){var t,e;return w0(this,(function(n){switch(n.label){case 0:return null!=this._license?[3,2]:(t=this,[4,this._getLicense()]);case 1:t._license=n.sent(),n.label=2;case 2:return this._license.isEnterprise&&!this._license.isTrial?(this._getLeftDays()<=30&&(this._expireLicenseMessageElement=this._createExpireLicenseMessage(),(e=document.getElementById("aspnetForm").parentElement).insertBefore(this._expireLicenseMessageElement,e.childNodes[0]),this._updateHeightExpireLicenseMessage()),[2]):(this._isFullLicense()||(this._watermarkElement=this._createElement(),this._viewer.element.parentElement.appendChild(this._watermarkElement),this._updatePosition()),[2])}}))}))},t.prototype._updatePosition=function(){if(null!=this._watermarkElement){var e=this._viewer.element.clientHeight-this._watermarkElement.clientHeight-t._margin;this._watermarkElement.style.left=this._viewer.element.clientWidth-this._watermarkElement.clientWidth-t._margin+"px",this._watermarkElement.style.top=e+"px"}},t.prototype._isFullLicense=function(){return!this._license.isTrial&&!this._license.isDeveloper},t.prototype._createExpireLicenseMessage=function(){var t=document.createElement("div");t.style.background="rgba(244, 67, 54, 0.1)";var e=document.createElement("p");return e.style.color="#F44336",e.style.fontSize="14px",e.style.margin="0",e.style.lineHeight="20px",e.style.padding="8px 16px",e.textContent="The license expires soon. It won't affect your current design, but please contact the website administrator or customer service department and let them know that you see this message.",t.appendChild(e),t},t.prototype._updateHeightExpireLicenseMessage=function(){var t=this._expireLicenseMessageElement;if(null!=t){var e=t.clientHeight;document.getElementById("aspnetForm").style.height="calc(100% - "+e+"px)",t.style.textAlign=e>36?"left":"center"}},t.prototype._createElement=function(){var t=document.createElement("div");t.id="cvLicenseWatermark",t.style.width="auto",t.style.height="auto",t.style.whiteSpace="nowrap",t.style.position="absolute",t.style.borderRadius="4px",t.style.backgroundColor="rgba(255, 255, 255, 0.5)",t.style.zIndex="1",t.style.pointerEvents="none";var e=document.createElement("div");e.style.padding="8px",e.style.display="flex",e.style.flexDirection="column";var n=document.createElement("span");n.style.fontFamily="Roboto",n.style.fontStyle="normal",n.style.fontWeight="500",n.style.fontSize="14px",n.style.lineHeight="15px",n.style.color="#333333";var i=document.createElement("span");i.style.fontFamily="Roboto",i.style.fontStyle="normal",i.style.fontSize="12px",i.style.lineHeight="18px",i.style.color="#333333",n.textContent="This is a "+this._getLicenseType()+" edition";var r=this._license.expirationDate.toLocaleDateString("en-US",{year:"numeric",month:"long",day:"numeric"});return i.textContent="Expires on "+r+" ("+this._getLeftDays()+" days left)",e.appendChild(n),e.appendChild(i),t.appendChild(e),t},t.prototype._getLicenseType=function(){return this._license.isTrial?"Trial":this._license.isDeveloper?"Developer":""},t.prototype._getLeftDays=function(){var t=Math.max(0,this._license.expirationDate.getTime()-Date.now());return Math.ceil(t/864e5)},t.prototype._getLicense=function(){return b0(this,void 0,void 0,(function(){var t,e;return w0(this,(function(n){switch(n.label){case 0:return[4,(i=kB(this._backendUrl,"license"),LX({url:i,type:OX.get,headers:[kX.json]}))];case 1:if((t=n.sent()).status!==PX.Ok)throw new QR("Cannot get license from server");return e=JSON.parse(t.value),[2,LB(new x0,{isDeveloper:e.isDeveloper,isTrial:e.isTrial,isDesktopOnly:e.isDesktopOnly,isEnterprise:e.isEnterprise,expirationDate:new Date(e.expirationDate)})]}var i}))}))},t._margin=12,t}(),x0=function(){},E0=function(t){var e="function"==typeof Symbol&&Symbol.iterator,n=e&&t[e],i=0;if(n)return n.call(t);if(t&&"number"==typeof t.length)return{next:function(){return t&&i>=t.length&&(t=void 0),{value:t&&t[i++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")},S0=function(t,e){var n="function"==typeof Symbol&&t[Symbol.iterator];if(!n)return t;var i,r,o=n.call(t),s=[];try{for(;(void 0===e||e-- >0)&&!(i=o.next()).done;)s.push(i.value)}catch(a){r={error:a}}finally{try{i&&!i.done&&(n=o.return)&&n.call(o)}finally{if(r)throw r.error}}return s},P0=function(){for(var t=[],e=0;e<arguments.length;e++)t=t.concat(S0(arguments[e]));return t},O0=function(){function t(t,e){var n=this;this._product=t,this._viewer=e,this._notifyContainerCollectionChanged=function(t){return n._containerCollectionChangedEvent.notify(t)},this._notifySurfaceCollectionChanged=function(){return n._surfaceCollectionChangedEvent.notify()},this._notifyItemHanderCollectionChanged=function(){return n._itemHanderCollectionChangedEvent.notify()},this._notifyLayerCollectionChanged=function(){return n._layerCollectionChangedEvent.notify()},this._notifyPrintAreaCollectionChanged=function(){return n._printAreaCollectionChangedEvent.notify()},this._notifyItemCollectionChanged=function(){return n._itemCollectionChangedEvent.notify()},this._notifyItemAdded=function(t){return n._itemAddedEvent.notify(t)},this._notifyItemRemoved=function(t){return n._itemRemovedEvent.notify(t)},this._notifyItemMoved=function(t){return n._itemMovedEvent.notify(t)},this._notifyUnderMockupCollectionChanged=function(){return n._underMockupContainerCollectionChangedEvent.notify()},this._notifyOverMockupCollectionChanged=function(){return n._overMockupContainerCollectionChangedEvent.notify()},this._notifyPreviewMockupCollectionChanged=function(){return n._previewMockupContainerCollectionChangedEvent.notify()},this._notifyPrintAreaPropertyChanged=function(t,e){return n._printAreaPropertyChangedEvent.notify(t,e)},this._notifyItemPropertyChanged=function(t,e){return n._itemPropertyChangedEvent.notify(t.item,e)},this._notifyItemChanged=function(t){return n._itemChangedEvent.notify(t.item)},this._notifyItemChanging=function(t){return n._itemChangingEvent.notify(t)},this._notifyDeleteToolbarButtonClick=function(t){return n._deleteToolbarButtonClickEvent.notify(t.item)},this._notifySelectToolbarButtonClick=function(t){return n._selectToolbarButtonClickEvent.notify(t.item)},this._notifyEditToolbarButtonClick=function(t){return n._editToolbarButtonClickEvent.notify(t.item)},this._notifySelectButtonClick=function(t){return n._selectButtonClickEvent.notify(t.item)},this._notifyViolationWarningButtonClick=function(t){return n._violationWarningButtonClickEvent.notify(t.item)},this._notifyDoubleClick=function(t,e){return n._doubleClickEvent.notify(t.item)},this._notifyShapePathLoaded=function(){return n._shapePathLoadedEvent.notify()},this._notifyEnteredEditMode=function(t){return n._enteredEditModeEvent.notify(t.item)},this._notifyExitedEditMode=function(t){return n._exitedEditModeEvent.notify(t.item)},this._notifyCurrentItemChanged=function(t){return n._currentItemChangedEvent.notify(null!=t?t.item:null)},this._notifySelectedItemChanged=function(){return n._selectedItemChangedEvent.notify(n._viewer.selectedItems)},this._notifyDragNDropDone=function(t){return n._dragNDropDoneEvent.notify(t)},this._notifyDragNDropStarting=function(t){return n._dragNDropStartingEvent.notify(t)},this._notifyDragNDropPerformed=function(t){return n._dragNDropPerformedEvent.notify(t)},this._notifyReady=function(){return n._readyEvent.notify()},this._notifyWorkspaceSizeChanged=function(){return n._workspaceSizeChangedEvent.notify()},this._notifyBeforeReplaceItemHandler=function(t){n._unsubscribeFromItemHandlerEvents(t),n._beforeReplaceItemHandlerEvent.notify(t)},this._notifyAfterReplaceItemHandler=function(t){n._subscribeToItemHandlerEvents(t),n._afterReplaceItemHandlerEvent.notify(t)},this._subscribeToProductEvents=function(t){var e,i;if(null!=t){t.surfaces.add_collectionChanged(n._notifySurfaceCollectionChanged),t.surfaces.add_collectionChanged(n._onSurfaceCollectionChanged);try{for(var r=E0(t.surfaces),o=r.next();!o.done;o=r.next())n._subscribeToSurfaceEvents(o.value)}catch(s){e={error:s}}finally{try{o&&!o.done&&(i=r.return)&&i.call(r)}finally{if(e)throw e.error}}}},this._unsubscribeFromProductEvents=function(t){var e,i;if(null!=t){t.surfaces.remove_collectionChanged(n._notifySurfaceCollectionChanged),t.surfaces.remove_collectionChanged(n._onSurfaceCollectionChanged);try{for(var r=E0(t.surfaces),o=r.next();!o.done;o=r.next())n._unsubscribeFromSurfaceEvents(o.value)}catch(s){e={error:s}}finally{try{o&&!o.done&&(i=r.return)&&i.call(r)}finally{if(e)throw e.error}}}},this._onSurfaceCollectionChanged=function(t){t.type!==jH.Move&&(t.type!==jH.Remove?t.type!==jH.Add||n._subscribeToSurfaceEvents(t.item):n._unsubscribeFromSurfaceEvents(t.item))},this._onLayerCollectionChanged=function(t){t.type!==jH.Move&&(t.type!==jH.Remove?t.type!==jH.Add||n._subscribeToLayerEvents(t.item):n._unsubscribeFromLayerEvents(t.item))},this._onItemHanderCollectionChanged=function(t){t.type!==jH.Move&&(t.type!==jH.Remove?t.type!==jH.Add||n._subscribeToItemHandlerEvents(t.item):n._unsubscribeFromItemHandlerEvents(t.item))},this._subscribeToSurfaceEvents=function(t){var e,i;if(null!=t){t.containers.add_collectionChanged(n._notifyContainerCollectionChanged),t.containers.add_collectionChanged(n._onContainerCollectionChanged),t.mockup.underContainers.add_collectionChanged(n._notifyUnderMockupCollectionChanged),t.mockup.underContainers.add_collectionChanged(n._onContainerCollectionChanged),t.mockup.overContainers.add_collectionChanged(n._notifyOverMockupCollectionChanged),t.mockup.overContainers.add_collectionChanged(n._onContainerCollectionChanged),t.previewMockups.add_collectionChanged(n._notifyPreviewMockupCollectionChanged);var r=P0(t.containers,t.mockup.underContainers,t.mockup.overContainers);try{for(var o=E0(r),s=o.next();!s.done;s=o.next())n._subscribeToContainerEvents(s.value)}catch(a){e={error:a}}finally{try{s&&!s.done&&(i=o.return)&&i.call(o)}finally{if(e)throw e.error}}t.printAreas.forEach(n._subscribeToPrintAreaEvents),t.printAreas.add_collectionChanged(n._notifyPrintAreaCollectionChanged),t.printAreas.add_collectionChanged(n._onPrintAreaCollectionChanged)}},this._unsubscribeFromSurfaceEvents=function(t){var e,i;if(null!=t){t.containers.remove_collectionChanged(n._notifyContainerCollectionChanged),t.containers.remove_collectionChanged(n._onContainerCollectionChanged),t.mockup.underContainers.remove_collectionChanged(n._notifyUnderMockupCollectionChanged),t.mockup.underContainers.remove_collectionChanged(n._onContainerCollectionChanged),t.mockup.overContainers.remove_collectionChanged(n._notifyOverMockupCollectionChanged),t.mockup.overContainers.remove_collectionChanged(n._onContainerCollectionChanged),t.previewMockups.remove_collectionChanged(n._notifyPreviewMockupCollectionChanged);var r=P0(t.containers,t.mockup.underContainers,t.mockup.overContainers);try{for(var o=E0(r),s=o.next();!s.done;s=o.next())n._unsubscribeFromContainerEvents(s.value)}catch(a){e={error:a}}finally{try{s&&!s.done&&(i=o.return)&&i.call(o)}finally{if(e)throw e.error}}t.printAreas.forEach(n._unsubscribeFromPrintAreaEvents),t.printAreas.remove_collectionChanged(n._notifyPrintAreaCollectionChanged),t.printAreas.remove_collectionChanged(n._onPrintAreaCollectionChanged)}},this._onContainerCollectionChanged=function(t){t.type!==jH.Move&&(t.type!==jH.Remove?t.type!==jH.Add||n._subscribeToContainerEvents(t.item):n._unsubscribeFromContainerEvents(t.item))},this._subscribeToContainerEvents=function(t){null!=t&&(t.items.add_collectionChanged(n._notifyItemCollectionChanged),t.items.add_collectionChanged(n._onItemCollectionChanged),t.items.add_itemAdded(n._notifyItemAdded),t.items.add_itemRemoved(n._notifyItemRemoved),t.items.add_itemMoved(n._notifyItemMoved),t.items.forEach(n._subscribeToItemEvents))},this._unsubscribeFromContainerEvents=function(t){null!=t&&(t.items.remove_collectionChanged(n._notifyItemCollectionChanged),t.items.remove_collectionChanged(n._onItemCollectionChanged),t.items.remove_itemAdded(n._notifyItemAdded),t.items.remove_itemRemoved(n._notifyItemRemoved),t.items.remove_itemMoved(n._notifyItemMoved),t.items.forEach(n._unsubscribeFromItemEvents))},this._onPrintAreaCollectionChanged=function(t){t.type!==jH.Move&&(t.type!==jH.Remove?t.type!==jH.Add||n._subscribeToPrintAreaEvents(t.item):n._unsubscribeFromPrintAreaEvents(t.item))},this._subscribeToPrintAreaEvents=function(t){null!=t&&t.addPropertyChanged(n._notifyPrintAreaPropertyChanged)},this._unsubscribeFromPrintAreaEvents=function(t){null!=t&&t.removePropertyChanged(n._notifyPrintAreaPropertyChanged)},this._onItemCollectionChanged=function(t){t.type!==jH.Move&&(t.type!==jH.Remove?t.type!==jH.Add||n._subscribeToItemEvents(t.item):n._unsubscribeFromItemEvents(t.item))},this._subscribeToItemEvents=function(t){null!=t&&t instanceof RU&&(t.items.forEach((function(t){return n._subscribeToItemEvents(t)})),t.items.add_itemAdded(n._notifyItemAdded),t.items.add_itemRemoved(n._notifyItemRemoved),t.items.add_collectionChanged(n._onItemCollectionChanged))},this._subscribeToItemHandlerEvents=function(t){var e,i;if(t.addItemPropertyChanged(n._notifyItemPropertyChanged),t.addChanged(n._notifyItemChanged),t.addChanging(n._notifyItemChanging),t.addDeleteToolbarButtonClick(n._notifyDeleteToolbarButtonClick),t.addSelectToolbarButtonClick(n._notifySelectToolbarButtonClick),t.addEditToolbarButtonClick(n._notifyEditToolbarButtonClick),t.addDoubleClick(n._notifyDoubleClick),t.addViolationWarningButtonClick(n._notifyViolationWarningButtonClick),t instanceof _K&&(t.addSelectButtonClick(n._notifySelectButtonClick),null!=t.content&&t.content.addItemPropertyChanged(n._notifyItemPropertyChanged)),t instanceof HX&&t.item.getPathLoadedEvent().add(n._notifyShapePathLoaded),t instanceof pJ&&(t.enteredEditModeEvent.add(n._notifyEnteredEditMode),t.exitedEditModeEvent.add(n._notifyExitedEditMode)),t instanceof tY)try{for(var r=E0(t.getNestedItemHandlers()),o=r.next();!o.done;o=r.next()){var s=o.value;s instanceof AX&&n._subscribeToItemHandlerEvents(s)}}catch(a){e={error:a}}finally{try{o&&!o.done&&(i=r.return)&&i.call(r)}finally{if(e)throw e.error}}},this._unsubscribeFromItemEvents=function(t){null!=t&&t instanceof RU&&null!=t.items&&(t.items.forEach((function(t){return n._unsubscribeFromItemEvents(t)})),t.items.remove_itemAdded(n._notifyItemAdded),t.items.remove_itemRemoved(n._notifyItemRemoved),t.items.remove_collectionChanged(n._onItemCollectionChanged))},this._unsubscribeFromItemHandlerEvents=function(t){var e,i;if(t.removeItemPropertyChanged(n._notifyItemPropertyChanged),t.removeChanged(n._notifyItemChanged),t.removeChanging(n._notifyItemChanging),t.removeDeleteToolbarButtonClick(n._notifyDeleteToolbarButtonClick),t.removeSelectToolbarButtonClick(n._notifySelectToolbarButtonClick),t.removeEditToolbarButtonClick(n._notifyEditToolbarButtonClick),t.removeDoubleClick(n._notifyDoubleClick),t.removeViolationWarningButtonClick(n._notifyViolationWarningButtonClick),t instanceof _K&&(t.removeSelectButtonClick(n._notifySelectButtonClick),null!=t.content&&t.content.removeItemPropertyChanged(n._notifyItemPropertyChanged)),t instanceof HX&&t.item.getPathLoadedEvent().remove(n._notifyShapePathLoaded),t instanceof pJ&&(t.enteredEditModeEvent.remove(n._notifyEnteredEditMode),t.exitedEditModeEvent.remove(n._notifyExitedEditMode)),t instanceof tY)try{for(var r=E0(t.getNestedItemHandlers()),o=r.next();!o.done;o=r.next()){var s=o.value;s instanceof AX&&n._unsubscribeFromItemHandlerEvents(s)}}catch(a){e={error:a}}finally{try{o&&!o.done&&(i=r.return)&&i.call(r)}finally{if(e)throw e.error}}},this._subscribeOnCanvasEvents=function(t){var e,i;if(null!=t){t.add_currentItemHandlerChanged(n._notifyCurrentItemChanged),t.add_selectedItemHandlerChanged(n._notifySelectedItemChanged),t.add_dragNDropDone(n._notifyDragNDropDone),t.add_dragNDropPerformed(n._notifyDragNDropPerformed),t.add_dragNDropStarting(n._notifyDragNDropStarting),t.add_ready(n._notifyReady),t.add_workspaceSizeChanged(n._notifyWorkspaceSizeChanged),t.add_beforeReplaceItemHandler(n._notifyBeforeReplaceItemHandler),t.add_afterReplaceItemHandler(n._notifyAfterReplaceItemHandler),t.layers.add_collectionChanged(n._notifyLayerCollectionChanged),t.layers.add_collectionChanged(n._onLayerCollectionChanged);try{for(var r=E0(t.layers),o=r.next();!o.done;o=r.next())n._subscribeToLayerEvents(o.value)}catch(s){e={error:s}}finally{try{o&&!o.done&&(i=r.return)&&i.call(r)}finally{if(e)throw e.error}}}},this._unsubscribeFromCanvasEvents=function(t){var e,i;if(null!=t){t.remove_currentItemHandlerChanged(n._notifyCurrentItemChanged),t.remove_selectedItemHandlerChanged(n._notifySelectedItemChanged),t.remove_dragNDropDone(n._notifyDragNDropDone),t.remove_dragNDropPerformed(n._notifyDragNDropPerformed),t.remove_dragNDropStarting(n._notifyDragNDropStarting),t.remove_ready(n._notifyReady),t.remove_workspaceSizeChanged(n._notifyWorkspaceSizeChanged),t.remove_beforeReplaceItemHandler(n._notifyBeforeReplaceItemHandler),t.remove_afterReplaceItemHandler(n._notifyAfterReplaceItemHandler),t.layers.remove_collectionChanged(n._notifyLayerCollectionChanged),t.layers.remove_collectionChanged(n._onLayerCollectionChanged);try{for(var r=E0(t.layers),o=r.next();!o.done;o=r.next())n._unsubscribeFromLayerEvents(o.value)}catch(s){e={error:s}}finally{try{o&&!o.done&&(i=r.return)&&i.call(r)}finally{if(e)throw e.error}}}},this._subscribeToLayerEvents=function(t){var e,i;if(null!=t){t.itemHandlers.add_collectionChanged(n._notifyItemHanderCollectionChanged),t.itemHandlers.add_collectionChanged(n._onItemHanderCollectionChanged);try{for(var r=E0(t.itemHandlers.cast()),o=r.next();!o.done;o=r.next())n._subscribeToItemHandlerEvents(o.value)}catch(s){e={error:s}}finally{try{o&&!o.done&&(i=r.return)&&i.call(r)}finally{if(e)throw e.error}}}},this._unsubscribeFromLayerEvents=function(t){var e,i;if(null!=t){t.itemHandlers.remove_collectionChanged(n._notifyItemHanderCollectionChanged),t.itemHandlers.remove_collectionChanged(n._onItemHanderCollectionChanged);try{for(var r=E0(t.itemHandlers.cast()),o=r.next();!o.done;o=r.next())n._unsubscribeFromItemHandlerEvents(o.value)}catch(s){e={error:s}}finally{try{o&&!o.done&&(i=r.return)&&i.call(r)}finally{if(e)throw e.error}}}},this._itemChangedEvent=new rB,this._itemChangingEvent=new rB,this._itemPropertyChangedEvent=new sB,this._changeSurfaceEvent=new rB,this._itemAddedEvent=new rB,this._itemRemovedEvent=new rB,this._itemMovedEvent=new rB,this._imageContentChangedEvent=new rB,this._snapshotLoadedEvent=new rB,this._surfaceCollectionChangedEvent=new rB,this._layerCollectionChangedEvent=new rB,this._itemHanderCollectionChangedEvent=new rB,this._containerCollectionChangedEvent=new rB,this._itemCollectionChangedEvent=new rB,this._underMockupContainerCollectionChangedEvent=new rB,this._overMockupContainerCollectionChangedEvent=new rB,this._previewMockupContainerCollectionChangedEvent=new rB,this._deleteToolbarButtonClickEvent=new rB,this._selectToolbarButtonClickEvent=new rB,this._enteredEditModeEvent=new rB,this._exitedEditModeEvent=new rB,this._editToolbarButtonClickEvent=new rB,this._selectButtonClickEvent=new rB,this._violationWarningButtonClickEvent=new rB,this._doubleClickEvent=new rB,this._shapePathLoadedEvent=new rB,this._currentItemChangedEvent=new rB,this._selectedItemChangedEvent=new rB,this._dragNDropDoneEvent=new rB,this._dragNDropStartingEvent=new rB,this._dragNDropPerformedEvent=new rB,this._readyEvent=new rB,this._workspaceSizeChangedEvent=new rB,this._productThemeChangedEvent=new rB,this._userEditContainerChangedEvent=new rB,this._mouseBehaviorCreateFinishedEvent=new rB,this._printAreaCollectionChangedEvent=new rB,this._printAreaPropertyChangedEvent=new sB,this._selectPixelFinishedEvent=new rB,this._beforeReplaceItemHandlerEvent=new rB,this._afterReplaceItemHandlerEvent=new rB,this._textWhizzReady=new rB,this._imageDpiChangedEvent=new rB,this._subscribeOnCanvasEvents(this._viewer.canvas),this._subscribeToProductEvents(t)}return t.prototype.setProduct=function(t){t!=this._product&&(this._unsubscribeFromProductEvents(this._product),this._product=t,this._subscribeToProductEvents(this._product))},Object.defineProperty(t.prototype,"itemChangedEvent",{get:function(){return this._itemChangedEvent},enumerable:!0,configurable:!0}),t.prototype.addItemChanged=function(t){this._itemChangedEvent.add(t)},t.prototype.removeItemChanged=function(t){this._itemChangedEvent.remove(t)},Object.defineProperty(t.prototype,"itemChangingEvent",{get:function(){return this._itemChangingEvent},enumerable:!0,configurable:!0}),t.prototype.addItemChanging=function(t){this._itemChangingEvent.add(t)},t.prototype.removeItemChanging=function(t){this._itemChangingEvent.remove(t)},Object.defineProperty(t.prototype,"itemPropertyChangedEvent",{get:function(){return this._itemPropertyChangedEvent},enumerable:!0,configurable:!0}),t.prototype.addItemPropertyChanged=function(t){this._itemPropertyChangedEvent.add(t)},t.prototype.removeItemPropertyChanged=function(t){this._itemPropertyChangedEvent.remove(t)},Object.defineProperty(t.prototype,"surfaceChangedEvent",{get:function(){return this._changeSurfaceEvent},enumerable:!0,configurable:!0}),t.prototype.addSurfaceChanged=function(t){this._changeSurfaceEvent.add(t)},t.prototype.removeSurfaceChanged=function(t){this._changeSurfaceEvent.remove(t)},Object.defineProperty(t.prototype,"itemAddedEvent",{get:function(){return this._itemAddedEvent},enumerable:!0,configurable:!0}),t.prototype.addItemAdded=function(t){this._itemAddedEvent.add(t)},t.prototype.removeItemAdded=function(t){this._itemAddedEvent.remove(t)},Object.defineProperty(t.prototype,"itemRemovedEvent",{get:function(){return this._itemRemovedEvent},enumerable:!0,configurable:!0}),t.prototype.addItemRemoved=function(t){this._itemRemovedEvent.add(t)},t.prototype.removeItemRemoved=function(t){this._itemRemovedEvent.remove(t)},Object.defineProperty(t.prototype,"itemMovedEvent",{get:function(){return this._itemMovedEvent},enumerable:!0,configurable:!0}),t.prototype.addItemMoved=function(t){this._itemMovedEvent.add(t)},t.prototype.removeItemMoved=function(t){this._itemMovedEvent.remove(t)},Object.defineProperty(t.prototype,"imageContentChangedEvent",{get:function(){return this._imageContentChangedEvent},enumerable:!0,configurable:!0}),t.prototype.addImageContentChanged=function(t){this._imageContentChangedEvent.add(t)},t.prototype.removeImageContentChanged=function(t){this._imageContentChangedEvent.remove(t)},Object.defineProperty(t.prototype,"snapshotLoadedEvent",{get:function(){return this._snapshotLoadedEvent},enumerable:!0,configurable:!0}),t.prototype.addSnapshotLoadedEvent=function(t){this._snapshotLoadedEvent.add(t)},t.prototype.removeSnapshotLoadedEvent=function(t){this._snapshotLoadedEvent.remove(t)},Object.defineProperty(t.prototype,"surfaceCollectionChangedEvent",{get:function(){return this._surfaceCollectionChangedEvent},enumerable:!0,configurable:!0}),t.prototype.addSurfaceCollectionChanged=function(t){this._surfaceCollectionChangedEvent.add(t)},t.prototype.removeSurfaceCollectionChanged=function(t){this._surfaceCollectionChangedEvent.remove(t)},Object.defineProperty(t.prototype,"layerCollectionChangedEvent",{get:function(){return this._layerCollectionChangedEvent},enumerable:!0,configurable:!0}),t.prototype.addLayerCollectionChanged=function(t){this._layerCollectionChangedEvent.add(t)},t.prototype.removeLayerCollectionChanged=function(t){this._layerCollectionChangedEvent.remove(t)},Object.defineProperty(t.prototype,"itemHanderCollectionChangedEvent",{get:function(){return this._itemHanderCollectionChangedEvent},enumerable:!0,configurable:!0}),t.prototype.addIItemHandelrCollectionChanged=function(t){this._itemHanderCollectionChangedEvent.add(t)},t.prototype.removeItemHandlerCollectionChanged=function(t){this._itemHanderCollectionChangedEvent.remove(t)},Object.defineProperty(t.prototype,"containerCollectionChangedEvent",{get:function(){return this._containerCollectionChangedEvent},enumerable:!0,configurable:!0}),t.prototype.addContainerCollectionChanged=function(t){this._containerCollectionChangedEvent.add(t)},t.prototype.removeContainerCollectionChanged=function(t){this._containerCollectionChangedEvent.remove(t)},Object.defineProperty(t.prototype,"itemCollectionChangedEvent",{get:function(){return this._itemCollectionChangedEvent},enumerable:!0,configurable:!0}),t.prototype.addItemCollectionChanged=function(t){this._itemCollectionChangedEvent.add(t)},t.prototype.removeItemCollectionChanged=function(t){this._itemCollectionChangedEvent.remove(t)},Object.defineProperty(t.prototype,"underMockupContainerCollectionChangedEvent",{get:function(){return this._underMockupContainerCollectionChangedEvent},enumerable:!0,configurable:!0}),t.prototype.addUnderMockupContainerCollectionChanged=function(t){this._underMockupContainerCollectionChangedEvent.add(t)},t.prototype.removeUnderMockupContainerCollectionChanged=function(t){this._underMockupContainerCollectionChangedEvent.remove(t)},Object.defineProperty(t.prototype,"overMockupContainerCollectionChangedEvent",{get:function(){return this._overMockupContainerCollectionChangedEvent},enumerable:!0,configurable:!0}),t.prototype.addOverMockupContainerCollectionChanged=function(t){this._overMockupContainerCollectionChangedEvent.add(t)},t.prototype.removeOverMockupContainerCollectionChanged=function(t){this._overMockupContainerCollectionChangedEvent.remove(t)},Object.defineProperty(t.prototype,"previewMockupContainerCollectionChangedEvent",{get:function(){return this._previewMockupContainerCollectionChangedEvent},enumerable:!0,configurable:!0}),t.prototype.addPreviewMockupContainerCollectionChanged=function(t){this._previewMockupContainerCollectionChangedEvent.add(t)},t.prototype.removePreviewMockupContainerCollectionChanged=function(t){this._previewMockupContainerCollectionChangedEvent.remove(t)},Object.defineProperty(t.prototype,"deleteToolbarButtonClickEvent",{get:function(){return this._deleteToolbarButtonClickEvent},enumerable:!0,configurable:!0}),t.prototype.addDeleteToolbarButtonClick=function(t){this._deleteToolbarButtonClickEvent.add(t)},t.prototype.removeDeleteToolbarButtonClick=function(t){this._deleteToolbarButtonClickEvent.remove(t)},Object.defineProperty(t.prototype,"selectToolbarButtonClickEvent",{get:function(){return this._selectToolbarButtonClickEvent},enumerable:!0,configurable:!0}),t.prototype.addSelectToolbarButtonClick=function(t){this._selectToolbarButtonClickEvent.add(t)},t.prototype.removeSelectToolbarButtonClick=function(t){this._selectToolbarButtonClickEvent.remove(t)},Object.defineProperty(t.prototype,"enteredEditModeEvent",{get:function(){return this._enteredEditModeEvent},enumerable:!0,configurable:!0}),t.prototype.addEnteredEditMode=function(t){this._enteredEditModeEvent.add(t)},t.prototype.removeEnteredEditMode=function(t){this._enteredEditModeEvent.remove(t)},Object.defineProperty(t.prototype,"exitedEditModeEvent",{get:function(){return this._exitedEditModeEvent},enumerable:!0,configurable:!0}),t.prototype.addExitedEditMode=function(t){this._exitedEditModeEvent.add(t)},t.prototype.removeExitedEditMode=function(t){this._exitedEditModeEvent.remove(t)},Object.defineProperty(t.prototype,"editToolbarButtonClickEvent",{get:function(){return this._editToolbarButtonClickEvent},enumerable:!0,configurable:!0}),t.prototype.addEditToolbarButtonClick=function(t){this._editToolbarButtonClickEvent.add(t)},t.prototype.removeEditToolbarButtonClick=function(t){this._editToolbarButtonClickEvent.remove(t)},Object.defineProperty(t.prototype,"selectButtonClickEvent",{get:function(){return this._selectButtonClickEvent},enumerable:!0,configurable:!0}),t.prototype.addSelectButtonClick=function(t){this._selectButtonClickEvent.add(t)},t.prototype.removeSelectButtonClick=function(t){this._selectButtonClickEvent.remove(t)},Object.defineProperty(t.prototype,"violationWarningButtonClickEvent",{get:function(){return this._violationWarningButtonClickEvent},enumerable:!0,configurable:!0}),t.prototype.addViolationWarningButtonClick=function(t){this._violationWarningButtonClickEvent.add(t)},t.prototype.removeViolationWarningButtonClick=function(t){this._violationWarningButtonClickEvent.remove(t)},Object.defineProperty(t.prototype,"doubleClickEvent",{get:function(){return this._doubleClickEvent},enumerable:!0,configurable:!0}),t.prototype.addDoubleClick=function(t){this._doubleClickEvent.add(t)},t.prototype.removeDoubleClick=function(t){this._doubleClickEvent.remove(t)},Object.defineProperty(t.prototype,"shapePathLoadedEvent",{get:function(){return this._shapePathLoadedEvent},enumerable:!0,configurable:!0}),t.prototype.addShapePathLoaded=function(t){this._shapePathLoadedEvent.add(t)},t.prototype.removeShapePathLoaded=function(t){this._shapePathLoadedEvent.remove(t)},Object.defineProperty(t.prototype,"currentItemChangedEvent",{get:function(){return this._currentItemChangedEvent},enumerable:!0,configurable:!0}),t.prototype.addCurrentItemChanged=function(t){this._currentItemChangedEvent.add(t)},t.prototype.removeCurrentItemChanged=function(t){this._currentItemChangedEvent.remove(t)},Object.defineProperty(t.prototype,"selectedItemChangedEvent",{get:function(){return this._selectedItemChangedEvent},enumerable:!0,configurable:!0}),t.prototype.addSelectedItemChanged=function(t){this._selectedItemChangedEvent.add(t)},t.prototype.removeSelectedItemChanged=function(t){this._selectedItemChangedEvent.remove(t)},Object.defineProperty(t.prototype,"dragNDropDoneEvent",{get:function(){return this._dragNDropDoneEvent},enumerable:!0,configurable:!0}),t.prototype.addDragNDropDone=function(t){this._dragNDropDoneEvent.add(t)},t.prototype.removeDragNDropDone=function(t){this._dragNDropDoneEvent.remove(t)},Object.defineProperty(t.prototype,"dragNDropStartingEvent",{get:function(){return this._dragNDropStartingEvent},enumerable:!0,configurable:!0}),t.prototype.addDragNDropStarting=function(t){this._dragNDropStartingEvent.add(t)},t.prototype.removeDragNDropStarting=function(t){this._dragNDropStartingEvent.remove(t)},Object.defineProperty(t.prototype,"dragNDropPerformedEvent",{get:function(){return this._dragNDropPerformedEvent},enumerable:!0,configurable:!0}),t.prototype.addDragNDropPerformed=function(t){this._dragNDropPerformedEvent.add(t)},t.prototype.removeDragNDropPerformed=function(t){this._dragNDropPerformedEvent.remove(t)},Object.defineProperty(t.prototype,"readyEvent",{get:function(){return this._readyEvent},enumerable:!0,configurable:!0}),t.prototype.addReady=function(t){this._readyEvent.add(t)},t.prototype.removeReady=function(t){this._readyEvent.remove(t)},Object.defineProperty(t.prototype,"workspaceSizeChangedEvent",{get:function(){return this._workspaceSizeChangedEvent},enumerable:!0,configurable:!0}),t.prototype.addWorkspaceSizeChanged=function(t){this._workspaceSizeChangedEvent.add(t)},t.prototype.removeWorkspaceSizeChanged=function(t){this._workspaceSizeChangedEvent.remove(t)},Object.defineProperty(t.prototype,"productThemeChangedEvent",{get:function(){return this._productThemeChangedEvent},enumerable:!0,configurable:!0}),t.prototype.addProductThemeChanged=function(t){this._productThemeChangedEvent.add(t)},t.prototype.removeProductThemeChanged=function(t){this._productThemeChangedEvent.remove(t)},Object.defineProperty(t.prototype,"userEditContainerChangedEvent",{get:function(){return this._userEditContainerChangedEvent},enumerable:!0,configurable:!0}),t.prototype.addUserEditContainerChanged=function(t){this._userEditContainerChangedEvent.add(t)},t.prototype.removeUserEditContainerChanged=function(t){this._userEditContainerChangedEvent.remove(t)},Object.defineProperty(t.prototype,"mouseBehaviorCreateFinishedEvent",{get:function(){return this._mouseBehaviorCreateFinishedEvent},enumerable:!0,configurable:!0}),t.prototype.addMouseBehaviorCreateFinished=function(t){this._mouseBehaviorCreateFinishedEvent.add(t)},t.prototype.removeMouseBehaviorCreateFinished=function(t){this._mouseBehaviorCreateFinishedEvent.remove(t)},Object.defineProperty(t.prototype,"printAreaCollectionChangedEvent",{get:function(){return this._printAreaCollectionChangedEvent},enumerable:!0,configurable:!0}),t.prototype.addPrintAreaCollectionChanged=function(t){this._printAreaCollectionChangedEvent.add(t)},t.prototype.removePrintAreaCollectionChanged=function(t){this._printAreaCollectionChangedEvent.remove(t)},Object.defineProperty(t.prototype,"printAreaPropertyChangedEvent",{get:function(){return this._printAreaPropertyChangedEvent},enumerable:!0,configurable:!0}),t.prototype.addPrintAreaPropertyChanged=function(t){this._printAreaPropertyChangedEvent.add(t)},t.prototype.removePrintAreaPropertyChanged=function(t){this._printAreaPropertyChangedEvent.remove(t)},Object.defineProperty(t.prototype,"selectPixelFinished",{get:function(){return this._selectPixelFinishedEvent},enumerable:!0,configurable:!0}),t.prototype.addMouseSelectPixelFinished=function(t){this._selectPixelFinishedEvent.add(t)},t.prototype.removeMouseSelectPixelFinished=function(t){this._selectPixelFinishedEvent.remove(t)},Object.defineProperty(t.prototype,"beforeReplaceItemHandlerEvent",{get:function(){return this._beforeReplaceItemHandlerEvent},enumerable:!0,configurable:!0}),t.prototype.addBeforeReplaceItemHandlerEvent=function(t){this._beforeReplaceItemHandlerEvent.add(t)},t.prototype.removeBeforeReplaceItemHandlerEvent=function(t){this._beforeReplaceItemHandlerEvent.remove(t)},Object.defineProperty(t.prototype,"afterReplaceItemHandlerEvent",{get:function(){return this._afterReplaceItemHandlerEvent},enumerable:!0,configurable:!0}),t.prototype.addAfterReplaceItemHandlerEvent=function(t){this._afterReplaceItemHandlerEvent.add(t)},t.prototype.removeAfterReplaceItemHandlerEvent=function(t){this._afterReplaceItemHandlerEvent.remove(t)},Object.defineProperty(t.prototype,"textWhizzReadyEvent",{get:function(){return this._textWhizzReady},enumerable:!0,configurable:!0}),t.prototype.addTextWhizzReady=function(t){this._textWhizzReady.add(t)},t.prototype.removeTextWhizzReady=function(t){this._textWhizzReady.remove(t)},Object.defineProperty(t.prototype,"imageDpiChangedEvent",{get:function(){return this._imageDpiChangedEvent},enumerable:!0,configurable:!0}),t.prototype.addImageDpiChanged=function(t){this._imageDpiChangedEvent.add(t)},t.prototype.removeImageDpiChanged=function(t){this._imageDpiChangedEvent.remove(t)},t.prototype.dispose=function(){this._unsubscribeFromCanvasEvents(this._viewer.canvas),this._unsubscribeFromProductEvents(this._product)},t}(),k0=function(){function t(t,e,n,i){this._productHandler=t,this._canvas=n,this._eventManager=i,this._productThemeApplier=new UY,this.productThemes=e}return t.prototype.applyProductTheme=function(t,e,n){var i=this,r=null;if("string"==typeof t)r=this.productThemes[t];else if(t instanceof T0)r=t;else if(t instanceof Object)r=new T0(t);else if(null==t)throw new XR("Theme must be not null");if(null==r)throw new XR("Theme not found");var o=e.getAllItems({ignoreMockups:!1,flatGroupItems:!0}).filter((function(t){return!(t.parentGroupItem instanceof jU)})),s=[];return this.currentProductTheme=r,n.execute(WQ.clearSelection),o.forEach((function(t){t instanceof IV&&i.applyToItem(t,r)&&s.push(t)})),s.length>0&&JZ.updateItems(s,this._productHandler,this._canvas,{addToHistory:!0,redraw:!0,updatePhase:VZ.Final}),0===s.length&&console.warn("No colors were applied from theme. Please check that theme matches to the product."),this._eventManager.productThemeChangedEvent.notify(this.currentProductTheme),s.length>0},t.prototype.applyToItem=function(t,e,n){return this._productThemeApplier.applyToItem(t,e,n)},t}(),T0=function(t){Object.assign(this,t)},I0=function(){function t(t,e){void 0===e&&(e=10),this._snapshots=[],this._current=-1,this._enabled=!0,this._locked=!1,this._pauseCount=0,this._addSnapshotOnResume=!1,this._overflowMaxUndoStepCount=!1,this._changed=new rB,this._snapshotHandler=t,this.historySize=e}return Object.defineProperty(t.prototype,"historySize",{set:function(t){t>=0?this._maxUndoStepCount=t:(console.warn("History: historySize value isn't correct, reset to 10"),this._maxUndoStepCount=10)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"canRedo",{get:function(){return this._current<this._snapshots.length-1},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"canUndo",{get:function(){return this._current>=1},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"overflowMaxUndoStepCount",{get:function(){return this._overflowMaxUndoStepCount},enumerable:!0,configurable:!0}),t.prototype.enable=function(){this._enabled||(this._enabled=!0)},t.prototype.disable=function(){this._enabled&&(this._enabled=!1,this.clear())},t.prototype.isPaused=function(){return this._pauseCount>0},t.prototype.pause=function(){this._pauseCount++,1===this._pauseCount&&(this._addSnapshotOnResume=!1)},t.prototype.resume=function(t,e,n){void 0===t&&(t=!0),void 0===e&&(e=!1),void 0===n&&(n=!1),this._pauseCount<=0||(this._pauseCount--,0===this._pauseCount&&(t&&this._addSnapshotOnResume||e)&&this.addSnapshot(!1,n))},t.prototype.raiseChanged=function(){this._changed.notify()},t.prototype._clearRedo=function(){this._snapshots.splice(this._current+1)},t.prototype._clearUndo=function(){this._snapshots.splice(0,this._current+1),this._current=-1,this._overflowMaxUndoStepCount=!1},t.prototype.clear=function(t){void 0===t&&(t=!1),this._snapshots=[],this._current=-1,this.addSnapshot(!0),t||this.raiseChanged()},t.prototype.addSnapshot=function(t,e){if(void 0===t&&(t=!1),void 0===e&&(e=!1),this._enabled&&!this._locked)if(this._pauseCount>0)this._addSnapshotOnResume=!0;else{var n=this._snapshotHandler.createSnapshot();if(null==n)throw"Snapshot can not be null";this._locked=!0,this.canRedo&&this._clearRedo(),e&&this._snapshots.length>0&&(this._snapshots.pop(),this._current--),this._snapshots.push(n),this._current++,this._locked=!1,this._current>this._maxUndoStepCount&&(this._snapshots.splice(0,1),this._current--,this._overflowMaxUndoStepCount=!0),t||this.raiseChanged()}},t.prototype.redo=function(){this._enabled&&this.canRedo&&(this._locked=!0,this._current++,this._snapshotHandler.loadSnapshot(this._snapshots[this._current]),this._locked=!1,this.raiseChanged())},t.prototype.undo=function(){this._enabled&&this.canUndo&&(this._locked=!0,this._current--,this._snapshotHandler.loadSnapshot(this._snapshots[this._current]),this._locked=!1,this.raiseChanged())},t.prototype.addChanged=function(t){this._changed.add(t)},t.prototype.removeChanged=function(t){this._changed.remove(t)},t}(),A0=function(){function t(t){this._viewer=t}return Object.defineProperty(t.prototype,"_product",{get:function(){return null!=this._surface?this._surface.parentProduct:null},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"_surface",{get:function(){return this._viewer.surface},enumerable:!0,configurable:!0}),t.prototype.createSnapshot=function(){var t=null!=this._product?this._product:this._surface;if(null!=t)return t.clone()},t.prototype.loadSnapshot=function(t){var e=t.clone();if(e instanceof d$)throw new qR("Surface as snapshot not implemented!");var n=this._surface.id,i=e.surfaces.firstOrDefault((function(t){return t.id===n}));this._viewer.surface=null!=i?i:e.surfaces.get(0),this._viewer.eventManager.snapshotLoadedEvent.fire(e)},t}(),M0=function(){function t(t){var e=this;this._viewer=t,this.getHandler=function(t){return e._viewer.getHandler(t)}}return Object.defineProperty(t.prototype,"currentSurface",{get:function(){return this._viewer.surface},set:function(t){this._viewer.surface=t},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"contentAngle",{get:function(){return this._viewer.contentAngle},enumerable:!0,configurable:!0}),t.prototype.redraw=function(){this._viewer.canvas.redraw()},Object.defineProperty(t.prototype,"regionForCurrentContainer",{get:function(){var t=this._viewer.userEditContainer;return null!=t?t.region:null},enumerable:!0,configurable:!0}),t.prototype.beginMultiCall=function(){null!=this._viewer&&null!=this._viewer.canvas&&null!=this._viewer.canvas.service&&this._viewer.canvas.service.beginMultiCall()},t.prototype.endMultiCall=function(){null!=this._viewer&&null!=this._viewer.canvas&&null!=this._viewer.canvas.service&&this._viewer.canvas.service.endMultiCall()},t.prototype.findItemByHitTest=function(t,e){var n=this,i=this._viewer.pageToWorkspacePoint(t,e),r=this._viewer.canvas.getItemHandlersByHitTest(i),o=r.find((function(t){return n._viewer.canvas.isItemHandlerSelected(t)}));return null!=o?o.item:null!=r[0]?r[0].item:null},t.prototype.waitUpdate=function(){return t=this,void 0,n=function(){return function(t,e){var n,i,r,o,s={label:0,sent:function(){if(1&r[0])throw r[1];return r[1]},trys:[],ops:[]};return o={next:a(0),throw:a(1),return:a(2)},"function"==typeof Symbol&&(o[Symbol.iterator]=function(){return this}),o;function a(o){return function(a){return function(o){if(n)throw new TypeError("Generator is already executing.");for(;s;)try{if(n=1,i&&(r=2&o[0]?i.return:o[0]?i.throw||((r=i.return)&&r.call(i),0):i.next)&&!(r=r.call(i,o[1])).done)return r;switch(i=0,r&&(o=[2&o[0],r.value]),o[0]){case 0:case 1:r=o;break;case 4:return s.label++,{value:o[1],done:!1};case 5:s.label++,i=o[1],o=[0];continue;case 7:o=s.ops.pop(),s.trys.pop();continue;default:if(!((r=(r=s.trys).length>0&&r[r.length-1])||6!==o[0]&&2!==o[0])){s=0;continue}if(3===o[0]&&(!r||o[1]>r[0]&&o[1]<r[3])){s.label=o[1];break}if(6===o[0]&&s.label<r[1]){s.label=r[1],r=o;break}if(r&&s.label<r[2]){s.label=r[2],s.ops.push(o);break}r[2]&&s.ops.pop(),s.trys.pop();continue}o=e.call(t,s)}catch(a){o=[6,a],i=0}finally{n=r=0}if(5&o[0])throw o[1];return{value:o[0]?o[1]:void 0,done:!0}}([o,a])}}}(this,(function(t){switch(t.label){case 0:return[4,this._viewer.canvas.waitUpdate()];case 1:return[2,t.sent()]}}))},new((e=void 0)||(e=Promise))((function(i,r){function o(t){try{a(n.next(t))}catch(e){r(e)}}function s(t){try{a(n.throw(t))}catch(e){r(e)}}function a(t){var n;t.done?i(t.value):(n=t.value,n instanceof e?n:new e((function(t){t(n)}))).then(o,s)}a((n=n.apply(t,[])).next())}));var t,e,n},Object.defineProperty(t.prototype,"product",{get:function(){var t=this.currentSurface;return null==t?null:t.parentProduct},enumerable:!0,configurable:!0}),t.prototype.checkSelectionByHitTest=function(t,e){var n=this._viewer.pageToWorkspacePoint(t,e);return this._viewer.canvas.isSelectionByHitTest(n)},Object.defineProperty(t.prototype,"selectedItems",{get:function(){return this._viewer.canvas.getSelectedItemHandlers().toArray().map((function(t){return t.item}))},enumerable:!0,configurable:!0}),t.prototype.getPrintAreaVisualSize=function(t,e){var n=this.getPrintAreaBounds(t,e);return this.getVisualSize(n)},t.prototype.getVisualSize=function(t){var e=this._viewer.contentAngle;if(0===e)return HK.from(t);var n=new CB(0,0,t.width,t.height);return n.rotateAt(e,new QL),HK.from(n.bounds)},t.prototype.getPrintAreaBounds=function(t,e){var n=null!=t?t:this._viewer.userEditContainer,i=null!=e?e:this._viewer.getUserEditPrintArea();return null!=n.region?n.region:i.bounds},Object.defineProperty(t.prototype,"userEditContainer",{get:function(){return this._viewer.userEditContainer},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"userEditPrintArea",{get:function(){return this._viewer.getUserEditPrintArea()},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"suppressOutOfRegionManipulation",{get:function(){return this._viewer.canvas.suppressOutOfRegionManipulation},enumerable:!0,configurable:!0}),t.prototype.updateSelection=function(){null!=this._viewer.canvas&&this._viewer.canvas.updateSelection()},t.prototype.replaceItem=function(t,e){var n,i=t.parentGroupItem,r=t.parentContainer,o=null===(n=null!=i?i:r)||void 0===n?void 0:n.items;if(null!=o){var s=o.indexOf(t);o.replaceAt(e,s),e.parentContainer=r,e.parentGroupItem=i,null!=this._viewer.canvas&&this._viewer.canvas.handlerFactory.replaceItemHandler(t,e)}},t}(),D0=function(){function t(t){this._surface=t}return t.prototype.getBounds=function(t){var e=this.getPrintAreasBounds(t);return aB.union(e,new aB(0,0,this._surface.width,this._surface.height))},t.prototype.getPrintAreasBounds=function(t){return aB.getOverallBounds(this._surface.printAreas.toArray().map((function(e){return e.getBounds(t)})))},t}(),R0=function(t,e){var n="function"==typeof Symbol&&t[Symbol.iterator];if(!n)return t;var i,r,o=n.call(t),s=[];try{for(;(void 0===e||e-- >0)&&!(i=o.next()).done;)s.push(i.value)}catch(a){r={error:a}}finally{try{i&&!i.done&&(n=o.return)&&n.call(o)}finally{if(r)throw r.error}}return s},F0=function(){function t(){}return t.prototype.isAvailableFor=function(t){throw new qR("Violation.ts: isAvailableFor is not implemented!")},t.prototype.getViolationInfo=function(t,e){throw new qR("Violation.ts: getViolationState is not implemented!")},t.prototype.getStatePropertyName=function(){throw new qR("Violation.ts: getAlias is not implemented!")},t.prototype.getDataPropertyName=function(){throw new qR("Violation.ts: getAlias is not implemented!")},t._computeTotalViolationState=function(t){if(pX.isEmpty(t)||t.includes(u0.None))return u0.None;var e=t.filter((function(t){return null!=t}));return 0===e.length?u0.None:Math.max.apply(Math,function(){for(var t=[],e=0;e<arguments.length;e++)t=t.concat(R0(arguments[e]));return t}(e))},t.computeTotalViolationInfo=function(e,n,i){var r={},o=[],s={},a=[];return e.forEach((function(t){if(t.isAvailableFor(n)){var e=t.getViolationInfo(n,i);o.push(e.state),pX.isEmpty(e.message)||a.push(e.message),null!=e.data&&(s[t.getDataPropertyName()]=e.data),r[t.getStatePropertyName()]=e.state}})),r.state=t._computeTotalViolationState(o),r.data=s,r.messages=a,r},t}(),L0=function(){function t(){}return Object.defineProperty(t,"none",{get:function(){return{state:u0.None}},enumerable:!0,configurable:!0}),Object.defineProperty(t,"good",{get:function(){return{state:u0.Good}},enumerable:!0,configurable:!0}),t}();!function(t){t[t.None=0]="None",t[t.Good=1]="Good",t[t.Warning=2]="Warning",t[t.Bad=3]="Bad"}(u0||(u0={}));var B0=function(){return(B0=Object.assign||function(t){for(var e,n=1,i=arguments.length;n<i;n++)for(var r in e=arguments[n])Object.prototype.hasOwnProperty.call(e,r)&&(t[r]=e[r]);return t}).apply(this,arguments)},N0=function(){function t(t){var e=this;this._violationService=t,this._timeouts=[],this._onItemViolationStateChanged=function(t){var n=B0({},t.new);n.state!==u0.Good||null!=t.old&&t.old.state!==u0.Good&&t.old.state!==u0.None||(n.state=u0.None),e._violationViewChangedEvent.notify(n);var i=n.item.id,r=function(t){var n=e._timeouts.find((function(e){return e.id===t}));null!=n&&(e._timeouts=e._timeouts.filter((function(t){return t.id!==n.id})),clearInterval(n.timeoutId))};if(n.state!==u0.Good&&r(t.new.item.id),n.state===u0.Good){var o=setTimeout((function(t){var n=B0({},t);n.state=u0.None,n.messages=null,e._violationViewChangedEvent.notify(n),r(n.item.id)}),2e3,n);e._timeouts.push({id:i,timeoutId:o})}},this._violationViewChangedEvent=new rB,this._violationService.addItemViolationStateChanged(this._onItemViolationStateChanged)}return t.prototype.addViolationViewChanged=function(t){this._violationViewChangedEvent.add(t)},t.prototype.removeViolationViewChanged=function(t){this._violationViewChangedEvent.remove(t)},t}(),j0=function(){function t(t,e,n,i,r,o,s){var a=this;this._conf=e,this._violationServiceFactory=i,this._productHandler=r,this._messages=o,this._eventManager=s,this._onViolationViewChanged=function(t){var e=a._productHandler.getHandler(t.item);if(null!=e){var n=null!=t.messages?1===t.messages.length?t.messages[0]:a._messages.moreThanOneWarning:null;switch(t.state){case u0.Good:e.setGoodViolationIcon("");break;case u0.Warning:e.setWarningViolationIcon(n);break;case u0.Bad:e.setBadViolationIcon(n);break;case u0.None:e.setNoneViolationIcon()}}},this._onItemDpiChanged=function(t){var e=t.item;if((e instanceof qW||e instanceof fW)&&null!=(e instanceof qW?e.content instanceof fW?e.imageContent:null:e)){var n=a._productHandler.getHandler(e),i=Math.round(t.newValue),r=a._violationServiceFactory.renderingDpi,o=a._conf.qualityMeter.qualityLevels,s=a._getQualityChangeInfoBarText(i,r,o);n.setQualityChangeInfoBarText(s);var l=a._getQualityChangeScaleBarProgress(i,r,o,t.state);n.setQualityChangeScaleBarWidth(l),a._setScaleBarClass(t.state,o,n)}},t.violationWarningButtonsEnabled=e.violationWarningButtonsEnabled,t.qualityChangeContainersEnabled=e.qualityChangeContainersEnabled,(this._conf.qualityChangeContainersEnabled||this._conf.violationWarningButtonsEnabled)&&(this._addStyles(),t.violationWarningButtonsEnabled&&(this._violationViewController=new N0(n),this._violationViewController.addViolationViewChanged(this._onViolationViewChanged)),this._conf.qualityChangeContainersEnabled&&this._eventManager.addImageDpiChanged(this._onItemDpiChanged))}return t.prototype._getQualityChangeInfoBarText=function(t,e,n){return t+"/"+Math.round(n.warning/100*e)+" dpi"},t.prototype._getQualityChangeScaleBarProgress=function(t,e,n,i){var r=i===u0.Bad,o=(n.bad===n.warning?.5*n.bad:r?n.bad-(n.warning-n.bad):n.bad)*(e/100),s=Math.round((r?n.bad:n.warning)/100*e);return 100*(1-(s-t)/(s-o))},t.prototype._setScaleBarClass=function(t,e,n){var i=t===u0.Bad;e.bad===e.warning?n.setBadToGoodChangeScaleBarClass():i?n.setBadToWarningChangeScaleBarClass():n.setWarningToGoodChangeScaleBarClass()},t.prototype._addStyles=function(){var t=document.createElement("style");t.type="text/css",t.innerHTML="#cvWhitespace .da-quality-change-container {\n            padding: 2px;\n            margin: 4px;\n            background-color: rgba(97, 97, 97, 0.9);\n            height: 24px;\n            z-index: -2;\n            min-width: 76px;\n            flex-direction: column;            \n            display: none;\n          }\n          #cvWhitespace .da-quality-change-container.buttonsShown {\n            display: flex;\n          }\n          #cvWhitespace .da-quality-change-container .da-quality-change-scale-bar {\n            width: 72px;\n            height: 4px;\n            position: relative;\n            transition: width 0.1s linear;\n          }\n          #cvWhitespace .da-quality-change-container .da-quality-change-scale-bar.da-no-animation {\n            transition: none;\n          }\n          #cvWhitespace .da-quality-change-container .da-quality-change-scale-bar:before {\n            position: absolute;\n            content: \"\";\n            width: 72px;\n            height: 4px;\n            z-index: -1;\n          }\n          #cvWhitespace .da-quality-change-container .da-quality-change-scale-bar.da-bad-to-warning {\n            background-color: #FFB300;\n          }\n          #cvWhitespace .da-quality-change-container .da-quality-change-scale-bar.da-bad-to-warning:before {\n            background-color: red;\n          }\n          #cvWhitespace .da-quality-change-container .da-quality-change-scale-bar.da-warning-to-good {\n            background-color: lawngreen;\n          }\n          #cvWhitespace .da-quality-change-container .da-quality-change-scale-bar.da-warning-to-good:before {\n            background-color: #FFB300;\n          }\n          #cvWhitespace .da-quality-change-container .da-quality-change-scale-bar.da-bad-to-good {\n            background-color: lawngreen;\n          }\n          #cvWhitespace .da-quality-change-container .da-quality-change-scale-bar.da-bad-to-good:before {\n            background-color: red;\n          }\n          #cvWhitespace .da-quality-change-container .da-quality-change-info-bar {\n            font-family: 'Roboto';\n            font-weight: 500;\n            font-size: 8pt;\n            color: white;\n            text-align: center;\n            display: flex;\n            align-items: center;\n            justify-content: center;\n            flex: 1;\n          }\n          #cvWhitespace .da-violation-container {\n            display: flex;\n            align-items: center;\n            pointer-events: none;\n          }\n          #cvWhitespace .da-violation-icon {            \n            text-shadow: none;\n            padding: 0;            \n            background: transparent;\n            border: none;\n            visibility: hidden;\n            outline: none !important;\n            pointer-events: none !important;\n            width: 32px;\n            height: 32px;\n          }\n          .da-quality-change-container.buttonsShown ~ .da-violation-icon {\n            width: 0 !important;\n            height: 0 !important;\n            opacity: 0;\n          }\n          #cvWhitespace .da-violation-icon svg {\n            width: 100%;\n            height: 100%;\n            transform: scale(0.8);\n            transition: opacity 0.25s ease-in-out, transform 0.25s linear, color 0.25s linear;\n            display: none;\n          }\n          #cvWhitespace .da-violation-icon.da-violation-icon-bad,\n          #cvWhitespace .da-violation-icon.da-violation-icon-warning,\n          #cvWhitespace .da-violation-icon.da-violation-icon-good {\n            display: flex;\n          }\n          #cvWhitespace .da-violation-icon.da-violation-icon-warning,\n          #cvWhitespace .da-violation-icon.da-violation-icon-bad {\n            pointer-events: auto !important;\n          }\n          #cvWhitespace .da-violation-icon.da-violation-icon-good .good-svg {\n            opacity: 1;\n            display: flex;\n          }\n          #cvWhitespace .da-violation-icon.da-violation-icon-bad .warning-svg {\n            opacity: 0.75;\n            color: red;\n            display: flex;\n          }\n          #cvWhitespace .da-violation-icon.da-violation-icon-bad:active .warning-svg {\n            color: #da0000;\n          }\n          #cvWhitespace .da-violation-icon.da-violation-icon-warning .warning-svg {\n            display: flex;\n            color: #FFB300;\n            opacity: 0.55;\n          }\n          #cvWhitespace .da-violation-icon.da-violation-icon-warning:active .warning-svg {\n            color: #da8f00;\n          }\n          #cvWhitespace .da-violation-icon.da-violation-icon-good .good-svg {\n            opacity: 1;\n            color: lawngreen;\n          }\n          #cvWhitespace .da-violation-icon.da-violation-icon-good:active .good-svg {\n            color: #63c900;\n          }\n          #cvWhitespace .da-violation-icon.active svg,\n          #cvWhitespace .da-violation-icon.active svg {\n            opacity: 1 !important;\n          }\n          #cvWhitespace .da-violation-icon:active svg,\n          #cvWhitespace .da-violation-icon:hover svg,\n          #cvWhitespace .da-violation-icon:active svg,\n          #cvWhitespace .da-violation-icon:hover svg {\n            opacity: 1 !important;\n            transform: scale(1);\n          }",document.head.appendChild(t)},t.prototype.dispose=function(){var t,e;null===(t=this._violationViewController)||void 0===t||t.removeViolationViewChanged(this._onViolationViewChanged),null===(e=this._eventManager)||void 0===e||e.removeImageDpiChanged(this._onItemDpiChanged)},t}(),z0=function(){var t=function(e,n){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(e,n)};return function(e,n){function i(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(i.prototype=n.prototype,new i)}}(),H0=function(){return(H0=Object.assign||function(t){for(var e,n=1,i=arguments.length;n<i;n++)for(var r in e=arguments[n])Object.prototype.hasOwnProperty.call(e,r)&&(t[r]=e[r]);return t}).apply(this,arguments)},V0=function(t){function e(e,n,i,r,o){var s=t.call(this)||this;return s._productHandler=e,s._messages=i,s._renderingDpi=r,s._eventManager=o,s._dpiValuePlaceholder="[DPI_VALUE_PLACEHOLDER]",s._getQualityInfo=function(t){var e,n,i=s._productHandler.getHandler(t);if(null==i)return L0.none;var r=null===(n=null===(e=t.source)||void 0===e?void 0:e.origin)||void 0===n?void 0:n.originalSize,o=s._getRenderingToSourceImageDpiRatio(i,r);if(null==o)return L0.none;var a=s._renderingDpi*o,l={dpiValue:a},c=100*o;return s._qualityLevels.bad-c>.001?{state:u0.Bad,data:l,message:s._getMessage(u0.Bad,a)}:s._qualityLevels.warning-c>.001?{state:u0.Warning,data:l,message:s._getMessage(u0.Warning,a)}:{state:u0.Good,data:l}},s._getRenderingToSourceImageDpiRatio=function(t,e){var n,i,r=t.rectangle;return null!=e?(n=e.height,i=e.width):(n=t.item.source.height,i=t.item.source.width),Math.min(n/(r.height*s._renderingDpi/72),i/(r.width*s._renderingDpi/72))},s._checkDpiChanging=function(t,e,n){var i,r,o=null===(i=null==e?void 0:e.data[s.getDataPropertyName()])||void 0===i?void 0:i.dpiValue,a=null===(r=null==t?void 0:t.data)||void 0===r?void 0:r.dpiValue;null==o||gB(o,a)||s._eventManager.imageDpiChangedEvent.notify({oldValue:o,newValue:a,item:n,state:t.state})},s._qualityLevels=H0({bad:100,warning:100},(null==n?void 0:n.qualityLevels)||{}),s._qualityLevels.warning<s._qualityLevels.bad&&console.warn("violationWarningsSettings.qualityMeter.qualityLevels.warning cannot be less than violationWarningsSettings.qualityMeter.qualityLevels.bad."),s}return z0(e,t),Object.defineProperty(e.prototype,"renderingDpi",{set:function(t){this._renderingDpi=t},enumerable:!0,configurable:!0}),e.prototype.isAvailableFor=function(t){return t instanceof fW||t instanceof qW},e.prototype.getViolationInfo=function(t,e){var n,i;if(t instanceof qW&&t.isStubOrEmpty)return L0.good;var r=JZ.getImageItem(t);if(null==r||null==(null===(n=r.source)||void 0===n?void 0:n.id))return L0.none;if(null===(i=r.source)||void 0===i?void 0:i.isVector)return L0.good;var o=t.violationSettings instanceof uW?t.violationSettings:null;if(null==o||!o.allowImageQuality)return L0.good;var s=this._getQualityInfo(r);return this._checkDpiChanging(s,e,t),s},e.prototype._getMessage=function(t,e){var n=Math.round(e).toString();return(t===u0.Bad?this._messages.badImageResolution:this._messages.warningImageResolution).replace(this._dpiValuePlaceholder,n)},e.prototype.getStatePropertyName=function(){return e.statePropertyName},e.prototype.getDataPropertyName=function(){return e.dataPropertyName},e.dataPropertyName="qualityViolationData",e.statePropertyName="qualityViolationState",e}(F0),U0=function(){var t=function(e,n){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(e,n)};return function(e,n){function i(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(i.prototype=n.prototype,new i)}}(),W0=function(t,e){var n="function"==typeof Symbol&&t[Symbol.iterator];if(!n)return t;var i,r,o=n.call(t),s=[];try{for(;(void 0===e||e-- >0)&&!(i=o.next()).done;)s.push(i.value)}catch(a){r={error:a}}finally{try{i&&!i.done&&(n=o.return)&&n.call(o)}finally{if(r)throw r.error}}return s},$0=function(t){function e(e,n){var i=t.call(this)||this;return i._productHandler=e,i._messages=n,i}return U0(e,t),e.prototype.isAvailableFor=function(t){return!0},e.prototype.getViolationInfo=function(t){var e,n,i;if(!JZ.isTextItemHandlerReady(t,this._productHandler))return L0.none;if(!t.violationSettings.allowSafetyLines||(null===(i=t.parentContainer)||void 0===i?void 0:i.name)!==P$.MAIN_CONTAINER_NAME)return L0.good;var r=JZ.getItemBoundsForViolationCheck(this._productHandler.getHandler(t)),o=t.parentContainer.parentComponent.printAreas,s=!1;try{for(var a=function(t){var e="function"==typeof Symbol&&Symbol.iterator,n=e&&t[e],i=0;if(n)return n.call(t);if(t&&"number"==typeof t.length)return{next:function(){return t&&i>=t.length&&(t=void 0),{value:t&&t[i++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")}(o),l=a.next();!l.done&&(s=null!=this._getSafetyRectsFromPrintArea(l.value).find((function(t){return!t.containsRectangle(r)})));l=a.next());}catch(u){e={error:u}}finally{try{l&&!l.done&&(n=a.return)&&n.call(a)}finally{if(e)throw e.error}}var c=s?u0.Warning:u0.Good;return{state:c,message:c===u0.Warning?this._messages.safetyLinesViolationWarning:null}},e.prototype._getSafetyRectsFromPrintArea=function(t){var e=[];return e.push.apply(e,function(){for(var t=[],e=0;e<arguments.length;e++)t=t.concat(W0(arguments[e]));return t}(t.safetyLines.toArray().map((function(e){return e.getRectangle(t.bounds)})))),t.bleed.isEmpty&&t.slug.isEmpty||e.push(t.getBounds(e$.Trim)),e},e.prototype.getStatePropertyName=function(){return e.statePropertyName},e.statePropertyName="safetyLineViolationState",e}(F0),G0=function(){var t=function(e,n){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(e,n)};return function(e,n){function i(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(i.prototype=n.prototype,new i)}}(),q0=function(t){function e(e,n){var i=t.call(this)||this;return i._productHandler=e,i._messages=n,i}return G0(e,t),e.prototype.isAvailableFor=function(t){return!0},e.prototype.getViolationInfo=function(t){var e,n,i;if(!JZ.isTextItemHandlerReady(t,this._productHandler))return L0.none;if(!t.violationSettings.allowBleedArea||(null===(i=t.parentContainer)||void 0===i?void 0:i.name)!==P$.MAIN_CONTAINER_NAME)return L0.good;var r=JZ.getItemBoundsForViolationCheck(this._productHandler.getHandler(t)),o=t.parentContainer.parentComponent.printAreas,s=!1;try{for(var a=function(t){var e="function"==typeof Symbol&&Symbol.iterator,n=e&&t[e],i=0;if(n)return n.call(t);if(t&&"number"==typeof t.length)return{next:function(){return t&&i>=t.length&&(t=void 0),{value:t&&t[i++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")}(o),l=a.next();!l.done;l=a.next()){var c=l.value,u=c.safetyLines.firstOrDefault((function(t){return t.pdfBox===p$.Trim})),h=c.safetyLines.firstOrDefault((function(t){return t.pdfBox===p$.Bleed}));if(null!=u&&null!=h||!c.bleed.isEmpty){var d=c.bleed.isEmpty?u.getRectangle(c.bounds):c.getBounds(e$.Trim),p=c.bleed.isEmpty?h.getRectangle(c.bounds):c.getBounds(e$.Bleed);if((r.left<d.left&&r.left>p.left||r.top<d.top&&r.top>p.top||r.right>d.right&&r.right<p.right||r.bottom>d.bottom&&r.bottom<p.bottom)&&(s=!0),!s)break}}}catch(m){e={error:m}}finally{try{l&&!l.done&&(n=a.return)&&n.call(a)}finally{if(e)throw e.error}}var f=s?u0.Warning:u0.Good;return{state:f,message:f===u0.Warning?this._messages.bleedViolationWarning:null}},e.prototype.getStatePropertyName=function(){return e.statePropertyName},e.statePropertyName="bleedViolationState",e}(F0),X0=function(){var t=function(e,n){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(e,n)};return function(e,n){function i(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(i.prototype=n.prototype,new i)}}(),K0=function(t){function e(e,n){var i=t.call(this)||this;return i._productHandler=e,i._messages=n,i._isItemOutOfRegion=function(t){if(null==t.parentContainer||null==t.parentContainer.region)return!1;var e=JZ.getItemBoundsForViolationCheck(i._productHandler.getHandler(t)),n=t.parentContainer.region.clone();return!WK(aB.intersect(n,e),e)},i}return X0(e,t),e.prototype.isAvailableFor=function(t){return!0},e.prototype.getViolationInfo=function(t){var e;if(!JZ.isTextItemHandlerReady(t,this._productHandler))return L0.none;if(!t.violationSettings.allowRegion||(null===(e=t.parentContainer)||void 0===e?void 0:e.name)!==P$.MAIN_CONTAINER_NAME)return L0.good;var n=this._isItemOutOfRegion(t)?u0.Warning:u0.Good;return{state:n,message:n===u0.Warning?this._messages.regionViolationWarning:null}},e.prototype.getStatePropertyName=function(){return e.statePropertyName},e.statePropertyName="regionViolationState",e}(F0),Y0=function(){var t=function(e,n){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(e,n)};return function(e,n){function i(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(i.prototype=n.prototype,new i)}}(),Q0=function(t){function e(e,n){var i=t.call(this)||this;return i._productHandler=e,i._messages=n,i.prepareItem=function(t){t instanceof uU&&(t.checkTextCrop=!0)},i}return Y0(e,t),e.prototype.isAvailableFor=function(t){return t instanceof uU},e.prototype.getViolationInfo=function(t){if(!JZ.isTextItemHandlerReady(t,this._productHandler))return L0.none;if(!t.violationSettings.allowTextCrop)return L0.good;var e=this._productHandler.getHandler(t);if(e instanceof pJ&&e.isInEdit)return L0.none;var n=e.textCropped?u0.Warning:u0.Good;return{state:n,message:n===u0.Warning?this._messages.textCropWarning:null}},e.prototype.getStatePropertyName=function(){return e.statePropertyName},e.statePropertyName="textCropViolationState",e}(F0),Z0=function(){return(Z0=Object.assign||function(t){for(var e,n=1,i=arguments.length;n<i;n++)for(var r in e=arguments[n])Object.prototype.hasOwnProperty.call(e,r)&&(t[r]=e[r]);return t}).apply(this,arguments)},J0=function(t,e){var n="function"==typeof Symbol&&t[Symbol.iterator];if(!n)return t;var i,r,o=n.call(t),s=[];try{for(;(void 0===e||e-- >0)&&!(i=o.next()).done;)s.push(i.value)}catch(a){r={error:a}}finally{try{i&&!i.done&&(n=o.return)&&n.call(o)}finally{if(r)throw r.error}}return s},t1=function(){function t(t,e,n){var i=this;this._violations=t,this._eventManager=e,this._productHandler=n,this._globalCheck=function(){c0.debugLog('<span style="color: white">Start global check</span>');for(var t=i._itemsToCheck.length-1;t>=0;t--)i._checkItem(i._itemsToCheck.get(t));c0.debugLog('<span style="color: white">End global check</span>')},this._globalCheckPeriod=700,this._globalCheckDebounce=pX.throttle(this._globalCheck,this._globalCheckPeriod,{leading:!1,trailing:!0}),this._itemsToCheck=new JH,this._violationInfos=new Map,this._isStarted=!1,this.getItemInfo=function(t,e){return void 0===e&&(e=!1),c0.debugLog('Get item info for <span style="color: rgb(0,255,255)">'+t.name.substring(0,20)+"...</span> "+(e?" with force":"")),!e&&i._violationInfos.has(t.id)||i._checkItem(t),i._violationInfos.get(t.id)},this._checkItem=function(t){var e=i._violationInfos.get(t.id),n=F0.computeTotalViolationInfo(i._violations,t,i._violationInfos.get(t.id));i._violationInfos.set(t.id,n),(null==e?void 0:e.state)===n.state&&IB(null==e?void 0:e.messages,n.messages)||((null==e?void 0:e.state)!==n.state?i._logStateChanged(t,n.state):c0.debugLog('Item <span style="color: rgb(0,255,255)">'+t.name.substring(0,20)+"...</span> changed message"),i._itemViolationStateChangedEvent.notify({new:Z0(Z0({},n),{item:t}),old:null!=e?Z0(Z0({},e),{item:t}):null})),n.state===u0.None&&c0.debugLog('Item <span style="color: rgb(0,255,255)">'+t.name.substring(0,20)+"...</span> has undefined state"),i._itemsToCheck.contains(t)&&i._itemsToCheck.remove(t)},this._scheduleSurfaceItemsCheck=function(){c0.debugLog("Schedule all items"),i._itemsToCheck.clear(),i._violationInfos.clear(),i._productHandler.currentSurface.getAllItems({ignoreMockups:!0,excludeGroupItems:!1,flatGroupItems:!0}).forEach(i._scheduleItemCheck)},this._scheduleItemCheck=function(t){!i._itemsToCheck.contains(t)&&!t.locked&&t.parentContainer instanceof iV&&(c0.debugLog('Schedule item <span style="color: rgb(0,255,255)">'+t.name.substring(0,20)+"...</span>"),i._violations.forEach((function(e){return null!=e.prepareItem?e.prepareItem(t):null})),i._itemsToCheck.contains(t)||i._itemsToCheck.push(t))},this._onItemRemoved=function(t){i._removeViolationItemData(t.item)},this._removeViolationItemData=function(t){i._violationInfos.has(t.id)&&i._violationInfos.delete(t.id),i._itemsToCheck.contains(t)&&i._itemsToCheck.remove(t)},this._onItemAdded=function(t){i._scheduleItemCheck(t.item)},this._onImageContentChanged=function(t){null!=t&&i._scheduleItemCheck(t)},this._onContainerCollectionChanged=function(t){t.type!==jH.Move&&t.item instanceof iV&&t.item.items.forEach(t.type===jH.Remove?i._removeViolationItemData:i._scheduleItemCheck)},this._itemViolationStateChangedEvent=new rB,this.dispose=function(){var t=i._eventManager;t.removeSurfaceChanged(i._scheduleSurfaceItemsCheck),t.removePrintAreaCollectionChanged(i._scheduleSurfaceItemsCheck),t.removePrintAreaPropertyChanged(i._scheduleSurfaceItemsCheck),t.removeItemAdded(i._onItemAdded),t.removeItemRemoved(i._onItemRemoved),t.removeItemPropertyChanged(i._scheduleItemCheck),t.removeItemChanging(i._scheduleItemCheck),t.removeItemChanged(i._scheduleItemCheck),i._itemsToCheck.remove_collectionChanged(i._globalCheckDebounce)},this._logStateChanged=function(t,e){var n="";switch(e){default:n="black";break;case u0.Good:n="green";break;case u0.Warning:n="yellow";break;case u0.Bad:n="red"}var i='item with name <span style="color: rgb(0,255,255)">"'+t.name.substring(0,20)+'..."</span> change violation on <span style="color: '+n+'">'+u0[e].toString()+"</span>.";c0.debugLog(i)},0!==this._violations.length&&this._init()}return t.prototype._init=function(){var t=this._eventManager;t.addSurfaceChanged(this._scheduleSurfaceItemsCheck),t.addPrintAreaPropertyChanged(this._scheduleSurfaceItemsCheck),t.addPrintAreaCollectionChanged(this._scheduleSurfaceItemsCheck),t.addReady(this._scheduleSurfaceItemsCheck),t.addTextWhizzReady(this._scheduleSurfaceItemsCheck),t.addItemAdded(this._onItemAdded),t.addItemRemoved(this._onItemRemoved),t.addItemPropertyChanged(this._scheduleItemCheck),t.addItemChanging(this._scheduleItemCheck),t.addItemChanged(this._scheduleItemCheck),t.addImageContentChanged(this._onImageContentChanged),t.addContainerCollectionChanged(this._onContainerCollectionChanged),this._itemsToCheck.add_itemAdded(this._globalCheckDebounce),this._scheduleSurfaceItemsCheck(),this._isStarted=!0},t.prototype.extend=function(t){var e;pX.isEmpty(t)||(c0.debugLog("Extend violations with "+t.map((function(t){return t.constructor.prototype.name})).join(", ")),(e=this._violations).push.apply(e,function(){for(var t=[],e=0;e<arguments.length;e++)t=t.concat(J0(arguments[e]));return t}(t)),this._isStarted||this._init(),this._globalCheckDebounce())},t.prototype.addItemViolationStateChanged=function(t){this._itemViolationStateChangedEvent.add(t)},t.prototype.removeItemViolationStateChanged=function(t){this._itemViolationStateChangedEvent.remove(t)},t}(),e1=function(){function t(t,e,n,i){var r,o,s,a;this._conf=t,this._messages=e,this._eventManager=n,this._productHandler=i,this._renderingDpi=null!==(s=null===(o=null===(r=this._conf)||void 0===r?void 0:r.qualityMeter)||void 0===o?void 0:o.renderingDpi)&&void 0!==s?s:300,this._violations=[(null===(a=this._conf.qualityMeter)||void 0===a?void 0:a.enabled)?new V0(this._productHandler,this._conf.qualityMeter,this._messages,this._renderingDpi,this._eventManager):null,this._conf.safetyLineViolationWarningEnabled?new $0(this._productHandler,this._messages):null,this._conf.bleedViolationWarningEnabled?new q0(this._productHandler,this._messages):null,this._conf.regionViolationWarningEnabled?new K0(this._productHandler,this._messages):null,this._conf.textCropViolationWarningEnabled?new Q0(this._productHandler,this._messages):null].filter((function(t){return null!=t}))}return t.prototype.create=function(){return new t1(this._violations,this._eventManager,this._productHandler)},Object.defineProperty(t.prototype,"renderingDpi",{get:function(){return this._renderingDpi},set:function(t){this._renderingDpi=t,c0.debugLog('Set dpi: <span style="color: rgb(0,255,255)">'+t+"</span>");var e=this._violations.find((function(t){return t instanceof V0}));null!=e&&(e.renderingDpi=t)},enumerable:!0,configurable:!0}),t}(),n1=function(){var t=function(e,n){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(e,n)};return function(e,n){function i(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(i.prototype=n.prototype,new i)}}(),i1=function(t,e){var n="function"==typeof Symbol&&t[Symbol.iterator];if(!n)return t;var i,r,o=n.call(t),s=[];try{for(;(void 0===e||e-- >0)&&!(i=o.next()).done;)s.push(i.value)}catch(a){r={error:a}}finally{try{i&&!i.done&&(n=o.return)&&n.call(o)}finally{if(r)throw r.error}}return s},r1=function(t){var e="function"==typeof Symbol&&Symbol.iterator,n=e&&t[e],i=0;if(n)return n.call(t);if(t&&"number"==typeof t.length)return{next:function(){return t&&i>=t.length&&(t=void 0),{value:t&&t[i++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")},o1=function(t){function e(e){var n=e.holderElement,i=e.backendUrl,r=e.surface,o=void 0===r?new d$:r,s=e.canvasBackground,a=void 0===s?"chess":s,l=e.rulerEnabled,c=void 0===l||l,u=e.frontEndTextRenderingEnabled,h=void 0!==u&&u,d=e.zone,p=e.productViewerPartId,f=void 0===p?"ProductViewer":p,m=t.call(this,void 0===d?null:d)||this;return m._containersFlatList=[],m.containersFlatListChangedEvent=new rB,m._textFormattingEnabled=!0,m._updateItem=function(t){t instanceof GU&&(t.fitToPathStep=m.configuration.text.fitToPathStep)},m._onHistoryChanged=function(t,e){m._history.addSnapshot()},m._surface=null,m._onCurrentSurfaceContainerAdded=function(t){t.item.name===P$.MAIN_CONTAINER_NAME&&t.item.renderingType===ZH.Normal&&(m.userEditContainer=t.item)},m._onSurfacePropertyChanged=function(t,e){switch(e){case"mockup":m._updateContainersFlatList();break;case"width":case"height":var n=m._surfaceHandler.getBounds(e$.Total);m._canvas.setWorkspaceSize(n.width,n.height);break;case"rotateAngle":m.contentAngle=m.surface.rotateAngle}},m._onPrintAreaPropertyChanged=function(t,e){"bounds"!==e&&"slug"!==e&&"bleed"!==e||m._updateCanvasByPrintAreaBounds()},m._updateCanvasByPrintAreaBounds=function(){var t=m._surfaceHandler.getBounds(e$.Total);m._canvas.workspaceWidth===t.width&&m._canvas.workspaceHeight===t.height||m._canvas.setWorkspaceSize(t.width,t.height);var e=new QL(-Math.min(0,t.left),-Math.min(0,t.top));m._canvas.offset=e;var n=m._surfaceHandler.getPrintAreasBounds(e$.Trim);m._baseRulersOffset=new QL(n.left+e.x,n.top+e.y)},m._updateContainersFlatList=function(){var t=m._containersFlatList;m._containersFlatList=function(){for(var t=[],e=0;e<arguments.length;e++)t=t.concat(i1(arguments[e]));return t}(m.surface.mockup.underContainers,m.surface.containers,m.surface.mockup.overContainers,m.previewMode?[]:m._safetyLinesHandler.safetyLinesContainers,m._watermarkHandler.watermarkContainers,m._gridHandler.gridContainers),m.containersFlatListChangedEvent.notify(m._getDifference(t,m._containersFlatList))},m._setActiveThrowsException=!1,m.frontEndTextRenderingEnabled=h,m._backendUrl=i,m._serviceEndPoint=kB(m._backendUrl,"api/ccviewer"),m._normalizeHolderElement(n),m._viewerElement=m._createViewerElement(n,f),m._canvas=m._createCanvas(),m._configuration=new v0(null),m._screenXDpi=m._screenYDpi=96,m._canvasSaveStateDelegate=null,m._bitmapViewerSaveStateDelegate=null,m._mouseMoveDelegate=null,m._mouseUpDelegate=null,m._mouseDownDelegate=null,m._ignoreMouseDown=!1,m._ignoreMouseDownTimeout=null,m._doubleClickDelegate=null,m._zoomDelegate=null,m._resizeDelegate=null,m._keyDownDelegate=null,m._keyUpDelegate=null,m._modalBgClass=null,m._clearSelectionOnDocumentClick=!0,m._clearSelectionOnViewerClick=!0,m._devicePixelRatio=1,m._whitespaceDiv=null,m._resizeCheckIntervalId=null,m._workspaceRotation=new FY,m._safetyLinesHandler=new gX(m._configuration.printZone),m._safetyLinesHandler.addChanged(m._updateContainersFlatList),m._safetyLinesHandler.addVisibilityChanged((function(){m.canvas.redraw()})),m._watermarkHandler=new _0(null,m._canvas.service),m._watermarkHandler.add_watermarkCollectionChanged(m._updateContainersFlatList),m._gridHandler=new dX,m._gridHandler.addChanged((function(){m.canvas.redraw()})),m._eventManager=new O0(o.parentProduct,m),m._eventManager.addPrintAreaPropertyChanged(m._onPrintAreaPropertyChanged),m._eventManager.addPrintAreaCollectionChanged(m._updateCanvasByPrintAreaBounds),m.frontEndTextRenderingEnabled&&m._eventManager.addItemPropertyChanged((function(t,e){t instanceof uU&&m._canvas.handlerFactory.replaceTextItemHandler(t)})),m._productHandler=new M0(m),m.surface=o,m._licenseHandler=new C0(m,m._serviceEndPoint),m.initialize({ignore:!1}),m.zoomMode=zq.bestFit,m.viewportAlignment=jq.centerCenter,m.rulerEnabled=c,m._setCanvasBackground(a),m._snapshotHandler=new A0(m),m._variableItemHelper=new vQ(m._productHandler,m._canvas,m._eventManager),m._history=m._initializeHistory(),m._productThemeManager=new k0(m._productHandler,null,m._canvas,m._eventManager),m._itemsDataApplier=new qZ(m._productHandler,m._canvas,m._productThemeManager),m._commandManager=new HZ(m._history,m._productHandler,m._productThemeManager,m._variableItemHelper,m._eventManager,m._canvas,m._itemsDataApplier),m.eventManager.addItemAdded((function(t){return m._updateItem(t.item)})),m.setMouseBehavior(eJ.Selection),m}return n1(e,t),Object.defineProperty(e.prototype,"containersFlatList",{get:function(){return this._containersFlatList},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"commandManager",{get:function(){return this._commandManager},enumerable:!0,configurable:!0}),e.prototype.setMouseBehavior=function(t,e,n){if(null==this.canvas)throw new GR("Canvas is not initialized!");this.canvas.mouseBehaviorManager.setMouseBehavior(t,e,n)},Object.defineProperty(e.prototype,"mouseBehavior",{get:function(){return this.canvas.mouseBehaviorManager.currentMouseBehavior},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"configuration",{get:function(){return this._configuration},set:function(t){var e,n;this._configuration=new v0(t),this.gridHandler.setConfig(this._configuration.grid,this._configuration.rulers),this._setRulersConfig(null===(e=this._configuration)||void 0===e?void 0:e.rulers),this._variableItemHelper.maskSymbol=this._configuration.variableItemsMaskSymbol,this._productThemeManager.productThemes=this._configuration.productThemes,null!=this.surface&&null!=this.surface.parentProduct&&this.surface.parentProduct.getAllItems().forEach(this._updateItem),this.history.historySize=this.configuration.historySize,this.commandManager.configuration=this.configuration,this._safetyLinesHandler.conf=this._configuration.printZone,this.canvas.conf=this._configuration;var i=null===(n=this._configuration)||void 0===n?void 0:n.violationService;(null==i?void 0:i.enabled)&&(this._violationServiceFactory=new e1(i,this._configuration.messages,this._eventManager,this._productHandler),this._violationService=this._violationServiceFactory.create(),((null==i?void 0:i.qualityChangeContainersEnabled)||(null==i?void 0:i.violationWarningButtonsEnabled))&&(this._CanvasViolationVisualizer=new j0(this.canvas,i,this._violationService,this._violationServiceFactory,this._productHandler,this._configuration.messages,this._eventManager)))},enumerable:!0,configurable:!0}),e.prototype.exitEditMode=function(){this._canvas.getAllItemHandlers({onlyType:pJ}).forEach((function(t){t.editing&&t.exitEditMode()}))},e.prototype._initializeHistory=function(){var t=new I0(this._snapshotHandler);return this.eventManager.addSurfaceCollectionChanged(this._onHistoryChanged),this.eventManager.addContainerCollectionChanged(this._onHistoryChanged),this.eventManager.addItemCollectionChanged(this._onHistoryChanged),this.eventManager.addUnderMockupContainerCollectionChanged(this._onHistoryChanged),this.eventManager.addOverMockupContainerCollectionChanged(this._onHistoryChanged),this.eventManager.addPreviewMockupContainerCollectionChanged(this._onHistoryChanged),this.eventManager.addItemPropertyChanged(this._onHistoryChanged),this.canvas.setHistory(t),t},e.prototype._normalizeHolderElement=function(t){t.style.overflow="hidden",t.style.userSelect="none",t.style.webkitUserSelect="none",t.style.msUserSelect="none",t.style.position="relative"},e.prototype._createViewerElement=function(t,e){var n=document.createElement("div");return n.id=t.id+"_"+e,n.attributes.name=n.id,n.style.width="100%",n.style.height="100%",n.style.display="block",n.style.zIndex="1",n.style.margin="0",n.style.padding="0",n.style.border="0",n.style.position="relative",n.style.overflow="hidden",n.style.transform="translate3d(0px, 0px, 0px)",n.style.touchAction="none",t.appendChild(n),n},Object.defineProperty(e.prototype,"licenseHandler",{get:function(){return this._licenseHandler},enumerable:!0,configurable:!0}),e.prototype._createCanvas=function(){var t=new y0(this);return t.serviceEndpoint=this._serviceEndPoint,t.loadingImageUrl=kB(this._serviceEndPoint,"/resource?image=waitclock"),t.handlerUrl=this._serviceEndPoint,t.initialize(),t.multipleSelectionEnabled=!0,t},e.prototype._setCanvasBackground=function(t){"chess"===t?(this.canvas.backgroundImage=kB(this._serviceEndPoint,"/resource?image=background"),this.canvas.isSquaredBackground=!0):this.canvas.surfaceCanvas.style.backgroundColor=t.color},e.prototype.setTextWhizzModule=function(t){this.canvas.setTextWhizzModule(t,this._backendUrl),c0.debugLog("TextWhizz loaded"),this.eventManager.textWhizzReadyEvent.notify(t)},e.prototype.initTextEditor=function(t,e,n){void 0===n&&(n=eX.Default),this.canvas.initTextEditor(n,t,e,this._serviceEndPoint)},Object.defineProperty(e.prototype,"canvas",{get:function(){return this._canvas},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"whitespaceDiv",{get:function(){return this._whitespaceDiv},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"surface",{get:function(){return this._surface},set:function(t){if(null==t)throw new KR("surface");var e=this.surface;t!==e&&(this._canvas.clearSelectedItemHandlers(),this._surface=t,this._eventManager.setProduct(t.parentProduct),this._onCurrentSurfaceChange(e))},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"safetyLinesHandler",{get:function(){return this._safetyLinesHandler},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"gridHandler",{get:function(){return this._gridHandler},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"surfaceHandler",{get:function(){return this._surfaceHandler},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"violationService",{get:function(){return this._violationService},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"violationServiceFactory",{get:function(){return this._violationServiceFactory},enumerable:!0,configurable:!0}),e.prototype._onCurrentSurfaceChange=function(t){var e,n,i,r,o,s,a,l,c,u,h,d;this._safetyLinesHandler.surface=this.surface,this._watermarkHandler.surface=this.surface,this._gridHandler.surface=this.surface,this._surfaceHandler=new D0(this.surface);var p=this._surfaceHandler.getBounds(e$.Total);if(this._updateCanvasByPrintAreaBounds(),this.canvas.service.beginMultiCall(),this._canvas.setWorkspaceSize(p.width,p.height),this._updateContainersFlatList(),this.canvas.service.endMultiCall(),null!=t){try{for(var f=r1(this._getContainerCollections(t)),m=f.next();!m.done;m=f.next()){var g=m.value;try{for(var y=(i=void 0,r1(g)),_=y.next();!_.done;_=y.next()){var v=_.value;try{for(var b=(o=void 0,r1(v.items)),w=b.next();!w.done;w=b.next())this.getHandler(w.value).canvas=null}catch(T){o={error:T}}finally{try{w&&!w.done&&(s=b.return)&&s.call(b)}finally{if(o)throw o.error}}}}catch(I){i={error:I}}finally{try{_&&!_.done&&(r=y.return)&&r.call(y)}finally{if(i)throw i.error}}g.remove_collectionChanged(this._updateContainersFlatList)}}catch(A){e={error:A}}finally{try{m&&!m.done&&(n=f.return)&&n.call(f)}finally{if(e)throw e.error}}t.containers.remove_itemAdded(this._onCurrentSurfaceContainerAdded)}try{for(var C=r1(this._getContainerCollections(this._surface)),x=C.next();!x.done;x=C.next()){g=x.value;try{for(var E=(c=void 0,r1(g)),S=E.next();!S.done;S=E.next()){v=S.value;try{for(var P=(h=void 0,r1(v.items)),O=P.next();!O.done;O=P.next())this.getHandler(O.value).canvas=this.canvas}catch(M){h={error:M}}finally{try{O&&!O.done&&(d=P.return)&&d.call(P)}finally{if(h)throw h.error}}}}catch(D){c={error:D}}finally{try{S&&!S.done&&(u=E.return)&&u.call(E)}finally{if(c)throw c.error}}g.add_collectionChanged(this._updateContainersFlatList)}}catch(R){a={error:R}}finally{try{x&&!x.done&&(l=C.return)&&l.call(C)}finally{if(a)throw a.error}}if(this._canvas.updateColors(),this.surface.addPropertyChanged(this._onSurfacePropertyChanged),this.contentAngle=this.surface.rotateAngle,this._updateAlignMargin(),this._eventManager.surfaceChangedEvent.notify(this._surface),this._canvas.redraw(),this.zoomMode=zq.bestFit,this.canvas.updateButtonGroups({onlyVisible:!1}),this.canvas.clearSelectedItemHandlers(),this.surface.containers.length>0){var k=this.surface.containers.firstOrDefault((function(t){return t.name===P$.MAIN_CONTAINER_NAME}));this.userEditContainer=null!=k?k:this.surface.containers.get(0),this.surface.containers.add_itemAdded(this._onCurrentSurfaceContainerAdded)}},e.prototype._updateAlignMargin=function(){if(this.surface instanceof d$&&null!=this._canvas&&!this.surface.printAreas.empty){var t={left:0,right:0,top:0,bottom:0},e=this.surface.printAreas.selectMany((function(t){return t.safetyLines}));if(e.length>0){var n=this.configuration.alignToSafetyLineName,i=pX.isEmpty(n)?null:e.firstOrDefault((function(t){return t.name==n}));null==i&&(i=e.first());var r=i.getMargin();t.left=r.left,t.right=r.right,t.top=r.top,t.bottom=r.bottom}var o=this.surface.printAreas.get(0).bounds;t.left+=o.left,t.top+=o.top,t.right+=this.surface.width-o.right,t.bottom+=this.surface.height-o.bottom,this._canvas.leftMargin=t.left,this._canvas.rightMargin=t.right,this._canvas.topMargin=t.top,this._canvas.bottomMargin=t.bottom}},e.prototype._getContainerCollections=function(t){return[t.mockup.underContainers,t.mockup.overContainers,t.containers,this._safetyLinesHandler.safetyLinesContainers,this._watermarkHandler.watermarkContainers,this._gridHandler.gridContainers]},Object.defineProperty(e.prototype,"watermarkConfig",{get:function(){return this._watermarkHandler.watermarkConfig},set:function(t){this._watermarkHandler.watermarkConfig=t},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"selectedItems",{get:function(){var t=this.canvas.getSelectedItemHandlers();return null!==t?t.select((function(t){return t.item})).toArray():null},set:function(t){if(null!=t){var e=t.map(this.canvas.handlerFactory.get);this.canvas.setSelectedItemHandlers(e)}else this.canvas.clearSelectedItemHandlers()},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"currentItem",{get:function(){var t=this.canvas.currentItemHandler;return null!=t?t.item:null},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"zoomConfig",{get:function(){return this._configuration?this._configuration.zoom:null},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"previewMode",{get:function(){return this.canvas.previewMode},set:function(t){this.canvas.previewMode=t,this._updateContainersFlatList()},enumerable:!0,configurable:!0}),e.prototype._getDifference=function(t,e){return{added:e.reduce((function(e,n){return t.includes(n)||e.push(n),e}),new Array),removed:t.reduce((function(t,n){return e.includes(n)||t.push(n),t}),new Array)}},Object.defineProperty(e.prototype,"contentWidth",{get:function(){return this._getContentDimension(this.workspaceWidth,eF.screenDpi)},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"contentHeight",{get:function(){return this._getContentDimension(this.workspaceHeight,eF.screenDpi)},enumerable:!0,configurable:!0}),e.prototype._getContentDimension=function(t,e){var n=nW(t,e)*this.zoom/eF.devicePixelRatio;return Math.ceil(n)},Object.defineProperty(e.prototype,"workspaceWidth",{get:function(){return this.canvas.workspaceWidth},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"workspaceHeight",{get:function(){return this.canvas.workspaceHeight},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"actualSizeHorizontalScale",{get:function(){return eF.screenDpi/eF.devicePixelRatio/72},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"actualSizeVerticalScale",{get:function(){return eF.screenDpi/eF.devicePixelRatio/72},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"modalBgClass",{get:function(){return this._modalBgClass},set:function(t){this._modalBgClass=t},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"textFormattingEnabled",{get:function(){return this._textFormattingEnabled},set:function(t){this._textFormattingEnabled=t},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"clearSelectionOnDocumentClick",{get:function(){return this._clearSelectionOnDocumentClick},set:function(t){this._clearSelectionOnDocumentClick=t},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"clearSelectionOnViewerClick",{get:function(){return this._clearSelectionOnViewerClick},set:function(t){this._clearSelectionOnViewerClick=t},enumerable:!0,configurable:!0}),e.prototype._renderContent=function(t){return t+='<div id="cvImage" style="',(t+="width:"+this.contentWidth+"px;height:"+this.contentHeight+"px;")+'position:absolute;left:0px;top:0px;z-index:1"/>'},e.prototype._setZoomMode=function(e){t.prototype._setZoomMode.call(this,e),gB(this.canvas.zoom,this.zoom)||(this.canvas.setZoom(this.zoom),this.canvas.redraw())},e.prototype.setZoom=function(e,n){if("number"==typeof e){this.zoomConfig&&(e>this.zoomConfig.max&&(e=this.zoomConfig.max),e<this.zoomConfig.min&&(e=this.zoomConfig.min)),e=t.prototype.setZoom.call(this,e,n);var i=this.canvas;return i.service.beginMultiCall(),i.setZoom(e),i.service.endMultiCall().finally((function(){return i.redraw()})),e}},e.prototype.getMaxZoom=function(){var e=t.prototype.getMaxZoom.call(this);return Math.min(e,this.canvas.calcPlatformLimitZoom())},e.prototype._onDocumentClick=function(e){if(!0!==this._ignoreDocumentClickOnce){if(t.prototype._onDocumentClick.call(this,e),this.clearSelectionOnDocumentClick&&!this._ignoreSelectionClick(e)){var n=this.canvas;n&&n.getSelectedItemHandlers().length>0&&(n.clearSelectedItemHandlers(),n.redraw())}}else this._ignoreDocumentClickOnce=!1},e.prototype._ignoreSelectionClick=function(t){return!!this.element.contains(t.target)||Uq.isEventPathContainsClass(t,e.preventClickHandleClass)},e.prototype._onMouseMove=function(e){t.prototype._onMouseMove.call(this,e)},e.prototype._onTouch=function(e){t.prototype._onTouch.call(this,e),this._touchFlags.isScroll=!0,this._touchFlags.isScrollChecked=!1,this._touchFlags.gestureCenter=null,this._touchFlags.lastPinchEvent=null,this._touchFlags.initialCurrentLeft=this._holderElement.scrollLeft,this._touchFlags.initialCurrentTop=this._holderElement.scrollTop},e.prototype._onPinch=function(e){if(this._touchFlags.pinchStarted||(this._touchFlags.pinchStarted=!0),this.canvas.raisePinch(e),!e.defaultPrevented){null!==this._touchFlags.mouseDown.onTimeout&&(clearTimeout(this._touchFlags.mouseDown.timeout),this._touchFlags.mouseDown.onTimeout=null);var n=this._touchFlags;if(null==n.gestureCenter&&(n.gestureCenter=e.gesture.center),n.lastPinchEvent=e,n.isScroll?this.scrollingPosition=new QL(n.initialCurrentLeft+(n.gestureCenter.pageX-e.gesture.center.pageX),n.initialCurrentTop+(n.gestureCenter.pageY-e.gesture.center.pageY)):(!eF.IsIos()||eF.IosMajorVersion()>5)&&t.prototype._onPinch.call(this,e,!1),!n.isScrollChecked&&this.pinchZoomEnabled&&e.gesture.deltaTime>350){n.isScrollChecked=!0;var i=this._calcAngle(e.gesture.touches[0],e.gesture.touches[1],n.gestureCenter);this._isPinchByAngle(i,e.gesture.scale)&&this._isPinchByModule(e.gesture.touches[0],e.gesture.touches[1],n.gestureCenter)&&(n.isScroll=!1,t.prototype._onPinch.call(this,e,!1))}}},e.prototype._onRelease=function(e){var n=this._touchFlags;if(this._touchFlags.pinchStarted)return this._touchFlags.pinchStarted=!1,void this.canvas.raiseRelease();if(this.pinchZoomEnabled&&!n.isScrollChecked&&null!=n.lastPinchEvent){var i=this._calcAngle(n.lastPinchEvent.gesture.touches[0],n.lastPinchEvent.gesture.touches[1],n.gestureCenter);this._isPinchByAngle(i,n.lastPinchEvent.gesture.scale)&&t.prototype._onPinch.call(this,n.lastPinchEvent,!1)}t.prototype._onRelease.call(this,e)},e.prototype._isPinchByAngle=function(t,e){return eF.IsTouchIE()?t>=160||e<=.85||e>=1.3:t>=160&&(e<=.85||e>=1.3)},e.prototype._isPinchByModule=function(t,e,n){var i=[t.pageX-n.pageX,t.pageY-n.pageY],r=[e.pageX-n.pageX,e.pageY-n.pageY],o=Math.sqrt(Math.pow(i[0],2)+Math.pow(i[1],2)),s=Math.sqrt(Math.pow(r[0],2)+Math.pow(r[1],2)),a=[i[0]+r[0],i[1]+r[1]],l=Math.sqrt(Math.pow(a[0],2)+Math.pow(a[1],2));return l<o&&l<s},e.prototype._calcAngle=function(t,e,n){var i=[t.pageX-n.pageX,t.pageY-n.pageY],r=[e.pageX-n.pageX,e.pageY-n.pageY],o=(i[0]*r[0]+i[1]*r[1])/(Math.sqrt(Math.pow(i[0],2)+Math.pow(i[1],2))*Math.sqrt(Math.pow(r[0],2)+Math.pow(r[1],2)));return 180*Math.acos(o)/Math.PI},e.prototype.initialize=function(n){var i=this,r=void 0===n?{}:n,o=r.ignore,s=r.intervalCheckLoop;if(void 0!==o&&!o){t.prototype.initialize.call(this,void 0===s?null:s),this._contentElements.push(this._imageCtx=this.element.querySelector("#cvImage")),this._whitespaceDiv=document.createElement("div"),this._whitespaceDiv.id="cvWhitespace",this._whitespaceDiv.tabIndex=-1,this._whitespaceDiv.style.position="absolute",this._whitespaceDiv.style.zIndex="1",this._whitespaceDiv.style.overflow="hidden",this._holderElement.appendChild(this._whitespaceDiv),this._updateWhitespace();var a=this._pointerEvents;this._whitespaceDiv.addEventListener("click",Uq.createBoundedWrapper(this,this._onWorkspaceClick)),a.start.split(" ").forEach((function(t){i._holderElement.addEventListener(t,Uq.createBoundedWrapper(i,i._onWhitespaceMouseDown))})),a.move.split(" ").forEach((function(t){i._holderElement.addEventListener(t,Uq.createBoundedWrapper(i,i._onWhitespaceMouseMove))})),a.up.split(" ").forEach((function(t){i._holderElement.addEventListener(t,Uq.createBoundedWrapper(i,i._onWhitespaceMouseUp))})),a.cancel.split(" ").forEach((function(t){i._holderElement.addEventListener(t,Uq.createBoundedWrapper(i,i._onWhitespaceMouseUp))})),iX(this._whitespaceDiv,{behavior:{touchAction:"pan-x pan-y "}}).on("doubletap",this._onWorkspaceDoubleClick.bind(this));var l=this.canvas;l.addStyles();var c,u=this._contentCtx.firstChild;this._onCanvasStatusChangedDelegate||(this._onCanvasStatusChangedDelegate=this._onCanvasStatusChanged.bind(this),l.add_statusChanged(this._onCanvasStatusChangedDelegate)),l.status==Vq.ready&&l.isInitialized?(l.setZoom(this.zoom,!0),l.addElement(u),l.redraw()):(c=(function(){l.status==Vq.ready&&l.isInitialized&&(l.remove_statusChanged(c),l.remove_initialized(c),c=null,l.setZoom(this.getZoom(),!0),l.addElement(u),l.redraw())}).bind(this),l.add_statusChanged(c),l.add_initialized(c));var h=function(t,n){var i=n.currentItemHandler;return i instanceof pJ&&i.editing?t.keyCode>=112&&t.keyCode<=123||!0===t.altKey:!(null!=t.code&&!Uq.isEventPathContainsClass(t,e.preventKeyHandleClass)&&Uq.getEventPath(t).includes(l.viewer.whitespaceDiv))||"ArrowLeft"!==t.code&&"ArrowUp"!==t.code&&"ArrowRight"!==t.code&&"ArrowDown"!==t.code&&"ShiftLeft"!==t.code&&"ShiftRight"!==t.code&&"Delete"!==t.code&&function(t){return!t.ctrlKey&&!t.metaKey||"KeyZ"!==t.code&&"KeyY"!==t.code}(t)};this._keyUpDelegate=function(t){h(t,l)||(l.raiseKeyUp(t),t.preventDefault())},this._keyDownDelegate=function(t){h(t,l)||(l.raiseKeyDown(t),t.preventDefault())},document.addEventListener("keyup",this._keyUpDelegate),document.addEventListener("keydown",this._keyDownDelegate),this._touchFlags.mouseDown={onTimeout:null},this._mouseDownDelegate=function(t,e){return i._setActiveElementIeFix(),"touchstart"===e.type||"MSPointerDown"===e.type||"pointerDown"===e.type?("touchstart"===e.type&&(i._ignoreMouseDown=!0,null==l||l.raiseTouchStart(e)),null!=i._ignoreMouseDownTimeout&&clearTimeout(i._ignoreMouseDownTimeout),i._ignoreMouseDownTimeout=setTimeout((function(){this._ignoreMouseDown=!1}),300),i._touchFlags.mouseDown.onTimeout=function(){l.raiseMouseDown(e)}):i._ignoreMouseDown||l.raiseMouseDown(e),!0},this.add_workspaceMouseDown(this._mouseDownDelegate),this._doubleClickDelegate=function(t,e){return i._setActiveElementIeFix(),l.raiseDoubleClick(e),!0},this.add_workspaceDoubleClick(this._doubleClickDelegate),this._mouseMoveDelegate=function(t,e){return null!==i._touchFlags.mouseDown.onTimeout&&(clearTimeout(i._touchFlags.mouseDown.timeout),i._touchFlags.mouseDown.onTimeout(),i._touchFlags.mouseDown.onTimeout=null),l.raiseMouseMove(e),!0},this.add_workspaceMouseMove(this._mouseMoveDelegate);var d=!1;this._mouseUpDelegate=function(t,e){if(eF.IsTouchDevice()){if(d)return;d=!0,setTimeout((function(){return d=!1}),200)}return null!==i._touchFlags.mouseDown.onTimeout&&(clearTimeout(i._touchFlags.mouseDown.timeout),i._touchFlags.mouseDown.onTimeout(),i._touchFlags.mouseDown.onTimeout=null),l.raiseMouseUp(e),!0},this.add_workspaceMouseUp(this._mouseUpDelegate),this._resizeDelegate=this._onResize.bind(this),l.add_workspaceSizeChanged(this._resizeDelegate),this._resizeCheckIntervalId=this._intervalCheckLoop.start({checkFunction:function(){return i._devicePixelRatio!==eF.devicePixelRatio},onChange:function(){i._devicePixelRatio=eF.devicePixelRatio,i._onResize(i,!1)}})}},e.prototype._onWorkspaceClick=function(e){t.prototype._onWorkspaceClick.call(this,e);var n=new QL(e.x,e.y),i=this.canvas.getItemHandlersByHitTest(n);null!=i[0]&&i[0].dispatchClickEvent(null)},e.prototype._setActiveElementIeFix=function(){if(eF.IsIE()){var t=this.element;try{if(document.activeElement!==t&&t.setActive){if(!this._setActiveThrowsException)try{t.setActive(!0)}catch(n){this._setActiveThrowsException=!0}if(this._setActiveThrowsException){var e=null;try{e=this._getCurrentScrollPosition()}catch(n){}t.focus(),e&&window.parent.scrollTo(e.x,e.y)}}}catch(n){console.log(n)}}},e.prototype._getCurrentScrollPosition=function(){var t,e,n=null!=window.parent?window.parent:window;return void 0!==n.pageXOffset?(t=n.pageXOffset,e=n.pageYOffset):void 0!==n.scrollX?(t=n.scrollX,e=n.scrollY):document.documentElement&&void 0!==document.documentElement.scrollLeft?(t=document.documentElement.scrollLeft,e=document.documentElement.scrollTop):(t=document.body.scrollLeft,e=document.body.scrollTop),{x:t,y:e}},e.prototype._updateWhitespace=function(){if(null!=this._whitespaceDiv){var t=90===this._contentAngle||270===this._contentAngle,e=t?this.contentHeight:this.contentWidth,n=t?this.contentWidth:this.contentHeight,i=this._getViewportLocation(),r=this.width,o=this.height,s=this.rulerEnabled?this.rulerWidth:0,a=this.scrollBarWidth,l=this.scrollBarsStyle===Nq.always,c=this.scrollBarsStyle===Nq.auto,u=l||c&&n>o-s,h=l||c&&e>r-s,d=(u=u||h&&c&&n>o-s-a)?a:0,p=(h=h||u&&c&&e>r-s-a)?a:0;this._whitespaceDiv.style.left=Math.min(i.x,s)+"px",this._whitespaceDiv.style.top=Math.min(i.y,s)+"px",this._whitespaceDiv.style.width=Math.max(r-s-d,e)+"px",this._whitespaceDiv.style.height=Math.max(o-s-p,n)+"px",c&&(this._holderElement.style.overflowX=h?"auto":"hidden",this._holderElement.style.overflowY=u?"auto":"hidden"),this.canvas.updateButtonGroups()}},e.prototype._updateViewport=function(){t.prototype._updateViewport.call(this),this._updateWhitespace()},e.prototype._onWhitespaceDoubleClick=function(t){var e=this._useWorkspaceCoords(t);this._workspaceDoubleClickEvent.notify(this,{x:e.x,y:e.y})},e.prototype._onWhitespaceMouseDown=function(t){if(!this._isManyTouches(t)){var e=this._useWorkspaceCoords(t);this._workspaceMouseDownEvent.notify(this,e),eF.IsTouchIE()||this._whitespaceDiv.setCapture()}},e.prototype._onWhitespaceMouseUp=function(t){if(!this._isManyTouches(t)){var e=this._useWorkspaceCoords(t);this._workspaceMouseUpEvent.notify(this,e),this._whitespaceDiv.releaseCapture()}},e.prototype._onWhitespaceMouseMove=function(t){if(this._isManyTouches(t))t.preventDefault();else{var e=this._useWorkspaceCoords(t);this._workspaceMouseMoveEvent.notify(this,e)}},e.prototype._getElementForCursor=function(){return null!=this._whitespaceDiv?this._whitespaceDiv:t.prototype._getElementForCursor.call(this)},e.prototype._onResize=function(e,n){t.prototype._onResize.call(this,e,n);var i=this.canvas;i.service.beginMultiCall(),i.setZoom(this.zoom,void 0,{force:!0,updateButtonGroup:n}),i.service.endMultiCall().finally((function(){return i.redraw()}))},e.prototype._onCanvasStatusChanged=function(t){this.canvas.status==Vq.busy?this.lockViewer():this.unlockViewer()},e.prototype.lockViewer=function(){this._isViewerLocked=!0;var t=this.element,e=document.getElementById(this.id+"_modalBg");if(!e){var n=(e=document.createElement("div")).style;n.position="absolute",n.top="0",n.left="0",this._modalBgClass?e.className=this._modalBgClass:(n.backgroundPosition="50% 50%",n.backgroundColor="#000000",n.opacity="0.4",n.filter="alpha(opacity=40)",n.zIndex="1000"),e.id=this.id+"_modalBg",t.offsetParent&&t.offsetParent.appendChild(e),n.width="100%",n.height="100%",n.bottom="0",n.right="0"}e.style.display="block"},e.prototype.unlockViewer=function(){this._isViewerLocked=!1;var t=document.getElementById(this.id+"_modalBg");t&&(t.style.display="none")},e.prototype.contentToWhitespaceRectangle=function(t){var e=this.rulerEnabled?this.rulerWidth:0,n=this._getViewportLocation();return new aB(t.left+n.x-e,t.top+n.y-e,t.width,t.height)},Object.defineProperty(e.prototype,"eventManager",{get:function(){return this._eventManager},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"history",{get:function(){return this._history},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"userEditContainer",{get:function(){return this._userEditContainer},set:function(t){var e=this;if(this._userEditContainer!=t){this.canvas.clearSelectedItemHandlers(),this._userEditContainer=t;var n=this.canvas;if(null!=n){var i=this.surface.containers,r=[],o=[],s=i.where((function(t){return t.renderingType!==ZH.Normal})).toArray();null!=this._userEditContainer?(r=i.where((function(t){return t!=e._userEditContainer&&t.renderingType!==ZH.Normal})).toArray(),o=s.slice(s.findIndex((function(t){return e._userEditContainer.id===t.id}))+1,s.length)):(r=s,o=s),n.disabledLayers=r.map((function(t){return n.layers.getLayerByContainerId(t.id)})),n.maskedLayers=o.map((function(t){return n.layers.getLayerByContainerId(t.id)})),n.redraw()}this._eventManager.userEditContainerChangedEvent.notify(this._userEditContainer)}},enumerable:!0,configurable:!0}),e.prototype.getUserEditSurface=function(){return this.surface},e.prototype.getUserEditPrintArea=function(){return this.surface.printAreas.get(0)},Object.defineProperty(e.prototype,"variableItemHelper",{get:function(){return this._variableItemHelper},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"productThemeManager",{get:function(){return this._productThemeManager},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"productHandler",{get:function(){return this._productHandler},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"itemsDataApplier",{get:function(){return this._itemsDataApplier},enumerable:!0,configurable:!0}),e.prototype.getHandler=function(t){return this._canvas.handlerFactory.get(t)},e.prototype.waitUpdate=function(){return t=this,void 0,n=function(){return function(t,e){var n,i,r,o,s={label:0,sent:function(){if(1&r[0])throw r[1];return r[1]},trys:[],ops:[]};return o={next:a(0),throw:a(1),return:a(2)},"function"==typeof Symbol&&(o[Symbol.iterator]=function(){return this}),o;function a(o){return function(a){return function(o){if(n)throw new TypeError("Generator is already executing.");for(;s;)try{if(n=1,i&&(r=2&o[0]?i.return:o[0]?i.throw||((r=i.return)&&r.call(i),0):i.next)&&!(r=r.call(i,o[1])).done)return r;switch(i=0,r&&(o=[2&o[0],r.value]),o[0]){case 0:case 1:r=o;break;case 4:return s.label++,{value:o[1],done:!1};case 5:s.label++,i=o[1],o=[0];continue;case 7:o=s.ops.pop(),s.trys.pop();continue;default:if(!((r=(r=s.trys).length>0&&r[r.length-1])||6!==o[0]&&2!==o[0])){s=0;continue}if(3===o[0]&&(!r||o[1]>r[0]&&o[1]<r[3])){s.label=o[1];break}if(6===o[0]&&s.label<r[1]){s.label=r[1],r=o;break}if(r&&s.label<r[2]){s.label=r[2],s.ops.push(o);break}r[2]&&s.ops.pop(),s.trys.pop();continue}o=e.call(t,s)}catch(a){o=[6,a],i=0}finally{n=r=0}if(5&o[0])throw o[1];return{value:o[0]?o[1]:void 0,done:!0}}([o,a])}}}(this,(function(t){switch(t.label){case 0:return[4,this._canvas.waitUpdate()];case 1:return t.sent(),[2]}}))},new((e=void 0)||(e=Promise))((function(i,r){function o(t){try{a(n.next(t))}catch(e){r(e)}}function s(t){try{a(n.throw(t))}catch(e){r(e)}}function a(t){var n;t.done?i(t.value):(n=t.value,n instanceof e?n:new e((function(t){t(n)}))).then(o,s)}a((n=n.apply(t,[])).next())}));var t,e,n},e.prototype.getParentPosition=function(t){var e=this.element;return{top:t.offsetTop-e.scrollTop,left:t.offsetLeft-e.scrollLeft}},e.prototype.dispose=function(){var e,n,i,r;null!=this._resizeCheckIntervalId&&this._intervalCheckLoop.stop(this._resizeCheckIntervalId);var o=this.canvas;o&&(this._mouseUpDelegate&&(this.remove_workspaceMouseUp(this._mouseUpDelegate),this._mouseUpDelegate=null),this._mouseDownDelegate&&(this.remove_workspaceMouseDown(this._mouseDownDelegate),this._mouseDownDelegate=null),this._mouseMoveDelegate&&(this.remove_workspaceMouseMove(this._mouseMoveDelegate),this._mouseMoveDelegate=null),this._doubleClickDelegate&&(this.remove_workspaceDoubleClick(this._doubleClickDelegate),this._doubleClickDelegate=null),this._zoomDelegate&&(this.remove_zoomed(this._zoomDelegate),this._zoomDelegate=null),this._onCanvasStatusChangedDelegate&&(o.remove_statusChanged(this._onCanvasStatusChangedDelegate),delete this._onCanvasStatusChangedDelegate),this._resizeDelegate&&(o.remove_workspaceSizeChanged(this._resizeDelegate),delete this._resizeDelegate),o.dispose()),null===(e=this._eventManager)||void 0===e||e.dispose(),null===(n=this._safetyLinesHandler)||void 0===n||n.dispose(),this._surface.containers.remove_itemAdded(this._onCurrentSurfaceContainerAdded),null===(i=this._CanvasViolationVisualizer)||void 0===i||i.dispose(),null===(r=this._violationService)||void 0===r||r.dispose(),t.prototype.dispose.call(this)},e.prototype._refresh=function(){this._refreshTimer&&window.clearTimeout(this._refreshTimer),this._needToRefresh=!1},e.preventKeyHandleClass="preventCanvasKeyHandle",e.preventClickHandleClass="preventCanvasClickHandle",e}(hX),s1=n("f/Cj");let a1=(()=>{class t{constructor(){this.availableFontsByPsName={arialmt:{postScriptName:"ArialMT",style:"Regular",family:"Arial",default:!0,system:!1},"arial-boldmt":{postScriptName:"Arial-BoldMT",style:"Bold",family:"Arial",default:!1,system:!1},"arial-bolditalicmt":{postScriptName:"Arial-BoldItalicMT",style:"Bold Italic",family:"Arial",default:!1,system:!1},"arial-italicmt":{postScriptName:"Arial-ItalicMT",style:"Italic",family:"Arial",default:!1,system:!1},"arial-black":{postScriptName:"Arial-Black",style:"Black",family:"Arial",default:!1,system:!1}}}getCssFontFamily(t){return`_cc_family_${t.toLocaleLowerCase()}`}getCssPsName(t){return`_cc_psname_${t}`}recognizeStyleByPsName(t){const e=this.availableFontsByPsName[t].style.toLocaleLowerCase();return"bold"===e?KK.Bold:"italic"===e?KK.Italic:"bold italic"===e?KK.BoldItalic:"regular"===e?KK.Regular:KK.Other}findSuitableFontParams(t,e,n){let i="arialmt";return e&&n?i="arial-bolditalicmt":e?i="arial-boldmt":n&&(i="arial-italicmt"),{postScriptName:i,fauxBold:!1,fauxItalic:!1}}findOriginalFamilyName(t){return"Arial"}findOriginalPsName(t){return t.toLocaleLowerCase()}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275prov=ht({token:t,factory:t.\u0275fac,providedIn:"root"}),t})(),l1=(()=>{class t extends gH{constructor(t,e){super(t),this.ipPlaceFontSrv=e,this._standardSettings=new mb(null),this.store.pipe(cw(t=>t.templateEditor.configuration),Vy(t=>!!t)).subscribe(t=>this._configuration=t),this.store.subscribe(t=>window.__store=t),this._$pViewer=new Promise(t=>this.viewer$.subscribe(e=>t(e)))}get $standardSettings(){return this._standardSettings.asObservable().pipe(Vy(t=>!!t))}set standardSettings(t){const e=JSON.parse(JSON.stringify(t));this._standardSettings.next(e)}initViewer(t){if(!t.api.designAtomsApiUrl&&!t.api.tenantId)throw new XR("The backend URL of the Viewer should be defined.");{const e=`${t.api.designAtomsApiUrl}/api/atoms/v1/tenants/${t.api.tenantId}`;t.viewer||(t.viewer={}),t.viewer.options||(t.viewer.options={}),t.viewer.options.backendUrl=e}const e=window.viewer=new o1(t.viewer.options);if(e.frontEndTextRenderingEnabled){const t={onRuntimeInitialized:()=>e.setTextWhizzModule(t)};s1(t),e.initTextEditor(this.ipPlaceFontSrv,!0)}return this._configureViewer(e,t),e.eventManager.addSelectedItemChanged(Object(WR.debounce)(t=>{this.store.dispatch(wH({selectedItems:t})),this.store.dispatch(MH({item:t.length?t:null}))},10)),TK.setIsSafetyLineItemHandlerFunc(t=>t.name.startsWith(m$.voPrefix)),e}redraw(){this.viewer.canvas.redraw()}saveConfig(t){this.product.tags[ZG.SETTINGS_KEY]=t}updateConfig(t){return vR(this,void 0,void 0,(function*(){yield this._$pViewer,this._configureViewer(this.viewer,t,!0),this.store.dispatch(vH({configuration:Bq.DeepMerge(this._configuration,t)}))}))}_configureViewer(t,e,n){var i,r,o,s,a,l,c;const u=e.viewer;(null===(r=null===(i=null==e?void 0:e.ui)||void 0===i?void 0:i.unit)||void 0===r?void 0:r.ratio)||(e.ui.unit=_q.get(e.ui.unit.name)),e.viewer.extras.rulerScale=1/e.ui.unit.ratio,Object.assign(t,u.extras),Object.assign(t.canvas,u.canvas),n||(t.canvas.handleButtonCssClass=null===(o=u.canvas)||void 0===o?void 0:o.handleButtonCssClass,t.canvas.doneButtonCssClass=null===(s=u.canvas)||void 0===s?void 0:s.doneButtonCssClass,t.canvas.selectImageButtonCssClass=null===(a=u.canvas)||void 0===a?void 0:a.selectImageButtonCssClass),t.canvas.minFontSize=4,t.canvas.maxFontSize=1296,t.canvas.minLeading=6,t.canvas.maxLeading=1296,t.safetyLinesHandler.visible=!0,n||(t.configuration=u.configuration);const h=null===(c=null===(l=e.ui.fonts.default)||void 0===l?void 0:l.metadata)||void 0===c?void 0:c.postscriptName;h&&(t.configuration.stubImages.barcode.postScriptName=h);const{horizontalColor:d,enabled:p,lineWidthPx:f,stepX:m,stepY:g,verticalColor:y}=u.handlersConfig.gridHandlerConfig;if(t.gridHandler.setConfig({horizontalColor:d,enabled:p,lineWidthPx:f,stepY:g,stepX:m,verticalColor:y},{unit:tX.Point}),t.canvas.snapLinesHandler.setConfiguration(u.handlersConfig.snapLinesHandler),n){const t=this.viewer.gridHandler.gridContainer,e=null==t?void 0:t.items.get(0);e&&(e.horizontalLineColor=new VB(d),e.verticalLineColor=new VB(y),e.stepY=g,e.stepX=m,e.lineWidth=f,e.cols=Math.round(this.viewer.gridHandler.surface.width/m)+1,e.rows=Math.round(this.viewer.gridHandler.surface.height/g)+1,this.redraw())}}}return t.\u0275fac=function(e){return new(e||t)(Kt(aw),Kt(a1))},t.\u0275prov=ht({token:t,factory:t.\u0275fac,providedIn:"root"}),t})();var c1=n("LvDl");let u1=(()=>{class t extends gH{constructor(t,e,n,i,r){super(t),this._modalSrv=e,this._fontSrv=n,this._httpClient=i,this._serializer=r,this.store.pipe(cw(t=>t.templateEditor.viewer),Vy(t=>!!t)).subscribe(t=>this.viewer=t),this.store.pipe(cw(t=>{var e;return null===(e=t.templateEditor.configuration)||void 0===e?void 0:e.api}),Vy(t=>!!t)).subscribe(t=>{this._apiDomain=t.designAtomsApiUrl,this._assetProcessorDomain=t.assetProcessorApiUrl}),t.pipe(cw(t=>t.ui.modifiedItems)).subscribe(t=>this._mItems=t.toArray()),t.pipe(cw(t=>t.ui.missingFonts)).subscribe(t=>this._missingFonts=t.toArray())}createBlankProduct(t,e){const n=new d$(t,e);return n.containers.add(LB(new iV,{name:P$.BG_CONTAINER_NAME,locked:!0})),n.containers.add(LB(new iV,{name:P$.MAIN_CONTAINER_NAME,locked:!1})),n.printAreas.add(new a$(aB.FromObject({height:e,width:t,left:0,top:0}))),n.name="Page 1",new k$([n])}createTestProduct(){const t=this.createBlankProduct(600,400),{items:e}=t.surfaces.get(0).containers.get(0),{items:n}=t.surfaces.get(0).containers.get(1);e.add(Object(c1.merge)(new UV(bB.rectangle(0,0,600,400)),{fillColor:new VB({r:169,g:204,b:227,a:255}),borderColor:new GB({c:0,m:0,y:0,k:0,a:0}),borderWidth:0,name:"Test rectangle"})),n.add(Object(c1.merge)(new UV(bB.rectangle(100,100,400,200)),{fillColor:new GB({c:255,m:0,y:0,k:0,a:255}),borderColor:new GB({c:0,m:0,y:0,k:0,a:0}),borderWidth:0,name:"Rect 1"})),n.add(Object(c1.merge)(new UV(bB.rectangle(50,50,400,200)),{fillColor:new VB({r:200,g:150,b:0,a:255}),borderColor:new VB({r:0,g:0,b:0,a:0}),borderWidth:0,name:"Rect 2"})),n.add(Object(c1.merge)(new kU("Longing for spiritual springs,\nI dragged myself through desert sands ...\nAn angel with three pairs of wings\nArrived to me at cross of lands;",new aB(100,50,400,200),"OpenSans",14),{name:"Bounded text"})),n.add(Object(c1.merge)(new kU("Longing for spiritual springs,\nI dragged myself through desert sands ...\nAn angel with three pairs of wings\nArrived to me at cross of lands;",new aB(130,80,400,200),"OpenSans",14),{name:"Bounded text"})),n.add(Object(c1.merge)(new kU("Longing for spiritual springs,\nI dragged myself through desert sands ...\nAn angel with three pairs of wings\nArrived to me at cross of lands;",new aB(160,110,400,200),"OpenSans",14),{name:"Bounded text"}));const i=new bB;return i.moveTo(0,0),i.quadraticTo(10,80,400,20),t}analyzeProduct(t,e){var n,i;return vR(this,void 0,void 0,(function*(){const r=[],o=(yield this.checkProblems(e)).fontMissingProblems.map(t=>({postscriptName:t.postscriptName}));null===(n=this._viewer)||void 0===n||n.history.pause();const s=yield t;this.product.surfaces.forEach(t=>t.containers.forEach(t=>t.items.forEach(t=>this._fontSrv.fixMissingFonts(t,t=>r.push(t),s)))),null===(i=this._viewer)||void 0===i||i.history.resume(),this._modalSrv.showProductWarns(o,r,this._fontSrv.defaultFont)}))}showProductWarns(){}readSettings(){return this.product.tags[ZG.SETTINGS_KEY]||{}}writeSettings(t){this.product.tags[ZG.SETTINGS_KEY]=t}resetSettings(){delete this.product.tags[ZG.SETTINGS_KEY]}getItemById(t){for(const e of this.product.surfaces)for(const n of e.containers)for(const e of n.items)if(e.id===t)return e}saveProduct(t){return vR(this,void 0,void 0,(function*(){const e=this._serializer.serialize(t||this.product,!0),n=JSON.parse(e),i=mu.production?void 0:{params:new Vv({fromObject:{tenantId:mu.tenantId.toString()}})},r=new Gv("PUT",`${this._apiDomain}/api/atoms/v1/designs/${this._stateId}/model`,n,i);try{yield this._httpClient.request(r).toPromise()}catch(o){throw console.error("Can't save product!",o),o}}))}loadProduct(t){return vR(this,void 0,void 0,(function*(){const e=mu.production?"":`?tenantId=${mu.tenantId}`;this._stateId=t;const n=yield this._httpClient.get(`${this._apiDomain}/api/atoms/v1/designs/${t}/model${e}`).toPromise();return this._serializer.deserialize(n)}))}checkProblems(t){return vR(this,void 0,void 0,(function*(){return yield this._httpClient.post(`${this._assetProcessorDomain}/api/processor/v1/designs/${t}/check`,null,{params:new Vv({fromObject:{tenantId:mu.tenantId.toString()}})}).toPromise()}))}}return t.\u0275fac=function(e){return new(e||t)(Kt(aw),Kt(f1),Kt(z$),Kt(Jv),Kt(S$))},t.\u0275prov=ht({token:t,factory:t.\u0275fac,providedIn:"root"}),t})();function h1(t,e){if(1&t&&(Ls(0,"mat-list-option",15),Ca(1),Xl(2,"translate"),Ns(3,"mat-divider"),Bs()),2&t){const t=e.$implicit;Rs("value",t.value),vr(1),Ea(" ",Kl(2,2,t.label)," ")}}const d1=function(t){return{"d-none":t}};let p1=(()=>{class t extends mH{constructor(t,e,n,i,r,o){super(),this._dialogRef=t,this._storage=e,this._viewerSrv=i,this._productSrv=r,this._fontSrv=o,this.colorProfiles=[],this.categories=kq,this.cats=Tq,this.colorProfiles=n.colorProfiles,this._viewerSrv.$standardSettings.subscribe(t=>this.stdSettings=t),this._storage.pipe(cw(t=>t.templateEditor.configuration),Vy(t=>!!t),$y(this.subscriber)).subscribe(t=>{var e,n,i,r,o,s,a;this.fontConf=t.ui.fonts,this.snapConf=null===(n=null===(e=t.viewer)||void 0===e?void 0:e.handlersConfig)||void 0===n?void 0:n.snapLinesHandler,this.gridConf=null===(r=null===(i=t.viewer)||void 0===i?void 0:i.handlersConfig)||void 0===r?void 0:r.gridHandlerConfig,this.colorConf=t.color||{},this.canvasConf=null===(o=t.viewer)||void 0===o?void 0:o.canvas,this.rulerConf=Object.assign(Object.assign({},null===(s=t.viewer)||void 0===s?void 0:s.options),t.viewer.configuration.rulers),this.unitConf=null===(a=t.ui)||void 0===a?void 0:a.unit,this._cnf=t}),this.pConf=this._productSrv.readSettings()}get isNotMain(){var t,e,n;return(null===(n=null===(e=null===(t=this.list)||void 0===t?void 0:t.selectedOptions)||void 0===e?void 0:e.selected[0])||void 0===n?void 0:n.value)!==kq.Main}get isNotGridAndSnaps(){var t,e,n;return(null===(n=null===(e=null===(t=this.list)||void 0===t?void 0:t.selectedOptions)||void 0===e?void 0:e.selected[0])||void 0===n?void 0:n.value)!==kq.GridAndSnaps}get isNotFonts(){var t,e,n;return(null===(n=null===(e=null===(t=this.list)||void 0===t?void 0:t.selectedOptions)||void 0===e?void 0:e.selected[0])||void 0===n?void 0:n.value)!==kq.Fonts}ngOnInit(){setTimeout(()=>this.options.first.toggle(),0)}save(){const t=this.mainSettings.form.value,e=this.gridAndRulerSettings.form.value,n=this.fontSettings.form.value;if(!this.mainSettings.form.valid){const t=this.list.options.find(t=>t.value===kq.Main);return void this.list.selectedOptions.select(t)}const{colorProfileCmyk:i,colorProfileRgb:r}=t;if((i||r)&&(r||(this.mainSettings.form.get("colorProfileRgb").setErrors({err:"Select color profile"},{emitEvent:!0}),this.mainSettings.form.get("colorProfileRgb").markAsTouched()),i||(this.mainSettings.form.get("colorProfileCmyk").setErrors({err:"Select color profile"},{emitEvent:!0}),this.mainSettings.form.get("colorProfileCmyk").markAsTouched()),!i||!r)){const t=this.list.options.find(t=>t.value===kq.Main);return void this.list.selectedOptions.select(t)}if(!this.gridAndRulerSettings.form.valid){const t=this.list.options.find(t=>t.value===kq.GridAndSnaps);return void this.list.selectedOptions.select(t)}if(!this.fontSettings.form.valid){const t=this.list.options.find(t=>t.value===kq.Fonts);return void this.list.selectedOptions.select(t)}const{family:o,postscriptName:s,style:a,name:l}=this._fontSrv.findFontFamily(n.defaultFont).findStyleByPostScript(n.defaultFont),c={color:{colorPickerConfig:{colorSpace:t.colorSpace},cmykColorProfileId:t.colorProfileCmyk,rgbColorProfileId:t.colorProfileRgb},viewer:{canvas:{canvasItemHoverEnabled:t.enableHoverItemNames,qualityChangeContainersEnabled:t.enableQualityChangeContainers,violationWarningButtonsEnabled:t.enableViolationWarning},configuration:{rulers:{enabled:t.enableRulers}},extras:{rulerScale:1/yq.get(t.unit).ratio},handlersConfig:{gridHandlerConfig:{stepX:e.grid.step,stepY:e.grid.step,horizontalColor:e.grid.color,verticalColor:e.grid.color,lineWidthPx:e.grid.lineWidth,enabled:e.grid.enabled},snapLinesHandler:{snapElements:{items:{color:e.snap[0].color,enabled:e.snap[0].enabled,priority:e.snap[0].priority,tolerance:e.snap[0].tolerance},printArea:{color:e.snap[1].color,enabled:e.snap[1].enabled,priority:e.snap[1].priority,tolerance:e.snap[1].tolerance},safetyLines:{color:e.snap[2].color,enabled:e.snap[2].enabled,priority:e.snap[2].priority,tolerance:e.snap[2].tolerance}}}}},ui:{fonts:{sizes:n.sizes,default:{metadata:{family:o,postscriptName:s,style:a},name:l}},unit:yq.get(t.unit)}};this.diff([c,this.stdSettings]),this.filterEmpty(c),this._productSrv.writeSettings(c),this.pConf=this._productSrv.readSettings();const u=JSON.parse(JSON.stringify(this.stdSettings)),h=Bq.DeepMerge(u,c);this._fontSrv.updateDefault(h.ui.fonts.default),this._viewerSrv.updateConfig(h),this._dialogRef.close()}diff(t){const[e,n]=t;Object.keys(e).forEach(t=>{Array.isArray(e[t])||("object"==typeof e[t]?this.diff([e[t],n[t]]):(e[t]===n[t]&&delete e[t],void 0===e[t]&&delete e[t]))})}filterEmpty(t){Object.keys(t).forEach(e=>{"object"==typeof t[e]&&(0===Object.keys(t[e]).length?(delete t[e],this.filterEmpty(t)):this.filterEmpty(t[e]))})}cancel(){this._dialogRef.close()}reset(){this._productSrv.resetSettings(),this._viewerSrv.updateConfig(this.stdSettings),this.pConf=this._productSrv.readSettings(),this._dialogRef.close()}}return t.\u0275fac=function(e){return new(e||t)(Ms(ZM),Ms(aw),Ms(JM),Ms(l1),Ms(u1),Ms(z$))},t.\u0275cmp=pe({type:t,selectors:[["au-settings-dialog"]],viewQuery:function(t,e){var n;1&t&&(cc(Lq,!0),cc(Oq,!0),cc(Sq,!0),lc(yR,!0),cc(gR,!0)),2&t&&(ac(n=fc())&&(e.mainSettings=n.first),ac(n=fc())&&(e.gridAndRulerSettings=n.first),ac(n=fc())&&(e.fontSettings=n.first),ac(n=fc())&&(e.list=n.first),ac(n=fc())&&(e.options=n))},features:[Ia],decls:25,vars:38,consts:[["mat-dialog-title","",1,"d-flex","align-items-center"],[1,"mr-2"],[1,"my-0","font-weight-normal"],[1,"mat-typography"],[1,"d-flex","border"],["color","primary",3,"multiple"],[3,"value",4,"ngFor","ngForOf"],[3,"vertical"],[1,"px-4","settings-container"],[3,"ngClass","colorConf","rulerConf","canvasConf","unitConf","colorProfiles","productConf","defaultConf"],[3,"ngClass","gridConf","snapConf","productConf","defaultConf"],[3,"ngClass","fontConf","defaultConf","productConf"],["align","center"],["mat-button","",3,"click"],["mat-button","","cdkFocusInitial","",3,"click"],[3,"value"]],template:function(t,e){1&t&&(Ls(0,"div",0),Ns(1,"div",1),Ls(2,"h4",2),Ca(3),Xl(4,"translate"),Bs(),Bs(),Ls(5,"mat-dialog-content",3),Ls(6,"div",4),Ls(7,"div"),Ls(8,"mat-selection-list",5),Is(9,h1,4,4,"mat-list-option",6),Bs(),Bs(),Ns(10,"mat-divider",7),Ls(11,"div",8),Ns(12,"au-main-settings",9),Ns(13,"au-grid-and-rulers-settings",10),Ns(14,"au-font-settings",11),Bs(),Bs(),Bs(),Ls(15,"mat-dialog-actions",12),Ls(16,"button",13),$s("click",(function(){return e.save()})),Ca(17),Xl(18,"translate"),Bs(),Ls(19,"button",13),$s("click",(function(){return e.reset()})),Ca(20),Xl(21,"translate"),Bs(),Ls(22,"button",14),$s("click",(function(){return e.cancel()})),Ca(23),Xl(24,"translate"),Bs(),Bs()),2&t&&(vr(3),xa(Kl(4,24,"Labels.SETTINGS")),vr(5),Rs("multiple",!1),vr(1),Rs("ngForOf",e.cats),vr(1),Rs("vertical",!0),vr(2),Rs("ngClass",Vl(32,d1,e.isNotMain))("colorConf",e.colorConf)("rulerConf",e.rulerConf)("canvasConf",e.canvasConf)("unitConf",e.unitConf)("colorProfiles",e.colorProfiles)("productConf",e.pConf)("defaultConf",e.stdSettings),vr(1),Rs("ngClass",Vl(34,d1,e.isNotGridAndSnaps))("gridConf",e.gridConf)("snapConf",e.snapConf)("productConf",e.pConf)("defaultConf",e.stdSettings),vr(1),Rs("ngClass",Vl(36,d1,e.isNotFonts))("fontConf",e.fontConf)("defaultConf",e.stdSettings)("productConf",e.pConf),vr(3),xa(Kl(18,26,"Labels.APPLY")),vr(3),xa(Kl(21,28,"Labels.RESET")),vr(3),xa(Kl(24,30,"Labels.CANCEL")))},styles:[".mat-list-base[_ngcontent-%COMP%]{padding-top:0}.settings-container[_ngcontent-%COMP%]{width:500px;max-height:500px;min-height:500px;overflow:auto}"]}),t})(),f1=(()=>{class t{constructor(t,e){this._dialog=t,this._overlayContainer=e,this._productLoaderCallsCount=0}showProductLoader(){return vR(this,void 0,void 0,(function*(){this._productLoaderCallsCount++,this._loaderDialog||(this._loaderDialog=this._dialog.open(AH,{disableClose:!0,panelClass:"au-template-editor-theme"}))}))}closeProductLoader(){var t;return vR(this,void 0,void 0,(function*(){if(this._productLoaderCallsCount>0?this._productLoaderCallsCount--:this._productLoaderCallsCount=0,0!==this._productLoaderCallsCount)return;null===(t=this._loaderDialog)||void 0===t||t.close(),this._loaderDialog=null;const e=this._overlayContainer.getContainerElement();null==e||e.click()}))}showProductWarns(t,e,n){t.length&&!this._fontMissingDialog&&(this._fontMissingDialog=this._dialog.open(oq,{data:{fonts:t,items:e,defaultFont:n},panelClass:"au-template-editor-theme"}),this._fontMissingDialog.afterClosed().subscribe(()=>this._fontMissingDialog=null))}showVCardEditor(t){return vR(this,void 0,void 0,(function*(){return this._vCradEditorDialog=this._dialog.open(cq,{data:t}),this._vCradEditorDialog.afterClosed().toPromise()}))}showSettings(t){return vR(this,void 0,void 0,(function*(){this._dialog.open(p1,{disableClose:!0,panelClass:"au-template-editor-theme",data:{colorProfiles:t}})}))}}return t.\u0275fac=function(e){return new(e||t)(Kt(iD),Kt(Kk))},t.\u0275prov=ht({token:t,factory:t.\u0275fac,providedIn:"root"}),t})(),m1=(()=>{class t extends gH{constructor(t,e,n){super(t),this._httpClient=e,this._modalService=n,this._profiles=new mb([]),this._updateConfigColors=t=>vR(this,void 0,void 0,(function*(){var e,n,i,r;const o=null===(e=t.color)||void 0===e?void 0:e.colorPickerConfig;if(null==o)return;const s=[],a=[];o.sections.forEach((t,e)=>{t.type===tj.PaletteSection&&t.palette.forEach((t,n)=>{t.forEach((t,i)=>{const r=QB.createColor(t);r instanceof GB&&null==r.preview&&(a.push({sectionIndex:e,paletteIndex:n,colorIndex:i}),s.push(r))})})});const l=[];if(null!=(null===(i=null===(n=t.color)||void 0===n?void 0:n.spotColors)||void 0===i?void 0:i.colors)&&(null===(r=t.color.spotColors)||void 0===r||r.colors.forEach((t,e)=>{if("string"==typeof t.inkColor){const n=QB.createColor(t.inkColor);n instanceof GB&&null==n.preview&&(s.push(n),l.push(e))}})),0!==s.length){this._modalService.showProductLoader();try{const e=(yield this._httpClient.post(this._colorConvertorUrl,{colors:s.map(t=>t.getData()),destinationColorProfile:this._cmykProfileId,sourceColorProfile:this._rgbProfileId}).toPromise()).map(t=>QB.createColor(t).toString());a.forEach((t,n)=>{s[0].preview=e.shift().toString(),o.sections[t.sectionIndex].palette[t.paletteIndex][t.colorIndex]=s.shift().toString()}),e.forEach((n,i)=>{s[i].preview=e[i].toString(),t.color.spotColors.colors[l[i]].inkColor=s[i].toString()})}catch(c){this._modalService.closeProductLoader(),console.warn(c)}finally{this._modalService.closeProductLoader()}this.store.dispatch(vH({configuration:t}))}})),this._updateColorProfiles=t=>{null!=t&&(this._rgbProfileId=t.rgbColorProfileId,this._cmykProfileId=t.cmykColorProfileId)},this._updateColorProfilesUrl=t=>{const e=null==t?void 0:t.api;null!=e&&(this._colorProfiles=`${e.assetStorageApiUrl}/api/storage/v1/colorProfiles${mu.production?"":`?tenantId=${mu.tenantId}`}`)},this.store.pipe(cw(t=>t.templateEditor.configuration),Vy(t=>{var e;return!!t&&!!(null===(e=t.api)||void 0===e?void 0:e.designAtomsApiUrl)})).subscribe(t=>{this._updateColorConvertorUrl(t),this._updateConfigColors(t),this._updateColorProfilesUrl(t)}),this.store.pipe(cw(t=>t.templateEditor.configuration.color),Vy(t=>!!t)).subscribe(t=>this._updateColorProfiles(t))}get profiles(){return this._profiles.asObservable()}get isReady(){return!!this._colorConvertorUrl}init(){return vR(this,void 0,void 0,(function*(){const t=yield this.getColorProfiles();this._profiles.next(t)}))}_updateColorConvertorUrl(t){const e=null==t?void 0:t.api;null!=e&&(this._colorConvertorUrl=`${e.designAtomsApiUrl}/api/atoms/v1/colorConverter${mu.production?"":`?tenantId=${mu.tenantId}`}`)}convertCmykToRgb(t){return vR(this,void 0,void 0,(function*(){const e=yield this._httpClient.post(this._colorConvertorUrl,{colors:[t.getData()],sourceColorProfile:this._cmykProfileId,destinationColorProfile:this._rgbProfileId}).toPromise();return QB.createColor(e[0])}))}convertRgbToCmyk(t){return vR(this,void 0,void 0,(function*(){const e=yield this._httpClient.post(this._colorConvertorUrl,{colors:[t.getData()],sourceColorProfile:this._rgbProfileId,destinationColorProfile:this._cmykProfileId}).toPromise();return QB.createColor(e[0])}))}getColorProfiles(){return vR(this,void 0,void 0,(function*(){const{items:t}=yield this._httpClient.get(this._colorProfiles).toPromise();return t}))}}return t.\u0275fac=function(e){return new(e||t)(Kt(aw),Kt(Jv),Kt(f1))},t.\u0275prov=ht({token:t,factory:t.\u0275fac,providedIn:"root"}),t})(),g1=(()=>{class t extends gH{constructor(t,e,n){super(t),this._httpClient=e,this._modalService=n,this._spotColors=[],this._configSpotColors=[],this._onConfChanged=t=>{var e,n;const i=null===(n=null===(e=t.color)||void 0===e?void 0:e.spotColors)||void 0===n?void 0:n.colors;null!=i&&(this._configSpotColors=[],i.forEach(t=>{const e=new JB({inkColor:QB.createColor(t.inkColor),inkName:t.inkName,inkSolidity:1});e.preview=e.inkColor.preview,this._configSpotColors.push(e)}))},this._getSpotColorsFromProduct=t=>c1.flatten(t.surfaces.toArray().map(this._getSpotColorsFromSurface)),this._getSpotColorsFromSurface=t=>{const e=[];return t.getAllItems({ignoreMockups:!1,flatGroupItems:!0,excludeGroupItems:!1}).forEach(t=>{e.push(...this._getSpotColorsFromItem(t))}),e},this._getSpotColorsFromItem=t=>{var e,n,i;const r=[],o=t=>{t instanceof JB&&null==this._spotColors.find(e=>e.equals(t))&&r.push(t.clone())};return t instanceof UV&&(o(t.fillColor),o(t.borderColor)),t instanceof KU&&o(t.color),t instanceof QU&&o(t.altColor),t instanceof CU&&o(t.color),t instanceof uU&&(o(t.color),t.colorPalette.forEach(t=>o(t)),o(null===(e=null==t?void 0:t.shadow)||void 0===e?void 0:e.color),o(null===(n=null==t?void 0:t.stroke)||void 0===n?void 0:n.color)),t instanceof fW&&o(null===(i=t.overlayEffect)||void 0===i?void 0:i.color),r},this._viewerSubscription=this.store.pipe(cw(t=>t.templateEditor.viewer)).subscribe(t=>this._onViewerChanged(t)),this._confSubscription=this.store.pipe(cw(t=>t.templateEditor.configuration),Vy(t=>!!t)).subscribe(t=>this._onConfChanged(t)),this._onConfChanged(this.state.configuration)}_onViewerChanged(t){this._viewer=t}getSpotColors(){var t,e,n,i,r,o;const s=null!=(null===(e=null===(t=this._viewer)||void 0===t?void 0:t.surface)||void 0===e?void 0:e.parentProduct)?this._getSpotColorsFromProduct(null===(i=null===(n=this._viewer)||void 0===n?void 0:n.surface)||void 0===i?void 0:i.parentProduct):this._getSpotColorsFromSurface(null===(r=this._viewer)||void 0===r?void 0:r.surface),a=[];return[...null!==(o=this._configSpotColors)&&void 0!==o?o:[],...null!=s?s:[],...this._spotColors].forEach(t=>{null==a.find(e=>e.equals(t))&&a.push(t)}),a}addSpotColor(t){this._spotColors.push(t)}ngOnDestroy(){this._viewerSubscription.unsubscribe(),this._confSubscription.unsubscribe()}}return t.\u0275fac=function(e){return new(e||t)(Kt(aw),Kt(Jv),Kt(f1))},t.\u0275prov=ht({token:t,factory:t.\u0275fac,providedIn:"root"}),t})(),y1=(()=>{class t{}return t.\u0275mod=_e({type:t}),t.\u0275inj=dt({factory:function(e){return new(e||t)},providers:[{provide:hj,useClass:m1},{provide:wj,useClass:g1}],imports:[[fH,fb,rd,Bf,rf,Dj]]}),t})();function _1(t,e,n=3){return Math.abs(t-e)<n}function v1(t,e,n,i){const r={top:t.top,bottom:t.bottom,left:t.left,right:t.right};return e.top&&(r.top+=i),e.bottom&&(r.bottom+=i),e.left&&(r.left+=n),e.right&&(r.right+=n),r.height=r.bottom-r.top,r.width=r.right-r.left,r}function b1({clientY:t,rect:e}){return t>=e.top&&t<=e.bottom}function w1({clientX:t,rect:e}){return t>=e.left&&t<=e.right}function C1({clientX:t,clientY:e,elm:n,allowedEdges:i,cursorPrecision:r}){const o=n.nativeElement.getBoundingClientRect(),s={};return i.left&&_1(t,o.left,r)&&b1({clientY:e,rect:o})&&(s.left=!0),i.right&&_1(t,o.right,r)&&b1({clientY:e,rect:o})&&(s.right=!0),i.top&&_1(e,o.top,r)&&w1({clientX:t,rect:o})&&(s.top=!0),i.bottom&&_1(e,o.bottom,r)&&w1({clientX:t,rect:o})&&(s.bottom=!0),s}const x1=Object.freeze({topLeft:"nw-resize",topRight:"ne-resize",bottomLeft:"sw-resize",bottomRight:"se-resize",leftOrRight:"col-resize",topOrBottom:"row-resize"});function E1(t,e){return t.left&&t.top?e.topLeft:t.right&&t.top?e.topRight:t.left&&t.bottom?e.bottomLeft:t.right&&t.bottom?e.bottomRight:t.left||t.right?e.leftOrRight:t.top||t.bottom?e.topOrBottom:""}function S1({edges:t,initialRectangle:e,newRectangle:n}){const i={};return Object.keys(t).forEach(t=>{i[t]=(n[t]||0)-(e[t]||0)}),i}let P1=(()=>{class t{constructor(t,e,n,i){this.platformId=t,this.renderer=e,this.elm=n,this.zone=i,this.resizeEdges={},this.enableGhostResize=!1,this.resizeSnapGrid={},this.resizeCursors=x1,this.resizeCursorPrecision=3,this.ghostElementPositioning="fixed",this.allowNegativeResizes=!1,this.mouseMoveThrottleMS=50,this.resizeStart=new Yl,this.resizing=new Yl,this.resizeEnd=new Yl,this.mouseup=new x,this.mousedown=new x,this.mousemove=new x,this.destroy$=new x,this.resizeEdges$=new x,this.pointerEventListeners=O1.getInstance(e,i)}ngOnInit(){const t=$(this.pointerEventListeners.pointerDown,this.mousedown),e=$(this.pointerEventListeners.pointerMove,this.mousemove).pipe($_(({event:t})=>{i&&t.preventDefault()}),J()),n=$(this.pointerEventListeners.pointerUp,this.mouseup);let i;const r=()=>{i&&i.clonedNode&&(this.elm.nativeElement.parentElement.removeChild(i.clonedNode),this.renderer.setStyle(this.elm.nativeElement,"visibility","inherit"))},o=()=>Object.assign({},x1,this.resizeCursors);this.resizeEdges$.pipe(Ky(this.resizeEdges),F(()=>this.resizeEdges&&Object.keys(this.resizeEdges).some(t=>!!this.resizeEdges[t])),Zy(t=>t?e:r_),Hy(this.mouseMoveThrottleMS),$y(this.destroy$)).subscribe(({clientX:t,clientY:e})=>{const n=C1({clientX:t,clientY:e,elm:this.elm,allowedEdges:this.resizeEdges,cursorPrecision:this.resizeCursorPrecision}),r=o();if(!i){const t=E1(n,r);this.renderer.setStyle(this.elm.nativeElement,"cursor",t)}this.setElementClass(this.elm,"resize-left-hover",!0===n.left),this.setElementClass(this.elm,"resize-right-hover",!0===n.right),this.setElementClass(this.elm,"resize-top-hover",!0===n.top),this.setElementClass(this.elm,"resize-bottom-hover",!0===n.bottom)}),t.pipe(z(r=>{function o(t){return{clientX:t.clientX-r.clientX,clientY:t.clientY-r.clientY}}const s=()=>{const t={x:1,y:1};return i&&(this.resizeSnapGrid.left&&i.edges.left?t.x=+this.resizeSnapGrid.left:this.resizeSnapGrid.right&&i.edges.right&&(t.x=+this.resizeSnapGrid.right),this.resizeSnapGrid.top&&i.edges.top?t.y=+this.resizeSnapGrid.top:this.resizeSnapGrid.bottom&&i.edges.bottom&&(t.y=+this.resizeSnapGrid.bottom)),t};function a(t,e){return{x:Math.ceil(t.clientX/e.x),y:Math.ceil(t.clientY/e.y)}}return $(e.pipe(H_(1)).pipe(F(t=>[,t])),e.pipe(t=>t.lift(new Yy))).pipe(F(([t,e])=>[t?o(t):t,o(e)])).pipe(Vy(([t,e])=>{if(!t)return!0;const n=s(),i=a(t,n),r=a(e,n);return i.x!==r.x||i.y!==r.y})).pipe(F(([,t])=>{const e=s();return{clientX:Math.round(t.clientX/e.x)*e.x,clientY:Math.round(t.clientY/e.y)*e.y}})).pipe($y($(n,t)))})).pipe(Vy(()=>!!i)).pipe(F(({clientX:t,clientY:e})=>v1(i.startingRect,i.edges,t,e))).pipe(Vy(t=>this.allowNegativeResizes||!!(t.height&&t.width&&t.height>0&&t.width>0))).pipe(Vy(t=>!this.validateResize||this.validateResize({rectangle:t,edges:S1({edges:i.edges,initialRectangle:i.startingRect,newRectangle:t})})),$y(this.destroy$)).subscribe(t=>{i&&i.clonedNode&&(this.renderer.setStyle(i.clonedNode,"height",`${t.height}px`),this.renderer.setStyle(i.clonedNode,"width",`${t.width}px`),this.renderer.setStyle(i.clonedNode,"top",`${t.top}px`),this.renderer.setStyle(i.clonedNode,"left",`${t.left}px`)),this.zone.run(()=>{this.resizing.emit({edges:S1({edges:i.edges,initialRectangle:i.startingRect,newRectangle:t}),rectangle:t})}),i.currentRect=t}),t.pipe(F(({clientX:t,clientY:e,edges:n})=>n||C1({clientX:t,clientY:e,elm:this.elm,allowedEdges:this.resizeEdges,cursorPrecision:this.resizeCursorPrecision}))).pipe(Vy(t=>Object.keys(t).length>0),$y(this.destroy$)).subscribe(t=>{i&&r();const e=function(t,e){let n=0,i=0;const r=t.nativeElement.style,o=["transform","-ms-transform","-moz-transform","-o-transform"].map(t=>r[t]).find(t=>!!t);if(o&&o.includes("translate")&&(n=o.replace(/.*translate3?d?\((-?[0-9]*)px, (-?[0-9]*)px.*/,"$1"),i=o.replace(/.*translate3?d?\((-?[0-9]*)px, (-?[0-9]*)px.*/,"$2")),"absolute"===e)return{height:t.nativeElement.offsetHeight,width:t.nativeElement.offsetWidth,top:t.nativeElement.offsetTop-i,bottom:t.nativeElement.offsetHeight+t.nativeElement.offsetTop-i,left:t.nativeElement.offsetLeft-n,right:t.nativeElement.offsetWidth+t.nativeElement.offsetLeft-n};{const e=t.nativeElement.getBoundingClientRect();return{height:e.height,width:e.width,top:e.top-i,bottom:e.bottom-i,left:e.left-n,right:e.right-n,scrollTop:t.nativeElement.scrollTop,scrollLeft:t.nativeElement.scrollLeft}}}(this.elm,this.ghostElementPositioning);i={edges:t,startingRect:e,currentRect:e};const n=o(),s=E1(i.edges,n);this.renderer.setStyle(document.body,"cursor",s),this.setElementClass(this.elm,"resize-active",!0),this.enableGhostResize&&(i.clonedNode=this.elm.nativeElement.cloneNode(!0),this.elm.nativeElement.parentElement.appendChild(i.clonedNode),this.renderer.setStyle(this.elm.nativeElement,"visibility","hidden"),this.renderer.setStyle(i.clonedNode,"position",this.ghostElementPositioning),this.renderer.setStyle(i.clonedNode,"left",`${i.startingRect.left}px`),this.renderer.setStyle(i.clonedNode,"top",`${i.startingRect.top}px`),this.renderer.setStyle(i.clonedNode,"height",`${i.startingRect.height}px`),this.renderer.setStyle(i.clonedNode,"width",`${i.startingRect.width}px`),this.renderer.setStyle(i.clonedNode,"cursor",E1(i.edges,n)),this.renderer.addClass(i.clonedNode,"resize-ghost-element"),i.clonedNode.scrollTop=i.startingRect.scrollTop,i.clonedNode.scrollLeft=i.startingRect.scrollLeft),this.zone.run(()=>{this.resizeStart.emit({edges:S1({edges:t,initialRectangle:e,newRectangle:e}),rectangle:v1(e,{},0,0)})})}),n.pipe($y(this.destroy$)).subscribe(()=>{i&&(this.renderer.removeClass(this.elm.nativeElement,"resize-active"),this.renderer.setStyle(document.body,"cursor",""),this.renderer.setStyle(this.elm.nativeElement,"cursor",""),this.zone.run(()=>{this.resizeEnd.emit({edges:S1({edges:i.edges,initialRectangle:i.startingRect,newRectangle:i.currentRect}),rectangle:i.currentRect})}),r(),i=null)})}ngOnChanges(t){t.resizeEdges&&this.resizeEdges$.next(this.resizeEdges)}ngOnDestroy(){od(this.platformId)&&this.renderer.setStyle(document.body,"cursor",""),this.mousedown.complete(),this.mouseup.complete(),this.mousemove.complete(),this.resizeEdges$.complete(),this.destroy$.next()}setElementClass(t,e,n){n?this.renderer.addClass(t.nativeElement,e):this.renderer.removeClass(t.nativeElement,e)}}return t.\u0275fac=function(e){return new(e||t)(Ms(Tc),Ms(tl),Ms(Ya),Ms($c))},t.\u0275dir=be({type:t,selectors:[["","mwlResizable",""]],inputs:{resizeEdges:"resizeEdges",enableGhostResize:"enableGhostResize",resizeSnapGrid:"resizeSnapGrid",resizeCursors:"resizeCursors",resizeCursorPrecision:"resizeCursorPrecision",ghostElementPositioning:"ghostElementPositioning",allowNegativeResizes:"allowNegativeResizes",mouseMoveThrottleMS:"mouseMoveThrottleMS",validateResize:"validateResize"},outputs:{resizeStart:"resizeStart",resizing:"resizing",resizeEnd:"resizeEnd"},features:[La]}),t})();class O1{static getInstance(t,e){return O1.instance||(O1.instance=new O1(t,e)),O1.instance}constructor(t,e){this.pointerDown=new _(n=>{let i,r;return e.runOutsideAngular(()=>{i=t.listen("document","mousedown",t=>{n.next({clientX:t.clientX,clientY:t.clientY,event:t})}),r=t.listen("document","touchstart",t=>{n.next({clientX:t.touches[0].clientX,clientY:t.touches[0].clientY,event:t})})}),()=>{i(),r()}}).pipe(J()),this.pointerMove=new _(n=>{let i,r;return e.runOutsideAngular(()=>{i=t.listen("document","mousemove",t=>{n.next({clientX:t.clientX,clientY:t.clientY,event:t})}),r=t.listen("document","touchmove",t=>{n.next({clientX:t.targetTouches[0].clientX,clientY:t.targetTouches[0].clientY,event:t})})}),()=>{i(),r()}}).pipe(J()),this.pointerUp=new _(n=>{let i,r,o;return e.runOutsideAngular(()=>{i=t.listen("document","mouseup",t=>{n.next({clientX:t.clientX,clientY:t.clientY,event:t})}),r=t.listen("document","touchend",t=>{n.next({clientX:t.changedTouches[0].clientX,clientY:t.changedTouches[0].clientY,event:t})}),o=t.listen("document","touchcancel",t=>{n.next({clientX:t.changedTouches[0].clientX,clientY:t.changedTouches[0].clientY,event:t})})}),()=>{i(),r(),o()}}).pipe(J())}}let k1=(()=>{class t{constructor(t,e,n,i){this.renderer=t,this.element=e,this.zone=n,this.resizable=i,this.resizeEdges={},this.eventListeners={}}ngOnDestroy(){this.unsubscribeEventListeners()}onMousedown(t,e,n){t.preventDefault(),this.zone.runOutsideAngular(()=>{this.eventListeners.touchmove||(this.eventListeners.touchmove=this.renderer.listen(this.element.nativeElement,"touchmove",t=>{this.onMousemove(t,t.targetTouches[0].clientX,t.targetTouches[0].clientY)})),this.eventListeners.mousemove||(this.eventListeners.mousemove=this.renderer.listen(this.element.nativeElement,"mousemove",t=>{this.onMousemove(t,t.clientX,t.clientY)})),this.resizable.mousedown.next({clientX:e,clientY:n,edges:this.resizeEdges})})}onMouseup(t,e){this.zone.runOutsideAngular(()=>{this.unsubscribeEventListeners(),this.resizable.mouseup.next({clientX:t,clientY:e,edges:this.resizeEdges})})}onMousemove(t,e,n){this.resizable.mousemove.next({clientX:e,clientY:n,edges:this.resizeEdges,event:t})}unsubscribeEventListeners(){Object.keys(this.eventListeners).forEach(t=>{this.eventListeners[t](),delete this.eventListeners[t]})}}return t.\u0275fac=function(e){return new(e||t)(Ms(tl),Ms(Ya),Ms($c),Ms(P1))},t.\u0275dir=be({type:t,selectors:[["","mwlResizeHandle",""]],hostBindings:function(t,e){1&t&&$s("touchstart",(function(t){return e.onMousedown(t,t.touches[0].clientX,t.touches[0].clientY)}))("mousedown",(function(t){return e.onMousedown(t,t.clientX,t.clientY)}))("touchend",(function(t){return e.onMouseup(t.changedTouches[0].clientX,t.changedTouches[0].clientY)}))("touchcancel",(function(t){return e.onMouseup(t.changedTouches[0].clientX,t.changedTouches[0].clientY)}))("mouseup",(function(t){return e.onMouseup(t.clientX,t.clientY)}))},inputs:{resizeEdges:"resizeEdges"}}),t})(),T1=(()=>{class t{}return t.\u0275mod=_e({type:t}),t.\u0275inj=dt({factory:function(e){return new(e||t)}}),t})();const I1={provide:eb,useClass:(()=>{class t{intercept(t,e){if(!mu.production)return t=t.clone({headers:new jv({"X-API-Key":mu.apiKey})}),e.handle(t);const n=window.__store.templateEditor.configuration.api.token;return n?(t=t.clone({headers:new jv({Authorization:`Bearer ${n}`})}),e.handle(t)):e.handle(t)}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275prov=ht({token:t,factory:t.\u0275fac}),t})(),multi:!0},A1={provide:S$,useFactory:function(){return new S$}};class M1{static isCanvasAction(t){return Object.keys($$).includes(t)}static isAlignAction(t){return Object.keys(q$).includes(t)}static isClipboardActions(t){return Object.keys(X$).includes(t)}static isMoveActions(t){return Object.keys(G$).findIndex(e=>e.includes(t.split("-")[0]))>-1}static isZoomAction(t){return Object.keys(SG).includes(t)}static isSnapAction(t){return Object.keys(OG).includes(t)}static isViewerSettingsAction(t){return Object.keys(PG).includes(t)}static isToolbarAction(t){return Object.keys(wG).includes(t)}static isCommonAction(t){return Object.keys(MG).includes(t)}}let D1=(()=>{class t{constructor(t){this.store=t,this.ZOOM_STEPS=IG,this.ZOOM_STEP=10,this._zoomAction=new x,this._viewerZoomed=new x,this._zoomValue=100,this._zoomCb=t=>{this._zoomValue=Number((100*t.zoom).toFixed(2)),this._viewerZoomed.next(this._zoomValue)},this.store.pipe(cw(t=>t.templateEditor.viewer),Vy(t=>!!t)).subscribe(t=>{Object(j$.maybe)(this._viewer).do({just:()=>this._viewer.remove_zoomed(this._zoomCb)}),this._viewer=t,this._viewer.add_zoomed(this._zoomCb),this._zoomValue=Number((100*this._viewer.zoom).toFixed(2)),this._viewerZoomed.next(this._zoomValue)})}getPercentZoom(t){return t/100}get zoom(){return this.getPercentZoom(this._zoomValue)}get originalZoomValue(){return this._zoomValue}get $zoomActionEmitter(){return this._zoomAction.asObservable()}get $viewerZoomed(){return this._viewerZoomed.asObservable()}handleZoomEvents(t){switch(t){case SG.Zoom100:this._zoomValue=100,this._zoomAction.next(t),this.setZoom(this.getPercentZoom(this._zoomValue));break;case SG.Zoom200:this._zoomValue=200,this._zoomAction.next(t),this._viewer.setZoom(this.getPercentZoom(this._zoomValue));break;case SG.Zoom50:this._zoomValue=50,this._zoomAction.next(t),this.setZoom(this.getPercentZoom(this._zoomValue));break;case SG.ZoomIn:{const e=this.ZOOM_STEPS.find(t=>t.percent>this._zoomValue);Object(j$.maybe)(e).map(t=>(this._zoomValue=t.percent,this.setZoom(this.getPercentZoom(this._zoomValue)),t.action)).do({just:t=>this._zoomAction.next(t),nothing:()=>this._zoomAction.next(t)});break}case SG.ZoomOut:{const e=this.ZOOM_STEPS.slice().reverse().find(t=>t.percent<this._zoomValue);Object(j$.maybe)(e).map(t=>(this._zoomValue=t.percent,this.setZoom(this.getPercentZoom(this._zoomValue)),t.action)).do({just:t=>this._zoomAction.next(t),nothing:()=>this._zoomAction.next(t)});break}case SG.ZoomInWheel:{this._zoomValue+=this.ZOOM_STEP,this.setZoom(this.getPercentZoom(this._zoomValue));const t=this.findActionByZoom(this._zoomValue);t&&this._zoomAction.next(t);break}case SG.ZoomOutWheel:{Math.round(100*(this._zoomValue-this.ZOOM_STEP)/100)>0?this._zoomValue-=this.ZOOM_STEP:this._zoomValue=0,this.setZoom(this.getPercentZoom(this._zoomValue));const t=this.findActionByZoom(this._zoomValue);t&&this._zoomAction.next(t);break}case SG.ZoomToSelection:console.warn("To selection");break;case SG.ZoomToFit:this._viewer.zoomMode=zq.bestFit,this._zoomAction.next(t);break;default:console.warn(`Unknown ZoomAction ${t}`),this._zoomAction.next(t)}}setZoom(t){this._viewer.setZoom(t)}findActionByZoom(t){const e=this.ZOOM_STEPS.find(({percent:e,action:n})=>n&&t===e);if(e)return e.action}}return t.\u0275fac=function(e){return new(e||t)(Kt(aw))},t.\u0275prov=ht({token:t,factory:t.\u0275fac,providedIn:"root"}),t})(),R1=(()=>{class t{constructor(t){this._store=t,this._settingsAction=new x,this._init=new x,this._initialized=!1;const e=this._store.pipe(cw(t=>t.templateEditor.viewer),Vy(t=>!!t)),n=new Promise(t=>e.subscribe(()=>t()));e.subscribe(t=>this._viewer=t),this._store.pipe(cw(t=>{var e;return null===(e=t.templateEditor.configuration)||void 0===e?void 0:e.viewer}),Vy(t=>!!t)).subscribe(({configuration:t,handlersConfig:e})=>vR(this,void 0,void 0,(function*(){t.rulers.enabled&&!this._initialized&&this._init.next(PG.Rulers),e.gridHandlerConfig.enabled&&!this._initialized&&(yield n,this._viewer.gridHandler.visible=!0,this._init.next(PG.Grid)),this._initialized&&(yield n,t.rulers.enabled!=this._viewer.rulerEnabled&&this.handleSettingsEvents(PG.Rulers),e.gridHandlerConfig.enabled!=this._viewer.gridHandler.visible&&this.handleSettingsEvents(PG.Grid)),this._initialized=!0})))}get $settingsEvt(){return this._settingsAction.asObservable()}get $init(){return this._init.asObservable()}get gridEnabled(){return this._viewer.gridHandler.visible}get previewEnabled(){return this._viewer.previewMode}get rulersEnabled(){return this._viewer.rulerEnabled}handleSettingsEvents(t){switch(t){case PG.Grid:this._viewer.gridHandler.visible=!this._viewer.gridHandler.visible;break;case PG.Preview:this._viewer.previewMode=!this._viewer.previewMode;break;case PG.Rulers:this._viewer.rulerEnabled=!this._viewer.rulerEnabled}this._settingsAction.next(t)}enableGrid(){this._viewer.gridHandler.visible||(this._viewer.gridHandler.visible=!0,this._settingsAction.next(PG.Grid))}disableGrid(){this._viewer.gridHandler.visible&&(this._viewer.gridHandler.visible=!1,this._settingsAction.next(PG.Grid))}enableRulers(){this._viewer.rulerEnabled||(this._viewer.rulerEnabled=!0,this._settingsAction.next(PG.Rulers))}disableRulers(){this._viewer.rulerEnabled&&(this._viewer.rulerEnabled=!1,this._settingsAction.next(PG.Rulers))}enablePreview(){this._viewer.previewMode||(this._viewer.previewMode=!0,this._settingsAction.next(PG.Preview))}disablePreview(){this._viewer.previewMode&&(this._viewer.previewMode=!1,this._settingsAction.next(PG.Preview))}}return t.\u0275fac=function(e){return new(e||t)(Kt(aw))},t.\u0275prov=ht({token:t,factory:t.\u0275fac,providedIn:"root"}),t})(),F1=(()=>{class t{constructor(t){this._store=t,this._snapAction=new x,this._init=new x,this._initialized=!1,this._useSnap=!1,this._useRegionSnap=!1,this._useObjectSnap=!1,this._usePageSnap=!1,this._useMarginsSnap=!1;const e=this._store.pipe(cw(t=>t.templateEditor.viewer),Vy(t=>!!t));this.$pViewer=new Promise(t=>e.subscribe(()=>t())),e.subscribe(t=>{const{items:e,printArea:n,region:i,safetyLines:r}=t.canvas.snapLinesHandler.configuration.snapElements;this._items=e,this._printArea=n,this._region=i,this._safetyLines=r}),this._store.pipe(cw(t=>{var e,n,i,r;return null===(r=null===(i=null===(n=null===(e=t.templateEditor.configuration)||void 0===e?void 0:e.viewer)||void 0===n?void 0:n.handlersConfig)||void 0===i?void 0:i.snapLinesHandler)||void 0===r?void 0:r.snapElements}),Vy(t=>!!t),F(t=>({items:t.items.enabled,printArea:t.printArea.enabled,region:t.region.enabled,safetyLines:t.region.enabled}))).subscribe(t=>this.init(t))}get $snapActionEvt(){return this._snapAction.asObservable()}get $init(){return this._init.asObservable()}init({items:t,printArea:e,region:n,safetyLines:i}){return vR(this,void 0,void 0,(function*(){t&&!this._initialized&&(this._useObjectSnap=!0,this._init.next(OG.SnapToObjects)),e&&!this._initialized&&(this._usePageSnap=!0,this._init.next(OG.SnapToPage)),n&&!this._initialized&&(this._useRegionSnap=!0),i&&!this._initialized&&(this._useMarginsSnap=!0,this._init.next(OG.SnapToMargins)),this._useSnap=t||e||i,this._useSnap&&!this._initialized&&this._init.next(OG.Snap),this._initialized&&(yield this.$pViewer,this._items.enabled!=t&&this.handleSnapEvents(OG.SnapToObjects),this._printArea.enabled!=e&&this.handleSnapEvents(OG.SnapToPage),this._safetyLines.enabled!=i&&this.handleSnapEvents(OG.SnapToMargins)),this._initialized=!0}))}handleSnapEvents(t){switch(t){case OG.Snap:this._useSnap=!this._useSnap,this._updateSnap();break;case OG.SnapToObjects:this._useObjectSnap=!this._useObjectSnap,this._items.enabled=!(!this._useSnap||!this._useObjectSnap),this._updateSnap();break;case OG.SnapToPage:this._usePageSnap=!this._usePageSnap,this._printArea.enabled=!(!this._useSnap||!this._usePageSnap),this._updateSnap();break;case OG.SnapToGrid:case OG.SnapToGuides:break;case OG.SnapToMargins:this._useMarginsSnap=!this._useMarginsSnap,this._printArea.enabled=!(!this._useSnap||!this._useMarginsSnap),this._updateSnap();break;default:console.warn(`Unknown SnapAction: ${t}`)}this._snapAction.next(t)}_updateSnap(){this._useSnap?(this._items.enabled=this._useObjectSnap,this._printArea.enabled=this._usePageSnap,this._safetyLines.enabled=this._useMarginsSnap):(this._items.enabled=!1,this._printArea.enabled=!1,this._safetyLines.enabled=!1)}}return t.\u0275fac=function(e){return new(e||t)(Kt(aw))},t.\u0275prov=ht({token:t,factory:t.\u0275fac,providedIn:"root"}),t})();var L1=function(t){return t[t.ROOT=0]="ROOT",t[t.GROUP=1]="GROUP",t[t.TAB=2]="TAB",t[t.LEAF=3]="LEAF",t}({}),B1=function(t){return t[t.none=0]="none",t[t.proportional=1]="proportional",t[t.arbitrary=2]="arbitrary",t[t.combined=3]="combined",t}({}),N1=function(t){return t[t.horizontal=0]="horizontal",t[t.vertical=1]="vertical",t[t.all=2]="all",t[t.none=3]="none",t}({}),j1=function(t){return t.string="string",t.area="area",t.number="number",t.slider="slider",t.boolean="boolean",t.freedom="freedom",t.enum="enum",t.nullable="nullable",t.object="object",t.color="color",t.text="text",t.grips="grips",t.absent="absent",t.label="label",t.position="position",t.dash="dash",t.img_src="img_src",t.link="link",t.content="content",t.plcenum="plcenum",t.placeholder_stub="placeholder_stub",t.barcode_p="barcode_p",t.image_p="image_p",t.barcode_value="barcode_value",t.barcode_format="barcode_format",t.text_placeholder="text_placeholder",t.plc_img_effect="plc_img_effect",t.to_placeholder="to_placeholder",t.to_layout="to_layout",t}({});class z1{constructor({conf:t,meta:e,value:n,path:i,nullable:r}){this.path=i||[],this._value=n,this._conf=t||{},this._meta=e||{},this._value=n,this._key=this.path[this.path.length-1],this._displayName=this._createDisplayName(),this._controlType=this._initControlType(r)}get displayName(){return this._displayName}get tooltip(){return this._conf.$tooltip||this._displayName}get order(){return"number"==typeof this._conf.$order?this._conf.$order:1/0}get control(){return this._controlType}get groupKey(){return this._conf.$groupKey}get key(){return this._key}get metadata(){return this._meta}get tabKey(){return this._conf.$tabKey}_initControlType(t){return this._conf.$controlType?j1[this._conf.$controlType]:this._meta.propertyFactory&&t||null===this._value&&t?j1.nullable:typeof this._value}_createDisplayName(){return this._conf.$displayName?this._conf.$displayName:this._meta&&this._meta.displayName?this._meta.displayName:this._key}toString(){return"object"==typeof this.value?JSON.stringify(this.value):this.value}}class H1 extends z1{constructor(t){super(t),this.dataType="object",this.items=[],this._expanded=!1,this.item=t.item,this._treeItemType=t.treeItemType,this._expanded=t.expanded,this._root=t.root}get root(){return this._root}get isRoot(){return this._treeItemType===L1.ROOT}get isGroup(){return this._treeItemType===L1.GROUP}get isTab(){return this._treeItemType===L1.TAB}get conf(){return this._conf}get expanded(){return this._expanded}toggleExpanded(){this._expanded=!this.expanded}expand(){this._expanded=!0}collapse(){this._expanded=!1}}var V1=function(t){return t.onum="Onum",t.lnum="Lnum",t.tnum="Tnum",t.zero="Zero",t.frac="Frac",t.sups="Sups",t.subs="Subs",t.ordn="Ordn",t.smcp="Smcp",t.c2sc="C2sc",t.case="Case",t.liga="Liga",t.dlig="Dlig",t.hlig="Hlig",t.calt="Calt",t.swsh="Swsh",t.hist="Hist",t.ssxx="Ssxx",t.kern="Kern",t.locl="Locl",t.otf="otf",t}({});const U1=[{isToggleZone:!0,items:[{action:V1.otf,name:"Labels.OPEN_TYPE_FEATURES",children:[{key:"opentype_features",items:[{action:V1.liga,name:"Labels.STANDARD_LIGATURES",allowCheck:!0},{action:V1.calt,name:"Labels.CONTEXTUAL_ALTERNATES",allowCheck:!0},{action:V1.dlig,name:"Labels.DISCRETIONARY_LIGATURES",allowCheck:!0},{action:V1.swsh,name:"Labels.SWASH",allowCheck:!0},{action:V1.ssxx,name:"Labels.STYLISTIC_SETS",allowCheck:!0},{action:V1.ordn,name:"Labels.ORDINAL",allowCheck:!0},{action:V1.frac,name:"Labels.FRACTIONS",allowCheck:!0},{action:V1.onum,name:"Labels.OLDSTYLE_FIGURES",allowCheck:!0},{action:V1.lnum,name:"Labels.LINING_FIGURES",allowCheck:!0},{action:V1.zero,name:"Labels.SLASHED_ZERO",allowCheck:!0},{action:V1.tnum,name:"Labels.TABULAR_FIGURES",allowCheck:!0},{action:V1.c2sc,name:"Labels.SMALL_CAPS_FROM_CAPITALS",allowCheck:!0},{action:V1.case,name:"Labels.CASE_SENSITIVE_FORMS",allowCheck:!0},{action:V1.hlig,name:"Labels.HISTORICAL_LIGATURES",allowCheck:!0},{action:V1.hist,name:"Labels.HISTORICAL_FORMS",allowCheck:!0},{action:V1.hist,name:"Labels.HISTORICAL_FORMS",allowCheck:!0},{action:V1.kern,name:"Labels.KERNING",allowCheck:!0},{action:V1.locl,name:"Labels.LOCALISED_FORMS",allowCheck:!0}]}]}],key:"OPEN_TYPE_MENU"}];class W1 extends z1{constructor(t){super(Object.assign(Object.assign({},t),{value:null,conf:null,nullable:!1})),this.dataType="other",this._controlType=j1.text,this.item=t.item,this.handler=t.handler,this._value=new $1(this.item,this.handler),this._extConf=t.conf}get value(){return this._value}get conf(){return this._extConf}get unit(){return this._conf.$unit}}class $1{constructor(t,e){this._item=t,this._handler=e}get editor(){return this._handler.textEditor}get font(){var t;return(null===(t=this.editor)||void 0===t?void 0:t.inlineStyle)?this.editor.inlineStyle.font:this._item.font}get color(){var t;return(null===(t=this.editor)||void 0===t?void 0:t.inlineStyle)?this.editor.inlineStyle.color:this._item.color}set color(t){this.editor?this.editor.inlineStyle={color:t}:this._item.color=t}get openType(){var t;return(null===(t=this.editor)||void 0===t?void 0:t.inlineStyle)?this.editor.inlineStyle.openType:this._item.font.openTypeFeatures}set openType(t){this.editor?this.editor.inlineStyle={openType:t}:this._item.font.openTypeFeatures=t}get superscript(){var t;return(null===(t=this.editor)||void 0===t?void 0:t.inlineStyle)?this.editor.inlineStyle.superscript:this.isOTF(V1.sups)}set superscript(t){var e;(null===(e=this.editor)||void 0===e?void 0:e.inlineStyle)?this.editor.inlineStyle={superscript:t,subscript:!t&&this.editor.inlineStyle.subscript}:this.onOTF(t,V1.sups)}get subscript(){var t;return(null===(t=this.editor)||void 0===t?void 0:t.inlineStyle)?this.editor.inlineStyle.subscript:this.isOTF(V1.subs)}set subscript(t){var e;(null===(e=this.editor)||void 0===e?void 0:e.inlineStyle)?this.editor.inlineStyle={subscript:t,superscript:!t&&this.editor.inlineStyle.superscript}:this.onOTF(t,V1.subs)}set previewFontSize(t){this.editor?this.editor.inlineStyle={font:{size:t}}:this._item.previewFontSize=t}get previewFontSize(){return this.editor?this.font.size:this._item.previewFontSize}set fauxBold(t){this.editor?this.editor.inlineStyle={font:{fauxBold:t}}:this._item.font.fauxBold=t}get fauxBold(){return this.font.fauxBold}get fauxItalic(){return this.font.fauxItalic}set fauxItalic(t){this.editor?this.editor.inlineStyle={font:{fauxItalic:t}}:this._item.font.fauxItalic=t}get allCaps(){return this.font.allCaps}set allCaps(t){this.editor?this.editor.inlineStyle={font:{allCaps:t}}:this._item.font.allCaps=t}get underline(){var t;return(null===(t=this.editor)||void 0===t?void 0:t.paragraphStyle)?this.editor.inlineStyle.underline:this._item.underline}set underline(t){this.editor?this.editor.inlineStyle={underline:t}:this._item.underline=t}get fontStyle(){return this._item.font.style}get fontFamily(){return this._item.font.family}get postScriptName(){return this.font.postScriptName}set postScriptName(t){this.editor?this.editor.inlineStyle={font:{postScriptName:t}}:this._item.font.postScriptName=t}set alignment(t){this.editor?this.editor.paragraphStyle={alignment:t}:this._item.alignment=t}get alignment(){var t;return(null===(t=this.editor)||void 0===t?void 0:t.paragraphStyle)?this.editor.paragraphStyle.alignment:this._item.alignment}set verticalAlignment(t){this._item.verticalAlignment=t}get verticalAlignment(){return this._item.verticalAlignment}get tracking(){var t;return(null===(t=this.editor)||void 0===t?void 0:t.inlineStyle)?this.editor.inlineStyle.tracking:this._item.tracking}set tracking(t){this.editor?this.editor.inlineStyle={tracking:t}:this._item.tracking=t}get leading(){var t;return(null===(t=this.editor)||void 0===t?void 0:t.inlineStyle)?this.editor.inlineStyle.leading:this._item.leading}set leading(t){this.editor?this.editor.inlineStyle={leading:t}:this._item.leading=t}isOTF(t){var e;return((null===(e=this.editor)||void 0===e?void 0:e.inlineStyle)?this.editor.inlineStyle.openType:this._item.font.openTypeFeatures).findIndex(e=>e.tag===t&&e.value)>-1}onOTF(t,e){var n;let i=(null===(n=this.editor)||void 0===n?void 0:n.inlineStyle)?this.editor.inlineStyle.openType:this._item.font.openTypeFeatures;i=i.filter(t=>t.tag!==e);const r=new gY(e,t?1:0);this.openType=[...i,r]}switchOTF(t){var e;let n=(null===(e=this.editor)||void 0===e?void 0:e.inlineStyle)?this.editor.inlineStyle.openType:this._item.font.openTypeFeatures;const i=n.find(e=>e.tag===t),r=new gY(t,(null==i?void 0:i.value)?0:1);n=n.filter(e=>e.tag!==t),this.openType=[...n,r]}}class G1 extends z1{constructor(t,e){super(t),this.dataType="other",this._controlType=j1.absent,this.value=e}}class q1 extends z1{constructor(t){super(t),this.item=t.item,this.values=this._meta.values.map((t,e)=>({num:e,name:t})),this._controlType=this._conf.$controlType||j1.enum}get dataType(){return typeof this._value}get value(){return this.values.find(t=>t.name===("number"==typeof this._value?this._meta.values[this._value]:this._value))}set value(t){const e="string"==typeof this._value?t.name:t.num;Bq.setItemProperty(this.item,this.path,e),this._value=e}}class X1 extends z1{constructor(t){super(t),this.dataType="number",this.item=t.item}get value(){return Bq.getItemProperty(this.item,this.path)}set value(t){Bq.setItemProperty(this.item,this.path,t)}get max(){return this._conf.$max}get accuracy(){return this._conf.$accuracy}get min(){return this._conf.$min}get step(){return this._conf.$step}get unit(){return this._conf.$unit}get disabled(){return this._conf.$disabled}}class K1 extends z1{constructor(t){super(t),this.dataType="string",this.item=t.item}get value(){return Bq.getItemProperty(this.item,this.path)}set value(t){Bq.setItemProperty(this.item,this.path,t)}get maxLength(){return this._conf.$maxLength}get disabled(){return this._conf.$disabled}get rows(){return this._conf.$rows}}class Y1 extends z1{constructor(t){super(t),this.dataType="string",this.item=t.item}get value(){return Bq.getItemProperty(this.item,this.path)}set value(t){Bq.setItemProperty(this.item,this.path,t)}get max(){return this._conf.$max}get min(){return this._conf.$min}get step(){return this._conf.$step}get maxLength(){return this._conf.$maxLength}get isUnit(){return this._conf.$useUnit}}class Q1 extends z1{constructor(t){super(t),this.dataType="other",this._controlType=j1.color,this.item=t.item}get value(){return this._value}set value(t){Bq.setItemProperty(this.item,this.path,t),this._value=t}}class Z1 extends z1{constructor(t){super(t),this.dataType="boolean",this.item=t.item}get value(){return Bq.getItemProperty(this.item,this.path)}set value(t){Bq.setItemProperty(this.item,this.path,t)}get disabled(){return this._conf.$disabled}}class J1 extends z1{constructor(t){super(t),this.dataType="other",this._controlType=j1.grips,this.item=t.item,this._value=this.value}get value(){const{edge:t,corner:e}=this.item.manipulationPermissions.resizeGrips,n=e.includes("Proportional"),i=e.includes("Arbitrary");return t||e.length?t||!n||i?t&&n&&!i?B1.combined:t&&n&&i?B1.arbitrary:void 0:B1.proportional:B1.none}set value(t){const{resizeGrips:e}=this.item.manipulationPermissions;switch(t){case B1.none:e.edge=!1,e.corner=[];break;case B1.proportional:e.edge=!1,e.corner=["Proportional"];break;case B1.arbitrary:e.edge=!0,e.corner=["Arbitrary","Proportional"];break;case B1.combined:e.edge=!0,e.corner=["Proportional"]}this._value=t}}class t2 extends z1{constructor(t){super(t),this.dataType="other",this._controlType=j1.absent,this.item=t.item,t.conf.$controlType&&(this._controlType=t.conf.$controlType)}get value(){return this._controlType===j1.absent?"Not implemented":this._value}set value(t){Bq.setItemProperty(this.item,this.path,t),this._value=t}}class e2 extends z1{constructor({item:t,conf:e,handler:n}){super({conf:null,meta:null,value:null,item:t,path:[],nullable:!1}),this.dataType="other",this._controlType=j1.position,this.item=t,this._extConf=e,this._handler=n,this._value=n.bounds}get value(){return this._value}get conf(){return this._extConf}get handler(){return this._handler}}class n2 extends z1{constructor(t){super(t),this.dataType="other",this.item=t.item,this._controlType=this._initControlType(t.nullable)}get value(){return this._value}set value(t){Bq.setItemProperty(this.item,this.path,t),this._value=t}_initControlType(t){return this._conf.$controlType?j1[this._conf.$controlType]:this._meta.propertyFactory&&t||null===this._value&&t?j1.nullable:j1.img_src}}class i2 extends z1{constructor(t){super(t),this.dataType="other",this._controlType=j1.barcode_p,this.item=t.item}get value(){return this._value}set value(t){Bq.setItemProperty(this.item,this.path,t),this._value=t}get conf(){return this._conf}get disabled(){return this._conf.$disabled}}class r2 extends z1{constructor(t){super(t),this.dataType="other",this._controlType=j1.image_p,this.item=t.item}get value(){return this._value}set value(t){Bq.setItemProperty(this.item,this.path,t),this._value=t}get conf(){return this._conf}get disabled(){return this._conf.$disabled}}class o2{constructor(t,e){this._conf=t,this.item=e}get value(){return this._value}set value(t){this._value=t}get displayName(){return this._conf.$displayName}get tooltip(){return this._conf.$tooltip||this.displayName}get order(){return"number"==typeof this._conf.$order?this._conf.$order:1/0}get control(){return this._conf.$controlType}get groupKey(){return this._conf.$groupKey}get tabKey(){return this._conf.$tabKey}}let s2=(()=>{class t{constructor(t,e){this._store=t,this._historySrv=e,this._propertyChange=new x,this._scrollPropContainer=new x,this._unitChange=new x,this._store.pipe(cw(t=>t.templateEditor.configuration.propertyGrid),Vy(t=>!!t)).subscribe(t=>{this._propGridConf=t.properties,this._propGroupsConf=t.groups,this._propTabsConf=t.tabs,this._virtualPropsConf=t.virtualProperties}),this._store.pipe(cw(t=>t.templateEditor.propertyTreeMap)).subscribe(t=>this._map=t),this._store.pipe(cw(t=>t.templateEditor.configuration.ui.unit),Vy(t=>!!t)).subscribe(t=>{this._unit=t,this._unitChange.next(t.shortName),this._store.dispatch(TH())}),this._store.pipe(cw(t=>t.templateEditor.viewer),Vy(t=>!!t)).subscribe(t=>this._viewer=t),$(this._historySrv.$undo,this._historySrv.$redo).subscribe(()=>this._store.dispatch(TH()))}get $propertyChange(){return this._propertyChange.asObservable()}get $scrollPropContainer(){return this._scrollPropContainer.asObservable()}get $unitChange(){return this._unitChange.asObservable()}notifyScroll(){this._scrollPropContainer.next()}notifyPropertyChange(t,e){this._propertyChange.next({path:t,value:e})}traversal(t,e,n){t.items.forEach(t=>{t instanceof H1?(e&&e(t),this.traversal(t,e,n)):n&&n(t)})}pairwise(t,e,n){t.items.forEach((t,i)=>{if(t instanceof H1){const r=e.items[i];n&&n(t,r),this.pairwise(t,r,n)}})}getPropertyTree(t){const e=this._map.get(t.id);if(e&&!e.deprecated)return e;if(e&&e.deprecated){const n=this.createPropertyTree(t);return this.pairwise(n,e,(t,e)=>e.expanded?t.expand():t.collapse()),this._store.dispatch(PH({tree:n})),n}{const e=this.createPropertyTree(t);return this._store.dispatch(PH({tree:e})),e}}sortTree(t){t.items=t.items.sort((t,e)=>(t instanceof H1&&this.sortTree(t),e instanceof H1&&this.sortTree(e),t.order-e.order))}createProperty(t,e){return this._makeProperty(t,e)}createPropertyForTree(t,{conf:e,meta:n,value:i,path:r,nullable:o}){const s=e.$hiddenForTypes&&e.$hiddenForTypes.includes(t.type),a=this._getGeneralConfig(t,r.slice(0,-1));if(!(a&&a.$hidden||e&&e.$hidden||i instanceof rB||s))return e=Object.assign(Object.assign({},a),e),this._makeProperty(t,{conf:e,meta:n,value:i,path:r,nullable:o})}_makeProperty(t,{conf:e,meta:n,value:i,path:r,nullable:o}){const s={item:t,meta:n,conf:e,path:r,value:i,nullable:o};switch(typeof i){case"number":return null!=n&&"enum"===n.type?{instance:new q1(s)}:{instance:new X1(s)};case"string":return null!=n&&"enum"===n.type?{instance:new q1(s)}:{instance:new K1(s)};case"boolean":return{instance:new Z1(s)};case"object":if(null===i)return{instance:new Y1(s)};if(i instanceof JH||Array.isArray(i))return{instance:new t2(s)};if(i instanceof bB)return{instance:new G1(s,"Path not implemented")};if(i instanceof wB)return{instance:new G1(s,"Transform not implemented")};if(i instanceof fW.ImageSource||i instanceof bW)return{instance:new n2(s)};if(i instanceof g$)return{instance:new G1(s,"ItemMask not implemented")};if(i instanceof zB)return{instance:new Q1(s)};if(i instanceof uV)return{instance:new J1(s)};if(i instanceof uU.FontSettings)return{instance:new W1({item:t,handler:this._viewer.getHandler(t),meta:n,path:r,conf:{font:e,alignment:this._getPropertyConfig(t,["alignment"]),leading:this._getPropertyConfig(t,["leading"]),tracking:this._getPropertyConfig(t,["tracking"]),underline:this._getPropertyConfig(t,["underline"]),verticalAlignment:this._getPropertyConfig(t,["verticalAlignment"])}})};if(i instanceof mU)return{instance:new i2(s)};if(i instanceof UU)return{instance:new r2(s)};default:{const t={};if("object"==typeof i){const e=this._getProperties(i,r);e.length&&(t.properties=e)}return t.instance=new Y1(s),t}}}clearEmptyGroups(t){t.items=t.items.filter(t=>!(t instanceof H1&&(this.clearEmptyGroups(t),!t.items.length)))}createPropertyTree(t){const e=this._createRootPropertyPath(t),n=new e2({item:t,handler:this._viewer.getHandler(t),conf:{transformConf:this._getPropertyConfig(t,["transform"]),sourcePath:this._getPropertyConfig(t,["sourcePath"])}}),i=new H1({expanded:!0,treeItemType:L1.GROUP,item:t,conf:{$displayName:"Position",$noToggle:!0}});i.items.push(n);const r=this.createTreeByPath(t,e,!0,!0);return r.items[0].items=[i,...r.items[0].items],this.addVirtualToTree(r,t),r}addVirtualToTree(t,e){let n=this.createVirtualProperties(e);if(this.traversal(t,t=>{n=n.filter(e=>e.groupKey!==t.conf.$groupKey||(t.items.push(e),!1))}),n.length){let e=0;this.traversal(t,t=>{const i=n[e];if(i){const n=this._propGroupsConf.find(t=>t.key===i.groupKey);if(t.isTab&&t.tabKey===i.tabKey){const r=new H1({expanded:!1,treeItemType:L1.GROUP,conf:{$displayName:n.title,$order:n.order,$groupKey:n.key}});r.items.push(i),t.items.push(r),e++}}})}}createVirtualProperties(t){const e=this._virtualPropsConf;let n=[];return e&&Object.keys(e).forEach(i=>{const r=e[i];"plainText"===i&&B$.isTextType(t)&&(n=r.map(e=>new o2(e,t))),"shape"===i&&B$.isShapeType(t)&&(n=r.map(e=>new o2(e,t))),"barcode"===i&&B$.isBarcodeType(t)&&(n=r.map(e=>new o2(e,t))),"image"===i&&B$.isImageType(t)&&(n=r.map(e=>new o2(e,t))),"baseText"===i&&B$.isTextType(t)&&(n=r.map(e=>new o2(e,t))),"placeholder"===i&&B$.isPlaceholderType(t)&&(n=r.map(e=>new o2(e,t))),"item"===i&&t instanceof IV&&(n=r.map(e=>new o2(e,t)))}),n}createTreeByPath(t,e,n=!0,i){this._groupMap=new Map,this._tabMap=new Map;const r=new H1({item:t,treeItemType:n?L1.ROOT:L1.GROUP,expanded:!1});return this._buildTree(e,r,t,i),this.clearEmptyGroups(r),this.sortTree(r),r}_buildTree(t,e,n,i){t.forEach(t=>{const r=this.extractMetadata(n,t,i),o=this.createPropertyForTree(n,r);o&&o.instance&&this._addPropertyToGroup(e,o.instance),(o&&o.properties&&!r.meta||o&&o.properties&&r.meta&&!i)&&this._createGroupForObject(e,r,n,o.properties,i)})}_addPropertyToGroup(t,e){if(t.isRoot){const n=this._propGroupsConf.find(t=>t.key===(e.groupKey||"$$general")),i=this._createOrFindTab(t,e.tabKey||"$$design");this._addToGroup(t,n,e,i)}else Object(j$.maybe)(e.groupKey).do({just:()=>t.root?this._groupMap.get(e.groupKey).items.push(e):t.items.push(e),nothing:()=>t.items.push(e)})}_addToGroup(t,e,n,i){"object"===n.dataType?t.items.push(n):Object(j$.maybe)(this._groupMap.get(e.key)).do({just:t=>t.items.push(n),nothing:()=>{e.tabKey&&(i=this._createOrFindTab(t,e.tabKey));const r=new H1({conf:{$displayName:e.title,$order:e.order,$groupKey:e.key},treeItemType:L1.GROUP,expanded:e.expanded,root:t.isRoot?t:t.root});this._groupMap.set(e.key,r),r.items.push(n),i.items.push(r)}})}_createGroupForObject(t,e,n,i,r){let o=this._groupMap.get(e.conf.$groupKey||e.path[e.path.length-1]);const s=new H1({item:n,conf:Object.assign(Object.assign({},e.conf),{$groupKey:e.path[e.path.length-1]}),meta:e.meta,treeItemType:L1.GROUP,path:e.path,expanded:e.conf.$expanded,root:t.isRoot?t:t.root});Object(j$.maybe)(o).do({just:()=>{e.conf.$keepGroup&&(o.items.push(s),o=s)},nothing:()=>{o=s,this._groupMap.set(o.key,o),t.isRoot?this._createOrFindTab(t,e.conf.$tabKey||"$$design").items.push(o):t.items.push(o)}}),this._buildTree(i,o,n,r)}_createOrFindTab(t,e){if(this._tabMap.has(e))return this._tabMap.get(e);{const n=this._propTabsConf.find(t=>t.key===e),i=new H1({treeItemType:L1.TAB,expanded:!1,conf:{$displayName:n.title,$tabKey:n.key}});return this._tabMap.set(e,i),t.items.push(i),i}}extractMetadata(t,e,n){const i={path:e,nullable:n};return i.conf=this._getPropertyConfig(t,e),i.conf.$useUnit&&(i.conf.$unit=this._unit.shortName),i.value=Bq.getItemProperty(t,e),t instanceof qW&&"content"===e[0]&&e.length>1&&(t=t.content,(e=[...e]).shift()),i.meta=Bq.getItemMetadataByPath(t,e),i}_getPropertyConfig(t,e){const n=this._createItemChain(t);return this._propGridConf?this._makeConfig(n,e):null}_getGeneralConfig(t,e){const n=this._createItemChain(t);let i={};for(let r=0;r<e.length;r++){const t=e.slice(0,-1*r||void 0),o=this._propGridConf?this._makeConfig(n,t):null;o&&(i=Object.assign(Object.assign({},o["*"]),i))}return i}_getProperties(t,e){if(null==t)return[];const n="function"==typeof t.getSimplifiedObject?t.getSimplifiedObject():t;return Object.keys(n).map(t=>[...e,t])}_createRootPropertyPath(t){let e=Object.keys(t.getSimplifiedObject());return t instanceof RU&&(e=[...e,"groupManipulationPermissions"]),e.map(t=>[t]).filter(t=>{let e=!1;return t.forEach(t=>e=e||!uq.includes(t)),e})}_makeConfig(t,e){let n={};return t.forEach(t=>{if(this._propGridConf&&this._propGridConf[t]){const i=Bq.getItemProperty(this._propGridConf[t],e);n=Object.assign(Object.assign({},n),i||{})}}),n}_createItemChain(t){const e=[];let n=t;for(;n&&n.constructor;)e.push(n.constructor),n=Object.getPrototypeOf(n);return e.map(t=>{switch(t){case fW:return"image";case KW:return"plainText";case UV:return"shape";case CU:return"barcode";case IV:return"item";case uU:return"baseText";case qW:return"placeholder"}}).filter(t=>!!t)}}return t.\u0275fac=function(e){return new(e||t)(Kt(aw),Kt(JG))},t.\u0275prov=ht({token:t,factory:t.\u0275fac,providedIn:"root"}),t})(),a2=(()=>{class t extends N${constructor(t,e,n,i,r,o){super(t,!1),this._store=e,this._modalSrv=n,this._propFactorySrv=i,this._fontSrv=r,this._jsonSerializer=o,this._mouseBhvAction=new x,this._alignActions=new x,this._canvasAction=new x,this._moveAction=new x,this._convertGroup=new x,e.pipe(cw(t=>t.templateEditor.viewer),Vy(t=>!!t)).subscribe(t=>{this._viewer=t,this._cm=t.commandManager}),this._store.pipe(cw(t=>t.templateEditor.configuration.api),Vy(t=>!!t)).subscribe(({designAtomsApiUrl:t})=>this.domain=t)}get $mouseBhvAction(){return this._mouseBhvAction.asObservable()}get $alignAction(){return this._alignActions.asObservable()}get $canvasAction(){return this._canvasAction.asObservable()}get $moveAction(){return this._moveAction.asObservable()}get $convertGroup(){return this._convertGroup.asObservable()}get placeholders(){return this._curSurface.getAllItems().toArray().filter(t=>R$(t))}setCurrentSurface(t){this._curSurface=t}handleAction(t,e){return vR(this,void 0,void 0,(function*(){const n=Array.isArray(e)?e:[e];switch(t){case $$.BringToForward:yield this._cm.execute(UQ.bringItems,{items:n,position:"levelUp"});break;case $$.BringToFront:yield this._cm.execute(UQ.bringItems,{items:n,position:"front"});break;case $$.SendBack:yield this._cm.execute(UQ.bringItems,{items:n,position:"bottom"});break;case $$.SendBackward:yield this._cm.execute(UQ.bringItems,{items:n,position:"levelDown"});break;case $$.Duplicate:yield this._cm.execute(UQ.cloneItems,{items:n});break;case $$.Rename:this._store.dispatch(xH({editedItem:{item:n[0]}}));break;case $$.Delete:yield this._cm.execute(UQ.deleteItems,{items:n});break;case $$.GroupSelection:yield this.groupItems(n);break;case $$.Ungroup:{const t=n.filter(t=>M$(t));t.length&&(yield this._cm.execute(UQ.ungroupItems,{items:t}));break}case $$.LockAndUnlock:if(n.length)return void this.switchItemLock(n);break;case $$.ShowAndHide:if(n.length)return void this.switchItemVisible(n);break;default:console.warn("Unknown CanvasActions")}this._canvasAction.next(t)}))}handleMove(t,e){return vR(this,void 0,void 0,(function*(){t=t.split("-")[0];const{container:n,item:i}=e,r=Array.isArray(i)?i:[i];switch(t){case G$.MoveToLayerPayload:this.moveItemToLayer(n,r);break;case G$.MoveToPagePayload:yield this._moveItemToPage(n,r)}this._moveAction.next(t)}))}handleAlign(t,e){return vR(this,void 0,void 0,(function*(){switch(t){case q$.AlignCenter:yield this._alignItems("horizontalCenter",e);break;case q$.AlignRight:yield this._alignItems("right",e);break;case q$.AlignToBottom:yield this._alignItems("bottom",e);break;case q$.AlignToLeft:yield this._alignItems("left",e);break;case q$.AlignToMiddle:yield this._alignItems("verticalCenter",e);break;case q$.AlignToTop:yield this._alignItems("top",e)}this._alignActions.next(t)}))}checkAlignment(t){const{width:e,height:n}=this._curSurface,i=[null,null];if(t.parentGroupItem){const{top:e,left:n,center:r,bottom:o,right:s}=this._viewer.getHandler(t.parentGroupItem).bounds,{top:a,left:l,center:c,bottom:u,right:h}=this._viewer.getHandler(t).bounds;e===a&&(i[0]=q$.AlignToTop),o===u&&(i[0]=q$.AlignToBottom),r.y===c.y&&(i[0]=q$.AlignToMiddle),n===l&&(i[1]=q$.AlignToLeft),s===h&&(i[1]=q$.AlignRight),r.x===c.x&&(i[1]=q$.AlignCenter)}else{const{top:r,left:o,center:s,bottom:a,right:l}=this._viewer.getHandler(t).bounds;0===o&&(i[1]=q$.AlignToLeft),l===e&&(i[1]=q$.AlignRight),s.y===n/2&&(i[0]=q$.AlignToMiddle),0===r&&(i[0]=q$.AlignToTop),a===n&&(i[0]=q$.AlignToBottom),s.x===e/2&&(i[1]=q$.AlignCenter)}return i}_alignItems(t,e){return vR(this,void 0,void 0,(function*(){e?e[0].parentGroupItem?yield this._cm.execute(UQ.alignIntoGroup,{group:e[0].parentGroupItem,items:e,align:t}):yield this._cm.execute(UQ.alignItems,{items:e,align:t}):yield this._cm.execute(UQ.groupAlign,{align:t})}))}changeItemIndex(t,e,n){n.items.move(t,e),this._viewer.productHandler.redraw()}groupItems(t){return vR(this,void 0,void 0,(function*(){yield this._cm.execute(UQ.groupItems,{items:t})}))}moveItemToLayer(t,e){return vR(this,void 0,void 0,(function*(){e.forEach(e=>e.parentGroupItem?(e.parentGroupItem.items.remove(e),void t.items.add(e)):e.parentContainer?(e.parentContainer.items.remove(e),void t.items.add(e)):void 0),this.selectItems(e)}))}moveItemToPoint(t,e){return vR(this,void 0,void 0,(function*(){const{x:n,y:i}=e,{left:r,top:o}=this._viewer.getHandler(t).bounds;yield this._cm.execute(UQ.translateItems,{translateX:n-r,translateY:i-o,items:[t]})}))}resizeItem(t,e,n){return vR(this,void 0,void 0,(function*(){yield this._cm.execute(HQ.resize,{target:[t],width:e,height:n,defaultOptions:{resize:VK.Arbitrary}})}))}setItemAngle(t,e){if(e%=360,M$(t)){this._viewer.canvas.pauseRedraw();const n=t;n.items.forEach(t=>t.transform.setAngle(e)),n.transform.setAngle(e),this._viewer.canvas.continueRedraw()}else t.transform.setAngle(e),R$(t)&&this.updatePlaceholderContent(t);return e}handleToolbarAction(t){switch(this._mouseBhvAction.next(t),t){case wG.Placeholder:this._viewer.setMouseBehavior(eJ.Create,{item:{itemData:{name:"Placeholder"},type:xQ.PlaceholderItem}});break;case wG.Selection:this._viewer.setMouseBehavior(eJ.Selection);break;case wG.Text:this._viewer.setMouseBehavior(eJ.Create,{item:{click:{itemData:{text:"Text",font:{size:14,postScriptName:this._fontSrv.defaultFont.metadata.postscriptName},name:"Plain text"},type:xQ.PlainTextItem},selection:{itemData:{text:"Text",font:{size:14,postScriptName:this._fontSrv.defaultFont.metadata.postscriptName},name:"Bounded text"},type:xQ.BoundedTextItem}}});break;case wG.Ellipse:this._viewer.setMouseBehavior(eJ.Create,{item:{itemData:{name:"Ellipse"},type:xQ.EllipseItem}});break;case wG.Rectangle:this._viewer.setMouseBehavior(eJ.Create,{item:{itemData:{name:"Rectangle"},type:xQ.RectangleItem}});break;case wG.QRCode:this._viewer.setMouseBehavior(eJ.Create,{item:{itemData:{barcodeContent:{barcodeValue:"1234567",barcodeFormat:hU.QR_CODE},name:"QR Code"},type:xQ.BarcodeItem}});break;case wG.QRCodePlaceholder:this._viewer.setMouseBehavior(eJ.Create,{item:{itemData:{barcodeFormat:hU.QR_CODE,name:"QR Code placeholder"},type:xQ.PlaceholderItem}});break;case wG.Barcode:this._viewer.setMouseBehavior(eJ.Create,{item:{itemData:{barcodeContent:{barcodeValue:"1234567",barcodeFormat:hU.EAN_8},width:200,height:139,manipulationPermissions:{resizeGrips:{edge:!0}},name:"Barcode"},type:xQ.BarcodeItem}});break;case wG.BarcodePlaceholder:this._viewer.setMouseBehavior(eJ.Create,{item:{itemData:{barcodeFormat:hU.EAN_8,name:"Barcode placeholder"},type:xQ.PlaceholderItem}});break;default:console.warn("Unknown action!")}}addContentToPlaceholder(t,e){return vR(this,void 0,void 0,(function*(){if(t){this._modalSrv.showProductLoader();try{const n=yield this.uploadImage(t,"Image");return yield this._cm.execute(UQ.setImageItem,{item:n,targetItem:e}),this._store.dispatch(IH({item:e})),this._propFactorySrv.getPropertyTree(e),n}finally{this._modalSrv.closeProductLoader()}}}))}bindPlaceholderToLinkGroup(t){var e,n;const i=t.linkId,r=this.placeholders.filter(e=>e.linkId===i&&e!==t);if(r.length){const i=r[0].content;(null===(n=null===(e=t.content)||void 0===e?void 0:e.source)||void 0===n?void 0:n.id)!==i.source.id&&(t.content=i?i.clone():i,this.updatePlaceholderContent(t))}}updateLinkedPlaceholders(t,e){t&&this.placeholders.forEach(n=>{var i,r;const o=(null===(i=n.content)||void 0===i?void 0:i.source.id)!==(null===(r=e)||void 0===r?void 0:r.source.id);n.linkId===t&&o&&(n.content=e?e.clone():e,this.updatePlaceholderContent(n))})}updatePlaceholderContent(t){const e=this._viewer.getHandler(t),n=t.content;n&&this._viewer.getHandler(n).updateRectangle(!1,t.contentResizeMode,e),this._viewer.canvas.redraw()}_moveItemToPage(t,e){return vR(this,void 0,void 0,(function*(){const n=e.map(t=>t.clone());yield this._cm.execute(VQ.addItems,{items:n,surface:t.parentComponent,targetContainer:t}),yield this._cm.execute(UQ.deleteItems,{items:e})}))}switchItemLock(t){return vR(this,void 0,void 0,(function*(){if(1===t.length){const[e]=t;e.locked=!e.locked,e.locked&&(yield this.removeFromSelection([e]))}else t.map(t=>t.locked).reduce((t,e)=>t&&e)?t.forEach(t=>t.locked=!1):(t.forEach(t=>t.locked=!0),yield this._cm.execute(WQ.clearSelection))}))}switchItemVisible(t){return vR(this,void 0,void 0,(function*(){if(1===t.length){const[e]=t;e.visible=!e.visible,e.visible||(yield this.removeFromSelection([e]))}else t.map(t=>!t.visible).reduce((t,e)=>t&&e)?(t.forEach(t=>t.visible=!1),yield this._cm.execute(WQ.clearSelection)):t.forEach(t=>t.visible=!0)}))}selectItems(t){return vR(this,void 0,void 0,(function*(){yield this._cm.execute(WQ.clearSelection),yield this._cm.execute(WQ.selectItems,{items:t})}))}addToSelection(t){return vR(this,void 0,void 0,(function*(){yield this._cm.execute(WQ.selectItems,{items:t,multiselection:!0})}))}removeFromSelection(t){return vR(this,void 0,void 0,(function*(){const e=t.filter(t=>this._viewer.selectedItems.includes(t));if(e.length>0){const t=this._viewer.selectedItems.filter(t=>!e.includes(t));yield this._cm.execute(WQ.clearSelection),yield this._cm.execute(WQ.selectItems,{items:t})}}))}highlightItem(t){const e=this._viewer.getHandler(t);this._viewer.canvas.showHover(e.rectangle,t.name)}lowlightItem(){this._viewer.canvas.hideHover()}convertToLayout(t){return vR(this,void 0,void 0,(function*(){const[e]=yield this._cm.execute(UQ.convertGroupIntoLayout,{items:[t]});this._convertGroup.next(e)}))}convertToGroup(t){return vR(this,void 0,void 0,(function*(){const[e]=yield this._cm.execute(UQ.convertLayoutIntoGroup,{items:[t]});this._convertGroup.next(e)}))}uploadImage(t,e){return vR(this,void 0,void 0,(function*(){try{const n=new FormData;n.append("sourceFile",t,t.name);const i=e?{itemType:e}:{},r=mu.production?{}:{tenantId:mu.tenantId.toString()},o=yield this.httpClient.post(`${this.domain}/api/atoms/v1/itemCreator`,n,{params:new Vv({fromObject:Object.assign(Object.assign({},i),r)})}).toPromise();return this._jsonSerializer.productParser.parseItem(o)}catch(n){throw console.warn(n),n}}))}}return t.\u0275fac=function(e){return new(e||t)(Kt(us),Kt(aw),Kt(f1),Kt(s2),Kt(z$),Kt(S$))},t.\u0275prov=ht({token:t,factory:t.\u0275fac,providedIn:"root"}),t})();const l2=wb("[Menus] SetCanvasCtxMenu",{_as:"props",_p:void 0}),c2=wb("[Menus] SetCanvasBufferMenu",{_as:"props",_p:void 0}),u2=wb("[Menus] SetBufferStatus",{_as:"props",_p:void 0}),h2=wb("[Menus] SetLayerMenu",{_as:"props",_p:void 0});var d2="undefined"!=typeof crypto&&crypto.getRandomValues&&crypto.getRandomValues.bind(crypto)||"undefined"!=typeof msCrypto&&"function"==typeof msCrypto.getRandomValues&&msCrypto.getRandomValues.bind(msCrypto),p2=new Uint8Array(16);function f2(){if(!d2)throw new Error("crypto.getRandomValues() not supported. See https://github.com/uuidjs/uuid#getrandomvalues-not-supported");return d2(p2)}for(var m2=/^(?:[0-9a-f]{8}-[0-9a-f]{4}-[1-5][0-9a-f]{3}-[89ab][0-9a-f]{3}-[0-9a-f]{12}|00000000-0000-0000-0000-000000000000)$/i,g2=function(t){return"string"==typeof t&&m2.test(t)},y2=[],_2=0;_2<256;++_2)y2.push((_2+256).toString(16).substr(1));var v2=function(t,e,n){var i=(t=t||{}).random||(t.rng||f2)();if(i[6]=15&i[6]|64,i[8]=63&i[8]|128,e){n=n||0;for(var r=0;r<16;++r)e[n+r]=i[r];return e}return function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,n=(y2[t[e+0]]+y2[t[e+1]]+y2[t[e+2]]+y2[t[e+3]]+"-"+y2[t[e+4]]+y2[t[e+5]]+"-"+y2[t[e+6]]+y2[t[e+7]]+"-"+y2[t[e+8]]+y2[t[e+9]]+"-"+y2[t[e+10]]+y2[t[e+11]]+y2[t[e+12]]+y2[t[e+13]]+y2[t[e+14]]+y2[t[e+15]]).toLowerCase();if(!g2(n))throw TypeError("Stringified UUID is invalid");return n}(i)};let b2=(()=>{class t{constructor(){this.$storeEvents=my(window,"storage")}get length(){return localStorage.length}get sessionLength(){return sessionStorage.length}get keys(){return Object.keys(localStorage)}get sessionKeys(){return Object.keys(sessionStorage)}setItem(t,e){this._writeToStorage(t,e,localStorage)}has(t){return!!localStorage.getItem(t)}hasSession(t){return!!sessionStorage.getItem(t)}setSessionItem(t,e){this._writeToStorage(t,e,sessionStorage)}getItem(t){return this._readFromStorage(t,localStorage)}getSessionItem(t){return this._readFromStorage(t,sessionStorage)}removeItem(t){localStorage.removeItem(t)}removeSessionItem(t){sessionStorage.removeItem(t)}clearStorage(){localStorage.clear()}clearSessionStorage(){localStorage.clear()}_writeToStorage(t,e,n){switch(typeof e){case"object":{const i=JSON.stringify(e);n.setItem(t,i);break}case"boolean":n.setItem(t,e.toString());break;case"number":if(!isFinite(e))throw new Error(`StorageService: Set legal number. ${e} can not write to store`);n.setItem(t,e.toString());break;case"string":n.setItem(t,e);break;default:throw new Error(`StorageService: Can not write ${typeof e} to store`)}}_readFromStorage(t,e){const n=e.getItem(t);try{return JSON.parse(n)}catch(i){if("string"==typeof n)return"true"===n||"false"!==n&&n}}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275prov=ht({token:t,factory:t.\u0275fac,providedIn:"root"}),t})(),w2=(()=>{class t{constructor(t,e,n,i){this._store=t,this._storageSrv=e,this._jsonSerializer=n,this._itemsSrv=i,this.STORE_BUFFER_KEY="buffer",this.STORE_WIN_COUNT_KEY="win_count",this._bufferData=[],this.$leave=my(window,"unload"),this._init(),this._store.pipe(cw(t=>t.templateEditor.viewer),Vy(t=>!!t)).subscribe(t=>{this._viewer=t,this._cm=t.commandManager}),this._storageSrv.$storeEvents.pipe(Vy(t=>t.key===this.STORE_BUFFER_KEY)).subscribe(()=>this._parseItems()),this.$leave.subscribe(()=>this._winCountLeaveUpdate())}handleAction(t,e,n){return vR(this,void 0,void 0,(function*(){switch(t){case X$.Copy:this.copy(e);break;case X$.Cut:yield this.cut(e);break;case X$.Paste:yield this.paste(n)}}))}copy(t){this._put(t)}cut(t){return vR(this,void 0,void 0,(function*(){this._put(t),yield this._cm.execute(UQ.deleteItems,{items:t})}))}paste(t){return vR(this,void 0,void 0,(function*(){const e=t?this._viewer.pageToWorkspacePoint(t.x,t.y):null;this._viewer.canvas.pauseRedraw();const n=this._bufferData.map(t=>this._restoreItem(t,e)),i=yield Promise.all(n);this._itemsSrv.selectItems(i),this._viewer.canvas.continueRedraw()}))}_put(t){const e=t.map(t=>{const{rectangle:e}=this._viewer.getHandler(t),n=t.borderWidth,i=this._getContentShape(t),r=this._getGroupShapes(t),o=e.toRectangleF();return{itemData:this._jsonSerializer.serializeModelComponent(t),shape:{itemShape:JSON.stringify(o),contentShape:i?JSON.stringify(i):void 0,groupShapes:r},border:n}});this._storageSrv.setItem(this.STORE_BUFFER_KEY,e),this._store.dispatch(u2({haveBuffer:!0})),this._parseItems()}_getContentShape(t){if(t instanceof qW&&!t.isBarcodePlaceholder&&t.content){const{rectangle:e}=this._viewer.getHandler(t.content);return e.toRectangleF()}}_getGroupShapes(t){if(!(t instanceof RU))return{};const{top:e,left:n}=this._viewer.getHandler(t).bounds,i={};return F$(t,t=>{var r;const o=null===(r=this._getContentShape(t))||void 0===r?void 0:r.clone();o&&(o.top=o.top-e,o.left=o.left-n,i[t.id]=JSON.stringify(o.toJSON()))}),i}_init(){this._storageSrv.has(this.STORE_BUFFER_KEY)&&this._parseItems(),this._winCountInitUpdate()}_parseItems(){this._store.dispatch(u2({haveBuffer:!0}));const t=this._storageSrv.getItem(this.STORE_BUFFER_KEY);if(Array.isArray(t)){const n=[];for(const i of t){const{border:t,itemData:r,shape:o}=i;try{const e=this._jsonSerializer.productParser.parseItem(JSON.parse(r));n.push({itemData:e,shape:{itemShape:JSON.parse(o.itemShape),contentShape:o.contentShape?JSON.parse(o.contentShape):o.contentShape,groupShapes:this._parseGroupShapes(o.groupShapes)},border:t})}catch(e){console.warn(e);break}}this._bufferData=n}}_parseGroupShapes(t){const e={};return Object.keys(t).forEach(n=>e[n]=JSON.parse(t[n])),e}_restoreItem(t,e){return vR(this,void 0,void 0,(function*(){const{itemData:n,border:i,shape:r}=t,o=n.clone(!0),s=o instanceof $V||o instanceof JU&&!(o instanceof uU);s&&(o.borderWidth=0),this._pasteTo(o);const a=this._viewer.getHandler(o);o instanceof kU&&(yield a.waitUpdate());const{left:l,top:c}=a.bounds;return o instanceof kU||(yield this._cm.execute(HQ.resize,{width:r.itemShape.width,height:r.itemShape.height,target:[o],defaultOptions:{resize:VK.Arbitrary}})),yield this._cm.execute(UQ.translateItems,{translateX:e?e.x-l:0,translateY:e?e.y-c:0,items:[o]}),this._restoreShape(o,s,i),this._restoreBarcode(o,a),this._restoreGroup(o,r.groupShapes),this._restorePlaceholderItem(o,r.contentShape,l,c),o}))}_pasteTo(t){return vR(this,void 0,void 0,(function*(){const e=1===this._viewer.selectedItems.length,n=this._viewer.selectedItems[0],i=M$(n)?n:null==n?void 0:n.parentGroupItem;e&&i?yield this._cm.execute(VQ.addItems,{items:[t],targetGroupItem:i,orderIndex:i.items.length}):yield this._cm.execute(VQ.addItems,{items:[t]})}))}_restoreGroup(t,e){return vR(this,void 0,void 0,(function*(){if(!M$(t))return;const n=t,{left:i,top:r}=this._viewer.getHandler(t).bounds;F$(n,t=>{t instanceof qW&&Object(j$.maybe)(e[t.id]).do({just:e=>vR(this,void 0,void 0,(function*(){const n=t.content,o=this._viewer.getHandler(n);if(o.update(),!t.isBarcodePlaceholder){this._itemsSrv.updateLinkedPlaceholders(t.linkId,n);const{top:s,left:a}=o.rectangle.bounds;this._viewer.canvas.continueRedraw(),yield this._cm.execute(UQ.translateItems,{translateX:i-a+e.left,translateY:r-s+e.top,items:[n]})}}))})})}))}_restoreShape(t,e,n){e&&(t.borderWidth=n)}_restoreBarcode(t,e){t instanceof CU&&e.update()}_restorePlaceholderItem(t,e,n,i){return vR(this,void 0,void 0,(function*(){t instanceof qW&&(this._viewer.getHandler(t.content).update(),t.isBarcodePlaceholder||(this._itemsSrv.updateLinkedPlaceholders(t.linkId,t.content),yield this._cm.execute(UQ.translateItems,{translateX:e.left-n,translateY:e.top-i,items:[t.content]})))}))}_winCountInitUpdate(){this._winId=v2();const t=this._storageSrv.getItem(this.STORE_WIN_COUNT_KEY);Array.isArray(t)?(t.push(this._winId),this._storageSrv.setItem(this.STORE_WIN_COUNT_KEY,t)):this._storageSrv.setItem(this.STORE_WIN_COUNT_KEY,[this._winId])}_winCountLeaveUpdate(){const t=this._storageSrv.getItem(this.STORE_WIN_COUNT_KEY);if(Array.isArray(t)){const e=t.filter(t=>this._winId===t);e.length||this._storageSrv.removeItem(this.STORE_BUFFER_KEY),this._storageSrv.setItem(this.STORE_WIN_COUNT_KEY,e)}else this._storageSrv.removeItem(this.STORE_BUFFER_KEY)}}return t.\u0275fac=function(e){return new(e||t)(Kt(aw),Kt(b2),Kt(S$),Kt(a2))},t.\u0275prov=ht({token:t,factory:t.\u0275fac,providedIn:"root"}),t})();class C2{get dropdownKeys(){const t=[];return this.itemsMap.forEach(({hotkey:e},n)=>Object(j$.maybe)(e).do({just:({keys:e})=>{e.length&&t.push({action:n,keys:e})}})),t}disableItem(t){const e=this.itemsMap.get(t);e&&(e.disable=!0)}enableItem(t){const e=this.itemsMap.get(t);e&&(e.disable=!1)}getByAction(t){return this.itemsMap.get(t)}}class x2 extends C2{constructor(t=[]){super(),this._items=[],this.itemsMap=new Map,this._segmentsMap=new Map,this._actionToSegment=new Map,this._items=this.cloneSource(t),this._initItemsMap(this.items),this._initSegmentMap(this.items)}get items(){return this._items}get dropdownKeys(){const t=[];return this.itemsMap.forEach(({hotkey:e},n)=>Object(j$.maybe)(e).do({just:({keys:e})=>t.push({action:n,keys:e})})),t}isCheckedBranch(t){let e=!1;return t.forEach(t=>t.items.forEach(t=>e=e||t.allowCheck)),e}addItem(t,e){Object(j$.maybe)(this.itemsMap.get(t)).do({just:t=>{t.children=[e],this._initItemsMap([e])}})}addPayloadToAction(t,e){Object(j$.maybe)(this.itemsMap.get(t)).do({just:t=>t.payload=e})}removeItem(t){}removeSegment(t){}addSegment(t,e){}getSegment(t){return this._segmentsMap.get(t)}disableSegment(t){Object(j$.maybe)(this._segmentsMap.get(t)).do({just:t=>t.items.forEach(t=>this.disableItem(t.action))})}enableSegment(t){Object(j$.maybe)(this._segmentsMap.get(t)).do({just:t=>t.items.forEach(t=>this.enableItem(t.action))})}addPayloadToSegment(t,e){Object(j$.maybe)(this._segmentsMap.get(t)).do({just:t=>t.items.forEach(t=>this.addPayloadToAction(t.action,e))})}toggleItem(t){const e=this._actionToSegment.get(t),n=this._segmentsMap.get(e);n.isToggleZone?(n.items.forEach(e=>{e.action!==t&&this.switchOffItem(e.action)}),this._justToggleItem(t)):this._justToggleItem(t)}_justToggleItem(t){const e=this.itemsMap.get(t);Object(j$.maybe)(e).map(t=>t.allowCheck).do({just:()=>e.checked=!e.checked})}switchAll(t,e){e?Object(j$.maybe)(this._segmentsMap.get(e)).do({just:e=>e.items.forEach(e=>e.checked=t)}):this.itemsMap.forEach(e=>e.checked=t)}switchOnItem(t){Object(j$.maybe)(this.itemsMap.get(t)).do({just:t=>t.checked=!0})}switchOffItem(t){Object(j$.maybe)(this.itemsMap.get(t)).do({just:t=>t.checked=!1})}cloneSource(t){const e=[];return t&&t.forEach(({key:t,isToggleZone:n,items:i})=>{const r={key:t,isToggleZone:n,items:[]};r.items=i.map(t=>Object.assign(Object.assign({},t),{hotkey:t.hotkey?{label:t.hotkey.label,keys:[...t.hotkey.keys]}:void 0,children:this.cloneSource(t.children)})),e.push(r)}),e}_initItemsMap(t){t.forEach(t=>t.items.forEach(e=>{this.itemsMap.has(e.action)||(this.itemsMap.set(e.action,e),this._actionToSegment.set(e.action,t.key)),e.children&&(this._initItemsMap(e.children),this._initSegmentMap(e.children))}))}_initSegmentMap(t){t.forEach(t=>this._segmentsMap.set(t.key,t))}}class E2{constructor(t,e){this.item=t,this.container=e}}class S2{constructor(t,e){this.container=t,this.surface=e}}let P2=(()=>{class t{constructor(t){this._store=t,this.selectedItemsChanged=new x,this.containerCollectionChanged=new x,this.currentItemChanged=new x,this.itemCollectionChanged=new x,this.itemRemoved=new x,this.surfaceCollectionChanged=new x,this._placeholderSelectClick=new x,this._itemAdded=new x,this._itemRemoved=new x,this._snapshotLoaded=new x,this._mouseSelectPixel=new x,this._enteredEditMode=new x,this._exitedEditMode=new x,t.pipe(cw(t=>t.templateEditor.viewer),Vy(t=>!!t)).subscribe(e=>{e.eventManager.addContainerCollectionChanged(()=>this.containerCollectionChanged.next()),e.eventManager.addSelectedItemChanged(t=>this.selectedItemsChanged.next(t)),e.eventManager.addContainerCollectionChanged(()=>this.currentItemChanged.next()),e.eventManager.addItemCollectionChanged(()=>this.itemCollectionChanged.next()),e.eventManager.addSelectButtonClick(t=>this._placeholderSelectClick.next(t)),e.eventManager.addItemRemoved(e=>{t.dispatch(IH({item:e.item})),this.itemRemoved.next(e)}),e.eventManager.addSurfaceCollectionChanged(()=>this.surfaceCollectionChanged.next()),e.eventManager.addItemAdded(({item:t})=>this._itemAdded.next(t)),e.eventManager.addItemRemoved(({item:t})=>this._itemRemoved.next(t)),e.eventManager.addSnapshotLoadedEvent(t=>{this._snapshotLoaded.next(t),this._store.dispatch(yH({product:t}))}),e.eventManager.addMouseSelectPixelFinished(t=>this._mouseSelectPixel.next(t)),e.eventManager.addEnteredEditMode(t=>this._enteredEditMode.next(t)),e.eventManager.addExitedEditMode(t=>this._exitedEditMode.next(t))})}get $placeholderSelectClick(){return this._placeholderSelectClick.asObservable().pipe(QP(1))}get $selectedItemsChanged(){return this.selectedItemsChanged.asObservable()}get $containerCollectionChanged(){return this.containerCollectionChanged.asObservable()}get $currentItemChanged(){return this.currentItemChanged.asObservable()}get $itemCollectionChanged(){return this.itemCollectionChanged.asObservable()}get $itemRemoved(){return this.itemRemoved.asObservable()}get $surfaceCollectionChanged(){return this.surfaceCollectionChanged.asObservable()}get $addItem(){return this._itemAdded.asObservable()}get $snapshotLoaded(){return this._snapshotLoaded.asObservable()}get $mouseSelectPixel(){return this._mouseSelectPixel.asObservable()}get $enteredEditMode(){return this._enteredEditMode.asObservable()}get $exitedEditMode(){return this._exitedEditMode.asObservable()}}return t.\u0275fac=function(e){return new(e||t)(Kt(aw))},t.\u0275prov=ht({token:t,factory:t.\u0275fac,providedIn:"root"}),t})(),O2=(()=>{class t{constructor(t,e,n,i){this._store=t,this._itemSrv=e,this._evtSrv=n,this._historySrv=i,this._surfaces=[],this._ignore=0,this._selectItemsCh=new x,t.pipe(cw(t=>t.templateEditor.viewer),Vy(t=>!!t)).subscribe(t=>this._viewer=t),t.pipe(cw(t=>t.ui.surfaces)).subscribe(t=>this._surfaces=t.toArray()),this._evtSrv.$selectedItemsChanged.subscribe(t=>{this._ignore||this._selectItemsCh.next(t),this._ignore&&(this._ignore-=1)})}get $selectItems(){return this._selectItemsCh.asObservable()}setCurrentSurface(t){this._surface=t,this._itemSrv.setCurrentSurface(t)}buildMenu(t){const e=new x2([{key:yG.S_LAYERS_MOVE,items:[K$]},{key:yG.S_LAYERS_RENAME,items:[eG]},_G,vG]);return e.addItem(G$.MoveToPage,{key:yG.S_PAGES,items:this._createPagesMenu(t)}),t.locked&&e.disableItem(G$.MoveToPage),e.addPayloadToSegment(yG.S_BEHAVIOR,t),e.addPayloadToSegment(yG.S_DELETE,t),e.addPayloadToSegment(yG.S_LAYERS_RENAME,t),e.addPayloadToSegment(yG.S_LAYERS_MOVE,t),this._store.dispatch(h2({layerMenu:e})),e}_createPagesMenu(t){const e=[];return this._surfaces.forEach(n=>{n!==this._surface&&e.push({payload:new S2(t,n),name:n.name,display:!0,action:`${G$.MoveToPage}-${t.id}`})}),e}addLayer(t,e,n){const i=new iV([],n||"New layer");return"number"==typeof e?this._surface.containers.insertAt(e,i):this._surface.containers.add(i),t&&this._store.dispatch(xH({editedItem:{item:i,isNew:!0}})),i}addBackgroundLayer(t){const e=new iV([],P$.BG_CONTAINER_NAME);return t.containers.insertAt(0,e),e}deleteLayer(t){this._surface.containers.remove(t)}handleAction(t,e){switch(t){case $$.Rename:this._store.dispatch(xH({editedItem:{item:e}}));break;case $$.ShowAndHide:this.switchLayerVisible(e);break;case $$.LockAndUnlock:this.switchLayerLock(e);break;case $$.Delete:this.deleteLayer(e);break;default:console.warn(`Unknown action: ${t}`)}}handleMove(t){const{container:e,surface:n}=t;e.parentComponent.containers.remove(e),n.containers.add(e)}selectLayer(t,e){if(t!==this._viewer.userEditContainer){const n=this._viewer.selectedItems;e&&(this._ignore=3),this._viewer.userEditContainer=t,e&&this._itemSrv.selectItems(n)}this._store.dispatch(EH({curLayer:t})),this._store.dispatch(MH({item:t}))}switchLayerLock(t){t.locked=!t.locked,t.locked&&this._itemSrv.removeFromSelection(t.items.toArray()),this._viewer.canvas.redraw()}switchLayerVisible(t){t.visible=!t.visible,t.visible||this._itemSrv.removeFromSelection(t.items.toArray()),this._viewer.canvas.redraw()}getItemBy(t,e){for(const n of e.items)if(n.id===t)return n}}return t.\u0275fac=function(e){return new(e||t)(Kt(aw),Kt(a2),Kt(P2),Kt(JG))},t.\u0275prov=ht({token:t,factory:t.\u0275fac,providedIn:"root"}),t})();const k2={provide:"ACTION_SERVICE",useClass:class{constructor(t,e,n,i,r,o,s,a){this._viewerZoomService=t,this._viewerSettingsSrv=e,this._viewerSnapSrv=n,this._itemSrv=i,this._clipboardSrv=r,this._layerSrv=o,this._store=s,this._productSrv=a,this._imageAction=new x,this._productSaved=new x,this._store.pipe(cw(t=>t.menus.canvasCtxMenu)).subscribe(t=>this._menu=t),this._store.pipe(cw(t=>t.menus.layerMenu)).subscribe(t=>this._menu=t),this._store.pipe(cw(t=>t.templateEditor.viewer),Vy(t=>!!t)).subscribe(t=>{this._cm=t.commandManager,this._viewer=t})}get $imageAction(){return this._imageAction.asObservable()}get $productSaved(){return this._productSaved.asObservable()}handleEvent(t){const{action:e}=t;this.handleAction(e,!0)}handleAction(t,e){return vR(this,void 0,void 0,(function*(){if(M1.isZoomAction(t)&&this._viewerZoomService.handleZoomEvents(t),M1.isSnapAction(t)&&this._viewerSnapSrv.handleSnapEvents(t),M1.isViewerSettingsAction(t)&&this._viewerSettingsSrv.handleSettingsEvents(t),M1.isToolbarAction(t)){if(t===wG.Image)return void this._imageAction.next();this._itemSrv.handleToolbarAction(t)}if(M1.isCanvasAction(t)){const n=this._menu.getByAction(t);Object(j$.maybe)(n).do({just:()=>{const i=e?this._viewer.selectedItems:n.payload;i instanceof iV?this._layerSrv.handleAction(t,i):i instanceof E2?this._itemSrv.handleMove(t,i):this._itemSrv.handleAction(t,i)}})}if(M1.isMoveActions(t)&&Object(j$.maybe)(this._menu.getByAction(t)).do({just:e=>{const{payload:n}=e;n instanceof S2?this._layerSrv.handleMove(n):this._itemSrv.handleMove(t,n)}}),M1.isClipboardActions(t)){const e=this._menu.getByAction(t),n=Array.isArray(e.payload)?e.payload:[e.payload];Object(j$.maybe)(e).do({just:()=>this._clipboardSrv.handleAction(t,n)})}if(M1.isAlignAction(t)){const e=this._menu.getByAction(t),n=null==e?void 0:e.payload;e&&this._itemSrv.handleAlign(t,n)}if(M1.isCommonAction(t))switch(t){case MG.SelectAll:yield this._cm.execute(WQ.clearSelection),yield this._cm.execute(WQ.selectItems,{items:this._viewer.surface.getAllItems().toArray(),multiselection:!0});break;case MG.CtrlS:try{yield this._productSrv.saveProduct(),this._productSaved.next()}catch(n){this._productSaved.error(n)}break;default:console.warn(`Unknown action: ${t}`)}}))}},deps:[D1,R1,F1,a2,w2,O2,aw,u1]};let T2=(()=>{class t{constructor(t){this.sanitizer=t}transform(t,e){switch(e){case"html":return this.sanitizer.bypassSecurityTrustHtml(t);case"style":return this.sanitizer.bypassSecurityTrustStyle(t);case"script":return this.sanitizer.bypassSecurityTrustScript(t);case"url":return this.sanitizer.bypassSecurityTrustUrl(t);case"resourceUrl":return this.sanitizer.bypassSecurityTrustResourceUrl(t);default:throw new Error(`Invalid safe type specified: ${e}`)}}}return t.\u0275fac=function(e){return new(e||t)(Ms(Df))},t.\u0275pipe=we({name:"safe",type:t,pure:!0}),t})(),I2=(()=>{class t{constructor(t){this._store=t,this._subscriber=new x,this._unitMap=yq,this._store.pipe(cw(t=>t.templateEditor.configuration.ui.unit),Vy(t=>!!t),$y(this._subscriber)).subscribe(t=>this._configUnit=t)}ngOnDestroy(){this._subscriber.next(),this._subscriber.complete(),this._subscriber.unsubscribe()}transform(t,e){return this.value2unit(t,e)}value2unit(t,e){if(!e)return t;const n=this._unitMap.get(e);return n?t/n.ratio:this._configUnit.shortName===e?t/this._configUnit.ratio:t}unit2value(t,e){if(!e)return t;const n=this._unitMap.get(e);return n?n.ratio*t:this._configUnit.shortName===e?this._configUnit.ratio*t:t}}return t.\u0275fac=function(e){return new(e||t)(Ms(aw))},t.\u0275pipe=we({name:"unit2",type:t,pure:!0}),t.\u0275prov=ht({token:t,factory:t.\u0275fac}),t})(),A2=(()=>{class t{constructor(t,e){this._el=e,this._unitMap=yq,this._subscriber=new x,t.pipe(cw(t=>t.templateEditor.configuration.ui.unit),Vy(t=>!!t),$y(this._subscriber)).subscribe(t=>this._configUnit=t)}ngOnDestroy(){this._subscriber.next(),this._subscriber.complete(),this._subscriber.unsubscribe()}ngOnInit(){Object(j$.maybe)(this._unitMap.get(this.unit)).do({just:t=>this.unitDes=t,nothing:()=>{this._configUnit.shortName===this.unit&&(this.unitDes=this._configUnit)}})}onInput(t){this._transformAndEmit(t)}onChange(t){this._transformAndEmit(t)}_transformAndEmit(t){const e=t.target,n=Number(e.value);e.valueAsUnit=this.unitDes?this.unitDes.ratio*n:n}}return t.\u0275fac=function(e){return new(e||t)(Ms(aw),Ms(Ya))},t.\u0275dir=be({type:t,selectors:[["","auUnit2Input",""]],hostBindings:function(t,e){1&t&&$s("input",(function(t){return e.onInput(t)}))("change",(function(t){return e.onChange(t)}))},inputs:{unit:["auUnit2Input","unit"]}}),t})();var M2={};function D2(t){t&&(t.value=!0)}function R2(){}function F2(t){return void 0===t.size&&(t.size=t.__iterate(B2)),t.size}function L2(t,e){if("number"!=typeof e){var n=e>>>0;if(""+n!==e||4294967295===n)return NaN;e=n}return e<0?F2(t)+e:e}function B2(){return!0}function N2(t,e,n){return(0===t&&!V2(t)||void 0!==n&&t<=-n)&&(void 0===e||void 0!==n&&e>=n)}function j2(t,e){return H2(t,e,0)}function z2(t,e){return H2(t,e,e)}function H2(t,e,n){return void 0===t?n:V2(t)?e===1/0?e:0|Math.max(0,e+t):void 0===e||e===t?t:0|Math.min(e,t)}function V2(t){return t<0||0===t&&1/t==-1/0}function U2(t){return Boolean(t&&t["@@__IMMUTABLE_ITERABLE__@@"])}function W2(t){return Boolean(t&&t["@@__IMMUTABLE_KEYED__@@"])}function $2(t){return Boolean(t&&t["@@__IMMUTABLE_INDEXED__@@"])}function G2(t){return W2(t)||$2(t)}var q2=function(t){return U2(t)?t:p3(t)},X2=function(t){function e(t){return W2(t)?t:f3(t)}return t&&(e.__proto__=t),(e.prototype=Object.create(t&&t.prototype)).constructor=e,e}(q2),K2=function(t){function e(t){return $2(t)?t:m3(t)}return t&&(e.__proto__=t),(e.prototype=Object.create(t&&t.prototype)).constructor=e,e}(q2),Y2=function(t){function e(t){return U2(t)&&!G2(t)?t:g3(t)}return t&&(e.__proto__=t),(e.prototype=Object.create(t&&t.prototype)).constructor=e,e}(q2);function Q2(t){return Boolean(t&&t["@@__IMMUTABLE_SEQ__@@"])}function Z2(t){return Boolean(t&&t["@@__IMMUTABLE_RECORD__@@"])}function J2(t){return U2(t)||Z2(t)}q2.Keyed=X2,q2.Indexed=K2,q2.Set=Y2;var t3="@@__IMMUTABLE_ORDERED__@@";function e3(t){return Boolean(t&&t[t3])}var n3="function"==typeof Symbol&&Symbol.iterator,i3=n3||"@@iterator",r3=function(t){this.next=t};function o3(t,e,n,i){var r=0===t?e:1===t?n:[e,n];return i?i.value=r:i={value:r,done:!1},i}function s3(){return{value:void 0,done:!0}}function a3(t){return!!u3(t)}function l3(t){return t&&"function"==typeof t.next}function c3(t){var e=u3(t);return e&&e.call(t)}function u3(t){var e=t&&(n3&&t[n3]||t["@@iterator"]);if("function"==typeof e)return e}r3.prototype.toString=function(){return"[Iterator]"},r3.KEYS=0,r3.VALUES=1,r3.ENTRIES=2,r3.prototype.inspect=r3.prototype.toSource=function(){return this.toString()},r3.prototype[i3]=function(){return this};var h3=Object.prototype.hasOwnProperty;function d3(t){return!(!Array.isArray(t)&&"string"!=typeof t)||t&&"object"==typeof t&&Number.isInteger(t.length)&&t.length>=0&&(0===t.length?1===Object.keys(t).length:t.hasOwnProperty(t.length-1))}var p3=function(t){function e(t){return null==t?w3():J2(t)?t.toSeq():function(t){var e=E3(t);if(e)return e;if("object"==typeof t)return new _3(t);throw new TypeError("Expected Array or collection object of values, or keyed object: "+t)}(t)}return t&&(e.__proto__=t),(e.prototype=Object.create(t&&t.prototype)).constructor=e,e.prototype.toSeq=function(){return this},e.prototype.toString=function(){return this.__toString("Seq {","}")},e.prototype.cacheResult=function(){return!this._cache&&this.__iterateUncached&&(this._cache=this.entrySeq().toArray(),this.size=this._cache.length),this},e.prototype.__iterate=function(t,e){var n=this._cache;if(n){for(var i=n.length,r=0;r!==i;){var o=n[e?i-++r:r++];if(!1===t(o[1],o[0],this))break}return r}return this.__iterateUncached(t,e)},e.prototype.__iterator=function(t,e){var n=this._cache;if(n){var i=n.length,r=0;return new r3((function(){if(r===i)return{value:void 0,done:!0};var o=n[e?i-++r:r++];return o3(t,o[0],o[1])}))}return this.__iteratorUncached(t,e)},e}(q2),f3=function(t){function e(t){return null==t?w3().toKeyedSeq():U2(t)?W2(t)?t.toSeq():t.fromEntrySeq():Z2(t)?t.toSeq():C3(t)}return t&&(e.__proto__=t),(e.prototype=Object.create(t&&t.prototype)).constructor=e,e.prototype.toKeyedSeq=function(){return this},e}(p3),m3=function(t){function e(t){return null==t?w3():U2(t)?W2(t)?t.entrySeq():t.toIndexedSeq():Z2(t)?t.toSeq().entrySeq():x3(t)}return t&&(e.__proto__=t),(e.prototype=Object.create(t&&t.prototype)).constructor=e,e.of=function(){return e(arguments)},e.prototype.toIndexedSeq=function(){return this},e.prototype.toString=function(){return this.__toString("Seq [","]")},e}(p3),g3=function(t){function e(t){return(U2(t)&&!G2(t)?t:m3(t)).toSetSeq()}return t&&(e.__proto__=t),(e.prototype=Object.create(t&&t.prototype)).constructor=e,e.of=function(){return e(arguments)},e.prototype.toSetSeq=function(){return this},e}(p3);p3.isSeq=Q2,p3.Keyed=f3,p3.Set=g3,p3.Indexed=m3,p3.prototype["@@__IMMUTABLE_SEQ__@@"]=!0;var y3=function(t){function e(t){this._array=t,this.size=t.length}return t&&(e.__proto__=t),(e.prototype=Object.create(t&&t.prototype)).constructor=e,e.prototype.get=function(t,e){return this.has(t)?this._array[L2(this,t)]:e},e.prototype.__iterate=function(t,e){for(var n=this._array,i=n.length,r=0;r!==i;){var o=e?i-++r:r++;if(!1===t(n[o],o,this))break}return r},e.prototype.__iterator=function(t,e){var n=this._array,i=n.length,r=0;return new r3((function(){if(r===i)return{value:void 0,done:!0};var o=e?i-++r:r++;return o3(t,o,n[o])}))},e}(m3),_3=function(t){function e(t){var e=Object.keys(t);this._object=t,this._keys=e,this.size=e.length}return t&&(e.__proto__=t),(e.prototype=Object.create(t&&t.prototype)).constructor=e,e.prototype.get=function(t,e){return void 0===e||this.has(t)?this._object[t]:e},e.prototype.has=function(t){return h3.call(this._object,t)},e.prototype.__iterate=function(t,e){for(var n=this._object,i=this._keys,r=i.length,o=0;o!==r;){var s=i[e?r-++o:o++];if(!1===t(n[s],s,this))break}return o},e.prototype.__iterator=function(t,e){var n=this._object,i=this._keys,r=i.length,o=0;return new r3((function(){if(o===r)return{value:void 0,done:!0};var s=i[e?r-++o:o++];return o3(t,s,n[s])}))},e}(f3);_3.prototype[t3]=!0;var v3,b3=function(t){function e(t){this._collection=t,this.size=t.length||t.size}return t&&(e.__proto__=t),(e.prototype=Object.create(t&&t.prototype)).constructor=e,e.prototype.__iterateUncached=function(t,e){if(e)return this.cacheResult().__iterate(t,e);var n=c3(this._collection),i=0;if(l3(n))for(var r;!(r=n.next()).done&&!1!==t(r.value,i++,this););return i},e.prototype.__iteratorUncached=function(t,e){if(e)return this.cacheResult().__iterator(t,e);var n=c3(this._collection);if(!l3(n))return new r3(s3);var i=0;return new r3((function(){var e=n.next();return e.done?e:o3(t,i++,e.value)}))},e}(m3);function w3(){return v3||(v3=new y3([]))}function C3(t){var e=Array.isArray(t)?new y3(t):a3(t)?new b3(t):void 0;if(e)return e.fromEntrySeq();if("object"==typeof t)return new _3(t);throw new TypeError("Expected Array or collection object of [k, v] entries, or keyed object: "+t)}function x3(t){var e=E3(t);if(e)return e;throw new TypeError("Expected Array or collection object of values: "+t)}function E3(t){return d3(t)?new y3(t):a3(t)?new b3(t):void 0}function S3(t){return Boolean(t&&t["@@__IMMUTABLE_MAP__@@"])}function P3(t){return S3(t)&&e3(t)}function O3(t){return Boolean(t&&"function"==typeof t.equals&&"function"==typeof t.hashCode)}function k3(t,e){if(t===e||t!=t&&e!=e)return!0;if(!t||!e)return!1;if("function"==typeof t.valueOf&&"function"==typeof e.valueOf){if((t=t.valueOf())===(e=e.valueOf())||t!=t&&e!=e)return!0;if(!t||!e)return!1}return!!(O3(t)&&O3(e)&&t.equals(e))}var T3="function"==typeof Math.imul&&-2===Math.imul(4294967295,2)?Math.imul:function(t,e){var n=65535&(t|=0),i=65535&(e|=0);return n*i+((t>>>16)*i+n*(e>>>16)<<16>>>0)|0};function I3(t){return t>>>1&1073741824|3221225471&t}var A3=Object.prototype.valueOf;function M3(t){switch(typeof t){case"boolean":return t?1108378657:1108378656;case"number":return function(t){if(t!=t||t===1/0)return 0;var e=0|t;for(e!==t&&(e^=4294967295*t);t>4294967295;)e^=t/=4294967295;return I3(e)}(t);case"string":return t.length>z3?(void 0===(n=U3[e=t])&&(n=D3(e),V3===H3&&(V3=0,U3={}),V3++,U3[e]=n),n):D3(t);case"object":case"function":return null===t?1108378658:"function"==typeof t.hashCode?I3(t.hashCode(t)):(t.valueOf!==A3&&"function"==typeof t.valueOf&&(t=t.valueOf(t)),function(t){var e;if(B3&&void 0!==(e=R3.get(t)))return e;if(void 0!==(e=t[j3]))return e;if(!L3){if(void 0!==(e=t.propertyIsEnumerable&&t.propertyIsEnumerable[j3]))return e;if(void 0!==(e=function(t){if(t&&t.nodeType>0)switch(t.nodeType){case 1:return t.uniqueID;case 9:return t.documentElement&&t.documentElement.uniqueID}}(t)))return e}if(e=++N3,1073741824&N3&&(N3=0),B3)R3.set(t,e);else{if(void 0!==F3&&!1===F3(t))throw new Error("Non-extensible objects are not allowed as keys.");if(L3)Object.defineProperty(t,j3,{enumerable:!1,configurable:!1,writable:!1,value:e});else if(void 0!==t.propertyIsEnumerable&&t.propertyIsEnumerable===t.constructor.prototype.propertyIsEnumerable)t.propertyIsEnumerable=function(){return this.constructor.prototype.propertyIsEnumerable.apply(this,arguments)},t.propertyIsEnumerable[j3]=e;else{if(void 0===t.nodeType)throw new Error("Unable to set a non-enumerable property on object.");t[j3]=e}}return e}(t));case"undefined":return 1108378659;default:if("function"==typeof t.toString)return D3(t.toString());throw new Error("Value type "+typeof t+" cannot be hashed.")}var e,n}function D3(t){for(var e=0,n=0;n<t.length;n++)e=31*e+t.charCodeAt(n)|0;return I3(e)}var R3,F3=Object.isExtensible,L3=function(){try{return Object.defineProperty({},"@",{}),!0}catch(t){return!1}}(),B3="function"==typeof WeakMap;B3&&(R3=new WeakMap);var N3=0,j3="__immutablehash__";"function"==typeof Symbol&&(j3=Symbol(j3));var z3=16,H3=255,V3=0,U3={},W3=function(t){function e(t,e){this._iter=t,this._useKeys=e,this.size=t.size}return t&&(e.__proto__=t),(e.prototype=Object.create(t&&t.prototype)).constructor=e,e.prototype.get=function(t,e){return this._iter.get(t,e)},e.prototype.has=function(t){return this._iter.has(t)},e.prototype.valueSeq=function(){return this._iter.valueSeq()},e.prototype.reverse=function(){var t=this,e=Y3(this,!0);return this._useKeys||(e.valueSeq=function(){return t._iter.toSeq().reverse()}),e},e.prototype.map=function(t,e){var n=this,i=K3(this,t,e);return this._useKeys||(i.valueSeq=function(){return n._iter.toSeq().map(t,e)}),i},e.prototype.__iterate=function(t,e){var n=this;return this._iter.__iterate((function(e,i){return t(e,i,n)}),e)},e.prototype.__iterator=function(t,e){return this._iter.__iterator(t,e)},e}(f3);W3.prototype[t3]=!0;var $3=function(t){function e(t){this._iter=t,this.size=t.size}return t&&(e.__proto__=t),(e.prototype=Object.create(t&&t.prototype)).constructor=e,e.prototype.includes=function(t){return this._iter.includes(t)},e.prototype.__iterate=function(t,e){var n=this,i=0;return e&&F2(this),this._iter.__iterate((function(r){return t(r,e?n.size-++i:i++,n)}),e)},e.prototype.__iterator=function(t,e){var n=this,i=this._iter.__iterator(1,e),r=0;return e&&F2(this),new r3((function(){var o=i.next();return o.done?o:o3(t,e?n.size-++r:r++,o.value,o)}))},e}(m3),G3=function(t){function e(t){this._iter=t,this.size=t.size}return t&&(e.__proto__=t),(e.prototype=Object.create(t&&t.prototype)).constructor=e,e.prototype.has=function(t){return this._iter.includes(t)},e.prototype.__iterate=function(t,e){var n=this;return this._iter.__iterate((function(e){return t(e,e,n)}),e)},e.prototype.__iterator=function(t,e){var n=this._iter.__iterator(1,e);return new r3((function(){var e=n.next();return e.done?e:o3(t,e.value,e.value,e)}))},e}(g3),q3=function(t){function e(t){this._iter=t,this.size=t.size}return t&&(e.__proto__=t),(e.prototype=Object.create(t&&t.prototype)).constructor=e,e.prototype.entrySeq=function(){return this._iter.toSeq()},e.prototype.__iterate=function(t,e){var n=this;return this._iter.__iterate((function(e){if(e){a5(e);var i=U2(e);return t(i?e.get(1):e[1],i?e.get(0):e[0],n)}}),e)},e.prototype.__iterator=function(t,e){var n=this._iter.__iterator(1,e);return new r3((function(){for(;;){var e=n.next();if(e.done)return e;var i=e.value;if(i){a5(i);var r=U2(i);return o3(t,r?i.get(0):i[0],r?i.get(1):i[1],e)}}}))},e}(f3);function X3(t){var e=c5(t);return e._iter=t,e.size=t.size,e.flip=function(){return t},e.reverse=function(){var e=t.reverse.apply(this);return e.flip=function(){return t.reverse()},e},e.has=function(e){return t.includes(e)},e.includes=function(e){return t.has(e)},e.cacheResult=u5,e.__iterateUncached=function(e,n){var i=this;return t.__iterate((function(t,n){return!1!==e(n,t,i)}),n)},e.__iteratorUncached=function(e,n){if(2===e){var i=t.__iterator(e,n);return new r3((function(){var t=i.next();if(!t.done){var e=t.value[0];t.value[0]=t.value[1],t.value[1]=e}return t}))}return t.__iterator(1===e?0:1,n)},e}function K3(t,e,n){var i=c5(t);return i.size=t.size,i.has=function(e){return t.has(e)},i.get=function(i,r){var o=t.get(i,M2);return o===M2?r:e.call(n,o,i,t)},i.__iterateUncached=function(i,r){var o=this;return t.__iterate((function(t,r,s){return!1!==i(e.call(n,t,r,s),r,o)}),r)},i.__iteratorUncached=function(i,r){var o=t.__iterator(2,r);return new r3((function(){var r=o.next();if(r.done)return r;var s=r.value,a=s[0];return o3(i,a,e.call(n,s[1],a,t),r)}))},i}function Y3(t,e){var n=this,i=c5(t);return i._iter=t,i.size=t.size,i.reverse=function(){return t},t.flip&&(i.flip=function(){var e=X3(t);return e.reverse=function(){return t.flip()},e}),i.get=function(n,i){return t.get(e?n:-1-n,i)},i.has=function(n){return t.has(e?n:-1-n)},i.includes=function(e){return t.includes(e)},i.cacheResult=u5,i.__iterate=function(n,i){var r=this,o=0;return i&&F2(t),t.__iterate((function(t,s){return n(t,e?s:i?r.size-++o:o++,r)}),!i)},i.__iterator=function(i,r){var o=0;r&&F2(t);var s=t.__iterator(2,!r);return new r3((function(){var t=s.next();if(t.done)return t;var a=t.value;return o3(i,e?a[0]:r?n.size-++o:o++,a[1],t)}))},i}function Q3(t,e,n,i){var r=c5(t);return i&&(r.has=function(i){var r=t.get(i,M2);return r!==M2&&!!e.call(n,r,i,t)},r.get=function(i,r){var o=t.get(i,M2);return o!==M2&&e.call(n,o,i,t)?o:r}),r.__iterateUncached=function(r,o){var s=this,a=0;return t.__iterate((function(t,o,l){if(e.call(n,t,o,l))return a++,r(t,i?o:a-1,s)}),o),a},r.__iteratorUncached=function(r,o){var s=t.__iterator(2,o),a=0;return new r3((function(){for(;;){var o=s.next();if(o.done)return o;var l=o.value,c=l[0],u=l[1];if(e.call(n,u,c,t))return o3(r,i?c:a++,u,o)}}))},r}function Z3(t,e,n,i){var r=t.size;if(N2(e,n,r))return t;var o=j2(e,r),s=z2(n,r);if(o!=o||s!=s)return Z3(t.toSeq().cacheResult(),e,n,i);var a,l=s-o;l==l&&(a=l<0?0:l);var c=c5(t);return c.size=0===a?a:t.size&&a||void 0,!i&&Q2(t)&&a>=0&&(c.get=function(e,n){return(e=L2(this,e))>=0&&e<a?t.get(e+o,n):n}),c.__iterateUncached=function(e,n){var r=this;if(0===a)return 0;if(n)return this.cacheResult().__iterate(e,n);var s=0,l=!0,c=0;return t.__iterate((function(t,n){if(!l||!(l=s++<o))return c++,!1!==e(t,i?n:c-1,r)&&c!==a})),c},c.__iteratorUncached=function(e,n){if(0!==a&&n)return this.cacheResult().__iterator(e,n);if(0===a)return new r3(s3);var r=t.__iterator(e,n),s=0,l=0;return new r3((function(){for(;s++<o;)r.next();if(++l>a)return{value:void 0,done:!0};var t=r.next();return i||1===e||t.done?t:o3(e,l-1,0===e?void 0:t.value[1],t)}))},c}function J3(t,e,n,i){var r=c5(t);return r.__iterateUncached=function(r,o){var s=this;if(o)return this.cacheResult().__iterate(r,o);var a=!0,l=0;return t.__iterate((function(t,o,c){if(!a||!(a=e.call(n,t,o,c)))return l++,r(t,i?o:l-1,s)})),l},r.__iteratorUncached=function(r,o){var s=this;if(o)return this.cacheResult().__iterator(r,o);var a=t.__iterator(2,o),l=!0,c=0;return new r3((function(){var t,o,u;do{if((t=a.next()).done)return i||1===r?t:o3(r,c++,0===r?void 0:t.value[1],t);var h=t.value;o=h[0],u=h[1],l&&(l=e.call(n,u,o,s))}while(l);return 2===r?t:o3(r,o,u,t)}))},r}function t5(t,e){var n=W2(t),i=[t].concat(e).map((function(t){return U2(t)?n&&(t=X2(t)):t=n?C3(t):x3(Array.isArray(t)?t:[t]),t})).filter((function(t){return 0!==t.size}));if(0===i.length)return t;if(1===i.length){var r=i[0];if(r===t||n&&W2(r)||$2(t)&&$2(r))return r}var o=new y3(i);return n?o=o.toKeyedSeq():$2(t)||(o=o.toSetSeq()),(o=o.flatten(!0)).size=i.reduce((function(t,e){if(void 0!==t){var n=e.size;if(void 0!==n)return t+n}}),0),o}function e5(t,e,n){var i=c5(t);return i.__iterateUncached=function(r,o){if(o)return this.cacheResult().__iterate(r,o);var s=0,a=!1;return function t(l,c){l.__iterate((function(o,l){return(!e||c<e)&&U2(o)?t(o,c+1):(s++,!1===r(o,n?l:s-1,i)&&(a=!0)),!a}),o)}(t,0),s},i.__iteratorUncached=function(i,r){if(r)return this.cacheResult().__iterator(i,r);var o=t.__iterator(i,r),s=[],a=0;return new r3((function(){for(;o;){var t=o.next();if(!1===t.done){var l=t.value;if(2===i&&(l=l[1]),e&&!(s.length<e)||!U2(l))return n?t:o3(i,a++,l,t);s.push(o),o=l.__iterator(i,r)}else o=s.pop()}return{value:void 0,done:!0}}))},i}function n5(t,e,n){e||(e=h5);var i=W2(t),r=0,o=t.toSeq().map((function(e,i){return[i,e,r++,n?n(e,i,t):e]})).valueSeq().toArray();return o.sort((function(t,n){return e(t[3],n[3])||t[2]-n[2]})).forEach(i?function(t,e){o[e].length=2}:function(t,e){o[e]=t[1]}),i?f3(o):$2(t)?m3(o):g3(o)}function i5(t,e,n){if(e||(e=h5),n){var i=t.toSeq().map((function(e,i){return[e,n(e,i,t)]})).reduce((function(t,n){return r5(e,t[1],n[1])?n:t}));return i&&i[0]}return t.reduce((function(t,n){return r5(e,t,n)?n:t}))}function r5(t,e,n){var i=t(n,e);return 0===i&&n!==e&&(null==n||n!=n)||i>0}function o5(t,e,n,i){var r=c5(t),o=new y3(n).map((function(t){return t.size}));return r.size=i?o.max():o.min(),r.__iterate=function(t,e){for(var n,i=this.__iterator(1,e),r=0;!(n=i.next()).done&&!1!==t(n.value,r++,this););return r},r.__iteratorUncached=function(t,r){var o=n.map((function(t){return t=q2(t),c3(r?t.reverse():t)})),s=0,a=!1;return new r3((function(){var n;return a||(n=o.map((function(t){return t.next()})),a=i?n.every((function(t){return t.done})):n.some((function(t){return t.done}))),a?{value:void 0,done:!0}:o3(t,s++,e.apply(null,n.map((function(t){return t.value}))))}))},r}function s5(t,e){return t===e?t:Q2(t)?e:t.constructor(e)}function a5(t){if(t!==Object(t))throw new TypeError("Expected [K, V] tuple: "+t)}function l5(t){return W2(t)?X2:$2(t)?K2:Y2}function c5(t){return Object.create((W2(t)?f3:$2(t)?m3:g3).prototype)}function u5(){return this._iter.cacheResult?(this._iter.cacheResult(),this.size=this._iter.size,this):p3.prototype.cacheResult.call(this)}function h5(t,e){return void 0===t&&void 0===e?0:void 0===t?1:void 0===e?-1:t>e?1:t<e?-1:0}function d5(t,e){e=e||0;for(var n=Math.max(0,t.length-e),i=new Array(n),r=0;r<n;r++)i[r]=t[r+e];return i}function p5(t,e){if(!t)throw new Error(e)}function f5(t){p5(t!==1/0,"Cannot perform this action with an infinite size.")}function m5(t){if(d3(t)&&"string"!=typeof t)return t;if(e3(t))return t.toArray();throw new TypeError("Invalid keyPath: expected Ordered Collection or Array: "+t)}function g5(t){return"object"==typeof t&&(J2(t)||Array.isArray(t)||function(t){return t&&("function"!=typeof t.constructor||"Object"===t.constructor.name)}(t))}function y5(t){try{return"string"==typeof t?JSON.stringify(t):String(t)}catch(e){return JSON.stringify(t)}}function _5(t,e,n){return J2(t)?t.get(e,n):function(t,e){return J2(t)?t.has(e):g5(t)&&h3.call(t,e)}(t,e)?"function"==typeof t.get?t.get(e):t[e]:n}function v5(t){if(Array.isArray(t))return d5(t);var e={};for(var n in t)h3.call(t,n)&&(e[n]=t[n]);return e}function b5(t,e,n,i){i||(i=n,n=void 0);var r=function t(e,n,i,r,o,s){var a=n===M2;if(r===i.length){var l=a?o:n,c=s(l);return c===l?n:c}if(!a&&!g5(n))throw new TypeError("Cannot update within non-data-structure value in path ["+i.slice(0,r).map(y5)+"]: "+n);var u=i[r],h=a?M2:_5(n,u,M2),d=t(h===M2?e:J2(h),h,i,r+1,o,s);return d===h?n:d===M2?function(t,e){if(!g5(t))throw new TypeError("Cannot update non-data-structure value: "+t);if(J2(t)){if(!t.remove)throw new TypeError("Cannot update immutable value without .remove() method: "+t);return t.remove(e)}if(!h3.call(t,e))return t;var n=v5(t);return Array.isArray(n)?n.splice(e,1):delete n[e],n}(n,u):function(t,e,n){if(!g5(t))throw new TypeError("Cannot update non-data-structure value: "+t);if(J2(t)){if(!t.set)throw new TypeError("Cannot update immutable value without .set() method: "+t);return t.set(e,n)}if(h3.call(t,e)&&n===t[e])return t;var i=v5(t);return i[e]=n,i}(a?e?Q5():{}:n,u,d)}(J2(t),t,m5(e),0,n,i);return r===M2?n:r}function w5(t,e){return function(t,e,n){return b5(t,e,M2,(function(){return n}))}(this,t,e)}function C5(t){return function(t,e){return b5(t,e,(function(){return M2}))}(this,t)}function x5(t,e,n,i){return b5(t,[e],n,i)}function E5(t,e,n){return 1===arguments.length?t(this):x5(this,t,e,n)}function S5(t,e,n){return b5(this,t,e,n)}function P5(){for(var t=[],e=arguments.length;e--;)t[e]=arguments[e];return k5(this,t)}function O5(t){for(var e=[],n=arguments.length-1;n-- >0;)e[n]=arguments[n+1];if("function"!=typeof t)throw new TypeError("Invalid merger function: "+t);return k5(this,e,t)}function k5(t,e,n){for(var i=[],r=0;r<e.length;r++){var o=X2(e[r]);0!==o.size&&i.push(o)}return 0===i.length?t:0!==t.toSeq().size||t.__ownerID||1!==i.length?t.withMutations((function(t){for(var e=n?function(e,i){x5(t,i,M2,(function(t){return t===M2?e:n(t,e,i)}))}:function(e,n){t.set(n,e)},r=0;r<i.length;r++)i[r].forEach(e)})):t.constructor(i[0])}function T5(t,e,n){return I5(t,e,function(t){return function e(n,i,r){return g5(n)&&g5(i)?I5(n,[i],e):t?t(n,i,r):i}}(n))}function I5(t,e,n){if(!g5(t))throw new TypeError("Cannot merge into non-data-structure value: "+t);if(J2(t))return"function"==typeof n&&t.mergeWith?t.mergeWith.apply(t,[n].concat(e)):t.merge?t.merge.apply(t,e):t.concat.apply(t,e);for(var i=Array.isArray(t),r=t,o=i?K2:X2,s=i?function(e){r===t&&(r=v5(r)),r.push(e)}:function(e,i){var o=h3.call(r,i),s=o&&n?n(r[i],e,i):e;o&&s===r[i]||(r===t&&(r=v5(r)),r[i]=s)},a=0;a<e.length;a++)o(e[a]).forEach(s);return r}function A5(){for(var t=[],e=arguments.length;e--;)t[e]=arguments[e];return T5(this,t)}function M5(t){for(var e=[],n=arguments.length-1;n-- >0;)e[n]=arguments[n+1];return T5(this,e,t)}function D5(t){for(var e=[],n=arguments.length-1;n-- >0;)e[n]=arguments[n+1];return b5(this,t,Q5(),(function(t){return I5(t,e)}))}function R5(t){for(var e=[],n=arguments.length-1;n-- >0;)e[n]=arguments[n+1];return b5(this,t,Q5(),(function(t){return T5(t,e)}))}function F5(t){var e=this.asMutable();return t(e),e.wasAltered()?e.__ensureOwner(this.__ownerID):this}function L5(){return this.__ownerID?this:this.__ensureOwner(new R2)}function B5(){return this.__ensureOwner()}function N5(){return this.__altered}$3.prototype.cacheResult=W3.prototype.cacheResult=G3.prototype.cacheResult=q3.prototype.cacheResult=u5;var j5=function(t){function e(e){return null==e?Q5():S3(e)&&!e3(e)?e:Q5().withMutations((function(n){var i=t(e);f5(i.size),i.forEach((function(t,e){return n.set(e,t)}))}))}return t&&(e.__proto__=t),(e.prototype=Object.create(t&&t.prototype)).constructor=e,e.of=function(){for(var t=[],e=arguments.length;e--;)t[e]=arguments[e];return Q5().withMutations((function(e){for(var n=0;n<t.length;n+=2){if(n+1>=t.length)throw new Error("Missing value for key: "+t[n]);e.set(t[n],t[n+1])}}))},e.prototype.toString=function(){return this.__toString("Map {","}")},e.prototype.get=function(t,e){return this._root?this._root.get(0,void 0,t,e):e},e.prototype.set=function(t,e){return Z5(this,t,e)},e.prototype.remove=function(t){return Z5(this,t,M2)},e.prototype.deleteAll=function(t){var e=q2(t);return 0===e.size?this:this.withMutations((function(t){e.forEach((function(e){return t.remove(e)}))}))},e.prototype.clear=function(){return 0===this.size?this:this.__ownerID?(this.size=0,this._root=null,this.__hash=void 0,this.__altered=!0,this):Q5()},e.prototype.sort=function(t){return C4(n5(this,t))},e.prototype.sortBy=function(t,e){return C4(n5(this,e,t))},e.prototype.map=function(t,e){return this.withMutations((function(n){n.forEach((function(i,r){n.set(r,t.call(e,i,r,n))}))}))},e.prototype.__iterator=function(t,e){return new q5(this,t,e)},e.prototype.__iterate=function(t,e){var n=this,i=0;return this._root&&this._root.iterate((function(e){return i++,t(e[1],e[0],n)}),e),i},e.prototype.__ensureOwner=function(t){return t===this.__ownerID?this:t?Y5(this.size,this._root,t,this.__hash):0===this.size?Q5():(this.__ownerID=t,this.__altered=!1,this)},e}(X2);j5.isMap=S3;var z5=j5.prototype;z5["@@__IMMUTABLE_MAP__@@"]=!0,z5.delete=z5.remove,z5.removeAll=z5.deleteAll,z5.setIn=w5,z5.removeIn=z5.deleteIn=C5,z5.update=E5,z5.updateIn=S5,z5.merge=z5.concat=P5,z5.mergeWith=O5,z5.mergeDeep=A5,z5.mergeDeepWith=M5,z5.mergeIn=D5,z5.mergeDeepIn=R5,z5.withMutations=F5,z5.wasAltered=N5,z5.asImmutable=B5,z5["@@transducer/init"]=z5.asMutable=L5,z5["@@transducer/step"]=function(t,e){return t.set(e[0],e[1])},z5["@@transducer/result"]=function(t){return t.asImmutable()};var H5=function(t,e){this.ownerID=t,this.entries=e};H5.prototype.get=function(t,e,n,i){for(var r=this.entries,o=0,s=r.length;o<s;o++)if(k3(n,r[o][0]))return r[o][1];return i},H5.prototype.update=function(t,e,n,i,r,o,s){for(var a=r===M2,l=this.entries,c=0,u=l.length;c<u&&!k3(i,l[c][0]);c++);var h=c<u;if(h?l[c][1]===r:a)return this;if(D2(s),(a||!h)&&D2(o),!a||1!==l.length){if(!h&&!a&&l.length>=r4)return function(t,e,n,i){t||(t=new R2);for(var r=new $5(t,M3(n),[n,i]),o=0;o<e.length;o++){var s=e[o];r=r.update(t,0,void 0,s[0],s[1])}return r}(t,l,i,r);var d=t&&t===this.ownerID,p=d?l:d5(l);return h?a?c===u-1?p.pop():p[c]=p.pop():p[c]=[i,r]:p.push([i,r]),d?(this.entries=p,this):new H5(t,p)}};var V5=function(t,e,n){this.ownerID=t,this.bitmap=e,this.nodes=n};V5.prototype.get=function(t,e,n,i){void 0===e&&(e=M3(n));var r=1<<(31&(0===t?e:e>>>t)),o=this.bitmap;return 0==(o&r)?i:this.nodes[n4(o&r-1)].get(t+5,e,n,i)},V5.prototype.update=function(t,e,n,i,r,o,s){void 0===n&&(n=M3(i));var a=31&(0===e?n:n>>>e),l=1<<a,c=this.bitmap,u=0!=(c&l);if(!u&&r===M2)return this;var h=n4(c&l-1),d=this.nodes,p=u?d[h]:void 0,f=J5(p,t,e+5,n,i,r,o,s);if(f===p)return this;if(!u&&f&&d.length>=o4)return function(t,e,n,i,r){for(var o=0,s=new Array(32),a=0;0!==n;a++,n>>>=1)s[a]=1&n?e[o++]:void 0;return s[i]=r,new U5(t,o+1,s)}(t,d,c,a,f);if(u&&!f&&2===d.length&&t4(d[1^h]))return d[1^h];if(u&&f&&1===d.length&&t4(f))return f;var m=t&&t===this.ownerID,g=u?f?c:c^l:c|l,y=u?f?i4(d,h,f,m):function(t,e,n){var i=t.length-1;if(n&&e===i)return t.pop(),t;for(var r=new Array(i),o=0,s=0;s<i;s++)s===e&&(o=1),r[s]=t[s+o];return r}(d,h,m):function(t,e,n,i){var r=t.length+1;if(i&&e+1===r)return t[e]=n,t;for(var o=new Array(r),s=0,a=0;a<r;a++)a===e?(o[a]=n,s=-1):o[a]=t[a+s];return o}(d,h,f,m);return m?(this.bitmap=g,this.nodes=y,this):new V5(t,g,y)};var U5=function(t,e,n){this.ownerID=t,this.count=e,this.nodes=n};U5.prototype.get=function(t,e,n,i){void 0===e&&(e=M3(n));var r=this.nodes[31&(0===t?e:e>>>t)];return r?r.get(t+5,e,n,i):i},U5.prototype.update=function(t,e,n,i,r,o,s){void 0===n&&(n=M3(i));var a=31&(0===e?n:n>>>e),l=this.nodes,c=l[a];if(r===M2&&!c)return this;var u=J5(c,t,e+5,n,i,r,o,s);if(u===c)return this;var h=this.count;if(c){if(!u&&--h<s4)return function(t,e,n,i){for(var r=0,o=0,s=new Array(n),a=0,l=1,c=e.length;a<c;a++,l<<=1){var u=e[a];void 0!==u&&a!==i&&(r|=l,s[o++]=u)}return new V5(t,r,s)}(t,l,h,a)}else h++;var d=t&&t===this.ownerID,p=i4(l,a,u,d);return d?(this.count=h,this.nodes=p,this):new U5(t,h,p)};var W5=function(t,e,n){this.ownerID=t,this.keyHash=e,this.entries=n};W5.prototype.get=function(t,e,n,i){for(var r=this.entries,o=0,s=r.length;o<s;o++)if(k3(n,r[o][0]))return r[o][1];return i},W5.prototype.update=function(t,e,n,i,r,o,s){void 0===n&&(n=M3(i));var a=r===M2;if(n!==this.keyHash)return a?this:(D2(s),D2(o),e4(this,t,e,n,[i,r]));for(var l=this.entries,c=0,u=l.length;c<u&&!k3(i,l[c][0]);c++);var h=c<u;if(h?l[c][1]===r:a)return this;if(D2(s),(a||!h)&&D2(o),a&&2===u)return new $5(t,this.keyHash,l[1^c]);var d=t&&t===this.ownerID,p=d?l:d5(l);return h?a?c===u-1?p.pop():p[c]=p.pop():p[c]=[i,r]:p.push([i,r]),d?(this.entries=p,this):new W5(t,this.keyHash,p)};var $5=function(t,e,n){this.ownerID=t,this.keyHash=e,this.entry=n};$5.prototype.get=function(t,e,n,i){return k3(n,this.entry[0])?this.entry[1]:i},$5.prototype.update=function(t,e,n,i,r,o,s){var a=r===M2,l=k3(i,this.entry[0]);return(l?r===this.entry[1]:a)?this:(D2(s),a?void D2(o):l?t&&t===this.ownerID?(this.entry[1]=r,this):new $5(t,this.keyHash,[i,r]):(D2(o),e4(this,t,e,M3(i),[i,r])))},H5.prototype.iterate=W5.prototype.iterate=function(t,e){for(var n=this.entries,i=0,r=n.length-1;i<=r;i++)if(!1===t(n[e?r-i:i]))return!1},V5.prototype.iterate=U5.prototype.iterate=function(t,e){for(var n=this.nodes,i=0,r=n.length-1;i<=r;i++){var o=n[e?r-i:i];if(o&&!1===o.iterate(t,e))return!1}},$5.prototype.iterate=function(t,e){return t(this.entry)};var G5,q5=function(t){function e(t,e,n){this._type=e,this._reverse=n,this._stack=t._root&&K5(t._root)}return t&&(e.__proto__=t),(e.prototype=Object.create(t&&t.prototype)).constructor=e,e.prototype.next=function(){for(var t=this._type,e=this._stack;e;){var n=e.node,i=e.index++,r=void 0;if(n.entry){if(0===i)return X5(t,n.entry)}else if(n.entries){if(i<=(r=n.entries.length-1))return X5(t,n.entries[this._reverse?r-i:i])}else if(i<=(r=n.nodes.length-1)){var o=n.nodes[this._reverse?r-i:i];if(o){if(o.entry)return X5(t,o.entry);e=this._stack=K5(o,e)}continue}e=this._stack=this._stack.__prev}return{value:void 0,done:!0}},e}(r3);function X5(t,e){return o3(t,e[0],e[1])}function K5(t,e){return{node:t,index:0,__prev:e}}function Y5(t,e,n,i){var r=Object.create(z5);return r.size=t,r._root=e,r.__ownerID=n,r.__hash=i,r.__altered=!1,r}function Q5(){return G5||(G5=Y5(0))}function Z5(t,e,n){var i,r;if(t._root){var o={value:!1},s={value:!1};if(i=J5(t._root,t.__ownerID,0,void 0,e,n,o,s),!s.value)return t;r=t.size+(o.value?n===M2?-1:1:0)}else{if(n===M2)return t;r=1,i=new H5(t.__ownerID,[[e,n]])}return t.__ownerID?(t.size=r,t._root=i,t.__hash=void 0,t.__altered=!0,t):i?Y5(r,i):Q5()}function J5(t,e,n,i,r,o,s,a){return t?t.update(e,n,i,r,o,s,a):o===M2?t:(D2(a),D2(s),new $5(e,i,[r,o]))}function t4(t){return t.constructor===$5||t.constructor===W5}function e4(t,e,n,i,r){if(t.keyHash===i)return new W5(e,i,[t.entry,r]);var o,s=31&(0===n?t.keyHash:t.keyHash>>>n),a=31&(0===n?i:i>>>n),l=s===a?[e4(t,e,n+5,i,r)]:(o=new $5(e,i,r),s<a?[t,o]:[o,t]);return new V5(e,1<<s|1<<a,l)}function n4(t){return t=(t=(858993459&(t-=t>>1&1431655765))+(t>>2&858993459))+(t>>4)&252645135,127&(t+=t>>8)+(t>>16)}function i4(t,e,n,i){var r=i?t:d5(t);return r[e]=n,r}var r4=8,o4=16,s4=8;function a4(t){return Boolean(t&&t["@@__IMMUTABLE_LIST__@@"])}var l4=function(t){function e(e){var n=m4();if(null==e)return n;if(a4(e))return e;var i=t(e),r=i.size;return 0===r?n:(f5(r),r>0&&r<32?f4(0,r,5,null,new u4(i.toArray())):n.withMutations((function(t){t.setSize(r),i.forEach((function(e,n){return t.set(n,e)}))})))}return t&&(e.__proto__=t),(e.prototype=Object.create(t&&t.prototype)).constructor=e,e.of=function(){return this(arguments)},e.prototype.toString=function(){return this.__toString("List [","]")},e.prototype.get=function(t,e){if((t=L2(this,t))>=0&&t<this.size){var n=_4(this,t+=this._origin);return n&&n.array[31&t]}return e},e.prototype.set=function(t,e){return function(t,e,n){if((e=L2(t,e))!=e)return t;if(e>=t.size||e<0)return t.withMutations((function(t){e<0?v4(t,e).set(0,n):v4(t,0,e+1).set(e,n)}));var i=t._tail,r=t._root,o={value:!1};return(e+=t._origin)>=b4(t._capacity)?i=g4(i,t.__ownerID,0,e,n,o):r=g4(r,t.__ownerID,t._level,e,n,o),o.value?t.__ownerID?(t._root=r,t._tail=i,t.__hash=void 0,t.__altered=!0,t):f4(t._origin,t._capacity,t._level,r,i):t}(this,t,e)},e.prototype.remove=function(t){return this.has(t)?0===t?this.shift():t===this.size-1?this.pop():this.splice(t,1):this},e.prototype.insert=function(t,e){return this.splice(t,0,e)},e.prototype.clear=function(){return 0===this.size?this:this.__ownerID?(this.size=this._origin=this._capacity=0,this._level=5,this._root=this._tail=null,this.__hash=void 0,this.__altered=!0,this):m4()},e.prototype.push=function(){var t=arguments,e=this.size;return this.withMutations((function(n){v4(n,0,e+t.length);for(var i=0;i<t.length;i++)n.set(e+i,t[i])}))},e.prototype.pop=function(){return v4(this,0,-1)},e.prototype.unshift=function(){var t=arguments;return this.withMutations((function(e){v4(e,-t.length);for(var n=0;n<t.length;n++)e.set(n,t[n])}))},e.prototype.shift=function(){return v4(this,1)},e.prototype.concat=function(){for(var e=arguments,n=[],i=0;i<arguments.length;i++){var r=e[i],o=t("string"!=typeof r&&a3(r)?r:[r]);0!==o.size&&n.push(o)}return 0===n.length?this:0!==this.size||this.__ownerID||1!==n.length?this.withMutations((function(t){n.forEach((function(e){return e.forEach((function(e){return t.push(e)}))}))})):this.constructor(n[0])},e.prototype.setSize=function(t){return v4(this,0,t)},e.prototype.map=function(t,e){var n=this;return this.withMutations((function(i){for(var r=0;r<n.size;r++)i.set(r,t.call(e,i.get(r),r,i))}))},e.prototype.slice=function(t,e){var n=this.size;return N2(t,e,n)?this:v4(this,j2(t,n),z2(e,n))},e.prototype.__iterator=function(t,e){var n=e?this.size:0,i=p4(this,e);return new r3((function(){var r=i();return r===d4?{value:void 0,done:!0}:o3(t,e?--n:n++,r)}))},e.prototype.__iterate=function(t,e){for(var n,i=e?this.size:0,r=p4(this,e);(n=r())!==d4&&!1!==t(n,e?--i:i++,this););return i},e.prototype.__ensureOwner=function(t){return t===this.__ownerID?this:t?f4(this._origin,this._capacity,this._level,this._root,this._tail,t,this.__hash):0===this.size?m4():(this.__ownerID=t,this.__altered=!1,this)},e}(K2);l4.isList=a4;var c4=l4.prototype;c4["@@__IMMUTABLE_LIST__@@"]=!0,c4.delete=c4.remove,c4.merge=c4.concat,c4.setIn=w5,c4.deleteIn=c4.removeIn=C5,c4.update=E5,c4.updateIn=S5,c4.mergeIn=D5,c4.mergeDeepIn=R5,c4.withMutations=F5,c4.wasAltered=N5,c4.asImmutable=B5,c4["@@transducer/init"]=c4.asMutable=L5,c4["@@transducer/step"]=function(t,e){return t.push(e)},c4["@@transducer/result"]=function(t){return t.asImmutable()};var u4=function(t,e){this.array=t,this.ownerID=e};u4.prototype.removeBefore=function(t,e,n){if(n===e?1<<e:0===this.array.length)return this;var i=n>>>e&31;if(i>=this.array.length)return new u4([],t);var r,o=0===i;if(e>0){var s=this.array[i];if((r=s&&s.removeBefore(t,e-5,n))===s&&o)return this}if(o&&!r)return this;var a=y4(this,t);if(!o)for(var l=0;l<i;l++)a.array[l]=void 0;return r&&(a.array[i]=r),a},u4.prototype.removeAfter=function(t,e,n){if(n===(e?1<<e:0)||0===this.array.length)return this;var i,r=n-1>>>e&31;if(r>=this.array.length)return this;if(e>0){var o=this.array[r];if((i=o&&o.removeAfter(t,e-5,n))===o&&r===this.array.length-1)return this}var s=y4(this,t);return s.array.splice(r+1),i&&(s.array[r]=i),s};var h4,d4={};function p4(t,e){var n=t._origin,i=t._capacity,r=b4(i),o=t._tail;return function t(s,a,l){return 0===a?function(t,s){var a=s===r?o&&o.array:t&&t.array,l=s>n?0:n-s,c=i-s;return c>32&&(c=32),function(){if(l===c)return d4;var t=e?--c:l++;return a&&a[t]}}(s,l):function(r,o,s){var a,l=r&&r.array,c=s>n?0:n-s>>o,u=1+(i-s>>o);return u>32&&(u=32),function(){for(;;){if(a){var n=a();if(n!==d4)return n;a=null}if(c===u)return d4;var i=e?--u:c++;a=t(l&&l[i],o-5,s+(i<<o))}}}(s,a,l)}(t._root,t._level,0)}function f4(t,e,n,i,r,o,s){var a=Object.create(c4);return a.size=e-t,a._origin=t,a._capacity=e,a._level=n,a._root=i,a._tail=r,a.__ownerID=o,a.__hash=s,a.__altered=!1,a}function m4(){return h4||(h4=f4(0,0,5))}function g4(t,e,n,i,r,o){var s,a=i>>>n&31,l=t&&a<t.array.length;if(!l&&void 0===r)return t;if(n>0){var c=t&&t.array[a],u=g4(c,e,n-5,i,r,o);return u===c?t:((s=y4(t,e)).array[a]=u,s)}return l&&t.array[a]===r?t:(o&&D2(o),s=y4(t,e),void 0===r&&a===s.array.length-1?s.array.pop():s.array[a]=r,s)}function y4(t,e){return e&&t&&e===t.ownerID?t:new u4(t?t.array.slice():[],e)}function _4(t,e){if(e>=b4(t._capacity))return t._tail;if(e<1<<t._level+5){for(var n=t._root,i=t._level;n&&i>0;)n=n.array[e>>>i&31],i-=5;return n}}function v4(t,e,n){void 0!==e&&(e|=0),void 0!==n&&(n|=0);var i=t.__ownerID||new R2,r=t._origin,o=t._capacity,s=r+e,a=void 0===n?o:n<0?o+n:r+n;if(s===r&&a===o)return t;if(s>=a)return t.clear();for(var l=t._level,c=t._root,u=0;s+u<0;)c=new u4(c&&c.array.length?[void 0,c]:[],i),u+=1<<(l+=5);u&&(s+=u,r+=u,a+=u,o+=u);for(var h=b4(o),d=b4(a);d>=1<<l+5;)c=new u4(c&&c.array.length?[c]:[],i),l+=5;var p=t._tail,f=d<h?_4(t,a-1):d>h?new u4([],i):p;if(p&&d>h&&s<o&&p.array.length){for(var m=c=y4(c,i),g=l;g>5;g-=5){var y=h>>>g&31;m=m.array[y]=y4(m.array[y],i)}m.array[h>>>5&31]=p}if(a<o&&(f=f&&f.removeAfter(i,0,a)),s>=d)s-=d,a-=d,l=5,c=null,f=f&&f.removeBefore(i,0,s);else if(s>r||d<h){for(u=0;c;){var _=s>>>l&31;if(_!==d>>>l&31)break;_&&(u+=(1<<l)*_),l-=5,c=c.array[_]}c&&s>r&&(c=c.removeBefore(i,l,s-u)),c&&d<h&&(c=c.removeAfter(i,l,d-u)),u&&(s-=u,a-=u)}return t.__ownerID?(t.size=a-s,t._origin=s,t._capacity=a,t._level=l,t._root=c,t._tail=f,t.__hash=void 0,t.__altered=!0,t):f4(s,a,l,c,f)}function b4(t){return t<32?0:t-1>>>5<<5}var w4,C4=function(t){function e(t){return null==t?E4():P3(t)?t:E4().withMutations((function(e){var n=X2(t);f5(n.size),n.forEach((function(t,n){return e.set(n,t)}))}))}return t&&(e.__proto__=t),(e.prototype=Object.create(t&&t.prototype)).constructor=e,e.of=function(){return this(arguments)},e.prototype.toString=function(){return this.__toString("OrderedMap {","}")},e.prototype.get=function(t,e){var n=this._map.get(t);return void 0!==n?this._list.get(n)[1]:e},e.prototype.clear=function(){return 0===this.size?this:this.__ownerID?(this.size=0,this._map.clear(),this._list.clear(),this):E4()},e.prototype.set=function(t,e){return S4(this,t,e)},e.prototype.remove=function(t){return S4(this,t,M2)},e.prototype.wasAltered=function(){return this._map.wasAltered()||this._list.wasAltered()},e.prototype.__iterate=function(t,e){var n=this;return this._list.__iterate((function(e){return e&&t(e[1],e[0],n)}),e)},e.prototype.__iterator=function(t,e){return this._list.fromEntrySeq().__iterator(t,e)},e.prototype.__ensureOwner=function(t){if(t===this.__ownerID)return this;var e=this._map.__ensureOwner(t),n=this._list.__ensureOwner(t);return t?x4(e,n,t,this.__hash):0===this.size?E4():(this.__ownerID=t,this._map=e,this._list=n,this)},e}(j5);function x4(t,e,n,i){var r=Object.create(C4.prototype);return r.size=t?t.size:0,r._map=t,r._list=e,r.__ownerID=n,r.__hash=i,r}function E4(){return w4||(w4=x4(Q5(),m4()))}function S4(t,e,n){var i,r,o=t._map,s=t._list,a=o.get(e),l=void 0!==a;if(n===M2){if(!l)return t;s.size>=32&&s.size>=2*o.size?(i=(r=s.filter((function(t,e){return void 0!==t&&a!==e}))).toKeyedSeq().map((function(t){return t[0]})).flip().toMap(),t.__ownerID&&(i.__ownerID=r.__ownerID=t.__ownerID)):(i=o.remove(e),r=a===s.size-1?s.pop():s.set(a,void 0))}else if(l){if(n===s.get(a)[1])return t;i=o,r=s.set(a,[e,n])}else i=o.set(e,s.size),r=s.set(s.size,[e,n]);return t.__ownerID?(t.size=i.size,t._map=i,t._list=r,t.__hash=void 0,t):x4(i,r)}function P4(t){return Boolean(t&&t["@@__IMMUTABLE_STACK__@@"])}C4.isOrderedMap=P3,C4.prototype[t3]=!0,C4.prototype.delete=C4.prototype.remove;var O4=function(t){function e(t){return null==t?A4():P4(t)?t:A4().pushAll(t)}return t&&(e.__proto__=t),(e.prototype=Object.create(t&&t.prototype)).constructor=e,e.of=function(){return this(arguments)},e.prototype.toString=function(){return this.__toString("Stack [","]")},e.prototype.get=function(t,e){var n=this._head;for(t=L2(this,t);n&&t--;)n=n.next;return n?n.value:e},e.prototype.peek=function(){return this._head&&this._head.value},e.prototype.push=function(){var t=arguments;if(0===arguments.length)return this;for(var e=this.size+arguments.length,n=this._head,i=arguments.length-1;i>=0;i--)n={value:t[i],next:n};return this.__ownerID?(this.size=e,this._head=n,this.__hash=void 0,this.__altered=!0,this):I4(e,n)},e.prototype.pushAll=function(e){if(0===(e=t(e)).size)return this;if(0===this.size&&P4(e))return e;f5(e.size);var n=this.size,i=this._head;return e.__iterate((function(t){n++,i={value:t,next:i}}),!0),this.__ownerID?(this.size=n,this._head=i,this.__hash=void 0,this.__altered=!0,this):I4(n,i)},e.prototype.pop=function(){return this.slice(1)},e.prototype.clear=function(){return 0===this.size?this:this.__ownerID?(this.size=0,this._head=void 0,this.__hash=void 0,this.__altered=!0,this):A4()},e.prototype.slice=function(e,n){if(N2(e,n,this.size))return this;var i=j2(e,this.size);if(z2(n,this.size)!==this.size)return t.prototype.slice.call(this,e,n);for(var r=this.size-i,o=this._head;i--;)o=o.next;return this.__ownerID?(this.size=r,this._head=o,this.__hash=void 0,this.__altered=!0,this):I4(r,o)},e.prototype.__ensureOwner=function(t){return t===this.__ownerID?this:t?I4(this.size,this._head,t,this.__hash):0===this.size?A4():(this.__ownerID=t,this.__altered=!1,this)},e.prototype.__iterate=function(t,e){var n=this;if(e)return new y3(this.toArray()).__iterate((function(e,i){return t(e,i,n)}),e);for(var i=0,r=this._head;r&&!1!==t(r.value,i++,this);)r=r.next;return i},e.prototype.__iterator=function(t,e){if(e)return new y3(this.toArray()).__iterator(t,e);var n=0,i=this._head;return new r3((function(){if(i){var e=i.value;return i=i.next,o3(t,n++,e)}return{value:void 0,done:!0}}))},e}(K2);O4.isStack=P4;var k4,T4=O4.prototype;function I4(t,e,n,i){var r=Object.create(T4);return r.size=t,r._head=e,r.__ownerID=n,r.__hash=i,r.__altered=!1,r}function A4(){return k4||(k4=I4(0))}function M4(t){return Boolean(t&&t["@@__IMMUTABLE_SET__@@"])}function D4(t){return M4(t)&&e3(t)}function R4(t,e){if(t===e)return!0;if(!U2(e)||void 0!==t.size&&void 0!==e.size&&t.size!==e.size||void 0!==t.__hash&&void 0!==e.__hash&&t.__hash!==e.__hash||W2(t)!==W2(e)||$2(t)!==$2(e)||e3(t)!==e3(e))return!1;if(0===t.size&&0===e.size)return!0;var n=!G2(t);if(e3(t)){var i=t.entries();return e.every((function(t,e){var r=i.next().value;return r&&k3(r[1],t)&&(n||k3(r[0],e))}))&&i.next().done}var r=!1;if(void 0===t.size)if(void 0===e.size)"function"==typeof t.cacheResult&&t.cacheResult();else{r=!0;var o=t;t=e,e=o}var s=!0,a=e.__iterate((function(e,i){if(n?!t.has(e):r?!k3(e,t.get(i,M2)):!k3(t.get(i,M2),e))return s=!1,!1}));return s&&t.size===a}function F4(t,e){var n=function(n){t.prototype[n]=e[n]};return Object.keys(e).forEach(n),Object.getOwnPropertySymbols&&Object.getOwnPropertySymbols(e).forEach(n),t}function L4(t){if(!t||"object"!=typeof t)return t;if(!U2(t)){if(!g5(t))return t;t=p3(t)}if(W2(t)){var e={};return t.__iterate((function(t,n){e[n]=L4(t)})),e}var n=[];return t.__iterate((function(t){n.push(L4(t))})),n}T4["@@__IMMUTABLE_STACK__@@"]=!0,T4.shift=T4.pop,T4.unshift=T4.push,T4.unshiftAll=T4.pushAll,T4.withMutations=F5,T4.wasAltered=N5,T4.asImmutable=B5,T4["@@transducer/init"]=T4.asMutable=L5,T4["@@transducer/step"]=function(t,e){return t.unshift(e)},T4["@@transducer/result"]=function(t){return t.asImmutable()};var B4=function(t){function e(e){return null==e?V4():M4(e)&&!e3(e)?e:V4().withMutations((function(n){var i=t(e);f5(i.size),i.forEach((function(t){return n.add(t)}))}))}return t&&(e.__proto__=t),(e.prototype=Object.create(t&&t.prototype)).constructor=e,e.of=function(){return this(arguments)},e.fromKeys=function(t){return this(X2(t).keySeq())},e.intersect=function(t){return(t=q2(t).toArray()).length?j4.intersect.apply(e(t.pop()),t):V4()},e.union=function(t){return(t=q2(t).toArray()).length?j4.union.apply(e(t.pop()),t):V4()},e.prototype.toString=function(){return this.__toString("Set {","}")},e.prototype.has=function(t){return this._map.has(t)},e.prototype.add=function(t){return z4(this,this._map.set(t,t))},e.prototype.remove=function(t){return z4(this,this._map.remove(t))},e.prototype.clear=function(){return z4(this,this._map.clear())},e.prototype.map=function(t,e){var n=this,i=[],r=[];return this.forEach((function(o){var s=t.call(e,o,o,n);s!==o&&(i.push(o),r.push(s))})),this.withMutations((function(t){i.forEach((function(e){return t.remove(e)})),r.forEach((function(e){return t.add(e)}))}))},e.prototype.union=function(){for(var e=[],n=arguments.length;n--;)e[n]=arguments[n];return 0===(e=e.filter((function(t){return 0!==t.size}))).length?this:0!==this.size||this.__ownerID||1!==e.length?this.withMutations((function(n){for(var i=0;i<e.length;i++)t(e[i]).forEach((function(t){return n.add(t)}))})):this.constructor(e[0])},e.prototype.intersect=function(){for(var e=[],n=arguments.length;n--;)e[n]=arguments[n];if(0===e.length)return this;e=e.map((function(e){return t(e)}));var i=[];return this.forEach((function(t){e.every((function(e){return e.includes(t)}))||i.push(t)})),this.withMutations((function(t){i.forEach((function(e){t.remove(e)}))}))},e.prototype.subtract=function(){for(var e=[],n=arguments.length;n--;)e[n]=arguments[n];if(0===e.length)return this;e=e.map((function(e){return t(e)}));var i=[];return this.forEach((function(t){e.some((function(e){return e.includes(t)}))&&i.push(t)})),this.withMutations((function(t){i.forEach((function(e){t.remove(e)}))}))},e.prototype.sort=function(t){return o6(n5(this,t))},e.prototype.sortBy=function(t,e){return o6(n5(this,e,t))},e.prototype.wasAltered=function(){return this._map.wasAltered()},e.prototype.__iterate=function(t,e){var n=this;return this._map.__iterate((function(e){return t(e,e,n)}),e)},e.prototype.__iterator=function(t,e){return this._map.__iterator(t,e)},e.prototype.__ensureOwner=function(t){if(t===this.__ownerID)return this;var e=this._map.__ensureOwner(t);return t?this.__make(e,t):0===this.size?this.__empty():(this.__ownerID=t,this._map=e,this)},e}(Y2);B4.isSet=M4;var N4,j4=B4.prototype;function z4(t,e){return t.__ownerID?(t.size=e.size,t._map=e,t):e===t._map?t:0===e.size?t.__empty():t.__make(e)}function H4(t,e){var n=Object.create(j4);return n.size=t?t.size:0,n._map=t,n.__ownerID=e,n}function V4(){return N4||(N4=H4(Q5()))}j4["@@__IMMUTABLE_SET__@@"]=!0,j4.delete=j4.remove,j4.merge=j4.concat=j4.union,j4.withMutations=F5,j4.asImmutable=B5,j4["@@transducer/init"]=j4.asMutable=L5,j4["@@transducer/step"]=function(t,e){return t.add(e)},j4["@@transducer/result"]=function(t){return t.asImmutable()},j4.__empty=V4,j4.__make=H4;var U4,W4=function(t){function e(t,n,i){if(!(this instanceof e))return new e(t,n,i);if(p5(0!==i,"Cannot step a Range by 0"),t=t||0,void 0===n&&(n=1/0),i=void 0===i?1:Math.abs(i),n<t&&(i=-i),this._start=t,this._end=n,this._step=i,this.size=Math.max(0,Math.ceil((n-t)/i-1)+1),0===this.size){if(U4)return U4;U4=this}}return t&&(e.__proto__=t),(e.prototype=Object.create(t&&t.prototype)).constructor=e,e.prototype.toString=function(){return 0===this.size?"Range []":"Range [ "+this._start+"..."+this._end+(1!==this._step?" by "+this._step:"")+" ]"},e.prototype.get=function(t,e){return this.has(t)?this._start+L2(this,t)*this._step:e},e.prototype.includes=function(t){var e=(t-this._start)/this._step;return e>=0&&e<this.size&&e===Math.floor(e)},e.prototype.slice=function(t,n){return N2(t,n,this.size)?this:(t=j2(t,this.size),(n=z2(n,this.size))<=t?new e(0,0):new e(this.get(t,this._end),this.get(n,this._end),this._step))},e.prototype.indexOf=function(t){var e=t-this._start;if(e%this._step==0){var n=e/this._step;if(n>=0&&n<this.size)return n}return-1},e.prototype.lastIndexOf=function(t){return this.indexOf(t)},e.prototype.__iterate=function(t,e){for(var n=this.size,i=this._step,r=e?this._start+(n-1)*i:this._start,o=0;o!==n&&!1!==t(r,e?n-++o:o++,this);)r+=e?-i:i;return o},e.prototype.__iterator=function(t,e){var n=this.size,i=this._step,r=e?this._start+(n-1)*i:this._start,o=0;return new r3((function(){if(o===n)return{value:void 0,done:!0};var s=r;return r+=e?-i:i,o3(t,e?n-++o:o++,s)}))},e.prototype.equals=function(t){return t instanceof e?this._start===t._start&&this._end===t._end&&this._step===t._step:R4(this,t)},e}(m3);function $4(t,e,n){for(var i=m5(e),r=0;r!==i.length;)if((t=_5(t,i[r++],M2))===M2)return n;return t}function G4(t,e){return $4(this,t,e)}function q4(){f5(this.size);var t={};return this.__iterate((function(e,n){t[n]=e})),t}q2.isIterable=U2,q2.isKeyed=W2,q2.isIndexed=$2,q2.isAssociative=G2,q2.isOrdered=e3,q2.Iterator=r3,F4(q2,{toArray:function(){f5(this.size);var t=new Array(this.size||0),e=W2(this),n=0;return this.__iterate((function(i,r){t[n++]=e?[r,i]:i})),t},toIndexedSeq:function(){return new $3(this)},toJS:function(){return L4(this)},toKeyedSeq:function(){return new W3(this,!0)},toMap:function(){return j5(this.toKeyedSeq())},toObject:q4,toOrderedMap:function(){return C4(this.toKeyedSeq())},toOrderedSet:function(){return o6(W2(this)?this.valueSeq():this)},toSet:function(){return B4(W2(this)?this.valueSeq():this)},toSetSeq:function(){return new G3(this)},toSeq:function(){return $2(this)?this.toIndexedSeq():W2(this)?this.toKeyedSeq():this.toSetSeq()},toStack:function(){return O4(W2(this)?this.valueSeq():this)},toList:function(){return l4(W2(this)?this.valueSeq():this)},toString:function(){return"[Collection]"},__toString:function(t,e){return 0===this.size?t+e:t+" "+this.toSeq().map(this.__toStringMapper).join(", ")+" "+e},concat:function(){for(var t=[],e=arguments.length;e--;)t[e]=arguments[e];return s5(this,t5(this,t))},includes:function(t){return this.some((function(e){return k3(e,t)}))},entries:function(){return this.__iterator(2)},every:function(t,e){f5(this.size);var n=!0;return this.__iterate((function(i,r,o){if(!t.call(e,i,r,o))return n=!1,!1})),n},filter:function(t,e){return s5(this,Q3(this,t,e,!0))},find:function(t,e,n){var i=this.findEntry(t,e);return i?i[1]:n},forEach:function(t,e){return f5(this.size),this.__iterate(e?t.bind(e):t)},join:function(t){f5(this.size),t=void 0!==t?""+t:",";var e="",n=!0;return this.__iterate((function(i){n?n=!1:e+=t,e+=null!=i?i.toString():""})),e},keys:function(){return this.__iterator(0)},map:function(t,e){return s5(this,K3(this,t,e))},reduce:function(t,e,n){return Q4(this,t,e,n,arguments.length<2,!1)},reduceRight:function(t,e,n){return Q4(this,t,e,n,arguments.length<2,!0)},reverse:function(){return s5(this,Y3(this,!0))},slice:function(t,e){return s5(this,Z3(this,t,e,!0))},some:function(t,e){return!this.every(t6(t),e)},sort:function(t){return s5(this,n5(this,t))},values:function(){return this.__iterator(1)},butLast:function(){return this.slice(0,-1)},isEmpty:function(){return void 0!==this.size?0===this.size:!this.some((function(){return!0}))},count:function(t,e){return F2(t?this.toSeq().filter(t,e):this)},countBy:function(t,e){return function(t,e,n){var i=j5().asMutable();return t.__iterate((function(r,o){i.update(e.call(n,r,o,t),0,(function(t){return t+1}))})),i.asImmutable()}(this,t,e)},equals:function(t){return R4(this,t)},entrySeq:function(){var t=this;if(t._cache)return new y3(t._cache);var e=t.toSeq().map(J4).toIndexedSeq();return e.fromEntrySeq=function(){return t.toSeq()},e},filterNot:function(t,e){return this.filter(t6(t),e)},findEntry:function(t,e,n){var i=n;return this.__iterate((function(n,r,o){if(t.call(e,n,r,o))return i=[r,n],!1})),i},findKey:function(t,e){var n=this.findEntry(t,e);return n&&n[0]},findLast:function(t,e,n){return this.toKeyedSeq().reverse().find(t,e,n)},findLastEntry:function(t,e,n){return this.toKeyedSeq().reverse().findEntry(t,e,n)},findLastKey:function(t,e){return this.toKeyedSeq().reverse().findKey(t,e)},first:function(t){return this.find(B2,null,t)},flatMap:function(t,e){return s5(this,function(t,e,n){var i=l5(t);return t.toSeq().map((function(r,o){return i(e.call(n,r,o,t))})).flatten(!0)}(this,t,e))},flatten:function(t){return s5(this,e5(this,t,!0))},fromEntrySeq:function(){return new q3(this)},get:function(t,e){return this.find((function(e,n){return k3(n,t)}),void 0,e)},getIn:G4,groupBy:function(t,e){return function(t,e,n){var i=W2(t),r=(e3(t)?C4():j5()).asMutable();t.__iterate((function(o,s){r.update(e.call(n,o,s,t),(function(t){return(t=t||[]).push(i?[s,o]:o),t}))}));var o=l5(t);return r.map((function(e){return s5(t,o(e))})).asImmutable()}(this,t,e)},has:function(t){return this.get(t,M2)!==M2},hasIn:function(t){return $4(this,t,M2)!==M2},isSubset:function(t){return t="function"==typeof t.includes?t:q2(t),this.every((function(e){return t.includes(e)}))},isSuperset:function(t){return(t="function"==typeof t.isSubset?t:q2(t)).isSubset(this)},keyOf:function(t){return this.findKey((function(e){return k3(e,t)}))},keySeq:function(){return this.toSeq().map(Z4).toIndexedSeq()},last:function(t){return this.toSeq().reverse().first(t)},lastKeyOf:function(t){return this.toKeyedSeq().reverse().keyOf(t)},max:function(t){return i5(this,t)},maxBy:function(t,e){return i5(this,e,t)},min:function(t){return i5(this,t?e6(t):i6)},minBy:function(t,e){return i5(this,e?e6(e):i6,t)},rest:function(){return this.slice(1)},skip:function(t){return 0===t?this:this.slice(Math.max(0,t))},skipLast:function(t){return 0===t?this:this.slice(0,-Math.max(0,t))},skipWhile:function(t,e){return s5(this,J3(this,t,e,!0))},skipUntil:function(t,e){return this.skipWhile(t6(t),e)},sortBy:function(t,e){return s5(this,n5(this,e,t))},take:function(t){return this.slice(0,Math.max(0,t))},takeLast:function(t){return this.slice(-Math.max(0,t))},takeWhile:function(t,e){return s5(this,function(t,e,n){var i=c5(t);return i.__iterateUncached=function(i,r){var o=this;if(r)return this.cacheResult().__iterate(i,r);var s=0;return t.__iterate((function(t,r,a){return e.call(n,t,r,a)&&++s&&i(t,r,o)})),s},i.__iteratorUncached=function(i,r){var o=this;if(r)return this.cacheResult().__iterator(i,r);var s=t.__iterator(2,r),a=!0;return new r3((function(){if(!a)return{value:void 0,done:!0};var t=s.next();if(t.done)return t;var r=t.value,l=r[0],c=r[1];return e.call(n,c,l,o)?2===i?t:o3(i,l,c,t):(a=!1,{value:void 0,done:!0})}))},i}(this,t,e))},takeUntil:function(t,e){return this.takeWhile(t6(t),e)},update:function(t){return t(this)},valueSeq:function(){return this.toIndexedSeq()},hashCode:function(){return this.__hash||(this.__hash=function(t){if(t.size===1/0)return 0;var e=e3(t),n=W2(t),i=e?1:0;return function(t,e){return e=T3(e,3432918353),e=T3(e<<15|e>>>-15,461845907),e=T3(e<<13|e>>>-13,5),e=T3((e=(e+3864292196|0)^t)^e>>>16,2246822507),I3((e=T3(e^e>>>13,3266489909))^e>>>16)}(t.__iterate(n?e?function(t,e){i=31*i+r6(M3(t),M3(e))|0}:function(t,e){i=i+r6(M3(t),M3(e))|0}:e?function(t){i=31*i+M3(t)|0}:function(t){i=i+M3(t)|0}),i)}(this))}});var X4=q2.prototype;X4["@@__IMMUTABLE_ITERABLE__@@"]=!0,X4[i3]=X4.values,X4.toJSON=X4.toArray,X4.__toStringMapper=y5,X4.inspect=X4.toSource=function(){return this.toString()},X4.chain=X4.flatMap,X4.contains=X4.includes,F4(X2,{flip:function(){return s5(this,X3(this))},mapEntries:function(t,e){var n=this,i=0;return s5(this,this.toSeq().map((function(r,o){return t.call(e,[o,r],i++,n)})).fromEntrySeq())},mapKeys:function(t,e){var n=this;return s5(this,this.toSeq().flip().map((function(i,r){return t.call(e,i,r,n)})).flip())}});var K4=X2.prototype;K4["@@__IMMUTABLE_KEYED__@@"]=!0,K4[i3]=X4.entries,K4.toJSON=q4,K4.__toStringMapper=function(t,e){return y5(e)+": "+y5(t)},F4(K2,{toKeyedSeq:function(){return new W3(this,!1)},filter:function(t,e){return s5(this,Q3(this,t,e,!1))},findIndex:function(t,e){var n=this.findEntry(t,e);return n?n[0]:-1},indexOf:function(t){var e=this.keyOf(t);return void 0===e?-1:e},lastIndexOf:function(t){var e=this.lastKeyOf(t);return void 0===e?-1:e},reverse:function(){return s5(this,Y3(this,!1))},slice:function(t,e){return s5(this,Z3(this,t,e,!1))},splice:function(t,e){var n=arguments.length;if(e=Math.max(e||0,0),0===n||2===n&&!e)return this;t=j2(t,t<0?this.count():this.size);var i=this.slice(0,t);return s5(this,1===n?i:i.concat(d5(arguments,2),this.slice(t+e)))},findLastIndex:function(t,e){var n=this.findLastEntry(t,e);return n?n[0]:-1},first:function(t){return this.get(0,t)},flatten:function(t){return s5(this,e5(this,t,!1))},get:function(t,e){return(t=L2(this,t))<0||this.size===1/0||void 0!==this.size&&t>this.size?e:this.find((function(e,n){return n===t}),void 0,e)},has:function(t){return(t=L2(this,t))>=0&&(void 0!==this.size?this.size===1/0||t<this.size:-1!==this.indexOf(t))},interpose:function(t){return s5(this,function(t,e){var n=c5(t);return n.size=t.size&&2*t.size-1,n.__iterateUncached=function(n,i){var r=this,o=0;return t.__iterate((function(t){return(!o||!1!==n(e,o++,r))&&!1!==n(t,o++,r)}),i),o},n.__iteratorUncached=function(n,i){var r,o=t.__iterator(1,i),s=0;return new r3((function(){return(!r||s%2)&&(r=o.next()).done?r:s%2?o3(n,s++,e):o3(n,s++,r.value,r)}))},n}(this,t))},interleave:function(){var t=[this].concat(d5(arguments)),e=o5(this.toSeq(),m3.of,t),n=e.flatten(!0);return e.size&&(n.size=e.size*t.length),s5(this,n)},keySeq:function(){return W4(0,this.size)},last:function(t){return this.get(-1,t)},skipWhile:function(t,e){return s5(this,J3(this,t,e,!1))},zip:function(){var t=[this].concat(d5(arguments));return s5(this,o5(this,n6,t))},zipAll:function(){var t=[this].concat(d5(arguments));return s5(this,o5(this,n6,t,!0))},zipWith:function(t){var e=d5(arguments);return e[0]=this,s5(this,o5(this,t,e))}});var Y4=K2.prototype;function Q4(t,e,n,i,r,o){return f5(t.size),t.__iterate((function(t,o,s){r?(r=!1,n=t):n=e.call(i,n,t,o,s)}),o),n}function Z4(t,e){return e}function J4(t,e){return[e,t]}function t6(t){return function(){return!t.apply(this,arguments)}}function e6(t){return function(){return-t.apply(this,arguments)}}function n6(){return d5(arguments)}function i6(t,e){return t<e?1:t>e?-1:0}function r6(t,e){return t^e+2654435769+(t<<6)+(t>>2)|0}Y4["@@__IMMUTABLE_INDEXED__@@"]=!0,Y4[t3]=!0,F4(Y2,{get:function(t,e){return this.has(t)?t:e},includes:function(t){return this.has(t)},keySeq:function(){return this.valueSeq()}}),Y2.prototype.has=X4.includes,Y2.prototype.contains=Y2.prototype.includes,F4(f3,X2.prototype),F4(m3,K2.prototype),F4(g3,Y2.prototype);var o6=function(t){function e(t){return null==t?c6():D4(t)?t:c6().withMutations((function(e){var n=Y2(t);f5(n.size),n.forEach((function(t){return e.add(t)}))}))}return t&&(e.__proto__=t),(e.prototype=Object.create(t&&t.prototype)).constructor=e,e.of=function(){return this(arguments)},e.fromKeys=function(t){return this(X2(t).keySeq())},e.prototype.toString=function(){return this.__toString("OrderedSet {","}")},e}(B4);o6.isOrderedSet=D4;var s6,a6=o6.prototype;function l6(t,e){var n=Object.create(a6);return n.size=t?t.size:0,n._map=t,n.__ownerID=e,n}function c6(){return s6||(s6=l6(E4()))}a6[t3]=!0,a6.zip=Y4.zip,a6.zipWith=Y4.zipWith,a6.__empty=c6,a6.__make=l6;var u6=function(t,e){var n,i=function(o){var s=this;if(o instanceof i)return o;if(!(this instanceof i))return new i(o);if(!n){n=!0;var a=Object.keys(t),l=r._indices={};r._name=e,r._keys=a,r._defaultValues=t;for(var c=0;c<a.length;c++){var u=a[c];l[u]=c,r[u]?"object"==typeof console&&console.warn&&console.warn("Cannot define "+p6(this)+' with property "'+u+'" since that property name is part of the Record API.'):m6(r,u)}}this.__ownerID=void 0,this._values=l4().withMutations((function(t){t.setSize(s._keys.length),X2(o).forEach((function(e,n){t.set(s._indices[n],e===s._defaultValues[n]?void 0:e)}))}))},r=i.prototype=Object.create(h6);return r.constructor=i,e&&(i.displayName=e),i};u6.prototype.toString=function(){for(var t,e=p6(this)+" { ",n=this._keys,i=0,r=n.length;i!==r;i++)e+=(i?", ":"")+(t=n[i])+": "+y5(this.get(t));return e+" }"},u6.prototype.equals=function(t){return this===t||t&&this._keys===t._keys&&f6(this).equals(f6(t))},u6.prototype.hashCode=function(){return f6(this).hashCode()},u6.prototype.has=function(t){return this._indices.hasOwnProperty(t)},u6.prototype.get=function(t,e){if(!this.has(t))return e;var n=this._values.get(this._indices[t]);return void 0===n?this._defaultValues[t]:n},u6.prototype.set=function(t,e){if(this.has(t)){var n=this._values.set(this._indices[t],e===this._defaultValues[t]?void 0:e);if(n!==this._values&&!this.__ownerID)return d6(this,n)}return this},u6.prototype.remove=function(t){return this.set(t)},u6.prototype.clear=function(){var t=this._values.clear().setSize(this._keys.length);return this.__ownerID?this:d6(this,t)},u6.prototype.wasAltered=function(){return this._values.wasAltered()},u6.prototype.toSeq=function(){return f6(this)},u6.prototype.toJS=function(){return L4(this)},u6.prototype.entries=function(){return this.__iterator(2)},u6.prototype.__iterator=function(t,e){return f6(this).__iterator(t,e)},u6.prototype.__iterate=function(t,e){return f6(this).__iterate(t,e)},u6.prototype.__ensureOwner=function(t){if(t===this.__ownerID)return this;var e=this._values.__ensureOwner(t);return t?d6(this,e,t):(this.__ownerID=t,this._values=e,this)},u6.isRecord=Z2,u6.getDescriptiveName=p6;var h6=u6.prototype;function d6(t,e,n){var i=Object.create(Object.getPrototypeOf(t));return i._values=e,i.__ownerID=n,i}function p6(t){return t.constructor.displayName||t.constructor.name||"Record"}function f6(t){return C3(t._keys.map((function(e){return[e,t.get(e)]})))}function m6(t,e){try{Object.defineProperty(t,e,{get:function(){return this.get(e)},set:function(t){p5(this.__ownerID,"Cannot set on an immutable record."),this.set(e,t)}})}catch(n){}}h6["@@__IMMUTABLE_RECORD__@@"]=!0,h6.delete=h6.remove,h6.deleteIn=h6.removeIn=C5,h6.getIn=G4,h6.hasIn=X4.hasIn,h6.merge=P5,h6.mergeWith=O5,h6.mergeIn=D5,h6.mergeDeep=A5,h6.mergeDeepWith=M5,h6.mergeDeepIn=R5,h6.setIn=w5,h6.update=E5,h6.updateIn=S5,h6.withMutations=F5,h6.asMutable=L5,h6.asImmutable=B5,h6[i3]=h6.entries,h6.toJSON=h6.toObject=X4.toObject,h6.inspect=h6.toSource=function(){return this.toString()};const g6=Bw({product:null,viewer:null,curLayer:null,currentSurfaceIndex:null,configuration:{ui:{surfaceSizes:[],fonts:{fonts:[],sizes:[]}}},selectedItems:[],editedSurface:{},editedItem:{},surfacesLength:1,fonts:[],propertyTreeMap:j5()},Lw(yH,(t,{product:e})=>Object.assign(Object.assign({},t),{product:e})),Lw(_H,(t,{viewer:e})=>Object.assign(Object.assign({},t),{viewer:e})),Lw(vH,(t,{configuration:e})=>Object.assign(Object.assign({},t),{configuration:e})),Lw(bH,(t,{currentSurfaceIndex:e})=>Object.assign(Object.assign({},t),{currentSurfaceIndex:e})),Lw(wH,(t,{selectedItems:e})=>Object.assign(Object.assign({},t),{selectedItems:e,curLayer:null})),Lw(CH,(t,{editedSurface:e})=>Object.assign(Object.assign({},t),{editedSurface:e})),Lw(xH,(t,{editedItem:e})=>Object.assign(Object.assign({},t),{editedItem:e})),Lw(EH,(t,{curLayer:e})=>Object.assign(Object.assign({},t),{curLayer:e})),Lw(SH,(t,{fonts:e})=>Object.assign(Object.assign({},t),{fonts:e})),Lw(PH,(t,{tree:e})=>Object.assign(Object.assign({},t),{propertyTreeMap:t.propertyTreeMap.set(e.item.id,e)})),Lw(IH,(t,{item:e})=>Object.assign(Object.assign({},t),{propertyTreeMap:t.propertyTreeMap.delete(e.id)})),Lw(OH,t=>Object.assign(Object.assign({},t),{propertyTreeMap:j5()})),Lw(kH,(t,{trees:e})=>{const n=j5();return e.forEach(t=>n.set(t.item.id,t)),Object.assign(Object.assign({},t),{propertyTreeMap:n})}),Lw(TH,t=>(t.propertyTreeMap.forEach(t=>t.deprecated=!0),Object.assign({},t)))),y6=Bw({haveBuffer:!1,canvasCtxMenu:new x2([]),canvasClipboardCtxMenu:new x2([]),layerMenu:new x2([])},Lw(l2,(t,{canvasCtxMenu:e})=>Object.assign(Object.assign({},t),{canvasCtxMenu:e})),Lw(c2,(t,{canvasClipboardCtxMenu:e})=>Object.assign(Object.assign({},t),{canvasClipboardCtxMenu:e})),Lw(u2,(t,{haveBuffer:e})=>Object.assign(Object.assign({},t),{haveBuffer:e})),Lw(h2,(t,{layerMenu:e})=>Object.assign(Object.assign({},t),{layerMenu:e}))),_6=Bw({rightPanel:null,missingFonts:l4([]),modifiedItems:l4([]),surfaces:l4()},Lw(MH,(t,{item:e})=>Object.assign(Object.assign({},t),{rightPanel:e})),Lw(DH,(t,{font:e})=>e.postscriptName?-1===t.missingFonts.toArray().findIndex(({postscriptName:t})=>t.toLowerCase()===e.postscriptName.toLowerCase())?Object.assign(Object.assign({},t),{missingFonts:t.missingFonts.push(e)}):t:Object.assign(Object.assign({},t),{missingFonts:t.missingFonts.push(e)})),Lw(RH,(t,{mItem:e})=>Object.assign(Object.assign({},t),{modifiedItems:t.modifiedItems.push(e)})),Lw(LH,(t,{surfaces:e})=>Object.assign(Object.assign({},t),{surfaces:l4(e)})),Lw(FH,t=>Object.assign(Object.assign({},t),{missingFonts:l4(),modifiedItems:l4()}))),v6={templateEditor:function(t,e){return g6(t,e)},menus:function(t,e){return y6(t,e)},ui:function(t,e){return _6(t,e)}};let b6=(()=>{class t{}return t.viewerLoadingImageUrl="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABcAAAAUCAYAAABmvqYOAAAAGXRFWHRTb2Z0d2FyZQBBZG9iZSBJbWFnZVJlYWR5ccllPAAAAwVJREFUeNqclE9oE1EQxmeTLGnatGtocqhR04MeClUMVWupJyO5iBTBgAcvIojiqUUoeNOLh0I9Fk9qwYsHL+qhiOCf5CJiMFIUQqxJiAk2aU1MN2k3TfxmfRvW2NjYBz925+3svHnfzHvSzMwM7WBcB1/A4385WToMtgvMmuxb4KzJnt3qJ1uHwV8AD3gPTmqa9hHP3bIs38XzOzgH9oLQ/wT3gSS4AW4j6JTL5dLsdrvKu15fXz+8urpKWITtq+IfB6hsF5y/fQUPwIjT6cz7fL5WH5XnYrGYarVan4g6TADndpp7wTMwZLFY8oODg/oksv8Lv99P8KmyL3jaSUFZjknQjUGJRIKSySRVKhUqFoukqqoemEe1WiVeHHY3zPPbaW4RBbyE7arIijPTg7ndbgoEArpTJBKhXC7HmpPD4WAf1n4aPATf2mXO28uBoCRJalNgZDs2NtZ0Gh0dbWbPo6urq4jHBZDW5WwTfBFcFE6yMckZokOaTtls9o+fhCyvwGX+1yzLUSHHB24lBJLgfGRzc3Mf7B/0W3yan5+n8fFxwo4oHo/rc6ZCd+O/+zDftWp+DB+nuYeh80u8vwZDcP6MbOuY13fJ2obDYT2Y0UG8ABfbUM9cUG56tV6vLwwPDydsNn09DcVRUqlUfz6fH2Ef2M9l1kUE48EHCIeK1tbWKJPJKJiXxc73c7dZg8FgDS8NfDjUaDQ0bis8rRsbG+W+vj5ruVxOYuE7tVrtIJ51o3PgQ5CMlpeXaWVlRUEx7wmte8EjI/Mz4Dgy1gqFAoVCIfJ6vRSNRuV0Oh1XFEVGu00gaRekKAEX11IU2g3teUPcJT+55cFU2z5HMLNpdMoA2MPdZjQKeANOCLsB6lvdH3wn+LHt05BGm5ubI4/Ho2vZ09NDS0tLA8iM+15radVFky21u5y4oDeh9QK0tHPm0Jt1pFKpxAenjOCfRJGMcaqTe9omrkcJBbqGqk/zcYeOWSzWi7kDCKzQDodZ87d82aMDmocIwa/gvR8UdhL8lwADABtmSFbWE/QHAAAAAElFTkSuQmCC",t.whiteRect="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAlMAAANKCAYAAACu78sPAAAKMWlDQ1BJQ0MgUHJvZmlsZQAASImdlndUU9kWh8+9N71QkhCKlNBraFICSA29SJEuKjEJEErAkAAiNkRUcERRkaYIMijggKNDkbEiioUBUbHrBBlE1HFwFBuWSWStGd+8ee/Nm98f935rn73P3Wfvfda6AJD8gwXCTFgJgAyhWBTh58WIjYtnYAcBDPAAA2wA4HCzs0IW+EYCmQJ82IxsmRP4F726DiD5+yrTP4zBAP+flLlZIjEAUJiM5/L42VwZF8k4PVecJbdPyZi2NE3OMErOIlmCMlaTc/IsW3z2mWUPOfMyhDwZy3PO4mXw5Nwn4405Er6MkWAZF+cI+LkyviZjg3RJhkDGb+SxGXxONgAoktwu5nNTZGwtY5IoMoIt43kA4EjJX/DSL1jMzxPLD8XOzFouEiSniBkmXFOGjZMTi+HPz03ni8XMMA43jSPiMdiZGVkc4XIAZs/8WRR5bRmyIjvYODk4MG0tbb4o1H9d/JuS93aWXoR/7hlEH/jD9ld+mQ0AsKZltdn6h21pFQBd6wFQu/2HzWAvAIqyvnUOfXEeunxeUsTiLGcrq9zcXEsBn2spL+jv+p8Of0NffM9Svt3v5WF485M4knQxQ143bmZ6pkTEyM7icPkM5p+H+B8H/nUeFhH8JL6IL5RFRMumTCBMlrVbyBOIBZlChkD4n5r4D8P+pNm5lona+BHQllgCpSEaQH4eACgqESAJe2Qr0O99C8ZHA/nNi9GZmJ37z4L+fVe4TP7IFiR/jmNHRDK4ElHO7Jr8WgI0IABFQAPqQBvoAxPABLbAEbgAD+ADAkEoiARxYDHgghSQAUQgFxSAtaAYlIKtYCeoBnWgETSDNnAYdIFj4DQ4By6By2AE3AFSMA6egCnwCsxAEISFyBAVUod0IEPIHLKFWJAb5AMFQxFQHJQIJUNCSAIVQOugUqgcqobqoWboW+godBq6AA1Dt6BRaBL6FXoHIzAJpsFasBFsBbNgTzgIjoQXwcnwMjgfLoK3wJVwA3wQ7oRPw5fgEVgKP4GnEYAQETqiizARFsJGQpF4JAkRIauQEqQCaUDakB6kH7mKSJGnyFsUBkVFMVBMlAvKHxWF4qKWoVahNqOqUQdQnag+1FXUKGoK9RFNRmuizdHO6AB0LDoZnYsuRlegm9Ad6LPoEfQ4+hUGg6FjjDGOGH9MHCYVswKzGbMb0445hRnGjGGmsVisOtYc64oNxXKwYmwxtgp7EHsSewU7jn2DI+J0cLY4X1w8TogrxFXgWnAncFdwE7gZvBLeEO+MD8Xz8MvxZfhGfA9+CD+OnyEoE4wJroRIQiphLaGS0EY4S7hLeEEkEvWITsRwooC4hlhJPEQ8TxwlviVRSGYkNimBJCFtIe0nnSLdIr0gk8lGZA9yPFlM3kJuJp8h3ye/UaAqWCoEKPAUVivUKHQqXFF4pohXNFT0VFysmK9YoXhEcUjxqRJeyUiJrcRRWqVUo3RU6YbStDJV2UY5VDlDebNyi/IF5UcULMWI4kPhUYoo+yhnKGNUhKpPZVO51HXURupZ6jgNQzOmBdBSaaW0b2iDtCkVioqdSrRKnkqNynEVKR2hG9ED6On0Mvph+nX6O1UtVU9Vvuom1TbVK6qv1eaoeajx1UrU2tVG1N6pM9R91NPUt6l3qd/TQGmYaYRr5Grs0Tir8XQObY7LHO6ckjmH59zWhDXNNCM0V2ju0xzQnNbS1vLTytKq0jqj9VSbru2hnaq9Q/uE9qQOVcdNR6CzQ+ekzmOGCsOTkc6oZPQxpnQ1df11Jbr1uoO6M3rGelF6hXrtevf0Cfos/ST9Hfq9+lMGOgYhBgUGrQa3DfGGLMMUw12G/YavjYyNYow2GHUZPTJWMw4wzjduNb5rQjZxN1lm0mByzRRjyjJNM91tetkMNrM3SzGrMRsyh80dzAXmu82HLdAWThZCiwaLG0wS05OZw2xljlrSLYMtCy27LJ9ZGVjFW22z6rf6aG1vnW7daH3HhmITaFNo02Pzq62ZLde2xvbaXPJc37mr53bPfW5nbse322N3055qH2K/wb7X/oODo4PIoc1h0tHAMdGx1vEGi8YKY21mnXdCO3k5rXY65vTW2cFZ7HzY+RcXpkuaS4vLo3nG8/jzGueNueq5clzrXaVuDLdEt71uUnddd457g/sDD30PnkeTx4SnqWeq50HPZ17WXiKvDq/XbGf2SvYpb8Tbz7vEe9CH4hPlU+1z31fPN9m31XfKz95vhd8pf7R/kP82/xsBWgHcgOaAqUDHwJWBfUGkoAVB1UEPgs2CRcE9IXBIYMj2kLvzDecL53eFgtCA0O2h98KMw5aFfR+OCQ8Lrwl/GGETURDRv4C6YMmClgWvIr0iyyLvRJlESaJ6oxWjE6Kbo1/HeMeUx0hjrWJXxl6K04gTxHXHY+Oj45vipxf6LNy5cDzBPqE44foi40V5iy4s1licvvj4EsUlnCVHEtGJMYktie85oZwGzvTSgKW1S6e4bO4u7hOeB28Hb5Lvyi/nTyS5JpUnPUp2Td6ePJninlKR8lTAFlQLnqf6p9alvk4LTduf9ik9Jr09A5eRmHFUSBGmCfsytTPzMoezzLOKs6TLnJftXDYlChI1ZUPZi7K7xTTZz9SAxESyXjKa45ZTk/MmNzr3SJ5ynjBvYLnZ8k3LJ/J9879egVrBXdFboFuwtmB0pefK+lXQqqWrelfrry5aPb7Gb82BtYS1aWt/KLQuLC98uS5mXU+RVtGaorH1futbixWKRcU3NrhsqNuI2ijYOLhp7qaqTR9LeCUXS61LK0rfb+ZuvviVzVeVX33akrRlsMyhbM9WzFbh1uvb3LcdKFcuzy8f2x6yvXMHY0fJjpc7l+y8UGFXUbeLsEuyS1oZXNldZVC1tep9dUr1SI1XTXutZu2m2te7ebuv7PHY01anVVda926vYO/Ner/6zgajhop9mH05+x42Rjf2f836urlJo6m06cN+4X7pgYgDfc2Ozc0tmi1lrXCrpHXyYMLBy994f9Pdxmyrb6e3lx4ChySHHn+b+O31w0GHe4+wjrR9Z/hdbQe1o6QT6lzeOdWV0iXtjusePhp4tLfHpafje8vv9x/TPVZzXOV42QnCiaITn07mn5w+lXXq6enk02O9S3rvnIk9c60vvG/wbNDZ8+d8z53p9+w/ed71/LELzheOXmRd7LrkcKlzwH6g4wf7HzoGHQY7hxyHui87Xe4Znjd84or7ldNXva+euxZw7dLI/JHh61HXb95IuCG9ybv56Fb6ree3c27P3FlzF3235J7SvYr7mvcbfjT9sV3qID0+6j068GDBgztj3LEnP2X/9H686CH5YcWEzkTzI9tHxyZ9Jy8/Xvh4/EnWk5mnxT8r/1z7zOTZd794/DIwFTs1/lz0/NOvm1+ov9j/0u5l73TY9P1XGa9mXpe8UX9z4C3rbf+7mHcTM7nvse8rP5h+6PkY9PHup4xPn34D94Tz++xtAWsAAAAJcEhZcwAACxIAAAsSAdLdfvwAAA6ESURBVHic7dbBDcAgEMCw0v13PnYgD4RkT5Bn1szMBwDAkf92AADAy8wUAEBgpgAAAjMFABCYKQCAwEwBAARmCgAgMFMAAIGZAgAIzBQAQGCmAAACMwUAEJgpAIDATAEABGYKACAwUwAAgZkCAAjMFABAYKYAAAIzBQAQmCkAgMBMAQAEZgoAIDBTAACBmQIACMwUAEBgpgAAAjMFABCYKQCAwEwBAARmCgAgMFMAAIGZAgAIzBQAQGCmAAACMwUAEJgpAIDATAEABGYKACAwUwAAgZkCAAjMFABAYKYAAAIzBQAQmCkAgMBMAQAEZgoAIDBTAACBmQIACMwUAEBgpgAAAjMFABCYKQCAwEwBAARmCgAgMFMAAIGZAgAIzBQAQGCmAAACMwUAEJgpAIDATAEABGYKACAwUwAAgZkCAAjMFABAYKYAAAIzBQAQmCkAgMBMAQAEZgoAIDBTAACBmQIACMwUAEBgpgAAAjMFABCYKQCAwEwBAARmCgAgMFMAAIGZAgAIzBQAQGCmAAACMwUAEJgpAIDATAEABGYKACAwUwAAgZkCAAjMFABAYKYAAAIzBQAQmCkAgMBMAQAEZgoAIDBTAACBmQIACMwUAEBgpgAAAjMFABCYKQCAwEwBAARmCgAgMFMAAIGZAgAIzBQAQGCmAAACMwUAEJgpAIDATAEABGYKACAwUwAAgZkCAAjMFABAYKYAAAIzBQAQmCkAgMBMAQAEZgoAIDBTAACBmQIACMwUAEBgpgAAAjMFABCYKQCAwEwBAARmCgAgMFMAAIGZAgAIzBQAQGCmAAACMwUAEJgpAIDATAEABGYKACAwUwAAgZkCAAjMFABAYKYAAAIzBQAQmCkAgMBMAQAEZgoAIDBTAACBmQIACMwUAEBgpgAAAjMFABCYKQCAwEwBAARmCgAgMFMAAIGZAgAIzBQAQGCmAAACMwUAEJgpAIDATAEABGYKACAwUwAAgZkCAAjMFABAYKYAAAIzBQAQmCkAgMBMAQAEZgoAIDBTAACBmQIACMwUAEBgpgAAAjMFABCYKQCAwEwBAARmCgAgMFMAAIGZAgAIzBQAQGCmAAACMwUAEJgpAIDATAEABGYKACAwUwAAgZkCAAjMFABAYKYAAAIzBQAQmCkAgMBMAQAEZgoAIDBTAACBmQIACMwUAEBgpgAAAjMFABCYKQCAwEwBAARmCgAgMFMAAIGZAgAIzBQAQGCmAAACMwUAEJgpAIDATAEABGYKACAwUwAAgZkCAAjMFABAYKYAAAIzBQAQmCkAgMBMAQAEZgoAIDBTAACBmQIACMwUAEBgpgAAAjMFABCYKQCAwEwBAARmCgAgMFMAAIGZAgAIzBQAQGCmAAACMwUAEJgpAIDATAEABGYKACAwUwAAgZkCAAjMFABAYKYAAAIzBQAQmCkAgMBMAQAEZgoAIDBTAACBmQIACMwUAEBgpgAAAjMFABCYKQCAwEwBAARmCgAgMFMAAIGZAgAIzBQAQGCmAAACMwUAEJgpAIDATAEABGYKACAwUwAAgZkCAAjMFABAYKYAAAIzBQAQmCkAgMBMAQAEZgoAIDBTAACBmQIACMwUAEBgpgAAAjMFABCYKQCAwEwBAARmCgAgMFMAAIGZAgAIzBQAQGCmAAACMwUAEJgpAIDATAEABGYKACAwUwAAgZkCAAjMFABAYKYAAAIzBQAQmCkAgMBMAQAEZgoAIDBTAACBmQIACMwUAEBgpgAAAjMFABCYKQCAwEwBAARmCgAgMFMAAIGZAgAIzBQAQGCmAAACMwUAEJgpAIDATAEABGYKACAwUwAAgZkCAAjMFABAYKYAAAIzBQAQmCkAgMBMAQAEZgoAIDBTAACBmQIACMwUAEBgpgAAAjMFABCYKQCAwEwBAARmCgAgMFMAAIGZAgAIzBQAQGCmAAACMwUAEJgpAIDATAEABGYKACAwUwAAgZkCAAjMFABAYKYAAAIzBQAQmCkAgMBMAQAEZgoAIDBTAACBmQIACMwUAEBgpgAAAjMFABCYKQCAwEwBAARmCgAgMFMAAIGZAgAIzBQAQGCmAAACMwUAEJgpAIDATAEABGYKACAwUwAAgZkCAAjMFABAYKYAAAIzBQAQmCkAgMBMAQAEZgoAIDBTAACBmQIACMwUAEBgpgAAAjMFABCYKQCAwEwBAARmCgAgMFMAAIGZAgAIzBQAQGCmAAACMwUAEJgpAIDATAEABGYKACAwUwAAgZkCAAjMFABAYKYAAAIzBQAQmCkAgMBMAQAEZgoAIDBTAACBmQIACMwUAEBgpgAAAjMFABCYKQCAwEwBAARmCgAgMFMAAIGZAgAIzBQAQGCmAAACMwUAEJgpAIDATAEABGYKACAwUwAAgZkCAAjMFABAYKYAAAIzBQAQmCkAgMBMAQAEZgoAIDBTAACBmQIACMwUAEBgpgAAAjMFABCYKQCAwEwBAARmCgAgMFMAAIGZAgAIzBQAQGCmAAACMwUAEJgpAIDATAEABGYKACAwUwAAgZkCAAjMFABAYKYAAAIzBQAQmCkAgMBMAQAEZgoAIDBTAACBmQIACMwUAEBgpgAAAjMFABCYKQCAwEwBAARmCgAgMFMAAIGZAgAIzBQAQGCmAAACMwUAEJgpAIDATAEABGYKACAwUwAAgZkCAAjMFABAYKYAAAIzBQAQmCkAgMBMAQAEZgoAIDBTAACBmQIACMwUAEBgpgAAAjMFABCYKQCAwEwBAARmCgAgMFMAAIGZAgAIzBQAQGCmAAACMwUAEJgpAIDATAEABGYKACAwUwAAgZkCAAjMFABAYKYAAAIzBQAQmCkAgMBMAQAEZgoAIDBTAACBmQIACMwUAEBgpgAAAjMFABCYKQCAwEwBAARmCgAgMFMAAIGZAgAIzBQAQGCmAAACMwUAEJgpAIDATAEABGYKACAwUwAAgZkCAAjMFABAYKYAAAIzBQAQmCkAgMBMAQAEZgoAIDBTAACBmQIACMwUAEBgpgAAAjMFABCYKQCAwEwBAARmCgAgMFMAAIGZAgAIzBQAQGCmAAACMwUAEJgpAIDATAEABGYKACAwUwAAgZkCAAjMFABAYKYAAAIzBQAQmCkAgMBMAQAEZgoAIDBTAACBmQIACMwUAEBgpgAAAjMFABCYKQCAwEwBAARmCgAgMFMAAIGZAgAIzBQAQGCmAAACMwUAEJgpAIDATAEABGYKACAwUwAAgZkCAAjMFABAYKYAAAIzBQAQmCkAgMBMAQAEZgoAIDBTAACBmQIACMwUAEBgpgAAAjMFABCYKQCAwEwBAARmCgAgMFMAAIGZAgAIzBQAQGCmAAACMwUAEJgpAIDATAEABGYKACAwUwAAgZkCAAjMFABAYKYAAAIzBQAQmCkAgMBMAQAEZgoAIDBTAACBmQIACMwUAEBgpgAAAjMFABCYKQCAwEwBAARmCgAgMFMAAIGZAgAIzBQAQGCmAAACMwUAEJgpAIDATAEABGYKACAwUwAAgZkCAAjMFABAYKYAAAIzBQAQmCkAgMBMAQAEZgoAIDBTAACBmQIACMwUAEBgpgAAAjMFABCYKQCAwEwBAARmCgAgMFMAAIGZAgAIzBQAQGCmAAACMwUAEJgpAIDATAEABGYKACAwUwAAgZkCAAjMFABAYKYAAAIzBQAQmCkAgMBMAQAEZgoAIDBTAACBmQIACMwUAEBgpgAAAjMFABCYKQCAwEwBAARmCgAgMFMAAIGZAgAIzBQAQGCmAAACMwUAEJgpAIDATAEABGYKACAwUwAAgZkCAAjMFABAYKYAAAIzBQAQmCkAgMBMAQAEZgoAIDBTAACBmQIACMwUAEBgpgAAAjMFABCYKQCAwEwBAARmCgAgMFMAAIGZAgAIzBQAQGCmAAACMwUAEJgpAIDATAEABGYKACAwUwAAgZkCAAjMFABAYKYAAAIzBQAQmCkAgMBMAQAEZgoAIDBTAACBmQIACMwUAEBgpgAAAjMFABCYKQCAwEwBAARmCgAgMFMAAIGZAgAIzBQAQGCmAAACMwUAEJgpAIDATAEABGYKACAwUwAAgZkCAAjMFABAYKYAAAIzBQAQmCkAgMBMAQAEZgoAIDBTAACBmQIACMwUAEBgpgAAAjMFABCYKQCAwEwBAARmCgAgMFMAAIGZAgAIzBQAQGCmAAACMwUAEJgpAIDATAEABGYKACAwUwAAgZkCAAjMFABAYKYAAAIzBQAQmCkAgMBMAQAEZgoAIDBTAACBmQIACMwUAEBgpgAAAjMFABCYKQCAwEwBAARmCgAgMFMAAIGZAgAIzBQAQGCmAAACMwUAEJgpAIDATAEABGYKACAwUwAAgZkCAAjMFABAYKYAAAIzBQAQmCkAgMBMAQAEZgoAIDBTAACBmQIACMwUAEBgpgAAAjMFABCYKQCAwEwBAARmCgAgMFMAAIGZAgAIzBQAQGCmAAACMwUAEJgpAIDATAEABGYKACAwUwAAgZkCAAjMFABAYKYAAAIzBQAQmCkAgMBMAQAEZgoAIDBTAACBmQIACMwUAEBgpgAAAjMFABCYKQCAwEwBAARmCgAgMFMAAIGZAgAIzBQAQGCmAAACMwUAEJgpAIDATAEABGYKACAwUwAAgZkCAAjMFABAYKYAAAIzBQAQmCkAgMBMAQAEZgoAIDBTAACBmQIACMwUAEBgpgAAAjMFABCYKQCAwEwBAARmCgAgMFMAAIGZAgAIzBQAQGCmAAACMwUAEJgpAIDATAEABGYKACAwUwAAgZkCAAjMFABAYKYAAAIzBQAQmCkAgMBMAQAEZgoAIDBTAACBmQIACMwUAEBgpgAAAjMFABCYKQCAwEwBAARmCgAgMFMAAIGZAgAIzBQAQGCmAAACMwUAEJgpAIDATAEABGYKACAwUwAAgZkCAAjMFABAYKYAAAIzBQAQmCkAgMBMAQAEZgoAIDBTAACBmQIACDbDXQqQkKWTdwAAAABJRU5ErkJggg==",t})();var w6=n("Gq8Z");const C6=["fileInp"];let x6=(()=>{class t{constructor(){this.accept="*",this.multiple=!1,this.closeDialog=new Yl,this.selectFile=new Yl,this.selectFiles=new Yl}openDialog(){const t=()=>setTimeout(()=>{0===this.fileInput.nativeElement.files.length&&this.closeDialog.emit(),this.fileInput.nativeElement.value=null,window.removeEventListener("focus",t)},100);window.addEventListener("focus",t),this.fileInput.nativeElement.click()}select(t){const e=t.target;if(this.multiple){const t=Array.from(e.files);this.selectFiles.emit(t)}else e.files.length&&this.selectFile.emit(e.files[0])}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275cmp=pe({type:t,selectors:[["au-file-reader"]],viewQuery:function(t,e){var n;1&t&&cc(C6,!0),2&t&&ac(n=fc())&&(e.fileInput=n.first)},inputs:{accept:"accept",multiple:"multiple",id:"id"},outputs:{closeDialog:"closeDialog",selectFile:"selectFile",selectFiles:"selectFiles"},decls:2,vars:3,consts:[["type","file",2,"display","none",3,"id","accept","multiple","change"],["fileInp",""]],template:function(t,e){1&t&&(Ls(0,"input",0,1),$s("change",(function(t){return e.select(t)})),Bs()),2&t&&Rs("id",e.id)("accept",e.accept)("multiple",e.multiple)},styles:["[_nghost-%COMP%] {\n        display: none;\n      }"]}),t})(),E6=(()=>{class t{constructor(t){this._injector=t,this._zonesMap=new Map([["GLOBAL",new Map]]),this._events=new x,this._currentDownKeys=[],this._currentMouseDownKeys=new Set([]),this.ignore=!1,my(window,"keydown").subscribe(t=>this.handleKeyPressing(t)),my(window,"keyup").subscribe(t=>this.handleKeyUp(t)),my(window,"mouseout").subscribe(()=>this._currentDownKeys=[]),my(window,"wheel",{passive:!1}).subscribe(t=>this.handleWheel(t)),my(window,"click").subscribe(t=>this.handleClick(t)),my(window,"dbclick").subscribe(t=>this.handleDbClick(t)),my(window,"mousedown").subscribe(t=>this.handleMouseDown(t)),my(window,"mouseup").subscribe(t=>this.handleMouseUp(t))}get $keyboardEvents(){return this._events.asObservable()}registryKeys(t,e){Object(j$.maybe)(this._zonesMap.get(t.zone||"GLOBAL")).do({just:n=>n.set(t.action,{data:t,provider:e}),nothing:()=>{const n=new Map;this._zonesMap.set(t.zone,n),n.set(t.action,{data:t,provider:e})}})}unregisterKeys(t){Object(j$.maybe)(this._zonesMap.get(t.zone||"GLOBAL")).do({just:e=>e.delete(t.action)})}registryKeysSet(t,e){t.forEach(t=>this.registryKeys(t,e))}unregisterKeysSet(t){t.forEach(t=>this.unregisterKeys(t))}getEventByKeys(t,e){const[n,i]=this._findHotkeyAction(t,e);if(n)return{action:n,keys:[...this._currentDownKeys],zone:i,providerToken:this._zonesMap.get(i).get(n).provider}}handleKeyPressing(t,e="GLOBAL"){if(this._isPressedKey(t.keyCode))return;this._currentDownKeys.push(W$.Key[W$.Key[t.keyCode]]);const n=this.getEventByKeys(e,(t,e,n)=>this._isCurKeySet(t)&&(!n||!n.length)&&!e);return this._notify(t,n),n}_notify(t,e){Object(j$.maybe)(e).do({just:()=>{this.ignore||(this._events.next(e),t.preventDefault())}}).map(t=>t.providerToken).do({just:t=>{this.ignore||this._redirectActionToSrv(t,e)}})}handleKeyUp(t){this._currentDownKeys=this._currentDownKeys.filter(e=>e!==W$.Key[W$.Key[t.keyCode]])}handleWheel(t,e="GLOBAL"){let n;return n=this.getEventByKeys(e,t.deltaY<0?(t,e,n)=>this._isCurKeySet(t)&&this._isCurMouseKeySet(n)&&"wheelup"===e:(t,e,n)=>this._isCurKeySet(t)&&this._isCurMouseKeySet(n)&&"wheeldown"===e),this._notify(t,n),n}handleClick(t,e="GLOBAL"){const n=this.getEventByKeys(e,(t,e,n)=>this._isCurKeySet(t)&&"click"===e);return this._notify(t,n),n}handleDbClick(t,e="GLOBAL"){const n=this.getEventByKeys(e,(t,e,n)=>this._isCurKeySet(t)&&this._isCurMouseKeySet(n)&&"dbclick"===e);return this._notify(t,n),n}handleMouseDown(t,e="GLOBAL"){this._currentMouseDownKeys=new Set([]),[[1,AG.LMB],[2,AG.RMB],[4,AG.MMB],[8,AG.BMB],[16,AG.FMB]].forEach(([e,n])=>{t.buttons>=e&&this._currentMouseDownKeys.add(n)});const n=this.getEventByKeys(e,(t,e,n)=>this._isCurKeySet(t)&&this._isCurMouseKeySet(n)&&!e);return this._notify(t,n),n}handleMouseUp(t){this._currentMouseDownKeys.delete(t.button)}_handleMove(t,e="GLOBAL"){const n=this.getEventByKeys(e,(t,e)=>this._isCurKeySet(t)&&"mousemove"===e);this._notify(t,n)}_isPressedKey(t){return this._currentDownKeys.includes(t)}_findHotkeyAction(t,e){const n=this._findAction(t,e);return void 0!==n?[n,t]:[this._findAction("GLOBAL",e),"GLOBAL"]}_isCurKeySet(t){return t.map(t=>t.map((t,e)=>this._currentDownKeys[e]===t).reduce((t,e)=>t&&e)).reduce((t,e)=>t||e)}_isCurMouseKeySet(t){return!t&&0===this._currentMouseDownKeys.size||!(!t||t.length!==this._currentMouseDownKeys.size)&&t.map(t=>this._currentMouseDownKeys.has(t)).reduce((t,e)=>t&&e)}_findAction(t,e){let n;return this._zonesMap.get(t).forEach(({data:{mouseEvents:t,action:i,keys:r,mouseKeys:o}})=>{e(r,t,o)&&(n=i)}),n}_throwException(t){throw new Error(t)}_redirectActionToSrv(t,e){const n=this._injector.get(t);Object(j$.maybe)(n).do({nothing:()=>this._throwException(`Service with token "${t}" not declare!`)}).map(t=>t.handleEvent).do({just:()=>n.handleEvent(e),nothing:()=>this._throwException("Service should be implement IKeyboardHandlerService interface!")})}}return t.\u0275fac=function(e){return new(e||t)(Kt(us))},t.\u0275prov=ht({token:t,factory:t.\u0275fac,providedIn:"root"}),t})();const S6=[{name:"TOP_LABEL",field:"top"},{name:"BOTTOM_LABEL",field:"bottom"},{name:"LEFT_LABEL",field:"left"},{name:"RIGHT_LABEL",field:"right"}];let P6=(()=>{class t{constructor(t,e,n,i){this._store=t,this._viewerEvtSrv=e,this._layersSrv=n,this._historySrv=i,this.PAGE_NAME="New page",this._curSurface$=new mb(null);const r=this._store.pipe(cw(t=>t.templateEditor.viewer),Vy(t=>!!t));this.pViewer=new Promise(t=>r.subscribe(()=>t()));const o=this._store.pipe(cw(t=>t.templateEditor.product),Vy(t=>!!t)),s=this._store.pipe(cw(t=>t.templateEditor.currentSurfaceIndex),Vy(t=>null!==t));t.pipe(cw(t=>t.templateEditor.viewer),Vy(t=>!!t)).subscribe(t=>{this._cm=t.commandManager,this._canvas=t.canvas,this._viewer=t}),hM([o,s]).subscribe(([t,e])=>{this._curSurface=t.surfaces.get(e),this._layersSrv.setCurrentSurface(this._curSurface),this._curSurface$.next(this._curSurface),this._surfaces=t.surfaces,this._product=t,this._currentSurfaceIndex=e}),this._viewerEvtSrv.$surfaceCollectionChanged.subscribe(()=>t.dispatch(LH({surfaces:this._product.surfaces.toArray()})))}get $curSurface(){return this._curSurface$.asObservable()}get curSurface(){return this._curSurface}setSurface(t){return vR(this,void 0,void 0,(function*(){const e=this._product.surfaces.get(t);yield this.pViewer,this._viewer.surface=e,this._store.dispatch(bH({currentSurfaceIndex:t})),this._store.dispatch(EH({curLayer:this._viewer.userEditContainer})),this._store.dispatch(MH({item:e}))}))}addNewItem(){const t=this._product.surfaces.lastOrDefault(),e=new d$(t.width,t.height,null,[new a$(new aB(0,0,t.width,t.height))],null,this.PAGE_NAME,!0);this._product.surfaces.add(e),this._store.dispatch(CH({editedSurface:{item:e,isNew:!0}})),this._store.dispatch(LH({surfaces:this._product.surfaces.toArray()}))}deleteSurface({surface:t,index:e}){const n=e-1,i=!!this._product.surfaces.get(e+1);if(this._product.surfaces.remove(t),this._currentSurfaceIndex===e)if(i){const t=e;this._store.dispatch(bH({currentSurfaceIndex:t})),this.setSurface(t)}else{const t=n<0?0:n;this._store.dispatch(bH({currentSurfaceIndex:t})),this.setSurface(t)}else if(this._currentSurfaceIndex>=e){const t=this._currentSurfaceIndex-1<0?0:this._currentSurfaceIndex-1;this._store.dispatch(bH({currentSurfaceIndex:t})),this.setSurface(t)}this._store.dispatch(LH({surfaces:this._product.surfaces.toArray()}))}duplicateSurface(t){const e=this._product.surfaces,n=t.clone(!0);n.name=`Copy of ${n.name}`,e.add(n),this._store.dispatch(CH({editedSurface:{item:n,isNew:!0}})),this._store.dispatch(LH({surfaces:this._product.surfaces.toArray()}))}initRename(t){this._store.dispatch(CH({editedSurface:{item:t,isNew:!1}}))}makeMenu(t){const e=this._surfaces.toArray().findIndex(e=>e===t),n=new x2(U$);return 1===this._surfaces.length&&n.disableItem(H$.Delete),n.addPayloadToSegment(V$.S_DUPLICATE,{index:e,surface:t}),n.addPayloadToSegment(V$.S_COMMON,{index:e,surface:t}),n}handle({action:t,payload:e}){const n=this._product.surfaces.get(e.index),{surface:i}=e;switch(t){case H$.Delete:this.deleteSurface(e);break;case H$.Duplicate:this.duplicateSurface(i);break;case H$.New:this.addNewItem();break;case H$.Rename:this.initRename(n)}}getMarginSafetyLine(t){return t.safetyLines.toArray().find(t=>"MARGIN_SAFETY_LINE"===t.name)}getMargins(t){const e=this.getMarginSafetyLine(t);if(e)return e.getMargin()}setMargin(t,e){const n=new m$({name:"MARGIN_SAFETY_LINE",margin:new r$(Object.assign({top:0,bottom:0,right:0,left:0},e))});Object(j$.maybe)(this.getMarginSafetyLine(t)).do({just:e=>t.safetyLines.remove(e)}),t.safetyLines.add(n)}marginsApplyForAll(t){this._surfaces.forEach(e=>e.printAreas.forEach(e=>this.setMargin(e,t)))}backgroundApplyForAll(t){const e=t.getBackgroundItem(),n=e.clone();this._surfaces.forEach(t=>vR(this,void 0,void 0,(function*(){let i=t.containers.toArray().find(t=>t.name===P$.BG_CONTAINER_NAME);if(i){const i=t.getBackgroundItem();i&&i!==e&&this._cm.execute(UQ.deleteItems,{items:[i]}),yield this._addItemToBackground(n,t)}else i=this._layersSrv.addBackgroundLayer(t),this._layersSrv.switchLayerLock(i),yield this._addItemToBackground(n,t)})))}bleedApplyForAll(t){this._surfaces.forEach(e=>e.printAreas.forEach(e=>e.bleed=t))}sizeApplyForAll(t,e){this._surfaces.forEach(n=>{n.width=t,n.height=e})}changeOrientation(t){return vR(this,void 0,void 0,(function*(){const{width:e,height:n}=t;yield this._cm.execute(HQ.resize,{target:[t],width:n,height:e,defaultOptions:{resize:VK.Arbitrary}})}))}changeSurfaceSize(t,e,n){return vR(this,void 0,void 0,(function*(){yield this._cm.execute(HQ.resize,{target:[t],width:e,height:n,defaultOptions:{resize:VK.Arbitrary}}),this._canvas.continueRedraw()}))}addBackground(t){const e=t.containers.toArray().find(t=>t.name===P$.BG_CONTAINER_NAME),n=t.getBackgroundItem();if(!n&&e&&this._layersSrv.deleteLayer(e),!n){const e=this._layersSrv.addBackgroundLayer(t);this._layersSrv.switchLayerLock(e);const{width:n,height:i}=t,r=Object(c1.merge)(new UV(bB.rectangle(0,0,n,i)),{fillColor:new VB({r:255,g:255,b:255,a:255}),borderWidth:0,name:P$.BG_CONTAINER_NAME});return e.items.add(r),r}return n}removeBackground(t){const e=t.getBackgroundItem();e&&this._layersSrv.deleteLayer(e.parentContainer)}setBgImage(t,e){return vR(this,void 0,void 0,(function*(){const n=t.getBackgroundItem();yield this._cm.execute(UQ.deleteItems,{items:[n]}),yield this._addItemToBackground(e,t)}))}getItemById(t,e){for(const n of e.containers)for(const e of n.items)if(e.id===t)return e}_addItemToBackground(t,e){return vR(this,void 0,void 0,(function*(){const{width:n,height:i}=e,r=e.containers.toArray().find(t=>t.name===P$.BG_CONTAINER_NAME);yield this._cm.execute(VQ.addItems,{items:[t],targetContainer:r}),yield this._cm.execute(HQ.resize,{target:[t],width:n,height:i});const o=this._viewer.getHandler(t),{left:s,top:a}=o.bounds;yield this._cm.execute(UQ.translateItems,{items:[t],translateX:-1*s,translateY:-1*a})}))}}return t.\u0275fac=function(e){return new(e||t)(Kt(aw),Kt(P2),Kt(O2),Kt(JG))},t.\u0275prov=ht({token:t,factory:t.\u0275fac,providedIn:"root"}),t})();class O6 extends C2{constructor(t){super(),this.items=t,this.itemsMap=new Map,this.curChild=null,this.active=null,this._curChildAction=new Map,this.initItemsMap(t)}isDrop(t){return!!this.curChild&&this.curChild.children===t.children}getTooltip(t){return t.tooltip||this.getNestedAction(t.id).tooltip}getIcon(t){return t.icon||this.getNestedAction(t.id).icon}setActiveItemByAction(t){Object(j$.maybe)(this.itemsMap.get(t)).do({just:t=>this.active=t})}findIdByAction(t){let e;return this.items.forEach(n=>{n.children&&n.children.length?n.children.forEach(i=>{t===i.action&&(e=n.id)}):t===n.action&&(e=n.id)}),e}setCurNestedAction(t,e){this._curChildAction.set(t,e)}getNestedAction(t){return this._curChildAction.get(t)}setCurrentNested(t){this.curChild=t}initItemsMap(t,e){t.forEach(t=>{t.children&&t.children.length?this.initItemsMap(t.children,t):this.itemsMap.set(t.action,t),t.isDefault&&e&&this.setCurNestedAction(e.id,t)})}}const k6=function(t){return{active:t}};function T6(t,e){if(1&t){const t=Vs();Ls(0,"mat-button-toggle",8),$s("click",(function(){Qe(t);const e=Ys().$implicit;return Ys().toolbar.setCurrentNested(e)})),Ls(1,"mat-icon",9),Ca(2),Bs(),Bs()}if(2&t){const t=Ys().$implicit,e=Ys(),n=As(3);Rs("ngClass",Vl(3,k6,e.isActive(t)))("matMenuTriggerFor",n),vr(2),xa(e.toolbar.isDrop(t)?"arrow_drop_up":"arrow_drop_down")}}function I6(t,e){if(1&t){const t=Vs();Ls(0,"mat-button-toggle-group",4),Ls(1,"mat-button-toggle",5),$s("keyboardAction",(function(e){return Qe(t),Ys().keyAction(e)}))("click",(function(){Qe(t);const n=e.$implicit;return Ys().clickAction(n)})),Xl(2,"translate"),Ns(3,"mat-icon",6),Bs(),Is(4,T6,3,5,"mat-button-toggle",7),Bs()}if(2&t){const t=e.$implicit,n=Ys();vr(1),Rs("disabled",t.disable)("ngClass",Vl(8,k6,n.isActive(t)))("matTooltip",Kl(2,6,n.toolbar.getTooltip(t))),vr(2),Rs("ngClass",Vl(10,k6,n.isActive(t)))("svgIcon",n.toolbar.getIcon(t)),vr(1),Rs("ngIf",t.children.length)}}function A6(t,e){if(1&t){const t=Vs();Ls(0,"button",11),$s("keyboardAction",(function(e){return Qe(t),Ys(2).keyAction(e)}))("click",(function(){Qe(t);const n=e.$implicit,i=Ys(2);return i.clickNestedAction(i.toolbar.curChild.id,n)})),Ns(1,"mat-icon",12),Ls(2,"span"),Ca(3),Xl(4,"translate"),Bs(),Ls(5,"span",13),Ca(6),Bs(),Bs()}if(2&t){const t=e.$implicit,n=Ys(2);Rs("disabled",t.disable)("ngClass",Vl(8,k6,t===n.toolbar.active)),vr(1),Rs("svgIcon",t.icon)("ngClass",Vl(10,k6,t===n.toolbar.active)),vr(2),xa(Kl(4,6,t.name)),vr(3),xa(null==t?null:t.hotkey.label)}}function M6(t,e){if(1&t&&(js(0),Is(1,A6,7,12,"button",10),zs()),2&t){const t=Ys();vr(1),Rs("ngForOf",t.toolbar.curChild.children)}}let D6=(()=>{class t{constructor(){this.stateless=!1,this.emitAction=new Yl}clickAction(t){t.action&&!t.disable?(this.active=t,this.emitAction.emit(t.action)):(this.active=this.toolbar.getNestedAction(t.id),this.toolbar.active&&!this.toolbar.active.disable&&this.emitAction.emit(this.toolbar.active.action))}clickNestedAction(t,e){this.toolbar.setCurNestedAction(t,e),this.active=e,this.emitAction.emit(e.action)}set active(t){this.stateless||(this.toolbar.active=t)}isActive(t){const e=t===this.toolbar.active,n=this.toolbar.getNestedAction(t.id)===this.toolbar.active;return e||n}closeMenu(){this.toolbar.setCurrentNested(null)}keyAction(t){this.emitAction.emit(t)}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275cmp=pe({type:t,selectors:[["au-toolbar"]],inputs:{stateless:"stateless",toolbar:"toolbar"},outputs:{emitAction:"emitAction"},decls:5,vars:2,consts:[["class","toolbar-toggle","appearance","legacy",4,"ngFor","ngForOf"],[3,"closed"],["menu",""],[4,"ngIf"],["appearance","legacy",1,"toolbar-toggle"],[1,"action",3,"disabled","ngClass","matTooltip","keyboardAction","click"],[1,"tool-icon",3,"ngClass","svgIcon"],["class","dropdown",3,"ngClass","matMenuTriggerFor","click",4,"ngIf"],[1,"dropdown",3,"ngClass","matMenuTriggerFor","click"],[1,"drop-arrow"],["mat-menu-item","","class","nested-toolbar",3,"disabled","ngClass","keyboardAction","click",4,"ngFor","ngForOf"],["mat-menu-item","",1,"nested-toolbar",3,"disabled","ngClass","keyboardAction","click"],[1,"tool-icon",3,"svgIcon","ngClass"],[1,"tool-hotkey"]],template:function(t,e){1&t&&(Ls(0,"div"),Is(1,I6,5,12,"mat-button-toggle-group",0),Ls(2,"mat-menu",1,2),$s("closed",(function(){return e.closeMenu()})),Is(4,M6,2,1,"ng-container",3),Bs(),Bs()),2&t&&(vr(1),Rs("ngForOf",e.toolbar.items),vr(3),Rs("ngIf",e.toolbar.curChild))},directives:[Ch,PT,Eh,oM,lM,vh,kM,oI,IT,bT],pipes:[HR],styles:[".mat-button-toggle-group.toolbar-toggle{box-shadow:unset!important;border-radius:0!important}.mat-button-toggle-group.toolbar-toggle .mat-button-toggle.mat-button-toggle-checked{background-color:unset}.mat-button-toggle-group.toolbar-toggle .mat-button-toggle.mat-button-toggle-checked.mat-button-toggle-disabled{background-color:rgba(0,0,0,.26)}.mat-button-toggle-group.toolbar-toggle .mat-button-toggle.action{width:40px;height:40px;outline:none}.mat-button-toggle-group.toolbar-toggle .mat-button-toggle.action.active{background:#eee}.mat-button-toggle-group.toolbar-toggle .mat-button-toggle.action .mat-button-toggle-label-content{padding:0}.mat-button-toggle-group.toolbar-toggle .mat-button-toggle.dropdown{width:20px}.mat-button-toggle-group.toolbar-toggle .mat-button-toggle.dropdown.active{background:#eee}.mat-button-toggle-group.toolbar-toggle .mat-button-toggle.dropdown .drop-arrow{position:relative;right:2px}.mat-button-toggle-group.toolbar-toggle .mat-button-toggle.dropdown .mat-button-toggle-label-content{padding:0}.nested-toolbar.active{background:#eee}.nested-toolbar .tool-hotkey{margin-left:5px}.tool-icon{stroke:#777}.tool-icon.active{stroke:#1fb6ff}"],encapsulation:2}),t})();const R6=["menu"],F6=["childMenu"];function L6(t,e){if(1&t&&(Ls(0,"mat-icon"),Ca(1),Bs()),2&t){const t=Ys(2).$implicit;vr(1),xa(t.checked?"check":"")}}function B6(t,e){if(1&t){const t=Vs();js(0),Ls(1,"button",3),$s("click",(function(){Qe(t);const e=Ys().$implicit;return Ys(2).emitAction(e.action,e.payload)}))("keyboardAction",(function(e){return Qe(t),Ys(3).emitAction(e.action,e.payload)})),Is(2,L6,2,1,"mat-icon",2),Ls(3,"div",4),Ls(4,"span",5),Ca(5),Xl(6,"translate"),Bs(),Ls(7,"span",6),Ca(8),Bs(),Bs(),Bs(),Ls(9,"au-action-dropdown",7,8),$s("clickAction",(function(e){return Qe(t),Ys(3).emitAction(e.action,e.payload)})),Bs(),zs()}if(2&t){const t=As(10),e=Ys().$implicit,n=Ys(2);vr(1),Rs("disabled",e.disable)("matMenuTriggerFor",t.menu),vr(1),Rs("ngIf",n.model.isCheckedBranch(n.curItems)),vr(3),xa(Kl(6,7,e.name)),vr(3),xa(null==e.hotkey?null:e.hotkey.label),vr(1),Rs("model",n.model)("items",e.children)}}function N6(t,e){if(1&t&&(Ls(0,"mat-icon"),Ca(1),Bs()),2&t){const t=Ys(2).$implicit;vr(1),xa(t.checked?"check":"")}}function j6(t,e){if(1&t){const t=Vs();js(0),Ls(1,"button",9),$s("click",(function(){Qe(t);const e=Ys().$implicit;return Ys(2).emitAction(e.action,e.payload)}))("keyboardAction",(function(e){return Qe(t),Ys(3).emitAction(e.action,e.payload)})),Is(2,N6,2,1,"mat-icon",2),Ls(3,"div",4),Ls(4,"span",5),Ca(5),Xl(6,"translate"),Bs(),Ls(7,"span",6),Ca(8),Bs(),Bs(),Bs(),zs()}if(2&t){const t=Ys().$implicit,e=Ys(2);vr(1),Rs("disabled",t.disable),vr(1),Rs("ngIf",e.model.isCheckedBranch(e.curItems)),vr(3),xa(Kl(6,4,t.name)),vr(3),xa(null==t.hotkey?null:t.hotkey.label)}}function z6(t,e){if(1&t&&(js(0),Is(1,B6,11,9,"ng-container",2),Is(2,j6,9,6,"ng-container",2),zs()),2&t){const t=e.$implicit;vr(1),Rs("ngIf",t.children&&t.children.length>0),vr(1),Rs("ngIf",!t.children||0===t.children.length)}}function H6(t,e){1&t&&(js(0),Ls(1,"button",10),Ls(2,"div",4),Ls(3,"span",5),Ca(4),Xl(5,"translate"),Bs(),Ns(6,"span",6),Bs(),Bs(),zs()),2&t&&(vr(4),xa(Kl(5,1,"EMPTY_LABEL")))}function V6(t,e){1&t&&Ns(0,"mat-divider")}function U6(t,e){if(1&t&&(js(0),Is(1,z6,3,2,"ng-container",1),Is(2,H6,7,3,"ng-container",2),Is(3,V6,1,0,"mat-divider",2),zs()),2&t){const t=e.$implicit,n=e.index,i=Ys();vr(1),Rs("ngForOf",t.items),vr(1),Rs("ngIf",0===t.items.length),vr(1),Rs("ngIf",n!==i.curItems.length-1)}}let W6=(()=>{class t{constructor(t){this.keyboardActionSrv=t,this.clickAction=new Yl}get curItems(){return this.items?this.items:this.model.items}emitAction(t,e){this.clickAction.emit({action:t,payload:e})}}return t.\u0275fac=function(e){return new(e||t)(Ms(E6))},t.\u0275cmp=pe({type:t,selectors:[["au-action-dropdown"]],viewQuery:function(t,e){var n;1&t&&(lc(R6,!0),cc(F6,!0)),2&t&&(ac(n=fc())&&(e.menu=n.first),ac(n=fc())&&(e.childMenu=n.first))},inputs:{model:"model",items:"items"},outputs:{clickAction:"clickAction"},decls:3,vars:1,consts:[["menu","matMenu"],[4,"ngFor","ngForOf"],[4,"ngIf"],["mat-menu-item","","auWithKeyElem","",1,"dropdown-menu-option",3,"disabled","matMenuTriggerFor","click","keyboardAction"],[1,"labels"],[1,"label"],[1,"hotkey"],[3,"model","items","clickAction"],["childMenu",""],["mat-menu-item","","auWithKeyElem","",1,"dropdown-menu-option",3,"disabled","click","keyboardAction"],["mat-menu-item","","disabled","",1,"dropdown-menu-option"]],template:function(t,e){1&t&&(Ls(0,"mat-menu",null,0),Is(2,U6,4,3,"ng-container",1),Bs()),2&t&&(vr(2),Rs("ngForOf",e.curItems))},directives:[PT,Ch,Eh,bT,IT,t,oI,YA],pipes:[HR],styles:[".au-action-menu[_ngcontent-%COMP%]{width:160px}.dropdown-menu-option[_ngcontent-%COMP%]{height:28px;line-height:28px;min-width:140px;display:flex}.dropdown-menu-option[_ngcontent-%COMP%]:focus, .dropdown-menu-option[_ngcontent-%COMP%]:hover{background:#eee}.dropdown-menu-option[_ngcontent-%COMP%]   mat-icon[_ngcontent-%COMP%]{min-width:24px}.dropdown-menu-option[_ngcontent-%COMP%]   .labels[_ngcontent-%COMP%]{display:flex;justify-content:space-between;width:100%}.dropdown-menu-option[_ngcontent-%COMP%]   .labels[_ngcontent-%COMP%]   .hotkey[_ngcontent-%COMP%]{color:#777}.dropdown-menu-option[_ngcontent-%COMP%]   .labels[_ngcontent-%COMP%]   .label[_ngcontent-%COMP%]{margin-right:16px}"]}),t})(),$6=(()=>{class t extends mH{constructor(t,e,n,i,r){super(),this._keyboardActionSrv=t,this._viewerZoomSrv=e,this._viewerSettingsSrv=n,this._viewerSnapSrv=i,this._actionSrv=r,this.menu=new x2(TG),this.percent=new mp(100,[Pd.min(0),Pd.pattern(KG)]),this._keyboardActionSrv.registryKeysSet(this.menu.dropdownKeys,"ACTION_SERVICE"),this._viewerSnapSrv.$init.pipe($y(this.subscriber)).subscribe(t=>this.menu.switchOnItem(t)),this._viewerSettingsSrv.$init.pipe($y(this.subscriber)).subscribe(t=>this.menu.switchOnItem(t)),this._viewerZoomSrv.$zoomActionEmitter.pipe($y(this.subscriber)).subscribe(t=>this._switchToAction(t)),this._viewerSnapSrv.$snapActionEvt.pipe($y(this.subscriber)).subscribe(t=>this.menu.toggleItem(t)),this._viewerZoomSrv.$viewerZoomed.pipe($y(this.subscriber)).subscribe(t=>this.percent.setValue(t)),this._viewerSettingsSrv.$settingsEvt.pipe($y(this.subscriber)).subscribe(t=>this.menu.toggleItem(t))}emitAction({action:t}){this._actionSrv.handleAction(t)}changeZoomPercent(){if(this.percent.valid){const t=this._viewerZoomSrv.findActionByZoom(this.percent.value);this._switchToAction(t),this._viewerZoomSrv.setZoom(this._viewerZoomSrv.getPercentZoom(this.percent.value))}else this.percent.setValue(this._viewerZoomSrv.originalZoomValue)}wheelZoomChange(t){t.deltaY<0?this.percent.setValue(this.percent.value+5):Math.round(100*(this.percent.value-5)/100)>0?this.percent.setValue(this.percent.value-5):this.percent.setValue(0);const e=this._viewerZoomSrv.findActionByZoom(this.percent.value);this._switchToAction(e),this._viewerZoomSrv.setZoom(this._viewerZoomSrv.getPercentZoom(this.percent.value))}_switchToAction(t){this.menu.switchAll(!1,kG.Zoom),this.menu.switchOnItem(t)}}return t.\u0275fac=function(e){return new(e||t)(Ms(E6),Ms(D1),Ms(R1),Ms(F1),Ms("ACTION_SERVICE"))},t.\u0275cmp=pe({type:t,selectors:[["au-zoom-control"]],viewQuery:function(t,e){var n;1&t&&lc(W6,!0),2&t&&ac(n=fc())&&(e.menuComponent=n.first)},features:[Ia],decls:10,vars:3,consts:[[1,"zoom-control",3,"wheel"],[1,"au-editor-input-container"],["appearance","outline"],["matInput","","auKeyboardNoPropagation","","placeholder","0","type","number","step","1",3,"formControl","blur","keydown.enter"],[1,"suffix"],["mat-icon-button",""],["svgIcon","au-icon-drop",3,"matMenuTriggerFor"],[3,"model","clickAction"]],template:function(t,e){1&t&&(Ls(0,"div",0),$s("wheel",(function(t){return e.wheelZoomChange(t)})),Ls(1,"div",1),Ls(2,"mat-form-field",2),Ls(3,"input",3),$s("blur",(function(){return e.changeZoomPercent()}))("keydown.enter",(function(){return e.changeZoomPercent()})),Bs(),Bs(),Ls(4,"div",4),Ls(5,"span"),Ca(6,"%"),Bs(),Ls(7,"button",5),Ns(8,"mat-icon",6),Bs(),Bs(),Bs(),Bs(),Ls(9,"au-action-dropdown",7),$s("clickAction",(function(t){return e.emitAction(t)})),Bs()),2&t&&(vr(3),Rs("formControl",e.percent),vr(5),Rs("matMenuTriggerFor",e.menuComponent.menu),vr(1),Rs("model",e.menu))},directives:[iA,NA,Dd,pd,lq,bd,Mp,NT,oI,IT,W6],styles:[".menu-position-helper[_ngcontent-%COMP%]{visibility:hidden;position:fixed}.zoom-control[_ngcontent-%COMP%]{margin:0 1rem;height:100%;display:flex;align-items:center}.au-editor-input-container[_ngcontent-%COMP%]{width:100px}.au-editor-input-container[_ngcontent-%COMP%]   .mat-input-element[_ngcontent-%COMP%]{width:50px;text-align:end}.au-editor-input-container[_ngcontent-%COMP%]   .mat-icon-button[_ngcontent-%COMP%]{width:24px;height:24px;line-height:24px}mat-form-field[_ngcontent-%COMP%]   .mat-form-field-flex[_ngcontent-%COMP%] > .mat-form-field-infix[_ngcontent-%COMP%]{padding:7px 0!important;border-top:.5em}mat-form-field[_ngcontent-%COMP%]   .mat-form-field-flex[_ngcontent-%COMP%] > .mat-form-field-infix[_ngcontent-%COMP%]   .mat-input-element[_ngcontent-%COMP%]{text-align:end}mat-form-field[_ngcontent-%COMP%]   .mat-form-field-label-wrapper[_ngcontent-%COMP%]{top:-1.5em}mat-form-field[_ngcontent-%COMP%]   .mat-form-field-flex[_ngcontent-%COMP%] > .mat-form-field-suffix[_ngcontent-%COMP%]{top:0!important}mat-form-field[_ngcontent-%COMP%] > .mat-form-field-flex[_ngcontent-%COMP%] > .mat-form-field-outline[_ngcontent-%COMP%]{color:transparent}.suffix[_ngcontent-%COMP%]{display:flex;align-items:center}mat-form-field[_ngcontent-%COMP%] > .mat-form-field-appearance-outline.mat-form-field-can-float.mat-form-field-should-float[_ngcontent-%COMP%]   .mat-form-field-label[_ngcontent-%COMP%]{transform:translateY(-1.3em) scale(.75);width:133.33333%}mat-form-field[_ngcontent-%COMP%]{width:110px}mat-form-field[_ngcontent-%COMP%]   .mat-form-field-wrapper[_ngcontent-%COMP%]{padding-bottom:0}input[_ngcontent-%COMP%]::-webkit-inner-spin-button, input[_ngcontent-%COMP%]::-webkit-outer-spin-button{-webkit-appearance:none;margin:0}input[type=number][_ngcontent-%COMP%]{-moz-appearance:textfield}"]}),t})();function G6(t,e){if(1&t){const t=Vs();Ls(0,"button",7),$s("click",(function(){return Qe(t),Ys().displayWarnings()})),Xl(1,"translate"),Ls(2,"mat-icon"),Ca(3,"report_problem"),Bs(),Bs()}2&t&&Rs("matTooltip",Kl(1,1,"HAVE_WARNS_TOOLTIP"))}let q6=(()=>{class t extends gH{constructor(t,e,n,i,r,o,s,a,l){super(t),this._keyboardActionSrv=e,this._itemSrv=n,this._historySrv=i,this._modalSrv=r,this._productSrv=o,this._fontSrv=s,this._colorConvertSrv=a,this.toolbar=new O6(EG),this.historyToolbar=new O6(xG),this.ToolbarActions=wG,this._missFonts=[],this._profiles=[],this._itemSrv.$mouseBhvAction.pipe($y(this.subscriber)).subscribe(t=>{const e=this.toolbar.findIdByAction(t),n=this.toolbar.getByAction(t);this.toolbar.setCurNestedAction(e,n),this.toolbar.setActiveItemByAction(t)}),this._historySrv.$historyChanged.pipe($y(this.subscriber)).subscribe(()=>this.historyHandler()),this.store.pipe(cw(t=>t.ui.missingFonts),$y(this.subscriber)).subscribe(t=>this._missFonts=t.toArray()),l.$imageAction.pipe($y(this.subscriber)).subscribe(()=>this.reader.openDialog()),this._colorConvertSrv.profiles.pipe($y(this.subscriber)).subscribe(t=>this._profiles=t)}get haveWarns(){return!!this._missFonts.length}ngOnInit(){return vR(this,void 0,void 0,(function*(){this.toolbar.setActiveItemByAction(wG.Selection);const t=yield this._historySrv.canRedo,e=yield this._historySrv.canUndo;t||this.historyToolbar.disableItem(CG.Redo),e||this.historyToolbar.disableItem(CG.Undo),this._keyboardActionSrv.registryKeysSet(this.historyToolbar.dropdownKeys,JG),this._keyboardActionSrv.registryKeysSet(this.toolbar.dropdownKeys,"ACTION_SERVICE")}))}historyHandler(){return vR(this,void 0,void 0,(function*(){const t=yield this._historySrv.canRedo;(yield this._historySrv.canUndo)?this.historyToolbar.enableItem(CG.Undo):this.historyToolbar.disableItem(CG.Undo),t?this.historyToolbar.enableItem(CG.Redo):this.historyToolbar.disableItem(CG.Redo)}))}doToolbarAction(t){if(t===wG.Image)return void this.reader.openDialog();this._itemSrv.handleToolbarAction(t);const e=t=>{this._itemSrv.handleToolbarAction(wG.Selection),this.toolbar.setActiveItemByAction(wG.Selection),this.viewer.eventManager.removeMouseBehaviorCreateFinished(e)};this.viewer.eventManager.addMouseBehaviorCreateFinished(e)}doHistoryAction(t){this._historySrv.doAction(t)}upload(t){return vR(this,void 0,void 0,(function*(){if(t){this._modalSrv.showProductLoader();try{const e=yield this._itemSrv.uploadImage(t);M$(e)&&this._fontSrv.fixMissingFonts(e,()=>{}),e.name=t.name,yield this.viewer.commandManager.execute(VQ.addItems,{items:[e]}),yield this.viewer.commandManager.execute(UQ.editItems,{itemData:{location:{x:"50%",y:"50%"}},items:[e],applyParams:{changePosition:!0}}),this._itemSrv.handleToolbarAction(wG.Selection),this.toolbar.setActiveItemByAction(wG.Selection)}finally{this._modalSrv.closeProductLoader()}}}))}displayWarnings(){this._productSrv.showProductWarns()}displaySettings(){return vR(this,void 0,void 0,(function*(){this._modalSrv.showSettings(this._profiles)}))}}return t.\u0275fac=function(e){return new(e||t)(Ms(aw),Ms(E6),Ms(a2),Ms(JG),Ms(f1),Ms(u1),Ms(z$),Ms(m1),Ms("ACTION_SERVICE"))},t.\u0275cmp=pe({type:t,selectors:[["au-instruments-panel"]],viewQuery:function(t,e){var n;1&t&&cc(x6,!0),2&t&&ac(n=fc())&&(e.reader=n.first)},features:[Ia],decls:10,vars:12,consts:[[3,"toolbar","emitAction"],[3,"toolbar","stateless","emitAction"],[1,"d-flex"],["mat-icon-button","","color","warn","aria-label","Product warnings",3,"matTooltip","click",4,"ngIf"],["mat-icon-button","",3,"matTooltip","click"],[3,"svgIcon"],[3,"accept","selectFile"],["mat-icon-button","","color","warn","aria-label","Product warnings",3,"matTooltip","click"]],template:function(t,e){1&t&&(Ls(0,"au-toolbar",0),$s("emitAction",(function(t){return e.doToolbarAction(t)})),Bs(),Ls(1,"au-toolbar",1),$s("emitAction",(function(t){return e.doHistoryAction(t)})),Bs(),Ls(2,"div",2),Is(3,G6,4,3,"button",3),Ls(4,"button",4),$s("click",(function(){return e.displaySettings()})),Xl(5,"translate"),Xl(6,"translate"),Ns(7,"mat-icon",5),Bs(),Ns(8,"au-zoom-control"),Bs(),Ls(9,"au-file-reader",6),$s("selectFile",(function(t){return e.upload(t)})),Bs()),2&t&&(Rs("toolbar",e.toolbar),vr(1),Rs("toolbar",e.historyToolbar)("stateless",!0),vr(2),Rs("ngIf",e.haveWarns),vr(1),Rs("matTooltip",Kl(5,8,"Tooltips.SETTINGS")),ks("aria-label",Kl(6,10,"Tooltips.SETTINGS")),vr(3),Rs("svgIcon","au-settings"),vr(2),Rs("accept","*.jpg *.jpeg *.png"))},directives:[D6,Eh,NT,kM,oI,$6,x6],pipes:[HR],styles:["[_nghost-%COMP%]{width:100%;height:100%;display:flex;justify-content:space-between;box-sizing:border-box;border-bottom:1px solid #e5e5e5}input[_ngcontent-%COMP%]{display:none}"]}),t})(),X6=(()=>{class t{constructor(){this.position={x:0,y:0}}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275cmp=pe({type:t,selectors:[["au-context-position-helper"]],viewQuery:function(t,e){var n;1&t&&cc(IT,!0),2&t&&ac(n=fc())&&(e.contextMenu=n.first)},inputs:{position:"position",menu:"menu"},decls:1,vars:5,consts:[[1,"context-menu-helper",3,"matMenuTriggerFor"]],template:function(t,e){1&t&&Ns(0,"div",0),2&t&&(ca("left",e.position.x,"px")("top",e.position.y,"px"),Rs("matMenuTriggerFor",e.menu))},directives:[IT],styles:[".context-menu-helper[_ngcontent-%COMP%]{visibility:hidden;position:fixed}"]}),t})();const K6=["nameInp"];let Y6=(()=>{class t{constructor(){this.changeName=new Yl,this.cancel=new Yl,this.loseFocus=new Yl}ngOnInit(){this.formControl=new mp(this.name,[Pd.required,t=>t.value.trim()?null:{error:"Empty value"}]),this.focus()}finishEditItem(t){if(this.formControl.valid){const e=this.formControl.value;"keydown"===t.type?this.changeName.emit(e.trim()):this.loseFocus.emit(e.trim())}else this.cancelEditItem(t)}cancelEditItem(t){t.preventDefault(),this.cancel.emit()}focus(){this.nameInp.nativeElement.focus(),setTimeout(()=>this.nameInp.nativeElement.select())}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275cmp=pe({type:t,selectors:[["au-editable-item"]],viewQuery:function(t,e){var n;1&t&&lc(K6,!0),2&t&&ac(n=fc())&&(e.nameInp=n.first)},inputs:{name:"name"},outputs:{changeName:"changeName",cancel:"cancel",loseFocus:"loseFocus"},decls:3,vars:1,consts:[["appearance","outline"],["matInput","","auKeyboardNoPropagation","","type","text","autocomplete","off",3,"formControl","blur","keydown.enter","keydown.escape"],["nameInp",""]],template:function(t,e){1&t&&(Ls(0,"mat-form-field",0),Ls(1,"input",1,2),$s("blur",(function(t){return e.finishEditItem(t)}))("keydown.enter",(function(t){return e.finishEditItem(t)}))("keydown.escape",(function(t){return e.cancelEditItem(t)})),Bs(),Bs()),2&t&&(vr(1),Rs("formControl",e.formControl))},directives:[iA,NA,pd,lq,bd,Mp],styles:[".mat-form-field[_ngcontent-%COMP%]{width:calc(100% - 24px)}.mat-form-field-appearance-outline[_ngcontent-%COMP%]{line-height:14px!important}"]}),t})();function Q6(t,e){1&t&&(Ls(0,"mat-icon"),Ca(1,"check"),Bs())}let Z6=(()=>{class t extends Y6{constructor(){super(),this.active=!1}ngOnInit(){super.ngOnInit()}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275cmp=pe({type:t,selectors:[["au-page-edit-item"]],inputs:{active:"active"},features:[Ia],decls:7,vars:2,consts:[[1,"page-edit-item"],[1,"active-icon"],[4,"ngIf"],["appearance","outline"],["matInput","","auKeyboardNoPropagation","","type","text","autocomplete","off",3,"formControl","blur","keydown.enter","keydown.escape"],["nameInp",""]],template:function(t,e){1&t&&(Ls(0,"div",0),Ls(1,"div",1),Is(2,Q6,2,0,"mat-icon",2),Bs(),Ls(3,"div"),Ls(4,"mat-form-field",3),Ls(5,"input",4,5),$s("blur",(function(t){return e.finishEditItem(t)}))("keydown.enter",(function(t){return e.finishEditItem(t)}))("keydown.escape",(function(t){return e.cancelEditItem(t)})),Bs(),Bs(),Bs(),Bs()),2&t&&(vr(2),Rs("ngIf",e.active),vr(3),Rs("formControl",e.formControl))},directives:[Eh,iA,NA,pd,lq,bd,Mp,oI],styles:[".page-edit-item[_ngcontent-%COMP%]{height:36px;display:flex;justify-content:space-between;align-items:center;width:100%}.page-edit-item[_ngcontent-%COMP%]   .au-editor-input[_ngcontent-%COMP%]{width:calc(100% - 28px)}.page-edit-item[_ngcontent-%COMP%]   .active-icon[_ngcontent-%COMP%]{width:24px;height:24px;margin:0 10px}"]}),t})(),J6=(()=>{class t extends mH{constructor(t){super(),this._keyboardActionSrv=t,this._haveEvent=!1,this._keySet=[],this.keysEvent=new Yl,this._keyboardActionSrv.$keyboardEvents.pipe($y(this.subscriber)).pipe(Vy(t=>t.zone===this._zone)).subscribe(t=>this.keysEvent.emit(t))}set auDeclareKeyboardZone(t){this._zone=t,this._registryKeysToZone()}set setKeySet(t){t&&t.length&&(this._keySet=t,this._registryKeysToZone())}onKeydown(t){const e=this._keyboardActionSrv.handleKeyPressing(t,this._zone);e&&e.zone===this._zone&&(this._haveEvent=!0,t.stopPropagation())}onKeyup(t){this._keyboardActionSrv.handleKeyUp(t),this._haveEvent&&(this._haveEvent=!1,t.stopPropagation())}onMouseDown(t){const e=this._keyboardActionSrv.handleMouseDown(t,this._zone);e&&e.zone===this._zone&&(this._haveEvent=!0,t.stopPropagation())}onMouseUp(t){this._keyboardActionSrv.handleMouseUp(t),this._haveEvent&&(this._haveEvent=!1,t.stopPropagation())}onWheel(t){const e=this._keyboardActionSrv.handleWheel(t,this._zone);this._stopPropagation(e,t)}onClick(t){const e=this._keyboardActionSrv.handleClick(t,this._zone);this._stopPropagation(e,t)}onDbClick(t){const e=this._keyboardActionSrv.handleDbClick(t,this._zone);this._stopPropagation(e,t)}_stopPropagation(t,e){t&&t.zone===this._zone&&e.stopPropagation()}_registryKeysToZone(){this._zone&&this._keySet.length&&this._keySet.forEach(t=>this._keyboardActionSrv.registryKeys(Object.assign(Object.assign({},t),{zone:this._zone})))}}return t.\u0275fac=function(e){return new(e||t)(Ms(E6))},t.\u0275dir=be({type:t,selectors:[["","auDeclareKeyboardZone",""]],hostBindings:function(t,e){1&t&&$s("keydown",(function(t){return e.onKeydown(t)}))("keyup",(function(t){return e.onKeyup(t)}))("mousedown",(function(t){return e.onMouseDown(t)}))("mouseup",(function(t){return e.onMouseUp(t)}))("wheel",(function(t){return e.onWheel(t)}))("click",(function(t){return e.onClick(t)}))("dbclick",(function(t){return e.onDbClick(t)}))},inputs:{auDeclareKeyboardZone:"auDeclareKeyboardZone",setKeySet:"setKeySet"},outputs:{keysEvent:"keysEvent"},features:[Ia]}),t})(),t8=(()=>{class t{constructor(){this.tooltipDelay=ZG.TOOLTIP_DELAY,this.newItem=new Yl}addNew(){this.newItem.emit()}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275cmp=pe({type:t,selectors:[["au-add-new-panel"]],inputs:{label:"label",tooltip:"tooltip"},outputs:{newItem:"newItem"},decls:7,vars:7,consts:[[1,"add-bar"],["mat-icon-button","",3,"matTooltip","matTooltipShowDelay","click"],["svgIcon","au-icon-plus"]],template:function(t,e){1&t&&(Ls(0,"div",0),Ls(1,"span"),Ca(2),Xl(3,"translate"),Bs(),Ls(4,"button",1),$s("click",(function(){return e.addNew()})),Xl(5,"translate"),Ns(6,"mat-icon",2),Bs(),Bs()),2&t&&(vr(2),xa(Kl(3,3,e.label)),vr(2),Rs("matTooltip",Kl(5,5,e.tooltip))("matTooltipShowDelay",e.tooltipDelay))},directives:[NT,kM,oI],pipes:[HR],styles:[".add-bar[_ngcontent-%COMP%]{display:flex;justify-content:space-between;align-items:center;padding:0 4px 0 12px;border-bottom:1px solid #e5e5e5}.add-bar[_ngcontent-%COMP%]   mat-icon[_ngcontent-%COMP%]{stroke:#777}"],changeDetection:0}),t})();const e8=["pageItem"];function n8(t,e){1&t&&(Ls(0,"mat-icon"),Ca(1,"check"),Bs())}let i8=(()=>{class t{constructor(){this.selectItem=new Yl,this.contextMenu=new Yl,this.rename=new Yl,this.clicks=0}set focus(t){t&&this.pageItem.nativeElement.focus()}clickSurface(){this.clicks++,setTimeout(()=>{this.clicks<2&&this.selectItem.emit(),this.clicks=0},ZG.DBL_CLICK_TIME)}displayMenu(t){this.contextMenu.emit(t)}renameItem(){this.rename.emit()}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275cmp=pe({type:t,selectors:[["au-page-item"]],viewQuery:function(t,e){var n;1&t&&lc(e8,!0),2&t&&ac(n=fc())&&(e.pageItem=n.first)},inputs:{surface:"surface",index:"index",active:"active",focus:"focus"},outputs:{selectItem:"selectItem",contextMenu:"contextMenu",rename:"rename"},decls:6,vars:4,consts:[[1,"page-item","d-flex","justify-content-between","align-items-center",3,"matTooltip","tabindex","click","contextmenu","dblclick"],["pageItem",""],[1,"active-icon"],[4,"ngIf"],[1,"page-name","text-nowrap","overflow-hidden"]],template:function(t,e){1&t&&(Ls(0,"div",0,1),$s("click",(function(){return e.clickSurface()}))("contextmenu",(function(t){return e.displayMenu(t)}))("dblclick",(function(){return e.renameItem()})),Ls(2,"div",2),Is(3,n8,2,0,"mat-icon",3),Bs(),Ls(4,"div",4),Ca(5),Bs(),Bs()),2&t&&(Rs("matTooltip",e.surface.name)("tabindex",e.index+1),vr(3),Rs("ngIf",e.active),vr(2),xa(e.surface.name))},directives:[kM,Eh,oI],styles:["[_nghost-%COMP%]{width:100%;display:block}.page-item[_ngcontent-%COMP%]{height:32px;width:100%;color:rgba(0,0,0,.87);box-sizing:border-box;font-size:14px;outline-color:#1fb6ff}.page-item[_ngcontent-%COMP%]:hover{background:#eee}.page-item[_ngcontent-%COMP%]   .page-name[_ngcontent-%COMP%]{width:100%;text-overflow:ellipsis}.page-item[_ngcontent-%COMP%]   .active-icon[_ngcontent-%COMP%]{width:31px;height:24px;margin:0 15px}"]}),t})();function r8(t,e){if(1&t){const t=Vs();Ls(0,"au-page-item",9),$s("rename",(function(){Qe(t);const e=Ys().$implicit;return Ys().rename(e)}))("contextMenu",(function(e){Qe(t);const n=Ys().$implicit;return Ys().displayMenu(e,n)}))("selectItem",(function(){Qe(t);const e=Ys().index;return Ys().selectPage(e)})),Bs()}if(2&t){const t=Ys(),e=t.index,n=t.$implicit,i=Ys();Rs("cdkDragDisabled",i.disabledDrag)("focus",i.focusedIndex===e)("active",i.isActive(e))("surface",n)("index",e)}}function o8(t,e){if(1&t){const t=Vs();Ls(0,"au-page-edit-item",10),$s("changeName",(function(e){Qe(t);const n=Ys(),i=n.$implicit,r=n.index;return Ys().changeName(e,i,r)}))("loseFocus",(function(e){Qe(t);const n=Ys(),i=n.$implicit,r=n.index;return Ys().editableItemLoseFocus(e,i,r)}))("cancel",(function(){Qe(t);const e=Ys().$implicit;return Ys().cancelRename(e)})),Bs()}if(2&t){const t=Ys(),e=t.index,n=t.$implicit;Rs("active",Ys().isActive(e))("name",n.name)}}function s8(t,e){if(1&t&&(js(0),Is(1,r8,1,5,"au-page-item",7),Is(2,o8,1,2,"au-page-edit-item",8),zs()),2&t){const t=e.$implicit,n=Ys();vr(1),Rs("ngIf",n.editableItemPage.item!==t),vr(1),Rs("ngIf",n.editableItemPage.item===t)}}let a8=(()=>{class t extends gH{constructor(t,e){super(t),this._store=t,this._pagesSrv=e,this.keys=[DG,LG,FG,RG,BG,jG,zG],this.edges={bottom:!0,right:!1,top:!1,left:!1},this.zoneName="PAGES_KEYBOARD_ZONE",this.menuModel=new x2,this.contextMenuPosition={x:0,y:0},this.surfaces=[],this.panelHeight="auto",this._updateSurfaces=()=>this.surfaces=null!=this._surfacesCollection?this._surfacesCollection.toArray():[],t.pipe(cw(t=>t.templateEditor.editedSurface)).pipe($y(this.subscriber)).subscribe(t=>this.editableItemPage=t)}set surfacesCollection(t){null!=this._surfacesCollection&&this._surfacesCollection.remove_collectionChanged(this._updateSurfaces),this._surfacesCollection=t,this._updateSurfaces(),null!=this._surfacesCollection&&this._surfacesCollection.add_collectionChanged(this._updateSurfaces)}isActive(t){return this.currentSurfaceIndex===t}get disabledDrag(){return!!this.editableItemPage.item}dropItem({currentIndex:t,previousIndex:e}){const n=this.product.surfaces.get(e),i=this.product.surfaces.get(t),r=this.product.surfaces.toArray();r[t]=n,r[e]=i,this.product.surfaces=new JH(r),t===this.currentSurfaceIndex?this._pagesSrv.setSurface(e):e===this.currentSurfaceIndex&&this._pagesSrv.setSurface(t),this._updateSurfaces()}addNew(){this._timerId&&(clearTimeout(this._timerId),this._timerId=null,this.editableComponent&&this.editableComponent.focus()),this.editableItemPage.isNew||this._pagesSrv.addNewItem()}rename(t){this._store.dispatch(CH({editedSurface:{item:t,isNew:!1}}))}doSurfaceAction(t){this._pagesSrv.handle(t)}changeName(t,e,n){e.name=t,this.editableItemPage.isNew&&(this.focusedIndex=n,this._pagesSrv.setSurface(n)),this._store.dispatch(CH({editedSurface:{}}))}editableItemLoseFocus(t,e,n){this._timerId=setTimeout(()=>this.changeName(t,e,n),ZG.DBL_CLICK_TIME)}cancelRename(t){this.editableItemPage.isNew&&this.product.surfaces.remove(t),this._store.dispatch(CH({editedSurface:{}}))}selectPage(t){this.focusedIndex=t,this._pagesSrv.setSurface(t)}handleKeyboardEvents(t){switch(t.action){case MG.UpKeyAction:Number.isInteger(this.focusedIndex)&&this.focusedIndex>0?this.focusedIndex--:this.focusedIndex=0;break;case MG.DownKeyAction:Number.isInteger(this.focusedIndex)?this.focusedIndex+1>this.surfaces.length-1?this.focusedIndex=this.surfaces.length-1:this.focusedIndex++:this.focusedIndex=0;break;case MG.SpaceKeyAction:Number.isInteger(this.focusedIndex)&&this.selectPage(this.focusedIndex);break;case MG.NewKeyAction:this._pagesSrv.addNewItem();break;case MG.DeleteKeyAction:if(this.product.surfaces.length>1&&Number.isInteger(this.focusedIndex)){const t=this.product.surfaces.get(this.focusedIndex);this._pagesSrv.deleteSurface({index:this.focusedIndex,surface:t})}}}displayMenu(t,e){t.preventDefault(),this.menuModel=this._pagesSrv.makeMenu(e),this.contextMenuPosition.x=t.clientX,this.contextMenuPosition.y=t.clientY,this.helper.contextMenu.menuData={item:e},this.helper.menu.focusFirstItem("mouse"),this.helper.contextMenu.openMenu()}resizePanel(t){const e=this.parentHeight/2,{bottom:n}=t.edges;if(n<0){const t=parseInt(this.panelHeight,10)+n;this.panelHeight=`${t<75?75:t}px`}else n>75&&n<e&&(this.panelHeight=`${n}px`)}}return t.\u0275fac=function(e){return new(e||t)(Ms(aw),Ms(P6))},t.\u0275cmp=pe({type:t,selectors:[["au-pages-panel"]],viewQuery:function(t,e){var n;1&t&&(cc(X6,!0),lc(W6,!0),cc(Z6,!0)),2&t&&(ac(n=fc())&&(e.helper=n.first),ac(n=fc())&&(e.menu=n.first),ac(n=fc())&&(e.editableComponent=n.first))},inputs:{parentHeight:"parentHeight",surfacesCollection:"surfacesCollection"},features:[Ia],decls:7,vars:11,consts:[["mwlResizable","","perfectScrollbar","","tabindex","-1",1,"page-navigator",3,"resizeEdges","enableGhostResize","auDeclareKeyboardZone","setKeySet","resizing","keysEvent"],["parent",""],["label","PAGES_LABEL","tooltip","NEW_PAGE_TOOLTIP",3,"newItem"],["cdkDropList","",1,"drag-list",3,"cdkDropListData","cdkDropListDropped"],[4,"ngFor","ngForOf"],[3,"position","menu"],[3,"model","clickAction"],["cdkDrag","",3,"cdkDragDisabled","focus","active","surface","index","rename","contextMenu","selectItem",4,"ngIf"],[3,"active","name","changeName","loseFocus","cancel",4,"ngIf"],["cdkDrag","",3,"cdkDragDisabled","focus","active","surface","index","rename","contextMenu","selectItem"],[3,"active","name","changeName","loseFocus","cancel"]],template:function(t,e){1&t&&(Ls(0,"div",0,1),$s("resizing",(function(t){return e.resizePanel(t)}))("keysEvent",(function(t){return e.handleKeyboardEvents(t)})),Ls(2,"au-add-new-panel",2),$s("newItem",(function(){return e.addNew()})),Bs(),Ls(3,"div",3),$s("cdkDropListDropped",(function(t){return e.dropItem(t)})),Is(4,s8,3,2,"ng-container",4),Bs(),Ns(5,"au-context-position-helper",5),Ls(6,"au-action-dropdown",6),$s("clickAction",(function(t){return e.doSurfaceAction(t)})),Bs(),Bs()),2&t&&(ca("height",e.panelHeight),Rs("resizeEdges",e.edges)("enableGhostResize",!1)("auDeclareKeyboardZone",e.zoneName)("setKeySet",e.keys),vr(3),Rs("cdkDropListData",e.surfaces),vr(1),Rs("ngForOf",e.surfaces),vr(1),Rs("position",e.contextMenuPosition)("menu",e.menu.menu),vr(1),Rs("model",e.menuModel))},directives:[P1,J6,t8,Rv,Ch,X6,W6,Eh,i8,Iv,Z6],styles:["[_nghost-%COMP%]{display:block;width:100%;border-bottom:1px solid #e5e5e5}.drag-list[_ngcontent-%COMP%]{padding:1px;max-width:100%;max-height:calc(100% - 43px);display:block;background:#fff;overflow-y:auto}.page-navigator[_ngcontent-%COMP%]{outline:none;overflow:auto}au-page-item[_ngcontent-%COMP%]{cursor:move}.cdk-drag-preview[_ngcontent-%COMP%]{box-sizing:border-box;border-radius:4px;box-shadow:0 5px 5px -3px rgba(0,0,0,.2),0 8px 10px 1px rgba(0,0,0,.14),0 3px 14px 2px rgba(0,0,0,.12)}.cdk-drag-placeholder[_ngcontent-%COMP%]{opacity:0}.cdk-drag-animating[_ngcontent-%COMP%]{transition:transform .25s cubic-bezier(0,0,.2,1)}au-page-item[_ngcontent-%COMP%]:last-child{border:none}.drag-list.cdk-drop-list-dragging[_ngcontent-%COMP%]   au-page-item[_ngcontent-%COMP%]:not(.cdk-drag-placeholder){transition:transform .25s cubic-bezier(0,0,.2,1)}mwlresizable[_ngcontent-%COMP%]{box-sizing:border-box}"]}),t})();const l8=(t,e,n)=>({id:n,name:t,original:e,children:[]}),c8=(t,e)=>{(D$(t)||M$(t))&&t.items.toArray().reverse().forEach(t=>{const n=l8(t.type,t,t.id);e.children.push(n),M$(t)&&t.items.toArray().reverse().forEach(t=>{const e=l8(t.type,t,t.id);n.children.push(e),c8(t,e)})})},u8=({data:{original:t}})=>{var e;const n=t;return A$(n)?!n.locked&&!(null===(e=n.parentContainer)||void 0===e?void 0:e.locked):!n.locked},h8=({data:{original:t}},{parent:e})=>{const{original:n,virtual:i}=e.data,r=!(D$(n)&&n.locked),o=!(M$(t)&&!M$(n)),s=!(A$(t)&&A$(n)),a=!(A$(t)&&A$(n)&&!i&&n.parentGroupItem),l=!(D$(t)&&!i);return r&&o&&a&&l&&s},d8=t=>{if(M$(t)&&0===t.items.length){const e=t;e.parentGroupItem?(e.parentGroupItem.items.remove(e),d8(e.parentGroupItem||e.parentContainer)):e.parentContainer.items.remove(e)}if(D$(t)){const e=t;let n;e.items.forEach(t=>{M$(t)&&0===t.items.length&&(n=t)}),n&&e.items.remove(n)}},p8=(t,e)=>t-e-1,f8={leading:!0,trailing:!1};function m8(t,e=f8){return n=>n.lift(new g8(t,e.leading,e.trailing))}class g8{constructor(t,e,n){this.durationSelector=t,this.leading=e,this.trailing=n}call(t,e){return e.subscribe(new y8(t,this.durationSelector,this.leading,this.trailing))}}class y8 extends R{constructor(t,e,n,i){super(t),this.destination=t,this.durationSelector=e,this._leading=n,this._trailing=i,this._hasValue=!1}_next(t){this._hasValue=!0,this._sendValue=t,this._throttled||(this._leading?this.send():this.throttle(t))}send(){const{_hasValue:t,_sendValue:e}=this;t&&(this.destination.next(e),this.throttle(e)),this._hasValue=!1,this._sendValue=null}throttle(t){const e=this.tryDurationSelector(t);e&&this.add(this._throttled=D(this,e))}tryDurationSelector(t){try{return this.durationSelector(t)}catch(e){return this.destination.error(e),null}}throttlingDone(){const{_throttled:t,_trailing:e}=this;t&&t.unsubscribe(),this._throttled=null,e&&this.send()}notifyNext(t,e,n,i,r){this.throttlingDone()}notifyComplete(){this.throttlingDone()}}let _8=(()=>{class t{constructor(t,e){this._evtSrv=t,this._itemSrv=e;const n=this.collectEvensForUpdate();this.$updateTree=$(...n)}collectEvensForUpdate(){const t=this._evtSrv,e=this._itemSrv.$canvasAction;return e.pipe(Vy(t=>t===$$.GroupSelection)).subscribe(()=>console.warn("GroupSelection")),[t.$containerCollectionChanged,t.$currentItemChanged,t.$itemCollectionChanged,t.$itemRemoved,t.$addItem,e.pipe(Vy(t=>t===$$.GroupSelection),QP(1)),e.pipe(Vy(t=>t===$$.Ungroup),QP(1)),e.pipe(Vy(t=>t===$$.BringToForward),QP(1)),e.pipe(Vy(t=>t===$$.BringToFront),QP(1)),e.pipe(Vy(t=>t===$$.SendBack),QP(1)),e.pipe(Vy(t=>t===$$.SendBackward),QP(1)),this._itemSrv.$moveAction.pipe(QP(1)),this._itemSrv.$convertGroup.pipe(QP(1))]}}return t.\u0275fac=function(e){return new(e||t)(Kt(P2),Kt(a2))},t.\u0275prov=ht({token:t,factory:t.\u0275fac}),t})(),v8=(()=>{class t{constructor(t,e,n,i){this._store=t,this._keyboardActionSrv=n,this._pagesSrv=i,this._haveBuffer=!1,this._surfaces=[],t.pipe(cw(t=>t.templateEditor.viewer)).subscribe(t=>this._viewer=t),t.pipe(cw(t=>t.menus.haveBuffer)).subscribe(t=>this._haveBuffer=t),this._pagesSrv.$curSurface.subscribe(t=>this._surface=t),t.pipe(cw(t=>t.ui.surfaces)).subscribe(t=>this._surfaces=t.toArray()),e.$selectedItemsChanged.pipe(Vy(t=>t.length>0)).subscribe(t=>{const e=this.makeMenuByItem(t);this._keyboardActionSrv.registryKeysSet(e.dropdownKeys,"ACTION_SERVICE")})}isBelongToItem(t){return!!this._viewer.productHandler.findItemByHitTest(t.x,t.y)}isBelongToSelection(t){const{x:e,y:n}=this._viewer.pageToWorkspacePoint(t.x,t.y),i=this._viewer.canvas._selection.visibleRectangle;if(!i)return!1;const{bounds:{height:r,width:o},location:{x:s,y:a}}=i;return e>=s&&e<=s+o&&n>=a&&n<=a+r}makeMenuByPoint(t){if(t){let e;return this.isBelongToItem(t)&&(e=this._viewer.productHandler.findItemByHitTest(t.x,t.y)),this.isBelongToSelection(t)&&(e=this._viewer.selectedItems),e?this.makeMenuByItem(e,t):this._buildClipboardMenu()}return this._buildClipboardMenu()}makeMenuByItem(t,e){const n=new x2(bG);return this._updateMoveToPage(n,t),this._updateMoveToLayer(n,t),this._updateCut(n,t),n.addPayloadToAction(X$.Copy,t),n.addPayloadToAction($$.Duplicate,t),this._updatePaste(n,e),this._updateRename(n,t),this._updateGroup(n,t),this._updateUngroup(n,t),this._updateAlign(n,t),this._updateArrange(n,t),this._updateDelete(n,t),n.addPayloadToSegment(yG.S_BEHAVIOR,t),this._store.dispatch(l2({canvasCtxMenu:n})),n}_pagesSubMenu(t){const e=[];return this._surfaces.forEach(n=>{n!==this._surface&&e.push({payload:n,name:n.name,display:!0,action:G$.MoveToPage,children:this._layersOfPageMenu(n,t)})}),e}_layersOfPageMenu(t,e){return[{key:`S_CONTAINER_${t.id}`,items:t.containers.toArray().map(t=>(t=>({payload:new E2(e,t),name:t.name,action:`${G$.MoveToPagePayload}-${t.id}`,disable:t.locked}))(t))}]}_layersSubMenu(t){const e=[],n=Array.isArray(t)?t[0].parentContainer:t.parentContainer,i=e=>({payload:new E2(t,e),name:e.name,display:!0,disable:e.locked,action:`${G$.MoveToLayerPayload}-${e.id}`});return this._surface.containers.forEach(n?t=>{t!==n&&e.push(i(t))}:t=>e.push(i(t))),e}_isLockedParent(t,e){var n;Array.isArray(t)||(t.parentContainer.locked||(null===(n=t.parentGroupItem)||void 0===n?void 0:n.locked))&&e()}_updatePaste(t,e){this._haveBuffer&&e?t.enableItem(X$.Paste):t.disableItem(X$.Paste)}_updateMoveToPage(t,e){t.addItem(G$.MoveToPage,{key:yG.S_MOVE_TO_PAGE,items:this._pagesSubMenu(e)}),this._isLockedParent(e,()=>t.disableItem(G$.MoveToPage))}_updateCut(t,e){this._isLockedParent(e,()=>t.disableItem(X$.Cut)),t.addPayloadToAction(X$.Cut,e)}_updateGroup(t,e){this._isLockedParent(e,()=>t.disableItem($$.GroupSelection)),t.addPayloadToAction($$.GroupSelection,e)}_updateMoveToLayer(t,e){t.addItem(G$.MoveToLayer,{key:yG.S_MOVE_TO_LAYER,items:this._layersSubMenu(e)}),this._isLockedParent(e,()=>t.disableItem(G$.MoveToLayer))}_findContainerWithCurrentSelected(){const{selectedItems:t}=this._viewer;let e;return this._viewer.surface.containers.forEach(n=>{const i=t.map(t=>n===t.parentContainer).filter(t=>t);t.length===i.length&&(e=n)}),e}_buildClipboardMenu(){const t=new x2([{key:yG.S_BUFFER,items:[J$]}]);return this._disableCtxItemForDeselection(t),this._store.dispatch(c2({canvasClipboardCtxMenu:t})),t}_disableCtxItemForDeselection(t){this._haveBuffer?t.enableItem(X$.Paste):t.disableItem(X$.Paste)}_updateUngroup(t,e){(Array.isArray(e)?e.findIndex(t=>M$(t))>-1:M$(e))?(t.enableItem($$.Ungroup),t.addPayloadToAction($$.Ungroup,e)):t.disableItem($$.Ungroup)}_updateDelete(t,e){(Array.isArray(e)?e.map(t=>t.manipulationPermissions.allowDelete).reduce((t,e)=>t&&e):e.manipulationPermissions.allowDelete)?(t.enableItem($$.Delete),t.addPayloadToAction($$.Delete,e)):t.disableItem($$.Delete)}_updateArrange(t,e){var n;this._isLockedParent(e,()=>t.disableItem($$.Arrange)),Array.isArray(e)?e.findIndex(t=>{var e;return(null===(e=t.parentGroupItem)||void 0===e?void 0:e.type)===IW.type})>-1&&t.disableItem($$.Arrange):(null===(n=e.parentGroupItem)||void 0===n?void 0:n.type)===IW.type&&t.disableItem($$.Arrange),(Array.isArray(e)?e.map(t=>t.itemPermissions.allowZOrderChange).reduce((t,e)=>t&&e):e.itemPermissions.allowZOrderChange)?t.addPayloadToSegment(yG.S_ARRANGE,e):t.disableSegment(yG.S_ARRANGE)}_updateAlign(t,e){var n;this._isLockedParent(e,()=>t.disableItem(q$.Align)),Array.isArray(e)?e.findIndex(t=>{var e;return(null===(e=t.parentGroupItem)||void 0===e?void 0:e.type)===IW.type})>-1&&t.disableItem(q$.Align):(null===(n=e.parentGroupItem)||void 0===n?void 0:n.type)===IW.type&&t.disableItem(q$.Align);const i=t=>Array.isArray(e)?e.map(e=>e.manipulationPermissions[t]).reduce((t,e)=>t&&e):e.manipulationPermissions[t],r=()=>Array.isArray(e)?e:e?[e]:void 0;i("allowMoveHorizontal")?t.addPayloadToSegment(yG.S_ALIGN_X,r()):t.disableSegment(yG.S_ALIGN_X),i("allowMoveVertical")?t.addPayloadToSegment(yG.S_ALIGN_Y,r()):t.disableSegment(yG.S_ALIGN_Y)}_updateRename(t,e){const n=()=>{t.enableItem($$.Rename),t.addPayloadToAction($$.Rename,e)};Array.isArray(e)?1===e.length?n():t.disableItem($$.Rename):n()}}return t.\u0275fac=function(e){return new(e||t)(Kt(aw),Kt(P2),Kt(E6),Kt(P6))},t.\u0275prov=ht({token:t,factory:t.\u0275fac,providedIn:"root"}),t})();const b8=["itemMenu"],w8=["itemMenuHelper"];function C8(t,e){1&t&&Hs(0)}const x8=function(t){return{originalNode:t}};function E8(t,e){if(1&t&&(js(0),Ls(1,"div",15),Ls(2,"span",16),Ca(3),Bs(),Bs(),Is(4,C8,1,0,"ng-container",17),zs()),2&t){const t=Ys(2).$implicit,e=Ys(),n=As(8);vr(1),Rs("matTooltip",t.data.original.name)("matTooltipShowDelay",e.tooltipDelay),vr(2),xa(t.data.original.name),vr(1),Rs("ngTemplateOutlet",n)("ngTemplateOutletContext",Vl(5,x8,t.data.original))}}function S8(t,e){1&t&&Hs(0)}function P8(t,e){if(1&t&&(Ls(0,"div",18),Is(1,S8,1,0,"ng-container",17),Bs()),2&t){const t=Ys(2).$implicit;Ys();const e=As(10);vr(1),Rs("ngTemplateOutlet",e)("ngTemplateOutletContext",Vl(2,x8,t.data.original))}}const O8=function(t){return{"n-invisible":t}};function k8(t,e){if(1&t){const t=Vs();Ls(0,"div",12),$s("contextmenu",(function(e){Qe(t);const n=Ys().$implicit;return Ys().displayMenu(e,n)}))("dblclick",(function(){Qe(t);const e=Ys().$implicit;return Ys().renameLayer(e.data.original)}))("click",(function(e){Qe(t);const n=Ys().$implicit;return Ys().activateNode(n,e)})),Is(1,E8,5,7,"ng-container",13),Is(2,P8,2,4,"ng-template",null,14,_c),Bs()}if(2&t){const t=As(3),e=Ys().$implicit,n=Ys();Rs("ngClass",Vl(3,O8,!e.data.original.visible)),vr(1),Rs("ngIf",e.data.original!==n.editableItem.item)("ngIfElse",t)}}function T8(t,e){1&t&&Hs(0)}function I8(t,e){if(1&t&&(js(0),Ls(1,"div",15),Ns(2,"mat-icon",21),Ls(3,"span",16),Ca(4),Bs(),Bs(),Is(5,T8,1,0,"ng-container",17),zs()),2&t){const t=Ys(2).$implicit,e=Ys(),n=As(8);vr(1),Rs("matTooltip",t.data.original.name)("matTooltipShowDelay",e.tooltipDelay),vr(3),xa(t.data.original.name),vr(1),Rs("ngTemplateOutlet",n)("ngTemplateOutletContext",Vl(5,x8,t.data.original))}}function A8(t,e){1&t&&Hs(0)}function M8(t,e){if(1&t&&(Ls(0,"div",18),Ns(1,"mat-icon",21),Is(2,A8,1,0,"ng-container",17),Bs()),2&t){const t=Ys(2).$implicit;Ys();const e=As(10);vr(2),Rs("ngTemplateOutlet",e)("ngTemplateOutletContext",Vl(2,x8,t.data.original))}}function D8(t,e){if(1&t){const t=Vs();Ls(0,"div",19),$s("contextmenu",(function(e){Qe(t);const n=Ys().$implicit;return Ys().displayMenu(e,n)}))("dblclick",(function(){Qe(t);const e=Ys().$implicit;return Ys().rename(e.data.original)}))("click",(function(e){Qe(t);const n=Ys().$implicit;return Ys().activateNode(n,e)}))("mouseenter",(function(e){Qe(t);const n=Ys().$implicit;return Ys().highlightItem(n.data.original,e)}))("mouseleave",(function(e){Qe(t);const n=Ys().$implicit;return Ys().highlightItem(n.data.original,e)})),Is(1,I8,6,7,"ng-container",13),Is(2,M8,3,4,"ng-template",null,20,_c),Bs()}if(2&t){const t=As(3),e=Ys().$implicit,n=Ys();Rs("ngClass",Vl(3,O8,!e.data.original.visible)),vr(1),Rs("ngIf",e.data.original!==n.editableItem.item)("ngIfElse",t)}}function R8(t,e){1&t&&Hs(0)}function F8(t,e){if(1&t&&(js(0),Ls(1,"div",15),Ns(2,"mat-icon",24),Ls(3,"span",16),Ca(4),Bs(),Bs(),Is(5,R8,1,0,"ng-container",17),zs()),2&t){const t=Ys(2).$implicit,e=Ys(),n=As(8);vr(1),Rs("matTooltip",t.data.original.name)("matTooltipShowDelay",e.tooltipDelay),vr(1),Rs("svgIcon",e.selectItemIcon(t.data.original)),vr(2),xa(t.data.original.name),vr(1),Rs("ngTemplateOutlet",n)("ngTemplateOutletContext",Vl(6,x8,t.data.original))}}function L8(t,e){1&t&&Hs(0)}function B8(t,e){if(1&t&&(Ls(0,"div",18),Ns(1,"mat-icon",24),Is(2,L8,1,0,"ng-container",17),Bs()),2&t){const t=Ys(2).$implicit,e=Ys(),n=As(10);vr(1),Rs("svgIcon",e.selectItemIcon(t.data.original)),vr(1),Rs("ngTemplateOutlet",n)("ngTemplateOutletContext",Vl(3,x8,t.data.original))}}function N8(t,e){if(1&t){const t=Vs();Ls(0,"div",22),$s("contextmenu",(function(e){Qe(t);const n=Ys().$implicit;return Ys().displayMenu(e,n)}))("dblclick",(function(){Qe(t);const e=Ys().$implicit;return Ys().rename(e.data.original)}))("click",(function(e){Qe(t);const n=Ys().$implicit;return Ys().activateNode(n,e)}))("mouseenter",(function(e){Qe(t);const n=Ys().$implicit;return Ys().highlightItem(n.data.original,e)}))("mouseleave",(function(e){Qe(t);const n=Ys().$implicit;return Ys().highlightItem(n.data.original,e)})),Is(1,F8,6,8,"ng-container",13),Is(2,B8,3,5,"ng-template",null,23,_c),Bs()}if(2&t){const t=As(3),e=Ys().$implicit,n=Ys();Rs("ngClass",Vl(3,O8,!e.data.original.visible)),vr(1),Rs("ngIf",e.data.original!==n.editableItem.item)("ngIfElse",t)}}function j8(t,e){if(1&t&&(js(0,8),Is(1,k8,4,5,"div",9),Is(2,D8,4,5,"div",10),Is(3,N8,4,5,"div",11),zs()),2&t){const t=e.$implicit,n=Ys();Rs("ngSwitch",n.checkItemType(t.data.original)),vr(1),Rs("ngSwitchCase",n.ItemType.Container),vr(1),Rs("ngSwitchCase",n.ItemType.Group)}}const z8=function(t){return{visible:t}};function H8(t,e){if(1&t){const t=Vs();Ls(0,"div",25),Ls(1,"button",26),$s("click",(function(n){Qe(t);const i=e.originalNode;return Ys().switchLock(n,i)})),Xl(2,"translate"),Xl(3,"translate"),Xl(4,"translate"),Xl(5,"translate"),Ns(6,"mat-icon",27),Bs(),Ls(7,"button",26),$s("click",(function(n){Qe(t);const i=e.originalNode;return Ys().switchVisible(n,i)})),Xl(8,"translate"),Xl(9,"translate"),Xl(10,"translate"),Xl(11,"translate"),Ns(12,"mat-icon",27),Bs(),Bs()}if(2&t){const t=e.originalNode,n=Ys();vr(1),Rs("matTooltipShowDelay",n.tooltipDelay)("matTooltip",t.locked?Kl(2,10,"UNLOCK_ITEM_TOOLTIP"):Kl(3,12,"LOCK_ITEM_TOOLTIP"))("ngClass",Vl(26,z8,t.locked)),ks("aria-label",t.locked?Kl(4,14,"UNLOCK_ITEM_TOOLTIP"):Kl(5,16,"LOCK_ITEM_TOOLTIP")),vr(5),Rs("svgIcon",t.locked?"au-icon-locked":"au-icon-unlocked"),vr(1),Rs("matTooltipShowDelay",n.tooltipDelay)("matTooltip",t.visible?Kl(8,18,"HIDE_ITEM_TOOLTIP"):Kl(9,20,"SHOW_ITEM_TOOLTIP"))("ngClass",Vl(28,z8,!t.visible)),ks("aria-label",t.visible?Kl(10,22,"HIDE_ITEM_TOOLTIP"):Kl(11,24,"SHOW_ITEM_TOOLTIP")),vr(5),Rs("svgIcon",t.visible?"au-icon-visible":"au-icon-hidden")}}function V8(t,e){if(1&t){const t=Vs();Ls(0,"au-editable-item",28),$s("cancel",(function(){Qe(t);const n=e.originalNode;return Ys().cancelEditItem(n)}))("changeName",(function(n){Qe(t);const i=e.originalNode;return Ys().finishEditItem(n,i)}))("loseFocus",(function(n){Qe(t);const i=e.originalNode;return Ys().editableItemLoseFocus(n,i)})),Bs()}2&t&&Rs("name",e.originalNode.name)}let U8=(()=>{class t extends mH{constructor(t,e,n,i,r,o,s,a){super(),this._viewerSrv=t,this._itemSrv=e,this._store=n,this._itemMenuSrv=i,this._layerSrv=r,this._pagesSrv=o,this._layersTreeSrv=s,this._actionSrv=a,this.ItemType=I$,this.tooltipDelay=ZG.TOOLTIP_DELAY,this.tree=[],this.currentMenu=new x2,this.options={allowDrop:h8,allowDrag:u8,actionMapping:{mouse:{click:()=>null}}},this.contextMenuPosition={x:0,y:0},this._ignoreNext=!1,this._updateTree=()=>{this._surfaceInst&&(this.tree=this._initLayersTree(this._surfaceInst))}}ngOnInit(){this._pagesSrv.$curSurface.pipe($y(this.subscriber),Vy(t=>!!t)).subscribe(t=>{this._surfaceInst=t,this.tree=this._initLayersTree(t)}),this._store.pipe(cw(t=>t.templateEditor.viewer),Vy(t=>!!t)).subscribe(t=>{this.currentLayer=t.userEditContainer,setTimeout(()=>this.activateLayer(t.userEditContainer),0)}),this._store.pipe(cw(t=>t.templateEditor.curLayer),Vy(t=>!!t),$y(this.subscriber)).subscribe(t=>{this._ignoreNext?this._ignoreNext=!1:(this.currentLayer=t,this.activateLayer(t))}),this._store.pipe(cw(t=>t.templateEditor.editedItem),$y(this.subscriber)).subscribe(t=>this._setEditableItem(t)),this._layersTreeSrv.$updateTree.pipe($y(this.subscriber),m8(()=>N_(1))).subscribe(()=>this._updateTree()),this._itemSrv.$canvasAction.pipe(Vy(t=>!!t),$y(this.subscriber)).subscribe(t=>this.handleKeys(t)),this._layerSrv.$selectItems.pipe($y(this.subscriber)).subscribe(t=>{const{treeModel:e}=this.treeComponent;let n;e.activeNodes.forEach(t=>e.setActiveNode(t,!1,!0)),t.forEach(t=>{Object(j$.maybe)(e.getNodeById(t.id)).do({just:t=>e.setActiveNode(t,!0,!0),nothing:()=>{this._updateTree(),setTimeout(()=>e.setActiveNode(e.getNodeById(t.id),!0,!0),150)}}),n=t.parentContainer});const i=e.getFocusedNode();n?(this._ignoreNext=!0,this._layerSrv.selectLayer(n,!0),this.currentLayer=n,this.activateLayer(n)):this.activateLayer(this.currentLayer),i&&e.setFocusedNode(i)})}activateLayer(t){if(t){const{treeModel:e}=this.treeComponent,n=e.activeNodes.filter(t=>D$(t.data.original));n.length>0&&n.forEach(t=>e.setActiveNode(t,!1,!0)),Object(j$.maybe)(e.getNodeById(t.id)).do({just:t=>e.setActiveNode(t,!0,!0)})}}moveTreeItem(t,e,n){return vR(this,void 0,void 0,(function*(){const i=n.parent.original,r=e.parent.original,o=t.original,s=this._surfaceInst.containers.length,a=e.parent===n.parent&&D$(r),l=D$(r)&&D$(i)&&e.parent!==n.parent,c=M$(o)&&M$(i),u=M$(i)&&A$(o)&&D$(r),h=A$(o)&&M$(r)&&A$(i),d=A$(o)&&M$(r)&&D$(i),p=A$(o)&&M$(r)&&M$(i),f=A$(o)&&A$(i)&&D$(r);if(D$(o)){console.warn("--Move container--");const t=this._surfaceInst.containers.get(p8(s,e.index));if(this._surfaceInst.containers.length===p8(s,n.index))this._surfaceInst.containers.remove(t),this._surfaceInst.containers.insertAt(p8(s,n.index),[t]);else{const i=this._surfaceInst.containers.get(p8(s,n.index));this._surfaceInst.containers.remove(i),this._surfaceInst.containers.insertAt(p8(s,e.index),[i]),this._surfaceInst.containers.remove(t),this._surfaceInst.containers.insertAt(p8(s,n.index),[t])}this._updateTree()}else{if(a)return console.warn("--Move inside container--"),this._itemSrv.changeItemIndex(p8(r.items.length,e.index),p8(i.items.length,n.index),r),void this._updateTree();if(l)return console.warn("--Move item to another container--"),r.items.remove(o),i.items.insertAt(p8(i.length,n.index),o),this._viewerSrv.viewer.productHandler.redraw(),void this._updateTree();if(c)return console.warn("--Move group to group--"),i.items.add(o.clone()),this._viewerSrv.viewer.commandManager.execute(UQ.deleteItems,{items:[o]}),void this._updateTree();if(u)return console.warn("--Move item to group--"),r.items.remove(o),i.type===IW.type&&i.addItems([o],i.items.length,i.items.length),i.type===RU.type&&i.items.add(o),this._viewerSrv.viewer.productHandler.redraw(),void this._updateTree();if(h)return console.warn("--Move item from group to item--"),i.type===IW.type&&r.removeItems([o]),i.type===RU.type&&r.items.remove(o),yield this._viewerSrv.viewer.commandManager.execute(UQ.groupItems,{items:[i,o]}),d8(r),void this._updateTree();if(d){let t;return console.warn("--Move item from group to container--"),r.type===RU.type&&(t=r,t.items.remove(o)),r.type===IW.type&&(t=r,t.removeItems([o])),d8(t),i.items.insertAt(p8(i.length,n.index),[o]),this._viewerSrv.viewer.productHandler.redraw(),void this._updateTree()}if(p)return console.warn("--Move item from group to group--"),r.type===RU.type&&r.items.remove(o),r.type===IW.type&&r.removeItems(o),i.type===RU.type&&i.items.add(o),i.type===IW.type&&i.addItems([o],i.items.length,i.items.length),d8(r),this._initLayersTree(this._surfaceInst),this._updateTree(),void this._viewerSrv.redraw();f&&(console.warn("--Move item to item--"),o.parentContainer!==i.parentContainer&&(r.items.remove(o),i.parentContainer.items.add(o)),this._itemSrv.groupItems([t.original,n.parent.original]),this._updateTree())}}))}switchVisible(t,e){if(t.stopPropagation(),D$(e)&&this._layerSrv.switchLayerVisible(e),(A$(e)||M$(e))&&(this._itemSrv.switchItemVisible([e]),!e.visible)){const t=this.treeComponent.treeModel.getNodeById(e.id);this.treeComponent.treeModel.setActiveNode(t,!1,!0)}}switchLock(t,e){if(t.stopPropagation(),D$(e)&&this._layerSrv.switchLayerLock(e),(A$(e)||M$(e))&&(this._itemSrv.switchItemLock([e]),e.locked)){const t=this.treeComponent.treeModel.getNodeById(e.id);this.treeComponent.treeModel.setActiveNode(t,!1,!0)}}selectItemIcon(t){return(t=>{switch(L$(t)){case I$.Barcode:return"au-icon-bar";case I$.Image:return"au-icon-rectangle-sm";case I$.Line:return"au-icon-line";case I$.Shape:return"au-icon-rectangle-sm";case I$.Text:return"au-icon-text-sm"}})(t)}checkItemType(t){return L$(t)}finishEditItem(t,e){e.name=t,D$(e)&&(this.treeComponent.treeModel.activeNodes.forEach(t=>this.treeComponent.treeModel.setActiveNode(t,!1)),this._layerSrv.selectLayer(e,!1)),this._store.dispatch(xH({editedItem:{item:null}}))}cancelEditItem(t){this.editableItem.isNew&&this._surfaceInst.containers.remove(t),this._store.dispatch(xH({editedItem:{item:null}}))}handleAction({action:t}){this._actionSrv.handleAction(t)}rename(t){this._itemSrv.handleAction($$.Rename,t)}renameLayer(t){this._layerSrv.handleAction($$.Rename,t)}highlightItem(t,e){"mouseenter"===e.type?this._itemSrv.highlightItem(t):this._itemSrv.lowlightItem()}activateNode(t,e){e.stopPropagation(),this.treeComponent.treeModel.setFocusedNode(t),e.ctrlKey?(this._selectContainer(t,!0),this._selectItem(t,!0)):(this._selectContainer(t,!1),this._selectItem(t,!1))}switchSelectNode(t){this.treeComponent.treeModel.isActive(t)?(this.treeComponent.treeModel.setActiveNode(t,!1,!0),this._removeNodeFromSelection(t)):(this.treeComponent.treeModel.setActiveNode(t,!0,!0),this._addNodeToSelection(t))}displayMenu(t,e){const n=e.data.original;if(n!==this.editableItem.item){const i=this.treeComponent.treeModel.activeNodes.map(t=>t.data.original).filter(t=>!D$(t));this.currentMenu=D$(n)?this._layerSrv.buildMenu(n):this._itemMenuSrv.makeMenuByItem(i.includes(n)?i:n),t.preventDefault(),this.contextMenuPosition.x=t.clientX,this.contextMenuPosition.y=t.clientY,this.itemMenuHelper.menu.focusFirstItem("mouse"),this.treeComponent.treeModel.setSelectedNode(e,!0),this.itemMenuHelper.contextMenu.openMenu()}}editableItemLoseFocus(t,e){this.timerId=setTimeout(()=>this.finishEditItem(t,e),ZG.DBL_CLICK_TIME)}_selectContainer(t,e){const n=t.data.original;D$(n)&&(this._layerSrv.selectLayer(n,!1),this.treeComponent.treeModel.setActiveNode(t,!0,e))}_selectItem(t,e){const{treeModel:n}=this.treeComponent,i=t.data.original;if((A$(i)||M$(i))&&!i.locked&&i.visible){const r=i.parentGroupItem,o=i.parentContainer;if(this._layerSrv.selectLayer(o,!1),!o.locked&&o.visible){r?!r.locked&&r.visible&&(e?this._itemSrv.addToSelection([t.data.original]):this._itemSrv.selectItems([t.data.original]),n.setActiveNode(t,!0,e)):(e?this._itemSrv.addToSelection([t.data.original]):this._itemSrv.selectItems([t.data.original]),n.setActiveNode(t,!0,e));const i=n.getFocusedNode();this.activateLayer(this.currentLayer),n.setFocusedNode(i)}}}handleKeys(t){return vR(this,void 0,void 0,(function*(){const{treeModel:e}=this.treeComponent;switch(t){case MG.UpKeyAction:e.focusPreviousNode();break;case MG.DownKeyAction:e.focusNextNode();break;case MG.LeftKeyAction:this.treeComponent.treeModel.focusDrillUp();break;case MG.RightKeyAction:this.treeComponent.treeModel.focusDrillDown();break;case MG.EnterKeyAction:{const t=e.getFocusedNode();this._selectContainer(t,!1),this._selectItem(t,!1);break}case MG.SpaceKeyAction:{const t=e.getFocusedNode();(A$(t.data.original)||M$(t.data.original))&&this.switchSelectNode(t);break}case MG.CtrlDown:{const t=e.getFocusedNode();this.treeComponent.treeModel.setActiveNode(t,!0,!0),this._addNodeToSelection(t),e.focusNextNode();break}case MG.CtrlUp:{const t=e.getFocusedNode();this.treeComponent.treeModel.setActiveNode(t,!0,!0),this._addNodeToSelection(t),e.focusPreviousNode();break}case $$.ShowAndHide:{const t=e.getFocusedNode().data.original;yield this._itemSrv.switchItemVisible([t]),yield this._itemSrv.selectItems([t]);break}case $$.LockAndUnlock:{const t=e.getFocusedNode().data.original;yield this._itemSrv.switchItemLock([t]),yield this._itemSrv.selectItems([t]);break}}}))}_addNodeToSelection(t){const e=t.data.original;A$(e)&&this._itemSrv.addToSelection([e])}_removeNodeFromSelection(t){const e=t.data.original;A$(e)&&this._itemSrv.removeFromSelection([e])}_initLayersTree(t){const e=[];return t.containers.toArray().reverse().forEach(t=>{const n=l8(t.name,t,t.id);c8(t,n),e.push(n)}),e}_setEditableItem(t){this.editableItem=t,t.item&&setTimeout(()=>{const e=this.treeComponent.treeModel.getNodeById(t.item.id);this._expandParents(e)},150)}_expandParents(t){t.parent&&(t.parent.expand(),this._expandParents(t.parent))}}return t.\u0275fac=function(e){return new(e||t)(Ms(l1),Ms(a2),Ms(aw),Ms(v8),Ms(O2),Ms(P6),Ms(_8),Ms("ACTION_SERVICE"))},t.\u0275cmp=pe({type:t,selectors:[["au-layers-tree"]],viewQuery:function(t,e){var n;1&t&&(lc(b8,!0),cc(w8,!0),lc(oP,!0),cc(Y6,!0)),2&t&&(ac(n=fc())&&(e.itemCtxMenu=n.first),ac(n=fc())&&(e.itemMenuHelper=n.first),ac(n=fc())&&(e.treeComponent=n.first),ac(n=fc())&&(e.editableComponent=n.first))},features:[Ga([_8]),Ia],decls:11,vars:5,consts:[[3,"nodes","options","moveNode"],["treeNodeTemplate",""],[3,"model","clickAction"],["itemMenu",""],[3,"position","menu"],["itemMenuHelper",""],["actionsTmp",""],["inputTmp",""],[3,"ngSwitch"],["class","tree-item container",3,"ngClass","contextmenu","dblclick","click",4,"ngSwitchCase"],["class","tree-item group",3,"ngClass","contextmenu","dblclick","click","mouseenter","mouseleave",4,"ngSwitchCase"],["class","tree-item object",3,"ngClass","contextmenu","dblclick","click","mouseenter","mouseleave",4,"ngSwitchDefault"],[1,"tree-item","container",3,"ngClass","contextmenu","dblclick","click"],[4,"ngIf","ngIfElse"],["editableContainer",""],[1,"tree-item-type","text-nowrap",3,"matTooltip","matTooltipShowDelay"],[1,"tree-item-name"],[4,"ngTemplateOutlet","ngTemplateOutletContext"],[1,"tree-item-editable"],[1,"tree-item","group",3,"ngClass","contextmenu","dblclick","click","mouseenter","mouseleave"],["editableGroup",""],["svgIcon","au-icon-group",1,"item-type-icon"],[1,"tree-item","object",3,"ngClass","contextmenu","dblclick","click","mouseenter","mouseleave"],["editItem",""],[1,"item-type-icon",3,"svgIcon"],[1,"tree-item-actions"],["mat-icon-button","",3,"matTooltipShowDelay","matTooltip","ngClass","click"],[3,"svgIcon"],[3,"name","cancel","changeName","loseFocus"]],template:function(t,e){1&t&&(Ls(0,"tree-root",0),$s("moveNode",(function(t){return e.moveTreeItem(t.node,t.from,t.to)})),Is(1,j8,4,3,"ng-template",null,1,_c),Bs(),Ls(3,"au-action-dropdown",2,3),$s("clickAction",(function(t){return e.handleAction(t)})),Bs(),Ns(5,"au-context-position-helper",4,5),Is(7,H8,13,30,"ng-template",null,6,_c),Is(9,V8,1,1,"ng-template",null,7,_c)),2&t&&(Rs("nodes",e.tree)("options",e.options),vr(3),Rs("model",e.currentMenu),vr(2),Rs("position",e.contextMenuPosition)("menu",e.itemCtxMenu.menu))},directives:[oP,W6,X6,kh,Th,Ih,vh,Eh,kM,Rh,oI,NT,Y6],pipes:[HR],styles:[".mat-form-field[_ngcontent-%COMP%]{width:calc(100% - 24px)}.mat-form-field-appearance-outline[_ngcontent-%COMP%]{line-height:14px!important}"]}),t})(),W8=(()=>{class t extends mH{constructor(t,e){super(),this._store=t,this._layerSrv=e,this.keys=[zG,DG,RG,FG,LG,$G,qG,GG,NG,jG,fG.hotkey,mG.hotkey],t.pipe(cw(t=>t.templateEditor.editedItem),$y(this.subscriber)).subscribe(t=>this._editableItem=t)}addNew(){this.layersTree.timerId&&(clearTimeout(this.layersTree.timerId),this.layersTree.timerId=null,this.layersTree.editableComponent&&this.layersTree.editableComponent.focus()),this._editableItem.isNew||this._layerSrv.addLayer(!0)}handleKeyEvent(t){switch(t.action){case MG.NewKeyAction:this._layerSrv.addLayer(!0);break;default:this.layersTree.handleKeys(t.action)}}}return t.\u0275fac=function(e){return new(e||t)(Ms(aw),Ms(O2))},t.\u0275cmp=pe({type:t,selectors:[["au-layers-panel"]],viewQuery:function(t,e){var n;1&t&&cc(U8,!0),2&t&&ac(n=fc())&&(e.layersTree=n.first)},features:[Ia],decls:3,vars:2,consts:[["tabindex","-1",1,"layers-container",3,"auDeclareKeyboardZone","setKeySet","keysEvent"],["label","LAYERS_LABEL","tooltip","NEW_LAYER_TOOLTIP",3,"newItem"]],template:function(t,e){1&t&&(Ls(0,"div",0),$s("keysEvent",(function(t){return e.handleKeyEvent(t)})),Ls(1,"au-add-new-panel",1),$s("newItem",(function(){return e.addNew()})),Bs(),Ns(2,"au-layers-tree"),Bs()),2&t&&Rs("auDeclareKeyboardZone","LAYERS_KEYBOARD_ZONE")("setKeySet",e.keys)},directives:[J6,t8,U8],styles:["[_nghost-%COMP%]{display:block;width:100%;border-right:1px solid #e5e5e5}.layers-container[_ngcontent-%COMP%]{outline:none}.layers-container[_ngcontent-%COMP%]   .layer-item[_ngcontent-%COMP%]{height:20px;border:1px solid #ff4500;margin-bottom:10px}au-layers-tree[_ngcontent-%COMP%]{display:block;height:calc(100% - 64px);width:240px;overflow-y:auto}"]}),t})();var $8=function(t){var e=typeof t;return null!=t&&("object"==e||"function"==e)},G8="object"==typeof global&&global&&global.Object===Object&&global,q8="object"==typeof self&&self&&self.Object===Object&&self,X8=G8||q8||Function("return this")(),K8=function(){return X8.Date.now()},Y8=X8.Symbol,Q8=Object.prototype,Z8=Q8.hasOwnProperty,J8=Q8.toString,t7=Y8?Y8.toStringTag:void 0,e7=Object.prototype.toString,n7=Y8?Y8.toStringTag:void 0,i7=/^\s+|\s+$/g,r7=/^[-+]0x[0-9a-f]+$/i,o7=/^0b[01]+$/i,s7=/^0o[0-7]+$/i,a7=parseInt,l7=function(t){if("number"==typeof t)return t;if(function(t){return"symbol"==typeof t||function(t){return null!=t&&"object"==typeof t}(t)&&"[object Symbol]"==function(t){return null==t?void 0===t?"[object Undefined]":"[object Null]":n7&&n7 in Object(t)?function(t){var e=Z8.call(t,t7),n=t[t7];try{t[t7]=void 0;var i=!0}catch(o){}var r=J8.call(t);return i&&(e?t[t7]=n:delete t[t7]),r}(t):function(t){return e7.call(t)}(t)}(t)}(t))return NaN;if($8(t)){var e="function"==typeof t.valueOf?t.valueOf():t;t=$8(e)?e+"":e}if("string"!=typeof t)return 0===t?t:+t;t=t.replace(i7,"");var n=o7.test(t);return n||s7.test(t)?a7(t.slice(2),n?2:8):r7.test(t)?NaN:+t},c7=Math.max,u7=Math.min;const h7=["viewerParent"];let d7=(()=>{class t extends gH{constructor(t,e,n,i,r,o,s){super(s),this._viewerSrv=t,this._itemCtxMenuSrv=e,this._viewerZoomSrv=n,this._clipboardSrv=i,this._colorConvertor=r,this._actionSrv=o,this.KEY_ZONE="VIEWER_KEY_ZONE",this.menuPosition={x:0,y:0},this.menu=new x2([]),this.keys=[VG,UG],this.setSelectedItem=()=>function(t,e,n){var i,r,o,s,a,l,c=0,u=!1,h=!1,d=!0;function p(e){var n=i,o=r;return i=r=void 0,c=e,s=t.apply(o,n)}function f(t){return c=t,a=setTimeout(g,e),u?p(t):s}function m(t){var n=t-l;return void 0===l||n>=e||n<0||h&&t-c>=o}function g(){var t=K8();if(m(t))return y(t);a=setTimeout(g,function(t){var n=e-(t-l);return h?u7(n,o-(t-c)):n}(t))}function y(t){return a=void 0,d&&i?p(t):(i=r=void 0,s)}function _(){var t=K8(),n=m(t);if(i=arguments,r=this,l=t,n){if(void 0===a)return f(l);if(h)return clearTimeout(a),a=setTimeout(g,e),p(l)}return void 0===a&&(a=setTimeout(g,e)),s}return e=l7(e)||0,$8(void 0)&&(u=!!(void 0).leading,o=(h="maxWait"in void 0)?c7(l7((void 0).maxWait)||0,e):o,d="trailing"in void 0?!!(void 0).trailing:d),_.cancel=function(){void 0!==a&&clearTimeout(a),c=0,i=l=r=a=void 0},_.flush=function(){return void 0===a?s:y(K8())},_}(t=>this.store.dispatch(wH({selectedItems:t})),10),this.store.pipe(cw(t=>t.templateEditor.configuration),Vy(t=>{var e;return!!t&&!!(null===(e=t.api)||void 0===e?void 0:e.designAtomsApiUrl)}),$y(this.subscriber)).subscribe(t=>this._applyViewerConfig(t)),this.viewer$.subscribe(t=>this.viewer=t)}_applyViewerConfig(t){var e,n,i,r,o;if(null===(e=this.viewerParent)||void 0===e?void 0:e.nativeElement){(null===(n=this.viewerParent)||void 0===n?void 0:n.nativeElement).innerHTML="",t.viewer=(r=t.viewer,o=null===(i=this.viewerParent)||void 0===i?void 0:i.nativeElement,Object(c1.merge)({},r,{options:{holderElement:o}})),null!=this.viewer&&this.viewer.dispose();const e=this._viewerSrv.initViewer(t);this.store.dispatch(_H({viewer:e}))}this._colorConvertor.init()}ngOnDestroy(){super.ngOnDestroy(),this.viewer.eventManager.removeSelectedItemChanged(this.setSelectedItem)}displayMenu(t){t.preventDefault(),this.menuPosition.x=t.clientX,this.menuPosition.y=t.clientY,this.menu=this._itemCtxMenuSrv.makeMenuByPoint(this.menuPosition),this.helper.menu.focusFirstItem("mouse"),this.helper.contextMenu.openMenu()}handleAction({action:t}){M1.isClipboardActions(t)&&t===X$.Paste?this._clipboardSrv.handleAction(t,null,{x:this.menuPosition.x,y:this.menuPosition.y}):this._actionSrv.handleAction(t)}handleKeys(t){this._viewerZoomSrv.handleZoomEvents(t.action)}}return t.\u0275fac=function(e){return new(e||t)(Ms(l1),Ms(v8),Ms(D1),Ms(w2),Ms(m1),Ms("ACTION_SERVICE"),Ms(aw))},t.\u0275cmp=pe({type:t,selectors:[["au-design-atoms-viewer"]],viewQuery:function(t,e){var n;1&t&&(lc(W6,!0),cc(X6,!0),cc(h7,!0)),2&t&&(ac(n=fc())&&(e.menuComponent=n.first),ac(n=fc())&&(e.helper=n.first),ac(n=fc())&&(e.viewerParent=n.first))},features:[Ia],decls:5,vars:5,consts:[[1,"wrapper",3,"auDeclareKeyboardZone","setKeySet","contextmenu","keysEvent"],[3,"position","menu"],[1,"viewer-parent"],["viewerParent",""],[3,"model","clickAction"]],template:function(t,e){1&t&&(Ls(0,"div",0),$s("contextmenu",(function(t){return e.displayMenu(t)}))("keysEvent",(function(t){return e.handleKeys(t)})),Ns(1,"au-context-position-helper",1),Ns(2,"div",2,3),Ls(4,"au-action-dropdown",4),$s("clickAction",(function(t){return e.handleAction(t)})),Bs(),Bs()),2&t&&(Rs("auDeclareKeyboardZone",e.KEY_ZONE)("setKeySet",e.keys),vr(1),Rs("position",e.menuPosition)("menu",e.menuComponent.menu),vr(3),Rs("model",e.menu))},directives:[J6,X6,W6],styles:["[_nghost-%COMP%]{border-bottom:1px solid #e0e0e0;box-sizing:border-box;position:relative;display:block;background-color:#f8f9fa}.viewer-parent[_ngcontent-%COMP%], .wrapper[_ngcontent-%COMP%], [_nghost-%COMP%]{height:100%}.wrapper[_ngcontent-%COMP%]{z-index:11;width:100%}.viewer-parent[_ngcontent-%COMP%]     div#cvWhitespace{outline:none!important}"]}),t})(),p7=(()=>{class t{constructor(t){this._subscriber=new x,this.tooltipDelay=ZG.TOOLTIP_DELAY,this.cdr=t.get(Xo),this._unit2pipe=t.get(I2),this._decimalPipe=t.get(Zh),this._propSrv=t.get(s2),this.$scroll=this._propSrv.$scrollPropContainer.pipe($y(this._subscriber)).pipe(m8(()=>N_(200)))}ngOnDestroy(){this._subscriber.next(null),this._subscriber.complete(),this._subscriber.unsubscribe()}detectAfterTimeout(){this.cdr.detectChanges(),this.timer&&clearTimeout(this.timer),this.timer=setTimeout(()=>this.cdr.detectChanges(),this.tooltipDelay+10)}_blur(t){t instanceof KeyboardEvent&&t.target.blur()}}return t.\u0275fac=function(e){return new(e||t)(Ms(us))},t.\u0275dir=be({type:t}),t})(),f7=(()=>{class t extends p7{constructor(t){super(t),this.showName=!0}get inpId(){if(this.property)return`${this.property.key}-${this.property.item.id}`}get item(){return this.property.item}ngOnDestroy(){super.ngOnDestroy()}collectValidators(){const{max:t,min:e,maxLength:n,unit:i}=this.property,r=[];return"number"==typeof t&&r.push(Pd.max(this._unit2pipe.value2unit(t,i))),"number"==typeof e&&r.push(Pd.min(this._unit2pipe.value2unit(e,i))),"number"==typeof n&&r.push(Pd.maxLength(n)),this.property instanceof X1&&r.push(Pd.pattern(KG)),r}}return t.\u0275fac=function(e){return new(e||t)(Ms(us))},t.\u0275dir=be({type:t,inputs:{property:"property",showName:"showName"},features:[Ia]}),t})(),m7=(()=>{class t{transform(t){if(t&&/^[a-z]([a-z]*([A-Z])?[a-z]*)*/.test(t)){const e=[];return t.split("").forEach(t=>{t===t.toUpperCase()?(e.push(" "),e.push(t.toLowerCase())):e.push(t)}),e[0]=e[0].toUpperCase(),e.join("").trim()}return t}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275pipe=we({name:"camel",type:t,pure:!0}),t})();function g7(t,e){if(1&t&&(Ls(0,"label",5),Ca(1),Xl(2,"camel"),Bs()),2&t){const t=Ys();Rs("for",t.inpId),vr(1),xa(Kl(2,2,t.property.displayName))}}let y7=(()=>{class t extends f7{constructor(t){super(t),this._onPropertyChanged=()=>{const t=Bq.getItemProperty(this.property.item,this.property.path);this.stringControl.setValue(t),this.cdr.detectChanges()}}ngOnInit(){this.$scroll.subscribe(()=>{this.tooltip.hide(),this.cdr.detectChanges()}),this.stringControl=new mp(this.property.value,this.collectValidators()),this.property.item.addPropertyChanged(this._onPropertyChanged)}ngOnDestroy(){super.ngOnDestroy(),this.property.item.removePropertyChanged(this._onPropertyChanged)}changeValue(){this.stringControl.valid&&(this.property.value=this.stringControl.value)}}return t.\u0275fac=function(e){return new(e||t)(Ms(us))},t.\u0275cmp=pe({type:t,selectors:[["au-string-input"]],viewQuery:function(t,e){var n;1&t&&cc(kM,!0),2&t&&ac(n=fc())&&(e.tooltip=n.first)},inputs:{property:"property"},features:[Ia],decls:7,vars:7,consts:[[1,"property-row","grid"],[3,"matTooltip","matTooltipShowDelay","mousemove","mouseleave"],["class","property-label",3,"for",4,"ngIf"],["appearance","outline"],["matInput","","auInputLimits","","auKeyboardNoPropagation","","autocomplete","off",3,"id","formControl","blur","input"],[1,"property-label",3,"for"]],template:function(t,e){1&t&&(Ls(0,"div",0),Ls(1,"div",1),$s("mousemove",(function(){return e.detectAfterTimeout()}))("mouseleave",(function(){return e.cdr.detectChanges()})),Xl(2,"camel"),Is(3,g7,3,4,"label",2),Bs(),Ls(4,"div"),Ls(5,"mat-form-field",3),Ls(6,"input",4),$s("blur",(function(){return e.cdr.detectChanges()}))("input",(function(){return e.changeValue()})),Bs(),Bs(),Bs(),Bs()),2&t&&(vr(1),Rs("matTooltip",Kl(2,5,e.property.tooltip))("matTooltipShowDelay",e.tooltipDelay),vr(2),Rs("ngIf",e.showName),vr(3),Rs("id",e.inpId)("formControl",e.stringControl))},directives:[kM,Eh,iA,NA,pd,lq,bd,Mp],pipes:[m7],styles:["",".property-label[_ngcontent-%COMP%]{font-size:14px;line-height:20px;font-family:Roboto;margin:6px 0}.property-row[_ngcontent-%COMP%]{align-items:center;margin-bottom:8px}.property-row[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]{overflow:hidden;width:100%;text-overflow:ellipsis}.property-row[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]   .mat-form-field[_ngcontent-%COMP%]{width:100%}.property-row.grid[_ngcontent-%COMP%]{display:grid;grid-template-columns:50% 50%}.property-row.flex[_ngcontent-%COMP%]{display:flex;justify-content:space-between}"]}),t})();function _7(t,e){if(1&t&&(Ls(0,"label",5),Ca(1),Xl(2,"camel"),Bs()),2&t){const t=Ys();Rs("for",t.inpId),vr(1),xa(Kl(2,2,t.property.displayName))}}let v7=(()=>{class t extends f7{constructor(t){super(t),this._onPropertyChanged=(t,e)=>{const n=Bq.getItemProperty(this.property.item,this.property.path);this.property._value=n,this.stringControl.setValue(n),this.cdr.detectChanges()}}ngOnInit(){this.stringControl=new mp(this.property.value,this.collectValidators()),this.property.item.addPropertyChanged(this._onPropertyChanged)}ngOnDestroy(){this.property.item.removePropertyChanged(this._onPropertyChanged)}changeValue(){this.stringControl.valid&&(this.property.value=this.stringControl.value),this.cdr.detectChanges()}}return t.\u0275fac=function(e){return new(e||t)(Ms(us))},t.\u0275cmp=pe({type:t,selectors:[["au-area-input"]],inputs:{property:"property"},features:[Ia],decls:6,vars:4,consts:[[1,"property-row"],[1,"label-container","d-flex","align-items-center"],["class","property-label",3,"for",4,"ngIf"],["appearance","outline",2,"width","100%"],["matInput","","auInputLimits","","auKeyboardNoPropagation","","autocomplete","off",1,"no-resize","x",3,"rows","id","formControl","input"],[1,"property-label",3,"for"]],template:function(t,e){1&t&&(Ls(0,"div",0),Ls(1,"div",1),Is(2,_7,3,4,"label",2),Bs(),Ls(3,"div"),Ls(4,"mat-form-field",3),Ls(5,"textarea",4),$s("input",(function(){return e.changeValue()})),Bs(),Bs(),Bs(),Bs()),2&t&&(vr(2),Rs("ngIf",e.showName),vr(3),Rs("rows",e.property.rows)("id",e.inpId)("formControl",e.stringControl))},directives:[Eh,iA,NA,pd,lq,bd,Mp],pipes:[m7],styles:[".no-resize[_ngcontent-%COMP%]{resize:none}.no-resize.x[_ngcontent-%COMP%]{resize:vertical}.no-resize.y[_ngcontent-%COMP%]{resize:horizontal}.label-container[_ngcontent-%COMP%]{height:24}",".property-label[_ngcontent-%COMP%]{font-size:14px;line-height:20px;font-family:Roboto;margin:6px 0}.property-row[_ngcontent-%COMP%]{align-items:center;margin-bottom:8px}.property-row[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]{overflow:hidden;width:100%;text-overflow:ellipsis}.property-row[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]   .mat-form-field[_ngcontent-%COMP%]{width:100%}.property-row.grid[_ngcontent-%COMP%]{display:grid;grid-template-columns:50% 50%}.property-row.flex[_ngcontent-%COMP%]{display:flex;justify-content:space-between}"]}),t})();function b7(t,e){if(1&t&&(Ls(0,"label",7),Ca(1),Xl(2,"camel"),Bs()),2&t){const t=Ys();Rs("for",t.inpId),vr(1),xa(Kl(2,2,t.property.displayName))}}function w7(t,e){if(1&t&&(Ls(0,"div",8),Ca(1),Bs()),2&t){const t=Ys();vr(1),xa(t.unit||t.property.unit)}}let C7=(()=>{class t extends f7{constructor(t){super(t),this._onPropertyChanged=(t,e)=>{const{unit:n}=this.property,i=this._accuracy(),r=Bq.getItemProperty(this.property.item,this.property.path);this.valueCtr.setValue(this._decimalPipe.transform(this._unit2pipe.value2unit(r,n),`1.${i}-${i}`)),this.cdr.detectChanges()}}get valueCtr(){return this.form.get("value")}ngOnInit(){this.$scroll.subscribe(()=>{this.tooltip.hide(),this.cdr.detectChanges()});const{value:t,unit:e}=this.property,n=this.collectValidators(),i=this._accuracy();this.form=new gp({value:new mp(this._decimalPipe.transform(this._unit2pipe.value2unit(t,e),`1.${i}-${i}`),n)}),this.property.item.addPropertyChanged(this._onPropertyChanged),this._propSrv.$unitChange.pipe(Vy(()=>!("%"===this.property.unit||"\xb0"===this.property.unit)),$y(this._subscriber)).subscribe(t=>this.updateControl(t))}ngOnDestroy(){super.ngOnDestroy(),this.property.item.removePropertyChanged(this._onPropertyChanged)}updateControl(t){this.unit=t;const{value:e}=this.property,n=this._accuracy();this.form.get("value").setValue(this._decimalPipe.transform(this._unit2pipe.value2unit(e,t),`1.${n}-${n}`))}handleBlur(t){const e=parseFloat(this.valueCtr.value);this.valueCtr.valid?this.property.value=this._unit2pipe.unit2value(e,this.property.unit):this.valueCtr.setValue(this._unit2pipe.value2unit(e,this.property.unit)),this._blur(t),this.cdr.detectChanges()}_accuracy(){var t;return"number"==typeof this.property.accuracy?this.property.accuracy:(null===(t=yq.get(this.property.unit))||void 0===t?void 0:t.accuracy)||0}}return t.\u0275fac=function(e){return new(e||t)(Ms(us))},t.\u0275cmp=pe({type:t,selectors:[["au-number-input"]],viewQuery:function(t,e){var n;1&t&&cc(kM,!0),2&t&&ac(n=fc())&&(e.tooltip=n.first)},inputs:{property:"property"},features:[Ia],decls:9,vars:10,consts:[[1,"property-row","grid"],[3,"matTooltipShowDelay","matTooltip","mousemove","mouseleave"],["class","property-label",3,"for",4,"ngIf"],[3,"formGroup"],["appearance","outline",1,"property-input"],["type","number","autocomplete","off","matInput","","auKeyboardNoPropagation","",3,"id","step","formControl","blur","keydown.enter","change"],["matSuffix","","class","unit-suffix",4,"ngIf"],[1,"property-label",3,"for"],["matSuffix","",1,"unit-suffix"]],template:function(t,e){1&t&&(Ls(0,"div",0),Ls(1,"div",1),$s("mousemove",(function(){return e.detectAfterTimeout()}))("mouseleave",(function(){return e.cdr.detectChanges()})),Xl(2,"camel"),Is(3,b7,3,4,"label",2),Bs(),Ls(4,"div"),Ls(5,"form",3),Ls(6,"mat-form-field",4),Ls(7,"input",5),$s("blur",(function(t){return e.handleBlur(t)}))("keydown.enter",(function(t){return e.handleBlur(t)}))("change",(function(t){return e.handleBlur(t)})),Bs(),Is(8,w7,2,1,"div",6),Bs(),Bs(),Bs(),Bs()),2&t&&(vr(1),Rs("matTooltipShowDelay",e.tooltipDelay)("matTooltip",Kl(2,8,e.property.tooltip)),vr(2),Rs("ngIf",e.showName),vr(2),Rs("formGroup",e.form),vr(2),Rs("id",e.inpId)("step",e.property.step)("formControl",e.valueCtr),vr(1),Rs("ngIf",e.unit||e.property.unit))},directives:[kM,Eh,Tp,wd,Rp,iA,Dd,NA,pd,lq,bd,Mp,QI],pipes:[m7],styles:[".suffix[_ngcontent-%COMP%]{display:flex;align-items:center}.mat-input-element[_ngcontent-%COMP%]{text-align:end}.unit-suffix[_ngcontent-%COMP%]{padding:0 10px 0 2px}",".property-label[_ngcontent-%COMP%]{font-size:14px;line-height:20px;font-family:Roboto;margin:6px 0}.property-row[_ngcontent-%COMP%]{align-items:center;margin-bottom:8px}.property-row[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]{overflow:hidden;width:100%;text-overflow:ellipsis}.property-row[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]   .mat-form-field[_ngcontent-%COMP%]{width:100%}.property-row.grid[_ngcontent-%COMP%]{display:grid;grid-template-columns:50% 50%}.property-row.flex[_ngcontent-%COMP%]{display:flex;justify-content:space-between}"]}),t})();function x7(t,e){if(1&t&&(Ls(0,"div",7),Ca(1),Bs()),2&t){const t=Ys();vr(1),xa(t.unit||t.property.unit)}}let E7=(()=>{class t extends f7{constructor(t){super(t)}get valueCtr(){return this.form.get("value")}ngOnInit(){const{value:t,unit:e}=this.property,n=this.collectValidators(),i=this._accuracy();this.form=new gp({value:new mp(this._decimalPipe.transform(this._unit2pipe.value2unit(t,e),`1.${i}-${i}`),n)}),this._propSrv.$unitChange.pipe(Vy(()=>!("%"===this.property.unit||"\xb0"===this.property.unit)),$y(this._subscriber)).subscribe(t=>this.updateControl(t))}updateControl(t){this.unit=t;const{value:e}=this.property,n=this._accuracy();this.form.get("value").setValue(this._decimalPipe.transform(this._unit2pipe.value2unit(e,t),`1.${n}-${n}`))}handleBlur(t){this.valueCtr.valid?this.property.value=this._unit2pipe.unit2value(this.valueCtr.value,this.property.unit):this.valueCtr.setValue(this._unit2pipe.value2unit(this.property.value,this.property.unit)),this._blur(t),this.cdr.detectChanges()}inputSlider(t){this.property.value=t.value;const e=this._accuracy();this.valueCtr.setValue(this._decimalPipe.transform(this._unit2pipe.value2unit(this.property.value,this.property.unit),`1.${e}-${e}`))}_accuracy(){var t;return"number"==typeof this.property.accuracy?this.property.accuracy:(null===(t=yq.get(this.property.unit))||void 0===t?void 0:t.accuracy)||0}}return t.\u0275fac=function(e){return new(e||t)(Ms(us))},t.\u0275cmp=pe({type:t,selectors:[["au-slider-input"]],inputs:{property:"property"},features:[Ia],decls:9,vars:13,consts:[[3,"formGroup"],[1,"property-title",3,"for"],[1,"d-flex","align-items-center"],["appearance","outline",1,"property-input","mr-3"],["type","text","autocomplete","off","matInput","","auKeyboardNoPropagation","",3,"id","formControl","step","blur","keydown.enter"],["matSuffix","","class","unit-suffix",4,"ngIf"],["color","primary",3,"value","min","max","step","input"],["matSuffix","",1,"unit-suffix"]],template:function(t,e){1&t&&(Ls(0,"form",0),Ls(1,"label",1),Ca(2),Xl(3,"camel"),Bs(),Ls(4,"div",2),Ls(5,"mat-form-field",3),Ls(6,"input",4),$s("blur",(function(t){return e.handleBlur(t)}))("keydown.enter",(function(t){return e.handleBlur(t)})),Bs(),Is(7,x7,2,1,"div",5),Bs(),Ls(8,"mat-slider",6),$s("input",(function(t){return e.inputSlider(t)})),Bs(),Bs(),Bs()),2&t&&(Rs("formGroup",e.form),vr(1),Rs("for",e.inpId),vr(1),xa(Kl(3,11,e.property.displayName)),vr(4),Rs("id",e.inpId)("formControl",e.valueCtr)("step",e.property.step),vr(1),Rs("ngIf",e.unit||e.property.unit),vr(1),Rs("value",e.property.value)("min",e.property.min)("max",e.property.max)("step",e.property.step))},directives:[Tp,wd,Rp,iA,NA,pd,lq,bd,Mp,Eh,GA,QI],pipes:[m7],styles:[".property-title[_ngcontent-%COMP%]{font-size:14px;line-height:20px;font-family:Roboto;font-weight:500;margin:6px 0}.unit-suffix[_ngcontent-%COMP%]{padding:0 10px 0 2px}"]}),t})();function S7(t,e){if(1&t){const t=Vs();Ls(0,"span",3),$s("mousemove",(function(){return Qe(t),Ys().detectAfterTimeout()}))("mouseleave",(function(){return Qe(t),Ys().cdr.detectChanges()})),Xl(1,"camel"),Ca(2),Xl(3,"camel"),Bs()}if(2&t){const t=Ys();Rs("matTooltip",Kl(1,3,t.tooltip))("matTooltipShowDelay",t.tooltipDelay),vr(2),xa(Kl(3,5,t.displayName))}}let P7=(()=>{class t extends p7{constructor(t){super(t),this.update=new Yl}ngOnInit(){this.$scroll.subscribe(()=>{this.matTooltip.hide(),this.cdr.detectChanges()})}ngOnChanges(){this.matToggle&&this.matToggle.writeValue(this.value)}change(t){this.update.emit(t.checked),this.cdr.detectChanges()}}return t.\u0275fac=function(e){return new(e||t)(Ms(us))},t.\u0275cmp=pe({type:t,selectors:[["au-toggle-component"]],viewQuery:function(t,e){var n;1&t&&(cc(_I,!0),cc(kM,!0)),2&t&&(ac(n=fc())&&(e.matToggle=n.first),ac(n=fc())&&(e.matTooltip=n.first))},inputs:{value:"value",tooltip:"tooltip",showName:"showName",displayName:"displayName"},outputs:{update:"update"},features:[Ia,La],decls:3,vars:2,consts:[[1,"property-row"],["labelPosition","before","color","primary",3,"checked","change"],["class","property-label",3,"matTooltip","matTooltipShowDelay","mousemove","mouseleave",4,"ngIf"],[1,"property-label",3,"matTooltip","matTooltipShowDelay","mousemove","mouseleave"]],template:function(t,e){1&t&&(Ls(0,"div",0),Ls(1,"mat-slide-toggle",1),$s("change",(function(t){return e.change(t)})),Is(2,S7,4,7,"span",2),Bs(),Bs()),2&t&&(vr(1),Rs("checked",e.value),vr(1),Rs("ngIf",e.showName))},directives:[_I,Eh,kM],pipes:[m7],styles:[".mat-slide-toggle{width:100%}  .mat-slide-toggle .mat-slide-toggle-label{display:flex;justify-content:space-between}",".property-label[_ngcontent-%COMP%]{font-size:14px;line-height:20px;font-family:Roboto;margin:6px 0}.property-row[_ngcontent-%COMP%]{align-items:center;margin-bottom:8px}.property-row[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]{overflow:hidden;width:100%;text-overflow:ellipsis}.property-row[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]   .mat-form-field[_ngcontent-%COMP%]{width:100%}.property-row.grid[_ngcontent-%COMP%]{display:grid;grid-template-columns:50% 50%}.property-row.flex[_ngcontent-%COMP%]{display:flex;justify-content:space-between}"]}),t})(),O7=(()=>{class t extends f7{constructor(t){super(t),this._onPropertyChanged=(t,e)=>{Bq.getItemProperty(this.property.item,this.property.path),this.cdr.detectChanges()}}changeProperty(t){this.property.value=t,this.cdr.detectChanges()}ngOnInit(){this.property.item.addPropertyChanged(this._onPropertyChanged)}ngOnDestroy(){var t,e;null===(e=null===(t=this.property)||void 0===t?void 0:t.item)||void 0===e||e.removePropertyChanged(this._onPropertyChanged)}}return t.\u0275fac=function(e){return new(e||t)(Ms(us))},t.\u0275cmp=pe({type:t,selectors:[["au-checkbox-input"]],inputs:{property:"property"},features:[Ia],decls:1,vars:4,consts:[[3,"value","tooltip","displayName","showName","update"]],template:function(t,e){1&t&&(Ls(0,"au-toggle-component",0),$s("update",(function(t){return e.changeProperty(t)})),Bs()),2&t&&Rs("value",e.property.value)("tooltip",e.property.tooltip)("displayName",e.property.displayName)("showName",!0)},directives:[P7],styles:[".mat-slide-toggle{width:100%}  .mat-slide-toggle .mat-slide-toggle-label{display:flex;justify-content:space-between}",".property-label[_ngcontent-%COMP%]{font-size:14px;line-height:20px;font-family:Roboto;margin:6px 0}.property-row[_ngcontent-%COMP%]{align-items:center;margin-bottom:8px}.property-row[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]{overflow:hidden;width:100%;text-overflow:ellipsis}.property-row[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]   .mat-form-field[_ngcontent-%COMP%]{width:100%}.property-row.grid[_ngcontent-%COMP%]{display:grid;grid-template-columns:50% 50%}.property-row.flex[_ngcontent-%COMP%]{display:flex;justify-content:space-between}"]}),t})();function k7(t,e){if(1&t){const t=Vs();Ls(0,"span",4),$s("mousemove",(function(){return Qe(t),Ys().detectAfterTimeout()}))("mouseleave",(function(){return Qe(t),Ys().cdr.detectChanges()})),Ca(1),Bs()}if(2&t){const t=Ys();Rs("matTooltip",t.property.tooltip)("matTooltipShowDelay",t.tooltipDelay),vr(1),xa(t.property.displayName)}}function T7(t,e){if(1&t){const t=Vs();Ls(0,"mat-option",8),$s("click",(function(){return Qe(t),Ys(2).cdr.detectChanges()})),Ca(1),Bs()}if(2&t){const t=e.$implicit;Rs("value",t.value),vr(1),Ea(" ",t.viewValue," ")}}function I7(t,e){if(1&t){const t=Vs();Ls(0,"div",0),Ls(1,"mat-form-field",5),$s("click",(function(){return Qe(t),Ys().cdr.detectChanges()})),Ls(2,"mat-select",6),$s("valueChange",(function(e){return Qe(t),Ys().change(e)})),Is(3,T7,2,2,"mat-option",7),Bs(),Bs(),Bs()}if(2&t){const t=Ys();vr(2),Rs("value",t.value),vr(1),Rs("ngForOf",t.moveFreedoms)}}let A7=(()=>{class t extends p7{constructor(t,e){super(t),this._overlayContainer=e,this.moveFreedoms=[{value:N1.vertical,viewValue:"Vertical"},{value:N1.horizontal,viewValue:"Horizontal"},{value:N1.all,viewValue:"Horizontal and vertical"}],this._overlayClickHandler=()=>this.cdr.detectChanges()}get manipulationPermissions(){const t=this.property.item;return t instanceof RU?t.groupManipulationPermissions:t.manipulationPermissions}get value(){const{allowMoveHorizontal:t,allowMoveVertical:e}=this.manipulationPermissions;return t&&!e?N1.horizontal:!t&&e?N1.vertical:t&&e?N1.all:t||e?void 0:N1.none}get showList(){return this.value!==N1.none}ngOnInit(){this.$scroll.subscribe(()=>{this.tooltip.hide(),this.cdr.detectChanges()}),this._overlayContainer.getContainerElement().addEventListener("click",this._overlayClickHandler)}ngOnDestroy(){super.ngOnDestroy(),this._overlayContainer.getContainerElement().removeEventListener("click",this._overlayClickHandler)}moveSwitch(t){t.checked?(this.manipulationPermissions.allowMoveVertical=!0,this.manipulationPermissions.allowMoveHorizontal=!0):(this.manipulationPermissions.allowMoveHorizontal=!1,this.manipulationPermissions.allowMoveVertical=!1),this.cdr.detectChanges()}change(t){switch(t){case N1.horizontal:this.manipulationPermissions.allowMoveHorizontal=!0,this.manipulationPermissions.allowMoveVertical=!1;break;case N1.vertical:this.manipulationPermissions.allowMoveVertical=!0,this.manipulationPermissions.allowMoveHorizontal=!1;break;case N1.all:this.manipulationPermissions.allowMoveVertical=!0,this.manipulationPermissions.allowMoveHorizontal=!0}this.cdr.detectChanges()}}return t.\u0275fac=function(e){return new(e||t)(Ms(us),Ms(Kk))},t.\u0275cmp=pe({type:t,selectors:[["au-manipulation"]],viewQuery:function(t,e){var n;1&t&&cc(kM,!0),2&t&&ac(n=fc())&&(e.tooltip=n.first)},inputs:{showName:"showName",property:"property"},features:[Ia],decls:4,vars:3,consts:[[1,"property-row"],["labelPosition","before","color","primary",3,"checked","change"],["class","property-label",3,"matTooltip","matTooltipShowDelay","mousemove","mouseleave",4,"ngIf"],["class","property-row",4,"ngIf"],[1,"property-label",3,"matTooltip","matTooltipShowDelay","mousemove","mouseleave"],["appearance","outline",1,"w-100",3,"click"],[3,"value","valueChange"],[3,"value","click",4,"ngFor","ngForOf"],[3,"value","click"]],template:function(t,e){1&t&&(Ls(0,"div",0),Ls(1,"mat-slide-toggle",1),$s("change",(function(t){return e.moveSwitch(t)})),Is(2,k7,2,3,"span",2),Bs(),Bs(),Is(3,I7,4,2,"div",3)),2&t&&(vr(1),Rs("checked",e.showList),vr(1),Rs("ngIf",e.showName),vr(1),Rs("ngIf",e.showList))},directives:[_I,Eh,kM,iA,EA,Ch,Tk],styles:[""]}),t})(),M7=(()=>{class t{transform(t){return/[A-Z]{1}[a-z]{1,}/.test(t)?t.split("").map(t=>t===t.toUpperCase()?` ${t}`:t).join("").slice(1):t}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275pipe=we({name:"split",type:t,pure:!0}),t})();function D7(t,e){if(1&t&&(Ls(0,"label",6),Ca(1),Xl(2,"camel"),Bs()),2&t){const t=Ys();Rs("for",t.id),vr(1),xa(Kl(2,2,t.displayName))}}function R7(t,e){if(1&t&&(Ls(0,"mat-option",7),Ca(1),Xl(2,"split"),Bs()),2&t){const t=e.$implicit;Rs("value",t.value),vr(1),Ea(" ",Kl(2,2,t.viewValue)," ")}}let F7=(()=>{class t extends p7{constructor(t,e){super(t),this._overlayContainer=e,this.options=[],this.update=new Yl,this.tooltipDelay=ZG.TOOLTIP_DELAY,this._overlayClickHandler=()=>this.cdr.detectChanges()}ngOnInit(){this._overlayContainer.getContainerElement().addEventListener("click",this._overlayClickHandler),this.$scroll.subscribe(()=>{this.matTooltip.hide(),this.cdr.detectChanges()})}ngOnDestroy(){super.ngOnDestroy(),this._overlayContainer.getContainerElement().removeEventListener("click",this._overlayClickHandler)}change(t){this.update.emit(t),this.select.close()}}return t.\u0275fac=function(e){return new(e||t)(Ms(us),Ms(Kk))},t.\u0275cmp=pe({type:t,selectors:[["au-select-input"]],viewQuery:function(t,e){var n;1&t&&(cc(kM,!0),cc(EA,!0)),2&t&&(ac(n=fc())&&(e.matTooltip=n.first),ac(n=fc())&&(e.select=n.first))},inputs:{displayName:"displayName",tooltip:"tooltip",id:"id",value:"value",options:"options",showName:"showName"},outputs:{update:"update"},features:[Ia],decls:7,vars:8,consts:[[1,"property-row","grid"],[3,"matTooltip","matTooltipShowDelay","mousemove","mouseleave"],["class","property-label",3,"for",4,"ngIf"],["appearance","outline"],[3,"value","id","valueChange","click"],[3,"value",4,"ngFor","ngForOf"],[1,"property-label",3,"for"],[3,"value"]],template:function(t,e){1&t&&(Ls(0,"div",0),Ls(1,"div",1),$s("mousemove",(function(){return e.detectAfterTimeout()}))("mouseleave",(function(){return e.cdr.detectChanges()})),Xl(2,"camel"),Is(3,D7,3,4,"label",2),Bs(),Ls(4,"mat-form-field",3),Ls(5,"mat-select",4),$s("valueChange",(function(t){return e.change(t)}))("click",(function(){return e.cdr.detectChanges()})),Is(6,R7,3,4,"mat-option",5),Bs(),Bs(),Bs()),2&t&&(vr(1),Rs("matTooltip",Kl(2,6,e.tooltip))("matTooltipShowDelay",e.tooltipDelay),vr(2),Rs("ngIf",e.showName),vr(2),Rs("value",e.value)("id",e.id),vr(1),Rs("ngForOf",e.options))},directives:[kM,Eh,iA,EA,Ch,Tk],pipes:[m7,M7],styles:["",".property-label[_ngcontent-%COMP%]{font-size:14px;line-height:20px;font-family:Roboto;margin:6px 0}.property-row[_ngcontent-%COMP%]{align-items:center;margin-bottom:8px}.property-row[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]{overflow:hidden;width:100%;text-overflow:ellipsis}.property-row[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]   .mat-form-field[_ngcontent-%COMP%]{width:100%}.property-row.grid[_ngcontent-%COMP%]{display:grid;grid-template-columns:50% 50%}.property-row.flex[_ngcontent-%COMP%]{display:flex;justify-content:space-between}"]}),t})(),L7=(()=>{class t extends f7{constructor(t){super(t),this.showName=!0,this.options=[],this._onPropertyChanged=(t,e)=>this._validateValue(),this._validateValue=()=>{null!=this.property.value&&(this.property.value=this.property.value,this.property=this.property,this.cdr.detectChanges())}}ngOnChanges(){if(this.property)if(this.options=this.property.values.map(({name:t,num:e})=>({value:e,viewValue:t})),this.property.value){const t=this._findItemIdx(this.property.value.num);this.selectedValue=this.options[t].value}else this.selectedValue=this.options[0].value}change(t){const e=this._findItemIdx(t);this.property.value=this.property.values[e],this._validateValue()}_findItemIdx(t){return this.property.values.findIndex(e=>e.num===t)}ngOnInit(){}ngOnDestroy(){super.ngOnDestroy(),this.property.item.removePropertyChanged(this._onPropertyChanged)}}return t.\u0275fac=function(e){return new(e||t)(Ms(us))},t.\u0275cmp=pe({type:t,selectors:[["au-dropdown-input"]],inputs:{property:"property",showName:"showName"},features:[Ia,La],decls:1,vars:6,consts:[[3,"tooltip","showName","id","displayName","value","options","update"]],template:function(t,e){1&t&&(Ls(0,"au-select-input",0),$s("update",(function(t){return e.change(t)})),Bs()),2&t&&Rs("tooltip",e.property.tooltip)("showName",e.showName)("id",e.inpId)("displayName",e.property.displayName)("value",e.selectedValue)("options",e.options)},directives:[F7],styles:["",".property-label[_ngcontent-%COMP%]{font-size:14px;line-height:20px;font-family:Roboto;margin:6px 0}.property-row[_ngcontent-%COMP%]{align-items:center;margin-bottom:8px}.property-row[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]{overflow:hidden;width:100%;text-overflow:ellipsis}.property-row[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]   .mat-form-field[_ngcontent-%COMP%]{width:100%}.property-row.grid[_ngcontent-%COMP%]{display:grid;grid-template-columns:50% 50%}.property-row.flex[_ngcontent-%COMP%]{display:flex;justify-content:space-between}"]}),t})(),B7=(()=>{class t extends L7{constructor(t,e){super(t),this._itemSrv=e}change(t){super.change(t),this._itemSrv.updatePlaceholderContent(this.property.item)}}return t.\u0275fac=function(e){return new(e||t)(Ms(us),Ms(a2))},t.\u0275cmp=pe({type:t,selectors:[["au-plch-option"]],features:[Ia],decls:1,vars:6,consts:[[3,"tooltip","showName","id","displayName","value","options","update"]],template:function(t,e){1&t&&(Ls(0,"au-select-input",0),$s("update",(function(t){return e.change(t)})),Bs()),2&t&&Rs("tooltip",e.property.tooltip)("showName",e.showName)("id",e.inpId)("displayName",e.property.displayName)("value",e.selectedValue)("options",e.options)},directives:[F7],styles:["",".property-label[_ngcontent-%COMP%]{font-size:14px;line-height:20px;font-family:Roboto;margin:6px 0}.property-row[_ngcontent-%COMP%]{align-items:center;margin-bottom:8px}.property-row[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]{overflow:hidden;width:100%;text-overflow:ellipsis}.property-row[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]   .mat-form-field[_ngcontent-%COMP%]{width:100%}.property-row.grid[_ngcontent-%COMP%]{display:grid;grid-template-columns:50% 50%}.property-row.flex[_ngcontent-%COMP%]{display:flex;justify-content:space-between}"]}),t})();const N7=function(t,e){return{submitButtonEnabled:!0,currentColor:t,colorSpace:e}};let j7=(()=>{class t extends mH{constructor(t,e,n,i,r){super(),this._viewerEvtSrv=e,this._colorSrv=n,this._viewerSettings=i,this._cdr=r,this.onChange=new Yl,this.onSubmit=new Yl,this.colorPick=new Yl,this.startPick=new Yl,this.pickColor=()=>{this.viewer.setMouseBehavior(eJ.SelectPixel),this._viewerSettings.gridEnabled&&(this._viewerSettings.disableGrid(),this.gridWasEnabled=!0),this.startPick.emit();const t=this.getPickColor();return t.then(t=>this.colorPick.emit(t)),t},t.pipe(cw(t=>{var e;return null===(e=t.templateEditor.configuration)||void 0===e?void 0:e.color}),Vy(t=>!!t),$y(this.subscriber)).subscribe(t=>this.conf=t),t.pipe(cw(t=>t.templateEditor.viewer),Vy(t=>!!t),$y(this.subscriber)).subscribe(t=>this.viewer=t)}get isReady(){return this._colorSrv.isReady}ngOnInit(){}onClick(){this._cdr.detectChanges()}getPickColor(){return new Promise(t=>{const e=this._viewerEvtSrv.$mouseSelectPixel.subscribe(n=>{e.unsubscribe(),n?t(n):this.picker.isHidden=!1,this.gridWasEnabled&&this._viewerSettings.enableGrid()})})}}return t.\u0275fac=function(e){return new(e||t)(Ms(aw),Ms(P2),Ms(m1),Ms(R1),Ms(Xo))},t.\u0275cmp=pe({type:t,selectors:[["au-color-picker"]],viewQuery:function(t,e){var n;1&t&&cc(yj,!0),2&t&&ac(n=fc())&&(e.picker=n.first)},inputs:{initialized:"initialized",initialColor:"initialColor",allowPick:"allowPick"},outputs:{onChange:"onChange",onSubmit:"onSubmit",colorPick:"colorPick",startPick:"startPick"},features:[Ia],decls:5,vars:12,consts:[["animationDuration","0ms",1,"property-tab-group",3,"keydown","click"],[3,"label"],[3,"conf","submitButtonInPaletteOnly","initialized","initialValue","pickColor","onChange","onSubmit"],[3,"initialized","config","onChange","onSubmit"]],template:function(t,e){1&t&&(Ls(0,"mat-tab-group",0),$s("keydown",(function(t){return t.stopPropagation()}))("click",(function(){return e.onClick()})),Ls(1,"mat-tab",1),Ls(2,"cc-color-picker",2),$s("onChange",(function(t){return e.onChange.emit(t)}))("onSubmit",(function(){return e.onSubmit.emit()})),Bs(),Bs(),Ls(3,"mat-tab",1),Ls(4,"cc-spot-color-picker",3),$s("onChange",(function(t){return e.onChange.emit(t)}))("onSubmit",(function(){return e.onSubmit.emit()})),Bs(),Bs(),Bs()),2&t&&(vr(1),Rs("label","Process"),vr(1),Rs("conf",null==e.conf?null:e.conf.colorPickerConfig)("submitButtonInPaletteOnly",!0)("initialized",e.initialized)("initialValue",e.initialColor)("pickColor",e.allowPick?e.pickColor:null),vr(1),Rs("label","Spot"),vr(1),Rs("initialized",e.initialized)("config",Ul(9,N7,e.initialColor,null==e.conf||null==e.conf.spotColors?null:e.conf.spotColors.inkColorSpace)))},directives:[Rz,xz,yj,Oj],styles:['.pick-color{font-size:0;background:none;border:none;width:28px!important;height:28px!important;padding:0;margin-top:13px;margin-right:4px;outline-color:#1fb6ff}.pick-color:after{content:"";display:block;width:28px;height:28px;background:url(\'data:image/svg+xml;utf8,<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="rgb(31,182,255)" width="18px" height="18px"><path d="M0 0h24v24H0z" fill="none"/><path d="M20.71 5.63l-2.34-2.34c-.39-.39-1.02-.39-1.41 0l-3.12 3.12-1.93-1.91-1.41 1.41 1.42 1.42L3 16.25V21h4.75l8.92-8.92 1.42 1.42 1.41-1.41-1.92-1.92 3.12-3.12c.4-.4.4-1.03.01-1.42zM6.92 19L5 17.08l8.06-8.06 1.92 1.92L6.92 19z"/></svg>\');background-size:cover}cc-spot-color-picker{height:326px!important}cc-color-picker{display:flex}mat-tab-group .mat-tab-body-wrapper{top:0!important}mat-tab-group mat-tab-header{position:relative!important}mat-tab-group mat-tab-header .mat-tab-label{min-width:130px}input{outline-color:#1fb6ff}.color-container .color{box-sizing:border-box}picker .bottom-panel .color-preview-container .initial-color.preview-color,picker .bottom-panel .color-preview-container .target-color.preview-color{height:100%}cc-spot-color-add #spotInkName,picker .color-space-container input{box-sizing:content-box!important}.cancel-button,.submit-button{padding:8px;font-weight:500;border-radius:2px;cursor:pointer;width:72px}.cancel-button.submit-button,.submit-button.submit-button{background:#1fb6ff;border:1px solid #1fb6ff;border-radius:2px;color:#fff}.cancel-button.submit-button:disabled,.submit-button.submit-button:disabled{cursor:default;background-color:#e5e5e5;border:1px solid #e5e5e5;color:#999}.cancel-button.cancel-button,.submit-button.cancel-button{background:none;border:1px solid #ccc;color:#666}'],encapsulation:2}),t})();function z7(t,e){if(1&t){const t=Vs();Ls(0,"au-color-picker",4),$s("onChange",(function(e){return Qe(t),Ys().changeColor.emit(e)}))("click",(function(e){return Qe(t),e.stopPropagation()}))("onSubmit",(function(e){return Qe(t),Ys().onSubmitColor(e)})),Bs()}if(2&t){const t=Ys();Rs("initialColor",t.initialColor)("initialized",t.initialized)}}let H7=(()=>{class t extends mH{constructor(t,e,n,i){super(),this._viewerEvtSrv=e,this._colorSrv=n,this._viewerSettings=i,this.changeColor=new Yl,this.submitColor=new Yl,this.openMenu=new Yl,this.closeMenu=new Yl,this.pickColor=()=>{this.viewer.setMouseBehavior(eJ.SelectPixel),this._viewerSettings.gridEnabled&&(this._viewerSettings.disableGrid(),this.gridWasEnabled=!0),this.matMenuTrigger.closeMenu();const t=this.getPickColor();return t.then(t=>{this.changeColor.emit(t),this.matMenuTrigger.openMenu()}),t},t.pipe(cw(t=>{var e,n;return null===(n=null===(e=t.templateEditor.configuration)||void 0===e?void 0:e.color)||void 0===n?void 0:n.colorPickerConfig}),Vy(t=>!!t),$y(this.subscriber)).subscribe(t=>this.conf=t),t.pipe(cw(t=>t.templateEditor.viewer),Vy(t=>!!t),$y(this.subscriber)).subscribe(t=>this.viewer=t)}get isReady(){return this._colorSrv.isReady}getPickColor(){return new Promise(t=>{const e=this._viewerEvtSrv.$mouseSelectPixel.subscribe(n=>{e.unsubscribe(),n?t(n):(this.picker.isHidden=!1,this.matMenuTrigger.openMenu()),this.gridWasEnabled&&this._viewerSettings.enableGrid()})})}onOpenMenu(){this.openMenu.emit()}onCloseMenu(){return vR(this,void 0,void 0,(function*(){this.submit||this.changeColor.emit(this.initialColor),this.closeMenu.emit()}))}onSubmitColor(t){this.submitColor.emit(t),this.submit=!0,this.matMenuTrigger.closeMenu(),this.closeMenu.emit(),this.submit=!1}buttonClick(){this.viewer.mouseBehavior!==eJ.SelectPixel&&this.matMenuTrigger.openMenu()}}return t.\u0275fac=function(e){return new(e||t)(Ms(aw),Ms(P2),Ms(m1),Ms(R1))},t.\u0275cmp=pe({type:t,selectors:[["au-clr-pick"]],viewQuery:function(t,e){var n;1&t&&(cc(IT,!0),cc(yj,!0)),2&t&&(ac(n=fc())&&(e.matMenuTrigger=n.first),ac(n=fc())&&(e.picker=n.first))},inputs:{initialized:"initialized",initialColor:"initialColor"},outputs:{changeColor:"changeColor",submitColor:"submitColor",openMenu:"openMenu",closeMenu:"closeMenu"},features:[Ia],decls:5,vars:4,consts:[["mat-button","",1,"color-button",3,"click"],[3,"matMenuTriggerFor","click","onMenuOpen","onMenuClose"],["menu","matMenu"],[3,"initialColor","initialized","onChange","click","onSubmit",4,"ngIf"],[3,"initialColor","initialized","onChange","click","onSubmit"]],template:function(t,e){if(1&t&&(Ls(0,"button",0),$s("click",(function(){return e.buttonClick()})),Ls(1,"div",1),$s("click",(function(t){return t.stopPropagation()}))("onMenuOpen",(function(){return e.onOpenMenu()}))("onMenuClose",(function(){return e.onCloseMenu()})),Ls(2,"mat-menu",null,2),Is(4,z7,1,2,"au-color-picker",3),Bs(),Bs(),Bs()),2&t){const t=As(3);ca("background-color",null==e.initialColor?null:e.initialColor.preview),vr(1),Rs("matMenuTriggerFor",t),vr(3),Rs("ngIf",e.isReady)}},directives:[NT,IT,PT,Eh,j7],styles:[".color-button[_ngcontent-%COMP%]{width:36px;height:36px;min-width:unset;background:#000;border:1px solid #e5e5e5;box-sizing:border-box;border-radius:2px}"]}),t})();function V7(t,e){if(1&t&&(Ls(0,"label",5),Ca(1),Xl(2,"camel"),Bs()),2&t){const t=Ys();Rs("for",t.property.displayName),vr(1),Ea("",Kl(2,2,t.property.displayName)," ")}}let U7=(()=>{class t extends f7{constructor(t,e){super(t),this._historySrv=e,this.menuOpened=!1}ngOnInit(){this.initialColor=this.property.value,this.$scroll.subscribe(()=>{this.tooltip.hide(),this.cdr.detectChanges()})}onChange(t){this.property.value=t instanceof rj?t.color:t}onSubmit(){this._historySrv.resume(),this.initialColor=this.property.value,this.cdr.detectChanges()}menuOpen(){this._historySrv.pause(),this.cdr.detectChanges(),this.menuOpened=!0}menuClose(){this._historySrv.resume(),this.cdr.detectChanges(),this.menuOpened=!1}}return t.\u0275fac=function(e){return new(e||t)(Ms(us),Ms(JG))},t.\u0275cmp=pe({type:t,selectors:[["au-color-input"]],viewQuery:function(t,e){var n;1&t&&cc(kM,!0),2&t&&ac(n=fc())&&(e.tooltip=n.first)},features:[Ia],decls:6,vars:7,consts:[[1,"property-row","flex","w-100"],[1,"w-100",3,"matTooltip","matTooltipShowDelay","mousemove","mouseleave"],["class","property-label",3,"for",4,"ngIf"],[1,"d-flex","justify-content-end","w-100"],[3,"initialized","initialColor","changeColor","submitColor","openMenu","menuClosed"],[1,"property-label",3,"for"]],template:function(t,e){1&t&&(Ls(0,"div",0),Ls(1,"div",1),$s("mousemove",(function(){return e.detectAfterTimeout()}))("mouseleave",(function(){return e.cdr.detectChanges()})),Xl(2,"camel"),Is(3,V7,3,4,"label",2),Bs(),Ls(4,"div",3),Ls(5,"au-clr-pick",4),$s("changeColor",(function(t){return e.onChange(t)}))("submitColor",(function(){return e.onSubmit()}))("openMenu",(function(){return e.menuOpen()}))("menuClosed",(function(){return e.menuClose()})),Bs(),Bs(),Bs()),2&t&&(vr(1),Rs("matTooltip",Kl(2,5,e.property.tooltip))("matTooltipShowDelay",e.tooltipDelay),vr(2),Rs("ngIf",e.showName),vr(2),Rs("initialized",e.menuOpened)("initialColor",e.initialColor))},directives:[kM,Eh,H7],pipes:[m7],styles:["[_nghost-%COMP%]{display:flex;flex-direction:row}[_nghost-%COMP%]   label[_ngcontent-%COMP%]{margin-right:auto}[_nghost-%COMP%]   .color-button[_ngcontent-%COMP%]{width:48px;height:32px;background:#000;border:1px solid #dedede;box-sizing:border-box;border-radius:2px}",".property-label[_ngcontent-%COMP%]{font-size:14px;line-height:20px;font-family:Roboto;margin:6px 0}.property-row[_ngcontent-%COMP%]{align-items:center;margin-bottom:8px}.property-row[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]{overflow:hidden;width:100%;text-overflow:ellipsis}.property-row[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]   .mat-form-field[_ngcontent-%COMP%]{width:100%}.property-row.grid[_ngcontent-%COMP%]{display:grid;grid-template-columns:50% 50%}.property-row.flex[_ngcontent-%COMP%]{display:flex;justify-content:space-between}"]}),t})();const W7=["colorMenuTrigger"];function $7(t,e){if(1&t){const t=Vs();Ls(0,"mat-button-toggle",2),$s("change",(function(){return Qe(t),Ys().superscript.emit()})),Xl(1,"translate"),Ns(2,"mat-icon",18),Bs()}2&t&&Rs("checked",Ys().isSuperScript)("matTooltip",Kl(1,2,"Tooltips.SUPERSCRIPT"))}function G7(t,e){if(1&t){const t=Vs();Ls(0,"mat-button-toggle",2),$s("change",(function(){return Qe(t),Ys().subscript.emit()})),Xl(1,"translate"),Ns(2,"mat-icon",19),Bs()}2&t&&Rs("checked",Ys().isSubScript)("matTooltip",Kl(1,2,"Tooltips.SUBSCRIPT"))}let q7=(()=>{class t{constructor(){this.openType=[],this.bold=new Yl,this.italic=new Yl,this.underline=new Yl,this.allCaps=new Yl,this.changeColor=new Yl,this.smallCaps=new Yl,this.subscript=new Yl,this.superscript=new Yl,this.otf=new Yl,this.menu=new x2(U1)}set inplaceActive(t){this.isInplaceActive=t}get openTypeF(){return V1}clickUnderline(){this.underline.emit()}switchFeature(t){this.otf.emit(t)}handleActionFromMenu(t){this.menu.toggleItem(t.action),this.switchFeature(t.action)}pickColor(t){this.colorMenu.openMenu(),this._menuIsOpen=!0,this.colorChange(t)}startPick(){this.colorMenu.closeMenu()}colorChange(t){this._menuIsOpen&&this.changeColor.emit(t instanceof zB?t:null==t?void 0:t.color)}onSubmit(){this._oldColor=null,this.colorMenu.closeMenu(),this._menuIsOpen=!1,this.changeColor.emit(this.textColor)}initColorPicker(){this._menuIsOpen=!0,this._oldColor=this.textColor}closeColorMenu(){return vR(this,void 0,void 0,(function*(){this._oldColor&&this.changeColor.emit(this._oldColor),this._oldColor=null,this._menuIsOpen=!1}))}updateMenu(){this.menu.getSegment("opentype_features").items.forEach(t=>this.menu.switchOffItem(t.action)),this.openType.forEach(({tag:t,value:e})=>{e?this.menu.switchOnItem(t):this.menu.switchOffItem(t)})}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275cmp=pe({type:t,selectors:[["au-font-style"]],viewQuery:function(t,e){var n;1&t&&(lc(W6,!0),cc(W7,!0)),2&t&&(ac(n=fc())&&(e.menuComponent=n.first),ac(n=fc())&&(e.colorMenu=n.first))},inputs:{inplaceActive:"inplaceActive",isBold:"isBold",isItalic:"isItalic",isUnderline:"isUnderline",isAllCaps:"isAllCaps",textColor:"textColor",isSmallCaps:"isSmallCaps",isSuperScript:"isSuperScript",isSubScript:"isSubScript",openType:"openType"},outputs:{bold:"bold",italic:"italic",underline:"underline",allCaps:"allCaps",changeColor:"changeColor",smallCaps:"smallCaps",subscript:"subscript",superscript:"superscript",otf:"otf"},decls:31,vars:36,consts:[[1,"d-flex","justify-content-between","mb-2"],["appearance","legacy","name","fontStyle","aria-label","Font style",1,"text-settings-toggle",3,"multiple"],[3,"checked","matTooltip","change"],["svgIcon","au-icon-bold",1,"toggle-button-icon"],["svgIcon","au-icon-italic",1,"toggle-button-icon"],["svgIcon","au-icon-underline"],[1,"font-color",3,"checked","matTooltip","matMenuTriggerFor","onMenuOpen","onMenuClose"],["colorMenuTrigger","matMenuTrigger"],["svgIcon","au-text-color"],[1,"font-color-indicator"],["colorMenu","matMenu"],[3,"initialColor","initialized","allowPick","click","onChange","onSubmit","colorPick","startPick"],["mat-icon-button","",3,"matMenuTriggerFor"],["svgIcon","au-icon-points"],[3,"model","clickAction"],["svgIcon","au-all-caps"],["svgIcon","au-small-caps"],[3,"checked","matTooltip","change",4,"ngIf"],["svgIcon","au-superscript"],["svgIcon","au-subscript"]],template:function(t,e){if(1&t&&(Ls(0,"div",0),Ls(1,"mat-button-toggle-group",1),Ls(2,"mat-button-toggle",2),$s("change",(function(){return e.bold.emit()})),Xl(3,"translate"),Ns(4,"mat-icon",3),Bs(),Ls(5,"mat-button-toggle",2),$s("change",(function(){return e.italic.emit()})),Xl(6,"translate"),Ns(7,"mat-icon",4),Bs(),Ls(8,"mat-button-toggle",2),$s("change",(function(){return e.underline.emit()})),Xl(9,"translate"),Ns(10,"mat-icon",5),Bs(),Ls(11,"mat-button-toggle",6,7),$s("onMenuOpen",(function(){return e.initColorPicker()}))("onMenuClose",(function(){return e.closeColorMenu()})),Xl(13,"translate"),Ns(14,"mat-icon",8),Ns(15,"div",9),Ls(16,"mat-menu",null,10),Ls(18,"au-color-picker",11),$s("click",(function(t){return t.stopPropagation()}))("onChange",(function(t){return e.colorChange(t)}))("onSubmit",(function(){return e.onSubmit()}))("colorPick",(function(t){return e.pickColor(t)}))("startPick",(function(){return e.startPick()})),Bs(),Bs(),Bs(),Bs(),Ls(19,"button",12),Ns(20,"mat-icon",13),Ls(21,"au-action-dropdown",14),$s("clickAction",(function(t){return e.handleActionFromMenu(t)})),Bs(),Bs(),Bs(),Ls(22,"mat-button-toggle-group",1),Ls(23,"mat-button-toggle",2),$s("change",(function(){return e.allCaps.emit()})),Xl(24,"translate"),Ns(25,"mat-icon",15),Bs(),Ls(26,"mat-button-toggle",2),$s("change",(function(){return e.smallCaps.emit()})),Xl(27,"translate"),Ns(28,"mat-icon",16),Bs(),Is(29,$7,3,4,"mat-button-toggle",17),Is(30,G7,3,4,"mat-button-toggle",17),Bs()),2&t){const t=As(17);vr(1),Rs("multiple",!0),vr(1),Rs("checked",e.isBold)("matTooltip",Kl(3,24,"Tooltips.BOLD")),vr(3),Rs("checked",e.isItalic)("matTooltip",Kl(6,26,"Tooltips.ITALIC")),vr(3),Rs("checked",e.isUnderline)("matTooltip",Kl(9,28,"Tooltips.UNDERLINE")),vr(3),Rs("checked",!1)("matTooltip",Kl(13,30,"Tooltips.TEXT_COLOR"))("matMenuTriggerFor",t),vr(4),ca("background-color",e.textColor.preview),vr(3),Rs("initialColor",e.textColor)("initialized",!0)("allowPick",!0),vr(1),Rs("matMenuTriggerFor",e.menuComponent.menu),vr(2),Rs("model",e.menu),vr(1),Rs("multiple",!0),vr(1),Rs("checked",e.isAllCaps)("matTooltip",Kl(24,32,"Tooltips.ALL_CAPS")),vr(3),Rs("checked",e.isSmallCaps)("matTooltip",Kl(27,34,"Tooltips.SMALL_CAPS")),vr(3),Rs("ngIf",e.isInplaceActive),vr(1),Rs("ngIf",e.isInplaceActive)}},directives:[oM,lM,kM,oI,IT,PT,j7,NT,W6,Eh],pipes:[HR],styles:["[_nghost-%COMP%]{width:100%}.mat-icon-button[_ngcontent-%COMP%]{width:32px;height:32px;line-height:32px}.font-color-indicator[_ngcontent-%COMP%]{position:absolute;width:20px;height:4px;border-radius:2px;bottom:6px;left:2px}.font-color[_ngcontent-%COMP%]{position:relative}.font-color[_ngcontent-%COMP%]   .mat-button-toggle-checked[_ngcontent-%COMP%]{background-color:#fff}"]}),t})();const X7=["dropdownMenu"];function K7(t,e){1&t&&(Ls(0,"button",6),Ns(1,"mat-icon",7),Bs()),2&t&&Rs("matMenuTriggerFor",Ys().menu.menu)}function Y7(t,e){if(1&t){const t=Vs();Ls(0,"mat-slide-toggle",8),$s("change",(function(e){return Qe(t),Ys().switchSlide(e)})),Bs()}2&t&&Rs("checked",Ys().toggleChecked)}let Q7=(()=>{class t{constructor(){this.dropdownModel=new x2,this.toggle=new Yl,this.action=new Yl}switchSlide(t){this.toggle.emit(t.checked)}emitAction(t){this.action.emit(t)}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275cmp=pe({type:t,selectors:[["au-page-option-title"]],viewQuery:function(t,e){var n;1&t&&lc(X7,!0),2&t&&ac(n=fc())&&(e.menu=n.first)},inputs:{title:"title",displayToggle:"displayToggle",toggleChecked:"toggleChecked",displayMenu:"displayMenu",dropdownModel:"dropdownModel"},outputs:{toggle:"toggle",action:"action"},decls:9,vars:6,consts:[[1,"fields-title"],[1,"field-title-actions"],["mat-icon-button","",3,"matMenuTriggerFor",4,"ngIf"],["color","primary",3,"checked","change",4,"ngIf"],[3,"model","clickAction"],["dropdownMenu",""],["mat-icon-button","",3,"matMenuTriggerFor"],["svgIcon","au-icon-points"],["color","primary",3,"checked","change"]],template:function(t,e){1&t&&(Ls(0,"div",0),Ls(1,"div"),Ca(2),Xl(3,"translate"),Bs(),Ls(4,"div",1),Is(5,K7,2,1,"button",2),Is(6,Y7,1,1,"mat-slide-toggle",3),Bs(),Bs(),Ls(7,"au-action-dropdown",4,5),$s("clickAction",(function(t){return e.emitAction(t)})),Bs()),2&t&&(vr(2),xa(Kl(3,4,e.title)),vr(3),Rs("ngIf",e.displayMenu),vr(1),Rs("ngIf",e.displayToggle),vr(1),Rs("model",e.dropdownModel))},directives:[Eh,W6,NT,IT,oI,_I],pipes:[HR],styles:[".fields-title[_ngcontent-%COMP%]{justify-content:space-between;font-weight:500;font-size:13px;line-height:20px}.fields-title[_ngcontent-%COMP%], .fields-title[_ngcontent-%COMP%]   .field-title-actions[_ngcontent-%COMP%]{display:flex;align-items:center}"]}),t})();const Z7=["familySelect"],J7=["styleSelect"];function t9(t,e){if(1&t&&(Ls(0,"mat-option",11),Ca(1),Bs()),2&t){const t=e.$implicit;Rs("value",t.value),vr(1),Ea(" ",t.viewValue," ")}}function e9(t,e){if(1&t&&(Ls(0,"mat-option",11),Ca(1),Bs()),2&t){const t=e.$implicit;Rs("value",t.value),vr(1),Ea(" ",t.viewValue," ")}}function n9(t,e){if(1&t&&(Ls(0,"mat-option",11),Ca(1),Bs()),2&t){const t=e.$implicit;Rs("value",t.value),vr(1),Ea(" ",t.viewValue," ")}}let i9=(()=>{class t{constructor(t){this.cdr=t,this.sizes=[],this.fonts=[],this.fontStyles=[],this.changeFamily=new Yl,this.changePostScriptName=new Yl,this.changeSize=new Yl}changeFontFamily(t){this.changeFamily.emit(t)}selectFontStyle(t){this.changePostScriptName.emit(t)}changeFontSize(t){this.changeSize.emit(Number(t.target.value))}clickFontSize(t){t.stopPropagation(),this.trigger.openPanel()}selectFontSize(t){this.changeSize.emit(t.option.value)}}return t.\u0275fac=function(e){return new(e||t)(Ms(Xo))},t.\u0275cmp=pe({type:t,selectors:[["au-font"]],viewQuery:function(t,e){var n;1&t&&(cc(WM,!0,WM),cc(Z7,!0),cc(J7,!0)),2&t&&(ac(n=fc())&&(e.trigger=n.first),ac(n=fc())&&(e.familySelect=n.first),ac(n=fc())&&(e.styleSelect=n.first))},inputs:{family:"family",size:"size",postScriptName:"postScriptName",sizes:"sizes",fonts:"fonts",fontStyles:"fontStyles"},outputs:{changeFamily:"changeFamily",changePostScriptName:"changePostScriptName",changeSize:"changeSize"},decls:21,vars:19,consts:[[1,"font-select","mb-2",3,"keydown"],["appearance","outline"],[3,"placeholder","value","valueChange","click"],["familySelect",""],[3,"value",4,"ngFor","ngForOf"],[1,"d-flex","mb-2"],[1,"font-select","mr-2"],["styleSelect",""],["matInput","","auKeyboardNoPropagation","","type","number","autocomplete","off","id","settings-font-size",3,"placeholder","value","matAutocomplete","change","click"],[3,"optionSelected"],["auto","matAutocomplete"],[3,"value"]],template:function(t,e){if(1&t&&(Ls(0,"div",0),$s("keydown",(function(t){return t.stopPropagation()})),Ls(1,"mat-form-field",1),Ls(2,"mat-select",2,3),$s("valueChange",(function(t){return e.changeFontFamily(t)}))("click",(function(){return e.cdr.detectChanges()})),Xl(4,"translate"),Is(5,t9,2,2,"mat-option",4),Bs(),Bs(),Bs(),Ls(6,"div",5),Ls(7,"div",6),Ls(8,"mat-form-field",1),Ls(9,"mat-select",2,7),$s("valueChange",(function(t){return e.selectFontStyle(t)}))("click",(function(){return e.cdr.detectChanges()})),Xl(11,"translate"),Is(12,e9,2,2,"mat-option",4),Bs(),Bs(),Bs(),Ls(13,"div"),Ls(14,"mat-form-field",1),Ls(15,"input",8),$s("change",(function(t){return e.changeFontSize(t)}))("click",(function(t){return e.clickFontSize(t)})),Xl(16,"translate"),Xl(17,"translate"),Bs(),Ls(18,"mat-autocomplete",9,10),$s("optionSelected",(function(t){return e.selectFontSize(t)})),Is(20,n9,2,2,"mat-option",4),Bs(),Bs(),Bs(),Bs()),2&t){const t=As(19);vr(2),Rs("placeholder",Kl(4,11,"Labels.FONT_FAMILY"))("value",e.family),vr(3),Rs("ngForOf",e.fonts),vr(4),Rs("placeholder",Kl(11,13,"Labels.FONT_STYLE"))("value",e.postScriptName),vr(3),Rs("ngForOf",e.fontStyles),vr(3),Rs("placeholder",Kl(16,15,"Labels.SELECT_SIZE"))("value",e.size)("matAutocomplete",t),ks("aria-label",Kl(17,17,"Labels.SELECT_SIZE")),vr(5),Rs("ngForOf",e.sizes)}},directives:[iA,EA,Ch,NA,WM,lq,jM,Tk],pipes:[HR],encapsulation:2}),t})();function r9(t,e){if(1&t&&(Ls(0,"div",6),Ca(1),Bs()),2&t){const t=Ys();vr(1),xa(t.unit)}}let o9=(()=>{class t{constructor(){this.update=new Yl}changeTracking(t){this.update.emit(Number(t.target.value))}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275cmp=pe({type:t,selectors:[["au-tracking-input"]],inputs:{tracking:"tracking",unit:"unit",placeholder:"placeholder"},outputs:{update:"update"},decls:7,vars:6,consts:[[1,"mr-2","d-flex","align-items-center"],[1,"icon-wr","mr-1"],["svgIcon","au-icon-tracking",1,"toggle-button-icon"],["appearance","outline"],["matInput","","auKeyboardNoPropagation","","type","number","autocomplete","off","id","settings-font-size",3,"placeholder","value","change"],["matSuffix","","class","unit-suffix",4,"ngIf"],["matSuffix","",1,"unit-suffix"]],template:function(t,e){1&t&&(Ls(0,"div",0),Ls(1,"div",1),Ns(2,"mat-icon",2),Bs(),Ls(3,"mat-form-field",3),Ls(4,"input",4),$s("change",(function(t){return e.changeTracking(t)})),Xl(5,"translate"),Bs(),Is(6,r9,2,1,"div",5),Bs(),Bs()),2&t&&(vr(4),Rs("placeholder",e.placeholder)("value",e.tracking),ks("aria-label",Kl(5,4,e.placeholder)),vr(2),Rs("ngIf",e.unit))},directives:[oI,iA,NA,lq,Eh,QI],pipes:[HR],encapsulation:2}),t})();function s9(t,e){if(1&t&&(Ls(0,"div",6),Ca(1),Bs()),2&t){const t=Ys();vr(1),xa(t.unit)}}let a9=(()=>{class t{constructor(){this.update=new Yl}changeLeading(t){this.update.emit(Number(t.target.value))}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275cmp=pe({type:t,selectors:[["au-leading-input"]],inputs:{leading:"leading",unit:"unit",placeholder:"placeholder"},outputs:{update:"update"},decls:7,vars:6,consts:[[1,"d-flex","align-items-center"],[1,"icon-wr","mr-1"],["svgIcon","au-icon-leading",1,"toggle-button-icon"],["appearance","outline"],["matInput","","auKeyboardNoPropagation","","type","number","autocomplete","off","id","settings-font-size",3,"placeholder","value","change"],["matSuffix","","class","unit-suffix",4,"ngIf"],["matSuffix","",1,"unit-suffix"]],template:function(t,e){1&t&&(Ls(0,"div",0),Ls(1,"div",1),Ns(2,"mat-icon",2),Bs(),Ls(3,"mat-form-field",3),Ls(4,"input",4),$s("change",(function(t){return e.changeLeading(t)})),Xl(5,"translate"),Bs(),Is(6,s9,2,1,"div",5),Bs(),Bs()),2&t&&(vr(4),Rs("placeholder",Kl(5,4,e.placeholder))("value",e.leading),ks("aria-label",e.placeholder),vr(2),Rs("ngIf",e.unit))},directives:[oI,iA,NA,lq,Eh,QI],pipes:[HR],encapsulation:2}),t})(),l9=(()=>{class t{constructor(){this.hAlignment=ZV,this.align=new Yl}clickAlign(t){this.align.emit(t)}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275cmp=pe({type:t,selectors:[["au-horizontal-alignment"]],inputs:{alignment:"alignment"},outputs:{align:"align"},decls:7,vars:4,consts:[["appearance","legacy","name","horizontalAlign","aria-label","Horizontal align",1,"text-settings-toggle",3,"value"],[3,"value","click"],["svgIcon","au-text-to-left",1,"toggle-button-icon"],["svgIcon","au-text-to-center",1,"toggle-button-icon"],["svgIcon","au-text-to-right",1,"toggle-button-icon"]],template:function(t,e){1&t&&(Ls(0,"mat-button-toggle-group",0),Ls(1,"mat-button-toggle",1),$s("click",(function(){return e.clickAlign(e.hAlignment.Left)})),Ns(2,"mat-icon",2),Bs(),Ls(3,"mat-button-toggle",1),$s("click",(function(){return e.clickAlign(e.hAlignment.Center)})),Ns(4,"mat-icon",3),Bs(),Ls(5,"mat-button-toggle",1),$s("click",(function(){return e.clickAlign(e.hAlignment.Right)})),Ns(6,"mat-icon",4),Bs(),Bs()),2&t&&(Rs("value",e.alignment),vr(1),Rs("value",e.hAlignment.Left),vr(2),Rs("value",e.hAlignment.Center),vr(2),Rs("value",e.hAlignment.Right))},directives:[oM,lM,oI],encapsulation:2}),t})(),c9=(()=>{class t{constructor(){this.vAlignment=JV,this.align=new Yl}clickAlign(t){this.align.emit(t)}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275cmp=pe({type:t,selectors:[["au-vertical-alignment"]],inputs:{alignment:"alignment"},outputs:{align:"align"},decls:7,vars:4,consts:[["appearance","legacy","name","verticalAlign","aria-label","Vertical Align",1,"text-settings-toggle",3,"value"],[3,"value","click"],["svgIcon","au-text-to-top",1,"toggle-button-icon"],["svgIcon","au-text-to-middle",1,"toggle-button-icon"],["svgIcon","au-text-to-bottom",1,"toggle-button-icon"]],template:function(t,e){1&t&&(Ls(0,"mat-button-toggle-group",0),Ls(1,"mat-button-toggle",1),$s("click",(function(){return e.clickAlign(e.vAlignment.Top)})),Ns(2,"mat-icon",2),Bs(),Ls(3,"mat-button-toggle",1),$s("click",(function(){return e.clickAlign(e.vAlignment.Center)})),Ns(4,"mat-icon",3),Bs(),Ls(5,"mat-button-toggle",1),$s("click",(function(){return e.clickAlign(e.vAlignment.Bottom)})),Ns(6,"mat-icon",4),Bs(),Bs()),2&t&&(Rs("value",e.alignment),vr(1),Rs("value",e.vAlignment.Top),vr(2),Rs("value",e.vAlignment.Center),vr(2),Rs("value",e.vAlignment.Bottom))},directives:[oM,lM,oI],encapsulation:2}),t})();function u9(t,e){if(1&t){const t=Vs();Ls(0,"au-horizontal-alignment",8),$s("align",(function(e){return Qe(t),Ys().property.value.alignment=e})),Bs()}2&t&&Rs("alignment",Ys().property.value.alignment)}function h9(t,e){if(1&t){const t=Vs();Ls(0,"au-vertical-alignment",8),$s("align",(function(e){return Qe(t),Ys().property.value.verticalAlignment=e})),Bs()}2&t&&Rs("alignment",Ys().property.value.verticalAlignment)}let d9=(()=>{class t extends f7{constructor(t,e,n){super(e),this._store=t,this._viewerEvtSrv=n,this.fonts=[],this.familyMap=new Map,this.fontList=[],this.fontSizes=[],this._propChangedCb=()=>this.cdr.detectChanges(),this._createFontList=t=>t.map(t=>(this.familyMap.set(t.family,t),this.property&&t.belongMe(this.property.item.font.postScriptName)&&(this.selectedFamily=t.family),t.toListItem())).sort((t,e)=>{const n=t.viewValue.toLowerCase(),i=e.viewValue.toLowerCase();return n<i?-1:n>i?1:0}),this._detect=()=>{this.cdr.detectChanges();const t=this.fonts.find(t=>t.belongMe(this.property.value.postScriptName));this.selectedFamily=t.family,this.fontStyle.updateMenu()}}get openTypeF(){return V1}get fontStyles(){const t=this.familyMap.get(this.selectedFamily);return t?t.stylesList:[]}get hAlignAllowed(){return"number"==typeof this.property.value.alignment}get vAlignAllowed(){return"number"==typeof this.property.value.verticalAlignment}ngOnDestroy(){super.ngOnDestroy(),this.property.item.removePropertyChanged(this._propChangedCb)}ngOnChanges(){const t=this.fonts.find(t=>t.belongMe(this.property.value.postScriptName));Object(j$.maybe)(t).do({just:t=>this.selectedFamily=t.family}),setTimeout(()=>this.cdr.detectChanges(),0)}ngOnInit(){this._store.pipe(cw(t=>t.templateEditor.fonts),Vy(t=>!!t.length),F(t=>[t,this._createFontList(t)]),$y(this._subscriber)).subscribe(([t,e])=>{this.fonts=t,this.fontList=e,this.cdr.detectChanges()}),this._store.pipe(cw(t=>t.templateEditor.configuration.ui.fonts.sizes),F(t=>t.map(t=>({value:t,viewValue:t.toString()}))),$y(this._subscriber)).subscribe(t=>this.fontSizes=t),this._viewerEvtSrv.$enteredEditMode.pipe($y(this._subscriber)).subscribe(()=>{this._detect(),this.property.handler.textEditor.styleChanged.add(this._detect)}),this.property.item.addPropertyChanged(this._propChangedCb)}changeFontFamily(t){const e=this.familyMap.get(this.selectedFamily),n=this.familyMap.get(t);if(this.selectedFamily=t,e){const t=e.findStyleByPostScript(this.property.value.postScriptName),i=n.findStyle(t.style);if(i)return void(this.property.value.postScriptName=i.postscriptName)}const i=n.findStyle("Regular");i?this.property.value.postScriptName=i.postscriptName:(this.property.value.postScriptName=n.firstStylePostScript(),this._detect())}}return t.\u0275fac=function(e){return new(e||t)(Ms(aw),Ms(us),Ms(P2))},t.\u0275cmp=pe({type:t,selectors:[["au-text-settings"]],viewQuery:function(t,e){var n;1&t&&cc(q7,!0),2&t&&ac(n=fc())&&(e.fontStyle=n.first)},inputs:{showName:"showName",property:"property"},features:[Ia,La],decls:12,vars:27,consts:[[3,"title"],[3,"sizes","fonts","fontStyles","family","size","postScriptName","changeSize","changeFamily","changePostScriptName"],[1,"d-flex","mb-2"],[3,"tracking","unit","placeholder","update"],[3,"leading","placeholder","unit","update"],[1,"d-flex","justify-content-between","w-100","mb-2"],[3,"alignment","align",4,"ngIf"],[3,"inplaceActive","textColor","isUnderline","isBold","isItalic","isSubScript","isSuperScript","isSmallCaps","isAllCaps","openType","allCaps","bold","italic","underline","superscript","subscript","smallCaps","changeOpenType","changeColor","otf"],[3,"alignment","align"]],template:function(t,e){1&t&&(Ls(0,"div"),Ns(1,"au-page-option-title",0),Xl(2,"camel"),Ls(3,"au-font",1),$s("changeSize",(function(t){return e.property.value.previewFontSize=t}))("changeFamily",(function(t){return e.changeFontFamily(t)}))("changePostScriptName",(function(t){return e.property.value.postScriptName=t})),Bs(),Ls(4,"div",2),Ls(5,"au-tracking-input",3),$s("update",(function(t){return e.property.value.tracking=t})),Bs(),Ls(6,"au-leading-input",4),$s("update",(function(t){return e.property.value.leading=t})),Bs(),Bs(),Ls(7,"div",5),Is(8,u9,1,1,"au-horizontal-alignment",6),Is(9,h9,1,1,"au-vertical-alignment",6),Bs(),Ls(10,"div",5),Ls(11,"au-font-style",7),$s("allCaps",(function(){return e.property.value.allCaps=!e.property.value.allCaps}))("bold",(function(){return e.property.value.fauxBold=!e.property.value.fauxBold}))("italic",(function(){return e.property.value.fauxItalic=!e.property.value.fauxItalic}))("underline",(function(){return e.property.value.underline=!e.property.value.underline}))("superscript",(function(){return e.property.value.superscript=!e.property.value.superscript}))("subscript",(function(){return e.property.value.subscript=!e.property.value.subscript}))("smallCaps",(function(){return e.property.value.switchOTF(e.openTypeF.smcp)}))("changeOpenType",(function(t){return e.property.value.openType=t}))("changeColor",(function(t){return e.property.value.color=t}))("otf",(function(t){return e.property.value.switchOTF(t)})),Bs(),Bs(),Bs()),2&t&&(vr(1),Rs("title",Kl(2,25,e.property.conf.font.$displayName)),vr(2),Rs("sizes",e.fontSizes)("fonts",e.fontList)("fontStyles",e.fontStyles)("family",e.selectedFamily)("size",e.property.value.previewFontSize)("postScriptName",e.property.value.postScriptName.toLowerCase()),vr(2),Rs("tracking",e.property.value.tracking)("unit",e.property.unit)("placeholder",e.property.conf.tracking.$placeholder),vr(1),Rs("leading",e.property.value.leading)("placeholder",e.property.conf.leading.$placeholder)("unit",e.property.unit),vr(2),Rs("ngIf",e.hAlignAllowed),vr(1),Rs("ngIf",e.vAlignAllowed),vr(2),Rs("inplaceActive",e.property.value.editor)("textColor",e.property.value.color)("isUnderline",e.property.value.underline)("isBold",e.property.value.fauxBold)("isItalic",e.property.value.fauxItalic)("isSubScript",e.property.value.subscript)("isSuperScript",e.property.value.superscript)("isSmallCaps",e.property.value.isOTF(e.openTypeF.smcp))("isAllCaps",e.property.value.allCaps)("openType",e.property.value.openType))},directives:[Q7,i9,o9,a9,Eh,q7,l9,c9],pipes:[m7],styles:[".horizontal-align{display:grid;grid-template-columns:repeat(4,32px)}.vertical-align{display:grid;grid-template-columns:repeat(3,32px)}.mat-button-toggle-group.text-settings-toggle{box-shadow:none}.mat-button-toggle-group.text-settings-toggle .mat-button-toggle{width:32px;height:32px}.mat-button-toggle-group.text-settings-toggle .mat-button-toggle .mat-button-toggle-button .mat-button-toggle-label-content{padding:0;line-height:32px}.mat-button-toggle-group.text-settings-toggle .mat-button-toggle .mat-button-toggle-button .mat-button-toggle-label-content>*{vertical-align:sub}.font-select,.font-select .mat-form-field{width:100%}.icon-wr{width:24px;height:24px}",".property-label{font-size:14px;line-height:20px;font-family:Roboto;margin:6px 0}.property-row{align-items:center;margin-bottom:8px}.property-row>div{overflow:hidden;width:100%;text-overflow:ellipsis}.property-row>div .mat-form-field{width:100%}.property-row.grid{display:grid;grid-template-columns:50% 50%}.property-row.flex{display:flex;justify-content:space-between}"],encapsulation:2}),t})();function p9(t,e){if(1&t){const t=Vs();Ls(0,"span",4),$s("mousemove",(function(){return Qe(t),Ys().detectAfterTimeout()}))("mouseleave",(function(){return Qe(t),Ys().cdr.detectChanges()})),Ca(1),Xl(2,"camel"),Bs()}if(2&t){const t=Ys();Rs("matTooltip",t.property.tooltip)("matTooltipShowDelay",t.tooltipDelay),vr(1),xa(Kl(2,3,t.property.displayName))}}function f9(t,e){if(1&t&&(Ls(0,"mat-option",8),Ca(1),Bs()),2&t){const t=e.$implicit;Rs("value",t.value),vr(1),Ea(" ",t.viewValue," ")}}function m9(t,e){if(1&t){const t=Vs();Ls(0,"div",0),Ls(1,"mat-form-field",5),Ls(2,"mat-select",6),$s("valueChange",(function(e){return Qe(t),Ys().change(e)}))("click",(function(){return Qe(t),Ys().cdr.detectChanges()})),Is(3,f9,2,2,"mat-option",7),Bs(),Bs(),Bs()}if(2&t){const t=Ys();vr(2),Rs("value",t.property.value),vr(1),Rs("ngForOf",t.resizeTypes)}}let g9=(()=>{class t extends p7{constructor(t,e){super(t),this._overlayContainer=e,this.resizeTypes=[{value:B1.proportional,viewValue:"Proportional only"},{value:B1.arbitrary,viewValue:"Arbitrary"},{value:B1.combined,viewValue:"Combined"}],this._overlayClickHandler=()=>this.cdr.detectChanges()}get showList(){return this.property.value!==B1.none}ngOnInit(){this.$scroll.subscribe(()=>{this.tooltip.hide(),this.cdr.detectChanges()}),this._overlayContainer.getContainerElement().addEventListener("click",this._overlayClickHandler)}ngOnDestroy(){super.ngOnDestroy(),this._overlayContainer.getContainerElement().removeEventListener("click",this._overlayClickHandler)}resizeSwitch(t){this.property.value=t.checked?B1.proportional:B1.none,this.cdr.detectChanges()}change(t){this.property.value=t,this.cdr.detectChanges()}}return t.\u0275fac=function(e){return new(e||t)(Ms(us),Ms(Kk))},t.\u0275cmp=pe({type:t,selectors:[["au-resize-grips"]],viewQuery:function(t,e){var n;1&t&&cc(kM,!0),2&t&&ac(n=fc())&&(e.tooltip=n.first)},inputs:{showName:"showName",property:"property"},features:[Ia],decls:4,vars:3,consts:[[1,"property-row"],["labelPosition","before","color","primary",3,"checked","change"],["class","property-label",3,"matTooltip","matTooltipShowDelay","mousemove","mouseleave",4,"ngIf"],["class","property-row",4,"ngIf"],[1,"property-label",3,"matTooltip","matTooltipShowDelay","mousemove","mouseleave"],["appearance","outline",1,"w-100"],[3,"value","valueChange","click"],[3,"value",4,"ngFor","ngForOf"],[3,"value"]],template:function(t,e){1&t&&(Ls(0,"div",0),Ls(1,"mat-slide-toggle",1),$s("change",(function(t){return e.resizeSwitch(t)})),Is(2,p9,3,5,"span",2),Bs(),Bs(),Is(3,m9,4,2,"div",3)),2&t&&(vr(1),Rs("checked",e.showList),vr(1),Rs("ngIf",e.showName),vr(1),Rs("ngIf",e.showList))},directives:[_I,Eh,kM,iA,EA,Ch,Tk],pipes:[m7],styles:[""]}),t})();function y9(t,e){if(1&t){const t=Vs();js(0),Ls(1,"au-toggle-component",1),$s("update",(function(e){return Qe(t),Ys().changeStub(e)})),Bs(),Ls(2,"au-file-reader",2),$s("selectFile",(function(e){return Qe(t),Ys().uploadFiles(e)}))("closeDialog",(function(){return Qe(t),Ys().closeDialog()})),Bs(),zs()}if(2&t){const t=Ys();vr(1),Rs("displayName",t.property.displayName)("showName",!0)("tooltip",t.property.tooltip)("value",t.enabled),vr(1),Rs("accept","*.jpg *.jpeg *.png")("id",t.inpId)}}let _9=(()=>{class t extends f7{constructor(t,e){super(t),this._itemSrv=e}get item(){return this.property.item}get enabled(){var t,e;return this.item.stubStorageMeta instanceof fW.ImageSource?!!(null===(t=this.item.stubStorageMeta)||void 0===t?void 0:t.id):!!(null===(e=this.item.stubStorageMeta)||void 0===e?void 0:e.storageId)}get isBarcode(){return this.property.item.isBarcodePlaceholder}changeStub(t){t?this.reader.openDialog():(this.item.stubStorageMeta=null,this.item.isStubContent&&(this.item.isStubContent=!1,this.item.content=null,this._itemSrv.updatePlaceholderContent(this.item)))}uploadFiles(t){return vR(this,void 0,void 0,(function*(){const e=yield this._itemSrv.uploadImage(t);this.item.stubStorageMeta=e.source,this.item.content||(this.item.content=e,this.item.isStubContent=!0,this._itemSrv.updatePlaceholderContent(this.item)),this.cdr.detectChanges()}))}closeDialog(){this.enabled&&this.toggle.matToggle.writeValue(!1),this.cdr.detectChanges()}}return t.\u0275fac=function(e){return new(e||t)(Ms(us),Ms(a2))},t.\u0275cmp=pe({type:t,selectors:[["au-placeholder-stub-image"]],viewQuery:function(t,e){var n;1&t&&(cc(x6,!0),cc(P7,!0)),2&t&&(ac(n=fc())&&(e.reader=n.first),ac(n=fc())&&(e.toggle=n.first))},features:[Ia],decls:1,vars:1,consts:[[4,"ngIf"],[3,"displayName","showName","tooltip","value","update"],[3,"accept","id","selectFile","closeDialog"]],template:function(t,e){1&t&&Is(0,y9,3,6,"ng-container",0),2&t&&Rs("ngIf",!e.isBarcode)},directives:[Eh,P7,x6],encapsulation:2}),t})();function v9(t,e){1&t&&Hs(0)}const b9=function(t){return{branch:t}};function w9(t,e){if(1&t&&(js(0),Is(1,v9,1,0,"ng-container",2),zs()),2&t){const t=Ys(),e=As(2);vr(1),Rs("ngTemplateOutlet",e)("ngTemplateOutletContext",Vl(2,b9,t.branch))}}function C9(t,e){1&t&&Hs(0)}function x9(t,e){if(1&t&&(js(0),Ls(1,"div"),Ns(2,"au-property-tree-out"),Is(3,C9,1,0,"ng-container",2),Bs(),zs()),2&t){const t=Ys().$implicit;Ys(2);const e=As(2);vr(3),Rs("ngTemplateOutlet",e)("ngTemplateOutletContext",Vl(2,b9,t))}}function E9(t,e){if(1&t&&(js(0),Ns(1,"au-control-switcher",4),zs()),2&t){const t=Ys().$implicit,e=Ys(2);vr(1),Rs("property",t)("showName",e.showName)}}function S9(t,e){if(1&t&&(js(0),Is(1,x9,4,4,"ng-container",0),Is(2,E9,2,2,"ng-container",0),zs()),2&t){const t=e.$implicit;vr(1),Rs("ngIf","object"===t.dataType),vr(1),Rs("ngIf","object"!==t.dataType)}}function P9(t,e){1&t&&Is(0,S9,3,2,"ng-container",3),2&t&&Rs("ngForOf",e.branch.items)}let O9=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275cmp=pe({type:t,selectors:[["au-nullable-tree-out"]],inputs:{branch:"branch",showName:"showName"},decls:3,vars:1,consts:[[4,"ngIf"],["child",""],[4,"ngTemplateOutlet","ngTemplateOutletContext"],[4,"ngFor","ngForOf"],[3,"property","showName"]],template:function(t,e){1&t&&(Is(0,w9,2,4,"ng-container",0),Is(1,P9,1,1,"ng-template",null,1,_c)),2&t&&Rs("ngIf",e.branch)},encapsulation:2}),t})();function k9(t,e){if(1&t&&Ns(0,"au-nullable-tree-out",5),2&t){const t=Ys(2);Rs("showName",!0)("branch",t.propTree)}}function T9(t,e){if(1&t&&Ns(0,"au-nullable-tree-out",5),2&t){const t=Ys(2);Rs("showName",!1)("branch",t.propTree)}}function I9(t,e){if(1&t){const t=Vs();js(0),Ls(1,"div",1),Ls(2,"mat-slide-toggle",2),$s("change",(function(e){return Qe(t),Ys().enable(e.checked)})),Ls(3,"span",3),$s("mousemove",(function(){return Qe(t),Ys().detectAfterTimeout()}))("mouseleave",(function(){return Qe(t),Ys().cdr.detectChanges()})),Xl(4,"camel"),Ca(5),Xl(6,"camel"),Bs(),Bs(),Bs(),Is(7,k9,1,2,"au-nullable-tree-out",4),Is(8,T9,1,2,"au-nullable-tree-out",4),zs()}if(2&t){const t=Ys();vr(2),Rs("checked",t.enabled),vr(1),Rs("matTooltip",Kl(4,6,t.property.tooltip))("matTooltipShowDelay",t.tooltipDelay),vr(2),Ea(" ",Kl(6,8,t.property.displayName)," "),vr(2),Rs("ngIf",t.enabled&&!t.isSimple),vr(1),Rs("ngIf",t.enabled&&t.isSimple)}}function A9(t,e){if(1&t&&(Ls(0,"span",10),Ca(1),Xl(2,"camel"),Bs()),2&t){const t=Ys(2);vr(1),xa(Kl(2,1,t.property.displayName))}}function M9(t,e){if(1&t){const t=Vs();js(0),Ls(1,"div",6),Ls(2,"div",7),$s("mousemove",(function(){return Qe(t),Ys().detectAfterTimeout()}))("mouseleave",(function(){return Qe(t),Ys().cdr.detectChanges()})),Is(3,A9,3,3,"span",8),Bs(),Ls(4,"div",9),Ca(5,"Factory not found!"),Bs(),Bs(),zs()}if(2&t){const t=Ys();vr(2),Rs("matTooltip",t.property.tooltip)("matTooltipShowDelay",t.tooltipDelay),vr(1),Rs("ngIf",t.showName)}}let D9=(()=>{class t extends p7{constructor(t){super(t),this.showName=!0}ngOnInit(){this.$scroll.subscribe(()=>{this.tooltip.hide(),this.cdr.detectChanges()}),this.property.metadata.propertyFactory?this._propFactory=this.property.metadata.propertyFactory:console.warn(`Property ${this.property.path.join(".")} must have value or propertyFactory!`),this._initTree()}get haveFactory(){return!!this._propFactory}get enabled(){return null!==this.property.value}get isSimple(){return 1===this.propTree.items.length&&"object"!==this.propTree.items[0].dataType}enable(t){t?(this.property.value=this._propFactory.getDefaultValue(this._propFactory instanceof LV?this._propFactory.derivedTypes[0]:null),this.propTree=this._propSrv.createTreeByPath(this.property.item,[this.property.path],!1,!1)):(this.property.value=null,this.propTree=null),this._propSrv.notifyPropertyChange(this.property.path,this.property.value),this.cdr.detectChanges()}_initTree(){null!==this.property.value&&(this.propTree=this._propSrv.createTreeByPath(this.property.item,[this.property.path],!1,!1),this.cdr.detectChanges())}}return t.\u0275fac=function(e){return new(e||t)(Ms(us))},t.\u0275cmp=pe({type:t,selectors:[["au-nullable-input"]],viewQuery:function(t,e){var n;1&t&&cc(kM,!0),2&t&&ac(n=fc())&&(e.tooltip=n.first)},inputs:{property:"property",showName:"showName"},features:[Ia],decls:2,vars:2,consts:[[4,"ngIf"],[1,"property-row"],["color","primary","labelPosition","before",3,"checked","change"],[1,"property-label",3,"matTooltip","matTooltipShowDelay","mousemove","mouseleave"],[3,"showName","branch",4,"ngIf"],[3,"showName","branch"],[1,"property-row","grid"],[3,"matTooltip","matTooltipShowDelay","mousemove","mouseleave"],["class","property-label",4,"ngIf"],[1,"property-label","font-weight-bold"],[1,"property-label"]],template:function(t,e){1&t&&(Is(0,I9,9,10,"ng-container",0),Is(1,M9,6,3,"ng-container",0)),2&t&&(Rs("ngIf",e.haveFactory),vr(1),Rs("ngIf",!e.haveFactory))},directives:[Eh,_I,kM,O9],pipes:[m7],styles:["",".property-label[_ngcontent-%COMP%]{font-size:14px;line-height:20px;font-family:Roboto;margin:6px 0}.property-row[_ngcontent-%COMP%]{align-items:center;margin-bottom:8px}.property-row[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]{overflow:hidden;width:100%;text-overflow:ellipsis}.property-row[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]   .mat-form-field[_ngcontent-%COMP%]{width:100%}.property-row.grid[_ngcontent-%COMP%]{display:grid;grid-template-columns:50% 50%}.property-row.flex[_ngcontent-%COMP%]{display:flex;justify-content:space-between}"]}),t})();function R9(t,e){if(1&t&&(Ls(0,"label",4),Ca(1),Xl(2,"camel"),Bs()),2&t){const t=Ys();vr(1),Ea("",Kl(2,1,t.property.displayName),": ")}}let F9=(()=>{class t extends p7{constructor(t){super(t),this.showName=!0}ngOnInit(){this.$scroll.subscribe(()=>{this.tooltip.hide(),this.cdr.detectChanges()})}}return t.\u0275fac=function(e){return new(e||t)(Ms(us))},t.\u0275cmp=pe({type:t,selectors:[["au-not-implemented-input"]],viewQuery:function(t,e){var n;1&t&&cc(kM,!0),2&t&&ac(n=fc())&&(e.tooltip=n.first)},inputs:{property:"property",showName:"showName"},features:[Ia],decls:7,vars:6,consts:[[1,"property-row","grid"],[3,"matTooltip","matTooltipShowDelay","mousemove","mouseleave"],["class","property-label",4,"ngIf"],[1,"property-label","font-weight-bold"],[1,"property-label"]],template:function(t,e){1&t&&(Ls(0,"div",0),Ls(1,"div",1),$s("mousemove",(function(){return e.detectAfterTimeout()}))("mouseleave",(function(){return e.cdr.detectChanges()})),Xl(2,"camel"),Is(3,R9,3,3,"label",2),Bs(),Ls(4,"div"),Ls(5,"span",3),Ca(6),Bs(),Bs(),Bs()),2&t&&(vr(1),Rs("matTooltip",Kl(2,4,e.property.tooltip))("matTooltipShowDelay",e.tooltipDelay),vr(2),Rs("ngIf",e.showName),vr(3),xa(e.property.value))},directives:[kM,Eh],pipes:[m7],styles:["",".property-label[_ngcontent-%COMP%]{font-size:14px;line-height:20px;font-family:Roboto;margin:6px 0}.property-row[_ngcontent-%COMP%]{align-items:center;margin-bottom:8px}.property-row[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]{overflow:hidden;width:100%;text-overflow:ellipsis}.property-row[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]   .mat-form-field[_ngcontent-%COMP%]{width:100%}.property-row.grid[_ngcontent-%COMP%]{display:grid;grid-template-columns:50% 50%}.property-row.flex[_ngcontent-%COMP%]{display:flex;justify-content:space-between}"]}),t})();function L9(t,e){if(1&t&&(Ls(0,"label",5),Ca(1),Xl(2,"camel"),Bs()),2&t){const t=Ys();Rs("for",t.inpId),vr(1),xa(Kl(2,2,t.property.displayName))}}let B9=(()=>{class t extends f7{constructor(t,e){super(t),this._store=e,this.separatorKeysCodes=[13,188],this._wasSet=!1,this._store.pipe(cw(t=>t.templateEditor.viewer),Vy(t=>!!t)).subscribe(t=>this._canvas=t.canvas)}get stringifyValue(){return this.property.value.join(this._isFocused?" ":", ")}ngOnInit(){this.$scroll.subscribe(()=>{this.tooltip.hide(),this.cdr.detectChanges()})}setDash(t){this._wasSet||(this.property.value=this._prepareValue(t.target.value)),this._wasSet=!1,this._isFocused=!1,this._canvas.redraw(),this.cdr.detectChanges()}enterDash(t){const e=t.target;this.property.value=this._prepareValue(e.value),this._wasSet=!0,e.blur(),this._canvas.redraw(),this.cdr.detectChanges()}_prepareValue(t){const e=(t=t.split(",").join(" ")).split(" ").filter(t=>!!t.trim()).map(t=>isNaN(Number(t))?0:Number(t));return e.length%2==1&&e.push(e[e.length-1]),e}focus(t){const e=t.target;this._isFocused=!0,this.cdr.detectChanges(),e.setSelectionRange(0,e.value.length)}}return t.\u0275fac=function(e){return new(e||t)(Ms(us),Ms(aw))},t.\u0275cmp=pe({type:t,selectors:[["au-dash-input"]],viewQuery:function(t,e){var n;1&t&&cc(kM,!0),2&t&&ac(n=fc())&&(e.tooltip=n.first)},inputs:{showName:"showName",property:"property"},features:[Ia],decls:6,vars:7,consts:[[1,"property-row","grid"],[3,"matTooltipShowDelay","matTooltip","mousemove","mouseleave"],["class","property-label",3,"for",4,"ngIf"],["appearance","outline"],["matInput","","auInputLimits","","auKeyboardNoPropagation","","autocomplete","off",3,"id","value","blur","focus","keydown.enter"],[1,"property-label",3,"for"]],template:function(t,e){1&t&&(Ls(0,"div",0),Ls(1,"div",1),$s("mousemove",(function(){return e.detectAfterTimeout()}))("mouseleave",(function(){return e.cdr.detectChanges()})),Xl(2,"camel"),Is(3,L9,3,4,"label",2),Bs(),Ls(4,"mat-form-field",3),Ls(5,"input",4),$s("blur",(function(){return e.cdr.detectChanges()}))("blur",(function(t){return e.setDash(t)}))("focus",(function(t){return e.focus(t)}))("keydown.enter",(function(t){return e.enterDash(t)})),Bs(),Bs(),Bs()),2&t&&(vr(1),Rs("matTooltipShowDelay",e.tooltipDelay)("matTooltip",Kl(2,5,e.property.tooltip)),vr(2),Rs("ngIf",e.showName),vr(2),Rs("id",e.inpId)("value",e.stringifyValue))},directives:[kM,Eh,iA,NA,lq],pipes:[m7],styles:[".mat-input-element[_ngcontent-%COMP%]{text-align:end}",".property-label[_ngcontent-%COMP%]{font-size:14px;line-height:20px;font-family:Roboto;margin:6px 0}.property-row[_ngcontent-%COMP%]{align-items:center;margin-bottom:8px}.property-row[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]{overflow:hidden;width:100%;text-overflow:ellipsis}.property-row[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]   .mat-form-field[_ngcontent-%COMP%]{width:100%}.property-row.grid[_ngcontent-%COMP%]{display:grid;grid-template-columns:50% 50%}.property-row.flex[_ngcontent-%COMP%]{display:flex;justify-content:space-between}"]}),t})();function N9(t,e){if(1&t&&(Ls(0,"label",4),Ca(1),Xl(2,"camel"),Bs()),2&t){const t=Ys();Rs("for",t.id),vr(1),xa(Kl(2,2,t.fieldName))}}let j9=(()=>{class t extends p7{constructor(t){super(t),this.action=new Yl}onClick(){this.action.emit()}}return t.\u0275fac=function(e){return new(e||t)(Ms(us))},t.\u0275cmp=pe({type:t,selectors:[["au-button-input"]],inputs:{tooltip:"tooltip",id:"id",showName:"showName",fieldName:"fieldName",btnTitle:"btnTitle"},outputs:{action:"action"},features:[Ia],decls:7,vars:6,consts:[[1,"property-row","grid"],[3,"matTooltip","matTooltipShowDelay","mousemove","mouseleave"],["class","property-label",3,"for",4,"ngIf"],["mat-stroked-button","",1,"w-100",3,"click"],[1,"property-label",3,"for"]],template:function(t,e){1&t&&(Ls(0,"div",0),Ls(1,"div",1),$s("mousemove",(function(){return e.detectAfterTimeout()}))("mouseleave",(function(){return e.cdr.detectChanges()})),Xl(2,"camel"),Is(3,N9,3,4,"label",2),Bs(),Ls(4,"div"),Ls(5,"button",3),$s("click",(function(){return e.onClick()})),Ca(6),Bs(),Bs(),Bs()),2&t&&(vr(1),Rs("matTooltip",Kl(2,4,e.tooltip))("matTooltipShowDelay",e.tooltipDelay),vr(2),Rs("ngIf",e.showName),vr(3),xa(e.btnTitle))},directives:[kM,Eh,NT],pipes:[m7],encapsulation:2}),t})();function z9(t,e){if(1&t&&(Ls(0,"div",19),Ca(1),Bs()),2&t){const t=Ys();vr(1),xa(t.getUnit("left"))}}function H9(t,e){if(1&t&&(Ls(0,"div",19),Ca(1),Bs()),2&t){const t=Ys();vr(1),xa(t.getUnit("top"))}}function V9(t,e){1&t&&(Ls(0,"div",20),Ns(1,"div",21),Bs())}function U9(t,e){if(1&t&&(Ls(0,"div",19),Ca(1),Bs()),2&t){const t=Ys(2);vr(1),xa(t.getUnit("width"))}}function W9(t,e){if(1&t&&(Ls(0,"div",19),Ca(1),Bs()),2&t){const t=Ys(2);vr(1),xa(t.getUnit("width"))}}function $9(t,e){if(1&t){const t=Vs();Ls(0,"div",0),Ls(1,"div",10),Ca(2,"W"),Bs(),Ls(3,"div",11),Ls(4,"mat-form-field",12),Ls(5,"input",13),$s("blur",(function(e){return Qe(t),Ys().changeWidth(e)}))("keydown.enter",(function(e){return Qe(t),Ys().changeWidth(e)}))("change",(function(e){return Qe(t),Ys().changeWidth(e)})),Bs(),Is(6,U9,2,1,"div",14),Bs(),Bs(),Ls(7,"div",15),Ca(8,"H"),Bs(),Ls(9,"div",11),Ls(10,"mat-form-field",12),Ls(11,"input",13),$s("blur",(function(e){return Qe(t),Ys().changeHeight(e)}))("keydown.enter",(function(e){return Qe(t),Ys().changeHeight(e)}))("change",(function(e){return Qe(t),Ys().changeHeight(e)})),Bs(),Is(12,W9,2,1,"div",14),Bs(),Bs(),Ls(13,"div",20),Ls(14,"button",22),$s("click",(function(){return Qe(t),Ys().lockField()})),Xl(15,"translate"),Xl(16,"translate"),Ns(17,"mat-icon",23),Bs(),Bs(),Bs()}if(2&t){const t=Ys();vr(5),Rs("step",null==t.property.conf.sourcePath.bounds?null:t.property.conf.sourcePath.bounds.width.$step)("formControl",t.width),vr(1),Rs("ngIf",t.getUnit("width")),vr(5),Rs("step",null==t.property.conf.sourcePath.bounds?null:t.property.conf.sourcePath.bounds.height.$step)("formControl",t.height),vr(1),Rs("ngIf",t.getUnit("width")),vr(2),Rs("matTooltip",Kl(15,9,"KEEP_PROPORTION_TOOLTIP")),ks("aria-label",Kl(16,11,"KEEP_PROPORTION_TOOLTIP")),vr(3),Rs("svgIcon",t.isLock?"au-lock":"au-unlock")}}function G9(t,e){if(1&t&&(Ls(0,"div",19),Ca(1),Bs()),2&t){const t=Ys(2);vr(1),xa(t.angleUnit)}}function q9(t,e){if(1&t){const t=Vs();Ls(0,"div",0),Ls(1,"div",10),Ca(2,"R"),Bs(),Ls(3,"div",24),Ls(4,"mat-form-field",12),Ls(5,"input",25),$s("blur",(function(e){return Qe(t),Ys().changeAngle(e)}))("keydown.enter",(function(e){return Qe(t),Ys().changeAngle(e)}))("change",(function(e){return Qe(t),Ys().changeAngle(e)})),Bs(),Is(6,G9,2,1,"div",14),Bs(),Bs(),Bs()}if(2&t){const t=Ys();vr(5),Rs("formControl",t.angle),vr(1),Rs("ngIf",t.angleUnit)}}function X9(t,e){if(1&t){const t=Vs();Ls(0,"au-button-input",26),$s("action",(function(){return Qe(t),Ys().convertToLayout()})),Xl(1,"translate"),Xl(2,"translate"),Xl(3,"translate"),Bs()}2&t&&Rs("btnTitle",Kl(1,5,"Labels.TO_LAYOUT"))("tooltip",Kl(2,7,"Labels.CONVERT"))("id","convertToLayout")("showName",!0)("fieldName",Kl(3,9,"Labels.CONVERT"))}function K9(t,e){if(1&t){const t=Vs();Ls(0,"au-button-input",26),$s("action",(function(){return Qe(t),Ys().convertGroup()})),Xl(1,"translate"),Xl(2,"translate"),Xl(3,"translate"),Bs()}2&t&&Rs("btnTitle",Kl(1,5,"Labels.TO_GROUP"))("tooltip",Kl(2,7,"Labels.CONVERT"))("id","convertToGroup")("showName",!0)("fieldName",Kl(3,9,"Labels.CONVERT"))}let Y9=(()=>{class t extends p7{constructor(t,e,n){super(n),this._itemSrv=t,this._store=e,this.actions=q$,this.isLock=!1,this._update=()=>{const{width:t,height:e,top:n,left:i}=this.property.conf.sourcePath.bounds,{top:r,left:o}=this.property.handler.bounds,{width:s,height:a}=this.property.handler.rectangle,l=({$accuracy:t})=>"number"==typeof t?t:4;if(this._lastHeight=Number(this._decimalPipe.transform(this._unit2pipe.value2unit(a,this.getUnit("height")),`1.${l(e)}-${l(e)}`)),this._lastWidth=Number(this._decimalPipe.transform(this._unit2pipe.value2unit(s,this.getUnit("width")),`1.${l(t)}-${l(t)}`)),M$(this.property.item)){const t=this.property.item.items.toArray().map(t=>t.transform.angle),e=Math.min(...t);this._lastAngle=Math.round(e)}else this._lastAngle=Math.round(this.property.item.transform.angle);this.width.setValue(this._lastWidth),this.height.setValue(this._lastHeight),this.top.setValue(this._decimalPipe.transform(this._unit2pipe.value2unit(r,this.getUnit("top")),`1.${l(n)}-${l(n)}`)),this.left.setValue(this._decimalPipe.transform(this._unit2pipe.value2unit(o,this.getUnit("left")),`1.${l(i)}-${l(i)}`)),this.angle.setValue(this._lastAngle),this._initButtonState(),this.cdr.detectChanges()},this._itemSrv.$alignAction.pipe($y(this._subscriber)).subscribe(()=>this._update()),this._store.pipe(cw(t=>t.templateEditor.configuration.ui.unit.shortName),$y(this._subscriber)).subscribe(t=>this._globalUnit=t),this._store.pipe(cw(t=>t.templateEditor.viewer),Vy(t=>!!t),$y(this._subscriber)).subscribe(t=>this._viewer=t),this._propSrv.$unitChange.pipe($y(this._subscriber)).subscribe(t=>{this._globalUnit=t,this._update()})}get isGroup(){return this.property.item.type===RU.type}get isLayout(){return this.property.item.type===IW.type}get hideSize(){return this.property.item instanceof KW}get hideAngle(){return this.property.item.type===IW.type}get top(){return this.form.get("top")}get left(){return this.form.get("left")}get width(){return this.form.get("width")}get height(){return this.form.get("height")}get angle(){return this.form.get("angle")}get horPosition(){return this.form.get("horPosition")}get verPosition(){return this.form.get("verPosition")}ngOnInit(){this.$scroll.subscribe(()=>{this.tooltip.hide(),this.cdr.detectChanges()});const{$min:t,$max:e}=this.property.conf.transformConf.angle,n=[];"number"==typeof t&&n.push(Pd.min(t)),"number"==typeof e&&n.push(Pd.max(e)),this.property.handler.addChanging(this._update),this.form=new gp({top:new mp(0,this._getValidators("top")),left:new mp(0,this._getValidators("left")),width:new mp(0,this._getValidators("width")),height:new mp(0,this._getValidators("height")),angle:new mp(0,n),horPosition:new mp,verPosition:new mp}),this._update()}ngOnDestroy(){super.ngOnDestroy(),this.property.handler.removeChanging(this._update)}changeHorPos(t){1===this._viewer.selectedItems.length?this._itemSrv.handleAlign(t.value,[this.property.item]):this._itemSrv.handleAlign(t.value),this.horPosition.setValue(t.value),this._update()}changeVerPos(t){1===this._viewer.selectedItems.length?this._itemSrv.handleAlign(t.value,[this.property.item]):this._itemSrv.handleAlign(t.value),this.verPosition.setValue(t.value),this._update()}changeWidth(t){return vR(this,void 0,void 0,(function*(){if(this._lastWidth!==Number(this.width.value))if(this.width.value>=0){if(this.isLock){const{width:t,height:e}=this.property.handler.rectangle;this._lastWidth=this.width.value*(e/t),this.height.setValue(this._lastWidth),this._handleBlur("height")}this._handleBlur("width"),yield this._itemSrv.resizeItem(this.property.item,this._unit2pipe.unit2value(this.width.value,this.getUnit("width"))||1e-4,this._unit2pipe.unit2value(this.height.value,this.getUnit("height"))||1e-4),this._viewer.canvas.continueRedraw(),this._update()}else this.width.setValue(0);this._blur(t)}))}changeHeight(t){return vR(this,void 0,void 0,(function*(){if(this._lastHeight!==Number(this.height.value))if(this.height.value>=0){if(this._handleBlur("height"),this.isLock){const{width:t,height:e}=this.property.handler.rectangle;this._lastHeight=this.height.value*(t/e),this.width.setValue(this._lastHeight),this._handleBlur("width")}yield this._itemSrv.resizeItem(this.property.item,this._unit2pipe.unit2value(this.width.value,this.getUnit("width"))||1e-4,this._unit2pipe.unit2value(this.height.value,this.getUnit("height"))||1e-4),this._viewer.canvas.continueRedraw(),this._update()}else this.height.setValue(0);this._blur(t)}))}changeX(t){return vR(this,void 0,void 0,(function*(){this._handleBlur("left"),yield this._itemSrv.moveItemToPoint(this.property.item,{x:this._unit2pipe.unit2value(this.left.value,this.getUnit("left")),y:this._unit2pipe.unit2value(this.top.value,this.getUnit("top"))}),this._initButtonState(),this._blur(t)}))}changeY(t){return vR(this,void 0,void 0,(function*(){this._handleBlur("top"),yield this._itemSrv.moveItemToPoint(this.property.item,{x:this._unit2pipe.unit2value(this.left.value,this.getUnit("left")),y:this._unit2pipe.unit2value(this.top.value,this.getUnit("top"))}),this._initButtonState(),this._blur(t)}))}changeAngle(t){const e=this.angle.value%360;this.angle.valid&&this._lastAngle!==e?(this.angle.setValue(e),this._lastAngle=e,this._itemSrv.setItemAngle(this.property.item,this.angle.value)):(this.angle.setValue(Math.round(this.property.item.transform.angle)),this._lastAngle=Math.round(this.property.item.transform.angle)),this._blur(t),this._update(),this.cdr.detectChanges()}getUnit(t){if(this.property.conf.sourcePath.bounds){const{$useUnit:e,$unit:n}=this.property.conf.sourcePath.bounds[t];return n||e?this._globalUnit:void 0}return this._globalUnit}get angleUnit(){const{$useUnit:t,$unit:e}=this.property.conf.transformConf.angle;return e||(t?this._globalUnit:void 0)}lockField(){this.isLock=!this.isLock}_initButtonState(){this.verPosition.setValue(null),this.horPosition.setValue(null);const[t,e]=this._itemSrv.checkAlignment(this.property.item);this.horPosition.setValue(e),this.verPosition.setValue(t)}_handleBlur(t){const e=this.form.get(t);e.valid?this.property.value[t]=this._unit2pipe.value2unit(e.value,this.getUnit(t)):e.setValue(this._unit2pipe.value2unit(e.value,this.getUnit(t))),this.cdr.detectChanges()}_getValidators(t){const e=[];if(this.property.conf.sourcePath.bounds){const{$min:n,$max:i}=this.property.conf.sourcePath.bounds[t];"number"==typeof n&&e.push(Pd.min(n)),"number"==typeof i&&e.push(Pd.max(i))}return"number"==typeof this.property.value[t]&&e.push(Pd.pattern(KG)),e}convertGroup(){return vR(this,void 0,void 0,(function*(){const t=this.property.item;yield this._itemSrv.convertToGroup(t)}))}convertToLayout(){return vR(this,void 0,void 0,(function*(){const t=this.property.item;yield this._itemSrv.convertToLayout(t)}))}}return t.\u0275fac=function(e){return new(e||t)(Ms(a2),Ms(aw),Ms(us))},t.\u0275cmp=pe({type:t,selectors:[["au-position-input"]],viewQuery:function(t,e){var n;1&t&&cc(kM,!0),2&t&&ac(n=fc())&&(e.tooltip=n.first)},inputs:{property:"property"},features:[Ia],decls:34,vars:23,consts:[[1,"d-flex","mb-2"],["name","hPos","appearance","legacy","name","horizontalPosition","aria-label","Horizontal position",1,"position-settings-toggle",3,"change"],[3,"checked","value"],["svgIcon","au-to-left"],["svgIcon","au-to-center"],["svgIcon","au-to-right"],["name","vPos","appearance","legacy","name","verticalPosition","aria-label","Vertical position",1,"position-settings-toggle",3,"change"],["svgIcon","au-to-top"],["svgIcon","au-to-middle"],["svgIcon","au-to-bottom"],[1,"d-flex","align-items-center","field-name","pr-2",2,"width","12px"],[1,"d-flex","align-items-center"],["appearance","outline"],["auKeyboardNoPropagation","","matInput","","autocomplete","off","type","number",3,"step","formControl","blur","keydown.enter","change"],["matSuffix","","class","unit-suffix",4,"ngIf"],[1,"d-flex","align-items-center","field-name","px-2",2,"width","12px"],["class","d-flex align-items-center ml-1",4,"ngIf"],["class","d-flex mb-2",4,"ngIf"],[3,"btnTitle","tooltip","id","showName","fieldName","action",4,"ngIf"],["matSuffix","",1,"unit-suffix"],[1,"d-flex","align-items-center","ml-1"],[2,"width","40px"],["mat-icon-button","",3,"matTooltip","click"],[3,"svgIcon"],[2,"width","71px"],["auKeyboardNoPropagation","","matInput","","autocomplete","off","type","number",3,"formControl","blur","keydown.enter","change"],[3,"btnTitle","tooltip","id","showName","fieldName","action"]],template:function(t,e){1&t&&(Ls(0,"div"),Ls(1,"div",0),Ls(2,"mat-button-toggle-group",1),$s("change",(function(t){return e.changeHorPos(t)})),Ls(3,"mat-button-toggle",2),Ns(4,"mat-icon",3),Bs(),Ls(5,"mat-button-toggle",2),Ns(6,"mat-icon",4),Bs(),Ls(7,"mat-button-toggle",2),Ns(8,"mat-icon",5),Bs(),Bs(),Ls(9,"mat-button-toggle-group",6),$s("change",(function(t){return e.changeVerPos(t)})),Ls(10,"mat-button-toggle",2),Ns(11,"mat-icon",7),Bs(),Ls(12,"mat-button-toggle",2),Ns(13,"mat-icon",8),Bs(),Ls(14,"mat-button-toggle",2),Ns(15,"mat-icon",9),Bs(),Bs(),Bs(),Ls(16,"div",0),Ls(17,"div",10),Ca(18,"X"),Bs(),Ls(19,"div",11),Ls(20,"mat-form-field",12),Ls(21,"input",13),$s("blur",(function(t){return e.changeY(t)}))("keydown.enter",(function(t){return e.changeY(t)}))("change",(function(t){return e.changeY(t)})),Bs(),Is(22,z9,2,1,"div",14),Bs(),Bs(),Ls(23,"div",15),Ca(24,"Y"),Bs(),Ls(25,"div",11),Ls(26,"mat-form-field",12),Ls(27,"input",13),$s("blur",(function(t){return e.changeX(t)}))("keydown.enter",(function(t){return e.changeX(t)}))("change",(function(t){return e.changeX(t)})),Bs(),Is(28,H9,2,1,"div",14),Bs(),Bs(),Is(29,V9,2,0,"div",16),Bs(),Is(30,$9,18,13,"div",17),Is(31,q9,7,2,"div",17),Bs(),Is(32,X9,4,11,"au-button-input",18),Is(33,K9,4,11,"au-button-input",18)),2&t&&(vr(3),Rs("checked",e.horPosition.value===e.actions.AlignToLeft)("value",e.actions.AlignToLeft),vr(2),Rs("checked",e.horPosition.value===e.actions.AlignCenter)("value",e.actions.AlignCenter),vr(2),Rs("checked",e.horPosition.value===e.actions.AlignRight)("value",e.actions.AlignRight),vr(3),Rs("checked",e.verPosition.value===e.actions.AlignToTop)("value",e.actions.AlignToTop),vr(2),Rs("checked",e.verPosition.value===e.actions.AlignToMiddle)("value",e.actions.AlignToMiddle),vr(2),Rs("checked",e.verPosition.value===e.actions.AlignToBottom)("value",e.actions.AlignToBottom),vr(7),Rs("step",null==e.property.conf.sourcePath?null:e.property.conf.sourcePath.bounds.top.$step)("formControl",e.left),vr(1),Rs("ngIf",e.getUnit("left")),vr(5),Rs("step",null==e.property.conf.sourcePath?null:e.property.conf.sourcePath.bounds.left.$step)("formControl",e.top),vr(1),Rs("ngIf",e.getUnit("top")),vr(1),Rs("ngIf",!e.hideSize),vr(1),Rs("ngIf",!e.hideSize),vr(1),Rs("ngIf",!e.hideAngle),vr(1),Rs("ngIf",e.isGroup),vr(1),Rs("ngIf",e.isLayout))},directives:[oM,lM,oI,iA,NA,Dd,pd,lq,bd,Mp,Eh,QI,NT,kM,j9],pipes:[HR],styles:[".mat-button-toggle-group.position-settings-toggle{box-shadow:none}.mat-button-toggle-group.position-settings-toggle .mat-button-toggle{width:32px;height:32px;margin-right:4px}.mat-button-toggle-group.position-settings-toggle .mat-button-toggle.mat-button-toggle-checked{background-color:unset}.mat-button-toggle-group.position-settings-toggle .mat-button-toggle.mat-button-toggle-checked .mat-icon svg path:last-child{stroke:#1fb6ff}.mat-button-toggle-group.position-settings-toggle .mat-button-toggle .mat-button-toggle-button .mat-button-toggle-label-content{padding:0;line-height:32px}.mat-button-toggle-group.position-settings-toggle .mat-button-toggle .mat-button-toggle-button .mat-button-toggle-label-content>*{vertical-align:sub}.field-name{color:#222}.unit-suffix{padding:0 2px}"],encapsulation:2}),t})();function Q9(t,e){if(1&t&&(Ls(0,"label",6),Ca(1),Xl(2,"camel"),Bs()),2&t){const t=Ys();Rs("for",t.inpId),vr(1),Ea(" ",Kl(2,2,t.displayName)," ")}}let Z9=(()=>{class t extends p7{constructor(t,e,n){super(t),this._itemSrv=e,this._modalSrv=n,this.imgItem=new Yl}ngOnInit(){this.$scroll.subscribe(()=>{this.matTooltip.hide(),this.cdr.detectChanges()})}upload(t){return vR(this,void 0,void 0,(function*(){if(t){this._modalSrv.showProductLoader();try{const e=yield this._itemSrv.uploadImage(t);this.imgItem.emit(e)}finally{this._modalSrv.closeProductLoader()}}}))}}return t.\u0275fac=function(e){return new(e||t)(Ms(us),Ms(a2),Ms(f1))},t.\u0275cmp=pe({type:t,selectors:[["au-img-src-upload"]],viewQuery:function(t,e){var n;1&t&&(cc(x6,!0),cc(kM,!0)),2&t&&(ac(n=fc())&&(e.reader=n.first),ac(n=fc())&&(e.matTooltip=n.first))},inputs:{displayName:"displayName",showName:"showName",inpId:"inpId",tooltip:"tooltip"},outputs:{imgItem:"imgItem"},features:[Ia],decls:9,vars:7,consts:[[1,"property-row","grid"],[3,"matTooltipShowDelay","matTooltip","mousemove","mouseleave"],["class","property-label",3,"for",4,"ngIf"],[1,"d-flex","justify-content-end"],["mat-icon-button","","color","primary",3,"click"],[3,"accept","id","selectFile"],[1,"property-label",3,"for"]],template:function(t,e){1&t&&(Ls(0,"div",0),Ls(1,"div",1),$s("mousemove",(function(){return e.detectAfterTimeout()}))("mouseleave",(function(){return e.cdr.detectChanges()})),Xl(2,"camel"),Is(3,Q9,3,4,"label",2),Bs(),Ls(4,"div",3),Ls(5,"button",4),$s("click",(function(){return e.reader.openDialog()})),Ls(6,"mat-icon"),Ca(7,"cloud_upload"),Bs(),Bs(),Bs(),Bs(),Ls(8,"au-file-reader",5),$s("selectFile",(function(t){return e.upload(t)})),Bs()),2&t&&(vr(1),Rs("matTooltipShowDelay",e.tooltipDelay)("matTooltip",Kl(2,5,e.tooltip)),vr(2),Rs("ngIf",e.showName),vr(5),Rs("accept","*.jpg *.jpeg *.png")("id",e.inpId))},directives:[kM,Eh,NT,oI,x6],pipes:[m7],styles:[""]}),t})(),J9=(()=>{class t extends f7{constructor(t){super(t)}ngOnInit(){this.$scroll.subscribe(()=>{this.tooltip.hide(),this.cdr.detectChanges()})}changeImageSource(t){this.property.value=t.source,this._propSrv.notifyPropertyChange(this.property.path,this.property.value)}}return t.\u0275fac=function(e){return new(e||t)(Ms(us))},t.\u0275cmp=pe({type:t,selectors:[["au-img-src-input"]],viewQuery:function(t,e){var n;1&t&&(cc(x6,!0),cc(kM,!0)),2&t&&(ac(n=fc())&&(e.reader=n.first),ac(n=fc())&&(e.tooltip=n.first))},inputs:{showName:"showName",property:"property"},features:[Ia],decls:1,vars:3,consts:[[3,"displayName","showName","inpId","imgItem"]],template:function(t,e){1&t&&(Ls(0,"au-img-src-upload",0),$s("imgItem",(function(t){return e.changeImageSource(t)})),Bs()),2&t&&Rs("displayName",e.property.displayName)("showName",e.showName)("inpId",e.inpId)},directives:[Z9],styles:["",".property-label[_ngcontent-%COMP%]{font-size:14px;line-height:20px;font-family:Roboto;margin:6px 0}.property-row[_ngcontent-%COMP%]{align-items:center;margin-bottom:8px}.property-row[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]{overflow:hidden;width:100%;text-overflow:ellipsis}.property-row[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]   .mat-form-field[_ngcontent-%COMP%]{width:100%}.property-row.grid[_ngcontent-%COMP%]{display:grid;grid-template-columns:50% 50%}.property-row.flex[_ngcontent-%COMP%]{display:flex;justify-content:space-between}"]}),t})();function ttt(t,e){if(1&t&&(Ls(0,"label",9),Ca(1),Xl(2,"camel"),Bs()),2&t){const t=Ys(2);Rs("for",t.inpId),vr(1),xa(Kl(2,2,t.property.displayName))}}function ett(t,e){if(1&t&&(Ls(0,"mat-option",10),Ca(1),Bs()),2&t){const t=e.$implicit;Rs("value",t.value),vr(1),Ea(" ",t.viewValue," ")}}function ntt(t,e){if(1&t){const t=Vs();Ls(0,"div",1),Ls(1,"div",2),$s("mousemove",(function(){return Qe(t),Ys().detectAfterTimeout()}))("mouseleave",(function(){return Qe(t),Ys().cdr.detectChanges()})),Xl(2,"camel"),Is(3,ttt,3,4,"label",3),Bs(),Ls(4,"mat-form-field",4),Ls(5,"input",5),$s("click",(function(e){return Qe(t),Ys().showAutocomplete(e)}))("blur",(function(e){return Qe(t),Ys().changeLinkId(e)}))("keydown.enter",(function(e){return Qe(t),Ys().changeLinkId(e)})),Bs(),Ls(6,"mat-autocomplete",6,7),$s("optionSelected",(function(e){return Qe(t),Ys().selectLinkId(e)})),Is(8,ett,2,2,"mat-option",8),Bs(),Bs(),Bs()}if(2&t){const t=As(7),e=Ys();vr(1),Rs("matTooltip",Kl(2,7,e.property.tooltip))("matTooltipShowDelay",e.tooltipDelay),vr(2),Rs("ngIf",e.showName),vr(2),Rs("id",e.inpId)("value",e.property.value)("matAutocomplete",t),vr(3),Rs("ngForOf",e.list)}}let itt=(()=>{class t extends f7{constructor(t,e,n){super(t),this._itemSrv=n,this.list=[],$(e.$addItem,e.$itemRemoved).pipe($y(this._subscriber)).subscribe(()=>this.createListItems())}get isBarcode(){return this.property.item.isBarcodePlaceholder}ngOnInit(){this.$scroll.subscribe(()=>{this.tooltip.hide(),this.cdr.detectChanges()}),this.createListItems()}ngOnDestroy(){super.ngOnDestroy()}changeLinkId(t){const e=t.target;this.property.value=e.value,this._itemSrv.bindPlaceholderToLinkGroup(this.property.item),t instanceof KeyboardEvent&&e.blur(),this.cdr.detectChanges()}selectLinkId(t){this.property.value=t.option.value,this._itemSrv.bindPlaceholderToLinkGroup(this.property.item),this.cdr.detectChanges()}showAutocomplete(t){t.stopPropagation(),this.trigger.openPanel()}createListItems(){const t=new Set;this._itemSrv.placeholders.forEach(e=>{var n;e instanceof qW&&e!==(null===(n=this.property)||void 0===n?void 0:n.item)&&e.linkId&&t.add(e.linkId)}),this.list=Array.from(t).map(t=>({value:t,viewValue:t}))}}return t.\u0275fac=function(e){return new(e||t)(Ms(us),Ms(P2),Ms(a2))},t.\u0275cmp=pe({type:t,selectors:[["au-item-link-input"]],viewQuery:function(t,e){var n;1&t&&(cc(kM,!0),cc(WM,!0,WM)),2&t&&(ac(n=fc())&&(e.tooltip=n.first),ac(n=fc())&&(e.trigger=n.first))},features:[Ia],decls:1,vars:1,consts:[["class","property-row grid",4,"ngIf"],[1,"property-row","grid"],[3,"matTooltip","matTooltipShowDelay","mousemove","mouseleave"],["class","property-label",3,"for",4,"ngIf"],["appearance","outline"],["matInput","","auKeyboardNoPropagation","","autocomplete","off","placeholder","Link id","aria-label","Enter link id",3,"id","value","matAutocomplete","click","blur","keydown.enter"],[3,"optionSelected"],["auto","matAutocomplete"],[3,"value",4,"ngFor","ngForOf"],[1,"property-label",3,"for"],[3,"value"]],template:function(t,e){1&t&&Is(0,ntt,9,9,"div",0),2&t&&Rs("ngIf",!e.isBarcode)},directives:[Eh,kM,iA,NA,WM,lq,jM,Ch,Tk],pipes:[m7],styles:["",".property-label[_ngcontent-%COMP%]{font-size:14px;line-height:20px;font-family:Roboto;margin:6px 0}.property-row[_ngcontent-%COMP%]{align-items:center;margin-bottom:8px}.property-row[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]{overflow:hidden;width:100%;text-overflow:ellipsis}.property-row[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]   .mat-form-field[_ngcontent-%COMP%]{width:100%}.property-row.grid[_ngcontent-%COMP%]{display:grid;grid-template-columns:50% 50%}.property-row.flex[_ngcontent-%COMP%]{display:flex;justify-content:space-between}"]}),t})();function rtt(t,e){if(1&t&&(Ls(0,"label",4),Ca(1),Xl(2,"camel"),Bs()),2&t){const t=Ys();Rs("for",t.id),vr(1),xa(Kl(2,2,t.displayName))}}function ott(t,e){if(1&t){const t=Vs();js(0),Ls(1,"mat-form-field",5),Ls(2,"input",6),$s("blur",(function(){return Qe(t),Ys().cdr.detectChanges()}))("input",(function(){return Qe(t),Ys().changeValue()})),Bs(),Bs(),zs()}if(2&t){const t=Ys();vr(2),Rs("id",t.id)("formControl",t.stringControl)}}function stt(t,e){if(1&t){const t=Vs();js(0),Ls(1,"button",7),$s("click",(function(){return Qe(t),Ys().editVCard()})),Ca(2),Xl(3,"translate"),Bs(),zs()}2&t&&(vr(2),xa(Kl(3,1,"EDIT_LABEL")))}let att=(()=>{class t extends p7{constructor(t,e){super(t),this._modalSrv=e,this.update=new Yl,this.$scroll=this._propSrv.$scrollPropContainer.pipe($y(this._subscriber)).pipe(m8(()=>N_(200)))}get vCard(){return this.subtype===dU.VCard}ngOnInit(){this.$scroll.subscribe(()=>{this.matTooltip.hide(),this.cdr.detectChanges()}),this.stringControl=new mp(this.value,this._collectValidators())}ngOnChanges(){this.updateValidators()}editVCard(){return vR(this,void 0,void 0,(function*(){const t=yield this._modalSrv.showVCardEditor(this.value);this.update.emit(t)}))}updateValidators(){this.stringControl&&this.stringControl.setValidators(this._collectValidators())}changeValue(){this.stringControl.valid&&this.update.emit(this.stringControl.value),this.cdr.detectChanges()}_collectValidators(){switch(this.subtype){case dU.Phone:return[Pd.pattern(YG)];case dU.Url:return[Pd.pattern(QG)];default:return[]}}}return t.\u0275fac=function(e){return new(e||t)(Ms(us),Ms(f1))},t.\u0275cmp=pe({type:t,selectors:[["au-input-barcode-value"]],viewQuery:function(t,e){var n;1&t&&cc(kM,!0),2&t&&ac(n=fc())&&(e.matTooltip=n.first)},inputs:{value:"value",showName:"showName",subtype:"subtype",isQr:"isQr",tooltip:"tooltip",displayName:"displayName",id:"id"},outputs:{update:"update"},features:[Ia,La],decls:7,vars:7,consts:[[1,"property-row","grid"],[3,"matTooltip","matTooltipShowDelay","mousemove","mouseleave"],["class","property-label",3,"for",4,"ngIf"],[4,"ngIf"],[1,"property-label",3,"for"],["appearance","outline"],["matInput","","auInputLimits","","auKeyboardNoPropagation","","autocomplete","off",3,"id","formControl","blur","input"],["mat-stroked-button","",1,"w-100",3,"click"]],template:function(t,e){1&t&&(Ls(0,"div",0),Ls(1,"div",1),$s("mousemove",(function(){return e.detectAfterTimeout()}))("mouseleave",(function(){return e.cdr.detectChanges()})),Xl(2,"camel"),Is(3,rtt,3,4,"label",2),Bs(),Ls(4,"div"),Is(5,ott,3,2,"ng-container",3),Is(6,stt,4,3,"ng-container",3),Bs(),Bs()),2&t&&(vr(1),Rs("matTooltip",Kl(2,5,e.tooltip))("matTooltipShowDelay",e.tooltipDelay),vr(2),Rs("ngIf",e.showName),vr(2),Rs("ngIf",!e.vCard),vr(1),Rs("ngIf",e.vCard))},directives:[kM,Eh,iA,NA,pd,lq,bd,Mp,NT],pipes:[m7,HR],styles:[".property-label[_ngcontent-%COMP%]{font-size:14px;line-height:20px;font-family:Roboto;margin:6px 0}.property-row[_ngcontent-%COMP%]{align-items:center;margin-bottom:8px}.property-row[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]{overflow:hidden;width:100%;text-overflow:ellipsis}.property-row[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]   .mat-form-field[_ngcontent-%COMP%]{width:100%}.property-row.grid[_ngcontent-%COMP%]{display:grid;grid-template-columns:50% 50%}.property-row.flex[_ngcontent-%COMP%]{display:flex;justify-content:space-between}"]}),t})();function ltt(t,e){if(1&t){const t=Vs();Ls(0,"au-toggle-component",3),$s("update",(function(e){return Qe(t),Ys().change(e)})),Bs()}if(2&t){const t=Ys();Rs("showName",!0)("tooltip",t.property.tooltip)("displayName",t.property.displayName)("value",t.isEnabled)}}function ctt(t,e){if(1&t){const t=Vs();Ls(0,"au-select-input",6),$s("update",(function(e){return Qe(t),Ys(2).updateSubType(e)})),Bs()}if(2&t){const t=Ys(2);Rs("displayName",t.subTypeProp.displayName)("id",t.contentValuePropId)("tooltip",t.subTypeProp.tooltip)("value",t.selected)("options",t.subTypeOptions)("showName",!0)}}function utt(t,e){if(1&t){const t=Vs();js(0),Ls(1,"au-input-barcode-value",4),$s("update",(function(e){return Qe(t),Ys().updateValue(e)})),Bs(),Is(2,ctt,1,6,"au-select-input",5),zs()}if(2&t){const t=Ys();vr(1),Rs("value",t.barcodeContent.barcodeContent)("showName",t.showName)("subtype",t.barcodeContent.barcodeSubType)("tooltip",t.property.tooltip)("displayName",t.property.displayName)("isQr",t.isQr)("id",t.subTypePropId),vr(1),Rs("ngIf",t.isQr)}}let htt=(()=>{class t extends f7{constructor(t,e,n){super(t),this._itemSrv=e,this._propFactorySrv=n,this.subTypeOptions=[]}get subTypePropId(){return`${this.subTypeProp.key}-${this.subTypeProp.item.id}`}get contentValuePropId(){return`${this.contentValueProp.key}-${this.contentValueProp.item.id}`}get isQr(){return this.barcodeContent.barcodeFormat===hU.QR_CODE}get item(){return this.property.item}get barcodeContent(){return this.item.content}get imageContent(){return this.item.content}get isEnabled(){return this.item.content&&!this.item.isStubContent}ngOnInit(){if(this.$scroll.subscribe(()=>{this.tooltip.hide(),this.cdr.detectChanges()}),new _(t=>this.item.transform.addTransformChanged(()=>t.next())).pipe($y(this._subscriber)).subscribe(()=>this._itemSrv.updatePlaceholderContent(this.item)),this.item.isBarcodePlaceholder){const t=this._propFactorySrv.extractMetadata(this.item,["content","barcodeSubType"],!1);if(this.subTypeProp=this._propFactorySrv.createProperty(this.item,{conf:t.conf,meta:t.meta,nullable:!1,path:["content","barcodeSubType"],value:this.barcodeContent.barcodeSubType}).instance,this.subTypeOptions=this.subTypeProp.values.map(({name:t,num:e})=>({value:e,viewValue:t})),this.subTypeProp.value){const t=this._findItemIdx(this.subTypeProp.value.num);this.selected=this.subTypeOptions[t].value}else this.selected=this.subTypeOptions[0].value;const e=this._propFactorySrv.extractMetadata(this.item,["content","barcodeContent"],!1);this.contentValueProp=this._propFactorySrv.createProperty(this.item,{conf:e.conf,meta:e.meta,value:this.barcodeContent,nullable:!1,path:["content","barcodeContent"]}).instance}}_createImageItemFromStub(t){const e=t.stubStorageMeta;if(e instanceof fW.ImageSource){const{height:t,width:n,id:i}=e;return new fW(i,new QL(0,0),n,t)}{const{storageId:t,size:n}=e;return new fW(t,new QL(0,0),n.width,n.height)}}change(t){t?this.reader.openDialog():((()=>{var t,e;return this.item.stubStorageMeta instanceof fW.ImageSource?!!(null===(t=this.item.stubStorageMeta)||void 0===t?void 0:t.id):!!(null===(e=this.item.stubStorageMeta)||void 0===e?void 0:e.storageId)})()?(this.item.content=this._createImageItemFromStub(this.item),this.item.isStubContent=!0):this.item.content=null,this._itemSrv.updatePlaceholderContent(this.item),this._itemSrv.updateLinkedPlaceholders(this.item.linkId,this.item.content),this.cdr.detectChanges())}closeDialog(){this.item.content&&!this.item.isStubContent||this.toggle.matToggle.writeValue(!1),this.cdr.detectChanges()}uploadFiles(t){return vR(this,void 0,void 0,(function*(){this.item.isStubContent=!1,yield this._itemSrv.addContentToPlaceholder(t,this.item),this._itemSrv.updateLinkedPlaceholders(this.item.linkId,this.item.content),this.cdr.detectChanges()}))}updateValue(t){this.contentValueProp.value=t}updateSubType(t){const e=this._findItemIdx(t);this.subTypeProp.value=this.subTypeProp.values[e]}_findItemIdx(t){return this.subTypeProp.values.findIndex(e=>e.num===t)}}return t.\u0275fac=function(e){return new(e||t)(Ms(us),Ms(a2),Ms(s2))},t.\u0275cmp=pe({type:t,selectors:[["au-placeholder-content"]],viewQuery:function(t,e){var n;1&t&&(cc(x6,!0),cc(kM,!0),cc(P7,!0)),2&t&&(ac(n=fc())&&(e.reader=n.first),ac(n=fc())&&(e.tooltip=n.first),ac(n=fc())&&(e.toggle=n.first))},features:[Ia],decls:3,vars:4,consts:[[3,"showName","tooltip","displayName","value","update",4,"ngIf"],[3,"accept","id","selectFile","closeDialog"],[4,"ngIf"],[3,"showName","tooltip","displayName","value","update"],[3,"value","showName","subtype","tooltip","displayName","isQr","id","update"],[3,"displayName","id","tooltip","value","options","showName","update",4,"ngIf"],[3,"displayName","id","tooltip","value","options","showName","update"]],template:function(t,e){1&t&&(Is(0,ltt,1,4,"au-toggle-component",0),Ls(1,"au-file-reader",1),$s("selectFile",(function(t){return e.uploadFiles(t)}))("closeDialog",(function(){return e.closeDialog()})),Bs(),Is(2,utt,3,8,"ng-container",2)),2&t&&(Rs("ngIf",!e.item.isBarcodePlaceholder),vr(1),Rs("accept","*.jpg *.jpeg *.png")("id",e.inpId),vr(1),Rs("ngIf",e.item.isBarcodePlaceholder))},directives:[Eh,x6,P7,att,F7],styles:[".property-label[_ngcontent-%COMP%]{font-size:14px;line-height:20px;font-family:Roboto;margin:6px 0}.property-row[_ngcontent-%COMP%]{align-items:center;margin-bottom:8px}.property-row[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]{overflow:hidden;width:100%;text-overflow:ellipsis}.property-row[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]   .mat-form-field[_ngcontent-%COMP%]{width:100%}.property-row.grid[_ngcontent-%COMP%]{display:grid;grid-template-columns:50% 50%}.property-row.flex[_ngcontent-%COMP%]{display:flex;justify-content:space-between}"]}),t})();function dtt(t,e){1&t&&Hs(0)}const ptt=function(t){return{field:t}};function ftt(t,e){if(1&t&&(js(0),Is(1,dtt,1,0,"ng-container",3),zs()),2&t){const t=e.$implicit;Ys(2);const n=As(5);vr(1),Rs("ngTemplateOutlet",n)("ngTemplateOutletContext",Vl(2,ptt,t))}}function mtt(t,e){if(1&t&&(js(0),Is(1,ftt,2,4,"ng-container",2),zs()),2&t){const t=Ys();vr(1),Rs("ngForOf",t.barcodePermissionFields)}}function gtt(t,e){1&t&&Hs(0)}function ytt(t,e){if(1&t&&(js(0),Is(1,gtt,1,0,"ng-container",3),zs()),2&t){const t=e.$implicit;Ys(2);const n=As(5);vr(1),Rs("ngTemplateOutlet",n)("ngTemplateOutletContext",Vl(2,ptt,t))}}function _tt(t,e){if(1&t&&(js(0),Is(1,ytt,2,4,"ng-container",2),zs()),2&t){const t=Ys();vr(1),Rs("ngForOf",t.imagesPermissionFields)}}function vtt(t,e){if(1&t&&(Ls(0,"label",6),Ls(1,"h4"),Ca(2),Xl(3,"camel"),Bs(),Bs()),2&t){const t=Ys(2);vr(2),xa(Kl(3,1,t.property.displayName))}}function btt(t,e){1&t&&Hs(0)}function wtt(t,e){if(1&t&&(js(0),Is(1,btt,1,0,"ng-container",3),zs()),2&t){const t=e.$implicit;Ys(2);const n=As(5);vr(1),Rs("ngTemplateOutlet",n)("ngTemplateOutletContext",Vl(2,ptt,t))}}function Ctt(t,e){if(1&t&&(js(0),Ls(1,"div",4),Is(2,vtt,4,3,"label",5),Bs(),js(3),Is(4,wtt,2,4,"ng-container",2),zs(),zs()),2&t){const t=Ys();vr(2),Rs("ngIf",t.showName),vr(2),Rs("ngForOf",t.imagesPermissionFields)}}function xtt(t,e){if(1&t&&(Ls(0,"label",6),Ls(1,"h4"),Ca(2),Xl(3,"camel"),Bs(),Bs()),2&t){const t=Ys(2);vr(2),xa(Kl(3,1,t.property.displayName))}}function Ett(t,e){1&t&&Hs(0)}function Stt(t,e){if(1&t&&(js(0),Is(1,Ett,1,0,"ng-container",3),zs()),2&t){const t=e.$implicit;Ys(2);const n=As(5);vr(1),Rs("ngTemplateOutlet",n)("ngTemplateOutletContext",Vl(2,ptt,t))}}function Ptt(t,e){if(1&t&&(js(0),Ls(1,"div",4),Is(2,xtt,4,3,"label",5),Bs(),js(3),Is(4,Stt,2,4,"ng-container",2),zs(),zs()),2&t){const t=Ys();vr(2),Rs("ngIf",t.showName),vr(2),Rs("ngForOf",t.barcodePermissionFields)}}function Ott(t,e){if(1&t){const t=Vs();Ls(0,"au-toggle-component",7),$s("update",(function(n){Qe(t);const i=e.field;return Ys().change(i,n)})),Bs()}if(2&t){const t=e.field,i=Ys();var n;Rs("tooltip",null==(n=i.getFiledSettings(t))?null:n.tooltip)("value",i.permissions[t])("showName",!0)("displayName",t)}}let ktt=(()=>{class t extends f7{constructor(t){super(t),this.imagesPermissionFields=["allowChangeImage","allowEditImage","allowEditImageConstraint","allowKeepOverlayColor"],this.barcodePermissionFields=["allowChangeBarcodeColor","allowChangeBarcodeContent","allowChangeBarcodeType"]}get item(){return this.property.item}get isBarcodePermission(){return this.property instanceof i2}get isImagePermission(){return this.property instanceof r2}get isPlaceholder(){return this.property.item instanceof qW}get permissions(){return this.isPlaceholder?this.item:this.isImagePermission?this.property.item.imagePermissions:this.property.item.barcodePermissions}getFiledSettings(t){return Bq.getItemProperty(this.property.conf,t)}change(t,e){this.isPlaceholder?this.item[t]=e:(this.isImagePermission&&(this.property.item.imagePermissions[t]=e),this.isBarcodePermission&&(this.property.item.barcodePermissions[t]=e)),this.cdr.detectChanges()}}return t.\u0275fac=function(e){return new(e||t)(Ms(us))},t.\u0275cmp=pe({type:t,selectors:[["au-placeholder-checkbox"]],inputs:{property:"property"},features:[Ia],decls:6,vars:4,consts:[[4,"ngIf"],["toggle",""],[4,"ngFor","ngForOf"],[4,"ngTemplateOutlet","ngTemplateOutletContext"],[1,"property-row"],["class","property-title",4,"ngIf"],[1,"property-title"],[3,"tooltip","value","showName","displayName","update"]],template:function(t,e){1&t&&(Is(0,mtt,2,1,"ng-container",0),Is(1,_tt,2,1,"ng-container",0),Is(2,Ctt,5,2,"ng-container",0),Is(3,Ptt,5,2,"ng-container",0),Is(4,Ott,1,4,"ng-template",null,1,_c)),2&t&&(Rs("ngIf",e.isBarcodePermission&&e.item.isBarcodePlaceholder&&e.isPlaceholder),vr(1),Rs("ngIf",e.isImagePermission&&!e.item.isBarcodePlaceholder&&e.isPlaceholder),vr(1),Rs("ngIf",!e.isPlaceholder&&e.isImagePermission),vr(1),Rs("ngIf",!e.isPlaceholder&&e.isBarcodePermission))},directives:[Eh,Ch,Rh,P7],pipes:[m7],styles:[".mat-slide-toggle{width:100%}  .mat-slide-toggle .mat-slide-toggle-label{display:flex;justify-content:space-between}",".property-label[_ngcontent-%COMP%]{font-size:14px;line-height:20px;font-family:Roboto;margin:6px 0}.property-row[_ngcontent-%COMP%]{align-items:center;margin-bottom:8px}.property-row[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]{overflow:hidden;width:100%;text-overflow:ellipsis}.property-row[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]   .mat-form-field[_ngcontent-%COMP%]{width:100%}.property-row.grid[_ngcontent-%COMP%]{display:grid;grid-template-columns:50% 50%}.property-row.flex[_ngcontent-%COMP%]{display:flex;justify-content:space-between}"]}),t})(),Ttt=(()=>{class t extends f7{constructor(t){super(t),this.format=hU,this._onPropertyChanged=t=>{const e=Bq.getItemProperty(this.property.item,this.property.path);e!==this.property.value&&(this.property.value=e),this.cdr.detectChanges()}}get item(){return this.property.item}get isQr(){return this.item.barcodeFormat===hU.QR_CODE}ngOnInit(){this.property.item.addPropertyChanged(this._onPropertyChanged)}ngOnDestroy(){super.ngOnDestroy(),this.property.item.removePropertyChanged(this._onPropertyChanged)}updateValue(t){this.property.value=t}}return t.\u0275fac=function(e){return new(e||t)(Ms(us))},t.\u0275cmp=pe({type:t,selectors:[["au-barcode-value"]],inputs:{showName:"showName",property:"property"},features:[Ia],decls:1,vars:7,consts:[[3,"value","showName","subtype","tooltip","displayName","isQr","id","update"]],template:function(t,e){1&t&&(Ls(0,"au-input-barcode-value",0),$s("update",(function(t){return e.updateValue(t)})),Bs()),2&t&&Rs("value",e.property.value)("showName",e.showName)("subtype",e.item.barcodeSubType)("tooltip",e.property.tooltip)("displayName",e.property.displayName)("isQr",e.isQr)("id",e.inpId)},directives:[att],styles:[".property-label[_ngcontent-%COMP%]{font-size:14px;line-height:20px;font-family:Roboto;margin:6px 0}.property-row[_ngcontent-%COMP%]{align-items:center;margin-bottom:8px}.property-row[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]{overflow:hidden;width:100%;text-overflow:ellipsis}.property-row[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]   .mat-form-field[_ngcontent-%COMP%]{width:100%}.property-row.grid[_ngcontent-%COMP%]{display:grid;grid-template-columns:50% 50%}.property-row.flex[_ngcontent-%COMP%]{display:flex;justify-content:space-between}"]}),t})();function Itt(t,e){if(1&t){const t=Vs();Ls(0,"au-select-input",1),$s("update",(function(e){return Qe(t),Ys().change(e)})),Bs()}if(2&t){const t=Ys();Rs("tooltip",t.property.tooltip)("showName",t.showName)("displayName",t.property.displayName)("value",t.selectedValue)("options",t.options)("id",t.inpId)}}let Att=(()=>{class t extends L7{constructor(t){super(t)}get isQrCode(){return this.property.item.barcodeFormat===hU.QR_CODE}}return t.\u0275fac=function(e){return new(e||t)(Ms(us))},t.\u0275cmp=pe({type:t,selectors:[["au-barcode-sub-type"]],features:[Ia],decls:1,vars:1,consts:[[3,"tooltip","showName","displayName","value","options","id","update",4,"ngIf"],[3,"tooltip","showName","displayName","value","options","id","update"]],template:function(t,e){1&t&&Is(0,Itt,1,6,"au-select-input",0),2&t&&Rs("ngIf",e.isQrCode)},directives:[Eh,F7],styles:["",".property-label[_ngcontent-%COMP%]{font-size:14px;line-height:20px;font-family:Roboto;margin:6px 0}.property-row[_ngcontent-%COMP%]{align-items:center;margin-bottom:8px}.property-row[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]{overflow:hidden;width:100%;text-overflow:ellipsis}.property-row[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]   .mat-form-field[_ngcontent-%COMP%]{width:100%}.property-row.grid[_ngcontent-%COMP%]{display:grid;grid-template-columns:50% 50%}.property-row.flex[_ngcontent-%COMP%]{display:flex;justify-content:space-between}"]}),t})();function Mtt(t,e){if(1&t){const t=Vs();Ls(0,"span",4),$s("mousemove",(function(){return Qe(t),Ys().detectAfterTimeout()}))("mouseleave",(function(){return Qe(t),Ys().cdr.detectChanges()})),Xl(1,"camel"),Ca(2),Xl(3,"camel"),Bs()}if(2&t){const t=Ys();Rs("matTooltip",Kl(1,3,t.property.tooltip))("matTooltipShowDelay",t.tooltipDelay),vr(2),xa(Kl(3,5,t.property.displayName))}}function Dtt(t,e){if(1&t&&(Ls(0,"label",9),Ca(1),Xl(2,"camel"),Bs()),2&t){const t=Ys(2);Rs("for",t.inpId),vr(1),xa(Kl(2,2,t.textConf.$displayName))}}function Rtt(t,e){if(1&t){const t=Vs();Ls(0,"div",0),Ls(1,"div",5),Is(2,Dtt,3,4,"label",6),Bs(),Ls(3,"div"),Ls(4,"mat-form-field",7),Ls(5,"textarea",8),$s("input",(function(){return Qe(t),Ys().changeValue()})),Bs(),Bs(),Bs(),Bs()}if(2&t){const t=Ys();vr(2),Rs("ngIf",t.showName),vr(3),Rs("rows",t.textConf.$rows)("id",t.inpId)("formControl",t.stringControl)}}let Ftt=(()=>{class t extends f7{constructor(t,e){super(t),this._viewerSrv=e,this._onPropertyChanged=()=>{const t=Bq.getItemProperty(this.property.item,["originalText"]);this.stringControl.setValue(t);const e=Bq.getItemProperty(this.property.item,this.property.path);this.sliderCheckbox.writeValue(e),this.cdr.detectChanges()}}get item(){return this.property.item}changeProperty(t){this.property.value=t.checked,t.checked&&(this.item.originalText=null,this.stringControl.setValue("")),this._viewerSrv.redraw(),this.cdr.detectChanges()}ngOnInit(){this.stringControl=new mp(this.item.originalText,this.collectValidators()),this.textConf=this._propSrv.extractMetadata(this.item,["originalText"],!1).conf,this.property.item.addPropertyChanged(this._onPropertyChanged)}ngOnDestroy(){this.property.item.removePropertyChanged(this._onPropertyChanged)}changeValue(){this.stringControl.valid&&(this.item.originalText=this.stringControl.value,this._viewerSrv.redraw()),this.cdr.detectChanges()}}return t.\u0275fac=function(e){return new(e||t)(Ms(us),Ms(l1))},t.\u0275cmp=pe({type:t,selectors:[["au-text-placeholder"]],viewQuery:function(t,e){var n;1&t&&(cc(_I,!0),cc(kM,!0)),2&t&&(ac(n=fc())&&(e.sliderCheckbox=n.first),ac(n=fc())&&(e.tooltip=n.first))},inputs:{property:"property"},features:[Ia],decls:4,vars:3,consts:[[1,"property-row"],["labelPosition","before","color","primary",3,"checked","change"],["class","property-label",3,"matTooltip","matTooltipShowDelay","mousemove","mouseleave",4,"ngIf"],["class","property-row",4,"ngIf"],[1,"property-label",3,"matTooltip","matTooltipShowDelay","mousemove","mouseleave"],[1,"label-container","d-flex","align-items-center"],["class","property-label",3,"for",4,"ngIf"],["appearance","outline",2,"width","100%"],["matInput","","auInputLimits","","auKeyboardNoPropagation","","autocomplete","off",1,"no-resize","x",3,"rows","id","formControl","input"],[1,"property-label",3,"for"]],template:function(t,e){1&t&&(Ls(0,"div",0),Ls(1,"mat-slide-toggle",1),$s("change",(function(t){return e.changeProperty(t)})),Is(2,Mtt,4,7,"span",2),Bs(),Bs(),Is(3,Rtt,6,4,"div",3)),2&t&&(vr(1),Rs("checked",e.property.value),vr(1),Rs("ngIf",e.showName),vr(1),Rs("ngIf",e.property.value))},directives:[_I,Eh,kM,iA,NA,pd,lq,bd,Mp],pipes:[m7],encapsulation:2}),t})();function Ltt(t,e){if(1&t){const t=Vs();Ls(0,"au-toggle-component",1),$s("update",(function(){return Qe(t),Ys().convertToPlaceholder()})),Xl(1,"translate"),Xl(2,"translate"),Bs()}2&t&&Rs("value",!1)("tooltip",Kl(1,4,"Tooltips.PLACEHOLDER"))("showName",!0)("displayName",Kl(2,6,"Labels.PLACEHOLDER"))}function Btt(t,e){if(1&t){const t=Vs();Ls(0,"au-toggle-component",1),$s("update",(function(){return Qe(t),Ys().convertFromPlaceholder()})),Xl(1,"translate"),Xl(2,"translate"),Bs()}2&t&&Rs("value",!0)("tooltip",Kl(1,4,"Tooltips.PLACEHOLDER"))("showName",!0)("displayName",Kl(2,6,"Labels.PLACEHOLDER"))}let Ntt=(()=>{class t extends mH{constructor(t){super(),this._store=t,this._store.pipe(cw(t=>t.templateEditor.viewer),Vy(t=>!!t),$y(this.subscriber)).subscribe(t=>this._viewer=t)}get isPlaceholder(){return this.property.item.type===qW.type}get isImage(){return this.property.item.type===fW.type}get isBarcode(){return this.property.item.type===CU.type}get isShape(){const{type:t}=this.property.item;return t===UV.type||t===JU.type||t===$V.type}convertToPlaceholder(){return vR(this,void 0,void 0,(function*(){yield this._viewer.commandManager.execute(UQ.convertItemToPlaceholder,{item:this.property.item})}))}convertFromPlaceholder(){return vR(this,void 0,void 0,(function*(){yield this._viewer.commandManager.execute(UQ.convertPlaceholderToItem,{item:this.property.item})}))}}return t.\u0275fac=function(e){return new(e||t)(Ms(aw))},t.\u0275cmp=pe({type:t,selectors:[["au-to-placeholder"]],inputs:{property:"property",showName:"showName"},features:[Ia],decls:2,vars:2,consts:[[3,"value","tooltip","showName","displayName","update",4,"ngIf"],[3,"value","tooltip","showName","displayName","update"]],template:function(t,e){1&t&&(Is(0,Ltt,3,8,"au-toggle-component",0),Is(1,Btt,3,8,"au-toggle-component",0)),2&t&&(Rs("ngIf",(e.isBarcode||e.isImage||e.isShape)&&!e.isPlaceholder),vr(1),Rs("ngIf",e.isPlaceholder))},directives:[Eh,P7],pipes:[HR],styles:[""]}),t})();function jtt(t,e){1&t&&Ns(0,"au-color-input",2),2&t&&Rs("property",Ys().fillColorProperty)("showName",!0)}let ztt=(()=>{class t extends f7{constructor(t){super(t),this.showName=!0,this.options=[]}get item(){return this.property.item}get imgEffect(){return HU}ngOnInit(){this.options=this.property.values.map(({name:t,num:e})=>({value:e,viewValue:t}));const t=this.property.item.content,e=this._propSrv.extractMetadata(t,["fillColor"],!1);e.conf.$displayName="Effect color",this.fillColorProperty=this._propSrv.createProperty(t,e).instance,this.item.contentEffect=this.property.value.num}changeEffect(t){const e=this.item.content;this.item.contentEffect=t,e.effect=t,this.cdr.detectChanges()}}return t.\u0275fac=function(e){return new(e||t)(Ms(us))},t.\u0275cmp=pe({type:t,selectors:[["au-img-effect"]],inputs:{property:"property",showName:"showName"},features:[Ia],decls:2,vars:7,consts:[[3,"displayName","tooltip","id","value","options","showName","update"],[3,"property","showName",4,"ngIf"],[3,"property","showName"]],template:function(t,e){1&t&&(Ls(0,"au-select-input",0),$s("update",(function(t){return e.changeEffect(t)})),Bs(),Is(1,jtt,1,2,"au-color-input",1)),2&t&&(Rs("displayName",e.property.displayName)("tooltip",e.property.tooltip)("id",e.inpId)("value",e.property.value.num)("options",e.options)("showName",e.showName),vr(1),Rs("ngIf",e.item.contentEffect===e.imgEffect.Colorize))},directives:[F7,Eh,U7],styles:[""]}),t})();function Htt(t,e){if(1&t&&Ns(0,"au-string-input",3),2&t){const t=Ys();Rs("property",t.property)("showName",t.showName)}}function Vtt(t,e){if(1&t&&Ns(0,"au-area-input",3),2&t){const t=Ys();Rs("property",t.property)("showName",t.showName)}}function Utt(t,e){if(1&t&&Ns(0,"au-number-input",3),2&t){const t=Ys();Rs("property",t.property)("showName",t.showName)}}function Wtt(t,e){if(1&t&&Ns(0,"au-slider-input",3),2&t){const t=Ys();Rs("property",t.property)("showName",t.showName)}}function $tt(t,e){if(1&t&&Ns(0,"au-checkbox-input",3),2&t){const t=Ys();Rs("property",t.property)("showName",t.showName)}}function Gtt(t,e){if(1&t&&Ns(0,"au-manipulation",3),2&t){const t=Ys();Rs("property",t.property)("showName",t.showName)}}function qtt(t,e){if(1&t&&Ns(0,"au-plch-option",3),2&t){const t=Ys();Rs("property",t.property)("showName",t.showName)}}function Xtt(t,e){if(1&t&&Ns(0,"au-dropdown-input",3),2&t){const t=Ys();Rs("property",t.property)("showName",t.showName)}}function Ktt(t,e){if(1&t&&Ns(0,"au-color-input",3),2&t){const t=Ys();Rs("property",t.property)("showName",t.showName)}}function Ytt(t,e){if(1&t&&Ns(0,"au-text-settings",3),2&t){const t=Ys();Rs("property",t.property)("showName",t.showName)}}function Qtt(t,e){if(1&t&&Ns(0,"au-resize-grips",3),2&t){const t=Ys();Rs("property",t.property)("showName",t.showName)}}function Ztt(t,e){if(1&t&&Ns(0,"au-placeholder-stub-image",3),2&t){const t=Ys();Rs("property",t.property)("showName",t.showName)}}function Jtt(t,e){if(1&t&&Ns(0,"au-nullable-input",3),2&t){const t=Ys();Rs("property",t.property)("showName",t.showName)}}function tet(t,e){if(1&t&&Ns(0,"au-not-implemented-input",3),2&t){const t=Ys();Rs("property",t.property)("showName",t.showName)}}function eet(t,e){if(1&t&&Ns(0,"au-dash-input",3),2&t){const t=Ys();Rs("property",t.property)("showName",t.showName)}}function net(t,e){1&t&&Ns(0,"au-position-input",4),2&t&&Rs("property",Ys().property)}function iet(t,e){if(1&t&&Ns(0,"au-img-src-input",3),2&t){const t=Ys();Rs("property",t.property)("showName",t.showName)}}function ret(t,e){if(1&t&&Ns(0,"au-item-link-input",3),2&t){const t=Ys();Rs("property",t.property)("showName",t.showName)}}function oet(t,e){if(1&t&&Ns(0,"au-placeholder-content",3),2&t){const t=Ys();Rs("property",t.property)("showName",t.showName)}}function set(t,e){if(1&t&&Ns(0,"au-placeholder-checkbox",3),2&t){const t=Ys();Rs("property",t.property)("showName",t.showName)}}function aet(t,e){if(1&t&&Ns(0,"au-placeholder-checkbox",3),2&t){const t=Ys();Rs("property",t.property)("showName",t.showName)}}function cet(t,e){if(1&t&&Ns(0,"au-barcode-value",3),2&t){const t=Ys();Rs("property",t.property)("showName",t.showName)}}function uet(t,e){if(1&t&&Ns(0,"au-barcode-sub-type",3),2&t){const t=Ys();Rs("property",t.property)("showName",t.showName)}}function het(t,e){if(1&t&&Ns(0,"au-text-placeholder",3),2&t){const t=Ys();Rs("property",t.property)("showName",t.showName)}}function det(t,e){if(1&t&&Ns(0,"au-to-placeholder",3),2&t){const t=Ys();Rs("property",t.property)("showName",t.showName)}}function pet(t,e){if(1&t&&Ns(0,"au-img-effect",3),2&t){const t=Ys();Rs("property",t.property)("showName",t.showName)}}let fet=(()=>{class t{constructor(){this.control=j1}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275cmp=pe({type:t,selectors:[["au-control-switcher"]],inputs:{property:"property",showName:"showName"},decls:27,vars:27,consts:[[3,"ngSwitch"],[3,"property","showName",4,"ngSwitchCase"],[3,"property",4,"ngSwitchCase"],[3,"property","showName"],[3,"property"]],template:function(t,e){1&t&&(js(0,0),Is(1,Htt,1,2,"au-string-input",1),Is(2,Vtt,1,2,"au-area-input",1),Is(3,Utt,1,2,"au-number-input",1),Is(4,Wtt,1,2,"au-slider-input",1),Is(5,$tt,1,2,"au-checkbox-input",1),Is(6,Gtt,1,2,"au-manipulation",1),Is(7,qtt,1,2,"au-plch-option",1),Is(8,Xtt,1,2,"au-dropdown-input",1),Is(9,Ktt,1,2,"au-color-input",1),Is(10,Ytt,1,2,"au-text-settings",1),Is(11,Qtt,1,2,"au-resize-grips",1),Is(12,Ztt,1,2,"au-placeholder-stub-image",1),Is(13,Jtt,1,2,"au-nullable-input",1),Is(14,tet,1,2,"au-not-implemented-input",1),Is(15,eet,1,2,"au-dash-input",1),Is(16,net,1,1,"au-position-input",2),Is(17,iet,1,2,"au-img-src-input",1),Is(18,ret,1,2,"au-item-link-input",1),Is(19,oet,1,2,"au-placeholder-content",1),Is(20,set,1,2,"au-placeholder-checkbox",1),Is(21,aet,1,2,"au-placeholder-checkbox",1),Is(22,cet,1,2,"au-barcode-value",1),Is(23,uet,1,2,"au-barcode-sub-type",1),Is(24,het,1,2,"au-text-placeholder",1),Is(25,det,1,2,"au-to-placeholder",1),Is(26,pet,1,2,"au-img-effect",1),zs()),2&t&&(Rs("ngSwitch",e.property.control),vr(1),Rs("ngSwitchCase",e.control.string),vr(1),Rs("ngSwitchCase",e.control.area),vr(1),Rs("ngSwitchCase",e.control.number),vr(1),Rs("ngSwitchCase",e.control.slider),vr(1),Rs("ngSwitchCase",e.control.boolean),vr(1),Rs("ngSwitchCase",e.control.freedom),vr(1),Rs("ngSwitchCase",e.control.plcenum),vr(1),Rs("ngSwitchCase",e.control.enum),vr(1),Rs("ngSwitchCase",e.control.color),vr(1),Rs("ngSwitchCase",e.control.text),vr(1),Rs("ngSwitchCase",e.control.grips),vr(1),Rs("ngSwitchCase",e.control.placeholder_stub),vr(1),Rs("ngSwitchCase",e.control.nullable),vr(1),Rs("ngSwitchCase",e.control.absent),vr(1),Rs("ngSwitchCase",e.control.dash),vr(1),Rs("ngSwitchCase",e.control.position),vr(1),Rs("ngSwitchCase",e.control.img_src),vr(1),Rs("ngSwitchCase",e.control.link),vr(1),Rs("ngSwitchCase",e.control.content),vr(1),Rs("ngSwitchCase",e.control.barcode_p),vr(1),Rs("ngSwitchCase",e.control.image_p),vr(1),Rs("ngSwitchCase",e.control.barcode_value),vr(1),Rs("ngSwitchCase",e.control.barcode_format),vr(1),Rs("ngSwitchCase",e.control.text_placeholder),vr(1),Rs("ngSwitchCase",e.control.to_placeholder),vr(1),Rs("ngSwitchCase",e.control.plc_img_effect))},directives:[kh,Th,y7,v7,C7,E7,O7,A7,B7,L7,U7,d9,g9,_9,D9,F9,B9,Y9,J9,itt,htt,ktt,Ttt,Att,Ftt,Ntt,ztt],encapsulation:2}),t})();function met(t,e){1&t&&Hs(0)}const get=function(t){return{branch:t}};function yet(t,e){if(1&t&&(js(0),Is(1,met,1,0,"ng-container",2),zs()),2&t){const t=Ys(),e=As(2);vr(1),Rs("ngTemplateOutlet",e)("ngTemplateOutletContext",Vl(2,get,t.branch))}}function _et(t,e){if(1&t&&(Ls(0,"label",6),Ls(1,"h4"),Ca(2),Xl(3,"camel"),Bs(),Bs()),2&t){const t=Ys(2).$implicit;vr(2),xa(Kl(3,1,t.displayName))}}function vet(t,e){1&t&&Hs(0)}function bet(t,e){if(1&t&&(js(0),Ls(1,"div"),Ls(2,"div",4),Is(3,_et,4,3,"label",5),Bs(),Ns(4,"au-property-tree-out"),Is(5,vet,1,0,"ng-container",2),Bs(),zs()),2&t){const t=Ys().$implicit,e=Ys(2),n=As(2);vr(3),Rs("ngIf",e.showName),vr(2),Rs("ngTemplateOutlet",n)("ngTemplateOutletContext",Vl(3,get,t))}}function wet(t,e){if(1&t&&(js(0),Ns(1,"au-control-switcher",7),zs()),2&t){const t=Ys().$implicit,e=Ys(2);vr(1),Rs("property",t)("showName",e.showName)}}function Cet(t,e){if(1&t&&(js(0),Is(1,bet,6,5,"ng-container",0),Is(2,wet,2,2,"ng-container",0),zs()),2&t){const t=e.$implicit;vr(1),Rs("ngIf","object"===t.dataType),vr(1),Rs("ngIf","object"!==t.dataType)}}function xet(t,e){1&t&&Is(0,Cet,3,2,"ng-container",3),2&t&&Rs("ngForOf",e.branch.items)}let Eet=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275cmp=pe({type:t,selectors:[["au-property-tree-out"]],inputs:{branch:"branch",showName:"showName"},decls:3,vars:1,consts:[[4,"ngIf"],["child",""],[4,"ngTemplateOutlet","ngTemplateOutletContext"],[4,"ngFor","ngForOf"],[1,"property-row"],["class","property-title",4,"ngIf"],[1,"property-title"],[3,"property","showName"]],template:function(t,e){1&t&&(Is(0,yet,2,4,"ng-container",0),Is(1,xet,1,1,"ng-template",null,1,_c)),2&t&&Rs("ngIf",e.branch)},directives:[Eh,Rh,Ch,t,fet],pipes:[m7],encapsulation:2}),t})();function Pet(t,e){if(1&t&&(Ls(0,"mat-panel-title"),Ls(1,"span",9),Ca(2),Xl(3,"camel"),Bs(),Bs()),2&t){const t=Ys().$implicit;vr(2),xa(Kl(3,1,t.displayName))}}function Oet(t,e){if(1&t){const t=Vs();Ls(0,"mat-expansion-panel",5),$s("afterExpand",(function(){Qe(t);const n=e.$implicit;return Ys(2).expand(n)}))("afterCollapse",(function(){Qe(t);const n=e.$implicit;return Ys(2).collapse(n)})),Ls(1,"mat-expansion-panel-header",6),Is(2,Pet,4,3,"mat-panel-title",7),Bs(),Ns(3,"au-property-tree-out",8),Bs()}if(2&t){const t=e.$implicit,n=Ys(2);Rs("disabled",t.conf.$noToggle)("hideToggle",t.conf.$noToggle)("expanded",t.expanded),vr(1),Rs("collapsedHeight",n.height)("expandedHeight",null!=t.conf&&t.conf.$noToggle?"12px":n.height),vr(1),Rs("ngIf",!(null!=t.conf&&t.conf.$noToggle)),vr(1),Rs("showName",n.showName)("branch",t)}}function ket(t,e){if(1&t&&(Ls(0,"mat-tab",2),Ls(1,"mat-accordion",3),Is(2,Oet,4,8,"mat-expansion-panel",4),Bs(),Bs()),2&t){const t=e.$implicit,n=Ys();Rs("label",t.displayName),vr(1),Rs("displayMode","flat")("multi",!0)("togglePosition","before"),vr(1),Rs("ngForOf",n.isTree(t))}}let Tet=(()=>{class t{constructor(t){this.cdr=t,this.height="36px"}ngOnInit(){}get items(){return this.branch.items}isTree(t){return t.items}expand(t){t.expand(),this.cdr.detectChanges()}collapse(t){t.collapse(),this.cdr.detectChanges()}}return t.\u0275fac=function(e){return new(e||t)(Ms(Xo))},t.\u0275cmp=pe({type:t,selectors:[["au-tab-property-out"]],inputs:{branch:"branch",showName:"showName"},decls:2,vars:1,consts:[["animationDuration","0ms",1,"property-tab-group"],[3,"label",4,"ngFor","ngForOf"],[3,"label"],[3,"displayMode","multi","togglePosition"],[3,"disabled","hideToggle","expanded","afterExpand","afterCollapse",4,"ngFor","ngForOf"],[3,"disabled","hideToggle","expanded","afterExpand","afterCollapse"],[3,"collapsedHeight","expandedHeight"],[4,"ngIf"],[3,"showName","branch"],[1,"accordion-title"]],template:function(t,e){1&t&&(Ls(0,"mat-tab-group",0),Is(1,ket,3,5,"mat-tab",1),Bs()),2&t&&(vr(1),Rs("ngForOf",e.items))},directives:[Rz,Ch,xz,FD,ID,MD,Eh,Eet,RD],pipes:[m7],styles:[".property-tab-group .mat-tab-header{position:absolute;background:#fff;z-index:20}.property-tab-group .mat-tab-body-wrapper{top:40px}"],encapsulation:2}),t})();function Iet(t,e){if(1&t&&Ns(0,"au-tab-property-out",2),2&t){const t=Ys();Rs("branch",t.tree)("showName",t.showName)}}let Aet=(()=>{class t{constructor(t){this.cdr=t,this.showName=!0}set propTree(t){this.tree=null,this.cdr.detectChanges(),setTimeout(()=>{this.tree=t,this.cdr.detectChanges()},0)}}return t.\u0275fac=function(e){return new(e||t)(Ms(Xo))},t.\u0275cmp=pe({type:t,selectors:[["au-property-viewer"]],inputs:{propTree:"propTree",showName:"showName"},decls:2,vars:1,consts:[[1,"properties"],[3,"branch","showName",4,"ngIf"],[3,"branch","showName"]],template:function(t,e){1&t&&(Ls(0,"div",0),Is(1,Iet,1,2,"au-tab-property-out",1),Bs()),2&t&&(vr(1),Rs("ngIf",e.tree))},directives:[Eh,Tet],styles:[".property-row{align-items:center;margin-bottom:8px}.property-title{margin-bottom:0}.property-title h4{line-height:20px;margin:6px 0}.accordion-title,.property-title h4{font-size:14px;font-family:Roboto;font-weight:500}.accordion-title{line-height:32px;color:#777;letter-spacing:.1em;text-transform:uppercase}.obj-container{border-bottom:1px solid #e5e5e5;padding-bottom:8px}.obj-container .obj-container{padding:0;border:none}.properties .mat-expansion-panel-content .mat-expansion-panel-body{padding:0 16px}.property-tab-group .mat-tab-label{height:40px;min-width:130px;padding:0}"],encapsulation:2,changeDetection:0}),t})(),Met=(()=>{class t{constructor(){this.field={}}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275cmp=pe({type:t,selectors:[["au-common-field"]],inputs:{field:"field",model:"model"},decls:7,vars:4,consts:[[1,"common-field"],[1,"input-name"],[1,"field-input"],["appearance","outline"],["auKeyboardNoPropagation","","matInput","","type","text",3,"ngModel","ngModelChange"]],template:function(t,e){1&t&&(Ls(0,"div",0),Ls(1,"div",1),Ca(2),Xl(3,"translate"),Bs(),Ls(4,"div",2),Ls(5,"mat-form-field",3),Ls(6,"input",4),$s("ngModelChange",(function(t){return e.model[e.field.field]=t})),Bs(),Bs(),Bs(),Bs()),2&t&&(vr(2),xa(Kl(3,2,e.field.name)),vr(4),Rs("ngModel",e.model[e.field.field]))},directives:[iA,NA,pd,lq,bd,kp],pipes:[HR],styles:[".input-name[_ngcontent-%COMP%]{font-size:12px;color:#777;line-height:16px;margin-bottom:4px}.field-input[_ngcontent-%COMP%]{display:flex}.field-input[_ngcontent-%COMP%]   mat-form-field[_ngcontent-%COMP%]{width:100%}.field-input[_ngcontent-%COMP%]   .field-icons[_ngcontent-%COMP%]{display:flex}.field-input[_ngcontent-%COMP%]   .field-icons[_ngcontent-%COMP%]   .icon-container[_ngcontent-%COMP%]{width:32px;height:32px;display:flex;align-items:center;justify-content:center;cursor:pointer}.field-input[_ngcontent-%COMP%]   .field-icons[_ngcontent-%COMP%]   .icon-container[_ngcontent-%COMP%]   .orientation-icon.active[_ngcontent-%COMP%]   path[_ngcontent-%COMP%], .field-input[_ngcontent-%COMP%]   .field-icons[_ngcontent-%COMP%]   .icon-container[_ngcontent-%COMP%]   .orientation-icon.active[_ngcontent-%COMP%]   rect[_ngcontent-%COMP%]{fill:#1fb6ff;stroke:#1fb6ff}.dual-field-container[_ngcontent-%COMP%]{display:flex}.dual-field-container[_ngcontent-%COMP%]   .field-column[_ngcontent-%COMP%]{display:grid;grid-template-columns:50% 50%;font-size:12px;color:#777;line-height:16px}.dual-field-container[_ngcontent-%COMP%]   .field-column[_ngcontent-%COMP%]   .field-name[_ngcontent-%COMP%]{margin-bottom:4px}.dual-field-container[_ngcontent-%COMP%]   .field-column[_ngcontent-%COMP%]   .mat-form-field[_ngcontent-%COMP%]{color:#222}.dual-field-container[_ngcontent-%COMP%]   .field-column[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]:first-child{margin-right:16px}.dual-field-container[_ngcontent-%COMP%]   .lock[_ngcontent-%COMP%]{align-self:flex-end}.quadro-field-container[_ngcontent-%COMP%]{display:flex;align-items:center}.quadro-field-container[_ngcontent-%COMP%]   .field-column[_ngcontent-%COMP%]{display:grid;grid-template-columns:50% 50%;font-size:12px;color:#777;line-height:16px}.quadro-field-container[_ngcontent-%COMP%]   .field-column[_ngcontent-%COMP%]   .field-name[_ngcontent-%COMP%]{margin-bottom:4px}.quadro-field-container[_ngcontent-%COMP%]   .field-column[_ngcontent-%COMP%]   .mat-form-field[_ngcontent-%COMP%]{color:#222}.quadro-field-container[_ngcontent-%COMP%]   .field-column[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]{margin-right:16px}.quadro-field-container[_ngcontent-%COMP%]   .field-column[_ngcontent-%COMP%]:nth-child(2){margin-bottom:8px}"]}),t})();function Det(t,e){if(1&t&&(Ls(0,"mat-option",10),Ca(1),Xl(2,"translate"),Bs()),2&t){const t=e.$implicit;Rs("disabled",t.disabled)("value",t.value),vr(1),Ea(" ",Kl(2,3,t.viewValue)," ")}}const Ret=function(t){return{active:t}},Fet={value:"custom",viewValue:"CUSTOM_LABEL",disabled:!0};let Let=(()=>{class t extends mH{constructor(t,e,n){super(),this.store=t,this.cdr=e,this._overlayContainer=n,this.curOrientation="horizontal",this.items=[],this.originalItems=[],this.orientation=new Yl,this.changeSizeMode=new Yl,this._overlayClickHandler=()=>this.cdr.detectChanges(),this.changeSizeMode=this.changeSizeMode,this.store.pipe(cw(t=>t.templateEditor.configuration.ui.surfaceSizes),$y(this.subscriber),Vy(t=>!!t),F(t=>(this.originalItems=t,t.map(t=>({value:t.name,viewValue:t.name}))))).subscribe(t=>{this.items=t,this.items.push(Fet),this._findSelected()})}set width(t){this.w=t,this.curOrientation=this.w>this.h?"horizontal":"vertical",this._findSelected()}set height(t){this.h=t,this.curOrientation=this.w>this.h?"horizontal":"vertical",this._findSelected()}ngOnInit(){this._overlayContainer.getContainerElement().addEventListener("click",this._overlayClickHandler)}ngOnDestroy(){super.ngOnDestroy(),this._overlayContainer.getContainerElement().removeEventListener("click",this._overlayClickHandler)}change(t){this.selectedValue=t,this.changeSizeMode.emit(this.originalItems.find(e=>e.name===t))}changeOrientation(t){t!==this.curOrientation&&this.orientation.emit(t)}_findSelected(){const t=this.originalItems.findIndex(t=>t.size.height===this.h&&t.size.width===this.w);this.selectedValue=t>-1?this.items[t].value:Fet.value}}return t.\u0275fac=function(e){return new(e||t)(Ms(aw),Ms(Xo),Ms(Kk))},t.\u0275cmp=pe({type:t,selectors:[["au-size-field"]],inputs:{width:"width",height:"height"},outputs:{orientation:"orientation",changeSizeMode:"changeSizeMode"},features:[Ia],decls:19,vars:25,consts:[[1,"size-field"],[1,"input-name"],[1,"field-input"],["appearance","outline"],[3,"value","valueChange","click"],[3,"disabled","value",4,"ngFor","ngForOf"],[1,"field-icons"],[1,"icon-container",3,"click"],["mat-icon-button","",3,"matTooltip"],[1,"orientation-icon",3,"svgIcon","ngClass"],[3,"disabled","value"]],template:function(t,e){1&t&&(Ls(0,"div",0),Ls(1,"div",1),Ca(2),Xl(3,"translate"),Bs(),Ls(4,"div",2),Ls(5,"mat-form-field",3),Ls(6,"mat-select",4),$s("valueChange",(function(t){return e.change(t)}))("click",(function(){return e.cdr.detectChanges()})),Is(7,Det,3,5,"mat-option",5),Bs(),Bs(),Ls(8,"div",6),Ls(9,"div",7),$s("click",(function(){return e.changeOrientation("vertical")})),Ls(10,"button",8),Xl(11,"translate"),Xl(12,"translate"),Ns(13,"mat-icon",9),Bs(),Bs(),Ls(14,"div",7),$s("click",(function(){return e.changeOrientation("horizontal")})),Ls(15,"button",8),Xl(16,"translate"),Xl(17,"translate"),Ns(18,"mat-icon",9),Bs(),Bs(),Bs(),Bs(),Bs()),2&t&&(vr(2),xa(Kl(3,11,"SIZE_LABEL")),vr(4),Rs("value",e.selectedValue),vr(1),Rs("ngForOf",e.items),vr(3),Rs("matTooltip",Kl(11,13,"TO_VERTICAL_ORIENTATION_TOOLTIP")),ks("aria-label",Kl(12,15,"TO_VERTICAL_ORIENTATION_TOOLTIP")),vr(3),Rs("svgIcon","vertical"===e.curOrientation?"au-vertical-file-active":"au-vertical-file")("ngClass",Vl(21,Ret,"vertical"===e.curOrientation)),vr(2),Rs("matTooltip",Kl(16,17,"TO_HORIZONTAL_ORIENTATION_TOOLTIP")),ks("aria-label",Kl(17,19,"TO_HORIZONTAL_ORIENTATION_TOOLTIP")),vr(3),Rs("svgIcon","horizontal"===e.curOrientation?"au-horizontal-file-active":"au-horizontal-file")("ngClass",Vl(23,Ret,"horizontal"===e.curOrientation)))},directives:[iA,EA,Ch,NT,kM,oI,vh,Tk],pipes:[HR],styles:[".input-name[_ngcontent-%COMP%]{font-size:12px;color:#777;line-height:16px;margin-bottom:4px}.field-input[_ngcontent-%COMP%]{display:flex}.field-input[_ngcontent-%COMP%]   mat-form-field[_ngcontent-%COMP%]{width:100%}.field-input[_ngcontent-%COMP%]   .field-icons[_ngcontent-%COMP%]{display:flex}.field-input[_ngcontent-%COMP%]   .field-icons[_ngcontent-%COMP%]   .icon-container[_ngcontent-%COMP%]{width:32px;height:32px;display:flex;align-items:center;justify-content:center;cursor:pointer}.field-input[_ngcontent-%COMP%]   .field-icons[_ngcontent-%COMP%]   .icon-container[_ngcontent-%COMP%]   .orientation-icon.active[_ngcontent-%COMP%]   path[_ngcontent-%COMP%], .field-input[_ngcontent-%COMP%]   .field-icons[_ngcontent-%COMP%]   .icon-container[_ngcontent-%COMP%]   .orientation-icon.active[_ngcontent-%COMP%]   rect[_ngcontent-%COMP%]{fill:#1fb6ff;stroke:#1fb6ff}.dual-field-container[_ngcontent-%COMP%]{display:flex}.dual-field-container[_ngcontent-%COMP%]   .field-column[_ngcontent-%COMP%]{display:grid;grid-template-columns:50% 50%;font-size:12px;color:#777;line-height:16px}.dual-field-container[_ngcontent-%COMP%]   .field-column[_ngcontent-%COMP%]   .field-name[_ngcontent-%COMP%]{margin-bottom:4px}.dual-field-container[_ngcontent-%COMP%]   .field-column[_ngcontent-%COMP%]   .mat-form-field[_ngcontent-%COMP%]{color:#222}.dual-field-container[_ngcontent-%COMP%]   .field-column[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]:first-child{margin-right:16px}.dual-field-container[_ngcontent-%COMP%]   .lock[_ngcontent-%COMP%]{align-self:flex-end}.quadro-field-container[_ngcontent-%COMP%]{display:flex;align-items:center}.quadro-field-container[_ngcontent-%COMP%]   .field-column[_ngcontent-%COMP%]{display:grid;grid-template-columns:50% 50%;font-size:12px;color:#777;line-height:16px}.quadro-field-container[_ngcontent-%COMP%]   .field-column[_ngcontent-%COMP%]   .field-name[_ngcontent-%COMP%]{margin-bottom:4px}.quadro-field-container[_ngcontent-%COMP%]   .field-column[_ngcontent-%COMP%]   .mat-form-field[_ngcontent-%COMP%]{color:#222}.quadro-field-container[_ngcontent-%COMP%]   .field-column[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]{margin-right:16px}.quadro-field-container[_ngcontent-%COMP%]   .field-column[_ngcontent-%COMP%]:nth-child(2){margin-bottom:8px}"]}),t})();function Bet(t,e){if(1&t&&(Ls(0,"div",8),Ca(1),Xl(2,"translate"),Bs()),2&t){const t=e.$implicit;vr(1),xa(Kl(2,1,t.name))}}function Net(t,e){if(1&t&&(Ls(0,"div",12),Ca(1),Bs()),2&t){const t=Ys(2);vr(1),xa(t._unit)}}function jet(t,e){if(1&t){const t=Vs();Ls(0,"div"),Ls(1,"mat-form-field",9),Ls(2,"input",10),$s("blur",(function(n){Qe(t);const i=e.index;return Ys().handleBlur(n,i)}))("keydown.enter",(function(n){Qe(t);const i=e.index;return Ys().handleBlur(n,i)}))("change",(function(n){Qe(t);const i=e.index;return Ys().handleBlur(n,i)})),Bs(),Is(3,Net,2,1,"div",11),Bs(),Bs()}if(2&t){const t=e.$implicit,n=Ys();vr(2),Rs("formControl",t),vr(1),Rs("ngIf",n._unit)}}let zet=(()=>{class t extends mH{constructor(t,e){super(),this._unit2pipe=t,this._decimalPipe=e,this.lockBehavior="uniformly",this.changeField=new Yl,this.isLock=!1,this._values=[0,0],this._format="1.4-4"}set unit(t){this._unit=t,this.form&&this.updateForm()}get isProportional(){return"proportional"===this.lockBehavior}get isUniformly(){return"uniformly"===this.lockBehavior}get controls(){return this.form.get("controls")}ngOnInit(){this.createForm()}ngOnChanges(){}createForm(){const t=this.fields.map(({field:t},e)=>{const n=this._unit2pipe.value2unit(this.model[t],this._unit),i=this._decimalPipe.transform(n,this._format);return this._values[e]=Number(i),new mp(i,[Pd.pattern(KG)])});this.form=new gp({controls:new yp(t)})}updateForm(){this.fields.forEach(({field:t},e)=>{const n=this._unit2pipe.value2unit(this.model[t],this._unit),i=this._decimalPipe.transform(n,this._format);this._values[e]=Number(i),this.form.get("controls").controls[e].setValue(i)})}lockField(){this.isLock=!this.isLock}handleBlur(t,e){if(this.isLock)if(0===e){const t=this._decimalPipe.transform(this.controls.controls[0].value*(this._values[1]/this._values[0]),this._format);this.controls.controls[1].setValue(Number(t))}else{const t=this._decimalPipe.transform(this.controls.controls[1].value*(this._values[0]/this._values[1]),this._format);this.controls.controls[0].setValue(Number(t))}const n=this.controls.controls.map((t,e)=>{const{value:n}=t;return this._values[e]=Number(n),{field:this.fields[e].field,value:this._unit2pipe.unit2value(n,this._unit)}});this.changeField.emit(n),this._blur(t)}_blur(t){t instanceof KeyboardEvent&&t.target.blur()}}return t.\u0275fac=function(e){return new(e||t)(Ms(I2),Ms(Zh))},t.\u0275cmp=pe({type:t,selectors:[["au-dual-field"]],inputs:{fields:"fields",model:"model",lockBehavior:"lockBehavior",unit:"unit"},outputs:{changeField:"changeField"},features:[Ia,La],decls:12,vars:10,consts:[[1,"dual-field-container"],[1,"field-column"],["class","field-name",4,"ngFor","ngForOf"],[1,"field-column",3,"formGroup"],[4,"ngFor","ngForOf"],[1,"lock"],["mat-icon-button","",3,"matTooltip","click"],[3,"svgIcon"],[1,"field-name"],["appearance","outline"],["auKeyboardNoPropagation","","matInput","","autocomplete","off","type","number",3,"formControl","blur","keydown.enter","change"],["matSuffix","","class","unit-suffix",4,"ngIf"],["matSuffix","",1,"unit-suffix"]],template:function(t,e){1&t&&(Ls(0,"div",0),Ls(1,"div"),Ls(2,"div",1),Is(3,Bet,3,3,"div",2),Bs(),Ls(4,"div"),Ls(5,"form",3),Is(6,jet,4,2,"div",4),Bs(),Bs(),Bs(),Ls(7,"div",5),Ls(8,"button",6),$s("click",(function(){return e.lockField()})),Xl(9,"translate"),Xl(10,"translate"),Ns(11,"mat-icon",7),Bs(),Bs(),Bs()),2&t&&(vr(3),Rs("ngForOf",e.fields),vr(2),Rs("formGroup",e.form),vr(1),Rs("ngForOf",e.controls.controls),vr(2),Rs("matTooltip",Kl(9,6,"KEEP_PROPORTION_TOOLTIP")),ks("aria-label",Kl(10,8,"KEEP_PROPORTION_TOOLTIP")),vr(3),Rs("svgIcon",e.isLock?"au-lock":"au-unlock"))},directives:[Ch,Tp,wd,Rp,NT,kM,oI,iA,NA,Dd,pd,lq,bd,Mp,Eh,QI],pipes:[HR],styles:[".input-name[_ngcontent-%COMP%]{font-size:12px;color:#777;line-height:16px;margin-bottom:4px}.field-input[_ngcontent-%COMP%]{display:flex}.field-input[_ngcontent-%COMP%]   mat-form-field[_ngcontent-%COMP%]{width:100%}.field-input[_ngcontent-%COMP%]   .field-icons[_ngcontent-%COMP%]{display:flex}.field-input[_ngcontent-%COMP%]   .field-icons[_ngcontent-%COMP%]   .icon-container[_ngcontent-%COMP%]{width:32px;height:32px;display:flex;align-items:center;justify-content:center;cursor:pointer}.field-input[_ngcontent-%COMP%]   .field-icons[_ngcontent-%COMP%]   .icon-container[_ngcontent-%COMP%]   .orientation-icon.active[_ngcontent-%COMP%]   path[_ngcontent-%COMP%], .field-input[_ngcontent-%COMP%]   .field-icons[_ngcontent-%COMP%]   .icon-container[_ngcontent-%COMP%]   .orientation-icon.active[_ngcontent-%COMP%]   rect[_ngcontent-%COMP%]{fill:#1fb6ff;stroke:#1fb6ff}.dual-field-container[_ngcontent-%COMP%]{display:flex}.dual-field-container[_ngcontent-%COMP%]   .field-column[_ngcontent-%COMP%]{display:grid;grid-template-columns:50% 50%;font-size:12px;color:#777;line-height:16px}.dual-field-container[_ngcontent-%COMP%]   .field-column[_ngcontent-%COMP%]   .field-name[_ngcontent-%COMP%]{margin-bottom:4px}.dual-field-container[_ngcontent-%COMP%]   .field-column[_ngcontent-%COMP%]   .mat-form-field[_ngcontent-%COMP%]{color:#222}.dual-field-container[_ngcontent-%COMP%]   .field-column[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]:first-child{margin-right:16px}.dual-field-container[_ngcontent-%COMP%]   .lock[_ngcontent-%COMP%]{align-self:flex-end}.quadro-field-container[_ngcontent-%COMP%]{display:flex;align-items:center}.quadro-field-container[_ngcontent-%COMP%]   .field-column[_ngcontent-%COMP%]{display:grid;grid-template-columns:50% 50%;font-size:12px;color:#777;line-height:16px}.quadro-field-container[_ngcontent-%COMP%]   .field-column[_ngcontent-%COMP%]   .field-name[_ngcontent-%COMP%]{margin-bottom:4px}.quadro-field-container[_ngcontent-%COMP%]   .field-column[_ngcontent-%COMP%]   .mat-form-field[_ngcontent-%COMP%]{color:#222}.quadro-field-container[_ngcontent-%COMP%]   .field-column[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]{margin-right:16px}.quadro-field-container[_ngcontent-%COMP%]   .field-column[_ngcontent-%COMP%]:nth-child(2){margin-bottom:8px}"]}),t})();function Het(t,e){if(1&t&&(Ls(0,"div",10),Ca(1),Xl(2,"translate"),Bs()),2&t){const t=e.$implicit;vr(1),xa(Kl(2,1,t.name))}}function Vet(t,e){if(1&t&&(Ls(0,"div",14),Ca(1),Bs()),2&t){const t=Ys(3);vr(1),xa(t._unit)}}function Uet(t,e){if(1&t){const t=Vs();Ls(0,"div"),Ls(1,"mat-form-field",11),Ls(2,"input",12),$s("blur",(function(n){Qe(t);const i=e.$implicit;return Ys(2).handleBlur(n,i.field)}))("keydown.enter",(function(n){Qe(t);const i=e.$implicit;return Ys(2).handleBlur(n,i.field)})),Bs(),Is(3,Vet,2,1,"div",13),Bs(),Bs()}if(2&t){const t=e.$implicit,n=Ys(2);vr(2),Rs("formControlName",t.field),vr(1),Rs("ngIf",n._unit)}}function Wet(t,e){if(1&t&&(Ls(0,"div",5),Ls(1,"form",6),Ls(2,"div",7),Is(3,Het,3,3,"div",8),Bs(),Ls(4,"div",7),Is(5,Uet,4,2,"div",9),Bs(),Bs(),Bs()),2&t){const t=e.$implicit,n=Ys();vr(1),Rs("formGroup",n.form),vr(2),Rs("ngForOf",t),vr(2),Rs("ngForOf",t)}}let $et=(()=>{class t extends mH{constructor(t,e){super(),this._unit2pipe=t,this._decimalPipe=e,this.changeField=new Yl,this.rows=[],this.isLock=!1}set unit(t){this._unit=t,this.form&&this.updateForm()}set fields(t){this.rows.push(t.slice(0,2)),this.rows.push(t.slice(-2))}ngOnInit(){const t={};this.rows.forEach(e=>e.forEach(({field:e})=>t[e]=new mp(this._decimalPipe.transform(this._unit2pipe.value2unit(this.model[e],this._unit),"1.4-4"),[Pd.pattern(KG)]))),this.form=new gp(t)}updateForm(){this.rows.forEach(t=>t.forEach(({field:t})=>this.form.get(t).setValue(this._decimalPipe.transform(this._unit2pipe.value2unit(this.model[t],this._unit),"1.4-4"))))}lockField(){this.isLock=!this.isLock}handleBlur(t,e){if(this.form.valid){if(this.isLock){const t=this.form.get(e).value;this.rows.forEach(e=>e.forEach(({field:e})=>this.form.get(e).setValue(t)))}let t=[];this.rows.forEach(e=>t=t.concat(e.map(({field:t})=>({field:t,value:this._unit2pipe.unit2value(this.form.get(t).value,this._unit)})))),this.changeField.emit(t)}this._blur(t)}_blur(t){t instanceof KeyboardEvent&&t.target.blur()}}return t.\u0275fac=function(e){return new(e||t)(Ms(I2),Ms(Zh))},t.\u0275cmp=pe({type:t,selectors:[["au-quadro-field"]],inputs:{model:"model",unit:"unit",fields:"fields"},outputs:{changeField:"changeField"},features:[Ia],decls:8,vars:8,consts:[[1,"quadro-field-container"],["class","field-row",4,"ngFor","ngForOf"],[1,"lock"],["mat-icon-button","",3,"matTooltip","click"],[3,"svgIcon"],[1,"field-row"],[3,"formGroup"],[1,"field-column"],["class","field-name",4,"ngFor","ngForOf"],[4,"ngFor","ngForOf"],[1,"field-name"],["appearance","outline"],["auKeyboardNoPropagation","","matInput","","autocomplete","off","type","number",3,"formControlName","blur","keydown.enter"],["matSuffix","","class","unit-suffix",4,"ngIf"],["matSuffix","",1,"unit-suffix"]],template:function(t,e){1&t&&(Ls(0,"div",0),Ls(1,"div"),Is(2,Wet,6,3,"div",1),Bs(),Ls(3,"div",2),Ls(4,"button",3),$s("click",(function(){return e.lockField()})),Xl(5,"translate"),Xl(6,"translate"),Ns(7,"mat-icon",4),Bs(),Bs(),Bs()),2&t&&(vr(2),Rs("ngForOf",e.rows),vr(2),Rs("matTooltip",Kl(5,4,"KEEP_PROPORTION_TOOLTIP")),ks("aria-label",Kl(6,6,"KEEP_PROPORTION_TOOLTIP")),vr(3),Rs("svgIcon",e.isLock?"au-lock":"au-unlock"))},directives:[Ch,NT,kM,oI,Tp,wd,Rp,iA,NA,Dd,pd,lq,bd,Hp,Eh,QI],pipes:[HR],styles:[".input-name[_ngcontent-%COMP%]{font-size:12px;color:#777;line-height:16px;margin-bottom:4px}.field-input[_ngcontent-%COMP%]{display:flex}.field-input[_ngcontent-%COMP%]   mat-form-field[_ngcontent-%COMP%]{width:100%}.field-input[_ngcontent-%COMP%]   .field-icons[_ngcontent-%COMP%]{display:flex}.field-input[_ngcontent-%COMP%]   .field-icons[_ngcontent-%COMP%]   .icon-container[_ngcontent-%COMP%]{width:32px;height:32px;display:flex;align-items:center;justify-content:center;cursor:pointer}.field-input[_ngcontent-%COMP%]   .field-icons[_ngcontent-%COMP%]   .icon-container[_ngcontent-%COMP%]   .orientation-icon.active[_ngcontent-%COMP%]   path[_ngcontent-%COMP%], .field-input[_ngcontent-%COMP%]   .field-icons[_ngcontent-%COMP%]   .icon-container[_ngcontent-%COMP%]   .orientation-icon.active[_ngcontent-%COMP%]   rect[_ngcontent-%COMP%]{fill:#1fb6ff;stroke:#1fb6ff}.dual-field-container[_ngcontent-%COMP%]{display:flex}.dual-field-container[_ngcontent-%COMP%]   .field-column[_ngcontent-%COMP%]{display:grid;grid-template-columns:50% 50%;font-size:12px;color:#777;line-height:16px}.dual-field-container[_ngcontent-%COMP%]   .field-column[_ngcontent-%COMP%]   .field-name[_ngcontent-%COMP%]{margin-bottom:4px}.dual-field-container[_ngcontent-%COMP%]   .field-column[_ngcontent-%COMP%]   .mat-form-field[_ngcontent-%COMP%]{color:#222}.dual-field-container[_ngcontent-%COMP%]   .field-column[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]:first-child{margin-right:16px}.dual-field-container[_ngcontent-%COMP%]   .lock[_ngcontent-%COMP%]{align-self:flex-end}.quadro-field-container[_ngcontent-%COMP%]{display:flex;align-items:center}.quadro-field-container[_ngcontent-%COMP%]   .field-column[_ngcontent-%COMP%]{display:grid;grid-template-columns:50% 50%;font-size:12px;color:#777;line-height:16px}.quadro-field-container[_ngcontent-%COMP%]   .field-column[_ngcontent-%COMP%]   .field-name[_ngcontent-%COMP%]{margin-bottom:4px}.quadro-field-container[_ngcontent-%COMP%]   .field-column[_ngcontent-%COMP%]   .mat-form-field[_ngcontent-%COMP%]{color:#222}.quadro-field-container[_ngcontent-%COMP%]   .field-column[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]{margin-right:16px}.quadro-field-container[_ngcontent-%COMP%]   .field-column[_ngcontent-%COMP%]:nth-child(2){margin-bottom:8px}"]}),t})();const Get=function(t){return{active:t}};let qet=(()=>{class t{constructor(){this.selectFile=new Yl}get title(){return this.isActive?this.activeTitle:this.inactiveTitle}dropFile(t){t.preventDefault(),t.stopPropagation(),this.isActive=!1,this.emit(t.dataTransfer.files[0])}markSpaceAsActive(t){t.preventDefault(),this.isActive=!0}markSpaceAsInactive(t){t.preventDefault(),this.isActive=!1}emit(t){this.selectFile.emit(t)}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275cmp=pe({type:t,selectors:[["au-file-drop-zone"]],inputs:{accept:"accept",activeTitle:"activeTitle",inactiveTitle:"inactiveTitle"},outputs:{selectFile:"selectFile"},decls:5,vars:6,consts:[[1,"d-flex"],["dropzone","copy",1,"upload-zone",3,"ngClass","dragover","dragleave","drop"],["for","bg-img",1,"d-flex","w-100","h-100","justify-content-center","align-items-center"],[3,"accept","id","selectFile"]],template:function(t,e){1&t&&(Ls(0,"div",0),Ls(1,"div",1),$s("dragover",(function(t){return e.markSpaceAsActive(t)}))("dragleave",(function(t){return e.markSpaceAsInactive(t)}))("drop",(function(t){return e.dropFile(t)})),Ls(2,"label",2),Ca(3),Bs(),Bs(),Bs(),Ls(4,"au-file-reader",3),$s("selectFile",(function(t){return e.emit(t)})),Bs()),2&t&&(vr(1),Rs("ngClass",Vl(4,Get,e.isActive)),vr(2),Ea(" ",e.title," "),vr(1),Rs("accept",e.accept)("id","bg-img"))},directives:[vh,x6],styles:[".upload-zone[_ngcontent-%COMP%]{cursor:pointer;border:1px dashed #e5e5e5;width:100%;height:75px;transition:background .5s}.upload-zone.active[_ngcontent-%COMP%], .upload-zone[_ngcontent-%COMP%]:hover{border-color:#86d7ff;background:#f3fcff;transition:background .5s}"]}),t})();function Xet(t,e){if(1&t){const t=Vs();Ls(0,"div",6),Ls(1,"button",7),$s("click",(function(){return Qe(t),Ys().buttonClick()})),Ls(2,"div",8),$s("click",(function(e){return Qe(t),e.stopPropagation()}))("menuOpened",(function(){return Qe(t),Ys().initColorPicker()}))("menuClosed",(function(){return Qe(t),Ys().closeColorMenu()})),Ls(3,"mat-menu",null,9),Ls(5,"au-color-picker",10),$s("click",(function(e){return Qe(t),e.stopPropagation()}))("onChange",(function(e){return Qe(t),Ys().colorChange(e)}))("onSubmit",(function(){return Qe(t),Ys().onSubmit()}))("colorPick",(function(e){return Qe(t),Ys().pickColor(e)}))("startPick",(function(){return Qe(t),Ys().startPick()})),Bs(),Bs(),Bs(),Bs(),Ls(6,"mat-form-field",11),Ns(7,"input",12),Xl(8,"percent"),Bs(),Ls(9,"mat-slider",13),$s("change",(function(e){return Qe(t),Ys().changeTransparency(e)})),Bs(),Bs()}if(2&t){const t=As(4),e=Ys();vr(1),ca("background-color",null==e.initializeColorPicker?null:e.initializeColorPicker.preview),vr(1),Rs("matMenuTriggerFor",t),vr(3),Rs("initialColor",e.initializeColorPicker)("initialized",e.initializeColorPicker)("allowPick",!0),vr(2),Rs("value",Kl(8,10,e.opacity)),vr(2),Rs("max",1)("value",e.opacity)("step",.01)}}function Ket(t,e){if(1&t){const t=Vs();Ls(0,"div",16),Ls(1,"mat-form-field",11),Ns(2,"input",12),Xl(3,"percent"),Bs(),Ls(4,"mat-slider",13),$s("change",(function(e){return Qe(t),Ys(2).changeTransparency(e)})),Bs(),Bs()}if(2&t){const t=Ys(2);vr(2),Rs("value",Kl(3,4,t.opacity)),vr(2),Rs("max",1)("value",t.opacity)("step",.01)}}function Yet(t,e){if(1&t){const t=Vs();js(0),Ls(1,"au-file-drop-zone",14),$s("selectFile",(function(e){return Qe(t),Ys().upload(e)})),Bs(),Is(2,Ket,5,6,"div",15),zs()}if(2&t){const t=Ys();vr(1),Rs("accept",".jpg, .png, .svg")("inactiveTitle","Drag file here")("activeTitle","Drop file"),vr(1),Rs("ngIf",t.bgIsImage)}}var Qet=function(t){return t.color="color",t.image="image",t}({});let Zet=(()=>{class t extends mH{constructor(t,e,n,i,r){super(),this._itemSrv=t,this._modalSrv=e,this._pageSrv=n,this._cdr=i,this.types=Qet,this.type=Qet.color,r.pipe(cw(t=>t.templateEditor.viewer),Vy(t=>!!t),$y(this.subscriber)).subscribe(t=>this._viewer=t)}set surface(t){this._bgItem=null==t?void 0:t.getBackgroundItem(),this._surface=t,this._bgItem instanceof fW&&(this.type=Qet.image),this._bgItem instanceof UV&&(this.type=Qet.color,this.initializeColorPicker=this._bgItem.fillColor.clone())}get isColor(){return this.type===Qet.color}get bgIsColor(){return this._bgItem instanceof UV}get bgIsImage(){return this._bgItem instanceof fW}get isImage(){return this.type===Qet.image}get opacity(){return this._bgItem.opacity}changeBackgroundType(t){this.type=t.value}colorChange(t){if(this._menuIsOpen){this._bgItem instanceof fW&&(this._pageSrv.removeBackground(this._surface),this._bgItem=this._pageSrv.addBackground(this._surface));const e=t instanceof zB?t:null==t?void 0:t.color;this.initializeColorPicker=e,this._bgItem.fillColor=e}}pickColor(t){this.colorMenu.openMenu(),this._menuIsOpen=!0,this.colorChange(t)}startPick(){this.colorMenu.closeMenu()}initColorPicker(){this._menuIsOpen=!0,this._oldColor=this._bgItem.fillColor.clone(),this._bgItem instanceof fW&&(this._oldBgImage=this._bgItem),this.initializeColorPicker=this._bgItem.fillColor.clone()}onSubmit(){this._bgItem.fillColor=this.initializeColorPicker,this._oldColor=null,this._oldBgImage=null,this.colorMenu.closeMenu(),this._menuIsOpen=!1}closeColorMenu(){return vR(this,void 0,void 0,(function*(){this._oldColor&&(this._bgItem.fillColor=this._oldColor),this._oldBgImage&&(this._bgItem=this._oldBgImage,yield this._pageSrv.setBgImage(this._surface,this._oldBgImage)),this.initializeColorPicker=this._bgItem.fillColor,this._oldColor=null,this._oldBgImage=null,this._menuIsOpen=!1}))}changeTransparency(t){this._bgItem.opacity=t.value}upload(t){return vR(this,void 0,void 0,(function*(){if(t){this._modalSrv.showProductLoader();try{const e=yield this._itemSrv.uploadImage(t);yield this._pageSrv.setBgImage(this._surface,e),this._bgItem=e,this.initializeColorPicker=new VB({r:255,g:255,b:255,a:255})}finally{this._modalSrv.closeProductLoader(),this._cdr.detectChanges()}}}))}buttonClick(){this._viewer.mouseBehavior!==eJ.SelectPixel&&this.colorMenu.openMenu()}}return t.\u0275fac=function(e){return new(e||t)(Ms(a2),Ms(f1),Ms(P6),Ms(Xo),Ms(aw))},t.\u0275cmp=pe({type:t,selectors:[["au-background-field"]],viewQuery:function(t,e){var n;1&t&&cc(IT,!0),2&t&&ac(n=fc())&&(e.colorMenu=n.first)},inputs:{surface:"surface"},features:[Ia],decls:12,vars:14,consts:[[1,"background-field"],[1,"background-mode"],["appearance","legacy",3,"value","change"],[1,"bg-toggle-button",3,"value"],["class","color-mode",4,"ngIf"],[4,"ngIf"],[1,"color-mode"],["mat-button","",1,"color-button",3,"click"],[3,"matMenuTriggerFor","click","menuOpened","menuClosed"],["menu","matMenu"],[3,"initialColor","initialized","allowPick","click","onChange","onSubmit","colorPick","startPick"],["appearance","outline"],["matInput","","type","text","readonly","",3,"value"],["color","primary",3,"max","value","step","change"],[3,"accept","inactiveTitle","activeTitle","selectFile"],["class","image-mode",4,"ngIf"],[1,"image-mode"]],template:function(t,e){1&t&&(Ls(0,"div",0),Ls(1,"div",1),Ls(2,"mat-button-toggle-group",2),$s("change",(function(t){return e.changeBackgroundType(t)})),Xl(3,"translate"),Ls(4,"mat-button-toggle",3),Ca(5),Xl(6,"translate"),Bs(),Ls(7,"mat-button-toggle",3),Ca(8),Xl(9,"translate"),Bs(),Bs(),Bs(),Is(10,Xet,10,12,"div",4),Is(11,Yet,3,4,"ng-container",5),Bs()),2&t&&(vr(2),Rs("value",e.type),ks("aria-label",Kl(3,8,"BACKGROUND_LABEL")),vr(2),Rs("value",e.types.color),vr(1),xa(Kl(6,10,"Labels.COLOR")),vr(2),Rs("value",e.types.image),vr(1),xa(Kl(9,12,"Labels.IMAGE")),vr(2),Rs("ngIf",e.isColor),vr(1),Rs("ngIf",e.isImage))},directives:[oM,lM,Eh,NT,IT,PT,j7,iA,NA,GA,qet],pipes:[HR,Jh],styles:[".background-field[_ngcontent-%COMP%]   .color-button[_ngcontent-%COMP%]{width:36px;height:36px;min-width:unset;background:#000;border:1px solid #e5e5e5;box-sizing:border-box;border-radius:2px}.background-field[_ngcontent-%COMP%]   .background-mode[_ngcontent-%COMP%]{margin-bottom:16px}.background-field[_ngcontent-%COMP%]   .mat-button-toggle-checked[_ngcontent-%COMP%]{background-color:#1fb6ff;color:#fff}.background-field[_ngcontent-%COMP%]   mat-button-toggle[_ngcontent-%COMP%]{border:1px solid #dedede;border-radius:2px;color:#555;font-weight:500}.background-field[_ngcontent-%COMP%]   mat-button-toggle[_ngcontent-%COMP%]:first-child{border-radius:2px 0 0 2px;border-right:transparent}.background-field[_ngcontent-%COMP%]   mat-button-toggle[_ngcontent-%COMP%]:nth-child(2){border-radius:0 2px 2px 0}.background-field[_ngcontent-%COMP%]   .mat-button-toggle-group[_ngcontent-%COMP%]{width:100%;box-shadow:none}.background-field[_ngcontent-%COMP%]   .mat-button-toggle-group[_ngcontent-%COMP%]   .mat-button-toggle[_ngcontent-%COMP%]{width:50%}.background-field[_ngcontent-%COMP%]   .color-mode[_ngcontent-%COMP%]{display:grid;grid-template-columns:36px 60px auto;grid-column-gap:12px;align-items:center}.background-field[_ngcontent-%COMP%]   .image-mode[_ngcontent-%COMP%]{display:grid;grid-template-columns:60px auto;grid-column-gap:12px;align-items:center}"]}),t})();const Jet=["whSize"],tnt=function(){return{name:"WIDTH_LABEL",field:"width"}},ent=function(){return{name:"HEIGHT_LABEL",field:"height"}},nnt=function(t,e){return[t,e]};function int(t,e){if(1&t){const t=Vs();Ls(0,"au-dual-field",11,12),$s("changeField",(function(e){return Qe(t),Ys(2).changeSize(e)})),Bs()}if(2&t){const t=Ys(2);Rs("unit",t.unit)("fields",Ul(6,nnt,Hl(4,tnt),Hl(5,ent)))("model",t.srf)("lockBehavior","proportional")}}const rnt=function(){return{name:"NAME_LABEL",field:"name"}};function ont(t,e){if(1&t){const t=Vs();Ls(0,"div",3),Ls(1,"au-page-option-title",6),$s("action",(function(e){return Qe(t),Ys().doPageOptionAction(e)})),Bs(),Ls(2,"div",7),Ns(3,"au-common-field",8),Bs(),Ls(4,"div",7),Ls(5,"au-size-field",9),$s("orientation",(function(){return Qe(t),Ys().changeOrientation()}))("changeSizeMode",(function(e){return Qe(t),Ys().changeSizeMode(e)})),Bs(),Bs(),Ls(6,"div"),Is(7,int,2,9,"au-dual-field",10),Bs(),Bs()}if(2&t){const t=Ys();vr(1),Rs("title","PAGE_OPTIONS_LABEL")("dropdownModel",t.menu)("displayMenu",!0),vr(2),Rs("field",Hl(8,rnt))("model",t.srf),vr(2),Rs("width",t.srf.width)("height",t.srf.height),vr(2),Rs("ngIf",t.unit)}}function snt(t,e){if(1&t){const t=Vs();Ls(0,"au-quadro-field",15),$s("changeField",(function(e){return Qe(t),Ys(2).updateBleed(e)})),Bs()}if(2&t){const t=Ys().$implicit,e=Ys();Rs("fields",e.bledFields)("unit",e.unit)("model",t.bleed)}}function ant(t,e){if(1&t){const t=Vs();Ls(0,"div",3),Ls(1,"au-page-option-title",13),$s("toggle",(function(e){return Qe(t),Ys().toggleBleed(e)}))("action",(function(e){return Qe(t),Ys().doBledAction(e)})),Bs(),Is(2,snt,1,3,"au-quadro-field",14),Bs()}if(2&t){const t=Ys();vr(1),Rs("title","BLEED_LABEL")("dropdownModel",t.menu)("displayMenu",t.haveBleed)("displayToggle",!0)("toggleChecked",t.haveBleed),vr(1),Rs("ngIf",t.haveBleed&&t.unit)}}function lnt(t,e){if(1&t){const t=Vs();Ls(0,"au-quadro-field",15),$s("changeField",(function(e){return Qe(t),Ys(2).updateMargins(e)})),Bs()}if(2&t){const t=Ys().index,e=Ys();Rs("fields",e.bledFields)("unit",e.unit)("model",e.margins[t])}}function cnt(t,e){if(1&t){const t=Vs();Ls(0,"div",3),Ls(1,"au-page-option-title",13),$s("toggle",(function(e){return Qe(t),Ys().toggleMargins(e)}))("action",(function(e){return Qe(t),Ys().doMarginsActions(e)})),Bs(),Is(2,lnt,1,3,"au-quadro-field",14),Bs()}if(2&t){const t=e.index,n=Ys();vr(1),Rs("title","MARGINS_lABEL")("dropdownModel",n.menu)("displayMenu",!!n.margins[t])("displayToggle",!0)("toggleChecked",!!n.margins[t]),vr(1),Rs("ngIf",!!n.safetyLine&&!!n.unit)}}function unt(t,e){1&t&&Ns(0,"au-background-field",16),2&t&&Rs("surface",Ys().srf)}let hnt=(()=>{class t extends mH{constructor(t,e,n){super(),this._cdr=t,this._pageSrv=e,this._store=n,this.bledFields=S6,this.allowBackground=!1,this.menu=new x2([{key:"",items:[{action:"APPLY_FOR_ALL",name:"APPLY_FOR_ALL_ACTION"}]}])}get safetyLine(){return this.srf?this.srf.printAreas.toArray().map(t=>this._pageSrv.getMarginSafetyLine(t))[0]:null}get bg(){var t;return null===(t=this.srf)||void 0===t?void 0:t.getBackgroundItem()}get margins(){if(this.srf)return this.srf.printAreas.toArray().map(t=>this._pageSrv.getMargins(t))}ngOnInit(){this._pageSrv.$curSurface.pipe($y(this.subscriber),Vy(t=>!!t)).subscribe(t=>{this.srf=t,this._cdr.detectChanges()}),this._store.pipe(cw(t=>{var e;return null===(e=t.templateEditor.configuration)||void 0===e?void 0:e.ui.unit}),Vy(t=>!!t),$y(this.subscriber)).subscribe(t=>{this.unit=t.shortName,this._cdr.detectChanges()})}updateBleed(t){const e={};t.forEach(t=>e[t.field]=Number(t.value)),this.srf.printAreas.forEach(t=>{const n=new r$({left:e.left,right:e.right,top:e.top,bottom:e.bottom});n.name="BLEED_SAFETY_LINE",t.bleed=n}),this._cdr.detectChanges()}doPageOptionAction(t){switch(t.action){case"APPLY_FOR_ALL":this._pageSrv.sizeApplyForAll(this.srf.width,this.srf.height)}}doMarginsActions(t){switch(t.action){case"APPLY_FOR_ALL":const t=this.srf.printAreas.toArray().map(t=>this._pageSrv.getMargins(t));this._pageSrv.marginsApplyForAll(t[0])}}doBledAction(t){switch(t.action){case"APPLY_FOR_ALL":this._pageSrv.bleedApplyForAll(this.srf.printAreas.get(0).bleed)}}doBackgroundAction(t){switch(t.action){case"APPLY_FOR_ALL":this._pageSrv.backgroundApplyForAll(this.srf)}}updateMargins(t){const e={};t.forEach(t=>e[t.field]=Number(t.value)),this.srf.printAreas.forEach(t=>this._pageSrv.setMargin(t,e)),this._cdr.detectChanges()}toggleMargins(t){this.srf.printAreas.forEach(e=>{const{safetyLines:n}=e;t?this._pageSrv.setMargin(e,{bottom:0,left:0,right:0,top:0}):n.remove(this.safetyLine)}),this._cdr.detectChanges()}get haveBleed(){if(this.srf){const{bottom:t,top:e,left:n,right:i,name:r}=this.srf.printAreas.get(0).bleed;return Boolean(t||e||n||i)||"BLEED_SAFETY_LINE"===r}return!1}toggleBleed(t){this.srf.printAreas.forEach(t?t=>t.bleed.name="BLEED_SAFETY_LINE":t=>{t.bleed.top=0,t.bleed.bottom=0,t.bleed.right=0,t.bleed.left=0,t.bleed.name=""}),this._cdr.detectChanges()}toggleBackground(t){t?this._pageSrv.addBackground(this.srf):this._pageSrv.removeBackground(this.srf)}changeOrientation(){this._pageSrv.changeOrientation(this.srf),this._cdr.detectChanges()}changeSizeMode({size:{height:t,width:e}}){return vR(this,void 0,void 0,(function*(){yield this._pageSrv.changeSurfaceSize(this.srf,e,t),this.whSize.updateForm()}))}changeSize(t){const e={};t.forEach(({field:t,value:n})=>e[t]=Number(n)),this._pageSrv.changeSurfaceSize(this.srf,e.width,e.height),this._cdr.detectChanges()}}return t.\u0275fac=function(e){return new(e||t)(Ms(Xo),Ms(P6),Ms(aw))},t.\u0275cmp=pe({type:t,selectors:[["au-page-options"]],viewQuery:function(t,e){var n;1&t&&cc(Jet,!0),2&t&&ac(n=fc())&&(e.whSize=n.first)},features:[Ia],decls:7,vars:9,consts:[[1,"page-field-container"],["class","field-section",4,"ngIf"],["class","field-section",4,"ngFor","ngForOf"],[1,"field-section"],[3,"title","displayMenu","dropdownModel","displayToggle","toggleChecked","toggle","action"],[3,"surface",4,"ngIf"],[3,"title","dropdownModel","displayMenu","action"],[1,"field"],[3,"field","model"],[3,"width","height","orientation","changeSizeMode"],[3,"unit","fields","model","lockBehavior","changeField",4,"ngIf"],[3,"unit","fields","model","lockBehavior","changeField"],["whSize",""],[3,"title","dropdownModel","displayMenu","displayToggle","toggleChecked","toggle","action"],[3,"fields","unit","model","changeField",4,"ngIf"],[3,"fields","unit","model","changeField"],[3,"surface"]],template:function(t,e){1&t&&(Ls(0,"div",0),Is(1,ont,8,9,"div",1),Is(2,ant,3,6,"div",2),Is(3,cnt,3,6,"div",2),Ls(4,"div",3),Ls(5,"au-page-option-title",4),$s("toggle",(function(t){return e.toggleBackground(t)}))("action",(function(t){return e.doBackgroundAction(t)})),Bs(),Is(6,unt,1,1,"au-background-field",5),Bs(),Bs()),2&t&&(vr(1),Rs("ngIf",e.srf),vr(1),Rs("ngForOf",null==e.srf?null:e.srf.printAreas),vr(1),Rs("ngForOf",null==e.srf?null:e.srf.printAreas),vr(2),Rs("title","BACKGROUND_LABEL")("displayMenu",!!e.bg)("dropdownModel",e.menu)("displayToggle",!0)("toggleChecked",!!e.bg),vr(1),Rs("ngIf",e.bg))},directives:[Eh,Ch,Q7,Met,Let,zet,$et,Zet],styles:[".mat-form-field-appearance-outline[_ngcontent-%COMP%]   .mat-form-field-infix[_ngcontent-%COMP%]{width:auto}.field-item[_ngcontent-%COMP%], .input-name[_ngcontent-%COMP%]{display:flex}.page-field-container[_ngcontent-%COMP%]   .field-section[_ngcontent-%COMP%]{padding:16px;border-bottom:1px solid #e5e5e5}.page-field-container[_ngcontent-%COMP%]   .field-section[_ngcontent-%COMP%]   .field[_ngcontent-%COMP%]{margin-bottom:12px}.mat-slide-toggle[_ngcontent-%COMP%]{width:auto}"],changeDetection:0}),t})();var dnt=function(t){return t.SurfaceContainer="SurfaceContainer",t.TextureContainer="TextureContainer",t.SpotColorContainer="SpotColorContainer",t.MockupContainer="MockupContainer",t}({});const pnt=[{value:dnt.SurfaceContainer,viewValue:"SURFACE_CONTAINER_LABEL"},{value:dnt.TextureContainer,viewValue:"TEXTURE_CONTAINER_LABEL"},{value:dnt.SpotColorContainer,viewValue:"SPOT_COLOR_CONTAINER_LABEL"},{value:dnt.MockupContainer,viewValue:"MOCKUP_CONTAINER_LABEL"}];let fnt=(()=>{class t{constructor(){this.field={}}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275cmp=pe({type:t,selectors:[["au-boolean-field"]],inputs:{field:"field",model:"model"},decls:6,vars:4,consts:[[1,"boolean-field"],[1,"field-input"],["labelPosition","before","color","primary",3,"ngModel","ngModelChange"],[1,"input-name"]],template:function(t,e){1&t&&(Ls(0,"div",0),Ls(1,"div",1),Ls(2,"mat-slide-toggle",2),$s("ngModelChange",(function(t){return e.model[e.field.field]=t})),Ls(3,"span",3),Ca(4),Xl(5,"translate"),Bs(),Bs(),Bs(),Bs()),2&t&&(vr(2),Rs("ngModel",e.model[e.field.field]),vr(2),xa(Kl(5,2,e.field.name)))},directives:[_I,bd,kp],pipes:[HR],styles:[".boolean-field[_ngcontent-%COMP%]   .input-name[_ngcontent-%COMP%]{font-size:12px;color:#777;line-height:16px;align-items:center}.boolean-field[_ngcontent-%COMP%]   .field-input[_ngcontent-%COMP%]   mat-slide-toggle[_ngcontent-%COMP%]{margin-left:auto}.boolean-field[_ngcontent-%COMP%]   .mat-slide-toggle[_ngcontent-%COMP%]{width:100%;max-width:100%}.boolean-field[_ngcontent-%COMP%]   .mat-slide-toggle[_ngcontent-%COMP%]   .mat-slide-toggle-bar[_ngcontent-%COMP%]{margin-left:auto}"]}),t})(),mnt=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275cmp=pe({type:t,selectors:[["au-spot-color"]],decls:2,vars:0,template:function(t,e){1&t&&(Ls(0,"span"),Ca(1,"Spot color field"),Bs())},styles:[".input-name[_ngcontent-%COMP%]{font-size:12px;color:#777;line-height:16px;margin-bottom:4px}.field-input[_ngcontent-%COMP%]{display:flex}.field-input[_ngcontent-%COMP%]   mat-form-field[_ngcontent-%COMP%]{width:100%}.field-input[_ngcontent-%COMP%]   .field-icons[_ngcontent-%COMP%]{display:flex}.field-input[_ngcontent-%COMP%]   .field-icons[_ngcontent-%COMP%]   .icon-container[_ngcontent-%COMP%]{width:32px;height:32px;display:flex;align-items:center;justify-content:center;cursor:pointer}.field-input[_ngcontent-%COMP%]   .field-icons[_ngcontent-%COMP%]   .icon-container[_ngcontent-%COMP%]   .orientation-icon.active[_ngcontent-%COMP%]   path[_ngcontent-%COMP%], .field-input[_ngcontent-%COMP%]   .field-icons[_ngcontent-%COMP%]   .icon-container[_ngcontent-%COMP%]   .orientation-icon.active[_ngcontent-%COMP%]   rect[_ngcontent-%COMP%]{fill:#1fb6ff;stroke:#1fb6ff}.dual-field-container[_ngcontent-%COMP%]{display:flex}.dual-field-container[_ngcontent-%COMP%]   .field-column[_ngcontent-%COMP%]{display:grid;grid-template-columns:50% 50%;font-size:12px;color:#777;line-height:16px}.dual-field-container[_ngcontent-%COMP%]   .field-column[_ngcontent-%COMP%]   .field-name[_ngcontent-%COMP%]{margin-bottom:4px}.dual-field-container[_ngcontent-%COMP%]   .field-column[_ngcontent-%COMP%]   .mat-form-field[_ngcontent-%COMP%]{color:#222}.dual-field-container[_ngcontent-%COMP%]   .field-column[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]:first-child{margin-right:16px}.dual-field-container[_ngcontent-%COMP%]   .lock[_ngcontent-%COMP%]{align-self:flex-end}.quadro-field-container[_ngcontent-%COMP%]{display:flex;align-items:center}.quadro-field-container[_ngcontent-%COMP%]   .field-column[_ngcontent-%COMP%]{display:grid;grid-template-columns:50% 50%;font-size:12px;color:#777;line-height:16px}.quadro-field-container[_ngcontent-%COMP%]   .field-column[_ngcontent-%COMP%]   .field-name[_ngcontent-%COMP%]{margin-bottom:4px}.quadro-field-container[_ngcontent-%COMP%]   .field-column[_ngcontent-%COMP%]   .mat-form-field[_ngcontent-%COMP%]{color:#222}.quadro-field-container[_ngcontent-%COMP%]   .field-column[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]{margin-right:16px}.quadro-field-container[_ngcontent-%COMP%]   .field-column[_ngcontent-%COMP%]:nth-child(2){margin-bottom:8px}"]}),t})(),gnt=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275cmp=pe({type:t,selectors:[["au-texture-field"]],decls:2,vars:0,template:function(t,e){1&t&&(Ls(0,"span"),Ca(1,"Texture select field"),Bs())},styles:[".input-name[_ngcontent-%COMP%]{font-size:12px;color:#777;line-height:16px;margin-bottom:4px}.field-input[_ngcontent-%COMP%]{display:flex}.field-input[_ngcontent-%COMP%]   mat-form-field[_ngcontent-%COMP%]{width:100%}.field-input[_ngcontent-%COMP%]   .field-icons[_ngcontent-%COMP%]{display:flex}.field-input[_ngcontent-%COMP%]   .field-icons[_ngcontent-%COMP%]   .icon-container[_ngcontent-%COMP%]{width:32px;height:32px;display:flex;align-items:center;justify-content:center;cursor:pointer}.field-input[_ngcontent-%COMP%]   .field-icons[_ngcontent-%COMP%]   .icon-container[_ngcontent-%COMP%]   .orientation-icon.active[_ngcontent-%COMP%]   path[_ngcontent-%COMP%], .field-input[_ngcontent-%COMP%]   .field-icons[_ngcontent-%COMP%]   .icon-container[_ngcontent-%COMP%]   .orientation-icon.active[_ngcontent-%COMP%]   rect[_ngcontent-%COMP%]{fill:#1fb6ff;stroke:#1fb6ff}.dual-field-container[_ngcontent-%COMP%]{display:flex}.dual-field-container[_ngcontent-%COMP%]   .field-column[_ngcontent-%COMP%]{display:grid;grid-template-columns:50% 50%;font-size:12px;color:#777;line-height:16px}.dual-field-container[_ngcontent-%COMP%]   .field-column[_ngcontent-%COMP%]   .field-name[_ngcontent-%COMP%]{margin-bottom:4px}.dual-field-container[_ngcontent-%COMP%]   .field-column[_ngcontent-%COMP%]   .mat-form-field[_ngcontent-%COMP%]{color:#222}.dual-field-container[_ngcontent-%COMP%]   .field-column[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]:first-child{margin-right:16px}.dual-field-container[_ngcontent-%COMP%]   .lock[_ngcontent-%COMP%]{align-self:flex-end}.quadro-field-container[_ngcontent-%COMP%]{display:flex;align-items:center}.quadro-field-container[_ngcontent-%COMP%]   .field-column[_ngcontent-%COMP%]{display:grid;grid-template-columns:50% 50%;font-size:12px;color:#777;line-height:16px}.quadro-field-container[_ngcontent-%COMP%]   .field-column[_ngcontent-%COMP%]   .field-name[_ngcontent-%COMP%]{margin-bottom:4px}.quadro-field-container[_ngcontent-%COMP%]   .field-column[_ngcontent-%COMP%]   .mat-form-field[_ngcontent-%COMP%]{color:#222}.quadro-field-container[_ngcontent-%COMP%]   .field-column[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]{margin-right:16px}.quadro-field-container[_ngcontent-%COMP%]   .field-column[_ngcontent-%COMP%]:nth-child(2){margin-bottom:8px}"]}),t})();const ynt=function(){return{name:"PRINT_LABEL",field:"print"}};function _nt(t,e){if(1&t&&(Ls(0,"div",4),Ns(1,"au-boolean-field",5),Bs()),2&t){const t=Ys(2);vr(1),Rs("field",Hl(2,ynt))("model",t.layer.visualizationPermissions)}}function vnt(t,e){1&t&&(js(0),Ns(1,"au-page-option-title",9),Ns(2,"au-spot-color"),zs()),2&t&&(vr(1),Rs("title","SPOT_COLOR_LABEL")("displayToggle",!0))}function bnt(t,e){1&t&&Hs(0)}function wnt(t,e){1&t&&(js(0),Ns(1,"au-page-option-title",9),Ns(2,"au-texture-field"),zs()),2&t&&(vr(1),Rs("title","TEXTURE_LABEL")("displayToggle",!0))}const Cnt=function(){return{name:"NAME_LABEL",field:"name"}},xnt=function(){return{name:"VISIBLE_LABEL",field:"visible"}},Ent=function(){return{name:"LOCKED_LABEL",field:"locked"}};function Snt(t,e){if(1&t&&(Ls(0,"div",1),Ls(1,"div",2),Ns(2,"au-page-option-title",3),Ls(3,"div",4),Ns(4,"au-common-field",5),Bs(),Ls(5,"div",4),Ns(6,"au-boolean-field",5),Bs(),Ls(7,"div",4),Ns(8,"au-boolean-field",5),Bs(),Is(9,_nt,2,3,"div",6),Bs(),js(10,7),Is(11,vnt,3,2,"ng-container",8),Is(12,bnt,1,0,"ng-container",8),Is(13,wnt,3,2,"ng-container",8),zs(),Bs()),2&t){const t=Ys();vr(2),Rs("title","LAYER_OPTIONS_LABEL")("displayMenu",!0),vr(2),Rs("field",Hl(13,Cnt))("model",t.layer),vr(2),Rs("field",Hl(14,xnt))("model",t.layer),vr(2),Rs("field",Hl(15,Ent))("model",t.layer),vr(1),Rs("ngIf",t.allowPrintOption),vr(1),Rs("ngSwitch",t.typeOfCurrent),vr(1),Rs("ngSwitchCase",t.types.SpotColorContainer),vr(1),Rs("ngSwitchCase",t.types.MockupContainer),vr(1),Rs("ngSwitchCase",t.types.TextureContainer)}}let Pnt=(()=>{class t extends mH{constructor(t,e){super(),this._store=t,this._pagesSrv=e,this.containerTypes=pnt,this.types=dnt,this._store.pipe(cw(t=>t.templateEditor.curLayer),Vy(t=>!!t),$y(this.subscriber)).subscribe(t=>this.container=t),this._pagesSrv.$curSurface.pipe($y(this.subscriber)).subscribe(t=>this.surface=t)}get typeOfCurrent(){return this.layer instanceof iV?dnt.SurfaceContainer:this.layer instanceof oV?dnt.TextureContainer:this.layer instanceof rV?dnt.SpotColorContainer:this.layer instanceof nV?dnt.MockupContainer:void 0}get allowPrintOption(){const t=this.container;return!(!t||!t.visualizationPermissions)&&"boolean"==typeof t.visualizationPermissions.noPrint}changeContainerType(t){switch(t){case dnt.SurfaceContainer:break;case dnt.SpotColorContainer:{const t=new rV;this._copyContainerFields(t),this._updateContainerType(t);break}case dnt.TextureContainer:{const t=new oV;this._copyContainerFields(t),this._updateContainerType(t);break}case dnt.MockupContainer:{const t=new nV;this._copyContainerFields(t),this._updateContainerType(t);break}}}_copyContainerFields(t){t.items.add(...this.container.items.toArray().map(t=>t.clone())),t.locked=this.container.locked,t.name=this.container.name,t.visible=this.container.visible,t.region=this.container.region,t.renderingType=this.container.renderingType}_updateContainerType(t){const e=this.surface.containers.toArray().findIndex(t=>t===this.container);this.surface.containers.set(e,t)}}return t.\u0275fac=function(e){return new(e||t)(Ms(aw),Ms(P6))},t.\u0275cmp=pe({type:t,selectors:[["au-container-options"]],inputs:{layer:"layer"},features:[Ia],decls:1,vars:1,consts:[["class","page-field-container",4,"ngIf"],[1,"page-field-container"],[1,"field-section"],[3,"title","displayMenu"],[1,"field"],[3,"field","model"],["class","field",4,"ngIf"],[3,"ngSwitch"],[4,"ngSwitchCase"],[3,"title","displayToggle"]],template:function(t,e){1&t&&Is(0,Snt,14,16,"div",0),2&t&&Rs("ngIf",e.layer)},directives:[Eh,Q7,Met,fnt,kh,Th,mnt,gnt],styles:["[_nghost-%COMP%]{width:100%}",".mat-form-field-appearance-outline[_ngcontent-%COMP%]   .mat-form-field-infix[_ngcontent-%COMP%]{width:auto}.field-item[_ngcontent-%COMP%], .input-name[_ngcontent-%COMP%]{display:flex}.page-field-container[_ngcontent-%COMP%]   .field-section[_ngcontent-%COMP%]{padding:16px;border-bottom:1px solid #e5e5e5}.page-field-container[_ngcontent-%COMP%]   .field-section[_ngcontent-%COMP%]   .field[_ngcontent-%COMP%]{margin-bottom:12px}.mat-slide-toggle[_ngcontent-%COMP%]{width:auto}"]}),t})();function Ont(t,e){if(1&t){const t=Vs();Ls(0,"au-property-viewer",4),$s("scroll",(function(){return Qe(t),Ys().handleScroll()})),Bs()}2&t&&Rs("propTree",Ys().tree)}function knt(t,e){1&t&&Ns(0,"au-page-options")}function Tnt(t,e){1&t&&Ns(0,"au-container-options",5),2&t&&Rs("layer",Ys().container)}var Int=function(t){return t.Layer="Layer",t.Page="Page",t.Item="Item",t}({});let Ant=(()=>{class t extends mH{constructor(t,e,n){super(),this._store=t,this.cdr=e,this._propSrv=n,this.panelType=Int.Page,this.type=Int}ngOnInit(){this._store.pipe(cw(t=>t.ui.rightPanel),Vy(t=>!!t),$y(this.subscriber)).subscribe(t=>this.typeOfPanel=t),this._store.pipe(cw(t=>t.templateEditor.selectedItems),Vy(t=>null!==t),$y(this.subscriber)).subscribe(t=>this._createTree(t))}set typeOfPanel(t){(t instanceof IV||Array.isArray(t))&&(this.panelType=Int.Item),(t instanceof d$||null===t)&&(this.panelType=Int.Page),t instanceof iV&&(this.panelType=Int.Layer,this.container=t),this.cdr.detectChanges()}set layer(t){this.container=t,this.cdr.detectChanges()}handleScroll(){this._propSrv.notifyScroll()}_createTree(t){Object(j$.maybe)(t[0]).do({just:t=>this.tree=this._propSrv.getPropertyTree(t),nothing:()=>this.tree=null}),this.cdr.detectChanges()}}return t.\u0275fac=function(e){return new(e||t)(Ms(aw),Ms(Xo),Ms(s2))},t.\u0275cmp=pe({type:t,selectors:[["au-right-panel"]],features:[Ia],decls:4,vars:4,consts:[[1,"w-100","h-100","d-flex",3,"ngSwitch"],[3,"propTree","scroll",4,"ngSwitchCase"],[4,"ngSwitchCase"],[3,"layer",4,"ngSwitchCase"],[3,"propTree","scroll"],[3,"layer"]],template:function(t,e){1&t&&(Ls(0,"div",0),Is(1,Ont,1,1,"au-property-viewer",1),Is(2,knt,1,0,"au-page-options",2),Is(3,Tnt,1,1,"au-container-options",3),Bs()),2&t&&(Rs("ngSwitch",e.panelType),vr(1),Rs("ngSwitchCase",e.type.Item),vr(1),Rs("ngSwitchCase",e.type.Page),vr(1),Rs("ngSwitchCase",e.type.Layer))},directives:[kh,Th,Aet,hnt,Pnt],styles:["[_nghost-%COMP%]{border-left:1px solid #e5e5e5;box-sizing:border-box;display:block;height:100%;overflow:hidden}au-property-viewer[_ngcontent-%COMP%]{width:100%;overflow-y:auto;display:flex;flex-direction:column}"],changeDetection:0}),t})();const Mnt=["leftPanel"];let Dnt=(()=>{class t extends gH{constructor(t,e,n,i,r,o,s,a,l,c,u,h,d,p,f,m,g){super(i),this._translateSrv=t,this._productSrv=e,this._fontSrv=n,this._store=i,this._keyboardSrv=r,this._jsonProductSerializer=o,this._viewerEvtSrv=s,this._itemSrv=a,this._modalSrv=l,this._historySrv=c,this._viewerSrv=u,this._pagesSrv=h,this._colorConvertor=d,this._actionSrv=p,this.wasInit=new Yl,this.isInit=!1,this.defaultConfiguration(),this._init(f,m),this._modalSrv.showProductLoader(),this.viewer$.subscribe(t=>t.canvas.waitUpdate().then(()=>{this._modalSrv.closeProductLoader(),this._historySrv.clear()})),this._keyboardSrv.registryKeys(HG,"ACTION_SERVICE"),this._keyboardSrv.registryKeys(XG,"ACTION_SERVICE"),this._keyboardSrv.registryKeys(WG,"ACTION_SERVICE"),this._viewerEvtSrv.$placeholderSelectClick.subscribe(t=>{this.reader.openDialog(),this._curPlaceholder=t}),this._viewerEvtSrv.$enteredEditMode.subscribe(()=>this._keyboardSrv.ignore=!0),this._viewerEvtSrv.$exitedEditMode.subscribe(()=>this._keyboardSrv.ignore=!1),this._initOverlay(g)}set configuration(t){this._configuration=Bq.DeepMerge(this._configuration,t),this._viewerSrv.standardSettings=this._configuration,this._viewerSrv.updateConfig(this._configuration),this._store.dispatch(vH({configuration:Object.assign({},this._configuration)})),this._fontPromise=this.awaitFonts()}get addLocalization(){return(t,e,n=!1)=>{this._translateSrv.setTranslation(t,e,!0),n&&(this._translateSrv.currentLang=t)}}get setLanguage(){return t=>{this._translateSrv.setDefaultLang(t),this._translateSrv.use(t)}}get setToken(){return t=>{this._configuration.api.token=t,this._store.dispatch(vH({configuration:Object.assign({},this._configuration)}))}}get setStateId(){return t=>vR(this,void 0,void 0,(function*(){var e,n;this.product=yield this._productSrv.loadProduct(t);const i=this.product.tags[ZG.SETTINGS_KEY];let r=!1;if(i&&i.api&&(delete i.api,r=!0),i&&((null===(e=i.color)||void 0===e?void 0:e.cmykColorProfileId)||(null===(n=i.color)||void 0===n?void 0:n.rgbColorProfileId))){const t=yield this._colorConvertor.getColorProfiles(),e=t.find(t=>i.color.cmykColorProfileId===t.id),n=t.find(t=>i.color.rgbColorProfileId===t.id);e?i.color.cmykColorProfileId=e.metadata.description:delete i.color.cmykColorProfileId,n?i.color.rgbColorProfileId=n.metadata.description:delete i.color.rgbColorProfileId,r=!0}i&&i.ui.fonts&&(delete i.ui.fonts,r=!0),i&&i.propertyGrid&&(delete i.propertyGrid,r=!0),i&&i.ui.surfaceSizes&&(delete i.ui.surfaceSizes,r=!0),r&&(yield this._productSrv.saveProduct(this.product)),this._setProduct(this.product,t)}))}get saveProduct(){return()=>vR(this,void 0,void 0,(function*(){return this._productSrv.saveProduct()}))}get getProduct(){return()=>this.product}get getProductJson(){return()=>this._jsonProductSerializer.serialize(this.product)}get $productSaved(){return()=>this._actionSrv.$productSaved}get generateBlankProduct(){return(t,e)=>this._productSrv.createBlankProduct(t,e)}get generateTestProduct(){return()=>this._productSrv.createTestProduct()}_initOverlay(t){try{const e=t.getContainerElement();e&&e.classList.add("au-template-editor-theme")}catch(e){console.warn(e,"Error add container au-template-editor-theme css-class...")}}awaitFonts(){return vR(this,void 0,void 0,(function*(){return new Promise(t=>this.viewer$.subscribe(e=>vR(this,void 0,void 0,(function*(){this.viewer=e;let n=this.state.configuration.ui.fonts.fonts;Array.isArray(n)&&n.length||(n=yield this._fontSrv.getFonts());const i=this._fontSrv.handleFonts(n);this._store.dispatch(SH({fonts:i})),t(n)}))))}))}_changeConfiguration(t){return vR(this,void 0,void 0,(function*(){this._configuration=Bq.DeepMerge(this._configuration,t.tags[ZG.SETTINGS_KEY]||{}),this._viewerSrv.updateConfig(this._configuration),this._store.dispatch(vH({configuration:this._configuration}))}))}defaultConfiguration(){return vR(this,void 0,void 0,(function*(){const t=yield vR(void 0,void 0,void 0,(function*(){return{language:"en",api:{assetProcessorApiUrl:"",assetStorageApiUrl:"",designAtomsApiUrl:""},propertyGrid:{groups:[Object.assign(Object.assign({},vq),{expanded:!0,order:0}),{key:"$$name",title:"Name and title",order:0,tabKey:"$$behavior",expanded:!0},{key:"$$text",title:"Text settings",order:1,expanded:!0},{key:"$$fill",title:"Fill",order:2},{key:"$$border",title:"Border",order:3},{key:"$$blending",title:"Blending Options",order:4},{key:"$$text-wrapping",title:"Wrapping",tabKey:"$$design",order:8},{key:"$$text-limits",title:"Limits",tabKey:"$$behavior",order:5},{key:"$$copyfitting",title:"Copyfitting settings",tabKey:"$$behavior",order:4},{key:"$$vdp",title:"Variable Data",tabKey:"$$behavior",order:200},{key:"$$permissions",title:"Permissions",tabKey:"$$behavior",order:100},{key:"$$image-effects",title:"Effects",tabKey:"$$design",order:10},{key:"$$text-effects",title:"Effects",tabKey:"$$design",order:10},{key:"$$curved-text",title:"Curved Text Options",tabKey:"$$design",order:11},{key:"$$placeholder-options",title:"Placeholder",tabKey:"$$behavior",order:9},{key:"$$visibility",title:"Visibility",tabKey:"$$behavior"}],tabs:[{key:"$$design",title:"Design"},{key:"$$behavior",title:"Behavior"}],properties:{barcode:w6.a,baseText:w6.b,item:w6.d,plainText:w6.f,shape:w6.g,image:w6.c,placeholder:w6.e},virtualProperties:{shape:[{$tooltip:"Convert shape to placeholder",$tabKey:"$$behavior",$groupKey:"$$placeholder-options",$order:1,$controlType:"to_placeholder"}],image:[{$tooltip:"Convert image to placeholder",$tabKey:"$$behavior",$groupKey:"$$placeholder-options",$order:1,$controlType:"to_placeholder"}],placeholder:[{$tooltip:"Convert placeholder to item",$tabKey:"$$behavior",$groupKey:"$$placeholder-options",$order:1,$controlType:"to_placeholder"}]}},viewer:{configuration:{messages:{delete:{enabled:!1,message:""}},text:{fitToPathStep:1},rulers:{enabled:!0,unit:tX.Point,origin:{X:0,Y:0}},historySize:30,productThemes:{},stubImages:{barcode:{postScriptName:"ArialMT",text:"SampleText"}},alignToSafetyLineName:"",variableItemsMaskSymbol:"a",renderingConfig:{getHiResRendering:()=>5}},handlersConfig:{gridHandlerConfig:{enabled:!1,horizontalColor:"rgba(219, 219, 219, 0.5)",stepX:10,stepY:10,lineWidthPx:1,verticalColor:"rgba(219, 219, 219, 0.5)"},snapLinesHandler:{snapElements:{items:{enabled:!0,color:"rgb(255,0,255)",priority:0,tolerance:5},printArea:{enabled:!0,color:"rgb(255,0,255)",priority:0,tolerance:5},region:{enabled:!1,color:"rgb(255,0,255)",priority:0,tolerance:5},safetyLines:{enabled:!1,color:"rgb(255,0,255)",priority:0,tolerance:5}}}},options:{rulerEnabled:!0,canvasBackground:{color:"white"},frontEndTextRenderingEnabled:!0},extras:{clearSelectionOnDocumentClick:!1,rulerScale:1/72},canvas:{rotationGripColor:"rgb(255, 255, 255)",rotationGripLineColor:"rgb(48, 194, 255)",rotationGripLineLength:10,rotationGripSize:24,selectionColor:"rgb(48, 194, 255)",selectionWidth:1,loadingImageUrl:b6.viewerLoadingImageUrl,resizeGripLineColor:"rgb(48, 194, 255)",resizeGripColor:"rgb(255, 255, 255)",resizeGripSize:8,handleButtonCssClass:"cc-icon-placeholder-handle",doneButtonCssClass:"cc-icon-placeholder-done",selectImageButtonCssClass:"cc-icon-placeholder-select",simpleMode:!1,canvasItemHoverEnabled:!0,violationWarningButtonsEnabled:!1,qualityChangeContainersEnabled:!1}},ui:{surfaceSizes:[{name:"Business Card",size:{width:252,height:144}},{name:"Letter Size",size:{width:612,height:792}},{name:"Legal Size",size:{width:612,height:1008}},{name:"Tabloid",size:{width:792,height:1224}}],fonts:{fonts:[],sizes:[8,9,10,11,12,14,18,24,30,36,48,60,72,144],default:{name:"OpenSans",metadata:{family:"Open Sans",postscriptName:"OpenSans",style:"Regular"}}},unit:dq},color:{colorPickerConfig:{showPaletteOnly:!1,colorSpace:JN.Cmyk,sections:[{type:tj.NoColorSection,targets:[ej.Fill,ej.Border,ej.Background],translationKey:"ColorPicker.NO_COLOR_TITLE",viewType:nj.Line},{type:tj.RecentSection,translationKey:"ColorPicker.COLOR_RECENT_CATEGORY_NAME",viewType:nj.Block},{type:tj.PaletteSection,viewType:nj.Block,translationKey:"ColorPicker.COLOR_DEFAULT_CATEGORY_NAME",palette:[["rgba(0, 0, 0, 255)","rgba(255, 0, 0, 255)","rgba(0, 255, 0, 255)","rgba(0, 0, 255, 255)","rgba(255, 255, 0, 255)","rgba(0, 255, 255, 255)","rgba(255, 0, 255, 255)","rgba(255, 255, 255, 255)","rgba(0, 125, 255, 255)"],["cmyk(0%, 100%, 100%, 0%, 100%)","cmyk(0%, 0%, 100%, 0%, 100%)","cmyk(100%, 0%, 100%, 0%, 100%)","cmyk(100%, 0%, 0%, 0%, 100%)","cmyk(100%, 100%, 0%, 0%, 100%)","cmyk(0%, 100%, 0%, 0%, 100%)","cmyk(40%, 100%, 45%, 25%, 100%)"],["cmyk(0%, 0%, 0%, 0%, 100%)","cmyk(0%, 0%, 0%, 10%, 100%)","cmyk(0%, 0%, 0%, 15%, 100%)","cmyk(0%, 0%, 0%, 25%, 100%)","cmyk(0%, 0%, 0%, 50%, 100%)","cmyk(0%, 0%, 0%, 75%, 100%)","cmyk(0%, 0%, 0%, 100%, 100%)"],["cmyk(5%, 0%, 90%, 0%, 100%)","cmyk(5%, 10%, 85%, 5%, 100%)","cmyk(0%, 35%, 85%, 0%, 100%)","cmyk(0%, 50%, 100%, 0%, 100%)","cmyk(0%, 80%, 95%, 0%, 100%)","cmyk(0%, 90%, 85%, 0%, 100%)","cmyk(15%, 100%, 90%, 10%, 100%)"],["cmyk(20%, 0%, 100%, 0%, 100%)","cmyk(50%, 0%, 100%, 0%, 100%)","cmyk(65%, 0%, 100%, 0%, 100%)","cmyk(80%, 0%, 100%, 0%, 100%)","cmyk(85%, 10%, 100%, 10%, 100%)","cmyk(85%, 20%, 100%, 20%, 100%)","cmyk(80%, 30%, 90%, 30%, 100%)"],["cmyk(50%, 0%, 0%, 0%, 100%)","cmyk(65%, 5%, 5%, 0%, 100%)","cmyk(70%, 15%, 0%, 0%, 100%)","cmyk(85%, 50%, 0%, 0%, 100%)","cmyk(100%, 60%, 15%, 0%, 100%)","cmyk(100%, 75%, 15%, 0%, 100%)","cmyk(100%, 75%, 30%, 15%, 100%)"],["cmyk(0%, 60%, 20%, 0%, 100%)","cmyk(0%, 95%, 20%, 0%, 100%)","cmyk(10%, 100%, 50%, 0%, 100%)","cmyk(35%, 100%, 35%, 10%, 100%)","cmyk(50%, 100%, 0%, 0%, 100%)","cmyk(75%, 100%, 0%, 0%, 100%)","cmyk(80%, 100%, 15%, 20%, 100%)"],["cmyk(10%, 15%, 25%, 0%, 100%)","cmyk(25%, 25%, 40%, 0%, 100%)","cmyk(40%, 45%, 50%, 5%, 100%)","cmyk(50%, 50%, 60%, 25%, 100%)","cmyk(55%, 60%, 65%, 40%, 100%)","cmyk(55%, 60%, 55%, 50%, 100%)","cmyk(60%, 60%, 60%, 60%, 100%)"],["cmyk(10%, 20%, 50%, 0%, 100%)","cmyk(15%, 30%, 60%, 5%, 100%)","cmyk(25%, 40%, 65%, 0%, 100%)","cmyk(30%, 50%, 75%, 10%, 100%)","cmyk(35%, 60%, 80%, 25%, 100%)","cmyk(40%, 65%, 90%, 35%, 100%)","cmyk(40%, 60%, 90%, 50%, 100%)"]]}],sectionCollapseEnabled:!1},spotColors:{colors:[{inkColor:"cmyk(100%, 0%, 0%, 0%, 100%)",inkName:"Cyan"},{inkColor:"cmyk(0%, 100%, 0%, 0%, 100%)",inkName:"Magenta"},{inkColor:"cmyk(0%, 0%, 100%, 0%, 100%)",inkName:"Yellow"},{inkColor:"cmyk(0%, 0%, 0%, 100%, 100%)",inkName:"Black"}],inkColorSpace:JN.Cmyk}}}}));this._configuration=Bq.DeepMerge(this._configuration||{},t),this._viewerSrv.updateConfig(this._configuration),this._store.dispatch(vH({configuration:this._configuration}))}))}_init(t,e){return vR(this,void 0,void 0,(function*(){this._translateSrv.currentLoader=new pH,this.setLanguage("en");const i=n("9e1Q");t.addSvgIconSetLiteral(e.bypassSecurityTrustHtml(i.value)),this.wasInit.emit(!0),this.isInit=!0}))}_setProduct(t,e){this._productSrv.analyzeProduct(this._fontPromise,e),this._store.dispatch(yH({product:t})),this._store.dispatch(bH({currentSurfaceIndex:0})),this._store.dispatch(LH({surfaces:t.surfaces.toArray()})),this._changeConfiguration(t),this._pagesSrv.setSurface(0)}uploadFiles(t){return vR(this,void 0,void 0,(function*(){yield this._itemSrv.addContentToPlaceholder(t,this._curPlaceholder),this._curPlaceholder.isStubContent=!1,this._itemSrv.updateLinkedPlaceholders(this._curPlaceholder.linkId,this._curPlaceholder.content)}))}}return t.\u0275fac=function(e){return new(e||t)(Ms(jR),Ms(u1),Ms(z$),Ms(aw),Ms(E6),Ms(S$),Ms(P2),Ms(a2),Ms(f1),Ms(JG),Ms(l1),Ms(P6),Ms(m1),Ms("ACTION_SERVICE"),Ms(YT),Ms(Df),Ms(Kk))},t.\u0275cmp=pe({type:t,selectors:[["au-template-editor"]],viewQuery:function(t,e){var n;1&t&&(cc(x6,!0),cc(Mnt,!0)),2&t&&(ac(n=fc())&&(e.reader=n.first),ac(n=fc())&&(e.leftPanelEl=n.first))},inputs:{configuration:"configuration",addLocalization:"addLocalization",setLanguage:"setLanguage",setToken:"setToken",setStateId:"setStateId",saveProduct:"saveProduct",getProduct:"getProduct",getProductJson:"getProductJson",$productSaved:"$productSaved",generateBlankProduct:"generateBlankProduct",generateTestProduct:"generateTestProduct",isInit:"isInit"},outputs:{wasInit:"wasInit"},features:[Ia],decls:11,vars:3,consts:[[1,"au-template-editor","au-template-editor-theme"],[1,"au-toolbar"],[1,"au-editor"],[1,"au-left-panel"],["leftPanel",""],[3,"surfacesCollection","parentHeight"],[3,"accept","selectFile"]],template:function(t,e){1&t&&(Ls(0,"div",0),Ls(1,"div",1),Ns(2,"au-instruments-panel"),Bs(),Ls(3,"div",2),Ls(4,"div",3,4),Ns(6,"au-pages-panel",5),Ns(7,"au-layers-panel"),Bs(),Ns(8,"au-design-atoms-viewer"),Ns(9,"au-right-panel"),Bs(),Ls(10,"au-file-reader",6),$s("selectFile",(function(t){return e.uploadFiles(t)})),Bs(),Bs()),2&t&&(vr(6),Rs("surfacesCollection",null==e.product?null:e.product.surfaces)("parentHeight",null==e.leftPanelEl?null:e.leftPanelEl.nativeElement.clientHeight),vr(4),Rs("accept","*.jpg *.jpeg *.png"))},directives:[q6,a8,W8,d7,Ant,x6],styles:[".au-template-editor[_ngcontent-%COMP%]{display:grid;grid-template-rows:40px calc(100vh - 42px);box-sizing:border-box;border:1px solid #e5e5e5}.au-template-editor[_ngcontent-%COMP%]   .au-toolbar[_ngcontent-%COMP%]{display:flex;justify-content:space-between}.au-template-editor[_ngcontent-%COMP%]   .au-editor[_ngcontent-%COMP%]{display:grid;grid-template-columns:240px auto 280px;position:relative}.au-template-editor[_ngcontent-%COMP%]   .au-editor[_ngcontent-%COMP%]   .au-left-panel[_ngcontent-%COMP%]{border-right:1px solid #e5e5e5;height:100%;overflow:hidden}.au-template-editor[_ngcontent-%COMP%]   .au-editor[_ngcontent-%COMP%]   au-design-atoms-viewer[_ngcontent-%COMP%]{width:100%}"]}),t})();function Rnt(t,e){if(1&t&&(Ls(0,"mat-option",5),Ca(1),Xl(2,"translate"),Bs()),2&t){const t=e.$implicit;Rs("value",t.value),vr(1),Ea(" ",Kl(2,2,t.viewValue)," ")}}let Fnt=(()=>{class t{constructor(t,e){this.cdr=t,this._overlayContainer=e,this.items=[],this.changeField=new Yl,this._overlayClickHandler=()=>this.cdr.detectChanges()}ngOnInit(){this._overlayContainer.getContainerElement().addEventListener("click",this._overlayClickHandler)}ngOnDestroy(){this._overlayContainer.getContainerElement().removeEventListener("click",this._overlayClickHandler)}change(t){this.changeField.emit(t)}findItemIdx(t){}}return t.\u0275fac=function(e){return new(e||t)(Ms(Xo),Ms(Kk))},t.\u0275cmp=pe({type:t,selectors:[["au-select-field"]],inputs:{selectedValue:"selectedValue",name:"name",items:"items"},outputs:{changeField:"changeField"},decls:8,vars:5,consts:[[1,"input-name"],[1,"field-input"],["appearance","outline"],[3,"value","valueChange","click"],[3,"value",4,"ngFor","ngForOf"],[3,"value"]],template:function(t,e){1&t&&(Ls(0,"div"),Ls(1,"div",0),Ca(2),Xl(3,"translate"),Bs(),Ls(4,"div",1),Ls(5,"mat-form-field",2),Ls(6,"mat-select",3),$s("valueChange",(function(t){return e.change(t)}))("click",(function(){return e.cdr.detectChanges()})),Is(7,Rnt,3,4,"mat-option",4),Bs(),Bs(),Bs(),Bs()),2&t&&(vr(2),xa(Kl(3,3,e.name)),vr(4),Rs("value",e.selectedValue),vr(1),Rs("ngForOf",e.items))},directives:[iA,EA,Ch,Tk],pipes:[HR],styles:[".input-name[_ngcontent-%COMP%]{font-size:12px;color:#777;line-height:16px;margin-bottom:4px}.field-input[_ngcontent-%COMP%]{display:flex}.field-input[_ngcontent-%COMP%]   mat-form-field[_ngcontent-%COMP%]{width:100%}.field-input[_ngcontent-%COMP%]   .field-icons[_ngcontent-%COMP%]{display:flex}.field-input[_ngcontent-%COMP%]   .field-icons[_ngcontent-%COMP%]   .icon-container[_ngcontent-%COMP%]{width:32px;height:32px;display:flex;align-items:center;justify-content:center;cursor:pointer}.field-input[_ngcontent-%COMP%]   .field-icons[_ngcontent-%COMP%]   .icon-container[_ngcontent-%COMP%]   .orientation-icon.active[_ngcontent-%COMP%]   path[_ngcontent-%COMP%], .field-input[_ngcontent-%COMP%]   .field-icons[_ngcontent-%COMP%]   .icon-container[_ngcontent-%COMP%]   .orientation-icon.active[_ngcontent-%COMP%]   rect[_ngcontent-%COMP%]{fill:#1fb6ff;stroke:#1fb6ff}.dual-field-container[_ngcontent-%COMP%]{display:flex}.dual-field-container[_ngcontent-%COMP%]   .field-column[_ngcontent-%COMP%]{display:grid;grid-template-columns:50% 50%;font-size:12px;color:#777;line-height:16px}.dual-field-container[_ngcontent-%COMP%]   .field-column[_ngcontent-%COMP%]   .field-name[_ngcontent-%COMP%]{margin-bottom:4px}.dual-field-container[_ngcontent-%COMP%]   .field-column[_ngcontent-%COMP%]   .mat-form-field[_ngcontent-%COMP%]{color:#222}.dual-field-container[_ngcontent-%COMP%]   .field-column[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]:first-child{margin-right:16px}.dual-field-container[_ngcontent-%COMP%]   .lock[_ngcontent-%COMP%]{align-self:flex-end}.quadro-field-container[_ngcontent-%COMP%]{display:flex;align-items:center}.quadro-field-container[_ngcontent-%COMP%]   .field-column[_ngcontent-%COMP%]{display:grid;grid-template-columns:50% 50%;font-size:12px;color:#777;line-height:16px}.quadro-field-container[_ngcontent-%COMP%]   .field-column[_ngcontent-%COMP%]   .field-name[_ngcontent-%COMP%]{margin-bottom:4px}.quadro-field-container[_ngcontent-%COMP%]   .field-column[_ngcontent-%COMP%]   .mat-form-field[_ngcontent-%COMP%]{color:#222}.quadro-field-container[_ngcontent-%COMP%]   .field-column[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]{margin-right:16px}.quadro-field-container[_ngcontent-%COMP%]   .field-column[_ngcontent-%COMP%]:nth-child(2){margin-bottom:8px}"]}),t})();function Lnt(t,e){if(1&t){const t=Vs();Ls(0,"div"),Ls(1,"button",2),$s("click",(function(){return Qe(t),Ys().switchToSelect()})),Ca(2,"Select"),Bs(),Bs()}}function Bnt(t,e){if(1&t){const t=Vs();Ls(0,"div"),Ls(1,"div"),Ca(2),Xl(3,"translate"),Bs(),Ls(4,"div",3),Ls(5,"button",4),$s("click",(function(){return Qe(t),Ys().cancel()})),Ca(6,"Cancel"),Bs(),Ls(7,"button",4),$s("click",(function(){return Qe(t),Ys().apply()})),Ca(8,"Apply"),Bs(),Bs(),Bs()}2&t&&(vr(2),xa(Kl(3,1,"SELECT_REGION_LABEL")))}let Nnt=(()=>{class t{constructor(){this.isSelectMode=!1}switchToSelect(){this.isSelectMode=!0}cancel(){this.isSelectMode=!1}apply(){}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275cmp=pe({type:t,selectors:[["au-region-field"]],decls:3,vars:2,consts:[[1,"region-field"],[4,"ngIf"],["mat-stroked-button","","color","primary",1,"select-region",3,"click"],[1,"region-actions"],["mat-stroked-button","","color","primary",3,"click"]],template:function(t,e){1&t&&(Ls(0,"div",0),Is(1,Lnt,3,0,"div",1),Is(2,Bnt,9,3,"div",1),Bs()),2&t&&(vr(1),Rs("ngIf",!e.isSelectMode),vr(1),Rs("ngIf",e.isSelectMode))},directives:[Eh,NT],pipes:[HR],styles:[".region-field[_ngcontent-%COMP%]{margin-top:14px}.region-field[_ngcontent-%COMP%]   .select-region[_ngcontent-%COMP%]{width:100%}.region-field[_ngcontent-%COMP%]   .region-actions[_ngcontent-%COMP%]{display:flex}"]}),t})();function jnt(t,e){if(1&t){const t=Vs();Ls(0,"mat-expansion-panel",2),$s("afterExpand",(function(){return Qe(t),Ys().expand()}))("afterCollapse",(function(){return Qe(t),Ys().collapse()})),Ls(1,"mat-expansion-panel-header",3),Ls(2,"mat-panel-title",4),Ca(3),Xl(4,"camel"),Bs(),Bs(),Ns(5,"au-property-tree-out",5),Bs()}if(2&t){const t=e.$implicit,n=Ys();Rs("expanded",t.expanded),vr(1),Rs("collapsedHeight",n.height)("expandedHeight",n.height),vr(2),Ea(" ",Kl(4,6,t.displayName)," "),vr(2),Rs("showName",n.showName)("branch",t)}}let znt=(()=>{class t{constructor(t){this.cdr=t,this.height="36px"}ngOnInit(){console.warn(this.branch,this.showName)}expand(){this.branch.expand(),this.cdr.detectChanges()}collapse(){this.branch.collapse(),this.cdr.detectChanges()}}return t.\u0275fac=function(e){return new(e||t)(Ms(Xo))},t.\u0275cmp=pe({type:t,selectors:[["au-accordion-out"]],inputs:{branch:"branch",showName:"showName"},decls:2,vars:4,consts:[[3,"displayMode","multi","togglePosition"],[3,"expanded","afterExpand","afterCollapse",4,"ngFor","ngForOf"],[3,"expanded","afterExpand","afterCollapse"],[3,"collapsedHeight","expandedHeight"],[1,"accordion-title"],[3,"showName","branch"]],template:function(t,e){1&t&&(Ls(0,"mat-accordion",0),Is(1,jnt,6,8,"mat-expansion-panel",1),Bs()),2&t&&(Rs("displayMode","flat")("multi",!0)("togglePosition","before"),vr(1),Rs("ngForOf",e.branch.items))},directives:[FD,Ch,ID,MD,RD,Eet],pipes:[m7],encapsulation:2}),t})();function Hnt(t){const e=t=>t.includes(".")?t.split(".").pop().length:0;return"number"==typeof t?e(t=t.toString()):"string"==typeof t?e(t):0}const Vnt=[W$.Key.Delete,W$.Key.Backspace,W$.Key.Tab,W$.Key.Escape,W$.Key.Enter,W$.Key.DecimalPoint,W$.Key.Period,W$.Key.End,W$.Key.Home,W$.Key.LeftArrow,W$.Key.RightArrow];let Unt=(()=>{class t{constructor(t){this.el=t}onInput(t){this._filterZero(t),this._filterSinglePoint(t),this._filterStartPoint(t),this._filterManyPoints(t),this._filterDoublePoint(t),this._filterLength(t),this._handleMinMax(t)}_handleMinMax(t){const{max:e,min:n,value:i}=t.target,r=t.target;"number"==typeof Number(e)&&Number(i)>Number(e)&&(r.value=e,t.stopPropagation()),"number"==typeof Number(e)&&Number(i)<Number(n)&&(r.value=n,t.stopPropagation())}onKeyDown(t){const e=t.target,{value:n,step:i}=e,r=Hnt(i);-1!==Vnt.indexOf(t.keyCode)||t.keyCode===W$.Key.A&&(t.ctrlKey||t.metaKey)||t.keyCode===W$.Key.C&&(t.ctrlKey||t.metaKey)||t.keyCode===W$.Key.V&&(t.ctrlKey||t.metaKey)||t.keyCode===W$.Key.X&&(t.ctrlKey||t.metaKey)||(t.keyCode===W$.Key.UpArrow&&(e.value=(Number(n)+Number(i)).toFixed(r),this._emitInputChange(e,t)),t.keyCode===W$.Key.DownArrow&&(e.value=(Number(n)-Number(i)).toFixed(r),this._emitInputChange(e,t)),(t.shiftKey||t.keyCode<W$.Key.ClosedParen||t.keyCode>W$.Key.OpenParen)&&(t.keyCode<W$.Key.Numpad0||t.keyCode>W$.Key.Numpad9)&&t.preventDefault())}_emitInputChange(t,e){t.dispatchEvent(new Event("change")),e.preventDefault()}_filterZero(t){const e=t.target;/^[0]{2,}/.test(e.value)&&(e.value=e.value.replace(/^[0]{2,}/,"0"),t.stopPropagation()),"0"===e.value[0]&&e.value.length>1&&(e.value=e.value.slice(1))}_filterManyPoints(t){const e=t.target;/[.]{2,}/.test(e.value)&&(e.value=e.value.replace(/[.]{2,}/,"."),t.stopPropagation())}_filterSinglePoint(t){const e=t.target;"."===e.value&&(e.value="",t.stopPropagation())}_filterStartPoint(t){const e=t.target;/^[.]/.test(e.value)&&(e.value=e.value.replace(/^[.]/,""),t.stopPropagation())}_filterDoublePoint(t){const e=t.target;if(/[.].*[.]/.test(e.value)){console.warn(e.value);const[n,i]=e.value.split(".");e.value=[n,i].join("."),t.stopPropagation()}}_filterLength(t){const e=t.target;if(/[.]{1,}/.test(e.value)&&Hnt(e.value)>6){const[n,i]=e.value.split(".");e.value=[n,i.slice(0,6)].join("."),t.stopPropagation()}}}return t.\u0275fac=function(e){return new(e||t)(Ms(Ya))},t.\u0275dir=be({type:t,selectors:[["","auNumericInput",""]],hostBindings:function(t,e){1&t&&$s("input",(function(t){return e.onInput(t)}))("keydown",(function(t){return e.onKeyDown(t)}))}}),t})(),Wnt=(()=>{class t{}return t.\u0275mod=_e({type:t}),t.\u0275inj=dt({factory:function(e){return new(e||t)},providers:[s2],imports:[[rd,Bf,rf,of,Dj,y1,fH]]}),t})();fe(O9,[vh,bh,Ch,Eh,Rh,Dh,kh,Th,Ih,Ah,Mh,Tp,Gd,Yd,pd,Dd,Nd,ud,$d,Kd,Ld,bd,wd,Wp,Yp,Zp,tf,$p,Xp,kp,Sp,bp,Mp,Rp,Hp,Lp,Np,yj,Oj,lj,vj,bj,dj,cj,D6,W6,X6,J6,lq,Unt,x6,j7,qet,H7,R_,T_,PT,bT,IT,gT,NT,jT,oI,YA,oM,lM,kM,TM,bI,_I,VI,iA,qI,XI,KI,YI,QI,EA,xA,Tk,Ek,kA,TA,NA,AA,GA,zR,jM,WM,zM,YM,oD,sD,aD,lD,FD,ID,AD,MD,RD,DD,OD,UD,Rz,_z,xz,Uz,qz,yz,aH,tH,cH,eH,Zz,Jz,oR,iR,cR,sR,sk,aR,lR,vk,yR,gR,Gj,Xj,Aet,y7,O7,C7,L7,F9,D9,U7,d9,v7,Att,Ftt,att,F7,P7,E7,g9,A7,Y9,B9,fet,Eet,znt,Tet,J9,itt,htt,B7,ktt,Ttt,_9,Q7,O9,l9,c9,q7,i9,o9,a9,j9,ztt,Z9,Ntt],[zh,Wh,Hh,Kh,id,Zh,Jh,Uh,td,$h,qh,Xh,Yh,m7,M7,HR]);let $nt=(()=>{class t{ngOnInit(){const t=this.form.get("color").value;this.color=new VB(t)}initColorPicker(t){const e=new VB(t.get("color").value);this.color=e,this._oldColor=e,this._colorMenuIsOpen=!0}closeColorMenu(t){this._oldColor&&t.get("color").setValue(this._oldColor.preview),this._oldColor=null,this._colorMenuIsOpen=!1}colorChange(t){this._colorMenuIsOpen&&(this.color=t)}onSubmit(t){t.get("color").setValue(this.color.preview),this._oldColor=null,this.colorMenu.closeMenu(),this._colorMenuIsOpen=!1}changeCheckbox(t){this.form.get("enabled").setValue(t.checked)}isChanged(t){var e,n,i,r,o,s,a,l;const c=null===(r=null===(i=null===(n=null===(e=this.productConf)||void 0===e?void 0:e.viewer)||void 0===n?void 0:n.handlersConfig)||void 0===i?void 0:i.snapLinesHandler)||void 0===r?void 0:r.snapElements,u=null===(l=null===(a=null===(s=null===(o=this.defaultConf)||void 0===o?void 0:o.viewer)||void 0===s?void 0:s.handlersConfig)||void 0===a?void 0:a.snapLinesHandler)||void 0===l?void 0:l.snapElements,h=c?c[this.type]:void 0,d=u?u[this.type]:void 0;switch(t){case"enabled":return null!=(null==h?void 0:h.enabled)&&(null==d?void 0:d.enabled)!==(null==h?void 0:h.enabled);case"color":return null!=(null==h?void 0:h.color)&&(null==d?void 0:d.color)!==(null==h?void 0:h.color);case"priority":return null!=(null==h?void 0:h.priority)&&(null==d?void 0:d.priority)!==(null==h?void 0:h.priority);case"tolerance":return null!=(null==h?void 0:h.tolerance)&&(null==d?void 0:d.tolerance)!==(null==h?void 0:h.tolerance)}}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275cmp=pe({type:t,selectors:[["au-snap-config"]],viewQuery:function(t,e){var n;1&t&&cc(IT,!0),2&t&&ac(n=fc())&&(e.colorMenu=n.first)},inputs:{title:"title",form:"form",productConf:"productConf",type:"type",defaultConf:"defaultConf"},decls:39,vars:34,consts:[[1,"te-snap-settings",3,"formGroup"],[1,"m-0","font-weight-normal"],[1,"checkbox-block","py-2","d-flex","justify-content-between","align-items-center"],["labelPosition","before","color","primary",3,"checked","change"],[3,"display"],[1,"pb-2","d-flex","justify-content-between","align-items-center"],["for","grid-color-setting"],["mat-button","",1,"color-button",3,"matMenuTriggerFor","onMenuOpen","onMenuClose"],["menu","matMenu"],[3,"initialColor","initialized","click","onChange","onSubmit"],["for","grid-step"],["appearance","outline"],["auKeyboardNoPropagation","","matInput","","autocomplete","off","type","number",3,"placeholder","formControlName"]],template:function(t,e){if(1&t&&(Ls(0,"div",0),Ls(1,"h2",1),Ca(2),Xl(3,"translate"),Bs(),Ns(4,"mat-divider"),Ls(5,"div",2),Ls(6,"mat-checkbox",3),$s("change",(function(t){return e.changeCheckbox(t)})),Ls(7,"span"),Ca(8),Xl(9,"translate"),Bs(),Ns(10,"au-indicator",4),Bs(),Bs(),Ls(11,"div",5),Ls(12,"label",6),Ls(13,"span"),Ca(14),Xl(15,"translate"),Bs(),Ns(16,"au-indicator",4),Bs(),Ls(17,"button",7),$s("onMenuOpen",(function(){return e.initColorPicker(e.form)}))("onMenuClose",(function(){return e.closeColorMenu(e.form)})),Ls(18,"mat-menu",null,8),Ls(20,"au-color-picker",9),$s("click",(function(t){return t.stopPropagation()}))("onChange",(function(t){return e.colorChange(t)}))("onSubmit",(function(){return e.onSubmit(e.form)})),Bs(),Bs(),Bs(),Bs(),Ls(21,"div",5),Ls(22,"label",10),Ls(23,"span"),Ca(24),Xl(25,"translate"),Bs(),Ns(26,"au-indicator",4),Bs(),Ls(27,"mat-form-field",11),Ns(28,"input",12),Xl(29,"translate"),Bs(),Bs(),Ls(30,"div",5),Ls(31,"label",10),Ls(32,"span"),Ca(33),Xl(34,"translate"),Bs(),Ns(35,"au-indicator",4),Bs(),Ls(36,"mat-form-field",11),Ns(37,"input",12),Xl(38,"translate"),Bs(),Bs(),Bs()),2&t){const t=As(19);Rs("formGroup",e.form),vr(2),xa(Kl(3,20,e.title)),vr(4),Rs("checked",e.form.get("enabled").value),vr(2),xa(Kl(9,22,"Labels.ENABLE_SNAP")),vr(2),Rs("display",e.isChanged("enabled")),vr(4),xa(Kl(15,24,"Labels.COLOR")),vr(2),Rs("display",e.isChanged("color")),vr(1),ca("background-color",null==e.color?null:e.color.preview),Rs("matMenuTriggerFor",t),vr(3),Rs("initialColor",e.color)("initialized",e.color),vr(4),xa(Kl(25,26,"Labels.PRIORITY")),vr(2),Rs("display",e.isChanged("priority")),vr(2),Rs("placeholder",Kl(29,28,"Labels.SNAP_PRIORITY"))("formControlName","priority"),vr(5),xa(Kl(34,30,"Labels.TOLERANCE")),vr(2),Rs("display",e.isChanged("tolerance")),vr(2),Rs("placeholder",Kl(38,32,"Labels.SNAP_TOLERANCE"))("formControlName","tolerance")}},directives:[wd,Rp,YA,Gj,wq,NT,IT,PT,j7,iA,NA,Dd,pd,lq,bd,Hp],pipes:[HR],styles:[".te-grid-and-rulers-settings .color-button,.te-snap-settings .color-button{width:36px;height:36px;min-width:unset;background:#000;border:1px solid #e5e5e5;box-sizing:border-box;border-radius:4px}.te-grid-and-rulers-settings .checkbox-block,.te-snap-settings .checkbox-block{height:52px}.te-grid-and-rulers-settings .mat-checkbox,.te-grid-and-rulers-settings .mat-checkbox-layout,.te-snap-settings .mat-checkbox,.te-snap-settings .mat-checkbox-layout{width:100%}.te-grid-and-rulers-settings .mat-checkbox-layout .mat-checkbox-inner-container,.te-snap-settings .mat-checkbox-layout .mat-checkbox-inner-container{margin-left:auto;margin-right:12px}"],encapsulation:2}),t})();function Gnt(t,e){if(1&t&&(Ls(0,"mat-option",7),Ca(1),Bs()),2&t){const t=e.$implicit;Rs("value",t.value),vr(1),Ea(" ",t.viewValue," ")}}function qnt(t,e){if(1&t&&(Ls(0,"mat-option",7),Ca(1),Bs()),2&t){const t=e.$implicit;Rs("value",t.value),vr(1),Ea(" ",t.viewValue," ")}}const Xnt=function(t){return{"d-flex":t}},Knt=function(t,e){return{"mb-2":t,"mr-2":e}},Ynt=function(t){return{"mb-2":t}};let Qnt=(()=>{class t{constructor(t){this._fontSrv=t,this._families=[],this.familiesList=[],this.tFamilies=[],this.changeFamily=new Yl,this.changeStyle=new Yl}set families(t){this._families=t,this.familiesList=this._fontSrv.createFontList(t)}get fontStyles(){return this.currentFamily?this.currentFamily.stylesList:[]}ngOnChanges(){this.postScriptName&&(this.currentFamily=this._families.find(t=>t.belongMe(this.postScriptName)),this.currentStyle=this.currentFamily.findStyleByPostScript(this.postScriptName))}selectFontFamily(t){const e=this._families.find(e=>e.family===t);this.currentFamily=e,this.currentStyle=e.findStyleByPostScript(e.firstStylePostScript()),this.changeFamily.emit(this.currentFamily),this.changeStyle.emit(this.currentStyle)}selectFontStyle(t){this.currentStyle=this.currentFamily.findStyleByPostScript(t),this.changeStyle.emit(this.currentStyle)}}return t.\u0275fac=function(e){return new(e||t)(Ms(z$))},t.\u0275cmp=pe({type:t,selectors:[["au-font-field"]],inputs:{postScriptName:"postScriptName",horizontal:"horizontal",families:"families"},outputs:{changeFamily:"changeFamily",changeStyle:"changeStyle"},features:[La],decls:12,vars:20,consts:[[1,"w-100",3,"ngClass"],[1,"font-select","w-100",3,"ngClass"],["appearance","outline",1,"w-100"],[3,"placeholder","value","valueChange"],[3,"value",4,"ngFor","ngForOf"],[1,"d-flex","w-100",3,"ngClass"],[1,"font-select","w-100"],[3,"value"]],template:function(t,e){1&t&&(Ls(0,"div",0),Ls(1,"div",1),Ls(2,"mat-form-field",2),Ls(3,"mat-select",3),$s("valueChange",(function(t){return e.selectFontFamily(t)})),Xl(4,"translate"),Is(5,Gnt,2,2,"mat-option",4),Bs(),Bs(),Bs(),Ls(6,"div",5),Ls(7,"div",6),Ls(8,"mat-form-field",2),Ls(9,"mat-select",3),$s("valueChange",(function(t){return e.selectFontStyle(t)})),Xl(10,"translate"),Is(11,qnt,2,2,"mat-option",4),Bs(),Bs(),Bs(),Bs(),Bs()),2&t&&(Rs("ngClass",Vl(13,Xnt,e.horizontal)),vr(1),Rs("ngClass",Ul(15,Knt,!e.horizontal,e.horizontal)),vr(2),Rs("placeholder",Kl(4,9,"Labels.FONT_FAMILY"))("value",null==e.currentFamily?null:e.currentFamily.family),vr(2),Rs("ngForOf",e.familiesList),vr(1),Rs("ngClass",Vl(18,Ynt,!e.horizontal)),vr(3),Rs("placeholder",Kl(10,11,"Labels.FONT_STYLE"))("value",null==e.currentStyle?null:e.currentStyle.postscriptName),vr(2),Rs("ngForOf",e.fontStyles))},directives:[vh,iA,EA,Ch,Tk],pipes:[HR],styles:[""]}),t})(),Znt=(()=>{class t{constructor(t){this._injector=t}ngDoBootstrap(){const t=aN(Dnt,{injector:this._injector});customElements.define("au-template-editor",t),window.Aurigma=window.Aurigma||{},window.Aurigma.TemplateEditor={version:gu.b}}}return t.\u0275mod=_e({type:t}),t.\u0275inj=dt({factory:function(e){return new(e||t)(Kt(us))},providers:[k2,I1,I2,Zh,A1],imports:[[Bf,rf,of,rd,fb,Tw.forRoot(v6,{runtimeChecks:{strictStateImmutability:!1,strictActionImmutability:!1}}),ly,Fv,y1,fH,KP.forRoot(),Wnt,T1]]}),t})();fe(oq,[vh,bh,Ch,Eh,Rh,Dh,kh,Th,Ih,Ah,Mh,Tp,Gd,Yd,pd,Dd,Nd,ud,$d,Kd,Ld,bd,wd,Wp,Yp,Zp,tf,$p,Xp,kp,Sp,bp,Mp,Rp,Hp,Lp,Np,R_,Rv,Mv,Iv,Sv,Ov,Pv,D6,W6,X6,J6,lq,Unt,x6,j7,qet,H7,T_,PT,bT,IT,gT,NT,jT,oI,YA,oM,lM,kM,TM,bI,_I,VI,iA,qI,XI,KI,YI,QI,EA,xA,Tk,Ek,kA,TA,NA,AA,GA,zR,jM,WM,zM,YM,oD,sD,aD,lD,FD,ID,AD,MD,RD,DD,OD,UD,Rz,_z,xz,Uz,qz,yz,aH,tH,cH,eH,Zz,Jz,oR,iR,cR,sR,sk,aR,lR,vk,yR,gR,Gj,Xj,oP,XP,vP,CS,HS,fP,hP,zP,WS,NS,TS,TP,xP,MP,ME,Aet,Q7,P1,k1,Dnt,d7,Ant,q6,W8,a8,hnt,i8,t8,Z6,$6,U8,Y6,$et,zet,Met,Let,Zet,Pnt,fnt,Fnt,Nnt,gnt,mnt,A2,AH,oq,cq,p1,Sq,Oq,Lq,$nt,Qnt,wq],[zh,Wh,Hh,Kh,id,Zh,Jh,Uh,td,$h,qh,Xh,Yh,m7,M7,HR,T2,I2]),fe(p1,[vh,bh,Ch,Eh,Rh,Dh,kh,Th,Ih,Ah,Mh,Tp,Gd,Yd,pd,Dd,Nd,ud,$d,Kd,Ld,bd,wd,Wp,Yp,Zp,tf,$p,Xp,kp,Sp,bp,Mp,Rp,Hp,Lp,Np,R_,Rv,Mv,Iv,Sv,Ov,Pv,D6,W6,X6,J6,lq,Unt,x6,j7,qet,H7,T_,PT,bT,IT,gT,NT,jT,oI,YA,oM,lM,kM,TM,bI,_I,VI,iA,qI,XI,KI,YI,QI,EA,xA,Tk,Ek,kA,TA,NA,AA,GA,zR,jM,WM,zM,YM,oD,sD,aD,lD,FD,ID,AD,MD,RD,DD,OD,UD,Rz,_z,xz,Uz,qz,yz,aH,tH,cH,eH,Zz,Jz,oR,iR,cR,sR,sk,aR,lR,vk,yR,gR,Gj,Xj,oP,XP,vP,CS,HS,fP,hP,zP,WS,NS,TS,TP,xP,MP,ME,Aet,Q7,P1,k1,Dnt,d7,Ant,q6,W8,a8,hnt,i8,t8,Z6,$6,U8,Y6,$et,zet,Met,Let,Zet,Pnt,fnt,Fnt,Nnt,gnt,mnt,A2,AH,oq,cq,p1,Sq,Oq,Lq,$nt,Qnt,wq],[zh,Wh,Hh,Kh,id,Zh,Jh,Uh,td,$h,qh,Xh,Yh,m7,M7,HR,T2,I2]),fe(Oq,[vh,bh,Ch,Eh,Rh,Dh,kh,Th,Ih,Ah,Mh,Tp,Gd,Yd,pd,Dd,Nd,ud,$d,Kd,Ld,bd,wd,Wp,Yp,Zp,tf,$p,Xp,kp,Sp,bp,Mp,Rp,Hp,Lp,Np,R_,Rv,Mv,Iv,Sv,Ov,Pv,D6,W6,X6,J6,lq,Unt,x6,j7,qet,H7,T_,PT,bT,IT,gT,NT,jT,oI,YA,oM,lM,kM,TM,bI,_I,VI,iA,qI,XI,KI,YI,QI,EA,xA,Tk,Ek,kA,TA,NA,AA,GA,zR,jM,WM,zM,YM,oD,sD,aD,lD,FD,ID,AD,MD,RD,DD,OD,UD,Rz,_z,xz,Uz,qz,yz,aH,tH,cH,eH,Zz,Jz,oR,iR,cR,sR,sk,aR,lR,vk,yR,gR,Gj,Xj,oP,XP,vP,CS,HS,fP,hP,zP,WS,NS,TS,TP,xP,MP,ME,Aet,Q7,P1,k1,Dnt,d7,Ant,q6,W8,a8,hnt,i8,t8,Z6,$6,U8,Y6,$et,zet,Met,Let,Zet,Pnt,fnt,Fnt,Nnt,gnt,mnt,A2,AH,oq,cq,p1,Sq,Oq,Lq,$nt,Qnt,wq],[zh,Wh,Hh,Kh,id,Zh,Jh,Uh,td,$h,qh,Xh,Yh,m7,M7,HR,T2,I2]),mu.production&&function(){if(Si)throw new Error("Cannot enable prod mode after platform setup.");Ei=!1}(),Ff().bootstrapModule(Znt).catch(t=>console.error(t));const Jnt=new Date(mu.buildTime);console.log("%c%s","color: #1fb6ff; background: #fff8e3;",`Template Editor v.${gu.b} by Aurigma Inc.\nBuild using DA v.${gu.a["@aurigma/design-atoms"]}.\nBuild time: ${Jnt.toLocaleDateString()} ${Jnt.toLocaleTimeString()}.`)},zZ0H:function(t,e){t.exports=function(t){return t}},zn8P:function(t,e){function n(t){return Promise.resolve().then((function(){var e=new Error("Cannot find module '"+t+"'");throw e.code="MODULE_NOT_FOUND",e}))}n.keys=function(){return[]},n.resolve=n,t.exports=n,n.id="zn8P"},zoYe:function(t,e,n){var i=n("nmnc"),r=n("eUgh"),o=n("Z0cm"),s=n("/9aa"),a=i?i.prototype:void 0,l=a?a.toString:void 0;t.exports=function t(e){if("string"==typeof e)return e;if(o(e))return r(e,t)+"";if(s(e))return l?l.call(e):"";var n=e+"";return"0"==n&&1/e==-1/0?"-0":n}}},[[0,0]]]);
</script>