<script>
!function(e){function r(r){for(var n,i,a=r[0],c=r[1],l=r[2],p=0,s=[];p<a.length;p++)o[i=a[p]]&&s.push(o[i][0]),o[i]=0;for(n in c)Object.prototype.hasOwnProperty.call(c,n)&&(e[n]=c[n]);for(f&&f(r);s.length;)s.shift()();return u.push.apply(u,l||[]),t()}function t(){for(var e,r=0;r<u.length;r++){for(var t=u[r],n=!0,a=1;a<t.length;a++)0!==o[t[a]]&&(n=!1);n&&(u.splice(r--,1),e=i(i.s=t[0]))}return e}var n={},o={0:0},u=[];function i(r){if(n[r])return n[r].exports;var t=n[r]={i:r,l:!1,exports:{}};return e[r].call(t.exports,t,t.exports,i),t.l=!0,t.exports}i.e=function(e){var r=[],t=o[e];if(0!==t)if(t)r.push(t[2]);else{var n=new Promise((function(r,n){t=o[e]=[r,n]}));r.push(t[2]=n);var u,a=document.createElement("script");a.charset="utf-8",a.timeout=120,i.nc&&a.setAttribute("nonce",i.nc),a.src=function(e){return i.p+""+({}[e]||e)+"-es2015.js"}(e);var c=new Error;u=function(r){a.onerror=a.onload=null,clearTimeout(l);var t=o[e];if(0!==t){if(t){var n=r&&("load"===r.type?"missing":r.type),u=r&&r.target&&r.target.src;c.message="Loading chunk "+e+" failed.\n("+n+": "+u+")",c.name="ChunkLoadError",c.type=n,c.request=u,t[1](c)}o[e]=void 0}};var l=setTimeout((function(){u({type:"timeout",target:a})}),12e4);a.onerror=a.onload=u,document.head.appendChild(a)}return Promise.all(r)},i.m=e,i.c=n,i.d=function(e,r,t){i.o(e,r)||Object.defineProperty(e,r,{enumerable:!0,get:t})},i.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},i.t=function(e,r){if(1&r&&(e=i(e)),8&r)return e;if(4&r&&"object"==typeof e&&e&&e.__esModule)return e;var t=Object.create(null);if(i.r(t),Object.defineProperty(t,"default",{enumerable:!0,value:e}),2&r&&"string"!=typeof e)for(var n in e)i.d(t,n,(function(r){return e[r]}).bind(null,n));return t},i.n=function(e){var r=e&&e.__esModule?function(){return e.default}:function(){return e};return i.d(r,"a",r),r},i.o=function(e,r){return Object.prototype.hasOwnProperty.call(e,r)},i.p="",i.oe=function(e){throw console.error(e),e};var a=window.webpackJsonp=window.webpackJsonp||[],c=a.push.bind(a);a.push=r,a=a.slice();for(var l=0;l<a.length;l++)r(a[l]);var f=c;t()}([]);
(window.webpackJsonp=window.webpackJsonp||[]).push([[3],{"+5EW":function(t,n,e){"use strict";var r=e("7zcn"),i=e("QY3j")(1);r(r.P+r.F*!e("TLBd")([].map,!0),"Array",{map:function(t){return i(this,t,arguments[1])}})},"+KrA":function(t,n,e){var r=e("GU4h"),i=e("TPJk"),o=e("2VH3")("species");t.exports=function(t){var n;return i(t)&&("function"!=typeof(n=t.constructor)||n!==Array&&!i(n.prototype)||(n=void 0),r(n)&&null===(n=n[o])&&(n=void 0)),void 0===n?Array:n}},"+TEi":function(t,n,e){var r=e("QCwN"),i=e("7zcn"),o=e("jH7Z");i(i.S,"Reflect",{getOwnPropertyDescriptor:function(t,n){return r.f(o(t),n)}})},"+WIo":function(t,n,e){var r=e("NGBq")("keys"),i=e("9FWt");t.exports=function(t){return r[t]||(r[t]=i(t))}},"+iZ3":function(t,n,e){"use strict";var r=e("7zcn"),i=e("QY3j")(3);r(r.P+r.F*!e("TLBd")([].some,!0),"Array",{some:function(t){return i(this,t,arguments[1])}})},"+u7R":function(t,n){t.exports=function(t,n,e,r){if(!(t instanceof n)||void 0!==r&&r in t)throw TypeError(e+": incorrect invocation!");return t}},"/15L":function(t,n,e){"use strict";e("kDPR")("italics",(function(t){return function(){return t(this,"i","","")}}))},"/1As":function(t,n,e){var r=e("7zcn"),i=e("vsji"),o=e("09V9"),u=e("jH7Z"),a=e("GU4h"),c=e("oSRv"),s=e("Vzju"),f=(e("DozX").Reflect||{}).construct,l=c((function(){function t(){}return!(f((function(){}),[],t)instanceof t)})),h=!c((function(){f((function(){}))}));r(r.S+r.F*(l||h),"Reflect",{construct:function(t,n){o(t),u(n);var e=arguments.length<3?t:o(arguments[2]);if(h&&!l)return f(t,n,e);if(t==e){switch(n.length){case 0:return new t;case 1:return new t(n[0]);case 2:return new t(n[0],n[1]);case 3:return new t(n[0],n[1],n[2]);case 4:return new t(n[0],n[1],n[2],n[3])}var r=[null];return r.push.apply(r,n),new(s.apply(t,r))}var c=e.prototype,p=i(a(c)?c:Object.prototype),v=Function.apply.call(t,p,n);return a(v)?v:p}})},"/6/K":function(t,n,e){var r=e("iZYR"),i=e("gQmS"),o=e("0On3");t.exports=function(t){var n=r(t),e=i.f;if(e)for(var u,a=e(t),c=o.f,s=0;a.length>s;)c.call(t,u=a[s++])&&n.push(u);return n}},"/CC1":function(t,n,e){var r=e("7zcn");r(r.S,"Array",{isArray:e("TPJk")})},"/W1+":function(t,n,e){var r=e("vkXE"),i=e("2VH3")("iterator"),o=e("ndOI");t.exports=e("XFAF").getIteratorMethod=function(t){if(null!=t)return t[i]||t["@@iterator"]||o[r(t)]}},"/Zq6":function(t,n,e){var r=e("7zcn");r(r.S,"Math",{log10:function(t){return Math.log(t)*Math.LOG10E}})},"/jaN":function(t,n,e){var r=e("7zcn"),i=e("QCwN").f,o=e("jH7Z");r(r.S,"Reflect",{deleteProperty:function(t,n){var e=i(o(t),n);return!(e&&!e.configurable)&&delete t[n]}})},"/pmH":function(t,n,e){"use strict";e("F0rk");var r=e("44Vk"),i=e("uv4k"),o=e("oSRv"),u=e("yK4D"),a=e("2VH3"),c=e("cUTP"),s=a("species"),f=!o((function(){var t=/./;return t.exec=function(){var t=[];return t.groups={a:"7"},t},"7"!=="".replace(t,"$<a>")})),l=function(){var t=/(?:)/,n=t.exec;t.exec=function(){return n.apply(this,arguments)};var e="ab".split(t);return 2===e.length&&"a"===e[0]&&"b"===e[1]}();t.exports=function(t,n,e){var h=a(t),p=!o((function(){var n={};return n[h]=function(){return 7},7!=""[t](n)})),v=p?!o((function(){var n=!1,e=/a/;return e.exec=function(){return n=!0,null},"split"===t&&(e.constructor={},e.constructor[s]=function(){return e}),e[h](""),!n})):void 0;if(!p||!v||"replace"===t&&!f||"split"===t&&!l){var d=/./[h],g=e(u,h,""[t],(function(t,n,e,r,i){return n.exec===c?p&&!i?{done:!0,value:d.call(n,e,r)}:{done:!0,value:t.call(e,n,r)}:{done:!1}})),y=g[1];r(String.prototype,t,g[0]),i(RegExp.prototype,h,2==n?function(t,n){return y.call(t,this,n)}:function(t){return y.call(t,this)})}}},"09V9":function(t,n){t.exports=function(t){if("function"!=typeof t)throw TypeError(t+" is not a function!");return t}},"0On3":function(t,n){n.f={}.propertyIsEnumerable},"0jF3":function(t,n,e){var r=e("7zcn");r(r.S,"Number",{MAX_SAFE_INTEGER:9007199254740991})},"0ky7":function(t,n,e){var r=e("7zcn");r(r.S,"Reflect",{has:function(t,n){return n in t}})},"0ra8":function(t,n,e){var r=e("7zcn");r(r.P,"Array",{fill:e("ucet")}),e("lrpY")("fill")},"0rpg":function(t,n,e){"use strict";e("kDPR")("link",(function(t){return function(n){return t(this,"a","href",n)}}))},"0zt1":function(t,n,e){"use strict";var r=e("7zcn"),i=e("t2TW");r(r.S+r.F*e("oSRv")((function(){function t(){}return!(Array.of.call(t)instanceof t)})),"Array",{of:function(){for(var t=0,n=arguments.length,e=new("function"==typeof this?this:Array)(n);n>t;)i(e,t,arguments[t++]);return e.length=n,e}})},1:function(t,n,e){t.exports=e("hN/g")},"1/o9":function(t,n,e){var r=e("7zcn");r(r.S,"Number",{EPSILON:Math.pow(2,-52)})},"16Lg":function(t,n,e){"use strict";var r=e("DozX"),i=e("bw3G"),o=e("PYUJ"),u=e("2VH3")("species");t.exports=function(t){var n=r[t];o&&n&&!n[u]&&i.f(n,u,{configurable:!0,get:function(){return this}})}},"1SmJ":function(t,n,e){"use strict";var r=e("7zcn"),i=e("jDWM");r(r.P+r.F*!e("TLBd")([].reduceRight,!0),"Array",{reduceRight:function(t){return i(this,t,arguments.length,arguments[1],!0)}})},"2VH3":function(t,n,e){var r=e("NGBq")("wks"),i=e("9FWt"),o=e("DozX").Symbol,u="function"==typeof o;(t.exports=function(t){return r[t]||(r[t]=u&&o[t]||(u?o:i)("Symbol."+t))}).store=r},"2YD3":function(t,n,e){e("dtAy"),e("4oWw"),e("LnO1"),e("PRJl"),t.exports=e("XFAF").Map},"2v4T":function(t,n,e){var r=e("61hH"),i=e("yK4D");t.exports=function(t,n,e){if(r(n))throw TypeError("String#"+e+" doesn't accept regex!");return String(i(t))}},"3EZN":function(t,n,e){var r=e("7zcn");r(r.S+r.F*!e("PYUJ"),"Object",{defineProperties:e("bM1j")})},"3M5Q":function(t,n,e){"use strict";var r=e("dC+H"),i=e("7zcn"),o=e("44Vk"),u=e("uv4k"),a=e("ndOI"),c=e("O9AP"),s=e("DoU+"),f=e("kEqp"),l=e("2VH3")("iterator"),h=!([].keys&&"next"in[].keys()),p=function(){return this};t.exports=function(t,n,e,v,d,g,y){c(e,n,v);var m,b,_,x=function(t){if(!h&&t in T)return T[t];switch(t){case"keys":case"values":return function(){return new e(this,t)}}return function(){return new e(this,t)}},S=n+" Iterator",w="values"==d,k=!1,T=t.prototype,E=T[l]||T["@@iterator"]||d&&T[d],P=E||x(d),O=d?w?x("entries"):P:void 0,M="Array"==n&&T.entries||E;if(M&&(_=f(M.call(new t)))!==Object.prototype&&_.next&&(s(_,S,!0),r||"function"==typeof _[l]||u(_,l,p)),w&&E&&"values"!==E.name&&(k=!0,P=function(){return E.call(this)}),r&&!y||!h&&!k&&T[l]||u(T,l,P),a[n]=P,a[S]=p,d)if(m={values:w?P:x("values"),keys:g?P:x("keys"),entries:O},y)for(b in m)b in T||o(T,b,m[b]);else i(i.P+i.F*(h||k),n,m);return m}},"3WEy":function(t,n,e){var r=e("JaYb"),i=e("CwQO"),o=e("r2uX")(!1),u=e("+WIo")("IE_PROTO");t.exports=function(t,n){var e,a=i(t),c=0,s=[];for(e in a)e!=u&&r(a,e)&&s.push(e);for(;n.length>c;)r(a,e=n[c++])&&(~o(s,e)||s.push(e));return s}},"3X5s":function(t,n,e){e("dtAy"),e("3eMz"),e("tRfV"),t.exports=e("XFAF").WeakMap},"3eMz":function(t,n,e){"use strict";var r=e("lrpY"),i=e("LS0A"),o=e("ndOI"),u=e("CwQO");t.exports=e("3M5Q")(Array,"Array",(function(t,n){this._t=u(t),this._i=0,this._k=n}),(function(){var t=this._t,n=this._k,e=this._i++;return!t||e>=t.length?(this._t=void 0,i(1)):i(0,"keys"==n?e:"values"==n?t[e]:[e,t[e]])}),"values"),o.Arguments=o.Array,r("keys"),r("values"),r("entries")},"44Vk":function(t,n,e){var r=e("DozX"),i=e("uv4k"),o=e("JaYb"),u=e("9FWt")("src"),a=e("nIRx"),c=(""+a).split("toString");e("XFAF").inspectSource=function(t){return a.call(t)},(t.exports=function(t,n,e,a){var s="function"==typeof e;s&&(o(e,"name")||i(e,"name",n)),t[n]!==e&&(s&&(o(e,u)||i(e,u,t[n]?""+t[n]:c.join(String(n)))),t===r?t[n]=e:a?t[n]?t[n]=e:i(t,n,e):(delete t[n],i(t,n,e)))})(Function.prototype,"toString",(function(){return"function"==typeof this&&this[u]||a.call(this)}))},"4KWP":function(t,n,e){"use strict";var r=e("GU4h"),i=e("kEqp"),o=e("2VH3")("hasInstance"),u=Function.prototype;o in u||e("bw3G").f(u,o,{value:function(t){if("function"!=typeof this||!r(t))return!1;if(!r(this.prototype))return t instanceof this;for(;t=i(t);)if(this.prototype===t)return!0;return!1}})},"4O9r":function(t,n,e){var r=e("GU4h");t.exports=function(t,n){if(!r(t)||t._t!==n)throw TypeError("Incompatible receiver, "+n+" required!");return t}},"4oWw":function(t,n,e){"use strict";var r=e("fGzG")(!0);e("3M5Q")(String,"String",(function(t){this._t=String(t),this._i=0}),(function(){var t,n=this._t,e=this._i;return e>=n.length?{value:void 0,done:!0}:(t=r(n,e),this._i+=t.length,{value:t,done:!1})}))},"59HP":function(t,n,e){e("EVIL"),t.exports=e("XFAF").parseInt},"5DyP":function(t,n,e){"use strict";var r=e("7zcn"),i=e("jH7Z"),o=function(t){this._t=i(t),this._i=0;var n,e=this._k=[];for(n in t)e.push(n)};e("O9AP")(o,"Object",(function(){var t,n=this._k;do{if(this._i>=n.length)return{value:void 0,done:!0}}while(!((t=n[this._i++])in this._t));return{value:t,done:!1}})),r(r.S,"Reflect",{enumerate:function(t){return new o(t)}})},"5E/N":function(t,n,e){var r=e("DozX").parseInt,i=e("rJUC").trim,o=e("OC0y"),u=/^[-+]?0[xX]/;t.exports=8!==r(o+"08")||22!==r(o+"0x16")?function(t,n){var e=i(String(t),3);return r(e,n>>>0||(u.test(e)?16:10))}:r},"61hH":function(t,n,e){var r=e("GU4h"),i=e("tzX3"),o=e("2VH3")("match");t.exports=function(t){var n;return r(t)&&(void 0!==(n=t[o])?!!n:"RegExp"==i(t))}},"65Re":function(t,n,e){var r=e("x0t8"),i=e("gQmS"),o=e("jH7Z"),u=e("DozX").Reflect;t.exports=u&&u.ownKeys||function(t){var n=r.f(o(t)),e=i.f;return e?n.concat(e(t)):n}},"6lxD":function(t,n,e){var r=e("GU4h");e("VkLe")("isExtensible",(function(t){return function(n){return!!r(n)&&(!t||t(n))}}))},"6qOv":function(t,n){t.exports="constructor,hasOwnProperty,isPrototypeOf,propertyIsEnumerable,toLocaleString,toString,valueOf".split(",")},"7Czv":function(t,n,e){e("4oWw"),e("/CC1"),e("nruA"),e("0zt1"),e("oSPv"),e("p6PN"),e("Yyzt"),e("r0id"),e("+5EW"),e("lE7+"),e("+iZ3"),e("kk3K"),e("NCol"),e("1SmJ"),e("Ph8W"),e("Mpa+"),e("B4OY"),e("0ra8"),e("KI7T"),e("DjDK"),e("sjfq"),e("3eMz"),t.exports=e("XFAF").Array},"7Nvk":function(t,n,e){var r=e("7zcn"),i=e("kEqp"),o=e("jH7Z");r(r.S,"Reflect",{getPrototypeOf:function(t){return i(o(t))}})},"7Q9t":function(t,n,e){var r=e("DozX").parseFloat,i=e("rJUC").trim;t.exports=1/r(e("OC0y")+"-0")!=-1/0?function(t){var n=i(String(t),3),e=r(n);return 0===e&&"-"==n.charAt(0)?-0:e}:r},"7Zmh":function(t,n,e){var r=e("GU4h"),i=e("jH7Z"),o=function(t,n){if(i(t),!r(n)&&null!==n)throw TypeError(n+": can't set as prototype!")};t.exports={set:Object.setPrototypeOf||("__proto__"in{}?function(t,n,r){try{(r=e("EkxP")(Function.call,e("QCwN").f(Object.prototype,"__proto__").set,2))(t,[]),n=!(t instanceof Array)}catch(i){n=!0}return function(t,e){return o(t,e),n?t.__proto__=e:r(t,e),t}}({},!1):void 0),check:o}},"7dyJ":function(t,n,e){var r=e("7zcn"),i=e("5E/N");r(r.S+r.F*(Number.parseInt!=i),"Number",{parseInt:i})},"7fQw":function(t,n,e){var r=e("7zcn");r(r.S,"Date",{now:function(){return(new Date).getTime()}})},"7lsY":function(t,n,e){e("w1ZQ"),e("GLUI"),e("IamG"),e("Z4yN"),e("rtdP"),e("N8b7"),e("sMgM"),e("HjOb"),e("UWaV"),e("tpnP"),e("/Zq6"),e("XaOq"),e("znly"),e("decI"),e("eR3J"),e("Xsmf"),e("VAC4"),t.exports=e("XFAF").Math},"7zcn":function(t,n,e){var r=e("DozX"),i=e("XFAF"),o=e("uv4k"),u=e("44Vk"),a=e("EkxP"),c=function(t,n,e){var s,f,l,h,p=t&c.F,v=t&c.G,d=t&c.P,g=t&c.B,y=v?r:t&c.S?r[n]||(r[n]={}):(r[n]||{}).prototype,m=v?i:i[n]||(i[n]={}),b=m.prototype||(m.prototype={});for(s in v&&(e=n),e)l=((f=!p&&y&&void 0!==y[s])?y:e)[s],h=g&&f?a(l,r):d&&"function"==typeof l?a(Function.call,l):l,y&&u(y,s,l,t&c.U),m[s]!=l&&o(m,s,h),d&&b[s]!=l&&(b[s]=l)};r.core=i,c.F=1,c.G=2,c.S=4,c.P=8,c.B=16,c.W=32,c.U=64,c.R=128,t.exports=c},"8NJi":function(t,n,e){"use strict";e("kDPR")("fixed",(function(t){return function(){return t(this,"tt","","")}}))},"8aR+":function(t,n,e){e("zpx+"),e("vKyf"),e("Cbn5"),e("1/o9"),e("xs+y"),e("z5Gu"),e("WUuN"),e("uVdi"),e("0jF3"),e("ATm7"),e("HUzP"),e("7dyJ"),t.exports=e("XFAF").Number},"9FWt":function(t,n){var e=0,r=Math.random();t.exports=function(t){return"Symbol(".concat(void 0===t?"":t,")_",(++e+r).toString(36))}},"9J3r":function(t,n,e){"use strict";var r=e("7zcn"),i=e("u2Rj"),o=e("2v4T"),u="".startsWith;r(r.P+r.F*e("giLt")("startsWith"),"String",{startsWith:function(t){var n=o(this,t,"startsWith"),e=i(Math.min(arguments.length>1?arguments[1]:void 0,n.length)),r=String(t);return u?u.call(n,r,e):n.slice(e,e+r.length)===r}})},A9jR:function(t,n,e){var r=e("44Vk");t.exports=function(t,n,e){for(var i in n)r(t,i,n[i],e);return t}},"AA1/":function(t,n,e){var r=Date.prototype,i=r.toString,o=r.getTime;new Date(NaN)+""!="Invalid Date"&&e("44Vk")(r,"toString",(function(){var t=o.call(this);return t==t?i.call(this):"Invalid Date"}))},AKWv:function(t,n,e){var r=e("QCwN"),i=e("kEqp"),o=e("JaYb"),u=e("7zcn"),a=e("GU4h"),c=e("jH7Z");u(u.S,"Reflect",{get:function t(n,e){var u,s,f=arguments.length<3?n:arguments[2];return c(n)===f?n[e]:(u=r.f(n,e))?o(u,"value")?u.value:void 0!==u.get?u.get.call(f):void 0:a(s=i(n))?t(s,e,f):void 0}})},ATm7:function(t,n,e){var r=e("7zcn");r(r.S,"Number",{MIN_SAFE_INTEGER:-9007199254740991})},AbBq:function(t,n){t.exports=Object.is||function(t,n){return t===n?0!==t||1/t==1/n:t!=t&&n!=n}},B4OY:function(t,n,e){var r=e("7zcn");r(r.P,"Array",{copyWithin:e("RQ5d")}),e("lrpY")("copyWithin")},"BAJ/":function(t,n,e){var r=e("GU4h");e("VkLe")("isFrozen",(function(t){return function(n){return!r(n)||!!t&&t(n)}}))},BPcy:function(t,n,e){var r=e("DozX"),i=e("hOc4"),o=e("bw3G").f,u=e("x0t8").f,a=e("61hH"),c=e("PE/z"),s=r.RegExp,f=s,l=s.prototype,h=/a/g,p=/a/g,v=new s(h)!==h;if(e("PYUJ")&&(!v||e("oSRv")((function(){return p[e("2VH3")("match")]=!1,s(h)!=h||s(p)==p||"/a/i"!=s(h,"i")})))){s=function(t,n){var e=this instanceof s,r=a(t),o=void 0===n;return!e&&r&&t.constructor===s&&o?t:i(v?new f(r&&!o?t.source:t,n):f((r=t instanceof s)?t.source:t,r&&o?c.call(t):n),e?this:l,s)};for(var d=function(t){t in s||o(s,t,{configurable:!0,get:function(){return f[t]},set:function(n){f[t]=n}})},g=u(f),y=0;g.length>y;)d(g[y++]);l.constructor=s,s.prototype=l,e("44Vk")(r,"RegExp",s)}e("16Lg")("RegExp")},BUxN:function(t,n,e){var r=e("9FWt")("meta"),i=e("GU4h"),o=e("JaYb"),u=e("bw3G").f,a=0,c=Object.isExtensible||function(){return!0},s=!e("oSRv")((function(){return c(Object.preventExtensions({}))})),f=function(t){u(t,r,{value:{i:"O"+ ++a,w:{}}})},l=t.exports={KEY:r,NEED:!1,fastKey:function(t,n){if(!i(t))return"symbol"==typeof t?t:("string"==typeof t?"S":"P")+t;if(!o(t,r)){if(!c(t))return"F";if(!n)return"E";f(t)}return t[r].i},getWeak:function(t,n){if(!o(t,r)){if(!c(t))return!0;if(!n)return!1;f(t)}return t[r].w},onFreeze:function(t){return s&&l.NEED&&c(t)&&!o(t,r)&&f(t),t}}},BXKi:function(t,n,e){"use strict";var r=e("7zcn"),i=e("u2Rj"),o=e("2v4T"),u="".endsWith;r(r.P+r.F*e("giLt")("endsWith"),"String",{endsWith:function(t){var n=o(this,t,"endsWith"),e=arguments.length>1?arguments[1]:void 0,r=i(n.length),a=void 0===e?r:Math.min(i(e),r),c=String(t);return u?u.call(n,c,a):n.slice(a-c.length,a)===c}})},Bu8c:function(t,n,e){"use strict";var r=e("jH7Z"),i=e("AbBq"),o=e("dCtm");e("/pmH")("search",1,(function(t,n,e,u){return[function(e){var r=t(this),i=null==e?void 0:e[n];return void 0!==i?i.call(e,r):new RegExp(e)[n](String(r))},function(t){var n=u(e,t,this);if(n.done)return n.value;var a=r(t),c=String(this),s=a.lastIndex;i(s,0)||(a.lastIndex=0);var f=o(a,c);return i(a.lastIndex,s)||(a.lastIndex=s),null===f?-1:f.index}]}))},BvK4:function(t,n,e){e("V8LE"),e("hhwk"),e("qCVI"),e("4oWw"),e("SBXB"),e("BXKi"),e("DZyD"),e("V6IN"),e("9J3r"),e("XDJg"),e("w0HG"),e("szk0"),e("FNIj"),e("8NJi"),e("tpw1"),e("kX+i"),e("/15L"),e("0rpg"),e("cI1W"),e("L5qU"),e("v4K8"),e("ansO"),e("NlgC"),e("rmZQ"),e("Bu8c"),e("T7D0"),t.exports=e("XFAF").String},C19B:function(t,n){var e=Math.expm1;t.exports=!e||e(10)>22025.465794806718||e(10)<22025.465794806718||-2e-17!=e(-2e-17)?function(t){return 0==(t=+t)?t:t>-1e-6&&t<1e-6?t+t*t/2:Math.exp(t)-1}:e},Cbn5:function(t,n,e){"use strict";var r=e("7zcn"),i=e("oSRv"),o=e("JMyn"),u=1..toPrecision;r(r.P+r.F*(i((function(){return"1"!==u.call(1,void 0)}))||!i((function(){u.call({})}))),"Number",{toPrecision:function(t){var n=o(this,"Number#toPrecision: incorrect invocation!");return void 0===t?u.call(n):u.call(n,t)}})},CwQO:function(t,n,e){var r=e("rsBL"),i=e("yK4D");t.exports=function(t){return r(i(t))}},"DB+v":function(t,n,e){var r=e("ecHh"),i=e("iZYR");e("VkLe")("keys",(function(){return function(t){return i(r(t))}}))},DZyD:function(t,n,e){"use strict";var r=e("7zcn"),i=e("2v4T");r(r.P+r.F*e("giLt")("includes"),"String",{includes:function(t){return!!~i(this,t,"includes").indexOf(t,arguments.length>1?arguments[1]:void 0)}})},DjDK:function(t,n,e){"use strict";var r=e("7zcn"),i=e("QY3j")(6),o="findIndex",u=!0;o in[]&&Array(1)[o]((function(){u=!1})),r(r.P+r.F*u,"Array",{findIndex:function(t){return i(this,t,arguments.length>1?arguments[1]:void 0)}}),e("lrpY")(o)},"DoU+":function(t,n,e){var r=e("bw3G").f,i=e("JaYb"),o=e("2VH3")("toStringTag");t.exports=function(t,n,e){t&&!i(t=e?t:t.prototype,o)&&r(t,o,{configurable:!0,value:n})}},DozX:function(t,n){var e=t.exports="undefined"!=typeof window&&window.Math==Math?window:"undefined"!=typeof self&&self.Math==Math?self:Function("return this")();"number"==typeof __g&&(__g=e)},EVIL:function(t,n,e){var r=e("7zcn"),i=e("5E/N");r(r.G+r.F*(parseInt!=i),{parseInt:i})},EkxP:function(t,n,e){var r=e("09V9");t.exports=function(t,n,e){if(r(t),void 0===n)return t;switch(e){case 1:return function(e){return t.call(n,e)};case 2:return function(e,r){return t.call(n,e,r)};case 3:return function(e,r,i){return t.call(n,e,r,i)}}return function(){return t.apply(n,arguments)}}},F0rk:function(t,n,e){"use strict";var r=e("cUTP");e("7zcn")({target:"RegExp",proto:!0,forced:r!==/./.exec},{exec:r})},FNIj:function(t,n,e){"use strict";e("kDPR")("bold",(function(t){return function(){return t(this,"b","","")}}))},FoG6:function(t,n,e){var r=e("7zcn");r(r.S,"Reflect",{ownKeys:e("65Re")})},Fup4:function(t,n,e){var r=e("7zcn");r(r.P,"Function",{bind:e("Vzju")})},GLUI:function(t,n,e){var r=e("7zcn"),i=Math.asinh;r(r.S+r.F*!(i&&1/i(0)>0),"Math",{asinh:function t(n){return isFinite(n=+n)&&0!=n?n<0?-t(-n):Math.log(n+Math.sqrt(n*n+1)):n}})},GU4h:function(t,n){t.exports=function(t){return"object"==typeof t?null!==t:"function"==typeof t}},GWcJ:function(t,n,e){var r=e("bw3G"),i=e("QCwN"),o=e("kEqp"),u=e("JaYb"),a=e("7zcn"),c=e("rY2j"),s=e("jH7Z"),f=e("GU4h");a(a.S,"Reflect",{set:function t(n,e,a){var l,h,p=arguments.length<4?n:arguments[3],v=i.f(s(n),e);if(!v){if(f(h=o(n)))return t(h,e,a,p);v=c(0)}if(u(v,"value")){if(!1===v.writable||!f(p))return!1;if(l=i.f(p,e)){if(l.get||l.set||!1===l.writable)return!1;l.value=a,r.f(p,e,l)}else r.f(p,e,c(0,a));return!0}return void 0!==v.set&&(v.set.call(p,a),!0)}})},H34R:function(t,n,e){"use strict";var r=e("jH7Z"),i=e("eNNV");t.exports=function(t){if("string"!==t&&"number"!==t&&"default"!==t)throw TypeError("Incorrect hint");return i(r(this),"number"!=t)}},H9be:function(t,n){var e,r;r={},function(t,n){function e(){this._delay=0,this._endDelay=0,this._fill="none",this._iterationStart=0,this._iterations=1,this._duration=0,this._playbackRate=1,this._direction="normal",this._easing="linear",this._easingFunction=h}function r(){return t.isDeprecated("Invalid timing inputs","2016-03-02","TypeError exceptions will be thrown instead.",!0)}function i(n,r,i){var o=new e;return r&&(o.fill="both",o.duration="auto"),"number"!=typeof n||isNaN(n)?void 0!==n&&Object.getOwnPropertyNames(n).forEach((function(e){if("auto"!=n[e]){if(("number"==typeof o[e]||"duration"==e)&&("number"!=typeof n[e]||isNaN(n[e])))return;if("fill"==e&&-1==f.indexOf(n[e]))return;if("direction"==e&&-1==l.indexOf(n[e]))return;if("playbackRate"==e&&1!==n[e]&&t.isDeprecated("AnimationEffectTiming.playbackRate","2014-11-28","Use Animation.playbackRate instead."))return;o[e]=n[e]}})):o.duration=n,o}function o(t,n,e,r){return t<0||t>1||e<0||e>1?h:function(i){function o(t,n,e){return 3*t*(1-e)*(1-e)*e+3*n*(1-e)*e*e+e*e*e}if(i<=0){var u=0;return t>0?u=n/t:!n&&e>0&&(u=r/e),u*i}if(i>=1){var a=0;return e<1?a=(r-1)/(e-1):1==e&&t<1&&(a=(n-1)/(t-1)),1+a*(i-1)}for(var c=0,s=1;c<s;){var f=(c+s)/2,l=o(t,e,f);if(Math.abs(i-l)<1e-5)return o(n,r,f);l<i?c=f:s=f}return o(n,r,f)}}function u(t,n){return function(e){if(e>=1)return 1;var r=1/t;return(e+=n*r)-e%r}}function a(t){y||(y=document.createElement("div").style),y.animationTimingFunction="",y.animationTimingFunction=t;var n=y.animationTimingFunction;if(""==n&&r())throw new TypeError(t+" is not a valid value for easing");return n}function c(t){if("linear"==t)return h;var n=b.exec(t);if(n)return o.apply(this,n.slice(1).map(Number));var e=_.exec(t);if(e)return u(Number(e[1]),d);var r=x.exec(t);return r?u(Number(r[1]),{start:p,middle:v,end:d}[r[2]]):g[t]||h}function s(t,n,e){if(null==n)return S;var r=e.delay+t+e.endDelay;return n<Math.min(e.delay,r)?w:n>=Math.min(e.delay+t,r)?k:T}var f="backwards|forwards|both|none".split("|"),l="reverse|alternate|alternate-reverse".split("|"),h=function(t){return t};e.prototype={_setMember:function(n,e){this["_"+n]=e,this._effect&&(this._effect._timingInput[n]=e,this._effect._timing=t.normalizeTimingInput(this._effect._timingInput),this._effect.activeDuration=t.calculateActiveDuration(this._effect._timing),this._effect._animation&&this._effect._animation._rebuildUnderlyingAnimation())},get playbackRate(){return this._playbackRate},set delay(t){this._setMember("delay",t)},get delay(){return this._delay},set endDelay(t){this._setMember("endDelay",t)},get endDelay(){return this._endDelay},set fill(t){this._setMember("fill",t)},get fill(){return this._fill},set iterationStart(t){if((isNaN(t)||t<0)&&r())throw new TypeError("iterationStart must be a non-negative number, received: "+t);this._setMember("iterationStart",t)},get iterationStart(){return this._iterationStart},set duration(t){if("auto"!=t&&(isNaN(t)||t<0)&&r())throw new TypeError("duration must be non-negative or auto, received: "+t);this._setMember("duration",t)},get duration(){return this._duration},set direction(t){this._setMember("direction",t)},get direction(){return this._direction},set easing(t){this._easingFunction=c(a(t)),this._setMember("easing",t)},get easing(){return this._easing},set iterations(t){if((isNaN(t)||t<0)&&r())throw new TypeError("iterations must be non-negative, received: "+t);this._setMember("iterations",t)},get iterations(){return this._iterations}};var p=1,v=.5,d=0,g={ease:o(.25,.1,.25,1),"ease-in":o(.42,0,1,1),"ease-out":o(0,0,.58,1),"ease-in-out":o(.42,0,.58,1),"step-start":u(1,p),"step-middle":u(1,v),"step-end":u(1,d)},y=null,m="\\s*(-?\\d+\\.?\\d*|-?\\.\\d+)\\s*",b=new RegExp("cubic-bezier\\("+m+","+m+","+m+","+m+"\\)"),_=/steps\(\s*(\d+)\s*\)/,x=/steps\(\s*(\d+)\s*,\s*(start|middle|end)\s*\)/,S=0,w=1,k=2,T=3;t.cloneTimingInput=function(t){if("number"==typeof t)return t;var n={};for(var e in t)n[e]=t[e];return n},t.makeTiming=i,t.numericTimingToObject=function(t){return"number"==typeof t&&(t=isNaN(t)?{duration:0}:{duration:t}),t},t.normalizeTimingInput=function(n,e){return i(n=t.numericTimingToObject(n),e)},t.calculateActiveDuration=function(t){return Math.abs(function(t){return 0===t.duration||0===t.iterations?0:t.duration*t.iterations}(t)/t.playbackRate)},t.calculateIterationProgress=function(t,n,e){var r=s(t,n,e),i=function(t,n,e,r,i){switch(r){case w:return"backwards"==n||"both"==n?0:null;case T:return e-i;case k:return"forwards"==n||"both"==n?t:null;case S:return null}}(t,e.fill,n,r,e.delay);if(null===i)return null;var o=function(t,n,e,r,i){var o=i;return 0===t?n!==w&&(o+=e):o+=r/t,o}(e.duration,r,e.iterations,i,e.iterationStart),u=function(t,n,e,r,i,o){var u=t===1/0?n%1:t%1;return 0!==u||e!==k||0===r||0===i&&0!==o||(u=1),u}(o,e.iterationStart,r,e.iterations,i,e.duration),a=function(t,n,e,r){return t===k&&n===1/0?1/0:1===e?Math.floor(r)-1:Math.floor(r)}(r,e.iterations,u,o),c=function(t,n,e){var r=t;if("normal"!==t&&"reverse"!==t){var i=n;"alternate-reverse"===t&&(i+=1),r="normal",i!==1/0&&i%2!=0&&(r="reverse")}return"normal"===r?e:1-e}(e.direction,a,u);return e._easingFunction(c)},t.calculatePhase=s,t.normalizeEasing=a,t.parseEasingFunction=c}(e={}),function(t,n){function e(t,n){return t in c&&c[t][n]||n}function r(t,n,r){if(!function(t){return"display"===t||0===t.lastIndexOf("animation",0)||0===t.lastIndexOf("transition",0)}(t)){var i=o[t];if(i)for(var a in u.style[t]=n,i){var c=i[a];r[c]=e(c,u.style[c])}else r[t]=e(t,n)}}function i(t){var n=[];for(var e in t)if(!(e in["easing","offset","composite"])){var r=t[e];Array.isArray(r)||(r=[r]);for(var i,o=r.length,u=0;u<o;u++)(i={}).offset="offset"in t?t.offset:1==o?1:u/(o-1),"easing"in t&&(i.easing=t.easing),"composite"in t&&(i.composite=t.composite),i[e]=r[u],n.push(i)}return n.sort((function(t,n){return t.offset-n.offset})),n}var o={background:["backgroundImage","backgroundPosition","backgroundSize","backgroundRepeat","backgroundAttachment","backgroundOrigin","backgroundClip","backgroundColor"],border:["borderTopColor","borderTopStyle","borderTopWidth","borderRightColor","borderRightStyle","borderRightWidth","borderBottomColor","borderBottomStyle","borderBottomWidth","borderLeftColor","borderLeftStyle","borderLeftWidth"],borderBottom:["borderBottomWidth","borderBottomStyle","borderBottomColor"],borderColor:["borderTopColor","borderRightColor","borderBottomColor","borderLeftColor"],borderLeft:["borderLeftWidth","borderLeftStyle","borderLeftColor"],borderRadius:["borderTopLeftRadius","borderTopRightRadius","borderBottomRightRadius","borderBottomLeftRadius"],borderRight:["borderRightWidth","borderRightStyle","borderRightColor"],borderTop:["borderTopWidth","borderTopStyle","borderTopColor"],borderWidth:["borderTopWidth","borderRightWidth","borderBottomWidth","borderLeftWidth"],flex:["flexGrow","flexShrink","flexBasis"],font:["fontFamily","fontSize","fontStyle","fontVariant","fontWeight","lineHeight"],margin:["marginTop","marginRight","marginBottom","marginLeft"],outline:["outlineColor","outlineStyle","outlineWidth"],padding:["paddingTop","paddingRight","paddingBottom","paddingLeft"]},u=document.createElementNS("http://www.w3.org/1999/xhtml","div"),a={thin:"1px",medium:"3px",thick:"5px"},c={borderBottomWidth:a,borderLeftWidth:a,borderRightWidth:a,borderTopWidth:a,fontSize:{"xx-small":"60%","x-small":"75%",small:"89%",medium:"100%",large:"120%","x-large":"150%","xx-large":"200%"},fontWeight:{normal:"400",bold:"700"},outlineWidth:a,textShadow:{none:"0px 0px 0px transparent"},boxShadow:{none:"0px 0px 0px 0px transparent"}};t.convertToArrayForm=i,t.normalizeKeyframes=function(n){if(null==n)return[];window.Symbol&&Symbol.iterator&&Array.prototype.from&&n[Symbol.iterator]&&(n=Array.from(n)),Array.isArray(n)||(n=i(n));for(var e=n.map((function(n){var e={};for(var i in n){var o=n[i];if("offset"==i){if(null!=o){if(o=Number(o),!isFinite(o))throw new TypeError("Keyframe offsets must be numbers.");if(o<0||o>1)throw new TypeError("Keyframe offsets must be between 0 and 1.")}}else if("composite"==i){if("add"==o||"accumulate"==o)throw{type:DOMException.NOT_SUPPORTED_ERR,name:"NotSupportedError",message:"add compositing is not supported"};if("replace"!=o)throw new TypeError("Invalid composite mode "+o+".")}else o="easing"==i?t.normalizeEasing(o):""+o;r(i,o,e)}return null==e.offset&&(e.offset=null),null==e.easing&&(e.easing="linear"),e})),o=!0,u=-1/0,a=0;a<e.length;a++){var c=e[a].offset;if(null!=c){if(c<u)throw new TypeError("Keyframes are not loosely sorted by offset. Sort or specify offsets.");u=c}else o=!1}return e=e.filter((function(t){return t.offset>=0&&t.offset<=1})),o||function(){var t=e.length;null==e[t-1].offset&&(e[t-1].offset=1),t>1&&null==e[0].offset&&(e[0].offset=0);for(var n=0,r=e[0].offset,i=1;i<t;i++){var o=e[i].offset;if(null!=o){for(var u=1;u<i-n;u++)e[n+u].offset=r+(o-r)*u/(i-n);n=i,r=o}}}(),e}}(e),function(t){var n={};t.isDeprecated=function(t,e,r,i){var o=i?"are":"is",u=new Date,a=new Date(e);return a.setMonth(a.getMonth()+3),!(u<a&&(t in n||console.warn("Web Animations: "+t+" "+o+" deprecated and will stop working on "+a.toDateString()+". "+r),n[t]=!0,1))},t.deprecated=function(n,e,r,i){var o=i?"are":"is";if(t.isDeprecated(n,e,r,i))throw new Error(n+" "+o+" no longer supported. "+r)}}(e),function(){if(document.documentElement.animate){var t=document.documentElement.animate([],0),n=!0;if(t&&(n=!1,"play|currentTime|pause|reverse|playbackRate|cancel|finish|startTime|playState".split("|").forEach((function(e){void 0===t[e]&&(n=!0)}))),!n)return}!function(t,n,e){n.convertEffectInput=function(e){var r=function(t){for(var n={},e=0;e<t.length;e++)for(var r in t[e])if("offset"!=r&&"easing"!=r&&"composite"!=r){var i={offset:t[e].offset,easing:t[e].easing,value:t[e][r]};n[r]=n[r]||[],n[r].push(i)}for(var o in n){var u=n[o];if(0!=u[0].offset||1!=u[u.length-1].offset)throw{type:DOMException.NOT_SUPPORTED_ERR,name:"NotSupportedError",message:"Partial keyframes are not supported"}}return n}(t.normalizeKeyframes(e)),i=function(e){var r=[];for(var i in e)for(var o=e[i],u=0;u<o.length-1;u++){var a=u,c=u+1,s=o[a].offset,f=o[c].offset,l=s,h=f;0==u&&(l=-1/0,0==f&&(c=a)),u==o.length-2&&(h=1/0,1==s&&(a=c)),r.push({applyFrom:l,applyTo:h,startOffset:o[a].offset,endOffset:o[c].offset,easingFunction:t.parseEasingFunction(o[a].easing),property:i,interpolation:n.propertyInterpolation(i,o[a].value,o[c].value)})}return r.sort((function(t,n){return t.startOffset-n.startOffset})),r}(r);return function(t,e){if(null!=e)i.filter((function(t){return e>=t.applyFrom&&e<t.applyTo})).forEach((function(r){var i=r.endOffset-r.startOffset,o=0==i?0:r.easingFunction((e-r.startOffset)/i);n.apply(t,r.property,r.interpolation(o))}));else for(var o in r)"offset"!=o&&"easing"!=o&&"composite"!=o&&n.clear(t,o)}}}(e,r),function(t,n,e){function r(t){return t.replace(/-(.)/g,(function(t,n){return n.toUpperCase()}))}function i(t,n,e){o[e]=o[e]||[],o[e].push([t,n])}var o={};n.addPropertiesHandler=function(t,n,e){for(var o=0;o<e.length;o++)i(t,n,r(e[o]))};var u={backgroundColor:"transparent",backgroundPosition:"0% 0%",borderBottomColor:"currentColor",borderBottomLeftRadius:"0px",borderBottomRightRadius:"0px",borderBottomWidth:"3px",borderLeftColor:"currentColor",borderLeftWidth:"3px",borderRightColor:"currentColor",borderRightWidth:"3px",borderSpacing:"2px",borderTopColor:"currentColor",borderTopLeftRadius:"0px",borderTopRightRadius:"0px",borderTopWidth:"3px",bottom:"auto",clip:"rect(0px, 0px, 0px, 0px)",color:"black",fontSize:"100%",fontWeight:"400",height:"auto",left:"auto",letterSpacing:"normal",lineHeight:"120%",marginBottom:"0px",marginLeft:"0px",marginRight:"0px",marginTop:"0px",maxHeight:"none",maxWidth:"none",minHeight:"0px",minWidth:"0px",opacity:"1.0",outlineColor:"invert",outlineOffset:"0px",outlineWidth:"3px",paddingBottom:"0px",paddingLeft:"0px",paddingRight:"0px",paddingTop:"0px",right:"auto",strokeDasharray:"none",strokeDashoffset:"0px",textIndent:"0px",textShadow:"0px 0px 0px transparent",top:"auto",transform:"",verticalAlign:"0px",visibility:"visible",width:"auto",wordSpacing:"normal",zIndex:"auto"};n.propertyInterpolation=function(e,i,a){var c=e;/-/.test(e)&&!t.isDeprecated("Hyphenated property names","2016-03-22","Use camelCase instead.",!0)&&(c=r(e)),"initial"!=i&&"initial"!=a||("initial"==i&&(i=u[c]),"initial"==a&&(a=u[c]));for(var s=i==a?[]:o[c],f=0;s&&f<s.length;f++){var l=s[f][0](i),h=s[f][0](a);if(void 0!==l&&void 0!==h){var p=s[f][1](l,h);if(p){var v=n.Interpolation.apply(null,p);return function(t){return 0==t?i:1==t?a:v(t)}}}}return n.Interpolation(!1,!0,(function(t){return t?a:i}))}}(e,r),function(t,n,e){n.KeyframeEffect=function(e,r,i,o){var u,a=function(n){var e=t.calculateActiveDuration(n),r=function(r){return t.calculateIterationProgress(e,r,n)};return r._totalDuration=n.delay+e+n.endDelay,r}(t.normalizeTimingInput(i)),c=n.convertEffectInput(r),s=function(){c(e,u)};return s._update=function(t){return null!==(u=a(t))},s._clear=function(){c(e,null)},s._hasSameTarget=function(t){return e===t},s._target=e,s._totalDuration=a._totalDuration,s._id=o,s}}(e,r),function(t,n){function e(t,n,e){e.enumerable=!0,e.configurable=!0,Object.defineProperty(t,n,e)}function r(t){this._element=t,this._surrogateStyle=document.createElementNS("http://www.w3.org/1999/xhtml","div").style,this._style=t.style,this._length=0,this._isAnimatedProperty={},this._updateSvgTransformAttr=function(t,n){return!(!n.namespaceURI||-1==n.namespaceURI.indexOf("/svg"))&&(o in t||(t[o]=/Trident|MSIE|IEMobile|Edge|Android 4/i.test(t.navigator.userAgent)),t[o])}(window,t),this._savedTransformAttr=null;for(var n=0;n<this._style.length;n++){var e=this._style[n];this._surrogateStyle[e]=this._style[e]}this._updateIndices()}function i(t){if(!t._webAnimationsPatchedStyle){var n=new r(t);try{e(t,"style",{get:function(){return n}})}catch(n){t.style._set=function(n,e){t.style[n]=e},t.style._clear=function(n){t.style[n]=""}}t._webAnimationsPatchedStyle=t.style}}var o="_webAnimationsUpdateSvgTransformAttr",u={cssText:1,length:1,parentRule:1},a={getPropertyCSSValue:1,getPropertyPriority:1,getPropertyValue:1,item:1,removeProperty:1,setProperty:1},c={removeProperty:1,setProperty:1};for(var s in r.prototype={get cssText(){return this._surrogateStyle.cssText},set cssText(t){for(var n={},e=0;e<this._surrogateStyle.length;e++)n[this._surrogateStyle[e]]=!0;for(this._surrogateStyle.cssText=t,this._updateIndices(),e=0;e<this._surrogateStyle.length;e++)n[this._surrogateStyle[e]]=!0;for(var r in n)this._isAnimatedProperty[r]||this._style.setProperty(r,this._surrogateStyle.getPropertyValue(r))},get length(){return this._surrogateStyle.length},get parentRule(){return this._style.parentRule},_updateIndices:function(){for(;this._length<this._surrogateStyle.length;)Object.defineProperty(this,this._length,{configurable:!0,enumerable:!1,get:function(t){return function(){return this._surrogateStyle[t]}}(this._length)}),this._length++;for(;this._length>this._surrogateStyle.length;)this._length--,Object.defineProperty(this,this._length,{configurable:!0,enumerable:!1,value:void 0})},_set:function(n,e){this._style[n]=e,this._isAnimatedProperty[n]=!0,this._updateSvgTransformAttr&&"transform"==t.unprefixedPropertyName(n)&&(null==this._savedTransformAttr&&(this._savedTransformAttr=this._element.getAttribute("transform")),this._element.setAttribute("transform",t.transformToSvgMatrix(e)))},_clear:function(n){this._style[n]=this._surrogateStyle[n],this._updateSvgTransformAttr&&"transform"==t.unprefixedPropertyName(n)&&(this._savedTransformAttr?this._element.setAttribute("transform",this._savedTransformAttr):this._element.removeAttribute("transform"),this._savedTransformAttr=null),delete this._isAnimatedProperty[n]}},a)r.prototype[s]=function(t,n){return function(){var e=this._surrogateStyle[t].apply(this._surrogateStyle,arguments);return n&&(this._isAnimatedProperty[arguments[0]]||this._style[t].apply(this._style,arguments),this._updateIndices()),e}}(s,s in c);for(var f in document.documentElement.style)f in u||f in a||function(t){e(r.prototype,t,{get:function(){return this._surrogateStyle[t]},set:function(n){this._surrogateStyle[t]=n,this._updateIndices(),this._isAnimatedProperty[t]||(this._style[t]=n)}})}(f);t.apply=function(n,e,r){i(n),n.style._set(t.propertyName(e),r)},t.clear=function(n,e){n._webAnimationsPatchedStyle&&n.style._clear(t.propertyName(e))}}(r),function(t){window.Element.prototype.animate=function(n,e){var r="";return e&&e.id&&(r=e.id),t.timeline._play(t.KeyframeEffect(this,n,e,r))}}(r),function(t,n){t.Interpolation=function(t,n,e){return function(r){return e(function t(n,e,r){if("number"==typeof n&&"number"==typeof e)return n*(1-r)+e*r;if("boolean"==typeof n&&"boolean"==typeof e)return r<.5?n:e;if(n.length==e.length){for(var i=[],o=0;o<n.length;o++)i.push(t(n[o],e[o],r));return i}throw"Mismatched interpolation arguments "+n+":"+e}(t,n,r))}}}(r),function(t,n){var e=function(){function t(t,n){for(var e=[[0,0,0,0],[0,0,0,0],[0,0,0,0],[0,0,0,0]],r=0;r<4;r++)for(var i=0;i<4;i++)for(var o=0;o<4;o++)e[r][i]+=n[r][o]*t[o][i];return e}return function(n,e,r,i,o){for(var u=[[1,0,0,0],[0,1,0,0],[0,0,1,0],[0,0,0,1]],a=0;a<4;a++)u[a][3]=o[a];for(a=0;a<3;a++)for(var c=0;c<3;c++)u[3][a]+=n[c]*u[c][a];var s=i[0],f=i[1],l=i[2],h=i[3],p=[[1,0,0,0],[0,1,0,0],[0,0,1,0],[0,0,0,1]];p[0][0]=1-2*(f*f+l*l),p[0][1]=2*(s*f-l*h),p[0][2]=2*(s*l+f*h),p[1][0]=2*(s*f+l*h),p[1][1]=1-2*(s*s+l*l),p[1][2]=2*(f*l-s*h),p[2][0]=2*(s*l-f*h),p[2][1]=2*(f*l+s*h),p[2][2]=1-2*(s*s+f*f),u=t(u,p);var v=[[1,0,0,0],[0,1,0,0],[0,0,1,0],[0,0,0,1]];for(r[2]&&(v[2][1]=r[2],u=t(u,v)),r[1]&&(v[2][1]=0,v[2][0]=r[0],u=t(u,v)),r[0]&&(v[2][0]=0,v[1][0]=r[0],u=t(u,v)),a=0;a<3;a++)for(c=0;c<3;c++)u[a][c]*=e[a];return function(t){return 0==t[0][2]&&0==t[0][3]&&0==t[1][2]&&0==t[1][3]&&0==t[2][0]&&0==t[2][1]&&1==t[2][2]&&0==t[2][3]&&0==t[3][2]&&1==t[3][3]}(u)?[u[0][0],u[0][1],u[1][0],u[1][1],u[3][0],u[3][1]]:u[0].concat(u[1],u[2],u[3])}}();t.composeMatrix=e,t.quat=function(n,e,r){var i=t.dot(n,e),o=[];if(1===(i=function(t,n,e){return Math.max(Math.min(t,1),-1)}(i)))o=n;else for(var u=Math.acos(i),a=1*Math.sin(r*u)/Math.sqrt(1-i*i),c=0;c<4;c++)o.push(n[c]*(Math.cos(r*u)-i*a)+e[c]*a);return o}}(r),function(t,n,e){t.sequenceNumber=0;var r=function(t,n,e){this.target=t,this.currentTime=n,this.timelineTime=e,this.type="finish",this.bubbles=!1,this.cancelable=!1,this.currentTarget=t,this.defaultPrevented=!1,this.eventPhase=Event.AT_TARGET,this.timeStamp=Date.now()};n.Animation=function(n){this.id="",n&&n._id&&(this.id=n._id),this._sequenceNumber=t.sequenceNumber++,this._currentTime=0,this._startTime=null,this._paused=!1,this._playbackRate=1,this._inTimeline=!0,this._finishedFlag=!0,this.onfinish=null,this._finishHandlers=[],this._effect=n,this._inEffect=this._effect._update(0),this._idle=!0,this._currentTimePending=!1},n.Animation.prototype={_ensureAlive:function(){this._inEffect=this._effect._update(this.playbackRate<0&&0===this.currentTime?-1:this.currentTime),this._inTimeline||!this._inEffect&&this._finishedFlag||(this._inTimeline=!0,n.timeline._animations.push(this))},_tickCurrentTime:function(t,n){t!=this._currentTime&&(this._currentTime=t,this._isFinished&&!n&&(this._currentTime=this._playbackRate>0?this._totalDuration:0),this._ensureAlive())},get currentTime(){return this._idle||this._currentTimePending?null:this._currentTime},set currentTime(t){t=+t,isNaN(t)||(n.restart(),this._paused||null==this._startTime||(this._startTime=this._timeline.currentTime-t/this._playbackRate),this._currentTimePending=!1,this._currentTime!=t&&(this._idle&&(this._idle=!1,this._paused=!0),this._tickCurrentTime(t,!0),n.applyDirtiedAnimation(this)))},get startTime(){return this._startTime},set startTime(t){t=+t,isNaN(t)||this._paused||this._idle||(this._startTime=t,this._tickCurrentTime((this._timeline.currentTime-this._startTime)*this.playbackRate),n.applyDirtiedAnimation(this))},get playbackRate(){return this._playbackRate},set playbackRate(t){if(t!=this._playbackRate){var e=this.currentTime;this._playbackRate=t,this._startTime=null,"paused"!=this.playState&&"idle"!=this.playState&&(this._finishedFlag=!1,this._idle=!1,this._ensureAlive(),n.applyDirtiedAnimation(this)),null!=e&&(this.currentTime=e)}},get _isFinished(){return!this._idle&&(this._playbackRate>0&&this._currentTime>=this._totalDuration||this._playbackRate<0&&this._currentTime<=0)},get _totalDuration(){return this._effect._totalDuration},get playState(){return this._idle?"idle":null==this._startTime&&!this._paused&&0!=this.playbackRate||this._currentTimePending?"pending":this._paused?"paused":this._isFinished?"finished":"running"},_rewind:function(){if(this._playbackRate>=0)this._currentTime=0;else{if(!(this._totalDuration<1/0))throw new DOMException("Unable to rewind negative playback rate animation with infinite duration","InvalidStateError");this._currentTime=this._totalDuration}},play:function(){this._paused=!1,(this._isFinished||this._idle)&&(this._rewind(),this._startTime=null),this._finishedFlag=!1,this._idle=!1,this._ensureAlive(),n.applyDirtiedAnimation(this)},pause:function(){this._isFinished||this._paused||this._idle?this._idle&&(this._rewind(),this._idle=!1):this._currentTimePending=!0,this._startTime=null,this._paused=!0},finish:function(){this._idle||(this.currentTime=this._playbackRate>0?this._totalDuration:0,this._startTime=this._totalDuration-this.currentTime,this._currentTimePending=!1,n.applyDirtiedAnimation(this))},cancel:function(){this._inEffect&&(this._inEffect=!1,this._idle=!0,this._paused=!1,this._finishedFlag=!0,this._currentTime=0,this._startTime=null,this._effect._update(null),n.applyDirtiedAnimation(this))},reverse:function(){this.playbackRate*=-1,this.play()},addEventListener:function(t,n){"function"==typeof n&&"finish"==t&&this._finishHandlers.push(n)},removeEventListener:function(t,n){if("finish"==t){var e=this._finishHandlers.indexOf(n);e>=0&&this._finishHandlers.splice(e,1)}},_fireEvents:function(t){if(this._isFinished){if(!this._finishedFlag){var n=new r(this,this._currentTime,t),e=this._finishHandlers.concat(this.onfinish?[this.onfinish]:[]);setTimeout((function(){e.forEach((function(t){t.call(n.target,n)}))}),0),this._finishedFlag=!0}}else this._finishedFlag=!1},_tick:function(t,n){this._idle||this._paused||(null==this._startTime?n&&(this.startTime=t-this._currentTime/this.playbackRate):this._isFinished||this._tickCurrentTime((t-this._startTime)*this.playbackRate)),n&&(this._currentTimePending=!1,this._fireEvents(t))},get _needsTick(){return this.playState in{pending:1,running:1}||!this._finishedFlag},_targetAnimations:function(){var t=this._effect._target;return t._activeAnimations||(t._activeAnimations=[]),t._activeAnimations},_markTarget:function(){var t=this._targetAnimations();-1===t.indexOf(this)&&t.push(this)},_unmarkTarget:function(){var t=this._targetAnimations(),n=t.indexOf(this);-1!==n&&t.splice(n,1)}}}(e,r),function(t,n,e){function r(t){var n=s;s=[],t<d.currentTime&&(t=d.currentTime),d._animations.sort(i),d._animations=a(t,!0,d._animations)[0],n.forEach((function(n){n[1](t)})),u()}function i(t,n){return t._sequenceNumber-n._sequenceNumber}function o(){this._animations=[],this.currentTime=window.performance&&performance.now?performance.now():0}function u(){p.forEach((function(t){t()})),p.length=0}function a(t,e,r){v=!0,h=!1,n.timeline.currentTime=t,l=!1;var i=[],o=[],u=[],a=[];return r.forEach((function(n){n._tick(t,e),n._inEffect?(o.push(n._effect),n._markTarget()):(i.push(n._effect),n._unmarkTarget()),n._needsTick&&(l=!0);var r=n._inEffect||n._needsTick;n._inTimeline=r,r?u.push(n):a.push(n)})),p.push.apply(p,i),p.push.apply(p,o),l&&requestAnimationFrame((function(){})),v=!1,[u,a]}var c=window.requestAnimationFrame,s=[],f=0;window.requestAnimationFrame=function(t){var n=f++;return 0==s.length&&c(r),s.push([n,t]),n},window.cancelAnimationFrame=function(t){s.forEach((function(n){n[0]==t&&(n[1]=function(){})}))},o.prototype={_play:function(e){e._timing=t.normalizeTimingInput(e.timing);var r=new n.Animation(e);return r._idle=!1,r._timeline=this,this._animations.push(r),n.restart(),n.applyDirtiedAnimation(r),r}};var l=!1,h=!1;n.restart=function(){return l||(l=!0,requestAnimationFrame((function(){})),h=!0),h},n.applyDirtiedAnimation=function(t){if(!v){t._markTarget();var e=t._targetAnimations();e.sort(i),a(n.timeline.currentTime,!1,e.slice())[1].forEach((function(t){var n=d._animations.indexOf(t);-1!==n&&d._animations.splice(n,1)})),u()}};var p=[],v=!1,d=new o;n.timeline=d}(e,r),function(t,n){function e(t,n){for(var e=0,r=0;r<t.length;r++)e+=t[r]*n[r];return e}function r(t,n){return[t[0]*n[0]+t[4]*n[1]+t[8]*n[2]+t[12]*n[3],t[1]*n[0]+t[5]*n[1]+t[9]*n[2]+t[13]*n[3],t[2]*n[0]+t[6]*n[1]+t[10]*n[2]+t[14]*n[3],t[3]*n[0]+t[7]*n[1]+t[11]*n[2]+t[15]*n[3],t[0]*n[4]+t[4]*n[5]+t[8]*n[6]+t[12]*n[7],t[1]*n[4]+t[5]*n[5]+t[9]*n[6]+t[13]*n[7],t[2]*n[4]+t[6]*n[5]+t[10]*n[6]+t[14]*n[7],t[3]*n[4]+t[7]*n[5]+t[11]*n[6]+t[15]*n[7],t[0]*n[8]+t[4]*n[9]+t[8]*n[10]+t[12]*n[11],t[1]*n[8]+t[5]*n[9]+t[9]*n[10]+t[13]*n[11],t[2]*n[8]+t[6]*n[9]+t[10]*n[10]+t[14]*n[11],t[3]*n[8]+t[7]*n[9]+t[11]*n[10]+t[15]*n[11],t[0]*n[12]+t[4]*n[13]+t[8]*n[14]+t[12]*n[15],t[1]*n[12]+t[5]*n[13]+t[9]*n[14]+t[13]*n[15],t[2]*n[12]+t[6]*n[13]+t[10]*n[14]+t[14]*n[15],t[3]*n[12]+t[7]*n[13]+t[11]*n[14]+t[15]*n[15]]}function i(t){return((t.deg||0)/360+(t.grad||0)/400+(t.turn||0))*(2*Math.PI)+(t.rad||0)}function o(t){switch(t.t){case"rotatex":var n=i(t.d[0]);return[1,0,0,0,0,Math.cos(n),Math.sin(n),0,0,-Math.sin(n),Math.cos(n),0,0,0,0,1];case"rotatey":return n=i(t.d[0]),[Math.cos(n),0,-Math.sin(n),0,0,1,0,0,Math.sin(n),0,Math.cos(n),0,0,0,0,1];case"rotate":case"rotatez":return n=i(t.d[0]),[Math.cos(n),Math.sin(n),0,0,-Math.sin(n),Math.cos(n),0,0,0,0,1,0,0,0,0,1];case"rotate3d":var e=t.d[0],r=t.d[1],o=t.d[2],u=(n=i(t.d[3]),e*e+r*r+o*o);if(0===u)e=1,r=0,o=0;else if(1!==u){var a=Math.sqrt(u);e/=a,r/=a,o/=a}var c=Math.sin(n/2),s=c*Math.cos(n/2),f=c*c;return[1-2*(r*r+o*o)*f,2*(e*r*f+o*s),2*(e*o*f-r*s),0,2*(e*r*f-o*s),1-2*(e*e+o*o)*f,2*(r*o*f+e*s),0,2*(e*o*f+r*s),2*(r*o*f-e*s),1-2*(e*e+r*r)*f,0,0,0,0,1];case"scale":return[t.d[0],0,0,0,0,t.d[1],0,0,0,0,1,0,0,0,0,1];case"scalex":return[t.d[0],0,0,0,0,1,0,0,0,0,1,0,0,0,0,1];case"scaley":return[1,0,0,0,0,t.d[0],0,0,0,0,1,0,0,0,0,1];case"scalez":return[1,0,0,0,0,1,0,0,0,0,t.d[0],0,0,0,0,1];case"scale3d":return[t.d[0],0,0,0,0,t.d[1],0,0,0,0,t.d[2],0,0,0,0,1];case"skew":var l=i(t.d[0]),h=i(t.d[1]);return[1,Math.tan(h),0,0,Math.tan(l),1,0,0,0,0,1,0,0,0,0,1];case"skewx":return n=i(t.d[0]),[1,0,0,0,Math.tan(n),1,0,0,0,0,1,0,0,0,0,1];case"skewy":return n=i(t.d[0]),[1,Math.tan(n),0,0,0,1,0,0,0,0,1,0,0,0,0,1];case"translate":return[1,0,0,0,0,1,0,0,0,0,1,0,e=t.d[0].px||0,r=t.d[1].px||0,0,1];case"translatex":return[1,0,0,0,0,1,0,0,0,0,1,0,e=t.d[0].px||0,0,0,1];case"translatey":return[1,0,0,0,0,1,0,0,0,0,1,0,0,r=t.d[0].px||0,0,1];case"translatez":return[1,0,0,0,0,1,0,0,0,0,1,0,0,0,o=t.d[0].px||0,1];case"translate3d":return[1,0,0,0,0,1,0,0,0,0,1,0,e=t.d[0].px||0,r=t.d[1].px||0,o=t.d[2].px||0,1];case"perspective":return[1,0,0,0,0,1,0,0,0,0,1,t.d[0].px?-1/t.d[0].px:0,0,0,0,1];case"matrix":return[t.d[0],t.d[1],0,0,t.d[2],t.d[3],0,0,0,0,1,0,t.d[4],t.d[5],0,1];case"matrix3d":return t.d}}function u(t){return 0===t.length?[1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1]:t.map(o).reduce(r)}var a=function(){function t(t){return t[0][0]*t[1][1]*t[2][2]+t[1][0]*t[2][1]*t[0][2]+t[2][0]*t[0][1]*t[1][2]-t[0][2]*t[1][1]*t[2][0]-t[1][2]*t[2][1]*t[0][0]-t[2][2]*t[0][1]*t[1][0]}function n(t){var n=r(t);return[t[0]/n,t[1]/n,t[2]/n]}function r(t){return Math.sqrt(t[0]*t[0]+t[1]*t[1]+t[2]*t[2])}function i(t,n,e,r){return[e*t[0]+r*n[0],e*t[1]+r*n[1],e*t[2]+r*n[2]]}return function(o){var u=[o.slice(0,4),o.slice(4,8),o.slice(8,12),o.slice(12,16)];if(1!==u[3][3])return null;for(var a=[],c=0;c<4;c++)a.push(u[c].slice());for(c=0;c<3;c++)a[c][3]=0;if(0===t(a))return null;var s,f=[];u[0][3]||u[1][3]||u[2][3]?(f.push(u[0][3]),f.push(u[1][3]),f.push(u[2][3]),f.push(u[3][3]),s=function(t,n){for(var e=[],r=0;r<4;r++){for(var i=0,o=0;o<4;o++)i+=t[o]*n[o][r];e.push(i)}return e}(f,function(t){return[[t[0][0],t[1][0],t[2][0],t[3][0]],[t[0][1],t[1][1],t[2][1],t[3][1]],[t[0][2],t[1][2],t[2][2],t[3][2]],[t[0][3],t[1][3],t[2][3],t[3][3]]]}(function(n){for(var e=1/t(n),r=n[0][0],i=n[0][1],o=n[0][2],u=n[1][0],a=n[1][1],c=n[1][2],s=n[2][0],f=n[2][1],l=n[2][2],h=[[(a*l-c*f)*e,(o*f-i*l)*e,(i*c-o*a)*e,0],[(c*s-u*l)*e,(r*l-o*s)*e,(o*u-r*c)*e,0],[(u*f-a*s)*e,(s*i-r*f)*e,(r*a-i*u)*e,0]],p=[],v=0;v<3;v++){for(var d=0,g=0;g<3;g++)d+=n[3][g]*h[g][v];p.push(d)}return p.push(1),h.push(p),h}(a)))):s=[0,0,0,1];var l=u[3].slice(0,3),h=[];h.push(u[0].slice(0,3));var p=[];p.push(r(h[0])),h[0]=n(h[0]);var v=[];h.push(u[1].slice(0,3)),v.push(e(h[0],h[1])),h[1]=i(h[1],h[0],1,-v[0]),p.push(r(h[1])),h[1]=n(h[1]),v[0]/=p[1],h.push(u[2].slice(0,3)),v.push(e(h[0],h[2])),h[2]=i(h[2],h[0],1,-v[1]),v.push(e(h[1],h[2])),h[2]=i(h[2],h[1],1,-v[2]),p.push(r(h[2])),h[2]=n(h[2]),v[1]/=p[2],v[2]/=p[2];var d=function(t,n){return[t[1]*n[2]-t[2]*n[1],t[2]*n[0]-t[0]*n[2],t[0]*n[1]-t[1]*n[0]]}(h[1],h[2]);if(e(h[0],d)<0)for(c=0;c<3;c++)p[c]*=-1,h[c][0]*=-1,h[c][1]*=-1,h[c][2]*=-1;var g,y,m=h[0][0]+h[1][1]+h[2][2]+1;return m>1e-4?(g=.5/Math.sqrt(m),y=[(h[2][1]-h[1][2])*g,(h[0][2]-h[2][0])*g,(h[1][0]-h[0][1])*g,.25/g]):h[0][0]>h[1][1]&&h[0][0]>h[2][2]?y=[.25*(g=2*Math.sqrt(1+h[0][0]-h[1][1]-h[2][2])),(h[0][1]+h[1][0])/g,(h[0][2]+h[2][0])/g,(h[2][1]-h[1][2])/g]:h[1][1]>h[2][2]?(g=2*Math.sqrt(1+h[1][1]-h[0][0]-h[2][2]),y=[(h[0][1]+h[1][0])/g,.25*g,(h[1][2]+h[2][1])/g,(h[0][2]-h[2][0])/g]):(g=2*Math.sqrt(1+h[2][2]-h[0][0]-h[1][1]),y=[(h[0][2]+h[2][0])/g,(h[1][2]+h[2][1])/g,.25*g,(h[1][0]-h[0][1])/g]),[l,p,v,y,s]}}();t.dot=e,t.makeMatrixDecomposition=function(t){return[a(u(t))]},t.transformListToMatrix=u}(r),function(t){function n(t,n){var e=t.exec(n);if(e)return[e=t.ignoreCase?e[0].toLowerCase():e[0],n.substr(e.length)]}function e(t,n){var e=t(n=n.replace(/^\s*/,""));if(e)return[e[0],e[1].replace(/^\s*/,"")]}function r(t,n,e,r,i){for(var o=[],u=[],a=[],c=function(t,n){for(var e=t,r=n;e&&r;)e>r?e%=r:r%=e;return t*n/(e+r)}(r.length,i.length),s=0;s<c;s++){var f=n(r[s%r.length],i[s%i.length]);if(!f)return;o.push(f[0]),u.push(f[1]),a.push(f[2])}return[o,u,function(n){var r=n.map((function(t,n){return a[n](t)})).join(e);return t?t(r):r}]}t.consumeToken=n,t.consumeTrimmed=e,t.consumeRepeated=function(t,r,i){t=e.bind(null,t);for(var o=[];;){var u=t(i);if(!u)return[o,i];if(o.push(u[0]),!(u=n(r,i=u[1]))||""==u[1])return[o,i];i=u[1]}},t.consumeParenthesised=function(t,n){for(var e=0,r=0;r<n.length&&(!/\s|,/.test(n[r])||0!=e);r++)if("("==n[r])e++;else if(")"==n[r]&&(0==--e&&r++,e<=0))break;var i=t(n.substr(0,r));return null==i?void 0:[i,n.substr(r)]},t.ignore=function(t){return function(n){var e=t(n);return e&&(e[0]=void 0),e}},t.optional=function(t,n){return function(e){return t(e)||[n,e]}},t.consumeList=function(n,e){for(var r=[],i=0;i<n.length;i++){var o=t.consumeTrimmed(n[i],e);if(!o||""==o[0])return;void 0!==o[0]&&r.push(o[0]),e=o[1]}if(""==e)return r},t.mergeNestedRepeated=r.bind(null,null),t.mergeWrappedNestedRepeated=r,t.mergeList=function(t,n,e){for(var r=[],i=[],o=[],u=0,a=0;a<e.length;a++)if("function"==typeof e[a]){var c=e[a](t[u],n[u++]);r.push(c[0]),i.push(c[1]),o.push(c[2])}else!function(t){r.push(!1),i.push(!1),o.push((function(){return e[t]}))}(a);return[r,i,function(t){for(var n="",e=0;e<t.length;e++)n+=o[e](t[e]);return n}]}}(r),function(t){function n(n){var e={inset:!1,lengths:[],color:null},r=t.consumeRepeated((function(n){var r=t.consumeToken(/^inset/i,n);return r?(e.inset=!0,r):(r=t.consumeLengthOrPercent(n))?(e.lengths.push(r[0]),r):(r=t.consumeColor(n))?(e.color=r[0],r):void 0}),/^/,n);if(r&&r[0].length)return[e,r[1]]}var e=(function(n,e,r,i){function o(t){return{inset:t,color:[0,0,0,0],lengths:[{px:0},{px:0},{px:0},{px:0}]}}for(var u=[],a=[],c=0;c<r.length||c<i.length;c++){var s=r[c]||o(i[c].inset),f=i[c]||o(r[c].inset);u.push(s),a.push(f)}return t.mergeNestedRepeated(n,e,u,a)}).bind(null,(function(n,e){for(;n.lengths.length<Math.max(n.lengths.length,e.lengths.length);)n.lengths.push({px:0});for(;e.lengths.length<Math.max(n.lengths.length,e.lengths.length);)e.lengths.push({px:0});if(n.inset==e.inset&&!!n.color==!!e.color){for(var r,i=[],o=[[],0],u=[[],0],a=0;a<n.lengths.length;a++){var c=t.mergeDimensions(n.lengths[a],e.lengths[a],2==a);o[0].push(c[0]),u[0].push(c[1]),i.push(c[2])}if(n.color&&e.color){var s=t.mergeColors(n.color,e.color);o[1]=s[0],u[1]=s[1],r=s[2]}return[o,u,function(t){for(var e=n.inset?"inset ":" ",o=0;o<i.length;o++)e+=i[o](t[0][o])+" ";return r&&(e+=r(t[1])),e}]}}),", ");t.addPropertiesHandler((function(e){var r=t.consumeRepeated(n,/^,/,e);if(r&&""==r[1])return r[0]}),e,["box-shadow","text-shadow"])}(r),function(t,n){function e(t){return t.toFixed(3).replace(/0+$/,"").replace(/\.$/,"")}function r(t,n,e){return Math.min(n,Math.max(t,e))}function i(t){if(/^\s*[-+]?(\d*\.)?\d+\s*$/.test(t))return Number(t)}function o(t,n){return function(i,o){return[i,o,function(i){return e(r(t,n,i))}]}}function u(t){var n=t.trim().split(/\s*[\s,]\s*/);if(0!==n.length){for(var e=[],r=0;r<n.length;r++){var o=i(n[r]);if(void 0===o)return;e.push(o)}return e}}t.clamp=r,t.addPropertiesHandler(u,(function(t,n){if(t.length==n.length)return[t,n,function(t){return t.map(e).join(" ")}]}),["stroke-dasharray"]),t.addPropertiesHandler(i,o(0,1/0),["border-image-width","line-height"]),t.addPropertiesHandler(i,o(0,1),["opacity","shape-image-threshold"]),t.addPropertiesHandler(i,(function(t,n){if(0!=t)return o(0,1/0)(t,n)}),["flex-grow","flex-shrink"]),t.addPropertiesHandler(i,(function(t,n){return[t,n,function(t){return Math.round(r(1,1/0,t))}]}),["orphans","widows"]),t.addPropertiesHandler(i,(function(t,n){return[t,n,Math.round]}),["z-index"]),t.parseNumber=i,t.parseNumberList=u,t.mergeNumbers=function(t,n){return[t,n,e]},t.numberToString=e}(r),function(t,n){t.addPropertiesHandler(String,(function(t,n){if("visible"==t||"visible"==n)return[0,1,function(e){return e<=0?t:e>=1?n:"visible"}]}),["visibility"])}(r),function(t,n){function e(t){t=t.trim(),o.fillStyle="#000",o.fillStyle=t;var n=o.fillStyle;if(o.fillStyle="#fff",o.fillStyle=t,n==o.fillStyle){o.fillRect(0,0,1,1);var e=o.getImageData(0,0,1,1).data;o.clearRect(0,0,1,1);var r=e[3]/255;return[e[0]*r,e[1]*r,e[2]*r,r]}}function r(n,e){return[n,e,function(n){function e(t){return Math.max(0,Math.min(255,t))}if(n[3])for(var r=0;r<3;r++)n[r]=Math.round(e(n[r]/n[3]));return n[3]=t.numberToString(t.clamp(0,1,n[3])),"rgba("+n.join(",")+")"}]}var i=document.createElementNS("http://www.w3.org/1999/xhtml","canvas");i.width=i.height=1;var o=i.getContext("2d");t.addPropertiesHandler(e,r,["background-color","border-bottom-color","border-left-color","border-right-color","border-top-color","color","fill","flood-color","lighting-color","outline-color","stop-color","stroke","text-decoration-color"]),t.consumeColor=t.consumeParenthesised.bind(null,e),t.mergeColors=r}(r),function(t,n){function e(t){function n(){var n=u.exec(t);o=n?n[0]:void 0}function e(){if("("!==o)return function(){var t=Number(o);return n(),t}();n();var t=i();return")"!==o?NaN:(n(),t)}function r(){for(var t=e();"*"===o||"/"===o;){var r=o;n();var i=e();"*"===r?t*=i:t/=i}return t}function i(){for(var t=r();"+"===o||"-"===o;){var e=o;n();var i=r();"+"===e?t+=i:t-=i}return t}var o,u=/([\+\-\w\.]+|[\(\)\*\/])/g;return n(),i()}function r(t,n){if("0"==(n=n.trim().toLowerCase())&&"px".search(t)>=0)return{px:0};if(/^[^(]*$|^calc/.test(n)){n=n.replace(/calc\(/g,"(");var r={};n=n.replace(t,(function(t){return r[t]=null,"U"+t}));for(var i="U("+t.source+")",o=n.replace(/[-+]?(\d*\.)?\d+([Ee][-+]?\d+)?/g,"N").replace(new RegExp("N"+i,"g"),"D").replace(/\s[+-]\s/g,"O").replace(/\s/g,""),u=[/N\*(D)/g,/(N|D)[*\/]N/g,/(N|D)O\1/g,/\((N|D)\)/g],a=0;a<u.length;)u[a].test(o)?(o=o.replace(u[a],"$1"),a=0):a++;if("D"==o){for(var c in r){var s=e(n.replace(new RegExp("U"+c,"g"),"").replace(new RegExp(i,"g"),"*0"));if(!isFinite(s))return;r[c]=s}return r}}}function i(t,n){return o(t,n,!0)}function o(n,e,r){var i,o=[];for(i in n)o.push(i);for(i in e)o.indexOf(i)<0&&o.push(i);return n=o.map((function(t){return n[t]||0})),e=o.map((function(t){return e[t]||0})),[n,e,function(n){var e=n.map((function(e,i){return 1==n.length&&r&&(e=Math.max(e,0)),t.numberToString(e)+o[i]})).join(" + ");return n.length>1?"calc("+e+")":e}]}var u="px|em|ex|ch|rem|vw|vh|vmin|vmax|cm|mm|in|pt|pc",a=r.bind(null,new RegExp(u,"g")),c=r.bind(null,new RegExp(u+"|%","g")),s=r.bind(null,/deg|rad|grad|turn/g);t.parseLength=a,t.parseLengthOrPercent=c,t.consumeLengthOrPercent=t.consumeParenthesised.bind(null,c),t.parseAngle=s,t.mergeDimensions=o;var f=t.consumeParenthesised.bind(null,a),l=t.consumeRepeated.bind(void 0,f,/^/),h=t.consumeRepeated.bind(void 0,l,/^,/);t.consumeSizePairList=h;var p=t.mergeNestedRepeated.bind(void 0,i," "),v=t.mergeNestedRepeated.bind(void 0,p,",");t.mergeNonNegativeSizePair=p,t.addPropertiesHandler((function(t){var n=h(t);if(n&&""==n[1])return n[0]}),v,["background-size"]),t.addPropertiesHandler(c,i,["border-bottom-width","border-image-width","border-left-width","border-right-width","border-top-width","flex-basis","font-size","height","line-height","max-height","max-width","outline-width","width"]),t.addPropertiesHandler(c,o,["border-bottom-left-radius","border-bottom-right-radius","border-top-left-radius","border-top-right-radius","bottom","left","letter-spacing","margin-bottom","margin-left","margin-right","margin-top","min-height","min-width","outline-offset","padding-bottom","padding-left","padding-right","padding-top","perspective","right","shape-margin","stroke-dashoffset","text-indent","top","vertical-align","word-spacing"])}(r),function(t,n){function e(n){return t.consumeLengthOrPercent(n)||t.consumeToken(/^auto/,n)}function r(n){var r=t.consumeList([t.ignore(t.consumeToken.bind(null,/^rect/)),t.ignore(t.consumeToken.bind(null,/^\(/)),t.consumeRepeated.bind(null,e,/^,/),t.ignore(t.consumeToken.bind(null,/^\)/))],n);if(r&&4==r[0].length)return r[0]}var i=t.mergeWrappedNestedRepeated.bind(null,(function(t){return"rect("+t+")"}),(function(n,e){return"auto"==n||"auto"==e?[!0,!1,function(r){var i=r?n:e;if("auto"==i)return"auto";var o=t.mergeDimensions(i,i);return o[2](o[0])}]:t.mergeDimensions(n,e)}),", ");t.parseBox=r,t.mergeBoxes=i,t.addPropertiesHandler(r,i,["clip"])}(r),function(t,n){function e(t){return function(n){var e=0;return t.map((function(t){return t===s?n[e++]:t}))}}function r(t){return t}function i(n){if("none"==(n=n.toLowerCase().trim()))return[];for(var e,r=/\s*(\w+)\(([^)]*)\)/g,i=[],o=0;e=r.exec(n);){if(e.index!=o)return;o=e.index+e[0].length;var u=e[1],a=h[u];if(!a)return;var c=e[2].split(","),s=a[0];if(s.length<c.length)return;for(var p=[],v=0;v<s.length;v++){var d,g=c[v],y=s[v];if(void 0===(d=g?{A:function(n){return"0"==n.trim()?l:t.parseAngle(n)},N:t.parseNumber,T:t.parseLengthOrPercent,L:t.parseLength}[y.toUpperCase()](g):{a:l,n:p[0],t:f}[y]))return;p.push(d)}if(i.push({t:u,d:p}),r.lastIndex==n.length)return i}}function o(t){return t.toFixed(6).replace(".000000","")}function u(n,e){if(n.decompositionPair!==e){n.decompositionPair=e;var r=t.makeMatrixDecomposition(n)}if(e.decompositionPair!==n){e.decompositionPair=n;var i=t.makeMatrixDecomposition(e)}return null==r[0]||null==i[0]?[[!1],[!0],function(t){return t?e[0].d:n[0].d}]:(r[0].push(0),i[0].push(1),[r,i,function(n){var e=t.quat(r[0][3],i[0][3],n[5]);return t.composeMatrix(n[0],n[1],n[2],e,n[4]).map(o).join(",")}])}function a(t){return t.replace(/[xy]/,"")}function c(t){return t.replace(/(x|y|z|3d)?$/,"3d")}var s=null,f={px:0},l={deg:0},h={matrix:["NNNNNN",[s,s,0,0,s,s,0,0,0,0,1,0,s,s,0,1],r],matrix3d:["NNNNNNNNNNNNNNNN",r],rotate:["A"],rotatex:["A"],rotatey:["A"],rotatez:["A"],rotate3d:["NNNA"],perspective:["L"],scale:["Nn",e([s,s,1]),r],scalex:["N",e([s,1,1]),e([s,1])],scaley:["N",e([1,s,1]),e([1,s])],scalez:["N",e([1,1,s])],scale3d:["NNN",r],skew:["Aa",null,r],skewx:["A",null,e([s,l])],skewy:["A",null,e([l,s])],translate:["Tt",e([s,s,f]),r],translatex:["T",e([s,f,f]),e([s,f])],translatey:["T",e([f,s,f]),e([f,s])],translatez:["L",e([f,f,s])],translate3d:["TTL",r]};t.addPropertiesHandler(i,(function(n,e){var r=t.makeMatrixDecomposition&&!0,i=!1;if(!n.length||!e.length){n.length||(i=!0,n=e,e=[]);for(var o=0;o<n.length;o++){var s=n[o].d,f="scale"==(g=n[o].t).substr(0,5)?1:0;e.push({t:g,d:s.map((function(t){if("number"==typeof t)return f;var n={};for(var e in t)n[e]=f;return n}))})}}var l=function(t,n){return"perspective"==t&&"perspective"==n||("matrix"==t||"matrix3d"==t)&&("matrix"==n||"matrix3d"==n)},p=[],v=[],d=[];if(n.length!=e.length){if(!r)return;p=[(w=u(n,e))[0]],v=[w[1]],d=[["matrix",[w[2]]]]}else for(o=0;o<n.length;o++){var g,y=n[o].t,m=e[o].t,b=n[o].d,_=e[o].d,x=h[y],S=h[m];if(l(y,m)){if(!r)return;var w=u([n[o]],[e[o]]);p.push(w[0]),v.push(w[1]),d.push(["matrix",[w[2]]])}else{if(y==m)g=y;else if(x[2]&&S[2]&&a(y)==a(m))g=a(y),b=x[2](b),_=S[2](_);else{if(!x[1]||!S[1]||c(y)!=c(m)){if(!r)return;p=[(w=u(n,e))[0]],v=[w[1]],d=[["matrix",[w[2]]]];break}g=c(y),b=x[1](b),_=S[1](_)}for(var k=[],T=[],E=[],P=0;P<b.length;P++)w=("number"==typeof b[P]?t.mergeNumbers:t.mergeDimensions)(b[P],_[P]),k[P]=w[0],T[P]=w[1],E.push(w[2]);p.push(k),v.push(T),d.push([g,E])}}if(i){var O=p;p=v,v=O}return[p,v,function(t){return t.map((function(t,n){var e=t.map((function(t,e){return d[n][1][e](t)})).join(",");return"matrix"==d[n][0]&&16==e.split(",").length&&(d[n][0]="matrix3d"),d[n][0]+"("+e+")"})).join(" ")}]}),["transform"]),t.transformToSvgMatrix=function(n){var e=t.transformListToMatrix(i(n));return"matrix("+o(e[0])+" "+o(e[1])+" "+o(e[4])+" "+o(e[5])+" "+o(e[12])+" "+o(e[13])+")"}}(r),function(t){function n(n){return n=100*Math.round(n/100),400===(n=t.clamp(100,900,n))?"normal":700===n?"bold":String(n)}t.addPropertiesHandler((function(t){var n=Number(t);if(!(isNaN(n)||n<100||n>900||n%100!=0))return n}),(function(t,e){return[t,e,n]}),["font-weight"])}(r),function(t){function n(t){var n={};for(var e in t)n[e]=-t[e];return n}function e(n){return t.consumeToken(/^(left|center|right|top|bottom)\b/i,n)||t.consumeLengthOrPercent(n)}function r(n,r){var i=t.consumeRepeated(e,/^/,r);if(i&&""==i[1]){var u=i[0];if(u[0]=u[0]||"center",u[1]=u[1]||"center",3==n&&(u[2]=u[2]||{px:0}),u.length==n){if(/top|bottom/.test(u[0])||/left|right/.test(u[1])){var a=u[0];u[0]=u[1],u[1]=a}if(/left|right|center|Object/.test(u[0])&&/top|bottom|center|Object/.test(u[1]))return u.map((function(t){return"object"==typeof t?t:o[t]}))}}}function i(r){var i=t.consumeRepeated(e,/^/,r);if(i){for(var u=i[0],a=[{"%":50},{"%":50}],c=0,s=!1,f=0;f<u.length;f++){var l=u[f];"string"==typeof l?(s=/bottom|right/.test(l),a[c={left:0,right:0,center:c,top:1,bottom:1}[l]]=o[l],"center"==l&&c++):(s&&((l=n(l))["%"]=(l["%"]||0)+100),a[c]=l,c++,s=!1)}return[a,i[1]]}}var o={left:{"%":0},center:{"%":50},right:{"%":100},top:{"%":0},bottom:{"%":100}},u=t.mergeNestedRepeated.bind(null,t.mergeDimensions," ");t.addPropertiesHandler(r.bind(null,3),u,["transform-origin"]),t.addPropertiesHandler(r.bind(null,2),u,["perspective-origin"]),t.consumePosition=i,t.mergeOffsetList=u;var a=t.mergeNestedRepeated.bind(null,u,", ");t.addPropertiesHandler((function(n){var e=t.consumeRepeated(i,/^,/,n);if(e&&""==e[1])return e[0]}),a,["background-position","object-position"])}(r),function(t){var n=t.consumeParenthesised.bind(null,t.parseLengthOrPercent),e=t.consumeRepeated.bind(void 0,n,/^/),r=t.mergeNestedRepeated.bind(void 0,t.mergeDimensions," "),i=t.mergeNestedRepeated.bind(void 0,r,",");t.addPropertiesHandler((function(r){var i=t.consumeToken(/^circle/,r);if(i&&i[0])return["circle"].concat(t.consumeList([t.ignore(t.consumeToken.bind(void 0,/^\(/)),n,t.ignore(t.consumeToken.bind(void 0,/^at/)),t.consumePosition,t.ignore(t.consumeToken.bind(void 0,/^\)/))],i[1]));var o=t.consumeToken(/^ellipse/,r);if(o&&o[0])return["ellipse"].concat(t.consumeList([t.ignore(t.consumeToken.bind(void 0,/^\(/)),e,t.ignore(t.consumeToken.bind(void 0,/^at/)),t.consumePosition,t.ignore(t.consumeToken.bind(void 0,/^\)/))],o[1]));var u=t.consumeToken(/^polygon/,r);return u&&u[0]?["polygon"].concat(t.consumeList([t.ignore(t.consumeToken.bind(void 0,/^\(/)),t.optional(t.consumeToken.bind(void 0,/^nonzero\s*,|^evenodd\s*,/),"nonzero,"),t.consumeSizePairList,t.ignore(t.consumeToken.bind(void 0,/^\)/))],u[1])):void 0}),(function(n,e){if(n[0]===e[0])return"circle"==n[0]?t.mergeList(n.slice(1),e.slice(1),["circle(",t.mergeDimensions," at ",t.mergeOffsetList,")"]):"ellipse"==n[0]?t.mergeList(n.slice(1),e.slice(1),["ellipse(",t.mergeNonNegativeSizePair," at ",t.mergeOffsetList,")"]):"polygon"==n[0]&&n[1]==e[1]?t.mergeList(n.slice(2),e.slice(2),["polygon(",n[1],i,")"]):void 0}),["shape-outside"])}(r),function(t,n){function e(t,n){n.concat([t]).forEach((function(n){n in document.documentElement.style&&(r[t]=n),i[n]=t}))}var r={},i={};e("transform",["webkitTransform","msTransform"]),e("transformOrigin",["webkitTransformOrigin"]),e("perspective",["webkitPerspective"]),e("perspectiveOrigin",["webkitPerspectiveOrigin"]),t.propertyName=function(t){return r[t]||t},t.unprefixedPropertyName=function(t){return i[t]||t}}(r)}(),function(){if(void 0===document.createElement("div").animate([]).oncancel){if(window.performance&&performance.now)var t=function(){return performance.now()};else t=function(){return Date.now()};var n=function(t,n,e){this.target=t,this.currentTime=n,this.timelineTime=e,this.type="cancel",this.bubbles=!1,this.cancelable=!1,this.currentTarget=t,this.defaultPrevented=!1,this.eventPhase=Event.AT_TARGET,this.timeStamp=Date.now()},e=window.Element.prototype.animate;window.Element.prototype.animate=function(r,i){var o=e.call(this,r,i);o._cancelHandlers=[],o.oncancel=null;var u=o.cancel;o.cancel=function(){u.call(this);var e=new n(this,null,t()),r=this._cancelHandlers.concat(this.oncancel?[this.oncancel]:[]);setTimeout((function(){r.forEach((function(t){t.call(e.target,e)}))}),0)};var a=o.addEventListener;o.addEventListener=function(t,n){"function"==typeof n&&"cancel"==t?this._cancelHandlers.push(n):a.call(this,t,n)};var c=o.removeEventListener;return o.removeEventListener=function(t,n){if("cancel"==t){var e=this._cancelHandlers.indexOf(n);e>=0&&this._cancelHandlers.splice(e,1)}else c.call(this,t,n)},o}}}(),function(t){var n=document.documentElement,e=null,r=!1;try{var i="0"==getComputedStyle(n).getPropertyValue("opacity")?"1":"0";(e=n.animate({opacity:[i,i]},{duration:1})).currentTime=0,r=getComputedStyle(n).getPropertyValue("opacity")==i}catch(t){}finally{e&&e.cancel()}if(!r){var o=window.Element.prototype.animate;window.Element.prototype.animate=function(n,e){return window.Symbol&&Symbol.iterator&&Array.prototype.from&&n[Symbol.iterator]&&(n=Array.from(n)),Array.isArray(n)||null===n||(n=t.convertToArrayForm(n)),o.call(this,n,e)}}}(e)},HUzP:function(t,n,e){var r=e("7zcn"),i=e("7Q9t");r(r.S+r.F*(Number.parseFloat!=i),"Number",{parseFloat:i})},HjOb:function(t,n,e){var r=e("7zcn");r(r.S,"Math",{fround:e("Nvwc")})},Hz4H:function(t,n,e){"use strict";var r=e("7zcn"),i=e("ecHh"),o=e("eNNV");r(r.P+r.F*e("oSRv")((function(){return null!==new Date(NaN).toJSON()||1!==Date.prototype.toJSON.call({toISOString:function(){return 1}})})),"Date",{toJSON:function(t){var n=i(this),e=o(n);return"number"!=typeof e||isFinite(e)?n.toISOString():null}})},"I+Io":function(t,n,e){var r=e("2VH3")("iterator"),i=!1;try{var o=[7][r]();o.return=function(){i=!0},Array.from(o,(function(){throw 2}))}catch(u){}t.exports=function(t,n){if(!n&&!i)return!1;var e=!1;try{var o=[7],a=o[r]();a.next=function(){return{done:e=!0}},o[r]=function(){return a},t(o)}catch(u){}return e}},IamG:function(t,n,e){var r=e("7zcn"),i=Math.atanh;r(r.S+r.F*!(i&&1/i(-0)<0),"Math",{atanh:function(t){return 0==(t=+t)?t:Math.log((1+t)/(1-t))/2}})},IruA:function(t,n,e){"use strict";var r=e("A9jR"),i=e("BUxN").getWeak,o=e("jH7Z"),u=e("GU4h"),a=e("+u7R"),c=e("PQhw"),s=e("QY3j"),f=e("JaYb"),l=e("4O9r"),h=s(5),p=s(6),v=0,d=function(t){return t._l||(t._l=new g)},g=function(){this.a=[]},y=function(t,n){return h(t.a,(function(t){return t[0]===n}))};g.prototype={get:function(t){var n=y(this,t);if(n)return n[1]},has:function(t){return!!y(this,t)},set:function(t,n){var e=y(this,t);e?e[1]=n:this.a.push([t,n])},delete:function(t){var n=p(this.a,(function(n){return n[0]===t}));return~n&&this.a.splice(n,1),!!~n}},t.exports={getConstructor:function(t,n,e,o){var s=t((function(t,r){a(t,s,n,"_i"),t._t=n,t._i=v++,t._l=void 0,null!=r&&c(r,e,t[o],t)}));return r(s.prototype,{delete:function(t){if(!u(t))return!1;var e=i(t);return!0===e?d(l(this,n)).delete(t):e&&f(e,this._i)&&delete e[this._i]},has:function(t){if(!u(t))return!1;var e=i(t);return!0===e?d(l(this,n)).has(t):e&&f(e,this._i)}}),s},def:function(t,n,e){var r=i(o(n),!0);return!0===r?d(t).set(n,e):r[t._i]=e,t},ufstore:d}},JMyn:function(t,n,e){var r=e("tzX3");t.exports=function(t,n){if("number"!=typeof t&&"Number"!=r(t))throw TypeError(n);return+t}},JX8c:function(t,n){t.exports=Math.log1p||function(t){return(t=+t)>-1e-8&&t<1e-8?t-t*t/2:Math.log(1+t)}},JaYb:function(t,n){var e={}.hasOwnProperty;t.exports=function(t,n){return e.call(t,n)}},KGZQ:function(t,n,e){var r=e("CwQO"),i=e("x0t8").f,o={}.toString,u="object"==typeof window&&window&&Object.getOwnPropertyNames?Object.getOwnPropertyNames(window):[];t.exports.f=function(t){return u&&"[object Window]"==o.call(t)?function(t){try{return i(t)}catch(n){return u.slice()}}(t):i(r(t))}},KI7T:function(t,n,e){"use strict";var r=e("7zcn"),i=e("QY3j")(5),o=!0;"find"in[]&&Array(1).find((function(){o=!1})),r(r.P+r.F*o,"Array",{find:function(t){return i(this,t,arguments.length>1?arguments[1]:void 0)}}),e("lrpY")("find")},KYgR:function(t,n,e){var r=e("7zcn"),i=e("7Zmh");i&&r(r.S,"Reflect",{setPrototypeOf:function(t,n){i.check(t,n);try{return i.set(t,n),!0}catch(e){return!1}}})},KYm4:function(t,n,e){var r=e("GU4h"),i=e("BUxN").onFreeze;e("VkLe")("freeze",(function(t){return function(n){return t&&r(n)?t(i(n)):n}}))},L5qU:function(t,n,e){"use strict";e("kDPR")("strike",(function(t){return function(){return t(this,"strike","","")}}))},LS0A:function(t,n){t.exports=function(t,n){return{value:n,done:!!t}}},LnO1:function(t,n,e){for(var r=e("3eMz"),i=e("iZYR"),o=e("44Vk"),u=e("DozX"),a=e("uv4k"),c=e("ndOI"),s=e("2VH3"),f=s("iterator"),l=s("toStringTag"),h=c.Array,p={CSSRuleList:!0,CSSStyleDeclaration:!1,CSSValueList:!1,ClientRectList:!1,DOMRectList:!1,DOMStringList:!1,DOMTokenList:!0,DataTransferItemList:!1,FileList:!1,HTMLAllCollection:!1,HTMLCollection:!1,HTMLFormElement:!1,HTMLSelectElement:!1,MediaList:!0,MimeTypeArray:!1,NamedNodeMap:!1,NodeList:!0,PaintRequestList:!1,Plugin:!1,PluginArray:!1,SVGLengthList:!1,SVGNumberList:!1,SVGPathSegList:!1,SVGPointList:!1,SVGStringList:!1,SVGTransformList:!1,SourceBufferList:!1,StyleSheetList:!0,TextTrackCueList:!1,TextTrackList:!1,TouchList:!1},v=i(p),d=0;d<v.length;d++){var g,y=v[d],m=p[y],b=u[y],_=b&&b.prototype;if(_&&(_[f]||a(_,f,h),_[l]||a(_,l,y),c[y]=h,m))for(g in r)_[g]||o(_,g,r[g],!0)}},MaW5:function(t,n,e){var r=e("7zcn"),i=e("7Q9t");r(r.G+r.F*(parseFloat!=i),{parseFloat:i})},McYH:function(t,n,e){var r=e("GU4h"),i=e("BUxN").onFreeze;e("VkLe")("preventExtensions",(function(t){return function(n){return t&&r(n)?t(i(n)):n}}))},"Mpa+":function(t,n,e){"use strict";var r=e("7zcn"),i=e("CwQO"),o=e("nmGk"),u=e("u2Rj"),a=[].lastIndexOf,c=!!a&&1/[1].lastIndexOf(1,-0)<0;r(r.P+r.F*(c||!e("TLBd")(a)),"Array",{lastIndexOf:function(t){if(c)return a.apply(this,arguments)||0;var n=i(this),e=u(n.length),r=e-1;for(arguments.length>1&&(r=Math.min(r,o(arguments[1]))),r<0&&(r=e+r);r>=0;r--)if(r in n&&n[r]===t)return r||0;return-1}})},N8b7:function(t,n,e){var r=e("7zcn"),i=Math.exp;r(r.S,"Math",{cosh:function(t){return(i(t=+t)+i(-t))/2}})},NCol:function(t,n,e){"use strict";var r=e("7zcn"),i=e("jDWM");r(r.P+r.F*!e("TLBd")([].reduce,!0),"Array",{reduce:function(t){return i(this,t,arguments.length,arguments[1],!1)}})},NGBq:function(t,n,e){var r=e("XFAF"),i=e("DozX"),o=i["__core-js_shared__"]||(i["__core-js_shared__"]={});(t.exports=function(t,n){return o[t]||(o[t]=void 0!==n?n:{})})("versions",[]).push({version:r.version,mode:e("dC+H")?"pure":"global",copyright:"\xa9 2019 Denis Pushkarev (zloirock.ru)"})},NlgC:function(t,n,e){"use strict";var r=e("jH7Z"),i=e("u2Rj"),o=e("qZTf"),u=e("dCtm");e("/pmH")("match",1,(function(t,n,e,a){return[function(e){var r=t(this),i=null==e?void 0:e[n];return void 0!==i?i.call(e,r):new RegExp(e)[n](String(r))},function(t){var n=a(e,t,this);if(n.done)return n.value;var c=r(t),s=String(this);if(!c.global)return u(c,s);var f=c.unicode;c.lastIndex=0;for(var l,h=[],p=0;null!==(l=u(c,s));){var v=String(l[0]);h[p]=v,""===v&&(c.lastIndex=o(s,i(c.lastIndex),f)),p++}return 0===p?null:h}]}))},NviL:function(t,n,e){var r=e("DozX"),i=e("XFAF"),o=e("dC+H"),u=e("tqyf"),a=e("bw3G").f;t.exports=function(t){var n=i.Symbol||(i.Symbol=o?{}:r.Symbol||{});"_"==t.charAt(0)||t in n||a(n,t,{value:u.f(t)})}},Nvwc:function(t,n,e){var r=e("WMlK"),i=Math.pow,o=i(2,-52),u=i(2,-23),a=i(2,127)*(2-u),c=i(2,-126);t.exports=Math.fround||function(t){var n,e,i=Math.abs(t),s=r(t);return i<c?s*(i/c/u+1/o-1/o)*c*u:(e=(n=(1+u/o)*i)-(n-i))>a||e!=e?s*(1/0):s*e}},O9AP:function(t,n,e){"use strict";var r=e("vsji"),i=e("rY2j"),o=e("DoU+"),u={};e("uv4k")(u,e("2VH3")("iterator"),(function(){return this})),t.exports=function(t,n,e){t.prototype=r(u,{next:i(1,e)}),o(t,n+" Iterator")}},OC0y:function(t,n){t.exports="\t\n\v\f\r \xa0\u1680\u180e\u2000\u2001\u2002\u2003\u2004\u2005\u2006\u2007\u2008\u2009\u200a\u202f\u205f\u3000\u2028\u2029\ufeff"},OeBI:function(t,n,e){var r=e("7zcn"),i=e("09V9"),o=e("jH7Z"),u=(e("DozX").Reflect||{}).apply,a=Function.apply;r(r.S+r.F*!e("oSRv")((function(){u((function(){}))})),"Reflect",{apply:function(t,n,e){var r=i(t),c=o(e);return u?u(r,n,c):a.call(r,n,c)}})},P06y:function(t,n,e){var r=e("CwQO"),i=e("QCwN").f;e("VkLe")("getOwnPropertyDescriptor",(function(){return function(t,n){return i(r(t),n)}}))},"PE/z":function(t,n,e){"use strict";var r=e("jH7Z");t.exports=function(){var t=r(this),n="";return t.global&&(n+="g"),t.ignoreCase&&(n+="i"),t.multiline&&(n+="m"),t.unicode&&(n+="u"),t.sticky&&(n+="y"),n}},PN9k:function(t,n,e){var r=e("7zcn");r(r.S+r.F,"Object",{assign:e("qyOa")})},PQhw:function(t,n,e){var r=e("EkxP"),i=e("Sp6X"),o=e("w+o7"),u=e("jH7Z"),a=e("u2Rj"),c=e("/W1+"),s={},f={};(n=t.exports=function(t,n,e,l,h){var p,v,d,g,y=h?function(){return t}:c(t),m=r(e,l,n?2:1),b=0;if("function"!=typeof y)throw TypeError(t+" is not iterable!");if(o(y)){for(p=a(t.length);p>b;b++)if((g=n?m(u(v=t[b])[0],v[1]):m(t[b]))===s||g===f)return g}else for(d=y.call(t);!(v=d.next()).done;)if((g=i(d,m,v.value,n))===s||g===f)return g}).BREAK=s,n.RETURN=f},PRJl:function(t,n,e){"use strict";var r=e("ZPxW"),i=e("4O9r");t.exports=e("XfYV")("Map",(function(t){return function(){return t(this,arguments.length>0?arguments[0]:void 0)}}),{get:function(t){var n=r.getEntry(i(this,"Map"),t);return n&&n.v},set:function(t,n){return r.def(i(this,"Map"),0===t?0:t,n)}},r,!0)},PYUJ:function(t,n,e){t.exports=!e("oSRv")((function(){return 7!=Object.defineProperty({},"a",{get:function(){return 7}}).a}))},Ph8W:function(t,n,e){"use strict";var r=e("7zcn"),i=e("r2uX")(!1),o=[].indexOf,u=!!o&&1/[1].indexOf(1,-0)<0;r(r.P+r.F*(u||!e("TLBd")(o)),"Array",{indexOf:function(t){return u?o.apply(this,arguments)||0:i(this,t,arguments[1])}})},QCwN:function(t,n,e){var r=e("0On3"),i=e("rY2j"),o=e("CwQO"),u=e("eNNV"),a=e("JaYb"),c=e("zTCs"),s=Object.getOwnPropertyDescriptor;n.f=e("PYUJ")?s:function(t,n){if(t=o(t),n=u(n,!0),c)try{return s(t,n)}catch(e){}if(a(t,n))return i(!r.f.call(t,n),t[n])}},QY3j:function(t,n,e){var r=e("EkxP"),i=e("rsBL"),o=e("ecHh"),u=e("u2Rj"),a=e("ao8i");t.exports=function(t,n){var e=1==t,c=2==t,s=3==t,f=4==t,l=6==t,h=5==t||l,p=n||a;return function(n,a,v){for(var d,g,y=o(n),m=i(y),b=r(a,v,3),_=u(m.length),x=0,S=e?p(n,_):c?p(n,0):void 0;_>x;x++)if((h||x in m)&&(g=b(d=m[x],x,y),t))if(e)S[x]=g;else if(g)switch(t){case 3:return!0;case 5:return d;case 6:return x;case 2:S.push(d)}else if(f)return!1;return l?-1:s||f?f:S}}},"Qg+1":function(t,n,e){var r=e("GU4h");e("VkLe")("isSealed",(function(t){return function(n){return!r(n)||!!t&&t(n)}}))},RQ5d:function(t,n,e){"use strict";var r=e("ecHh"),i=e("rbMR"),o=e("u2Rj");t.exports=[].copyWithin||function(t,n){var e=r(this),u=o(e.length),a=i(t,u),c=i(n,u),s=arguments.length>2?arguments[2]:void 0,f=Math.min((void 0===s?u:i(s,u))-c,u-a),l=1;for(c<a&&a<c+f&&(l=-1,c+=f-1,a+=f-1);f-- >0;)c in e?e[a]=e[c]:delete e[a],a+=l,c+=l;return e}},RwQI:function(t,n,e){var r=e("7zcn");r(r.S,"Object",{create:e("vsji")})},SAcC:function(t,n,e){var r=e("7zcn"),i=e("jH7Z"),o=Object.preventExtensions;r(r.S,"Reflect",{preventExtensions:function(t){i(t);try{return o&&o(t),!0}catch(n){return!1}}})},SBXB:function(t,n,e){"use strict";var r=e("7zcn"),i=e("fGzG")(!1);r(r.P,"String",{codePointAt:function(t){return i(this,t)}})},SCO9:function(t,n,e){"use strict";var r=e("DozX"),i=e("JaYb"),o=e("PYUJ"),u=e("7zcn"),a=e("44Vk"),c=e("BUxN").KEY,s=e("oSRv"),f=e("NGBq"),l=e("DoU+"),h=e("9FWt"),p=e("2VH3"),v=e("tqyf"),d=e("NviL"),g=e("/6/K"),y=e("TPJk"),m=e("jH7Z"),b=e("GU4h"),_=e("ecHh"),x=e("CwQO"),S=e("eNNV"),w=e("rY2j"),k=e("vsji"),T=e("KGZQ"),E=e("QCwN"),P=e("gQmS"),O=e("bw3G"),M=e("iZYR"),A=E.f,N=O.f,R=T.f,F=r.Symbol,j=r.JSON,I=j&&j.stringify,D=p("_hidden"),z=p("toPrimitive"),C={}.propertyIsEnumerable,L=f("symbol-registry"),Z=f("symbols"),H=f("op-symbols"),W=Object.prototype,U="function"==typeof F&&!!P.f,G=r.QObject,V=!G||!G.prototype||!G.prototype.findChild,B=o&&s((function(){return 7!=k(N({},"a",{get:function(){return N(this,"a",{value:7}).a}})).a}))?function(t,n,e){var r=A(W,n);r&&delete W[n],N(t,n,e),r&&t!==W&&N(W,n,r)}:N,X=function(t){var n=Z[t]=k(F.prototype);return n._k=t,n},Y=U&&"symbol"==typeof F.iterator?function(t){return"symbol"==typeof t}:function(t){return t instanceof F},J=function(t,n,e){return t===W&&J(H,n,e),m(t),n=S(n,!0),m(e),i(Z,n)?(e.enumerable?(i(t,D)&&t[D][n]&&(t[D][n]=!1),e=k(e,{enumerable:w(0,!1)})):(i(t,D)||N(t,D,w(1,{})),t[D][n]=!0),B(t,n,e)):N(t,n,e)},q=function(t,n){m(t);for(var e,r=g(n=x(n)),i=0,o=r.length;o>i;)J(t,e=r[i++],n[e]);return t},K=function(t){var n=C.call(this,t=S(t,!0));return!(this===W&&i(Z,t)&&!i(H,t))&&(!(n||!i(this,t)||!i(Z,t)||i(this,D)&&this[D][t])||n)},Q=function(t,n){if(t=x(t),n=S(n,!0),t!==W||!i(Z,n)||i(H,n)){var e=A(t,n);return!e||!i(Z,n)||i(t,D)&&t[D][n]||(e.enumerable=!0),e}},$=function(t){for(var n,e=R(x(t)),r=[],o=0;e.length>o;)i(Z,n=e[o++])||n==D||n==c||r.push(n);return r},tt=function(t){for(var n,e=t===W,r=R(e?H:x(t)),o=[],u=0;r.length>u;)!i(Z,n=r[u++])||e&&!i(W,n)||o.push(Z[n]);return o};U||(a((F=function(){if(this instanceof F)throw TypeError("Symbol is not a constructor!");var t=h(arguments.length>0?arguments[0]:void 0),n=function(e){this===W&&n.call(H,e),i(this,D)&&i(this[D],t)&&(this[D][t]=!1),B(this,t,w(1,e))};return o&&V&&B(W,t,{configurable:!0,set:n}),X(t)}).prototype,"toString",(function(){return this._k})),E.f=Q,O.f=J,e("x0t8").f=T.f=$,e("0On3").f=K,P.f=tt,o&&!e("dC+H")&&a(W,"propertyIsEnumerable",K,!0),v.f=function(t){return X(p(t))}),u(u.G+u.W+u.F*!U,{Symbol:F});for(var nt="hasInstance,isConcatSpreadable,iterator,match,replace,search,species,split,toPrimitive,toStringTag,unscopables".split(","),et=0;nt.length>et;)p(nt[et++]);for(var rt=M(p.store),it=0;rt.length>it;)d(rt[it++]);u(u.S+u.F*!U,"Symbol",{for:function(t){return i(L,t+="")?L[t]:L[t]=F(t)},keyFor:function(t){if(!Y(t))throw TypeError(t+" is not a symbol!");for(var n in L)if(L[n]===t)return n},useSetter:function(){V=!0},useSimple:function(){V=!1}}),u(u.S+u.F*!U,"Object",{create:function(t,n){return void 0===n?k(t):q(k(t),n)},defineProperty:J,defineProperties:q,getOwnPropertyDescriptor:Q,getOwnPropertyNames:$,getOwnPropertySymbols:tt});var ot=s((function(){P.f(1)}));u(u.S+u.F*ot,"Object",{getOwnPropertySymbols:function(t){return P.f(_(t))}}),j&&u(u.S+u.F*(!U||s((function(){var t=F();return"[null]"!=I([t])||"{}"!=I({a:t})||"{}"!=I(Object(t))}))),"JSON",{stringify:function(t){for(var n,e,r=[t],i=1;arguments.length>i;)r.push(arguments[i++]);if(e=n=r[1],(b(n)||void 0!==t)&&!Y(t))return y(n)||(n=function(t,n){if("function"==typeof e&&(n=e.call(this,t,n)),!Y(n))return n}),r[1]=n,I.apply(j,r)}}),F.prototype[z]||e("uv4k")(F.prototype,z,F.prototype.valueOf),l(F,"Symbol"),l(Math,"Math",!0),l(r.JSON,"JSON",!0)},Sp6X:function(t,n,e){var r=e("jH7Z");t.exports=function(t,n,e,i){try{return i?n(r(e)[0],e[1]):n(e)}catch(u){var o=t.return;throw void 0!==o&&r(o.call(t)),u}}},T7D0:function(t,n,e){"use strict";var r=e("61hH"),i=e("jH7Z"),o=e("wdHe"),u=e("qZTf"),a=e("u2Rj"),c=e("dCtm"),s=e("cUTP"),f=e("oSRv"),l=Math.min,h=[].push,p=!f((function(){RegExp(4294967295,"y")}));e("/pmH")("split",2,(function(t,n,e,f){var v;return v="c"=="abbc".split(/(b)*/)[1]||4!="test".split(/(?:)/,-1).length||2!="ab".split(/(?:ab)*/).length||4!=".".split(/(.?)(.?)/).length||".".split(/()()/).length>1||"".split(/.?/).length?function(t,n){var i=String(this);if(void 0===t&&0===n)return[];if(!r(t))return e.call(i,t,n);for(var o,u,a,c=[],f=0,l=void 0===n?4294967295:n>>>0,p=new RegExp(t.source,(t.ignoreCase?"i":"")+(t.multiline?"m":"")+(t.unicode?"u":"")+(t.sticky?"y":"")+"g");(o=s.call(p,i))&&!((u=p.lastIndex)>f&&(c.push(i.slice(f,o.index)),o.length>1&&o.index<i.length&&h.apply(c,o.slice(1)),a=o[0].length,f=u,c.length>=l));)p.lastIndex===o.index&&p.lastIndex++;return f===i.length?!a&&p.test("")||c.push(""):c.push(i.slice(f)),c.length>l?c.slice(0,l):c}:"0".split(void 0,0).length?function(t,n){return void 0===t&&0===n?[]:e.call(this,t,n)}:e,[function(e,r){var i=t(this),o=null==e?void 0:e[n];return void 0!==o?o.call(e,i,r):v.call(String(i),e,r)},function(t,n){var r=f(v,t,this,n,v!==e);if(r.done)return r.value;var s=i(t),h=String(this),d=o(s,RegExp),g=s.unicode,y=new d(p?s:"^(?:"+s.source+")",(s.ignoreCase?"i":"")+(s.multiline?"m":"")+(s.unicode?"u":"")+(p?"y":"g")),m=void 0===n?4294967295:n>>>0;if(0===m)return[];if(0===h.length)return null===c(y,h)?[h]:[];for(var b=0,_=0,x=[];_<h.length;){y.lastIndex=p?_:0;var S,w=c(y,p?h:h.slice(_));if(null===w||(S=l(a(y.lastIndex+(p?0:_)),h.length))===b)_=u(h,_,g);else{if(x.push(h.slice(b,_)),x.length===m)return x;for(var k=1;k<=w.length-1;k++)if(x.push(w[k]),x.length===m)return x;_=b=S}}return x.push(h.slice(b)),x}]}))},TLBd:function(t,n,e){"use strict";var r=e("oSRv");t.exports=function(t,n){return!!t&&r((function(){n?t.call(null,(function(){}),1):t.call(null)}))}},TPJk:function(t,n,e){var r=e("tzX3");t.exports=Array.isArray||function(t){return"Array"==r(t)}},TUas:function(t,n,e){"use strict";var r=e("oSRv"),i=Date.prototype.getTime,o=Date.prototype.toISOString,u=function(t){return t>9?t:"0"+t};t.exports=r((function(){return"0385-07-25T07:06:39.999Z"!=o.call(new Date(-5e13-1))}))||!r((function(){o.call(new Date(NaN))}))?function(){if(!isFinite(i.call(this)))throw RangeError("Invalid time value");var t=this,n=t.getUTCFullYear(),e=t.getUTCMilliseconds(),r=n<0?"-":n>9999?"+":"";return r+("00000"+Math.abs(n)).slice(r?-6:-4)+"-"+u(t.getUTCMonth()+1)+"-"+u(t.getUTCDate())+"T"+u(t.getUTCHours())+":"+u(t.getUTCMinutes())+":"+u(t.getUTCSeconds())+"."+(e>99?e:"0"+u(e))+"Z"}:o},TX48:function(t,n,e){var r=e("7zcn"),i=e("TUas");r(r.P+r.F*(Date.prototype.toISOString!==i),"Date",{toISOString:i})},UMzU:function(t,n,e){var r=e("DozX").document;t.exports=r&&r.documentElement},UOXr:function(t,n,e){var r=e("ecHh"),i=e("kEqp");e("VkLe")("getPrototypeOf",(function(){return function(t){return i(r(t))}}))},UQCJ:function(t,n,e){var r=e("7zcn");r(r.S+r.F*!e("PYUJ"),"Object",{defineProperty:e("bw3G").f})},UWaV:function(t,n,e){var r=e("7zcn"),i=Math.abs;r(r.S,"Math",{hypot:function(t,n){for(var e,r,o=0,u=0,a=arguments.length,c=0;u<a;)c<(e=i(arguments[u++]))?(o=o*(r=c/e)*r+1,c=e):o+=e>0?(r=e/c)*r:e;return c===1/0?1/0:c*Math.sqrt(o)}})},V6IN:function(t,n,e){var r=e("7zcn");r(r.P,"String",{repeat:e("udyG")})},V8LE:function(t,n,e){var r=e("7zcn"),i=e("rbMR"),o=String.fromCharCode,u=String.fromCodePoint;r(r.S+r.F*(!!u&&1!=u.length),"String",{fromCodePoint:function(t){for(var n,e=[],r=arguments.length,u=0;r>u;){if(n=+arguments[u++],i(n,1114111)!==n)throw RangeError(n+" is not a valid code point");e.push(n<65536?o(n):o(55296+((n-=65536)>>10),n%1024+56320))}return e.join("")}})},VAC4:function(t,n,e){var r=e("7zcn");r(r.S,"Math",{trunc:function(t){return(t>0?Math.floor:Math.ceil)(t)}})},VkLe:function(t,n,e){var r=e("7zcn"),i=e("XFAF"),o=e("oSRv");t.exports=function(t,n){var e=(i.Object||{})[t]||Object[t],u={};u[t]=n(e),r(r.S+r.F*o((function(){e(1)})),"Object",u)}},Vzju:function(t,n,e){"use strict";var r=e("09V9"),i=e("GU4h"),o=e("ZA3W"),u=[].slice,a={},c=function(t,n,e){if(!(n in a)){for(var r=[],i=0;i<n;i++)r[i]="a["+i+"]";a[n]=Function("F,a","return new F("+r.join(",")+")")}return a[n](t,e)};t.exports=Function.bind||function(t){var n=r(this),e=u.call(arguments,1),a=function(){var r=e.concat(u.call(arguments));return this instanceof a?c(n,r.length,r):o(n,r,t)};return i(n.prototype)&&(a.prototype=n.prototype),a}},WMlK:function(t,n){t.exports=Math.sign||function(t){return 0==(t=+t)||t!=t?t:t<0?-1:1}},WUuN:function(t,n,e){var r=e("7zcn");r(r.S,"Number",{isNaN:function(t){return t!=t}})},XDJg:function(t,n,e){"use strict";e("kDPR")("anchor",(function(t){return function(n){return t(this,"a","name",n)}}))},XFAF:function(t,n){var e=t.exports={version:"2.6.11"};"number"==typeof __e&&(__e=e)},XaOq:function(t,n,e){var r=e("7zcn");r(r.S,"Math",{log1p:e("JX8c")})},XfYV:function(t,n,e){"use strict";var r=e("DozX"),i=e("7zcn"),o=e("44Vk"),u=e("A9jR"),a=e("BUxN"),c=e("PQhw"),s=e("+u7R"),f=e("GU4h"),l=e("oSRv"),h=e("I+Io"),p=e("DoU+"),v=e("hOc4");t.exports=function(t,n,e,d,g,y){var m=r[t],b=m,_=g?"set":"add",x=b&&b.prototype,S={},w=function(t){var n=x[t];o(x,t,"delete"==t?function(t){return!(y&&!f(t))&&n.call(this,0===t?0:t)}:"has"==t?function(t){return!(y&&!f(t))&&n.call(this,0===t?0:t)}:"get"==t?function(t){return y&&!f(t)?void 0:n.call(this,0===t?0:t)}:"add"==t?function(t){return n.call(this,0===t?0:t),this}:function(t,e){return n.call(this,0===t?0:t,e),this})};if("function"==typeof b&&(y||x.forEach&&!l((function(){(new b).entries().next()})))){var k=new b,T=k[_](y?{}:-0,1)!=k,E=l((function(){k.has(1)})),P=h((function(t){new b(t)})),O=!y&&l((function(){for(var t=new b,n=5;n--;)t[_](n,n);return!t.has(-0)}));P||((b=n((function(n,e){s(n,b,t);var r=v(new m,n,b);return null!=e&&c(e,g,r[_],r),r}))).prototype=x,x.constructor=b),(E||O)&&(w("delete"),w("has"),g&&w("get")),(O||T)&&w(_),y&&x.clear&&delete x.clear}else b=d.getConstructor(n,t,g,_),u(b.prototype,e),a.NEED=!0;return p(b,t),S[t]=b,i(i.G+i.W+i.F*(b!=m),S),y||d.setStrong(b,t,g),b}},Xsmf:function(t,n,e){var r=e("7zcn"),i=e("C19B"),o=Math.exp;r(r.S,"Math",{tanh:function(t){var n=i(t=+t),e=i(-t);return n==1/0?1:e==1/0?-1:(n-e)/(o(t)+o(-t))}})},Yyzt:function(t,n,e){"use strict";var r=e("7zcn"),i=e("09V9"),o=e("ecHh"),u=e("oSRv"),a=[].sort,c=[1,2,3];r(r.P+r.F*(u((function(){c.sort(void 0)}))||!u((function(){c.sort(null)}))||!e("TLBd")(a)),"Array",{sort:function(t){return void 0===t?a.call(o(this)):a.call(o(this),i(t))}})},Z4yN:function(t,n,e){var r=e("7zcn"),i=e("WMlK");r(r.S,"Math",{cbrt:function(t){return i(t=+t)*Math.pow(Math.abs(t),1/3)}})},ZA3W:function(t,n){t.exports=function(t,n,e){var r=void 0===e;switch(n.length){case 0:return r?t():t.call(e);case 1:return r?t(n[0]):t.call(e,n[0]);case 2:return r?t(n[0],n[1]):t.call(e,n[0],n[1]);case 3:return r?t(n[0],n[1],n[2]):t.call(e,n[0],n[1],n[2]);case 4:return r?t(n[0],n[1],n[2],n[3]):t.call(e,n[0],n[1],n[2],n[3])}return t.apply(e,n)}},ZPxW:function(t,n,e){"use strict";var r=e("bw3G").f,i=e("vsji"),o=e("A9jR"),u=e("EkxP"),a=e("+u7R"),c=e("PQhw"),s=e("3M5Q"),f=e("LS0A"),l=e("16Lg"),h=e("PYUJ"),p=e("BUxN").fastKey,v=e("4O9r"),d=h?"_s":"size",g=function(t,n){var e,r=p(n);if("F"!==r)return t._i[r];for(e=t._f;e;e=e.n)if(e.k==n)return e};t.exports={getConstructor:function(t,n,e,s){var f=t((function(t,r){a(t,f,n,"_i"),t._t=n,t._i=i(null),t._f=void 0,t._l=void 0,t[d]=0,null!=r&&c(r,e,t[s],t)}));return o(f.prototype,{clear:function(){for(var t=v(this,n),e=t._i,r=t._f;r;r=r.n)r.r=!0,r.p&&(r.p=r.p.n=void 0),delete e[r.i];t._f=t._l=void 0,t[d]=0},delete:function(t){var e=v(this,n),r=g(e,t);if(r){var i=r.n,o=r.p;delete e._i[r.i],r.r=!0,o&&(o.n=i),i&&(i.p=o),e._f==r&&(e._f=i),e._l==r&&(e._l=o),e[d]--}return!!r},forEach:function(t){v(this,n);for(var e,r=u(t,arguments.length>1?arguments[1]:void 0,3);e=e?e.n:this._f;)for(r(e.v,e.k,this);e&&e.r;)e=e.p},has:function(t){return!!g(v(this,n),t)}}),h&&r(f.prototype,"size",{get:function(){return v(this,n)[d]}}),f},def:function(t,n,e){var r,i,o=g(t,n);return o?o.v=e:(t._l=o={i:i=p(n,!0),k:n,v:e,p:r=t._l,n:void 0,r:!1},t._f||(t._f=o),r&&(r.n=o),t[d]++,"F"!==i&&(t._i[i]=o)),t},getEntry:g,setStrong:function(t,n,e){s(t,n,(function(t,e){this._t=v(t,n),this._k=e,this._l=void 0}),(function(){for(var t=this._k,n=this._l;n&&n.r;)n=n.p;return this._t&&(this._l=n=n?n.n:this._t._f)?f(0,"keys"==t?n.k:"values"==t?n.v:[n.k,n.v]):(this._t=void 0,f(1))}),e?"entries":"values",!e,!0),l(n)}}},Zb8I:function(t,n,e){e("SCO9"),e("RwQI"),e("UQCJ"),e("3EZN"),e("P06y"),e("UOXr"),e("DB+v"),e("eHA6"),e("KYm4"),e("xzVJ"),e("McYH"),e("BAJ/"),e("Qg+1"),e("6lxD"),e("PN9k"),e("exv7"),e("cM8k"),e("dtAy"),t.exports=e("XFAF").Object},ansO:function(t,n,e){"use strict";e("kDPR")("sup",(function(t){return function(){return t(this,"sup","","")}}))},ao8i:function(t,n,e){var r=e("+KrA");t.exports=function(t,n){return new(r(t))(n)}},bADg:function(t,n,e){e("OeBI"),e("/1As"),e("cYij"),e("/jaN"),e("5DyP"),e("AKWv"),e("+TEi"),e("7Nvk"),e("0ky7"),e("sByz"),e("FoG6"),e("SAcC"),e("GWcJ"),e("KYgR"),t.exports=e("XFAF").Reflect},bM1j:function(t,n,e){var r=e("bw3G"),i=e("jH7Z"),o=e("iZYR");t.exports=e("PYUJ")?Object.defineProperties:function(t,n){i(t);for(var e,u=o(n),a=u.length,c=0;a>c;)r.f(t,e=u[c++],n[e]);return t}},bw3G:function(t,n,e){var r=e("jH7Z"),i=e("zTCs"),o=e("eNNV"),u=Object.defineProperty;n.f=e("PYUJ")?Object.defineProperty:function(t,n,e){if(r(t),n=o(n,!0),r(e),i)try{return u(t,n,e)}catch(a){}if("get"in e||"set"in e)throw TypeError("Accessors not supported!");return"value"in e&&(t[n]=e.value),t}},cI1W:function(t,n,e){"use strict";e("kDPR")("small",(function(t){return function(){return t(this,"small","","")}}))},cM8k:function(t,n,e){var r=e("7zcn");r(r.S,"Object",{setPrototypeOf:e("7Zmh").set})},cUTP:function(t,n,e){"use strict";var r,i,o=e("PE/z"),u=RegExp.prototype.exec,a=String.prototype.replace,c=u,s=(i=/b*/g,u.call(r=/a/,"a"),u.call(i,"a"),0!==r.lastIndex||0!==i.lastIndex),f=void 0!==/()??/.exec("")[1];(s||f)&&(c=function(t){var n,e,r,i,c=this;return f&&(e=new RegExp("^"+c.source+"$(?!\\s)",o.call(c))),s&&(n=c.lastIndex),r=u.call(c,t),s&&r&&(c.lastIndex=c.global?r.index+r[0].length:n),f&&r&&r.length>1&&a.call(r[0],e,(function(){for(i=1;i<arguments.length-2;i++)void 0===arguments[i]&&(r[i]=void 0)})),r}),t.exports=c},cYij:function(t,n,e){var r=e("bw3G"),i=e("7zcn"),o=e("jH7Z"),u=e("eNNV");i(i.S+i.F*e("oSRv")((function(){Reflect.defineProperty(r.f({},1,{value:1}),1,{value:2})})),"Reflect",{defineProperty:function(t,n,e){o(t),n=u(n,!0),o(e);try{return r.f(t,n,e),!0}catch(i){return!1}}})},"dC+H":function(t,n){t.exports=!1},dCtm:function(t,n,e){"use strict";var r=e("vkXE"),i=RegExp.prototype.exec;t.exports=function(t,n){var e=t.exec;if("function"==typeof e){var o=e.call(t,n);if("object"!=typeof o)throw new TypeError("RegExp exec method returned something other than an Object or null");return o}if("RegExp"!==r(t))throw new TypeError("RegExp#exec called on incompatible receiver");return i.call(t,n)}},decI:function(t,n,e){var r=e("7zcn");r(r.S,"Math",{sign:e("WMlK")})},dtAy:function(t,n,e){"use strict";var r=e("vkXE"),i={};i[e("2VH3")("toStringTag")]="z",i+""!="[object z]"&&e("44Vk")(Object.prototype,"toString",(function(){return"[object "+r(this)+"]"}),!0)},eHA6:function(t,n,e){e("VkLe")("getOwnPropertyNames",(function(){return e("KGZQ").f}))},eNNV:function(t,n,e){var r=e("GU4h");t.exports=function(t,n){if(!r(t))return t;var e,i;if(n&&"function"==typeof(e=t.toString)&&!r(i=e.call(t)))return i;if("function"==typeof(e=t.valueOf)&&!r(i=e.call(t)))return i;if(!n&&"function"==typeof(e=t.toString)&&!r(i=e.call(t)))return i;throw TypeError("Can't convert object to primitive value")}},eR3J:function(t,n,e){var r=e("7zcn"),i=e("C19B"),o=Math.exp;r(r.S+r.F*e("oSRv")((function(){return-2e-17!=!Math.sinh(-2e-17)})),"Math",{sinh:function(t){return Math.abs(t=+t)<1?(i(t)-i(-t))/2:(o(t-1)-o(-t-1))*(Math.E/2)}})},ecHh:function(t,n,e){var r=e("yK4D");t.exports=function(t){return Object(r(t))}},exv7:function(t,n,e){var r=e("7zcn");r(r.S,"Object",{is:e("AbBq")})},fGzG:function(t,n,e){var r=e("nmGk"),i=e("yK4D");t.exports=function(t){return function(n,e){var o,u,a=String(i(n)),c=r(e),s=a.length;return c<0||c>=s?t?"":void 0:(o=a.charCodeAt(c))<55296||o>56319||c+1===s||(u=a.charCodeAt(c+1))<56320||u>57343?t?a.charAt(c):o:t?a.slice(c,c+2):u-56320+(o-55296<<10)+65536}}},fMlA:function(t,n,e){var r=e("2VH3")("toPrimitive"),i=Date.prototype;r in i||e("uv4k")(i,r,e("H34R"))},gGC0:function(t,n,e){var r;!function(i,o,u){"use strict";!function(t){var n={};function e(r){if(n[r])return n[r].exports;var i=n[r]={i:r,l:!1,exports:{}};return t[r].call(i.exports,i,i.exports,e),i.l=!0,i.exports}e.m=t,e.c=n,e.d=function(t,n,r){e.o(t,n)||Object.defineProperty(t,n,{configurable:!1,enumerable:!0,get:r})},e.n=function(t){var n=t&&t.__esModule?function(){return t.default}:function(){return t};return e.d(n,"a",n),n},e.o=function(t,n){return Object.prototype.hasOwnProperty.call(t,n)},e.p="",e(e.s=134)}([function(t,n,e){var r=e(2),i=e(13),o=e(14),a=e(15),c=e(19),s=function(t,n,e){var f,l,h,p,v=t&s.F,d=t&s.G,g=t&s.P,y=t&s.B,m=d?r:t&s.S?r[n]||(r[n]={}):(r[n]||{}).prototype,b=d?i:i[n]||(i[n]={}),_=b.prototype||(b.prototype={});for(f in d&&(e=n),e)h=((l=!v&&m&&m[f]!==u)?m:e)[f],p=y&&l?c(h,r):g&&"function"==typeof h?c(Function.call,h):h,m&&a(m,f,h,t&s.U),b[f]!=h&&o(b,f,p),g&&_[f]!=h&&(_[f]=h)};r.core=i,s.F=1,s.G=2,s.S=4,s.P=8,s.B=16,s.W=32,s.U=64,s.R=128,t.exports=s},function(t,n,e){var r=e(3);t.exports=function(t){if(!r(t))throw TypeError(t+" is not an object!");return t}},function(t,n){var e=t.exports="undefined"!=typeof window&&window.Math==Math?window:"undefined"!=typeof self&&self.Math==Math?self:Function("return this")();"number"==typeof o&&(o=e)},function(t,n){t.exports=function(t){return"object"==typeof t?null!==t:"function"==typeof t}},function(t,n){t.exports=function(t){try{return!!t()}catch(n){return!0}}},function(t,n,e){var r=e(47)("wks"),i=e(37),o=e(2).Symbol,u="function"==typeof o;(t.exports=function(t){return r[t]||(r[t]=u&&o[t]||(u?o:i)("Symbol."+t))}).store=r},function(t,n,e){t.exports=!e(4)((function(){return 7!=Object.defineProperty({},"a",{get:function(){return 7}}).a}))},function(t,n,e){var r=e(21),i=Math.min;t.exports=function(t){return t>0?i(r(t),9007199254740991):0}},function(t,n,e){var r=e(1),i=e(98),o=e(23),u=Object.defineProperty;n.f=e(6)?Object.defineProperty:function(t,n,e){if(r(t),n=o(n,!0),r(e),i)try{return u(t,n,e)}catch(a){}if("get"in e||"set"in e)throw TypeError("Accessors not supported!");return"value"in e&&(t[n]=e.value),t}},function(t,n,e){var r=e(24);t.exports=function(t){return Object(r(t))}},function(t,n){t.exports=function(t){if("function"!=typeof t)throw TypeError(t+" is not a function!");return t}},function(t,n,e){var r=e(48),i=e(24);t.exports=function(t){return r(i(t))}},function(t,n){var e={}.hasOwnProperty;t.exports=function(t,n){return e.call(t,n)}},function(t,n){var e=t.exports={version:"2.6.11"};"number"==typeof i&&(i=e)},function(t,n,e){var r=e(8),i=e(31);t.exports=e(6)?function(t,n,e){return r.f(t,n,i(1,e))}:function(t,n,e){return t[n]=e,t}},function(t,n,e){var r=e(2),i=e(14),o=e(12),u=e(37)("src"),a=e(136),c=(""+a).split("toString");e(13).inspectSource=function(t){return a.call(t)},(t.exports=function(t,n,e,a){var s="function"==typeof e;s&&(o(e,"name")||i(e,"name",n)),t[n]!==e&&(s&&(o(e,u)||i(e,u,t[n]?""+t[n]:c.join(String(n)))),t===r?t[n]=e:a?t[n]?t[n]=e:i(t,n,e):(delete t[n],i(t,n,e)))})(Function.prototype,"toString",(function(){return"function"==typeof this&&this[u]||a.call(this)}))},function(t,n,e){var r=e(49),i=e(31),o=e(11),u=e(23),a=e(12),c=e(98),s=Object.getOwnPropertyDescriptor;n.f=e(6)?s:function(t,n){if(t=o(t),n=u(n,!0),c)try{return s(t,n)}catch(e){}if(a(t,n))return i(!r.f.call(t,n),t[n])}},function(t,n,e){var r=e(12),i=e(9),o=e(71)("IE_PROTO"),u=Object.prototype;t.exports=Object.getPrototypeOf||function(t){return t=i(t),r(t,o)?t[o]:"function"==typeof t.constructor&&t instanceof t.constructor?t.constructor.prototype:t instanceof Object?u:null}},function(t,n,e){var r=e(0),i=e(4),o=e(24),u=/"/g,a=function(t,n,e,r){var i=String(o(t)),a="<"+n;return""!==e&&(a+=" "+e+'="'+String(r).replace(u,"&quot;")+'"'),a+">"+i+"</"+n+">"};t.exports=function(t,n){var e={};e[t]=n(a),r(r.P+r.F*i((function(){var n=""[t]('"');return n!==n.toLowerCase()||n.split('"').length>3})),"String",e)}},function(t,n,e){var r=e(10);t.exports=function(t,n,e){if(r(t),n===u)return t;switch(e){case 1:return function(e){return t.call(n,e)};case 2:return function(e,r){return t.call(n,e,r)};case 3:return function(e,r,i){return t.call(n,e,r,i)}}return function(){return t.apply(n,arguments)}}},function(t,n){var e={}.toString;t.exports=function(t){return e.call(t).slice(8,-1)}},function(t,n){var e=Math.ceil,r=Math.floor;t.exports=function(t){return isNaN(t=+t)?0:(t>0?r:e)(t)}},function(t,n,e){var r=e(4);t.exports=function(t,n){return!!t&&r((function(){n?t.call(null,(function(){}),1):t.call(null)}))}},function(t,n,e){var r=e(3);t.exports=function(t,n){if(!r(t))return t;var e,i;if(n&&"function"==typeof(e=t.toString)&&!r(i=e.call(t)))return i;if("function"==typeof(e=t.valueOf)&&!r(i=e.call(t)))return i;if(!n&&"function"==typeof(e=t.toString)&&!r(i=e.call(t)))return i;throw TypeError("Can't convert object to primitive value")}},function(t,n){t.exports=function(t){if(t==u)throw TypeError("Can't call method on  "+t);return t}},function(t,n,e){var r=e(0),i=e(13),o=e(4);t.exports=function(t,n){var e=(i.Object||{})[t]||Object[t],u={};u[t]=n(e),r(r.S+r.F*o((function(){e(1)})),"Object",u)}},function(t,n,e){var r=e(19),i=e(48),o=e(9),a=e(7),c=e(86);t.exports=function(t,n){var e=1==t,s=2==t,f=3==t,l=4==t,h=6==t,p=5==t||h,v=n||c;return function(n,c,d){for(var g,y,m=o(n),b=i(m),_=r(c,d,3),x=a(b.length),S=0,w=e?v(n,x):s?v(n,0):u;x>S;S++)if((p||S in b)&&(y=_(g=b[S],S,m),t))if(e)w[S]=y;else if(y)switch(t){case 3:return!0;case 5:return g;case 6:return S;case 2:w.push(g)}else if(l)return!1;return h?-1:f||l?l:w}}},function(t,n,e){var r=e(100),i=e(72);t.exports=Object.keys||function(t){return r(t,i)}},function(t,n,e){var r=e(1),i=e(101),o=e(72),a=e(71)("IE_PROTO"),c=function(){},s=function(){var t,n=e(69)("iframe"),r=o.length;for(n.style.display="none",e(73).appendChild(n),n.src="javascript:",(t=n.contentWindow.document).open(),t.write("<script>document.F=Object<\/script>"),t.close(),s=t.F;r--;)delete s.prototype[o[r]];return s()};t.exports=Object.create||function(t,n){var e;return null!==t?(c.prototype=r(t),e=new c,c.prototype=null,e[a]=t):e=s(),n===u?e:i(e,n)}},function(t,n,e){if(e(6)){var r=e(32),i=e(2),o=e(4),a=e(0),c=e(65),s=e(96),f=e(19),l=e(42),h=e(31),p=e(14),v=e(43),d=e(21),g=e(7),y=e(123),m=e(38),b=e(23),_=e(12),x=e(34),S=e(3),w=e(9),k=e(84),T=e(28),E=e(17),P=e(39).f,O=e(50),M=e(37),A=e(5),N=e(26),R=e(53),F=e(52),j=e(88),I=e(40),D=e(60),z=e(41),C=e(87),L=e(113),Z=e(8),H=e(16),W=Z.f,U=H.f,G=i.RangeError,V=i.TypeError,B=i.Uint8Array,X=Array.prototype,Y=s.ArrayBuffer,J=s.DataView,q=N(0),K=N(2),Q=N(3),$=N(4),tt=N(5),nt=N(6),et=R(!0),rt=R(!1),it=j.values,ot=j.keys,ut=j.entries,at=X.lastIndexOf,ct=X.reduce,st=X.reduceRight,ft=X.join,lt=X.sort,ht=X.slice,pt=X.toString,vt=X.toLocaleString,dt=A("iterator"),gt=A("toStringTag"),yt=M("typed_constructor"),mt=M("def_constructor"),bt=c.CONSTR,_t=c.TYPED,xt=c.VIEW,St=N(1,(function(t,n){return Pt(F(t,t[mt]),n)})),wt=o((function(){return 1===new B(new Uint16Array([1]).buffer)[0]})),kt=!!B&&!!B.prototype.set&&o((function(){new B(1).set({})})),Tt=function(t,n){var e=d(t);if(e<0||e%n)throw G("Wrong offset!");return e},Et=function(t){if(S(t)&&_t in t)return t;throw V(t+" is not a typed array!")},Pt=function(t,n){if(!(S(t)&&yt in t))throw V("It is not a typed array constructor!");return new t(n)},Ot=function(t,n){return Mt(F(t,t[mt]),n)},Mt=function(t,n){for(var e=0,r=n.length,i=Pt(t,r);r>e;)i[e]=n[e++];return i},At=function(t,n,e){W(t,n,{get:function(){return this._d[e]}})},Nt=function(t){var n,e,r,i,o,a,c=w(t),s=arguments.length,l=s>1?arguments[1]:u,h=l!==u,p=O(c);if(p!=u&&!k(p)){for(a=p.call(c),r=[],n=0;!(o=a.next()).done;n++)r.push(o.value);c=r}for(h&&s>2&&(l=f(l,arguments[2],2)),n=0,e=g(c.length),i=Pt(this,e);e>n;n++)i[n]=h?l(c[n],n):c[n];return i},Rt=function(){for(var t=0,n=arguments.length,e=Pt(this,n);n>t;)e[t]=arguments[t++];return e},Ft=!!B&&o((function(){vt.call(new B(1))})),jt=function(){return vt.apply(Ft?ht.call(Et(this)):Et(this),arguments)},It={copyWithin:function(t,n){return L.call(Et(this),t,n,arguments.length>2?arguments[2]:u)},every:function(t){return $(Et(this),t,arguments.length>1?arguments[1]:u)},fill:function(t){return C.apply(Et(this),arguments)},filter:function(t){return Ot(this,K(Et(this),t,arguments.length>1?arguments[1]:u))},find:function(t){return tt(Et(this),t,arguments.length>1?arguments[1]:u)},findIndex:function(t){return nt(Et(this),t,arguments.length>1?arguments[1]:u)},forEach:function(t){q(Et(this),t,arguments.length>1?arguments[1]:u)},indexOf:function(t){return rt(Et(this),t,arguments.length>1?arguments[1]:u)},includes:function(t){return et(Et(this),t,arguments.length>1?arguments[1]:u)},join:function(t){return ft.apply(Et(this),arguments)},lastIndexOf:function(t){return at.apply(Et(this),arguments)},map:function(t){return St(Et(this),t,arguments.length>1?arguments[1]:u)},reduce:function(t){return ct.apply(Et(this),arguments)},reduceRight:function(t){return st.apply(Et(this),arguments)},reverse:function(){for(var t,n=Et(this).length,e=Math.floor(n/2),r=0;r<e;)t=this[r],this[r++]=this[--n],this[n]=t;return this},some:function(t){return Q(Et(this),t,arguments.length>1?arguments[1]:u)},sort:function(t){return lt.call(Et(this),t)},subarray:function(t,n){var e=Et(this),r=e.length,i=m(t,r);return new(F(e,e[mt]))(e.buffer,e.byteOffset+i*e.BYTES_PER_ELEMENT,g((n===u?r:m(n,r))-i))}},Dt=function(t,n){return Ot(this,ht.call(Et(this),t,n))},zt=function(t){Et(this);var n=Tt(arguments[1],1),e=this.length,r=w(t),i=g(r.length),o=0;if(i+n>e)throw G("Wrong length!");for(;o<i;)this[n+o]=r[o++]},Ct={entries:function(){return ut.call(Et(this))},keys:function(){return ot.call(Et(this))},values:function(){return it.call(Et(this))}},Lt=function(t,n){return S(t)&&t[_t]&&"symbol"!=typeof n&&n in t&&String(+n)==String(n)},Zt=function(t,n){return Lt(t,n=b(n,!0))?h(2,t[n]):U(t,n)},Ht=function(t,n,e){return!(Lt(t,n=b(n,!0))&&S(e)&&_(e,"value"))||_(e,"get")||_(e,"set")||e.configurable||_(e,"writable")&&!e.writable||_(e,"enumerable")&&!e.enumerable?W(t,n,e):(t[n]=e.value,t)};bt||(H.f=Zt,Z.f=Ht),a(a.S+a.F*!bt,"Object",{getOwnPropertyDescriptor:Zt,defineProperty:Ht}),o((function(){pt.call({})}))&&(pt=vt=function(){return ft.call(this)});var Wt=v({},It);v(Wt,Ct),p(Wt,dt,Ct.values),v(Wt,{slice:Dt,set:zt,constructor:function(){},toString:pt,toLocaleString:jt}),At(Wt,"buffer","b"),At(Wt,"byteOffset","o"),At(Wt,"byteLength","l"),At(Wt,"length","e"),W(Wt,gt,{get:function(){return this[_t]}}),t.exports=function(t,n,e,s){var f=t+((s=!!s)?"Clamped":"")+"Array",h="get"+t,v="set"+t,d=i[f],m=d||{},b=d&&E(d),_={},w=d&&d.prototype,k=function(t,e){W(t,e,{get:function(){return function(t,e){var r=t._d;return r.v[h](e*n+r.o,wt)}(this,e)},set:function(t){return function(t,e,r){var i=t._d;s&&(r=(r=Math.round(r))<0?0:r>255?255:255&r),i.v[v](e*n+i.o,r,wt)}(this,e,t)},enumerable:!0})};d&&c.ABV?o((function(){d(1)}))&&o((function(){new d(-1)}))&&D((function(t){new d,new d(null),new d(1.5),new d(t)}),!0)||(d=e((function(t,e,r,i){var o;return l(t,d,f),S(e)?e instanceof Y||"ArrayBuffer"==(o=x(e))||"SharedArrayBuffer"==o?i!==u?new m(e,Tt(r,n),i):r!==u?new m(e,Tt(r,n)):new m(e):_t in e?Mt(d,e):Nt.call(d,e):new m(y(e))})),q(b!==Function.prototype?P(m).concat(P(b)):P(m),(function(t){t in d||p(d,t,m[t])})),d.prototype=w,r||(w.constructor=d)):(d=e((function(t,e,r,i){l(t,d,f,"_d");var o,a,c,s,h=0,v=0;if(S(e)){if(!(e instanceof Y||"ArrayBuffer"==(s=x(e))||"SharedArrayBuffer"==s))return _t in e?Mt(d,e):Nt.call(d,e);o=e,v=Tt(r,n);var m=e.byteLength;if(i===u){if(m%n)throw G("Wrong length!");if((a=m-v)<0)throw G("Wrong length!")}else if((a=g(i)*n)+v>m)throw G("Wrong length!");c=a/n}else c=y(e),o=new Y(a=c*n);for(p(t,"_d",{b:o,o:v,l:a,e:c,v:new J(o)});h<c;)k(t,h++)})),w=d.prototype=T(Wt),p(w,"constructor",d));var O=w[dt],M=!!O&&("values"==O.name||O.name==u),A=Ct.values;p(d,yt,!0),p(w,_t,f),p(w,xt,!0),p(w,mt,d),(s?new d(1)[gt]==f:gt in w)||W(w,gt,{get:function(){return f}}),_[f]=d,a(a.G+a.W+a.F*(d!=m),_),a(a.S,f,{BYTES_PER_ELEMENT:n}),a(a.S+a.F*o((function(){m.of.call(d,1)})),f,{from:Nt,of:Rt}),"BYTES_PER_ELEMENT"in w||p(w,"BYTES_PER_ELEMENT",n),a(a.P,f,It),z(f),a(a.P+a.F*kt,f,{set:zt}),a(a.P+a.F*!M,f,Ct),r||w.toString==pt||(w.toString=pt),a(a.P+a.F*o((function(){new d(1).slice()})),f,{slice:Dt}),a(a.P+a.F*(o((function(){return[1,2].toLocaleString()!=new d([1,2]).toLocaleString()}))||!o((function(){w.toLocaleString.call([1,2])}))),f,{toLocaleString:jt}),I[f]=M?O:A,r||M||p(w,dt,A)}}else t.exports=function(){}},function(t,n,e){var r=e(118),i=e(0),o=e(47)("metadata"),a=o.store||(o.store=new(e(121))),c=function(t,n,e){var i=a.get(t);if(!i){if(!e)return u;a.set(t,i=new r)}var o=i.get(n);if(!o){if(!e)return u;i.set(n,o=new r)}return o};t.exports={store:a,map:c,has:function(t,n,e){var r=c(n,e,!1);return r!==u&&r.has(t)},get:function(t,n,e){var r=c(n,e,!1);return r===u?u:r.get(t)},set:function(t,n,e,r){c(e,r,!0).set(t,n)},keys:function(t,n){var e=c(t,n,!1),r=[];return e&&e.forEach((function(t,n){r.push(n)})),r},key:function(t){return t===u||"symbol"==typeof t?t:String(t)},exp:function(t){i(i.S,"Reflect",t)}}},function(t,n){t.exports=function(t,n){return{enumerable:!(1&t),configurable:!(2&t),writable:!(4&t),value:n}}},function(t,n){t.exports=!1},function(t,n,e){var r=e(37)("meta"),i=e(3),o=e(12),u=e(8).f,a=0,c=Object.isExtensible||function(){return!0},s=!e(4)((function(){return c(Object.preventExtensions({}))})),f=function(t){u(t,r,{value:{i:"O"+ ++a,w:{}}})},l=t.exports={KEY:r,NEED:!1,fastKey:function(t,n){if(!i(t))return"symbol"==typeof t?t:("string"==typeof t?"S":"P")+t;if(!o(t,r)){if(!c(t))return"F";if(!n)return"E";f(t)}return t[r].i},getWeak:function(t,n){if(!o(t,r)){if(!c(t))return!0;if(!n)return!1;f(t)}return t[r].w},onFreeze:function(t){return s&&l.NEED&&c(t)&&!o(t,r)&&f(t),t}}},function(t,n,e){var r=e(20),i=e(5)("toStringTag"),o="Arguments"==r(function(){return arguments}());t.exports=function(t){var n,e,a;return t===u?"Undefined":null===t?"Null":"string"==typeof(e=function(t,n){try{return t[n]}catch(e){}}(n=Object(t),i))?e:o?r(n):"Object"==(a=r(n))&&"function"==typeof n.callee?"Arguments":a}},function(t,n,e){var r=e(5)("unscopables"),i=Array.prototype;i[r]==u&&e(14)(i,r,{}),t.exports=function(t){i[r][t]=!0}},function(t,n,e){var r=e(19),i=e(111),o=e(84),u=e(1),a=e(7),c=e(50),s={},f={};(n=t.exports=function(t,n,e,l,h){var p,v,d,g,y=h?function(){return t}:c(t),m=r(e,l,n?2:1),b=0;if("function"!=typeof y)throw TypeError(t+" is not iterable!");if(o(y)){for(p=a(t.length);p>b;b++)if((g=n?m(u(v=t[b])[0],v[1]):m(t[b]))===s||g===f)return g}else for(d=y.call(t);!(v=d.next()).done;)if((g=i(d,m,v.value,n))===s||g===f)return g}).BREAK=s,n.RETURN=f},function(t,n){var e=0,r=Math.random();t.exports=function(t){return"Symbol(".concat(t===u?"":t,")_",(++e+r).toString(36))}},function(t,n,e){var r=e(21),i=Math.max,o=Math.min;t.exports=function(t,n){return(t=r(t))<0?i(t+n,0):o(t,n)}},function(t,n,e){var r=e(100),i=e(72).concat("length","prototype");n.f=Object.getOwnPropertyNames||function(t){return r(t,i)}},function(t,n){t.exports={}},function(t,n,e){var r=e(2),i=e(8),o=e(6),u=e(5)("species");t.exports=function(t){var n=r[t];o&&n&&!n[u]&&i.f(n,u,{configurable:!0,get:function(){return this}})}},function(t,n){t.exports=function(t,n,e,r){if(!(t instanceof n)||r!==u&&r in t)throw TypeError(e+": incorrect invocation!");return t}},function(t,n,e){var r=e(15);t.exports=function(t,n,e){for(var i in n)r(t,i,n[i],e);return t}},function(t,n,e){var r=e(3);t.exports=function(t,n){if(!r(t)||t._t!==n)throw TypeError("Incompatible receiver, "+n+" required!");return t}},function(t,n,e){var r=e(8).f,i=e(12),o=e(5)("toStringTag");t.exports=function(t,n,e){t&&!i(t=e?t:t.prototype,o)&&r(t,o,{configurable:!0,value:n})}},function(t,n,e){var r=e(0),i=e(24),o=e(4),u=e(78),a="["+u+"]",c=RegExp("^"+a+a+"*"),s=RegExp(a+a+"*$"),f=function(t,n,e){var i={},a=o((function(){return!!u[t]()||"\u200b\x85"!="\u200b\x85"[t]()})),c=i[t]=a?n(l):u[t];e&&(i[e]=c),r(r.P+r.F*a,"String",i)},l=f.trim=function(t,n){return t=String(i(t)),1&n&&(t=t.replace(c,"")),2&n&&(t=t.replace(s,"")),t};t.exports=f},function(t,n,e){var r=e(13),i=e(2),o=i["__core-js_shared__"]||(i["__core-js_shared__"]={});(t.exports=function(t,n){return o[t]||(o[t]=n!==u?n:{})})("versions",[]).push({version:r.version,mode:e(32)?"pure":"global",copyright:"\xa9 2019 Denis Pushkarev (zloirock.ru)"})},function(t,n,e){var r=e(20);t.exports=Object("z").propertyIsEnumerable(0)?Object:function(t){return"String"==r(t)?t.split(""):Object(t)}},function(t,n){n.f={}.propertyIsEnumerable},function(t,n,e){var r=e(34),i=e(5)("iterator"),o=e(40);t.exports=e(13).getIteratorMethod=function(t){if(t!=u)return t[i]||t["@@iterator"]||o[r(t)]}},function(t,n,e){var r=e(1);t.exports=function(){var t=r(this),n="";return t.global&&(n+="g"),t.ignoreCase&&(n+="i"),t.multiline&&(n+="m"),t.unicode&&(n+="u"),t.sticky&&(n+="y"),n}},function(t,n,e){var r=e(1),i=e(10),o=e(5)("species");t.exports=function(t,n){var e,a=r(t).constructor;return a===u||(e=r(a)[o])==u?n:i(e)}},function(t,n,e){var r=e(11),i=e(7),o=e(38);t.exports=function(t){return function(n,e,u){var a,c=r(n),s=i(c.length),f=o(u,s);if(t&&e!=e){for(;s>f;)if((a=c[f++])!=a)return!0}else for(;s>f;f++)if((t||f in c)&&c[f]===e)return t||f||0;return!t&&-1}}},function(t,n){n.f=Object.getOwnPropertySymbols},function(t,n,e){var r=e(20);t.exports=Array.isArray||function(t){return"Array"==r(t)}},function(t,n,e){var r=e(21),i=e(24);t.exports=function(t){return function(n,e){var o,a,c=String(i(n)),s=r(e),f=c.length;return s<0||s>=f?t?"":u:(o=c.charCodeAt(s))<55296||o>56319||s+1===f||(a=c.charCodeAt(s+1))<56320||a>57343?t?c.charAt(s):o:t?c.slice(s,s+2):a-56320+(o-55296<<10)+65536}}},function(t,n,e){var r=e(3),i=e(20),o=e(5)("match");t.exports=function(t){var n;return r(t)&&((n=t[o])!==u?!!n:"RegExp"==i(t))}},function(t,n,e){var r=e(32),i=e(0),o=e(15),a=e(14),c=e(40),s=e(59),f=e(45),l=e(17),h=e(5)("iterator"),p=!([].keys&&"next"in[].keys()),v=function(){return this};t.exports=function(t,n,e,d,g,y,m){s(e,n,d);var b,_,x,S=function(t){if(!p&&t in E)return E[t];switch(t){case"keys":case"values":return function(){return new e(this,t)}}return function(){return new e(this,t)}},w=n+" Iterator",k="values"==g,T=!1,E=t.prototype,P=E[h]||E["@@iterator"]||g&&E[g],O=P||S(g),M=g?k?S("entries"):O:u,A="Array"==n&&E.entries||P;if(A&&(x=l(A.call(new t)))!==Object.prototype&&x.next&&(f(x,w,!0),r||"function"==typeof x[h]||a(x,h,v)),k&&P&&"values"!==P.name&&(T=!0,O=function(){return P.call(this)}),r&&!m||!p&&!T&&E[h]||a(E,h,O),c[n]=O,c[w]=v,g)if(b={values:k?O:S("values"),keys:y?O:S("keys"),entries:M},m)for(_ in b)_ in E||o(E,_,b[_]);else i(i.P+i.F*(p||T),n,b);return b}},function(t,n,e){var r=e(28),i=e(31),o=e(45),u={};e(14)(u,e(5)("iterator"),(function(){return this})),t.exports=function(t,n,e){t.prototype=r(u,{next:i(1,e)}),o(t,n+" Iterator")}},function(t,n,e){var r=e(5)("iterator"),i=!1;try{var o=[7][r]();o.return=function(){i=!0},Array.from(o,(function(){throw 2}))}catch(u){}t.exports=function(t,n){if(!n&&!i)return!1;var e=!1;try{var o=[7],a=o[r]();a.next=function(){return{done:e=!0}},o[r]=function(){return a},t(o)}catch(u){}return e}},function(t,n,e){var r=e(34),i=RegExp.prototype.exec;t.exports=function(t,n){var e=t.exec;if("function"==typeof e){var o=e.call(t,n);if("object"!=typeof o)throw new TypeError("RegExp exec method returned something other than an Object or null");return o}if("RegExp"!==r(t))throw new TypeError("RegExp#exec called on incompatible receiver");return i.call(t,n)}},function(t,n,e){e(114);var r=e(15),i=e(14),o=e(4),a=e(24),c=e(5),s=e(90),f=c("species"),l=!o((function(){var t=/./;return t.exec=function(){var t=[];return t.groups={a:"7"},t},"7"!=="".replace(t,"$<a>")})),h=function(){var t=/(?:)/,n=t.exec;t.exec=function(){return n.apply(this,arguments)};var e="ab".split(t);return 2===e.length&&"a"===e[0]&&"b"===e[1]}();t.exports=function(t,n,e){var p=c(t),v=!o((function(){var n={};return n[p]=function(){return 7},7!=""[t](n)})),d=v?!o((function(){var n=!1,e=/a/;return e.exec=function(){return n=!0,null},"split"===t&&(e.constructor={},e.constructor[f]=function(){return e}),e[p](""),!n})):u;if(!v||!d||"replace"===t&&!l||"split"===t&&!h){var g=/./[p],y=e(a,p,""[t],(function(t,n,e,r,i){return n.exec===s?v&&!i?{done:!0,value:g.call(n,e,r)}:{done:!0,value:t.call(e,n,r)}:{done:!1}})),m=y[1];r(String.prototype,t,y[0]),i(RegExp.prototype,p,2==n?function(t,n){return m.call(t,this,n)}:function(t){return m.call(t,this)})}}},function(t,n,e){var r=e(2).navigator;t.exports=r&&r.userAgent||""},function(t,n,e){var r=e(2),i=e(0),o=e(15),a=e(43),c=e(33),s=e(36),f=e(42),l=e(3),h=e(4),p=e(60),v=e(45),d=e(77);t.exports=function(t,n,e,g,y,m){var b=r[t],_=b,x=y?"set":"add",S=_&&_.prototype,w={},k=function(t){var n=S[t];o(S,t,"delete"==t?function(t){return!(m&&!l(t))&&n.call(this,0===t?0:t)}:"has"==t?function(t){return!(m&&!l(t))&&n.call(this,0===t?0:t)}:"get"==t?function(t){return m&&!l(t)?u:n.call(this,0===t?0:t)}:"add"==t?function(t){return n.call(this,0===t?0:t),this}:function(t,e){return n.call(this,0===t?0:t,e),this})};if("function"==typeof _&&(m||S.forEach&&!h((function(){(new _).entries().next()})))){var T=new _,E=T[x](m?{}:-0,1)!=T,P=h((function(){T.has(1)})),O=p((function(t){new _(t)})),M=!m&&h((function(){for(var t=new _,n=5;n--;)t[x](n,n);return!t.has(-0)}));O||((_=n((function(n,e){f(n,_,t);var r=d(new b,n,_);return e!=u&&s(e,y,r[x],r),r}))).prototype=S,S.constructor=_),(P||M)&&(k("delete"),k("has"),y&&k("get")),(M||E)&&k(x),m&&S.clear&&delete S.clear}else _=g.getConstructor(n,t,y,x),a(_.prototype,e),c.NEED=!0;return v(_,t),w[t]=_,i(i.G+i.W+i.F*(_!=b),w),m||g.setStrong(_,t,y),_}},function(t,n,e){for(var r,i=e(2),o=e(14),u=e(37),a=u("typed_array"),c=u("view"),s=!(!i.ArrayBuffer||!i.DataView),f=s,l=0,h="Int8Array,Uint8Array,Uint8ClampedArray,Int16Array,Uint16Array,Int32Array,Uint32Array,Float32Array,Float64Array".split(",");l<9;)(r=i[h[l++]])?(o(r.prototype,a,!0),o(r.prototype,c,!0)):f=!1;t.exports={ABV:s,CONSTR:f,TYPED:a,VIEW:c}},function(t,n,e){t.exports=e(32)||!e(4)((function(){var t=Math.random();__defineSetter__.call(null,t,(function(){})),delete e(2)[t]}))},function(t,n,e){var r=e(0);t.exports=function(t){r(r.S,t,{of:function(){for(var t=arguments.length,n=new Array(t);t--;)n[t]=arguments[t];return new this(n)}})}},function(t,n,e){var r=e(0),i=e(10),o=e(19),a=e(36);t.exports=function(t){r(r.S,t,{from:function(t){var n,e,r,c,s=arguments[1];return i(this),(n=s!==u)&&i(s),t==u?new this:(e=[],n?(r=0,c=o(s,arguments[2],2),a(t,!1,(function(t){e.push(c(t,r++))}))):a(t,!1,e.push,e),new this(e))}})}},function(t,n,e){var r=e(3),i=e(2).document,o=r(i)&&r(i.createElement);t.exports=function(t){return o?i.createElement(t):{}}},function(t,n,e){var r=e(2),i=e(13),o=e(32),u=e(99),a=e(8).f;t.exports=function(t){var n=i.Symbol||(i.Symbol=o?{}:r.Symbol||{});"_"==t.charAt(0)||t in n||a(n,t,{value:u.f(t)})}},function(t,n,e){var r=e(47)("keys"),i=e(37);t.exports=function(t){return r[t]||(r[t]=i(t))}},function(t,n){t.exports="constructor,hasOwnProperty,isPrototypeOf,propertyIsEnumerable,toLocaleString,toString,valueOf".split(",")},function(t,n,e){var r=e(2).document;t.exports=r&&r.documentElement},function(t,n,e){var r=e(6),i=e(27),o=e(54),u=e(49),a=e(9),c=e(48),s=Object.assign;t.exports=!s||e(4)((function(){var t={},n={},e=Symbol(),r="abcdefghijklmnopqrst";return t[e]=7,r.split("").forEach((function(t){n[t]=t})),7!=s({},t)[e]||Object.keys(s({},n)).join("")!=r}))?function(t,n){for(var e=a(t),s=arguments.length,f=1,l=o.f,h=u.f;s>f;)for(var p,v=c(arguments[f++]),d=l?i(v).concat(l(v)):i(v),g=d.length,y=0;g>y;)p=d[y++],r&&!h.call(v,p)||(e[p]=v[p]);return e}:s},function(t,n,e){var r=e(3),i=e(1),o=function(t,n){if(i(t),!r(n)&&null!==n)throw TypeError(n+": can't set as prototype!")};t.exports={set:Object.setPrototypeOf||("__proto__"in{}?function(t,n,r){try{(r=e(19)(Function.call,e(16).f(Object.prototype,"__proto__").set,2))(t,[]),n=!(t instanceof Array)}catch(i){n=!0}return function(t,e){return o(t,e),n?t.__proto__=e:r(t,e),t}}({},!1):u),check:o}},function(t,n){t.exports=function(t,n,e){var r=e===u;switch(n.length){case 0:return r?t():t.call(e);case 1:return r?t(n[0]):t.call(e,n[0]);case 2:return r?t(n[0],n[1]):t.call(e,n[0],n[1]);case 3:return r?t(n[0],n[1],n[2]):t.call(e,n[0],n[1],n[2]);case 4:return r?t(n[0],n[1],n[2],n[3]):t.call(e,n[0],n[1],n[2],n[3])}return t.apply(e,n)}},function(t,n,e){var r=e(3),i=e(75).set;t.exports=function(t,n,e){var o,u=n.constructor;return u!==e&&"function"==typeof u&&(o=u.prototype)!==e.prototype&&r(o)&&i&&i(t,o),t}},function(t,n){t.exports="\t\n\v\f\r \xa0\u1680\u180e\u2000\u2001\u2002\u2003\u2004\u2005\u2006\u2007\u2008\u2009\u200a\u202f\u205f\u3000\u2028\u2029\ufeff"},function(t,n,e){var r=e(21),i=e(24);t.exports=function(t){var n=String(i(this)),e="",o=r(t);if(o<0||o==1/0)throw RangeError("Count can't be negative");for(;o>0;(o>>>=1)&&(n+=n))1&o&&(e+=n);return e}},function(t,n){t.exports=Math.sign||function(t){return 0==(t=+t)||t!=t?t:t<0?-1:1}},function(t,n){var e=Math.expm1;t.exports=!e||e(10)>22025.465794806718||e(10)<22025.465794806718||-2e-17!=e(-2e-17)?function(t){return 0==(t=+t)?t:t>-1e-6&&t<1e-6?t+t*t/2:Math.exp(t)-1}:e},function(t,n,e){var r=e(57),i=e(24);t.exports=function(t,n,e){if(r(n))throw TypeError("String#"+e+" doesn't accept regex!");return String(i(t))}},function(t,n,e){var r=e(5)("match");t.exports=function(t){var n=/./;try{"/./"[t](n)}catch(e){try{return n[r]=!1,!"/./"[t](n)}catch(i){}}return!0}},function(t,n,e){var r=e(40),i=e(5)("iterator"),o=Array.prototype;t.exports=function(t){return t!==u&&(r.Array===t||o[i]===t)}},function(t,n,e){var r=e(8),i=e(31);t.exports=function(t,n,e){n in t?r.f(t,n,i(0,e)):t[n]=e}},function(t,n,e){var r=e(218);t.exports=function(t,n){return new(r(t))(n)}},function(t,n,e){var r=e(9),i=e(38),o=e(7);t.exports=function(t){for(var n=r(this),e=o(n.length),a=arguments.length,c=i(a>1?arguments[1]:u,e),s=a>2?arguments[2]:u,f=s===u?e:i(s,e);f>c;)n[c++]=t;return n}},function(t,n,e){var r=e(35),i=e(89),o=e(40),a=e(11);t.exports=e(58)(Array,"Array",(function(t,n){this._t=a(t),this._i=0,this._k=n}),(function(){var t=this._t,n=this._k,e=this._i++;return!t||e>=t.length?(this._t=u,i(1)):i(0,"keys"==n?e:"values"==n?t[e]:[e,t[e]])}),"values"),o.Arguments=o.Array,r("keys"),r("values"),r("entries")},function(t,n){t.exports=function(t,n){return{value:n,done:!!t}}},function(t,n,e){var r,i,o=e(51),a=RegExp.prototype.exec,c=String.prototype.replace,s=a,f=(i=/b*/g,a.call(r=/a/,"a"),a.call(i,"a"),0!==r.lastIndex||0!==i.lastIndex),l=/()??/.exec("")[1]!==u;(f||l)&&(s=function(t){var n,e,r,i,s=this;return l&&(e=new RegExp("^"+s.source+"$(?!\\s)",o.call(s))),f&&(n=s.lastIndex),r=a.call(s,t),f&&r&&(s.lastIndex=s.global?r.index+r[0].length:n),l&&r&&r.length>1&&c.call(r[0],e,(function(){for(i=1;i<arguments.length-2;i++)arguments[i]===u&&(r[i]=u)})),r}),t.exports=s},function(t,n,e){var r=e(56)(!0);t.exports=function(t,n,e){return n+(e?r(t,n).length:1)}},function(t,n,e){var r,i,o,u=e(19),a=e(76),c=e(73),s=e(69),f=e(2),l=f.process,h=f.setImmediate,p=f.clearImmediate,v=f.MessageChannel,d=f.Dispatch,g=0,y={},m=function(){var t=+this;if(y.hasOwnProperty(t)){var n=y[t];delete y[t],n()}},b=function(t){m.call(t.data)};h&&p||(h=function(t){for(var n=[],e=1;arguments.length>e;)n.push(arguments[e++]);return y[++g]=function(){a("function"==typeof t?t:Function(t),n)},r(g),g},p=function(t){delete y[t]},"process"==e(20)(l)?r=function(t){l.nextTick(u(m,t,1))}:d&&d.now?r=function(t){d.now(u(m,t,1))}:v?(o=(i=new v).port2,i.port1.onmessage=b,r=u(o.postMessage,o,1)):f.addEventListener&&"function"==typeof postMessage&&!f.importScripts?(r=function(t){f.postMessage(t+"","*")},f.addEventListener("message",b,!1)):r="onreadystatechange"in s("script")?function(t){c.appendChild(s("script")).onreadystatechange=function(){c.removeChild(this),m.call(t)}}:function(t){setTimeout(u(m,t,1),0)}),t.exports={set:h,clear:p}},function(t,n,e){var r=e(2),i=e(92).set,o=r.MutationObserver||r.WebKitMutationObserver,a=r.process,c=r.Promise,s="process"==e(20)(a);t.exports=function(){var t,n,e,f=function(){var r,i;for(s&&(r=a.domain)&&r.exit();t;){i=t.fn,t=t.next;try{i()}catch(o){throw t?e():n=u,o}}n=u,r&&r.enter()};if(s)e=function(){a.nextTick(f)};else if(!o||r.navigator&&r.navigator.standalone)if(c&&c.resolve){var l=c.resolve(u);e=function(){l.then(f)}}else e=function(){i.call(r,f)};else{var h=!0,p=document.createTextNode("");new o(f).observe(p,{characterData:!0}),e=function(){p.data=h=!h}}return function(r){var i={fn:r,next:u};n&&(n.next=i),t||(t=i,e()),n=i}}},function(t,n,e){var r=e(10);function i(t){var n,e;this.promise=new t((function(t,r){if(n!==u||e!==u)throw TypeError("Bad Promise constructor");n=t,e=r})),this.resolve=r(n),this.reject=r(e)}t.exports.f=function(t){return new i(t)}},function(t,n,e){var r=e(39),i=e(54),o=e(1),u=e(2).Reflect;t.exports=u&&u.ownKeys||function(t){var n=r.f(o(t)),e=i.f;return e?n.concat(e(t)):n}},function(t,n,e){var r=e(2),i=e(6),o=e(32),a=e(65),c=e(14),s=e(43),f=e(4),l=e(42),h=e(21),p=e(7),v=e(123),d=e(39).f,g=e(8).f,y=e(87),m=e(45),b="prototype",_="Wrong index!",x=r.ArrayBuffer,S=r.DataView,w=r.Math,k=r.RangeError,T=r.Infinity,E=x,P=w.abs,O=w.pow,M=w.floor,A=w.log,N=w.LN2,R=i?"_b":"buffer",F=i?"_l":"byteLength",j=i?"_o":"byteOffset";function I(t,n,e){var r,i,o,u=new Array(e),a=8*e-n-1,c=(1<<a)-1,s=c>>1,f=23===n?O(2,-24)-O(2,-77):0,l=0,h=t<0||0===t&&1/t<0?1:0;for((t=P(t))!=t||t===T?(i=t!=t?1:0,r=c):(r=M(A(t)/N),t*(o=O(2,-r))<1&&(r--,o*=2),(t+=r+s>=1?f/o:f*O(2,1-s))*o>=2&&(r++,o/=2),r+s>=c?(i=0,r=c):r+s>=1?(i=(t*o-1)*O(2,n),r+=s):(i=t*O(2,s-1)*O(2,n),r=0));n>=8;u[l++]=255&i,i/=256,n-=8);for(r=r<<n|i,a+=n;a>0;u[l++]=255&r,r/=256,a-=8);return u[--l]|=128*h,u}function D(t,n,e){var r,i=8*e-n-1,o=(1<<i)-1,u=o>>1,a=i-7,c=e-1,s=t[c--],f=127&s;for(s>>=7;a>0;f=256*f+t[c],c--,a-=8);for(r=f&(1<<-a)-1,f>>=-a,a+=n;a>0;r=256*r+t[c],c--,a-=8);if(0===f)f=1-u;else{if(f===o)return r?NaN:s?-T:T;r+=O(2,n),f-=u}return(s?-1:1)*r*O(2,f-n)}function z(t){return t[3]<<24|t[2]<<16|t[1]<<8|t[0]}function C(t){return[255&t]}function L(t){return[255&t,t>>8&255]}function Z(t){return[255&t,t>>8&255,t>>16&255,t>>24&255]}function H(t){return I(t,52,8)}function W(t){return I(t,23,4)}function U(t,n,e){g(t[b],n,{get:function(){return this[e]}})}function G(t,n,e,r){var i=v(+e);if(i+n>t[F])throw k(_);var o=i+t[j],u=t[R]._b.slice(o,o+n);return r?u:u.reverse()}function V(t,n,e,r,i,o){var u=v(+e);if(u+n>t[F])throw k(_);for(var a=t[R]._b,c=u+t[j],s=r(+i),f=0;f<n;f++)a[c+f]=s[o?f:n-f-1]}if(a.ABV){if(!f((function(){x(1)}))||!f((function(){new x(-1)}))||f((function(){return new x,new x(1.5),new x(NaN),"ArrayBuffer"!=x.name}))){for(var B,X=(x=function(t){return l(this,x),new E(v(t))})[b]=E[b],Y=d(E),J=0;Y.length>J;)(B=Y[J++])in x||c(x,B,E[B]);o||(X.constructor=x)}var q=new S(new x(2)),K=S[b].setInt8;q.setInt8(0,2147483648),q.setInt8(1,2147483649),!q.getInt8(0)&&q.getInt8(1)||s(S[b],{setInt8:function(t,n){K.call(this,t,n<<24>>24)},setUint8:function(t,n){K.call(this,t,n<<24>>24)}},!0)}else x=function(t){l(this,x,"ArrayBuffer");var n=v(t);this._b=y.call(new Array(n),0),this[F]=n},S=function(t,n,e){l(this,S,"DataView"),l(t,x,"DataView");var r=t[F],i=h(n);if(i<0||i>r)throw k("Wrong offset!");if(i+(e=e===u?r-i:p(e))>r)throw k("Wrong length!");this[R]=t,this[j]=i,this[F]=e},i&&(U(x,"byteLength","_l"),U(S,"buffer","_b"),U(S,"byteLength","_l"),U(S,"byteOffset","_o")),s(S[b],{getInt8:function(t){return G(this,1,t)[0]<<24>>24},getUint8:function(t){return G(this,1,t)[0]},getInt16:function(t){var n=G(this,2,t,arguments[1]);return(n[1]<<8|n[0])<<16>>16},getUint16:function(t){var n=G(this,2,t,arguments[1]);return n[1]<<8|n[0]},getInt32:function(t){return z(G(this,4,t,arguments[1]))},getUint32:function(t){return z(G(this,4,t,arguments[1]))>>>0},getFloat32:function(t){return D(G(this,4,t,arguments[1]),23,4)},getFloat64:function(t){return D(G(this,8,t,arguments[1]),52,8)},setInt8:function(t,n){V(this,1,t,C,n)},setUint8:function(t,n){V(this,1,t,C,n)},setInt16:function(t,n){V(this,2,t,L,n,arguments[2])},setUint16:function(t,n){V(this,2,t,L,n,arguments[2])},setInt32:function(t,n){V(this,4,t,Z,n,arguments[2])},setUint32:function(t,n){V(this,4,t,Z,n,arguments[2])},setFloat32:function(t,n){V(this,4,t,W,n,arguments[2])},setFloat64:function(t,n){V(this,8,t,H,n,arguments[2])}});m(x,"ArrayBuffer"),m(S,"DataView"),c(S[b],a.VIEW,!0),n.ArrayBuffer=x,n.DataView=S},function(t,n){t.exports=function(t,n){var e=n===Object(n)?function(t){return n[t]}:n;return function(n){return String(n).replace(t,e)}}},function(t,n,e){t.exports=!e(6)&&!e(4)((function(){return 7!=Object.defineProperty(e(69)("div"),"a",{get:function(){return 7}}).a}))},function(t,n,e){n.f=e(5)},function(t,n,e){var r=e(12),i=e(11),o=e(53)(!1),u=e(71)("IE_PROTO");t.exports=function(t,n){var e,a=i(t),c=0,s=[];for(e in a)e!=u&&r(a,e)&&s.push(e);for(;n.length>c;)r(a,e=n[c++])&&(~o(s,e)||s.push(e));return s}},function(t,n,e){var r=e(8),i=e(1),o=e(27);t.exports=e(6)?Object.defineProperties:function(t,n){i(t);for(var e,u=o(n),a=u.length,c=0;a>c;)r.f(t,e=u[c++],n[e]);return t}},function(t,n,e){var r=e(11),i=e(39).f,o={}.toString,u="object"==typeof window&&window&&Object.getOwnPropertyNames?Object.getOwnPropertyNames(window):[];t.exports.f=function(t){return u&&"[object Window]"==o.call(t)?function(t){try{return i(t)}catch(n){return u.slice()}}(t):i(r(t))}},function(t,n){t.exports=Object.is||function(t,n){return t===n?0!==t||1/t==1/n:t!=t&&n!=n}},function(t,n,e){var r=e(10),i=e(3),o=e(76),u=[].slice,a={},c=function(t,n,e){if(!(n in a)){for(var r=[],i=0;i<n;i++)r[i]="a["+i+"]";a[n]=Function("F,a","return new F("+r.join(",")+")")}return a[n](t,e)};t.exports=Function.bind||function(t){var n=r(this),e=u.call(arguments,1),a=function(){var r=e.concat(u.call(arguments));return this instanceof a?c(n,r.length,r):o(n,r,t)};return i(n.prototype)&&(a.prototype=n.prototype),a}},function(t,n,e){var r=e(20);t.exports=function(t,n){if("number"!=typeof t&&"Number"!=r(t))throw TypeError(n);return+t}},function(t,n,e){var r=e(3),i=Math.floor;t.exports=function(t){return!r(t)&&isFinite(t)&&i(t)===t}},function(t,n,e){var r=e(2).parseFloat,i=e(46).trim;t.exports=1/r(e(78)+"-0")!=-1/0?function(t){var n=i(String(t),3),e=r(n);return 0===e&&"-"==n.charAt(0)?-0:e}:r},function(t,n,e){var r=e(2).parseInt,i=e(46).trim,o=e(78),u=/^[-+]?0[xX]/;t.exports=8!==r(o+"08")||22!==r(o+"0x16")?function(t,n){var e=i(String(t),3);return r(e,n>>>0||(u.test(e)?16:10))}:r},function(t,n){t.exports=Math.log1p||function(t){return(t=+t)>-1e-8&&t<1e-8?t-t*t/2:Math.log(1+t)}},function(t,n,e){var r=e(80),i=Math.pow,o=i(2,-52),u=i(2,-23),a=i(2,127)*(2-u),c=i(2,-126);t.exports=Math.fround||function(t){var n,e,i=Math.abs(t),s=r(t);return i<c?s*(i/c/u+1/o-1/o)*c*u:(e=(n=(1+u/o)*i)-(n-i))>a||e!=e?s*(1/0):s*e}},function(t,n,e){var r=e(1);t.exports=function(t,n,e,i){try{return i?n(r(e)[0],e[1]):n(e)}catch(a){var o=t.return;throw o!==u&&r(o.call(t)),a}}},function(t,n,e){var r=e(10),i=e(9),o=e(48),u=e(7);t.exports=function(t,n,e,a,c){r(n);var s=i(t),f=o(s),l=u(s.length),h=c?l-1:0,p=c?-1:1;if(e<2)for(;;){if(h in f){a=f[h],h+=p;break}if(h+=p,c?h<0:l<=h)throw TypeError("Reduce of empty array with no initial value")}for(;c?h>=0:l>h;h+=p)h in f&&(a=n(a,f[h],h,s));return a}},function(t,n,e){var r=e(9),i=e(38),o=e(7);t.exports=[].copyWithin||function(t,n){var e=r(this),a=o(e.length),c=i(t,a),s=i(n,a),f=arguments.length>2?arguments[2]:u,l=Math.min((f===u?a:i(f,a))-s,a-c),h=1;for(s<c&&c<s+l&&(h=-1,s+=l-1,c+=l-1);l-- >0;)s in e?e[c]=e[s]:delete e[c],c+=h,s+=h;return e}},function(t,n,e){var r=e(90);e(0)({target:"RegExp",proto:!0,forced:r!==/./.exec},{exec:r})},function(t,n,e){e(6)&&"g"!=/./g.flags&&e(8).f(RegExp.prototype,"flags",{configurable:!0,get:e(51)})},function(t,n){t.exports=function(t){try{return{e:!1,v:t()}}catch(n){return{e:!0,v:n}}}},function(t,n,e){var r=e(1),i=e(3),o=e(94);t.exports=function(t,n){if(r(t),i(n)&&n.constructor===t)return n;var e=o.f(t);return(0,e.resolve)(n),e.promise}},function(t,n,e){var r=e(119),i=e(44);t.exports=e(64)("Map",(function(t){return function(){return t(this,arguments.length>0?arguments[0]:u)}}),{get:function(t){var n=r.getEntry(i(this,"Map"),t);return n&&n.v},set:function(t,n){return r.def(i(this,"Map"),0===t?0:t,n)}},r,!0)},function(t,n,e){var r=e(8).f,i=e(28),o=e(43),a=e(19),c=e(42),s=e(36),f=e(58),l=e(89),h=e(41),p=e(6),v=e(33).fastKey,d=e(44),g=p?"_s":"size",y=function(t,n){var e,r=v(n);if("F"!==r)return t._i[r];for(e=t._f;e;e=e.n)if(e.k==n)return e};t.exports={getConstructor:function(t,n,e,f){var l=t((function(t,r){c(t,l,n,"_i"),t._t=n,t._i=i(null),t._f=u,t._l=u,t[g]=0,r!=u&&s(r,e,t[f],t)}));return o(l.prototype,{clear:function(){for(var t=d(this,n),e=t._i,r=t._f;r;r=r.n)r.r=!0,r.p&&(r.p=r.p.n=u),delete e[r.i];t._f=t._l=u,t[g]=0},delete:function(t){var e=d(this,n),r=y(e,t);if(r){var i=r.n,o=r.p;delete e._i[r.i],r.r=!0,o&&(o.n=i),i&&(i.p=o),e._f==r&&(e._f=i),e._l==r&&(e._l=o),e[g]--}return!!r},forEach:function(t){d(this,n);for(var e,r=a(t,arguments.length>1?arguments[1]:u,3);e=e?e.n:this._f;)for(r(e.v,e.k,this);e&&e.r;)e=e.p},has:function(t){return!!y(d(this,n),t)}}),p&&r(l.prototype,"size",{get:function(){return d(this,n)[g]}}),l},def:function(t,n,e){var r,i,o=y(t,n);return o?o.v=e:(t._l=o={i:i=v(n,!0),k:n,v:e,p:r=t._l,n:u,r:!1},t._f||(t._f=o),r&&(r.n=o),t[g]++,"F"!==i&&(t._i[i]=o)),t},getEntry:y,setStrong:function(t,n,e){f(t,n,(function(t,e){this._t=d(t,n),this._k=e,this._l=u}),(function(){for(var t=this._k,n=this._l;n&&n.r;)n=n.p;return this._t&&(this._l=n=n?n.n:this._t._f)?l(0,"keys"==t?n.k:"values"==t?n.v:[n.k,n.v]):(this._t=u,l(1))}),e?"entries":"values",!e,!0),h(n)}}},function(t,n,e){var r=e(119),i=e(44);t.exports=e(64)("Set",(function(t){return function(){return t(this,arguments.length>0?arguments[0]:u)}}),{add:function(t){return r.def(i(this,"Set"),t=0===t?0:t,t)}},r)},function(t,n,e){var r,i=e(2),o=e(26)(0),a=e(15),c=e(33),s=e(74),f=e(122),l=e(3),h=e(44),p=e(44),v=!i.ActiveXObject&&"ActiveXObject"in i,d=c.getWeak,g=Object.isExtensible,y=f.ufstore,m=function(t){return function(){return t(this,arguments.length>0?arguments[0]:u)}},b={get:function(t){if(l(t)){var n=d(t);return!0===n?y(h(this,"WeakMap")).get(t):n?n[this._i]:u}},set:function(t,n){return f.def(h(this,"WeakMap"),t,n)}},_=t.exports=e(64)("WeakMap",m,b,f,!0,!0);p&&v&&(s((r=f.getConstructor(m,"WeakMap")).prototype,b),c.NEED=!0,o(["delete","has","get","set"],(function(t){var n=_.prototype,e=n[t];a(n,t,(function(n,i){if(l(n)&&!g(n)){this._f||(this._f=new r);var o=this._f[t](n,i);return"set"==t?this:o}return e.call(this,n,i)}))})))},function(t,n,e){var r=e(43),i=e(33).getWeak,o=e(1),a=e(3),c=e(42),s=e(36),f=e(26),l=e(12),h=e(44),p=f(5),v=f(6),d=0,g=function(t){return t._l||(t._l=new y)},y=function(){this.a=[]},m=function(t,n){return p(t.a,(function(t){return t[0]===n}))};y.prototype={get:function(t){var n=m(this,t);if(n)return n[1]},has:function(t){return!!m(this,t)},set:function(t,n){var e=m(this,t);e?e[1]=n:this.a.push([t,n])},delete:function(t){var n=v(this.a,(function(n){return n[0]===t}));return~n&&this.a.splice(n,1),!!~n}},t.exports={getConstructor:function(t,n,e,o){var f=t((function(t,r){c(t,f,n,"_i"),t._t=n,t._i=d++,t._l=u,r!=u&&s(r,e,t[o],t)}));return r(f.prototype,{delete:function(t){if(!a(t))return!1;var e=i(t);return!0===e?g(h(this,n)).delete(t):e&&l(e,this._i)&&delete e[this._i]},has:function(t){if(!a(t))return!1;var e=i(t);return!0===e?g(h(this,n)).has(t):e&&l(e,this._i)}}),f},def:function(t,n,e){var r=i(o(n),!0);return!0===r?g(t).set(n,e):r[t._i]=e,t},ufstore:g}},function(t,n,e){var r=e(21),i=e(7);t.exports=function(t){if(t===u)return 0;var n=r(t),e=i(n);if(n!==e)throw RangeError("Wrong length!");return e}},function(t,n,e){var r=e(55),i=e(3),o=e(7),a=e(19),c=e(5)("isConcatSpreadable");t.exports=function t(n,e,s,f,l,h,p,v){for(var d,g,y=l,m=0,b=!!p&&a(p,v,3);m<f;){if(m in s){if(d=b?b(s[m],m,e):s[m],g=!1,i(d)&&(g=(g=d[c])!==u?!!g:r(d)),g&&h>0)y=t(n,e,d,o(d.length),y,h-1)-1;else{if(y>=9007199254740991)throw TypeError();n[y]=d}y++}m++}return y}},function(t,n,e){var r=e(7),i=e(79),o=e(24);t.exports=function(t,n,e,a){var c=String(o(t)),s=c.length,f=e===u?" ":String(e),l=r(n);if(l<=s||""==f)return c;var h=l-s,p=i.call(f,Math.ceil(h/f.length));return p.length>h&&(p=p.slice(0,h)),a?p+c:c+p}},function(t,n,e){var r=e(6),i=e(27),o=e(11),u=e(49).f;t.exports=function(t){return function(n){for(var e,a=o(n),c=i(a),s=c.length,f=0,l=[];s>f;)e=c[f++],r&&!u.call(a,e)||l.push(t?[e,a[e]]:a[e]);return l}}},function(t,n,e){var r=e(34),i=e(128);t.exports=function(t){return function(){if(r(this)!=t)throw TypeError(t+"#toJSON isn't generic");return i(this)}}},function(t,n,e){var r=e(36);t.exports=function(t,n){var e=[];return r(t,!1,e.push,e,n),e}},function(t,n){t.exports=Math.scale||function(t,n,e,r,i){return 0===arguments.length||t!=t||n!=n||e!=e||r!=r||i!=i?NaN:t===1/0||t===-1/0?t:(t-n)*(i-r)/(e-n)+r}},function(t,n,e){var r=e(34),i=e(5)("iterator"),o=e(40);t.exports=e(13).isIterable=function(t){var n=Object(t);return n[i]!==u||"@@iterator"in n||o.hasOwnProperty(r(n))}},function(t,n,e){var r=e(132),i=e(76),o=e(10);t.exports=function(){for(var t=o(this),n=arguments.length,e=new Array(n),u=0,a=r._,c=!1;n>u;)(e[u]=arguments[u++])===a&&(c=!0);return function(){var r,o=this,u=arguments.length,s=0,f=0;if(!c&&!u)return i(t,e,o);if(r=e.slice(),c)for(;n>s;s++)r[s]===a&&(r[s]=arguments[f++]);for(;u>f;)r.push(arguments[f++]);return i(t,r,o)}}},function(t,n,e){t.exports=e(2)},function(t,n,e){var r=e(8),i=e(16),o=e(95),u=e(11);t.exports=function(t,n){for(var e,a=o(u(n)),c=a.length,s=0;c>s;)r.f(t,e=a[s++],i.f(n,e));return t}},function(t,n,e){e(135),e(138),e(139),e(140),e(141),e(142),e(143),e(144),e(145),e(146),e(147),e(148),e(149),e(150),e(151),e(152),e(153),e(154),e(155),e(156),e(157),e(158),e(159),e(160),e(161),e(162),e(163),e(164),e(165),e(166),e(167),e(168),e(169),e(170),e(171),e(172),e(173),e(174),e(175),e(176),e(177),e(178),e(179),e(180),e(181),e(182),e(183),e(184),e(185),e(186),e(187),e(188),e(189),e(190),e(191),e(192),e(193),e(194),e(195),e(196),e(197),e(198),e(199),e(200),e(201),e(202),e(203),e(204),e(205),e(206),e(207),e(208),e(209),e(210),e(211),e(212),e(213),e(214),e(215),e(216),e(217),e(219),e(220),e(221),e(222),e(223),e(224),e(225),e(226),e(227),e(228),e(229),e(230),e(88),e(231),e(232),e(114),e(233),e(115),e(234),e(235),e(236),e(237),e(238),e(118),e(120),e(121),e(239),e(240),e(241),e(242),e(243),e(244),e(245),e(246),e(247),e(248),e(249),e(250),e(251),e(252),e(253),e(254),e(255),e(256),e(258),e(259),e(261),e(262),e(263),e(264),e(265),e(266),e(267),e(268),e(269),e(270),e(271),e(272),e(273),e(274),e(275),e(276),e(277),e(278),e(279),e(280),e(281),e(282),e(283),e(284),e(285),e(286),e(287),e(288),e(289),e(290),e(291),e(292),e(293),e(294),e(295),e(296),e(297),e(298),e(299),e(300),e(301),e(302),e(303),e(304),e(305),e(306),e(307),e(308),e(309),e(310),e(311),e(312),e(313),e(314),e(315),e(316),e(317),e(318),e(319),e(320),e(321),e(322),e(323),e(324),e(325),e(326),e(327),e(328),e(329),e(330),e(331),e(50),e(333),e(130),e(334),e(335),e(336),e(337),e(338),e(339),e(340),e(341),e(342),t.exports=e(343)},function(t,n,e){var r=e(2),i=e(12),o=e(6),a=e(0),c=e(15),s=e(33).KEY,f=e(4),l=e(47),h=e(45),p=e(37),v=e(5),d=e(99),g=e(70),y=e(137),m=e(55),b=e(1),_=e(3),x=e(9),S=e(11),w=e(23),k=e(31),T=e(28),E=e(102),P=e(16),O=e(54),M=e(8),A=e(27),N=P.f,R=M.f,F=E.f,j=r.Symbol,I=r.JSON,D=I&&I.stringify,z=v("_hidden"),C=v("toPrimitive"),L={}.propertyIsEnumerable,Z=l("symbol-registry"),H=l("symbols"),W=l("op-symbols"),U=Object.prototype,G="function"==typeof j&&!!O.f,V=r.QObject,B=!V||!V.prototype||!V.prototype.findChild,X=o&&f((function(){return 7!=T(R({},"a",{get:function(){return R(this,"a",{value:7}).a}})).a}))?function(t,n,e){var r=N(U,n);r&&delete U[n],R(t,n,e),r&&t!==U&&R(U,n,r)}:R,Y=function(t){var n=H[t]=T(j.prototype);return n._k=t,n},J=G&&"symbol"==typeof j.iterator?function(t){return"symbol"==typeof t}:function(t){return t instanceof j},q=function(t,n,e){return t===U&&q(W,n,e),b(t),n=w(n,!0),b(e),i(H,n)?(e.enumerable?(i(t,z)&&t[z][n]&&(t[z][n]=!1),e=T(e,{enumerable:k(0,!1)})):(i(t,z)||R(t,z,k(1,{})),t[z][n]=!0),X(t,n,e)):R(t,n,e)},K=function(t,n){b(t);for(var e,r=y(n=S(n)),i=0,o=r.length;o>i;)q(t,e=r[i++],n[e]);return t},Q=function(t){var n=L.call(this,t=w(t,!0));return!(this===U&&i(H,t)&&!i(W,t))&&(!(n||!i(this,t)||!i(H,t)||i(this,z)&&this[z][t])||n)},$=function(t,n){if(t=S(t),n=w(n,!0),t!==U||!i(H,n)||i(W,n)){var e=N(t,n);return!e||!i(H,n)||i(t,z)&&t[z][n]||(e.enumerable=!0),e}},tt=function(t){for(var n,e=F(S(t)),r=[],o=0;e.length>o;)i(H,n=e[o++])||n==z||n==s||r.push(n);return r},nt=function(t){for(var n,e=t===U,r=F(e?W:S(t)),o=[],u=0;r.length>u;)!i(H,n=r[u++])||e&&!i(U,n)||o.push(H[n]);return o};G||(c((j=function(){if(this instanceof j)throw TypeError("Symbol is not a constructor!");var t=p(arguments.length>0?arguments[0]:u),n=function(e){this===U&&n.call(W,e),i(this,z)&&i(this[z],t)&&(this[z][t]=!1),X(this,t,k(1,e))};return o&&B&&X(U,t,{configurable:!0,set:n}),Y(t)}).prototype,"toString",(function(){return this._k})),P.f=$,M.f=q,e(39).f=E.f=tt,e(49).f=Q,O.f=nt,o&&!e(32)&&c(U,"propertyIsEnumerable",Q,!0),d.f=function(t){return Y(v(t))}),a(a.G+a.W+a.F*!G,{Symbol:j});for(var et="hasInstance,isConcatSpreadable,iterator,match,replace,search,species,split,toPrimitive,toStringTag,unscopables".split(","),rt=0;et.length>rt;)v(et[rt++]);for(var it=A(v.store),ot=0;it.length>ot;)g(it[ot++]);a(a.S+a.F*!G,"Symbol",{for:function(t){return i(Z,t+="")?Z[t]:Z[t]=j(t)},keyFor:function(t){if(!J(t))throw TypeError(t+" is not a symbol!");for(var n in Z)if(Z[n]===t)return n},useSetter:function(){B=!0},useSimple:function(){B=!1}}),a(a.S+a.F*!G,"Object",{create:function(t,n){return n===u?T(t):K(T(t),n)},defineProperty:q,defineProperties:K,getOwnPropertyDescriptor:$,getOwnPropertyNames:tt,getOwnPropertySymbols:nt});var ut=f((function(){O.f(1)}));a(a.S+a.F*ut,"Object",{getOwnPropertySymbols:function(t){return O.f(x(t))}}),I&&a(a.S+a.F*(!G||f((function(){var t=j();return"[null]"!=D([t])||"{}"!=D({a:t})||"{}"!=D(Object(t))}))),"JSON",{stringify:function(t){for(var n,e,r=[t],i=1;arguments.length>i;)r.push(arguments[i++]);if(e=n=r[1],(_(n)||t!==u)&&!J(t))return m(n)||(n=function(t,n){if("function"==typeof e&&(n=e.call(this,t,n)),!J(n))return n}),r[1]=n,D.apply(I,r)}}),j.prototype[C]||e(14)(j.prototype,C,j.prototype.valueOf),h(j,"Symbol"),h(Math,"Math",!0),h(r.JSON,"JSON",!0)},function(t,n,e){t.exports=e(47)("native-function-to-string",Function.toString)},function(t,n,e){var r=e(27),i=e(54),o=e(49);t.exports=function(t){var n=r(t),e=i.f;if(e)for(var u,a=e(t),c=o.f,s=0;a.length>s;)c.call(t,u=a[s++])&&n.push(u);return n}},function(t,n,e){var r=e(0);r(r.S+r.F*!e(6),"Object",{defineProperty:e(8).f})},function(t,n,e){var r=e(0);r(r.S+r.F*!e(6),"Object",{defineProperties:e(101)})},function(t,n,e){var r=e(11),i=e(16).f;e(25)("getOwnPropertyDescriptor",(function(){return function(t,n){return i(r(t),n)}}))},function(t,n,e){var r=e(0);r(r.S,"Object",{create:e(28)})},function(t,n,e){var r=e(9),i=e(17);e(25)("getPrototypeOf",(function(){return function(t){return i(r(t))}}))},function(t,n,e){var r=e(9),i=e(27);e(25)("keys",(function(){return function(t){return i(r(t))}}))},function(t,n,e){e(25)("getOwnPropertyNames",(function(){return e(102).f}))},function(t,n,e){var r=e(3),i=e(33).onFreeze;e(25)("freeze",(function(t){return function(n){return t&&r(n)?t(i(n)):n}}))},function(t,n,e){var r=e(3),i=e(33).onFreeze;e(25)("seal",(function(t){return function(n){return t&&r(n)?t(i(n)):n}}))},function(t,n,e){var r=e(3),i=e(33).onFreeze;e(25)("preventExtensions",(function(t){return function(n){return t&&r(n)?t(i(n)):n}}))},function(t,n,e){var r=e(3);e(25)("isFrozen",(function(t){return function(n){return!r(n)||!!t&&t(n)}}))},function(t,n,e){var r=e(3);e(25)("isSealed",(function(t){return function(n){return!r(n)||!!t&&t(n)}}))},function(t,n,e){var r=e(3);e(25)("isExtensible",(function(t){return function(n){return!!r(n)&&(!t||t(n))}}))},function(t,n,e){var r=e(0);r(r.S+r.F,"Object",{assign:e(74)})},function(t,n,e){var r=e(0);r(r.S,"Object",{is:e(103)})},function(t,n,e){var r=e(0);r(r.S,"Object",{setPrototypeOf:e(75).set})},function(t,n,e){var r=e(34),i={};i[e(5)("toStringTag")]="z",i+""!="[object z]"&&e(15)(Object.prototype,"toString",(function(){return"[object "+r(this)+"]"}),!0)},function(t,n,e){var r=e(0);r(r.P,"Function",{bind:e(104)})},function(t,n,e){var r=e(8).f,i=Function.prototype,o=/^\s*function ([^ (]*)/;"name"in i||e(6)&&r(i,"name",{configurable:!0,get:function(){try{return(""+this).match(o)[1]}catch(t){return""}}})},function(t,n,e){var r=e(3),i=e(17),o=e(5)("hasInstance"),u=Function.prototype;o in u||e(8).f(u,o,{value:function(t){if("function"!=typeof this||!r(t))return!1;if(!r(this.prototype))return t instanceof this;for(;t=i(t);)if(this.prototype===t)return!0;return!1}})},function(t,n,e){var r=e(2),i=e(12),o=e(20),u=e(77),a=e(23),c=e(4),s=e(39).f,f=e(16).f,l=e(8).f,h=e(46).trim,p=r.Number,v=p,d=p.prototype,g="Number"==o(e(28)(d)),y="trim"in String.prototype,m=function(t){var n=a(t,!1);if("string"==typeof n&&n.length>2){var e,r,i,o=(n=y?n.trim():h(n,3)).charCodeAt(0);if(43===o||45===o){if(88===(e=n.charCodeAt(2))||120===e)return NaN}else if(48===o){switch(n.charCodeAt(1)){case 66:case 98:r=2,i=49;break;case 79:case 111:r=8,i=55;break;default:return+n}for(var u,c=n.slice(2),s=0,f=c.length;s<f;s++)if((u=c.charCodeAt(s))<48||u>i)return NaN;return parseInt(c,r)}}return+n};if(!p(" 0o1")||!p("0b1")||p("+0x1")){p=function(t){var n=arguments.length<1?0:t,e=this;return e instanceof p&&(g?c((function(){d.valueOf.call(e)})):"Number"!=o(e))?u(new v(m(n)),e,p):m(n)};for(var b,_=e(6)?s(v):"MAX_VALUE,MIN_VALUE,NaN,NEGATIVE_INFINITY,POSITIVE_INFINITY,EPSILON,isFinite,isInteger,isNaN,isSafeInteger,MAX_SAFE_INTEGER,MIN_SAFE_INTEGER,parseFloat,parseInt,isInteger".split(","),x=0;_.length>x;x++)i(v,b=_[x])&&!i(p,b)&&l(p,b,f(v,b));p.prototype=d,d.constructor=p,e(15)(r,"Number",p)}},function(t,n,e){var r=e(0),i=e(21),o=e(105),u=e(79),a=1..toFixed,c=Math.floor,s=[0,0,0,0,0,0],f="Number.toFixed: incorrect invocation!",l=function(t,n){for(var e=-1,r=n;++e<6;)s[e]=(r+=t*s[e])%1e7,r=c(r/1e7)},h=function(t){for(var n=6,e=0;--n>=0;)s[n]=c((e+=s[n])/t),e=e%t*1e7},p=function(){for(var t=6,n="";--t>=0;)if(""!==n||0===t||0!==s[t]){var e=String(s[t]);n=""===n?e:n+u.call("0",7-e.length)+e}return n},v=function(t,n,e){return 0===n?e:n%2==1?v(t,n-1,e*t):v(t*t,n/2,e)};r(r.P+r.F*(!!a&&("0.000"!==8e-5.toFixed(3)||"1"!==.9.toFixed(0)||"1.25"!==1.255.toFixed(2)||"1000000000000000128"!==(0xde0b6b3a7640080).toFixed(0))||!e(4)((function(){a.call({})}))),"Number",{toFixed:function(t){var n,e,r,a,c=o(this,f),s=i(t),d="",g="0";if(s<0||s>20)throw RangeError(f);if(c!=c)return"NaN";if(c<=-1e21||c>=1e21)return String(c);if(c<0&&(d="-",c=-c),c>1e-21)if(e=(n=function(t){for(var n=0,e=t;e>=4096;)n+=12,e/=4096;for(;e>=2;)n+=1,e/=2;return n}(c*v(2,69,1))-69)<0?c*v(2,-n,1):c/v(2,n,1),e*=4503599627370496,(n=52-n)>0){for(l(0,e),r=s;r>=7;)l(1e7,0),r-=7;for(l(v(10,r,1),0),r=n-1;r>=23;)h(1<<23),r-=23;h(1<<r),l(1,1),h(2),g=p()}else l(0,e),l(1<<-n,0),g=p()+u.call("0",s);return s>0?d+((a=g.length)<=s?"0."+u.call("0",s-a)+g:g.slice(0,a-s)+"."+g.slice(a-s)):d+g}})},function(t,n,e){var r=e(0),i=e(4),o=e(105),a=1..toPrecision;r(r.P+r.F*(i((function(){return"1"!==a.call(1,u)}))||!i((function(){a.call({})}))),"Number",{toPrecision:function(t){var n=o(this,"Number#toPrecision: incorrect invocation!");return t===u?a.call(n):a.call(n,t)}})},function(t,n,e){var r=e(0);r(r.S,"Number",{EPSILON:Math.pow(2,-52)})},function(t,n,e){var r=e(0),i=e(2).isFinite;r(r.S,"Number",{isFinite:function(t){return"number"==typeof t&&i(t)}})},function(t,n,e){var r=e(0);r(r.S,"Number",{isInteger:e(106)})},function(t,n,e){var r=e(0);r(r.S,"Number",{isNaN:function(t){return t!=t}})},function(t,n,e){var r=e(0),i=e(106),o=Math.abs;r(r.S,"Number",{isSafeInteger:function(t){return i(t)&&o(t)<=9007199254740991}})},function(t,n,e){var r=e(0);r(r.S,"Number",{MAX_SAFE_INTEGER:9007199254740991})},function(t,n,e){var r=e(0);r(r.S,"Number",{MIN_SAFE_INTEGER:-9007199254740991})},function(t,n,e){var r=e(0),i=e(107);r(r.S+r.F*(Number.parseFloat!=i),"Number",{parseFloat:i})},function(t,n,e){var r=e(0),i=e(108);r(r.S+r.F*(Number.parseInt!=i),"Number",{parseInt:i})},function(t,n,e){var r=e(0),i=e(108);r(r.G+r.F*(parseInt!=i),{parseInt:i})},function(t,n,e){var r=e(0),i=e(107);r(r.G+r.F*(parseFloat!=i),{parseFloat:i})},function(t,n,e){var r=e(0),i=e(109),o=Math.sqrt,u=Math.acosh;r(r.S+r.F*!(u&&710==Math.floor(u(Number.MAX_VALUE))&&u(1/0)==1/0),"Math",{acosh:function(t){return(t=+t)<1?NaN:t>94906265.62425156?Math.log(t)+Math.LN2:i(t-1+o(t-1)*o(t+1))}})},function(t,n,e){var r=e(0),i=Math.asinh;r(r.S+r.F*!(i&&1/i(0)>0),"Math",{asinh:function t(n){return isFinite(n=+n)&&0!=n?n<0?-t(-n):Math.log(n+Math.sqrt(n*n+1)):n}})},function(t,n,e){var r=e(0),i=Math.atanh;r(r.S+r.F*!(i&&1/i(-0)<0),"Math",{atanh:function(t){return 0==(t=+t)?t:Math.log((1+t)/(1-t))/2}})},function(t,n,e){var r=e(0),i=e(80);r(r.S,"Math",{cbrt:function(t){return i(t=+t)*Math.pow(Math.abs(t),1/3)}})},function(t,n,e){var r=e(0);r(r.S,"Math",{clz32:function(t){return(t>>>=0)?31-Math.floor(Math.log(t+.5)*Math.LOG2E):32}})},function(t,n,e){var r=e(0),i=Math.exp;r(r.S,"Math",{cosh:function(t){return(i(t=+t)+i(-t))/2}})},function(t,n,e){var r=e(0),i=e(81);r(r.S+r.F*(i!=Math.expm1),"Math",{expm1:i})},function(t,n,e){var r=e(0);r(r.S,"Math",{fround:e(110)})},function(t,n,e){var r=e(0),i=Math.abs;r(r.S,"Math",{hypot:function(t,n){for(var e,r,o=0,u=0,a=arguments.length,c=0;u<a;)c<(e=i(arguments[u++]))?(o=o*(r=c/e)*r+1,c=e):o+=e>0?(r=e/c)*r:e;return c===1/0?1/0:c*Math.sqrt(o)}})},function(t,n,e){var r=e(0),i=Math.imul;r(r.S+r.F*e(4)((function(){return-5!=i(4294967295,5)||2!=i.length})),"Math",{imul:function(t,n){var e=+t,r=+n,i=65535&e,o=65535&r;return 0|i*o+((65535&e>>>16)*o+i*(65535&r>>>16)<<16>>>0)}})},function(t,n,e){var r=e(0);r(r.S,"Math",{log10:function(t){return Math.log(t)*Math.LOG10E}})},function(t,n,e){var r=e(0);r(r.S,"Math",{log1p:e(109)})},function(t,n,e){var r=e(0);r(r.S,"Math",{log2:function(t){return Math.log(t)/Math.LN2}})},function(t,n,e){var r=e(0);r(r.S,"Math",{sign:e(80)})},function(t,n,e){var r=e(0),i=e(81),o=Math.exp;r(r.S+r.F*e(4)((function(){return-2e-17!=!Math.sinh(-2e-17)})),"Math",{sinh:function(t){return Math.abs(t=+t)<1?(i(t)-i(-t))/2:(o(t-1)-o(-t-1))*(Math.E/2)}})},function(t,n,e){var r=e(0),i=e(81),o=Math.exp;r(r.S,"Math",{tanh:function(t){var n=i(t=+t),e=i(-t);return n==1/0?1:e==1/0?-1:(n-e)/(o(t)+o(-t))}})},function(t,n,e){var r=e(0);r(r.S,"Math",{trunc:function(t){return(t>0?Math.floor:Math.ceil)(t)}})},function(t,n,e){var r=e(0),i=e(38),o=String.fromCharCode,u=String.fromCodePoint;r(r.S+r.F*(!!u&&1!=u.length),"String",{fromCodePoint:function(t){for(var n,e=[],r=arguments.length,u=0;r>u;){if(n=+arguments[u++],i(n,1114111)!==n)throw RangeError(n+" is not a valid code point");e.push(n<65536?o(n):o(55296+((n-=65536)>>10),n%1024+56320))}return e.join("")}})},function(t,n,e){var r=e(0),i=e(11),o=e(7);r(r.S,"String",{raw:function(t){for(var n=i(t.raw),e=o(n.length),r=arguments.length,u=[],a=0;e>a;)u.push(String(n[a++])),a<r&&u.push(String(arguments[a]));return u.join("")}})},function(t,n,e){e(46)("trim",(function(t){return function(){return t(this,3)}}))},function(t,n,e){var r=e(0),i=e(56)(!1);r(r.P,"String",{codePointAt:function(t){return i(this,t)}})},function(t,n,e){var r=e(0),i=e(7),o=e(82),a="".endsWith;r(r.P+r.F*e(83)("endsWith"),"String",{endsWith:function(t){var n=o(this,t,"endsWith"),e=arguments.length>1?arguments[1]:u,r=i(n.length),c=e===u?r:Math.min(i(e),r),s=String(t);return a?a.call(n,s,c):n.slice(c-s.length,c)===s}})},function(t,n,e){var r=e(0),i=e(82);r(r.P+r.F*e(83)("includes"),"String",{includes:function(t){return!!~i(this,t,"includes").indexOf(t,arguments.length>1?arguments[1]:u)}})},function(t,n,e){var r=e(0);r(r.P,"String",{repeat:e(79)})},function(t,n,e){var r=e(0),i=e(7),o=e(82),a="".startsWith;r(r.P+r.F*e(83)("startsWith"),"String",{startsWith:function(t){var n=o(this,t,"startsWith"),e=i(Math.min(arguments.length>1?arguments[1]:u,n.length)),r=String(t);return a?a.call(n,r,e):n.slice(e,e+r.length)===r}})},function(t,n,e){var r=e(56)(!0);e(58)(String,"String",(function(t){this._t=String(t),this._i=0}),(function(){var t,n=this._t,e=this._i;return e>=n.length?{value:u,done:!0}:(t=r(n,e),this._i+=t.length,{value:t,done:!1})}))},function(t,n,e){e(18)("anchor",(function(t){return function(n){return t(this,"a","name",n)}}))},function(t,n,e){e(18)("big",(function(t){return function(){return t(this,"big","","")}}))},function(t,n,e){e(18)("blink",(function(t){return function(){return t(this,"blink","","")}}))},function(t,n,e){e(18)("bold",(function(t){return function(){return t(this,"b","","")}}))},function(t,n,e){e(18)("fixed",(function(t){return function(){return t(this,"tt","","")}}))},function(t,n,e){e(18)("fontcolor",(function(t){return function(n){return t(this,"font","color",n)}}))},function(t,n,e){e(18)("fontsize",(function(t){return function(n){return t(this,"font","size",n)}}))},function(t,n,e){e(18)("italics",(function(t){return function(){return t(this,"i","","")}}))},function(t,n,e){e(18)("link",(function(t){return function(n){return t(this,"a","href",n)}}))},function(t,n,e){e(18)("small",(function(t){return function(){return t(this,"small","","")}}))},function(t,n,e){e(18)("strike",(function(t){return function(){return t(this,"strike","","")}}))},function(t,n,e){e(18)("sub",(function(t){return function(){return t(this,"sub","","")}}))},function(t,n,e){e(18)("sup",(function(t){return function(){return t(this,"sup","","")}}))},function(t,n,e){var r=e(0);r(r.S,"Array",{isArray:e(55)})},function(t,n,e){var r=e(19),i=e(0),o=e(9),a=e(111),c=e(84),s=e(7),f=e(85),l=e(50);i(i.S+i.F*!e(60)((function(t){Array.from(t)})),"Array",{from:function(t){var n,e,i,h,p=o(t),v="function"==typeof this?this:Array,d=arguments.length,g=d>1?arguments[1]:u,y=g!==u,m=0,b=l(p);if(y&&(g=r(g,d>2?arguments[2]:u,2)),b==u||v==Array&&c(b))for(e=new v(n=s(p.length));n>m;m++)f(e,m,y?g(p[m],m):p[m]);else for(h=b.call(p),e=new v;!(i=h.next()).done;m++)f(e,m,y?a(h,g,[i.value,m],!0):i.value);return e.length=m,e}})},function(t,n,e){var r=e(0),i=e(85);r(r.S+r.F*e(4)((function(){function t(){}return!(Array.of.call(t)instanceof t)})),"Array",{of:function(){for(var t=0,n=arguments.length,e=new("function"==typeof this?this:Array)(n);n>t;)i(e,t,arguments[t++]);return e.length=n,e}})},function(t,n,e){var r=e(0),i=e(11),o=[].join;r(r.P+r.F*(e(48)!=Object||!e(22)(o)),"Array",{join:function(t){return o.call(i(this),t===u?",":t)}})},function(t,n,e){var r=e(0),i=e(73),o=e(20),a=e(38),c=e(7),s=[].slice;r(r.P+r.F*e(4)((function(){i&&s.call(i)})),"Array",{slice:function(t,n){var e=c(this.length),r=o(this);if(n=n===u?e:n,"Array"==r)return s.call(this,t,n);for(var i=a(t,e),f=a(n,e),l=c(f-i),h=new Array(l),p=0;p<l;p++)h[p]="String"==r?this.charAt(i+p):this[i+p];return h}})},function(t,n,e){var r=e(0),i=e(10),o=e(9),a=e(4),c=[].sort,s=[1,2,3];r(r.P+r.F*(a((function(){s.sort(u)}))||!a((function(){s.sort(null)}))||!e(22)(c)),"Array",{sort:function(t){return t===u?c.call(o(this)):c.call(o(this),i(t))}})},function(t,n,e){var r=e(0),i=e(26)(0),o=e(22)([].forEach,!0);r(r.P+r.F*!o,"Array",{forEach:function(t){return i(this,t,arguments[1])}})},function(t,n,e){var r=e(3),i=e(55),o=e(5)("species");t.exports=function(t){var n;return i(t)&&("function"!=typeof(n=t.constructor)||n!==Array&&!i(n.prototype)||(n=u),r(n)&&null===(n=n[o])&&(n=u)),n===u?Array:n}},function(t,n,e){var r=e(0),i=e(26)(1);r(r.P+r.F*!e(22)([].map,!0),"Array",{map:function(t){return i(this,t,arguments[1])}})},function(t,n,e){var r=e(0),i=e(26)(2);r(r.P+r.F*!e(22)([].filter,!0),"Array",{filter:function(t){return i(this,t,arguments[1])}})},function(t,n,e){var r=e(0),i=e(26)(3);r(r.P+r.F*!e(22)([].some,!0),"Array",{some:function(t){return i(this,t,arguments[1])}})},function(t,n,e){var r=e(0),i=e(26)(4);r(r.P+r.F*!e(22)([].every,!0),"Array",{every:function(t){return i(this,t,arguments[1])}})},function(t,n,e){var r=e(0),i=e(112);r(r.P+r.F*!e(22)([].reduce,!0),"Array",{reduce:function(t){return i(this,t,arguments.length,arguments[1],!1)}})},function(t,n,e){var r=e(0),i=e(112);r(r.P+r.F*!e(22)([].reduceRight,!0),"Array",{reduceRight:function(t){return i(this,t,arguments.length,arguments[1],!0)}})},function(t,n,e){var r=e(0),i=e(53)(!1),o=[].indexOf,u=!!o&&1/[1].indexOf(1,-0)<0;r(r.P+r.F*(u||!e(22)(o)),"Array",{indexOf:function(t){return u?o.apply(this,arguments)||0:i(this,t,arguments[1])}})},function(t,n,e){var r=e(0),i=e(11),o=e(21),u=e(7),a=[].lastIndexOf,c=!!a&&1/[1].lastIndexOf(1,-0)<0;r(r.P+r.F*(c||!e(22)(a)),"Array",{lastIndexOf:function(t){if(c)return a.apply(this,arguments)||0;var n=i(this),e=u(n.length),r=e-1;for(arguments.length>1&&(r=Math.min(r,o(arguments[1]))),r<0&&(r=e+r);r>=0;r--)if(r in n&&n[r]===t)return r||0;return-1}})},function(t,n,e){var r=e(0);r(r.P,"Array",{copyWithin:e(113)}),e(35)("copyWithin")},function(t,n,e){var r=e(0);r(r.P,"Array",{fill:e(87)}),e(35)("fill")},function(t,n,e){var r=e(0),i=e(26)(5),o=!0;"find"in[]&&Array(1).find((function(){o=!1})),r(r.P+r.F*o,"Array",{find:function(t){return i(this,t,arguments.length>1?arguments[1]:u)}}),e(35)("find")},function(t,n,e){var r=e(0),i=e(26)(6),o="findIndex",a=!0;o in[]&&Array(1)[o]((function(){a=!1})),r(r.P+r.F*a,"Array",{findIndex:function(t){return i(this,t,arguments.length>1?arguments[1]:u)}}),e(35)(o)},function(t,n,e){e(41)("Array")},function(t,n,e){var r=e(2),i=e(77),o=e(8).f,a=e(39).f,c=e(57),s=e(51),f=r.RegExp,l=f,h=f.prototype,p=/a/g,v=/a/g,d=new f(p)!==p;if(e(6)&&(!d||e(4)((function(){return v[e(5)("match")]=!1,f(p)!=p||f(v)==v||"/a/i"!=f(p,"i")})))){f=function(t,n){var e=this instanceof f,r=c(t),o=n===u;return!e&&r&&t.constructor===f&&o?t:i(d?new l(r&&!o?t.source:t,n):l((r=t instanceof f)?t.source:t,r&&o?s.call(t):n),e?this:h,f)};for(var g=function(t){t in f||o(f,t,{configurable:!0,get:function(){return l[t]},set:function(n){l[t]=n}})},y=a(l),m=0;y.length>m;)g(y[m++]);h.constructor=f,f.prototype=h,e(15)(r,"RegExp",f)}e(41)("RegExp")},function(t,n,e){e(115);var r=e(1),i=e(51),o=e(6),a=/./.toString,c=function(t){e(15)(RegExp.prototype,"toString",t,!0)};e(4)((function(){return"/a/b"!=a.call({source:"a",flags:"b"})}))?c((function(){var t=r(this);return"/".concat(t.source,"/","flags"in t?t.flags:!o&&t instanceof RegExp?i.call(t):u)})):"toString"!=a.name&&c((function(){return a.call(this)}))},function(t,n,e){var r=e(1),i=e(7),o=e(91),a=e(61);e(62)("match",1,(function(t,n,e,c){return[function(e){var r=t(this),i=e==u?u:e[n];return i!==u?i.call(e,r):new RegExp(e)[n](String(r))},function(t){var n=c(e,t,this);if(n.done)return n.value;var u=r(t),s=String(this);if(!u.global)return a(u,s);var f=u.unicode;u.lastIndex=0;for(var l,h=[],p=0;null!==(l=a(u,s));){var v=String(l[0]);h[p]=v,""===v&&(u.lastIndex=o(s,i(u.lastIndex),f)),p++}return 0===p?null:h}]}))},function(t,n,e){var r=e(1),i=e(9),o=e(7),a=e(21),c=e(91),s=e(61),f=Math.max,l=Math.min,h=Math.floor,p=/\$([$&`']|\d\d?|<[^>]*>)/g,v=/\$([$&`']|\d\d?)/g;e(62)("replace",2,(function(t,n,e,d){return[function(r,i){var o=t(this),a=r==u?u:r[n];return a!==u?a.call(r,o,i):e.call(String(o),r,i)},function(t,n){var i=d(e,t,this,n);if(i.done)return i.value;var h=r(t),p=String(this),v="function"==typeof n;v||(n=String(n));var y=h.global;if(y){var m=h.unicode;h.lastIndex=0}for(var b=[];;){var _=s(h,p);if(null===_)break;if(b.push(_),!y)break;""===String(_[0])&&(h.lastIndex=c(p,o(h.lastIndex),m))}for(var x,S="",w=0,k=0;k<b.length;k++){_=b[k];for(var T=String(_[0]),E=f(l(a(_.index),p.length),0),P=[],O=1;O<_.length;O++)P.push((x=_[O])===u?x:String(x));var M=_.groups;if(v){var A=[T].concat(P,E,p);M!==u&&A.push(M);var N=String(n.apply(u,A))}else N=g(T,p,E,P,M,n);E>=w&&(S+=p.slice(w,E)+N,w=E+T.length)}return S+p.slice(w)}];function g(t,n,r,o,a,c){var s=r+t.length,f=o.length,l=v;return a!==u&&(a=i(a),l=p),e.call(c,l,(function(e,i){var c;switch(i.charAt(0)){case"$":return"$";case"&":return t;case"`":return n.slice(0,r);case"'":return n.slice(s);case"<":c=a[i.slice(1,-1)];break;default:var l=+i;if(0===l)return e;if(l>f){var p=h(l/10);return 0===p?e:p<=f?o[p-1]===u?i.charAt(1):o[p-1]+i.charAt(1):e}c=o[l-1]}return c===u?"":c}))}}))},function(t,n,e){var r=e(1),i=e(103),o=e(61);e(62)("search",1,(function(t,n,e,a){return[function(e){var r=t(this),i=e==u?u:e[n];return i!==u?i.call(e,r):new RegExp(e)[n](String(r))},function(t){var n=a(e,t,this);if(n.done)return n.value;var u=r(t),c=String(this),s=u.lastIndex;i(s,0)||(u.lastIndex=0);var f=o(u,c);return i(u.lastIndex,s)||(u.lastIndex=s),null===f?-1:f.index}]}))},function(t,n,e){var r=e(57),i=e(1),o=e(52),a=e(91),c=e(7),s=e(61),f=e(90),l=e(4),h=Math.min,p=[].push,v=!l((function(){RegExp(4294967295,"y")}));e(62)("split",2,(function(t,n,e,l){var d;return d="c"=="abbc".split(/(b)*/)[1]||4!="test".split(/(?:)/,-1).length||2!="ab".split(/(?:ab)*/).length||4!=".".split(/(.?)(.?)/).length||".".split(/()()/).length>1||"".split(/.?/).length?function(t,n){var i=String(this);if(t===u&&0===n)return[];if(!r(t))return e.call(i,t,n);for(var o,a,c,s=[],l=0,h=n===u?4294967295:n>>>0,v=new RegExp(t.source,(t.ignoreCase?"i":"")+(t.multiline?"m":"")+(t.unicode?"u":"")+(t.sticky?"y":"")+"g");(o=f.call(v,i))&&!((a=v.lastIndex)>l&&(s.push(i.slice(l,o.index)),o.length>1&&o.index<i.length&&p.apply(s,o.slice(1)),c=o[0].length,l=a,s.length>=h));)v.lastIndex===o.index&&v.lastIndex++;return l===i.length?!c&&v.test("")||s.push(""):s.push(i.slice(l)),s.length>h?s.slice(0,h):s}:"0".split(u,0).length?function(t,n){return t===u&&0===n?[]:e.call(this,t,n)}:e,[function(e,r){var i=t(this),o=e==u?u:e[n];return o!==u?o.call(e,i,r):d.call(String(i),e,r)},function(t,n){var r=l(d,t,this,n,d!==e);if(r.done)return r.value;var f=i(t),p=String(this),g=o(f,RegExp),y=f.unicode,m=new g(v?f:"^(?:"+f.source+")",(f.ignoreCase?"i":"")+(f.multiline?"m":"")+(f.unicode?"u":"")+(v?"y":"g")),b=n===u?4294967295:n>>>0;if(0===b)return[];if(0===p.length)return null===s(m,p)?[p]:[];for(var _=0,x=0,S=[];x<p.length;){m.lastIndex=v?x:0;var w,k=s(m,v?p:p.slice(x));if(null===k||(w=h(c(m.lastIndex+(v?0:x)),p.length))===_)x=a(p,x,y);else{if(S.push(p.slice(_,x)),S.length===b)return S;for(var T=1;T<=k.length-1;T++)if(S.push(k[T]),S.length===b)return S;x=_=w}}return S.push(p.slice(_)),S}]}))},function(t,n,e){var r,i,o,a,c=e(32),s=e(2),f=e(19),l=e(34),h=e(0),p=e(3),v=e(10),d=e(42),g=e(36),y=e(52),m=e(92).set,b=e(93)(),_=e(94),x=e(116),S=e(63),w=e(117),k=s.TypeError,T=s.process,E=T&&T.versions,P=E&&E.v8||"",O=s.Promise,M="process"==l(T),A=function(){},N=i=_.f,R=!!function(){try{var t=O.resolve(1),n=(t.constructor={})[e(5)("species")]=function(t){t(A,A)};return(M||"function"==typeof PromiseRejectionEvent)&&t.then(A)instanceof n&&0!==P.indexOf("6.6")&&-1===S.indexOf("Chrome/66")}catch(r){}}(),F=function(t){var n;return!(!p(t)||"function"!=typeof(n=t.then))&&n},j=function(t,n){if(!t._n){t._n=!0;var e=t._c;b((function(){for(var r=t._v,i=1==t._s,o=0,u=function(n){var e,o,u,a=i?n.ok:n.fail,c=n.resolve,s=n.reject,f=n.domain;try{a?(i||(2==t._h&&z(t),t._h=1),!0===a?e=r:(f&&f.enter(),e=a(r),f&&(f.exit(),u=!0)),e===n.promise?s(k("Promise-chain cycle")):(o=F(e))?o.call(e,c,s):c(e)):s(r)}catch(l){f&&!u&&f.exit(),s(l)}};e.length>o;)u(e[o++]);t._c=[],t._n=!1,n&&!t._h&&I(t)}))}},I=function(t){m.call(s,(function(){var n,e,r,i=t._v,o=D(t);if(o&&(n=x((function(){M?T.emit("unhandledRejection",i,t):(e=s.onunhandledrejection)?e({promise:t,reason:i}):(r=s.console)&&r.error&&r.error("Unhandled promise rejection",i)})),t._h=M||D(t)?2:1),t._a=u,o&&n.e)throw n.v}))},D=function(t){return 1!==t._h&&0===(t._a||t._c).length},z=function(t){m.call(s,(function(){var n;M?T.emit("rejectionHandled",t):(n=s.onrejectionhandled)&&n({promise:t,reason:t._v})}))},C=function(t){var n=this;n._d||(n._d=!0,(n=n._w||n)._v=t,n._s=2,n._a||(n._a=n._c.slice()),j(n,!0))},L=function(t){var n,e=this;if(!e._d){e._d=!0,e=e._w||e;try{if(e===t)throw k("Promise can't be resolved itself");(n=F(t))?b((function(){var r={_w:e,_d:!1};try{n.call(t,f(L,r,1),f(C,r,1))}catch(i){C.call(r,i)}})):(e._v=t,e._s=1,j(e,!1))}catch(r){C.call({_w:e,_d:!1},r)}}};R||(O=function(t){d(this,O,"Promise","_h"),v(t),r.call(this);try{t(f(L,this,1),f(C,this,1))}catch(n){C.call(this,n)}},(r=function(t){this._c=[],this._a=u,this._s=0,this._d=!1,this._v=u,this._h=0,this._n=!1}).prototype=e(43)(O.prototype,{then:function(t,n){var e=N(y(this,O));return e.ok="function"!=typeof t||t,e.fail="function"==typeof n&&n,e.domain=M?T.domain:u,this._c.push(e),this._a&&this._a.push(e),this._s&&j(this,!1),e.promise},catch:function(t){return this.then(u,t)}}),o=function(){var t=new r;this.promise=t,this.resolve=f(L,t,1),this.reject=f(C,t,1)},_.f=N=function(t){return t===O||t===a?new o(t):i(t)}),h(h.G+h.W+h.F*!R,{Promise:O}),e(45)(O,"Promise"),e(41)("Promise"),a=e(13).Promise,h(h.S+h.F*!R,"Promise",{reject:function(t){var n=N(this);return(0,n.reject)(t),n.promise}}),h(h.S+h.F*(c||!R),"Promise",{resolve:function(t){return w(c&&this===a?O:this,t)}}),h(h.S+h.F*!(R&&e(60)((function(t){O.all(t).catch(A)}))),"Promise",{all:function(t){var n=this,e=N(n),r=e.resolve,i=e.reject,o=x((function(){var e=[],o=0,a=1;g(t,!1,(function(t){var c=o++,s=!1;e.push(u),a++,n.resolve(t).then((function(t){s||(s=!0,e[c]=t,--a||r(e))}),i)})),--a||r(e)}));return o.e&&i(o.v),e.promise},race:function(t){var n=this,e=N(n),r=e.reject,i=x((function(){g(t,!1,(function(t){n.resolve(t).then(e.resolve,r)}))}));return i.e&&r(i.v),e.promise}})},function(t,n,e){var r=e(122),i=e(44);e(64)("WeakSet",(function(t){return function(){return t(this,arguments.length>0?arguments[0]:u)}}),{add:function(t){return r.def(i(this,"WeakSet"),t,!0)}},r,!1,!0)},function(t,n,e){var r=e(0),i=e(10),o=e(1),u=(e(2).Reflect||{}).apply,a=Function.apply;r(r.S+r.F*!e(4)((function(){u((function(){}))})),"Reflect",{apply:function(t,n,e){var r=i(t),c=o(e);return u?u(r,n,c):a.call(r,n,c)}})},function(t,n,e){var r=e(0),i=e(28),o=e(10),u=e(1),a=e(3),c=e(4),s=e(104),f=(e(2).Reflect||{}).construct,l=c((function(){function t(){}return!(f((function(){}),[],t)instanceof t)})),h=!c((function(){f((function(){}))}));r(r.S+r.F*(l||h),"Reflect",{construct:function(t,n){o(t),u(n);var e=arguments.length<3?t:o(arguments[2]);if(h&&!l)return f(t,n,e);if(t==e){switch(n.length){case 0:return new t;case 1:return new t(n[0]);case 2:return new t(n[0],n[1]);case 3:return new t(n[0],n[1],n[2]);case 4:return new t(n[0],n[1],n[2],n[3])}var r=[null];return r.push.apply(r,n),new(s.apply(t,r))}var c=e.prototype,p=i(a(c)?c:Object.prototype),v=Function.apply.call(t,p,n);return a(v)?v:p}})},function(t,n,e){var r=e(8),i=e(0),o=e(1),u=e(23);i(i.S+i.F*e(4)((function(){Reflect.defineProperty(r.f({},1,{value:1}),1,{value:2})})),"Reflect",{defineProperty:function(t,n,e){o(t),n=u(n,!0),o(e);try{return r.f(t,n,e),!0}catch(i){return!1}}})},function(t,n,e){var r=e(0),i=e(16).f,o=e(1);r(r.S,"Reflect",{deleteProperty:function(t,n){var e=i(o(t),n);return!(e&&!e.configurable)&&delete t[n]}})},function(t,n,e){var r=e(0),i=e(1),o=function(t){this._t=i(t),this._i=0;var n,e=this._k=[];for(n in t)e.push(n)};e(59)(o,"Object",(function(){var t,n=this._k;do{if(this._i>=n.length)return{value:u,done:!0}}while(!((t=n[this._i++])in this._t));return{value:t,done:!1}})),r(r.S,"Reflect",{enumerate:function(t){return new o(t)}})},function(t,n,e){var r=e(16),i=e(17),o=e(12),a=e(0),c=e(3),s=e(1);a(a.S,"Reflect",{get:function t(n,e){var a,f,l=arguments.length<3?n:arguments[2];return s(n)===l?n[e]:(a=r.f(n,e))?o(a,"value")?a.value:a.get!==u?a.get.call(l):u:c(f=i(n))?t(f,e,l):void 0}})},function(t,n,e){var r=e(16),i=e(0),o=e(1);i(i.S,"Reflect",{getOwnPropertyDescriptor:function(t,n){return r.f(o(t),n)}})},function(t,n,e){var r=e(0),i=e(17),o=e(1);r(r.S,"Reflect",{getPrototypeOf:function(t){return i(o(t))}})},function(t,n,e){var r=e(0);r(r.S,"Reflect",{has:function(t,n){return n in t}})},function(t,n,e){var r=e(0),i=e(1),o=Object.isExtensible;r(r.S,"Reflect",{isExtensible:function(t){return i(t),!o||o(t)}})},function(t,n,e){var r=e(0);r(r.S,"Reflect",{ownKeys:e(95)})},function(t,n,e){var r=e(0),i=e(1),o=Object.preventExtensions;r(r.S,"Reflect",{preventExtensions:function(t){i(t);try{return o&&o(t),!0}catch(n){return!1}}})},function(t,n,e){var r=e(8),i=e(16),o=e(17),a=e(12),c=e(0),s=e(31),f=e(1),l=e(3);c(c.S,"Reflect",{set:function t(n,e,c){var h,p,v=arguments.length<4?n:arguments[3],d=i.f(f(n),e);if(!d){if(l(p=o(n)))return t(p,e,c,v);d=s(0)}if(a(d,"value")){if(!1===d.writable||!l(v))return!1;if(h=i.f(v,e)){if(h.get||h.set||!1===h.writable)return!1;h.value=c,r.f(v,e,h)}else r.f(v,e,s(0,c));return!0}return d.set!==u&&(d.set.call(v,c),!0)}})},function(t,n,e){var r=e(0),i=e(75);i&&r(r.S,"Reflect",{setPrototypeOf:function(t,n){i.check(t,n);try{return i.set(t,n),!0}catch(e){return!1}}})},function(t,n,e){var r=e(0);r(r.S,"Date",{now:function(){return(new Date).getTime()}})},function(t,n,e){var r=e(0),i=e(9),o=e(23);r(r.P+r.F*e(4)((function(){return null!==new Date(NaN).toJSON()||1!==Date.prototype.toJSON.call({toISOString:function(){return 1}})})),"Date",{toJSON:function(t){var n=i(this),e=o(n);return"number"!=typeof e||isFinite(e)?n.toISOString():null}})},function(t,n,e){var r=e(0),i=e(257);r(r.P+r.F*(Date.prototype.toISOString!==i),"Date",{toISOString:i})},function(t,n,e){var r=e(4),i=Date.prototype.getTime,o=Date.prototype.toISOString,u=function(t){return t>9?t:"0"+t};t.exports=r((function(){return"0385-07-25T07:06:39.999Z"!=o.call(new Date(-5e13-1))}))||!r((function(){o.call(new Date(NaN))}))?function(){if(!isFinite(i.call(this)))throw RangeError("Invalid time value");var t=this,n=t.getUTCFullYear(),e=t.getUTCMilliseconds(),r=n<0?"-":n>9999?"+":"";return r+("00000"+Math.abs(n)).slice(r?-6:-4)+"-"+u(t.getUTCMonth()+1)+"-"+u(t.getUTCDate())+"T"+u(t.getUTCHours())+":"+u(t.getUTCMinutes())+":"+u(t.getUTCSeconds())+"."+(e>99?e:"0"+u(e))+"Z"}:o},function(t,n,e){var r=Date.prototype,i=r.toString,o=r.getTime;new Date(NaN)+""!="Invalid Date"&&e(15)(r,"toString",(function(){var t=o.call(this);return t==t?i.call(this):"Invalid Date"}))},function(t,n,e){var r=e(5)("toPrimitive"),i=Date.prototype;r in i||e(14)(i,r,e(260))},function(t,n,e){var r=e(1),i=e(23);t.exports=function(t){if("string"!==t&&"number"!==t&&"default"!==t)throw TypeError("Incorrect hint");return i(r(this),"number"!=t)}},function(t,n,e){var r=e(0),i=e(65),o=e(96),a=e(1),c=e(38),s=e(7),f=e(3),l=e(2).ArrayBuffer,h=e(52),p=o.ArrayBuffer,v=o.DataView,d=i.ABV&&l.isView,g=p.prototype.slice,y=i.VIEW;r(r.G+r.W+r.F*(l!==p),{ArrayBuffer:p}),r(r.S+r.F*!i.CONSTR,"ArrayBuffer",{isView:function(t){return d&&d(t)||f(t)&&y in t}}),r(r.P+r.U+r.F*e(4)((function(){return!new p(2).slice(1,u).byteLength})),"ArrayBuffer",{slice:function(t,n){if(g!==u&&n===u)return g.call(a(this),t);for(var e=a(this).byteLength,r=c(t,e),i=c(n===u?e:n,e),o=new(h(this,p))(s(i-r)),f=new v(this),l=new v(o),d=0;r<i;)l.setUint8(d++,f.getUint8(r++));return o}}),e(41)("ArrayBuffer")},function(t,n,e){var r=e(0);r(r.G+r.W+r.F*!e(65).ABV,{DataView:e(96).DataView})},function(t,n,e){e(29)("Int8",1,(function(t){return function(n,e,r){return t(this,n,e,r)}}))},function(t,n,e){e(29)("Uint8",1,(function(t){return function(n,e,r){return t(this,n,e,r)}}))},function(t,n,e){e(29)("Uint8",1,(function(t){return function(n,e,r){return t(this,n,e,r)}}),!0)},function(t,n,e){e(29)("Int16",2,(function(t){return function(n,e,r){return t(this,n,e,r)}}))},function(t,n,e){e(29)("Uint16",2,(function(t){return function(n,e,r){return t(this,n,e,r)}}))},function(t,n,e){e(29)("Int32",4,(function(t){return function(n,e,r){return t(this,n,e,r)}}))},function(t,n,e){e(29)("Uint32",4,(function(t){return function(n,e,r){return t(this,n,e,r)}}))},function(t,n,e){e(29)("Float32",4,(function(t){return function(n,e,r){return t(this,n,e,r)}}))},function(t,n,e){e(29)("Float64",8,(function(t){return function(n,e,r){return t(this,n,e,r)}}))},function(t,n,e){var r=e(0),i=e(53)(!0);r(r.P,"Array",{includes:function(t){return i(this,t,arguments.length>1?arguments[1]:u)}}),e(35)("includes")},function(t,n,e){var r=e(0),i=e(124),o=e(9),u=e(7),a=e(10),c=e(86);r(r.P,"Array",{flatMap:function(t){var n,e,r=o(this);return a(t),n=u(r.length),e=c(r,0),i(e,r,r,n,0,1,t,arguments[1]),e}}),e(35)("flatMap")},function(t,n,e){var r=e(0),i=e(124),o=e(9),a=e(7),c=e(21),s=e(86);r(r.P,"Array",{flatten:function(){var t=arguments[0],n=o(this),e=a(n.length),r=s(n,0);return i(r,n,n,e,0,t===u?1:c(t)),r}}),e(35)("flatten")},function(t,n,e){var r=e(0),i=e(56)(!0);r(r.P,"String",{at:function(t){return i(this,t)}})},function(t,n,e){var r=e(0),i=e(125),o=e(63),a=/Version\/10\.\d+(\.\d+)?( Mobile\/\w+)? Safari\//.test(o);r(r.P+r.F*a,"String",{padStart:function(t){return i(this,t,arguments.length>1?arguments[1]:u,!0)}})},function(t,n,e){var r=e(0),i=e(125),o=e(63),a=/Version\/10\.\d+(\.\d+)?( Mobile\/\w+)? Safari\//.test(o);r(r.P+r.F*a,"String",{padEnd:function(t){return i(this,t,arguments.length>1?arguments[1]:u,!1)}})},function(t,n,e){e(46)("trimLeft",(function(t){return function(){return t(this,1)}}),"trimStart")},function(t,n,e){e(46)("trimRight",(function(t){return function(){return t(this,2)}}),"trimEnd")},function(t,n,e){var r=e(0),i=e(24),o=e(7),u=e(57),a=e(51),c=RegExp.prototype,s=function(t,n){this._r=t,this._s=n};e(59)(s,"RegExp String",(function(){var t=this._r.exec(this._s);return{value:t,done:null===t}})),r(r.P,"String",{matchAll:function(t){if(i(this),!u(t))throw TypeError(t+" is not a regexp!");var n=String(this),e="flags"in c?String(t.flags):a.call(t),r=new RegExp(t.source,~e.indexOf("g")?e:"g"+e);return r.lastIndex=o(t.lastIndex),new s(r,n)}})},function(t,n,e){e(70)("asyncIterator")},function(t,n,e){e(70)("observable")},function(t,n,e){var r=e(0),i=e(95),o=e(11),a=e(16),c=e(85);r(r.S,"Object",{getOwnPropertyDescriptors:function(t){for(var n,e,r=o(t),s=a.f,f=i(r),l={},h=0;f.length>h;)(e=s(r,n=f[h++]))!==u&&c(l,n,e);return l}})},function(t,n,e){var r=e(0),i=e(126)(!1);r(r.S,"Object",{values:function(t){return i(t)}})},function(t,n,e){var r=e(0),i=e(126)(!0);r(r.S,"Object",{entries:function(t){return i(t)}})},function(t,n,e){var r=e(0),i=e(9),o=e(10),u=e(8);e(6)&&r(r.P+e(66),"Object",{__defineGetter__:function(t,n){u.f(i(this),t,{get:o(n),enumerable:!0,configurable:!0})}})},function(t,n,e){var r=e(0),i=e(9),o=e(10),u=e(8);e(6)&&r(r.P+e(66),"Object",{__defineSetter__:function(t,n){u.f(i(this),t,{set:o(n),enumerable:!0,configurable:!0})}})},function(t,n,e){var r=e(0),i=e(9),o=e(23),u=e(17),a=e(16).f;e(6)&&r(r.P+e(66),"Object",{__lookupGetter__:function(t){var n,e=i(this),r=o(t,!0);do{if(n=a(e,r))return n.get}while(e=u(e))}})},function(t,n,e){var r=e(0),i=e(9),o=e(23),u=e(17),a=e(16).f;e(6)&&r(r.P+e(66),"Object",{__lookupSetter__:function(t){var n,e=i(this),r=o(t,!0);do{if(n=a(e,r))return n.set}while(e=u(e))}})},function(t,n,e){var r=e(0);r(r.P+r.R,"Map",{toJSON:e(127)("Map")})},function(t,n,e){var r=e(0);r(r.P+r.R,"Set",{toJSON:e(127)("Set")})},function(t,n,e){e(67)("Map")},function(t,n,e){e(67)("Set")},function(t,n,e){e(67)("WeakMap")},function(t,n,e){e(67)("WeakSet")},function(t,n,e){e(68)("Map")},function(t,n,e){e(68)("Set")},function(t,n,e){e(68)("WeakMap")},function(t,n,e){e(68)("WeakSet")},function(t,n,e){var r=e(0);r(r.G,{global:e(2)})},function(t,n,e){var r=e(0);r(r.S,"System",{global:e(2)})},function(t,n,e){var r=e(0),i=e(20);r(r.S,"Error",{isError:function(t){return"Error"===i(t)}})},function(t,n,e){var r=e(0);r(r.S,"Math",{clamp:function(t,n,e){return Math.min(e,Math.max(n,t))}})},function(t,n,e){var r=e(0);r(r.S,"Math",{DEG_PER_RAD:Math.PI/180})},function(t,n,e){var r=e(0),i=180/Math.PI;r(r.S,"Math",{degrees:function(t){return t*i}})},function(t,n,e){var r=e(0),i=e(129),o=e(110);r(r.S,"Math",{fscale:function(t,n,e,r,u){return o(i(t,n,e,r,u))}})},function(t,n,e){var r=e(0);r(r.S,"Math",{iaddh:function(t,n,e,r){var i=t>>>0,o=e>>>0;return(n>>>0)+(r>>>0)+((i&o|(i|o)&~(i+o>>>0))>>>31)|0}})},function(t,n,e){var r=e(0);r(r.S,"Math",{isubh:function(t,n,e,r){var i=t>>>0,o=e>>>0;return(n>>>0)-(r>>>0)-((~i&o|~(i^o)&i-o>>>0)>>>31)|0}})},function(t,n,e){var r=e(0);r(r.S,"Math",{imulh:function(t,n){var e=+t,r=+n,i=65535&e,o=65535&r,u=e>>16,a=r>>16,c=(u*o>>>0)+(i*o>>>16);return u*a+(c>>16)+((i*a>>>0)+(65535&c)>>16)}})},function(t,n,e){var r=e(0);r(r.S,"Math",{RAD_PER_DEG:180/Math.PI})},function(t,n,e){var r=e(0),i=Math.PI/180;r(r.S,"Math",{radians:function(t){return t*i}})},function(t,n,e){var r=e(0);r(r.S,"Math",{scale:e(129)})},function(t,n,e){var r=e(0);r(r.S,"Math",{umulh:function(t,n){var e=+t,r=+n,i=65535&e,o=65535&r,u=e>>>16,a=r>>>16,c=(u*o>>>0)+(i*o>>>16);return u*a+(c>>>16)+((i*a>>>0)+(65535&c)>>>16)}})},function(t,n,e){var r=e(0);r(r.S,"Math",{signbit:function(t){return(t=+t)!=t?t:0==t?1/t==1/0:t>0}})},function(t,n,e){var r=e(0),i=e(13),o=e(2),u=e(52),a=e(117);r(r.P+r.R,"Promise",{finally:function(t){var n=u(this,i.Promise||o.Promise),e="function"==typeof t;return this.then(e?function(e){return a(n,t()).then((function(){return e}))}:t,e?function(e){return a(n,t()).then((function(){throw e}))}:t)}})},function(t,n,e){var r=e(0),i=e(94),o=e(116);r(r.S,"Promise",{try:function(t){var n=i.f(this),e=o(t);return(e.e?n.reject:n.resolve)(e.v),n.promise}})},function(t,n,e){var r=e(30),i=e(1),o=r.key,u=r.set;r.exp({defineMetadata:function(t,n,e,r){u(t,n,i(e),o(r))}})},function(t,n,e){var r=e(30),i=e(1),o=r.key,a=r.map,c=r.store;r.exp({deleteMetadata:function(t,n){var e=arguments.length<3?u:o(arguments[2]),r=a(i(n),e,!1);if(r===u||!r.delete(t))return!1;if(r.size)return!0;var s=c.get(n);return s.delete(e),!!s.size||c.delete(n)}})},function(t,n,e){var r=e(30),i=e(1),o=e(17),a=r.has,c=r.get,s=r.key,f=function(t,n,e){if(a(t,n,e))return c(t,n,e);var r=o(n);return null!==r?f(t,r,e):u};r.exp({getMetadata:function(t,n){return f(t,i(n),arguments.length<3?u:s(arguments[2]))}})},function(t,n,e){var r=e(120),i=e(128),o=e(30),a=e(1),c=e(17),s=o.keys,f=o.key,l=function(t,n){var e=s(t,n),o=c(t);if(null===o)return e;var u=l(o,n);return u.length?e.length?i(new r(e.concat(u))):u:e};o.exp({getMetadataKeys:function(t){return l(a(t),arguments.length<2?u:f(arguments[1]))}})},function(t,n,e){var r=e(30),i=e(1),o=r.get,a=r.key;r.exp({getOwnMetadata:function(t,n){return o(t,i(n),arguments.length<3?u:a(arguments[2]))}})},function(t,n,e){var r=e(30),i=e(1),o=r.keys,a=r.key;r.exp({getOwnMetadataKeys:function(t){return o(i(t),arguments.length<2?u:a(arguments[1]))}})},function(t,n,e){var r=e(30),i=e(1),o=e(17),a=r.has,c=r.key,s=function(t,n,e){if(a(t,n,e))return!0;var r=o(n);return null!==r&&s(t,r,e)};r.exp({hasMetadata:function(t,n){return s(t,i(n),arguments.length<3?u:c(arguments[2]))}})},function(t,n,e){var r=e(30),i=e(1),o=r.has,a=r.key;r.exp({hasOwnMetadata:function(t,n){return o(t,i(n),arguments.length<3?u:a(arguments[2]))}})},function(t,n,e){var r=e(30),i=e(1),o=e(10),a=r.key,c=r.set;r.exp({metadata:function(t,n){return function(e,r){c(t,n,(r!==u?i:o)(e),a(r))}}})},function(t,n,e){var r=e(0),i=e(93)(),o=e(2).process,u="process"==e(20)(o);r(r.G,{asap:function(t){var n=u&&o.domain;i(n?n.bind(t):t)}})},function(t,n,e){var r=e(0),i=e(2),o=e(13),a=e(93)(),c=e(5)("observable"),s=e(10),f=e(1),l=e(42),h=e(43),p=e(14),v=e(36),d=v.RETURN,g=function(t){return null==t?u:s(t)},y=function(t){var n=t._c;n&&(t._c=u,n())},m=function(t){return t._o===u},b=function(t){m(t)||(t._o=u,y(t))},_=function(t,n){f(t),this._c=u,this._o=t,t=new x(this);try{var e=n(t),r=e;null!=e&&("function"==typeof e.unsubscribe?e=function(){r.unsubscribe()}:s(e),this._c=e)}catch(i){return void t.error(i)}m(this)&&y(this)};_.prototype=h({},{unsubscribe:function(){b(this)}});var x=function(t){this._s=t};x.prototype=h({},{next:function(t){var n=this._s;if(!m(n)){var e=n._o;try{var r=g(e.next);if(r)return r.call(e,t)}catch(i){try{b(n)}finally{throw i}}}},error:function(t){var n=this._s;if(m(n))throw t;var e=n._o;n._o=u;try{var r=g(e.error);if(!r)throw t;t=r.call(e,t)}catch(i){try{y(n)}finally{throw i}}return y(n),t},complete:function(t){var n=this._s;if(!m(n)){var e=n._o;n._o=u;try{var r=g(e.complete);t=r?r.call(e,t):u}catch(i){try{y(n)}finally{throw i}}return y(n),t}}});var S=function(t){l(this,S,"Observable","_f")._f=s(t)};h(S.prototype,{subscribe:function(t){return new _(t,this._f)},forEach:function(t){var n=this;return new(o.Promise||i.Promise)((function(e,r){s(t);var i=n.subscribe({next:function(n){try{return t(n)}catch(e){r(e),i.unsubscribe()}},error:r,complete:e})}))}}),h(S,{from:function(t){var n="function"==typeof this?this:S,e=g(f(t)[c]);if(e){var r=f(e.call(t));return r.constructor===n?r:new n((function(t){return r.subscribe(t)}))}return new n((function(n){var e=!1;return a((function(){if(!e){try{if(v(t,!1,(function(t){if(n.next(t),e)return d}))===d)return}catch(r){if(e)throw r;return void n.error(r)}n.complete()}})),function(){e=!0}}))},of:function(){for(var t=0,n=arguments.length,e=new Array(n);t<n;)e[t]=arguments[t++];return new("function"==typeof this?this:S)((function(t){var n=!1;return a((function(){if(!n){for(var r=0;r<e.length;++r)if(t.next(e[r]),n)return;t.complete()}})),function(){n=!0}}))}}),p(S.prototype,c,(function(){return this})),r(r.G,{Observable:S}),e(41)("Observable")},function(t,n,e){var r=e(0),i=e(92);r(r.G+r.B,{setImmediate:i.set,clearImmediate:i.clear})},function(t,n,e){for(var r=e(88),i=e(27),o=e(15),u=e(2),a=e(14),c=e(40),s=e(5),f=s("iterator"),l=s("toStringTag"),h=c.Array,p={CSSRuleList:!0,CSSStyleDeclaration:!1,CSSValueList:!1,ClientRectList:!1,DOMRectList:!1,DOMStringList:!1,DOMTokenList:!0,DataTransferItemList:!1,FileList:!1,HTMLAllCollection:!1,HTMLCollection:!1,HTMLFormElement:!1,HTMLSelectElement:!1,MediaList:!0,MimeTypeArray:!1,NamedNodeMap:!1,NodeList:!0,PaintRequestList:!1,Plugin:!1,PluginArray:!1,SVGLengthList:!1,SVGNumberList:!1,SVGPathSegList:!1,SVGPointList:!1,SVGStringList:!1,SVGTransformList:!1,SourceBufferList:!1,StyleSheetList:!0,TextTrackCueList:!1,TextTrackList:!1,TouchList:!1},v=i(p),d=0;d<v.length;d++){var g,y=v[d],m=p[y],b=u[y],_=b&&b.prototype;if(_&&(_[f]||a(_,f,h),_[l]||a(_,l,y),c[y]=h,m))for(g in r)_[g]||o(_,g,r[g],!0)}},function(t,n,e){var r=e(2),i=e(0),o=e(63),u=[].slice,a=/MSIE .\./.test(o),c=function(t){return function(n,e){var r=arguments.length>2,i=!!r&&u.call(arguments,2);return t(r?function(){("function"==typeof n?n:Function(n)).apply(this,i)}:n,e)}};i(i.G+i.B+i.F*a,{setTimeout:c(r.setTimeout),setInterval:c(r.setInterval)})},function(t,n,e){var r=e(19),i=e(0),o=e(31),a=e(74),c=e(28),s=e(17),f=e(27),l=e(8),h=e(332),p=e(10),v=e(36),d=e(130),g=e(59),y=e(89),m=e(3),b=e(11),_=e(6),x=e(12),S=function(t){var n=1==t,e=4==t;return function(i,o,a){var c,s,f,l=r(o,a,3),h=b(i),p=n||7==t||2==t?new("function"==typeof this?this:E):u;for(c in h)if(x(h,c)&&(f=l(s=h[c],c,i),t))if(n)p[c]=f;else if(f)switch(t){case 2:p[c]=s;break;case 3:return!0;case 5:return s;case 6:return c;case 7:p[f[0]]=f[1]}else if(e)return!1;return 3==t||e?e:p}},w=S(6),k=function(t){return function(n){return new T(n,t)}},T=function(t,n){this._t=b(t),this._a=f(t),this._i=0,this._k=n};function E(t){var n=c(null);return t!=u&&(d(t)?v(t,!0,(function(t,e){n[t]=e})):a(n,t)),n}g(T,"Dict",(function(){var t,n=this._t,e=this._a,r=this._k;do{if(this._i>=e.length)return this._t=u,y(1)}while(!x(n,t=e[this._i++]));return y(0,"keys"==r?t:"values"==r?n[t]:[t,n[t]])})),E.prototype=null,i(i.G+i.F,{Dict:E}),i(i.S,"Dict",{keys:k("keys"),values:k("values"),entries:k("entries"),forEach:S(0),map:S(1),filter:S(2),some:S(3),every:S(4),find:S(5),findKey:w,mapPairs:S(7),reduce:function(t,n,e){p(n);var r,i,o=b(t),u=f(o),a=u.length,c=0;if(arguments.length<3){if(!a)throw TypeError("Reduce of empty object with no initial value");r=o[u[c++]]}else r=Object(e);for(;a>c;)x(o,i=u[c++])&&(r=n(r,o[i],i,t));return r},keyOf:h,includes:function(t,n){return(n==n?h(t,n):w(t,(function(t){return t!=t})))!==u},has:x,get:function(t,n){if(x(t,n))return t[n]},set:function(t,n,e){return _&&n in Object?l.f(t,n,o(0,e)):t[n]=e,t},isDict:function(t){return m(t)&&s(t)===E.prototype}})},function(t,n,e){var r=e(27),i=e(11);t.exports=function(t,n){for(var e,o=i(t),u=r(o),a=u.length,c=0;a>c;)if(o[e=u[c++]]===n)return e}},function(t,n,e){var r=e(1),i=e(50);t.exports=e(13).getIterator=function(t){var n=i(t);if("function"!=typeof n)throw TypeError(t+" is not iterable!");return r(n.call(t))}},function(t,n,e){var r=e(2),i=e(13),o=e(0),u=e(131);o(o.G+o.F,{delay:function(t){return new(i.Promise||r.Promise)((function(n){setTimeout(u.call(n,!0),t)}))}})},function(t,n,e){var r=e(132),i=e(0);e(13)._=r._=r._||{},i(i.P+i.F,"Function",{part:e(131)})},function(t,n,e){var r=e(0);r(r.S+r.F,"Object",{isObject:e(3)})},function(t,n,e){var r=e(0);r(r.S+r.F,"Object",{classof:e(34)})},function(t,n,e){var r=e(0),i=e(133);r(r.S+r.F,"Object",{define:i})},function(t,n,e){var r=e(0),i=e(133),o=e(28);r(r.S+r.F,"Object",{make:function(t,n){return i(o(t),n)}})},function(t,n,e){e(58)(Number,"Number",(function(t){this._l=+t,this._i=0}),(function(){var t=this._i++,n=!(t<this._l);return{done:n,value:n?u:t}}))},function(t,n,e){var r=e(0),i=e(97)(/[\\^$*+?.()|[\]{}]/g,"\\$&");r(r.S,"RegExp",{escape:function(t){return i(t)}})},function(t,n,e){var r=e(0),i=e(97)(/[&<>"']/g,{"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&apos;"});r(r.P+r.F,"String",{escapeHTML:function(){return i(this)}})},function(t,n,e){var r=e(0),i=e(97)(/&(?:amp|lt|gt|quot|apos);/g,{"&amp;":"&","&lt;":"<","&gt;":">","&quot;":'"',"&apos;":"'"});r(r.P+r.F,"String",{unescapeHTML:function(){return i(this)}})}]),t.exports?t.exports=i:(r=(function(){return i}).call(n,e,n,t))===u||(t.exports=r)}(1,1)},gQmS:function(t,n){n.f=Object.getOwnPropertySymbols},giLt:function(t,n,e){var r=e("2VH3")("match");t.exports=function(t){var n=/./;try{"/./"[t](n)}catch(e){try{return n[r]=!1,!"/./"[t](n)}catch(i){}}return!0}},"hN/g":function(t,n,e){"use strict";e.r(n),e("gGC0"),e("yXcf"),e("Zb8I"),e("txR2"),e("59HP"),e("mG1U"),e("8aR+"),e("7lsY"),e("BvK4"),e("iJzK"),e("7Czv"),e("wy73"),e("2YD3"),e("3X5s"),e("mwn6"),e("bADg"),e("H9be"),e("nf2o")},hOc4:function(t,n,e){var r=e("GU4h"),i=e("7Zmh").set;t.exports=function(t,n,e){var o,u=n.constructor;return u!==e&&"function"==typeof u&&(o=u.prototype)!==e.prototype&&r(o)&&i&&i(t,o),t}},hhwk:function(t,n,e){var r=e("7zcn"),i=e("CwQO"),o=e("u2Rj");r(r.S,"String",{raw:function(t){for(var n=i(t.raw),e=o(n.length),r=arguments.length,u=[],a=0;e>a;)u.push(String(n[a++])),a<r&&u.push(String(arguments[a]));return u.join("")}})},iJzK:function(t,n,e){e("7fQw"),e("Hz4H"),e("TX48"),e("AA1/"),e("fMlA"),t.exports=Date},iZYR:function(t,n,e){var r=e("3WEy"),i=e("6qOv");t.exports=Object.keys||function(t){return r(t,i)}},jDWM:function(t,n,e){var r=e("09V9"),i=e("ecHh"),o=e("rsBL"),u=e("u2Rj");t.exports=function(t,n,e,a,c){r(n);var s=i(t),f=o(s),l=u(s.length),h=c?l-1:0,p=c?-1:1;if(e<2)for(;;){if(h in f){a=f[h],h+=p;break}if(h+=p,c?h<0:l<=h)throw TypeError("Reduce of empty array with no initial value")}for(;c?h>=0:l>h;h+=p)h in f&&(a=n(a,f[h],h,s));return a}},jH7Z:function(t,n,e){var r=e("GU4h");t.exports=function(t){if(!r(t))throw TypeError(t+" is not an object!");return t}},kDPR:function(t,n,e){var r=e("7zcn"),i=e("oSRv"),o=e("yK4D"),u=/"/g,a=function(t,n,e,r){var i=String(o(t)),a="<"+n;return""!==e&&(a+=" "+e+'="'+String(r).replace(u,"&quot;")+'"'),a+">"+i+"</"+n+">"};t.exports=function(t,n){var e={};e[t]=n(a),r(r.P+r.F*i((function(){var n=""[t]('"');return n!==n.toLowerCase()||n.split('"').length>3})),"String",e)}},kEqp:function(t,n,e){var r=e("JaYb"),i=e("ecHh"),o=e("+WIo")("IE_PROTO"),u=Object.prototype;t.exports=Object.getPrototypeOf||function(t){return t=i(t),r(t,o)?t[o]:"function"==typeof t.constructor&&t instanceof t.constructor?t.constructor.prototype:t instanceof Object?u:null}},"kX+i":function(t,n,e){"use strict";e("kDPR")("fontsize",(function(t){return function(n){return t(this,"font","size",n)}}))},kk3K:function(t,n,e){"use strict";var r=e("7zcn"),i=e("QY3j")(4);r(r.P+r.F*!e("TLBd")([].every,!0),"Array",{every:function(t){return i(this,t,arguments[1])}})},"lE7+":function(t,n,e){"use strict";var r=e("7zcn"),i=e("QY3j")(2);r(r.P+r.F*!e("TLBd")([].filter,!0),"Array",{filter:function(t){return i(this,t,arguments[1])}})},lrpY:function(t,n,e){var r=e("2VH3")("unscopables"),i=Array.prototype;null==i[r]&&e("uv4k")(i,r,{}),t.exports=function(t){i[r][t]=!0}},m4ZL:function(t,n,e){var r=e("GU4h"),i=e("DozX").document,o=r(i)&&r(i.createElement);t.exports=function(t){return o?i.createElement(t):{}}},mG1U:function(t,n,e){e("MaW5"),t.exports=e("XFAF").parseFloat},mwn6:function(t,n,e){e("dtAy"),e("4oWw"),e("LnO1"),e("zQXS"),t.exports=e("XFAF").Set},nIRx:function(t,n,e){t.exports=e("NGBq")("native-function-to-string",Function.toString)},ndOI:function(t,n){t.exports={}},nf2o:function(t,n){!function(t){const n=t.performance;function e(t){n&&n.mark&&n.mark(t)}function r(t,e){n&&n.measure&&n.measure(t,e)}e("Zone");const i=!0===t.__zone_symbol__forceDuplicateZoneCheck;if(t.Zone){if(i||"function"!=typeof t.Zone.__symbol__)throw new Error("Zone already loaded.");return t.Zone}class o{constructor(t,n){this._parent=t,this._name=n?n.name||"unnamed":"<root>",this._properties=n&&n.properties||{},this._zoneDelegate=new a(this,this._parent&&this._parent._zoneDelegate,n)}static assertZonePatched(){if(t.Promise!==P.ZoneAwarePromise)throw new Error("Zone.js has detected that ZoneAwarePromise `(window|global).Promise` has been overwritten.\nMost likely cause is that a Promise polyfill has been loaded after Zone.js (Polyfilling Promise api is not necessary when zone.js is loaded. If you must load one, do so before loading zone.js.)")}static get root(){let t=o.current;for(;t.parent;)t=t.parent;return t}static get current(){return M.zone}static get currentTask(){return A}static __load_patch(n,u){if(P.hasOwnProperty(n)){if(i)throw Error("Already loaded patch: "+n)}else if(!t["__Zone_disable_"+n]){const i="Zone:"+n;e(i),P[n]=u(t,o,O),r(i,i)}}get parent(){return this._parent}get name(){return this._name}get(t){const n=this.getZoneWith(t);if(n)return n._properties[t]}getZoneWith(t){let n=this;for(;n;){if(n._properties.hasOwnProperty(t))return n;n=n._parent}return null}fork(t){if(!t)throw new Error("ZoneSpec required!");return this._zoneDelegate.fork(this,t)}wrap(t,n){if("function"!=typeof t)throw new Error("Expecting function got: "+t);const e=this._zoneDelegate.intercept(this,t,n),r=this;return function(){return r.runGuarded(e,this,arguments,n)}}run(t,n,e,r){M={parent:M,zone:this};try{return this._zoneDelegate.invoke(this,t,n,e,r)}finally{M=M.parent}}runGuarded(t,n=null,e,r){M={parent:M,zone:this};try{try{return this._zoneDelegate.invoke(this,t,n,e,r)}catch(i){if(this._zoneDelegate.handleError(this,i))throw i}}finally{M=M.parent}}runTask(t,n,e){if(t.zone!=this)throw new Error("A task can only be run in the zone of creation! (Creation: "+(t.zone||y).name+"; Execution: "+this.name+")");if(t.state===m&&(t.type===E||t.type===T))return;const r=t.state!=x;r&&t._transitionTo(x,_),t.runCount++;const i=A;A=t,M={parent:M,zone:this};try{t.type==T&&t.data&&!t.data.isPeriodic&&(t.cancelFn=void 0);try{return this._zoneDelegate.invokeTask(this,t,n,e)}catch(o){if(this._zoneDelegate.handleError(this,o))throw o}}finally{t.state!==m&&t.state!==w&&(t.type==E||t.data&&t.data.isPeriodic?r&&t._transitionTo(_,x):(t.runCount=0,this._updateTaskCount(t,-1),r&&t._transitionTo(m,x,m))),M=M.parent,A=i}}scheduleTask(t){if(t.zone&&t.zone!==this){let n=this;for(;n;){if(n===t.zone)throw Error(`can not reschedule task to ${this.name} which is descendants of the original zone ${t.zone.name}`);n=n.parent}}t._transitionTo(b,m);const n=[];t._zoneDelegates=n,t._zone=this;try{t=this._zoneDelegate.scheduleTask(this,t)}catch(e){throw t._transitionTo(w,b,m),this._zoneDelegate.handleError(this,e),e}return t._zoneDelegates===n&&this._updateTaskCount(t,1),t.state==b&&t._transitionTo(_,b),t}scheduleMicroTask(t,n,e,r){return this.scheduleTask(new c(k,t,n,e,r,void 0))}scheduleMacroTask(t,n,e,r,i){return this.scheduleTask(new c(T,t,n,e,r,i))}scheduleEventTask(t,n,e,r,i){return this.scheduleTask(new c(E,t,n,e,r,i))}cancelTask(t){if(t.zone!=this)throw new Error("A task can only be cancelled in the zone of creation! (Creation: "+(t.zone||y).name+"; Execution: "+this.name+")");t._transitionTo(S,_,x);try{this._zoneDelegate.cancelTask(this,t)}catch(n){throw t._transitionTo(w,S),this._zoneDelegate.handleError(this,n),n}return this._updateTaskCount(t,-1),t._transitionTo(m,S),t.runCount=0,t}_updateTaskCount(t,n){const e=t._zoneDelegates;-1==n&&(t._zoneDelegates=null);for(let r=0;r<e.length;r++)e[r]._updateTaskCount(t.type,n)}}o.__symbol__=F;const u={name:"",onHasTask:(t,n,e,r)=>t.hasTask(e,r),onScheduleTask:(t,n,e,r)=>t.scheduleTask(e,r),onInvokeTask:(t,n,e,r,i,o)=>t.invokeTask(e,r,i,o),onCancelTask:(t,n,e,r)=>t.cancelTask(e,r)};class a{constructor(t,n,e){this._taskCounts={microTask:0,macroTask:0,eventTask:0},this.zone=t,this._parentDelegate=n,this._forkZS=e&&(e&&e.onFork?e:n._forkZS),this._forkDlgt=e&&(e.onFork?n:n._forkDlgt),this._forkCurrZone=e&&(e.onFork?this.zone:n.zone),this._interceptZS=e&&(e.onIntercept?e:n._interceptZS),this._interceptDlgt=e&&(e.onIntercept?n:n._interceptDlgt),this._interceptCurrZone=e&&(e.onIntercept?this.zone:n.zone),this._invokeZS=e&&(e.onInvoke?e:n._invokeZS),this._invokeDlgt=e&&(e.onInvoke?n:n._invokeDlgt),this._invokeCurrZone=e&&(e.onInvoke?this.zone:n.zone),this._handleErrorZS=e&&(e.onHandleError?e:n._handleErrorZS),this._handleErrorDlgt=e&&(e.onHandleError?n:n._handleErrorDlgt),this._handleErrorCurrZone=e&&(e.onHandleError?this.zone:n.zone),this._scheduleTaskZS=e&&(e.onScheduleTask?e:n._scheduleTaskZS),this._scheduleTaskDlgt=e&&(e.onScheduleTask?n:n._scheduleTaskDlgt),this._scheduleTaskCurrZone=e&&(e.onScheduleTask?this.zone:n.zone),this._invokeTaskZS=e&&(e.onInvokeTask?e:n._invokeTaskZS),this._invokeTaskDlgt=e&&(e.onInvokeTask?n:n._invokeTaskDlgt),this._invokeTaskCurrZone=e&&(e.onInvokeTask?this.zone:n.zone),this._cancelTaskZS=e&&(e.onCancelTask?e:n._cancelTaskZS),this._cancelTaskDlgt=e&&(e.onCancelTask?n:n._cancelTaskDlgt),this._cancelTaskCurrZone=e&&(e.onCancelTask?this.zone:n.zone),this._hasTaskZS=null,this._hasTaskDlgt=null,this._hasTaskDlgtOwner=null,this._hasTaskCurrZone=null;const r=e&&e.onHasTask;(r||n&&n._hasTaskZS)&&(this._hasTaskZS=r?e:u,this._hasTaskDlgt=n,this._hasTaskDlgtOwner=this,this._hasTaskCurrZone=t,e.onScheduleTask||(this._scheduleTaskZS=u,this._scheduleTaskDlgt=n,this._scheduleTaskCurrZone=this.zone),e.onInvokeTask||(this._invokeTaskZS=u,this._invokeTaskDlgt=n,this._invokeTaskCurrZone=this.zone),e.onCancelTask||(this._cancelTaskZS=u,this._cancelTaskDlgt=n,this._cancelTaskCurrZone=this.zone))}fork(t,n){return this._forkZS?this._forkZS.onFork(this._forkDlgt,this.zone,t,n):new o(t,n)}intercept(t,n,e){return this._interceptZS?this._interceptZS.onIntercept(this._interceptDlgt,this._interceptCurrZone,t,n,e):n}invoke(t,n,e,r,i){return this._invokeZS?this._invokeZS.onInvoke(this._invokeDlgt,this._invokeCurrZone,t,n,e,r,i):n.apply(e,r)}handleError(t,n){return!this._handleErrorZS||this._handleErrorZS.onHandleError(this._handleErrorDlgt,this._handleErrorCurrZone,t,n)}scheduleTask(t,n){let e=n;if(this._scheduleTaskZS)this._hasTaskZS&&e._zoneDelegates.push(this._hasTaskDlgtOwner),e=this._scheduleTaskZS.onScheduleTask(this._scheduleTaskDlgt,this._scheduleTaskCurrZone,t,n),e||(e=n);else if(n.scheduleFn)n.scheduleFn(n);else{if(n.type!=k)throw new Error("Task is missing scheduleFn.");d(n)}return e}invokeTask(t,n,e,r){return this._invokeTaskZS?this._invokeTaskZS.onInvokeTask(this._invokeTaskDlgt,this._invokeTaskCurrZone,t,n,e,r):n.callback.apply(e,r)}cancelTask(t,n){let e;if(this._cancelTaskZS)e=this._cancelTaskZS.onCancelTask(this._cancelTaskDlgt,this._cancelTaskCurrZone,t,n);else{if(!n.cancelFn)throw Error("Task is not cancelable");e=n.cancelFn(n)}return e}hasTask(t,n){try{this._hasTaskZS&&this._hasTaskZS.onHasTask(this._hasTaskDlgt,this._hasTaskCurrZone,t,n)}catch(e){this.handleError(t,e)}}_updateTaskCount(t,n){const e=this._taskCounts,r=e[t],i=e[t]=r+n;if(i<0)throw new Error("More tasks executed then were scheduled.");0!=r&&0!=i||this.hasTask(this.zone,{microTask:e.microTask>0,macroTask:e.macroTask>0,eventTask:e.eventTask>0,change:t})}}class c{constructor(n,e,r,i,o,u){this._zone=null,this.runCount=0,this._zoneDelegates=null,this._state="notScheduled",this.type=n,this.source=e,this.data=i,this.scheduleFn=o,this.cancelFn=u,this.callback=r;const a=this;this.invoke=n===E&&i&&i.useG?c.invokeTask:function(){return c.invokeTask.call(t,a,this,arguments)}}static invokeTask(t,n,e){t||(t=this),N++;try{return t.runCount++,t.zone.runTask(t,n,e)}finally{1==N&&g(),N--}}get zone(){return this._zone}get state(){return this._state}cancelScheduleRequest(){this._transitionTo(m,b)}_transitionTo(t,n,e){if(this._state!==n&&this._state!==e)throw new Error(`${this.type} '${this.source}': can not transition to '${t}', expecting state '${n}'${e?" or '"+e+"'":""}, was '${this._state}'.`);this._state=t,t==m&&(this._zoneDelegates=null)}toString(){return this.data&&void 0!==this.data.handleId?this.data.handleId.toString():Object.prototype.toString.call(this)}toJSON(){return{type:this.type,state:this.state,source:this.source,zone:this.zone.name,runCount:this.runCount}}}const s=F("setTimeout"),f=F("Promise"),l=F("then");let h,p=[],v=!1;function d(n){if(0===N&&0===p.length)if(h||t[f]&&(h=t[f].resolve(0)),h){let t=h[l];t||(t=h.then),t.call(h,g)}else t[s](g,0);n&&p.push(n)}function g(){if(!v){for(v=!0;p.length;){const n=p;p=[];for(let e=0;e<n.length;e++){const r=n[e];try{r.zone.runTask(r,null,null)}catch(t){O.onUnhandledError(t)}}}O.microtaskDrainDone(),v=!1}}const y={name:"NO ZONE"},m="notScheduled",b="scheduling",_="scheduled",x="running",S="canceling",w="unknown",k="microTask",T="macroTask",E="eventTask",P={},O={symbol:F,currentZoneFrame:()=>M,onUnhandledError:R,microtaskDrainDone:R,scheduleMicroTask:d,showUncaughtError:()=>!o[F("ignoreConsoleErrorUncaughtError")],patchEventTarget:()=>[],patchOnProperties:R,patchMethod:()=>R,bindArguments:()=>[],patchThen:()=>R,patchMacroTask:()=>R,setNativePromise:t=>{t&&"function"==typeof t.resolve&&(h=t.resolve(0))},patchEventPrototype:()=>R,isIEOrEdge:()=>!1,getGlobalObjects:()=>void 0,ObjectDefineProperty:()=>R,ObjectGetOwnPropertyDescriptor:()=>void 0,ObjectCreate:()=>void 0,ArraySlice:()=>[],patchClass:()=>R,wrapWithCurrentZone:()=>R,filterProperties:()=>[],attachOriginToPatched:()=>R,_redefineProperty:()=>R,patchCallbacks:()=>R};let M={parent:null,zone:new o(null,null)},A=null,N=0;function R(){}function F(t){return"__zone_symbol__"+t}r("Zone","Zone"),t.Zone=o}("undefined"!=typeof window&&window||"undefined"!=typeof self&&self||global),Zone.__load_patch("ZoneAwarePromise",(t,n,e)=>{const r=Object.getOwnPropertyDescriptor,i=Object.defineProperty,o=e.symbol,u=[],a=o("Promise"),c=o("then"),s="__creationTrace__";e.onUnhandledError=t=>{if(e.showUncaughtError()){const n=t&&t.rejection;n?console.error("Unhandled Promise rejection:",n instanceof Error?n.message:n,"; Zone:",t.zone.name,"; Task:",t.task&&t.task.source,"; Value:",n,n instanceof Error?n.stack:void 0):console.error(t)}},e.microtaskDrainDone=()=>{for(;u.length;)for(;u.length;){const n=u.shift();try{n.zone.runGuarded(()=>{throw n})}catch(t){l(t)}}};const f=o("unhandledPromiseRejectionHandler");function l(t){e.onUnhandledError(t);try{const e=n[f];e&&"function"==typeof e&&e.call(this,t)}catch(r){}}function h(t){return t&&t.then}function p(t){return t}function v(t){return j.reject(t)}const d=o("state"),g=o("value"),y=o("finally"),m=o("parentPromiseValue"),b=o("parentPromiseState"),_="Promise.then",x=null,S=!0,w=!1,k=0;function T(t,n){return e=>{try{M(t,n,e)}catch(r){M(t,!1,r)}}}const E=function(){let t=!1;return function(n){return function(){t||(t=!0,n.apply(null,arguments))}}},P="Promise resolved with itself",O=o("currentTaskTrace");function M(t,r,o){const a=E();if(t===o)throw new TypeError(P);if(t[d]===x){let l=null;try{"object"!=typeof o&&"function"!=typeof o||(l=o&&o.then)}catch(f){return a(()=>{M(t,!1,f)})(),t}if(r!==w&&o instanceof j&&o.hasOwnProperty(d)&&o.hasOwnProperty(g)&&o[d]!==x)N(o),M(t,o[d],o[g]);else if(r!==w&&"function"==typeof l)try{l.call(o,a(T(t,r)),a(T(t,!1)))}catch(f){a(()=>{M(t,!1,f)})()}else{t[d]=r;const a=t[g];if(t[g]=o,t[y]===y&&r===S&&(t[d]=t[b],t[g]=t[m]),r===w&&o instanceof Error){const t=n.currentTask&&n.currentTask.data&&n.currentTask.data[s];t&&i(o,O,{configurable:!0,enumerable:!1,writable:!0,value:t})}for(let n=0;n<a.length;)R(t,a[n++],a[n++],a[n++],a[n++]);if(0==a.length&&r==w){t[d]=k;try{throw new Error("Uncaught (in promise): "+((c=o)&&c.toString===Object.prototype.toString?(c.constructor&&c.constructor.name||"")+": "+JSON.stringify(c):c?c.toString():Object.prototype.toString.call(c))+(o&&o.stack?"\n"+o.stack:""))}catch(f){const r=f;r.rejection=o,r.promise=t,r.zone=n.current,r.task=n.currentTask,u.push(r),e.scheduleMicroTask()}}}}var c;return t}const A=o("rejectionHandledHandler");function N(t){if(t[d]===k){try{const e=n[A];e&&"function"==typeof e&&e.call(this,{rejection:t[g],promise:t})}catch(e){}t[d]=w;for(let n=0;n<u.length;n++)t===u[n].promise&&u.splice(n,1)}}function R(t,n,e,r,i){N(t);const o=t[d],u=o?"function"==typeof r?r:p:"function"==typeof i?i:v;n.scheduleMicroTask(_,()=>{try{const r=t[g],i=e&&y===e[y];i&&(e[m]=r,e[b]=o);const a=n.run(u,void 0,i&&u!==v&&u!==p?[]:[r]);M(e,!0,a)}catch(r){M(e,!1,r)}},e)}const F="function ZoneAwarePromise() { [native code] }";class j{constructor(t){const n=this;if(!(n instanceof j))throw new Error("Must be an instanceof Promise.");n[d]=x,n[g]=[];try{t&&t(T(n,S),T(n,w))}catch(e){M(n,!1,e)}}static toString(){return F}static resolve(t){return M(new this(null),S,t)}static reject(t){return M(new this(null),w,t)}static race(t){let n,e,r=new this((t,r)=>{n=t,e=r});function i(t){n(t)}function o(t){e(t)}for(let u of t)h(u)||(u=this.resolve(u)),u.then(i,o);return r}static all(t){let n,e,r=new this((t,r)=>{n=t,e=r}),i=2,o=0;const u=[];for(let a of t){h(a)||(a=this.resolve(a));const t=o;a.then(e=>{u[t]=e,i--,0===i&&n(u)},e),i++,o++}return i-=2,0===i&&n(u),r}get[Symbol.toStringTag](){return"Promise"}then(t,e){const r=new this.constructor(null),i=n.current;return this[d]==x?this[g].push(i,r,t,e):R(this,i,r,t,e),r}catch(t){return this.then(null,t)}finally(t){const e=new this.constructor(null);e[y]=y;const r=n.current;return this[d]==x?this[g].push(r,e,t,t):R(this,r,e,t,t),e}}j.resolve=j.resolve,j.reject=j.reject,j.race=j.race,j.all=j.all;const I=t[a]=t.Promise,D=n.__symbol__("ZoneAwarePromise");let z=r(t,"Promise");z&&!z.configurable||(z&&delete z.writable,z&&delete z.value,z||(z={configurable:!0,enumerable:!0}),z.get=function(){return t[D]?t[D]:t[a]},z.set=function(n){n===j?t[D]=n:(t[a]=n,n.prototype[c]||L(n),e.setNativePromise(n))},i(t,"Promise",z)),t.Promise=j;const C=o("thenPatched");function L(t){const n=t.prototype,e=r(n,"then");if(e&&(!1===e.writable||!e.configurable))return;const i=n.then;n[c]=i,t.prototype.then=function(t,n){return new j((t,n)=>{i.call(this,t,n)}).then(t,n)},t[C]=!0}if(e.patchThen=L,I){L(I);const n=t.fetch;"function"==typeof n&&(t[e.symbol("fetch")]=n,t.fetch=function(t){return function(){let n=t.apply(this,arguments);if(n instanceof j)return n;let e=n.constructor;return e[C]||L(e),n}}(n))}return Promise[n.__symbol__("uncaughtPromiseErrors")]=u,j});const e=Object.getOwnPropertyDescriptor,r=Object.defineProperty,i=Object.getPrototypeOf,o=Object.create,u=Array.prototype.slice,a="addEventListener",c="removeEventListener",s=Zone.__symbol__(a),f=Zone.__symbol__(c),l="true",h="false",p="__zone_symbol__";function v(t,n){return Zone.current.wrap(t,n)}function d(t,n,e,r,i){return Zone.current.scheduleMacroTask(t,n,e,r,i)}const g=Zone.__symbol__,y="undefined"!=typeof window,m=y?window:void 0,b=y&&m||"object"==typeof self&&self||global,_="removeAttribute",x=[null];function S(t,n){for(let e=t.length-1;e>=0;e--)"function"==typeof t[e]&&(t[e]=v(t[e],n+"_"+e));return t}function w(t){return!t||!1!==t.writable&&!("function"==typeof t.get&&void 0===t.set)}const k="undefined"!=typeof WorkerGlobalScope&&self instanceof WorkerGlobalScope,T=!("nw"in b)&&void 0!==b.process&&"[object process]"==={}.toString.call(b.process),E=!T&&!k&&!(!y||!m.HTMLElement),P=void 0!==b.process&&"[object process]"==={}.toString.call(b.process)&&!k&&!(!y||!m.HTMLElement),O={},M=function(t){if(!(t=t||b.event))return;let n=O[t.type];n||(n=O[t.type]=g("ON_PROPERTY"+t.type));const e=this||t.target||b,r=e[n];let i;if(E&&e===m&&"error"===t.type){const n=t;i=r&&r.call(this,n.message,n.filename,n.lineno,n.colno,n.error),!0===i&&t.preventDefault()}else i=r&&r.apply(this,arguments),null==i||i||t.preventDefault();return i};function A(t,n,i){let o=e(t,n);if(!o&&i&&e(i,n)&&(o={enumerable:!0,configurable:!0}),!o||!o.configurable)return;const u=g("on"+n+"patched");if(t.hasOwnProperty(u)&&t[u])return;delete o.writable,delete o.value;const a=o.get,c=o.set,s=n.substr(2);let f=O[s];f||(f=O[s]=g("ON_PROPERTY"+s)),o.set=function(n){let e=this;e||t!==b||(e=b),e&&(e[f]&&e.removeEventListener(s,M),c&&c.apply(e,x),"function"==typeof n?(e[f]=n,e.addEventListener(s,M,!1)):e[f]=null)},o.get=function(){let e=this;if(e||t!==b||(e=b),!e)return null;const r=e[f];if(r)return r;if(a){let t=a&&a.call(this);if(t)return o.set.call(this,t),"function"==typeof e[_]&&e.removeAttribute(n),t}return null},r(t,n,o),t[u]=!0}function N(t,n,e){if(n)for(let r=0;r<n.length;r++)A(t,"on"+n[r],e);else{const n=[];for(const e in t)"on"==e.substr(0,2)&&n.push(e);for(let r=0;r<n.length;r++)A(t,n[r],e)}}const R=g("originalInstance");function F(t){const n=b[t];if(!n)return;b[g(t)]=n,b[t]=function(){const e=S(arguments,t);switch(e.length){case 0:this[R]=new n;break;case 1:this[R]=new n(e[0]);break;case 2:this[R]=new n(e[0],e[1]);break;case 3:this[R]=new n(e[0],e[1],e[2]);break;case 4:this[R]=new n(e[0],e[1],e[2],e[3]);break;default:throw new Error("Arg list too long.")}},z(b[t],n);const e=new n((function(){}));let i;for(i in e)"XMLHttpRequest"===t&&"responseBlob"===i||function(n){"function"==typeof e[n]?b[t].prototype[n]=function(){return this[R][n].apply(this[R],arguments)}:r(b[t].prototype,n,{set:function(e){"function"==typeof e?(this[R][n]=v(e,t+"."+n),z(this[R][n],e)):this[R][n]=e},get:function(){return this[R][n]}})}(i);for(i in n)"prototype"!==i&&n.hasOwnProperty(i)&&(b[t][i]=n[i])}let j=!1;function I(t,n,r){let o=t;for(;o&&!o.hasOwnProperty(n);)o=i(o);!o&&t[n]&&(o=t);const u=g(n);let a=null;if(o&&!(a=o[u])&&(a=o[u]=o[n],w(o&&e(o,n)))){const t=r(a,u,n);o[n]=function(){return t(this,arguments)},z(o[n],a),j&&(c=a,s=o[n],"function"==typeof Object.getOwnPropertySymbols&&Object.getOwnPropertySymbols(c).forEach(t=>{const n=Object.getOwnPropertyDescriptor(c,t);Object.defineProperty(s,t,{get:function(){return c[t]},set:function(e){(!n||n.writable&&"function"==typeof n.set)&&(c[t]=e)},enumerable:!n||n.enumerable,configurable:!n||n.configurable})}))}var c,s;return a}function D(t,n,e){let r=null;function i(t){const n=t.data;return n.args[n.cbIdx]=function(){t.invoke.apply(this,arguments)},r.apply(n.target,n.args),t}r=I(t,n,t=>(function(n,r){const o=e(n,r);return o.cbIdx>=0&&"function"==typeof r[o.cbIdx]?d(o.name,r[o.cbIdx],o,i):t.apply(n,r)}))}function z(t,n){t[g("OriginalDelegate")]=n}let C=!1,L=!1;function Z(){try{const t=m.navigator.userAgent;if(-1!==t.indexOf("MSIE ")||-1!==t.indexOf("Trident/"))return!0}catch(t){}return!1}function H(){if(C)return L;C=!0;try{const t=m.navigator.userAgent;-1===t.indexOf("MSIE ")&&-1===t.indexOf("Trident/")&&-1===t.indexOf("Edge/")||(L=!0)}catch(t){}return L}Zone.__load_patch("toString",t=>{const n=Function.prototype.toString,e=g("OriginalDelegate"),r=g("Promise"),i=g("Error"),o=function(){if("function"==typeof this){const o=this[e];if(o)return"function"==typeof o?n.call(o):Object.prototype.toString.call(o);if(this===Promise){const e=t[r];if(e)return n.call(e)}if(this===Error){const e=t[i];if(e)return n.call(e)}}return n.call(this)};o[e]=n,Function.prototype.toString=o;const u=Object.prototype.toString;Object.prototype.toString=function(){return this instanceof Promise?"[object Promise]":u.call(this)}});let W=!1;if("undefined"!=typeof window)try{const t=Object.defineProperty({},"passive",{get:function(){W=!0}});window.addEventListener("test",t,t),window.removeEventListener("test",t,t)}catch(wt){W=!1}const U={useG:!0},G={},V={},B=/^__zone_symbol__(\w+)(true|false)$/,X="__zone_symbol__propagationStopped";function Y(t,n,e){const r=e&&e.add||a,o=e&&e.rm||c,u=e&&e.listeners||"eventListeners",s=e&&e.rmAll||"removeAllListeners",f=g(r),v="."+r+":",d="prependListener",y="."+d+":",m=function(t,n,e){if(t.isRemoved)return;const r=t.callback;"object"==typeof r&&r.handleEvent&&(t.callback=t=>r.handleEvent(t),t.originalDelegate=r),t.invoke(t,n,[e]);const i=t.options;i&&"object"==typeof i&&i.once&&n[o].call(n,e.type,t.originalDelegate?t.originalDelegate:t.callback,i)},b=function(n){if(!(n=n||t.event))return;const e=this||n.target||t,r=e[G[n.type][h]];if(r)if(1===r.length)m(r[0],e,n);else{const t=r.slice();for(let r=0;r<t.length&&(!n||!0!==n[X]);r++)m(t[r],e,n)}},_=function(n){if(!(n=n||t.event))return;const e=this||n.target||t,r=e[G[n.type][l]];if(r)if(1===r.length)m(r[0],e,n);else{const t=r.slice();for(let r=0;r<t.length&&(!n||!0!==n[X]);r++)m(t[r],e,n)}};function x(n,e){if(!n)return!1;let a=!0;e&&void 0!==e.useG&&(a=e.useG);const c=e&&e.vh;let m=!0;e&&void 0!==e.chkDup&&(m=e.chkDup);let x=!1;e&&void 0!==e.rt&&(x=e.rt);let S=n;for(;S&&!S.hasOwnProperty(r);)S=i(S);if(!S&&n[r]&&(S=n),!S)return!1;if(S[f])return!1;const w=e&&e.eventNameToString,k={},E=S[f]=S[r],P=S[g(o)]=S[o],O=S[g(u)]=S[u],M=S[g(s)]=S[s];let A;function N(t){W||"boolean"==typeof k.options||null==k.options||(t.options=!!k.options.capture,k.options=t.options)}e&&e.prepend&&(A=S[g(e.prepend)]=S[e.prepend]);const R=a?function(t){if(!k.isExisting)return N(t),E.call(k.target,k.eventName,k.capture?_:b,k.options)}:function(t){return N(t),E.call(k.target,k.eventName,t.invoke,k.options)},F=a?function(t){if(!t.isRemoved){const n=G[t.eventName];let e;n&&(e=n[t.capture?l:h]);const r=e&&t.target[e];if(r)for(let i=0;i<r.length;i++)if(r[i]===t){r.splice(i,1),t.isRemoved=!0,0===r.length&&(t.allRemoved=!0,t.target[e]=null);break}}if(t.allRemoved)return P.call(t.target,t.eventName,t.capture?_:b,t.options)}:function(t){return P.call(t.target,t.eventName,t.invoke,t.options)},j=e&&e.diff?e.diff:function(t,n){const e=typeof n;return"function"===e&&t.callback===n||"object"===e&&t.originalDelegate===n},I=Zone[Zone.__symbol__("BLACK_LISTED_EVENTS")],D=function(n,e,r,i,o=!1,u=!1){return function(){const s=this||t,f=arguments[0];let v=arguments[1];if(!v)return n.apply(this,arguments);if(T&&"uncaughtException"===f)return n.apply(this,arguments);let d=!1;if("function"!=typeof v){if(!v.handleEvent)return n.apply(this,arguments);d=!0}if(c&&!c(n,v,s,arguments))return;const g=arguments[2];if(I)for(let t=0;t<I.length;t++)if(f===I[t])return n.apply(this,arguments);let y,b=!1;void 0===g?y=!1:!0===g?y=!0:!1===g?y=!1:(y=!!g&&!!g.capture,b=!!g&&!!g.once);const _=Zone.current,x=G[f];let S;if(x)S=x[y?l:h];else{const t=(w?w(f):f)+h,n=(w?w(f):f)+l,e=p+t,r=p+n;G[f]={},G[f][h]=e,G[f][l]=r,S=y?r:e}let E,P=s[S],O=!1;if(P){if(O=!0,m)for(let t=0;t<P.length;t++)if(j(P[t],v))return}else P=s[S]=[];const M=s.constructor.name,A=V[M];A&&(E=A[f]),E||(E=M+e+(w?w(f):f)),k.options=g,b&&(k.options.once=!1),k.target=s,k.capture=y,k.eventName=f,k.isExisting=O;const N=a?U:void 0;N&&(N.taskData=k);const R=_.scheduleEventTask(E,v,N,r,i);return k.target=null,N&&(N.taskData=null),b&&(g.once=!0),(W||"boolean"!=typeof R.options)&&(R.options=g),R.target=s,R.capture=y,R.eventName=f,d&&(R.originalDelegate=v),u?P.unshift(R):P.push(R),o?s:void 0}};return S[r]=D(E,v,R,F,x),A&&(S[d]=D(A,y,(function(t){return A.call(k.target,k.eventName,t.invoke,k.options)}),F,x,!0)),S[o]=function(){const n=this||t,e=arguments[0],r=arguments[2];let i;i=void 0!==r&&(!0===r||!1!==r&&!!r&&!!r.capture);const o=arguments[1];if(!o)return P.apply(this,arguments);if(c&&!c(P,o,n,arguments))return;const u=G[e];let a;u&&(a=u[i?l:h]);const s=a&&n[a];if(s)for(let t=0;t<s.length;t++){const e=s[t];if(j(e,o))return s.splice(t,1),e.isRemoved=!0,0===s.length&&(e.allRemoved=!0,n[a]=null),e.zone.cancelTask(e),x?n:void 0}return P.apply(this,arguments)},S[u]=function(){const n=this||t,e=arguments[0],r=[],i=J(n,w?w(e):e);for(let t=0;t<i.length;t++){const n=i[t];r.push(n.originalDelegate?n.originalDelegate:n.callback)}return r},S[s]=function(){const n=this||t,e=arguments[0];if(e){const t=G[e];if(t){const r=n[t[h]],i=n[t[l]];if(r){const t=r.slice();for(let n=0;n<t.length;n++){const r=t[n];this[o].call(this,e,r.originalDelegate?r.originalDelegate:r.callback,r.options)}}if(i){const t=i.slice();for(let n=0;n<t.length;n++){const r=t[n];this[o].call(this,e,r.originalDelegate?r.originalDelegate:r.callback,r.options)}}}}else{const t=Object.keys(n);for(let n=0;n<t.length;n++){const e=B.exec(t[n]);let r=e&&e[1];r&&"removeListener"!==r&&this[s].call(this,r)}this[s].call(this,"removeListener")}if(x)return this},z(S[r],E),z(S[o],P),M&&z(S[s],M),O&&z(S[u],O),!0}let S=[];for(let i=0;i<n.length;i++)S[i]=x(n[i],e);return S}function J(t,n){const e=[];for(let r in t){const i=B.exec(r);let o=i&&i[1];if(o&&(!n||o===n)){const n=t[r];if(n)for(let t=0;t<n.length;t++)e.push(n[t])}}return e}function q(t,n){const e=t.Event;e&&e.prototype&&n.patchMethod(e.prototype,"stopImmediatePropagation",t=>(function(n,e){n[X]=!0,t&&t.apply(n,e)}))}function K(t,n,e,r,i){const o=Zone.__symbol__(r);if(n[o])return;const u=n[o]=n[r];n[r]=function(o,a,c){return a&&a.prototype&&i.forEach((function(n){const i=`${e}.${r}::`+n,o=a.prototype;if(o.hasOwnProperty(n)){const e=t.ObjectGetOwnPropertyDescriptor(o,n);e&&e.value?(e.value=t.wrapWithCurrentZone(e.value,i),t._redefineProperty(a.prototype,n,e)):o[n]&&(o[n]=t.wrapWithCurrentZone(o[n],i))}else o[n]&&(o[n]=t.wrapWithCurrentZone(o[n],i))})),u.call(n,o,a,c)},t.attachOriginToPatched(n[r],u)}const Q=Zone.__symbol__,$=Object[Q("defineProperty")]=Object.defineProperty,tt=Object[Q("getOwnPropertyDescriptor")]=Object.getOwnPropertyDescriptor,nt=Object.create,et=Q("unconfigurables");function rt(t,n,e){const r=e.configurable;return ut(t,n,e=ot(t,n,e),r)}function it(t,n){return t&&t[et]&&t[et][n]}function ot(t,n,e){return Object.isFrozen(e)||(e.configurable=!0),e.configurable||(t[et]||Object.isFrozen(t)||$(t,et,{writable:!0,value:{}}),t[et]&&(t[et][n]=!0)),e}function ut(t,n,e,r){try{return $(t,n,e)}catch(i){if(!e.configurable)throw i;void 0===r?delete e.configurable:e.configurable=r;try{return $(t,n,e)}catch(i){let r=null;try{r=JSON.stringify(e)}catch(i){r=e.toString()}console.log(`Attempting to configure '${n}' with descriptor '${r}' on object '${t}' and got error, giving up: ${i}`)}}}const at=["absolutedeviceorientation","afterinput","afterprint","appinstalled","beforeinstallprompt","beforeprint","beforeunload","devicelight","devicemotion","deviceorientation","deviceorientationabsolute","deviceproximity","hashchange","languagechange","message","mozbeforepaint","offline","online","paint","pageshow","pagehide","popstate","rejectionhandled","storage","unhandledrejection","unload","userproximity","vrdisplyconnected","vrdisplaydisconnected","vrdisplaypresentchange"],ct=["encrypted","waitingforkey","msneedkey","mozinterruptbegin","mozinterruptend"],st=["load"],ft=["blur","error","focus","load","resize","scroll","messageerror"],lt=["bounce","finish","start"],ht=["loadstart","progress","abort","error","load","progress","timeout","loadend","readystatechange"],pt=["upgradeneeded","complete","abort","success","error","blocked","versionchange","close"],vt=["close","error","open","message"],dt=["error","message"],gt=["abort","animationcancel","animationend","animationiteration","auxclick","beforeinput","blur","cancel","canplay","canplaythrough","change","compositionstart","compositionupdate","compositionend","cuechange","click","close","contextmenu","curechange","dblclick","drag","dragend","dragenter","dragexit","dragleave","dragover","drop","durationchange","emptied","ended","error","focus","focusin","focusout","gotpointercapture","input","invalid","keydown","keypress","keyup","load","loadstart","loadeddata","loadedmetadata","lostpointercapture","mousedown","mouseenter","mouseleave","mousemove","mouseout","mouseover","mouseup","mousewheel","orientationchange","pause","play","playing","pointercancel","pointerdown","pointerenter","pointerleave","pointerlockchange","mozpointerlockchange","webkitpointerlockerchange","pointerlockerror","mozpointerlockerror","webkitpointerlockerror","pointermove","pointout","pointerover","pointerup","progress","ratechange","reset","resize","scroll","seeked","seeking","select","selectionchange","selectstart","show","sort","stalled","submit","suspend","timeupdate","volumechange","touchcancel","touchmove","touchstart","touchend","transitioncancel","transitionend","waiting","wheel"].concat(["webglcontextrestored","webglcontextlost","webglcontextcreationerror"],["autocomplete","autocompleteerror"],["toggle"],["afterscriptexecute","beforescriptexecute","DOMContentLoaded","freeze","fullscreenchange","mozfullscreenchange","webkitfullscreenchange","msfullscreenchange","fullscreenerror","mozfullscreenerror","webkitfullscreenerror","msfullscreenerror","readystatechange","visibilitychange","resume"],at,["beforecopy","beforecut","beforepaste","copy","cut","paste","dragstart","loadend","animationstart","search","transitionrun","transitionstart","webkitanimationend","webkitanimationiteration","webkitanimationstart","webkittransitionend"],["activate","afterupdate","ariarequest","beforeactivate","beforedeactivate","beforeeditfocus","beforeupdate","cellchange","controlselect","dataavailable","datasetchanged","datasetcomplete","errorupdate","filterchange","layoutcomplete","losecapture","move","moveend","movestart","propertychange","resizeend","resizestart","rowenter","rowexit","rowsdelete","rowsinserted","command","compassneedscalibration","deactivate","help","mscontentzoom","msmanipulationstatechanged","msgesturechange","msgesturedoubletap","msgestureend","msgesturehold","msgesturestart","msgesturetap","msgotpointercapture","msinertiastart","mslostpointercapture","mspointercancel","mspointerdown","mspointerenter","mspointerhover","mspointerleave","mspointermove","mspointerout","mspointerover","mspointerup","pointerout","mssitemodejumplistitemremoved","msthumbnailclick","stop","storagecommit"]);function yt(t,n,e){if(!e||0===e.length)return n;const r=e.filter(n=>n.target===t);if(!r||0===r.length)return n;const i=r[0].ignoreProperties;return n.filter(t=>-1===i.indexOf(t))}function mt(t,n,e,r){t&&N(t,yt(t,n,e),r)}function bt(t,n){if(T&&!P)return;if(Zone[t.symbol("patchEvents")])return;const e="undefined"!=typeof WebSocket,r=n.__Zone_ignore_on_properties;if(E){const t=window,n=Z?[{target:t,ignoreProperties:["error"]}]:[];mt(t,gt.concat(["messageerror"]),r?r.concat(n):r,i(t)),mt(Document.prototype,gt,r),void 0!==t.SVGElement&&mt(t.SVGElement.prototype,gt,r),mt(Element.prototype,gt,r),mt(HTMLElement.prototype,gt,r),mt(HTMLMediaElement.prototype,ct,r),mt(HTMLFrameSetElement.prototype,at.concat(ft),r),mt(HTMLBodyElement.prototype,at.concat(ft),r),mt(HTMLFrameElement.prototype,st,r),mt(HTMLIFrameElement.prototype,st,r);const e=t.HTMLMarqueeElement;e&&mt(e.prototype,lt,r);const o=t.Worker;o&&mt(o.prototype,dt,r)}const o=n.XMLHttpRequest;o&&mt(o.prototype,ht,r);const u=n.XMLHttpRequestEventTarget;u&&mt(u&&u.prototype,ht,r),"undefined"!=typeof IDBIndex&&(mt(IDBIndex.prototype,pt,r),mt(IDBRequest.prototype,pt,r),mt(IDBOpenDBRequest.prototype,pt,r),mt(IDBDatabase.prototype,pt,r),mt(IDBTransaction.prototype,pt,r),mt(IDBCursor.prototype,pt,r)),e&&mt(WebSocket.prototype,vt,r)}Zone.__load_patch("util",(t,n,i)=>{i.patchOnProperties=N,i.patchMethod=I,i.bindArguments=S,i.patchMacroTask=D;const s=n.__symbol__("BLACK_LISTED_EVENTS"),f=n.__symbol__("UNPATCHED_EVENTS");t[f]&&(t[s]=t[f]),t[s]&&(n[s]=n[f]=t[s]),i.patchEventPrototype=q,i.patchEventTarget=Y,i.isIEOrEdge=H,i.ObjectDefineProperty=r,i.ObjectGetOwnPropertyDescriptor=e,i.ObjectCreate=o,i.ArraySlice=u,i.patchClass=F,i.wrapWithCurrentZone=v,i.filterProperties=yt,i.attachOriginToPatched=z,i._redefineProperty=rt,i.patchCallbacks=K,i.getGlobalObjects=()=>({globalSources:V,zoneSymbolEventNames:G,eventNames:gt,isBrowser:E,isMix:P,isNode:T,TRUE_STR:l,FALSE_STR:h,ZONE_SYMBOL_PREFIX:p,ADD_EVENT_LISTENER_STR:a,REMOVE_EVENT_LISTENER_STR:c})});const _t=g("zoneTask");function xt(t,n,e,r){let i=null,o=null;e+=r;const u={};function a(n){const e=n.data;return e.args[0]=function(){try{n.invoke.apply(this,arguments)}finally{n.data&&n.data.isPeriodic||("number"==typeof e.handleId?delete u[e.handleId]:e.handleId&&(e.handleId[_t]=null))}},e.handleId=i.apply(t,e.args),n}function c(t){return o(t.data.handleId)}i=I(t,n+=r,e=>(function(i,o){if("function"==typeof o[0]){const t=d(n,o[0],{isPeriodic:"Interval"===r,delay:"Timeout"===r||"Interval"===r?o[1]||0:void 0,args:o},a,c);if(!t)return t;const e=t.data.handleId;return"number"==typeof e?u[e]=t:e&&(e[_t]=t),e&&e.ref&&e.unref&&"function"==typeof e.ref&&"function"==typeof e.unref&&(t.ref=e.ref.bind(e),t.unref=e.unref.bind(e)),"number"==typeof e||e?e:t}return e.apply(t,o)})),o=I(t,e,n=>(function(e,r){const i=r[0];let o;"number"==typeof i?o=u[i]:(o=i&&i[_t],o||(o=i)),o&&"string"==typeof o.type?"notScheduled"!==o.state&&(o.cancelFn&&o.data.isPeriodic||0===o.runCount)&&("number"==typeof i?delete u[i]:i&&(i[_t]=null),o.zone.cancelTask(o)):n.apply(t,r)}))}function St(t,n){if(Zone[n.symbol("patchEventTarget")])return;const{eventNames:e,zoneSymbolEventNames:r,TRUE_STR:i,FALSE_STR:o,ZONE_SYMBOL_PREFIX:u}=n.getGlobalObjects();for(let c=0;c<e.length;c++){const t=e[c],n=u+(t+o),a=u+(t+i);r[t]={},r[t][o]=n,r[t][i]=a}const a=t.EventTarget;return a&&a.prototype?(n.patchEventTarget(t,[a&&a.prototype]),!0):void 0}Zone.__load_patch("legacy",t=>{const n=t[Zone.__symbol__("legacyPatch")];n&&n()}),Zone.__load_patch("timers",t=>{xt(t,"set","clear","Timeout"),xt(t,"set","clear","Interval"),xt(t,"set","clear","Immediate")}),Zone.__load_patch("requestAnimationFrame",t=>{xt(t,"request","cancel","AnimationFrame"),xt(t,"mozRequest","mozCancel","AnimationFrame"),xt(t,"webkitRequest","webkitCancel","AnimationFrame")}),Zone.__load_patch("blocking",(t,n)=>{const e=["alert","prompt","confirm"];for(let r=0;r<e.length;r++)I(t,e[r],(e,r,i)=>(function(r,o){return n.current.run(e,t,o,i)}))}),Zone.__load_patch("EventTarget",(t,n,e)=>{!function(t,n){n.patchEventPrototype(t,n)}(t,e),St(t,e);const r=t.XMLHttpRequestEventTarget;r&&r.prototype&&e.patchEventTarget(t,[r.prototype]),F("MutationObserver"),F("WebKitMutationObserver"),F("IntersectionObserver"),F("FileReader")}),Zone.__load_patch("on_property",(t,n,e)=>{bt(e,t),Object.defineProperty=function(t,n,e){if(it(t,n))throw new TypeError("Cannot assign to read only property '"+n+"' of "+t);const r=e.configurable;return"prototype"!==n&&(e=ot(t,n,e)),ut(t,n,e,r)},Object.defineProperties=function(t,n){return Object.keys(n).forEach((function(e){Object.defineProperty(t,e,n[e])})),t},Object.create=function(t,n){return"object"!=typeof n||Object.isFrozen(n)||Object.keys(n).forEach((function(e){n[e]=ot(t,e,n[e])})),nt(t,n)},Object.getOwnPropertyDescriptor=function(t,n){const e=tt(t,n);return e&&it(t,n)&&(e.configurable=!1),e}}),Zone.__load_patch("customElements",(t,n,e)=>{!function(t,n){const{isBrowser:e,isMix:r}=n.getGlobalObjects();(e||r)&&t.customElements&&"customElements"in t&&n.patchCallbacks(n,t.customElements,"customElements","define",["connectedCallback","disconnectedCallback","adoptedCallback","attributeChangedCallback"])}(t,e)}),Zone.__load_patch("XHR",(t,n)=>{!function(t){const c=t.XMLHttpRequest;if(!c)return;const l=c.prototype;let h=l[s],p=l[f];if(!h){const n=t.XMLHttpRequestEventTarget;if(n){const t=n.prototype;h=t[s],p=t[f]}}const v="readystatechange",y="scheduled";function m(t){const n=t.data,r=n.target;r[o]=!1,r[a]=!1;const u=r[i];h||(h=r[s],p=r[f]),u&&p.call(r,v,u);const c=r[i]=()=>{if(r.readyState===r.DONE)if(!n.aborted&&r[o]&&t.state===y){const e=r.__zone_symbol__loadfalse;if(e&&e.length>0){const i=t.invoke;t.invoke=function(){const e=r.__zone_symbol__loadfalse;for(let n=0;n<e.length;n++)e[n]===t&&e.splice(n,1);n.aborted||t.state!==y||i.call(t)},e.push(t)}else t.invoke()}else n.aborted||!1!==r[o]||(r[a]=!0)};return h.call(r,v,c),r[e]||(r[e]=t),k.apply(r,n.args),r[o]=!0,t}function b(){}function _(t){const n=t.data;return n.aborted=!0,T.apply(n.target,n.args)}const x=I(l,"open",()=>(function(t,n){return t[r]=0==n[2],t[u]=n[1],x.apply(t,n)})),S=g("fetchTaskAborting"),w=g("fetchTaskScheduling"),k=I(l,"send",()=>(function(t,e){if(!0===n.current[w])return k.apply(t,e);if(t[r])return k.apply(t,e);{const n={target:t,url:t[u],isPeriodic:!1,args:e,aborted:!1},r=d("XMLHttpRequest.send",b,n,m,_);t&&!0===t[a]&&!n.aborted&&r.state===y&&r.invoke()}})),T=I(l,"abort",()=>(function(t,r){const i=t[e];if(i&&"string"==typeof i.type){if(null==i.cancelFn||i.data&&i.data.aborted)return;i.zone.cancelTask(i)}else if(!0===n.current[S])return T.apply(t,r)}))}(t);const e=g("xhrTask"),r=g("xhrSync"),i=g("xhrListener"),o=g("xhrScheduled"),u=g("xhrURL"),a=g("xhrErrorBeforeScheduled")}),Zone.__load_patch("geolocation",t=>{t.navigator&&t.navigator.geolocation&&function(t,n){const r=t.constructor.name;for(let i=0;i<n.length;i++){const o=n[i],u=t[o];if(u){if(!w(e(t,o)))continue;t[o]=(t=>{const n=function(){return t.apply(this,S(arguments,r+"."+o))};return z(n,t),n})(u)}}}(t.navigator.geolocation,["getCurrentPosition","watchPosition"])}),Zone.__load_patch("PromiseRejectionEvent",(t,n)=>{function e(n){return function(e){J(t,n).forEach(r=>{const i=t.PromiseRejectionEvent;if(i){const t=new i(n,{promise:e.promise,reason:e.rejection});r.invoke(t)}})}}t.PromiseRejectionEvent&&(n[g("unhandledPromiseRejectionHandler")]=e("unhandledrejection"),n[g("rejectionHandledHandler")]=e("rejectionhandled"))})},nmGk:function(t,n){var e=Math.ceil,r=Math.floor;t.exports=function(t){return isNaN(t=+t)?0:(t>0?r:e)(t)}},nruA:function(t,n,e){"use strict";var r=e("EkxP"),i=e("7zcn"),o=e("ecHh"),u=e("Sp6X"),a=e("w+o7"),c=e("u2Rj"),s=e("t2TW"),f=e("/W1+");i(i.S+i.F*!e("I+Io")((function(t){Array.from(t)})),"Array",{from:function(t){var n,e,i,l,h=o(t),p="function"==typeof this?this:Array,v=arguments.length,d=v>1?arguments[1]:void 0,g=void 0!==d,y=0,m=f(h);if(g&&(d=r(d,v>2?arguments[2]:void 0,2)),null==m||p==Array&&a(m))for(e=new p(n=c(h.length));n>y;y++)s(e,y,g?d(h[y],y):h[y]);else for(l=m.call(h),e=new p;!(i=l.next()).done;y++)s(e,y,g?u(l,d,[i.value,y],!0):i.value);return e.length=y,e}})},oSPv:function(t,n,e){"use strict";var r=e("7zcn"),i=e("CwQO"),o=[].join;r(r.P+r.F*(e("rsBL")!=Object||!e("TLBd")(o)),"Array",{join:function(t){return o.call(i(this),void 0===t?",":t)}})},oSRv:function(t,n){t.exports=function(t){try{return!!t()}catch(n){return!0}}},"p+GS":function(t,n,e){"use strict";e("vGbc");var r=e("jH7Z"),i=e("PE/z"),o=e("PYUJ"),u=/./.toString,a=function(t){e("44Vk")(RegExp.prototype,"toString",t,!0)};e("oSRv")((function(){return"/a/b"!=u.call({source:"a",flags:"b"})}))?a((function(){var t=r(this);return"/".concat(t.source,"/","flags"in t?t.flags:!o&&t instanceof RegExp?i.call(t):void 0)})):"toString"!=u.name&&a((function(){return u.call(this)}))},p6PN:function(t,n,e){"use strict";var r=e("7zcn"),i=e("UMzU"),o=e("tzX3"),u=e("rbMR"),a=e("u2Rj"),c=[].slice;r(r.P+r.F*e("oSRv")((function(){i&&c.call(i)})),"Array",{slice:function(t,n){var e=a(this.length),r=o(this);if(n=void 0===n?e:n,"Array"==r)return c.call(this,t,n);for(var i=u(t,e),s=u(n,e),f=a(s-i),l=new Array(f),h=0;h<f;h++)l[h]="String"==r?this.charAt(i+h):this[i+h];return l}})},qCVI:function(t,n,e){"use strict";e("rJUC")("trim",(function(t){return function(){return t(this,3)}}))},qZTf:function(t,n,e){"use strict";var r=e("fGzG")(!0);t.exports=function(t,n,e){return n+(e?r(t,n).length:1)}},qyOa:function(t,n,e){"use strict";var r=e("PYUJ"),i=e("iZYR"),o=e("gQmS"),u=e("0On3"),a=e("ecHh"),c=e("rsBL"),s=Object.assign;t.exports=!s||e("oSRv")((function(){var t={},n={},e=Symbol(),r="abcdefghijklmnopqrst";return t[e]=7,r.split("").forEach((function(t){n[t]=t})),7!=s({},t)[e]||Object.keys(s({},n)).join("")!=r}))?function(t,n){for(var e=a(t),s=arguments.length,f=1,l=o.f,h=u.f;s>f;)for(var p,v=c(arguments[f++]),d=l?i(v).concat(l(v)):i(v),g=d.length,y=0;g>y;)p=d[y++],r&&!h.call(v,p)||(e[p]=v[p]);return e}:s},r0id:function(t,n,e){"use strict";var r=e("7zcn"),i=e("QY3j")(0),o=e("TLBd")([].forEach,!0);r(r.P+r.F*!o,"Array",{forEach:function(t){return i(this,t,arguments[1])}})},r2uX:function(t,n,e){var r=e("CwQO"),i=e("u2Rj"),o=e("rbMR");t.exports=function(t){return function(n,e,u){var a,c=r(n),s=i(c.length),f=o(u,s);if(t&&e!=e){for(;s>f;)if((a=c[f++])!=a)return!0}else for(;s>f;f++)if((t||f in c)&&c[f]===e)return t||f||0;return!t&&-1}}},rJUC:function(t,n,e){var r=e("7zcn"),i=e("yK4D"),o=e("oSRv"),u=e("OC0y"),a="["+u+"]",c=RegExp("^"+a+a+"*"),s=RegExp(a+a+"*$"),f=function(t,n,e){var i={},a=o((function(){return!!u[t]()||"\u200b\x85"!="\u200b\x85"[t]()})),c=i[t]=a?n(l):u[t];e&&(i[e]=c),r(r.P+r.F*a,"String",i)},l=f.trim=function(t,n){return t=String(i(t)),1&n&&(t=t.replace(c,"")),2&n&&(t=t.replace(s,"")),t};t.exports=f},rY2j:function(t,n){t.exports=function(t,n){return{enumerable:!(1&t),configurable:!(2&t),writable:!(4&t),value:n}}},rbMR:function(t,n,e){var r=e("nmGk"),i=Math.max,o=Math.min;t.exports=function(t,n){return(t=r(t))<0?i(t+n,0):o(t,n)}},rmZQ:function(t,n,e){"use strict";var r=e("jH7Z"),i=e("ecHh"),o=e("u2Rj"),u=e("nmGk"),a=e("qZTf"),c=e("dCtm"),s=Math.max,f=Math.min,l=Math.floor,h=/\$([$&`']|\d\d?|<[^>]*>)/g,p=/\$([$&`']|\d\d?)/g;e("/pmH")("replace",2,(function(t,n,e,v){return[function(r,i){var o=t(this),u=null==r?void 0:r[n];return void 0!==u?u.call(r,o,i):e.call(String(o),r,i)},function(t,n){var i=v(e,t,this,n);if(i.done)return i.value;var l=r(t),h=String(this),p="function"==typeof n;p||(n=String(n));var g=l.global;if(g){var y=l.unicode;l.lastIndex=0}for(var m=[];;){var b=c(l,h);if(null===b)break;if(m.push(b),!g)break;""===String(b[0])&&(l.lastIndex=a(h,o(l.lastIndex),y))}for(var _,x="",S=0,w=0;w<m.length;w++){b=m[w];for(var k=String(b[0]),T=s(f(u(b.index),h.length),0),E=[],P=1;P<b.length;P++)E.push(void 0===(_=b[P])?_:String(_));var O=b.groups;if(p){var M=[k].concat(E,T,h);void 0!==O&&M.push(O);var A=String(n.apply(void 0,M))}else A=d(k,h,T,E,O,n);T>=S&&(x+=h.slice(S,T)+A,S=T+k.length)}return x+h.slice(S)}];function d(t,n,r,o,u,a){var c=r+t.length,s=o.length,f=p;return void 0!==u&&(u=i(u),f=h),e.call(a,f,(function(e,i){var a;switch(i.charAt(0)){case"$":return"$";case"&":return t;case"`":return n.slice(0,r);case"'":return n.slice(c);case"<":a=u[i.slice(1,-1)];break;default:var f=+i;if(0===f)return e;if(f>s){var h=l(f/10);return 0===h?e:h<=s?void 0===o[h-1]?i.charAt(1):o[h-1]+i.charAt(1):e}a=o[f-1]}return void 0===a?"":a}))}}))},rsBL:function(t,n,e){var r=e("tzX3");t.exports=Object("z").propertyIsEnumerable(0)?Object:function(t){return"String"==r(t)?t.split(""):Object(t)}},rtdP:function(t,n,e){var r=e("7zcn");r(r.S,"Math",{clz32:function(t){return(t>>>=0)?31-Math.floor(Math.log(t+.5)*Math.LOG2E):32}})},sByz:function(t,n,e){var r=e("7zcn"),i=e("jH7Z"),o=Object.isExtensible;r(r.S,"Reflect",{isExtensible:function(t){return i(t),!o||o(t)}})},sMgM:function(t,n,e){var r=e("7zcn"),i=e("C19B");r(r.S+r.F*(i!=Math.expm1),"Math",{expm1:i})},sjfq:function(t,n,e){e("16Lg")("Array")},snzJ:function(t,n,e){var r=e("GU4h"),i=Math.floor;t.exports=function(t){return!r(t)&&isFinite(t)&&i(t)===t}},szk0:function(t,n,e){"use strict";e("kDPR")("blink",(function(t){return function(){return t(this,"blink","","")}}))},t2TW:function(t,n,e){"use strict";var r=e("bw3G"),i=e("rY2j");t.exports=function(t,n,e){n in t?r.f(t,n,i(0,e)):t[n]=e}},tRfV:function(t,n,e){"use strict";var r,i=e("DozX"),o=e("QY3j")(0),u=e("44Vk"),a=e("BUxN"),c=e("qyOa"),s=e("IruA"),f=e("GU4h"),l=e("4O9r"),h=e("4O9r"),p=!i.ActiveXObject&&"ActiveXObject"in i,v=a.getWeak,d=Object.isExtensible,g=s.ufstore,y=function(t){return function(){return t(this,arguments.length>0?arguments[0]:void 0)}},m={get:function(t){if(f(t)){var n=v(t);return!0===n?g(l(this,"WeakMap")).get(t):n?n[this._i]:void 0}},set:function(t,n){return s.def(l(this,"WeakMap"),t,n)}},b=t.exports=e("XfYV")("WeakMap",y,m,s,!0,!0);h&&p&&(c((r=s.getConstructor(y,"WeakMap")).prototype,m),a.NEED=!0,o(["delete","has","get","set"],(function(t){var n=b.prototype,e=n[t];u(n,t,(function(n,i){if(f(n)&&!d(n)){this._f||(this._f=new r);var o=this._f[t](n,i);return"set"==t?this:o}return e.call(this,n,i)}))})))},tpnP:function(t,n,e){var r=e("7zcn"),i=Math.imul;r(r.S+r.F*e("oSRv")((function(){return-5!=i(4294967295,5)||2!=i.length})),"Math",{imul:function(t,n){var e=+t,r=+n,i=65535&e,o=65535&r;return 0|i*o+((65535&e>>>16)*o+i*(65535&r>>>16)<<16>>>0)}})},tpw1:function(t,n,e){"use strict";e("kDPR")("fontcolor",(function(t){return function(n){return t(this,"font","color",n)}}))},tqyf:function(t,n,e){n.f=e("2VH3")},txR2:function(t,n,e){e("Fup4"),e("yIC7"),e("4KWP"),t.exports=e("XFAF").Function},tzX3:function(t,n){var e={}.toString;t.exports=function(t){return e.call(t).slice(8,-1)}},u2Rj:function(t,n,e){var r=e("nmGk"),i=Math.min;t.exports=function(t){return t>0?i(r(t),9007199254740991):0}},uVdi:function(t,n,e){var r=e("7zcn"),i=e("snzJ"),o=Math.abs;r(r.S,"Number",{isSafeInteger:function(t){return i(t)&&o(t)<=9007199254740991}})},ucet:function(t,n,e){"use strict";var r=e("ecHh"),i=e("rbMR"),o=e("u2Rj");t.exports=function(t){for(var n=r(this),e=o(n.length),u=arguments.length,a=i(u>1?arguments[1]:void 0,e),c=u>2?arguments[2]:void 0,s=void 0===c?e:i(c,e);s>a;)n[a++]=t;return n}},udyG:function(t,n,e){"use strict";var r=e("nmGk"),i=e("yK4D");t.exports=function(t){var n=String(i(this)),e="",o=r(t);if(o<0||o==1/0)throw RangeError("Count can't be negative");for(;o>0;(o>>>=1)&&(n+=n))1&o&&(e+=n);return e}},uv4k:function(t,n,e){var r=e("bw3G"),i=e("rY2j");t.exports=e("PYUJ")?function(t,n,e){return r.f(t,n,i(1,e))}:function(t,n,e){return t[n]=e,t}},v4K8:function(t,n,e){"use strict";e("kDPR")("sub",(function(t){return function(){return t(this,"sub","","")}}))},vGbc:function(t,n,e){e("PYUJ")&&"g"!=/./g.flags&&e("bw3G").f(RegExp.prototype,"flags",{configurable:!0,get:e("PE/z")})},vKyf:function(t,n,e){"use strict";var r=e("7zcn"),i=e("nmGk"),o=e("JMyn"),u=e("udyG"),a=1..toFixed,c=Math.floor,s=[0,0,0,0,0,0],f="Number.toFixed: incorrect invocation!",l=function(t,n){for(var e=-1,r=n;++e<6;)s[e]=(r+=t*s[e])%1e7,r=c(r/1e7)},h=function(t){for(var n=6,e=0;--n>=0;)s[n]=c((e+=s[n])/t),e=e%t*1e7},p=function(){for(var t=6,n="";--t>=0;)if(""!==n||0===t||0!==s[t]){var e=String(s[t]);n=""===n?e:n+u.call("0",7-e.length)+e}return n},v=function(t,n,e){return 0===n?e:n%2==1?v(t,n-1,e*t):v(t*t,n/2,e)};r(r.P+r.F*(!!a&&("0.000"!==8e-5.toFixed(3)||"1"!==.9.toFixed(0)||"1.25"!==1.255.toFixed(2)||"1000000000000000128"!==(0xde0b6b3a7640080).toFixed(0))||!e("oSRv")((function(){a.call({})}))),"Number",{toFixed:function(t){var n,e,r,a,c=o(this,f),s=i(t),d="",g="0";if(s<0||s>20)throw RangeError(f);if(c!=c)return"NaN";if(c<=-1e21||c>=1e21)return String(c);if(c<0&&(d="-",c=-c),c>1e-21)if(e=(n=function(t){for(var n=0,e=t;e>=4096;)n+=12,e/=4096;for(;e>=2;)n+=1,e/=2;return n}(c*v(2,69,1))-69)<0?c*v(2,-n,1):c/v(2,n,1),e*=4503599627370496,(n=52-n)>0){for(l(0,e),r=s;r>=7;)l(1e7,0),r-=7;for(l(v(10,r,1),0),r=n-1;r>=23;)h(1<<23),r-=23;h(1<<r),l(1,1),h(2),g=p()}else l(0,e),l(1<<-n,0),g=p()+u.call("0",s);return s>0?d+((a=g.length)<=s?"0."+u.call("0",s-a)+g:g.slice(0,a-s)+"."+g.slice(a-s)):d+g}})},vkXE:function(t,n,e){var r=e("tzX3"),i=e("2VH3")("toStringTag"),o="Arguments"==r(function(){return arguments}());t.exports=function(t){var n,e,u;return void 0===t?"Undefined":null===t?"Null":"string"==typeof(e=function(t,n){try{return t[n]}catch(e){}}(n=Object(t),i))?e:o?r(n):"Object"==(u=r(n))&&"function"==typeof n.callee?"Arguments":u}},vsji:function(t,n,e){var r=e("jH7Z"),i=e("bM1j"),o=e("6qOv"),u=e("+WIo")("IE_PROTO"),a=function(){},c=function(){var t,n=e("m4ZL")("iframe"),r=o.length;for(n.style.display="none",e("UMzU").appendChild(n),n.src="javascript:",(t=n.contentWindow.document).open(),t.write("<script>document.F=Object<\/script>"),t.close(),c=t.F;r--;)delete c.prototype[o[r]];return c()};t.exports=Object.create||function(t,n){var e;return null!==t?(a.prototype=r(t),e=new a,a.prototype=null,e[u]=t):e=c(),void 0===n?e:i(e,n)}},"w+o7":function(t,n,e){var r=e("ndOI"),i=e("2VH3")("iterator"),o=Array.prototype;t.exports=function(t){return void 0!==t&&(r.Array===t||o[i]===t)}},w0HG:function(t,n,e){"use strict";e("kDPR")("big",(function(t){return function(){return t(this,"big","","")}}))},w1ZQ:function(t,n,e){var r=e("7zcn"),i=e("JX8c"),o=Math.sqrt,u=Math.acosh;r(r.S+r.F*!(u&&710==Math.floor(u(Number.MAX_VALUE))&&u(1/0)==1/0),"Math",{acosh:function(t){return(t=+t)<1?NaN:t>94906265.62425156?Math.log(t)+Math.LN2:i(t-1+o(t-1)*o(t+1))}})},wdHe:function(t,n,e){var r=e("jH7Z"),i=e("09V9"),o=e("2VH3")("species");t.exports=function(t,n){var e,u=r(t).constructor;return void 0===u||null==(e=r(u)[o])?n:i(e)}},wy73:function(t,n,e){e("BPcy"),e("F0rk"),e("p+GS"),e("vGbc"),e("NlgC"),e("rmZQ"),e("Bu8c"),e("T7D0"),t.exports=e("XFAF").RegExp},x0t8:function(t,n,e){var r=e("3WEy"),i=e("6qOv").concat("length","prototype");n.f=Object.getOwnPropertyNames||function(t){return r(t,i)}},"xs+y":function(t,n,e){var r=e("7zcn"),i=e("DozX").isFinite;r(r.S,"Number",{isFinite:function(t){return"number"==typeof t&&i(t)}})},xzVJ:function(t,n,e){var r=e("GU4h"),i=e("BUxN").onFreeze;e("VkLe")("seal",(function(t){return function(n){return t&&r(n)?t(i(n)):n}}))},yIC7:function(t,n,e){var r=e("bw3G").f,i=Function.prototype,o=/^\s*function ([^ (]*)/;"name"in i||e("PYUJ")&&r(i,"name",{configurable:!0,get:function(){try{return(""+this).match(o)[1]}catch(t){return""}}})},yK4D:function(t,n){t.exports=function(t){if(null==t)throw TypeError("Can't call method on  "+t);return t}},yXcf:function(t,n,e){e("SCO9"),e("dtAy"),t.exports=e("XFAF").Symbol},z5Gu:function(t,n,e){var r=e("7zcn");r(r.S,"Number",{isInteger:e("snzJ")})},zQXS:function(t,n,e){"use strict";var r=e("ZPxW"),i=e("4O9r");t.exports=e("XfYV")("Set",(function(t){return function(){return t(this,arguments.length>0?arguments[0]:void 0)}}),{add:function(t){return r.def(i(this,"Set"),t=0===t?0:t,t)}},r)},zTCs:function(t,n,e){t.exports=!e("PYUJ")&&!e("oSRv")((function(){return 7!=Object.defineProperty(e("m4ZL")("div"),"a",{get:function(){return 7}}).a}))},znly:function(t,n,e){var r=e("7zcn");r(r.S,"Math",{log2:function(t){return Math.log(t)/Math.LN2}})},"zpx+":function(t,n,e){"use strict";var r=e("DozX"),i=e("JaYb"),o=e("tzX3"),u=e("hOc4"),a=e("eNNV"),c=e("oSRv"),s=e("x0t8").f,f=e("QCwN").f,l=e("bw3G").f,h=e("rJUC").trim,p=r.Number,v=p,d=p.prototype,g="Number"==o(e("vsji")(d)),y="trim"in String.prototype,m=function(t){var n=a(t,!1);if("string"==typeof n&&n.length>2){var e,r,i,o=(n=y?n.trim():h(n,3)).charCodeAt(0);if(43===o||45===o){if(88===(e=n.charCodeAt(2))||120===e)return NaN}else if(48===o){switch(n.charCodeAt(1)){case 66:case 98:r=2,i=49;break;case 79:case 111:r=8,i=55;break;default:return+n}for(var u,c=n.slice(2),s=0,f=c.length;s<f;s++)if((u=c.charCodeAt(s))<48||u>i)return NaN;return parseInt(c,r)}}return+n};if(!p(" 0o1")||!p("0b1")||p("+0x1")){p=function(t){var n=arguments.length<1?0:t,e=this;return e instanceof p&&(g?c((function(){d.valueOf.call(e)})):"Number"!=o(e))?u(new v(m(n)),e,p):m(n)};for(var b,_=e("PYUJ")?s(v):"MAX_VALUE,MIN_VALUE,NaN,NEGATIVE_INFINITY,POSITIVE_INFINITY,EPSILON,isFinite,isInteger,isNaN,isSafeInteger,MAX_SAFE_INTEGER,MIN_SAFE_INTEGER,parseFloat,parseInt,isInteger".split(","),x=0;_.length>x;x++)i(v,b=_[x])&&!i(p,b)&&l(p,b,f(v,b));p.prototype=d,d.constructor=p,e("44Vk")(r,"Number",p)}}},[[1,0]]]);
!function(e,t){"use strict";function n(){var e=L.splice(0,L.length);for(Ke=0;e.length;)e.shift().call(null,e.shift())}function r(e,t){for(var n=0,r=e.length;n<r;n++)h(e[n],t)}function o(e){return function(t){qe(t)&&(h(t,e),ie.length&&r(t.querySelectorAll(ie),e))}}function i(e){var t=Ve.call(e,"is"),n=e.nodeName.toUpperCase(),r=le.call(re,t?ee+t.toUpperCase():J+n);return t&&-1<r&&!a(n,t)?-1:r}function a(e,t){return-1<ie.indexOf(e+'[is="'+t+'"]')}function l(e){var t=e.currentTarget,n=e.attrChange,r=e.attrName,o=e.target,i=e[Q]||2,a=e[Y]||3;!rt||o&&o!==t||!t[V]||"style"===r||e.prevValue===e.newValue&&(""!==e.newValue||n!==i&&n!==a)||t[V](r,n===i?null:e.prevValue,n===a?null:e.newValue)}function u(e){var t=o(e);return function(e){L.push(t,e.target),Ke&&clearTimeout(Ke),Ke=setTimeout(n,1)}}function s(e){nt&&(nt=!1,e.currentTarget.removeEventListener(K,s)),ie.length&&r((e.target||T).querySelectorAll(ie),e.detail===F?F:R),je&&function(){for(var e,t=0,n=Ie.length;t<n;t++)ae.contains(e=Ie[t])||(n--,Ie.splice(t--,1),h(e,F))}()}function c(e,t){var n=this;_e.call(n,e,t),M.call(n,{target:n})}function f(e,t,n){var r=t.apply(e,n),o=i(r);return-1<o&&D(r,oe[o]),n.pop()&&ie.length&&function(e){for(var t,n=0,r=e.length;n<r;n++)D(t=e[n],oe[i(t)])}(r.querySelectorAll(ie)),r}function d(e,t){ke(e,t),N?N.observe(e,Ye):(tt&&(e.setAttribute=c,e[q]=H(e),e[I](Z,M)),e[I](G,l)),e[U]&&rt&&(e.created=!0,e[U](),e.created=!1)}function p(e){throw new Error("A "+e+" type is already registered")}function h(e,t){var n,r,o=i(e);-1<o&&!Fe.call(e,"TEMPLATE")&&(S(e,oe[o]),o=0,t!==R||e[R]?t!==F||e[F]||(e[R]=!1,e[F]=!0,r="disconnected",o=1):(e[F]=!1,e[R]=!0,r="connected",o=1,je&&le.call(Ie,e)<0&&Ie.push(e)),o&&(n=e[t+B]||e[r+B])&&n.call(e))}function m(){}function v(e,t,n){var r=n&&n[z]||"",o=t.prototype,i=Ne(o),a=t.observedAttributes||de,l={prototype:i};Pe(i,U,{value:function(){if(Ce)Ce=!1;else if(!this[ye]){this[ye]=!0,new t(this),o[U]&&o[U].call(this);var e=Le[Ae.get(t)];(!xe||e.create.length>1)&&b(this)}}}),Pe(i,V,{value:function(e){-1<le.call(a,e)&&o[V]&&o[V].apply(this,arguments)}}),o[$]&&Pe(i,W,{value:o[$]}),o[_]&&Pe(i,X,{value:o[_]}),r&&(l[z]=r),e=e.toUpperCase(),Le[e]={constructor:t,create:r?[r,He(e)]:[e]},Ae.set(t,e),T[j](e.toLowerCase(),l),x(e),Me[e].r()}function g(e){var t=Le[e.toUpperCase()];return t&&t.constructor}function y(e){return"string"==typeof e?e:e&&e.is||""}function b(e){for(var t,n=e[V],r=n?e.attributes:de,o=r.length;o--;)n.call(e,(t=r[o]).name||t.nodeName,null,t.value||t.nodeValue)}function x(e){return(e=e.toUpperCase())in Me||(Me[e]={},Me[e].p=new Ee((function(t){Me[e].r=t}))),Me[e].p}function w(){be&&delete e.customElements,fe(e,"customElements",{configurable:!0,value:new m}),fe(e,"CustomElementRegistry",{configurable:!0,value:m});for(var t=C.get(/^HTML[A-Z]*[a-z]/),n=t.length;n--;function(t){var n=e[t];if(n){e[t]=function(e){var t,r;return e||(e=this),e[ye]||(Ce=!0,t=Le[Ae.get(e.constructor)],(e=(r=xe&&1===t.create.length)?Reflect.construct(n,de,t.constructor):T.createElement.apply(T,t.create))[ye]=!0,Ce=!1,r||b(e)),e},e[t].prototype=n.prototype;try{n.prototype.constructor=e[t]}catch(r){fe(n,ye,{value:e[t]})}}}(t[n]));T.createElement=function(e,t){var n=y(t);return n?Qe.call(this,e,He(n)):Qe.call(this,e)},Ze||(et=!0,T[j](""))}var T=e.document,E=e.Object,C=function(e){var t,n,r,o,i=/^[A-Z]+[a-z]/,a=function(e,t){(t=t.toLowerCase())in l||(l[e]=(l[e]||[]).concat(t),l[t]=l[t.toUpperCase()]=e)},l=(E.create||E)(null),u={};for(n in e)for(o in e[n])for(l[o]=r=e[n][o],t=0;t<r.length;t++)l[r[t].toLowerCase()]=l[r[t].toUpperCase()]=o;return u.get=function(e){return"string"==typeof e?l[e]||(i.test(e)?[]:""):function(e){var t,n=[];for(t in l)e.test(t)&&n.push(t);return n}(e)},u.set=function(e,t){return i.test(e)?a(e,t):a(t,e),u},u}({collections:{HTMLAllCollection:["all"],HTMLCollection:["forms"],HTMLFormControlsCollection:["elements"],HTMLOptionsCollection:["options"]},elements:{Element:["element"],HTMLAnchorElement:["a"],HTMLAppletElement:["applet"],HTMLAreaElement:["area"],HTMLAttachmentElement:["attachment"],HTMLAudioElement:["audio"],HTMLBRElement:["br"],HTMLBaseElement:["base"],HTMLBodyElement:["body"],HTMLButtonElement:["button"],HTMLCanvasElement:["canvas"],HTMLContentElement:["content"],HTMLDListElement:["dl"],HTMLDataElement:["data"],HTMLDataListElement:["datalist"],HTMLDetailsElement:["details"],HTMLDialogElement:["dialog"],HTMLDirectoryElement:["dir"],HTMLDivElement:["div"],HTMLDocument:["document"],HTMLElement:["element","abbr","address","article","aside","b","bdi","bdo","cite","code","command","dd","dfn","dt","em","figcaption","figure","footer","header","i","kbd","mark","nav","noscript","rp","rt","ruby","s","samp","section","small","strong","sub","summary","sup","u","var","wbr"],HTMLEmbedElement:["embed"],HTMLFieldSetElement:["fieldset"],HTMLFontElement:["font"],HTMLFormElement:["form"],HTMLFrameElement:["frame"],HTMLFrameSetElement:["frameset"],HTMLHRElement:["hr"],HTMLHeadElement:["head"],HTMLHeadingElement:["h1","h2","h3","h4","h5","h6"],HTMLHtmlElement:["html"],HTMLIFrameElement:["iframe"],HTMLImageElement:["img"],HTMLInputElement:["input"],HTMLKeygenElement:["keygen"],HTMLLIElement:["li"],HTMLLabelElement:["label"],HTMLLegendElement:["legend"],HTMLLinkElement:["link"],HTMLMapElement:["map"],HTMLMarqueeElement:["marquee"],HTMLMediaElement:["media"],HTMLMenuElement:["menu"],HTMLMenuItemElement:["menuitem"],HTMLMetaElement:["meta"],HTMLMeterElement:["meter"],HTMLModElement:["del","ins"],HTMLOListElement:["ol"],HTMLObjectElement:["object"],HTMLOptGroupElement:["optgroup"],HTMLOptionElement:["option"],HTMLOutputElement:["output"],HTMLParagraphElement:["p"],HTMLParamElement:["param"],HTMLPictureElement:["picture"],HTMLPreElement:["pre"],HTMLProgressElement:["progress"],HTMLQuoteElement:["blockquote","q","quote"],HTMLScriptElement:["script"],HTMLSelectElement:["select"],HTMLShadowElement:["shadow"],HTMLSlotElement:["slot"],HTMLSourceElement:["source"],HTMLSpanElement:["span"],HTMLStyleElement:["style"],HTMLTableCaptionElement:["caption"],HTMLTableCellElement:["td","th"],HTMLTableColElement:["col","colgroup"],HTMLTableElement:["table"],HTMLTableRowElement:["tr"],HTMLTableSectionElement:["thead","tbody","tfoot"],HTMLTemplateElement:["template"],HTMLTextAreaElement:["textarea"],HTMLTimeElement:["time"],HTMLTitleElement:["title"],HTMLTrackElement:["track"],HTMLUListElement:["ul"],HTMLUnknownElement:["unknown","vhgroupv","vkeygen"],HTMLVideoElement:["video"]},nodes:{Attr:["node"],Audio:["audio"],CDATASection:["node"],CharacterData:["node"],Comment:["#comment"],Document:["#document"],DocumentFragment:["#document-fragment"],DocumentType:["node"],HTMLDocument:["#document"],Image:["img"],Option:["option"],ProcessingInstruction:["node"],ShadowRoot:["#shadow-root"],Text:["#text"],XMLDocument:["xml"]}});"object"!=typeof t&&(t={type:t||"auto"});var L,M,A,H,N,k,S,D,O,j="registerElement",P=1e5*e.Math.random()>>0,q="__"+j+P,I="addEventListener",R="attached",B="Callback",F="detached",z="extends",V="attributeChanged"+B,W=R+B,$="connected"+B,_="disconnected"+B,U="created"+B,X=F+B,Q="ADDITION",Y="REMOVAL",G="DOMAttrModified",K="DOMContentLoaded",Z="DOMSubtreeModified",J="<",ee="=",te=/^[A-Z][._A-Z0-9]*-[-._A-Z0-9]*$/,ne=["ANNOTATION-XML","COLOR-PROFILE","FONT-FACE","FONT-FACE-SRC","FONT-FACE-URI","FONT-FACE-FORMAT","FONT-FACE-NAME","MISSING-GLYPH"],re=[],oe=[],ie="",ae=T.documentElement,le=re.indexOf||function(e){for(var t=this.length;t--&&this[t]!==e;);return t},ue=E.prototype,se=ue.hasOwnProperty,ce=ue.isPrototypeOf,fe=E.defineProperty,de=[],pe=E.getOwnPropertyDescriptor,he=E.getOwnPropertyNames,me=E.getPrototypeOf,ve=E.setPrototypeOf,ge=!!E.__proto__,ye="__dreCEv1",be=e.customElements,xe=!/^force/.test(t.type)&&!!(be&&be.define&&be.get&&be.whenDefined),we=E.create||E,Te=e.Map||function(){var e,t=[],n=[];return{get:function(e){return n[le.call(t,e)]},set:function(r,o){(e=le.call(t,r))<0?n[t.push(r)-1]=o:n[e]=o}}},Ee=e.Promise||function(e){function t(e){for(r=!0;n.length;)n.shift()(e)}var n=[],r=!1,o={catch:function(){return o},then:function(e){return n.push(e),r&&setTimeout(t,1),o}};return e(t),o},Ce=!1,Le=we(null),Me=we(null),Ae=new Te,He=function(e){return e.toLowerCase()},Ne=E.create||function e(t){return t?(e.prototype=t,new e):this},ke=ve||(ge?function(e,t){return e.__proto__=t,e}:he&&pe?function(){function e(e,t){for(var n,r=he(t),o=0,i=r.length;o<i;o++)se.call(e,n=r[o])||fe(e,n,pe(t,n))}return function(t,n){do{e(t,n)}while((n=me(n))&&!ce.call(n,t));return t}}():function(e,t){for(var n in t)e[n]=t[n];return e}),Se=e.MutationObserver||e.WebKitMutationObserver,De=e.HTMLAnchorElement,Oe=(e.HTMLElement||e.Element||e.Node).prototype,je=!ce.call(Oe,ae),Pe=je?function(e,t,n){return e[t]=n.value,e}:fe,qe=je?function(e){return 1===e.nodeType}:function(e){return ce.call(Oe,e)},Ie=je&&[],Re=Oe.attachShadow,Be=Oe.cloneNode,Fe=Oe.closest||function(e){for(var t=this;t&&t.nodeName!==e;)t=t.parentNode;return t},ze=Oe.dispatchEvent,Ve=Oe.getAttribute,We=Oe.hasAttribute,$e=Oe.removeAttribute,_e=Oe.setAttribute,Ue=T.createElement,Xe=T.importNode,Qe=Ue,Ye=Se&&{attributes:!0,characterData:!0,attributeOldValue:!0},Ge=Se||function(e){tt=!1,ae.removeEventListener(G,Ge)},Ke=0,Ze=j in T&&!/^force-all/.test(t.type),Je=!0,et=!1,tt=!0,nt=!0,rt=!0;if(Se&&((O=T.createElement("div")).innerHTML="<div><div></div></div>",new Se((function(e,t){if(e[0]&&"childList"==e[0].type&&!e[0].removedNodes[0].childNodes.length){var n=(O=pe(Oe,"innerHTML"))&&O.set;n&&fe(Oe,"innerHTML",{set:function(e){for(;this.lastChild;)this.removeChild(this.lastChild);n.call(this,e)}})}t.disconnect(),O=null})).observe(O,{childList:!0,subtree:!0}),O.innerHTML=""),Ze||(ve||ge?(S=function(e,t){ce.call(t,e)||d(e,t)},D=d):D=S=function(e,t){e[q]||(e[q]=E(!0),d(e,t))},je?(tt=!1,function(){var e=pe(Oe,I),t=e.value,n=function(e){var t=new CustomEvent(G,{bubbles:!0});t.attrName=e,t.prevValue=Ve.call(this,e),t.newValue=null,t[Y]=t.attrChange=2,$e.call(this,e),ze.call(this,t)},r=function(e,t){var n=We.call(this,e),r=n&&Ve.call(this,e),o=new CustomEvent(G,{bubbles:!0});_e.call(this,e,t),o.attrName=e,o.prevValue=n?r:null,o.newValue=t,n?o.MODIFICATION=o.attrChange=1:o[Q]=o.attrChange=0,ze.call(this,o)},o=function(e){var t,n=e.currentTarget,r=n[q],o=e.propertyName;r.hasOwnProperty(o)&&(r=r[o],(t=new CustomEvent(G,{bubbles:!0})).attrName=r.name,t.prevValue=r.value||null,t.newValue=r.value=n[o]||null,null==t.prevValue?t[Q]=t.attrChange=0:t.MODIFICATION=t.attrChange=1,ze.call(n,t))};e.value=function(e,i,a){e===G&&this[V]&&this.setAttribute!==r&&(this[q]={className:{name:"class",value:this.className}},this.setAttribute=r,this.removeAttribute=n,t.call(this,"propertychange",o)),t.call(this,e,i,a)},fe(Oe,I,e)}()):Se||(ae[I](G,Ge),ae.setAttribute(q,1),ae.removeAttribute(q),tt&&(M=function(e){var t,n,r,o=this;if(o===e.target){for(r in t=o[q],o[q]=n=H(o),n){if(!(r in t))return A(0,o,r,t[r],n[r],Q);if(n[r]!==t[r])return A(1,o,r,t[r],n[r],"MODIFICATION")}for(r in t)if(!(r in n))return A(2,o,r,t[r],n[r],Y)}},A=function(e,t,n,r,o,i){var a={attrChange:e,currentTarget:t,attrName:n,prevValue:r,newValue:o};a[i]=e,l(a)},H=function(e){for(var t,n,r={},o=e.attributes,i=0,a=o.length;i<a;i++)"setAttribute"!==(n=(t=o[i]).name)&&(r[n]=t.value);return r})),T[j]=function(e,t){if(n=e.toUpperCase(),Je&&(Je=!1,Se?(N=function(e,t){function n(e,t){for(var n=0,r=e.length;n<r;t(e[n++]));}return new Se((function(r){for(var o,i,a,l=0,u=r.length;l<u;l++)"childList"===(o=r[l]).type?(n(o.addedNodes,e),n(o.removedNodes,t)):(i=o.target,rt&&i[V]&&"style"!==o.attributeName&&(a=Ve.call(i,o.attributeName))!==o.oldValue&&i[V](o.attributeName,o.oldValue,a))}))}(o(R),o(F)),(k=function(e){return N.observe(e,{childList:!0,subtree:!0}),e})(T),Re&&(Oe.attachShadow=function(){return k(Re.apply(this,arguments))})):(L=[],T[I]("DOMNodeInserted",u(R)),T[I]("DOMNodeRemoved",u(F))),T[I](K,s),T[I]("readystatechange",s),T.importNode=function(e,t){switch(e.nodeType){case 1:return f(T,Xe,[e,!!t]);case 11:for(var n=T.createDocumentFragment(),r=e.childNodes,o=r.length,i=0;i<o;i++)n.appendChild(T.importNode(r[i],!!t));return n;default:return Be.call(e,!!t)}},Oe.cloneNode=function(e){return f(this,Be,[!!e])}),et)return et=!1;if(-2<le.call(re,ee+n)+le.call(re,J+n)&&p(e),!te.test(n)||-1<le.call(ne,n))throw new Error("The type "+e+" is invalid");var n,i,a=function(){return c?T.createElement(d,n):T.createElement(d)},l=t||ue,c=se.call(l,z),d=c?t[z].toUpperCase():n;return c&&-1<le.call(re,J+d)&&p(d),i=re.push((c?ee:J)+n)-1,ie=ie.concat(ie.length?",":"",c?d+'[is="'+e.toLowerCase()+'"]':d),a.prototype=oe[i]=se.call(l,"prototype")?l.prototype:Ne(Oe),ie.length&&r(T.querySelectorAll(ie),R),a},T.createElement=Qe=function(e,t){var n=y(t),r=n?Ue.call(T,e,He(n)):Ue.call(T,e),o=""+e,i=le.call(re,(n?ee:J)+(n||o).toUpperCase()),l=-1<i;return n&&(r.setAttribute("is",n=n.toLowerCase()),l&&(l=a(o.toUpperCase(),n))),rt=!T.createElement.innerHTMLHelper,l&&D(r,oe[i]),r}),addEventListener("beforeunload",(function(){delete T.createElement,delete T.importNode,delete T[j]}),!1),m.prototype={constructor:m,define:xe?function(e,t,n){if(n)v(e,t,n);else{var r=e.toUpperCase();Le[r]={constructor:t,create:[r]},Ae.set(t,r),be.define(e,t)}}:v,get:xe?function(e){return be.get(e)||g(e)}:g,whenDefined:xe?function(e){return Ee.race([be.whenDefined(e),x(e)])}:x},!be||/^force/.test(t.type))w();else if(!t.noBuiltIn)try{!function(t,n,r){var o=new RegExp("^<a\\s+is=('|\")"+r+"\\1></a>$");if(n[z]="a",(t.prototype=Ne(De.prototype)).constructor=t,e.customElements.define(r,t,n),!o.test(T.createElement("a",{is:r}).outerHTML)||!o.test((new t).outerHTML))throw n}((function e(){return Reflect.construct(De,[],e)}),{},"document-register-element-a"+P)}catch(ot){w()}if(!t.noBuiltIn)try{if(Ue.call(T,"a","a").outerHTML.indexOf("is")<0)throw{}}catch(it){He=function(e){return{is:e.toLowerCase()}}}}(window),function(e,t){"use strict";"object"==typeof module&&"object"==typeof module.exports?module.exports=e.document?t(e,!0):function(e){if(!e.document)throw new Error("jQuery requires a window with a document");return t(e)}:t(e)}("undefined"!=typeof window?window:this,(function(e,t){"use strict";var n=[],r=Object.getPrototypeOf,o=n.slice,i=n.flat?function(e){return n.flat.call(e)}:function(e){return n.concat.apply([],e)},a=n.push,l=n.indexOf,u={},s=u.toString,c=u.hasOwnProperty,f=c.toString,d=f.call(Object),p={},h=function(e){return"function"==typeof e&&"number"!=typeof e.nodeType},m=function(e){return null!=e&&e===e.window},v=e.document,g={type:!0,src:!0,nonce:!0,noModule:!0};function y(e,t,n){var r,o,i=(n=n||v).createElement("script");if(i.text=e,t)for(r in g)(o=t[r]||t.getAttribute&&t.getAttribute(r))&&i.setAttribute(r,o);n.head.appendChild(i).parentNode.removeChild(i)}function b(e){return null==e?e+"":"object"==typeof e||"function"==typeof e?u[s.call(e)]||"object":typeof e}var x="3.5.1 -ajax,-ajax/jsonp,-ajax/load,-ajax/script,-ajax/var/location,-ajax/var/nonce,-ajax/var/rquery,-ajax/xhr,-manipulation/_evalUrl,-deprecated/ajax-event-alias,-effects,-effects/Tween,-effects/animatedSelector",w=function(e,t){return new w.fn.init(e,t)};function T(e){var t=!!e&&"length"in e&&e.length,n=b(e);return!h(e)&&!m(e)&&("array"===n||0===t||"number"==typeof t&&t>0&&t-1 in e)}w.fn=w.prototype={jquery:x,constructor:w,length:0,toArray:function(){return o.call(this)},get:function(e){return null==e?o.call(this):e<0?this[e+this.length]:this[e]},pushStack:function(e){var t=w.merge(this.constructor(),e);return t.prevObject=this,t},each:function(e){return w.each(this,e)},map:function(e){return this.pushStack(w.map(this,(function(t,n){return e.call(t,n,t)})))},slice:function(){return this.pushStack(o.apply(this,arguments))},first:function(){return this.eq(0)},last:function(){return this.eq(-1)},even:function(){return this.pushStack(w.grep(this,(function(e,t){return(t+1)%2})))},odd:function(){return this.pushStack(w.grep(this,(function(e,t){return t%2})))},eq:function(e){var t=this.length,n=+e+(e<0?t:0);return this.pushStack(n>=0&&n<t?[this[n]]:[])},end:function(){return this.prevObject||this.constructor()},push:a,sort:n.sort,splice:n.splice},w.extend=w.fn.extend=function(){var e,t,n,r,o,i,a=arguments[0]||{},l=1,u=arguments.length,s=!1;for("boolean"==typeof a&&(s=a,a=arguments[l]||{},l++),"object"==typeof a||h(a)||(a={}),l===u&&(a=this,l--);l<u;l++)if(null!=(e=arguments[l]))for(t in e)r=e[t],"__proto__"!==t&&a!==r&&(s&&r&&(w.isPlainObject(r)||(o=Array.isArray(r)))?(n=a[t],i=o&&!Array.isArray(n)?[]:o||w.isPlainObject(n)?n:{},o=!1,a[t]=w.extend(s,i,r)):void 0!==r&&(a[t]=r));return a},w.extend({expando:"jQuery"+(x+Math.random()).replace(/\D/g,""),isReady:!0,error:function(e){throw new Error(e)},noop:function(){},isPlainObject:function(e){var t,n;return!(!e||"[object Object]"!==s.call(e)||(t=r(e))&&("function"!=typeof(n=c.call(t,"constructor")&&t.constructor)||f.call(n)!==d))},isEmptyObject:function(e){var t;for(t in e)return!1;return!0},globalEval:function(e,t,n){y(e,{nonce:t&&t.nonce},n)},each:function(e,t){var n,r=0;if(T(e))for(n=e.length;r<n&&!1!==t.call(e[r],r,e[r]);r++);else for(r in e)if(!1===t.call(e[r],r,e[r]))break;return e},makeArray:function(e,t){var n=t||[];return null!=e&&(T(Object(e))?w.merge(n,"string"==typeof e?[e]:e):a.call(n,e)),n},inArray:function(e,t,n){return null==t?-1:l.call(t,e,n)},merge:function(e,t){for(var n=+t.length,r=0,o=e.length;r<n;r++)e[o++]=t[r];return e.length=o,e},grep:function(e,t,n){for(var r=[],o=0,i=e.length,a=!n;o<i;o++)!t(e[o],o)!==a&&r.push(e[o]);return r},map:function(e,t,n){var r,o,a=0,l=[];if(T(e))for(r=e.length;a<r;a++)null!=(o=t(e[a],a,n))&&l.push(o);else for(a in e)null!=(o=t(e[a],a,n))&&l.push(o);return i(l)},guid:1,support:p}),"function"==typeof Symbol&&(w.fn[Symbol.iterator]=n[Symbol.iterator]),w.each("Boolean Number String Function Array Date RegExp Object Error Symbol".split(" "),(function(e,t){u["[object "+t+"]"]=t.toLowerCase()}));var E=function(e){var t,n,r,o,i,a,l,u,s,c,f,d,p,h,m,v,g,y,b,x="sizzle"+1*new Date,w=e.document,T=0,E=0,C=ue(),L=ue(),M=ue(),A=ue(),H=function(e,t){return e===t&&(f=!0),0},N={}.hasOwnProperty,k=[],S=k.pop,D=k.push,O=k.push,j=k.slice,P=function(e,t){for(var n=0,r=e.length;n<r;n++)if(e[n]===t)return n;return-1},q="checked|selected|async|autofocus|autoplay|controls|defer|disabled|hidden|ismap|loop|multiple|open|readonly|required|scoped",I="[\\x20\\t\\r\\n\\f]",R="(?:\\\\[\\da-fA-F]{1,6}"+I+"?|\\\\[^\\r\\n\\f]|[\\w-]|[^\0-\\x7f])+",B="\\["+I+"*("+R+")(?:"+I+"*([*^$|!~]?=)"+I+"*(?:'((?:\\\\.|[^\\\\'])*)'|\"((?:\\\\.|[^\\\\\"])*)\"|("+R+"))|)"+I+"*\\]",F=":("+R+")(?:\\((('((?:\\\\.|[^\\\\'])*)'|\"((?:\\\\.|[^\\\\\"])*)\")|((?:\\\\.|[^\\\\()[\\]]|"+B+")*)|.*)\\)|)",z=new RegExp(I+"+","g"),V=new RegExp("^"+I+"+|((?:^|[^\\\\])(?:\\\\.)*)"+I+"+$","g"),W=new RegExp("^"+I+"*,"+I+"*"),$=new RegExp("^"+I+"*([>+~]|"+I+")"+I+"*"),_=new RegExp(I+"|>"),U=new RegExp(F),X=new RegExp("^"+R+"$"),Q={ID:new RegExp("^#("+R+")"),CLASS:new RegExp("^\\.("+R+")"),TAG:new RegExp("^("+R+"|[*])"),ATTR:new RegExp("^"+B),PSEUDO:new RegExp("^"+F),CHILD:new RegExp("^:(only|first|last|nth|nth-last)-(child|of-type)(?:\\("+I+"*(even|odd|(([+-]|)(\\d*)n|)"+I+"*(?:([+-]|)"+I+"*(\\d+)|))"+I+"*\\)|)","i"),bool:new RegExp("^(?:"+q+")$","i"),needsContext:new RegExp("^"+I+"*[>+~]|:(even|odd|eq|gt|lt|nth|first|last)(?:\\("+I+"*((?:-\\d)?\\d*)"+I+"*\\)|)(?=[^-]|$)","i")},Y=/HTML$/i,G=/^(?:input|select|textarea|button)$/i,K=/^h\d$/i,Z=/^[^{]+\{\s*\[native \w/,J=/^(?:#([\w-]+)|(\w+)|\.([\w-]+))$/,ee=/[+~]/,te=new RegExp("\\\\[\\da-fA-F]{1,6}"+I+"?|\\\\([^\\r\\n\\f])","g"),ne=function(e,t){var n="0x"+e.slice(1)-65536;return t||(n<0?String.fromCharCode(n+65536):String.fromCharCode(n>>10|55296,1023&n|56320))},re=/([\0-\x1f\x7f]|^-?\d)|^-$|[^\0-\x1f\x7f-\uFFFF\w-]/g,oe=function(e,t){return t?"\0"===e?"\ufffd":e.slice(0,-1)+"\\"+e.charCodeAt(e.length-1).toString(16)+" ":"\\"+e},ie=function(){d()},ae=xe((function(e){return!0===e.disabled&&"fieldset"===e.nodeName.toLowerCase()}),{dir:"parentNode",next:"legend"});try{O.apply(k=j.call(w.childNodes),w.childNodes)}catch(Le){O={apply:k.length?function(e,t){D.apply(e,j.call(t))}:function(e,t){for(var n=e.length,r=0;e[n++]=t[r++];);e.length=n-1}}}function le(e,t,r,o){var i,l,s,c,f,h,g,y=t&&t.ownerDocument,w=t?t.nodeType:9;if(r=r||[],"string"!=typeof e||!e||1!==w&&9!==w&&11!==w)return r;if(!o&&(d(t),t=t||p,m)){if(11!==w&&(f=J.exec(e)))if(i=f[1]){if(9===w){if(!(s=t.getElementById(i)))return r;if(s.id===i)return r.push(s),r}else if(y&&(s=y.getElementById(i))&&b(t,s)&&s.id===i)return r.push(s),r}else{if(f[2])return O.apply(r,t.getElementsByTagName(e)),r;if((i=f[3])&&n.getElementsByClassName&&t.getElementsByClassName)return O.apply(r,t.getElementsByClassName(i)),r}if(n.qsa&&!A[e+" "]&&(!v||!v.test(e))&&(1!==w||"object"!==t.nodeName.toLowerCase())){if(g=e,y=t,1===w&&(_.test(e)||$.test(e))){for((y=ee.test(e)&&ge(t.parentNode)||t)===t&&n.scope||((c=t.getAttribute("id"))?c=c.replace(re,oe):t.setAttribute("id",c=x)),l=(h=a(e)).length;l--;)h[l]=(c?"#"+c:":scope")+" "+be(h[l]);g=h.join(",")}try{return O.apply(r,y.querySelectorAll(g)),r}catch(T){A(e,!0)}finally{c===x&&t.removeAttribute("id")}}}return u(e.replace(V,"$1"),t,r,o)}function ue(){var e=[];return function t(n,o){return e.push(n+" ")>r.cacheLength&&delete t[e.shift()],t[n+" "]=o}}function se(e){return e[x]=!0,e}function ce(e){var t=p.createElement("fieldset");try{return!!e(t)}catch(Le){return!1}finally{t.parentNode&&t.parentNode.removeChild(t),t=null}}function fe(e,t){for(var n=e.split("|"),o=n.length;o--;)r.attrHandle[n[o]]=t}function de(e,t){var n=t&&e,r=n&&1===e.nodeType&&1===t.nodeType&&e.sourceIndex-t.sourceIndex;if(r)return r;if(n)for(;n=n.nextSibling;)if(n===t)return-1;return e?1:-1}function pe(e){return function(t){return"input"===t.nodeName.toLowerCase()&&t.type===e}}function he(e){return function(t){var n=t.nodeName.toLowerCase();return("input"===n||"button"===n)&&t.type===e}}function me(e){return function(t){return"form"in t?t.parentNode&&!1===t.disabled?"label"in t?"label"in t.parentNode?t.parentNode.disabled===e:t.disabled===e:t.isDisabled===e||t.isDisabled!==!e&&ae(t)===e:t.disabled===e:"label"in t&&t.disabled===e}}function ve(e){return se((function(t){return t=+t,se((function(n,r){for(var o,i=e([],n.length,t),a=i.length;a--;)n[o=i[a]]&&(n[o]=!(r[o]=n[o]))}))}))}function ge(e){return e&&void 0!==e.getElementsByTagName&&e}for(t in n=le.support={},i=le.isXML=function(e){var t=(e.ownerDocument||e).documentElement;return!Y.test(e.namespaceURI||t&&t.nodeName||"HTML")},d=le.setDocument=function(e){var t,o,a=e?e.ownerDocument||e:w;return a!=p&&9===a.nodeType&&a.documentElement?(h=(p=a).documentElement,m=!i(p),w!=p&&(o=p.defaultView)&&o.top!==o&&(o.addEventListener?o.addEventListener("unload",ie,!1):o.attachEvent&&o.attachEvent("onunload",ie)),n.scope=ce((function(e){return h.appendChild(e).appendChild(p.createElement("div")),void 0!==e.querySelectorAll&&!e.querySelectorAll(":scope fieldset div").length})),n.attributes=ce((function(e){return e.className="i",!e.getAttribute("className")})),n.getElementsByTagName=ce((function(e){return e.appendChild(p.createComment("")),!e.getElementsByTagName("*").length})),n.getElementsByClassName=Z.test(p.getElementsByClassName),n.getById=ce((function(e){return h.appendChild(e).id=x,!p.getElementsByName||!p.getElementsByName(x).length})),n.getById?(r.filter.ID=function(e){var t=e.replace(te,ne);return function(e){return e.getAttribute("id")===t}},r.find.ID=function(e,t){if(void 0!==t.getElementById&&m){var n=t.getElementById(e);return n?[n]:[]}}):(r.filter.ID=function(e){var t=e.replace(te,ne);return function(e){var n=void 0!==e.getAttributeNode&&e.getAttributeNode("id");return n&&n.value===t}},r.find.ID=function(e,t){if(void 0!==t.getElementById&&m){var n,r,o,i=t.getElementById(e);if(i){if((n=i.getAttributeNode("id"))&&n.value===e)return[i];for(o=t.getElementsByName(e),r=0;i=o[r++];)if((n=i.getAttributeNode("id"))&&n.value===e)return[i]}return[]}}),r.find.TAG=n.getElementsByTagName?function(e,t){return void 0!==t.getElementsByTagName?t.getElementsByTagName(e):n.qsa?t.querySelectorAll(e):void 0}:function(e,t){var n,r=[],o=0,i=t.getElementsByTagName(e);if("*"===e){for(;n=i[o++];)1===n.nodeType&&r.push(n);return r}return i},r.find.CLASS=n.getElementsByClassName&&function(e,t){if(void 0!==t.getElementsByClassName&&m)return t.getElementsByClassName(e)},g=[],v=[],(n.qsa=Z.test(p.querySelectorAll))&&(ce((function(e){var t;h.appendChild(e).innerHTML="<a id='"+x+"'></a><select id='"+x+"-\r\\' msallowcapture=''><option selected=''></option></select>",e.querySelectorAll("[msallowcapture^='']").length&&v.push("[*^$]="+I+"*(?:''|\"\")"),e.querySelectorAll("[selected]").length||v.push("\\["+I+"*(?:value|"+q+")"),e.querySelectorAll("[id~="+x+"-]").length||v.push("~="),(t=p.createElement("input")).setAttribute("name",""),e.appendChild(t),e.querySelectorAll("[name='']").length||v.push("\\["+I+"*name"+I+"*="+I+"*(?:''|\"\")"),e.querySelectorAll(":checked").length||v.push(":checked"),e.querySelectorAll("a#"+x+"+*").length||v.push(".#.+[+~]"),e.querySelectorAll("\\\f"),v.push("[\\r\\n\\f]")})),ce((function(e){e.innerHTML="<a href='' disabled='disabled'></a><select disabled='disabled'><option/></select>";var t=p.createElement("input");t.setAttribute("type","hidden"),e.appendChild(t).setAttribute("name","D"),e.querySelectorAll("[name=d]").length&&v.push("name"+I+"*[*^$|!~]?="),2!==e.querySelectorAll(":enabled").length&&v.push(":enabled",":disabled"),h.appendChild(e).disabled=!0,2!==e.querySelectorAll(":disabled").length&&v.push(":enabled",":disabled"),e.querySelectorAll("*,:x"),v.push(",.*:")}))),(n.matchesSelector=Z.test(y=h.matches||h.webkitMatchesSelector||h.mozMatchesSelector||h.oMatchesSelector||h.msMatchesSelector))&&ce((function(e){n.disconnectedMatch=y.call(e,"*"),y.call(e,"[s!='']:x"),g.push("!=",F)})),v=v.length&&new RegExp(v.join("|")),g=g.length&&new RegExp(g.join("|")),t=Z.test(h.compareDocumentPosition),b=t||Z.test(h.contains)?function(e,t){var n=9===e.nodeType?e.documentElement:e,r=t&&t.parentNode;return e===r||!(!r||1!==r.nodeType||!(n.contains?n.contains(r):e.compareDocumentPosition&&16&e.compareDocumentPosition(r)))}:function(e,t){if(t)for(;t=t.parentNode;)if(t===e)return!0;return!1},H=t?function(e,t){if(e===t)return f=!0,0;var r=!e.compareDocumentPosition-!t.compareDocumentPosition;return r||(1&(r=(e.ownerDocument||e)==(t.ownerDocument||t)?e.compareDocumentPosition(t):1)||!n.sortDetached&&t.compareDocumentPosition(e)===r?e==p||e.ownerDocument==w&&b(w,e)?-1:t==p||t.ownerDocument==w&&b(w,t)?1:c?P(c,e)-P(c,t):0:4&r?-1:1)}:function(e,t){if(e===t)return f=!0,0;var n,r=0,o=e.parentNode,i=t.parentNode,a=[e],l=[t];if(!o||!i)return e==p?-1:t==p?1:o?-1:i?1:c?P(c,e)-P(c,t):0;if(o===i)return de(e,t);for(n=e;n=n.parentNode;)a.unshift(n);for(n=t;n=n.parentNode;)l.unshift(n);for(;a[r]===l[r];)r++;return r?de(a[r],l[r]):a[r]==w?-1:l[r]==w?1:0},p):p},le.matches=function(e,t){return le(e,null,null,t)},le.matchesSelector=function(e,t){if(d(e),n.matchesSelector&&m&&!A[t+" "]&&(!g||!g.test(t))&&(!v||!v.test(t)))try{var r=y.call(e,t);if(r||n.disconnectedMatch||e.document&&11!==e.document.nodeType)return r}catch(Le){A(t,!0)}return le(t,p,null,[e]).length>0},le.contains=function(e,t){return(e.ownerDocument||e)!=p&&d(e),b(e,t)},le.attr=function(e,t){(e.ownerDocument||e)!=p&&d(e);var o=r.attrHandle[t.toLowerCase()],i=o&&N.call(r.attrHandle,t.toLowerCase())?o(e,t,!m):void 0;return void 0!==i?i:n.attributes||!m?e.getAttribute(t):(i=e.getAttributeNode(t))&&i.specified?i.value:null},le.escape=function(e){return(e+"").replace(re,oe)},le.error=function(e){throw new Error("Syntax error, unrecognized expression: "+e)},le.uniqueSort=function(e){var t,r=[],o=0,i=0;if(f=!n.detectDuplicates,c=!n.sortStable&&e.slice(0),e.sort(H),f){for(;t=e[i++];)t===e[i]&&(o=r.push(i));for(;o--;)e.splice(r[o],1)}return c=null,e},o=le.getText=function(e){var t,n="",r=0,i=e.nodeType;if(i){if(1===i||9===i||11===i){if("string"==typeof e.textContent)return e.textContent;for(e=e.firstChild;e;e=e.nextSibling)n+=o(e)}else if(3===i||4===i)return e.nodeValue}else for(;t=e[r++];)n+=o(t);return n},(r=le.selectors={cacheLength:50,createPseudo:se,match:Q,attrHandle:{},find:{},relative:{">":{dir:"parentNode",first:!0}," ":{dir:"parentNode"},"+":{dir:"previousSibling",first:!0},"~":{dir:"previousSibling"}},preFilter:{ATTR:function(e){return e[1]=e[1].replace(te,ne),e[3]=(e[3]||e[4]||e[5]||"").replace(te,ne),"~="===e[2]&&(e[3]=" "+e[3]+" "),e.slice(0,4)},CHILD:function(e){return e[1]=e[1].toLowerCase(),"nth"===e[1].slice(0,3)?(e[3]||le.error(e[0]),e[4]=+(e[4]?e[5]+(e[6]||1):2*("even"===e[3]||"odd"===e[3])),e[5]=+(e[7]+e[8]||"odd"===e[3])):e[3]&&le.error(e[0]),e},PSEUDO:function(e){var t,n=!e[6]&&e[2];return Q.CHILD.test(e[0])?null:(e[3]?e[2]=e[4]||e[5]||"":n&&U.test(n)&&(t=a(n,!0))&&(t=n.indexOf(")",n.length-t)-n.length)&&(e[0]=e[0].slice(0,t),e[2]=n.slice(0,t)),e.slice(0,3))}},filter:{TAG:function(e){var t=e.replace(te,ne).toLowerCase();return"*"===e?function(){return!0}:function(e){return e.nodeName&&e.nodeName.toLowerCase()===t}},CLASS:function(e){var t=C[e+" "];return t||(t=new RegExp("(^|"+I+")"+e+"("+I+"|$)"))&&C(e,(function(e){return t.test("string"==typeof e.className&&e.className||void 0!==e.getAttribute&&e.getAttribute("class")||"")}))},ATTR:function(e,t,n){return function(r){var o=le.attr(r,e);return null==o?"!="===t:!t||(o+="","="===t?o===n:"!="===t?o!==n:"^="===t?n&&0===o.indexOf(n):"*="===t?n&&o.indexOf(n)>-1:"$="===t?n&&o.slice(-n.length)===n:"~="===t?(" "+o.replace(z," ")+" ").indexOf(n)>-1:"|="===t&&(o===n||o.slice(0,n.length+1)===n+"-"))}},CHILD:function(e,t,n,r,o){var i="nth"!==e.slice(0,3),a="last"!==e.slice(-4),l="of-type"===t;return 1===r&&0===o?function(e){return!!e.parentNode}:function(t,n,u){var s,c,f,d,p,h,m=i!==a?"nextSibling":"previousSibling",v=t.parentNode,g=l&&t.nodeName.toLowerCase(),y=!u&&!l,b=!1;if(v){if(i){for(;m;){for(d=t;d=d[m];)if(l?d.nodeName.toLowerCase()===g:1===d.nodeType)return!1;h=m="only"===e&&!h&&"nextSibling"}return!0}if(h=[a?v.firstChild:v.lastChild],a&&y){for(b=(p=(s=(c=(f=(d=v)[x]||(d[x]={}))[d.uniqueID]||(f[d.uniqueID]={}))[e]||[])[0]===T&&s[1])&&s[2],d=p&&v.childNodes[p];d=++p&&d&&d[m]||(b=p=0)||h.pop();)if(1===d.nodeType&&++b&&d===t){c[e]=[T,p,b];break}}else if(y&&(b=p=(s=(c=(f=(d=t)[x]||(d[x]={}))[d.uniqueID]||(f[d.uniqueID]={}))[e]||[])[0]===T&&s[1]),!1===b)for(;(d=++p&&d&&d[m]||(b=p=0)||h.pop())&&((l?d.nodeName.toLowerCase()!==g:1!==d.nodeType)||!++b||(y&&((c=(f=d[x]||(d[x]={}))[d.uniqueID]||(f[d.uniqueID]={}))[e]=[T,b]),d!==t)););return(b-=o)===r||b%r==0&&b/r>=0}}},PSEUDO:function(e,t){var n,o=r.pseudos[e]||r.setFilters[e.toLowerCase()]||le.error("unsupported pseudo: "+e);return o[x]?o(t):o.length>1?(n=[e,e,"",t],r.setFilters.hasOwnProperty(e.toLowerCase())?se((function(e,n){for(var r,i=o(e,t),a=i.length;a--;)e[r=P(e,i[a])]=!(n[r]=i[a])})):function(e){return o(e,0,n)}):o}},pseudos:{not:se((function(e){var t=[],n=[],r=l(e.replace(V,"$1"));return r[x]?se((function(e,t,n,o){for(var i,a=r(e,null,o,[]),l=e.length;l--;)(i=a[l])&&(e[l]=!(t[l]=i))})):function(e,o,i){return t[0]=e,r(t,null,i,n),t[0]=null,!n.pop()}})),has:se((function(e){return function(t){return le(e,t).length>0}})),contains:se((function(e){return e=e.replace(te,ne),function(t){return(t.textContent||o(t)).indexOf(e)>-1}})),lang:se((function(e){return X.test(e||"")||le.error("unsupported lang: "+e),e=e.replace(te,ne).toLowerCase(),function(t){var n;do{if(n=m?t.lang:t.getAttribute("xml:lang")||t.getAttribute("lang"))return(n=n.toLowerCase())===e||0===n.indexOf(e+"-")}while((t=t.parentNode)&&1===t.nodeType);return!1}})),target:function(t){var n=e.location&&e.location.hash;return n&&n.slice(1)===t.id},root:function(e){return e===h},focus:function(e){return e===p.activeElement&&(!p.hasFocus||p.hasFocus())&&!!(e.type||e.href||~e.tabIndex)},enabled:me(!1),disabled:me(!0),checked:function(e){var t=e.nodeName.toLowerCase();return"input"===t&&!!e.checked||"option"===t&&!!e.selected},selected:function(e){return!0===e.selected},empty:function(e){for(e=e.firstChild;e;e=e.nextSibling)if(e.nodeType<6)return!1;return!0},parent:function(e){return!r.pseudos.empty(e)},header:function(e){return K.test(e.nodeName)},input:function(e){return G.test(e.nodeName)},button:function(e){var t=e.nodeName.toLowerCase();return"input"===t&&"button"===e.type||"button"===t},text:function(e){var t;return"input"===e.nodeName.toLowerCase()&&"text"===e.type&&(null==(t=e.getAttribute("type"))||"text"===t.toLowerCase())},first:ve((function(){return[0]})),last:ve((function(e,t){return[t-1]})),eq:ve((function(e,t,n){return[n<0?n+t:n]})),even:ve((function(e,t){for(var n=0;n<t;n+=2)e.push(n);return e})),odd:ve((function(e,t){for(var n=1;n<t;n+=2)e.push(n);return e})),lt:ve((function(e,t,n){for(var r=n<0?n+t:n>t?t:n;--r>=0;)e.push(r);return e})),gt:ve((function(e,t,n){for(var r=n<0?n+t:n;++r<t;)e.push(r);return e}))}}).pseudos.nth=r.pseudos.eq,{radio:!0,checkbox:!0,file:!0,password:!0,image:!0})r.pseudos[t]=pe(t);for(t in{submit:!0,reset:!0})r.pseudos[t]=he(t);function ye(){}function be(e){for(var t=0,n=e.length,r="";t<n;t++)r+=e[t].value;return r}function xe(e,t,n){var r=t.dir,o=t.next,i=o||r,a=n&&"parentNode"===i,l=E++;return t.first?function(t,n,o){for(;t=t[r];)if(1===t.nodeType||a)return e(t,n,o);return!1}:function(t,n,u){var s,c,f,d=[T,l];if(u){for(;t=t[r];)if((1===t.nodeType||a)&&e(t,n,u))return!0}else for(;t=t[r];)if(1===t.nodeType||a)if(c=(f=t[x]||(t[x]={}))[t.uniqueID]||(f[t.uniqueID]={}),o&&o===t.nodeName.toLowerCase())t=t[r]||t;else{if((s=c[i])&&s[0]===T&&s[1]===l)return d[2]=s[2];if(c[i]=d,d[2]=e(t,n,u))return!0}return!1}}function we(e){return e.length>1?function(t,n,r){for(var o=e.length;o--;)if(!e[o](t,n,r))return!1;return!0}:e[0]}function Te(e,t,n,r,o){for(var i,a=[],l=0,u=e.length,s=null!=t;l<u;l++)(i=e[l])&&(n&&!n(i,r,o)||(a.push(i),s&&t.push(l)));return a}function Ee(e,t,n,r,o,i){return r&&!r[x]&&(r=Ee(r)),o&&!o[x]&&(o=Ee(o,i)),se((function(i,a,l,u){var s,c,f,d=[],p=[],h=a.length,m=i||function(e,t,n){for(var r=0,o=t.length;r<o;r++)le(e,t[r],n);return n}(t||"*",l.nodeType?[l]:l,[]),v=!e||!i&&t?m:Te(m,d,e,l,u),g=n?o||(i?e:h||r)?[]:a:v;if(n&&n(v,g,l,u),r)for(s=Te(g,p),r(s,[],l,u),c=s.length;c--;)(f=s[c])&&(g[p[c]]=!(v[p[c]]=f));if(i){if(o||e){if(o){for(s=[],c=g.length;c--;)(f=g[c])&&s.push(v[c]=f);o(null,g=[],s,u)}for(c=g.length;c--;)(f=g[c])&&(s=o?P(i,f):d[c])>-1&&(i[s]=!(a[s]=f))}}else g=Te(g===a?g.splice(h,g.length):g),o?o(null,a,g,u):O.apply(a,g)}))}function Ce(e){for(var t,n,o,i=e.length,a=r.relative[e[0].type],l=a||r.relative[" "],u=a?1:0,c=xe((function(e){return e===t}),l,!0),f=xe((function(e){return P(t,e)>-1}),l,!0),d=[function(e,n,r){var o=!a&&(r||n!==s)||((t=n).nodeType?c(e,n,r):f(e,n,r));return t=null,o}];u<i;u++)if(n=r.relative[e[u].type])d=[xe(we(d),n)];else{if((n=r.filter[e[u].type].apply(null,e[u].matches))[x]){for(o=++u;o<i&&!r.relative[e[o].type];o++);return Ee(u>1&&we(d),u>1&&be(e.slice(0,u-1).concat({value:" "===e[u-2].type?"*":""})).replace(V,"$1"),n,u<o&&Ce(e.slice(u,o)),o<i&&Ce(e=e.slice(o)),o<i&&be(e))}d.push(n)}return we(d)}return ye.prototype=r.filters=r.pseudos,r.setFilters=new ye,a=le.tokenize=function(e,t){var n,o,i,a,l,u,s,c=L[e+" "];if(c)return t?0:c.slice(0);for(l=e,u=[],s=r.preFilter;l;){for(a in n&&!(o=W.exec(l))||(o&&(l=l.slice(o[0].length)||l),u.push(i=[])),n=!1,(o=$.exec(l))&&(n=o.shift(),i.push({value:n,type:o[0].replace(V," ")}),l=l.slice(n.length)),r.filter)!(o=Q[a].exec(l))||s[a]&&!(o=s[a](o))||(n=o.shift(),i.push({value:n,type:a,matches:o}),l=l.slice(n.length));if(!n)break}return t?l.length:l?le.error(e):L(e,u).slice(0)},l=le.compile=function(e,t){var n,o=[],i=[],l=M[e+" "];if(!l){for(t||(t=a(e)),n=t.length;n--;)(l=Ce(t[n]))[x]?o.push(l):i.push(l);(l=M(e,function(e,t){var n=t.length>0,o=e.length>0,i=function(i,a,l,u,c){var f,h,v,g=0,y="0",b=i&&[],x=[],w=s,E=i||o&&r.find.TAG("*",c),C=T+=null==w?1:Math.random()||.1,L=E.length;for(c&&(s=a==p||a||c);y!==L&&null!=(f=E[y]);y++){if(o&&f){for(h=0,a||f.ownerDocument==p||(d(f),l=!m);v=e[h++];)if(v(f,a||p,l)){u.push(f);break}c&&(T=C)}n&&((f=!v&&f)&&g--,i&&b.push(f))}if(g+=y,n&&y!==g){for(h=0;v=t[h++];)v(b,x,a,l);if(i){if(g>0)for(;y--;)b[y]||x[y]||(x[y]=S.call(u));x=Te(x)}O.apply(u,x),c&&!i&&x.length>0&&g+t.length>1&&le.uniqueSort(u)}return c&&(T=C,s=w),b};return n?se(i):i}(i,o))).selector=e}return l},u=le.select=function(e,t,n,o){var i,u,s,c,f,d="function"==typeof e&&e,p=!o&&a(e=d.selector||e);if(n=n||[],1===p.length){if((u=p[0]=p[0].slice(0)).length>2&&"ID"===(s=u[0]).type&&9===t.nodeType&&m&&r.relative[u[1].type]){if(!(t=(r.find.ID(s.matches[0].replace(te,ne),t)||[])[0]))return n;d&&(t=t.parentNode),e=e.slice(u.shift().value.length)}for(i=Q.needsContext.test(e)?0:u.length;i--&&!r.relative[c=(s=u[i]).type];)if((f=r.find[c])&&(o=f(s.matches[0].replace(te,ne),ee.test(u[0].type)&&ge(t.parentNode)||t))){if(u.splice(i,1),!(e=o.length&&be(u)))return O.apply(n,o),n;break}}return(d||l(e,p))(o,t,!m,n,!t||ee.test(e)&&ge(t.parentNode)||t),n},n.sortStable=x.split("").sort(H).join("")===x,n.detectDuplicates=!!f,d(),n.sortDetached=ce((function(e){return 1&e.compareDocumentPosition(p.createElement("fieldset"))})),ce((function(e){return e.innerHTML="<a href='#'></a>","#"===e.firstChild.getAttribute("href")}))||fe("type|href|height|width",(function(e,t,n){if(!n)return e.getAttribute(t,"type"===t.toLowerCase()?1:2)})),n.attributes&&ce((function(e){return e.innerHTML="<input/>",e.firstChild.setAttribute("value",""),""===e.firstChild.getAttribute("value")}))||fe("value",(function(e,t,n){if(!n&&"input"===e.nodeName.toLowerCase())return e.defaultValue})),ce((function(e){return null==e.getAttribute("disabled")}))||fe(q,(function(e,t,n){var r;if(!n)return!0===e[t]?t.toLowerCase():(r=e.getAttributeNode(t))&&r.specified?r.value:null})),le}(e);w.find=E,w.expr=E.selectors,w.expr[":"]=w.expr.pseudos,w.uniqueSort=w.unique=E.uniqueSort,w.text=E.getText,w.isXMLDoc=E.isXML,w.contains=E.contains,w.escapeSelector=E.escape;var C=function(e,t,n){for(var r=[],o=void 0!==n;(e=e[t])&&9!==e.nodeType;)if(1===e.nodeType){if(o&&w(e).is(n))break;r.push(e)}return r},L=function(e,t){for(var n=[];e;e=e.nextSibling)1===e.nodeType&&e!==t&&n.push(e);return n},M=w.expr.match.needsContext;function A(e,t){return e.nodeName&&e.nodeName.toLowerCase()===t.toLowerCase()}var H=/^<([a-z][^\/\0>:\x20\t\r\n\f]*)[\x20\t\r\n\f]*\/?>(?:<\/\1>|)$/i;function N(e,t,n){return h(t)?w.grep(e,(function(e,r){return!!t.call(e,r,e)!==n})):t.nodeType?w.grep(e,(function(e){return e===t!==n})):"string"!=typeof t?w.grep(e,(function(e){return l.call(t,e)>-1!==n})):w.filter(t,e,n)}w.filter=function(e,t,n){var r=t[0];return n&&(e=":not("+e+")"),1===t.length&&1===r.nodeType?w.find.matchesSelector(r,e)?[r]:[]:w.find.matches(e,w.grep(t,(function(e){return 1===e.nodeType})))},w.fn.extend({find:function(e){var t,n,r=this.length,o=this;if("string"!=typeof e)return this.pushStack(w(e).filter((function(){for(t=0;t<r;t++)if(w.contains(o[t],this))return!0})));for(n=this.pushStack([]),t=0;t<r;t++)w.find(e,o[t],n);return r>1?w.uniqueSort(n):n},filter:function(e){return this.pushStack(N(this,e||[],!1))},not:function(e){return this.pushStack(N(this,e||[],!0))},is:function(e){return!!N(this,"string"==typeof e&&M.test(e)?w(e):e||[],!1).length}});var k,S=/^(?:\s*(<[\w\W]+>)[^>]*|#([\w-]+))$/;(w.fn.init=function(e,t,n){var r,o;if(!e)return this;if(n=n||k,"string"==typeof e){if(!(r="<"===e[0]&&">"===e[e.length-1]&&e.length>=3?[null,e,null]:S.exec(e))||!r[1]&&t)return!t||t.jquery?(t||n).find(e):this.constructor(t).find(e);if(r[1]){if(w.merge(this,w.parseHTML(r[1],(t=t instanceof w?t[0]:t)&&t.nodeType?t.ownerDocument||t:v,!0)),H.test(r[1])&&w.isPlainObject(t))for(r in t)h(this[r])?this[r](t[r]):this.attr(r,t[r]);return this}return(o=v.getElementById(r[2]))&&(this[0]=o,this.length=1),this}return e.nodeType?(this[0]=e,this.length=1,this):h(e)?void 0!==n.ready?n.ready(e):e(w):w.makeArray(e,this)}).prototype=w.fn,k=w(v);var D=/^(?:parents|prev(?:Until|All))/,O={children:!0,contents:!0,next:!0,prev:!0};function j(e,t){for(;(e=e[t])&&1!==e.nodeType;);return e}w.fn.extend({has:function(e){var t=w(e,this),n=t.length;return this.filter((function(){for(var e=0;e<n;e++)if(w.contains(this,t[e]))return!0}))},closest:function(e,t){var n,r=0,o=this.length,i=[],a="string"!=typeof e&&w(e);if(!M.test(e))for(;r<o;r++)for(n=this[r];n&&n!==t;n=n.parentNode)if(n.nodeType<11&&(a?a.index(n)>-1:1===n.nodeType&&w.find.matchesSelector(n,e))){i.push(n);break}return this.pushStack(i.length>1?w.uniqueSort(i):i)},index:function(e){return e?"string"==typeof e?l.call(w(e),this[0]):l.call(this,e.jquery?e[0]:e):this[0]&&this[0].parentNode?this.first().prevAll().length:-1},add:function(e,t){return this.pushStack(w.uniqueSort(w.merge(this.get(),w(e,t))))},addBack:function(e){return this.add(null==e?this.prevObject:this.prevObject.filter(e))}}),w.each({parent:function(e){var t=e.parentNode;return t&&11!==t.nodeType?t:null},parents:function(e){return C(e,"parentNode")},parentsUntil:function(e,t,n){return C(e,"parentNode",n)},next:function(e){return j(e,"nextSibling")},prev:function(e){return j(e,"previousSibling")},nextAll:function(e){return C(e,"nextSibling")},prevAll:function(e){return C(e,"previousSibling")},nextUntil:function(e,t,n){return C(e,"nextSibling",n)},prevUntil:function(e,t,n){return C(e,"previousSibling",n)},siblings:function(e){return L((e.parentNode||{}).firstChild,e)},children:function(e){return L(e.firstChild)},contents:function(e){return null!=e.contentDocument&&r(e.contentDocument)?e.contentDocument:(A(e,"template")&&(e=e.content||e),w.merge([],e.childNodes))}},(function(e,t){w.fn[e]=function(n,r){var o=w.map(this,t,n);return"Until"!==e.slice(-5)&&(r=n),r&&"string"==typeof r&&(o=w.filter(r,o)),this.length>1&&(O[e]||w.uniqueSort(o),D.test(e)&&o.reverse()),this.pushStack(o)}}));var P=/[^\x20\t\r\n\f]+/g;function q(e){return e}function I(e){throw e}function R(e,t,n,r){var o;try{e&&h(o=e.promise)?o.call(e).done(t).fail(n):e&&h(o=e.then)?o.call(e,t,n):t.apply(void 0,[e].slice(r))}catch(e){n.apply(void 0,[e])}}w.Callbacks=function(e){e="string"==typeof e?function(e){var t={};return w.each(e.match(P)||[],(function(e,n){t[n]=!0})),t}(e):w.extend({},e);var t,n,r,o,i=[],a=[],l=-1,u=function(){for(o=o||e.once,r=t=!0;a.length;l=-1)for(n=a.shift();++l<i.length;)!1===i[l].apply(n[0],n[1])&&e.stopOnFalse&&(l=i.length,n=!1);e.memory||(n=!1),t=!1,o&&(i=n?[]:"")},s={add:function(){return i&&(n&&!t&&(l=i.length-1,a.push(n)),function t(n){w.each(n,(function(n,r){h(r)?e.unique&&s.has(r)||i.push(r):r&&r.length&&"string"!==b(r)&&t(r)}))}(arguments),n&&!t&&u()),this},remove:function(){return w.each(arguments,(function(e,t){for(var n;(n=w.inArray(t,i,n))>-1;)i.splice(n,1),n<=l&&l--})),this},has:function(e){return e?w.inArray(e,i)>-1:i.length>0},empty:function(){return i&&(i=[]),this},disable:function(){return o=a=[],i=n="",this},disabled:function(){return!i},lock:function(){return o=a=[],n||t||(i=n=""),this},locked:function(){return!!o},fireWith:function(e,n){return o||(n=[e,(n=n||[]).slice?n.slice():n],a.push(n),t||u()),this},fire:function(){return s.fireWith(this,arguments),this},fired:function(){return!!r}};return s},w.extend({Deferred:function(t){var n=[["notify","progress",w.Callbacks("memory"),w.Callbacks("memory"),2],["resolve","done",w.Callbacks("once memory"),w.Callbacks("once memory"),0,"resolved"],["reject","fail",w.Callbacks("once memory"),w.Callbacks("once memory"),1,"rejected"]],r="pending",o={state:function(){return r},always:function(){return i.done(arguments).fail(arguments),this},catch:function(e){return o.then(null,e)},pipe:function(){var e=arguments;return w.Deferred((function(t){w.each(n,(function(n,r){var o=h(e[r[4]])&&e[r[4]];i[r[1]]((function(){var e=o&&o.apply(this,arguments);e&&h(e.promise)?e.promise().progress(t.notify).done(t.resolve).fail(t.reject):t[r[0]+"With"](this,o?[e]:arguments)}))})),e=null})).promise()},then:function(t,r,o){var i=0;function a(t,n,r,o){return function(){var l=this,u=arguments,s=function(){var e,s;if(!(t<i)){if((e=r.apply(l,u))===n.promise())throw new TypeError("Thenable self-resolution");h(s=e&&("object"==typeof e||"function"==typeof e)&&e.then)?o?s.call(e,a(i,n,q,o),a(i,n,I,o)):(i++,s.call(e,a(i,n,q,o),a(i,n,I,o),a(i,n,q,n.notifyWith))):(r!==q&&(l=void 0,u=[e]),(o||n.resolveWith)(l,u))}},c=o?s:function(){try{s()}catch(e){w.Deferred.exceptionHook&&w.Deferred.exceptionHook(e,c.stackTrace),t+1>=i&&(r!==I&&(l=void 0,u=[e]),n.rejectWith(l,u))}};t?c():(w.Deferred.getStackHook&&(c.stackTrace=w.Deferred.getStackHook()),e.setTimeout(c))}}return w.Deferred((function(e){n[0][3].add(a(0,e,h(o)?o:q,e.notifyWith)),n[1][3].add(a(0,e,h(t)?t:q)),n[2][3].add(a(0,e,h(r)?r:I))})).promise()},promise:function(e){return null!=e?w.extend(e,o):o}},i={};return w.each(n,(function(e,t){var a=t[2],l=t[5];o[t[1]]=a.add,l&&a.add((function(){r=l}),n[3-e][2].disable,n[3-e][3].disable,n[0][2].lock,n[0][3].lock),a.add(t[3].fire),i[t[0]]=function(){return i[t[0]+"With"](this===i?void 0:this,arguments),this},i[t[0]+"With"]=a.fireWith})),o.promise(i),t&&t.call(i,i),i},when:function(e){var t=arguments.length,n=t,r=Array(n),i=o.call(arguments),a=w.Deferred(),l=function(e){return function(n){r[e]=this,i[e]=arguments.length>1?o.call(arguments):n,--t||a.resolveWith(r,i)}};if(t<=1&&(R(e,a.done(l(n)).resolve,a.reject,!t),"pending"===a.state()||h(i[n]&&i[n].then)))return a.then();for(;n--;)R(i[n],l(n),a.reject);return a.promise()}});var B=/^(Eval|Internal|Range|Reference|Syntax|Type|URI)Error$/;w.Deferred.exceptionHook=function(t,n){e.console&&e.console.warn&&t&&B.test(t.name)&&e.console.warn("jQuery.Deferred exception: "+t.message,t.stack,n)},w.readyException=function(t){e.setTimeout((function(){throw t}))};var F=w.Deferred();function z(){v.removeEventListener("DOMContentLoaded",z),e.removeEventListener("load",z),w.ready()}w.fn.ready=function(e){return F.then(e).catch((function(e){w.readyException(e)})),this},w.extend({isReady:!1,readyWait:1,ready:function(e){(!0===e?--w.readyWait:w.isReady)||(w.isReady=!0,!0!==e&&--w.readyWait>0||F.resolveWith(v,[w]))}}),w.ready.then=F.then,"complete"===v.readyState||"loading"!==v.readyState&&!v.documentElement.doScroll?e.setTimeout(w.ready):(v.addEventListener("DOMContentLoaded",z),e.addEventListener("load",z));var V=function(e,t,n,r,o,i,a){var l=0,u=e.length,s=null==n;if("object"===b(n))for(l in o=!0,n)V(e,t,l,n[l],!0,i,a);else if(void 0!==r&&(o=!0,h(r)||(a=!0),s&&(a?(t.call(e,r),t=null):(s=t,t=function(e,t,n){return s.call(w(e),n)})),t))for(;l<u;l++)t(e[l],n,a?r:r.call(e[l],l,t(e[l],n)));return o?e:s?t.call(e):u?t(e[0],n):i},W=/^-ms-/,$=/-([a-z])/g;function _(e,t){return t.toUpperCase()}function U(e){return e.replace(W,"ms-").replace($,_)}var X=function(e){return 1===e.nodeType||9===e.nodeType||!+e.nodeType};function Q(){this.expando=w.expando+Q.uid++}Q.uid=1,Q.prototype={cache:function(e){var t=e[this.expando];return t||(t={},X(e)&&(e.nodeType?e[this.expando]=t:Object.defineProperty(e,this.expando,{value:t,configurable:!0}))),t},set:function(e,t,n){var r,o=this.cache(e);if("string"==typeof t)o[U(t)]=n;else for(r in t)o[U(r)]=t[r];return o},get:function(e,t){return void 0===t?this.cache(e):e[this.expando]&&e[this.expando][U(t)]},access:function(e,t,n){return void 0===t||t&&"string"==typeof t&&void 0===n?this.get(e,t):(this.set(e,t,n),void 0!==n?n:t)},remove:function(e,t){var n,r=e[this.expando];if(void 0!==r){if(void 0!==t){n=(t=Array.isArray(t)?t.map(U):(t=U(t))in r?[t]:t.match(P)||[]).length;for(;n--;)delete r[t[n]]}(void 0===t||w.isEmptyObject(r))&&(e.nodeType?e[this.expando]=void 0:delete e[this.expando])}},hasData:function(e){var t=e[this.expando];return void 0!==t&&!w.isEmptyObject(t)}};var Y=new Q,G=new Q,K=/^(?:\{[\w\W]*\}|\[[\w\W]*\])$/,Z=/[A-Z]/g;function J(e,t,n){var r;if(void 0===n&&1===e.nodeType)if(r="data-"+t.replace(Z,"-$&").toLowerCase(),"string"==typeof(n=e.getAttribute(r))){try{n=function(e){return"true"===e||"false"!==e&&("null"===e?null:e===+e+""?+e:K.test(e)?JSON.parse(e):e)}(n)}catch(o){}G.set(e,t,n)}else n=void 0;return n}w.extend({hasData:function(e){return G.hasData(e)||Y.hasData(e)},data:function(e,t,n){return G.access(e,t,n)},removeData:function(e,t){G.remove(e,t)},_data:function(e,t,n){return Y.access(e,t,n)},_removeData:function(e,t){Y.remove(e,t)}}),w.fn.extend({data:function(e,t){var n,r,o,i=this[0],a=i&&i.attributes;if(void 0===e){if(this.length&&(o=G.get(i),1===i.nodeType&&!Y.get(i,"hasDataAttrs"))){for(n=a.length;n--;)a[n]&&0===(r=a[n].name).indexOf("data-")&&(r=U(r.slice(5)),J(i,r,o[r]));Y.set(i,"hasDataAttrs",!0)}return o}return"object"==typeof e?this.each((function(){G.set(this,e)})):V(this,(function(t){var n;if(i&&void 0===t)return void 0!==(n=G.get(i,e))?n:void 0!==(n=J(i,e))?n:void 0;this.each((function(){G.set(this,e,t)}))}),null,t,arguments.length>1,null,!0)},removeData:function(e){return this.each((function(){G.remove(this,e)}))}}),w.extend({queue:function(e,t,n){var r;if(e)return r=Y.get(e,t=(t||"fx")+"queue"),n&&(!r||Array.isArray(n)?r=Y.access(e,t,w.makeArray(n)):r.push(n)),r||[]},dequeue:function(e,t){var n=w.queue(e,t=t||"fx"),r=n.length,o=n.shift(),i=w._queueHooks(e,t);"inprogress"===o&&(o=n.shift(),r--),o&&("fx"===t&&n.unshift("inprogress"),delete i.stop,o.call(e,(function(){w.dequeue(e,t)}),i)),!r&&i&&i.empty.fire()},_queueHooks:function(e,t){var n=t+"queueHooks";return Y.get(e,n)||Y.access(e,n,{empty:w.Callbacks("once memory").add((function(){Y.remove(e,[t+"queue",n])}))})}}),w.fn.extend({queue:function(e,t){var n=2;return"string"!=typeof e&&(t=e,e="fx",n--),arguments.length<n?w.queue(this[0],e):void 0===t?this:this.each((function(){var n=w.queue(this,e,t);w._queueHooks(this,e),"fx"===e&&"inprogress"!==n[0]&&w.dequeue(this,e)}))},dequeue:function(e){return this.each((function(){w.dequeue(this,e)}))},clearQueue:function(e){return this.queue(e||"fx",[])},promise:function(e,t){var n,r=1,o=w.Deferred(),i=this,a=this.length,l=function(){--r||o.resolveWith(i,[i])};for("string"!=typeof e&&(t=e,e=void 0),e=e||"fx";a--;)(n=Y.get(i[a],e+"queueHooks"))&&n.empty&&(r++,n.empty.add(l));return l(),o.promise(t)}});var ee=/[+-]?(?:\d*\.|)\d+(?:[eE][+-]?\d+|)/.source,te=new RegExp("^(?:([+-])=|)("+ee+")([a-z%]*)$","i"),ne=["Top","Right","Bottom","Left"],re=v.documentElement,oe=function(e){return w.contains(e.ownerDocument,e)},ie={composed:!0};re.getRootNode&&(oe=function(e){return w.contains(e.ownerDocument,e)||e.getRootNode(ie)===e.ownerDocument});var ae=function(e,t){return"none"===(e=t||e).style.display||""===e.style.display&&oe(e)&&"none"===w.css(e,"display")},le={};function ue(e){var t,n=e.ownerDocument,r=e.nodeName,o=le[r];return o||(t=n.body.appendChild(n.createElement(r)),o=w.css(t,"display"),t.parentNode.removeChild(t),"none"===o&&(o="block"),le[r]=o,o)}function se(e,t){for(var n,r,o=[],i=0,a=e.length;i<a;i++)(r=e[i]).style&&(n=r.style.display,t?("none"===n&&(o[i]=Y.get(r,"display")||null,o[i]||(r.style.display="")),""===r.style.display&&ae(r)&&(o[i]=ue(r))):"none"!==n&&(o[i]="none",Y.set(r,"display",n)));for(i=0;i<a;i++)null!=o[i]&&(e[i].style.display=o[i]);return e}w.fn.extend({show:function(){return se(this,!0)},hide:function(){return se(this)},toggle:function(e){return"boolean"==typeof e?e?this.show():this.hide():this.each((function(){ae(this)?w(this).show():w(this).hide()}))}});var ce,fe,de=/^(?:checkbox|radio)$/i,pe=/<([a-z][^\/\0>\x20\t\r\n\f]*)/i,he=/^$|^module$|\/(?:java|ecma)script/i;ce=v.createDocumentFragment().appendChild(v.createElement("div")),(fe=v.createElement("input")).setAttribute("type","radio"),fe.setAttribute("checked","checked"),fe.setAttribute("name","t"),ce.appendChild(fe),p.checkClone=ce.cloneNode(!0).cloneNode(!0).lastChild.checked,ce.innerHTML="<textarea>x</textarea>",p.noCloneChecked=!!ce.cloneNode(!0).lastChild.defaultValue,ce.innerHTML="<option></option>",p.option=!!ce.lastChild;var me={thead:[1,"<table>","</table>"],col:[2,"<table><colgroup>","</colgroup></table>"],tr:[2,"<table><tbody>","</tbody></table>"],td:[3,"<table><tbody><tr>","</tr></tbody></table>"],_default:[0,"",""]};function ve(e,t){var n;return n=void 0!==e.getElementsByTagName?e.getElementsByTagName(t||"*"):void 0!==e.querySelectorAll?e.querySelectorAll(t||"*"):[],void 0===t||t&&A(e,t)?w.merge([e],n):n}function ge(e,t){for(var n=0,r=e.length;n<r;n++)Y.set(e[n],"globalEval",!t||Y.get(t[n],"globalEval"))}me.tbody=me.tfoot=me.colgroup=me.caption=me.thead,me.th=me.td,p.option||(me.optgroup=me.option=[1,"<select multiple='multiple'>","</select>"]);var ye=/<|&#?\w+;/;function be(e,t,n,r,o){for(var i,a,l,u,s,c,f=t.createDocumentFragment(),d=[],p=0,h=e.length;p<h;p++)if((i=e[p])||0===i)if("object"===b(i))w.merge(d,i.nodeType?[i]:i);else if(ye.test(i)){for(a=a||f.appendChild(t.createElement("div")),l=(pe.exec(i)||["",""])[1].toLowerCase(),a.innerHTML=(u=me[l]||me._default)[1]+w.htmlPrefilter(i)+u[2],c=u[0];c--;)a=a.lastChild;w.merge(d,a.childNodes),(a=f.firstChild).textContent=""}else d.push(t.createTextNode(i));for(f.textContent="",p=0;i=d[p++];)if(r&&w.inArray(i,r)>-1)o&&o.push(i);else if(s=oe(i),a=ve(f.appendChild(i),"script"),s&&ge(a),n)for(c=0;i=a[c++];)he.test(i.type||"")&&n.push(i);return f}var xe=/^key/,we=/^(?:mouse|pointer|contextmenu|drag|drop)|click/,Te=/^([^.]*)(?:\.(.+)|)/;function Ee(){return!0}function Ce(){return!1}function Le(e,t){return e===function(){try{return v.activeElement}catch(e){}}()==("focus"===t)}function Me(e,t,n,r,o,i){var a,l;if("object"==typeof t){for(l in"string"!=typeof n&&(r=r||n,n=void 0),t)Me(e,l,n,r,t[l],i);return e}if(null==r&&null==o?(o=n,r=n=void 0):null==o&&("string"==typeof n?(o=r,r=void 0):(o=r,r=n,n=void 0)),!1===o)o=Ce;else if(!o)return e;return 1===i&&(a=o,(o=function(e){return w().off(e),a.apply(this,arguments)}).guid=a.guid||(a.guid=w.guid++)),e.each((function(){w.event.add(this,t,o,r,n)}))}function Ae(e,t,n){n?(Y.set(e,t,!1),w.event.add(e,t,{namespace:!1,handler:function(e){var r,i,a=Y.get(this,t);if(1&e.isTrigger&&this[t]){if(a.length)(w.event.special[t]||{}).delegateType&&e.stopPropagation();else if(a=o.call(arguments),Y.set(this,t,a),r=n(this,t),this[t](),a!==(i=Y.get(this,t))||r?Y.set(this,t,!1):i={},a!==i)return e.stopImmediatePropagation(),e.preventDefault(),i.value}else a.length&&(Y.set(this,t,{value:w.event.trigger(w.extend(a[0],w.Event.prototype),a.slice(1),this)}),e.stopImmediatePropagation())}})):void 0===Y.get(e,t)&&w.event.add(e,t,Ee)}w.event={global:{},add:function(e,t,n,r,o){var i,a,l,u,s,c,f,d,p,h,m,v=Y.get(e);if(X(e))for(n.handler&&(n=(i=n).handler,o=i.selector),o&&w.find.matchesSelector(re,o),n.guid||(n.guid=w.guid++),(u=v.events)||(u=v.events=Object.create(null)),(a=v.handle)||(a=v.handle=function(t){return void 0!==w&&w.event.triggered!==t.type?w.event.dispatch.apply(e,arguments):void 0}),s=(t=(t||"").match(P)||[""]).length;s--;)p=m=(l=Te.exec(t[s])||[])[1],h=(l[2]||"").split(".").sort(),p&&(f=w.event.special[p]||{},f=w.event.special[p=(o?f.delegateType:f.bindType)||p]||{},c=w.extend({type:p,origType:m,data:r,handler:n,guid:n.guid,selector:o,needsContext:o&&w.expr.match.needsContext.test(o),namespace:h.join(".")},i),(d=u[p])||((d=u[p]=[]).delegateCount=0,f.setup&&!1!==f.setup.call(e,r,h,a)||e.addEventListener&&e.addEventListener(p,a)),f.add&&(f.add.call(e,c),c.handler.guid||(c.handler.guid=n.guid)),o?d.splice(d.delegateCount++,0,c):d.push(c),w.event.global[p]=!0)},remove:function(e,t,n,r,o){var i,a,l,u,s,c,f,d,p,h,m,v=Y.hasData(e)&&Y.get(e);if(v&&(u=v.events)){for(s=(t=(t||"").match(P)||[""]).length;s--;)if(p=m=(l=Te.exec(t[s])||[])[1],h=(l[2]||"").split(".").sort(),p){for(f=w.event.special[p]||{},d=u[p=(r?f.delegateType:f.bindType)||p]||[],l=l[2]&&new RegExp("(^|\\.)"+h.join("\\.(?:.*\\.|)")+"(\\.|$)"),a=i=d.length;i--;)c=d[i],!o&&m!==c.origType||n&&n.guid!==c.guid||l&&!l.test(c.namespace)||r&&r!==c.selector&&("**"!==r||!c.selector)||(d.splice(i,1),c.selector&&d.delegateCount--,f.remove&&f.remove.call(e,c));a&&!d.length&&(f.teardown&&!1!==f.teardown.call(e,h,v.handle)||w.removeEvent(e,p,v.handle),delete u[p])}else for(p in u)w.event.remove(e,p+t[s],n,r,!0);w.isEmptyObject(u)&&Y.remove(e,"handle events")}},dispatch:function(e){var t,n,r,o,i,a,l=new Array(arguments.length),u=w.event.fix(e),s=(Y.get(this,"events")||Object.create(null))[u.type]||[],c=w.event.special[u.type]||{};for(l[0]=u,t=1;t<arguments.length;t++)l[t]=arguments[t];if(u.delegateTarget=this,!c.preDispatch||!1!==c.preDispatch.call(this,u)){for(a=w.event.handlers.call(this,u,s),t=0;(o=a[t++])&&!u.isPropagationStopped();)for(u.currentTarget=o.elem,n=0;(i=o.handlers[n++])&&!u.isImmediatePropagationStopped();)u.rnamespace&&!1!==i.namespace&&!u.rnamespace.test(i.namespace)||(u.handleObj=i,u.data=i.data,void 0!==(r=((w.event.special[i.origType]||{}).handle||i.handler).apply(o.elem,l))&&!1===(u.result=r)&&(u.preventDefault(),u.stopPropagation()));return c.postDispatch&&c.postDispatch.call(this,u),u.result}},handlers:function(e,t){var n,r,o,i,a,l=[],u=t.delegateCount,s=e.target;if(u&&s.nodeType&&!("click"===e.type&&e.button>=1))for(;s!==this;s=s.parentNode||this)if(1===s.nodeType&&("click"!==e.type||!0!==s.disabled)){for(i=[],a={},n=0;n<u;n++)void 0===a[o=(r=t[n]).selector+" "]&&(a[o]=r.needsContext?w(o,this).index(s)>-1:w.find(o,this,null,[s]).length),a[o]&&i.push(r);i.length&&l.push({elem:s,handlers:i})}return s=this,u<t.length&&l.push({elem:s,handlers:t.slice(u)}),l},addProp:function(e,t){Object.defineProperty(w.Event.prototype,e,{enumerable:!0,configurable:!0,get:h(t)?function(){if(this.originalEvent)return t(this.originalEvent)}:function(){if(this.originalEvent)return this.originalEvent[e]},set:function(t){Object.defineProperty(this,e,{enumerable:!0,configurable:!0,writable:!0,value:t})}})},fix:function(e){return e[w.expando]?e:new w.Event(e)},special:{load:{noBubble:!0},click:{setup:function(e){var t=this||e;return de.test(t.type)&&t.click&&A(t,"input")&&Ae(t,"click",Ee),!1},trigger:function(e){var t=this||e;return de.test(t.type)&&t.click&&A(t,"input")&&Ae(t,"click"),!0},_default:function(e){var t=e.target;return de.test(t.type)&&t.click&&A(t,"input")&&Y.get(t,"click")||A(t,"a")}},beforeunload:{postDispatch:function(e){void 0!==e.result&&e.originalEvent&&(e.originalEvent.returnValue=e.result)}}}},w.removeEvent=function(e,t,n){e.removeEventListener&&e.removeEventListener(t,n)},w.Event=function(e,t){if(!(this instanceof w.Event))return new w.Event(e,t);e&&e.type?(this.originalEvent=e,this.type=e.type,this.isDefaultPrevented=e.defaultPrevented||void 0===e.defaultPrevented&&!1===e.returnValue?Ee:Ce,this.target=e.target&&3===e.target.nodeType?e.target.parentNode:e.target,this.currentTarget=e.currentTarget,this.relatedTarget=e.relatedTarget):this.type=e,t&&w.extend(this,t),this.timeStamp=e&&e.timeStamp||Date.now(),this[w.expando]=!0},w.Event.prototype={constructor:w.Event,isDefaultPrevented:Ce,isPropagationStopped:Ce,isImmediatePropagationStopped:Ce,isSimulated:!1,preventDefault:function(){var e=this.originalEvent;this.isDefaultPrevented=Ee,e&&!this.isSimulated&&e.preventDefault()},stopPropagation:function(){var e=this.originalEvent;this.isPropagationStopped=Ee,e&&!this.isSimulated&&e.stopPropagation()},stopImmediatePropagation:function(){var e=this.originalEvent;this.isImmediatePropagationStopped=Ee,e&&!this.isSimulated&&e.stopImmediatePropagation(),this.stopPropagation()}},w.each({altKey:!0,bubbles:!0,cancelable:!0,changedTouches:!0,ctrlKey:!0,detail:!0,eventPhase:!0,metaKey:!0,pageX:!0,pageY:!0,shiftKey:!0,view:!0,char:!0,code:!0,charCode:!0,key:!0,keyCode:!0,button:!0,buttons:!0,clientX:!0,clientY:!0,offsetX:!0,offsetY:!0,pointerId:!0,pointerType:!0,screenX:!0,screenY:!0,targetTouches:!0,toElement:!0,touches:!0,which:function(e){var t=e.button;return null==e.which&&xe.test(e.type)?null!=e.charCode?e.charCode:e.keyCode:!e.which&&void 0!==t&&we.test(e.type)?1&t?1:2&t?3:4&t?2:0:e.which}},w.event.addProp),w.each({focus:"focusin",blur:"focusout"},(function(e,t){w.event.special[e]={setup:function(){return Ae(this,e,Le),!1},trigger:function(){return Ae(this,e),!0},delegateType:t}})),w.each({mouseenter:"mouseover",mouseleave:"mouseout",pointerenter:"pointerover",pointerleave:"pointerout"},(function(e,t){w.event.special[e]={delegateType:t,bindType:t,handle:function(e){var n,r=this,o=e.relatedTarget,i=e.handleObj;return o&&(o===r||w.contains(r,o))||(e.type=i.origType,n=i.handler.apply(this,arguments),e.type=t),n}}})),w.fn.extend({on:function(e,t,n,r){return Me(this,e,t,n,r)},one:function(e,t,n,r){return Me(this,e,t,n,r,1)},off:function(e,t,n){var r,o;if(e&&e.preventDefault&&e.handleObj)return r=e.handleObj,w(e.delegateTarget).off(r.namespace?r.origType+"."+r.namespace:r.origType,r.selector,r.handler),this;if("object"==typeof e){for(o in e)this.off(o,t,e[o]);return this}return!1!==t&&"function"!=typeof t||(n=t,t=void 0),!1===n&&(n=Ce),this.each((function(){w.event.remove(this,e,n,t)}))}});var He=/<script|<style|<link/i,Ne=/checked\s*(?:[^=]|=\s*.checked.)/i,ke=/^\s*<!(?:\[CDATA\[|--)|(?:\]\]|--)>\s*$/g;function Se(e,t){return A(e,"table")&&A(11!==t.nodeType?t:t.firstChild,"tr")&&w(e).children("tbody")[0]||e}function De(e){return e.type=(null!==e.getAttribute("type"))+"/"+e.type,e}function Oe(e){return"true/"===(e.type||"").slice(0,5)?e.type=e.type.slice(5):e.removeAttribute("type"),e}function je(e,t){var n,r,o,i,a,l;if(1===t.nodeType){if(Y.hasData(e)&&(l=Y.get(e).events))for(o in Y.remove(t,"handle events"),l)for(n=0,r=l[o].length;n<r;n++)w.event.add(t,o,l[o][n]);G.hasData(e)&&(i=G.access(e),a=w.extend({},i),G.set(t,a))}}function Pe(e,t){var n=t.nodeName.toLowerCase();"input"===n&&de.test(e.type)?t.checked=e.checked:"input"!==n&&"textarea"!==n||(t.defaultValue=e.defaultValue)}function qe(e,t,n,r){t=i(t);var o,a,l,u,s,c,f=0,d=e.length,m=d-1,v=t[0],g=h(v);if(g||d>1&&"string"==typeof v&&!p.checkClone&&Ne.test(v))return e.each((function(o){var i=e.eq(o);g&&(t[0]=v.call(this,o,i.html())),qe(i,t,n,r)}));if(d&&(a=(o=be(t,e[0].ownerDocument,!1,e,r)).firstChild,1===o.childNodes.length&&(o=a),a||r)){for(u=(l=w.map(ve(o,"script"),De)).length;f<d;f++)s=o,f!==m&&(s=w.clone(s,!0,!0),u&&w.merge(l,ve(s,"script"))),n.call(e[f],s,f);if(u)for(c=l[l.length-1].ownerDocument,w.map(l,Oe),f=0;f<u;f++)he.test((s=l[f]).type||"")&&!Y.access(s,"globalEval")&&w.contains(c,s)&&(s.src&&"module"!==(s.type||"").toLowerCase()?w._evalUrl&&!s.noModule&&w._evalUrl(s.src,{nonce:s.nonce||s.getAttribute("nonce")},c):y(s.textContent.replace(ke,""),s,c))}return e}function Ie(e,t,n){for(var r,o=t?w.filter(t,e):e,i=0;null!=(r=o[i]);i++)n||1!==r.nodeType||w.cleanData(ve(r)),r.parentNode&&(n&&oe(r)&&ge(ve(r,"script")),r.parentNode.removeChild(r));return e}w.extend({htmlPrefilter:function(e){return e},clone:function(e,t,n){var r,o,i,a,l=e.cloneNode(!0),u=oe(e);if(!(p.noCloneChecked||1!==e.nodeType&&11!==e.nodeType||w.isXMLDoc(e)))for(a=ve(l),r=0,o=(i=ve(e)).length;r<o;r++)Pe(i[r],a[r]);if(t)if(n)for(i=i||ve(e),a=a||ve(l),r=0,o=i.length;r<o;r++)je(i[r],a[r]);else je(e,l);return(a=ve(l,"script")).length>0&&ge(a,!u&&ve(e,"script")),l},cleanData:function(e){for(var t,n,r,o=w.event.special,i=0;void 0!==(n=e[i]);i++)if(X(n)){if(t=n[Y.expando]){if(t.events)for(r in t.events)o[r]?w.event.remove(n,r):w.removeEvent(n,r,t.handle);n[Y.expando]=void 0}n[G.expando]&&(n[G.expando]=void 0)}}}),w.fn.extend({detach:function(e){return Ie(this,e,!0)},remove:function(e){return Ie(this,e)},text:function(e){return V(this,(function(e){return void 0===e?w.text(this):this.empty().each((function(){1!==this.nodeType&&11!==this.nodeType&&9!==this.nodeType||(this.textContent=e)}))}),null,e,arguments.length)},append:function(){return qe(this,arguments,(function(e){1!==this.nodeType&&11!==this.nodeType&&9!==this.nodeType||Se(this,e).appendChild(e)}))},prepend:function(){return qe(this,arguments,(function(e){if(1===this.nodeType||11===this.nodeType||9===this.nodeType){var t=Se(this,e);t.insertBefore(e,t.firstChild)}}))},before:function(){return qe(this,arguments,(function(e){this.parentNode&&this.parentNode.insertBefore(e,this)}))},after:function(){return qe(this,arguments,(function(e){this.parentNode&&this.parentNode.insertBefore(e,this.nextSibling)}))},empty:function(){for(var e,t=0;null!=(e=this[t]);t++)1===e.nodeType&&(w.cleanData(ve(e,!1)),e.textContent="");return this},clone:function(e,t){return e=null!=e&&e,t=null==t?e:t,this.map((function(){return w.clone(this,e,t)}))},html:function(e){return V(this,(function(e){var t=this[0]||{},n=0,r=this.length;if(void 0===e&&1===t.nodeType)return t.innerHTML;if("string"==typeof e&&!He.test(e)&&!me[(pe.exec(e)||["",""])[1].toLowerCase()]){e=w.htmlPrefilter(e);try{for(;n<r;n++)1===(t=this[n]||{}).nodeType&&(w.cleanData(ve(t,!1)),t.innerHTML=e);t=0}catch(o){}}t&&this.empty().append(e)}),null,e,arguments.length)},replaceWith:function(){var e=[];return qe(this,arguments,(function(t){var n=this.parentNode;w.inArray(this,e)<0&&(w.cleanData(ve(this)),n&&n.replaceChild(t,this))}),e)}}),w.each({appendTo:"append",prependTo:"prepend",insertBefore:"before",insertAfter:"after",replaceAll:"replaceWith"},(function(e,t){w.fn[e]=function(e){for(var n,r=[],o=w(e),i=o.length-1,l=0;l<=i;l++)n=l===i?this:this.clone(!0),w(o[l])[t](n),a.apply(r,n.get());return this.pushStack(r)}}));var Re=new RegExp("^("+ee+")(?!px)[a-z%]+$","i"),Be=function(t){var n=t.ownerDocument.defaultView;return n&&n.opener||(n=e),n.getComputedStyle(t)},Fe=function(e,t,n){var r,o,i={};for(o in t)i[o]=e.style[o],e.style[o]=t[o];for(o in r=n.call(e),t)e.style[o]=i[o];return r},ze=new RegExp(ne.join("|"),"i");function Ve(e,t,n){var r,o,i,a,l=e.style;return(n=n||Be(e))&&(""!==(a=n.getPropertyValue(t)||n[t])||oe(e)||(a=w.style(e,t)),!p.pixelBoxStyles()&&Re.test(a)&&ze.test(t)&&(r=l.width,o=l.minWidth,i=l.maxWidth,l.minWidth=l.maxWidth=l.width=a,a=n.width,l.width=r,l.minWidth=o,l.maxWidth=i)),void 0!==a?a+"":a}function We(e,t){return{get:function(){if(!e())return(this.get=t).apply(this,arguments);delete this.get}}}!function(){function t(){if(c){s.style.cssText="position:absolute;left:-11111px;width:60px;margin-top:1px;padding:0;border:0",c.style.cssText="position:relative;display:block;box-sizing:border-box;overflow:scroll;margin:auto;border:1px;padding:1px;width:60%;top:1%",re.appendChild(s).appendChild(c);var t=e.getComputedStyle(c);r="1%"!==t.top,u=12===n(t.marginLeft),c.style.right="60%",a=36===n(t.right),o=36===n(t.width),c.style.position="absolute",i=12===n(c.offsetWidth/3),re.removeChild(s),c=null}}function n(e){return Math.round(parseFloat(e))}var r,o,i,a,l,u,s=v.createElement("div"),c=v.createElement("div");c.style&&(c.style.backgroundClip="content-box",c.cloneNode(!0).style.backgroundClip="",p.clearCloneStyle="content-box"===c.style.backgroundClip,w.extend(p,{boxSizingReliable:function(){return t(),o},pixelBoxStyles:function(){return t(),a},pixelPosition:function(){return t(),r},reliableMarginLeft:function(){return t(),u},scrollboxSize:function(){return t(),i},reliableTrDimensions:function(){var t,n,r,o;return null==l&&(t=v.createElement("table"),n=v.createElement("tr"),r=v.createElement("div"),t.style.cssText="position:absolute;left:-11111px",n.style.height="1px",r.style.height="9px",re.appendChild(t).appendChild(n).appendChild(r),o=e.getComputedStyle(n),l=parseInt(o.height)>3,re.removeChild(t)),l}}))}();var $e=["Webkit","Moz","ms"],_e=v.createElement("div").style,Ue={};function Xe(e){return w.cssProps[e]||Ue[e]||(e in _e?e:Ue[e]=function(e){for(var t=e[0].toUpperCase()+e.slice(1),n=$e.length;n--;)if((e=$e[n]+t)in _e)return e}(e)||e)}var Qe=/^(none|table(?!-c[ea]).+)/,Ye=/^--/,Ge={position:"absolute",visibility:"hidden",display:"block"},Ke={letterSpacing:"0",fontWeight:"400"};function Ze(e,t,n){var r=te.exec(t);return r?Math.max(0,r[2]-(n||0))+(r[3]||"px"):t}function Je(e,t,n,r,o,i){var a="width"===t?1:0,l=0,u=0;if(n===(r?"border":"content"))return 0;for(;a<4;a+=2)"margin"===n&&(u+=w.css(e,n+ne[a],!0,o)),r?("content"===n&&(u-=w.css(e,"padding"+ne[a],!0,o)),"margin"!==n&&(u-=w.css(e,"border"+ne[a]+"Width",!0,o))):(u+=w.css(e,"padding"+ne[a],!0,o),"padding"!==n?u+=w.css(e,"border"+ne[a]+"Width",!0,o):l+=w.css(e,"border"+ne[a]+"Width",!0,o));return!r&&i>=0&&(u+=Math.max(0,Math.ceil(e["offset"+t[0].toUpperCase()+t.slice(1)]-i-u-l-.5))||0),u}function et(e,t,n){var r=Be(e),o=(!p.boxSizingReliable()||n)&&"border-box"===w.css(e,"boxSizing",!1,r),i=o,a=Ve(e,t,r),l="offset"+t[0].toUpperCase()+t.slice(1);if(Re.test(a)){if(!n)return a;a="auto"}return(!p.boxSizingReliable()&&o||!p.reliableTrDimensions()&&A(e,"tr")||"auto"===a||!parseFloat(a)&&"inline"===w.css(e,"display",!1,r))&&e.getClientRects().length&&(o="border-box"===w.css(e,"boxSizing",!1,r),(i=l in e)&&(a=e[l])),(a=parseFloat(a)||0)+Je(e,t,n||(o?"border":"content"),i,r,a)+"px"}w.extend({cssHooks:{opacity:{get:function(e,t){if(t){var n=Ve(e,"opacity");return""===n?"1":n}}}},cssNumber:{animationIterationCount:!0,columnCount:!0,fillOpacity:!0,flexGrow:!0,flexShrink:!0,fontWeight:!0,gridArea:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnStart:!0,gridRow:!0,gridRowEnd:!0,gridRowStart:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,widows:!0,zIndex:!0,zoom:!0},cssProps:{},style:function(e,t,n,r){if(e&&3!==e.nodeType&&8!==e.nodeType&&e.style){var o,i,a,l=U(t),u=Ye.test(t),s=e.style;if(u||(t=Xe(l)),a=w.cssHooks[t]||w.cssHooks[l],void 0===n)return a&&"get"in a&&void 0!==(o=a.get(e,!1,r))?o:s[t];"string"==(i=typeof n)&&(o=te.exec(n))&&o[1]&&(n=function(e,t,n,r){var o,i,a=20,l=function(){return w.css(e,t,"")},u=l(),s=n&&n[3]||(w.cssNumber[t]?"":"px"),c=e.nodeType&&(w.cssNumber[t]||"px"!==s&&+u)&&te.exec(w.css(e,t));if(c&&c[3]!==s){for(s=s||c[3],c=+(u/=2)||1;a--;)w.style(e,t,c+s),(1-i)*(1-(i=l()/u||.5))<=0&&(a=0),c/=i;w.style(e,t,(c*=2)+s),n=n||[]}return n&&(c=+c||+u||0,o=n[1]?c+(n[1]+1)*n[2]:+n[2]),o}(e,t,o),i="number"),null!=n&&n==n&&("number"!==i||u||(n+=o&&o[3]||(w.cssNumber[l]?"":"px")),p.clearCloneStyle||""!==n||0!==t.indexOf("background")||(s[t]="inherit"),a&&"set"in a&&void 0===(n=a.set(e,n,r))||(u?s.setProperty(t,n):s[t]=n))}},css:function(e,t,n,r){var o,i,a,l=U(t);return Ye.test(t)||(t=Xe(l)),(a=w.cssHooks[t]||w.cssHooks[l])&&"get"in a&&(o=a.get(e,!0,n)),void 0===o&&(o=Ve(e,t,r)),"normal"===o&&t in Ke&&(o=Ke[t]),""===n||n?(i=parseFloat(o),!0===n||isFinite(i)?i||0:o):o}}),w.each(["height","width"],(function(e,t){w.cssHooks[t]={get:function(e,n,r){if(n)return!Qe.test(w.css(e,"display"))||e.getClientRects().length&&e.getBoundingClientRect().width?et(e,t,r):Fe(e,Ge,(function(){return et(e,t,r)}))},set:function(e,n,r){var o,i=Be(e),a=!p.scrollboxSize()&&"absolute"===i.position,l=(a||r)&&"border-box"===w.css(e,"boxSizing",!1,i),u=r?Je(e,t,r,l,i):0;return l&&a&&(u-=Math.ceil(e["offset"+t[0].toUpperCase()+t.slice(1)]-parseFloat(i[t])-Je(e,t,"border",!1,i)-.5)),u&&(o=te.exec(n))&&"px"!==(o[3]||"px")&&(e.style[t]=n,n=w.css(e,t)),Ze(0,n,u)}}})),w.cssHooks.marginLeft=We(p.reliableMarginLeft,(function(e,t){if(t)return(parseFloat(Ve(e,"marginLeft"))||e.getBoundingClientRect().left-Fe(e,{marginLeft:0},(function(){return e.getBoundingClientRect().left})))+"px"})),w.each({margin:"",padding:"",border:"Width"},(function(e,t){w.cssHooks[e+t]={expand:function(n){for(var r=0,o={},i="string"==typeof n?n.split(" "):[n];r<4;r++)o[e+ne[r]+t]=i[r]||i[r-2]||i[0];return o}},"margin"!==e&&(w.cssHooks[e+t].set=Ze)})),w.fn.extend({css:function(e,t){return V(this,(function(e,t,n){var r,o,i={},a=0;if(Array.isArray(t)){for(r=Be(e),o=t.length;a<o;a++)i[t[a]]=w.css(e,t[a],!1,r);return i}return void 0!==n?w.style(e,t,n):w.css(e,t)}),e,t,arguments.length>1)}}),w.fn.delay=function(t,n){return t=w.fx&&w.fx.speeds[t]||t,this.queue(n=n||"fx",(function(n,r){var o=e.setTimeout(n,t);r.stop=function(){e.clearTimeout(o)}}))},function(){var e=v.createElement("input"),t=v.createElement("select").appendChild(v.createElement("option"));e.type="checkbox",p.checkOn=""!==e.value,p.optSelected=t.selected,(e=v.createElement("input")).value="t",e.type="radio",p.radioValue="t"===e.value}();var tt,nt=w.expr.attrHandle;w.fn.extend({attr:function(e,t){return V(this,w.attr,e,t,arguments.length>1)},removeAttr:function(e){return this.each((function(){w.removeAttr(this,e)}))}}),w.extend({attr:function(e,t,n){var r,o,i=e.nodeType;if(3!==i&&8!==i&&2!==i)return void 0===e.getAttribute?w.prop(e,t,n):(1===i&&w.isXMLDoc(e)||(o=w.attrHooks[t.toLowerCase()]||(w.expr.match.bool.test(t)?tt:void 0)),void 0!==n?null===n?void w.removeAttr(e,t):o&&"set"in o&&void 0!==(r=o.set(e,n,t))?r:(e.setAttribute(t,n+""),n):o&&"get"in o&&null!==(r=o.get(e,t))?r:null==(r=w.find.attr(e,t))?void 0:r)},attrHooks:{type:{set:function(e,t){if(!p.radioValue&&"radio"===t&&A(e,"input")){var n=e.value;return e.setAttribute("type",t),n&&(e.value=n),t}}}},removeAttr:function(e,t){var n,r=0,o=t&&t.match(P);if(o&&1===e.nodeType)for(;n=o[r++];)e.removeAttribute(n)}}),tt={set:function(e,t,n){return!1===t?w.removeAttr(e,n):e.setAttribute(n,n),n}},w.each(w.expr.match.bool.source.match(/\w+/g),(function(e,t){var n=nt[t]||w.find.attr;nt[t]=function(e,t,r){var o,i,a=t.toLowerCase();return r||(i=nt[a],nt[a]=o,o=null!=n(e,t,r)?a:null,nt[a]=i),o}}));var rt=/^(?:input|select|textarea|button)$/i,ot=/^(?:a|area)$/i;function it(e){return(e.match(P)||[]).join(" ")}function at(e){return e.getAttribute&&e.getAttribute("class")||""}function lt(e){return Array.isArray(e)?e:"string"==typeof e&&e.match(P)||[]}w.fn.extend({prop:function(e,t){return V(this,w.prop,e,t,arguments.length>1)},removeProp:function(e){return this.each((function(){delete this[w.propFix[e]||e]}))}}),w.extend({prop:function(e,t,n){var r,o,i=e.nodeType;if(3!==i&&8!==i&&2!==i)return 1===i&&w.isXMLDoc(e)||(o=w.propHooks[t=w.propFix[t]||t]),void 0!==n?o&&"set"in o&&void 0!==(r=o.set(e,n,t))?r:e[t]=n:o&&"get"in o&&null!==(r=o.get(e,t))?r:e[t]},propHooks:{tabIndex:{get:function(e){var t=w.find.attr(e,"tabindex");return t?parseInt(t,10):rt.test(e.nodeName)||ot.test(e.nodeName)&&e.href?0:-1}}},propFix:{for:"htmlFor",class:"className"}}),p.optSelected||(w.propHooks.selected={get:function(e){return null},set:function(e){}}),w.each(["tabIndex","readOnly","maxLength","cellSpacing","cellPadding","rowSpan","colSpan","useMap","frameBorder","contentEditable"],(function(){w.propFix[this.toLowerCase()]=this})),w.fn.extend({addClass:function(e){var t,n,r,o,i,a,l,u=0;if(h(e))return this.each((function(t){w(this).addClass(e.call(this,t,at(this)))}));if((t=lt(e)).length)for(;n=this[u++];)if(o=at(n),r=1===n.nodeType&&" "+it(o)+" "){for(a=0;i=t[a++];)r.indexOf(" "+i+" ")<0&&(r+=i+" ");o!==(l=it(r))&&n.setAttribute("class",l)}return this},removeClass:function(e){var t,n,r,o,i,a,l,u=0;if(h(e))return this.each((function(t){w(this).removeClass(e.call(this,t,at(this)))}));if(!arguments.length)return this.attr("class","");if((t=lt(e)).length)for(;n=this[u++];)if(o=at(n),r=1===n.nodeType&&" "+it(o)+" "){for(a=0;i=t[a++];)for(;r.indexOf(" "+i+" ")>-1;)r=r.replace(" "+i+" "," ");o!==(l=it(r))&&n.setAttribute("class",l)}return this},toggleClass:function(e,t){var n=typeof e,r="string"===n||Array.isArray(e);return"boolean"==typeof t&&r?t?this.addClass(e):this.removeClass(e):h(e)?this.each((function(n){w(this).toggleClass(e.call(this,n,at(this),t),t)})):this.each((function(){var t,o,i,a;if(r)for(o=0,i=w(this),a=lt(e);t=a[o++];)i.hasClass(t)?i.removeClass(t):i.addClass(t);else void 0!==e&&"boolean"!==n||((t=at(this))&&Y.set(this,"__className__",t),this.setAttribute&&this.setAttribute("class",t||!1===e?"":Y.get(this,"__className__")||""))}))},hasClass:function(e){var t,n,r=0;for(t=" "+e+" ";n=this[r++];)if(1===n.nodeType&&(" "+it(at(n))+" ").indexOf(t)>-1)return!0;return!1}});var ut=/\r/g;w.fn.extend({val:function(e){var t,n,r,o=this[0];return arguments.length?(r=h(e),this.each((function(n){var o;1===this.nodeType&&(null==(o=r?e.call(this,n,w(this).val()):e)?o="":"number"==typeof o?o+="":Array.isArray(o)&&(o=w.map(o,(function(e){return null==e?"":e+""}))),(t=w.valHooks[this.type]||w.valHooks[this.nodeName.toLowerCase()])&&"set"in t&&void 0!==t.set(this,o,"value")||(this.value=o))}))):o?(t=w.valHooks[o.type]||w.valHooks[o.nodeName.toLowerCase()])&&"get"in t&&void 0!==(n=t.get(o,"value"))?n:"string"==typeof(n=o.value)?n.replace(ut,""):null==n?"":n:void 0}}),w.extend({valHooks:{option:{get:function(e){var t=w.find.attr(e,"value");return null!=t?t:it(w.text(e))}},select:{get:function(e){var t,n,r,o=e.options,i=e.selectedIndex,a="select-one"===e.type,l=a?null:[],u=a?i+1:o.length;for(r=i<0?u:a?i:0;r<u;r++)if(((n=o[r]).selected||r===i)&&!n.disabled&&(!n.parentNode.disabled||!A(n.parentNode,"optgroup"))){if(t=w(n).val(),a)return t;l.push(t)}return l},set:function(e,t){for(var n,r,o=e.options,i=w.makeArray(t),a=o.length;a--;)((r=o[a]).selected=w.inArray(w.valHooks.option.get(r),i)>-1)&&(n=!0);return n||(e.selectedIndex=-1),i}}}}),w.each(["radio","checkbox"],(function(){w.valHooks[this]={set:function(e,t){if(Array.isArray(t))return e.checked=w.inArray(w(e).val(),t)>-1}},p.checkOn||(w.valHooks[this].get=function(e){return null===e.getAttribute("value")?"on":e.value})})),p.focusin="onfocusin"in e;var st=/^(?:focusinfocus|focusoutblur)$/,ct=function(e){e.stopPropagation()};w.extend(w.event,{trigger:function(t,n,r,o){var i,a,l,u,s,f,d,p,g=[r||v],y=c.call(t,"type")?t.type:t,b=c.call(t,"namespace")?t.namespace.split("."):[];if(a=p=l=r=r||v,3!==r.nodeType&&8!==r.nodeType&&!st.test(y+w.event.triggered)&&(y.indexOf(".")>-1&&(b=y.split("."),y=b.shift(),b.sort()),s=y.indexOf(":")<0&&"on"+y,(t=t[w.expando]?t:new w.Event(y,"object"==typeof t&&t)).isTrigger=o?2:3,t.namespace=b.join("."),t.rnamespace=t.namespace?new RegExp("(^|\\.)"+b.join("\\.(?:.*\\.|)")+"(\\.|$)"):null,t.result=void 0,t.target||(t.target=r),n=null==n?[t]:w.makeArray(n,[t]),d=w.event.special[y]||{},o||!d.trigger||!1!==d.trigger.apply(r,n))){if(!o&&!d.noBubble&&!m(r)){for(st.test((u=d.delegateType||y)+y)||(a=a.parentNode);a;a=a.parentNode)g.push(a),l=a;l===(r.ownerDocument||v)&&g.push(l.defaultView||l.parentWindow||e)}for(i=0;(a=g[i++])&&!t.isPropagationStopped();)p=a,t.type=i>1?u:d.bindType||y,(f=(Y.get(a,"events")||Object.create(null))[t.type]&&Y.get(a,"handle"))&&f.apply(a,n),(f=s&&a[s])&&f.apply&&X(a)&&(t.result=f.apply(a,n),!1===t.result&&t.preventDefault());return t.type=y,o||t.isDefaultPrevented()||d._default&&!1!==d._default.apply(g.pop(),n)||!X(r)||s&&h(r[y])&&!m(r)&&((l=r[s])&&(r[s]=null),w.event.triggered=y,t.isPropagationStopped()&&p.addEventListener(y,ct),r[y](),t.isPropagationStopped()&&p.removeEventListener(y,ct),w.event.triggered=void 0,l&&(r[s]=l)),t.result}},simulate:function(e,t,n){var r=w.extend(new w.Event,n,{type:e,isSimulated:!0});w.event.trigger(r,null,t)}}),w.fn.extend({trigger:function(e,t){return this.each((function(){w.event.trigger(e,t,this)}))},triggerHandler:function(e,t){var n=this[0];if(n)return w.event.trigger(e,t,n,!0)}}),p.focusin||w.each({focus:"focusin",blur:"focusout"},(function(e,t){var n=function(e){w.event.simulate(t,e.target,w.event.fix(e))};w.event.special[t]={setup:function(){var r=this.ownerDocument||this.document||this,o=Y.access(r,t);o||r.addEventListener(e,n,!0),Y.access(r,t,(o||0)+1)},teardown:function(){var r=this.ownerDocument||this.document||this,o=Y.access(r,t)-1;o?Y.access(r,t,o):(r.removeEventListener(e,n,!0),Y.remove(r,t))}}})),w.parseXML=function(t){var n;if(!t||"string"!=typeof t)return null;try{n=(new e.DOMParser).parseFromString(t,"text/xml")}catch(r){n=void 0}return n&&!n.getElementsByTagName("parsererror").length||w.error("Invalid XML: "+t),n};var ft,dt=/\[\]$/,pt=/\r?\n/g,ht=/^(?:submit|button|image|reset|file)$/i,mt=/^(?:input|select|textarea|keygen)/i;function vt(e,t,n,r){var o;if(Array.isArray(t))w.each(t,(function(t,o){n||dt.test(e)?r(e,o):vt(e+"["+("object"==typeof o&&null!=o?t:"")+"]",o,n,r)}));else if(n||"object"!==b(t))r(e,t);else for(o in t)vt(e+"["+o+"]",t[o],n,r)}w.param=function(e,t){var n,r=[],o=function(e,t){var n=h(t)?t():t;r[r.length]=encodeURIComponent(e)+"="+encodeURIComponent(null==n?"":n)};if(null==e)return"";if(Array.isArray(e)||e.jquery&&!w.isPlainObject(e))w.each(e,(function(){o(this.name,this.value)}));else for(n in e)vt(n,e[n],t,o);return r.join("&")},w.fn.extend({serialize:function(){return w.param(this.serializeArray())},serializeArray:function(){return this.map((function(){var e=w.prop(this,"elements");return e?w.makeArray(e):this})).filter((function(){var e=this.type;return this.name&&!w(this).is(":disabled")&&mt.test(this.nodeName)&&!ht.test(e)&&(this.checked||!de.test(e))})).map((function(e,t){var n=w(this).val();return null==n?null:Array.isArray(n)?w.map(n,(function(e){return{name:t.name,value:e.replace(pt,"\r\n")}})):{name:t.name,value:n.replace(pt,"\r\n")}})).get()}}),w.fn.extend({wrapAll:function(e){var t;return this[0]&&(h(e)&&(e=e.call(this[0])),t=w(e,this[0].ownerDocument).eq(0).clone(!0),this[0].parentNode&&t.insertBefore(this[0]),t.map((function(){for(var e=this;e.firstElementChild;)e=e.firstElementChild;return e})).append(this)),this},wrapInner:function(e){return h(e)?this.each((function(t){w(this).wrapInner(e.call(this,t))})):this.each((function(){var t=w(this),n=t.contents();n.length?n.wrapAll(e):t.append(e)}))},wrap:function(e){var t=h(e);return this.each((function(n){w(this).wrapAll(t?e.call(this,n):e)}))},unwrap:function(e){return this.parent(e).not("body").each((function(){w(this).replaceWith(this.childNodes)})),this}}),w.expr.pseudos.hidden=function(e){return!w.expr.pseudos.visible(e)},w.expr.pseudos.visible=function(e){return!!(e.offsetWidth||e.offsetHeight||e.getClientRects().length)},p.createHTMLDocument=((ft=v.implementation.createHTMLDocument("").body).innerHTML="<form></form><form></form>",2===ft.childNodes.length),w.parseHTML=function(e,t,n){return"string"!=typeof e?[]:("boolean"==typeof t&&(n=t,t=!1),t||(p.createHTMLDocument?((r=(t=v.implementation.createHTMLDocument("")).createElement("base")).href=v.location.href,t.head.appendChild(r)):t=v),i=!n&&[],(o=H.exec(e))?[t.createElement(o[1])]:(o=be([e],t,i),i&&i.length&&w(i).remove(),w.merge([],o.childNodes)));var r,o,i},w.offset={setOffset:function(e,t,n){var r,o,i,a,l,u,s=w.css(e,"position"),c=w(e),f={};"static"===s&&(e.style.position="relative"),l=c.offset(),i=w.css(e,"top"),u=w.css(e,"left"),("absolute"===s||"fixed"===s)&&(i+u).indexOf("auto")>-1?(a=(r=c.position()).top,o=r.left):(a=parseFloat(i)||0,o=parseFloat(u)||0),h(t)&&(t=t.call(e,n,w.extend({},l))),null!=t.top&&(f.top=t.top-l.top+a),null!=t.left&&(f.left=t.left-l.left+o),"using"in t?t.using.call(e,f):("number"==typeof f.top&&(f.top+="px"),"number"==typeof f.left&&(f.left+="px"),c.css(f))}},w.fn.extend({offset:function(e){if(arguments.length)return void 0===e?this:this.each((function(t){w.offset.setOffset(this,e,t)}));var t,n,r=this[0];return r?r.getClientRects().length?{top:(t=r.getBoundingClientRect()).top+(n=r.ownerDocument.defaultView).pageYOffset,left:t.left+n.pageXOffset}:{top:0,left:0}:void 0},position:function(){if(this[0]){var e,t,n,r=this[0],o={top:0,left:0};if("fixed"===w.css(r,"position"))t=r.getBoundingClientRect();else{for(t=this.offset(),n=r.ownerDocument,e=r.offsetParent||n.documentElement;e&&(e===n.body||e===n.documentElement)&&"static"===w.css(e,"position");)e=e.parentNode;e&&e!==r&&1===e.nodeType&&((o=w(e).offset()).top+=w.css(e,"borderTopWidth",!0),o.left+=w.css(e,"borderLeftWidth",!0))}return{top:t.top-o.top-w.css(r,"marginTop",!0),left:t.left-o.left-w.css(r,"marginLeft",!0)}}},offsetParent:function(){return this.map((function(){for(var e=this.offsetParent;e&&"static"===w.css(e,"position");)e=e.offsetParent;return e||re}))}}),w.each({scrollLeft:"pageXOffset",scrollTop:"pageYOffset"},(function(e,t){var n="pageYOffset"===t;w.fn[e]=function(r){return V(this,(function(e,r,o){var i;if(m(e)?i=e:9===e.nodeType&&(i=e.defaultView),void 0===o)return i?i[t]:e[r];i?i.scrollTo(n?i.pageXOffset:o,n?o:i.pageYOffset):e[r]=o}),e,r,arguments.length)}})),w.each(["top","left"],(function(e,t){w.cssHooks[t]=We(p.pixelPosition,(function(e,n){if(n)return n=Ve(e,t),Re.test(n)?w(e).position()[t]+"px":n}))})),w.each({Height:"height",Width:"width"},(function(e,t){w.each({padding:"inner"+e,content:t,"":"outer"+e},(function(n,r){w.fn[r]=function(o,i){var a=arguments.length&&(n||"boolean"!=typeof o),l=n||(!0===o||!0===i?"margin":"border");return V(this,(function(t,n,o){var i;return m(t)?0===r.indexOf("outer")?t["inner"+e]:t.document.documentElement["client"+e]:9===t.nodeType?(i=t.documentElement,Math.max(t.body["scroll"+e],i["scroll"+e],t.body["offset"+e],i["offset"+e],i["client"+e])):void 0===o?w.css(t,n,l):w.style(t,n,o,l)}),t,a?o:void 0,a)}}))})),w.fn.extend({bind:function(e,t,n){return this.on(e,null,t,n)},unbind:function(e,t){return this.off(e,null,t)},delegate:function(e,t,n,r){return this.on(t,e,n,r)},undelegate:function(e,t,n){return 1===arguments.length?this.off(e,"**"):this.off(t,e||"**",n)},hover:function(e,t){return this.mouseenter(e).mouseleave(t||e)}}),w.each("blur focus focusin focusout resize scroll click dblclick mousedown mouseup mousemove mouseover mouseout mouseenter mouseleave change select submit keydown keypress keyup contextmenu".split(" "),(function(e,t){w.fn[t]=function(e,n){return arguments.length>0?this.on(t,null,e,n):this.trigger(t)}}));var gt=/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g;w.proxy=function(e,t){var n,r,i;if("string"==typeof t&&(n=e[t],t=e,e=n),h(e))return r=o.call(arguments,2),(i=function(){return e.apply(t||this,r.concat(o.call(arguments)))}).guid=e.guid=e.guid||w.guid++,i},w.holdReady=function(e){e?w.readyWait++:w.ready(!0)},w.isArray=Array.isArray,w.parseJSON=JSON.parse,w.nodeName=A,w.isFunction=h,w.isWindow=m,w.camelCase=U,w.type=b,w.now=Date.now,w.isNumeric=function(e){var t=w.type(e);return("number"===t||"string"===t)&&!isNaN(e-parseFloat(e))},w.trim=function(e){return null==e?"":(e+"").replace(gt,"")},"function"==typeof define&&define.amd&&define("jquery",[],(function(){return w}));var yt=e.jQuery,bt=e.$;return w.noConflict=function(t){return e.$===w&&(e.$=bt),t&&e.jQuery===w&&(e.jQuery=yt),w},void 0===t&&(e.jQuery=e.$=w),w})),setTimeout((function(){let e=document.createElement("div");e.style.display="none",e.innerHTML='<svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink"><symbol fill="none" viewBox="0 0 24 24" id="checked" xmlns="http://www.w3.org/2000/svg"><path d="M19 3H5c-1.1 0-2 .9-2 2v14c0 1.1.9 2 2 2h14c1.1 0 2-.9 2-2V5c0-1.1-.9-2-2-2zm-8.29 13.29a.996.996 0 01-1.41 0L5.71 12.7a.996.996 0 111.41-1.41L10 14.17l6.88-6.88a.996.996 0 111.41 1.41l-7.58 7.59z" fill="var(--theme-primary-color)"/></symbol><symbol fill="none" viewBox="0 0 32 32" id="delete" xmlns="http://www.w3.org/2000/svg"><rect opacity=".7" width="32" height="32" rx="2" fill="#000"/><path fill-rule="evenodd" clip-rule="evenodd" d="M22.707 9.293a1 1 0 010 1.414l-12 12a1 1 0 01-1.414-1.414l12-12a1 1 0 011.414 0z" fill="#fff"/><path fill-rule="evenodd" clip-rule="evenodd" d="M9.293 9.293a1 1 0 011.414 0l12 12a1 1 0 01-1.414 1.414l-12-12a1 1 0 010-1.414z" fill="#fff"/></symbol><symbol fill="none" viewBox="0 0 24 24" id="error" xmlns="http://www.w3.org/2000/svg"><path d="M12 22c5.523 0 10-4.477 10-10S17.523 2 12 2 2 6.477 2 12s4.477 10 10 10z" fill="red"/><path fill-rule="evenodd" clip-rule="evenodd" d="M23 12c0 6.075-4.925 11-11 11S1 18.075 1 12 5.925 1 12 1s11 4.925 11 11zm-1 0c0 5.523-4.477 10-10 10S2 17.523 2 12 6.477 2 12 2s10 4.477 10 10z" fill="#fff"/><path fill-rule="evenodd" clip-rule="evenodd" d="M12 7a1 1 0 011 1v4a1 1 0 11-2 0V8a1 1 0 011-1zM11 16a1 1 0 011-1h.011a1 1 0 010 2H12a1 1 0 01-1-1z" fill="#fff"/></symbol><symbol fill="none" viewBox="0 0 20 20" id="fit" xmlns="http://www.w3.org/2000/svg"><path d="M13.333 2.5H17.5m0 0v4.167m0-4.167l-5 5m-5.833 10H2.5m0 0v-4.167m0 4.167l5-5" stroke="var(--theme-grey-color)" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"/></symbol><symbol fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="efeather efeather-maximize" viewBox="0 0 24 24" id="fscreen" xmlns="http://www.w3.org/2000/svg"><path d="M8 3H5a2 2 0 00-2 2v3m18 0V5a2 2 0 00-2-2h-3m0 18h3a2 2 0 002-2v-3M3 16v3a2 2 0 002 2h3"/></symbol><symbol fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="ffeather ffeather-minimize" viewBox="0 0 24 24" id="fscreen_out" xmlns="http://www.w3.org/2000/svg"><path d="M8 3v3a2 2 0 01-2 2H3m18 0h-3a2 2 0 01-2-2V3m0 18v-3a2 2 0 012-2h3M3 16h3a2 2 0 012 2v3"/></symbol><symbol fill="none" viewBox="0 0 24 24" id="minus" xmlns="http://www.w3.org/2000/svg"><path fill="#fff" d="M0 0h24v24H0z"/><path fill-rule="evenodd" clip-rule="evenodd" d="M19 13H5a1 1 0 110-2h14a1 1 0 110 2z" fill="var(--theme-grey-color)"/></symbol><symbol fill="none" viewBox="0 0 24 24" id="plus" xmlns="http://www.w3.org/2000/svg"><path fill="#fff" d="M0 0h24v24H0z"/><path fill-rule="evenodd" clip-rule="evenodd" d="M12 4a1 1 0 011 1v6h6a1 1 0 110 2h-6v6a1 1 0 11-2 0v-6H5a1 1 0 110-2h6V5a1 1 0 011-1z" fill="var(--theme-grey-color)"/></symbol><symbol fill="none" viewBox="0 0 24 24" id="real-size" xmlns="http://www.w3.org/2000/svg"><path fill="#fff" d="M0 0h24v24H0z"/><path fill-rule="evenodd" clip-rule="evenodd" d="M3 7a1 1 0 011-1h2a1 1 0 011 1v9.6a1 1 0 11-2 0V8H4a1 1 0 01-1-1zM17 7a1 1 0 011-1h2a1 1 0 011 1v9.6a1 1 0 11-2 0V8h-1a1 1 0 01-1-1z" fill="var(--theme-grey-color)"/><path d="M13 9a1 1 0 11-2 0 1 1 0 012 0zM13 15a1 1 0 11-2 0 1 1 0 012 0z" fill="var(--theme-grey-color)"/></symbol><symbol fill="none" viewBox="0 0 24 24" id="upload" xmlns="http://www.w3.org/2000/svg"><path fill="#fff" d="M0 0h24v24H0z"/><path d="M21 17v3a1 1 0 01-1 1H4a1 1 0 01-1-1v-3m9-1V3m0 0L8 7m4-4l4 4" stroke="var(--theme-grey-color)" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"/></symbol><symbol fill="none" viewBox="0 0 24 24" id="warning" xmlns="http://www.w3.org/2000/svg"><path d="M10.29 3.86L1.82 18a2 2 0 001.71 3h16.94a2 2 0 001.71-3L13.71 3.86a2 2 0 00-3.42 0z" fill="#F4A100"/><path fill-rule="evenodd" clip-rule="evenodd" d="M.954 17.5l.008-.014 8.47-14.14.858.514L1.82 18a2 2 0 001.71 3h16.94a2 2 0 001.71-3L13.71 3.86a2 2 0 00-3.42 0l-.855-.519a3 3 0 015.13 0l.003.005 8.47 14.14.008.014a2.998 2.998 0 01-2.565 4.5H3.519a2.999 2.999 0 01-2.565-4.5z" fill="#fff"/><path fill-rule="evenodd" clip-rule="evenodd" d="M12 8a1 1 0 011 1v4a1 1 0 11-2 0V9a1 1 0 011-1zM11 17a1 1 0 011-1h.011a1 1 0 010 2H12a1 1 0 01-1-1z" fill="#fff"/></symbol></svg>',document.body.append(e)}),100);
(window.webpackJsonp=window.webpackJsonp||[]).push([[2],{0:function(t,e,n){t.exports=n("zUnb")},"1hPV":function(t,e,n){var r=n("D57K").__extends,i=n("v2vP"),o=n("uzuk"),s=n("6Br6"),a=n("7oWP"),l=n("QuXn"),u=n("tpAt"),c=function(t){function e(n,r,i){var s=t.call(this)||this;switch(s.syncErrorValue=null,s.syncErrorThrown=!1,s.syncErrorThrowable=!1,s.isStopped=!1,arguments.length){case 0:s.destination=o.empty;break;case 1:if(!n){s.destination=o.empty;break}if("object"==typeof n){n instanceof e?(s.syncErrorThrowable=n.syncErrorThrowable,s.destination=n,n.add(s)):(s.syncErrorThrowable=!0,s.destination=new h(s,n));break}default:s.syncErrorThrowable=!0,s.destination=new h(s,n,r,i)}return s}return r(e,t),e.prototype[a.rxSubscriber]=function(){return this},e.create=function(t,n,r){var i=new e(t,n,r);return i.syncErrorThrowable=!1,i},e.prototype.next=function(t){this.isStopped||this._next(t)},e.prototype.error=function(t){this.isStopped||(this.isStopped=!0,this._error(t))},e.prototype.complete=function(){this.isStopped||(this.isStopped=!0,this._complete())},e.prototype.unsubscribe=function(){this.closed||(this.isStopped=!0,t.prototype.unsubscribe.call(this))},e.prototype._next=function(t){this.destination.next(t)},e.prototype._error=function(t){this.destination.error(t),this.unsubscribe()},e.prototype._complete=function(){this.destination.complete(),this.unsubscribe()},e.prototype._unsubscribeAndRecycle=function(){var t=this._parent,e=this._parents;return this._parent=null,this._parents=null,this.unsubscribe(),this.closed=!1,this.isStopped=!1,this._parent=t,this._parents=e,this},e}(s.Subscription);e.Subscriber=c;var h=function(t){function e(e,n,r,s){var a,l=t.call(this)||this;l._parentSubscriber=e;var u=l;return i.isFunction(n)?a=n:n&&(a=n.next,r=n.error,s=n.complete,n!==o.empty&&(u=Object.create(n),i.isFunction(u.unsubscribe)&&l.add(u.unsubscribe.bind(u)),u.unsubscribe=l.unsubscribe.bind(l))),l._context=u,l._next=a,l._error=r,l._complete=s,l}return r(e,t),e.prototype.next=function(t){if(!this.isStopped&&this._next){var e=this._parentSubscriber;l.config.useDeprecatedSynchronousErrorHandling&&e.syncErrorThrowable?this.__tryOrSetError(e,this._next,t)&&this.unsubscribe():this.__tryOrUnsub(this._next,t)}},e.prototype.error=function(t){if(!this.isStopped){var e=this._parentSubscriber,n=l.config.useDeprecatedSynchronousErrorHandling;if(this._error)n&&e.syncErrorThrowable?(this.__tryOrSetError(e,this._error,t),this.unsubscribe()):(this.__tryOrUnsub(this._error,t),this.unsubscribe());else if(e.syncErrorThrowable)n?(e.syncErrorValue=t,e.syncErrorThrown=!0):u.hostReportError(t),this.unsubscribe();else{if(this.unsubscribe(),n)throw t;u.hostReportError(t)}}},e.prototype.complete=function(){var t=this;if(!this.isStopped){var e=this._parentSubscriber;if(this._complete){var n=function(){return t._complete.call(t._context)};l.config.useDeprecatedSynchronousErrorHandling&&e.syncErrorThrowable?(this.__tryOrSetError(e,n),this.unsubscribe()):(this.__tryOrUnsub(n),this.unsubscribe())}else this.unsubscribe()}},e.prototype.__tryOrUnsub=function(t,e){try{t.call(this._context,e)}catch(n){if(this.unsubscribe(),l.config.useDeprecatedSynchronousErrorHandling)throw n;u.hostReportError(n)}},e.prototype.__tryOrSetError=function(t,e,n){if(!l.config.useDeprecatedSynchronousErrorHandling)throw new Error("bad call");try{e.call(this._context,n)}catch(r){return l.config.useDeprecatedSynchronousErrorHandling?(t.syncErrorValue=r,t.syncErrorThrown=!0,!0):(u.hostReportError(r),!0)}return!1},e.prototype._unsubscribe=function(){var t=this._parentSubscriber;this._context=null,this._parentSubscriber=null,t.unsubscribe()},e}(c);e.SafeSubscriber=h},"6Br6":function(t,e,n){"use strict";var r=n("D9en"),i=n("a96P"),o=n("v2vP"),s=n("ZGdk");function a(t){return t.reduce((function(t,e){return t.concat(e instanceof s.UnsubscriptionError?e.errors:e)}),[])}e.Subscription=function(){function t(t){this.closed=!1,this._parent=null,this._parents=null,this._subscriptions=null,t&&(this._unsubscribe=t)}var e;return t.prototype.unsubscribe=function(){var t,e=!1;if(!this.closed){var n=this._parent,l=this._parents,u=this._unsubscribe,c=this._subscriptions;this.closed=!0,this._parent=null,this._parents=null,this._subscriptions=null;for(var h=-1,p=l?l.length:0;n;)n.remove(this),n=++h<p&&l[h]||null;if(o.isFunction(u))try{u.call(this)}catch(f){e=!0,t=f instanceof s.UnsubscriptionError?a(f.errors):[f]}if(r.isArray(c))for(h=-1,p=c.length;++h<p;){var d=c[h];if(i.isObject(d))try{d.unsubscribe()}catch(f){e=!0,t=t||[],f instanceof s.UnsubscriptionError?t=t.concat(a(f.errors)):t.push(f)}}if(e)throw new s.UnsubscriptionError(t)}},t.prototype.add=function(e){var n=e;switch(typeof e){case"function":n=new t(e);case"object":if(n===this||n.closed||"function"!=typeof n.unsubscribe)return n;if(this.closed)return n.unsubscribe(),n;if(!(n instanceof t)){var r=n;(n=new t)._subscriptions=[r]}break;default:if(!e)return t.EMPTY;throw new Error("unrecognized teardown "+e+" added to Subscription.")}if(n._addParent(this)){var i=this._subscriptions;i?i.push(n):this._subscriptions=[n]}return n},t.prototype.remove=function(t){var e=this._subscriptions;if(e){var n=e.indexOf(t);-1!==n&&e.splice(n,1)}},t.prototype._addParent=function(t){var e=this._parent,n=this._parents;return e!==t&&(e?n?-1===n.indexOf(t)&&(n.push(t),!0):(this._parents=[t],!0):(this._parent=t,!0))},t.EMPTY=((e=new t).closed=!0,e),t}()},"7oWP":function(t,e,n){"use strict";e.rxSubscriber="function"==typeof Symbol?Symbol("rxSubscriber"):"@@rxSubscriber_"+Math.random(),e.$$rxSubscriber=e.rxSubscriber},"9RND":function(t){t.exports=JSON.parse('{"a":"1.15.0"}')},D57K:function(t,e,n){"use strict";n.r(e),n.d(e,"__extends",(function(){return i})),n.d(e,"__assign",(function(){return o})),n.d(e,"__rest",(function(){return s})),n.d(e,"__decorate",(function(){return a})),n.d(e,"__param",(function(){return l})),n.d(e,"__metadata",(function(){return u})),n.d(e,"__awaiter",(function(){return c})),n.d(e,"__generator",(function(){return h})),n.d(e,"__createBinding",(function(){return p})),n.d(e,"__exportStar",(function(){return d})),n.d(e,"__values",(function(){return f})),n.d(e,"__read",(function(){return g})),n.d(e,"__spread",(function(){return m})),n.d(e,"__spreadArrays",(function(){return y})),n.d(e,"__await",(function(){return v})),n.d(e,"__asyncGenerator",(function(){return _})),n.d(e,"__asyncDelegator",(function(){return b})),n.d(e,"__asyncValues",(function(){return w})),n.d(e,"__makeTemplateObject",(function(){return C})),n.d(e,"__importStar",(function(){return x})),n.d(e,"__importDefault",(function(){return S})),n.d(e,"__classPrivateFieldGet",(function(){return P})),n.d(e,"__classPrivateFieldSet",(function(){return I}));var r=function(t,e){return(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(t,e)};function i(t,e){function n(){this.constructor=t}r(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}var o=function(){return(o=Object.assign||function(t){for(var e,n=1,r=arguments.length;n<r;n++)for(var i in e=arguments[n])Object.prototype.hasOwnProperty.call(e,i)&&(t[i]=e[i]);return t}).apply(this,arguments)};function s(t,e){var n={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&e.indexOf(r)<0&&(n[r]=t[r]);if(null!=t&&"function"==typeof Object.getOwnPropertySymbols){var i=0;for(r=Object.getOwnPropertySymbols(t);i<r.length;i++)e.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(t,r[i])&&(n[r[i]]=t[r[i]])}return n}function a(t,e,n,r){var i,o=arguments.length,s=o<3?e:null===r?r=Object.getOwnPropertyDescriptor(e,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(t,e,n,r);else for(var a=t.length-1;a>=0;a--)(i=t[a])&&(s=(o<3?i(s):o>3?i(e,n,s):i(e,n))||s);return o>3&&s&&Object.defineProperty(e,n,s),s}function l(t,e){return function(n,r){e(n,r,t)}}function u(t,e){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(t,e)}function c(t,e,n,r){return new(n||(n=Promise))((function(i,o){function s(t){try{l(r.next(t))}catch(e){o(e)}}function a(t){try{l(r.throw(t))}catch(e){o(e)}}function l(t){var e;t.done?i(t.value):(e=t.value,e instanceof n?e:new n((function(t){t(e)}))).then(s,a)}l((r=r.apply(t,e||[])).next())}))}function h(t,e){var n,r,i,o,s={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]};return o={next:a(0),throw:a(1),return:a(2)},"function"==typeof Symbol&&(o[Symbol.iterator]=function(){return this}),o;function a(o){return function(a){return function(o){if(n)throw new TypeError("Generator is already executing.");for(;s;)try{if(n=1,r&&(i=2&o[0]?r.return:o[0]?r.throw||((i=r.return)&&i.call(r),0):r.next)&&!(i=i.call(r,o[1])).done)return i;switch(r=0,i&&(o=[2&o[0],i.value]),o[0]){case 0:case 1:i=o;break;case 4:return s.label++,{value:o[1],done:!1};case 5:s.label++,r=o[1],o=[0];continue;case 7:o=s.ops.pop(),s.trys.pop();continue;default:if(!(i=(i=s.trys).length>0&&i[i.length-1])&&(6===o[0]||2===o[0])){s=0;continue}if(3===o[0]&&(!i||o[1]>i[0]&&o[1]<i[3])){s.label=o[1];break}if(6===o[0]&&s.label<i[1]){s.label=i[1],i=o;break}if(i&&s.label<i[2]){s.label=i[2],s.ops.push(o);break}i[2]&&s.ops.pop(),s.trys.pop();continue}o=e.call(t,s)}catch(a){o=[6,a],r=0}finally{n=i=0}if(5&o[0])throw o[1];return{value:o[0]?o[1]:void 0,done:!0}}([o,a])}}}function p(t,e,n,r){void 0===r&&(r=n),t[r]=e[n]}function d(t,e){for(var n in t)"default"===n||e.hasOwnProperty(n)||(e[n]=t[n])}function f(t){var e="function"==typeof Symbol&&Symbol.iterator,n=e&&t[e],r=0;if(n)return n.call(t);if(t&&"number"==typeof t.length)return{next:function(){return t&&r>=t.length&&(t=void 0),{value:t&&t[r++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")}function g(t,e){var n="function"==typeof Symbol&&t[Symbol.iterator];if(!n)return t;var r,i,o=n.call(t),s=[];try{for(;(void 0===e||e-- >0)&&!(r=o.next()).done;)s.push(r.value)}catch(a){i={error:a}}finally{try{r&&!r.done&&(n=o.return)&&n.call(o)}finally{if(i)throw i.error}}return s}function m(){for(var t=[],e=0;e<arguments.length;e++)t=t.concat(g(arguments[e]));return t}function y(){for(var t=0,e=0,n=arguments.length;e<n;e++)t+=arguments[e].length;var r=Array(t),i=0;for(e=0;e<n;e++)for(var o=arguments[e],s=0,a=o.length;s<a;s++,i++)r[i]=o[s];return r}function v(t){return this instanceof v?(this.v=t,this):new v(t)}function _(t,e,n){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var r,i=n.apply(t,e||[]),o=[];return r={},s("next"),s("throw"),s("return"),r[Symbol.asyncIterator]=function(){return this},r;function s(t){i[t]&&(r[t]=function(e){return new Promise((function(n,r){o.push([t,e,n,r])>1||a(t,e)}))})}function a(t,e){try{(n=i[t](e)).value instanceof v?Promise.resolve(n.value.v).then(l,u):c(o[0][2],n)}catch(r){c(o[0][3],r)}var n}function l(t){a("next",t)}function u(t){a("throw",t)}function c(t,e){t(e),o.shift(),o.length&&a(o[0][0],o[0][1])}}function b(t){var e,n;return e={},r("next"),r("throw",(function(t){throw t})),r("return"),e[Symbol.iterator]=function(){return this},e;function r(r,i){e[r]=t[r]?function(e){return(n=!n)?{value:v(t[r](e)),done:"return"===r}:i?i(e):e}:i}}function w(t){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var e,n=t[Symbol.asyncIterator];return n?n.call(t):(t=f(t),e={},r("next"),r("throw"),r("return"),e[Symbol.asyncIterator]=function(){return this},e);function r(n){e[n]=t[n]&&function(e){return new Promise((function(r,i){!function(t,e,n,r){Promise.resolve(r).then((function(e){t({value:e,done:n})}),e)}(r,i,(e=t[n](e)).done,e.value)}))}}}function C(t,e){return Object.defineProperty?Object.defineProperty(t,"raw",{value:e}):t.raw=e,t}function x(t){if(t&&t.__esModule)return t;var e={};if(null!=t)for(var n in t)Object.hasOwnProperty.call(t,n)&&(e[n]=t[n]);return e.default=t,e}function S(t){return t&&t.__esModule?t:{default:t}}function P(t,e){if(!e.has(t))throw new TypeError("attempted to get private field on non-instance");return e.get(t)}function I(t,e,n){if(!e.has(t))throw new TypeError("attempted to set private field on non-instance");return e.set(t,n),n}},D9en:function(t,e,n){"use strict";e.isArray=Array.isArray||function(t){return t&&"number"==typeof t.length}},"E/Xc":function(t,e,n){"use strict";var r=n("hjML");function i(t){return t?1===t.length?t[0]:function(e){return t.reduce((function(t,e){return e(t)}),e)}:r.noop}e.pipe=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];return i(t)},e.pipeFromArray=i},GtyH:function(t,e,n){var r;!function(e,n){"use strict";"object"==typeof t.exports?t.exports=e.document?n(e,!0):function(t){if(!t.document)throw new Error("jQuery requires a window with a document");return n(t)}:n(e)}("undefined"!=typeof window?window:this,(function(n,i){"use strict";var o=[],s=Object.getPrototypeOf,a=o.slice,l=o.flat?function(t){return o.flat.call(t)}:function(t){return o.concat.apply([],t)},u=o.push,c=o.indexOf,h={},p=h.toString,d=h.hasOwnProperty,f=d.toString,g=f.call(Object),m={},y=function(t){return"function"==typeof t&&"number"!=typeof t.nodeType},v=function(t){return null!=t&&t===t.window},_=n.document,b={type:!0,src:!0,nonce:!0,noModule:!0};function w(t,e,n){var r,i,o=(n=n||_).createElement("script");if(o.text=t,e)for(r in b)(i=e[r]||e.getAttribute&&e.getAttribute(r))&&o.setAttribute(r,i);n.head.appendChild(o).parentNode.removeChild(o)}function C(t){return null==t?t+"":"object"==typeof t||"function"==typeof t?h[p.call(t)]||"object":typeof t}var x=function(t,e){return new x.fn.init(t,e)};function S(t){var e=!!t&&"length"in t&&t.length,n=C(t);return!y(t)&&!v(t)&&("array"===n||0===e||"number"==typeof e&&e>0&&e-1 in t)}x.fn=x.prototype={jquery:"3.5.1",constructor:x,length:0,toArray:function(){return a.call(this)},get:function(t){return null==t?a.call(this):t<0?this[t+this.length]:this[t]},pushStack:function(t){var e=x.merge(this.constructor(),t);return e.prevObject=this,e},each:function(t){return x.each(this,t)},map:function(t){return this.pushStack(x.map(this,(function(e,n){return t.call(e,n,e)})))},slice:function(){return this.pushStack(a.apply(this,arguments))},first:function(){return this.eq(0)},last:function(){return this.eq(-1)},even:function(){return this.pushStack(x.grep(this,(function(t,e){return(e+1)%2})))},odd:function(){return this.pushStack(x.grep(this,(function(t,e){return e%2})))},eq:function(t){var e=this.length,n=+t+(t<0?e:0);return this.pushStack(n>=0&&n<e?[this[n]]:[])},end:function(){return this.prevObject||this.constructor()},push:u,sort:o.sort,splice:o.splice},x.extend=x.fn.extend=function(){var t,e,n,r,i,o,s=arguments[0]||{},a=1,l=arguments.length,u=!1;for("boolean"==typeof s&&(u=s,s=arguments[a]||{},a++),"object"==typeof s||y(s)||(s={}),a===l&&(s=this,a--);a<l;a++)if(null!=(t=arguments[a]))for(e in t)r=t[e],"__proto__"!==e&&s!==r&&(u&&r&&(x.isPlainObject(r)||(i=Array.isArray(r)))?(n=s[e],o=i&&!Array.isArray(n)?[]:i||x.isPlainObject(n)?n:{},i=!1,s[e]=x.extend(u,o,r)):void 0!==r&&(s[e]=r));return s},x.extend({expando:"jQuery"+("3.5.1"+Math.random()).replace(/\D/g,""),isReady:!0,error:function(t){throw new Error(t)},noop:function(){},isPlainObject:function(t){var e,n;return!(!t||"[object Object]"!==p.call(t)||(e=s(t))&&("function"!=typeof(n=d.call(e,"constructor")&&e.constructor)||f.call(n)!==g))},isEmptyObject:function(t){var e;for(e in t)return!1;return!0},globalEval:function(t,e,n){w(t,{nonce:e&&e.nonce},n)},each:function(t,e){var n,r=0;if(S(t))for(n=t.length;r<n&&!1!==e.call(t[r],r,t[r]);r++);else for(r in t)if(!1===e.call(t[r],r,t[r]))break;return t},makeArray:function(t,e){var n=e||[];return null!=t&&(S(Object(t))?x.merge(n,"string"==typeof t?[t]:t):u.call(n,t)),n},inArray:function(t,e,n){return null==e?-1:c.call(e,t,n)},merge:function(t,e){for(var n=+e.length,r=0,i=t.length;r<n;r++)t[i++]=e[r];return t.length=i,t},grep:function(t,e,n){for(var r=[],i=0,o=t.length,s=!n;i<o;i++)!e(t[i],i)!==s&&r.push(t[i]);return r},map:function(t,e,n){var r,i,o=0,s=[];if(S(t))for(r=t.length;o<r;o++)null!=(i=e(t[o],o,n))&&s.push(i);else for(o in t)null!=(i=e(t[o],o,n))&&s.push(i);return l(s)},guid:1,support:m}),"function"==typeof Symbol&&(x.fn[Symbol.iterator]=o[Symbol.iterator]),x.each("Boolean Number String Function Array Date RegExp Object Error Symbol".split(" "),(function(t,e){h["[object "+e+"]"]=e.toLowerCase()}));var P=function(t){var e,n,r,i,o,s,a,l,u,c,h,p,d,f,g,m,y,v,_,b="sizzle"+1*new Date,w=t.document,C=0,x=0,S=lt(),P=lt(),I=lt(),E=lt(),T=function(t,e){return t===e&&(h=!0),0},A={}.hasOwnProperty,k=[],O=k.pop,M=k.push,R=k.push,D=k.slice,B=function(t,e){for(var n=0,r=t.length;n<r;n++)if(t[n]===e)return n;return-1},j="checked|selected|async|autofocus|autoplay|controls|defer|disabled|hidden|ismap|loop|multiple|open|readonly|required|scoped",F="[\\x20\\t\\r\\n\\f]",z="(?:\\\\[\\da-fA-F]{1,6}"+F+"?|\\\\[^\\r\\n\\f]|[\\w-]|[^\0-\\x7f])+",L="\\["+F+"*("+z+")(?:"+F+"*([*^$|!~]?=)"+F+"*(?:'((?:\\\\.|[^\\\\'])*)'|\"((?:\\\\.|[^\\\\\"])*)\"|("+z+"))|)"+F+"*\\]",H=":("+z+")(?:\\((('((?:\\\\.|[^\\\\'])*)'|\"((?:\\\\.|[^\\\\\"])*)\")|((?:\\\\.|[^\\\\()[\\]]|"+L+")*)|.*)\\)|)",N=new RegExp(F+"+","g"),W=new RegExp("^"+F+"+|((?:^|[^\\\\])(?:\\\\.)*)"+F+"+$","g"),V=new RegExp("^"+F+"*,"+F+"*"),U=new RegExp("^"+F+"*([>+~]|"+F+")"+F+"*"),q=new RegExp(F+"|>"),G=new RegExp(H),Y=new RegExp("^"+z+"$"),X={ID:new RegExp("^#("+z+")"),CLASS:new RegExp("^\\.("+z+")"),TAG:new RegExp("^("+z+"|[*])"),ATTR:new RegExp("^"+L),PSEUDO:new RegExp("^"+H),CHILD:new RegExp("^:(only|first|last|nth|nth-last)-(child|of-type)(?:\\("+F+"*(even|odd|(([+-]|)(\\d*)n|)"+F+"*(?:([+-]|)"+F+"*(\\d+)|))"+F+"*\\)|)","i"),bool:new RegExp("^(?:"+j+")$","i"),needsContext:new RegExp("^"+F+"*[>+~]|:(even|odd|eq|gt|lt|nth|first|last)(?:\\("+F+"*((?:-\\d)?\\d*)"+F+"*\\)|)(?=[^-]|$)","i")},$=/HTML$/i,Q=/^(?:input|select|textarea|button)$/i,Z=/^h\d$/i,K=/^[^{]+\{\s*\[native \w/,J=/^(?:#([\w-]+)|(\w+)|\.([\w-]+))$/,tt=/[+~]/,et=new RegExp("\\\\[\\da-fA-F]{1,6}"+F+"?|\\\\([^\\r\\n\\f])","g"),nt=function(t,e){var n="0x"+t.slice(1)-65536;return e||(n<0?String.fromCharCode(n+65536):String.fromCharCode(n>>10|55296,1023&n|56320))},rt=/([\0-\x1f\x7f]|^-?\d)|^-$|[^\0-\x1f\x7f-\uFFFF\w-]/g,it=function(t,e){return e?"\0"===t?"\ufffd":t.slice(0,-1)+"\\"+t.charCodeAt(t.length-1).toString(16)+" ":"\\"+t},ot=function(){p()},st=bt((function(t){return!0===t.disabled&&"fieldset"===t.nodeName.toLowerCase()}),{dir:"parentNode",next:"legend"});try{R.apply(k=D.call(w.childNodes),w.childNodes)}catch(Pt){R={apply:k.length?function(t,e){M.apply(t,D.call(e))}:function(t,e){for(var n=t.length,r=0;t[n++]=e[r++];);t.length=n-1}}}function at(t,e,r,i){var o,a,u,c,h,f,y,v=e&&e.ownerDocument,w=e?e.nodeType:9;if(r=r||[],"string"!=typeof t||!t||1!==w&&9!==w&&11!==w)return r;if(!i&&(p(e),e=e||d,g)){if(11!==w&&(h=J.exec(t)))if(o=h[1]){if(9===w){if(!(u=e.getElementById(o)))return r;if(u.id===o)return r.push(u),r}else if(v&&(u=v.getElementById(o))&&_(e,u)&&u.id===o)return r.push(u),r}else{if(h[2])return R.apply(r,e.getElementsByTagName(t)),r;if((o=h[3])&&n.getElementsByClassName&&e.getElementsByClassName)return R.apply(r,e.getElementsByClassName(o)),r}if(n.qsa&&!E[t+" "]&&(!m||!m.test(t))&&(1!==w||"object"!==e.nodeName.toLowerCase())){if(y=t,v=e,1===w&&(q.test(t)||U.test(t))){for((v=tt.test(t)&&yt(e.parentNode)||e)===e&&n.scope||((c=e.getAttribute("id"))?c=c.replace(rt,it):e.setAttribute("id",c=b)),a=(f=s(t)).length;a--;)f[a]=(c?"#"+c:":scope")+" "+_t(f[a]);y=f.join(",")}try{return R.apply(r,v.querySelectorAll(y)),r}catch(C){E(t,!0)}finally{c===b&&e.removeAttribute("id")}}}return l(t.replace(W,"$1"),e,r,i)}function lt(){var t=[];return function e(n,i){return t.push(n+" ")>r.cacheLength&&delete e[t.shift()],e[n+" "]=i}}function ut(t){return t[b]=!0,t}function ct(t){var e=d.createElement("fieldset");try{return!!t(e)}catch(Pt){return!1}finally{e.parentNode&&e.parentNode.removeChild(e),e=null}}function ht(t,e){for(var n=t.split("|"),i=n.length;i--;)r.attrHandle[n[i]]=e}function pt(t,e){var n=e&&t,r=n&&1===t.nodeType&&1===e.nodeType&&t.sourceIndex-e.sourceIndex;if(r)return r;if(n)for(;n=n.nextSibling;)if(n===e)return-1;return t?1:-1}function dt(t){return function(e){return"input"===e.nodeName.toLowerCase()&&e.type===t}}function ft(t){return function(e){var n=e.nodeName.toLowerCase();return("input"===n||"button"===n)&&e.type===t}}function gt(t){return function(e){return"form"in e?e.parentNode&&!1===e.disabled?"label"in e?"label"in e.parentNode?e.parentNode.disabled===t:e.disabled===t:e.isDisabled===t||e.isDisabled!==!t&&st(e)===t:e.disabled===t:"label"in e&&e.disabled===t}}function mt(t){return ut((function(e){return e=+e,ut((function(n,r){for(var i,o=t([],n.length,e),s=o.length;s--;)n[i=o[s]]&&(n[i]=!(r[i]=n[i]))}))}))}function yt(t){return t&&void 0!==t.getElementsByTagName&&t}for(e in n=at.support={},o=at.isXML=function(t){var e=(t.ownerDocument||t).documentElement;return!$.test(t.namespaceURI||e&&e.nodeName||"HTML")},p=at.setDocument=function(t){var e,i,s=t?t.ownerDocument||t:w;return s!=d&&9===s.nodeType&&s.documentElement?(f=(d=s).documentElement,g=!o(d),w!=d&&(i=d.defaultView)&&i.top!==i&&(i.addEventListener?i.addEventListener("unload",ot,!1):i.attachEvent&&i.attachEvent("onunload",ot)),n.scope=ct((function(t){return f.appendChild(t).appendChild(d.createElement("div")),void 0!==t.querySelectorAll&&!t.querySelectorAll(":scope fieldset div").length})),n.attributes=ct((function(t){return t.className="i",!t.getAttribute("className")})),n.getElementsByTagName=ct((function(t){return t.appendChild(d.createComment("")),!t.getElementsByTagName("*").length})),n.getElementsByClassName=K.test(d.getElementsByClassName),n.getById=ct((function(t){return f.appendChild(t).id=b,!d.getElementsByName||!d.getElementsByName(b).length})),n.getById?(r.filter.ID=function(t){var e=t.replace(et,nt);return function(t){return t.getAttribute("id")===e}},r.find.ID=function(t,e){if(void 0!==e.getElementById&&g){var n=e.getElementById(t);return n?[n]:[]}}):(r.filter.ID=function(t){var e=t.replace(et,nt);return function(t){var n=void 0!==t.getAttributeNode&&t.getAttributeNode("id");return n&&n.value===e}},r.find.ID=function(t,e){if(void 0!==e.getElementById&&g){var n,r,i,o=e.getElementById(t);if(o){if((n=o.getAttributeNode("id"))&&n.value===t)return[o];for(i=e.getElementsByName(t),r=0;o=i[r++];)if((n=o.getAttributeNode("id"))&&n.value===t)return[o]}return[]}}),r.find.TAG=n.getElementsByTagName?function(t,e){return void 0!==e.getElementsByTagName?e.getElementsByTagName(t):n.qsa?e.querySelectorAll(t):void 0}:function(t,e){var n,r=[],i=0,o=e.getElementsByTagName(t);if("*"===t){for(;n=o[i++];)1===n.nodeType&&r.push(n);return r}return o},r.find.CLASS=n.getElementsByClassName&&function(t,e){if(void 0!==e.getElementsByClassName&&g)return e.getElementsByClassName(t)},y=[],m=[],(n.qsa=K.test(d.querySelectorAll))&&(ct((function(t){var e;f.appendChild(t).innerHTML="<a id='"+b+"'></a><select id='"+b+"-\r\\' msallowcapture=''><option selected=''></option></select>",t.querySelectorAll("[msallowcapture^='']").length&&m.push("[*^$]="+F+"*(?:''|\"\")"),t.querySelectorAll("[selected]").length||m.push("\\["+F+"*(?:value|"+j+")"),t.querySelectorAll("[id~="+b+"-]").length||m.push("~="),(e=d.createElement("input")).setAttribute("name",""),t.appendChild(e),t.querySelectorAll("[name='']").length||m.push("\\["+F+"*name"+F+"*="+F+"*(?:''|\"\")"),t.querySelectorAll(":checked").length||m.push(":checked"),t.querySelectorAll("a#"+b+"+*").length||m.push(".#.+[+~]"),t.querySelectorAll("\\\f"),m.push("[\\r\\n\\f]")})),ct((function(t){t.innerHTML="<a href='' disabled='disabled'></a><select disabled='disabled'><option/></select>";var e=d.createElement("input");e.setAttribute("type","hidden"),t.appendChild(e).setAttribute("name","D"),t.querySelectorAll("[name=d]").length&&m.push("name"+F+"*[*^$|!~]?="),2!==t.querySelectorAll(":enabled").length&&m.push(":enabled",":disabled"),f.appendChild(t).disabled=!0,2!==t.querySelectorAll(":disabled").length&&m.push(":enabled",":disabled"),t.querySelectorAll("*,:x"),m.push(",.*:")}))),(n.matchesSelector=K.test(v=f.matches||f.webkitMatchesSelector||f.mozMatchesSelector||f.oMatchesSelector||f.msMatchesSelector))&&ct((function(t){n.disconnectedMatch=v.call(t,"*"),v.call(t,"[s!='']:x"),y.push("!=",H)})),m=m.length&&new RegExp(m.join("|")),y=y.length&&new RegExp(y.join("|")),e=K.test(f.compareDocumentPosition),_=e||K.test(f.contains)?function(t,e){var n=9===t.nodeType?t.documentElement:t,r=e&&e.parentNode;return t===r||!(!r||1!==r.nodeType||!(n.contains?n.contains(r):t.compareDocumentPosition&&16&t.compareDocumentPosition(r)))}:function(t,e){if(e)for(;e=e.parentNode;)if(e===t)return!0;return!1},T=e?function(t,e){if(t===e)return h=!0,0;var r=!t.compareDocumentPosition-!e.compareDocumentPosition;return r||(1&(r=(t.ownerDocument||t)==(e.ownerDocument||e)?t.compareDocumentPosition(e):1)||!n.sortDetached&&e.compareDocumentPosition(t)===r?t==d||t.ownerDocument==w&&_(w,t)?-1:e==d||e.ownerDocument==w&&_(w,e)?1:c?B(c,t)-B(c,e):0:4&r?-1:1)}:function(t,e){if(t===e)return h=!0,0;var n,r=0,i=t.parentNode,o=e.parentNode,s=[t],a=[e];if(!i||!o)return t==d?-1:e==d?1:i?-1:o?1:c?B(c,t)-B(c,e):0;if(i===o)return pt(t,e);for(n=t;n=n.parentNode;)s.unshift(n);for(n=e;n=n.parentNode;)a.unshift(n);for(;s[r]===a[r];)r++;return r?pt(s[r],a[r]):s[r]==w?-1:a[r]==w?1:0},d):d},at.matches=function(t,e){return at(t,null,null,e)},at.matchesSelector=function(t,e){if(p(t),n.matchesSelector&&g&&!E[e+" "]&&(!y||!y.test(e))&&(!m||!m.test(e)))try{var r=v.call(t,e);if(r||n.disconnectedMatch||t.document&&11!==t.document.nodeType)return r}catch(Pt){E(e,!0)}return at(e,d,null,[t]).length>0},at.contains=function(t,e){return(t.ownerDocument||t)!=d&&p(t),_(t,e)},at.attr=function(t,e){(t.ownerDocument||t)!=d&&p(t);var i=r.attrHandle[e.toLowerCase()],o=i&&A.call(r.attrHandle,e.toLowerCase())?i(t,e,!g):void 0;return void 0!==o?o:n.attributes||!g?t.getAttribute(e):(o=t.getAttributeNode(e))&&o.specified?o.value:null},at.escape=function(t){return(t+"").replace(rt,it)},at.error=function(t){throw new Error("Syntax error, unrecognized expression: "+t)},at.uniqueSort=function(t){var e,r=[],i=0,o=0;if(h=!n.detectDuplicates,c=!n.sortStable&&t.slice(0),t.sort(T),h){for(;e=t[o++];)e===t[o]&&(i=r.push(o));for(;i--;)t.splice(r[i],1)}return c=null,t},i=at.getText=function(t){var e,n="",r=0,o=t.nodeType;if(o){if(1===o||9===o||11===o){if("string"==typeof t.textContent)return t.textContent;for(t=t.firstChild;t;t=t.nextSibling)n+=i(t)}else if(3===o||4===o)return t.nodeValue}else for(;e=t[r++];)n+=i(e);return n},(r=at.selectors={cacheLength:50,createPseudo:ut,match:X,attrHandle:{},find:{},relative:{">":{dir:"parentNode",first:!0}," ":{dir:"parentNode"},"+":{dir:"previousSibling",first:!0},"~":{dir:"previousSibling"}},preFilter:{ATTR:function(t){return t[1]=t[1].replace(et,nt),t[3]=(t[3]||t[4]||t[5]||"").replace(et,nt),"~="===t[2]&&(t[3]=" "+t[3]+" "),t.slice(0,4)},CHILD:function(t){return t[1]=t[1].toLowerCase(),"nth"===t[1].slice(0,3)?(t[3]||at.error(t[0]),t[4]=+(t[4]?t[5]+(t[6]||1):2*("even"===t[3]||"odd"===t[3])),t[5]=+(t[7]+t[8]||"odd"===t[3])):t[3]&&at.error(t[0]),t},PSEUDO:function(t){var e,n=!t[6]&&t[2];return X.CHILD.test(t[0])?null:(t[3]?t[2]=t[4]||t[5]||"":n&&G.test(n)&&(e=s(n,!0))&&(e=n.indexOf(")",n.length-e)-n.length)&&(t[0]=t[0].slice(0,e),t[2]=n.slice(0,e)),t.slice(0,3))}},filter:{TAG:function(t){var e=t.replace(et,nt).toLowerCase();return"*"===t?function(){return!0}:function(t){return t.nodeName&&t.nodeName.toLowerCase()===e}},CLASS:function(t){var e=S[t+" "];return e||(e=new RegExp("(^|"+F+")"+t+"("+F+"|$)"))&&S(t,(function(t){return e.test("string"==typeof t.className&&t.className||void 0!==t.getAttribute&&t.getAttribute("class")||"")}))},ATTR:function(t,e,n){return function(r){var i=at.attr(r,t);return null==i?"!="===e:!e||(i+="","="===e?i===n:"!="===e?i!==n:"^="===e?n&&0===i.indexOf(n):"*="===e?n&&i.indexOf(n)>-1:"$="===e?n&&i.slice(-n.length)===n:"~="===e?(" "+i.replace(N," ")+" ").indexOf(n)>-1:"|="===e&&(i===n||i.slice(0,n.length+1)===n+"-"))}},CHILD:function(t,e,n,r,i){var o="nth"!==t.slice(0,3),s="last"!==t.slice(-4),a="of-type"===e;return 1===r&&0===i?function(t){return!!t.parentNode}:function(e,n,l){var u,c,h,p,d,f,g=o!==s?"nextSibling":"previousSibling",m=e.parentNode,y=a&&e.nodeName.toLowerCase(),v=!l&&!a,_=!1;if(m){if(o){for(;g;){for(p=e;p=p[g];)if(a?p.nodeName.toLowerCase()===y:1===p.nodeType)return!1;f=g="only"===t&&!f&&"nextSibling"}return!0}if(f=[s?m.firstChild:m.lastChild],s&&v){for(_=(d=(u=(c=(h=(p=m)[b]||(p[b]={}))[p.uniqueID]||(h[p.uniqueID]={}))[t]||[])[0]===C&&u[1])&&u[2],p=d&&m.childNodes[d];p=++d&&p&&p[g]||(_=d=0)||f.pop();)if(1===p.nodeType&&++_&&p===e){c[t]=[C,d,_];break}}else if(v&&(_=d=(u=(c=(h=(p=e)[b]||(p[b]={}))[p.uniqueID]||(h[p.uniqueID]={}))[t]||[])[0]===C&&u[1]),!1===_)for(;(p=++d&&p&&p[g]||(_=d=0)||f.pop())&&((a?p.nodeName.toLowerCase()!==y:1!==p.nodeType)||!++_||(v&&((c=(h=p[b]||(p[b]={}))[p.uniqueID]||(h[p.uniqueID]={}))[t]=[C,_]),p!==e)););return(_-=i)===r||_%r==0&&_/r>=0}}},PSEUDO:function(t,e){var n,i=r.pseudos[t]||r.setFilters[t.toLowerCase()]||at.error("unsupported pseudo: "+t);return i[b]?i(e):i.length>1?(n=[t,t,"",e],r.setFilters.hasOwnProperty(t.toLowerCase())?ut((function(t,n){for(var r,o=i(t,e),s=o.length;s--;)t[r=B(t,o[s])]=!(n[r]=o[s])})):function(t){return i(t,0,n)}):i}},pseudos:{not:ut((function(t){var e=[],n=[],r=a(t.replace(W,"$1"));return r[b]?ut((function(t,e,n,i){for(var o,s=r(t,null,i,[]),a=t.length;a--;)(o=s[a])&&(t[a]=!(e[a]=o))})):function(t,i,o){return e[0]=t,r(e,null,o,n),e[0]=null,!n.pop()}})),has:ut((function(t){return function(e){return at(t,e).length>0}})),contains:ut((function(t){return t=t.replace(et,nt),function(e){return(e.textContent||i(e)).indexOf(t)>-1}})),lang:ut((function(t){return Y.test(t||"")||at.error("unsupported lang: "+t),t=t.replace(et,nt).toLowerCase(),function(e){var n;do{if(n=g?e.lang:e.getAttribute("xml:lang")||e.getAttribute("lang"))return(n=n.toLowerCase())===t||0===n.indexOf(t+"-")}while((e=e.parentNode)&&1===e.nodeType);return!1}})),target:function(e){var n=t.location&&t.location.hash;return n&&n.slice(1)===e.id},root:function(t){return t===f},focus:function(t){return t===d.activeElement&&(!d.hasFocus||d.hasFocus())&&!!(t.type||t.href||~t.tabIndex)},enabled:gt(!1),disabled:gt(!0),checked:function(t){var e=t.nodeName.toLowerCase();return"input"===e&&!!t.checked||"option"===e&&!!t.selected},selected:function(t){return!0===t.selected},empty:function(t){for(t=t.firstChild;t;t=t.nextSibling)if(t.nodeType<6)return!1;return!0},parent:function(t){return!r.pseudos.empty(t)},header:function(t){return Z.test(t.nodeName)},input:function(t){return Q.test(t.nodeName)},button:function(t){var e=t.nodeName.toLowerCase();return"input"===e&&"button"===t.type||"button"===e},text:function(t){var e;return"input"===t.nodeName.toLowerCase()&&"text"===t.type&&(null==(e=t.getAttribute("type"))||"text"===e.toLowerCase())},first:mt((function(){return[0]})),last:mt((function(t,e){return[e-1]})),eq:mt((function(t,e,n){return[n<0?n+e:n]})),even:mt((function(t,e){for(var n=0;n<e;n+=2)t.push(n);return t})),odd:mt((function(t,e){for(var n=1;n<e;n+=2)t.push(n);return t})),lt:mt((function(t,e,n){for(var r=n<0?n+e:n>e?e:n;--r>=0;)t.push(r);return t})),gt:mt((function(t,e,n){for(var r=n<0?n+e:n;++r<e;)t.push(r);return t}))}}).pseudos.nth=r.pseudos.eq,{radio:!0,checkbox:!0,file:!0,password:!0,image:!0})r.pseudos[e]=dt(e);for(e in{submit:!0,reset:!0})r.pseudos[e]=ft(e);function vt(){}function _t(t){for(var e=0,n=t.length,r="";e<n;e++)r+=t[e].value;return r}function bt(t,e,n){var r=e.dir,i=e.next,o=i||r,s=n&&"parentNode"===o,a=x++;return e.first?function(e,n,i){for(;e=e[r];)if(1===e.nodeType||s)return t(e,n,i);return!1}:function(e,n,l){var u,c,h,p=[C,a];if(l){for(;e=e[r];)if((1===e.nodeType||s)&&t(e,n,l))return!0}else for(;e=e[r];)if(1===e.nodeType||s)if(c=(h=e[b]||(e[b]={}))[e.uniqueID]||(h[e.uniqueID]={}),i&&i===e.nodeName.toLowerCase())e=e[r]||e;else{if((u=c[o])&&u[0]===C&&u[1]===a)return p[2]=u[2];if(c[o]=p,p[2]=t(e,n,l))return!0}return!1}}function wt(t){return t.length>1?function(e,n,r){for(var i=t.length;i--;)if(!t[i](e,n,r))return!1;return!0}:t[0]}function Ct(t,e,n,r,i){for(var o,s=[],a=0,l=t.length,u=null!=e;a<l;a++)(o=t[a])&&(n&&!n(o,r,i)||(s.push(o),u&&e.push(a)));return s}function xt(t,e,n,r,i,o){return r&&!r[b]&&(r=xt(r)),i&&!i[b]&&(i=xt(i,o)),ut((function(o,s,a,l){var u,c,h,p=[],d=[],f=s.length,g=o||function(t,e,n){for(var r=0,i=e.length;r<i;r++)at(t,e[r],n);return n}(e||"*",a.nodeType?[a]:a,[]),m=!t||!o&&e?g:Ct(g,p,t,a,l),y=n?i||(o?t:f||r)?[]:s:m;if(n&&n(m,y,a,l),r)for(u=Ct(y,d),r(u,[],a,l),c=u.length;c--;)(h=u[c])&&(y[d[c]]=!(m[d[c]]=h));if(o){if(i||t){if(i){for(u=[],c=y.length;c--;)(h=y[c])&&u.push(m[c]=h);i(null,y=[],u,l)}for(c=y.length;c--;)(h=y[c])&&(u=i?B(o,h):p[c])>-1&&(o[u]=!(s[u]=h))}}else y=Ct(y===s?y.splice(f,y.length):y),i?i(null,s,y,l):R.apply(s,y)}))}function St(t){for(var e,n,i,o=t.length,s=r.relative[t[0].type],a=s||r.relative[" "],l=s?1:0,c=bt((function(t){return t===e}),a,!0),h=bt((function(t){return B(e,t)>-1}),a,!0),p=[function(t,n,r){var i=!s&&(r||n!==u)||((e=n).nodeType?c(t,n,r):h(t,n,r));return e=null,i}];l<o;l++)if(n=r.relative[t[l].type])p=[bt(wt(p),n)];else{if((n=r.filter[t[l].type].apply(null,t[l].matches))[b]){for(i=++l;i<o&&!r.relative[t[i].type];i++);return xt(l>1&&wt(p),l>1&&_t(t.slice(0,l-1).concat({value:" "===t[l-2].type?"*":""})).replace(W,"$1"),n,l<i&&St(t.slice(l,i)),i<o&&St(t=t.slice(i)),i<o&&_t(t))}p.push(n)}return wt(p)}return vt.prototype=r.filters=r.pseudos,r.setFilters=new vt,s=at.tokenize=function(t,e){var n,i,o,s,a,l,u,c=P[t+" "];if(c)return e?0:c.slice(0);for(a=t,l=[],u=r.preFilter;a;){for(s in n&&!(i=V.exec(a))||(i&&(a=a.slice(i[0].length)||a),l.push(o=[])),n=!1,(i=U.exec(a))&&(n=i.shift(),o.push({value:n,type:i[0].replace(W," ")}),a=a.slice(n.length)),r.filter)!(i=X[s].exec(a))||u[s]&&!(i=u[s](i))||(n=i.shift(),o.push({value:n,type:s,matches:i}),a=a.slice(n.length));if(!n)break}return e?a.length:a?at.error(t):P(t,l).slice(0)},a=at.compile=function(t,e){var n,i=[],o=[],a=I[t+" "];if(!a){for(e||(e=s(t)),n=e.length;n--;)(a=St(e[n]))[b]?i.push(a):o.push(a);(a=I(t,function(t,e){var n=e.length>0,i=t.length>0,o=function(o,s,a,l,c){var h,f,m,y=0,v="0",_=o&&[],b=[],w=u,x=o||i&&r.find.TAG("*",c),S=C+=null==w?1:Math.random()||.1,P=x.length;for(c&&(u=s==d||s||c);v!==P&&null!=(h=x[v]);v++){if(i&&h){for(f=0,s||h.ownerDocument==d||(p(h),a=!g);m=t[f++];)if(m(h,s||d,a)){l.push(h);break}c&&(C=S)}n&&((h=!m&&h)&&y--,o&&_.push(h))}if(y+=v,n&&v!==y){for(f=0;m=e[f++];)m(_,b,s,a);if(o){if(y>0)for(;v--;)_[v]||b[v]||(b[v]=O.call(l));b=Ct(b)}R.apply(l,b),c&&!o&&b.length>0&&y+e.length>1&&at.uniqueSort(l)}return c&&(C=S,u=w),_};return n?ut(o):o}(o,i))).selector=t}return a},l=at.select=function(t,e,n,i){var o,l,u,c,h,p="function"==typeof t&&t,d=!i&&s(t=p.selector||t);if(n=n||[],1===d.length){if((l=d[0]=d[0].slice(0)).length>2&&"ID"===(u=l[0]).type&&9===e.nodeType&&g&&r.relative[l[1].type]){if(!(e=(r.find.ID(u.matches[0].replace(et,nt),e)||[])[0]))return n;p&&(e=e.parentNode),t=t.slice(l.shift().value.length)}for(o=X.needsContext.test(t)?0:l.length;o--&&!r.relative[c=(u=l[o]).type];)if((h=r.find[c])&&(i=h(u.matches[0].replace(et,nt),tt.test(l[0].type)&&yt(e.parentNode)||e))){if(l.splice(o,1),!(t=i.length&&_t(l)))return R.apply(n,i),n;break}}return(p||a(t,d))(i,e,!g,n,!e||tt.test(t)&&yt(e.parentNode)||e),n},n.sortStable=b.split("").sort(T).join("")===b,n.detectDuplicates=!!h,p(),n.sortDetached=ct((function(t){return 1&t.compareDocumentPosition(d.createElement("fieldset"))})),ct((function(t){return t.innerHTML="<a href='#'></a>","#"===t.firstChild.getAttribute("href")}))||ht("type|href|height|width",(function(t,e,n){if(!n)return t.getAttribute(e,"type"===e.toLowerCase()?1:2)})),n.attributes&&ct((function(t){return t.innerHTML="<input/>",t.firstChild.setAttribute("value",""),""===t.firstChild.getAttribute("value")}))||ht("value",(function(t,e,n){if(!n&&"input"===t.nodeName.toLowerCase())return t.defaultValue})),ct((function(t){return null==t.getAttribute("disabled")}))||ht(j,(function(t,e,n){var r;if(!n)return!0===t[e]?e.toLowerCase():(r=t.getAttributeNode(e))&&r.specified?r.value:null})),at}(n);x.find=P,x.expr=P.selectors,x.expr[":"]=x.expr.pseudos,x.uniqueSort=x.unique=P.uniqueSort,x.text=P.getText,x.isXMLDoc=P.isXML,x.contains=P.contains,x.escapeSelector=P.escape;var I=function(t,e,n){for(var r=[],i=void 0!==n;(t=t[e])&&9!==t.nodeType;)if(1===t.nodeType){if(i&&x(t).is(n))break;r.push(t)}return r},E=function(t,e){for(var n=[];t;t=t.nextSibling)1===t.nodeType&&t!==e&&n.push(t);return n},T=x.expr.match.needsContext;function A(t,e){return t.nodeName&&t.nodeName.toLowerCase()===e.toLowerCase()}var k=/^<([a-z][^\/\0>:\x20\t\r\n\f]*)[\x20\t\r\n\f]*\/?>(?:<\/\1>|)$/i;function O(t,e,n){return y(e)?x.grep(t,(function(t,r){return!!e.call(t,r,t)!==n})):e.nodeType?x.grep(t,(function(t){return t===e!==n})):"string"!=typeof e?x.grep(t,(function(t){return c.call(e,t)>-1!==n})):x.filter(e,t,n)}x.filter=function(t,e,n){var r=e[0];return n&&(t=":not("+t+")"),1===e.length&&1===r.nodeType?x.find.matchesSelector(r,t)?[r]:[]:x.find.matches(t,x.grep(e,(function(t){return 1===t.nodeType})))},x.fn.extend({find:function(t){var e,n,r=this.length,i=this;if("string"!=typeof t)return this.pushStack(x(t).filter((function(){for(e=0;e<r;e++)if(x.contains(i[e],this))return!0})));for(n=this.pushStack([]),e=0;e<r;e++)x.find(t,i[e],n);return r>1?x.uniqueSort(n):n},filter:function(t){return this.pushStack(O(this,t||[],!1))},not:function(t){return this.pushStack(O(this,t||[],!0))},is:function(t){return!!O(this,"string"==typeof t&&T.test(t)?x(t):t||[],!1).length}});var M,R=/^(?:\s*(<[\w\W]+>)[^>]*|#([\w-]+))$/;(x.fn.init=function(t,e,n){var r,i;if(!t)return this;if(n=n||M,"string"==typeof t){if(!(r="<"===t[0]&&">"===t[t.length-1]&&t.length>=3?[null,t,null]:R.exec(t))||!r[1]&&e)return!e||e.jquery?(e||n).find(t):this.constructor(e).find(t);if(r[1]){if(x.merge(this,x.parseHTML(r[1],(e=e instanceof x?e[0]:e)&&e.nodeType?e.ownerDocument||e:_,!0)),k.test(r[1])&&x.isPlainObject(e))for(r in e)y(this[r])?this[r](e[r]):this.attr(r,e[r]);return this}return(i=_.getElementById(r[2]))&&(this[0]=i,this.length=1),this}return t.nodeType?(this[0]=t,this.length=1,this):y(t)?void 0!==n.ready?n.ready(t):t(x):x.makeArray(t,this)}).prototype=x.fn,M=x(_);var D=/^(?:parents|prev(?:Until|All))/,B={children:!0,contents:!0,next:!0,prev:!0};function j(t,e){for(;(t=t[e])&&1!==t.nodeType;);return t}x.fn.extend({has:function(t){var e=x(t,this),n=e.length;return this.filter((function(){for(var t=0;t<n;t++)if(x.contains(this,e[t]))return!0}))},closest:function(t,e){var n,r=0,i=this.length,o=[],s="string"!=typeof t&&x(t);if(!T.test(t))for(;r<i;r++)for(n=this[r];n&&n!==e;n=n.parentNode)if(n.nodeType<11&&(s?s.index(n)>-1:1===n.nodeType&&x.find.matchesSelector(n,t))){o.push(n);break}return this.pushStack(o.length>1?x.uniqueSort(o):o)},index:function(t){return t?"string"==typeof t?c.call(x(t),this[0]):c.call(this,t.jquery?t[0]:t):this[0]&&this[0].parentNode?this.first().prevAll().length:-1},add:function(t,e){return this.pushStack(x.uniqueSort(x.merge(this.get(),x(t,e))))},addBack:function(t){return this.add(null==t?this.prevObject:this.prevObject.filter(t))}}),x.each({parent:function(t){var e=t.parentNode;return e&&11!==e.nodeType?e:null},parents:function(t){return I(t,"parentNode")},parentsUntil:function(t,e,n){return I(t,"parentNode",n)},next:function(t){return j(t,"nextSibling")},prev:function(t){return j(t,"previousSibling")},nextAll:function(t){return I(t,"nextSibling")},prevAll:function(t){return I(t,"previousSibling")},nextUntil:function(t,e,n){return I(t,"nextSibling",n)},prevUntil:function(t,e,n){return I(t,"previousSibling",n)},siblings:function(t){return E((t.parentNode||{}).firstChild,t)},children:function(t){return E(t.firstChild)},contents:function(t){return null!=t.contentDocument&&s(t.contentDocument)?t.contentDocument:(A(t,"template")&&(t=t.content||t),x.merge([],t.childNodes))}},(function(t,e){x.fn[t]=function(n,r){var i=x.map(this,e,n);return"Until"!==t.slice(-5)&&(r=n),r&&"string"==typeof r&&(i=x.filter(r,i)),this.length>1&&(B[t]||x.uniqueSort(i),D.test(t)&&i.reverse()),this.pushStack(i)}}));var F=/[^\x20\t\r\n\f]+/g;function z(t){return t}function L(t){throw t}function H(t,e,n,r){var i;try{t&&y(i=t.promise)?i.call(t).done(e).fail(n):t&&y(i=t.then)?i.call(t,e,n):e.apply(void 0,[t].slice(r))}catch(t){n.apply(void 0,[t])}}x.Callbacks=function(t){t="string"==typeof t?function(t){var e={};return x.each(t.match(F)||[],(function(t,n){e[n]=!0})),e}(t):x.extend({},t);var e,n,r,i,o=[],s=[],a=-1,l=function(){for(i=i||t.once,r=e=!0;s.length;a=-1)for(n=s.shift();++a<o.length;)!1===o[a].apply(n[0],n[1])&&t.stopOnFalse&&(a=o.length,n=!1);t.memory||(n=!1),e=!1,i&&(o=n?[]:"")},u={add:function(){return o&&(n&&!e&&(a=o.length-1,s.push(n)),function e(n){x.each(n,(function(n,r){y(r)?t.unique&&u.has(r)||o.push(r):r&&r.length&&"string"!==C(r)&&e(r)}))}(arguments),n&&!e&&l()),this},remove:function(){return x.each(arguments,(function(t,e){for(var n;(n=x.inArray(e,o,n))>-1;)o.splice(n,1),n<=a&&a--})),this},has:function(t){return t?x.inArray(t,o)>-1:o.length>0},empty:function(){return o&&(o=[]),this},disable:function(){return i=s=[],o=n="",this},disabled:function(){return!o},lock:function(){return i=s=[],n||e||(o=n=""),this},locked:function(){return!!i},fireWith:function(t,n){return i||(n=[t,(n=n||[]).slice?n.slice():n],s.push(n),e||l()),this},fire:function(){return u.fireWith(this,arguments),this},fired:function(){return!!r}};return u},x.extend({Deferred:function(t){var e=[["notify","progress",x.Callbacks("memory"),x.Callbacks("memory"),2],["resolve","done",x.Callbacks("once memory"),x.Callbacks("once memory"),0,"resolved"],["reject","fail",x.Callbacks("once memory"),x.Callbacks("once memory"),1,"rejected"]],r="pending",i={state:function(){return r},always:function(){return o.done(arguments).fail(arguments),this},catch:function(t){return i.then(null,t)},pipe:function(){var t=arguments;return x.Deferred((function(n){x.each(e,(function(e,r){var i=y(t[r[4]])&&t[r[4]];o[r[1]]((function(){var t=i&&i.apply(this,arguments);t&&y(t.promise)?t.promise().progress(n.notify).done(n.resolve).fail(n.reject):n[r[0]+"With"](this,i?[t]:arguments)}))})),t=null})).promise()},then:function(t,r,i){var o=0;function s(t,e,r,i){return function(){var a=this,l=arguments,u=function(){var n,u;if(!(t<o)){if((n=r.apply(a,l))===e.promise())throw new TypeError("Thenable self-resolution");y(u=n&&("object"==typeof n||"function"==typeof n)&&n.then)?i?u.call(n,s(o,e,z,i),s(o,e,L,i)):(o++,u.call(n,s(o,e,z,i),s(o,e,L,i),s(o,e,z,e.notifyWith))):(r!==z&&(a=void 0,l=[n]),(i||e.resolveWith)(a,l))}},c=i?u:function(){try{u()}catch(n){x.Deferred.exceptionHook&&x.Deferred.exceptionHook(n,c.stackTrace),t+1>=o&&(r!==L&&(a=void 0,l=[n]),e.rejectWith(a,l))}};t?c():(x.Deferred.getStackHook&&(c.stackTrace=x.Deferred.getStackHook()),n.setTimeout(c))}}return x.Deferred((function(n){e[0][3].add(s(0,n,y(i)?i:z,n.notifyWith)),e[1][3].add(s(0,n,y(t)?t:z)),e[2][3].add(s(0,n,y(r)?r:L))})).promise()},promise:function(t){return null!=t?x.extend(t,i):i}},o={};return x.each(e,(function(t,n){var s=n[2],a=n[5];i[n[1]]=s.add,a&&s.add((function(){r=a}),e[3-t][2].disable,e[3-t][3].disable,e[0][2].lock,e[0][3].lock),s.add(n[3].fire),o[n[0]]=function(){return o[n[0]+"With"](this===o?void 0:this,arguments),this},o[n[0]+"With"]=s.fireWith})),i.promise(o),t&&t.call(o,o),o},when:function(t){var e=arguments.length,n=e,r=Array(n),i=a.call(arguments),o=x.Deferred(),s=function(t){return function(n){r[t]=this,i[t]=arguments.length>1?a.call(arguments):n,--e||o.resolveWith(r,i)}};if(e<=1&&(H(t,o.done(s(n)).resolve,o.reject,!e),"pending"===o.state()||y(i[n]&&i[n].then)))return o.then();for(;n--;)H(i[n],s(n),o.reject);return o.promise()}});var N=/^(Eval|Internal|Range|Reference|Syntax|Type|URI)Error$/;x.Deferred.exceptionHook=function(t,e){n.console&&n.console.warn&&t&&N.test(t.name)&&n.console.warn("jQuery.Deferred exception: "+t.message,t.stack,e)},x.readyException=function(t){n.setTimeout((function(){throw t}))};var W=x.Deferred();function V(){_.removeEventListener("DOMContentLoaded",V),n.removeEventListener("load",V),x.ready()}x.fn.ready=function(t){return W.then(t).catch((function(t){x.readyException(t)})),this},x.extend({isReady:!1,readyWait:1,ready:function(t){(!0===t?--x.readyWait:x.isReady)||(x.isReady=!0,!0!==t&&--x.readyWait>0||W.resolveWith(_,[x]))}}),x.ready.then=W.then,"complete"===_.readyState||"loading"!==_.readyState&&!_.documentElement.doScroll?n.setTimeout(x.ready):(_.addEventListener("DOMContentLoaded",V),n.addEventListener("load",V));var U=function(t,e,n,r,i,o,s){var a=0,l=t.length,u=null==n;if("object"===C(n))for(a in i=!0,n)U(t,e,a,n[a],!0,o,s);else if(void 0!==r&&(i=!0,y(r)||(s=!0),u&&(s?(e.call(t,r),e=null):(u=e,e=function(t,e,n){return u.call(x(t),n)})),e))for(;a<l;a++)e(t[a],n,s?r:r.call(t[a],a,e(t[a],n)));return i?t:u?e.call(t):l?e(t[0],n):o},q=/^-ms-/,G=/-([a-z])/g;function Y(t,e){return e.toUpperCase()}function X(t){return t.replace(q,"ms-").replace(G,Y)}var $=function(t){return 1===t.nodeType||9===t.nodeType||!+t.nodeType};function Q(){this.expando=x.expando+Q.uid++}Q.uid=1,Q.prototype={cache:function(t){var e=t[this.expando];return e||(e={},$(t)&&(t.nodeType?t[this.expando]=e:Object.defineProperty(t,this.expando,{value:e,configurable:!0}))),e},set:function(t,e,n){var r,i=this.cache(t);if("string"==typeof e)i[X(e)]=n;else for(r in e)i[X(r)]=e[r];return i},get:function(t,e){return void 0===e?this.cache(t):t[this.expando]&&t[this.expando][X(e)]},access:function(t,e,n){return void 0===e||e&&"string"==typeof e&&void 0===n?this.get(t,e):(this.set(t,e,n),void 0!==n?n:e)},remove:function(t,e){var n,r=t[this.expando];if(void 0!==r){if(void 0!==e){n=(e=Array.isArray(e)?e.map(X):(e=X(e))in r?[e]:e.match(F)||[]).length;for(;n--;)delete r[e[n]]}(void 0===e||x.isEmptyObject(r))&&(t.nodeType?t[this.expando]=void 0:delete t[this.expando])}},hasData:function(t){var e=t[this.expando];return void 0!==e&&!x.isEmptyObject(e)}};var Z=new Q,K=new Q,J=/^(?:\{[\w\W]*\}|\[[\w\W]*\])$/,tt=/[A-Z]/g;function et(t,e,n){var r;if(void 0===n&&1===t.nodeType)if(r="data-"+e.replace(tt,"-$&").toLowerCase(),"string"==typeof(n=t.getAttribute(r))){try{n=function(t){return"true"===t||"false"!==t&&("null"===t?null:t===+t+""?+t:J.test(t)?JSON.parse(t):t)}(n)}catch(i){}K.set(t,e,n)}else n=void 0;return n}x.extend({hasData:function(t){return K.hasData(t)||Z.hasData(t)},data:function(t,e,n){return K.access(t,e,n)},removeData:function(t,e){K.remove(t,e)},_data:function(t,e,n){return Z.access(t,e,n)},_removeData:function(t,e){Z.remove(t,e)}}),x.fn.extend({data:function(t,e){var n,r,i,o=this[0],s=o&&o.attributes;if(void 0===t){if(this.length&&(i=K.get(o),1===o.nodeType&&!Z.get(o,"hasDataAttrs"))){for(n=s.length;n--;)s[n]&&0===(r=s[n].name).indexOf("data-")&&(r=X(r.slice(5)),et(o,r,i[r]));Z.set(o,"hasDataAttrs",!0)}return i}return"object"==typeof t?this.each((function(){K.set(this,t)})):U(this,(function(e){var n;if(o&&void 0===e)return void 0!==(n=K.get(o,t))?n:void 0!==(n=et(o,t))?n:void 0;this.each((function(){K.set(this,t,e)}))}),null,e,arguments.length>1,null,!0)},removeData:function(t){return this.each((function(){K.remove(this,t)}))}}),x.extend({queue:function(t,e,n){var r;if(t)return r=Z.get(t,e=(e||"fx")+"queue"),n&&(!r||Array.isArray(n)?r=Z.access(t,e,x.makeArray(n)):r.push(n)),r||[]},dequeue:function(t,e){var n=x.queue(t,e=e||"fx"),r=n.length,i=n.shift(),o=x._queueHooks(t,e);"inprogress"===i&&(i=n.shift(),r--),i&&("fx"===e&&n.unshift("inprogress"),delete o.stop,i.call(t,(function(){x.dequeue(t,e)}),o)),!r&&o&&o.empty.fire()},_queueHooks:function(t,e){var n=e+"queueHooks";return Z.get(t,n)||Z.access(t,n,{empty:x.Callbacks("once memory").add((function(){Z.remove(t,[e+"queue",n])}))})}}),x.fn.extend({queue:function(t,e){var n=2;return"string"!=typeof t&&(e=t,t="fx",n--),arguments.length<n?x.queue(this[0],t):void 0===e?this:this.each((function(){var n=x.queue(this,t,e);x._queueHooks(this,t),"fx"===t&&"inprogress"!==n[0]&&x.dequeue(this,t)}))},dequeue:function(t){return this.each((function(){x.dequeue(this,t)}))},clearQueue:function(t){return this.queue(t||"fx",[])},promise:function(t,e){var n,r=1,i=x.Deferred(),o=this,s=this.length,a=function(){--r||i.resolveWith(o,[o])};for("string"!=typeof t&&(e=t,t=void 0),t=t||"fx";s--;)(n=Z.get(o[s],t+"queueHooks"))&&n.empty&&(r++,n.empty.add(a));return a(),i.promise(e)}});var nt=/[+-]?(?:\d*\.|)\d+(?:[eE][+-]?\d+|)/.source,rt=new RegExp("^(?:([+-])=|)("+nt+")([a-z%]*)$","i"),it=["Top","Right","Bottom","Left"],ot=_.documentElement,st=function(t){return x.contains(t.ownerDocument,t)},at={composed:!0};ot.getRootNode&&(st=function(t){return x.contains(t.ownerDocument,t)||t.getRootNode(at)===t.ownerDocument});var lt=function(t,e){return"none"===(t=e||t).style.display||""===t.style.display&&st(t)&&"none"===x.css(t,"display")};function ut(t,e,n,r){var i,o,s=20,a=r?function(){return r.cur()}:function(){return x.css(t,e,"")},l=a(),u=n&&n[3]||(x.cssNumber[e]?"":"px"),c=t.nodeType&&(x.cssNumber[e]||"px"!==u&&+l)&&rt.exec(x.css(t,e));if(c&&c[3]!==u){for(u=u||c[3],c=+(l/=2)||1;s--;)x.style(t,e,c+u),(1-o)*(1-(o=a()/l||.5))<=0&&(s=0),c/=o;x.style(t,e,(c*=2)+u),n=n||[]}return n&&(c=+c||+l||0,i=n[1]?c+(n[1]+1)*n[2]:+n[2],r&&(r.unit=u,r.start=c,r.end=i)),i}var ct={};function ht(t){var e,n=t.ownerDocument,r=t.nodeName,i=ct[r];return i||(e=n.body.appendChild(n.createElement(r)),i=x.css(e,"display"),e.parentNode.removeChild(e),"none"===i&&(i="block"),ct[r]=i,i)}function pt(t,e){for(var n,r,i=[],o=0,s=t.length;o<s;o++)(r=t[o]).style&&(n=r.style.display,e?("none"===n&&(i[o]=Z.get(r,"display")||null,i[o]||(r.style.display="")),""===r.style.display&&lt(r)&&(i[o]=ht(r))):"none"!==n&&(i[o]="none",Z.set(r,"display",n)));for(o=0;o<s;o++)null!=i[o]&&(t[o].style.display=i[o]);return t}x.fn.extend({show:function(){return pt(this,!0)},hide:function(){return pt(this)},toggle:function(t){return"boolean"==typeof t?t?this.show():this.hide():this.each((function(){lt(this)?x(this).show():x(this).hide()}))}});var dt,ft,gt=/^(?:checkbox|radio)$/i,mt=/<([a-z][^\/\0>\x20\t\r\n\f]*)/i,yt=/^$|^module$|\/(?:java|ecma)script/i;dt=_.createDocumentFragment().appendChild(_.createElement("div")),(ft=_.createElement("input")).setAttribute("type","radio"),ft.setAttribute("checked","checked"),ft.setAttribute("name","t"),dt.appendChild(ft),m.checkClone=dt.cloneNode(!0).cloneNode(!0).lastChild.checked,dt.innerHTML="<textarea>x</textarea>",m.noCloneChecked=!!dt.cloneNode(!0).lastChild.defaultValue,dt.innerHTML="<option></option>",m.option=!!dt.lastChild;var vt={thead:[1,"<table>","</table>"],col:[2,"<table><colgroup>","</colgroup></table>"],tr:[2,"<table><tbody>","</tbody></table>"],td:[3,"<table><tbody><tr>","</tr></tbody></table>"],_default:[0,"",""]};function _t(t,e){var n;return n=void 0!==t.getElementsByTagName?t.getElementsByTagName(e||"*"):void 0!==t.querySelectorAll?t.querySelectorAll(e||"*"):[],void 0===e||e&&A(t,e)?x.merge([t],n):n}function bt(t,e){for(var n=0,r=t.length;n<r;n++)Z.set(t[n],"globalEval",!e||Z.get(e[n],"globalEval"))}vt.tbody=vt.tfoot=vt.colgroup=vt.caption=vt.thead,vt.th=vt.td,m.option||(vt.optgroup=vt.option=[1,"<select multiple='multiple'>","</select>"]);var wt=/<|&#?\w+;/;function Ct(t,e,n,r,i){for(var o,s,a,l,u,c,h=e.createDocumentFragment(),p=[],d=0,f=t.length;d<f;d++)if((o=t[d])||0===o)if("object"===C(o))x.merge(p,o.nodeType?[o]:o);else if(wt.test(o)){for(s=s||h.appendChild(e.createElement("div")),a=(mt.exec(o)||["",""])[1].toLowerCase(),s.innerHTML=(l=vt[a]||vt._default)[1]+x.htmlPrefilter(o)+l[2],c=l[0];c--;)s=s.lastChild;x.merge(p,s.childNodes),(s=h.firstChild).textContent=""}else p.push(e.createTextNode(o));for(h.textContent="",d=0;o=p[d++];)if(r&&x.inArray(o,r)>-1)i&&i.push(o);else if(u=st(o),s=_t(h.appendChild(o),"script"),u&&bt(s),n)for(c=0;o=s[c++];)yt.test(o.type||"")&&n.push(o);return h}var xt=/^key/,St=/^(?:mouse|pointer|contextmenu|drag|drop)|click/,Pt=/^([^.]*)(?:\.(.+)|)/;function It(){return!0}function Et(){return!1}function Tt(t,e){return t===function(){try{return _.activeElement}catch(t){}}()==("focus"===e)}function At(t,e,n,r,i,o){var s,a;if("object"==typeof e){for(a in"string"!=typeof n&&(r=r||n,n=void 0),e)At(t,a,n,r,e[a],o);return t}if(null==r&&null==i?(i=n,r=n=void 0):null==i&&("string"==typeof n?(i=r,r=void 0):(i=r,r=n,n=void 0)),!1===i)i=Et;else if(!i)return t;return 1===o&&(s=i,(i=function(t){return x().off(t),s.apply(this,arguments)}).guid=s.guid||(s.guid=x.guid++)),t.each((function(){x.event.add(this,e,i,r,n)}))}function kt(t,e,n){n?(Z.set(t,e,!1),x.event.add(t,e,{namespace:!1,handler:function(t){var r,i,o=Z.get(this,e);if(1&t.isTrigger&&this[e]){if(o.length)(x.event.special[e]||{}).delegateType&&t.stopPropagation();else if(o=a.call(arguments),Z.set(this,e,o),r=n(this,e),this[e](),o!==(i=Z.get(this,e))||r?Z.set(this,e,!1):i={},o!==i)return t.stopImmediatePropagation(),t.preventDefault(),i.value}else o.length&&(Z.set(this,e,{value:x.event.trigger(x.extend(o[0],x.Event.prototype),o.slice(1),this)}),t.stopImmediatePropagation())}})):void 0===Z.get(t,e)&&x.event.add(t,e,It)}x.event={global:{},add:function(t,e,n,r,i){var o,s,a,l,u,c,h,p,d,f,g,m=Z.get(t);if($(t))for(n.handler&&(n=(o=n).handler,i=o.selector),i&&x.find.matchesSelector(ot,i),n.guid||(n.guid=x.guid++),(l=m.events)||(l=m.events=Object.create(null)),(s=m.handle)||(s=m.handle=function(e){return void 0!==x&&x.event.triggered!==e.type?x.event.dispatch.apply(t,arguments):void 0}),u=(e=(e||"").match(F)||[""]).length;u--;)d=g=(a=Pt.exec(e[u])||[])[1],f=(a[2]||"").split(".").sort(),d&&(h=x.event.special[d]||{},h=x.event.special[d=(i?h.delegateType:h.bindType)||d]||{},c=x.extend({type:d,origType:g,data:r,handler:n,guid:n.guid,selector:i,needsContext:i&&x.expr.match.needsContext.test(i),namespace:f.join(".")},o),(p=l[d])||((p=l[d]=[]).delegateCount=0,h.setup&&!1!==h.setup.call(t,r,f,s)||t.addEventListener&&t.addEventListener(d,s)),h.add&&(h.add.call(t,c),c.handler.guid||(c.handler.guid=n.guid)),i?p.splice(p.delegateCount++,0,c):p.push(c),x.event.global[d]=!0)},remove:function(t,e,n,r,i){var o,s,a,l,u,c,h,p,d,f,g,m=Z.hasData(t)&&Z.get(t);if(m&&(l=m.events)){for(u=(e=(e||"").match(F)||[""]).length;u--;)if(d=g=(a=Pt.exec(e[u])||[])[1],f=(a[2]||"").split(".").sort(),d){for(h=x.event.special[d]||{},p=l[d=(r?h.delegateType:h.bindType)||d]||[],a=a[2]&&new RegExp("(^|\\.)"+f.join("\\.(?:.*\\.|)")+"(\\.|$)"),s=o=p.length;o--;)c=p[o],!i&&g!==c.origType||n&&n.guid!==c.guid||a&&!a.test(c.namespace)||r&&r!==c.selector&&("**"!==r||!c.selector)||(p.splice(o,1),c.selector&&p.delegateCount--,h.remove&&h.remove.call(t,c));s&&!p.length&&(h.teardown&&!1!==h.teardown.call(t,f,m.handle)||x.removeEvent(t,d,m.handle),delete l[d])}else for(d in l)x.event.remove(t,d+e[u],n,r,!0);x.isEmptyObject(l)&&Z.remove(t,"handle events")}},dispatch:function(t){var e,n,r,i,o,s,a=new Array(arguments.length),l=x.event.fix(t),u=(Z.get(this,"events")||Object.create(null))[l.type]||[],c=x.event.special[l.type]||{};for(a[0]=l,e=1;e<arguments.length;e++)a[e]=arguments[e];if(l.delegateTarget=this,!c.preDispatch||!1!==c.preDispatch.call(this,l)){for(s=x.event.handlers.call(this,l,u),e=0;(i=s[e++])&&!l.isPropagationStopped();)for(l.currentTarget=i.elem,n=0;(o=i.handlers[n++])&&!l.isImmediatePropagationStopped();)l.rnamespace&&!1!==o.namespace&&!l.rnamespace.test(o.namespace)||(l.handleObj=o,l.data=o.data,void 0!==(r=((x.event.special[o.origType]||{}).handle||o.handler).apply(i.elem,a))&&!1===(l.result=r)&&(l.preventDefault(),l.stopPropagation()));return c.postDispatch&&c.postDispatch.call(this,l),l.result}},handlers:function(t,e){var n,r,i,o,s,a=[],l=e.delegateCount,u=t.target;if(l&&u.nodeType&&!("click"===t.type&&t.button>=1))for(;u!==this;u=u.parentNode||this)if(1===u.nodeType&&("click"!==t.type||!0!==u.disabled)){for(o=[],s={},n=0;n<l;n++)void 0===s[i=(r=e[n]).selector+" "]&&(s[i]=r.needsContext?x(i,this).index(u)>-1:x.find(i,this,null,[u]).length),s[i]&&o.push(r);o.length&&a.push({elem:u,handlers:o})}return u=this,l<e.length&&a.push({elem:u,handlers:e.slice(l)}),a},addProp:function(t,e){Object.defineProperty(x.Event.prototype,t,{enumerable:!0,configurable:!0,get:y(e)?function(){if(this.originalEvent)return e(this.originalEvent)}:function(){if(this.originalEvent)return this.originalEvent[t]},set:function(e){Object.defineProperty(this,t,{enumerable:!0,configurable:!0,writable:!0,value:e})}})},fix:function(t){return t[x.expando]?t:new x.Event(t)},special:{load:{noBubble:!0},click:{setup:function(t){var e=this||t;return gt.test(e.type)&&e.click&&A(e,"input")&&kt(e,"click",It),!1},trigger:function(t){var e=this||t;return gt.test(e.type)&&e.click&&A(e,"input")&&kt(e,"click"),!0},_default:function(t){var e=t.target;return gt.test(e.type)&&e.click&&A(e,"input")&&Z.get(e,"click")||A(e,"a")}},beforeunload:{postDispatch:function(t){void 0!==t.result&&t.originalEvent&&(t.originalEvent.returnValue=t.result)}}}},x.removeEvent=function(t,e,n){t.removeEventListener&&t.removeEventListener(e,n)},x.Event=function(t,e){if(!(this instanceof x.Event))return new x.Event(t,e);t&&t.type?(this.originalEvent=t,this.type=t.type,this.isDefaultPrevented=t.defaultPrevented||void 0===t.defaultPrevented&&!1===t.returnValue?It:Et,this.target=t.target&&3===t.target.nodeType?t.target.parentNode:t.target,this.currentTarget=t.currentTarget,this.relatedTarget=t.relatedTarget):this.type=t,e&&x.extend(this,e),this.timeStamp=t&&t.timeStamp||Date.now(),this[x.expando]=!0},x.Event.prototype={constructor:x.Event,isDefaultPrevented:Et,isPropagationStopped:Et,isImmediatePropagationStopped:Et,isSimulated:!1,preventDefault:function(){var t=this.originalEvent;this.isDefaultPrevented=It,t&&!this.isSimulated&&t.preventDefault()},stopPropagation:function(){var t=this.originalEvent;this.isPropagationStopped=It,t&&!this.isSimulated&&t.stopPropagation()},stopImmediatePropagation:function(){var t=this.originalEvent;this.isImmediatePropagationStopped=It,t&&!this.isSimulated&&t.stopImmediatePropagation(),this.stopPropagation()}},x.each({altKey:!0,bubbles:!0,cancelable:!0,changedTouches:!0,ctrlKey:!0,detail:!0,eventPhase:!0,metaKey:!0,pageX:!0,pageY:!0,shiftKey:!0,view:!0,char:!0,code:!0,charCode:!0,key:!0,keyCode:!0,button:!0,buttons:!0,clientX:!0,clientY:!0,offsetX:!0,offsetY:!0,pointerId:!0,pointerType:!0,screenX:!0,screenY:!0,targetTouches:!0,toElement:!0,touches:!0,which:function(t){var e=t.button;return null==t.which&&xt.test(t.type)?null!=t.charCode?t.charCode:t.keyCode:!t.which&&void 0!==e&&St.test(t.type)?1&e?1:2&e?3:4&e?2:0:t.which}},x.event.addProp),x.each({focus:"focusin",blur:"focusout"},(function(t,e){x.event.special[t]={setup:function(){return kt(this,t,Tt),!1},trigger:function(){return kt(this,t),!0},delegateType:e}})),x.each({mouseenter:"mouseover",mouseleave:"mouseout",pointerenter:"pointerover",pointerleave:"pointerout"},(function(t,e){x.event.special[t]={delegateType:e,bindType:e,handle:function(t){var n,r=this,i=t.relatedTarget,o=t.handleObj;return i&&(i===r||x.contains(r,i))||(t.type=o.origType,n=o.handler.apply(this,arguments),t.type=e),n}}})),x.fn.extend({on:function(t,e,n,r){return At(this,t,e,n,r)},one:function(t,e,n,r){return At(this,t,e,n,r,1)},off:function(t,e,n){var r,i;if(t&&t.preventDefault&&t.handleObj)return r=t.handleObj,x(t.delegateTarget).off(r.namespace?r.origType+"."+r.namespace:r.origType,r.selector,r.handler),this;if("object"==typeof t){for(i in t)this.off(i,e,t[i]);return this}return!1!==e&&"function"!=typeof e||(n=e,e=void 0),!1===n&&(n=Et),this.each((function(){x.event.remove(this,t,n,e)}))}});var Ot=/<script|<style|<link/i,Mt=/checked\s*(?:[^=]|=\s*.checked.)/i,Rt=/^\s*<!(?:\[CDATA\[|--)|(?:\]\]|--)>\s*$/g;function Dt(t,e){return A(t,"table")&&A(11!==e.nodeType?e:e.firstChild,"tr")&&x(t).children("tbody")[0]||t}function Bt(t){return t.type=(null!==t.getAttribute("type"))+"/"+t.type,t}function jt(t){return"true/"===(t.type||"").slice(0,5)?t.type=t.type.slice(5):t.removeAttribute("type"),t}function Ft(t,e){var n,r,i,o,s,a;if(1===e.nodeType){if(Z.hasData(t)&&(a=Z.get(t).events))for(i in Z.remove(e,"handle events"),a)for(n=0,r=a[i].length;n<r;n++)x.event.add(e,i,a[i][n]);K.hasData(t)&&(o=K.access(t),s=x.extend({},o),K.set(e,s))}}function zt(t,e){var n=e.nodeName.toLowerCase();"input"===n&&gt.test(t.type)?e.checked=t.checked:"input"!==n&&"textarea"!==n||(e.defaultValue=t.defaultValue)}function Lt(t,e,n,r){e=l(e);var i,o,s,a,u,c,h=0,p=t.length,d=p-1,f=e[0],g=y(f);if(g||p>1&&"string"==typeof f&&!m.checkClone&&Mt.test(f))return t.each((function(i){var o=t.eq(i);g&&(e[0]=f.call(this,i,o.html())),Lt(o,e,n,r)}));if(p&&(o=(i=Ct(e,t[0].ownerDocument,!1,t,r)).firstChild,1===i.childNodes.length&&(i=o),o||r)){for(a=(s=x.map(_t(i,"script"),Bt)).length;h<p;h++)u=i,h!==d&&(u=x.clone(u,!0,!0),a&&x.merge(s,_t(u,"script"))),n.call(t[h],u,h);if(a)for(c=s[s.length-1].ownerDocument,x.map(s,jt),h=0;h<a;h++)yt.test((u=s[h]).type||"")&&!Z.access(u,"globalEval")&&x.contains(c,u)&&(u.src&&"module"!==(u.type||"").toLowerCase()?x._evalUrl&&!u.noModule&&x._evalUrl(u.src,{nonce:u.nonce||u.getAttribute("nonce")},c):w(u.textContent.replace(Rt,""),u,c))}return t}function Ht(t,e,n){for(var r,i=e?x.filter(e,t):t,o=0;null!=(r=i[o]);o++)n||1!==r.nodeType||x.cleanData(_t(r)),r.parentNode&&(n&&st(r)&&bt(_t(r,"script")),r.parentNode.removeChild(r));return t}x.extend({htmlPrefilter:function(t){return t},clone:function(t,e,n){var r,i,o,s,a=t.cloneNode(!0),l=st(t);if(!(m.noCloneChecked||1!==t.nodeType&&11!==t.nodeType||x.isXMLDoc(t)))for(s=_t(a),r=0,i=(o=_t(t)).length;r<i;r++)zt(o[r],s[r]);if(e)if(n)for(o=o||_t(t),s=s||_t(a),r=0,i=o.length;r<i;r++)Ft(o[r],s[r]);else Ft(t,a);return(s=_t(a,"script")).length>0&&bt(s,!l&&_t(t,"script")),a},cleanData:function(t){for(var e,n,r,i=x.event.special,o=0;void 0!==(n=t[o]);o++)if($(n)){if(e=n[Z.expando]){if(e.events)for(r in e.events)i[r]?x.event.remove(n,r):x.removeEvent(n,r,e.handle);n[Z.expando]=void 0}n[K.expando]&&(n[K.expando]=void 0)}}}),x.fn.extend({detach:function(t){return Ht(this,t,!0)},remove:function(t){return Ht(this,t)},text:function(t){return U(this,(function(t){return void 0===t?x.text(this):this.empty().each((function(){1!==this.nodeType&&11!==this.nodeType&&9!==this.nodeType||(this.textContent=t)}))}),null,t,arguments.length)},append:function(){return Lt(this,arguments,(function(t){1!==this.nodeType&&11!==this.nodeType&&9!==this.nodeType||Dt(this,t).appendChild(t)}))},prepend:function(){return Lt(this,arguments,(function(t){if(1===this.nodeType||11===this.nodeType||9===this.nodeType){var e=Dt(this,t);e.insertBefore(t,e.firstChild)}}))},before:function(){return Lt(this,arguments,(function(t){this.parentNode&&this.parentNode.insertBefore(t,this)}))},after:function(){return Lt(this,arguments,(function(t){this.parentNode&&this.parentNode.insertBefore(t,this.nextSibling)}))},empty:function(){for(var t,e=0;null!=(t=this[e]);e++)1===t.nodeType&&(x.cleanData(_t(t,!1)),t.textContent="");return this},clone:function(t,e){return t=null!=t&&t,e=null==e?t:e,this.map((function(){return x.clone(this,t,e)}))},html:function(t){return U(this,(function(t){var e=this[0]||{},n=0,r=this.length;if(void 0===t&&1===e.nodeType)return e.innerHTML;if("string"==typeof t&&!Ot.test(t)&&!vt[(mt.exec(t)||["",""])[1].toLowerCase()]){t=x.htmlPrefilter(t);try{for(;n<r;n++)1===(e=this[n]||{}).nodeType&&(x.cleanData(_t(e,!1)),e.innerHTML=t);e=0}catch(i){}}e&&this.empty().append(t)}),null,t,arguments.length)},replaceWith:function(){var t=[];return Lt(this,arguments,(function(e){var n=this.parentNode;x.inArray(this,t)<0&&(x.cleanData(_t(this)),n&&n.replaceChild(e,this))}),t)}}),x.each({appendTo:"append",prependTo:"prepend",insertBefore:"before",insertAfter:"after",replaceAll:"replaceWith"},(function(t,e){x.fn[t]=function(t){for(var n,r=[],i=x(t),o=i.length-1,s=0;s<=o;s++)n=s===o?this:this.clone(!0),x(i[s])[e](n),u.apply(r,n.get());return this.pushStack(r)}}));var Nt=new RegExp("^("+nt+")(?!px)[a-z%]+$","i"),Wt=function(t){var e=t.ownerDocument.defaultView;return e&&e.opener||(e=n),e.getComputedStyle(t)},Vt=function(t,e,n){var r,i,o={};for(i in e)o[i]=t.style[i],t.style[i]=e[i];for(i in r=n.call(t),e)t.style[i]=o[i];return r},Ut=new RegExp(it.join("|"),"i");function qt(t,e,n){var r,i,o,s,a=t.style;return(n=n||Wt(t))&&(""!==(s=n.getPropertyValue(e)||n[e])||st(t)||(s=x.style(t,e)),!m.pixelBoxStyles()&&Nt.test(s)&&Ut.test(e)&&(r=a.width,i=a.minWidth,o=a.maxWidth,a.minWidth=a.maxWidth=a.width=s,s=n.width,a.width=r,a.minWidth=i,a.maxWidth=o)),void 0!==s?s+"":s}function Gt(t,e){return{get:function(){if(!t())return(this.get=e).apply(this,arguments);delete this.get}}}!function(){function t(){if(c){u.style.cssText="position:absolute;left:-11111px;width:60px;margin-top:1px;padding:0;border:0",c.style.cssText="position:relative;display:block;box-sizing:border-box;overflow:scroll;margin:auto;border:1px;padding:1px;width:60%;top:1%",ot.appendChild(u).appendChild(c);var t=n.getComputedStyle(c);r="1%"!==t.top,l=12===e(t.marginLeft),c.style.right="60%",s=36===e(t.right),i=36===e(t.width),c.style.position="absolute",o=12===e(c.offsetWidth/3),ot.removeChild(u),c=null}}function e(t){return Math.round(parseFloat(t))}var r,i,o,s,a,l,u=_.createElement("div"),c=_.createElement("div");c.style&&(c.style.backgroundClip="content-box",c.cloneNode(!0).style.backgroundClip="",m.clearCloneStyle="content-box"===c.style.backgroundClip,x.extend(m,{boxSizingReliable:function(){return t(),i},pixelBoxStyles:function(){return t(),s},pixelPosition:function(){return t(),r},reliableMarginLeft:function(){return t(),l},scrollboxSize:function(){return t(),o},reliableTrDimensions:function(){var t,e,r,i;return null==a&&(t=_.createElement("table"),e=_.createElement("tr"),r=_.createElement("div"),t.style.cssText="position:absolute;left:-11111px",e.style.height="1px",r.style.height="9px",ot.appendChild(t).appendChild(e).appendChild(r),i=n.getComputedStyle(e),a=parseInt(i.height)>3,ot.removeChild(t)),a}}))}();var Yt=["Webkit","Moz","ms"],Xt=_.createElement("div").style,$t={};function Qt(t){return x.cssProps[t]||$t[t]||(t in Xt?t:$t[t]=function(t){for(var e=t[0].toUpperCase()+t.slice(1),n=Yt.length;n--;)if((t=Yt[n]+e)in Xt)return t}(t)||t)}var Zt=/^(none|table(?!-c[ea]).+)/,Kt=/^--/,Jt={position:"absolute",visibility:"hidden",display:"block"},te={letterSpacing:"0",fontWeight:"400"};function ee(t,e,n){var r=rt.exec(e);return r?Math.max(0,r[2]-(n||0))+(r[3]||"px"):e}function ne(t,e,n,r,i,o){var s="width"===e?1:0,a=0,l=0;if(n===(r?"border":"content"))return 0;for(;s<4;s+=2)"margin"===n&&(l+=x.css(t,n+it[s],!0,i)),r?("content"===n&&(l-=x.css(t,"padding"+it[s],!0,i)),"margin"!==n&&(l-=x.css(t,"border"+it[s]+"Width",!0,i))):(l+=x.css(t,"padding"+it[s],!0,i),"padding"!==n?l+=x.css(t,"border"+it[s]+"Width",!0,i):a+=x.css(t,"border"+it[s]+"Width",!0,i));return!r&&o>=0&&(l+=Math.max(0,Math.ceil(t["offset"+e[0].toUpperCase()+e.slice(1)]-o-l-a-.5))||0),l}function re(t,e,n){var r=Wt(t),i=(!m.boxSizingReliable()||n)&&"border-box"===x.css(t,"boxSizing",!1,r),o=i,s=qt(t,e,r),a="offset"+e[0].toUpperCase()+e.slice(1);if(Nt.test(s)){if(!n)return s;s="auto"}return(!m.boxSizingReliable()&&i||!m.reliableTrDimensions()&&A(t,"tr")||"auto"===s||!parseFloat(s)&&"inline"===x.css(t,"display",!1,r))&&t.getClientRects().length&&(i="border-box"===x.css(t,"boxSizing",!1,r),(o=a in t)&&(s=t[a])),(s=parseFloat(s)||0)+ne(t,e,n||(i?"border":"content"),o,r,s)+"px"}function ie(t,e,n,r,i){return new ie.prototype.init(t,e,n,r,i)}x.extend({cssHooks:{opacity:{get:function(t,e){if(e){var n=qt(t,"opacity");return""===n?"1":n}}}},cssNumber:{animationIterationCount:!0,columnCount:!0,fillOpacity:!0,flexGrow:!0,flexShrink:!0,fontWeight:!0,gridArea:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnStart:!0,gridRow:!0,gridRowEnd:!0,gridRowStart:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,widows:!0,zIndex:!0,zoom:!0},cssProps:{},style:function(t,e,n,r){if(t&&3!==t.nodeType&&8!==t.nodeType&&t.style){var i,o,s,a=X(e),l=Kt.test(e),u=t.style;if(l||(e=Qt(a)),s=x.cssHooks[e]||x.cssHooks[a],void 0===n)return s&&"get"in s&&void 0!==(i=s.get(t,!1,r))?i:u[e];"string"==(o=typeof n)&&(i=rt.exec(n))&&i[1]&&(n=ut(t,e,i),o="number"),null!=n&&n==n&&("number"!==o||l||(n+=i&&i[3]||(x.cssNumber[a]?"":"px")),m.clearCloneStyle||""!==n||0!==e.indexOf("background")||(u[e]="inherit"),s&&"set"in s&&void 0===(n=s.set(t,n,r))||(l?u.setProperty(e,n):u[e]=n))}},css:function(t,e,n,r){var i,o,s,a=X(e);return Kt.test(e)||(e=Qt(a)),(s=x.cssHooks[e]||x.cssHooks[a])&&"get"in s&&(i=s.get(t,!0,n)),void 0===i&&(i=qt(t,e,r)),"normal"===i&&e in te&&(i=te[e]),""===n||n?(o=parseFloat(i),!0===n||isFinite(o)?o||0:i):i}}),x.each(["height","width"],(function(t,e){x.cssHooks[e]={get:function(t,n,r){if(n)return!Zt.test(x.css(t,"display"))||t.getClientRects().length&&t.getBoundingClientRect().width?re(t,e,r):Vt(t,Jt,(function(){return re(t,e,r)}))},set:function(t,n,r){var i,o=Wt(t),s=!m.scrollboxSize()&&"absolute"===o.position,a=(s||r)&&"border-box"===x.css(t,"boxSizing",!1,o),l=r?ne(t,e,r,a,o):0;return a&&s&&(l-=Math.ceil(t["offset"+e[0].toUpperCase()+e.slice(1)]-parseFloat(o[e])-ne(t,e,"border",!1,o)-.5)),l&&(i=rt.exec(n))&&"px"!==(i[3]||"px")&&(t.style[e]=n,n=x.css(t,e)),ee(0,n,l)}}})),x.cssHooks.marginLeft=Gt(m.reliableMarginLeft,(function(t,e){if(e)return(parseFloat(qt(t,"marginLeft"))||t.getBoundingClientRect().left-Vt(t,{marginLeft:0},(function(){return t.getBoundingClientRect().left})))+"px"})),x.each({margin:"",padding:"",border:"Width"},(function(t,e){x.cssHooks[t+e]={expand:function(n){for(var r=0,i={},o="string"==typeof n?n.split(" "):[n];r<4;r++)i[t+it[r]+e]=o[r]||o[r-2]||o[0];return i}},"margin"!==t&&(x.cssHooks[t+e].set=ee)})),x.fn.extend({css:function(t,e){return U(this,(function(t,e,n){var r,i,o={},s=0;if(Array.isArray(e)){for(r=Wt(t),i=e.length;s<i;s++)o[e[s]]=x.css(t,e[s],!1,r);return o}return void 0!==n?x.style(t,e,n):x.css(t,e)}),t,e,arguments.length>1)}}),x.Tween=ie,(ie.prototype={constructor:ie,init:function(t,e,n,r,i,o){this.elem=t,this.prop=n,this.easing=i||x.easing._default,this.options=e,this.start=this.now=this.cur(),this.end=r,this.unit=o||(x.cssNumber[n]?"":"px")},cur:function(){var t=ie.propHooks[this.prop];return t&&t.get?t.get(this):ie.propHooks._default.get(this)},run:function(t){var e,n=ie.propHooks[this.prop];return this.pos=e=this.options.duration?x.easing[this.easing](t,this.options.duration*t,0,1,this.options.duration):t,this.now=(this.end-this.start)*e+this.start,this.options.step&&this.options.step.call(this.elem,this.now,this),n&&n.set?n.set(this):ie.propHooks._default.set(this),this}}).init.prototype=ie.prototype,(ie.propHooks={_default:{get:function(t){var e;return 1!==t.elem.nodeType||null!=t.elem[t.prop]&&null==t.elem.style[t.prop]?t.elem[t.prop]:(e=x.css(t.elem,t.prop,""))&&"auto"!==e?e:0},set:function(t){x.fx.step[t.prop]?x.fx.step[t.prop](t):1!==t.elem.nodeType||!x.cssHooks[t.prop]&&null==t.elem.style[Qt(t.prop)]?t.elem[t.prop]=t.now:x.style(t.elem,t.prop,t.now+t.unit)}}}).scrollTop=ie.propHooks.scrollLeft={set:function(t){t.elem.nodeType&&t.elem.parentNode&&(t.elem[t.prop]=t.now)}},x.easing={linear:function(t){return t},swing:function(t){return.5-Math.cos(t*Math.PI)/2},_default:"swing"},x.fx=ie.prototype.init,x.fx.step={};var oe,se,ae=/^(?:toggle|show|hide)$/,le=/queueHooks$/;function ue(){se&&(!1===_.hidden&&n.requestAnimationFrame?n.requestAnimationFrame(ue):n.setTimeout(ue,x.fx.interval),x.fx.tick())}function ce(){return n.setTimeout((function(){oe=void 0})),oe=Date.now()}function he(t,e){var n,r=0,i={height:t};for(e=e?1:0;r<4;r+=2-e)i["margin"+(n=it[r])]=i["padding"+n]=t;return e&&(i.opacity=i.width=t),i}function pe(t,e,n){for(var r,i=(de.tweeners[e]||[]).concat(de.tweeners["*"]),o=0,s=i.length;o<s;o++)if(r=i[o].call(n,e,t))return r}function de(t,e,n){var r,i,o=0,s=de.prefilters.length,a=x.Deferred().always((function(){delete l.elem})),l=function(){if(i)return!1;for(var e=oe||ce(),n=Math.max(0,u.startTime+u.duration-e),r=1-(n/u.duration||0),o=0,s=u.tweens.length;o<s;o++)u.tweens[o].run(r);return a.notifyWith(t,[u,r,n]),r<1&&s?n:(s||a.notifyWith(t,[u,1,0]),a.resolveWith(t,[u]),!1)},u=a.promise({elem:t,props:x.extend({},e),opts:x.extend(!0,{specialEasing:{},easing:x.easing._default},n),originalProperties:e,originalOptions:n,startTime:oe||ce(),duration:n.duration,tweens:[],createTween:function(e,n){var r=x.Tween(t,u.opts,e,n,u.opts.specialEasing[e]||u.opts.easing);return u.tweens.push(r),r},stop:function(e){var n=0,r=e?u.tweens.length:0;if(i)return this;for(i=!0;n<r;n++)u.tweens[n].run(1);return e?(a.notifyWith(t,[u,1,0]),a.resolveWith(t,[u,e])):a.rejectWith(t,[u,e]),this}}),c=u.props;for(function(t,e){var n,r,i,o,s;for(n in t)if(i=e[r=X(n)],o=t[n],Array.isArray(o)&&(i=o[1],o=t[n]=o[0]),n!==r&&(t[r]=o,delete t[n]),(s=x.cssHooks[r])&&"expand"in s)for(n in o=s.expand(o),delete t[r],o)n in t||(t[n]=o[n],e[n]=i);else e[r]=i}(c,u.opts.specialEasing);o<s;o++)if(r=de.prefilters[o].call(u,t,c,u.opts))return y(r.stop)&&(x._queueHooks(u.elem,u.opts.queue).stop=r.stop.bind(r)),r;return x.map(c,pe,u),y(u.opts.start)&&u.opts.start.call(t,u),u.progress(u.opts.progress).done(u.opts.done,u.opts.complete).fail(u.opts.fail).always(u.opts.always),x.fx.timer(x.extend(l,{elem:t,anim:u,queue:u.opts.queue})),u}x.Animation=x.extend(de,{tweeners:{"*":[function(t,e){var n=this.createTween(t,e);return ut(n.elem,t,rt.exec(e),n),n}]},tweener:function(t,e){y(t)?(e=t,t=["*"]):t=t.match(F);for(var n,r=0,i=t.length;r<i;r++)(de.tweeners[n=t[r]]=de.tweeners[n]||[]).unshift(e)},prefilters:[function(t,e,n){var r,i,o,s,a,l,u,c,h="width"in e||"height"in e,p=this,d={},f=t.style,g=t.nodeType&&lt(t),m=Z.get(t,"fxshow");for(r in n.queue||(null==(s=x._queueHooks(t,"fx")).unqueued&&(s.unqueued=0,a=s.empty.fire,s.empty.fire=function(){s.unqueued||a()}),s.unqueued++,p.always((function(){p.always((function(){s.unqueued--,x.queue(t,"fx").length||s.empty.fire()}))}))),e)if(ae.test(i=e[r])){if(delete e[r],o=o||"toggle"===i,i===(g?"hide":"show")){if("show"!==i||!m||void 0===m[r])continue;g=!0}d[r]=m&&m[r]||x.style(t,r)}if((l=!x.isEmptyObject(e))||!x.isEmptyObject(d))for(r in h&&1===t.nodeType&&(n.overflow=[f.overflow,f.overflowX,f.overflowY],null==(u=m&&m.display)&&(u=Z.get(t,"display")),"none"===(c=x.css(t,"display"))&&(u?c=u:(pt([t],!0),u=t.style.display||u,c=x.css(t,"display"),pt([t]))),("inline"===c||"inline-block"===c&&null!=u)&&"none"===x.css(t,"float")&&(l||(p.done((function(){f.display=u})),null==u&&(u="none"===(c=f.display)?"":c)),f.display="inline-block")),n.overflow&&(f.overflow="hidden",p.always((function(){f.overflow=n.overflow[0],f.overflowX=n.overflow[1],f.overflowY=n.overflow[2]}))),l=!1,d)l||(m?"hidden"in m&&(g=m.hidden):m=Z.access(t,"fxshow",{display:u}),o&&(m.hidden=!g),g&&pt([t],!0),p.done((function(){for(r in g||pt([t]),Z.remove(t,"fxshow"),d)x.style(t,r,d[r])}))),l=pe(g?m[r]:0,r,p),r in m||(m[r]=l.start,g&&(l.end=l.start,l.start=0))}],prefilter:function(t,e){e?de.prefilters.unshift(t):de.prefilters.push(t)}}),x.speed=function(t,e,n){var r=t&&"object"==typeof t?x.extend({},t):{complete:n||!n&&e||y(t)&&t,duration:t,easing:n&&e||e&&!y(e)&&e};return x.fx.off?r.duration=0:"number"!=typeof r.duration&&(r.duration=r.duration in x.fx.speeds?x.fx.speeds[r.duration]:x.fx.speeds._default),null!=r.queue&&!0!==r.queue||(r.queue="fx"),r.old=r.complete,r.complete=function(){y(r.old)&&r.old.call(this),r.queue&&x.dequeue(this,r.queue)},r},x.fn.extend({fadeTo:function(t,e,n,r){return this.filter(lt).css("opacity",0).show().end().animate({opacity:e},t,n,r)},animate:function(t,e,n,r){var i=x.isEmptyObject(t),o=x.speed(e,n,r),s=function(){var e=de(this,x.extend({},t),o);(i||Z.get(this,"finish"))&&e.stop(!0)};return s.finish=s,i||!1===o.queue?this.each(s):this.queue(o.queue,s)},stop:function(t,e,n){var r=function(t){var e=t.stop;delete t.stop,e(n)};return"string"!=typeof t&&(n=e,e=t,t=void 0),e&&this.queue(t||"fx",[]),this.each((function(){var e=!0,i=null!=t&&t+"queueHooks",o=x.timers,s=Z.get(this);if(i)s[i]&&s[i].stop&&r(s[i]);else for(i in s)s[i]&&s[i].stop&&le.test(i)&&r(s[i]);for(i=o.length;i--;)o[i].elem!==this||null!=t&&o[i].queue!==t||(o[i].anim.stop(n),e=!1,o.splice(i,1));!e&&n||x.dequeue(this,t)}))},finish:function(t){return!1!==t&&(t=t||"fx"),this.each((function(){var e,n=Z.get(this),r=n[t+"queue"],i=n[t+"queueHooks"],o=x.timers,s=r?r.length:0;for(n.finish=!0,x.queue(this,t,[]),i&&i.stop&&i.stop.call(this,!0),e=o.length;e--;)o[e].elem===this&&o[e].queue===t&&(o[e].anim.stop(!0),o.splice(e,1));for(e=0;e<s;e++)r[e]&&r[e].finish&&r[e].finish.call(this);delete n.finish}))}}),x.each(["toggle","show","hide"],(function(t,e){var n=x.fn[e];x.fn[e]=function(t,r,i){return null==t||"boolean"==typeof t?n.apply(this,arguments):this.animate(he(e,!0),t,r,i)}})),x.each({slideDown:he("show"),slideUp:he("hide"),slideToggle:he("toggle"),fadeIn:{opacity:"show"},fadeOut:{opacity:"hide"},fadeToggle:{opacity:"toggle"}},(function(t,e){x.fn[t]=function(t,n,r){return this.animate(e,t,n,r)}})),x.timers=[],x.fx.tick=function(){var t,e=0,n=x.timers;for(oe=Date.now();e<n.length;e++)(t=n[e])()||n[e]!==t||n.splice(e--,1);n.length||x.fx.stop(),oe=void 0},x.fx.timer=function(t){x.timers.push(t),x.fx.start()},x.fx.interval=13,x.fx.start=function(){se||(se=!0,ue())},x.fx.stop=function(){se=null},x.fx.speeds={slow:600,fast:200,_default:400},x.fn.delay=function(t,e){return t=x.fx&&x.fx.speeds[t]||t,this.queue(e=e||"fx",(function(e,r){var i=n.setTimeout(e,t);r.stop=function(){n.clearTimeout(i)}}))},function(){var t=_.createElement("input"),e=_.createElement("select").appendChild(_.createElement("option"));t.type="checkbox",m.checkOn=""!==t.value,m.optSelected=e.selected,(t=_.createElement("input")).value="t",t.type="radio",m.radioValue="t"===t.value}();var fe,ge=x.expr.attrHandle;x.fn.extend({attr:function(t,e){return U(this,x.attr,t,e,arguments.length>1)},removeAttr:function(t){return this.each((function(){x.removeAttr(this,t)}))}}),x.extend({attr:function(t,e,n){var r,i,o=t.nodeType;if(3!==o&&8!==o&&2!==o)return void 0===t.getAttribute?x.prop(t,e,n):(1===o&&x.isXMLDoc(t)||(i=x.attrHooks[e.toLowerCase()]||(x.expr.match.bool.test(e)?fe:void 0)),void 0!==n?null===n?void x.removeAttr(t,e):i&&"set"in i&&void 0!==(r=i.set(t,n,e))?r:(t.setAttribute(e,n+""),n):i&&"get"in i&&null!==(r=i.get(t,e))?r:null==(r=x.find.attr(t,e))?void 0:r)},attrHooks:{type:{set:function(t,e){if(!m.radioValue&&"radio"===e&&A(t,"input")){var n=t.value;return t.setAttribute("type",e),n&&(t.value=n),e}}}},removeAttr:function(t,e){var n,r=0,i=e&&e.match(F);if(i&&1===t.nodeType)for(;n=i[r++];)t.removeAttribute(n)}}),fe={set:function(t,e,n){return!1===e?x.removeAttr(t,n):t.setAttribute(n,n),n}},x.each(x.expr.match.bool.source.match(/\w+/g),(function(t,e){var n=ge[e]||x.find.attr;ge[e]=function(t,e,r){var i,o,s=e.toLowerCase();return r||(o=ge[s],ge[s]=i,i=null!=n(t,e,r)?s:null,ge[s]=o),i}}));var me=/^(?:input|select|textarea|button)$/i,ye=/^(?:a|area)$/i;function ve(t){return(t.match(F)||[]).join(" ")}function _e(t){return t.getAttribute&&t.getAttribute("class")||""}function be(t){return Array.isArray(t)?t:"string"==typeof t&&t.match(F)||[]}x.fn.extend({prop:function(t,e){return U(this,x.prop,t,e,arguments.length>1)},removeProp:function(t){return this.each((function(){delete this[x.propFix[t]||t]}))}}),x.extend({prop:function(t,e,n){var r,i,o=t.nodeType;if(3!==o&&8!==o&&2!==o)return 1===o&&x.isXMLDoc(t)||(i=x.propHooks[e=x.propFix[e]||e]),void 0!==n?i&&"set"in i&&void 0!==(r=i.set(t,n,e))?r:t[e]=n:i&&"get"in i&&null!==(r=i.get(t,e))?r:t[e]},propHooks:{tabIndex:{get:function(t){var e=x.find.attr(t,"tabindex");return e?parseInt(e,10):me.test(t.nodeName)||ye.test(t.nodeName)&&t.href?0:-1}}},propFix:{for:"htmlFor",class:"className"}}),m.optSelected||(x.propHooks.selected={get:function(t){return null},set:function(t){}}),x.each(["tabIndex","readOnly","maxLength","cellSpacing","cellPadding","rowSpan","colSpan","useMap","frameBorder","contentEditable"],(function(){x.propFix[this.toLowerCase()]=this})),x.fn.extend({addClass:function(t){var e,n,r,i,o,s,a,l=0;if(y(t))return this.each((function(e){x(this).addClass(t.call(this,e,_e(this)))}));if((e=be(t)).length)for(;n=this[l++];)if(i=_e(n),r=1===n.nodeType&&" "+ve(i)+" "){for(s=0;o=e[s++];)r.indexOf(" "+o+" ")<0&&(r+=o+" ");i!==(a=ve(r))&&n.setAttribute("class",a)}return this},removeClass:function(t){var e,n,r,i,o,s,a,l=0;if(y(t))return this.each((function(e){x(this).removeClass(t.call(this,e,_e(this)))}));if(!arguments.length)return this.attr("class","");if((e=be(t)).length)for(;n=this[l++];)if(i=_e(n),r=1===n.nodeType&&" "+ve(i)+" "){for(s=0;o=e[s++];)for(;r.indexOf(" "+o+" ")>-1;)r=r.replace(" "+o+" "," ");i!==(a=ve(r))&&n.setAttribute("class",a)}return this},toggleClass:function(t,e){var n=typeof t,r="string"===n||Array.isArray(t);return"boolean"==typeof e&&r?e?this.addClass(t):this.removeClass(t):y(t)?this.each((function(n){x(this).toggleClass(t.call(this,n,_e(this),e),e)})):this.each((function(){var e,i,o,s;if(r)for(i=0,o=x(this),s=be(t);e=s[i++];)o.hasClass(e)?o.removeClass(e):o.addClass(e);else void 0!==t&&"boolean"!==n||((e=_e(this))&&Z.set(this,"__className__",e),this.setAttribute&&this.setAttribute("class",e||!1===t?"":Z.get(this,"__className__")||""))}))},hasClass:function(t){var e,n,r=0;for(e=" "+t+" ";n=this[r++];)if(1===n.nodeType&&(" "+ve(_e(n))+" ").indexOf(e)>-1)return!0;return!1}});var we=/\r/g;x.fn.extend({val:function(t){var e,n,r,i=this[0];return arguments.length?(r=y(t),this.each((function(n){var i;1===this.nodeType&&(null==(i=r?t.call(this,n,x(this).val()):t)?i="":"number"==typeof i?i+="":Array.isArray(i)&&(i=x.map(i,(function(t){return null==t?"":t+""}))),(e=x.valHooks[this.type]||x.valHooks[this.nodeName.toLowerCase()])&&"set"in e&&void 0!==e.set(this,i,"value")||(this.value=i))}))):i?(e=x.valHooks[i.type]||x.valHooks[i.nodeName.toLowerCase()])&&"get"in e&&void 0!==(n=e.get(i,"value"))?n:"string"==typeof(n=i.value)?n.replace(we,""):null==n?"":n:void 0}}),x.extend({valHooks:{option:{get:function(t){var e=x.find.attr(t,"value");return null!=e?e:ve(x.text(t))}},select:{get:function(t){var e,n,r,i=t.options,o=t.selectedIndex,s="select-one"===t.type,a=s?null:[],l=s?o+1:i.length;for(r=o<0?l:s?o:0;r<l;r++)if(((n=i[r]).selected||r===o)&&!n.disabled&&(!n.parentNode.disabled||!A(n.parentNode,"optgroup"))){if(e=x(n).val(),s)return e;a.push(e)}return a},set:function(t,e){for(var n,r,i=t.options,o=x.makeArray(e),s=i.length;s--;)((r=i[s]).selected=x.inArray(x.valHooks.option.get(r),o)>-1)&&(n=!0);return n||(t.selectedIndex=-1),o}}}}),x.each(["radio","checkbox"],(function(){x.valHooks[this]={set:function(t,e){if(Array.isArray(e))return t.checked=x.inArray(x(t).val(),e)>-1}},m.checkOn||(x.valHooks[this].get=function(t){return null===t.getAttribute("value")?"on":t.value})})),m.focusin="onfocusin"in n;var Ce=/^(?:focusinfocus|focusoutblur)$/,xe=function(t){t.stopPropagation()};x.extend(x.event,{trigger:function(t,e,r,i){var o,s,a,l,u,c,h,p,f=[r||_],g=d.call(t,"type")?t.type:t,m=d.call(t,"namespace")?t.namespace.split("."):[];if(s=p=a=r=r||_,3!==r.nodeType&&8!==r.nodeType&&!Ce.test(g+x.event.triggered)&&(g.indexOf(".")>-1&&(m=g.split("."),g=m.shift(),m.sort()),u=g.indexOf(":")<0&&"on"+g,(t=t[x.expando]?t:new x.Event(g,"object"==typeof t&&t)).isTrigger=i?2:3,t.namespace=m.join("."),t.rnamespace=t.namespace?new RegExp("(^|\\.)"+m.join("\\.(?:.*\\.|)")+"(\\.|$)"):null,t.result=void 0,t.target||(t.target=r),e=null==e?[t]:x.makeArray(e,[t]),h=x.event.special[g]||{},i||!h.trigger||!1!==h.trigger.apply(r,e))){if(!i&&!h.noBubble&&!v(r)){for(Ce.test((l=h.delegateType||g)+g)||(s=s.parentNode);s;s=s.parentNode)f.push(s),a=s;a===(r.ownerDocument||_)&&f.push(a.defaultView||a.parentWindow||n)}for(o=0;(s=f[o++])&&!t.isPropagationStopped();)p=s,t.type=o>1?l:h.bindType||g,(c=(Z.get(s,"events")||Object.create(null))[t.type]&&Z.get(s,"handle"))&&c.apply(s,e),(c=u&&s[u])&&c.apply&&$(s)&&(t.result=c.apply(s,e),!1===t.result&&t.preventDefault());return t.type=g,i||t.isDefaultPrevented()||h._default&&!1!==h._default.apply(f.pop(),e)||!$(r)||u&&y(r[g])&&!v(r)&&((a=r[u])&&(r[u]=null),x.event.triggered=g,t.isPropagationStopped()&&p.addEventListener(g,xe),r[g](),t.isPropagationStopped()&&p.removeEventListener(g,xe),x.event.triggered=void 0,a&&(r[u]=a)),t.result}},simulate:function(t,e,n){var r=x.extend(new x.Event,n,{type:t,isSimulated:!0});x.event.trigger(r,null,e)}}),x.fn.extend({trigger:function(t,e){return this.each((function(){x.event.trigger(t,e,this)}))},triggerHandler:function(t,e){var n=this[0];if(n)return x.event.trigger(t,e,n,!0)}}),m.focusin||x.each({focus:"focusin",blur:"focusout"},(function(t,e){var n=function(t){x.event.simulate(e,t.target,x.event.fix(t))};x.event.special[e]={setup:function(){var r=this.ownerDocument||this.document||this,i=Z.access(r,e);i||r.addEventListener(t,n,!0),Z.access(r,e,(i||0)+1)},teardown:function(){var r=this.ownerDocument||this.document||this,i=Z.access(r,e)-1;i?Z.access(r,e,i):(r.removeEventListener(t,n,!0),Z.remove(r,e))}}}));var Se=n.location,Pe={guid:Date.now()},Ie=/\?/;x.parseXML=function(t){var e;if(!t||"string"!=typeof t)return null;try{e=(new n.DOMParser).parseFromString(t,"text/xml")}catch(r){e=void 0}return e&&!e.getElementsByTagName("parsererror").length||x.error("Invalid XML: "+t),e};var Ee=/\[\]$/,Te=/\r?\n/g,Ae=/^(?:submit|button|image|reset|file)$/i,ke=/^(?:input|select|textarea|keygen)/i;function Oe(t,e,n,r){var i;if(Array.isArray(e))x.each(e,(function(e,i){n||Ee.test(t)?r(t,i):Oe(t+"["+("object"==typeof i&&null!=i?e:"")+"]",i,n,r)}));else if(n||"object"!==C(e))r(t,e);else for(i in e)Oe(t+"["+i+"]",e[i],n,r)}x.param=function(t,e){var n,r=[],i=function(t,e){var n=y(e)?e():e;r[r.length]=encodeURIComponent(t)+"="+encodeURIComponent(null==n?"":n)};if(null==t)return"";if(Array.isArray(t)||t.jquery&&!x.isPlainObject(t))x.each(t,(function(){i(this.name,this.value)}));else for(n in t)Oe(n,t[n],e,i);return r.join("&")},x.fn.extend({serialize:function(){return x.param(this.serializeArray())},serializeArray:function(){return this.map((function(){var t=x.prop(this,"elements");return t?x.makeArray(t):this})).filter((function(){var t=this.type;return this.name&&!x(this).is(":disabled")&&ke.test(this.nodeName)&&!Ae.test(t)&&(this.checked||!gt.test(t))})).map((function(t,e){var n=x(this).val();return null==n?null:Array.isArray(n)?x.map(n,(function(t){return{name:e.name,value:t.replace(Te,"\r\n")}})):{name:e.name,value:n.replace(Te,"\r\n")}})).get()}});var Me=/%20/g,Re=/#.*$/,De=/([?&])_=[^&]*/,Be=/^(.*?):[ \t]*([^\r\n]*)$/gm,je=/^(?:GET|HEAD)$/,Fe=/^\/\//,ze={},Le={},He="*/".concat("*"),Ne=_.createElement("a");function We(t){return function(e,n){"string"!=typeof e&&(n=e,e="*");var r,i=0,o=e.toLowerCase().match(F)||[];if(y(n))for(;r=o[i++];)"+"===r[0]?(r=r.slice(1)||"*",(t[r]=t[r]||[]).unshift(n)):(t[r]=t[r]||[]).push(n)}}function Ve(t,e,n,r){var i={},o=t===Le;function s(a){var l;return i[a]=!0,x.each(t[a]||[],(function(t,a){var u=a(e,n,r);return"string"!=typeof u||o||i[u]?o?!(l=u):void 0:(e.dataTypes.unshift(u),s(u),!1)})),l}return s(e.dataTypes[0])||!i["*"]&&s("*")}function Ue(t,e){var n,r,i=x.ajaxSettings.flatOptions||{};for(n in e)void 0!==e[n]&&((i[n]?t:r||(r={}))[n]=e[n]);return r&&x.extend(!0,t,r),t}Ne.href=Se.href,x.extend({active:0,lastModified:{},etag:{},ajaxSettings:{url:Se.href,type:"GET",isLocal:/^(?:about|app|app-storage|.+-extension|file|res|widget):$/.test(Se.protocol),global:!0,processData:!0,async:!0,contentType:"application/x-www-form-urlencoded; charset=UTF-8",accepts:{"*":He,text:"text/plain",html:"text/html",xml:"application/xml, text/xml",json:"application/json, text/javascript"},contents:{xml:/\bxml\b/,html:/\bhtml/,json:/\bjson\b/},responseFields:{xml:"responseXML",text:"responseText",json:"responseJSON"},converters:{"* text":String,"text html":!0,"text json":JSON.parse,"text xml":x.parseXML},flatOptions:{url:!0,context:!0}},ajaxSetup:function(t,e){return e?Ue(Ue(t,x.ajaxSettings),e):Ue(x.ajaxSettings,t)},ajaxPrefilter:We(ze),ajaxTransport:We(Le),ajax:function(t,e){"object"==typeof t&&(e=t,t=void 0);var r,i,o,s,a,l,u,c,h,p,d=x.ajaxSetup({},e=e||{}),f=d.context||d,g=d.context&&(f.nodeType||f.jquery)?x(f):x.event,m=x.Deferred(),y=x.Callbacks("once memory"),v=d.statusCode||{},b={},w={},C="canceled",S={readyState:0,getResponseHeader:function(t){var e;if(u){if(!s)for(s={};e=Be.exec(o);)s[e[1].toLowerCase()+" "]=(s[e[1].toLowerCase()+" "]||[]).concat(e[2]);e=s[t.toLowerCase()+" "]}return null==e?null:e.join(", ")},getAllResponseHeaders:function(){return u?o:null},setRequestHeader:function(t,e){return null==u&&(t=w[t.toLowerCase()]=w[t.toLowerCase()]||t,b[t]=e),this},overrideMimeType:function(t){return null==u&&(d.mimeType=t),this},statusCode:function(t){var e;if(t)if(u)S.always(t[S.status]);else for(e in t)v[e]=[v[e],t[e]];return this},abort:function(t){var e=t||C;return r&&r.abort(e),P(0,e),this}};if(m.promise(S),d.url=((t||d.url||Se.href)+"").replace(Fe,Se.protocol+"//"),d.type=e.method||e.type||d.method||d.type,d.dataTypes=(d.dataType||"*").toLowerCase().match(F)||[""],null==d.crossDomain){l=_.createElement("a");try{l.href=d.url,l.href=l.href,d.crossDomain=Ne.protocol+"//"+Ne.host!=l.protocol+"//"+l.host}catch(I){d.crossDomain=!0}}if(d.data&&d.processData&&"string"!=typeof d.data&&(d.data=x.param(d.data,d.traditional)),Ve(ze,d,e,S),u)return S;for(h in(c=x.event&&d.global)&&0==x.active++&&x.event.trigger("ajaxStart"),d.type=d.type.toUpperCase(),d.hasContent=!je.test(d.type),i=d.url.replace(Re,""),d.hasContent?d.data&&d.processData&&0===(d.contentType||"").indexOf("application/x-www-form-urlencoded")&&(d.data=d.data.replace(Me,"+")):(p=d.url.slice(i.length),d.data&&(d.processData||"string"==typeof d.data)&&(i+=(Ie.test(i)?"&":"?")+d.data,delete d.data),!1===d.cache&&(i=i.replace(De,"$1"),p=(Ie.test(i)?"&":"?")+"_="+Pe.guid+++p),d.url=i+p),d.ifModified&&(x.lastModified[i]&&S.setRequestHeader("If-Modified-Since",x.lastModified[i]),x.etag[i]&&S.setRequestHeader("If-None-Match",x.etag[i])),(d.data&&d.hasContent&&!1!==d.contentType||e.contentType)&&S.setRequestHeader("Content-Type",d.contentType),S.setRequestHeader("Accept",d.dataTypes[0]&&d.accepts[d.dataTypes[0]]?d.accepts[d.dataTypes[0]]+("*"!==d.dataTypes[0]?", "+He+"; q=0.01":""):d.accepts["*"]),d.headers)S.setRequestHeader(h,d.headers[h]);if(d.beforeSend&&(!1===d.beforeSend.call(f,S,d)||u))return S.abort();if(C="abort",y.add(d.complete),S.done(d.success),S.fail(d.error),r=Ve(Le,d,e,S)){if(S.readyState=1,c&&g.trigger("ajaxSend",[S,d]),u)return S;d.async&&d.timeout>0&&(a=n.setTimeout((function(){S.abort("timeout")}),d.timeout));try{u=!1,r.send(b,P)}catch(I){if(u)throw I;P(-1,I)}}else P(-1,"No Transport");function P(t,e,s,l){var h,p,_,b,w,C=e;u||(u=!0,a&&n.clearTimeout(a),r=void 0,o=l||"",S.readyState=t>0?4:0,h=t>=200&&t<300||304===t,s&&(b=function(t,e,n){for(var r,i,o,s,a=t.contents,l=t.dataTypes;"*"===l[0];)l.shift(),void 0===r&&(r=t.mimeType||e.getResponseHeader("Content-Type"));if(r)for(i in a)if(a[i]&&a[i].test(r)){l.unshift(i);break}if(l[0]in n)o=l[0];else{for(i in n){if(!l[0]||t.converters[i+" "+l[0]]){o=i;break}s||(s=i)}o=o||s}if(o)return o!==l[0]&&l.unshift(o),n[o]}(d,S,s)),!h&&x.inArray("script",d.dataTypes)>-1&&(d.converters["text script"]=function(){}),b=function(t,e,n,r){var i,o,s,a,l,u={},c=t.dataTypes.slice();if(c[1])for(s in t.converters)u[s.toLowerCase()]=t.converters[s];for(o=c.shift();o;)if(t.responseFields[o]&&(n[t.responseFields[o]]=e),!l&&r&&t.dataFilter&&(e=t.dataFilter(e,t.dataType)),l=o,o=c.shift())if("*"===o)o=l;else if("*"!==l&&l!==o){if(!(s=u[l+" "+o]||u["* "+o]))for(i in u)if((a=i.split(" "))[1]===o&&(s=u[l+" "+a[0]]||u["* "+a[0]])){!0===s?s=u[i]:!0!==u[i]&&(o=a[0],c.unshift(a[1]));break}if(!0!==s)if(s&&t.throws)e=s(e);else try{e=s(e)}catch(I){return{state:"parsererror",error:s?I:"No conversion from "+l+" to "+o}}}return{state:"success",data:e}}(d,b,S,h),h?(d.ifModified&&((w=S.getResponseHeader("Last-Modified"))&&(x.lastModified[i]=w),(w=S.getResponseHeader("etag"))&&(x.etag[i]=w)),204===t||"HEAD"===d.type?C="nocontent":304===t?C="notmodified":(C=b.state,p=b.data,h=!(_=b.error))):(_=C,!t&&C||(C="error",t<0&&(t=0))),S.status=t,S.statusText=(e||C)+"",h?m.resolveWith(f,[p,C,S]):m.rejectWith(f,[S,C,_]),S.statusCode(v),v=void 0,c&&g.trigger(h?"ajaxSuccess":"ajaxError",[S,d,h?p:_]),y.fireWith(f,[S,C]),c&&(g.trigger("ajaxComplete",[S,d]),--x.active||x.event.trigger("ajaxStop")))}return S},getJSON:function(t,e,n){return x.get(t,e,n,"json")},getScript:function(t,e){return x.get(t,void 0,e,"script")}}),x.each(["get","post"],(function(t,e){x[e]=function(t,n,r,i){return y(n)&&(i=i||r,r=n,n=void 0),x.ajax(x.extend({url:t,type:e,dataType:i,data:n,success:r},x.isPlainObject(t)&&t))}})),x.ajaxPrefilter((function(t){var e;for(e in t.headers)"content-type"===e.toLowerCase()&&(t.contentType=t.headers[e]||"")})),x._evalUrl=function(t,e,n){return x.ajax({url:t,type:"GET",dataType:"script",cache:!0,async:!1,global:!1,converters:{"text script":function(){}},dataFilter:function(t){x.globalEval(t,e,n)}})},x.fn.extend({wrapAll:function(t){var e;return this[0]&&(y(t)&&(t=t.call(this[0])),e=x(t,this[0].ownerDocument).eq(0).clone(!0),this[0].parentNode&&e.insertBefore(this[0]),e.map((function(){for(var t=this;t.firstElementChild;)t=t.firstElementChild;return t})).append(this)),this},wrapInner:function(t){return y(t)?this.each((function(e){x(this).wrapInner(t.call(this,e))})):this.each((function(){var e=x(this),n=e.contents();n.length?n.wrapAll(t):e.append(t)}))},wrap:function(t){var e=y(t);return this.each((function(n){x(this).wrapAll(e?t.call(this,n):t)}))},unwrap:function(t){return this.parent(t).not("body").each((function(){x(this).replaceWith(this.childNodes)})),this}}),x.expr.pseudos.hidden=function(t){return!x.expr.pseudos.visible(t)},x.expr.pseudos.visible=function(t){return!!(t.offsetWidth||t.offsetHeight||t.getClientRects().length)},x.ajaxSettings.xhr=function(){try{return new n.XMLHttpRequest}catch(t){}};var qe={0:200,1223:204},Ge=x.ajaxSettings.xhr();m.cors=!!Ge&&"withCredentials"in Ge,m.ajax=Ge=!!Ge,x.ajaxTransport((function(t){var e,r;if(m.cors||Ge&&!t.crossDomain)return{send:function(i,o){var s,a=t.xhr();if(a.open(t.type,t.url,t.async,t.username,t.password),t.xhrFields)for(s in t.xhrFields)a[s]=t.xhrFields[s];for(s in t.mimeType&&a.overrideMimeType&&a.overrideMimeType(t.mimeType),t.crossDomain||i["X-Requested-With"]||(i["X-Requested-With"]="XMLHttpRequest"),i)a.setRequestHeader(s,i[s]);e=function(t){return function(){e&&(e=r=a.onload=a.onerror=a.onabort=a.ontimeout=a.onreadystatechange=null,"abort"===t?a.abort():"error"===t?"number"!=typeof a.status?o(0,"error"):o(a.status,a.statusText):o(qe[a.status]||a.status,a.statusText,"text"!==(a.responseType||"text")||"string"!=typeof a.responseText?{binary:a.response}:{text:a.responseText},a.getAllResponseHeaders()))}},a.onload=e(),r=a.onerror=a.ontimeout=e("error"),void 0!==a.onabort?a.onabort=r:a.onreadystatechange=function(){4===a.readyState&&n.setTimeout((function(){e&&r()}))},e=e("abort");try{a.send(t.hasContent&&t.data||null)}catch(l){if(e)throw l}},abort:function(){e&&e()}}})),x.ajaxPrefilter((function(t){t.crossDomain&&(t.contents.script=!1)})),x.ajaxSetup({accepts:{script:"text/javascript, application/javascript, application/ecmascript, application/x-ecmascript"},contents:{script:/\b(?:java|ecma)script\b/},converters:{"text script":function(t){return x.globalEval(t),t}}}),x.ajaxPrefilter("script",(function(t){void 0===t.cache&&(t.cache=!1),t.crossDomain&&(t.type="GET")})),x.ajaxTransport("script",(function(t){var e,n;if(t.crossDomain||t.scriptAttrs)return{send:function(r,i){e=x("<script>").attr(t.scriptAttrs||{}).prop({charset:t.scriptCharset,src:t.url}).on("load error",n=function(t){e.remove(),n=null,t&&i("error"===t.type?404:200,t.type)}),_.head.appendChild(e[0])},abort:function(){n&&n()}}}));var Ye,Xe=[],$e=/(=)\?(?=&|$)|\?\?/;x.ajaxSetup({jsonp:"callback",jsonpCallback:function(){var t=Xe.pop()||x.expando+"_"+Pe.guid++;return this[t]=!0,t}}),x.ajaxPrefilter("json jsonp",(function(t,e,r){var i,o,s,a=!1!==t.jsonp&&($e.test(t.url)?"url":"string"==typeof t.data&&0===(t.contentType||"").indexOf("application/x-www-form-urlencoded")&&$e.test(t.data)&&"data");if(a||"jsonp"===t.dataTypes[0])return i=t.jsonpCallback=y(t.jsonpCallback)?t.jsonpCallback():t.jsonpCallback,a?t[a]=t[a].replace($e,"$1"+i):!1!==t.jsonp&&(t.url+=(Ie.test(t.url)?"&":"?")+t.jsonp+"="+i),t.converters["script json"]=function(){return s||x.error(i+" was not called"),s[0]},t.dataTypes[0]="json",o=n[i],n[i]=function(){s=arguments},r.always((function(){void 0===o?x(n).removeProp(i):n[i]=o,t[i]&&(t.jsonpCallback=e.jsonpCallback,Xe.push(i)),s&&y(o)&&o(s[0]),s=o=void 0})),"script"})),m.createHTMLDocument=((Ye=_.implementation.createHTMLDocument("").body).innerHTML="<form></form><form></form>",2===Ye.childNodes.length),x.parseHTML=function(t,e,n){return"string"!=typeof t?[]:("boolean"==typeof e&&(n=e,e=!1),e||(m.createHTMLDocument?((r=(e=_.implementation.createHTMLDocument("")).createElement("base")).href=_.location.href,e.head.appendChild(r)):e=_),o=!n&&[],(i=k.exec(t))?[e.createElement(i[1])]:(i=Ct([t],e,o),o&&o.length&&x(o).remove(),x.merge([],i.childNodes)));var r,i,o},x.fn.load=function(t,e,n){var r,i,o,s=this,a=t.indexOf(" ");return a>-1&&(r=ve(t.slice(a)),t=t.slice(0,a)),y(e)?(n=e,e=void 0):e&&"object"==typeof e&&(i="POST"),s.length>0&&x.ajax({url:t,type:i||"GET",dataType:"html",data:e}).done((function(t){o=arguments,s.html(r?x("<div>").append(x.parseHTML(t)).find(r):t)})).always(n&&function(t,e){s.each((function(){n.apply(this,o||[t.responseText,e,t])}))}),this},x.expr.pseudos.animated=function(t){return x.grep(x.timers,(function(e){return t===e.elem})).length},x.offset={setOffset:function(t,e,n){var r,i,o,s,a,l,u=x.css(t,"position"),c=x(t),h={};"static"===u&&(t.style.position="relative"),a=c.offset(),o=x.css(t,"top"),l=x.css(t,"left"),("absolute"===u||"fixed"===u)&&(o+l).indexOf("auto")>-1?(s=(r=c.position()).top,i=r.left):(s=parseFloat(o)||0,i=parseFloat(l)||0),y(e)&&(e=e.call(t,n,x.extend({},a))),null!=e.top&&(h.top=e.top-a.top+s),null!=e.left&&(h.left=e.left-a.left+i),"using"in e?e.using.call(t,h):("number"==typeof h.top&&(h.top+="px"),"number"==typeof h.left&&(h.left+="px"),c.css(h))}},x.fn.extend({offset:function(t){if(arguments.length)return void 0===t?this:this.each((function(e){x.offset.setOffset(this,t,e)}));var e,n,r=this[0];return r?r.getClientRects().length?{top:(e=r.getBoundingClientRect()).top+(n=r.ownerDocument.defaultView).pageYOffset,left:e.left+n.pageXOffset}:{top:0,left:0}:void 0},position:function(){if(this[0]){var t,e,n,r=this[0],i={top:0,left:0};if("fixed"===x.css(r,"position"))e=r.getBoundingClientRect();else{for(e=this.offset(),n=r.ownerDocument,t=r.offsetParent||n.documentElement;t&&(t===n.body||t===n.documentElement)&&"static"===x.css(t,"position");)t=t.parentNode;t&&t!==r&&1===t.nodeType&&((i=x(t).offset()).top+=x.css(t,"borderTopWidth",!0),i.left+=x.css(t,"borderLeftWidth",!0))}return{top:e.top-i.top-x.css(r,"marginTop",!0),left:e.left-i.left-x.css(r,"marginLeft",!0)}}},offsetParent:function(){return this.map((function(){for(var t=this.offsetParent;t&&"static"===x.css(t,"position");)t=t.offsetParent;return t||ot}))}}),x.each({scrollLeft:"pageXOffset",scrollTop:"pageYOffset"},(function(t,e){var n="pageYOffset"===e;x.fn[t]=function(r){return U(this,(function(t,r,i){var o;if(v(t)?o=t:9===t.nodeType&&(o=t.defaultView),void 0===i)return o?o[e]:t[r];o?o.scrollTo(n?o.pageXOffset:i,n?i:o.pageYOffset):t[r]=i}),t,r,arguments.length)}})),x.each(["top","left"],(function(t,e){x.cssHooks[e]=Gt(m.pixelPosition,(function(t,n){if(n)return n=qt(t,e),Nt.test(n)?x(t).position()[e]+"px":n}))})),x.each({Height:"height",Width:"width"},(function(t,e){x.each({padding:"inner"+t,content:e,"":"outer"+t},(function(n,r){x.fn[r]=function(i,o){var s=arguments.length&&(n||"boolean"!=typeof i),a=n||(!0===i||!0===o?"margin":"border");return U(this,(function(e,n,i){var o;return v(e)?0===r.indexOf("outer")?e["inner"+t]:e.document.documentElement["client"+t]:9===e.nodeType?(o=e.documentElement,Math.max(e.body["scroll"+t],o["scroll"+t],e.body["offset"+t],o["offset"+t],o["client"+t])):void 0===i?x.css(e,n,a):x.style(e,n,i,a)}),e,s?i:void 0,s)}}))})),x.each(["ajaxStart","ajaxStop","ajaxComplete","ajaxError","ajaxSuccess","ajaxSend"],(function(t,e){x.fn[e]=function(t){return this.on(e,t)}})),x.fn.extend({bind:function(t,e,n){return this.on(t,null,e,n)},unbind:function(t,e){return this.off(t,null,e)},delegate:function(t,e,n,r){return this.on(e,t,n,r)},undelegate:function(t,e,n){return 1===arguments.length?this.off(t,"**"):this.off(e,t||"**",n)},hover:function(t,e){return this.mouseenter(t).mouseleave(e||t)}}),x.each("blur focus focusin focusout resize scroll click dblclick mousedown mouseup mousemove mouseover mouseout mouseenter mouseleave change select submit keydown keypress keyup contextmenu".split(" "),(function(t,e){x.fn[e]=function(t,n){return arguments.length>0?this.on(e,null,t,n):this.trigger(e)}}));var Qe=/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g;x.proxy=function(t,e){var n,r,i;if("string"==typeof e&&(n=t[e],e=t,t=n),y(t))return r=a.call(arguments,2),(i=function(){return t.apply(e||this,r.concat(a.call(arguments)))}).guid=t.guid=t.guid||x.guid++,i},x.holdReady=function(t){t?x.readyWait++:x.ready(!0)},x.isArray=Array.isArray,x.parseJSON=JSON.parse,x.nodeName=A,x.isFunction=y,x.isWindow=v,x.camelCase=X,x.type=C,x.now=Date.now,x.isNumeric=function(t){var e=x.type(t);return("number"===e||"string"===e)&&!isNaN(t-parseFloat(t))},x.trim=function(t){return null==t?"":(t+"").replace(Qe,"")},void 0===(r=(function(){return x}).apply(e,[]))||(t.exports=r);var Ze=n.jQuery,Ke=n.$;return x.noConflict=function(t){return n.$===x&&(n.$=Ke),t&&n.jQuery===x&&(n.jQuery=Ze),x},void 0===i&&(n.jQuery=n.$=x),x}))},JJ8B:function(t,e,n){"use strict";var r=n("1hPV");e.canReportError=function(t){for(;t;){var e=t.destination;if(t.closed||t.isStopped)return!1;t=e&&e instanceof r.Subscriber?e:null}return!0}},O09R:function(t,e,n){"use strict";function r(){return Error.call(this),this.message="object unsubscribed",this.name="ObjectUnsubscribedError",this}r.prototype=Object.create(Error.prototype),e.ObjectUnsubscribedError=r},QuXn:function(t,e,n){"use strict";var r=!1;e.config={Promise:void 0,set useDeprecatedSynchronousErrorHandling(t){if(t){var e=new Error;console.warn("DEPRECATED! RxJS was set to use deprecated synchronous error handling behavior by code at: \n"+e.stack)}else r&&console.log("RxJS: Back to a better error behavior. Thank you. <3");r=t},get useDeprecatedSynchronousErrorHandling(){return r}}},Rdb5:function(t,e,n){var r=n("D57K").__extends;e.SubjectSubscription=function(t){function e(e,n){var r=t.call(this)||this;return r.subject=e,r.subscriber=n,r.closed=!1,r}return r(e,t),e.prototype.unsubscribe=function(){if(!this.closed){this.closed=!0;var t=this.subject,e=t.observers;if(this.subject=null,e&&0!==e.length&&!t.isStopped&&!t.closed){var n=e.indexOf(this.subscriber);-1!==n&&e.splice(n,1)}}},e}(n("6Br6").Subscription)},SRVR:function(t,e){var n=/[^\\];|^;/,r=/[^\\],|^,/;function i(t){return t.match(n)?o(t=t.replace(/\\,/g,","),";"):t.match(r)?o(t=t.replace(/\\;/g,";"),","):t.replace(/\\,/g,",").replace(/\\;/g,";")}function o(t,e){var n=new RegExp(e),r=new RegExp("\\\\"+e,"g");return(t=t.replace(r,"\u03a9\u03a9\u03a9")).match(n)?(t=t.split(e)).map((function(t){return t.replace(/\u03a9\u03a9\u03a9/g,e)})):t.replace(/\u03a9\u03a9\u03a9/g,e)}var s=function(){function t(){return Math.floor(65536*(1+Math.random())).toString(16).substring(1)}return function(){return t()+t()+"-"+t()+"-"+t()+"-"+t()+"-"+t()+t()+t()}}(),a=["nickname","related","categories","pid"],l=["fn"];t.exports={parse:function(t){for(var e,n,r,o,s,a={},l=t.split(/\r\n|\r|\n/),u=l.length,c=0;c<u;c++)if(""!==l[c]&&"BEGIN:VCARD"!==l[c].toUpperCase()&&"END:VCARD"!==l[c].toUpperCase()){var h=l[c],p=function(t){return t+1<u&&(" "===l[t+1][0]||"\t"===l[t+1][0])};if(p(c))for(;p(c);)h+=l[c+1].trim(),c++;if(n=(e=h.split(":")).shift(),r=e.join(":"),s=!1,o={},n.match(/;/)){var d=(n=n.replace(/\\;/g,"\u03a9\u03a9\u03a9").replace(/\\,/,",")).split(";").map((function(t){return t.replace(/\u03a9\u03a9\u03a9/g,";")}));n=d.shift(),d.forEach((function(t){var e=t.split("=");e[0]=e[0].toLowerCase(),0!==e[0].length&&(o[e[0]]?o[e[0]].push(e[1]):o[e[0]]=[e[1]])}))}if(r=i(r=r.replace(/\\n/g,"\n")),n.match(/\./)){var f=n.split(".");n=f[1],s=f[0]}var g={value:r};Object.keys(o).length&&(g.meta=o),s&&(g.namespace=s),0!==n.indexOf("X-")&&(n=n.toLowerCase()),void 0===a[n]?a[n]=[g]:a[n].push(g)}return a},generate:function(t,e){var n=["BEGIN:VCARD"],r="";e&&!t.version&&(t.version=[{value:"3.0"}]),e&&!t.uid&&(t.uid=[{value:s()}]);var i=function(t){return void 0===t?"":t.replace(/\n/g,"\\n").replace(/;/g,"\\;").replace(/,/g,"\\,")};return Object.keys(t).forEach((function(e){t[e]&&"function"==typeof t[e].forEach&&t[e].forEach((function(t){if(void 0!==t.value&&(""!==t.value||-1!==l.indexOf(e))){if(t.value instanceof Array){for(var o=!0,s=0;s<t.value.length;s++)if(void 0!==t.value[s]&&""!==t.value[s]){o=!1;break}if(o)return}if(r="",t.namespace&&(r+=t.namespace+"."),r+=0===e.indexOf("X-")?e:e.toUpperCase(),"object"==typeof t.meta&&Object.keys(t.meta).forEach((function(e){"function"==typeof t.meta[e].forEach&&t.meta[e].forEach((function(t){var n;e.length>0&&("TYPE"===e.toUpperCase()?r+=";"+i(e.toUpperCase())+"="+(void 0===(n=t)?"":n.replace(/\n/g,"\\n").replace(/;/g,"\\;")):r+=";"+i(e.toUpperCase())+"="+i(t))}))})),r+=":","string"==typeof t.value)r+=i(t.value);else{var u=-1!==a.indexOf(e)?",":";";r+=t.value.map((function(t){return i(t)})).join(u)}if(r.length>75){var c=r.substr(0,75),h=r.substr(75).match(/.{1,74}/g);n.push(c),h.forEach((function(t){n.push(" "+t)}))}else n.push(r)}}))})),n.push("END:VCARD"),n.join("\r\n")}}},UT4o:function(t,e,n){var r;(function(){var n=this,i=n._,o=Array.prototype,s=Object.prototype,a=Function.prototype,l=o.push,u=o.slice,c=s.toString,h=s.hasOwnProperty,p=Array.isArray,d=Object.keys,f=a.bind,g=Object.create,m=function(){},y=function(t){return t instanceof y?t:this instanceof y?void(this._wrapped=t):new y(t)};t.exports&&(e=t.exports=y),e._=y,y.VERSION="1.8.3";var v=function(t,e,n){if(void 0===e)return t;switch(null==n?3:n){case 1:return function(n){return t.call(e,n)};case 2:return function(n,r){return t.call(e,n,r)};case 3:return function(n,r,i){return t.call(e,n,r,i)};case 4:return function(n,r,i,o){return t.call(e,n,r,i,o)}}return function(){return t.apply(e,arguments)}},_=function(t,e,n){return null==t?y.identity:y.isFunction(t)?v(t,e,n):y.isObject(t)?y.matcher(t):y.property(t)};y.iteratee=function(t,e){return _(t,e,1/0)};var b=function(t,e){return function(n){var r=arguments.length;if(r<2||null==n)return n;for(var i=1;i<r;i++)for(var o=arguments[i],s=t(o),a=s.length,l=0;l<a;l++){var u=s[l];e&&void 0!==n[u]||(n[u]=o[u])}return n}},w=function(t){if(!y.isObject(t))return{};if(g)return g(t);m.prototype=t;var e=new m;return m.prototype=null,e},C=function(t){return function(e){return null==e?void 0:e[t]}},x=Math.pow(2,53)-1,S=C("length"),P=function(t){var e=S(t);return"number"==typeof e&&e>=0&&e<=x};function I(t){function e(e,n,r,i,o,s){for(;o>=0&&o<s;o+=t){var a=i?i[o]:o;r=n(r,e[a],a,e)}return r}return function(n,r,i,o){r=v(r,o,4);var s=!P(n)&&y.keys(n),a=(s||n).length,l=t>0?0:a-1;return arguments.length<3&&(i=n[s?s[l]:l],l+=t),e(n,r,i,s,l,a)}}y.each=y.forEach=function(t,e,n){var r,i;if(e=v(e,n),P(t))for(r=0,i=t.length;r<i;r++)e(t[r],r,t);else{var o=y.keys(t);for(r=0,i=o.length;r<i;r++)e(t[o[r]],o[r],t)}return t},y.map=y.collect=function(t,e,n){e=_(e,n);for(var r=!P(t)&&y.keys(t),i=(r||t).length,o=Array(i),s=0;s<i;s++){var a=r?r[s]:s;o[s]=e(t[a],a,t)}return o},y.reduce=y.foldl=y.inject=I(1),y.reduceRight=y.foldr=I(-1),y.find=y.detect=function(t,e,n){var r;if(void 0!==(r=P(t)?y.findIndex(t,e,n):y.findKey(t,e,n))&&-1!==r)return t[r]},y.filter=y.select=function(t,e,n){var r=[];return e=_(e,n),y.each(t,(function(t,n,i){e(t,n,i)&&r.push(t)})),r},y.reject=function(t,e,n){return y.filter(t,y.negate(_(e)),n)},y.every=y.all=function(t,e,n){e=_(e,n);for(var r=!P(t)&&y.keys(t),i=(r||t).length,o=0;o<i;o++){var s=r?r[o]:o;if(!e(t[s],s,t))return!1}return!0},y.some=y.any=function(t,e,n){e=_(e,n);for(var r=!P(t)&&y.keys(t),i=(r||t).length,o=0;o<i;o++){var s=r?r[o]:o;if(e(t[s],s,t))return!0}return!1},y.contains=y.includes=y.include=function(t,e,n,r){return P(t)||(t=y.values(t)),("number"!=typeof n||r)&&(n=0),y.indexOf(t,e,n)>=0},y.invoke=function(t,e){var n=u.call(arguments,2),r=y.isFunction(e);return y.map(t,(function(t){var i=r?e:t[e];return null==i?i:i.apply(t,n)}))},y.pluck=function(t,e){return y.map(t,y.property(e))},y.where=function(t,e){return y.filter(t,y.matcher(e))},y.findWhere=function(t,e){return y.find(t,y.matcher(e))},y.max=function(t,e,n){var r,i,o=-1/0,s=-1/0;if(null==e&&null!=t)for(var a=0,l=(t=P(t)?t:y.values(t)).length;a<l;a++)(r=t[a])>o&&(o=r);else e=_(e,n),y.each(t,(function(t,n,r){((i=e(t,n,r))>s||i===-1/0&&o===-1/0)&&(o=t,s=i)}));return o},y.min=function(t,e,n){var r,i,o=1/0,s=1/0;if(null==e&&null!=t)for(var a=0,l=(t=P(t)?t:y.values(t)).length;a<l;a++)(r=t[a])<o&&(o=r);else e=_(e,n),y.each(t,(function(t,n,r){((i=e(t,n,r))<s||i===1/0&&o===1/0)&&(o=t,s=i)}));return o},y.shuffle=function(t){for(var e,n=P(t)?t:y.values(t),r=n.length,i=Array(r),o=0;o<r;o++)(e=y.random(0,o))!==o&&(i[o]=i[e]),i[e]=n[o];return i},y.sample=function(t,e,n){return null==e||n?(P(t)||(t=y.values(t)),t[y.random(t.length-1)]):y.shuffle(t).slice(0,Math.max(0,e))},y.sortBy=function(t,e,n){return e=_(e,n),y.pluck(y.map(t,(function(t,n,r){return{value:t,index:n,criteria:e(t,n,r)}})).sort((function(t,e){var n=t.criteria,r=e.criteria;if(n!==r){if(n>r||void 0===n)return 1;if(n<r||void 0===r)return-1}return t.index-e.index})),"value")};var E=function(t){return function(e,n,r){var i={};return n=_(n,r),y.each(e,(function(r,o){var s=n(r,o,e);t(i,r,s)})),i}};y.groupBy=E((function(t,e,n){y.has(t,n)?t[n].push(e):t[n]=[e]})),y.indexBy=E((function(t,e,n){t[n]=e})),y.countBy=E((function(t,e,n){y.has(t,n)?t[n]++:t[n]=1})),y.toArray=function(t){return t?y.isArray(t)?u.call(t):P(t)?y.map(t,y.identity):y.values(t):[]},y.size=function(t){return null==t?0:P(t)?t.length:y.keys(t).length},y.partition=function(t,e,n){e=_(e,n);var r=[],i=[];return y.each(t,(function(t,n,o){(e(t,n,o)?r:i).push(t)})),[r,i]},y.first=y.head=y.take=function(t,e,n){if(null!=t)return null==e||n?t[0]:y.initial(t,t.length-e)},y.initial=function(t,e,n){return u.call(t,0,Math.max(0,t.length-(null==e||n?1:e)))},y.last=function(t,e,n){if(null!=t)return null==e||n?t[t.length-1]:y.rest(t,Math.max(0,t.length-e))},y.rest=y.tail=y.drop=function(t,e,n){return u.call(t,null==e||n?1:e)},y.compact=function(t){return y.filter(t,y.identity)};var T=function(t,e,n,r){for(var i=[],o=0,s=r||0,a=S(t);s<a;s++){var l=t[s];if(P(l)&&(y.isArray(l)||y.isArguments(l))){e||(l=T(l,e,n));var u=0,c=l.length;for(i.length+=c;u<c;)i[o++]=l[u++]}else n||(i[o++]=l)}return i};function A(t){return function(e,n,r){n=_(n,r);for(var i=S(e),o=t>0?0:i-1;o>=0&&o<i;o+=t)if(n(e[o],o,e))return o;return-1}}function k(t,e,n){return function(r,i,o){var s=0,a=S(r);if("number"==typeof o)t>0?s=o>=0?o:Math.max(o+a,s):a=o>=0?Math.min(o+1,a):o+a+1;else if(n&&o&&a)return r[o=n(r,i)]===i?o:-1;if(i!=i)return(o=e(u.call(r,s,a),y.isNaN))>=0?o+s:-1;for(o=t>0?s:a-1;o>=0&&o<a;o+=t)if(r[o]===i)return o;return-1}}y.flatten=function(t,e){return T(t,e,!1)},y.without=function(t){return y.difference(t,u.call(arguments,1))},y.uniq=y.unique=function(t,e,n,r){y.isBoolean(e)||(r=n,n=e,e=!1),null!=n&&(n=_(n,r));for(var i=[],o=[],s=0,a=S(t);s<a;s++){var l=t[s],u=n?n(l,s,t):l;e?(s&&o===u||i.push(l),o=u):n?y.contains(o,u)||(o.push(u),i.push(l)):y.contains(i,l)||i.push(l)}return i},y.union=function(){return y.uniq(T(arguments,!0,!0))},y.intersection=function(t){for(var e=[],n=arguments.length,r=0,i=S(t);r<i;r++){var o=t[r];if(!y.contains(e,o)){for(var s=1;s<n&&y.contains(arguments[s],o);s++);s===n&&e.push(o)}}return e},y.difference=function(t){var e=T(arguments,!0,!0,1);return y.filter(t,(function(t){return!y.contains(e,t)}))},y.zip=function(){return y.unzip(arguments)},y.unzip=function(t){for(var e=t&&y.max(t,S).length||0,n=Array(e),r=0;r<e;r++)n[r]=y.pluck(t,r);return n},y.object=function(t,e){for(var n={},r=0,i=S(t);r<i;r++)e?n[t[r]]=e[r]:n[t[r][0]]=t[r][1];return n},y.findIndex=A(1),y.findLastIndex=A(-1),y.sortedIndex=function(t,e,n,r){for(var i=(n=_(n,r,1))(e),o=0,s=S(t);o<s;){var a=Math.floor((o+s)/2);n(t[a])<i?o=a+1:s=a}return o},y.indexOf=k(1,y.findIndex,y.sortedIndex),y.lastIndexOf=k(-1,y.findLastIndex),y.range=function(t,e,n){null==e&&(e=t||0,t=0),n=n||1;for(var r=Math.max(Math.ceil((e-t)/n),0),i=Array(r),o=0;o<r;o++,t+=n)i[o]=t;return i};var O=function(t,e,n,r,i){if(!(r instanceof e))return t.apply(n,i);var o=w(t.prototype),s=t.apply(o,i);return y.isObject(s)?s:o};y.bind=function(t,e){if(f&&t.bind===f)return f.apply(t,u.call(arguments,1));if(!y.isFunction(t))throw new TypeError("Bind must be called on a function");var n=u.call(arguments,2),r=function(){return O(t,r,e,this,n.concat(u.call(arguments)))};return r},y.partial=function(t){var e=u.call(arguments,1),n=function(){for(var r=0,i=e.length,o=Array(i),s=0;s<i;s++)o[s]=e[s]===y?arguments[r++]:e[s];for(;r<arguments.length;)o.push(arguments[r++]);return O(t,n,this,this,o)};return n},y.bindAll=function(t){var e,n,r=arguments.length;if(r<=1)throw new Error("bindAll must be passed function names");for(e=1;e<r;e++)t[n=arguments[e]]=y.bind(t[n],t);return t},y.memoize=function(t,e){var n=function(r){var i=n.cache,o=""+(e?e.apply(this,arguments):r);return y.has(i,o)||(i[o]=t.apply(this,arguments)),i[o]};return n.cache={},n},y.delay=function(t,e){var n=u.call(arguments,2);return setTimeout((function(){return t.apply(null,n)}),e)},y.defer=y.partial(y.delay,y,1),y.throttle=function(t,e,n){var r,i,o,s=null,a=0;n||(n={});var l=function(){a=!1===n.leading?0:y.now(),s=null,o=t.apply(r,i),s||(r=i=null)};return function(){var u=y.now();a||!1!==n.leading||(a=u);var c=e-(u-a);return r=this,i=arguments,c<=0||c>e?(s&&(clearTimeout(s),s=null),a=u,o=t.apply(r,i),s||(r=i=null)):s||!1===n.trailing||(s=setTimeout(l,c)),o}},y.debounce=function(t,e,n){var r,i,o,s,a,l=function(){var u=y.now()-s;u<e&&u>=0?r=setTimeout(l,e-u):(r=null,n||(a=t.apply(o,i),r||(o=i=null)))};return function(){o=this,i=arguments,s=y.now();var u=n&&!r;return r||(r=setTimeout(l,e)),u&&(a=t.apply(o,i),o=i=null),a}},y.wrap=function(t,e){return y.partial(e,t)},y.negate=function(t){return function(){return!t.apply(this,arguments)}},y.compose=function(){var t=arguments,e=t.length-1;return function(){for(var n=e,r=t[e].apply(this,arguments);n--;)r=t[n].call(this,r);return r}},y.after=function(t,e){return function(){if(--t<1)return e.apply(this,arguments)}},y.before=function(t,e){var n;return function(){return--t>0&&(n=e.apply(this,arguments)),t<=1&&(e=null),n}},y.once=y.partial(y.before,2);var M=!{toString:null}.propertyIsEnumerable("toString"),R=["valueOf","isPrototypeOf","toString","propertyIsEnumerable","hasOwnProperty","toLocaleString"];function D(t,e){var n=R.length,r=t.constructor,i=y.isFunction(r)&&r.prototype||s,o="constructor";for(y.has(t,o)&&!y.contains(e,o)&&e.push(o);n--;)(o=R[n])in t&&t[o]!==i[o]&&!y.contains(e,o)&&e.push(o)}y.keys=function(t){if(!y.isObject(t))return[];if(d)return d(t);var e=[];for(var n in t)y.has(t,n)&&e.push(n);return M&&D(t,e),e},y.allKeys=function(t){if(!y.isObject(t))return[];var e=[];for(var n in t)e.push(n);return M&&D(t,e),e},y.values=function(t){for(var e=y.keys(t),n=e.length,r=Array(n),i=0;i<n;i++)r[i]=t[e[i]];return r},y.mapObject=function(t,e,n){e=_(e,n);for(var r,i=y.keys(t),o=i.length,s={},a=0;a<o;a++)s[r=i[a]]=e(t[r],r,t);return s},y.pairs=function(t){for(var e=y.keys(t),n=e.length,r=Array(n),i=0;i<n;i++)r[i]=[e[i],t[e[i]]];return r},y.invert=function(t){for(var e={},n=y.keys(t),r=0,i=n.length;r<i;r++)e[t[n[r]]]=n[r];return e},y.functions=y.methods=function(t){var e=[];for(var n in t)y.isFunction(t[n])&&e.push(n);return e.sort()},y.extend=b(y.allKeys),y.extendOwn=y.assign=b(y.keys),y.findKey=function(t,e,n){e=_(e,n);for(var r,i=y.keys(t),o=0,s=i.length;o<s;o++)if(e(t[r=i[o]],r,t))return r},y.pick=function(t,e,n){var r,i,o={},s=t;if(null==s)return o;y.isFunction(e)?(i=y.allKeys(s),r=v(e,n)):(i=T(arguments,!1,!1,1),r=function(t,e,n){return e in n},s=Object(s));for(var a=0,l=i.length;a<l;a++){var u=i[a],c=s[u];r(c,u,s)&&(o[u]=c)}return o},y.omit=function(t,e,n){if(y.isFunction(e))e=y.negate(e);else{var r=y.map(T(arguments,!1,!1,1),String);e=function(t,e){return!y.contains(r,e)}}return y.pick(t,e,n)},y.defaults=b(y.allKeys,!0),y.create=function(t,e){var n=w(t);return e&&y.extendOwn(n,e),n},y.clone=function(t){return y.isObject(t)?y.isArray(t)?t.slice():y.extend({},t):t},y.tap=function(t,e){return e(t),t},y.isMatch=function(t,e){var n=y.keys(e),r=n.length;if(null==t)return!r;for(var i=Object(t),o=0;o<r;o++){var s=n[o];if(e[s]!==i[s]||!(s in i))return!1}return!0};var B=function(t,e,n,r){if(t===e)return 0!==t||1/t==1/e;if(null==t||null==e)return t===e;t instanceof y&&(t=t._wrapped),e instanceof y&&(e=e._wrapped);var i=c.call(t);if(i!==c.call(e))return!1;switch(i){case"[object RegExp]":case"[object String]":return""+t==""+e;case"[object Number]":return+t!=+t?+e!=+e:0==+t?1/+t==1/e:+t==+e;case"[object Date]":case"[object Boolean]":return+t==+e}var o="[object Array]"===i;if(!o){if("object"!=typeof t||"object"!=typeof e)return!1;var s=t.constructor,a=e.constructor;if(s!==a&&!(y.isFunction(s)&&s instanceof s&&y.isFunction(a)&&a instanceof a)&&"constructor"in t&&"constructor"in e)return!1}r=r||[];for(var l=(n=n||[]).length;l--;)if(n[l]===t)return r[l]===e;if(n.push(t),r.push(e),o){if((l=t.length)!==e.length)return!1;for(;l--;)if(!B(t[l],e[l],n,r))return!1}else{var u,h=y.keys(t);if(l=h.length,y.keys(e).length!==l)return!1;for(;l--;)if(!y.has(e,u=h[l])||!B(t[u],e[u],n,r))return!1}return n.pop(),r.pop(),!0};y.isEqual=function(t,e){return B(t,e)},y.isEmpty=function(t){return null==t||(P(t)&&(y.isArray(t)||y.isString(t)||y.isArguments(t))?0===t.length:0===y.keys(t).length)},y.isElement=function(t){return!(!t||1!==t.nodeType)},y.isArray=p||function(t){return"[object Array]"===c.call(t)},y.isObject=function(t){var e=typeof t;return"function"===e||"object"===e&&!!t},y.each(["Arguments","Function","String","Number","Date","RegExp","Error"],(function(t){y["is"+t]=function(e){return c.call(e)==="[object "+t+"]"}})),y.isArguments(arguments)||(y.isArguments=function(t){return y.has(t,"callee")}),"object"!=typeof Int8Array&&(y.isFunction=function(t){return"function"==typeof t||!1}),y.isFinite=function(t){return isFinite(t)&&!isNaN(parseFloat(t))},y.isNaN=function(t){return y.isNumber(t)&&t!==+t},y.isBoolean=function(t){return!0===t||!1===t||"[object Boolean]"===c.call(t)},y.isNull=function(t){return null===t},y.isUndefined=function(t){return void 0===t},y.has=function(t,e){return null!=t&&h.call(t,e)},y.noConflict=function(){return n._=i,this},y.identity=function(t){return t},y.constant=function(t){return function(){return t}},y.noop=function(){},y.property=C,y.propertyOf=function(t){return null==t?function(){}:function(e){return t[e]}},y.matcher=y.matches=function(t){return t=y.extendOwn({},t),function(e){return y.isMatch(e,t)}},y.times=function(t,e,n){var r=Array(Math.max(0,t));e=v(e,n,1);for(var i=0;i<t;i++)r[i]=e(i);return r},y.random=function(t,e){return null==e&&(e=t,t=0),t+Math.floor(Math.random()*(e-t+1))},y.now=Date.now||function(){return(new Date).getTime()};var j={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#x27;","`":"&#x60;"},F=y.invert(j),z=function(t){var e=function(e){return t[e]},n="(?:"+y.keys(t).join("|")+")",r=RegExp(n),i=RegExp(n,"g");return function(t){return r.test(t=null==t?"":""+t)?t.replace(i,e):t}};y.escape=z(j),y.unescape=z(F),y.result=function(t,e,n){var r=null==t?void 0:t[e];return void 0===r&&(r=n),y.isFunction(r)?r.call(t):r};var L=0;y.uniqueId=function(t){var e=++L+"";return t?t+e:e},y.templateSettings={evaluate:/<%([\s\S]+?)%>/g,interpolate:/<%=([\s\S]+?)%>/g,escape:/<%-([\s\S]+?)%>/g};var H=/(.)^/,N={"'":"'","\\":"\\","\r":"r","\n":"n","\u2028":"u2028","\u2029":"u2029"},W=/\\|'|\r|\n|\u2028|\u2029/g,V=function(t){return"\\"+N[t]};y.template=function(t,e,n){!e&&n&&(e=n),e=y.defaults({},e,y.templateSettings);var r=RegExp([(e.escape||H).source,(e.interpolate||H).source,(e.evaluate||H).source].join("|")+"|$","g"),i=0,o="__p+='";t.replace(r,(function(e,n,r,s,a){return o+=t.slice(i,a).replace(W,V),i=a+e.length,n?o+="'+\n((__t=("+n+"))==null?'':_.escape(__t))+\n'":r?o+="'+\n((__t=("+r+"))==null?'':__t)+\n'":s&&(o+="';\n"+s+"\n__p+='"),e})),o+="';\n",e.variable||(o="with(obj||{}){\n"+o+"}\n"),o="var __t,__p='',__j=Array.prototype.join,print=function(){__p+=__j.call(arguments,'');};\n"+o+"return __p;\n";try{var s=new Function(e.variable||"obj","_",o)}catch(l){throw l.source=o,l}var a=function(t){return s.call(this,t,y)};return a.source="function("+(e.variable||"obj")+"){\n"+o+"}",a},y.chain=function(t){var e=y(t);return e._chain=!0,e};var U=function(t,e){return t._chain?y(e).chain():e};y.mixin=function(t){y.each(y.functions(t),(function(e){var n=y[e]=t[e];y.prototype[e]=function(){var t=[this._wrapped];return l.apply(t,arguments),U(this,n.apply(y,t))}}))},y.mixin(y),y.each(["pop","push","reverse","shift","sort","splice","unshift"],(function(t){var e=o[t];y.prototype[t]=function(){var n=this._wrapped;return e.apply(n,arguments),"shift"!==t&&"splice"!==t||0!==n.length||delete n[0],U(this,n)}})),y.each(["concat","join","slice"],(function(t){var e=o[t];y.prototype[t]=function(){return U(this,e.apply(this._wrapped,arguments))}})),y.prototype.value=function(){return this._wrapped},y.prototype.valueOf=y.prototype.toJSON=y.prototype.value,y.prototype.toString=function(){return""+this._wrapped},void 0===(r=(function(){return y}).apply(e,[]))||(t.exports=r)}).call(this)},Yfti:function(t,e,n){"use strict";var r=n("1hPV"),i=n("7oWP"),o=n("uzuk");e.toSubscriber=function(t,e,n){if(t){if(t instanceof r.Subscriber)return t;if(t[i.rxSubscriber])return t[i.rxSubscriber]()}return t||e||n?new r.Subscriber(t,e,n):new r.Subscriber(o.empty)}},ZGdk:function(t,e,n){"use strict";function r(t){return Error.call(this),this.message=t?t.length+" errors occurred during unsubscription:\n"+t.map((function(t,e){return e+1+") "+t.toString()})).join("\n  "):"",this.name="UnsubscriptionError",this.errors=t,this}r.prototype=Object.create(Error.prototype),e.UnsubscriptionError=r},a96P:function(t,e,n){"use strict";e.isObject=function(t){return null!==t&&"object"==typeof t}},aYSr:function(t,e){t.exports=function(t){return t.webpackPolyfill||(t.deprecate=function(){},t.paths=[],t.children||(t.children=[]),Object.defineProperty(t,"loaded",{enumerable:!0,get:function(){return t.l}}),Object.defineProperty(t,"id",{enumerable:!0,get:function(){return t.i}}),t.webpackPolyfill=1),t}},hjML:function(t,e,n){"use strict";e.noop=function(){}},iGQJ:function(t,e,n){var r=n("nuWL");r.prototype[Symbol.iterator]||(r.prototype[Symbol.iterator]=function(){var t=this.getEnumerator();return{next:function(){return t.moveNext()?{done:!1,value:t.current()}:{done:!0}}}});var i=!0;r.extendArray=function(){i&&(i=!1,Object.keys(r.prototype).forEach((function(t){Array.prototype[t]||(Array.prototype[t]=function(){var e=r.from(this);return e[t].apply(e,arguments)})})))},t.exports=r},jPSd:function(t,e){(function(e){t.exports=e}).call(this,{})},"k/06":function(t,e,n){"use strict";e.observable="function"==typeof Symbol&&Symbol.observable||"@@observable"},nsO7:function(t,e,n){(function(t){var r;(function(){var i,o=200,s="Expected a function",a="__lodash_placeholder__",l=1,u=2,c=4,h=1,p=2,d=1,f=2,g=4,m=8,y=16,v=32,_=64,b=128,w=256,C=512,x=800,S=16,P=1/0,I=9007199254740991,E=17976931348623157e292,T=NaN,A=4294967295,k=A-1,O=A>>>1,M=[["ary",b],["bind",d],["bindKey",f],["curry",m],["curryRight",y],["flip",C],["partial",v],["partialRight",_],["rearg",w]],R="[object Arguments]",D="[object Array]",B="[object AsyncFunction]",j="[object Boolean]",F="[object Date]",z="[object DOMException]",L="[object Error]",H="[object Function]",N="[object GeneratorFunction]",W="[object Map]",V="[object Number]",U="[object Null]",q="[object Object]",G="[object Proxy]",Y="[object RegExp]",X="[object Set]",$="[object String]",Q="[object Symbol]",Z="[object Undefined]",K="[object WeakMap]",J="[object ArrayBuffer]",tt="[object DataView]",et="[object Float32Array]",nt="[object Float64Array]",rt="[object Int8Array]",it="[object Int16Array]",ot="[object Int32Array]",st="[object Uint8Array]",at="[object Uint8ClampedArray]",lt="[object Uint16Array]",ut="[object Uint32Array]",ct=/\b__p \+= '';/g,ht=/\b(__p \+=) '' \+/g,pt=/(__e\(.*?\)|\b__t\)) \+\n'';/g,dt=/&(?:amp|lt|gt|quot|#39);/g,ft=/[&<>"']/g,gt=RegExp(dt.source),mt=RegExp(ft.source),yt=/<%-([\s\S]+?)%>/g,vt=/<%([\s\S]+?)%>/g,_t=/<%=([\s\S]+?)%>/g,bt=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,wt=/^\w*$/,Ct=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,xt=/[\\^$.*+?()[\]{}|]/g,St=RegExp(xt.source),Pt=/^\s+|\s+$/g,It=/^\s+/,Et=/\s+$/,Tt=/\{(?:\n\/\* \[wrapped with .+\] \*\/)?\n?/,At=/\{\n\/\* \[wrapped with (.+)\] \*/,kt=/,? & /,Ot=/[^\x00-\x2f\x3a-\x40\x5b-\x60\x7b-\x7f]+/g,Mt=/\\(\\)?/g,Rt=/\$\{([^\\}]*(?:\\.[^\\}]*)*)\}/g,Dt=/\w*$/,Bt=/^[-+]0x[0-9a-f]+$/i,jt=/^0b[01]+$/i,Ft=/^\[object .+?Constructor\]$/,zt=/^0o[0-7]+$/i,Lt=/^(?:0|[1-9]\d*)$/,Ht=/[\xc0-\xd6\xd8-\xf6\xf8-\xff\u0100-\u017f]/g,Nt=/($^)/,Wt=/['\n\r\u2028\u2029\\]/g,Vt="\\u0300-\\u036f\\ufe20-\\ufe2f\\u20d0-\\u20ff",Ut="\\xac\\xb1\\xd7\\xf7\\x00-\\x2f\\x3a-\\x40\\x5b-\\x60\\x7b-\\xbf\\u2000-\\u206f \\t\\x0b\\f\\xa0\\ufeff\\n\\r\\u2028\\u2029\\u1680\\u180e\\u2000\\u2001\\u2002\\u2003\\u2004\\u2005\\u2006\\u2007\\u2008\\u2009\\u200a\\u202f\\u205f\\u3000",qt="["+Ut+"]",Gt="["+Vt+"]",Yt="\\d+",Xt="[a-z\\xdf-\\xf6\\xf8-\\xff]",$t="[^\\ud800-\\udfff"+Ut+Yt+"\\u2700-\\u27bfa-z\\xdf-\\xf6\\xf8-\\xffA-Z\\xc0-\\xd6\\xd8-\\xde]",Qt="\\ud83c[\\udffb-\\udfff]",Zt="[^\\ud800-\\udfff]",Kt="(?:\\ud83c[\\udde6-\\uddff]){2}",Jt="[\\ud800-\\udbff][\\udc00-\\udfff]",te="[A-Z\\xc0-\\xd6\\xd8-\\xde]",ee="(?:"+Xt+"|"+$t+")",ne="(?:"+te+"|"+$t+")",re="(?:"+Gt+"|"+Qt+")?",ie="[\\ufe0e\\ufe0f]?"+re+"(?:\\u200d(?:"+[Zt,Kt,Jt].join("|")+")[\\ufe0e\\ufe0f]?"+re+")*",oe="(?:"+["[\\u2700-\\u27bf]",Kt,Jt].join("|")+")"+ie,se="(?:"+[Zt+Gt+"?",Gt,Kt,Jt,"[\\ud800-\\udfff]"].join("|")+")",ae=RegExp("['\u2019]","g"),le=RegExp(Gt,"g"),ue=RegExp(Qt+"(?="+Qt+")|"+se+ie,"g"),ce=RegExp([te+"?"+Xt+"+(?:['\u2019](?:d|ll|m|re|s|t|ve))?(?="+[qt,te,"$"].join("|")+")",ne+"+(?:['\u2019](?:D|LL|M|RE|S|T|VE))?(?="+[qt,te+ee,"$"].join("|")+")",te+"?"+ee+"+(?:['\u2019](?:d|ll|m|re|s|t|ve))?",te+"+(?:['\u2019](?:D|LL|M|RE|S|T|VE))?","\\d*(?:1ST|2ND|3RD|(?![123])\\dTH)(?=\\b|[a-z_])","\\d*(?:1st|2nd|3rd|(?![123])\\dth)(?=\\b|[A-Z_])",Yt,oe].join("|"),"g"),he=RegExp("[\\u200d\\ud800-\\udfff"+Vt+"\\ufe0e\\ufe0f]"),pe=/[a-z][A-Z]|[A-Z]{2}[a-z]|[0-9][a-zA-Z]|[a-zA-Z][0-9]|[^a-zA-Z0-9 ]/,de=["Array","Buffer","DataView","Date","Error","Float32Array","Float64Array","Function","Int8Array","Int16Array","Int32Array","Map","Math","Object","Promise","RegExp","Set","String","Symbol","TypeError","Uint8Array","Uint8ClampedArray","Uint16Array","Uint32Array","WeakMap","_","clearTimeout","isFinite","parseInt","setTimeout"],fe=-1,ge={};ge[et]=ge[nt]=ge[rt]=ge[it]=ge[ot]=ge[st]=ge[at]=ge[lt]=ge[ut]=!0,ge[R]=ge[D]=ge[J]=ge[j]=ge[tt]=ge[F]=ge[L]=ge[H]=ge[W]=ge[V]=ge[q]=ge[Y]=ge[X]=ge[$]=ge[K]=!1;var me={};me[R]=me[D]=me[J]=me[tt]=me[j]=me[F]=me[et]=me[nt]=me[rt]=me[it]=me[ot]=me[W]=me[V]=me[q]=me[Y]=me[X]=me[$]=me[Q]=me[st]=me[at]=me[lt]=me[ut]=!0,me[L]=me[H]=me[K]=!1;var ye={"\\":"\\","'":"'","\n":"n","\r":"r","\u2028":"u2028","\u2029":"u2029"},ve=parseFloat,_e=parseInt,be="object"==typeof global&&global&&global.Object===Object&&global,we="object"==typeof self&&self&&self.Object===Object&&self,Ce=be||we||Function("return this")(),xe=e&&!e.nodeType&&e,Se=xe&&"object"==typeof t&&t&&!t.nodeType&&t,Pe=Se&&Se.exports===xe,Ie=Pe&&be.process,Ee=function(){try{return Se&&Se.require&&Se.require("util").types||Ie&&Ie.binding&&Ie.binding("util")}catch(t){}}(),Te=Ee&&Ee.isArrayBuffer,Ae=Ee&&Ee.isDate,ke=Ee&&Ee.isMap,Oe=Ee&&Ee.isRegExp,Me=Ee&&Ee.isSet,Re=Ee&&Ee.isTypedArray;function De(t,e,n){switch(n.length){case 0:return t.call(e);case 1:return t.call(e,n[0]);case 2:return t.call(e,n[0],n[1]);case 3:return t.call(e,n[0],n[1],n[2])}return t.apply(e,n)}function Be(t,e,n,r){for(var i=-1,o=null==t?0:t.length;++i<o;){var s=t[i];e(r,s,n(s),t)}return r}function je(t,e){for(var n=-1,r=null==t?0:t.length;++n<r&&!1!==e(t[n],n,t););return t}function Fe(t,e){for(var n=null==t?0:t.length;n--&&!1!==e(t[n],n,t););return t}function ze(t,e){for(var n=-1,r=null==t?0:t.length;++n<r;)if(!e(t[n],n,t))return!1;return!0}function Le(t,e){for(var n=-1,r=null==t?0:t.length,i=0,o=[];++n<r;){var s=t[n];e(s,n,t)&&(o[i++]=s)}return o}function He(t,e){return!(null==t||!t.length)&&Qe(t,e,0)>-1}function Ne(t,e,n){for(var r=-1,i=null==t?0:t.length;++r<i;)if(n(e,t[r]))return!0;return!1}function We(t,e){for(var n=-1,r=null==t?0:t.length,i=Array(r);++n<r;)i[n]=e(t[n],n,t);return i}function Ve(t,e){for(var n=-1,r=e.length,i=t.length;++n<r;)t[i+n]=e[n];return t}function Ue(t,e,n,r){var i=-1,o=null==t?0:t.length;for(r&&o&&(n=t[++i]);++i<o;)n=e(n,t[i],i,t);return n}function qe(t,e,n,r){var i=null==t?0:t.length;for(r&&i&&(n=t[--i]);i--;)n=e(n,t[i],i,t);return n}function Ge(t,e){for(var n=-1,r=null==t?0:t.length;++n<r;)if(e(t[n],n,t))return!0;return!1}var Ye=tn("length");function Xe(t,e,n){var r;return n(t,(function(t,n,i){if(e(t,n,i))return r=n,!1})),r}function $e(t,e,n,r){for(var i=t.length,o=n+(r?1:-1);r?o--:++o<i;)if(e(t[o],o,t))return o;return-1}function Qe(t,e,n){return e==e?function(t,e,n){for(var r=n-1,i=t.length;++r<i;)if(t[r]===e)return r;return-1}(t,e,n):$e(t,Ke,n)}function Ze(t,e,n,r){for(var i=n-1,o=t.length;++i<o;)if(r(t[i],e))return i;return-1}function Ke(t){return t!=t}function Je(t,e){var n=null==t?0:t.length;return n?rn(t,e)/n:T}function tn(t){return function(e){return null==e?i:e[t]}}function en(t){return function(e){return null==t?i:t[e]}}function nn(t,e,n,r,i){return i(t,(function(t,i,o){n=r?(r=!1,t):e(n,t,i,o)})),n}function rn(t,e){for(var n,r=-1,o=t.length;++r<o;){var s=e(t[r]);s!==i&&(n=n===i?s:n+s)}return n}function on(t,e){for(var n=-1,r=Array(t);++n<t;)r[n]=e(n);return r}function sn(t){return function(e){return t(e)}}function an(t,e){return We(e,(function(e){return t[e]}))}function ln(t,e){return t.has(e)}function un(t,e){for(var n=-1,r=t.length;++n<r&&Qe(e,t[n],0)>-1;);return n}function cn(t,e){for(var n=t.length;n--&&Qe(e,t[n],0)>-1;);return n}var hn=en({"\xc0":"A","\xc1":"A","\xc2":"A","\xc3":"A","\xc4":"A","\xc5":"A","\xe0":"a","\xe1":"a","\xe2":"a","\xe3":"a","\xe4":"a","\xe5":"a","\xc7":"C","\xe7":"c","\xd0":"D","\xf0":"d","\xc8":"E","\xc9":"E","\xca":"E","\xcb":"E","\xe8":"e","\xe9":"e","\xea":"e","\xeb":"e","\xcc":"I","\xcd":"I","\xce":"I","\xcf":"I","\xec":"i","\xed":"i","\xee":"i","\xef":"i","\xd1":"N","\xf1":"n","\xd2":"O","\xd3":"O","\xd4":"O","\xd5":"O","\xd6":"O","\xd8":"O","\xf2":"o","\xf3":"o","\xf4":"o","\xf5":"o","\xf6":"o","\xf8":"o","\xd9":"U","\xda":"U","\xdb":"U","\xdc":"U","\xf9":"u","\xfa":"u","\xfb":"u","\xfc":"u","\xdd":"Y","\xfd":"y","\xff":"y","\xc6":"Ae","\xe6":"ae","\xde":"Th","\xfe":"th","\xdf":"ss","\u0100":"A","\u0102":"A","\u0104":"A","\u0101":"a","\u0103":"a","\u0105":"a","\u0106":"C","\u0108":"C","\u010a":"C","\u010c":"C","\u0107":"c","\u0109":"c","\u010b":"c","\u010d":"c","\u010e":"D","\u0110":"D","\u010f":"d","\u0111":"d","\u0112":"E","\u0114":"E","\u0116":"E","\u0118":"E","\u011a":"E","\u0113":"e","\u0115":"e","\u0117":"e","\u0119":"e","\u011b":"e","\u011c":"G","\u011e":"G","\u0120":"G","\u0122":"G","\u011d":"g","\u011f":"g","\u0121":"g","\u0123":"g","\u0124":"H","\u0126":"H","\u0125":"h","\u0127":"h","\u0128":"I","\u012a":"I","\u012c":"I","\u012e":"I","\u0130":"I","\u0129":"i","\u012b":"i","\u012d":"i","\u012f":"i","\u0131":"i","\u0134":"J","\u0135":"j","\u0136":"K","\u0137":"k","\u0138":"k","\u0139":"L","\u013b":"L","\u013d":"L","\u013f":"L","\u0141":"L","\u013a":"l","\u013c":"l","\u013e":"l","\u0140":"l","\u0142":"l","\u0143":"N","\u0145":"N","\u0147":"N","\u014a":"N","\u0144":"n","\u0146":"n","\u0148":"n","\u014b":"n","\u014c":"O","\u014e":"O","\u0150":"O","\u014d":"o","\u014f":"o","\u0151":"o","\u0154":"R","\u0156":"R","\u0158":"R","\u0155":"r","\u0157":"r","\u0159":"r","\u015a":"S","\u015c":"S","\u015e":"S","\u0160":"S","\u015b":"s","\u015d":"s","\u015f":"s","\u0161":"s","\u0162":"T","\u0164":"T","\u0166":"T","\u0163":"t","\u0165":"t","\u0167":"t","\u0168":"U","\u016a":"U","\u016c":"U","\u016e":"U","\u0170":"U","\u0172":"U","\u0169":"u","\u016b":"u","\u016d":"u","\u016f":"u","\u0171":"u","\u0173":"u","\u0174":"W","\u0175":"w","\u0176":"Y","\u0177":"y","\u0178":"Y","\u0179":"Z","\u017b":"Z","\u017d":"Z","\u017a":"z","\u017c":"z","\u017e":"z","\u0132":"IJ","\u0133":"ij","\u0152":"Oe","\u0153":"oe","\u0149":"'n","\u017f":"s"}),pn=en({"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#39;"});function dn(t){return"\\"+ye[t]}function fn(t){return he.test(t)}function gn(t){var e=-1,n=Array(t.size);return t.forEach((function(t,r){n[++e]=[r,t]})),n}function mn(t,e){return function(n){return t(e(n))}}function yn(t,e){for(var n=-1,r=t.length,i=0,o=[];++n<r;){var s=t[n];s!==e&&s!==a||(t[n]=a,o[i++]=n)}return o}function vn(t){var e=-1,n=Array(t.size);return t.forEach((function(t){n[++e]=t})),n}function _n(t){var e=-1,n=Array(t.size);return t.forEach((function(t){n[++e]=[t,t]})),n}function bn(t){return fn(t)?function(t){for(var e=ue.lastIndex=0;ue.test(t);)++e;return e}(t):Ye(t)}function wn(t){return fn(t)?function(t){return t.match(ue)||[]}(t):function(t){return t.split("")}(t)}var Cn=en({"&amp;":"&","&lt;":"<","&gt;":">","&quot;":'"',"&#39;":"'"}),xn=function t(e){var n,r=(e=null==e?Ce:xn.defaults(Ce.Object(),e,xn.pick(Ce,de))).Array,Vt=e.Date,Ut=e.Error,qt=e.Function,Gt=e.Math,Yt=e.Object,Xt=e.RegExp,$t=e.String,Qt=e.TypeError,Zt=r.prototype,Kt=Yt.prototype,Jt=e["__core-js_shared__"],te=qt.prototype.toString,ee=Kt.hasOwnProperty,ne=0,re=(n=/[^.]+$/.exec(Jt&&Jt.keys&&Jt.keys.IE_PROTO||""))?"Symbol(src)_1."+n:"",ie=Kt.toString,oe=te.call(Yt),se=Ce._,ue=Xt("^"+te.call(ee).replace(xt,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$"),he=Pe?e.Buffer:i,ye=e.Symbol,be=e.Uint8Array,we=he?he.allocUnsafe:i,xe=mn(Yt.getPrototypeOf,Yt),Se=Yt.create,Ie=Kt.propertyIsEnumerable,Ee=Zt.splice,Ye=ye?ye.isConcatSpreadable:i,en=ye?ye.iterator:i,Sn=ye?ye.toStringTag:i,Pn=function(){try{var t=Ao(Yt,"defineProperty");return t({},"",{}),t}catch(e){}}(),In=e.clearTimeout!==Ce.clearTimeout&&e.clearTimeout,En=Vt&&Vt.now!==Ce.Date.now&&Vt.now,Tn=e.setTimeout!==Ce.setTimeout&&e.setTimeout,An=Gt.ceil,kn=Gt.floor,On=Yt.getOwnPropertySymbols,Mn=he?he.isBuffer:i,Rn=e.isFinite,Dn=Zt.join,Bn=mn(Yt.keys,Yt),jn=Gt.max,Fn=Gt.min,zn=Vt.now,Ln=e.parseInt,Hn=Gt.random,Nn=Zt.reverse,Wn=Ao(e,"DataView"),Vn=Ao(e,"Map"),Un=Ao(e,"Promise"),qn=Ao(e,"Set"),Gn=Ao(e,"WeakMap"),Yn=Ao(Yt,"create"),Xn=Gn&&new Gn,$n={},Qn=rs(Wn),Zn=rs(Vn),Kn=rs(Un),Jn=rs(qn),tr=rs(Gn),er=ye?ye.prototype:i,nr=er?er.valueOf:i,rr=er?er.toString:i;function ir(t){if(ba(t)&&!ua(t)&&!(t instanceof lr)){if(t instanceof ar)return t;if(ee.call(t,"__wrapped__"))return is(t)}return new ar(t)}var or=function(){function t(){}return function(e){if(!_a(e))return{};if(Se)return Se(e);t.prototype=e;var n=new t;return t.prototype=i,n}}();function sr(){}function ar(t,e){this.__wrapped__=t,this.__actions__=[],this.__chain__=!!e,this.__index__=0,this.__values__=i}function lr(t){this.__wrapped__=t,this.__actions__=[],this.__dir__=1,this.__filtered__=!1,this.__iteratees__=[],this.__takeCount__=A,this.__views__=[]}function ur(t){var e=-1,n=null==t?0:t.length;for(this.clear();++e<n;){var r=t[e];this.set(r[0],r[1])}}function cr(t){var e=-1,n=null==t?0:t.length;for(this.clear();++e<n;){var r=t[e];this.set(r[0],r[1])}}function hr(t){var e=-1,n=null==t?0:t.length;for(this.clear();++e<n;){var r=t[e];this.set(r[0],r[1])}}function pr(t){var e=-1,n=null==t?0:t.length;for(this.__data__=new hr;++e<n;)this.add(t[e])}function dr(t){var e=this.__data__=new cr(t);this.size=e.size}function fr(t,e){var n=ua(t),r=!n&&la(t),i=!n&&!r&&da(t),o=!n&&!r&&!i&&Ta(t),s=n||r||i||o,a=s?on(t.length,$t):[],l=a.length;for(var u in t)!e&&!ee.call(t,u)||s&&("length"==u||i&&("offset"==u||"parent"==u)||o&&("buffer"==u||"byteLength"==u||"byteOffset"==u)||jo(u,l))||a.push(u);return a}function gr(t){var e=t.length;return e?t[hi(0,e-1)]:i}function mr(t,e){return Ko(Gi(t),Pr(e,0,t.length))}function yr(t){return Ko(Gi(t))}function vr(t,e,n){(n===i||oa(t[e],n))&&(n!==i||e in t)||xr(t,e,n)}function _r(t,e,n){var r=t[e];ee.call(t,e)&&oa(r,n)&&(n!==i||e in t)||xr(t,e,n)}function br(t,e){for(var n=t.length;n--;)if(oa(t[n][0],e))return n;return-1}function wr(t,e,n,r){return kr(t,(function(t,i,o){e(r,t,n(t),o)})),r}function Cr(t,e){return t&&Yi(e,Qa(e),t)}function xr(t,e,n){"__proto__"==e&&Pn?Pn(t,e,{configurable:!0,enumerable:!0,value:n,writable:!0}):t[e]=n}function Sr(t,e){for(var n=-1,o=e.length,s=r(o),a=null==t;++n<o;)s[n]=a?i:qa(t,e[n]);return s}function Pr(t,e,n){return t==t&&(n!==i&&(t=t<=n?t:n),e!==i&&(t=t>=e?t:e)),t}function Ir(t,e,n,r,o,s){var a,h=e&l,p=e&u,d=e&c;if(n&&(a=o?n(t,r,o,s):n(t)),a!==i)return a;if(!_a(t))return t;var f=ua(t);if(f){if(a=function(t){var e=t.length,n=new t.constructor(e);return e&&"string"==typeof t[0]&&ee.call(t,"index")&&(n.index=t.index,n.input=t.input),n}(t),!h)return Gi(t,a)}else{var g=Mo(t),m=g==H||g==N;if(da(t))return Hi(t,h);if(g==q||g==R||m&&!o){if(a=p||m?{}:Do(t),!h)return p?function(t,e){return Yi(t,Oo(t),e)}(t,function(t,e){return t&&Yi(e,Za(e),t)}(a,t)):function(t,e){return Yi(t,ko(t),e)}(t,Cr(a,t))}else{if(!me[g])return o?t:{};a=function(t,e,n){var r=t.constructor;switch(e){case J:return Ni(t);case j:case F:return new r(+t);case tt:return function(t,e){var n=e?Ni(t.buffer):t.buffer;return new t.constructor(n,t.byteOffset,t.byteLength)}(t,n);case et:case nt:case rt:case it:case ot:case st:case at:case lt:case ut:return Wi(t,n);case W:return new r;case V:case $:return new r(t);case Y:return function(t){var e=new t.constructor(t.source,Dt.exec(t));return e.lastIndex=t.lastIndex,e}(t);case X:return new r;case Q:return nr?Yt(nr.call(t)):{}}}(t,g,h)}}s||(s=new dr);var y=s.get(t);if(y)return y;s.set(t,a),Pa(t)?t.forEach((function(r){a.add(Ir(r,e,n,r,t,s))})):wa(t)&&t.forEach((function(r,i){a.set(i,Ir(r,e,n,i,t,s))}));var v=f?i:(d?p?Co:wo:p?Za:Qa)(t);return je(v||t,(function(r,i){v&&(r=t[i=r]),_r(a,i,Ir(r,e,n,i,t,s))})),a}function Er(t,e,n){var r=n.length;if(null==t)return!r;for(t=Yt(t);r--;){var o=n[r],s=t[o];if(s===i&&!(o in t)||!(0,e[o])(s))return!1}return!0}function Tr(t,e,n){if("function"!=typeof t)throw new Qt(s);return Xo((function(){t.apply(i,n)}),e)}function Ar(t,e,n,r){var i=-1,s=He,a=!0,l=t.length,u=[],c=e.length;if(!l)return u;n&&(e=We(e,sn(n))),r?(s=Ne,a=!1):e.length>=o&&(s=ln,a=!1,e=new pr(e));t:for(;++i<l;){var h=t[i],p=null==n?h:n(h);if(h=r||0!==h?h:0,a&&p==p){for(var d=c;d--;)if(e[d]===p)continue t;u.push(h)}else s(e,p,r)||u.push(h)}return u}ir.templateSettings={escape:yt,evaluate:vt,interpolate:_t,variable:"",imports:{_:ir}},(ir.prototype=sr.prototype).constructor=ir,(ar.prototype=or(sr.prototype)).constructor=ar,(lr.prototype=or(sr.prototype)).constructor=lr,ur.prototype.clear=function(){this.__data__=Yn?Yn(null):{},this.size=0},ur.prototype.delete=function(t){var e=this.has(t)&&delete this.__data__[t];return this.size-=e?1:0,e},ur.prototype.get=function(t){var e=this.__data__;if(Yn){var n=e[t];return"__lodash_hash_undefined__"===n?i:n}return ee.call(e,t)?e[t]:i},ur.prototype.has=function(t){var e=this.__data__;return Yn?e[t]!==i:ee.call(e,t)},ur.prototype.set=function(t,e){var n=this.__data__;return this.size+=this.has(t)?0:1,n[t]=Yn&&e===i?"__lodash_hash_undefined__":e,this},cr.prototype.clear=function(){this.__data__=[],this.size=0},cr.prototype.delete=function(t){var e=this.__data__,n=br(e,t);return!(n<0||(n==e.length-1?e.pop():Ee.call(e,n,1),--this.size,0))},cr.prototype.get=function(t){var e=this.__data__,n=br(e,t);return n<0?i:e[n][1]},cr.prototype.has=function(t){return br(this.__data__,t)>-1},cr.prototype.set=function(t,e){var n=this.__data__,r=br(n,t);return r<0?(++this.size,n.push([t,e])):n[r][1]=e,this},hr.prototype.clear=function(){this.size=0,this.__data__={hash:new ur,map:new(Vn||cr),string:new ur}},hr.prototype.delete=function(t){var e=Eo(this,t).delete(t);return this.size-=e?1:0,e},hr.prototype.get=function(t){return Eo(this,t).get(t)},hr.prototype.has=function(t){return Eo(this,t).has(t)},hr.prototype.set=function(t,e){var n=Eo(this,t),r=n.size;return n.set(t,e),this.size+=n.size==r?0:1,this},pr.prototype.add=pr.prototype.push=function(t){return this.__data__.set(t,"__lodash_hash_undefined__"),this},pr.prototype.has=function(t){return this.__data__.has(t)},dr.prototype.clear=function(){this.__data__=new cr,this.size=0},dr.prototype.delete=function(t){var e=this.__data__,n=e.delete(t);return this.size=e.size,n},dr.prototype.get=function(t){return this.__data__.get(t)},dr.prototype.has=function(t){return this.__data__.has(t)},dr.prototype.set=function(t,e){var n=this.__data__;if(n instanceof cr){var r=n.__data__;if(!Vn||r.length<o-1)return r.push([t,e]),this.size=++n.size,this;n=this.__data__=new hr(r)}return n.set(t,e),this.size=n.size,this};var kr=Qi(zr),Or=Qi(Lr,!0);function Mr(t,e){var n=!0;return kr(t,(function(t,r,i){return n=!!e(t,r,i)})),n}function Rr(t,e,n){for(var r=-1,o=t.length;++r<o;){var s=t[r],a=e(s);if(null!=a&&(l===i?a==a&&!Ea(a):n(a,l)))var l=a,u=s}return u}function Dr(t,e){var n=[];return kr(t,(function(t,r,i){e(t,r,i)&&n.push(t)})),n}function Br(t,e,n,r,i){var o=-1,s=t.length;for(n||(n=Bo),i||(i=[]);++o<s;){var a=t[o];e>0&&n(a)?e>1?Br(a,e-1,n,r,i):Ve(i,a):r||(i[i.length]=a)}return i}var jr=Zi(),Fr=Zi(!0);function zr(t,e){return t&&jr(t,e,Qa)}function Lr(t,e){return t&&Fr(t,e,Qa)}function Hr(t,e){return Le(e,(function(e){return ma(t[e])}))}function Nr(t,e){for(var n=0,r=(e=ji(e,t)).length;null!=t&&n<r;)t=t[ns(e[n++])];return n&&n==r?t:i}function Wr(t,e,n){var r=e(t);return ua(t)?r:Ve(r,n(t))}function Vr(t){return null==t?t===i?Z:U:Sn&&Sn in Yt(t)?function(t){var e=ee.call(t,Sn),n=t[Sn];try{t[Sn]=i;var r=!0}catch(s){}var o=ie.call(t);return r&&(e?t[Sn]=n:delete t[Sn]),o}(t):function(t){return ie.call(t)}(t)}function Ur(t,e){return t>e}function qr(t,e){return null!=t&&ee.call(t,e)}function Gr(t,e){return null!=t&&e in Yt(t)}function Yr(t,e,n){for(var o=n?Ne:He,s=t[0].length,a=t.length,l=a,u=r(a),c=1/0,h=[];l--;){var p=t[l];l&&e&&(p=We(p,sn(e))),c=Fn(p.length,c),u[l]=!n&&(e||s>=120&&p.length>=120)?new pr(l&&p):i}p=t[0];var d=-1,f=u[0];t:for(;++d<s&&h.length<c;){var g=p[d],m=e?e(g):g;if(g=n||0!==g?g:0,!(f?ln(f,m):o(h,m,n))){for(l=a;--l;){var y=u[l];if(!(y?ln(y,m):o(t[l],m,n)))continue t}f&&f.push(m),h.push(g)}}return h}function Xr(t,e,n){var r=null==(t=qo(t,e=ji(e,t)))?t:t[ns(gs(e))];return null==r?i:De(r,t,n)}function $r(t){return ba(t)&&Vr(t)==R}function Qr(t,e,n,r,o){return t===e||(null==t||null==e||!ba(t)&&!ba(e)?t!=t&&e!=e:function(t,e,n,r,o,s){var a=ua(t),l=ua(e),u=a?D:Mo(t),c=l?D:Mo(e),d=(u=u==R?q:u)==q,f=(c=c==R?q:c)==q,g=u==c;if(g&&da(t)){if(!da(e))return!1;a=!0,d=!1}if(g&&!d)return s||(s=new dr),a||Ta(t)?_o(t,e,n,r,o,s):function(t,e,n,r,i,o,s){switch(n){case tt:if(t.byteLength!=e.byteLength||t.byteOffset!=e.byteOffset)return!1;t=t.buffer,e=e.buffer;case J:return!(t.byteLength!=e.byteLength||!o(new be(t),new be(e)));case j:case F:case V:return oa(+t,+e);case L:return t.name==e.name&&t.message==e.message;case Y:case $:return t==e+"";case W:var a=gn;case X:if(a||(a=vn),t.size!=e.size&&!(r&h))return!1;var l=s.get(t);if(l)return l==e;r|=p,s.set(t,e);var u=_o(a(t),a(e),r,i,o,s);return s.delete(t),u;case Q:if(nr)return nr.call(t)==nr.call(e)}return!1}(t,e,u,n,r,o,s);if(!(n&h)){var m=d&&ee.call(t,"__wrapped__"),y=f&&ee.call(e,"__wrapped__");if(m||y){var v=m?t.value():t,_=y?e.value():e;return s||(s=new dr),o(v,_,n,r,s)}}return!!g&&(s||(s=new dr),function(t,e,n,r,o,s){var a=n&h,l=wo(t),u=l.length;if(u!=wo(e).length&&!a)return!1;for(var c=u;c--;){var p=l[c];if(!(a?p in e:ee.call(e,p)))return!1}var d=s.get(t);if(d&&s.get(e))return d==e;var f=!0;s.set(t,e),s.set(e,t);for(var g=a;++c<u;){var m=t[p=l[c]],y=e[p];if(r)var v=a?r(y,m,p,e,t,s):r(m,y,p,t,e,s);if(!(v===i?m===y||o(m,y,n,r,s):v)){f=!1;break}g||(g="constructor"==p)}if(f&&!g){var _=t.constructor,b=e.constructor;_!=b&&"constructor"in t&&"constructor"in e&&!("function"==typeof _&&_ instanceof _&&"function"==typeof b&&b instanceof b)&&(f=!1)}return s.delete(t),s.delete(e),f}(t,e,n,r,o,s))}(t,e,n,r,Qr,o))}function Zr(t,e,n,r){var o=n.length,s=o,a=!r;if(null==t)return!s;for(t=Yt(t);o--;){var l=n[o];if(a&&l[2]?l[1]!==t[l[0]]:!(l[0]in t))return!1}for(;++o<s;){var u=(l=n[o])[0],c=t[u],d=l[1];if(a&&l[2]){if(c===i&&!(u in t))return!1}else{var f=new dr;if(r)var g=r(c,d,u,t,e,f);if(!(g===i?Qr(d,c,h|p,r,f):g))return!1}}return!0}function Kr(t){return!(!_a(t)||(e=t,re&&re in e))&&(ma(t)?ue:Ft).test(rs(t));var e}function Jr(t){return"function"==typeof t?t:null==t?Cl:"object"==typeof t?ua(t)?ii(t[0],t[1]):ri(t):Ol(t)}function ti(t){if(!No(t))return Bn(t);var e=[];for(var n in Yt(t))ee.call(t,n)&&"constructor"!=n&&e.push(n);return e}function ei(t,e){return t<e}function ni(t,e){var n=-1,i=ha(t)?r(t.length):[];return kr(t,(function(t,r,o){i[++n]=e(t,r,o)})),i}function ri(t){var e=To(t);return 1==e.length&&e[0][2]?Vo(e[0][0],e[0][1]):function(n){return n===t||Zr(n,t,e)}}function ii(t,e){return zo(t)&&Wo(e)?Vo(ns(t),e):function(n){var r=qa(n,t);return r===i&&r===e?Ga(n,t):Qr(e,r,h|p)}}function oi(t,e,n,r,o){t!==e&&jr(e,(function(s,a){if(o||(o=new dr),_a(s))!function(t,e,n,r,o,s,a){var l=Go(t,n),u=Go(e,n),c=a.get(u);if(c)vr(t,n,c);else{var h=s?s(l,u,n+"",t,e,a):i,p=h===i;if(p){var d=ua(u),f=!d&&da(u),g=!d&&!f&&Ta(u);h=u,d||f||g?ua(l)?h=l:pa(l)?h=Gi(l):f?(p=!1,h=Hi(u,!0)):g?(p=!1,h=Wi(u,!0)):h=[]:xa(u)||la(u)?(h=l,la(l)?h=ja(l):_a(l)&&!ma(l)||(h=Do(u))):p=!1}p&&(a.set(u,h),o(h,u,r,s,a),a.delete(u)),vr(t,n,h)}}(t,e,a,n,oi,r,o);else{var l=r?r(Go(t,a),s,a+"",t,e,o):i;l===i&&(l=s),vr(t,a,l)}}),Za)}function si(t,e){var n=t.length;if(n)return jo(e+=e<0?n:0,n)?t[e]:i}function ai(t,e,n){var r=-1;return e=We(e.length?e:[Cl],sn(Io())),function(t,e){var r=t.length;for(t.sort((function(t,e){return function(t,e,n){for(var r=-1,i=t.criteria,o=e.criteria,s=i.length,a=n.length;++r<s;){var l=Vi(i[r],o[r]);if(l)return r>=a?l:l*("desc"==n[r]?-1:1)}return t.index-e.index}(t,e,n)}));r--;)t[r]=t[r].value;return t}(ni(t,(function(t,n,i){return{criteria:We(e,(function(e){return e(t)})),index:++r,value:t}})))}function li(t,e,n){for(var r=-1,i=e.length,o={};++r<i;){var s=e[r],a=Nr(t,s);n(a,s)&&mi(o,ji(s,t),a)}return o}function ui(t,e,n,r){var i=r?Ze:Qe,o=-1,s=e.length,a=t;for(t===e&&(e=Gi(e)),n&&(a=We(t,sn(n)));++o<s;)for(var l=0,u=e[o],c=n?n(u):u;(l=i(a,c,l,r))>-1;)a!==t&&Ee.call(a,l,1),Ee.call(t,l,1);return t}function ci(t,e){for(var n=t?e.length:0,r=n-1;n--;){var i=e[n];if(n==r||i!==o){var o=i;jo(i)?Ee.call(t,i,1):Ti(t,i)}}return t}function hi(t,e){return t+kn(Hn()*(e-t+1))}function pi(t,e){var n="";if(!t||e<1||e>I)return n;do{e%2&&(n+=t),(e=kn(e/2))&&(t+=t)}while(e);return n}function di(t,e){return $o(Uo(t,e,Cl),t+"")}function fi(t){return gr(ol(t))}function gi(t,e){var n=ol(t);return Ko(n,Pr(e,0,n.length))}function mi(t,e,n,r){if(!_a(t))return t;for(var o=-1,s=(e=ji(e,t)).length,a=s-1,l=t;null!=l&&++o<s;){var u=ns(e[o]),c=n;if(o!=a){var h=l[u];(c=r?r(h,u,l):i)===i&&(c=_a(h)?h:jo(e[o+1])?[]:{})}_r(l,u,c),l=l[u]}return t}var yi=Xn?function(t,e){return Xn.set(t,e),t}:Cl,vi=Pn?function(t,e){return Pn(t,"toString",{configurable:!0,enumerable:!1,value:_l(e),writable:!0})}:Cl;function _i(t){return Ko(ol(t))}function bi(t,e,n){var i=-1,o=t.length;e<0&&(e=-e>o?0:o+e),(n=n>o?o:n)<0&&(n+=o),o=e>n?0:n-e>>>0,e>>>=0;for(var s=r(o);++i<o;)s[i]=t[i+e];return s}function wi(t,e){var n;return kr(t,(function(t,r,i){return!(n=e(t,r,i))})),!!n}function Ci(t,e,n){var r=0,i=null==t?r:t.length;if("number"==typeof e&&e==e&&i<=O){for(;r<i;){var o=r+i>>>1,s=t[o];null!==s&&!Ea(s)&&(n?s<=e:s<e)?r=o+1:i=o}return i}return xi(t,e,Cl,n)}function xi(t,e,n,r){e=n(e);for(var o=0,s=null==t?0:t.length,a=e!=e,l=null===e,u=Ea(e),c=e===i;o<s;){var h=kn((o+s)/2),p=n(t[h]),d=p!==i,f=null===p,g=p==p,m=Ea(p);if(a)var y=r||g;else y=c?g&&(r||d):l?g&&d&&(r||!f):u?g&&d&&!f&&(r||!m):!f&&!m&&(r?p<=e:p<e);y?o=h+1:s=h}return Fn(s,k)}function Si(t,e){for(var n=-1,r=t.length,i=0,o=[];++n<r;){var s=t[n],a=e?e(s):s;if(!n||!oa(a,l)){var l=a;o[i++]=0===s?0:s}}return o}function Pi(t){return"number"==typeof t?t:Ea(t)?T:+t}function Ii(t){if("string"==typeof t)return t;if(ua(t))return We(t,Ii)+"";if(Ea(t))return rr?rr.call(t):"";var e=t+"";return"0"==e&&1/t==-P?"-0":e}function Ei(t,e,n){var r=-1,i=He,s=t.length,a=!0,l=[],u=l;if(n)a=!1,i=Ne;else if(s>=o){var c=e?null:po(t);if(c)return vn(c);a=!1,i=ln,u=new pr}else u=e?[]:l;t:for(;++r<s;){var h=t[r],p=e?e(h):h;if(h=n||0!==h?h:0,a&&p==p){for(var d=u.length;d--;)if(u[d]===p)continue t;e&&u.push(p),l.push(h)}else i(u,p,n)||(u!==l&&u.push(p),l.push(h))}return l}function Ti(t,e){return null==(t=qo(t,e=ji(e,t)))||delete t[ns(gs(e))]}function Ai(t,e,n,r){return mi(t,e,n(Nr(t,e)),r)}function ki(t,e,n,r){for(var i=t.length,o=r?i:-1;(r?o--:++o<i)&&e(t[o],o,t););return n?bi(t,r?0:o,r?o+1:i):bi(t,r?o+1:0,r?i:o)}function Oi(t,e){var n=t;return n instanceof lr&&(n=n.value()),Ue(e,(function(t,e){return e.func.apply(e.thisArg,Ve([t],e.args))}),n)}function Mi(t,e,n){var i=t.length;if(i<2)return i?Ei(t[0]):[];for(var o=-1,s=r(i);++o<i;)for(var a=t[o],l=-1;++l<i;)l!=o&&(s[o]=Ar(s[o]||a,t[l],e,n));return Ei(Br(s,1),e,n)}function Ri(t,e,n){for(var r=-1,o=t.length,s=e.length,a={};++r<o;)n(a,t[r],r<s?e[r]:i);return a}function Di(t){return pa(t)?t:[]}function Bi(t){return"function"==typeof t?t:Cl}function ji(t,e){return ua(t)?t:zo(t,e)?[t]:es(Fa(t))}var Fi=di;function zi(t,e,n){var r=t.length;return n=n===i?r:n,!e&&n>=r?t:bi(t,e,n)}var Li=In||function(t){return Ce.clearTimeout(t)};function Hi(t,e){if(e)return t.slice();var n=t.length,r=we?we(n):new t.constructor(n);return t.copy(r),r}function Ni(t){var e=new t.constructor(t.byteLength);return new be(e).set(new be(t)),e}function Wi(t,e){var n=e?Ni(t.buffer):t.buffer;return new t.constructor(n,t.byteOffset,t.length)}function Vi(t,e){if(t!==e){var n=t!==i,r=null===t,o=t==t,s=Ea(t),a=e!==i,l=null===e,u=e==e,c=Ea(e);if(!l&&!c&&!s&&t>e||s&&a&&u&&!l&&!c||r&&a&&u||!n&&u||!o)return 1;if(!r&&!s&&!c&&t<e||c&&n&&o&&!r&&!s||l&&n&&o||!a&&o||!u)return-1}return 0}function Ui(t,e,n,i){for(var o=-1,s=t.length,a=n.length,l=-1,u=e.length,c=jn(s-a,0),h=r(u+c),p=!i;++l<u;)h[l]=e[l];for(;++o<a;)(p||o<s)&&(h[n[o]]=t[o]);for(;c--;)h[l++]=t[o++];return h}function qi(t,e,n,i){for(var o=-1,s=t.length,a=-1,l=n.length,u=-1,c=e.length,h=jn(s-l,0),p=r(h+c),d=!i;++o<h;)p[o]=t[o];for(var f=o;++u<c;)p[f+u]=e[u];for(;++a<l;)(d||o<s)&&(p[f+n[a]]=t[o++]);return p}function Gi(t,e){var n=-1,i=t.length;for(e||(e=r(i));++n<i;)e[n]=t[n];return e}function Yi(t,e,n,r){var o=!n;n||(n={});for(var s=-1,a=e.length;++s<a;){var l=e[s],u=r?r(n[l],t[l],l,n,t):i;u===i&&(u=t[l]),o?xr(n,l,u):_r(n,l,u)}return n}function Xi(t,e){return function(n,r){var i=ua(n)?Be:wr,o=e?e():{};return i(n,t,Io(r,2),o)}}function $i(t){return di((function(e,n){var r=-1,o=n.length,s=o>1?n[o-1]:i,a=o>2?n[2]:i;for(s=t.length>3&&"function"==typeof s?(o--,s):i,a&&Fo(n[0],n[1],a)&&(s=o<3?i:s,o=1),e=Yt(e);++r<o;){var l=n[r];l&&t(e,l,r,s)}return e}))}function Qi(t,e){return function(n,r){if(null==n)return n;if(!ha(n))return t(n,r);for(var i=n.length,o=e?i:-1,s=Yt(n);(e?o--:++o<i)&&!1!==r(s[o],o,s););return n}}function Zi(t){return function(e,n,r){for(var i=-1,o=Yt(e),s=r(e),a=s.length;a--;){var l=s[t?a:++i];if(!1===n(o[l],l,o))break}return e}}function Ki(t){return function(e){var n=fn(e=Fa(e))?wn(e):i,r=n?n[0]:e.charAt(0),o=n?zi(n,1).join(""):e.slice(1);return r[t]()+o}}function Ji(t){return function(e){return Ue(ml(ll(e).replace(ae,"")),t,"")}}function to(t){return function(){var e=arguments;switch(e.length){case 0:return new t;case 1:return new t(e[0]);case 2:return new t(e[0],e[1]);case 3:return new t(e[0],e[1],e[2]);case 4:return new t(e[0],e[1],e[2],e[3]);case 5:return new t(e[0],e[1],e[2],e[3],e[4]);case 6:return new t(e[0],e[1],e[2],e[3],e[4],e[5]);case 7:return new t(e[0],e[1],e[2],e[3],e[4],e[5],e[6])}var n=or(t.prototype),r=t.apply(n,e);return _a(r)?r:n}}function eo(t){return function(e,n,r){var o=Yt(e);if(!ha(e)){var s=Io(n,3);e=Qa(e),n=function(t){return s(o[t],t,o)}}var a=t(e,n,r);return a>-1?o[s?e[a]:a]:i}}function no(t){return bo((function(e){var n=e.length,r=n,o=ar.prototype.thru;for(t&&e.reverse();r--;){var a=e[r];if("function"!=typeof a)throw new Qt(s);if(o&&!l&&"wrapper"==So(a))var l=new ar([],!0)}for(r=l?r:n;++r<n;){var u=So(a=e[r]),c="wrapper"==u?xo(a):i;l=c&&Lo(c[0])&&c[1]==(b|m|v|w)&&!c[4].length&&1==c[9]?l[So(c[0])].apply(l,c[3]):1==a.length&&Lo(a)?l[u]():l.thru(a)}return function(){var t=arguments,r=t[0];if(l&&1==t.length&&ua(r))return l.plant(r).value();for(var i=0,o=n?e[i].apply(this,t):r;++i<n;)o=e[i].call(this,o);return o}}))}function ro(t,e,n,o,s,a,l,u,c,h){var p=e&b,g=e&d,v=e&f,_=e&(m|y),w=e&C,x=v?i:to(t);return function d(){for(var f=arguments.length,m=r(f),y=f;y--;)m[y]=arguments[y];if(_)var b=Po(d),C=function(t,e){for(var n=t.length,r=0;n--;)t[n]===e&&++r;return r}(m,b);if(o&&(m=Ui(m,o,s,_)),a&&(m=qi(m,a,l,_)),f-=C,_&&f<h){var S=yn(m,b);return co(t,e,ro,d.placeholder,n,m,S,u,c,h-f)}var P=g?n:this,I=v?P[t]:t;return f=m.length,u?m=function(t,e){for(var n=t.length,r=Fn(e.length,n),o=Gi(t);r--;){var s=e[r];t[r]=jo(s,n)?o[s]:i}return t}(m,u):w&&f>1&&m.reverse(),p&&c<f&&(m.length=c),this&&this!==Ce&&this instanceof d&&(I=x||to(I)),I.apply(P,m)}}function io(t,e){return function(n,r){return function(t,e,n,r){return zr(t,(function(t,i,o){e(r,n(t),i,o)})),r}(n,t,e(r),{})}}function oo(t,e){return function(n,r){var o;if(n===i&&r===i)return e;if(n!==i&&(o=n),r!==i){if(o===i)return r;"string"==typeof n||"string"==typeof r?(n=Ii(n),r=Ii(r)):(n=Pi(n),r=Pi(r)),o=t(n,r)}return o}}function so(t){return bo((function(e){return e=We(e,sn(Io())),di((function(n){var r=this;return t(e,(function(t){return De(t,r,n)}))}))}))}function ao(t,e){var n=(e=e===i?" ":Ii(e)).length;if(n<2)return n?pi(e,t):e;var r=pi(e,An(t/bn(e)));return fn(e)?zi(wn(r),0,t).join(""):r.slice(0,t)}function lo(t){return function(e,n,o){return o&&"number"!=typeof o&&Fo(e,n,o)&&(n=o=i),e=Ma(e),n===i?(n=e,e=0):n=Ma(n),function(t,e,n,i){for(var o=-1,s=jn(An((e-t)/(n||1)),0),a=r(s);s--;)a[i?s:++o]=t,t+=n;return a}(e,n,o=o===i?e<n?1:-1:Ma(o),t)}}function uo(t){return function(e,n){return"string"==typeof e&&"string"==typeof n||(e=Ba(e),n=Ba(n)),t(e,n)}}function co(t,e,n,r,o,s,a,l,u,c){var h=e&m;e|=h?v:_,(e&=~(h?_:v))&g||(e&=~(d|f));var p=[t,e,o,h?s:i,h?a:i,h?i:s,h?i:a,l,u,c],y=n.apply(i,p);return Lo(t)&&Yo(y,p),y.placeholder=r,Qo(y,t,e)}function ho(t){var e=Gt[t];return function(t,n){if(t=Ba(t),(n=null==n?0:Fn(Ra(n),292))&&Rn(t)){var r=(Fa(t)+"e").split("e");return+((r=(Fa(e(r[0]+"e"+(+r[1]+n)))+"e").split("e"))[0]+"e"+(+r[1]-n))}return e(t)}}var po=qn&&1/vn(new qn([,-0]))[1]==P?function(t){return new qn(t)}:El;function fo(t){return function(e){var n=Mo(e);return n==W?gn(e):n==X?_n(e):function(t,e){return We(e,(function(e){return[e,t[e]]}))}(e,t(e))}}function go(t,e,n,o,l,u,c,h){var p=e&f;if(!p&&"function"!=typeof t)throw new Qt(s);var C=o?o.length:0;if(C||(e&=~(v|_),o=l=i),c=c===i?c:jn(Ra(c),0),h=h===i?h:Ra(h),C-=l?l.length:0,e&_){var x=o,S=l;o=l=i}var P=p?i:xo(t),I=[t,e,n,o,l,x,S,u,c,h];if(P&&function(t,e){var n=t[1],r=e[1],i=n|r;if(!(i<(d|f|b)||r==b&&n==m||r==b&&n==w&&t[7].length<=e[8]||r==(b|w)&&e[7].length<=e[8]&&n==m))return t;r&d&&(t[2]=e[2],i|=n&d?0:g);var o=e[3];if(o){var s=t[3];t[3]=s?Ui(s,o,e[4]):o,t[4]=s?yn(t[3],a):e[4]}(o=e[5])&&(t[5]=(s=t[5])?qi(s,o,e[6]):o,t[6]=s?yn(t[5],a):e[6]),(o=e[7])&&(t[7]=o),r&b&&(t[8]=null==t[8]?e[8]:Fn(t[8],e[8])),null==t[9]&&(t[9]=e[9]),t[0]=e[0],t[1]=i}(I,P),t=I[0],e=I[1],n=I[2],o=I[3],l=I[4],!(h=I[9]=I[9]===i?p?0:t.length:jn(I[9]-C,0))&&e&(m|y)&&(e&=~(m|y)),e&&e!=d)E=e==m||e==y?function(t,e,n){var o=to(t);return function s(){for(var a=arguments.length,l=r(a),u=a,c=Po(s);u--;)l[u]=arguments[u];var h=a<3&&l[0]!==c&&l[a-1]!==c?[]:yn(l,c);return(a-=h.length)<n?co(t,e,ro,s.placeholder,i,l,h,i,i,n-a):De(this&&this!==Ce&&this instanceof s?o:t,this,l)}}(t,e,h):e!=v&&e!=(d|v)||l.length?ro.apply(i,I):function(t,e,n,i){var o=e&d,s=to(t);return function e(){for(var a=-1,l=arguments.length,u=-1,c=i.length,h=r(c+l),p=this&&this!==Ce&&this instanceof e?s:t;++u<c;)h[u]=i[u];for(;l--;)h[u++]=arguments[++a];return De(p,o?n:this,h)}}(t,e,n,o);else var E=function(t,e,n){var r=e&d,i=to(t);return function e(){return(this&&this!==Ce&&this instanceof e?i:t).apply(r?n:this,arguments)}}(t,e,n);return Qo((P?yi:Yo)(E,I),t,e)}function mo(t,e,n,r){return t===i||oa(t,Kt[n])&&!ee.call(r,n)?e:t}function yo(t,e,n,r,o,s){return _a(t)&&_a(e)&&(s.set(e,t),oi(t,e,i,yo,s),s.delete(e)),t}function vo(t){return xa(t)?i:t}function _o(t,e,n,r,o,s){var a=n&h,l=t.length,u=e.length;if(l!=u&&!(a&&u>l))return!1;var c=s.get(t);if(c&&s.get(e))return c==e;var d=-1,f=!0,g=n&p?new pr:i;for(s.set(t,e),s.set(e,t);++d<l;){var m=t[d],y=e[d];if(r)var v=a?r(y,m,d,e,t,s):r(m,y,d,t,e,s);if(v!==i){if(v)continue;f=!1;break}if(g){if(!Ge(e,(function(t,e){if(!ln(g,e)&&(m===t||o(m,t,n,r,s)))return g.push(e)}))){f=!1;break}}else if(m!==y&&!o(m,y,n,r,s)){f=!1;break}}return s.delete(t),s.delete(e),f}function bo(t){return $o(Uo(t,i,cs),t+"")}function wo(t){return Wr(t,Qa,ko)}function Co(t){return Wr(t,Za,Oo)}var xo=Xn?function(t){return Xn.get(t)}:El;function So(t){for(var e=t.name+"",n=$n[e],r=ee.call($n,e)?n.length:0;r--;){var i=n[r],o=i.func;if(null==o||o==t)return i.name}return e}function Po(t){return(ee.call(ir,"placeholder")?ir:t).placeholder}function Io(){var t=ir.iteratee||xl;return t=t===xl?Jr:t,arguments.length?t(arguments[0],arguments[1]):t}function Eo(t,e){var n,r,i=t.__data__;return("string"==(r=typeof(n=e))||"number"==r||"symbol"==r||"boolean"==r?"__proto__"!==n:null===n)?i["string"==typeof e?"string":"hash"]:i.map}function To(t){for(var e=Qa(t),n=e.length;n--;){var r=e[n],i=t[r];e[n]=[r,i,Wo(i)]}return e}function Ao(t,e){var n=function(t,e){return null==t?i:t[e]}(t,e);return Kr(n)?n:i}var ko=On?function(t){return null==t?[]:(t=Yt(t),Le(On(t),(function(e){return Ie.call(t,e)})))}:Dl,Oo=On?function(t){for(var e=[];t;)Ve(e,ko(t)),t=xe(t);return e}:Dl,Mo=Vr;function Ro(t,e,n){for(var r=-1,i=(e=ji(e,t)).length,o=!1;++r<i;){var s=ns(e[r]);if(!(o=null!=t&&n(t,s)))break;t=t[s]}return o||++r!=i?o:!!(i=null==t?0:t.length)&&va(i)&&jo(s,i)&&(ua(t)||la(t))}function Do(t){return"function"!=typeof t.constructor||No(t)?{}:or(xe(t))}function Bo(t){return ua(t)||la(t)||!!(Ye&&t&&t[Ye])}function jo(t,e){var n=typeof t;return!!(e=null==e?I:e)&&("number"==n||"symbol"!=n&&Lt.test(t))&&t>-1&&t%1==0&&t<e}function Fo(t,e,n){if(!_a(n))return!1;var r=typeof e;return!!("number"==r?ha(n)&&jo(e,n.length):"string"==r&&e in n)&&oa(n[e],t)}function zo(t,e){if(ua(t))return!1;var n=typeof t;return!("number"!=n&&"symbol"!=n&&"boolean"!=n&&null!=t&&!Ea(t))||wt.test(t)||!bt.test(t)||null!=e&&t in Yt(e)}function Lo(t){var e=So(t),n=ir[e];if("function"!=typeof n||!(e in lr.prototype))return!1;if(t===n)return!0;var r=xo(n);return!!r&&t===r[0]}(Wn&&Mo(new Wn(new ArrayBuffer(1)))!=tt||Vn&&Mo(new Vn)!=W||Un&&"[object Promise]"!=Mo(Un.resolve())||qn&&Mo(new qn)!=X||Gn&&Mo(new Gn)!=K)&&(Mo=function(t){var e=Vr(t),n=e==q?t.constructor:i,r=n?rs(n):"";if(r)switch(r){case Qn:return tt;case Zn:return W;case Kn:return"[object Promise]";case Jn:return X;case tr:return K}return e});var Ho=Jt?ma:Bl;function No(t){var e=t&&t.constructor;return t===("function"==typeof e&&e.prototype||Kt)}function Wo(t){return t==t&&!_a(t)}function Vo(t,e){return function(n){return null!=n&&n[t]===e&&(e!==i||t in Yt(n))}}function Uo(t,e,n){return e=jn(e===i?t.length-1:e,0),function(){for(var i=arguments,o=-1,s=jn(i.length-e,0),a=r(s);++o<s;)a[o]=i[e+o];o=-1;for(var l=r(e+1);++o<e;)l[o]=i[o];return l[e]=n(a),De(t,this,l)}}function qo(t,e){return e.length<2?t:Nr(t,bi(e,0,-1))}function Go(t,e){if(("constructor"!==e||"function"!=typeof t[e])&&"__proto__"!=e)return t[e]}var Yo=Zo(yi),Xo=Tn||function(t,e){return Ce.setTimeout(t,e)},$o=Zo(vi);function Qo(t,e,n){var r=e+"";return $o(t,function(t,e){var n=e.length;if(!n)return t;var r=n-1;return e[r]=(n>1?"& ":"")+e[r],e=e.join(n>2?", ":" "),t.replace(Tt,"{\n/* [wrapped with "+e+"] */\n")}(r,function(t,e){return je(M,(function(n){var r="_."+n[0];e&n[1]&&!He(t,r)&&t.push(r)})),t.sort()}(function(t){var e=t.match(At);return e?e[1].split(kt):[]}(r),n)))}function Zo(t){var e=0,n=0;return function(){var r=zn(),o=S-(r-n);if(n=r,o>0){if(++e>=x)return arguments[0]}else e=0;return t.apply(i,arguments)}}function Ko(t,e){var n=-1,r=t.length,o=r-1;for(e=e===i?r:e;++n<e;){var s=hi(n,o),a=t[s];t[s]=t[n],t[n]=a}return t.length=e,t}var Jo,ts,es=(Jo=Js((function(t){var e=[];return 46===t.charCodeAt(0)&&e.push(""),t.replace(Ct,(function(t,n,r,i){e.push(r?i.replace(Mt,"$1"):n||t)})),e}),(function(t){return 500===ts.size&&ts.clear(),t})),ts=Jo.cache,Jo);function ns(t){if("string"==typeof t||Ea(t))return t;var e=t+"";return"0"==e&&1/t==-P?"-0":e}function rs(t){if(null!=t){try{return te.call(t)}catch(e){}try{return t+""}catch(e){}}return""}function is(t){if(t instanceof lr)return t.clone();var e=new ar(t.__wrapped__,t.__chain__);return e.__actions__=Gi(t.__actions__),e.__index__=t.__index__,e.__values__=t.__values__,e}var os=di((function(t,e){return pa(t)?Ar(t,Br(e,1,pa,!0)):[]})),ss=di((function(t,e){var n=gs(e);return pa(n)&&(n=i),pa(t)?Ar(t,Br(e,1,pa,!0),Io(n,2)):[]})),as=di((function(t,e){var n=gs(e);return pa(n)&&(n=i),pa(t)?Ar(t,Br(e,1,pa,!0),i,n):[]}));function ls(t,e,n){var r=null==t?0:t.length;if(!r)return-1;var i=null==n?0:Ra(n);return i<0&&(i=jn(r+i,0)),$e(t,Io(e,3),i)}function us(t,e,n){var r=null==t?0:t.length;if(!r)return-1;var o=r-1;return n!==i&&(o=Ra(n),o=n<0?jn(r+o,0):Fn(o,r-1)),$e(t,Io(e,3),o,!0)}function cs(t){return null!=t&&t.length?Br(t,1):[]}function hs(t){return t&&t.length?t[0]:i}var ps=di((function(t){var e=We(t,Di);return e.length&&e[0]===t[0]?Yr(e):[]})),ds=di((function(t){var e=gs(t),n=We(t,Di);return e===gs(n)?e=i:n.pop(),n.length&&n[0]===t[0]?Yr(n,Io(e,2)):[]})),fs=di((function(t){var e=gs(t),n=We(t,Di);return(e="function"==typeof e?e:i)&&n.pop(),n.length&&n[0]===t[0]?Yr(n,i,e):[]}));function gs(t){var e=null==t?0:t.length;return e?t[e-1]:i}var ms=di(ys);function ys(t,e){return t&&t.length&&e&&e.length?ui(t,e):t}var vs=bo((function(t,e){var n=null==t?0:t.length,r=Sr(t,e);return ci(t,We(e,(function(t){return jo(t,n)?+t:t})).sort(Vi)),r}));function _s(t){return null==t?t:Nn.call(t)}var bs=di((function(t){return Ei(Br(t,1,pa,!0))})),ws=di((function(t){var e=gs(t);return pa(e)&&(e=i),Ei(Br(t,1,pa,!0),Io(e,2))})),Cs=di((function(t){var e=gs(t);return e="function"==typeof e?e:i,Ei(Br(t,1,pa,!0),i,e)}));function xs(t){if(!t||!t.length)return[];var e=0;return t=Le(t,(function(t){if(pa(t))return e=jn(t.length,e),!0})),on(e,(function(e){return We(t,tn(e))}))}function Ss(t,e){if(!t||!t.length)return[];var n=xs(t);return null==e?n:We(n,(function(t){return De(e,i,t)}))}var Ps=di((function(t,e){return pa(t)?Ar(t,e):[]})),Is=di((function(t){return Mi(Le(t,pa))})),Es=di((function(t){var e=gs(t);return pa(e)&&(e=i),Mi(Le(t,pa),Io(e,2))})),Ts=di((function(t){var e=gs(t);return e="function"==typeof e?e:i,Mi(Le(t,pa),i,e)})),As=di(xs),ks=di((function(t){var e=t.length,n=e>1?t[e-1]:i;return n="function"==typeof n?(t.pop(),n):i,Ss(t,n)}));function Os(t){var e=ir(t);return e.__chain__=!0,e}function Ms(t,e){return e(t)}var Rs=bo((function(t){var e=t.length,n=e?t[0]:0,r=this.__wrapped__,o=function(e){return Sr(e,t)};return!(e>1||this.__actions__.length)&&r instanceof lr&&jo(n)?((r=r.slice(n,+n+(e?1:0))).__actions__.push({func:Ms,args:[o],thisArg:i}),new ar(r,this.__chain__).thru((function(t){return e&&!t.length&&t.push(i),t}))):this.thru(o)})),Ds=Xi((function(t,e,n){ee.call(t,n)?++t[n]:xr(t,n,1)})),Bs=eo(ls),js=eo(us);function Fs(t,e){return(ua(t)?je:kr)(t,Io(e,3))}function zs(t,e){return(ua(t)?Fe:Or)(t,Io(e,3))}var Ls=Xi((function(t,e,n){ee.call(t,n)?t[n].push(e):xr(t,n,[e])})),Hs=di((function(t,e,n){var i=-1,o="function"==typeof e,s=ha(t)?r(t.length):[];return kr(t,(function(t){s[++i]=o?De(e,t,n):Xr(t,e,n)})),s})),Ns=Xi((function(t,e,n){xr(t,n,e)}));function Ws(t,e){return(ua(t)?We:ni)(t,Io(e,3))}var Vs=Xi((function(t,e,n){t[n?0:1].push(e)}),(function(){return[[],[]]})),Us=di((function(t,e){if(null==t)return[];var n=e.length;return n>1&&Fo(t,e[0],e[1])?e=[]:n>2&&Fo(e[0],e[1],e[2])&&(e=[e[0]]),ai(t,Br(e,1),[])})),qs=En||function(){return Ce.Date.now()};function Gs(t,e,n){return e=n?i:e,go(t,b,i,i,i,i,e=t&&null==e?t.length:e)}function Ys(t,e){var n;if("function"!=typeof e)throw new Qt(s);return t=Ra(t),function(){return--t>0&&(n=e.apply(this,arguments)),t<=1&&(e=i),n}}var Xs=di((function(t,e,n){var r=d;if(n.length){var i=yn(n,Po(Xs));r|=v}return go(t,r,e,n,i)})),$s=di((function(t,e,n){var r=d|f;if(n.length){var i=yn(n,Po($s));r|=v}return go(e,r,t,n,i)}));function Qs(t,e,n){var r,o,a,l,u,c,h=0,p=!1,d=!1,f=!0;if("function"!=typeof t)throw new Qt(s);function g(e){var n=r,s=o;return r=o=i,h=e,l=t.apply(s,n)}function m(t){var n=t-c;return c===i||n>=e||n<0||d&&t-h>=a}function y(){var t=qs();if(m(t))return v(t);u=Xo(y,function(t){var n=e-(t-c);return d?Fn(n,a-(t-h)):n}(t))}function v(t){return u=i,f&&r?g(t):(r=o=i,l)}function _(){var t=qs(),n=m(t);if(r=arguments,o=this,c=t,n){if(u===i)return function(t){return h=t,u=Xo(y,e),p?g(t):l}(c);if(d)return Li(u),u=Xo(y,e),g(c)}return u===i&&(u=Xo(y,e)),l}return e=Ba(e)||0,_a(n)&&(p=!!n.leading,a=(d="maxWait"in n)?jn(Ba(n.maxWait)||0,e):a,f="trailing"in n?!!n.trailing:f),_.cancel=function(){u!==i&&Li(u),h=0,r=c=o=u=i},_.flush=function(){return u===i?l:v(qs())},_}var Zs=di((function(t,e){return Tr(t,1,e)})),Ks=di((function(t,e,n){return Tr(t,Ba(e)||0,n)}));function Js(t,e){if("function"!=typeof t||null!=e&&"function"!=typeof e)throw new Qt(s);var n=function(){var r=arguments,i=e?e.apply(this,r):r[0],o=n.cache;if(o.has(i))return o.get(i);var s=t.apply(this,r);return n.cache=o.set(i,s)||o,s};return n.cache=new(Js.Cache||hr),n}function ta(t){if("function"!=typeof t)throw new Qt(s);return function(){var e=arguments;switch(e.length){case 0:return!t.call(this);case 1:return!t.call(this,e[0]);case 2:return!t.call(this,e[0],e[1]);case 3:return!t.call(this,e[0],e[1],e[2])}return!t.apply(this,e)}}Js.Cache=hr;var ea=Fi((function(t,e){var n=(e=1==e.length&&ua(e[0])?We(e[0],sn(Io())):We(Br(e,1),sn(Io()))).length;return di((function(r){for(var i=-1,o=Fn(r.length,n);++i<o;)r[i]=e[i].call(this,r[i]);return De(t,this,r)}))})),na=di((function(t,e){var n=yn(e,Po(na));return go(t,v,i,e,n)})),ra=di((function(t,e){var n=yn(e,Po(ra));return go(t,_,i,e,n)})),ia=bo((function(t,e){return go(t,w,i,i,i,e)}));function oa(t,e){return t===e||t!=t&&e!=e}var sa=uo(Ur),aa=uo((function(t,e){return t>=e})),la=$r(function(){return arguments}())?$r:function(t){return ba(t)&&ee.call(t,"callee")&&!Ie.call(t,"callee")},ua=r.isArray,ca=Te?sn(Te):function(t){return ba(t)&&Vr(t)==J};function ha(t){return null!=t&&va(t.length)&&!ma(t)}function pa(t){return ba(t)&&ha(t)}var da=Mn||Bl,fa=Ae?sn(Ae):function(t){return ba(t)&&Vr(t)==F};function ga(t){if(!ba(t))return!1;var e=Vr(t);return e==L||e==z||"string"==typeof t.message&&"string"==typeof t.name&&!xa(t)}function ma(t){if(!_a(t))return!1;var e=Vr(t);return e==H||e==N||e==B||e==G}function ya(t){return"number"==typeof t&&t==Ra(t)}function va(t){return"number"==typeof t&&t>-1&&t%1==0&&t<=I}function _a(t){var e=typeof t;return null!=t&&("object"==e||"function"==e)}function ba(t){return null!=t&&"object"==typeof t}var wa=ke?sn(ke):function(t){return ba(t)&&Mo(t)==W};function Ca(t){return"number"==typeof t||ba(t)&&Vr(t)==V}function xa(t){if(!ba(t)||Vr(t)!=q)return!1;var e=xe(t);if(null===e)return!0;var n=ee.call(e,"constructor")&&e.constructor;return"function"==typeof n&&n instanceof n&&te.call(n)==oe}var Sa=Oe?sn(Oe):function(t){return ba(t)&&Vr(t)==Y},Pa=Me?sn(Me):function(t){return ba(t)&&Mo(t)==X};function Ia(t){return"string"==typeof t||!ua(t)&&ba(t)&&Vr(t)==$}function Ea(t){return"symbol"==typeof t||ba(t)&&Vr(t)==Q}var Ta=Re?sn(Re):function(t){return ba(t)&&va(t.length)&&!!ge[Vr(t)]},Aa=uo(ei),ka=uo((function(t,e){return t<=e}));function Oa(t){if(!t)return[];if(ha(t))return Ia(t)?wn(t):Gi(t);if(en&&t[en])return function(t){for(var e,n=[];!(e=t.next()).done;)n.push(e.value);return n}(t[en]());var e=Mo(t);return(e==W?gn:e==X?vn:ol)(t)}function Ma(t){return t?(t=Ba(t))===P||t===-P?(t<0?-1:1)*E:t==t?t:0:0===t?t:0}function Ra(t){var e=Ma(t),n=e%1;return e==e?n?e-n:e:0}function Da(t){return t?Pr(Ra(t),0,A):0}function Ba(t){if("number"==typeof t)return t;if(Ea(t))return T;if(_a(t)){var e="function"==typeof t.valueOf?t.valueOf():t;t=_a(e)?e+"":e}if("string"!=typeof t)return 0===t?t:+t;t=t.replace(Pt,"");var n=jt.test(t);return n||zt.test(t)?_e(t.slice(2),n?2:8):Bt.test(t)?T:+t}function ja(t){return Yi(t,Za(t))}function Fa(t){return null==t?"":Ii(t)}var za=$i((function(t,e){if(No(e)||ha(e))Yi(e,Qa(e),t);else for(var n in e)ee.call(e,n)&&_r(t,n,e[n])})),La=$i((function(t,e){Yi(e,Za(e),t)})),Ha=$i((function(t,e,n,r){Yi(e,Za(e),t,r)})),Na=$i((function(t,e,n,r){Yi(e,Qa(e),t,r)})),Wa=bo(Sr),Va=di((function(t,e){t=Yt(t);var n=-1,r=e.length,o=r>2?e[2]:i;for(o&&Fo(e[0],e[1],o)&&(r=1);++n<r;)for(var s=e[n],a=Za(s),l=-1,u=a.length;++l<u;){var c=a[l],h=t[c];(h===i||oa(h,Kt[c])&&!ee.call(t,c))&&(t[c]=s[c])}return t})),Ua=di((function(t){return t.push(i,yo),De(Ja,i,t)}));function qa(t,e,n){var r=null==t?i:Nr(t,e);return r===i?n:r}function Ga(t,e){return null!=t&&Ro(t,e,Gr)}var Ya=io((function(t,e,n){null!=e&&"function"!=typeof e.toString&&(e=ie.call(e)),t[e]=n}),_l(Cl)),Xa=io((function(t,e,n){null!=e&&"function"!=typeof e.toString&&(e=ie.call(e)),ee.call(t,e)?t[e].push(n):t[e]=[n]}),Io),$a=di(Xr);function Qa(t){return ha(t)?fr(t):ti(t)}function Za(t){return ha(t)?fr(t,!0):function(t){if(!_a(t))return function(t){var e=[];if(null!=t)for(var n in Yt(t))e.push(n);return e}(t);var e=No(t),n=[];for(var r in t)("constructor"!=r||!e&&ee.call(t,r))&&n.push(r);return n}(t)}var Ka=$i((function(t,e,n){oi(t,e,n)})),Ja=$i((function(t,e,n,r){oi(t,e,n,r)})),tl=bo((function(t,e){var n={};if(null==t)return n;var r=!1;e=We(e,(function(e){return e=ji(e,t),r||(r=e.length>1),e})),Yi(t,Co(t),n),r&&(n=Ir(n,l|u|c,vo));for(var i=e.length;i--;)Ti(n,e[i]);return n})),el=bo((function(t,e){return null==t?{}:function(t,e){return li(t,e,(function(e,n){return Ga(t,n)}))}(t,e)}));function nl(t,e){if(null==t)return{};var n=We(Co(t),(function(t){return[t]}));return e=Io(e),li(t,n,(function(t,n){return e(t,n[0])}))}var rl=fo(Qa),il=fo(Za);function ol(t){return null==t?[]:an(t,Qa(t))}var sl=Ji((function(t,e,n){return e=e.toLowerCase(),t+(n?al(e):e)}));function al(t){return gl(Fa(t).toLowerCase())}function ll(t){return(t=Fa(t))&&t.replace(Ht,hn).replace(le,"")}var ul=Ji((function(t,e,n){return t+(n?"-":"")+e.toLowerCase()})),cl=Ji((function(t,e,n){return t+(n?" ":"")+e.toLowerCase()})),hl=Ki("toLowerCase"),pl=Ji((function(t,e,n){return t+(n?"_":"")+e.toLowerCase()})),dl=Ji((function(t,e,n){return t+(n?" ":"")+gl(e)})),fl=Ji((function(t,e,n){return t+(n?" ":"")+e.toUpperCase()})),gl=Ki("toUpperCase");function ml(t,e,n){return t=Fa(t),(e=n?i:e)===i?function(t){return pe.test(t)}(t)?function(t){return t.match(ce)||[]}(t):function(t){return t.match(Ot)||[]}(t):t.match(e)||[]}var yl=di((function(t,e){try{return De(t,i,e)}catch(n){return ga(n)?n:new Ut(n)}})),vl=bo((function(t,e){return je(e,(function(e){e=ns(e),xr(t,e,Xs(t[e],t))})),t}));function _l(t){return function(){return t}}var bl=no(),wl=no(!0);function Cl(t){return t}function xl(t){return Jr("function"==typeof t?t:Ir(t,l))}var Sl=di((function(t,e){return function(n){return Xr(n,t,e)}})),Pl=di((function(t,e){return function(n){return Xr(t,n,e)}}));function Il(t,e,n){var r=Qa(e),i=Hr(e,r);null!=n||_a(e)&&(i.length||!r.length)||(n=e,e=t,t=this,i=Hr(e,Qa(e)));var o=!(_a(n)&&"chain"in n&&!n.chain),s=ma(t);return je(i,(function(n){var r=e[n];t[n]=r,s&&(t.prototype[n]=function(){var e=this.__chain__;if(o||e){var n=t(this.__wrapped__),i=n.__actions__=Gi(this.__actions__);return i.push({func:r,args:arguments,thisArg:t}),n.__chain__=e,n}return r.apply(t,Ve([this.value()],arguments))})})),t}function El(){}var Tl=so(We),Al=so(ze),kl=so(Ge);function Ol(t){return zo(t)?tn(ns(t)):function(t){return function(e){return Nr(e,t)}}(t)}var Ml=lo(),Rl=lo(!0);function Dl(){return[]}function Bl(){return!1}var jl,Fl=oo((function(t,e){return t+e}),0),zl=ho("ceil"),Ll=oo((function(t,e){return t/e}),1),Hl=ho("floor"),Nl=oo((function(t,e){return t*e}),1),Wl=ho("round"),Vl=oo((function(t,e){return t-e}),0);return ir.after=function(t,e){if("function"!=typeof e)throw new Qt(s);return t=Ra(t),function(){if(--t<1)return e.apply(this,arguments)}},ir.ary=Gs,ir.assign=za,ir.assignIn=La,ir.assignInWith=Ha,ir.assignWith=Na,ir.at=Wa,ir.before=Ys,ir.bind=Xs,ir.bindAll=vl,ir.bindKey=$s,ir.castArray=function(){if(!arguments.length)return[];var t=arguments[0];return ua(t)?t:[t]},ir.chain=Os,ir.chunk=function(t,e,n){e=(n?Fo(t,e,n):e===i)?1:jn(Ra(e),0);var o=null==t?0:t.length;if(!o||e<1)return[];for(var s=0,a=0,l=r(An(o/e));s<o;)l[a++]=bi(t,s,s+=e);return l},ir.compact=function(t){for(var e=-1,n=null==t?0:t.length,r=0,i=[];++e<n;){var o=t[e];o&&(i[r++]=o)}return i},ir.concat=function(){var t=arguments.length;if(!t)return[];for(var e=r(t-1),n=arguments[0],i=t;i--;)e[i-1]=arguments[i];return Ve(ua(n)?Gi(n):[n],Br(e,1))},ir.cond=function(t){var e=null==t?0:t.length,n=Io();return t=e?We(t,(function(t){if("function"!=typeof t[1])throw new Qt(s);return[n(t[0]),t[1]]})):[],di((function(n){for(var r=-1;++r<e;){var i=t[r];if(De(i[0],this,n))return De(i[1],this,n)}}))},ir.conforms=function(t){return function(t){var e=Qa(t);return function(n){return Er(n,t,e)}}(Ir(t,l))},ir.constant=_l,ir.countBy=Ds,ir.create=function(t,e){var n=or(t);return null==e?n:Cr(n,e)},ir.curry=function t(e,n,r){var o=go(e,m,i,i,i,i,i,n=r?i:n);return o.placeholder=t.placeholder,o},ir.curryRight=function t(e,n,r){var o=go(e,y,i,i,i,i,i,n=r?i:n);return o.placeholder=t.placeholder,o},ir.debounce=Qs,ir.defaults=Va,ir.defaultsDeep=Ua,ir.defer=Zs,ir.delay=Ks,ir.difference=os,ir.differenceBy=ss,ir.differenceWith=as,ir.drop=function(t,e,n){var r=null==t?0:t.length;return r?bi(t,(e=n||e===i?1:Ra(e))<0?0:e,r):[]},ir.dropRight=function(t,e,n){var r=null==t?0:t.length;return r?bi(t,0,(e=r-(e=n||e===i?1:Ra(e)))<0?0:e):[]},ir.dropRightWhile=function(t,e){return t&&t.length?ki(t,Io(e,3),!0,!0):[]},ir.dropWhile=function(t,e){return t&&t.length?ki(t,Io(e,3),!0):[]},ir.fill=function(t,e,n,r){var o=null==t?0:t.length;return o?(n&&"number"!=typeof n&&Fo(t,e,n)&&(n=0,r=o),function(t,e,n,r){var o=t.length;for((n=Ra(n))<0&&(n=-n>o?0:o+n),(r=r===i||r>o?o:Ra(r))<0&&(r+=o),r=n>r?0:Da(r);n<r;)t[n++]=e;return t}(t,e,n,r)):[]},ir.filter=function(t,e){return(ua(t)?Le:Dr)(t,Io(e,3))},ir.flatMap=function(t,e){return Br(Ws(t,e),1)},ir.flatMapDeep=function(t,e){return Br(Ws(t,e),P)},ir.flatMapDepth=function(t,e,n){return n=n===i?1:Ra(n),Br(Ws(t,e),n)},ir.flatten=cs,ir.flattenDeep=function(t){return null!=t&&t.length?Br(t,P):[]},ir.flattenDepth=function(t,e){return null!=t&&t.length?Br(t,e=e===i?1:Ra(e)):[]},ir.flip=function(t){return go(t,C)},ir.flow=bl,ir.flowRight=wl,ir.fromPairs=function(t){for(var e=-1,n=null==t?0:t.length,r={};++e<n;){var i=t[e];r[i[0]]=i[1]}return r},ir.functions=function(t){return null==t?[]:Hr(t,Qa(t))},ir.functionsIn=function(t){return null==t?[]:Hr(t,Za(t))},ir.groupBy=Ls,ir.initial=function(t){return null!=t&&t.length?bi(t,0,-1):[]},ir.intersection=ps,ir.intersectionBy=ds,ir.intersectionWith=fs,ir.invert=Ya,ir.invertBy=Xa,ir.invokeMap=Hs,ir.iteratee=xl,ir.keyBy=Ns,ir.keys=Qa,ir.keysIn=Za,ir.map=Ws,ir.mapKeys=function(t,e){var n={};return e=Io(e,3),zr(t,(function(t,r,i){xr(n,e(t,r,i),t)})),n},ir.mapValues=function(t,e){var n={};return e=Io(e,3),zr(t,(function(t,r,i){xr(n,r,e(t,r,i))})),n},ir.matches=function(t){return ri(Ir(t,l))},ir.matchesProperty=function(t,e){return ii(t,Ir(e,l))},ir.memoize=Js,ir.merge=Ka,ir.mergeWith=Ja,ir.method=Sl,ir.methodOf=Pl,ir.mixin=Il,ir.negate=ta,ir.nthArg=function(t){return t=Ra(t),di((function(e){return si(e,t)}))},ir.omit=tl,ir.omitBy=function(t,e){return nl(t,ta(Io(e)))},ir.once=function(t){return Ys(2,t)},ir.orderBy=function(t,e,n,r){return null==t?[]:(ua(e)||(e=null==e?[]:[e]),ua(n=r?i:n)||(n=null==n?[]:[n]),ai(t,e,n))},ir.over=Tl,ir.overArgs=ea,ir.overEvery=Al,ir.overSome=kl,ir.partial=na,ir.partialRight=ra,ir.partition=Vs,ir.pick=el,ir.pickBy=nl,ir.property=Ol,ir.propertyOf=function(t){return function(e){return null==t?i:Nr(t,e)}},ir.pull=ms,ir.pullAll=ys,ir.pullAllBy=function(t,e,n){return t&&t.length&&e&&e.length?ui(t,e,Io(n,2)):t},ir.pullAllWith=function(t,e,n){return t&&t.length&&e&&e.length?ui(t,e,i,n):t},ir.pullAt=vs,ir.range=Ml,ir.rangeRight=Rl,ir.rearg=ia,ir.reject=function(t,e){return(ua(t)?Le:Dr)(t,ta(Io(e,3)))},ir.remove=function(t,e){var n=[];if(!t||!t.length)return n;var r=-1,i=[],o=t.length;for(e=Io(e,3);++r<o;){var s=t[r];e(s,r,t)&&(n.push(s),i.push(r))}return ci(t,i),n},ir.rest=function(t,e){if("function"!=typeof t)throw new Qt(s);return di(t,e=e===i?e:Ra(e))},ir.reverse=_s,ir.sampleSize=function(t,e,n){return e=(n?Fo(t,e,n):e===i)?1:Ra(e),(ua(t)?mr:gi)(t,e)},ir.set=function(t,e,n){return null==t?t:mi(t,e,n)},ir.setWith=function(t,e,n,r){return r="function"==typeof r?r:i,null==t?t:mi(t,e,n,r)},ir.shuffle=function(t){return(ua(t)?yr:_i)(t)},ir.slice=function(t,e,n){var r=null==t?0:t.length;return r?(n&&"number"!=typeof n&&Fo(t,e,n)?(e=0,n=r):(e=null==e?0:Ra(e),n=n===i?r:Ra(n)),bi(t,e,n)):[]},ir.sortBy=Us,ir.sortedUniq=function(t){return t&&t.length?Si(t):[]},ir.sortedUniqBy=function(t,e){return t&&t.length?Si(t,Io(e,2)):[]},ir.split=function(t,e,n){return n&&"number"!=typeof n&&Fo(t,e,n)&&(e=n=i),(n=n===i?A:n>>>0)?(t=Fa(t))&&("string"==typeof e||null!=e&&!Sa(e))&&!(e=Ii(e))&&fn(t)?zi(wn(t),0,n):t.split(e,n):[]},ir.spread=function(t,e){if("function"!=typeof t)throw new Qt(s);return e=null==e?0:jn(Ra(e),0),di((function(n){var r=n[e],i=zi(n,0,e);return r&&Ve(i,r),De(t,this,i)}))},ir.tail=function(t){var e=null==t?0:t.length;return e?bi(t,1,e):[]},ir.take=function(t,e,n){return t&&t.length?bi(t,0,(e=n||e===i?1:Ra(e))<0?0:e):[]},ir.takeRight=function(t,e,n){var r=null==t?0:t.length;return r?bi(t,(e=r-(e=n||e===i?1:Ra(e)))<0?0:e,r):[]},ir.takeRightWhile=function(t,e){return t&&t.length?ki(t,Io(e,3),!1,!0):[]},ir.takeWhile=function(t,e){return t&&t.length?ki(t,Io(e,3)):[]},ir.tap=function(t,e){return e(t),t},ir.throttle=function(t,e,n){var r=!0,i=!0;if("function"!=typeof t)throw new Qt(s);return _a(n)&&(r="leading"in n?!!n.leading:r,i="trailing"in n?!!n.trailing:i),Qs(t,e,{leading:r,maxWait:e,trailing:i})},ir.thru=Ms,ir.toArray=Oa,ir.toPairs=rl,ir.toPairsIn=il,ir.toPath=function(t){return ua(t)?We(t,ns):Ea(t)?[t]:Gi(es(Fa(t)))},ir.toPlainObject=ja,ir.transform=function(t,e,n){var r=ua(t),i=r||da(t)||Ta(t);if(e=Io(e,4),null==n){var o=t&&t.constructor;n=i?r?new o:[]:_a(t)&&ma(o)?or(xe(t)):{}}return(i?je:zr)(t,(function(t,r,i){return e(n,t,r,i)})),n},ir.unary=function(t){return Gs(t,1)},ir.union=bs,ir.unionBy=ws,ir.unionWith=Cs,ir.uniq=function(t){return t&&t.length?Ei(t):[]},ir.uniqBy=function(t,e){return t&&t.length?Ei(t,Io(e,2)):[]},ir.uniqWith=function(t,e){return e="function"==typeof e?e:i,t&&t.length?Ei(t,i,e):[]},ir.unset=function(t,e){return null==t||Ti(t,e)},ir.unzip=xs,ir.unzipWith=Ss,ir.update=function(t,e,n){return null==t?t:Ai(t,e,Bi(n))},ir.updateWith=function(t,e,n,r){return r="function"==typeof r?r:i,null==t?t:Ai(t,e,Bi(n),r)},ir.values=ol,ir.valuesIn=function(t){return null==t?[]:an(t,Za(t))},ir.without=Ps,ir.words=ml,ir.wrap=function(t,e){return na(Bi(e),t)},ir.xor=Is,ir.xorBy=Es,ir.xorWith=Ts,ir.zip=As,ir.zipObject=function(t,e){return Ri(t||[],e||[],_r)},ir.zipObjectDeep=function(t,e){return Ri(t||[],e||[],mi)},ir.zipWith=ks,ir.entries=rl,ir.entriesIn=il,ir.extend=La,ir.extendWith=Ha,Il(ir,ir),ir.add=Fl,ir.attempt=yl,ir.camelCase=sl,ir.capitalize=al,ir.ceil=zl,ir.clamp=function(t,e,n){return n===i&&(n=e,e=i),n!==i&&(n=(n=Ba(n))==n?n:0),e!==i&&(e=(e=Ba(e))==e?e:0),Pr(Ba(t),e,n)},ir.clone=function(t){return Ir(t,c)},ir.cloneDeep=function(t){return Ir(t,l|c)},ir.cloneDeepWith=function(t,e){return Ir(t,l|c,e="function"==typeof e?e:i)},ir.cloneWith=function(t,e){return Ir(t,c,e="function"==typeof e?e:i)},ir.conformsTo=function(t,e){return null==e||Er(t,e,Qa(e))},ir.deburr=ll,ir.defaultTo=function(t,e){return null==t||t!=t?e:t},ir.divide=Ll,ir.endsWith=function(t,e,n){t=Fa(t),e=Ii(e);var r=t.length,o=n=n===i?r:Pr(Ra(n),0,r);return(n-=e.length)>=0&&t.slice(n,o)==e},ir.eq=oa,ir.escape=function(t){return(t=Fa(t))&&mt.test(t)?t.replace(ft,pn):t},ir.escapeRegExp=function(t){return(t=Fa(t))&&St.test(t)?t.replace(xt,"\\$&"):t},ir.every=function(t,e,n){var r=ua(t)?ze:Mr;return n&&Fo(t,e,n)&&(e=i),r(t,Io(e,3))},ir.find=Bs,ir.findIndex=ls,ir.findKey=function(t,e){return Xe(t,Io(e,3),zr)},ir.findLast=js,ir.findLastIndex=us,ir.findLastKey=function(t,e){return Xe(t,Io(e,3),Lr)},ir.floor=Hl,ir.forEach=Fs,ir.forEachRight=zs,ir.forIn=function(t,e){return null==t?t:jr(t,Io(e,3),Za)},ir.forInRight=function(t,e){return null==t?t:Fr(t,Io(e,3),Za)},ir.forOwn=function(t,e){return t&&zr(t,Io(e,3))},ir.forOwnRight=function(t,e){return t&&Lr(t,Io(e,3))},ir.get=qa,ir.gt=sa,ir.gte=aa,ir.has=function(t,e){return null!=t&&Ro(t,e,qr)},ir.hasIn=Ga,ir.head=hs,ir.identity=Cl,ir.includes=function(t,e,n,r){t=ha(t)?t:ol(t),n=n&&!r?Ra(n):0;var i=t.length;return n<0&&(n=jn(i+n,0)),Ia(t)?n<=i&&t.indexOf(e,n)>-1:!!i&&Qe(t,e,n)>-1},ir.indexOf=function(t,e,n){var r=null==t?0:t.length;if(!r)return-1;var i=null==n?0:Ra(n);return i<0&&(i=jn(r+i,0)),Qe(t,e,i)},ir.inRange=function(t,e,n){return e=Ma(e),n===i?(n=e,e=0):n=Ma(n),function(t,e,n){return t>=Fn(e,n)&&t<jn(e,n)}(t=Ba(t),e,n)},ir.invoke=$a,ir.isArguments=la,ir.isArray=ua,ir.isArrayBuffer=ca,ir.isArrayLike=ha,ir.isArrayLikeObject=pa,ir.isBoolean=function(t){return!0===t||!1===t||ba(t)&&Vr(t)==j},ir.isBuffer=da,ir.isDate=fa,ir.isElement=function(t){return ba(t)&&1===t.nodeType&&!xa(t)},ir.isEmpty=function(t){if(null==t)return!0;if(ha(t)&&(ua(t)||"string"==typeof t||"function"==typeof t.splice||da(t)||Ta(t)||la(t)))return!t.length;var e=Mo(t);if(e==W||e==X)return!t.size;if(No(t))return!ti(t).length;for(var n in t)if(ee.call(t,n))return!1;return!0},ir.isEqual=function(t,e){return Qr(t,e)},ir.isEqualWith=function(t,e,n){var r=(n="function"==typeof n?n:i)?n(t,e):i;return r===i?Qr(t,e,i,n):!!r},ir.isError=ga,ir.isFinite=function(t){return"number"==typeof t&&Rn(t)},ir.isFunction=ma,ir.isInteger=ya,ir.isLength=va,ir.isMap=wa,ir.isMatch=function(t,e){return t===e||Zr(t,e,To(e))},ir.isMatchWith=function(t,e,n){return n="function"==typeof n?n:i,Zr(t,e,To(e),n)},ir.isNaN=function(t){return Ca(t)&&t!=+t},ir.isNative=function(t){if(Ho(t))throw new Ut("Unsupported core-js use. Try https://npms.io/search?q=ponyfill.");return Kr(t)},ir.isNil=function(t){return null==t},ir.isNull=function(t){return null===t},ir.isNumber=Ca,ir.isObject=_a,ir.isObjectLike=ba,ir.isPlainObject=xa,ir.isRegExp=Sa,ir.isSafeInteger=function(t){return ya(t)&&t>=-I&&t<=I},ir.isSet=Pa,ir.isString=Ia,ir.isSymbol=Ea,ir.isTypedArray=Ta,ir.isUndefined=function(t){return t===i},ir.isWeakMap=function(t){return ba(t)&&Mo(t)==K},ir.isWeakSet=function(t){return ba(t)&&"[object WeakSet]"==Vr(t)},ir.join=function(t,e){return null==t?"":Dn.call(t,e)},ir.kebabCase=ul,ir.last=gs,ir.lastIndexOf=function(t,e,n){var r=null==t?0:t.length;if(!r)return-1;var o=r;return n!==i&&(o=(o=Ra(n))<0?jn(r+o,0):Fn(o,r-1)),e==e?function(t,e,n){for(var r=n+1;r--;)if(t[r]===e)return r;return r}(t,e,o):$e(t,Ke,o,!0)},ir.lowerCase=cl,ir.lowerFirst=hl,ir.lt=Aa,ir.lte=ka,ir.max=function(t){return t&&t.length?Rr(t,Cl,Ur):i},ir.maxBy=function(t,e){return t&&t.length?Rr(t,Io(e,2),Ur):i},ir.mean=function(t){return Je(t,Cl)},ir.meanBy=function(t,e){return Je(t,Io(e,2))},ir.min=function(t){return t&&t.length?Rr(t,Cl,ei):i},ir.minBy=function(t,e){return t&&t.length?Rr(t,Io(e,2),ei):i},ir.stubArray=Dl,ir.stubFalse=Bl,ir.stubObject=function(){return{}},ir.stubString=function(){return""},ir.stubTrue=function(){return!0},ir.multiply=Nl,ir.nth=function(t,e){return t&&t.length?si(t,Ra(e)):i},ir.noConflict=function(){return Ce._===this&&(Ce._=se),this},ir.noop=El,ir.now=qs,ir.pad=function(t,e,n){t=Fa(t);var r=(e=Ra(e))?bn(t):0;if(!e||r>=e)return t;var i=(e-r)/2;return ao(kn(i),n)+t+ao(An(i),n)},ir.padEnd=function(t,e,n){t=Fa(t);var r=(e=Ra(e))?bn(t):0;return e&&r<e?t+ao(e-r,n):t},ir.padStart=function(t,e,n){t=Fa(t);var r=(e=Ra(e))?bn(t):0;return e&&r<e?ao(e-r,n)+t:t},ir.parseInt=function(t,e,n){return n||null==e?e=0:e&&(e=+e),Ln(Fa(t).replace(It,""),e||0)},ir.random=function(t,e,n){if(n&&"boolean"!=typeof n&&Fo(t,e,n)&&(e=n=i),n===i&&("boolean"==typeof e?(n=e,e=i):"boolean"==typeof t&&(n=t,t=i)),t===i&&e===i?(t=0,e=1):(t=Ma(t),e===i?(e=t,t=0):e=Ma(e)),t>e){var r=t;t=e,e=r}if(n||t%1||e%1){var o=Hn();return Fn(t+o*(e-t+ve("1e-"+((o+"").length-1))),e)}return hi(t,e)},ir.reduce=function(t,e,n){var r=ua(t)?Ue:nn,i=arguments.length<3;return r(t,Io(e,4),n,i,kr)},ir.reduceRight=function(t,e,n){var r=ua(t)?qe:nn,i=arguments.length<3;return r(t,Io(e,4),n,i,Or)},ir.repeat=function(t,e,n){return e=(n?Fo(t,e,n):e===i)?1:Ra(e),pi(Fa(t),e)},ir.replace=function(){var t=arguments,e=Fa(t[0]);return t.length<3?e:e.replace(t[1],t[2])},ir.result=function(t,e,n){var r=-1,o=(e=ji(e,t)).length;for(o||(o=1,t=i);++r<o;){var s=null==t?i:t[ns(e[r])];s===i&&(r=o,s=n),t=ma(s)?s.call(t):s}return t},ir.round=Wl,ir.runInContext=t,ir.sample=function(t){return(ua(t)?gr:fi)(t)},ir.size=function(t){if(null==t)return 0;if(ha(t))return Ia(t)?bn(t):t.length;var e=Mo(t);return e==W||e==X?t.size:ti(t).length},ir.snakeCase=pl,ir.some=function(t,e,n){var r=ua(t)?Ge:wi;return n&&Fo(t,e,n)&&(e=i),r(t,Io(e,3))},ir.sortedIndex=function(t,e){return Ci(t,e)},ir.sortedIndexBy=function(t,e,n){return xi(t,e,Io(n,2))},ir.sortedIndexOf=function(t,e){var n=null==t?0:t.length;if(n){var r=Ci(t,e);if(r<n&&oa(t[r],e))return r}return-1},ir.sortedLastIndex=function(t,e){return Ci(t,e,!0)},ir.sortedLastIndexBy=function(t,e,n){return xi(t,e,Io(n,2),!0)},ir.sortedLastIndexOf=function(t,e){if(null!=t&&t.length){var n=Ci(t,e,!0)-1;if(oa(t[n],e))return n}return-1},ir.startCase=dl,ir.startsWith=function(t,e,n){return t=Fa(t),n=null==n?0:Pr(Ra(n),0,t.length),e=Ii(e),t.slice(n,n+e.length)==e},ir.subtract=Vl,ir.sum=function(t){return t&&t.length?rn(t,Cl):0},ir.sumBy=function(t,e){return t&&t.length?rn(t,Io(e,2)):0},ir.template=function(t,e,n){var r=ir.templateSettings;n&&Fo(t,e,n)&&(e=i),t=Fa(t),e=Ha({},e,r,mo);var o,s,a=Ha({},e.imports,r.imports,mo),l=Qa(a),u=an(a,l),c=0,h=e.interpolate||Nt,p="__p += '",d=Xt((e.escape||Nt).source+"|"+h.source+"|"+(h===_t?Rt:Nt).source+"|"+(e.evaluate||Nt).source+"|$","g"),f="//# sourceURL="+(ee.call(e,"sourceURL")?(e.sourceURL+"").replace(/[\r\n]/g," "):"lodash.templateSources["+ ++fe+"]")+"\n";t.replace(d,(function(e,n,r,i,a,l){return r||(r=i),p+=t.slice(c,l).replace(Wt,dn),n&&(o=!0,p+="' +\n__e("+n+") +\n'"),a&&(s=!0,p+="';\n"+a+";\n__p += '"),r&&(p+="' +\n((__t = ("+r+")) == null ? '' : __t) +\n'"),c=l+e.length,e})),p+="';\n";var g=ee.call(e,"variable")&&e.variable;g||(p="with (obj) {\n"+p+"\n}\n"),p=(s?p.replace(ct,""):p).replace(ht,"$1").replace(pt,"$1;"),p="function("+(g||"obj")+") {\n"+(g?"":"obj || (obj = {});\n")+"var __t, __p = ''"+(o?", __e = _.escape":"")+(s?", __j = Array.prototype.join;\nfunction print() { __p += __j.call(arguments, '') }\n":";\n")+p+"return __p\n}";var m=yl((function(){return qt(l,f+"return "+p).apply(i,u)}));if(m.source=p,ga(m))throw m;return m},ir.times=function(t,e){if((t=Ra(t))<1||t>I)return[];var n=A,r=Fn(t,A);e=Io(e),t-=A;for(var i=on(r,e);++n<t;)e(n);return i},ir.toFinite=Ma,ir.toInteger=Ra,ir.toLength=Da,ir.toLower=function(t){return Fa(t).toLowerCase()},ir.toNumber=Ba,ir.toSafeInteger=function(t){return t?Pr(Ra(t),-I,I):0===t?t:0},ir.toString=Fa,ir.toUpper=function(t){return Fa(t).toUpperCase()},ir.trim=function(t,e,n){if((t=Fa(t))&&(n||e===i))return t.replace(Pt,"");if(!t||!(e=Ii(e)))return t;var r=wn(t),o=wn(e);return zi(r,un(r,o),cn(r,o)+1).join("")},ir.trimEnd=function(t,e,n){if((t=Fa(t))&&(n||e===i))return t.replace(Et,"");if(!t||!(e=Ii(e)))return t;var r=wn(t);return zi(r,0,cn(r,wn(e))+1).join("")},ir.trimStart=function(t,e,n){if((t=Fa(t))&&(n||e===i))return t.replace(It,"");if(!t||!(e=Ii(e)))return t;var r=wn(t);return zi(r,un(r,wn(e))).join("")},ir.truncate=function(t,e){var n=30,r="...";if(_a(e)){var o="separator"in e?e.separator:o;n="length"in e?Ra(e.length):n,r="omission"in e?Ii(e.omission):r}var s=(t=Fa(t)).length;if(fn(t)){var a=wn(t);s=a.length}if(n>=s)return t;var l=n-bn(r);if(l<1)return r;var u=a?zi(a,0,l).join(""):t.slice(0,l);if(o===i)return u+r;if(a&&(l+=u.length-l),Sa(o)){if(t.slice(l).search(o)){var c,h=u;for(o.global||(o=Xt(o.source,Fa(Dt.exec(o))+"g")),o.lastIndex=0;c=o.exec(h);)var p=c.index;u=u.slice(0,p===i?l:p)}}else if(t.indexOf(Ii(o),l)!=l){var d=u.lastIndexOf(o);d>-1&&(u=u.slice(0,d))}return u+r},ir.unescape=function(t){return(t=Fa(t))&&gt.test(t)?t.replace(dt,Cn):t},ir.uniqueId=function(t){var e=++ne;return Fa(t)+e},ir.upperCase=fl,ir.upperFirst=gl,ir.each=Fs,ir.eachRight=zs,ir.first=hs,Il(ir,(jl={},zr(ir,(function(t,e){ee.call(ir.prototype,e)||(jl[e]=t)})),jl),{chain:!1}),ir.VERSION="4.17.15",je(["bind","bindKey","curry","curryRight","partial","partialRight"],(function(t){ir[t].placeholder=ir})),je(["drop","take"],(function(t,e){lr.prototype[t]=function(n){n=n===i?1:jn(Ra(n),0);var r=this.__filtered__&&!e?new lr(this):this.clone();return r.__filtered__?r.__takeCount__=Fn(n,r.__takeCount__):r.__views__.push({size:Fn(n,A),type:t+(r.__dir__<0?"Right":"")}),r},lr.prototype[t+"Right"]=function(e){return this.reverse()[t](e).reverse()}})),je(["filter","map","takeWhile"],(function(t,e){var n=e+1,r=1==n||3==n;lr.prototype[t]=function(t){var e=this.clone();return e.__iteratees__.push({iteratee:Io(t,3),type:n}),e.__filtered__=e.__filtered__||r,e}})),je(["head","last"],(function(t,e){var n="take"+(e?"Right":"");lr.prototype[t]=function(){return this[n](1).value()[0]}})),je(["initial","tail"],(function(t,e){var n="drop"+(e?"":"Right");lr.prototype[t]=function(){return this.__filtered__?new lr(this):this[n](1)}})),lr.prototype.compact=function(){return this.filter(Cl)},lr.prototype.find=function(t){return this.filter(t).head()},lr.prototype.findLast=function(t){return this.reverse().find(t)},lr.prototype.invokeMap=di((function(t,e){return"function"==typeof t?new lr(this):this.map((function(n){return Xr(n,t,e)}))})),lr.prototype.reject=function(t){return this.filter(ta(Io(t)))},lr.prototype.slice=function(t,e){t=Ra(t);var n=this;return n.__filtered__&&(t>0||e<0)?new lr(n):(t<0?n=n.takeRight(-t):t&&(n=n.drop(t)),e!==i&&(n=(e=Ra(e))<0?n.dropRight(-e):n.take(e-t)),n)},lr.prototype.takeRightWhile=function(t){return this.reverse().takeWhile(t).reverse()},lr.prototype.toArray=function(){return this.take(A)},zr(lr.prototype,(function(t,e){var n=/^(?:filter|find|map|reject)|While$/.test(e),r=/^(?:head|last)$/.test(e),o=ir[r?"take"+("last"==e?"Right":""):e],s=r||/^find/.test(e);o&&(ir.prototype[e]=function(){var e=this.__wrapped__,a=r?[1]:arguments,l=e instanceof lr,u=a[0],c=l||ua(e),h=function(t){var e=o.apply(ir,Ve([t],a));return r&&p?e[0]:e};c&&n&&"function"==typeof u&&1!=u.length&&(l=c=!1);var p=this.__chain__,d=!!this.__actions__.length,f=s&&!p,g=l&&!d;if(!s&&c){e=g?e:new lr(this);var m=t.apply(e,a);return m.__actions__.push({func:Ms,args:[h],thisArg:i}),new ar(m,p)}return f&&g?t.apply(this,a):(m=this.thru(h),f?r?m.value()[0]:m.value():m)})})),je(["pop","push","shift","sort","splice","unshift"],(function(t){var e=Zt[t],n=/^(?:push|sort|unshift)$/.test(t)?"tap":"thru",r=/^(?:pop|shift)$/.test(t);ir.prototype[t]=function(){var t=arguments;if(r&&!this.__chain__){var i=this.value();return e.apply(ua(i)?i:[],t)}return this[n]((function(n){return e.apply(ua(n)?n:[],t)}))}})),zr(lr.prototype,(function(t,e){var n=ir[e];if(n){var r=n.name+"";ee.call($n,r)||($n[r]=[]),$n[r].push({name:e,func:n})}})),$n[ro(i,f).name]=[{name:"wrapper",func:i}],lr.prototype.clone=function(){var t=new lr(this.__wrapped__);return t.__actions__=Gi(this.__actions__),t.__dir__=this.__dir__,t.__filtered__=this.__filtered__,t.__iteratees__=Gi(this.__iteratees__),t.__takeCount__=this.__takeCount__,t.__views__=Gi(this.__views__),t},lr.prototype.reverse=function(){if(this.__filtered__){var t=new lr(this);t.__dir__=-1,t.__filtered__=!0}else(t=this.clone()).__dir__*=-1;return t},lr.prototype.value=function(){var t=this.__wrapped__.value(),e=this.__dir__,n=ua(t),r=e<0,i=n?t.length:0,o=function(t,e,n){for(var r=-1,i=n.length;++r<i;){var o=n[r],s=o.size;switch(o.type){case"drop":t+=s;break;case"dropRight":e-=s;break;case"take":e=Fn(e,t+s);break;case"takeRight":t=jn(t,e-s)}}return{start:t,end:e}}(0,i,this.__views__),s=o.start,a=o.end,l=a-s,u=r?a:s-1,c=this.__iteratees__,h=c.length,p=0,d=Fn(l,this.__takeCount__);if(!n||!r&&i==l&&d==l)return Oi(t,this.__actions__);var f=[];t:for(;l--&&p<d;){for(var g=-1,m=t[u+=e];++g<h;){var y=c[g],v=y.type,_=(0,y.iteratee)(m);if(2==v)m=_;else if(!_){if(1==v)continue t;break t}}f[p++]=m}return f},ir.prototype.at=Rs,ir.prototype.chain=function(){return Os(this)},ir.prototype.commit=function(){return new ar(this.value(),this.__chain__)},ir.prototype.next=function(){this.__values__===i&&(this.__values__=Oa(this.value()));var t=this.__index__>=this.__values__.length;return{done:t,value:t?i:this.__values__[this.__index__++]}},ir.prototype.plant=function(t){for(var e,n=this;n instanceof sr;){var r=is(n);r.__index__=0,r.__values__=i,e?o.__wrapped__=r:e=r;var o=r;n=n.__wrapped__}return o.__wrapped__=t,e},ir.prototype.reverse=function(){var t=this.__wrapped__;if(t instanceof lr){var e=t;return this.__actions__.length&&(e=new lr(this)),(e=e.reverse()).__actions__.push({func:Ms,args:[_s],thisArg:i}),new ar(e,this.__chain__)}return this.thru(_s)},ir.prototype.toJSON=ir.prototype.valueOf=ir.prototype.value=function(){return Oi(this.__wrapped__,this.__actions__)},ir.prototype.first=ir.prototype.head,en&&(ir.prototype[en]=function(){return this}),ir}();Ce._=xn,(r=(function(){return xn}).call(e,n,e,t))===i||(t.exports=r)}).call(this)}).call(this,n("aYSr")(t))},nuWL:function(t,e,n){var r;!function(i,o){var s={Identity:function(t){return t},True:function(){return!0},Blank:function(){}},a=typeof{},l={"":s.Identity},u={createLambda:function(t){if(null==t)return s.Identity;if("string"==typeof t){var e=l[t];if(null!=e)return e;if(-1===t.indexOf("=>")){for(var n,r=new RegExp("[$]+","g"),i=0;null!=(n=r.exec(t));){var o=n[0].length;o>i&&(i=o)}for(var a=[],u=1;u<=i;u++){for(var c="",h=0;h<u;h++)c+="$";a.push(c)}var p=Array.prototype.join.call(a,",");return e=new Function(p,"return "+t),l[t]=e,e}var d=t.match(/^[(\s]*([^()]*?)[)\s]*=>(.*)/);return e=new Function(d[1],"return "+d[2]),l[t]=e,e}return t},isIEnumerable:function(t){if("undefined"!=typeof Enumerator)try{return new Enumerator(t),!0}catch(e){}return!1},defineProperty:null!=Object.defineProperties?function(t,e,n){Object.defineProperty(t,e,{enumerable:!1,configurable:!0,writable:!0,value:n})}:function(t,e,n){t[e]=n},compare:function(t,e){return t===e?0:t>e?1:-1},dispose:function(t){null!=t&&t.dispose()},hasNativeIteratorSupport:function(){return"undefined"!=typeof Symbol&&void 0!==Symbol.iterator}},c=function(t,e,n){var r=new h,i=0;this.current=r.current,this.moveNext=function(){try{switch(i){case 0:i=1,t();case 1:return!!e.apply(r)||(this.dispose(),!1);case 2:return!1}}catch(n){throw this.dispose(),n}},this.dispose=function(){if(1==i)try{n()}finally{i=2}}},h=function(){var t=null;this.current=function(){return t},this.yieldReturn=function(e){return t=e,!0},this.yieldBreak=function(){return!1}},p=function(t){this.getEnumerator=t};(p.Utils={}).createLambda=function(t){return u.createLambda(t)},p.Utils.createEnumerable=function(t){return new p(t)},p.Utils.createEnumerator=function(t,e,n){return new c(t,e,n)},p.Utils.extendTo=function(t){var e,n=t.prototype;for(var r in t===Array?(e=m.prototype,u.defineProperty(n,"getSource",(function(){return this}))):(e=p.prototype,u.defineProperty(n,"getEnumerator",(function(){return p.from(this).getEnumerator()}))),e){var i=e[r];n[r]!=i&&(null!=n[r]&&n[r+="ByLinq"]==i||i instanceof Function&&u.defineProperty(n,r,i))}},p.choice=function(){var t=arguments;return new p((function(){return new c((function(){t=t[0]instanceof Array?t[0]:null!=t[0].getEnumerator?t[0].toArray():t}),(function(){return this.yieldReturn(t[Math.floor(Math.random()*t.length)])}),s.Blank)}))},p.cycle=function(){var t=arguments;return new p((function(){var e=0;return new c((function(){t=t[0]instanceof Array?t[0]:null!=t[0].getEnumerator?t[0].toArray():t}),(function(){return e>=t.length&&(e=0),this.yieldReturn(t[e++])}),s.Blank)}))},p.empty=function(){return new p((function(){return new c(s.Blank,(function(){return!1}),s.Blank)}))},p.from=function(t){if(null==t)return p.empty();if(t instanceof p)return t;if("number"==typeof t||typeof t==typeof!0)return p.repeat(t,1);if("string"==typeof t)return new p((function(){var e=0;return new c(s.Blank,(function(){return e<t.length&&this.yieldReturn(t.charAt(e++))}),s.Blank)}));if("function"!=typeof t){if("number"==typeof t.length)return new m(t);if("undefined"!=typeof Symbol&&void 0!==t[Symbol.iterator])return new p((function(){return new c(s.Blank,(function(){var e=t.next();return!e.done&&this.yieldReturn(e.value)}),s.Blank)}));if(!(t instanceof Object)&&u.isIEnumerable(t))return new p((function(){var e,n=!0;return new c((function(){e=new Enumerator(t)}),(function(){return n?n=!1:e.moveNext(),!e.atEnd()&&this.yieldReturn(e.item())}),s.Blank)}));if(typeof Windows===a&&"function"==typeof t.first)return new p((function(){var e,n=!0;return new c((function(){e=t.first()}),(function(){return n?n=!1:e.moveNext(),e.hasCurrent?this.yieldReturn(e.current):this.yieldBreak()}),s.Blank)}))}return new p((function(){var e=[],n=0;return new c((function(){for(var n in t){var r=t[n];r instanceof Function||!Object.prototype.hasOwnProperty.call(t,n)||e.push({key:n,value:r})}}),(function(){return n<e.length&&this.yieldReturn(e[n++])}),s.Blank)}))},p.make=function(t){return p.repeat(t,1)},p.matches=function(t,e,n){return null==n&&(n=""),e instanceof RegExp&&(n+=e.ignoreCase?"i":"",n+=e.multiline?"m":"",e=e.source),-1===n.indexOf("g")&&(n+="g"),new p((function(){var r;return new c((function(){r=new RegExp(e,n)}),(function(){var e=r.exec(t);return!!e&&this.yieldReturn(e)}),s.Blank)}))},p.range=function(t,e,n){return null==n&&(n=1),new p((function(){var r,i=0;return new c((function(){r=t-n}),(function(){return i++<e?this.yieldReturn(r+=n):this.yieldBreak()}),s.Blank)}))},p.rangeDown=function(t,e,n){return null==n&&(n=1),new p((function(){var r,i=0;return new c((function(){r=t+n}),(function(){return i++<e?this.yieldReturn(r-=n):this.yieldBreak()}),s.Blank)}))},p.rangeTo=function(t,e,n){return null==n&&(n=1),new p(t<e?function(){var r;return new c((function(){r=t-n}),(function(){var t=r+=n;return t<=e?this.yieldReturn(t):this.yieldBreak()}),s.Blank)}:function(){var r;return new c((function(){r=t+n}),(function(){var t=r-=n;return t>=e?this.yieldReturn(t):this.yieldBreak()}),s.Blank)})},p.repeat=function(t,e){return null!=e?p.repeat(t).take(e):new p((function(){return new c(s.Blank,(function(){return this.yieldReturn(t)}),s.Blank)}))},p.repeatWithFinalize=function(t,e){return t=u.createLambda(t),e=u.createLambda(e),new p((function(){var n;return new c((function(){n=t()}),(function(){return this.yieldReturn(n)}),(function(){null!=n&&(e(n),n=null)}))}))},p.generate=function(t,e){return null!=e?p.generate(t).take(e):(t=u.createLambda(t),new p((function(){return new c(s.Blank,(function(){return this.yieldReturn(t())}),s.Blank)})))},p.toInfinity=function(t,e){return null==t&&(t=0),null==e&&(e=1),new p((function(){var n;return new c((function(){n=t-e}),(function(){return this.yieldReturn(n+=e)}),s.Blank)}))},p.toNegativeInfinity=function(t,e){return null==t&&(t=0),null==e&&(e=1),new p((function(){var n;return new c((function(){n=t+e}),(function(){return this.yieldReturn(n-=e)}),s.Blank)}))},p.unfold=function(t,e){return e=u.createLambda(e),new p((function(){var n,r=!0;return new c(s.Blank,(function(){return r?(r=!1,this.yieldReturn(n=t)):(n=e(n),this.yieldReturn(n))}),s.Blank)}))},p.defer=function(t){return new p((function(){var e;return new c((function(){e=p.from(t()).getEnumerator()}),(function(){return e.moveNext()?this.yieldReturn(e.current()):this.yieldBreak()}),(function(){u.dispose(e)}))}))},p.prototype.traverseBreadthFirst=function(t,e){var n=this;return t=u.createLambda(t),e=u.createLambda(e),new p((function(){var r,i=0,o=[];return new c((function(){r=n.getEnumerator()}),(function(){for(;;){if(r.moveNext())return o.push(r.current()),this.yieldReturn(e(r.current(),i));var n=p.from(o).selectMany((function(e){return t(e)}));if(!n.any())return!1;i++,o=[],u.dispose(r),r=n.getEnumerator()}}),(function(){u.dispose(r)}))}))},p.prototype.traverseDepthFirst=function(t,e){var n=this;return t=u.createLambda(t),e=u.createLambda(e),new p((function(){var r,i=[];return new c((function(){r=n.getEnumerator()}),(function(){for(;;){if(r.moveNext()){var n=e(r.current(),i.length);return i.push(r),r=p.from(t(r.current())).getEnumerator(),this.yieldReturn(n)}if(i.length<=0)return!1;u.dispose(r),r=i.pop()}}),(function(){try{u.dispose(r)}finally{p.from(i).forEach((function(t){t.dispose()}))}}))}))},p.prototype.flatten=function(){var t=this;return new p((function(){var e,n=null;return new c((function(){e=t.getEnumerator()}),(function(){for(;;){if(null!=n){if(n.moveNext())return this.yieldReturn(n.current());n=null}if(e.moveNext()){if(e.current()instanceof Array){u.dispose(n),n=p.from(e.current()).selectMany(s.Identity).flatten().getEnumerator();continue}return this.yieldReturn(e.current())}return!1}}),(function(){try{u.dispose(e)}finally{u.dispose(n)}}))}))},p.prototype.pairwise=function(t){var e=this;return t=u.createLambda(t),new p((function(){var n;return new c((function(){(n=e.getEnumerator()).moveNext()}),(function(){var e=n.current();return!!n.moveNext()&&this.yieldReturn(t(e,n.current()))}),(function(){u.dispose(n)}))}))},p.prototype.scan=function(t,e){var n;null==e?(e=u.createLambda(t),n=!1):(e=u.createLambda(e),n=!0);var r=this;return new p((function(){var i,o,s=!0;return new c((function(){i=r.getEnumerator()}),(function(){if(s){if(s=!1,n)return this.yieldReturn(o=t);if(i.moveNext())return this.yieldReturn(o=i.current())}return!!i.moveNext()&&this.yieldReturn(o=e(o,i.current()))}),(function(){u.dispose(i)}))}))},p.prototype.select=function(t){if((t=u.createLambda(t)).length<=1)return new v(this,null,t);var e=this;return new p((function(){var n,r=0;return new c((function(){n=e.getEnumerator()}),(function(){return!!n.moveNext()&&this.yieldReturn(t(n.current(),r++))}),(function(){u.dispose(n)}))}))},p.prototype.selectMany=function(t,e){var n=this;return t=u.createLambda(t),null==e&&(e=function(t,e){return e}),e=u.createLambda(e),new p((function(){var r,i=void 0,o=0;return new c((function(){r=n.getEnumerator()}),(function(){if(void 0===i&&!r.moveNext())return!1;do{if(null==i){var n=t(r.current(),o++);i=p.from(n).getEnumerator()}if(i.moveNext())return this.yieldReturn(e(r.current(),i.current()));u.dispose(i),i=null}while(r.moveNext());return!1}),(function(){try{u.dispose(r)}finally{u.dispose(i)}}))}))},p.prototype.where=function(t){if((t=u.createLambda(t)).length<=1)return new y(this,t);var e=this;return new p((function(){var n,r=0;return new c((function(){n=e.getEnumerator()}),(function(){for(;n.moveNext();)if(t(n.current(),r++))return this.yieldReturn(n.current());return!1}),(function(){u.dispose(n)}))}))},p.prototype.choose=function(t){t=u.createLambda(t);var e=this;return new p((function(){var n,r=0;return new c((function(){n=e.getEnumerator()}),(function(){for(;n.moveNext();){var e=t(n.current(),r++);if(null!=e)return this.yieldReturn(e)}return this.yieldBreak()}),(function(){u.dispose(n)}))}))},p.prototype.ofType=function(t){var e;switch(t){case Number:e="number";break;case String:e="string";break;case Boolean:e=typeof!0;break;case Function:e="function";break;default:e=null}return this.where(null===e?function(e){return e instanceof t}:function(t){return typeof t===e})},p.prototype.zip=function(){var t=arguments,e=u.createLambda(arguments[arguments.length-1]),n=this;if(2==arguments.length){var r=arguments[0];return new p((function(){var t,i,o=0;return new c((function(){t=n.getEnumerator(),i=p.from(r).getEnumerator()}),(function(){return!(!t.moveNext()||!i.moveNext())&&this.yieldReturn(e(t.current(),i.current(),o++))}),(function(){try{u.dispose(t)}finally{u.dispose(i)}}))}))}return new p((function(){var r,i=0;return new c((function(){var e=p.make(n).concat(p.from(t).takeExceptLast().select(p.from)).select((function(t){return t.getEnumerator()})).toArray();r=p.from(e)}),(function(){if(r.all((function(t){return t.moveNext()}))){var t=r.select((function(t){return t.current()})).toArray();return t.push(i++),this.yieldReturn(e.apply(null,t))}return this.yieldBreak()}),(function(){p.from(r).forEach(u.dispose)}))}))},p.prototype.merge=function(){var t=arguments,e=this;return new p((function(){var n,r=-1;return new c((function(){n=p.make(e).concat(p.from(t).select(p.from)).select((function(t){return t.getEnumerator()})).toArray()}),(function(){for(;n.length>0;){var t=n[r=r>=n.length-1?0:r+1];if(t.moveNext())return this.yieldReturn(t.current());t.dispose(),n.splice(r--,1)}return this.yieldBreak()}),(function(){p.from(n).forEach(u.dispose)}))}))},p.prototype.join=function(t,e,n,r,i){e=u.createLambda(e),n=u.createLambda(n),r=u.createLambda(r),i=u.createLambda(i);var o=this;return new p((function(){var a,l,h=null,d=0;return new c((function(){a=o.getEnumerator(),l=p.from(t).toLookup(n,s.Identity,i)}),(function(){for(;;){if(null!=h){var t=h[d++];if(void 0!==t)return this.yieldReturn(r(a.current(),t));t=null,d=0}if(!a.moveNext())return!1;var n=e(a.current());h=l.get(n).toArray()}}),(function(){u.dispose(a)}))}))},p.prototype.groupJoin=function(t,e,n,r,i){e=u.createLambda(e),n=u.createLambda(n),r=u.createLambda(r),i=u.createLambda(i);var o=this;return new p((function(){var a=o.getEnumerator(),l=null;return new c((function(){a=o.getEnumerator(),l=p.from(t).toLookup(n,s.Identity,i)}),(function(){if(a.moveNext()){var t=l.get(e(a.current()));return this.yieldReturn(r(a.current(),t))}return!1}),(function(){u.dispose(a)}))}))},p.prototype.all=function(t){t=u.createLambda(t);var e=!0;return this.forEach((function(n){if(!t(n))return e=!1,!1})),e},p.prototype.any=function(t){t=u.createLambda(t);var e=this.getEnumerator();try{if(0==arguments.length)return e.moveNext();for(;e.moveNext();)if(t(e.current()))return!0;return!1}finally{u.dispose(e)}},p.prototype.isEmpty=function(){return!this.any()},p.prototype.concat=function(){var t=this;if(1==arguments.length){var e=arguments[0];return new p((function(){var n,r;return new c((function(){n=t.getEnumerator()}),(function(){if(null==r){if(n.moveNext())return this.yieldReturn(n.current());r=p.from(e).getEnumerator()}return!!r.moveNext()&&this.yieldReturn(r.current())}),(function(){try{u.dispose(n)}finally{u.dispose(r)}}))}))}var n=arguments;return new p((function(){var e;return new c((function(){e=p.make(t).concat(p.from(n).select(p.from)).select((function(t){return t.getEnumerator()})).toArray()}),(function(){for(;e.length>0;){var t=e[0];if(t.moveNext())return this.yieldReturn(t.current());t.dispose(),e.splice(0,1)}return this.yieldBreak()}),(function(){p.from(e).forEach(u.dispose)}))}))},p.prototype.insert=function(t,e){var n=this;return new p((function(){var r,i,o=0,s=!1;return new c((function(){r=n.getEnumerator(),i=p.from(e).getEnumerator()}),(function(){return o==t&&i.moveNext()?(s=!0,this.yieldReturn(i.current())):r.moveNext()?(o++,this.yieldReturn(r.current())):!(s||!i.moveNext())&&this.yieldReturn(i.current())}),(function(){try{u.dispose(r)}finally{u.dispose(i)}}))}))},p.prototype.alternate=function(t){var e=this;return new p((function(){var n,r,i,o;return new c((function(){i=t instanceof Array||null!=t.getEnumerator?p.from(p.from(t).toArray()):p.make(t),(r=e.getEnumerator()).moveNext()&&(n=r.current())}),(function(){for(;;){if(null!=o){if(o.moveNext())return this.yieldReturn(o.current());o=null}if(null!=n||!r.moveNext()){if(null!=n){var t=n;return n=null,this.yieldReturn(t)}return this.yieldBreak()}n=r.current(),o=i.getEnumerator()}}),(function(){try{u.dispose(r)}finally{u.dispose(o)}}))}))},p.prototype.contains=function(t,e){e=u.createLambda(e);var n=this.getEnumerator();try{for(;n.moveNext();)if(e(n.current())===t)return!0;return!1}finally{u.dispose(n)}},p.prototype.defaultIfEmpty=function(t){var e=this;return void 0===t&&(t=null),new p((function(){var n,r=!0;return new c((function(){n=e.getEnumerator()}),(function(){return n.moveNext()?(r=!1,this.yieldReturn(n.current())):!!r&&(r=!1,this.yieldReturn(t))}),(function(){u.dispose(n)}))}))},p.prototype.distinct=function(t){return this.except(p.empty(),t)},p.prototype.distinctUntilChanged=function(t){t=u.createLambda(t);var e=this;return new p((function(){var n,r,i;return new c((function(){n=e.getEnumerator()}),(function(){for(;n.moveNext();){var e=t(n.current());if(i)return i=!1,r=e,this.yieldReturn(n.current());if(r!==e)return r=e,this.yieldReturn(n.current())}return this.yieldBreak()}),(function(){u.dispose(n)}))}))},p.prototype.except=function(t,e){e=u.createLambda(e);var n=this;return new p((function(){var r,i;return new c((function(){r=n.getEnumerator(),i=new _(e),p.from(t).forEach((function(t){i.add(t)}))}),(function(){for(;r.moveNext();){var t=r.current();if(!i.contains(t))return i.add(t),this.yieldReturn(t)}return!1}),(function(){u.dispose(r)}))}))},p.prototype.intersect=function(t,e){e=u.createLambda(e);var n=this;return new p((function(){var r,i,o;return new c((function(){r=n.getEnumerator(),i=new _(e),p.from(t).forEach((function(t){i.add(t)})),o=new _(e)}),(function(){for(;r.moveNext();){var t=r.current();if(!o.contains(t)&&i.contains(t))return o.add(t),this.yieldReturn(t)}return!1}),(function(){u.dispose(r)}))}))},p.prototype.sequenceEqual=function(t,e){e=u.createLambda(e);var n=this.getEnumerator();try{var r=p.from(t).getEnumerator();try{for(;n.moveNext();)if(!r.moveNext()||e(n.current())!==e(r.current()))return!1;return!r.moveNext()}finally{u.dispose(r)}}finally{u.dispose(n)}},p.prototype.union=function(t,e){e=u.createLambda(e);var n=this;return new p((function(){var r,i,o;return new c((function(){r=n.getEnumerator(),o=new _(e)}),(function(){var e;if(void 0===i){for(;r.moveNext();)if(e=r.current(),!o.contains(e))return o.add(e),this.yieldReturn(e);i=p.from(t).getEnumerator()}for(;i.moveNext();)if(e=i.current(),!o.contains(e))return o.add(e),this.yieldReturn(e);return!1}),(function(){try{u.dispose(r)}finally{u.dispose(i)}}))}))},p.prototype.orderBy=function(t){return new d(this,t,!1)},p.prototype.orderByDescending=function(t){return new d(this,t,!0)},p.prototype.reverse=function(){var t=this;return new p((function(){var e,n;return new c((function(){e=t.toArray(),n=e.length}),(function(){return n>0&&this.yieldReturn(e[--n])}),s.Blank)}))},p.prototype.shuffle=function(){var t=this;return new p((function(){var e;return new c((function(){e=t.toArray()}),(function(){if(e.length>0){var t=Math.floor(Math.random()*e.length);return this.yieldReturn(e.splice(t,1)[0])}return!1}),s.Blank)}))},p.prototype.weightedSample=function(t){t=u.createLambda(t);var e=this;return new p((function(){var n,r=0;return new c((function(){n=e.choose((function(e){var n=t(e);return n<=0?null:{value:e,bound:r+=n}})).toArray()}),(function(){if(n.length>0){for(var t=Math.floor(Math.random()*r)+1,e=-1,i=n.length;i-e>1;){var o=Math.floor((e+i)/2);n[o].bound>=t?i=o:e=o}return this.yieldReturn(n[i].value)}return this.yieldBreak()}),s.Blank)}))},p.prototype.groupBy=function(t,e,n,r){var i=this;return t=u.createLambda(t),e=u.createLambda(e),null!=n&&(n=u.createLambda(n)),r=u.createLambda(r),new p((function(){var o;return new c((function(){o=i.toLookup(t,e,r).toEnumerable().getEnumerator()}),(function(){for(;o.moveNext();)return this.yieldReturn(null==n?o.current():n(o.current().key(),o.current()));return!1}),(function(){u.dispose(o)}))}))},p.prototype.partitionBy=function(t,e,n,r){var i,o=this;return t=u.createLambda(t),e=u.createLambda(e),r=u.createLambda(r),null==n?(i=!1,n=function(t,e){return new w(t,e)}):(i=!0,n=u.createLambda(n)),new p((function(){var s,a,l,h=[];return new c((function(){(s=o.getEnumerator()).moveNext()&&(a=t(s.current()),l=r(a),h.push(e(s.current())))}),(function(){for(var o;1==(o=s.moveNext())&&l===r(t(s.current()));)h.push(e(s.current()));if(h.length>0){var u=n(a,i?p.from(h):h);return o?(a=t(s.current()),l=r(a),h=[e(s.current())]):h=[],this.yieldReturn(u)}return!1}),(function(){u.dispose(s)}))}))},p.prototype.buffer=function(t){var e=this;return new p((function(){var n;return new c((function(){n=e.getEnumerator()}),(function(){for(var e=[],r=0;n.moveNext();)if(e.push(n.current()),++r>=t)return this.yieldReturn(e);return e.length>0&&this.yieldReturn(e)}),(function(){u.dispose(n)}))}))},p.prototype.aggregate=function(t,e,n){return(n=u.createLambda(n))(this.scan(t,e,n).last())},p.prototype.average=function(t){t=u.createLambda(t);var e=0,n=0;return this.forEach((function(r){e+=t(r),++n})),e/n},p.prototype.count=function(t){t=null==t?s.True:u.createLambda(t);var e=0;return this.forEach((function(n,r){t(n,r)&&++e})),e},p.prototype.max=function(t){return null==t&&(t=s.Identity),this.select(t).aggregate((function(t,e){return t>e?t:e}))},p.prototype.min=function(t){return null==t&&(t=s.Identity),this.select(t).aggregate((function(t,e){return t<e?t:e}))},p.prototype.maxBy=function(t){return t=u.createLambda(t),this.aggregate((function(e,n){return t(e)>t(n)?e:n}))},p.prototype.minBy=function(t){return t=u.createLambda(t),this.aggregate((function(e,n){return t(e)<t(n)?e:n}))},p.prototype.sum=function(t){return null==t&&(t=s.Identity),this.select(t).aggregate(0,(function(t,e){return t+e}))},p.prototype.elementAt=function(t){var e,n=!1;if(this.forEach((function(r,i){if(i==t)return e=r,n=!0,!1})),!n)throw new Error("index is less than 0 or greater than or equal to the number of elements in source.");return e},p.prototype.elementAtOrDefault=function(t,e){var n;void 0===e&&(e=null);var r=!1;return this.forEach((function(e,i){if(i==t)return n=e,r=!0,!1})),r?n:e},p.prototype.first=function(t){if(null!=t)return this.where(t).first();var e,n=!1;if(this.forEach((function(t){return e=t,n=!0,!1})),!n)throw new Error("first:No element satisfies the condition.");return e},p.prototype.firstOrDefault=function(t,e){if(void 0!==t){if("function"==typeof t||"function"==typeof u.createLambda(t))return this.where(t).firstOrDefault(void 0,e);e=t}var n,r=!1;return this.forEach((function(t){return n=t,r=!0,!1})),r?n:e},p.prototype.last=function(t){if(null!=t)return this.where(t).last();var e,n=!1;if(this.forEach((function(t){n=!0,e=t})),!n)throw new Error("last:No element satisfies the condition.");return e},p.prototype.lastOrDefault=function(t,e){if(void 0!==t){if("function"==typeof t||"function"==typeof u.createLambda(t))return this.where(t).lastOrDefault(void 0,e);e=t}var n,r=!1;return this.forEach((function(t){r=!0,n=t})),r?n:e},p.prototype.single=function(t){if(null!=t)return this.where(t).single();var e,n=!1;if(this.forEach((function(t){if(n)throw new Error("single:sequence contains more than one element.");n=!0,e=t})),!n)throw new Error("single:No element satisfies the condition.");return e},p.prototype.singleOrDefault=function(t,e){if(void 0===e&&(e=null),null!=t)return this.where(t).singleOrDefault(null,e);var n,r=!1;return this.forEach((function(t){if(r)throw new Error("single:sequence contains more than one element.");r=!0,n=t})),r?n:e},p.prototype.skip=function(t){var e=this;return new p((function(){var n,r=0;return new c((function(){for(n=e.getEnumerator();r++<t&&n.moveNext(););}),(function(){return!!n.moveNext()&&this.yieldReturn(n.current())}),(function(){u.dispose(n)}))}))},p.prototype.skipWhile=function(t){t=u.createLambda(t);var e=this;return new p((function(){var n,r=0,i=!1;return new c((function(){n=e.getEnumerator()}),(function(){for(;!i;){if(!n.moveNext())return!1;if(!t(n.current(),r++))return i=!0,this.yieldReturn(n.current())}return!!n.moveNext()&&this.yieldReturn(n.current())}),(function(){u.dispose(n)}))}))},p.prototype.take=function(t){var e=this;return new p((function(){var n,r=0;return new c((function(){n=e.getEnumerator()}),(function(){return!!(r++<t&&n.moveNext())&&this.yieldReturn(n.current())}),(function(){u.dispose(n)}))}))},p.prototype.takeWhile=function(t){t=u.createLambda(t);var e=this;return new p((function(){var n,r=0;return new c((function(){n=e.getEnumerator()}),(function(){return!(!n.moveNext()||!t(n.current(),r++))&&this.yieldReturn(n.current())}),(function(){u.dispose(n)}))}))},p.prototype.takeExceptLast=function(t){null==t&&(t=1);var e=this;return new p((function(){if(t<=0)return e.getEnumerator();var n,r=[];return new c((function(){n=e.getEnumerator()}),(function(){for(;n.moveNext();){if(r.length==t)return r.push(n.current()),this.yieldReturn(r.shift());r.push(n.current())}return!1}),(function(){u.dispose(n)}))}))},p.prototype.takeFromLast=function(t){if(t<=0||null==t)return p.empty();var e=this;return new p((function(){var n,r,i=[];return new c((function(){n=e.getEnumerator()}),(function(){for(;n.moveNext();)i.length==t&&i.shift(),i.push(n.current());return null==r&&(r=p.from(i).getEnumerator()),!!r.moveNext()&&this.yieldReturn(r.current())}),(function(){u.dispose(r)}))}))},p.prototype.indexOf=function(t){var e=null;return this.forEach("function"==typeof t?function(n,r){if(t(n,r))return e=r,!1}:function(n,r){if(n===t)return e=r,!1}),null!==e?e:-1},p.prototype.lastIndexOf=function(t){var e=-1;return this.forEach("function"==typeof t?function(n,r){t(n,r)&&(e=r)}:function(n,r){n===t&&(e=r)}),e},p.prototype.cast=function(){return this},p.prototype.asEnumerable=function(){return p.from(this)},p.prototype.toArray=function(){var t=[];return this.forEach((function(e){t.push(e)})),t},p.prototype.toLookup=function(t,e,n){t=u.createLambda(t),e=u.createLambda(e),n=u.createLambda(n);var r=new _(n);return this.forEach((function(n){var i=t(n),o=e(n),s=r.get(i);void 0!==s?s.push(o):r.add(i,[o])})),new b(r)},p.prototype.toObject=function(t,e){t=u.createLambda(t),e=u.createLambda(e);var n={};return this.forEach((function(r){n[t(r)]=e(r)})),n},p.prototype.toDictionary=function(t,e,n){t=u.createLambda(t),e=u.createLambda(e),n=u.createLambda(n);var r=new _(n);return this.forEach((function(n){r.add(t(n),e(n))})),r},p.prototype.toJSONString=function(t,e){if("undefined"==typeof JSON||null==JSON.stringify)throw new Error("toJSONString can't find JSON.stringify. This works native JSON support Browser or include json2.js");return JSON.stringify(this.toArray(),t,e)},p.prototype.toJoinedString=function(t,e){return null==t&&(t=""),null==e&&(e=s.Identity),this.select(e).toArray().join(t)},p.prototype.doAction=function(t){var e=this;return t=u.createLambda(t),new p((function(){var n,r=0;return new c((function(){n=e.getEnumerator()}),(function(){return!!n.moveNext()&&(t(n.current(),r++),this.yieldReturn(n.current()))}),(function(){u.dispose(n)}))}))},p.prototype.forEach=function(t){t=u.createLambda(t);var e=0,n=this.getEnumerator();try{for(;n.moveNext()&&!1!==t(n.current(),e++););}finally{u.dispose(n)}},p.prototype.write=function(t,e){null==t&&(t=""),e=u.createLambda(e);var n=!0;this.forEach((function(r){n?n=!1:document.write(t),document.write(e(r))}))},p.prototype.writeLine=function(t){t=u.createLambda(t),this.forEach((function(e){document.writeln(t(e)+"<br />")}))},p.prototype.force=function(){var t=this.getEnumerator();try{for(;t.moveNext(););}finally{u.dispose(t)}},p.prototype.letBind=function(t){t=u.createLambda(t);var e=this;return new p((function(){var n;return new c((function(){n=p.from(t(e)).getEnumerator()}),(function(){return!!n.moveNext()&&this.yieldReturn(n.current())}),(function(){u.dispose(n)}))}))},p.prototype.share=function(){var t,e=this,n=!1;return new g((function(){return new c((function(){null==t&&(t=e.getEnumerator())}),(function(){if(n)throw new Error("enumerator is disposed");return!!t.moveNext()&&this.yieldReturn(t.current())}),s.Blank)}),(function(){n=!0,u.dispose(t)}))},p.prototype.memoize=function(){var t,e,n=this,r=!1;return new g((function(){var i=-1;return new c((function(){null==e&&(e=n.getEnumerator(),t=[])}),(function(){if(r)throw new Error("enumerator is disposed");return i++,t.length<=i?!!e.moveNext()&&this.yieldReturn(t[i]=e.current()):this.yieldReturn(t[i])}),s.Blank)}),(function(){r=!0,u.dispose(e),t=null}))},u.hasNativeIteratorSupport()&&(p.prototype[Symbol.iterator]=function(){return{enumerator:this.getEnumerator(),next:function(){return this.enumerator.moveNext()?{done:!1,value:this.enumerator.current()}:{done:!0}}}}),p.prototype.catchError=function(t){t=u.createLambda(t);var e=this;return new p((function(){var n;return new c((function(){n=e.getEnumerator()}),(function(){try{return!!n.moveNext()&&this.yieldReturn(n.current())}catch(e){return t(e),!1}}),(function(){u.dispose(n)}))}))},p.prototype.finallyAction=function(t){t=u.createLambda(t);var e=this;return new p((function(){var n;return new c((function(){n=e.getEnumerator()}),(function(){return!!n.moveNext()&&this.yieldReturn(n.current())}),(function(){try{u.dispose(n)}finally{t()}}))}))},p.prototype.log=function(t){return t=u.createLambda(t),this.doAction((function(e){"undefined"!=typeof console&&console.log(t(e))}))},p.prototype.trace=function(t,e){return null==t&&(t="Trace"),e=u.createLambda(e),this.doAction((function(n){"undefined"!=typeof console&&console.log(t,e(n))}))};var d=function(t,e,n,r){this.source=t,this.keySelector=u.createLambda(e),this.descending=n,this.parent=r};d.prototype=new p,d.prototype.createOrderedEnumerable=function(t,e){return new d(this.source,t,e,this)},d.prototype.thenBy=function(t){return this.createOrderedEnumerable(t,!1)},d.prototype.thenByDescending=function(t){return this.createOrderedEnumerable(t,!0)},d.prototype.getEnumerator=function(){var t,e,n=this,r=0;return new c((function(){t=[],e=[],n.source.forEach((function(n,r){t.push(n),e.push(r)}));var r=f.create(n,null);r.GenerateKeys(t),e.sort((function(t,e){return r.compare(t,e)}))}),(function(){return r<e.length&&this.yieldReturn(t[e[r++]])}),s.Blank)};var f=function(t,e,n){this.keySelector=t,this.descending=e,this.child=n,this.keys=null};f.create=function(t,e){var n=new f(t.keySelector,t.descending,e);return null!=t.parent?f.create(t.parent,n):n},f.prototype.GenerateKeys=function(t){for(var e=t.length,n=this.keySelector,r=new Array(e),i=0;i<e;i++)r[i]=n(t[i]);this.keys=r,null!=this.child&&this.child.GenerateKeys(t)},f.prototype.compare=function(t,e){var n=u.compare(this.keys[t],this.keys[e]);return 0==n?null!=this.child?this.child.compare(t,e):u.compare(t,e):this.descending?-n:n};var g=function(t,e){this.dispose=e,p.call(this,t)};g.prototype=new p;var m=function(t){this.getSource=function(){return t}};m.prototype=new p,m.prototype.any=function(t){return null==t?this.getSource().length>0:p.prototype.any.apply(this,arguments)},m.prototype.count=function(t){return null==t?this.getSource().length:p.prototype.count.apply(this,arguments)},m.prototype.elementAt=function(t){var e=this.getSource();return 0<=t&&t<e.length?e[t]:p.prototype.elementAt.apply(this,arguments)},m.prototype.elementAtOrDefault=function(t,e){void 0===e&&(e=null);var n=this.getSource();return 0<=t&&t<n.length?n[t]:e},m.prototype.first=function(t){var e=this.getSource();return null==t&&e.length>0?e[0]:p.prototype.first.apply(this,arguments)},m.prototype.firstOrDefault=function(t,e){if(void 0!==t)return p.prototype.firstOrDefault.apply(this,arguments);e=t;var n=this.getSource();return n.length>0?n[0]:e},m.prototype.last=function(t){var e=this.getSource();return null==t&&e.length>0?e[e.length-1]:p.prototype.last.apply(this,arguments)},m.prototype.lastOrDefault=function(t,e){if(void 0!==t)return p.prototype.lastOrDefault.apply(this,arguments);e=t;var n=this.getSource();return n.length>0?n[n.length-1]:e},m.prototype.skip=function(t){var e=this.getSource();return new p((function(){var n;return new c((function(){n=t<0?0:t}),(function(){return n<e.length&&this.yieldReturn(e[n++])}),s.Blank)}))},m.prototype.takeExceptLast=function(t){return null==t&&(t=1),this.take(this.getSource().length-t)},m.prototype.takeFromLast=function(t){return this.skip(this.getSource().length-t)},m.prototype.reverse=function(){var t=this.getSource();return new p((function(){var e;return new c((function(){e=t.length}),(function(){return e>0&&this.yieldReturn(t[--e])}),s.Blank)}))},m.prototype.sequenceEqual=function(t,e){return(!(t instanceof m||t instanceof Array)||null!=e||p.from(t).count()==this.count())&&p.prototype.sequenceEqual.apply(this,arguments)},m.prototype.toJoinedString=function(t,e){var n=this.getSource();return null==e&&n instanceof Array?(null==t&&(t=""),n.join(t)):p.prototype.toJoinedString.apply(this,arguments)},m.prototype.getEnumerator=function(){var t=this.getSource(),e=-1;return{current:function(){return t[e]},moveNext:function(){return++e<t.length},dispose:s.Blank}};var y=function(t,e){this.prevSource=t,this.prevPredicate=e};y.prototype=new p,y.prototype.where=function(t){if((t=u.createLambda(t)).length<=1){var e=this.prevPredicate;return new y(this.prevSource,(function(n){return e(n)&&t(n)}))}return p.prototype.where.call(this,t)},y.prototype.select=function(t){return(t=u.createLambda(t)).length<=1?new v(this.prevSource,this.prevPredicate,t):p.prototype.select.call(this,t)},y.prototype.getEnumerator=function(){var t,e=this.prevPredicate,n=this.prevSource;return new c((function(){t=n.getEnumerator()}),(function(){for(;t.moveNext();)if(e(t.current()))return this.yieldReturn(t.current());return!1}),(function(){u.dispose(t)}))};var v=function(t,e,n){this.prevSource=t,this.prevPredicate=e,this.prevSelector=n};v.prototype=new p,v.prototype.where=function(t){return(t=u.createLambda(t)).length<=1?new y(this,t):p.prototype.where.call(this,t)},v.prototype.select=function(t){if((t=u.createLambda(t)).length<=1){var e=this.prevSelector;return new v(this.prevSource,this.prevPredicate,(function(n){return t(e(n))}))}return p.prototype.select.call(this,t)},v.prototype.getEnumerator=function(){var t,e=this.prevPredicate,n=this.prevSelector,r=this.prevSource;return new c((function(){t=r.getEnumerator()}),(function(){for(;t.moveNext();)if(null==e||e(t.current()))return this.yieldReturn(n(t.current()));return!1}),(function(){u.dispose(t)}))};var _=function(){var t=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},e=function(t){return null===t?"null":void 0===t?"undefined":"function"==typeof t.toString?t.toString():Object.prototype.toString.call(t)},n=function(t,e){this.key=t,this.value=e,this.prev=null,this.next=null},r=function(){this.first=null,this.last=null};r.prototype={addLast:function(t){null!=this.last?(this.last.next=t,t.prev=this.last,this.last=t):this.first=this.last=t},replace:function(t,e){null!=t.prev?(t.prev.next=e,e.prev=t.prev):this.first=e,null!=t.next?(t.next.prev=e,e.next=t.next):this.last=e},remove:function(t){null!=t.prev?t.prev.next=t.next:this.first=t.next,null!=t.next?t.next.prev=t.prev:this.last=t.prev}};var i=function(t){this.countField=0,this.entryList=new r,this.buckets={},this.compareSelector=null==t?s.Identity:t};return i.prototype={add:function(r,i){var o=this.compareSelector(r),s=e(o),a=new n(r,i);if(t(this.buckets,s)){for(var l=this.buckets[s],u=0;u<l.length;u++)if(this.compareSelector(l[u].key)===o)return this.entryList.replace(l[u],a),void(l[u]=a);l.push(a)}else this.buckets[s]=[a];this.countField++,this.entryList.addLast(a)},get:function(n){var r=this.compareSelector(n),i=e(r);if(t(this.buckets,i))for(var o=this.buckets[i],s=0;s<o.length;s++){var a=o[s];if(this.compareSelector(a.key)===r)return a.value}},set:function(r,i){var o=this.compareSelector(r),s=e(o);if(t(this.buckets,s))for(var a=this.buckets[s],l=0;l<a.length;l++)if(this.compareSelector(a[l].key)===o){var u=new n(r,i);return this.entryList.replace(a[l],u),a[l]=u,!0}return!1},contains:function(n){var r=this.compareSelector(n),i=e(r);if(!t(this.buckets,i))return!1;for(var o=this.buckets[i],s=0;s<o.length;s++)if(this.compareSelector(o[s].key)===r)return!0;return!1},clear:function(){this.countField=0,this.buckets={},this.entryList=new r},remove:function(n){var r=this.compareSelector(n),i=e(r);if(t(this.buckets,i))for(var o=this.buckets[i],s=0;s<o.length;s++)if(this.compareSelector(o[s].key)===r)return this.entryList.remove(o[s]),o.splice(s,1),0==o.length&&delete this.buckets[i],void this.countField--},count:function(){return this.countField},toEnumerable:function(){var t=this;return new p((function(){var e;return new c((function(){e=t.entryList.first}),(function(){if(null!=e){var t={key:e.key,value:e.value};return e=e.next,this.yieldReturn(t)}return!1}),s.Blank)}))}},i}(),b=function(t){this.count=function(){return t.count()},this.get=function(e){return p.from(t.get(e))},this.contains=function(e){return t.contains(e)},this.toEnumerable=function(){return t.toEnumerable().select((function(t){return new w(t.key,t.value)}))}},w=function(t,e){this.key=function(){return t},m.call(this,e)};w.prototype=new m,n("jPSd")?void 0===(r=(function(){return p}).apply(e,[]))||(t.exports=r):void 0!==t&&t.exports?t.exports=p:i.Enumerable=p}(this)},qiMw:function(t,e,n){"use strict";var r=n("JJ8B"),i=n("Yfti"),o=n("k/06"),s=n("E/Xc"),a=n("QuXn");function l(t){if(t||(t=a.config.Promise||Promise),!t)throw new Error("no Promise impl found");return t}e.Observable=function(){function t(t){this._isScalar=!1,t&&(this._subscribe=t)}return t.prototype.lift=function(e){var n=new t;return n.source=this,n.operator=e,n},t.prototype.subscribe=function(t,e,n){var r=this.operator,o=i.toSubscriber(t,e,n);if(o.add(r?r.call(o,this.source):this.source||a.config.useDeprecatedSynchronousErrorHandling&&!o.syncErrorThrowable?this._subscribe(o):this._trySubscribe(o)),a.config.useDeprecatedSynchronousErrorHandling&&o.syncErrorThrowable&&(o.syncErrorThrowable=!1,o.syncErrorThrown))throw o.syncErrorValue;return o},t.prototype._trySubscribe=function(t){try{return this._subscribe(t)}catch(e){a.config.useDeprecatedSynchronousErrorHandling&&(t.syncErrorThrown=!0,t.syncErrorValue=e),r.canReportError(t)?t.error(e):console.warn(e)}},t.prototype.forEach=function(t,e){var n=this;return new(e=l(e))((function(e,r){var i;i=n.subscribe((function(e){try{t(e)}catch(n){r(n),i&&i.unsubscribe()}}),r,e)}))},t.prototype._subscribe=function(t){var e=this.source;return e&&e.subscribe(t)},t.prototype[o.observable]=function(){return this},t.prototype.pipe=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];return 0===t.length?this:s.pipeFromArray(t)(this)},t.prototype.toPromise=function(t){var e=this;return new(t=l(t))((function(t,n){var r;e.subscribe((function(t){return r=t}),(function(t){return n(t)}),(function(){return t(r)}))}))},t.create=function(e){return new t(e)},t}()},r92d:function(t,e,n){!function(e,n){"use strict";var r=function t(e,n){return new t.Instance(e,n||{})};r.VERSION="1.1.3",r.defaults={behavior:{userSelect:"none",touchAction:"pan-y",touchCallout:"none",contentZooming:"none",userDrag:"none",tapHighlightColor:"rgba(0,0,0,0)"}},r.DOCUMENT=document,r.HAS_POINTEREVENTS=navigator.pointerEnabled||navigator.msPointerEnabled,r.HAS_TOUCHEVENTS="ontouchstart"in e,r.IS_MOBILE=/mobile|tablet|ip(ad|hone|od)|android|silk/i.test(navigator.userAgent),r.NO_MOUSEEVENTS=r.HAS_TOUCHEVENTS&&r.IS_MOBILE||r.HAS_POINTEREVENTS,r.CALCULATE_INTERVAL=25;var i={},o=r.DIRECTION_DOWN="down",s=r.DIRECTION_LEFT="left",a=r.DIRECTION_UP="up",l=r.DIRECTION_RIGHT="right",u=r.POINTER_MOUSE="mouse",c=r.POINTER_TOUCH="touch",h=r.POINTER_PEN="pen",p=r.EVENT_START="start",d=r.EVENT_MOVE="move",f=r.EVENT_END="end",g=r.EVENT_RELEASE="release",m=r.EVENT_TOUCH="touch";r.READY=!1,r.plugins=r.plugins||{},r.gestures=r.gestures||{};var y=r.utils={extend:function(t,e,n){for(var r in e)!e.hasOwnProperty(r)||void 0!==t[r]&&n||(t[r]=e[r]);return t},on:function(t,e,n){t.addEventListener(e,n,!1)},off:function(t,e,n){t.removeEventListener(e,n,!1)},each:function(t,e,n){var r,i;if("forEach"in t)t.forEach(e,n);else if(void 0!==t.length){for(r=0,i=t.length;r<i;r++)if(!1===e.call(n,t[r],r,t))return}else for(r in t)if(t.hasOwnProperty(r)&&!1===e.call(n,t[r],r,t))return},inStr:function(t,e){return t.indexOf(e)>-1},inArray:function(t,e){if(t.indexOf){var n=t.indexOf(e);return-1!==n&&n}for(var r=0,i=t.length;r<i;r++)if(t[r]===e)return r;return!1},toArray:function(t){return Array.prototype.slice.call(t,0)},hasParent:function(t,e){for(;t;){if(t==e)return!0;t=t.parentNode}return!1},getCenter:function(t){var e=[],n=[],r=[],i=[],o=Math.min,s=Math.max;return 1===t.length?{pageX:t[0].pageX,pageY:t[0].pageY,clientX:t[0].clientX,clientY:t[0].clientY}:(y.each(t,(function(t){e.push(t.pageX),n.push(t.pageY),r.push(t.clientX),i.push(t.clientY)})),{pageX:(o.apply(Math,e)+s.apply(Math,e))/2,pageY:(o.apply(Math,n)+s.apply(Math,n))/2,clientX:(o.apply(Math,r)+s.apply(Math,r))/2,clientY:(o.apply(Math,i)+s.apply(Math,i))/2})},getVelocity:function(t,e,n){return{x:Math.abs(e/t)||0,y:Math.abs(n/t)||0}},getAngle:function(t,e){return 180*Math.atan2(e.clientY-t.clientY,e.clientX-t.clientX)/Math.PI},getDirection:function(t,e){return Math.abs(t.clientX-e.clientX)>=Math.abs(t.clientY-e.clientY)?t.clientX-e.clientX>0?s:l:t.clientY-e.clientY>0?a:o},getDistance:function(t,e){var n=e.clientX-t.clientX,r=e.clientY-t.clientY;return Math.sqrt(n*n+r*r)},getScale:function(t,e){return t.length>=2&&e.length>=2?this.getDistance(e[0],e[1])/this.getDistance(t[0],t[1]):1},getRotation:function(t,e){return t.length>=2&&e.length>=2?this.getAngle(e[1],e[0])-this.getAngle(t[1],t[0]):0},isVertical:function(t){return t==a||t==o},setPrefixedCss:function(t,e,n,r){var i=["","Webkit","Moz","O","ms"];e=y.toCamelCase(e);for(var o=0;o<i.length;o++){var s=e;if(i[o]&&(s=i[o]+s.slice(0,1).toUpperCase()+s.slice(1)),s in t.style){t.style[s]=(null==r||r)&&n||"";break}}},toggleBehavior:function(t,e,n){if(e&&t&&t.style){y.each(e,(function(e,r){y.setPrefixedCss(t,r,e,n)}));var r=n&&function(){return!1};"none"==e.userSelect&&(t.onselectstart=r),"none"==e.userDrag&&(t.ondragstart=r)}},toCamelCase:function(t){return t.replace(/[_-]([a-z])/g,(function(t){return t[1].toUpperCase()}))}};(r.Instance=function(t,e){var n=this;r.READY||(w.determineEventTypes(),y.each(r.gestures,(function(t){x.register(t)})),w.onTouch(r.DOCUMENT,d,x.detect),w.onTouch(r.DOCUMENT,f,x.detect),r.READY=!0),this.element=t,this.enabled=!0,y.each(e,(function(t,n){delete e[n],e[y.toCamelCase(n)]=t})),this.options=y.extend(y.extend({},r.defaults),e||{}),this.options.behavior&&y.toggleBehavior(this.element,this.options.behavior,!0),this.eventStartHandler=w.onTouch(t,p,(function(t){n.enabled&&t.eventType==p?x.startDetect(n,t):t.eventType==m&&x.detect(t)})),this.eventHandlers=[]}).prototype={on:function(t,e){var n=this;return w.on(n.element,t,e,(function(t){n.eventHandlers.push({gesture:t,handler:e})})),n},off:function(t,e){var n=this;return w.off(n.element,t,e,(function(t){var r=y.inArray({gesture:t,handler:e});!1!==r&&n.eventHandlers.splice(r,1)})),n},trigger:function(t,e){e||(e={});var n=r.DOCUMENT.createEvent("Event");n.initEvent(t,!0,!0),n.gesture=e;var i=this.element;return y.hasParent(e.target,i)&&(i=e.target),i.dispatchEvent(n),this},enable:function(t){return this.enabled=t,this},dispose:function(){var t,e;for(y.toggleBehavior(this.element,this.options.behavior,!1),t=-1;e=this.eventHandlers[++t];)y.off(this.element,e.gesture,e.handler);return this.eventHandlers=[],w.off(this.element,i[p],this.eventStartHandler),null}};var v,_,b,w=r.event={preventMouseEvents:!1,started:!1,shouldDetect:!1,on:function(t,e,n,r){var i=e.split(" ");y.each(i,(function(e){y.on(t,e,n),r&&r(e)}))},off:function(t,e,n,r){var i=e.split(" ");y.each(i,(function(e){y.off(t,e,n),r&&r(e)}))},onTouch:function(t,e,n){var o=this,s=function(i){var s,a=i.type.toLowerCase(),l=r.HAS_POINTEREVENTS,u=y.inStr(a,"mouse");u&&o.preventMouseEvents||(u&&e==p&&0===i.button?(o.preventMouseEvents=!1,o.shouldDetect=!0):l&&e==p?o.shouldDetect=1===i.buttons||C.matchType(c,i):u||e!=p||(o.preventMouseEvents=!0,o.shouldDetect=!0),l&&e!=f&&C.updatePointer(e,i),o.shouldDetect&&(s=o.doDetect.call(o,i,e,t,n)),s==f&&(o.preventMouseEvents=!1,o.shouldDetect=!1,C.reset()),l&&e==f&&C.updatePointer(e,i))};return this.on(t,i[e],s),s},doDetect:function(t,e,n,r){var i=this.getTouchList(t,e),o=e,s=i.trigger,a=i.length;e==p?s=m:e==f&&(s=g,a=i.length-(t.changedTouches?t.changedTouches.length:1)),a>0&&this.started&&(o=d),this.started=!0;var l=this.collectEventData(n,o,i,t);return e!=f&&r.call(x,l),s&&(l.changedLength=a,l.eventType=s,r.call(x,l),l.eventType=o,delete l.changedLength),o==f&&(r.call(x,l),this.started=!1),o},determineEventTypes:function(){var t;return i[p]=(t=r.HAS_POINTEREVENTS?e.PointerEvent?["pointerdown","pointermove","pointerup pointercancel lostpointercapture"]:["MSPointerDown","MSPointerMove","MSPointerUp MSPointerCancel MSLostPointerCapture"]:r.NO_MOUSEEVENTS?["touchstart","touchmove","touchend touchcancel"]:["touchstart mousedown","touchmove mousemove","touchend touchcancel mouseup"])[0],i[d]=t[1],i[f]=t[2],i},getTouchList:function(t,e){if(r.HAS_POINTEREVENTS)return C.getTouchList();if(t.touches){if(e==d)return t.touches;var n=[],i=[].concat(y.toArray(t.touches),y.toArray(t.changedTouches)),o=[];return y.each(i,(function(t){!1===y.inArray(n,t.identifier)&&o.push(t),n.push(t.identifier)})),o}return t.identifier=1,[t]},collectEventData:function(t,e,n,r){var i=c;return y.inStr(r.type,"mouse")||C.matchType(u,r)?i=u:C.matchType(h,r)&&(i=h),{center:y.getCenter(n),timeStamp:Date.now(),target:r.target,touches:n,eventType:e,pointerType:i,srcEvent:r,preventDefault:function(){var t=this.srcEvent;t.preventManipulation&&t.preventManipulation(),t.preventDefault&&t.preventDefault()},stopPropagation:function(){this.srcEvent.stopPropagation()},stopDetect:function(){return x.stopDetect()}}}},C=r.PointerEvent={pointers:{},getTouchList:function(){var t=[];return y.each(this.pointers,(function(e){t.push(e)})),t},updatePointer:function(t,e){t==f||t!=f&&1!==e.buttons?delete this.pointers[e.pointerId]:(e.identifier=e.pointerId,this.pointers[e.pointerId]=e)},matchType:function(t,e){if(!e.pointerType)return!1;var n=e.pointerType,r={};return r[u]=n===(e.MSPOINTER_TYPE_MOUSE||u),r[c]=n===(e.MSPOINTER_TYPE_TOUCH||c),r[h]=n===(e.MSPOINTER_TYPE_PEN||h),r[t]},reset:function(){this.pointers={}}},x=r.detection={gestures:[],current:null,previous:null,stopped:!1,startDetect:function(t,e){this.current||(this.stopped=!1,this.current={inst:t,startEvent:y.extend({},e),lastEvent:!1,lastCalcEvent:!1,futureCalcEvent:!1,lastCalcData:{},name:""},this.detect(e))},detect:function(t){if(this.current&&!this.stopped){t=this.extendEventData(t);var e=this.current.inst,n=e.options;return y.each(this.gestures,(function(r){!this.stopped&&e.enabled&&n[r.name]&&r.handler.call(r,t,e)}),this),this.current&&(this.current.lastEvent=t),t.eventType==f&&this.stopDetect(),t}},stopDetect:function(){this.previous=y.extend({},this.current),this.current=null,this.stopped=!0},getCalculatedData:function(t,e,n,i,o){var s=this.current,a=!1,l=s.lastCalcEvent,u=s.lastCalcData;l&&t.timeStamp-l.timeStamp>r.CALCULATE_INTERVAL&&(e=l.center,n=t.timeStamp-l.timeStamp,i=t.center.clientX-l.center.clientX,o=t.center.clientY-l.center.clientY,a=!0),t.eventType!=m&&t.eventType!=g||(s.futureCalcEvent=t),s.lastCalcEvent&&!a||(u.velocity=y.getVelocity(n,i,o),u.angle=y.getAngle(e,t.center),u.direction=y.getDirection(e,t.center),s.lastCalcEvent=s.futureCalcEvent||t,s.futureCalcEvent=t),t.velocityX=u.velocity.x,t.velocityY=u.velocity.y,t.interimAngle=u.angle,t.interimDirection=u.direction},extendEventData:function(t){var e=this.current,n=e.startEvent,r=e.lastEvent||n;t.eventType!=m&&t.eventType!=g||(n.touches=[],y.each(t.touches,(function(t){n.touches.push({clientX:t.clientX,clientY:t.clientY})})));var i=t.timeStamp-n.timeStamp,o=t.center.clientX-n.center.clientX,s=t.center.clientY-n.center.clientY;return this.getCalculatedData(t,r.center,i,o,s),y.extend(t,{startEvent:n,deltaTime:i,deltaX:o,deltaY:s,distance:y.getDistance(n.center,t.center),angle:y.getAngle(n.center,t.center),direction:y.getDirection(n.center,t.center),scale:y.getScale(n.touches,t.touches),rotation:y.getRotation(n.touches,t.touches)}),t},register:function(t){var e=t.defaults||{};return void 0===e[t.name]&&(e[t.name]=!0),y.extend(r.defaults,e,!0),t.index=t.index||1e3,this.gestures.push(t),this.gestures.sort((function(t,e){return t.index<e.index?-1:t.index>e.index?1:0})),this.gestures}};v=!1,r.gestures.Drag={name:"drag",index:50,handler:function(t,e){var n=x.current;if(!(e.options.dragMaxTouches>0&&t.touches.length>e.options.dragMaxTouches))switch(t.eventType){case p:v=!1;break;case d:if(t.distance<e.options.dragMinDistance&&"drag"!=n.name)return;var r=n.startEvent.center;if("drag"!=n.name&&(n.name="drag",e.options.dragDistanceCorrection&&t.distance>0)){var i=Math.abs(e.options.dragMinDistance/t.distance);r.pageX+=t.deltaX*i,r.pageY+=t.deltaY*i,r.clientX+=t.deltaX*i,r.clientY+=t.deltaY*i,t=x.extendEventData(t)}(n.lastEvent.dragLockToAxis||e.options.dragLockToAxis&&e.options.dragLockMinDistance<=t.distance)&&(t.dragLockToAxis=!0);var u=n.lastEvent.direction;t.dragLockToAxis&&u!==t.direction&&(t.direction=y.isVertical(u)?t.deltaY<0?a:o:t.deltaX<0?s:l),v||(e.trigger("dragstart",t),v=!0),e.trigger("drag",t),e.trigger("drag"+t.direction,t);var c=y.isVertical(t.direction);(e.options.dragBlockVertical&&c||e.options.dragBlockHorizontal&&!c)&&t.preventDefault();break;case g:v&&t.changedLength<=e.options.dragMaxTouches&&(e.trigger("dragend",t),v=!1);break;case f:v=!1}},defaults:{dragMinDistance:10,dragDistanceCorrection:!0,dragMaxTouches:1,dragBlockHorizontal:!1,dragBlockVertical:!1,dragLockToAxis:!1,dragLockMinDistance:25}},r.gestures.Gesture={name:"gesture",index:1337,handler:function(t,e){e.trigger(this.name,t)}},r.gestures.Hold={name:"hold",index:10,defaults:{holdTimeout:500,holdThreshold:2},handler:function(t,e){var n=e.options,r=x.current;switch(t.eventType){case p:clearTimeout(b),r.name="hold",b=setTimeout((function(){r&&"hold"==r.name&&e.trigger("hold",t)}),n.holdTimeout);break;case d:t.distance>n.holdThreshold&&clearTimeout(b);break;case g:clearTimeout(b)}}},r.gestures.Release={name:"release",index:1/0,handler:function(t,e){t.eventType==g&&e.trigger(this.name,t)}},r.gestures.Swipe={name:"swipe",index:40,defaults:{swipeMinTouches:1,swipeMaxTouches:1,swipeVelocityX:.6,swipeVelocityY:.6},handler:function(t,e){if(t.eventType==g){var n=t.touches.length,r=e.options;if(n<r.swipeMinTouches||n>r.swipeMaxTouches)return;(t.velocityX>r.swipeVelocityX||t.velocityY>r.swipeVelocityY)&&(e.trigger(this.name,t),e.trigger(this.name+t.direction,t))}}},_=!1,r.gestures.Tap={name:"tap",index:100,handler:function(t,e){var n,r,i,o,s=e.options,a=x.current,l=x.previous;switch(t.eventType){case p:_=!1;break;case d:_=_||t.distance>s.tapMaxDistance;break;case f:!y.inStr(t.srcEvent.type,"cancel")&&t.deltaTime<s.tapMaxTime&&!_&&(n=l&&l.lastEvent&&(o=t,u(i=l.lastEvent)&&u(o)?u(o)-u(i):o.timeStamp-i.timeStamp),r=!1,l&&"tap"==l.name&&n&&n<s.doubleTapInterval&&t.distance<s.doubleTapDistance&&(e.trigger("doubletap",t),r=!0),r&&!s.tapAlways||(a.name="tap",e.trigger(a.name,t)))}function u(t){return t.srcEvent&&t.srcEvent.timeStamp?t.srcEvent.timeStamp:null}},defaults:{tapMaxTime:250,tapMaxDistance:10,tapAlways:!0,doubleTapDistance:20,doubleTapInterval:300}},r.gestures.Touch={name:"touch",index:-1/0,defaults:{preventDefault:!1,preventMouse:!1},handler:function(t,e){e.options.preventMouse&&t.pointerType==u?t.stopDetect():(e.options.preventDefault&&t.preventDefault(),t.eventType==m&&e.trigger("touch",t))}},function(t){var e=!1;r.gestures.Transform={name:t,index:45,defaults:{transformMinScale:.01,transformMinRotation:1},handler:function(n,r){switch(n.eventType){case p:e=!1;break;case d:if(n.touches.length<2)return;var i=Math.abs(1-n.scale),o=Math.abs(n.rotation);if(i<r.options.transformMinScale&&o<r.options.transformMinRotation)return;x.current.name=t,e||(r.trigger(t+"start",n),e=!0),r.trigger(t,n),o>r.options.transformMinRotation&&r.trigger("rotate",n),i>r.options.transformMinScale&&(r.trigger("pinch",n),r.trigger("pinch"+(n.scale<1?"in":"out"),n));break;case g:e&&n.changedLength<2&&(r.trigger(t+"end",n),e=!1)}}}}("transform"),e.Hammer=r,t.exports&&(t.exports=r)}(window)},tkgy:function(t,e,n){var r=n("D57K").__extends,i=n("qiMw"),o=n("1hPV"),s=n("6Br6"),a=n("O09R"),l=n("Rdb5"),u=n("7oWP"),c=function(t){function e(e){var n=t.call(this,e)||this;return n.destination=e,n}return r(e,t),e}(o.Subscriber);e.SubjectSubscriber=c;var h=function(t){function e(){var e=t.call(this)||this;return e.observers=[],e.closed=!1,e.isStopped=!1,e.hasError=!1,e.thrownError=null,e}return r(e,t),e.prototype[u.rxSubscriber]=function(){return new c(this)},e.prototype.lift=function(t){var e=new p(this,this);return e.operator=t,e},e.prototype.next=function(t){if(this.closed)throw new a.ObjectUnsubscribedError;if(!this.isStopped)for(var e=this.observers,n=e.length,r=e.slice(),i=0;i<n;i++)r[i].next(t)},e.prototype.error=function(t){if(this.closed)throw new a.ObjectUnsubscribedError;this.hasError=!0,this.thrownError=t,this.isStopped=!0;for(var e=this.observers,n=e.length,r=e.slice(),i=0;i<n;i++)r[i].error(t);this.observers.length=0},e.prototype.complete=function(){if(this.closed)throw new a.ObjectUnsubscribedError;this.isStopped=!0;for(var t=this.observers,e=t.length,n=t.slice(),r=0;r<e;r++)n[r].complete();this.observers.length=0},e.prototype.unsubscribe=function(){this.isStopped=!0,this.closed=!0,this.observers=null},e.prototype._trySubscribe=function(e){if(this.closed)throw new a.ObjectUnsubscribedError;return t.prototype._trySubscribe.call(this,e)},e.prototype._subscribe=function(t){if(this.closed)throw new a.ObjectUnsubscribedError;return this.hasError?(t.error(this.thrownError),s.Subscription.EMPTY):this.isStopped?(t.complete(),s.Subscription.EMPTY):(this.observers.push(t),new l.SubjectSubscription(this,t))},e.prototype.asObservable=function(){var t=new i.Observable;return t.source=this,t},e.create=function(t,e){return new p(t,e)},e}(i.Observable);e.Subject=h;var p=function(t){function e(e,n){var r=t.call(this)||this;return r.destination=e,r.source=n,r}return r(e,t),e.prototype.next=function(t){var e=this.destination;e&&e.next&&e.next(t)},e.prototype.error=function(t){var e=this.destination;e&&e.error&&this.destination.error(t)},e.prototype.complete=function(){var t=this.destination;t&&t.complete&&this.destination.complete()},e.prototype._subscribe=function(t){return this.source?this.source.subscribe(t):s.Subscription.EMPTY},e}(h);e.AnonymousSubject=p},tpAt:function(t,e,n){"use strict";e.hostReportError=function(t){setTimeout((function(){throw t}))}},uzuk:function(t,e,n){"use strict";var r=n("QuXn"),i=n("tpAt");e.empty={closed:!0,next:function(t){},error:function(t){if(r.config.useDeprecatedSynchronousErrorHandling)throw t;i.hostReportError(t)},complete:function(){}}},v2vP:function(t,e,n){"use strict";e.isFunction=function(t){return"function"==typeof t}},"z+Ys":function(t,e,n){t.exports=function(t){function e(r){if(n[r])return n[r].exports;var i=n[r]={exports:{},id:r,loaded:!1};return t[r].call(i.exports,i,i.exports,e),i.loaded=!0,i.exports}var n={};return e.m=t,e.c=n,e.p="",e(0)}([function(t,e,n){"use strict";function r(t){for(var n in t)e.hasOwnProperty(n)||(e[n]=t[n])}Object.defineProperty(e,"__esModule",{value:!0}),r(n(2)),r(n(3)),r(n(1)),r(n(4))},function(t,e){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.eq=function t(e,n){var r=0;if(e===n)return!0;if("function"==typeof e.equals)return e.equals(n);if(e.length>0&&e.length===n.length){for(;r<e.length;r+=1)if(!t(e[r],n[r]))return!1;return!0}return!1}},function(t,e,n){"use strict";function r(t){return null!=t}Object.defineProperty(e,"__esModule",{value:!0});var i,o=n(1);!function(t){t[t.Left=0]="Left",t[t.Right=1]="Right"}(i=e.EitherType||(e.EitherType={})),e.either=function(t,e){if(r(t)&&r(e))throw new TypeError("Cannot construct an Either with both a left and a right");if(!r(t)&&!r(e))throw new TypeError("Cannot construct an Either with neither a left nor a right");return r(t)&&!r(e)?s.left(t):!r(t)&&r(e)?s.right(e):void 0};var s=function(){function t(t,e,n){this.type=t,this.l=e,this.r=n,this.of=this.unit,this.chain=this.bind,this.lift=this.fmap,this.map=this.fmap}return t.left=function(e){return new t(i.Left,e)},t.right=function(e){return new t(i.Right,null,e)},t.prototype.unit=function(e){return t.right(e)},t.prototype.bind=function(e){return this.type===i.Right?e(this.r):t.left(this.l)},t.prototype.fmap=function(t){var e=this;return this.bind((function(n){return e.unit(t(n))}))},t.prototype.caseOf=function(t){return this.type===i.Right?t.right(this.r):t.left(this.l)},t.prototype.equals=function(t){return t.type===this.type&&(this.type===i.Left&&o.eq(t.l,this.l)||this.type===i.Right&&o.eq(t.r,this.r))},t.prototype.do=function(t){void 0===t&&(t={});var e=Object.assign({left:function(t){},right:function(t){}},t);return this.caseOf(e),this},t}();e.Either=s},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r,i=n(1);!function(t){t[t.Nothing=0]="Nothing",t[t.Just=1]="Just"}(r=e.MaybeType||(e.MaybeType={})),e.maybe=function(t){return o.maybe(t)};var o=function(){function t(t,e){this.type=t,this.value=e,this.of=this.unit,this.chain=this.bind,this.lift=this.fmap,this.map=this.fmap}return t.sequence=function(e){if(Object.keys(e).filter((function(t){return e[t].type===r.Nothing})).length)return t.nothing();var n={};for(var i in e)e.hasOwnProperty(i)&&(n[i]=e[i].value);return t.just(n)},t.maybe=function(e){return null==e?new t(r.Nothing):new t(r.Just,e)},t.just=function(e){if(null==e)throw new TypeError("Cannot Maybe.just(null)");return new t(r.Just,e)},t.nothing=function(){return new t(r.Nothing)},t.isJust=function(t){return t.type===r.Just},t.isNothing=function(t){return t.type===r.Nothing},t.prototype.unit=function(e){return t.maybe(e)},t.prototype.bind=function(e){return this.type===r.Just?e(this.value):t.nothing()},t.prototype.fmap=function(t){var e=this;return this.bind((function(n){return e.unit(t(n))}))},t.prototype.caseOf=function(t){return this.type===r.Just?t.just(this.value):t.nothing()},t.prototype.defaulting=function(e){return t.just(this.valueOr(e))},t.prototype.equals=function(t){return t.type===this.type&&(this.type===r.Nothing||i.eq(t.value,this.value))},t.prototype.valueOr=function(t){return this.valueOrCompute((function(){return t}))},t.prototype.valueOrCompute=function(t){return this.type===r.Just?this.value:t()},t.prototype.valueOrThrow=function(t){if(this.type===r.Just)return this.value;throw t||new Error("No value is available.")},t.prototype.do=function(t){void 0===t&&(t={});var e=Object.assign({just:function(t){},nothing:function(){}},t);return this.caseOf(e),this},t}();o.all=function(t){return o.sequence(t)},e.Maybe=o},function(t,e){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.writer=function(t,e){return n.writer(t,e)};var n=function(){function t(t,e){this.story=t,this.value=e,this.of=this.unit,this.chain=this.bind,this.lift=this.fmap,this.map=this.fmap}return t.writer=function(e,n){return new t(e,n)},t.tell=function(e){return new t([e],0)},t.prototype.unit=function(e){return new t([],e)},t.prototype.bind=function(e){var n=e(this.value);return new t(this.story.concat(n.story),n.value)},t.prototype.fmap=function(t){var e=this;return this.bind((function(n){return e.unit(t(n))}))},t.prototype.caseOf=function(t){return t.writer(this.story,this.value)},t.prototype.equals=function(t){var e,n=!0;for(e=0;e<this.story.length;e+=1)n=n&&this.story[e]===t.story[e];return n&&this.value===t.value},t}();e.Writer=n}])},zUnb:function(t,e,n){"use strict";function r(t){return"function"==typeof t}n.r(e);let i=!1;const o={Promise:void 0,set useDeprecatedSynchronousErrorHandling(t){if(t){const t=new Error;console.warn("DEPRECATED! RxJS was set to use deprecated synchronous error handling behavior by code at: \n"+t.stack)}else i&&console.log("RxJS: Back to a better error behavior. Thank you. <3");i=t},get useDeprecatedSynchronousErrorHandling(){return i}};function s(t){setTimeout(()=>{throw t})}const a={closed:!0,next(t){},error(t){if(o.useDeprecatedSynchronousErrorHandling)throw t;s(t)},complete(){}},l=Array.isArray||(t=>t&&"number"==typeof t.length);function u(t){return null!==t&&"object"==typeof t}function c(t){return Error.call(this),this.message=t?`${t.length} errors occurred during unsubscription:\n${t.map((t,e)=>`${e+1}) ${t.toString()}`).join("\n  ")}`:"",this.name="UnsubscriptionError",this.errors=t,this}c.prototype=Object.create(Error.prototype);const h=c;let p=(()=>{class t{constructor(t){this.closed=!1,this._parent=null,this._parents=null,this._subscriptions=null,t&&(this._unsubscribe=t)}unsubscribe(){let t,e=!1;if(this.closed)return;let{_parent:n,_parents:i,_unsubscribe:o,_subscriptions:s}=this;this.closed=!0,this._parent=null,this._parents=null,this._subscriptions=null;let a=-1,c=i?i.length:0;for(;n;)n.remove(this),n=++a<c&&i[a]||null;if(r(o))try{o.call(this)}catch(p){e=!0,t=p instanceof h?d(p.errors):[p]}if(l(s))for(a=-1,c=s.length;++a<c;){const n=s[a];if(u(n))try{n.unsubscribe()}catch(p){e=!0,t=t||[],p instanceof h?t=t.concat(d(p.errors)):t.push(p)}}if(e)throw new h(t)}add(e){let n=e;switch(typeof e){case"function":n=new t(e);case"object":if(n===this||n.closed||"function"!=typeof n.unsubscribe)return n;if(this.closed)return n.unsubscribe(),n;if(!(n instanceof t)){const e=n;n=new t,n._subscriptions=[e]}break;default:if(!e)return t.EMPTY;throw new Error("unrecognized teardown "+e+" added to Subscription.")}if(n._addParent(this)){const t=this._subscriptions;t?t.push(n):this._subscriptions=[n]}return n}remove(t){const e=this._subscriptions;if(e){const n=e.indexOf(t);-1!==n&&e.splice(n,1)}}_addParent(t){let{_parent:e,_parents:n}=this;return e!==t&&(e?n?-1===n.indexOf(t)&&(n.push(t),!0):(this._parents=[t],!0):(this._parent=t,!0))}}return t.EMPTY=function(t){return t.closed=!0,t}(new t),t})();function d(t){return t.reduce((t,e)=>t.concat(e instanceof h?e.errors:e),[])}const f="function"==typeof Symbol?Symbol("rxSubscriber"):"@@rxSubscriber_"+Math.random();class g extends p{constructor(t,e,n){switch(super(),this.syncErrorValue=null,this.syncErrorThrown=!1,this.syncErrorThrowable=!1,this.isStopped=!1,arguments.length){case 0:this.destination=a;break;case 1:if(!t){this.destination=a;break}if("object"==typeof t){t instanceof g?(this.syncErrorThrowable=t.syncErrorThrowable,this.destination=t,t.add(this)):(this.syncErrorThrowable=!0,this.destination=new m(this,t));break}default:this.syncErrorThrowable=!0,this.destination=new m(this,t,e,n)}}[f](){return this}static create(t,e,n){const r=new g(t,e,n);return r.syncErrorThrowable=!1,r}next(t){this.isStopped||this._next(t)}error(t){this.isStopped||(this.isStopped=!0,this._error(t))}complete(){this.isStopped||(this.isStopped=!0,this._complete())}unsubscribe(){this.closed||(this.isStopped=!0,super.unsubscribe())}_next(t){this.destination.next(t)}_error(t){this.destination.error(t),this.unsubscribe()}_complete(){this.destination.complete(),this.unsubscribe()}_unsubscribeAndRecycle(){const{_parent:t,_parents:e}=this;return this._parent=null,this._parents=null,this.unsubscribe(),this.closed=!1,this.isStopped=!1,this._parent=t,this._parents=e,this}}class m extends g{constructor(t,e,n,i){let o;super(),this._parentSubscriber=t;let s=this;r(e)?o=e:e&&(o=e.next,n=e.error,i=e.complete,e!==a&&(s=Object.create(e),r(s.unsubscribe)&&this.add(s.unsubscribe.bind(s)),s.unsubscribe=this.unsubscribe.bind(this))),this._context=s,this._next=o,this._error=n,this._complete=i}next(t){if(!this.isStopped&&this._next){const{_parentSubscriber:e}=this;o.useDeprecatedSynchronousErrorHandling&&e.syncErrorThrowable?this.__tryOrSetError(e,this._next,t)&&this.unsubscribe():this.__tryOrUnsub(this._next,t)}}error(t){if(!this.isStopped){const{_parentSubscriber:e}=this,{useDeprecatedSynchronousErrorHandling:n}=o;if(this._error)n&&e.syncErrorThrowable?(this.__tryOrSetError(e,this._error,t),this.unsubscribe()):(this.__tryOrUnsub(this._error,t),this.unsubscribe());else if(e.syncErrorThrowable)n?(e.syncErrorValue=t,e.syncErrorThrown=!0):s(t),this.unsubscribe();else{if(this.unsubscribe(),n)throw t;s(t)}}}complete(){if(!this.isStopped){const{_parentSubscriber:t}=this;if(this._complete){const e=()=>this._complete.call(this._context);o.useDeprecatedSynchronousErrorHandling&&t.syncErrorThrowable?(this.__tryOrSetError(t,e),this.unsubscribe()):(this.__tryOrUnsub(e),this.unsubscribe())}else this.unsubscribe()}}__tryOrUnsub(t,e){try{t.call(this._context,e)}catch(n){if(this.unsubscribe(),o.useDeprecatedSynchronousErrorHandling)throw n;s(n)}}__tryOrSetError(t,e,n){if(!o.useDeprecatedSynchronousErrorHandling)throw new Error("bad call");try{e.call(this._context,n)}catch(r){return o.useDeprecatedSynchronousErrorHandling?(t.syncErrorValue=r,t.syncErrorThrown=!0,!0):(s(r),!0)}return!1}_unsubscribe(){const{_parentSubscriber:t}=this;this._context=null,this._parentSubscriber=null,t.unsubscribe()}}const y="function"==typeof Symbol&&Symbol.observable||"@@observable";function v(){}function _(...t){return b(t)}function b(t){return t?1===t.length?t[0]:function(e){return t.reduce((t,e)=>e(t),e)}:v}let w=(()=>{class t{constructor(t){this._isScalar=!1,t&&(this._subscribe=t)}lift(e){const n=new t;return n.source=this,n.operator=e,n}subscribe(t,e,n){const{operator:r}=this,i=function(t,e,n){if(t){if(t instanceof g)return t;if(t[f])return t[f]()}return t||e||n?new g(t,e,n):new g(a)}(t,e,n);if(i.add(r?r.call(i,this.source):this.source||o.useDeprecatedSynchronousErrorHandling&&!i.syncErrorThrowable?this._subscribe(i):this._trySubscribe(i)),o.useDeprecatedSynchronousErrorHandling&&i.syncErrorThrowable&&(i.syncErrorThrowable=!1,i.syncErrorThrown))throw i.syncErrorValue;return i}_trySubscribe(t){try{return this._subscribe(t)}catch(e){o.useDeprecatedSynchronousErrorHandling&&(t.syncErrorThrown=!0,t.syncErrorValue=e),function(t){for(;t;){const{closed:e,destination:n,isStopped:r}=t;if(e||r)return!1;t=n&&n instanceof g?n:null}return!0}(t)?t.error(e):console.warn(e)}}forEach(t,e){return new(e=C(e))((e,n)=>{let r;r=this.subscribe(e=>{try{t(e)}catch(i){n(i),r&&r.unsubscribe()}},n,e)})}_subscribe(t){const{source:e}=this;return e&&e.subscribe(t)}[y](){return this}pipe(...t){return 0===t.length?this:b(t)(this)}toPromise(t){return new(t=C(t))((t,e)=>{let n;this.subscribe(t=>n=t,t=>e(t),()=>t(n))})}}return t.create=e=>new t(e),t})();function C(t){if(t||(t=o.Promise||Promise),!t)throw new Error("no Promise impl found");return t}function x(){return Error.call(this),this.message="object unsubscribed",this.name="ObjectUnsubscribedError",this}x.prototype=Object.create(Error.prototype);const S=x;class P extends p{constructor(t,e){super(),this.subject=t,this.subscriber=e,this.closed=!1}unsubscribe(){if(this.closed)return;this.closed=!0;const t=this.subject,e=t.observers;if(this.subject=null,!e||0===e.length||t.isStopped||t.closed)return;const n=e.indexOf(this.subscriber);-1!==n&&e.splice(n,1)}}class I extends g{constructor(t){super(t),this.destination=t}}let E=(()=>{class t extends w{constructor(){super(),this.observers=[],this.closed=!1,this.isStopped=!1,this.hasError=!1,this.thrownError=null}[f](){return new I(this)}lift(t){const e=new T(this,this);return e.operator=t,e}next(t){if(this.closed)throw new S;if(!this.isStopped){const{observers:e}=this,n=e.length,r=e.slice();for(let i=0;i<n;i++)r[i].next(t)}}error(t){if(this.closed)throw new S;this.hasError=!0,this.thrownError=t,this.isStopped=!0;const{observers:e}=this,n=e.length,r=e.slice();for(let i=0;i<n;i++)r[i].error(t);this.observers.length=0}complete(){if(this.closed)throw new S;this.isStopped=!0;const{observers:t}=this,e=t.length,n=t.slice();for(let r=0;r<e;r++)n[r].complete();this.observers.length=0}unsubscribe(){this.isStopped=!0,this.closed=!0,this.observers=null}_trySubscribe(t){if(this.closed)throw new S;return super._trySubscribe(t)}_subscribe(t){if(this.closed)throw new S;return this.hasError?(t.error(this.thrownError),p.EMPTY):this.isStopped?(t.complete(),p.EMPTY):(this.observers.push(t),new P(this,t))}asObservable(){const t=new w;return t.source=this,t}}return t.create=(t,e)=>new T(t,e),t})();class T extends E{constructor(t,e){super(),this.destination=t,this.source=e}next(t){const{destination:e}=this;e&&e.next&&e.next(t)}error(t){const{destination:e}=this;e&&e.error&&this.destination.error(t)}complete(){const{destination:t}=this;t&&t.complete&&this.destination.complete()}_subscribe(t){const{source:e}=this;return e?this.source.subscribe(t):p.EMPTY}}function A(t){return t&&"function"==typeof t.schedule}class k extends g{constructor(t,e,n){super(),this.parent=t,this.outerValue=e,this.outerIndex=n,this.index=0}_next(t){this.parent.notifyNext(this.outerValue,t,this.outerIndex,this.index++,this)}_error(t){this.parent.notifyError(t,this),this.unsubscribe()}_complete(){this.parent.notifyComplete(this),this.unsubscribe()}}const O=t=>e=>{for(let n=0,r=t.length;n<r&&!e.closed;n++)e.next(t[n]);e.closed||e.complete()},M=t=>e=>(t.then(t=>{e.closed||(e.next(t),e.complete())},t=>e.error(t)).then(null,s),e);function R(){return"function"==typeof Symbol&&Symbol.iterator?Symbol.iterator:"@@iterator"}const D=R(),B=t=>e=>{const n=t[D]();for(;;){const t=n.next();if(t.done){e.complete();break}if(e.next(t.value),e.closed)break}return"function"==typeof n.return&&e.add(()=>{n.return&&n.return()}),e},j=t=>e=>{const n=t[y]();if("function"!=typeof n.subscribe)throw new TypeError("Provided object does not correctly implement Symbol.observable");return n.subscribe(e)},F=t=>t&&"number"==typeof t.length&&"function"!=typeof t;function z(t){return!!t&&"function"!=typeof t.subscribe&&"function"==typeof t.then}const L=t=>{if(t instanceof w)return e=>t._isScalar?(e.next(t.value),void e.complete()):t.subscribe(e);if(t&&"function"==typeof t[y])return j(t);if(F(t))return O(t);if(z(t))return M(t);if(t&&"function"==typeof t[D])return B(t);{const e=u(t)?"an invalid object":`'${t}'`;throw new TypeError(`You provided ${e} where a stream was expected.`+" You can provide an Observable, Promise, Array, or Iterable.")}};function H(t,e,n,r,i=new k(t,n,r)){if(!i.closed)return L(e)(i)}class N extends g{notifyNext(t,e,n,r,i){this.destination.next(e)}notifyError(t,e){this.destination.error(t)}notifyComplete(t){this.destination.complete()}}function W(t,e){return function(n){if("function"!=typeof t)throw new TypeError("argument is not a function. Are you looking for `mapTo()`?");return n.lift(new V(t,e))}}class V{constructor(t,e){this.project=t,this.thisArg=e}call(t,e){return e.subscribe(new U(t,this.project,this.thisArg))}}class U extends g{constructor(t,e,n){super(t),this.project=e,this.count=0,this.thisArg=n||this}_next(t){let e;try{e=this.project.call(this.thisArg,t,this.count++)}catch(n){return void this.destination.error(n)}this.destination.next(e)}}function q(t,e){return new w(e?n=>{const r=new p;let i=0;return r.add(e.schedule((function(){i!==t.length?(n.next(t[i++]),n.closed||r.add(this.schedule())):n.complete()}))),r}:O(t))}function G(t,e){if(!e)return t instanceof w?t:new w(L(t));if(null!=t){if(function(t){return t&&"function"==typeof t[y]}(t))return function(t,e){return new w(e?n=>{const r=new p;return r.add(e.schedule(()=>{const i=t[y]();r.add(i.subscribe({next(t){r.add(e.schedule(()=>n.next(t)))},error(t){r.add(e.schedule(()=>n.error(t)))},complete(){r.add(e.schedule(()=>n.complete()))}}))})),r}:j(t))}(t,e);if(z(t))return function(t,e){return new w(e?n=>{const r=new p;return r.add(e.schedule(()=>t.then(t=>{r.add(e.schedule(()=>{n.next(t),r.add(e.schedule(()=>n.complete()))}))},t=>{r.add(e.schedule(()=>n.error(t)))}))),r}:M(t))}(t,e);if(F(t))return q(t,e);if(function(t){return t&&"function"==typeof t[D]}(t)||"string"==typeof t)return function(t,e){if(!t)throw new Error("Iterable cannot be null");return new w(e?n=>{const r=new p;let i;return r.add(()=>{i&&"function"==typeof i.return&&i.return()}),r.add(e.schedule(()=>{i=t[D](),r.add(e.schedule((function(){if(n.closed)return;let t,e;try{const n=i.next();t=n.value,e=n.done}catch(r){return void n.error(r)}e?n.complete():(n.next(t),this.schedule())})))})),r}:B(t))}(t,e)}throw new TypeError((null!==t&&typeof t||t)+" is not observable")}function Y(t,e,n=Number.POSITIVE_INFINITY){return"function"==typeof e?r=>r.pipe(Y((n,r)=>G(t(n,r)).pipe(W((t,i)=>e(n,t,r,i))),n)):("number"==typeof e&&(n=e),e=>e.lift(new X(t,n)))}class X{constructor(t,e=Number.POSITIVE_INFINITY){this.project=t,this.concurrent=e}call(t,e){return e.subscribe(new $(t,this.project,this.concurrent))}}class $ extends N{constructor(t,e,n=Number.POSITIVE_INFINITY){super(t),this.project=e,this.concurrent=n,this.hasCompleted=!1,this.buffer=[],this.active=0,this.index=0}_next(t){this.active<this.concurrent?this._tryNext(t):this.buffer.push(t)}_tryNext(t){let e;const n=this.index++;try{e=this.project(t,n)}catch(r){return void this.destination.error(r)}this.active++,this._innerSub(e,t,n)}_innerSub(t,e,n){const r=new k(this,void 0,void 0);this.destination.add(r),H(this,t,e,n,r)}_complete(){this.hasCompleted=!0,0===this.active&&0===this.buffer.length&&this.destination.complete(),this.unsubscribe()}notifyNext(t,e,n,r,i){this.destination.next(e)}notifyComplete(t){const e=this.buffer;this.remove(t),this.active--,e.length>0?this._next(e.shift()):0===this.active&&this.hasCompleted&&this.destination.complete()}}function Q(t){return t}function Z(t=Number.POSITIVE_INFINITY){return Y(Q,t)}function K(...t){let e=Number.POSITIVE_INFINITY,n=null,r=t[t.length-1];return A(r)?(n=t.pop(),t.length>1&&"number"==typeof t[t.length-1]&&(e=t.pop())):"number"==typeof r&&(e=t.pop()),null===n&&1===t.length&&t[0]instanceof w?t[0]:Z(e)(q(t,n))}function J(){return function(t){return t.lift(new tt(t))}}class tt{constructor(t){this.connectable=t}call(t,e){const{connectable:n}=this;n._refCount++;const r=new et(t,n),i=e.subscribe(r);return r.closed||(r.connection=n.connect()),i}}class et extends g{constructor(t,e){super(t),this.connectable=e}_unsubscribe(){const{connectable:t}=this;if(!t)return void(this.connection=null);this.connectable=null;const e=t._refCount;if(e<=0)return void(this.connection=null);if(t._refCount=e-1,e>1)return void(this.connection=null);const{connection:n}=this,r=t._connection;this.connection=null,!r||n&&r!==n||r.unsubscribe()}}const nt=class extends w{constructor(t,e){super(),this.source=t,this.subjectFactory=e,this._refCount=0,this._isComplete=!1}_subscribe(t){return this.getSubject().subscribe(t)}getSubject(){const t=this._subject;return t&&!t.isStopped||(this._subject=this.subjectFactory()),this._subject}connect(){let t=this._connection;return t||(this._isComplete=!1,t=this._connection=new p,t.add(this.source.subscribe(new it(this.getSubject(),this))),t.closed?(this._connection=null,t=p.EMPTY):this._connection=t),t}refCount(){return J()(this)}}.prototype,rt={operator:{value:null},_refCount:{value:0,writable:!0},_subject:{value:null,writable:!0},_connection:{value:null,writable:!0},_subscribe:{value:nt._subscribe},_isComplete:{value:nt._isComplete,writable:!0},getSubject:{value:nt.getSubject},connect:{value:nt.connect},refCount:{value:nt.refCount}};class it extends I{constructor(t,e){super(t),this.connectable=e}_error(t){this._unsubscribe(),super._error(t)}_complete(){this.connectable._isComplete=!0,this._unsubscribe(),super._complete()}_unsubscribe(){const t=this.connectable;if(t){this.connectable=null;const e=t._connection;t._refCount=0,t._subject=null,t._connection=null,e&&e.unsubscribe()}}}function ot(){return new E}function st(){return t=>J()(function(t,e){return function(e){let n;n="function"==typeof t?t:function(){return t};const r=Object.create(e,rt);return r.source=e,r.subjectFactory=n,r}}(ot)(t))}const at="__parameters__";function lt(t,e,n){const r=function(t){return function(...e){if(t){const n=t(...e);for(const t in n)this[t]=n[t]}}}(e);function i(...t){if(this instanceof i)return r.apply(this,t),this;const e=new i(...t);return n.annotation=e,n;function n(t,n,r){const i=t.hasOwnProperty(at)?t[at]:Object.defineProperty(t,at,{value:[]})[at];for(;i.length<=r;)i.push(null);return(i[r]=i[r]||[]).push(e),t}}return n&&(i.prototype=Object.create(n.prototype)),i.prototype.ngMetadataName=t,i.annotationCls=i,i}const ut=lt("Inject",t=>({token:t})),ct=lt("Optional"),ht=lt("Self"),pt=lt("SkipSelf");var dt=function(t){return t[t.Default=0]="Default",t[t.Host=1]="Host",t[t.Self=2]="Self",t[t.SkipSelf=4]="SkipSelf",t[t.Optional=8]="Optional",t}({});function ft(t){for(let e in t)if(t[e]===ft)return e;throw Error("Could not find renamed property on target object.")}function gt(t,e){for(const n in e)e.hasOwnProperty(n)&&!t.hasOwnProperty(n)&&(t[n]=e[n])}function mt(t){return{token:t.token,providedIn:t.providedIn||null,factory:t.factory,value:void 0}}function yt(t){return{factory:t.factory,providers:t.providers||[],imports:t.imports||[]}}function vt(t){const e=t[bt];return e&&e.token===t?e:null}function _t(t){return t&&t.hasOwnProperty(wt)?t[wt]:null}const bt=ft({ngInjectableDef:ft}),wt=ft({ngInjectorDef:ft});function Ct(t){if("string"==typeof t)return t;if(t instanceof Array)return"["+t.map(Ct).join(", ")+"]";if(null==t)return""+t;if(t.overriddenName)return`${t.overriddenName}`;if(t.name)return`${t.name}`;const e=t.toString();if(null==e)return""+e;const n=e.indexOf("\n");return-1===n?e:e.substring(0,n)}const xt=ft({__forward_ref__:ft});function St(t){return t.__forward_ref__=St,t.toString=function(){return Ct(this())},t}function Pt(t){const e=t;return"function"==typeof e&&e.hasOwnProperty(xt)&&e.__forward_ref__===St?e():t}const It="undefined"!=typeof globalThis&&globalThis,Et="undefined"!=typeof window&&window,Tt="undefined"!=typeof self&&"undefined"!=typeof WorkerGlobalScope&&self instanceof WorkerGlobalScope&&self,At="undefined"!=typeof global&&global,kt=It||At||Et||Tt;class Ot{constructor(t,e){this._desc=t,this.ngMetadataName="InjectionToken",this.ngInjectableDef=void 0,"number"==typeof e?this.__NG_ELEMENT_ID__=e:void 0!==e&&(this.ngInjectableDef=mt({token:this,providedIn:e.providedIn||"root",factory:e.factory}))}toString(){return`InjectionToken ${this._desc}`}}const Mt=new Ot("INJECTOR",-1),Rt=new Object,Dt="ngTempTokenPath",Bt="ngTokenPath",jt=/\n/gm,Ft="\u0275",zt="__source",Lt=ft({provide:String,useValue:ft});let Ht,Nt=void 0;function Wt(t){const e=Nt;return Nt=t,e}function Vt(t){const e=Ht;return Ht=t,e}function Ut(t,e=dt.Default){if(void 0===Nt)throw new Error("inject() must be called from an injection context");return null===Nt?Yt(t,void 0,e):Nt.get(t,e&dt.Optional?null:void 0,e)}function qt(t,e=dt.Default){return(Ht||Ut)(t,e)}const Gt=qt;function Yt(t,e,n){const r=vt(t);if(r&&"root"==r.providedIn)return void 0===r.value?r.value=r.factory():r.value;if(n&dt.Optional)return null;if(void 0!==e)return e;throw new Error(`Injector: NOT_FOUND [${Ct(t)}]`)}function Xt(t){const e=[];for(let n=0;n<t.length;n++){const r=Pt(t[n]);if(Array.isArray(r)){if(0===r.length)throw new Error("Arguments array must have arguments.");let t=void 0,n=dt.Default;for(let e=0;e<r.length;e++){const i=r[e];i instanceof ct||"Optional"===i.ngMetadataName||i===ct?n|=dt.Optional:i instanceof pt||"SkipSelf"===i.ngMetadataName||i===pt?n|=dt.SkipSelf:i instanceof ht||"Self"===i.ngMetadataName||i===ht?n|=dt.Self:t=i instanceof ut||i===ut?i.token:i}e.push(qt(t,n))}else e.push(qt(r))}return e}class $t{get(t,e=Rt){if(e===Rt){const e=new Error(`NullInjectorError: No provider for ${Ct(t)}!`);throw e.name="NullInjectorError",e}return e}}class Qt{}class Zt{}function Kt(t,e){t.forEach(t=>Array.isArray(t)?Kt(t,e):e(t))}function Jt(t,e,n){e>=t.length?t.push(n):t.splice(e,0,n)}function te(t,e){return e>=t.length-1?t.pop():t.splice(e,1)[0]}const ee=function(){var t={OnPush:0,Default:1};return t[t.OnPush]="OnPush",t[t.Default]="Default",t}(),ne=function(){var t={Emulated:0,Native:1,None:2,ShadowDom:3};return t[t.Emulated]="Emulated",t[t.Native]="Native",t[t.None]="None",t[t.ShadowDom]="ShadowDom",t}(),re={},ie=[],oe=ft({ngComponentDef:ft}),se=ft({ngDirectiveDef:ft}),ae=ft({ngPipeDef:ft}),le=ft({ngModuleDef:ft}),ue=ft({ngLocaleIdDef:ft}),ce=ft({__NG_ELEMENT_ID__:ft});let he=0;function pe(t){return ve(t)||_e(t)}function de(t){return be(t)}function fe(t){return{type:t.type,bootstrap:t.bootstrap||ie,declarations:t.declarations||ie,imports:t.imports||ie,exports:t.exports||ie,transitiveCompileScopes:null,schemas:t.schemas||null,id:t.id||null}}function ge(t,e){if(null==t)return re;const n={};for(const r in t)if(t.hasOwnProperty(r)){let i=t[r],o=i;Array.isArray(i)&&(o=i[1],i=i[0]),n[i]=r,e&&(e[i]=o)}return n}const me=function(t){const e=t.type,n=e.prototype,r={},i={type:e,providersResolver:null,consts:t.consts,vars:t.vars,factory:t.factory,template:t.template||null,ngContentSelectors:t.ngContentSelectors,hostBindings:t.hostBindings||null,contentQueries:t.contentQueries||null,declaredInputs:r,inputs:null,outputs:null,exportAs:t.exportAs||null,onChanges:null,onInit:n.ngOnInit||null,doCheck:n.ngDoCheck||null,afterContentInit:n.ngAfterContentInit||null,afterContentChecked:n.ngAfterContentChecked||null,afterViewInit:n.ngAfterViewInit||null,afterViewChecked:n.ngAfterViewChecked||null,onDestroy:n.ngOnDestroy||null,onPush:t.changeDetection===ee.OnPush,directiveDefs:null,pipeDefs:null,selectors:t.selectors,viewQuery:t.viewQuery||null,features:t.features||null,data:t.data||{},encapsulation:t.encapsulation||ne.Emulated,id:"c",styles:t.styles||ie,_:null,setInput:null,schemas:t.schemas||null,tView:null};return i._=""+{toString:()=>{const n=t.directives,o=t.features,s=t.pipes;i.id+=he++,i.inputs=ge(t.inputs,r),i.outputs=ge(t.outputs),o&&o.forEach(t=>t(i)),i.directiveDefs=n?()=>("function"==typeof n?n():n).map(pe):null,i.pipeDefs=s?()=>("function"==typeof s?s():s).map(de):null,e.hasOwnProperty(bt)||(e[bt]=mt({token:e,factory:t.factory}))}},i};function ye(t){return{name:t.name,factory:t.factory,pure:!1!==t.pure,onDestroy:t.type.prototype.ngOnDestroy||null}}function ve(t){return t[oe]||null}function _e(t){return t[se]||null}function be(t){return t[ae]||null}function we(t,e){const n=t[le]||null;if(!n&&!0===e)throw new Error(`Type ${Ct(t)} does not have 'ngModuleDef' property.`);return n}const Ce=0,xe=1,Se=2,Pe=3,Ie=4,Ee=5,Te=6,Ae=7,ke=8,Oe=9,Me=10,Re=11,De=12,Be=13,je=14,Fe=15,ze=16,Le=17,He=18,Ne=19,We=1,Ve=2,Ue=5,qe=7,Ge=8,Ye=9;function Xe(t){return Array.isArray(t)&&"object"==typeof t[We]}function $e(t){return Array.isArray(t)&&!0===t[We]}function Qe(t){return 1==(1&t.flags)}function Ze(t){return null!==t.template}function Ke(t){return 0!=(512&t[Se])}const Je=8,tn=8,en=9,nn=-1;class rn{constructor(t,e,n){this.factory=t,this.resolving=!1,this.canSeeViewProviders=e,this.injectImpl=n}}function on(t,e,n,r){n||sn(t,e.preOrderHooks,e.preOrderCheckHooks,n,0,void 0!==r?r:null)}function sn(t,e,n,r,i,o){if(r)return;const s=(3&t[Se])===i?e:n;s&&function(t,e,n,r){const i=null!=r?r:-1;let o=0;for(let s=void 0!==r?65535&t[He]:0;s<e.length;s++)if("number"==typeof e[s+1]){if(o=e[s],null!=r&&o>=r)break}else e[s]<0&&(t[He]+=65536),(o<i||-1==i)&&(an(t,n,e,s),t[He]=(4294901760&t[He])+s+2),s++}(t,s,i,o),null==o&&(3&t[Se])===i&&3!==i&&(t[Se]&=1023,t[Se]+=1)}function an(t,e,n,r){const i=n[r]<0,o=n[r+1],s=t[i?-n[r]:n[r]];i?t[Se]>>10<t[He]>>16&&(3&t[Se])===e&&(t[Se]+=1024,o.call(s)):o.call(s)}let ln=null;const un=new Map;let cn=null;const hn=1,pn=0;function dn(t,e){return cn&&t===cn||(cn=t,e&&(ln=un.get(t)||null),ln=ln||{classesBitMask:pn,classesIndex:hn,stylesBitMask:pn,stylesIndex:hn}),ln}function fn(){ln=null,cn=null}const gn="__ngContext__";function mn(t){for(;Array.isArray(t);)t=t[Ce];return t}function yn(t,e){return mn(e[t.index])}function vn(t,e){const n=t.index;return-1==n?null:mn(e[n])}function _n(t,e){return e[xe].data[t+Ne]}function bn(t,e){const n=e[t];return Xe(n)?n:n[Ce]}function wn(t){return t[gn]}function Cn(t){const e=wn(t);return e?Array.isArray(e)?e:e.lView:null}function xn(t){t[He]=0}let Sn,Pn,In=null;function En(t){In=t}function Tn(){return Mn}const An=1;let kn,On,Mn,Rn=An,Dn=0,Bn=0;function jn(t=null){Jn!==t&&(er(null==t?-1:t),Rn=null==t?0:An,Dn=0,Bn=0)}function Fn(t){Dn+=t,Bn=Math.max(Bn,Dn)}function zn(){return kn}function Ln(t,e){kn=t,On=e}function Hn(t,e){kn=t,Mn=e}function Nn(){return On}function Wn(t=Mn){return 4==(4&t[Se])}let Vn=null,Un=!1;function qn(){return Un}function Gn(t){Un=t}let Yn=-1;function Xn(t){Yn=t}let $n=0;function Qn(t){$n=t}function Zn(t,e){const n=Mn;return t&&(Yn=t[xe].bindingStartIndex),kn=e,On=!0,Mn=Vn=t,n}function Kn(t,e){const n=Mn[xe];if(Wn(Mn))Mn[Se]&=-5;else try{xn(Mn),e&&sn(Mn,n.viewHooks,n.viewCheckHooks,Un,2,void 0)}finally{Mn[Se]&=-73,Mn[Ae]=n.bindingStartIndex}Zn(t,null)}let Jn=-1;function tr(){return Jn}function er(t){Jn=t,fn()}let nr,rr=null;function ir(){rr=null}function or(t){nr=t}function sr(){return nr}function ar(t){return"string"==typeof t?t:null==t?"":""+t}function lr(t){return"function"==typeof t?t.name||t.toString():"object"==typeof t&&null!=t&&"function"==typeof t.type?t.type.name||t.type.toString():ar(t)}const ur=(()=>("undefined"!=typeof requestAnimationFrame&&requestAnimationFrame||setTimeout).bind(kt))(),cr="\ufffd";function hr(t){return t.indexOf(cr)>=0}function pr(t){return t instanceof Function?t():t}const dr="--MAP--",fr=0;function gr(t,e){e===fr?t[2]>fr&&function(t){yr(t,2|mr(t))}(t):t[2]=e}function mr(t){return t[1]}function yr(t,e){t[1]=e}function vr(t,e){return t[e+2]}function _r(t,e){return 1&t[e+0]}function br(t,e){return(1&_r(t,e))>0}function wr(t,e){return t[e+0]>>1}function Cr(t,e,n){const r=_r(t,e);t[e+0]=r|n<<1}function xr(t,e){return t[e+1]}function Sr(t,e,n){return t[e+3+n]}function Pr(t,e){return!(!t||e!==t[2])}function Ir(t){return(1&mr(t))>0}function Er(t){return(2&mr(t))>0}function Tr(t){return 6+t[4]}function Ar(t,e){let n=Array.isArray(t)?t[0]:t,r=Array.isArray(e)?e[0]:e;return n instanceof String&&(n=n.toString()),r instanceof String&&(r=r.toString()),function(t,e){return!(t!=t&&e!=e)&&t!==e}(n,r)}function kr(t){return null!=t&&""!==t}function Or(t,e,n=" "){return t+(e.length&&t.length?n:"")+e}function Mr(t){return t.replace(/[a-z][A-Z]/g,t=>t.charAt(0)+"-"+t.charAt(1)).toLowerCase()}function Rr(t){return Dr(t)?t[0]:t}function Dr(t){return Array.isArray(t)&&t.length>=6&&"string"!=typeof t[1]}function Br(t,e){return t[e+0]}function jr(t,e,n){t[e+1]=n}function Fr(t,e){return t[e+1]}const zr=function(){var t={Important:1,DashCase:2};return t[t.Important]="Important",t[t.DashCase]="DashCase",t}();function Lr(t){return!!t.listen}const Hr={createRenderer:(t,e)=>document};function Nr(t){return t!==nn}function Wr(t){return 32767&t}function Vr(t){return t>>16}function Ur(t,e){let n=Vr(t),r=e;for(;n>0;)r=r[ze],n--;return r}function qr(t){const e=t[Pe];return $e(e)?e[Pe]:e}function Gr(t){let e=t[Te];for(;null!==e&&2===e.type;)e=(t=t[ze])[Te];return t}let Yr=!0;function Xr(t){const e=Yr;return Yr=t,e}const $r=255;let Qr=0;function Zr(t,e){const n=Jr(t,e);if(-1!==n)return n;const r=e[xe];r.firstTemplatePass&&(t.injectorIndex=e.length,Kr(r.data,t),Kr(e,null),Kr(r.blueprint,null));const i=ti(t,e),o=Wr(i),s=Ur(i,e),a=t.injectorIndex;if(Nr(i)){const t=s[xe].data;for(let n=0;n<8;n++)e[a+n]=s[o+n]|t[o+n]}return e[a+tn]=i,a}function Kr(t,e){t.push(0,0,0,0,0,0,0,0,e)}function Jr(t,e){return-1===t.injectorIndex||t.parent&&t.parent.injectorIndex===t.injectorIndex||null==e[t.injectorIndex+tn]?-1:t.injectorIndex}function ti(t,e){if(t.parent&&-1!==t.parent.injectorIndex)return t.parent.injectorIndex;let n=e[Te],r=1;for(;n&&-1===n.injectorIndex;)n=(e=e[ze])?e[Te]:null,r++;return n?n.injectorIndex|r<<16:-1}function ei(t,e,n){!function(t,e,n){let r="string"!=typeof n?n[ce]:n.charCodeAt(0)||0;null==r&&(r=n[ce]=Qr++);const i=r&$r,o=1<<i,s=64&i,a=32&i,l=e.data;128&i?s?a?l[t+7]|=o:l[t+6]|=o:a?l[t+5]|=o:l[t+4]|=o:s?a?l[t+3]|=o:l[t+2]|=o:a?l[t+1]|=o:l[t]|=o}(t,e,n)}function ni(t,e,n,r=dt.Default,i){if(t){const i=function(t){if("string"==typeof t)return t.charCodeAt(0)||0;const e=t[ce];return"number"==typeof e&&e>0?e&$r:e}(n);if("function"==typeof i){const o=zn(),s=Tn();Hn(t,e);try{const t=i();if(null!=t||r&dt.Optional)return t;throw new Error(`No provider for ${lr(n)}!`)}finally{Hn(o,s)}}else if("number"==typeof i){if(-1===i)return new li(t,e);let o=null,s=Jr(t,e),a=nn,l=r&dt.Host?Gr(e)[Te]:null;for((-1===s||r&dt.SkipSelf)&&(a=-1===s?ti(t,e):e[s+tn],ai(r,!1)?(o=e[xe],s=Wr(a),e=Ur(a,e)):s=-1);-1!==s;){a=e[s+tn];const t=e[xe];if(si(i,s,t.data)){const t=ii(s,e,n,o,r,l);if(t!==ri)return t}ai(r,e[xe].data[s+Je]===l)&&si(i,s,e)?(o=t,s=Wr(a),e=Ur(a,e)):s=-1}}}if(r&dt.Optional&&void 0===i&&(i=null),0==(r&(dt.Self|dt.Host))){const t=e[Me],o=Vt(void 0);try{return t?t.get(n,i,r&dt.Optional):Yt(n,i,r&dt.Optional)}finally{Vt(o)}}if(r&dt.Optional)return i;throw new Error(`NodeInjector: NOT_FOUND [${lr(n)}]`)}const ri={};function ii(t,e,n,r,i,o){const s=e[xe],a=s.data[t+Je],l=function(t,e,n,r,i){const o=t.providerIndexes,s=e.data,a=65535&o,l=t.directiveStart,u=o>>16,c=i?a+u:t.directiveEnd;for(let h=r?a:a+u;h<c;h++){const t=s[h];if(h<l&&n===t||h>=l&&t.type===n)return h}if(i){const t=s[l];if(t&&Ze(t)&&t.type===n)return l}return null}(a,s,n,null==r?Qe(a)&&Yr:r!=s&&3===a.type,i&dt.Host&&o===a);return null!==l?oi(s.data,e,l,a):ri}function oi(t,e,n,r){let i=e[n];if(null!==(o=i)&&"object"==typeof o&&Object.getPrototypeOf(o)==rn.prototype){const o=i;if(o.resolving)throw new Error(`Circular dep for ${lr(t[n])}`);const s=Xr(o.canSeeViewProviders);let a;o.resolving=!0,o.injectImpl&&(a=Vt(o.injectImpl));const l=zn(),u=Tn();Hn(r,e);try{i=e[n]=o.factory(void 0,t,e,r)}finally{o.injectImpl&&Vt(a),Xr(s),o.resolving=!1,Hn(l,u)}}var o;return i}function si(t,e,n){const r=64&t,i=32&t;let o;return o=128&t?r?i?n[e+7]:n[e+6]:i?n[e+5]:n[e+4]:r?i?n[e+3]:n[e+2]:i?n[e+1]:n[e],!!(o&1<<t)}function ai(t,e){return!(t&dt.Self||t&dt.Host&&e)}class li{constructor(t,e){this._tNode=t,this._lView=e}get(t,e){return ni(this._tNode,this._lView,t,void 0,e)}}function ui(t){const e=function(t){const e=t,n=ve(e)||_e(e)||be(e)||vt(e)||_t(e);return n&&void 0!==n.factory?n.factory:null}(Object.getPrototypeOf(t.prototype).constructor);return null!==e?e:t=>new t}const ci="ngDebugContext",hi="ngOriginalError",pi="ngErrorLogger";function di(t){return t[ci]}function fi(t){return t[hi]}function gi(t,...e){t.error(...e)}class mi{constructor(){this._console=console}handleError(t){const e=this._findOriginalError(t),n=this._findContext(t),r=function(t){return t[pi]||gi}(t);r(this._console,"ERROR",t),e&&r(this._console,"ORIGINAL ERROR",e),n&&r(this._console,"ERROR CONTEXT",n)}_findContext(t){return t?di(t)?di(t):this._findContext(fi(t)):null}_findOriginalError(t){let e=fi(t);for(;e&&fi(e);)e=fi(e);return e}}let yi=!0,vi=!1;function _i(){return vi=!0,yi}class bi{constructor(t){if(this.defaultDoc=t,this.inertDocument=this.defaultDoc.implementation.createHTMLDocument("sanitization-inert"),this.inertBodyElement=this.inertDocument.body,null==this.inertBodyElement){const t=this.inertDocument.createElement("html");this.inertDocument.appendChild(t),this.inertBodyElement=this.inertDocument.createElement("body"),t.appendChild(this.inertBodyElement)}this.inertBodyElement.innerHTML='<svg><g onload="this.parentNode.remove()"></g></svg>',!this.inertBodyElement.querySelector||this.inertBodyElement.querySelector("svg")?(this.inertBodyElement.innerHTML='<svg><p><style><img src="</style><img src=x onerror=alert(1)//">',this.getInertBodyElement=this.inertBodyElement.querySelector&&this.inertBodyElement.querySelector("svg img")&&function(){try{return!!window.DOMParser}catch(t){return!1}}()?this.getInertBodyElement_DOMParser:this.getInertBodyElement_InertDocument):this.getInertBodyElement=this.getInertBodyElement_XHR}getInertBodyElement_XHR(t){t="<body><remove></remove>"+t+"</body>";try{t=encodeURI(t)}catch(r){return null}const e=new XMLHttpRequest;e.responseType="document",e.open("GET","data:text/html;charset=utf-8,"+t,!1),e.send(void 0);const n=e.response.body;return n.removeChild(n.firstChild),n}getInertBodyElement_DOMParser(t){t="<body><remove></remove>"+t+"</body>";try{const e=(new window.DOMParser).parseFromString(t,"text/html").body;return e.removeChild(e.firstChild),e}catch(e){return null}}getInertBodyElement_InertDocument(t){const e=this.inertDocument.createElement("template");return"content"in e?(e.innerHTML=t,e):(this.inertBodyElement.innerHTML=t,this.defaultDoc.documentMode&&this.stripCustomNsAttrs(this.inertBodyElement),this.inertBodyElement)}stripCustomNsAttrs(t){const e=t.attributes;for(let r=e.length-1;0<r;r--){const n=e.item(r).name;"xmlns:ns1"!==n&&0!==n.indexOf("ns1:")||t.removeAttribute(n)}let n=t.firstChild;for(;n;)n.nodeType===Node.ELEMENT_NODE&&this.stripCustomNsAttrs(n),n=n.nextSibling}}const wi=/^(?:(?:https?|mailto|ftp|tel|file):|[^&:/?#]*(?:[/?#]|$))/gi,Ci=/^data:(?:image\/(?:bmp|gif|jpeg|jpg|png|tiff|webp)|video\/(?:mpeg|mp4|ogg|webm)|audio\/(?:mp3|oga|ogg|opus));base64,[a-z0-9+\/]+=*$/i;function xi(t){return(t=String(t)).match(wi)||t.match(Ci)?t:(_i()&&console.warn(`WARNING: sanitizing unsafe URL value ${t} (see http://g.co/ng/security#xss)`),"unsafe:"+t)}function Si(t){const e={};for(const n of t.split(","))e[n]=!0;return e}function Pi(...t){const e={};for(const n of t)for(const t in n)n.hasOwnProperty(t)&&(e[t]=!0);return e}const Ii=Si("area,br,col,hr,img,wbr"),Ei=Si("colgroup,dd,dt,li,p,tbody,td,tfoot,th,thead,tr"),Ti=Si("rp,rt"),Ai=Pi(Ti,Ei),ki=Pi(Ii,Pi(Ei,Si("address,article,aside,blockquote,caption,center,del,details,dialog,dir,div,dl,figure,figcaption,footer,h1,h2,h3,h4,h5,h6,header,hgroup,hr,ins,main,map,menu,nav,ol,pre,section,summary,table,ul")),Pi(Ti,Si("a,abbr,acronym,audio,b,bdi,bdo,big,br,cite,code,del,dfn,em,font,i,img,ins,kbd,label,map,mark,picture,q,ruby,rp,rt,s,samp,small,source,span,strike,strong,sub,sup,time,track,tt,u,var,video")),Ai),Oi=Si("background,cite,href,itemtype,longdesc,poster,src,xlink:href"),Mi=Si("srcset"),Ri=Pi(Oi,Mi,Si("abbr,accesskey,align,alt,autoplay,axis,bgcolor,border,cellpadding,cellspacing,class,clear,color,cols,colspan,compact,controls,coords,datetime,default,dir,download,face,headers,height,hidden,hreflang,hspace,ismap,itemscope,itemprop,kind,label,lang,language,loop,media,muted,nohref,nowrap,open,preload,rel,rev,role,rows,rowspan,rules,scope,scrolling,shape,size,sizes,span,srclang,start,summary,tabindex,target,title,translate,type,usemap,valign,value,vspace,width"),Si("aria-activedescendant,aria-atomic,aria-autocomplete,aria-busy,aria-checked,aria-colcount,aria-colindex,aria-colspan,aria-controls,aria-current,aria-describedby,aria-details,aria-disabled,aria-dropeffect,aria-errormessage,aria-expanded,aria-flowto,aria-grabbed,aria-haspopup,aria-hidden,aria-invalid,aria-keyshortcuts,aria-label,aria-labelledby,aria-level,aria-live,aria-modal,aria-multiline,aria-multiselectable,aria-orientation,aria-owns,aria-placeholder,aria-posinset,aria-pressed,aria-readonly,aria-relevant,aria-required,aria-roledescription,aria-rowcount,aria-rowindex,aria-rowspan,aria-selected,aria-setsize,aria-sort,aria-valuemax,aria-valuemin,aria-valuenow,aria-valuetext")),Di=Si("script,style,template");class Bi{constructor(){this.sanitizedSomething=!1,this.buf=[]}sanitizeChildren(t){let e=t.firstChild,n=!0;for(;e;)if(e.nodeType===Node.ELEMENT_NODE?n=this.startElement(e):e.nodeType===Node.TEXT_NODE?this.chars(e.nodeValue):this.sanitizedSomething=!0,n&&e.firstChild)e=e.firstChild;else for(;e;){e.nodeType===Node.ELEMENT_NODE&&this.endElement(e);let t=this.checkClobberedElement(e,e.nextSibling);if(t){e=t;break}e=this.checkClobberedElement(e,e.parentNode)}return this.buf.join("")}startElement(t){const e=t.nodeName.toLowerCase();if(!ki.hasOwnProperty(e))return this.sanitizedSomething=!0,!Di.hasOwnProperty(e);this.buf.push("<"),this.buf.push(e);const n=t.attributes;for(let i=0;i<n.length;i++){const t=n.item(i),e=t.name,o=e.toLowerCase();if(!Ri.hasOwnProperty(o)){this.sanitizedSomething=!0;continue}let s=t.value;Oi[o]&&(s=xi(s)),Mi[o]&&(r=s,s=(r=String(r)).split(",").map(t=>xi(t.trim())).join(", ")),this.buf.push(" ",e,'="',zi(s),'"')}var r;return this.buf.push(">"),!0}endElement(t){const e=t.nodeName.toLowerCase();ki.hasOwnProperty(e)&&!Ii.hasOwnProperty(e)&&(this.buf.push("</"),this.buf.push(e),this.buf.push(">"))}chars(t){this.buf.push(zi(t))}checkClobberedElement(t,e){if(e&&(t.compareDocumentPosition(e)&Node.DOCUMENT_POSITION_CONTAINED_BY)===Node.DOCUMENT_POSITION_CONTAINED_BY)throw new Error(`Failed to sanitize html because the element is clobbered: ${t.outerHTML}`);return e}}const ji=/[\uD800-\uDBFF][\uDC00-\uDFFF]/g,Fi=/([^\#-~ |!])/g;function zi(t){return t.replace(/&/g,"&amp;").replace(ji,(function(t){return"&#"+(1024*(t.charCodeAt(0)-55296)+(t.charCodeAt(1)-56320)+65536)+";"})).replace(Fi,(function(t){return"&#"+t.charCodeAt(0)+";"})).replace(/</g,"&lt;").replace(/>/g,"&gt;")}let Li;function Hi(t){return"content"in t&&function(t){return t.nodeType===Node.ELEMENT_NODE&&"TEMPLATE"===t.nodeName}(t)?t.content:null}const Ni=function(){var t={NONE:0,HTML:1,STYLE:2,SCRIPT:3,URL:4,RESOURCE_URL:5};return t[t.NONE]="NONE",t[t.HTML]="HTML",t[t.STYLE]="STYLE",t[t.SCRIPT]="SCRIPT",t[t.URL]="URL",t[t.RESOURCE_URL]="RESOURCE_URL",t}();class Wi{}const Vi=new RegExp("^([-,.\"'%_!# a-zA-Z0-9]+|(?:(?:matrix|translate|scale|rotate|skew|perspective)(?:X|Y|Z|3d)?|(?:rgb|hsl)a?|(?:repeating-)?(?:linear|radial)-gradient|(?:calc|attr))\\([-0-9.%, #a-zA-Z]+\\))$","g"),Ui=/^url\(([^)]+)\)$/,qi=/([A-Z])/g;function Gi(t){try{return null!=t?t.toString().slice(0,30):t}catch(e){return"[ERROR] Exception while trying to serialize the value"}}function Yi(t,e,n){return{lView:t,nodeIndex:e,native:n,component:void 0,directives:void 0,localRefs:void 0}}function Xi(t,e){t[gn]=e}function $i(t,e){let n=t[xe].firstChild;for(;n;){if(vn(n,t)===e)return n.index;n=Qi(n)}return-1}function Qi(t){if(t.child)return t.child;if(t.next)return t.next;for(;t.parent&&!t.parent.next;)t=t.parent;return t.parent&&t.parent.next}function Zi(){throw new Error("Cannot mix multi providers and regular providers")}const Ki=1,Ji=0,to=null,eo=1;let no=[];function ro(t,e,n,r,i,o,s,a,l){Ir(t)||(s?function(t,e,n,r,i){no.unshift(t,e,n,r,i)}(t,n,r,i,l):(no.length&&io(),oo(t,n,r,i,l)));const u=a||Ar(e[i],o);return u&&(e[i]=o),u}function io(){let t=0;for(;t<no.length;)oo(no[t++],no[t++],no[t++],no[t++],no[t++]);no.length=0}function oo(t,e,n,r,i){let o=!1;if(n){let s=!1,a=Tr(t);for(;a<t.length;){const o=xr(t,a),l=vr(t,a);if(s=n<=l,s){n<l&&so(t,a,n,i),ao(t,!1,a,r,e);break}a+=3+o}s||(so(t,t.length,n,i),ao(t,!1,a,r,e),o=!0)}else ao(t,!0,3,r,e),o=!0;return o}function so(t,e,n,r){t.splice(e,0,r?1:0,eo,n,to),Cr(t,e,Ki)}function ao(t,e,n,r,i){const o=n+3;let s=o+xr(t,n);if(e||s--,"number"==typeof r){for(let e=o;e<=s;e++)if(t[e]===r)return;t.splice(s,0,r),t[n+1]++,Cr(t,n,wr(t,n)|1<<i)}else null!==r&&null==t[s]&&(t[s]=r)}function lo(t,e,n,r,i,o,s,a){return i&&r&&(function(t){if(!Ir(t)){const e=Rr(t);e&&function(t,e){for(let n=1;n<e.length;n+=2){const r=Fr(e,n);r&&oo(t,-1,Br(e,n),r,!1)}}(t,e),function(t){yr(t,1|mr(t))}(t)}}(r),function(t,e){return t&&e>pn}(r,o))?(uo(r,t,e,n,o,s,a),!0):i}function uo(t,e,n,r,i,o,s){const a=!0===(l=i)?-1:!1===l?0:l;var l;const u=co,c=(a&wr(t,3))>0?1:0;let h=Tr(t);for(;h<t.length;){const i=xr(t,h);if(a&wr(t,h)){let a=!1;const l=vr(t,h),p=i-1,d=Sr(t,h,p);for(let i=0;i<p;i++){const u=Sr(t,h,i),c=r[u];if(kr(c)){o(e,n,l,s&&br(t,h)?s(l,c,2):c,u),a=!0;break}}if(u){const i=u(t,e,n,r,o,s,c|(a?4:2),l,d);a=a||i}a||o(e,n,l,d)}h+=3+i}u&&u(t,e,n,r,o,s,c)}let co=null;const ho=(t,e,n,r)=>{const i=e.style;r?(r=r.toString(),t&&Lr(t)?t.setStyle(e,n,r,zr.DashCase):i&&i.setProperty(n,r)):t&&Lr(t)?t.removeStyle(e,n,zr.DashCase):i&&i.removeProperty(n)},po=(t,e,n,r)=>{if(""!==n){const i=e.classList;r?t&&Lr(t)?t.addClass(e,n):i&&i.add(n):t&&Lr(t)?t.removeClass(e,n):i&&i.remove(n)}},fo={},go=(t,e,n,r,i,o,s,a,l)=>{let u=!1;if(xr(t,3)){let c=!0;const h=!a;h&&-2&s&&(c=!1,u=!0),c&&(u=function t(e,n,r,i,o,s,a,l,u,c){let h=!1;if(u<xr(e,3)){const p=Sr(e,3,u),d=i[p];let f=function(t){return t>=_o.length&&_o.push(1),_o[t]}(u);for(;f<d.length;){const g=Br(d,f),m=l&&g>l,y=!m&&g===l,v=Fr(d,f),_=kr(v);let b=t(e,n,r,i,o,s,m?a:yo(a,_,y),m?l:g,u+1,c);if(m){h||(h=b);break}if(!b&&vo(a,y)){const t=y&&!_,e=t?c:v,i=t?p:null;o(n,r,g,s?s(g,e,3):e,i),b=!0}h=b&&y,f+=2}if(_o[u]=f,1===d.length||!l)return t(e,n,r,i,o,s,a,l,u+1,c)}return h}(t,e,n,r,i,o,s,a||null,0,l||null)),h&&function(){for(let t=0;t<_o.length;t++)_o[t]=1}()}return u};function mo(){co=go}function yo(t,e,n){let r=t;return e||4&t||!(n||1&t)?(r|=4,r&=-3):(r|=2,r&=-5),r}function vo(t,e){let n=(1&t)>0;return n?4&t&&e&&(n=!1):2&t&&(n=e),n}const _o=[];function bo(t,e,n,r){for(let i=1;i<t.length;i+=2){const o=Br(t,i);if(e<=o){let s=!1;if(o===e){const e=t[i];!r&&kr(e)||(s=!0,jr(t,i,n))}else s=!0,t.splice(i,0,e,n);return s}}return t.push(e,n),!0}function wo(t){let e={};if(t)for(let n=1;n<t.length;n+=2){const r=Br(t,n),i=Fr(t,n);e[r]=i}return e}class Co{constructor(t,e,n){this.context=t,this._data=e,this._isClassBased=n,this._sanitizer=null}overrideSanitizer(t){this._sanitizer=t}get summary(){const t={};return this._mapValues((e,n,r)=>{t[e]={prop:e,value:n,bindingIndex:r}}),t}get values(){const t={};return this._mapValues((e,n)=>{t[e]=n}),t}_mapValues(t){xr(this.context,3)>0&&mo();const e=this._isClassBased?null:this._sanitizer||sr();uo(this.context,null,{},this._data,!0,(e,n,r,i,o)=>{t(r,i,o||null)},e)}}function xo(t){const e=t[xe],n=Wn(t);if(e.firstTemplatePass=!1,t[Ae]=e.bindingStartIndex,!n){const n=qn();on(t,e,n,void 0),function(t){for(let e=t[je];null!==e;e=e[Ie])if(-1===e[Ve]&&$e(e))for(let t=Ye;t<e.length;t++){const n=e[t];Eo(n,n[xe],n[Oe])}}(t),So(e,t),xn(t),sn(t,e.contentHooks,e.contentCheckHooks,n,1,void 0),function(t,e){const n=tr();try{if(t.expandoInstructions){let n=e[Ae]=t.expandoStartIndex;Xn(n);let r=-1,i=-1;for(let o=0;o<t.expandoInstructions.length;o++){const s=t.expandoInstructions[o];if("number"==typeof s){if(s<=0){i=-s,jn(i);const e=t.expandoInstructions[++o];n+=en+e,r=n}else n+=s;Xn(n)}else null!==s&&(e[Ae]=n,s(2,mn(e[r]),i),Rn+=1+Bn,Dn=0,Bn=0),r++}}}finally{jn(n)}}(e,t)}n&&e.staticContentQueries&&So(e,t),n&&!e.staticViewQueries||Lo(2,e,t[Oe]),function(t,e){if(null!=e)for(let n=0;n<e.length;n++)Ro(t,e[n])}(t,e.components)}function So(t,e){const n=t.contentQueries;if(null!==n)for(let r=0;r<n.length;r+=2){const i=n[r],o=n[r+1];if(-1!==o){const n=t.data[o];Qn(i),n.contentQueries(2,e[o],o)}}}function Po(t,e,n,r,i,o,s,a,l,u){const c=e.blueprint.slice();return c[Ce]=i,c[Se]=140|r,xn(c),c[Pe]=c[ze]=t,c[Oe]=n,c[Re]=s||t&&t[Re],c[De]=a||t&&t[De],c[Be]=l||t&&t[Be]||null,c[Me]=u||t&&t[Me]||null,c[Te]=o,c}function Io(t,e,n,r){let i=t.node;return null==i&&(t.node=i=Mo(0,e,2,n,null,null)),r[Te]=i}function Eo(t,e,n){const r=Nn(),i=zn();let o;if(512&t[Se])Bo(function(t){let e=Xe(t)?t:Cn(t);for(;e&&!(512&e[Se]);)e=qr(e);return e}(t)[Oe]);else{let s=!1;try{Ln(null,!0),o=Zn(t,t[Te]),xn(t),Ao(t,e.template,ko(t),n),e.firstTemplatePass=!1,xo(t),s=!0}finally{Kn(o,s),Ln(i,r)}}}function To(t,e,n){const r=t[Re],i=Zn(t,t[Te]),o=!qn(),s=Wn(t);let a=!1;try{o&&!s&&r.begin&&r.begin(),s&&(n&&Ao(t,n,1,e),xo(t),t[Se]&=-5),xn(t),n&&Ao(t,n,2,e),xo(t),a=!0}finally{o&&!s&&r.end&&r.end(),Kn(i,a)}}function Ao(t,e,n,r){ir();const i=tr();try{jn(null),2&n&&function(t,e){on(t,t[xe],qn(),0),er(0)}(t),e(n,r)}finally{er(i)}}function ko(t){return Wn(t)?1:2}function Oo(t,e,n,r,i,o,s,a){const l=Ne+n,u=l+r,c=function(t,e){const n=new Array(e).fill(null,0,t).fill(fo,t);return n[Ae]=t,n}(l,u);return c[xe]={id:t,blueprint:c,template:e,queries:null,viewQuery:s,node:null,data:c.slice().fill(null,l),bindingStartIndex:l,expandoStartIndex:u,expandoInstructions:null,firstTemplatePass:!0,staticViewQueries:!1,staticContentQueries:!1,preOrderHooks:null,preOrderCheckHooks:null,contentHooks:null,contentCheckHooks:null,viewHooks:null,viewCheckHooks:null,destroyHooks:null,cleanup:null,contentQueries:null,components:null,directiveRegistry:"function"==typeof i?i():i,pipeRegistry:"function"==typeof o?o():o,firstChild:null,schemas:a}}function Mo(t,e,n,r,i,o){return{type:n,index:r,injectorIndex:e?e.injectorIndex:-1,directiveStart:-1,directiveEnd:-1,propertyMetadataStartIndex:-1,propertyMetadataEndIndex:-1,flags:0,providerIndexes:0,tagName:i,attrs:o,localNames:null,initialInputs:void 0,inputs:void 0,outputs:void 0,tViews:null,next:null,projectionNext:null,child:null,parent:e,projection:null,styles:null,classes:null}}function Ro(t,e){const n=bn(e,t);(128==(128&n[Se])||Wn(t))&&80&n[Se]&&(function(t){const e=t[xe];for(let n=t.length;n<e.blueprint.length;n++)t[n]=e.blueprint[n]}(n),zo(n,n[Oe]))}function Do(t,e){return t[je]?t[Fe][Ie]=e:t[je]=e,t[Fe]=e,e}function Bo(t){for(let e=0;e<t.components.length;e++){const n=t.components[e];To(Cn(n),n)}}function jo(t,e){const n=t[Re];n.begin&&n.begin();try{Wn(t)&&zo(t,e),zo(t,e)}catch(r){throw function(t,e){const n=t[Me],r=n?n.get(mi,null):null;r&&r.handleError(e)}(t,r),r}finally{n.end&&n.end()}}function Fo(t){Bo(t[Oe])}function zo(t,e){const n=t[xe],r=Zn(t,t[Te]),i=n.template,o=Wn(t);let s=!1;try{xn(t),o&&Lo(1,n,e),Ao(t,i,ko(t),e),xo(t),s=!0}finally{Kn(r,s)}}function Lo(t,e,n){const r=e.viewQuery;null!==r&&(Qn(0),r(t,n))}const Ho=(()=>Promise.resolve(null))();function No(t,e){const n=e[Pe];return-1===t.index?$e(n)?n:null:n}function Wo(t,e){const n=No(t,e);return n?Ko(e[De],n[qe]):null}function Vo(t,e,n,r,i){if(null!=r){let o,s=!1;$e(r)?o=r:Xe(r)&&(s=!0,r=r[Ce]);const a=mn(r);0===t?Qo(e,n,a,i||null):1===t?function(t,e,n){const r=Ko(t,e);r&&function(t,e,n,r){Lr(t)?t.removeChild(e,n,r):e.removeChild(n)}(t,r,e,n)}(e,a,s):2===t&&e.destroyNode(a),null!=o&&function(t,e,n,r,i){const o=n[qe];o!==mn(n)&&Vo(e,t,r,o,i);for(let s=Ye;s<n.length;s++)ts(t,e,n[s],r,o)}(e,t,o,n,i)}}function Uo(t,e,n){const r=Wo(t[xe].node,t);r&&ts(t[De],e?0:1,t,r,n)}function qo(t,e){const n=t[Ue],r=n.indexOf(e);n.splice(r,1)}function Go(t,e){if(t.length<=Ye)return;const n=Ye+e,r=t[n];if(r){const i=r[Le];null!==i&&i!==t&&qo(i,r),e>0&&(t[n-1][Ie]=r[Ie]);const o=te(t,Ye+e);Uo(r,!1);const s=o[Ee];null!==s&&s.detachView(o[xe]),r[Pe]=null,r[Ie]=null,r[Se]&=-129}return r}function Yo(t){if(!(256&t[Se])){const e=t[De];Lr(e)&&e.destroyNode&&ts(e,2,t,null,null),function(t){let e=t[je];if(!e)return $o(t);for(;e;){let n=null;if(Xe(e))n=e[je];else{const t=e[Ye];t&&(n=t)}if(!n){for(;e&&!e[Ie]&&e!==t;)$o(e),e=Xo(e,t);$o(e||t),n=e&&e[Ie]}e=n}}(t)}}function Xo(t,e){let n;return Xe(t)&&(n=t[Te])&&2===n.type?No(n,t):t[Pe]===e?null:t[Pe]}function $o(t){if(Xe(t)&&!(256&t[Se])){t[Se]&=-129,t[Se]|=256,function(t){const e=t[xe];let n;if(null!=e&&null!=(n=e.destroyHooks))for(let r=0;r<n.length;r+=2){const e=t[n[r]];e instanceof rn||n[r+1].call(e)}}(t),function(t){const e=t[xe].cleanup;if(null!==e){const n=t[ke];for(let r=0;r<e.length-1;r+=2)if("string"==typeof e[r]){const i=e[r+1],o="function"==typeof i?i(t):mn(t[i]),s=n[e[r+2]],a=e[r+3];"boolean"==typeof a?o.removeEventListener(e[r],s,a):a>=0?n[a]():n[-a].unsubscribe(),r+=2}else e[r].call(n[e[r+1]]);t[ke]=null}}(t);const e=t[Te];e&&3===e.type&&Lr(t[De])&&t[De].destroy();const n=t[Le];if(null!==n&&$e(t[Pe])){n!==t[Pe]&&qo(n,t);const e=t[Ee];null!==e&&e.detachView(t[xe])}}}function Qo(t,e,n,r){Lr(t)?t.insertBefore(e,n,r):e.insertBefore(n,r,!0)}function Zo(t,e,n,r){null!==r?Qo(t,e,n,r):function(t,e,n){Lr(t)?t.appendChild(e,n):e.appendChild(n)}(t,e,n)}function Ko(t,e){return Lr(t)?t.parentNode(e):e.parentNode}function Jo(t,e){const n=Ye+t+1;if(n<e.length){const t=e[n],r=t[Te].child;return null!==r?vn(r,t):e[qe]}return e[qe]}function ts(t,e,n,r,i){let o=n[xe].node.child;for(;null!==o;)es(t,e,n,o,r,i),o=o.next}function es(t,e,n,r,i,o){const s=r.type;32&r.flags||(4===s||5===s?function(t,e,n,r,i,o){Vo(e,t,i,n[r.index],o);let s=r.child;for(;s;)es(t,e,n,s,i,o),s=s.next}(t,e,n,r,i,o):1===s?function(t,e,n,r,i,o){const s=Gr(n),a=s[Te].projection[r.projection];if(void 0!==a)if(Array.isArray(a))for(let l=0;l<a.length;l++)Vo(e,t,i,a[l],o);else{let n=a;const r=s[Pe];for(;null!==n;)es(t,e,r,n,i,o),n=n.projectionNext}}(t,e,n,r,i,o):Vo(e,t,i,n[r.index],o))}class ns{constructor(t,e,n){this._context=e,this._componentIndex=n,this._appRef=null,this._viewContainerRef=null,this._tViewNode=null,this._lView=t}get rootNodes(){return null==this._lView[Ce]?function t(e,n,r){let i=n.child;for(;i;){const n=vn(i,e);if(n&&r.push(n),4===i.type)t(e,i,r);else if(1===i.type){const t=Gr(e),n=t[Te],o=qr(t);let s=n.projection[i.projection];for(;s&&o;)r.push(yn(s,o)),s=s.next}i=i.next}return r}(this._lView,this._lView[Te],[]):[]}get context(){return this._context?this._context:this._lookUpContext()}get destroyed(){return 256==(256&this._lView[Se])}destroy(){if(this._appRef)this._appRef.detachView(this);else if(this._viewContainerRef){const t=this._viewContainerRef.indexOf(this);t>-1&&this._viewContainerRef.detach(t),this._viewContainerRef=null}Yo(this._lView)}onDestroy(t){var e,n;n=t,function(t){return t[ke]||(t[ke]=[])}(e=this._lView).push(n),e[xe].firstTemplatePass&&function(t){return t[xe].cleanup||(t[xe].cleanup=[])}(e).push(e[ke].length-1,null)}markForCheck(){!function(t){for(;t;){t[Se]|=64;const e=qr(t);if(Ke(t)&&!e)return t;t=e}}(this._lView)}detach(){this._lView[Se]&=-129}reattach(){this._lView[Se]|=128}detectChanges(){jo(this._lView,this.context)}checkNoChanges(){!function(t,e){Gn(!0);try{jo(t,e)}finally{Gn(!1)}}(this._lView,this.context)}attachToViewContainerRef(t){if(this._appRef)throw new Error("This view is already attached directly to the ApplicationRef!");this._viewContainerRef=t}detachFromAppRef(){this._appRef=null,function(t){ts(t[De],1,t,null,null)}(this._lView)}attachToAppRef(t){if(this._viewContainerRef)throw new Error("This view is already attached to a ViewContainer!");this._appRef=t}_lookUpContext(){return this._context=qr(this._lView)[this._componentIndex]}}class rs extends ns{constructor(t){super(t,null,-1),this._view=t}detectChanges(){Fo(this._view)}checkNoChanges(){!function(t){Gn(!0);try{Fo(t)}finally{Gn(!1)}}(this._view)}get context(){return null}}let is,os,ss;function as(t,e,n){return is||(is=class extends t{}),new is(yn(e,n))}function ls(t,e,n,r){let i;ss||(ss=class extends t{constructor(t,e,n){super(),this._lContainer=t,this._hostTNode=e,this._hostView=n}get element(){return as(e,this._hostTNode,this._hostView)}get injector(){return new li(this._hostTNode,this._hostView)}get parentInjector(){const t=ti(this._hostTNode,this._hostView),e=Ur(t,this._hostView),n=function(t,e,n){if(n.parent&&-1!==n.parent.injectorIndex){const t=n.parent.injectorIndex;let e=n.parent;for(;null!=e.parent&&t==e.injectorIndex;)e=e.parent;return e}let r=Vr(t),i=e,o=e[Te];for(;r>1;)i=i[ze],o=i[Te],r--;return o}(t,this._hostView,this._hostTNode);return Nr(t)&&null!=n?new li(n,e):new li(null,this._hostView)}clear(){for(;this.length>0;)this.remove(this.length-1)}get(t){return null!==this._lContainer[Ge]&&this._lContainer[Ge][t]||null}get length(){return this._lContainer.length-Ye}createEmbeddedView(t,e,n){const r=t.createEmbeddedView(e||{});return this.insert(r,n),r}createComponent(t,e,n,r,i){const o=n||this.parentInjector;!i&&null==t.ngModule&&o&&(i=o.get(Qt,null));const s=t.create(o,r,void 0,i);return this.insert(s.hostView,e),s}insert(t,e){if(t.destroyed)throw new Error("Cannot insert a destroyed View in a ViewContainer!");this.allocateContainerIfNeeded();const n=t._lView,r=this._adjustIndex(e);return $e(n[Pe])?this.move(t,r):(function(t,e,n){const r=Ye+n,i=e.length;n>0&&(e[r-1][Ie]=t),n<i-Ye?(t[Ie]=e[r],Jt(e,Ye+n,t)):(e.push(t),t[Ie]=null),t[Pe]=e;const o=t[Le];null!==o&&e!==o&&function(t,e){const n=t[Ue];null===n?t[Ue]=[e]:n.push(e)}(o,t);const s=t[Ee];null!==s&&s.insertView(t[xe]),t[Se]|=128}(n,this._lContainer,r),Uo(n,!0,Jo(r,this._lContainer)),t.attachToViewContainerRef(this),Jt(this._lContainer[Ge],r,t),t)}move(t,e){if(t.destroyed)throw new Error("Cannot move a destroyed View in a ViewContainer!");const n=this.indexOf(t);return-1!==n&&this.detach(n),this.insert(t,e),t}indexOf(t){return null!==this._lContainer[Ge]?this._lContainer[Ge].indexOf(t):0}remove(t){this.allocateContainerIfNeeded();const e=this._adjustIndex(t,-1);(function(t,e){const n=Go(t,e);n&&Yo(n)})(this._lContainer,e),te(this._lContainer[Ge],e)}detach(t){this.allocateContainerIfNeeded();const e=this._adjustIndex(t,-1),n=Go(this._lContainer,e);return n&&null!=te(this._lContainer[Ge],e)?new ns(n,n[Oe],-1):null}_adjustIndex(t,e=0){return null==t?this.length+e:t}allocateContainerIfNeeded(){null===this._lContainer[Ge]&&(this._lContainer[Ge]=[])}});const o=r[n.index];if($e(o))i=o,i[Ve]=-1;else{let t;if(t=4===n.type?mn(o):r[De].createComment(""),Ke(r)){const e=r[De],i=yn(n,r);Qo(e,Ko(e,i),t,function(t,e){return Lr(t)?t.nextSibling(e):e.nextSibling}(e,i))}else!function(t,e,n){const r=function(t,e){if(Ke(e))return Ko(e[De],yn(t,e));const n=function(t){for(;null!=t.parent&&(4===t.parent.type||5===t.parent.type);)t=t.parent;return t}(t),r=n.parent;if(null==r){const t=e[Te];return 2===t.type?Wo(t,e):function(t){const e=t[Te];return e&&3===e.type?yn(e,qr(t)):null}(e)}{const t=n&&5===n.type;if(t&&2&n.flags)return yn(n,e).parentNode;if(1&r.flags&&!t){const t=e[xe].data,n=t[t[r.index].directiveStart].encapsulation;if(n!==ne.ShadowDom&&n!==ne.Native)return null}return yn(r,e)}}(e,n);if(null!=r){const i=n[De],o=function(t,e){if(2===t.type){const n=No(t,e);return Jo(n.indexOf(e,Ye)-Ye,n)}return 4===t.type||5===t.type?yn(t,e):null}(e.parent||n[Te],n);if(Array.isArray(t))for(let e of t)Zo(i,r,e,o);else Zo(i,r,t,o)}}(t,n,r);r[n.index]=i=new Array(o,!0,-1,r,null,null,n,t,null),Do(r,i)}return new ss(i,n,r)}let us=(()=>{class t{}return t.__NG_ELEMENT_ID__=()=>cs(),t})();const cs=function(t=!1){return function(t,e,n){if(Qe(t)&&!n){const n=t.directiveStart,r=bn(t.index,e);return new ns(r,null,n)}if(3===t.type||0===t.type||4===t.type){const t=Gr(e);return new ns(t,t[Oe],-1)}return null}(zn(),Tn(),t)},hs=new Ot("The presence of this token marks an injector as being the root injector."),ps={},ds={},fs=[];let gs=void 0;function ms(){return void 0===gs&&(gs=new $t),gs}function ys(t,e=null,n=null,r){return e=e||ms(),new vs(t,n,e,r)}class vs{constructor(t,e,n,r=null){this.parent=n,this.records=new Map,this.injectorDefTypes=new Set,this.onDestroy=new Set,this._destroyed=!1;const i=[];Kt([t],t=>this.processInjectorType(t,[],i)),e&&Kt(e,n=>this.processProvider(n,t,e)),this.records.set(Mt,ws(void 0,this)),this.isRootInjector=this.records.has(hs),this.injectorDefTypes.forEach(t=>this.get(t)),this.source=r||("object"==typeof t?null:Ct(t))}get destroyed(){return this._destroyed}destroy(){this.assertNotDestroyed(),this._destroyed=!0;try{this.onDestroy.forEach(t=>t.ngOnDestroy())}finally{this.records.clear(),this.onDestroy.clear(),this.injectorDefTypes.clear()}}get(t,e=Rt,n=dt.Default){this.assertNotDestroyed();const r=Wt(this);try{if(!(n&dt.SkipSelf)){let e=this.records.get(t);if(void 0===e){const n=("function"==typeof(i=t)||"object"==typeof i&&i instanceof Ot)&&vt(t);n&&this.injectableDefInScope(n)&&(e=ws(_s(t),ps),this.records.set(t,e))}if(void 0!==e)return this.hydrate(t,e)}return(n&dt.Self?ms():this.parent).get(t,n&dt.Optional?null:e)}catch(o){if("NullInjectorError"===o.name){if((o[Dt]=o[Dt]||[]).unshift(Ct(t)),r)throw o;return function(t,e,n,r){const i=t[Dt];throw e[zt]&&i.unshift(e[zt]),t.message=function(t,e,n,r=null){t=t&&"\n"===t.charAt(0)&&t.charAt(1)==Ft?t.substr(2):t;let i=Ct(e);if(e instanceof Array)i=e.map(Ct).join(" -> ");else if("object"==typeof e){let t=[];for(let n in e)if(e.hasOwnProperty(n)){let r=e[n];t.push(n+":"+("string"==typeof r?JSON.stringify(r):Ct(r)))}i=`{${t.join(", ")}}`}return`${n}${r?"("+r+")":""}[${i}]: ${t.replace(jt,"\n  ")}`}("\n"+t.message,i,n,r),t[Bt]=i,t[Dt]=null,t}(o,t,"R3InjectorError",this.source)}throw o}finally{Wt(r)}var i}toString(){const t=[];return this.records.forEach((e,n)=>t.push(Ct(n))),`R3Injector[${t.join(", ")}]`}assertNotDestroyed(){if(this._destroyed)throw new Error("Injector has already been destroyed.")}processInjectorType(t,e,n){if(!(t=Pt(t)))return!1;let r=_t(t);const i=null==r&&t.ngModule||void 0,o=void 0===i?t:i,s=-1!==n.indexOf(o);if(void 0!==i&&(r=_t(i)),null==r)return!1;if(this.injectorDefTypes.add(o),this.records.set(o,ws(r.factory,ps)),null!=r.imports&&!s){let t;n.push(o);try{Kt(r.imports,r=>{this.processInjectorType(r,e,n)&&(void 0===t&&(t=[]),t.push(r))})}finally{}if(void 0!==t)for(let e=0;e<t.length;e++){const{ngModule:n,providers:r}=t[e];Kt(r,t=>this.processProvider(t,n,r||fs))}}const a=r.providers;if(null!=a&&!s){const e=t;Kt(a,t=>this.processProvider(t,e,a))}return void 0!==i&&void 0!==t.providers}processProvider(t,e,n){let r=xs(t=Pt(t))?t:Pt(t&&t.provide);const i=function(t,e,n){let r=bs(t,e,n);return Cs(t)?ws(void 0,t.useValue):ws(r,ps)}(t,e,n);if(xs(t)||!0!==t.multi){const t=this.records.get(r);t&&void 0!==t.multi&&Zi()}else{let e=this.records.get(r);e?void 0===e.multi&&Zi():(e=ws(void 0,ps,!0),e.factory=()=>Xt(e.multi),this.records.set(r,e)),r=t,e.multi.push(t)}this.records.set(r,i)}hydrate(t,e){var n;return e.value===ds?function(t){throw new Error(`Cannot instantiate cyclic dependency! ${t}`)}(Ct(t)):e.value===ps&&(e.value=ds,e.value=e.factory()),"object"==typeof e.value&&e.value&&null!==(n=e.value)&&"object"==typeof n&&"function"==typeof n.ngOnDestroy&&this.onDestroy.add(e.value),e.value}injectableDefInScope(t){return!!t.providedIn&&("string"==typeof t.providedIn?"any"===t.providedIn||"root"===t.providedIn&&this.isRootInjector:this.injectorDefTypes.has(t.providedIn))}}function _s(t){const e=vt(t);if(null!==e)return e.factory;const n=_t(t);if(null!==n)return n.factory;if(t instanceof Ot)throw new Error(`Token ${Ct(t)} is missing an ngInjectableDef definition.`);if(t instanceof Function)return function(t){const e=t.length;if(e>0){const n=new Array(e).fill("?");throw new Error(`Can't resolve all parameters for ${Ct(t)}: (${n.join(", ")}).`)}const n=(r=t)&&r[bt]?(console.warn(`DEPRECATED: DI is instantiating a token "${r.name}" that inherits its @Injectable decorator but does not provide one itself.\n`+`This will become an error in v10. Please add @Injectable() to the "${r.name}" class.`),r[bt]):null;var r;return null!==n?()=>n.factory(t):()=>new t}(t);throw new Error("unreachable")}function bs(t,e,n){let r=void 0;if(xs(t))return _s(Pt(t));if(Cs(t))r=()=>Pt(t.useValue);else if((i=t)&&i.useExisting)r=()=>qt(Pt(t.useExisting));else if(function(t){return!(!t||!t.useFactory)}(t))r=()=>t.useFactory(...Xt(t.deps||[]));else{const i=Pt(t&&(t.useClass||t.provide));if(i||function(t,e,n){let r="";throw t&&e&&(r=` - only instances of Provider and Type are allowed, got: [${e.map(t=>t==n?"?"+n+"?":"...").join(", ")}]`),new Error(`Invalid provider for the NgModule '${Ct(t)}'`+r)}(e,n,t),!function(t){return!!t.deps}(t))return _s(i);r=()=>new i(...Xt(t.deps))}var i;return r}function ws(t,e,n=!1){return{factory:t,value:e,multi:n?[]:void 0}}function Cs(t){return null!==t&&"object"==typeof t&&Lt in t}function xs(t){return"function"==typeof t}const Ss=function(t,e,n){return ys({name:n},e,t,n)};let Ps=(()=>{class t{static create(t,e){return Array.isArray(t)?Ss(t,e,""):Ss(t.providers,t.parent,t.name||"")}}return t.THROW_IF_NOT_FOUND=Rt,t.NULL=new $t,t.ngInjectableDef=mt({token:t,providedIn:"any",factory:()=>qt(Mt)}),t.__NG_ELEMENT_ID__=-1,t})(),Is=new Map;const Es=new Set;function Ts(t){return"string"==typeof t?t:t.text()}let As=null;function ks(){if(!As){const t=kt.Symbol;if(t&&t.iterator)As=t.iterator;else{const t=Object.getOwnPropertyNames(Map.prototype);for(let e=0;e<t.length;++e){const n=t[e];"entries"!==n&&"size"!==n&&Map.prototype[n]===Map.prototype.entries&&(As=n)}}}return As}function Os(t,e){return t===e||"number"==typeof t&&"number"==typeof e&&isNaN(t)&&isNaN(e)}function Ms(t,e){const n=Ds(t),r=Ds(e);if(n&&r)return function(t,e,n){const r=t[ks()](),i=e[ks()]();for(;;){const t=r.next(),e=i.next();if(t.done&&e.done)return!0;if(t.done||e.done)return!1;if(!n(t.value,e.value))return!1}}(t,e,Ms);{const i=t&&("object"==typeof t||"function"==typeof t),o=e&&("object"==typeof e||"function"==typeof e);return!(n||!i||r||!o)||Os(t,e)}}class Rs{constructor(t){this.wrapped=t}static wrap(t){return new Rs(t)}static unwrap(t){return Rs.isWrapped(t)?t.wrapped:t}static isWrapped(t){return t instanceof Rs}}function Ds(t){return!!Bs(t)&&(Array.isArray(t)||!(t instanceof Map)&&ks()in t)}function Bs(t){return null!==t&&("function"==typeof t||"object"==typeof t)}function js(t,e=dt.Default){t=Pt(t);const n=Tn();return null==n?qt(t,e):ni(zn(),n,t,e)}function Fs(){var t,e;Tn()[xe].firstTemplatePass&&(t=zn(),e=Ns(),gr(Vs(t),e),gr(Ws(t),e))}function zs(t,e,n,r,i,o){mo();const s=Tn();let a=!1;if(r!==fo){const l=yn(_n(t,s),s),u=s[n];a=Ar(u,r);const c=function(t,e,n){const r=Array.isArray(t)?t:[null];r[0]=e||null;for(let a=1;a<r.length;a+=2)jr(r,a,null);let i,o=null,s=!1;if("string"==typeof e?e.length&&(o=e.split(/\s+/),s=!0):(o=e?Object.keys(e):null,i=e),o)for(let a=0;a<o.length;a++){const t=o[a];bo(r,n?Mr(t):t,!!s||i[t],!0)}return r}(u,r,!i);i?function(t,e,n,r,i,o,s,a){const l=dn(n,Er(t)),u=Ji;!ro(t,e,u,null,i,o,s,a,!1)&&!a||(l.classesBitMask|=1<<u)}(e,s,l,0,n,c,o,a):function(t,e,n,r,i,o,s,a,l){const u=dn(n,Er(t)),c=Ji;!ro(t,e,c,null,i,o,a,l,!0)&&!l||(u.stylesBitMask|=1<<c)}(e,s,l,0,n,c,sr(),o,a)}return a}function Ls(t,e,n,r,i,o){e[r]!==i&&((i||Ir(t))&&function(t,e,n){const r=t[xe];for(let i=0;i<e.length;){const o=e[i++],s=e[i++],a=e[i++],l=t[o],u=r.data[o];u.setInput?u.setInput(l,n,s,a):l[a]=n}}(e,n.inputs[o?"class":"style"],function(t,e,n){let r=e;var i;return t.length>0&&(r=n?Or(t,((i=e)&&"string"!=typeof i&&(i=Object.keys(i).join(" ")),i||"")):Or(t,function(t){let e="";if(t){const n=Object.keys(t);for(let r=0;r<n.length;r++){const i=n[r];e=Or(e,`${i}:${t[i]}`,";")}}return e}(e),";")),r}(function(t){const e=Rr(t);return e&&e[0]||""}(t),i,o)),e[r]=i)}function Hs(){const t=tr(),e=Tn(),n=_n(t,e),r=function(t,e){return 3===t.type?e[De]:null}(n,e),i=yn(n,e),o=Ns(),s=sr();(function(t,e,n,r,i,o,s){const a=n?Er(n):!!r&&Er(r),l=Pr(n,o),u=Pr(r,o);no.length&&(l||u)&&io();const c=dn(i,a),h=lo(t,i,e,n,l,c.classesBitMask,po,null),p=lo(t,i,e,r,u,c.stylesBitMask,ho,s);h&&p?(fn(),a&&function(t){un.delete(t)}(i)):a&&function(t,e){un.set(t,e)}(i,c)})(r,e,Vs(n),Ws(n),i,o,s),or(null)}function Ns(){return Rn+Dn}function Ws(t){return Us(t,!1)}function Vs(t){return Us(t,!0)}function Us(t,e){let n=e?t.classes:t.styles;return Dr(n)||(n=[n||[""],0,fr,1,0,dr],e?t.classes=n:t.styles=n),n}function qs(){return Bn>0}function Gs(t){return!!t&&"function"==typeof t.then}function Ys(t){return!!t&&"function"==typeof t.subscribe}function Xs(t){const e=Qs(t);return void 0===e.component&&(e.component=function(t,e){const n=e[xe].data[t];return 1&n.flags?e[n.directiveStart]:null}(e.nodeIndex,e.lView)),e.component}function $s(t,e=!0){const n=function(t){let e=wn(t);if(e){if(Array.isArray(e)){const r=e;let i,o=void 0,s=void 0;if((n=t)&&n.constructor&&n.constructor.ngComponentDef){if(i=function(t,e){const n=t[xe].components;if(n)for(let r=0;r<n.length;r++){const i=n[r];if(bn(i,t)[Oe]===e)return i}else if(bn(Ne,t)[Oe]===e)return Ne;return-1}(r,t),-1==i)throw new Error("The provided component was not found in the application");o=t}else if(function(t){return t&&t.constructor&&t.constructor.ngDirectiveDef}(t)){if(i=function(t,e){let n=t[xe].firstChild;for(;n;){const r=n.directiveEnd;for(let i=n.directiveStart;i<r;i++)if(t[i]===e)return n.index;n=Qi(n)}return-1}(r,t),-1==i)throw new Error("The provided directive was not found in the application");s=function(t,e,n){const r=e[xe].data[t];let i=r.directiveStart;return 0==i?ie:(1&r.flags&&i++,e.slice(i,r.directiveEnd))}(i,r)}else if(i=$i(r,t),-1==i)return null;const a=mn(r[i]),l=wn(a),u=l&&!Array.isArray(l)?l:Yi(r,i,a);if(o&&void 0===u.component&&(u.component=o,Xi(u.component,u)),s&&void 0===u.directives){u.directives=s;for(let t=0;t<s.length;t++)Xi(s[t],u)}Xi(u.native,u),e=u}}else{const n=t;let r=n;for(;r=r.parentNode;){const t=wn(r);if(t){let r;if(r=Array.isArray(t)?t:t.lView,!r)return null;const i=$i(r,n);if(i>=0){const t=mn(r[i]),n=Yi(r,i,t);Xi(t,n),e=n;break}}}}var n;return e||null}(t);if(!n&&e)throw new Error("Invalid ng target");return n}function Qs(t){if(!(t instanceof Node))throw new Error("Expecting instance of DOM Node");return $s(t)}function Zs(t){return"boolean"==typeof t.useCapture}function Ks(t,e){return t.name==e.name?0:t.name<e.name?-1:1}function Js(t,e){const n=Cn(t)[xe],r=n.data.length-1;(function(t,e,n,r,i,o){const{onChanges:s,onInit:a,doCheck:l}=e;s&&((n.preOrderHooks||(n.preOrderHooks=[])).push(t,s),(n.preOrderCheckHooks||(n.preOrderCheckHooks=[])).push(t,s)),a&&(n.preOrderHooks||(n.preOrderHooks=[])).push(-t,a),l&&((n.preOrderHooks||(n.preOrderHooks=[])).push(t,l),(n.preOrderCheckHooks||(n.preOrderCheckHooks=[])).push(t,l))})(r,e,n),function(t,e){if(t.firstTemplatePass)for(let n=e.directiveStart,r=e.directiveEnd;n<r;n++){const e=t.data[n];e.afterContentInit&&(t.contentHooks||(t.contentHooks=[])).push(-n,e.afterContentInit),e.afterContentChecked&&((t.contentHooks||(t.contentHooks=[])).push(n,e.afterContentChecked),(t.contentCheckHooks||(t.contentCheckHooks=[])).push(n,e.afterContentChecked)),e.afterViewInit&&(t.viewHooks||(t.viewHooks=[])).push(-n,e.afterViewInit),e.afterViewChecked&&((t.viewHooks||(t.viewHooks=[])).push(n,e.afterViewChecked),(t.viewCheckHooks||(t.viewCheckHooks=[])).push(n,e.afterViewChecked)),null!=e.onDestroy&&(t.destroyHooks||(t.destroyHooks=[])).push(n,e.onDestroy)}}(n,{directiveStart:r,directiveEnd:r+1})}class ta{constructor(t,e,n){this.previousValue=t,this.currentValue=e,this.firstChange=n}isFirstChange(){return this.firstChange}}function ea(){return na.ngInherit=!0,na}function na(t){t.type.prototype.ngOnChanges&&(t.setInput=ra,t.onChanges=function(){const t=oa(this),e=t&&t.current;if(e){const n=t.previous;if(n===re)t.previous=e;else for(let t in e)n[t]=e[t];t.current=null,this.ngOnChanges(e)}})}function ra(t,e,n,r){const i=oa(t)||function(t,e){return t[ia]=e}(t,{previous:re,current:null}),o=i.current||(i.current={}),s=i.previous,a=this.declaredInputs[n],l=s[a];o[a]=new ta(l&&l.currentValue,e,s===re),t[r]=e}const ia="__ngSimpleChanges__";function oa(t){return t[ia]||null}function sa(t){let e=Object.getPrototypeOf(t.type.prototype).constructor;for(;e;){let n=void 0;if(Ze(t))n=e.ngComponentDef||e.ngDirectiveDef;else{if(e.ngComponentDef)throw new Error("Directives cannot inherit Components");n=e.ngDirectiveDef}const r=e.ngBaseDef;if(r||n){const e=t;e.inputs=aa(t.inputs),e.declaredInputs=aa(t.declaredInputs),e.outputs=aa(t.outputs)}if(r){const e=r.viewQuery,n=r.contentQueries,i=r.hostBindings;i&&ca(t,i),e&&la(t,e),n&&ua(t,n),gt(t.inputs,r.inputs),gt(t.declaredInputs,r.declaredInputs),gt(t.outputs,r.outputs)}if(n){const e=n.hostBindings;e&&ca(t,e);const r=n.viewQuery,i=n.contentQueries;r&&la(t,r),i&&ua(t,i),gt(t.inputs,n.inputs),gt(t.declaredInputs,n.declaredInputs),gt(t.outputs,n.outputs),t.afterContentChecked=t.afterContentChecked||n.afterContentChecked,t.afterContentInit=t.afterContentInit||n.afterContentInit,t.afterViewChecked=t.afterViewChecked||n.afterViewChecked,t.afterViewInit=t.afterViewInit||n.afterViewInit,t.doCheck=t.doCheck||n.doCheck,t.onDestroy=t.onDestroy||n.onDestroy,t.onInit=t.onInit||n.onInit;const o=n.features;if(o)for(const n of o)n&&n.ngInherit&&n(t)}else{const n=e.prototype;n&&(t.afterContentChecked=t.afterContentChecked||n.ngAfterContentChecked,t.afterContentInit=t.afterContentInit||n.ngAfterContentInit,t.afterViewChecked=t.afterViewChecked||n.ngAfterViewChecked,t.afterViewInit=t.afterViewInit||n.ngAfterViewInit,t.doCheck=t.doCheck||n.ngDoCheck,t.onDestroy=t.onDestroy||n.ngOnDestroy,t.onInit=t.onInit||n.ngOnInit,n.ngOnChanges&&ea()(t))}e=Object.getPrototypeOf(e)}}function aa(t){return t===re?{}:t===ie?[]:t}function la(t,e){const n=t.viewQuery;t.viewQuery=n?(t,r)=>{e(t,r),n(t,r)}:e}function ua(t,e){const n=t.contentQueries;t.contentQueries=n?(t,r,i)=>{e(t,r,i),n(t,r,i)}:e}function ca(t,e){const n=t.hostBindings;e!==n&&(t.hostBindings=n?(t,r,i)=>{Fn(1);try{e(t,r,i)}finally{Fn(-1)}n(t,r,i)}:e)}function ha(t,e,n,r,i){if(t=Pt(t),Array.isArray(t))for(let o=0;o<t.length;o++)ha(t[o],e,n,r,i);else{const o=Tn(),s=o[xe];let a=xs(t)?t:Pt(t.provide),l=bs(t);const u=zn(),c=65535&u.providerIndexes,h=u.directiveStart,p=u.providerIndexes>>16;if(t.useClass||xs(t)){const n=(t.useClass||t).prototype.ngOnDestroy;n&&(s.destroyHooks||(s.destroyHooks=[])).push(e.length,n)}if(xs(t)||!t.multi){const t=new rn(l,i,js),r=da(a,e,i?c:c+p,h);-1==r?(ei(Zr(u,o),s,a),e.push(a),u.directiveStart++,u.directiveEnd++,i&&(u.providerIndexes+=65536),n.push(t),o.push(t)):(n[r]=t,o[r]=t)}else{const t=da(a,e,c+p,h),d=da(a,e,c,c+p),f=t>=0&&n[t],g=d>=0&&n[d];if(i&&!g||!i&&!f){ei(Zr(u,o),s,a);const t=function(t,e,n,r,i){const o=new rn(t,n,js);return o.multi=[],o.index=e,o.componentProviders=0,pa(o,i,r&&!n),o}(i?ga:fa,n.length,i,r,l);!i&&g&&(n[d].providerFactory=t),e.push(a),u.directiveStart++,u.directiveEnd++,i&&(u.providerIndexes+=65536),n.push(t),o.push(t)}else pa(n[i?d:t],l,!i&&r);!i&&r&&g&&n[d].componentProviders++}}}function pa(t,e,n){t.multi.push(e),n&&t.componentProviders++}function da(t,e,n,r){for(let i=n;i<r;i++)if(e[i]===t)return i;return-1}function fa(t,e,n,r){return ma(this.multi,[])}function ga(t,e,n,r){const i=this.multi;let o;if(this.providerFactory){const t=this.providerFactory.componentProviders,s=oi(e,n,this.providerFactory.index,r);o=s.slice(0,t),ma(i,o);for(let e=t;e<s.length;e++)o.push(s[e])}else o=[],ma(i,o);return o}function ma(t,e){for(let n=0;n<t.length;n++)e.push((0,t[n])());return e}function ya(t,e=[]){return n=>{n.providersResolver=(n,r)=>(function(t,e,n){const r=Tn()[xe];if(r.firstTemplatePass){const i=Ze(t);ha(n,r.data,r.blueprint,i,!0),ha(e,r.data,r.blueprint,i,!1)}})(n,r?r(t):t,e)}}class va{}class _a{}function ba(t){const e=Error(`No component factory found for ${Ct(t)}. Did you add it to @NgModule.entryComponents?`);return e[wa]=t,e}const wa="ngComponent";class Ca{resolveComponentFactory(t){throw ba(t)}}let xa=(()=>{class t{}return t.NULL=new Ca,t})();class Sa{constructor(t,e,n){this._parent=e,this._ngModule=n,this._factories=new Map;for(let r=0;r<t.length;r++){const e=t[r];this._factories.set(e.componentType,e)}}resolveComponentFactory(t){let e=this._factories.get(t);if(!e&&this._parent&&(e=this._parent.resolveComponentFactory(t)),!e)throw ba(t);return new Pa(e,this._ngModule)}}class Pa extends _a{constructor(t,e){super(),this.factory=t,this.ngModule=e,this.selector=t.selector,this.componentType=t.componentType,this.ngContentSelectors=t.ngContentSelectors,this.inputs=t.inputs,this.outputs=t.outputs}create(t,e,n,r){return this.factory.create(t,e,n,r||this.ngModule)}}let Ia=(()=>{class t{constructor(t){this.nativeElement=t}}return t.__NG_ELEMENT_ID__=()=>Ea(t),t})();const Ea=function(t){return as(t,zn(),Tn())};class Ta{}class Aa{}const ka=function(){var t={Important:1,DashCase:2};return t[t.Important]="Important",t[t.DashCase]="DashCase",t}();let Oa=(()=>{class t{}return t.__NG_ELEMENT_ID__=()=>Ma(),t})();const Ma=function(){const t=Tn(),e=bn(zn().index,t);return function(t){const e=t[De];if(Lr(e))return e;throw new Error("Cannot inject Renderer2 when the application uses Renderer3!")}(Xe(e)?e:t)};class Ra{constructor(t){this.full=t,this.major=t.split(".")[0],this.minor=t.split(".")[1],this.patch=t.split(".").slice(2).join(".")}}const Da=new Ra("8.2.14");class Ba{constructor(){}supports(t){return Ds(t)}create(t){return new Fa(t)}}const ja=(t,e)=>e;class Fa{constructor(t){this.length=0,this._linkedRecords=null,this._unlinkedRecords=null,this._previousItHead=null,this._itHead=null,this._itTail=null,this._additionsHead=null,this._additionsTail=null,this._movesHead=null,this._movesTail=null,this._removalsHead=null,this._removalsTail=null,this._identityChangesHead=null,this._identityChangesTail=null,this._trackByFn=t||ja}forEachItem(t){let e;for(e=this._itHead;null!==e;e=e._next)t(e)}forEachOperation(t){let e=this._itHead,n=this._removalsHead,r=0,i=null;for(;e||n;){const o=!n||e&&e.currentIndex<Na(n,r,i)?e:n,s=Na(o,r,i),a=o.currentIndex;if(o===n)r--,n=n._nextRemoved;else if(e=e._next,null==o.previousIndex)r++;else{i||(i=[]);const t=s-r,e=a-r;if(t!=e){for(let n=0;n<t;n++){const r=n<i.length?i[n]:i[n]=0,o=r+n;e<=o&&o<t&&(i[n]=r+1)}i[o.previousIndex]=e-t}}s!==a&&t(o,s,a)}}forEachPreviousItem(t){let e;for(e=this._previousItHead;null!==e;e=e._nextPrevious)t(e)}forEachAddedItem(t){let e;for(e=this._additionsHead;null!==e;e=e._nextAdded)t(e)}forEachMovedItem(t){let e;for(e=this._movesHead;null!==e;e=e._nextMoved)t(e)}forEachRemovedItem(t){let e;for(e=this._removalsHead;null!==e;e=e._nextRemoved)t(e)}forEachIdentityChange(t){let e;for(e=this._identityChangesHead;null!==e;e=e._nextIdentityChange)t(e)}diff(t){if(null==t&&(t=[]),!Ds(t))throw new Error(`Error trying to diff '${Ct(t)}'. Only arrays and iterables are allowed`);return this.check(t)?this:null}onDestroy(){}check(t){this._reset();let e,n,r,i=this._itHead,o=!1;if(Array.isArray(t)){this.length=t.length;for(let e=0;e<this.length;e++)n=t[e],r=this._trackByFn(e,n),null!==i&&Os(i.trackById,r)?(o&&(i=this._verifyReinsertion(i,n,r,e)),Os(i.item,n)||this._addIdentityChange(i,n)):(i=this._mismatch(i,n,r,e),o=!0),i=i._next}else e=0,function(t,e){if(Array.isArray(t))for(let n=0;n<t.length;n++)e(t[n]);else{const n=t[ks()]();let r;for(;!(r=n.next()).done;)e(r.value)}}(t,t=>{r=this._trackByFn(e,t),null!==i&&Os(i.trackById,r)?(o&&(i=this._verifyReinsertion(i,t,r,e)),Os(i.item,t)||this._addIdentityChange(i,t)):(i=this._mismatch(i,t,r,e),o=!0),i=i._next,e++}),this.length=e;return this._truncate(i),this.collection=t,this.isDirty}get isDirty(){return null!==this._additionsHead||null!==this._movesHead||null!==this._removalsHead||null!==this._identityChangesHead}_reset(){if(this.isDirty){let t,e;for(t=this._previousItHead=this._itHead;null!==t;t=t._next)t._nextPrevious=t._next;for(t=this._additionsHead;null!==t;t=t._nextAdded)t.previousIndex=t.currentIndex;for(this._additionsHead=this._additionsTail=null,t=this._movesHead;null!==t;t=e)t.previousIndex=t.currentIndex,e=t._nextMoved;this._movesHead=this._movesTail=null,this._removalsHead=this._removalsTail=null,this._identityChangesHead=this._identityChangesTail=null}}_mismatch(t,e,n,r){let i;return null===t?i=this._itTail:(i=t._prev,this._remove(t)),null!==(t=null===this._linkedRecords?null:this._linkedRecords.get(n,r))?(Os(t.item,e)||this._addIdentityChange(t,e),this._moveAfter(t,i,r)):null!==(t=null===this._unlinkedRecords?null:this._unlinkedRecords.get(n,null))?(Os(t.item,e)||this._addIdentityChange(t,e),this._reinsertAfter(t,i,r)):t=this._addAfter(new za(e,n),i,r),t}_verifyReinsertion(t,e,n,r){let i=null===this._unlinkedRecords?null:this._unlinkedRecords.get(n,null);return null!==i?t=this._reinsertAfter(i,t._prev,r):t.currentIndex!=r&&(t.currentIndex=r,this._addToMoves(t,r)),t}_truncate(t){for(;null!==t;){const e=t._next;this._addToRemovals(this._unlink(t)),t=e}null!==this._unlinkedRecords&&this._unlinkedRecords.clear(),null!==this._additionsTail&&(this._additionsTail._nextAdded=null),null!==this._movesTail&&(this._movesTail._nextMoved=null),null!==this._itTail&&(this._itTail._next=null),null!==this._removalsTail&&(this._removalsTail._nextRemoved=null),null!==this._identityChangesTail&&(this._identityChangesTail._nextIdentityChange=null)}_reinsertAfter(t,e,n){null!==this._unlinkedRecords&&this._unlinkedRecords.remove(t);const r=t._prevRemoved,i=t._nextRemoved;return null===r?this._removalsHead=i:r._nextRemoved=i,null===i?this._removalsTail=r:i._prevRemoved=r,this._insertAfter(t,e,n),this._addToMoves(t,n),t}_moveAfter(t,e,n){return this._unlink(t),this._insertAfter(t,e,n),this._addToMoves(t,n),t}_addAfter(t,e,n){return this._insertAfter(t,e,n),this._additionsTail=null===this._additionsTail?this._additionsHead=t:this._additionsTail._nextAdded=t,t}_insertAfter(t,e,n){const r=null===e?this._itHead:e._next;return t._next=r,t._prev=e,null===r?this._itTail=t:r._prev=t,null===e?this._itHead=t:e._next=t,null===this._linkedRecords&&(this._linkedRecords=new Ha),this._linkedRecords.put(t),t.currentIndex=n,t}_remove(t){return this._addToRemovals(this._unlink(t))}_unlink(t){null!==this._linkedRecords&&this._linkedRecords.remove(t);const e=t._prev,n=t._next;return null===e?this._itHead=n:e._next=n,null===n?this._itTail=e:n._prev=e,t}_addToMoves(t,e){return t.previousIndex===e?t:(this._movesTail=null===this._movesTail?this._movesHead=t:this._movesTail._nextMoved=t,t)}_addToRemovals(t){return null===this._unlinkedRecords&&(this._unlinkedRecords=new Ha),this._unlinkedRecords.put(t),t.currentIndex=null,t._nextRemoved=null,null===this._removalsTail?(this._removalsTail=this._removalsHead=t,t._prevRemoved=null):(t._prevRemoved=this._removalsTail,this._removalsTail=this._removalsTail._nextRemoved=t),t}_addIdentityChange(t,e){return t.item=e,this._identityChangesTail=null===this._identityChangesTail?this._identityChangesHead=t:this._identityChangesTail._nextIdentityChange=t,t}}class za{constructor(t,e){this.item=t,this.trackById=e,this.currentIndex=null,this.previousIndex=null,this._nextPrevious=null,this._prev=null,this._next=null,this._prevDup=null,this._nextDup=null,this._prevRemoved=null,this._nextRemoved=null,this._nextAdded=null,this._nextMoved=null,this._nextIdentityChange=null}}class La{constructor(){this._head=null,this._tail=null}add(t){null===this._head?(this._head=this._tail=t,t._nextDup=null,t._prevDup=null):(this._tail._nextDup=t,t._prevDup=this._tail,t._nextDup=null,this._tail=t)}get(t,e){let n;for(n=this._head;null!==n;n=n._nextDup)if((null===e||e<=n.currentIndex)&&Os(n.trackById,t))return n;return null}remove(t){const e=t._prevDup,n=t._nextDup;return null===e?this._head=n:e._nextDup=n,null===n?this._tail=e:n._prevDup=e,null===this._head}}class Ha{constructor(){this.map=new Map}put(t){const e=t.trackById;let n=this.map.get(e);n||(n=new La,this.map.set(e,n)),n.add(t)}get(t,e){const n=this.map.get(t);return n?n.get(t,e):null}remove(t){const e=t.trackById;return this.map.get(e).remove(t)&&this.map.delete(e),t}get isEmpty(){return 0===this.map.size}clear(){this.map.clear()}}function Na(t,e,n){const r=t.previousIndex;if(null===r)return r;let i=0;return n&&r<n.length&&(i=n[r]),r+e+i}class Wa{constructor(){}supports(t){return t instanceof Map||Bs(t)}create(){return new Va}}class Va{constructor(){this._records=new Map,this._mapHead=null,this._appendAfter=null,this._previousMapHead=null,this._changesHead=null,this._changesTail=null,this._additionsHead=null,this._additionsTail=null,this._removalsHead=null,this._removalsTail=null}get isDirty(){return null!==this._additionsHead||null!==this._changesHead||null!==this._removalsHead}forEachItem(t){let e;for(e=this._mapHead;null!==e;e=e._next)t(e)}forEachPreviousItem(t){let e;for(e=this._previousMapHead;null!==e;e=e._nextPrevious)t(e)}forEachChangedItem(t){let e;for(e=this._changesHead;null!==e;e=e._nextChanged)t(e)}forEachAddedItem(t){let e;for(e=this._additionsHead;null!==e;e=e._nextAdded)t(e)}forEachRemovedItem(t){let e;for(e=this._removalsHead;null!==e;e=e._nextRemoved)t(e)}diff(t){if(t){if(!(t instanceof Map||Bs(t)))throw new Error(`Error trying to diff '${Ct(t)}'. Only maps and objects are allowed`)}else t=new Map;return this.check(t)?this:null}onDestroy(){}check(t){this._reset();let e=this._mapHead;if(this._appendAfter=null,this._forEach(t,(t,n)=>{if(e&&e.key===n)this._maybeAddToChanges(e,t),this._appendAfter=e,e=e._next;else{const r=this._getOrCreateRecordForKey(n,t);e=this._insertBeforeOrAppend(e,r)}}),e){e._prev&&(e._prev._next=null),this._removalsHead=e;for(let t=e;null!==t;t=t._nextRemoved)t===this._mapHead&&(this._mapHead=null),this._records.delete(t.key),t._nextRemoved=t._next,t.previousValue=t.currentValue,t.currentValue=null,t._prev=null,t._next=null}return this._changesTail&&(this._changesTail._nextChanged=null),this._additionsTail&&(this._additionsTail._nextAdded=null),this.isDirty}_insertBeforeOrAppend(t,e){if(t){const n=t._prev;return e._next=t,e._prev=n,t._prev=e,n&&(n._next=e),t===this._mapHead&&(this._mapHead=e),this._appendAfter=t,t}return this._appendAfter?(this._appendAfter._next=e,e._prev=this._appendAfter):this._mapHead=e,this._appendAfter=e,null}_getOrCreateRecordForKey(t,e){if(this._records.has(t)){const n=this._records.get(t);this._maybeAddToChanges(n,e);const r=n._prev,i=n._next;return r&&(r._next=i),i&&(i._prev=r),n._next=null,n._prev=null,n}const n=new Ua(t);return this._records.set(t,n),n.currentValue=e,this._addToAdditions(n),n}_reset(){if(this.isDirty){let t;for(this._previousMapHead=this._mapHead,t=this._previousMapHead;null!==t;t=t._next)t._nextPrevious=t._next;for(t=this._changesHead;null!==t;t=t._nextChanged)t.previousValue=t.currentValue;for(t=this._additionsHead;null!=t;t=t._nextAdded)t.previousValue=t.currentValue;this._changesHead=this._changesTail=null,this._additionsHead=this._additionsTail=null,this._removalsHead=null}}_maybeAddToChanges(t,e){Os(e,t.currentValue)||(t.previousValue=t.currentValue,t.currentValue=e,this._addToChanges(t))}_addToAdditions(t){null===this._additionsHead?this._additionsHead=this._additionsTail=t:(this._additionsTail._nextAdded=t,this._additionsTail=t)}_addToChanges(t){null===this._changesHead?this._changesHead=this._changesTail=t:(this._changesTail._nextChanged=t,this._changesTail=t)}_forEach(t,e){t instanceof Map?t.forEach(e):Object.keys(t).forEach(n=>e(t[n],n))}}class Ua{constructor(t){this.key=t,this.previousValue=null,this.currentValue=null,this._nextPrevious=null,this._next=null,this._prev=null,this._nextAdded=null,this._nextRemoved=null,this._nextChanged=null}}let qa=(()=>{class t{constructor(t){this.factories=t}static create(e,n){if(null!=n){const t=n.factories.slice();e=e.concat(t)}return new t(e)}static extend(e){return{provide:t,useFactory:n=>{if(!n)throw new Error("Cannot extend IterableDiffers without a parent injector");return t.create(e,n)},deps:[[t,new pt,new ct]]}}find(t){const e=this.factories.find(e=>e.supports(t));if(null!=e)return e;throw new Error(`Cannot find a differ supporting object '${t}' of type '${n=t,n.name||typeof n}'`);var n}}return t.ngInjectableDef=mt({token:t,providedIn:"root",factory:()=>new t([new Ba])}),t})(),Ga=(()=>{class t{constructor(t){this.factories=t}static create(e,n){if(n){const t=n.factories.slice();e=e.concat(t)}return new t(e)}static extend(e){return{provide:t,useFactory:n=>{if(!n)throw new Error("Cannot extend KeyValueDiffers without a parent injector");return t.create(e,n)},deps:[[t,new pt,new ct]]}}find(t){const e=this.factories.find(e=>e.supports(t));if(e)return e;throw new Error(`Cannot find a differ supporting object '${t}'`)}}return t.ngInjectableDef=mt({token:t,providedIn:"root",factory:()=>new t([new Wa])}),t})();const Ya=[new Wa],Xa=new qa([new Ba]),$a=new Ga(Ya);let Qa=(()=>{class t{}return t.__NG_ELEMENT_ID__=()=>Za(t,Ia),t})();const Za=function(t,e){return function(t,e,n,r){return os||(os=class extends t{constructor(t,e,n){super(),this._declarationView=t,this._declarationTContainer=e,this.elementRef=n}createEmbeddedView(t){const e=this._declarationTContainer.tViews,n=function(t,e,n,r){const i=Nn(),o=zn();Ln(null,!0);const s=Po(n,t,e,16,null,null);return s[ze]=n,Io(t,null,-1,s),t.firstTemplatePass&&(t.node.injectorIndex=r),Ln(o,i),s}(e,t,this._declarationView,this._declarationTContainer.injectorIndex);n[Le]=this._declarationView[this._declarationTContainer.index];const r=this._declarationView[Ee];null!==r&&(n[Ee]=r.createEmbeddedView(e)),Eo(n,e,t);const i=new ns(n,t,-1);return i._tViewNode=n[Te],i}}),0===n.type?new os(r,n,as(e,n,r)):null}(t,e,zn(),Tn())};let Ka=(()=>{class t{}return t.__NG_ELEMENT_ID__=()=>Ja(t,Ia),t})();const Ja=function(t,e){return ls(t,e,zn(),Tn())};function tl(t,e,n,r){let i=`ExpressionChangedAfterItHasBeenCheckedError: Expression has changed after it was checked. Previous value: '${e}'. Current value: '${n}'.`;return r&&(i+=" It seems like the view has been created after its parent and its children have been dirty checked. Has it been created in a change detection hook ?"),function(t,e){const n=new Error(t);return el(n,e),n}(i,t)}function el(t,e){t[ci]=e,t[pi]=e.logError.bind(e)}function nl(t){return new Error(`ViewDestroyedError: Attempt to use a destroyed view: ${t}`)}function rl(t,e,n){const r=t.state,i=1792&r;return i===e?(t.state=-1793&r|n,t.initIndex=-1,!0):i===n}function il(t,e,n){return(1792&t.state)===e&&t.initIndex<=n&&(t.initIndex=n+1,!0)}function ol(t,e){return t.nodes[e]}function sl(t,e){return t.nodes[e]}function al(t,e){return t.nodes[e]}function ll(t,e){return t.nodes[e]}function ul(t,e){return t.nodes[e]}const cl={setCurrentNode:void 0,createRootView:void 0,createEmbeddedView:void 0,createComponentView:void 0,createNgModuleRef:void 0,overrideProvider:void 0,overrideComponentView:void 0,clearOverrides:void 0,checkAndUpdateView:void 0,checkNoChangesView:void 0,destroyView:void 0,resolveDep:void 0,createDebugContext:void 0,handleEvent:void 0,updateDirectives:void 0,updateRenderer:void 0,dirtyParentQueries:void 0},hl=()=>{},pl=new Map;function dl(t){let e=pl.get(t);return e||(e=Ct(t)+"_"+pl.size,pl.set(t,e)),e}function fl(t,e,n,r){if(Rs.isWrapped(r)){r=Rs.unwrap(r);const i=t.def.nodes[e].bindingIndex+n,o=Rs.unwrap(t.oldValues[i]);t.oldValues[i]=new Rs(o)}return r}const gl="$$undefined",ml="$$empty";function yl(t){return{id:gl,styles:t.styles,encapsulation:t.encapsulation,data:t.data}}let vl=0;function _l(t,e,n,r){return!(!(2&t.state)&&Os(t.oldValues[e.bindingIndex+n],r))}function bl(t,e,n,r){return!!_l(t,e,n,r)&&(t.oldValues[e.bindingIndex+n]=r,!0)}function wl(t,e,n,r){const i=t.oldValues[e.bindingIndex+n];if(1&t.state||!Ms(i,r)){const o=e.bindings[n].name;throw tl(cl.createDebugContext(t,e.nodeIndex),`${o}: ${i}`,`${o}: ${r}`,0!=(1&t.state))}}function Cl(t){let e=t;for(;e;)2&e.def.flags&&(e.state|=8),e=e.viewContainerParent||e.parent}function xl(t,e){let n=t;for(;n&&n!==e;)n.state|=64,n=n.viewContainerParent||n.parent}function Sl(t,e,n,r){try{return Cl(33554432&t.def.nodes[e].flags?sl(t,e).componentView:t),cl.handleEvent(t,e,n,r)}catch(i){t.root.errorHandler.handleError(i)}}function Pl(t){return t.parent?sl(t.parent,t.parentNodeDef.nodeIndex):null}function Il(t){return t.parent?t.parentNodeDef.parent:null}function El(t,e){switch(201347067&e.flags){case 1:return sl(t,e.nodeIndex).renderElement;case 2:return ol(t,e.nodeIndex).renderText}}function Tl(t){return!!t.parent&&!!(32768&t.parentNodeDef.flags)}function Al(t){return!(!t.parent||32768&t.parentNodeDef.flags)}function kl(t){return 1<<t%32}function Ol(t){const e={};let n=0;const r={};return t&&t.forEach(([t,i])=>{"number"==typeof t?(e[t]=i,n|=kl(t)):r[t]=i}),{matchedQueries:e,references:r,matchedQueryIds:n}}function Ml(t,e){return t.map(t=>{let n,r;return Array.isArray(t)?[r,n]=t:(r=0,n=t),n&&("function"==typeof n||"object"==typeof n)&&e&&Object.defineProperty(n,zt,{value:e,configurable:!0}),{flags:r,token:n,tokenKey:dl(n)}})}function Rl(t,e,n){let r=n.renderParent;return r?0==(1&r.flags)||0==(33554432&r.flags)||r.element.componentRendererType&&r.element.componentRendererType.encapsulation===ne.Native?sl(t,n.renderParent.nodeIndex).renderElement:void 0:e}const Dl=new WeakMap;function Bl(t){let e=Dl.get(t);return e||(e=t(()=>hl),e.factory=t,Dl.set(t,e)),e}function jl(t,e,n,r,i){3===e&&(n=t.renderer.parentNode(El(t,t.def.lastRenderRootNode))),Fl(t,e,0,t.def.nodes.length-1,n,r,i)}function Fl(t,e,n,r,i,o,s){for(let a=n;a<=r;a++){const n=t.def.nodes[a];11&n.flags&&Ll(t,n,e,i,o,s),a+=n.childCount}}function zl(t,e,n,r,i,o){let s=t;for(;s&&!Tl(s);)s=s.parent;const a=s.parent,l=Il(s),u=l.nodeIndex+l.childCount;for(let c=l.nodeIndex+1;c<=u;c++){const t=a.def.nodes[c];t.ngContentIndex===e&&Ll(a,t,n,r,i,o),c+=t.childCount}if(!a.parent){const s=t.root.projectableNodes[e];if(s)for(let e=0;e<s.length;e++)Hl(t,s[e],n,r,i,o)}}function Ll(t,e,n,r,i,o){if(8&e.flags)zl(t,e.ngContent.index,n,r,i,o);else{const s=El(t,e);if(3===n&&33554432&e.flags&&48&e.bindingFlags?(16&e.bindingFlags&&Hl(t,s,n,r,i,o),32&e.bindingFlags&&Hl(sl(t,e.nodeIndex).componentView,s,n,r,i,o)):Hl(t,s,n,r,i,o),16777216&e.flags){const s=sl(t,e.nodeIndex).viewContainer._embeddedViews;for(let t=0;t<s.length;t++)jl(s[t],n,r,i,o)}1&e.flags&&!e.element.name&&Fl(t,n,e.nodeIndex+1,e.nodeIndex+e.childCount,r,i,o)}}function Hl(t,e,n,r,i,o){const s=t.renderer;switch(n){case 1:s.appendChild(r,e);break;case 2:s.insertBefore(r,e,i);break;case 3:s.removeChild(r,e);break;case 0:o.push(e)}}const Nl=/^:([^:]+):(.+)$/;function Wl(t){if(":"===t[0]){const e=t.match(Nl);return[e[1],e[2]]}return["",t]}function Vl(t){let e=0;for(let n=0;n<t.length;n++)e|=t[n].flags;return e}function Ul(t,e,n,r,i,o,s,a,l,u,c,h,p,d,f,g,m,y,v,_){switch(t){case 1:return e+ql(n)+r;case 2:return e+ql(n)+r+ql(i)+o;case 3:return e+ql(n)+r+ql(i)+o+ql(s)+a;case 4:return e+ql(n)+r+ql(i)+o+ql(s)+a+ql(l)+u;case 5:return e+ql(n)+r+ql(i)+o+ql(s)+a+ql(l)+u+ql(c)+h;case 6:return e+ql(n)+r+ql(i)+o+ql(s)+a+ql(l)+u+ql(c)+h+ql(p)+d;case 7:return e+ql(n)+r+ql(i)+o+ql(s)+a+ql(l)+u+ql(c)+h+ql(p)+d+ql(f)+g;case 8:return e+ql(n)+r+ql(i)+o+ql(s)+a+ql(l)+u+ql(c)+h+ql(p)+d+ql(f)+g+ql(m)+y;case 9:return e+ql(n)+r+ql(i)+o+ql(s)+a+ql(l)+u+ql(c)+h+ql(p)+d+ql(f)+g+ql(m)+y+ql(v)+_;default:throw new Error("Does not support more than 9 expressions")}}function ql(t){return null!=t?t.toString():""}const Gl=new Object,Yl=dl(Ps),Xl=dl(Mt),$l=dl(Qt);function Ql(t,e,n,r){return n=Pt(n),{index:-1,deps:Ml(r,Ct(e)),flags:t,token:e,value:n}}function Zl(t,e,n=Ps.THROW_IF_NOT_FOUND){const r=Wt(t);try{if(8&e.flags)return e.token;if(2&e.flags&&(n=null),1&e.flags)return t._parent.get(e.token,n);const s=e.tokenKey;switch(s){case Yl:case Xl:case $l:return t}const a=t._def.providersByKey[s];let l;if(a){let e=t._providers[a.index];return void 0===e&&(e=t._providers[a.index]=Kl(t,a)),e===Gl?void 0:e}if((l=vt(e.token))&&(i=t,null!=(o=l).providedIn&&(function(t,e){return t._def.modules.indexOf(e)>-1}(i,o.providedIn)||"root"===o.providedIn&&i._def.isRoot))){const n=t._providers.length;return t._def.providers[n]=t._def.providersByKey[e.tokenKey]={flags:5120,value:l.factory,deps:[],index:n,token:e.token},t._providers[n]=Gl,t._providers[n]=Kl(t,t._def.providersByKey[e.tokenKey])}return 4&e.flags?n:t._parent.get(e.token,n)}finally{Wt(r)}var i,o}function Kl(t,e){let n;switch(201347067&e.flags){case 512:n=function(t,e,n){const r=n.length;switch(r){case 0:return new e;case 1:return new e(Zl(t,n[0]));case 2:return new e(Zl(t,n[0]),Zl(t,n[1]));case 3:return new e(Zl(t,n[0]),Zl(t,n[1]),Zl(t,n[2]));default:const i=new Array(r);for(let e=0;e<r;e++)i[e]=Zl(t,n[e]);return new e(...i)}}(t,e.value,e.deps);break;case 1024:n=function(t,e,n){const r=n.length;switch(r){case 0:return e();case 1:return e(Zl(t,n[0]));case 2:return e(Zl(t,n[0]),Zl(t,n[1]));case 3:return e(Zl(t,n[0]),Zl(t,n[1]),Zl(t,n[2]));default:const i=Array(r);for(let e=0;e<r;e++)i[e]=Zl(t,n[e]);return e(...i)}}(t,e.value,e.deps);break;case 2048:n=Zl(t,e.deps[0]);break;case 256:n=e.value}return n===Gl||null===n||"object"!=typeof n||131072&e.flags||"function"!=typeof n.ngOnDestroy||(e.flags|=131072),void 0===n?Gl:n}function Jl(t,e){const n=t.viewContainer._embeddedViews;if((null==e||e>=n.length)&&(e=n.length-1),e<0)return null;const r=n[e];return r.viewContainerParent=null,te(n,e),cl.dirtyParentQueries(r),eu(r),r}function tu(t,e,n){const r=e?El(e,e.def.lastRenderRootNode):t.renderElement,i=n.renderer.parentNode(r),o=n.renderer.nextSibling(r);jl(n,2,i,o,void 0)}function eu(t){jl(t,3,null,null,void 0)}const nu=new Object;function ru(t,e,n,r,i,o){return new iu(t,e,n,r,i,o)}class iu extends _a{constructor(t,e,n,r,i,o){super(),this.selector=t,this.componentType=e,this._inputs=r,this._outputs=i,this.ngContentSelectors=o,this.viewDefFactory=n}get inputs(){const t=[],e=this._inputs;for(let n in e)t.push({propName:n,templateName:e[n]});return t}get outputs(){const t=[];for(let e in this._outputs)t.push({propName:e,templateName:this._outputs[e]});return t}create(t,e,n,r){if(!r)throw new Error("ngModule should be provided");const i=Bl(this.viewDefFactory),o=i.nodes[0].element.componentProvider.nodeIndex,s=cl.createRootView(t,e||[],n,i,r,nu),a=al(s,o).instance;return n&&s.renderer.setAttribute(sl(s,0).renderElement,"ng-version",Da.full),new ou(s,new uu(s),a)}}class ou extends va{constructor(t,e,n){super(),this._view=t,this._viewRef=e,this._component=n,this._elDef=this._view.def.nodes[0],this.hostView=e,this.changeDetectorRef=e,this.instance=n}get location(){return new Ia(sl(this._view,this._elDef.nodeIndex).renderElement)}get injector(){return new du(this._view,this._elDef)}get componentType(){return this._component.constructor}destroy(){this._viewRef.destroy()}onDestroy(t){this._viewRef.onDestroy(t)}}function su(t,e,n){return new au(t,e,n)}class au{constructor(t,e,n){this._view=t,this._elDef=e,this._data=n,this._embeddedViews=[]}get element(){return new Ia(this._data.renderElement)}get injector(){return new du(this._view,this._elDef)}get parentInjector(){let t=this._view,e=this._elDef.parent;for(;!e&&t;)e=Il(t),t=t.parent;return t?new du(t,e):new du(this._view,null)}clear(){for(let t=this._embeddedViews.length-1;t>=0;t--){const e=Jl(this._data,t);cl.destroyView(e)}}get(t){const e=this._embeddedViews[t];if(e){const t=new uu(e);return t.attachToViewContainerRef(this),t}return null}get length(){return this._embeddedViews.length}createEmbeddedView(t,e,n){const r=t.createEmbeddedView(e||{});return this.insert(r,n),r}createComponent(t,e,n,r,i){const o=n||this.parentInjector;i||t instanceof Pa||(i=o.get(Qt));const s=t.create(o,r,void 0,i);return this.insert(s.hostView,e),s}insert(t,e){if(t.destroyed)throw new Error("Cannot insert a destroyed View in a ViewContainer!");const n=t;return function(t,e,n,r){let i=e.viewContainer._embeddedViews;null==n&&(n=i.length),r.viewContainerParent=t,Jt(i,n,r),function(t,e){const n=Pl(e);if(!n||n===t||16&e.state)return;e.state|=16;let r=n.template._projectedViews;r||(r=n.template._projectedViews=[]),r.push(e),function(t,e){if(4&e.flags)return;t.nodeFlags|=4,e.flags|=4;let n=e.parent;for(;n;)n.childFlags|=4,n=n.parent}(e.parent.def,e.parentNodeDef)}(e,r),cl.dirtyParentQueries(r),tu(e,n>0?i[n-1]:null,r)}(this._view,this._data,e,n._view),n.attachToViewContainerRef(this),t}move(t,e){if(t.destroyed)throw new Error("Cannot move a destroyed View in a ViewContainer!");const n=this._embeddedViews.indexOf(t._view);return function(t,e,n){const r=t.viewContainer._embeddedViews,i=r[e];te(r,e),null==n&&(n=r.length),Jt(r,n,i),cl.dirtyParentQueries(i),eu(i),tu(t,n>0?r[n-1]:null,i)}(this._data,n,e),t}indexOf(t){return this._embeddedViews.indexOf(t._view)}remove(t){const e=Jl(this._data,t);e&&cl.destroyView(e)}detach(t){const e=Jl(this._data,t);return e?new uu(e):null}}function lu(t){return new uu(t)}class uu{constructor(t){this._view=t,this._viewContainerRef=null,this._appRef=null}get rootNodes(){return function(t){const e=[];return jl(t,0,void 0,void 0,e),e}(this._view)}get context(){return this._view.context}get destroyed(){return 0!=(128&this._view.state)}markForCheck(){Cl(this._view)}detach(){this._view.state&=-5}detectChanges(){const t=this._view.root.rendererFactory;t.begin&&t.begin();try{cl.checkAndUpdateView(this._view)}finally{t.end&&t.end()}}checkNoChanges(){cl.checkNoChangesView(this._view)}reattach(){this._view.state|=4}onDestroy(t){this._view.disposables||(this._view.disposables=[]),this._view.disposables.push(t)}destroy(){this._appRef?this._appRef.detachView(this):this._viewContainerRef&&this._viewContainerRef.detach(this._viewContainerRef.indexOf(this)),cl.destroyView(this._view)}detachFromAppRef(){this._appRef=null,eu(this._view),cl.dirtyParentQueries(this._view)}attachToAppRef(t){if(this._viewContainerRef)throw new Error("This view is already attached to a ViewContainer!");this._appRef=t}attachToViewContainerRef(t){if(this._appRef)throw new Error("This view is already attached directly to the ApplicationRef!");this._viewContainerRef=t}}function cu(t,e){return new hu(t,e)}class hu extends Qa{constructor(t,e){super(),this._parentView=t,this._def=e}createEmbeddedView(t){return new uu(cl.createEmbeddedView(this._parentView,this._def,this._def.element.template,t))}get elementRef(){return new Ia(sl(this._parentView,this._def.nodeIndex).renderElement)}}function pu(t,e){return new du(t,e)}class du{constructor(t,e){this.view=t,this.elDef=e}get(t,e=Ps.THROW_IF_NOT_FOUND){return cl.resolveDep(this.view,this.elDef,!!this.elDef&&0!=(33554432&this.elDef.flags),{flags:0,token:t,tokenKey:dl(t)},e)}}function fu(t,e){const n=t.def.nodes[e];if(1&n.flags){const e=sl(t,n.nodeIndex);return n.element.template?e.template:e.renderElement}if(2&n.flags)return ol(t,n.nodeIndex).renderText;if(20240&n.flags)return al(t,n.nodeIndex).instance;throw new Error(`Illegal state: read nodeValue for node index ${e}`)}function gu(t){return new mu(t.renderer)}class mu{constructor(t){this.delegate=t}selectRootElement(t){return this.delegate.selectRootElement(t)}createElement(t,e){const[n,r]=Wl(e),i=this.delegate.createElement(r,n);return t&&this.delegate.appendChild(t,i),i}createViewRoot(t){return t}createTemplateAnchor(t){const e=this.delegate.createComment("");return t&&this.delegate.appendChild(t,e),e}createText(t,e){const n=this.delegate.createText(e);return t&&this.delegate.appendChild(t,n),n}projectNodes(t,e){for(let n=0;n<e.length;n++)this.delegate.appendChild(t,e[n])}attachViewAfter(t,e){const n=this.delegate.parentNode(t),r=this.delegate.nextSibling(t);for(let i=0;i<e.length;i++)this.delegate.insertBefore(n,e[i],r)}detachView(t){for(let e=0;e<t.length;e++){const n=t[e],r=this.delegate.parentNode(n);this.delegate.removeChild(r,n)}}destroyView(t,e){for(let n=0;n<e.length;n++)this.delegate.destroyNode(e[n])}listen(t,e,n){return this.delegate.listen(t,e,n)}listenGlobal(t,e,n){return this.delegate.listen(t,e,n)}setElementProperty(t,e,n){this.delegate.setProperty(t,e,n)}setElementAttribute(t,e,n){const[r,i]=Wl(e);null!=n?this.delegate.setAttribute(t,i,n,r):this.delegate.removeAttribute(t,i,r)}setBindingDebugInfo(t,e,n){}setElementClass(t,e,n){n?this.delegate.addClass(t,e):this.delegate.removeClass(t,e)}setElementStyle(t,e,n){null!=n?this.delegate.setStyle(t,e,n):this.delegate.removeStyle(t,e)}invokeElementMethod(t,e,n){t[e].apply(t,n)}setText(t,e){this.delegate.setValue(t,e)}animate(){throw new Error("Renderer.animate is no longer supported!")}}function yu(t,e,n,r){return new vu(t,e,n,r)}class vu{constructor(t,e,n,r){this._moduleType=t,this._parent=e,this._bootstrapComponents=n,this._def=r,this._destroyListeners=[],this._destroyed=!1,this.injector=this,function(t){const e=t._def,n=t._providers=new Array(e.providers.length);for(let r=0;r<e.providers.length;r++){const i=e.providers[r];4096&i.flags||void 0===n[r]&&(n[r]=Kl(t,i))}}(this)}get(t,e=Ps.THROW_IF_NOT_FOUND,n=dt.Default){let r=0;return n&dt.SkipSelf?r|=1:n&dt.Self&&(r|=4),Zl(this,{token:t,tokenKey:dl(t),flags:r},e)}get instance(){return this.get(this._moduleType)}get componentFactoryResolver(){return this.get(xa)}destroy(){if(this._destroyed)throw new Error(`The ng module ${Ct(this.instance.constructor)} has already been destroyed.`);this._destroyed=!0,function(t,e){const n=t._def,r=new Set;for(let i=0;i<n.providers.length;i++)if(131072&n.providers[i].flags){const e=t._providers[i];if(e&&e!==Gl){const t=e.ngOnDestroy;"function"!=typeof t||r.has(e)||(t.apply(e),r.add(e))}}}(this),this._destroyListeners.forEach(t=>t())}onDestroy(t){this._destroyListeners.push(t)}}const _u=dl(Ta),bu=dl(Oa),wu=dl(Ia),Cu=dl(Ka),xu=dl(Qa),Su=dl(us),Pu=dl(Ps),Iu=dl(Mt);function Eu(t,e,n,r,i,o,s,a){const l=[];if(s)for(let c in s){const[t,e]=s[c];l[t]={flags:8,name:c,nonMinifiedName:e,ns:null,securityContext:null,suffix:null}}const u=[];if(a)for(let c in a)u.push({type:1,propName:c,target:null,eventName:a[c]});return ku(t,e|=16384,n,r,i,i,o,l,u)}function Tu(t,e,n){return ku(-1,t|=16,null,0,e,e,n)}function Au(t,e,n,r,i){return ku(-1,t,e,0,n,r,i)}function ku(t,e,n,r,i,o,s,a,l){const{matchedQueries:u,references:c,matchedQueryIds:h}=Ol(n);l||(l=[]),a||(a=[]),o=Pt(o);const p=Ml(s,Ct(i));return{nodeIndex:-1,parent:null,renderParent:null,bindingIndex:-1,outputIndex:-1,checkIndex:t,flags:e,childFlags:0,directChildFlags:0,childMatchedQueries:0,matchedQueries:u,matchedQueryIds:h,references:c,ngContentIndex:-1,childCount:r,bindings:a,bindingFlags:Vl(a),outputs:l,element:null,provider:{token:i,value:o,deps:p},text:null,query:null,ngContent:null}}function Ou(t,e){return Bu(t,e)}function Mu(t,e){let n=t;for(;n.parent&&!Tl(n);)n=n.parent;return ju(n.parent,Il(n),!0,e.provider.value,e.provider.deps)}function Ru(t,e){const n=ju(t,e.parent,(32768&e.flags)>0,e.provider.value,e.provider.deps);if(e.outputs.length)for(let r=0;r<e.outputs.length;r++){const i=e.outputs[r],o=n[i.propName];if(!Ys(o))throw new Error(`@Output ${i.propName} not initialized in '${n.constructor.name}'.`);{const n=o.subscribe(Du(t,e.parent.nodeIndex,i.eventName));t.disposables[e.outputIndex+r]=n.unsubscribe.bind(n)}}return n}function Du(t,e,n){return r=>Sl(t,e,n,r)}function Bu(t,e){const n=(8192&e.flags)>0,r=e.provider;switch(201347067&e.flags){case 512:return ju(t,e.parent,n,r.value,r.deps);case 1024:return function(t,e,n,r,i){const o=i.length;switch(o){case 0:return r();case 1:return r(zu(t,e,n,i[0]));case 2:return r(zu(t,e,n,i[0]),zu(t,e,n,i[1]));case 3:return r(zu(t,e,n,i[0]),zu(t,e,n,i[1]),zu(t,e,n,i[2]));default:const s=Array(o);for(let r=0;r<o;r++)s[r]=zu(t,e,n,i[r]);return r(...s)}}(t,e.parent,n,r.value,r.deps);case 2048:return zu(t,e.parent,n,r.deps[0]);case 256:return r.value}}function ju(t,e,n,r,i){const o=i.length;switch(o){case 0:return new r;case 1:return new r(zu(t,e,n,i[0]));case 2:return new r(zu(t,e,n,i[0]),zu(t,e,n,i[1]));case 3:return new r(zu(t,e,n,i[0]),zu(t,e,n,i[1]),zu(t,e,n,i[2]));default:const s=new Array(o);for(let r=0;r<o;r++)s[r]=zu(t,e,n,i[r]);return new r(...s)}}const Fu={};function zu(t,e,n,r,i=Ps.THROW_IF_NOT_FOUND){if(8&r.flags)return r.token;const o=t;2&r.flags&&(i=null);const s=r.tokenKey;s===Su&&(n=!(!e||!e.element.componentView)),e&&1&r.flags&&(n=!1,e=e.parent);let a=t;for(;a;){if(e)switch(s){case _u:return gu(Lu(a,e,n));case bu:return Lu(a,e,n).renderer;case wu:return new Ia(sl(a,e.nodeIndex).renderElement);case Cu:return sl(a,e.nodeIndex).viewContainer;case xu:if(e.element.template)return sl(a,e.nodeIndex).template;break;case Su:return lu(Lu(a,e,n));case Pu:case Iu:return pu(a,e);default:const t=(n?e.element.allProviders:e.element.publicProviders)[s];if(t){let e=al(a,t.nodeIndex);return e||(e={instance:Bu(a,t)},a.nodes[t.nodeIndex]=e),e.instance}}n=Tl(a),e=Il(a),a=a.parent,4&r.flags&&(a=null)}const l=o.root.injector.get(r.token,Fu);return l!==Fu||i===Fu?l:o.root.ngModule.injector.get(r.token,i)}function Lu(t,e,n){let r;if(n)r=sl(t,e.nodeIndex).componentView;else for(r=t;r.parent&&!Tl(r);)r=r.parent;return r}function Hu(t,e,n,r,i,o){if(32768&n.flags){const e=sl(t,n.parent.nodeIndex).componentView;2&e.def.flags&&(e.state|=8)}if(e.instance[n.bindings[r].name]=i,524288&n.flags){o=o||{};const e=Rs.unwrap(t.oldValues[n.bindingIndex+r]);o[n.bindings[r].nonMinifiedName]=new ta(e,i,0!=(2&t.state))}return t.oldValues[n.bindingIndex+r]=i,o}function Nu(t,e){if(!(t.def.nodeFlags&e))return;const n=t.def.nodes;let r=0;for(let i=0;i<n.length;i++){const o=n[i];let s=o.parent;for(!s&&o.flags&e&&Vu(t,i,o.flags&e,r++),0==(o.childFlags&e)&&(i+=o.childCount);s&&1&s.flags&&i===s.nodeIndex+s.childCount;)s.directChildFlags&e&&(r=Wu(t,s,e,r)),s=s.parent}}function Wu(t,e,n,r){for(let i=e.nodeIndex+1;i<=e.nodeIndex+e.childCount;i++){const e=t.def.nodes[i];e.flags&n&&Vu(t,i,e.flags&n,r++),i+=e.childCount}return r}function Vu(t,e,n,r){const i=al(t,e);if(!i)return;const o=i.instance;o&&(cl.setCurrentNode(t,e),1048576&n&&il(t,512,r)&&o.ngAfterContentInit(),2097152&n&&o.ngAfterContentChecked(),4194304&n&&il(t,768,r)&&o.ngAfterViewInit(),8388608&n&&o.ngAfterViewChecked(),131072&n&&o.ngOnDestroy())}function Uu(t){const e=[];for(let n in t)t.hasOwnProperty(n)&&e.push({propName:t[n],templateName:n});return e}const qu=new Ot("SCHEDULER_TOKEN",{providedIn:"root",factory:()=>ur});class Gu extends _a{constructor(t,e){super(),this.componentDef=t,this.ngModule=e,this.componentType=t.type,this.selector=t.selectors[0][0]||"div",this.ngContentSelectors=t.ngContentSelectors?t.ngContentSelectors:[],this.isBoundToModule=!!e}get inputs(){return Uu(this.componentDef.inputs)}get outputs(){return Uu(this.componentDef.outputs)}create(t,e,n,r){const i=(r=r||this.ngModule)?function(t,e){return{get:(n,r,i)=>{const o=t.get(n,Fu,i);return o!==Fu||r===Fu?o:e.get(n,r,i)}}}(t,r.injector):t,o=i.get(Aa,Hr),s=i.get(Wi,null);ir();const a=n?function(t,e){const n=t.createRenderer(null,null);return"string"==typeof e?Lr(n)?n.selectRootElement(e):n.querySelector(e):e}(o,n):function(t,e){let n;const r=e||Tn()[De],i=rr;return n=Lr(r)?r.createElement(t,i):null===i?r.createElement(t):r.createElementNS(i,t),n}(this.selector,o.createRenderer(null,this.componentDef)),l=this.componentDef.onPush?576:528,u="string"==typeof n&&/^#root-ng-internal-isolated-\d+/.test(n),c={components:[],scheduler:ur,clean:Ho,playerHandler:null,flags:0},h=o.createRenderer(a,this.componentDef);n&&a&&(Lr(h)?h.setAttribute(a,"ng-version",Da.full):a.setAttribute("ng-version",Da.full));const p=Po(null,Oo(-1,null,1,0,null,null,null,null),c,l,null,null,o,h,s,i),d=Zn(p,null);let f,g,m=!1;try{const t=function(t,e,n,r,i,o){On=!1,kn=null,Sn=0,Pn=!0,or(null),fn(),un.clear();const s=n[xe];n[0+Ne]=t;const a=function(t,e,n,r,i,o){const s=0+Ne,a=t.data[s]||function(t,e,n,r,i,o,s){const a=zn(),l=Nn(),u=l?a:a&&a.parent,c=t.data[n]=Mo(0,u&&null!==u?u:null,3,n,null,null);return t.firstChild=c,a&&(!l||null!=a.child||null===c.parent&&2!==a.type?l||(a.next=c):a.child=c),c}(t,0,s);return Ln(a,!0),a}(s),l=Po(n,function(t){return t.tView||(t.tView=Oo(-1,t.template,t.consts,t.vars,t.directiveDefs,t.pipeDefs,t.viewQuery,t.schemas))}(e),null,e.onPush?64:16,n[Ne],a,r,i,o);return s.firstTemplatePass&&(ei(Zr(a,n),s,e.type),a.flags=1,function(t,e,n){t.flags=1&t.flags,t.directiveStart=e,t.directiveEnd=e+1,t.providerIndexes=e}(a,n.length),function(t){const e=Tn()[xe];(e.components||(e.components=[])).push(t.index)}(a)),n[Ne]=l}(a,this.componentDef,p,o,h);g=_n(0,p),e&&(g.projection=e.map(t=>Array.from(t))),f=function(t,e,n,r,i){const o=n[xe],s=function(t,e,n){const r=zn();t.firstTemplatePass&&(n.providersResolver&&n.providersResolver(n),function(t,e,n){const r=-(e.index-Ne),i=t.data.length-(65535&e.providerIndexes);(t.expandoInstructions||(t.expandoInstructions=[])).push(r,i,1)}(t,r),function(t,e,n,r){t.data.push(n);const i=new rn(r,Ze(n),null);t.blueprint.push(i),e.push(i)}(t,e,n,n.factory));const i=oi(t.data,e,e.length-1,r);return function(t,e,n){const r=yn(e,t);Xi(n,t),r&&Xi(r,t)}(e,r,i),i}(o,n,e);r.components.push(s),t[Oe]=s,i&&i.forEach(t=>t(s,e)),e.contentQueries&&e.contentQueries(1,s,n.length-1);const a=zn();return o.firstTemplatePass&&e.hostBindings&&(jn(a.index-Ne),function(t,e,n,r,i){const o=e.length;En(t),t.hostBindings(1,n,r.index-Ne),En(null),o===e.length&&i&&e.push(t.hostBindings)}(e,o.expandoInstructions,s,a,o.firstTemplatePass),jn(null)),s}(t,this.componentDef,p,c,[Js]),Do(p,t),xo(p),m=!0}finally{Kn(d,m)}const y=new Yu(this.componentType,f,as(Ia,g,p),p,g);return n&&!u||(y.hostView._tViewNode.child=g),y}}class Yu extends va{constructor(t,e,n,r,i){super(),this.location=n,this._rootLView=r,this._tNode=i,this.destroyCbs=[],this.instance=e,this.hostView=this.changeDetectorRef=new rs(r),this.hostView._tViewNode=Io(r[xe],null,-1,r),this.componentType=t}get injector(){return new li(this._tNode,this._rootLView)}destroy(){this.destroyCbs&&(this.destroyCbs.forEach(t=>t()),this.destroyCbs=null,!this.hostView.destroyed&&this.hostView.destroy())}onDestroy(t){this.destroyCbs&&this.destroyCbs.push(t)}}const Xu={},$u=function(){var t={LocaleId:0,DayPeriodsFormat:1,DayPeriodsStandalone:2,DaysFormat:3,DaysStandalone:4,MonthsFormat:5,MonthsStandalone:6,Eras:7,FirstDayOfWeek:8,WeekendRange:9,DateFormat:10,TimeFormat:11,DateTimeFormat:12,NumberSymbols:13,NumberFormats:14,CurrencySymbol:15,CurrencyName:16,Currencies:17,PluralCase:18,ExtraData:19};return t[t.LocaleId]="LocaleId",t[t.DayPeriodsFormat]="DayPeriodsFormat",t[t.DayPeriodsStandalone]="DayPeriodsStandalone",t[t.DaysFormat]="DaysFormat",t[t.DaysStandalone]="DaysStandalone",t[t.MonthsFormat]="MonthsFormat",t[t.MonthsStandalone]="MonthsStandalone",t[t.Eras]="Eras",t[t.FirstDayOfWeek]="FirstDayOfWeek",t[t.WeekendRange]="WeekendRange",t[t.DateFormat]="DateFormat",t[t.TimeFormat]="TimeFormat",t[t.DateTimeFormat]="DateTimeFormat",t[t.NumberSymbols]="NumberSymbols",t[t.NumberFormats]="NumberFormats",t[t.CurrencySymbol]="CurrencySymbol",t[t.CurrencyName]="CurrencyName",t[t.Currencies]="Currencies",t[t.PluralCase]="PluralCase",t[t.ExtraData]="ExtraData",t}(),Qu=void 0;var Zu=["en",[["a","p"],["AM","PM"],Qu],[["AM","PM"],Qu,Qu],[["S","M","T","W","T","F","S"],["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],["Su","Mo","Tu","We","Th","Fr","Sa"]],Qu,[["J","F","M","A","M","J","J","A","S","O","N","D"],["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],["January","February","March","April","May","June","July","August","September","October","November","December"]],Qu,[["B","A"],["BC","AD"],["Before Christ","Anno Domini"]],0,[6,0],["M/d/yy","MMM d, y","MMMM d, y","EEEE, MMMM d, y"],["h:mm a","h:mm:ss a","h:mm:ss a z","h:mm:ss a zzzz"],["{1}, {0}",Qu,"{1} 'at' {0}",Qu],[".",",",";","%","+","-","E","\xd7","\u2030","\u221e","NaN",":"],["#,##0.###","#,##0%","\xa4#,##0.00","#E0"],"$","US Dollar",{},function(t){let e=Math.floor(Math.abs(t)),n=t.toString().replace(/^[^.]*\.?/,"").length;return 1===e&&0===n?1:5}];function Ku(t){const e=t.toLowerCase().replace(/_/g,"-");let n=Xu[e];if(n)return n;const r=e.split("-")[0];if(n=Xu[r],n)return n;if("en"===r)return Zu;throw new Error(`Missing locale data for the locale "${t}".`)}const Ju="en-US";let tc=Ju;function ec(t){var e;e="Expected localeId to be defined",null==t&&function(t){throw new Error(`ASSERTION ERROR: ${t}`)}(e),"string"==typeof t&&(tc=t.toLowerCase().replace(/_/g,"-"))}const nc=new Map,rc={provide:xa,useClass:class extends xa{constructor(t){super(),this.ngModule=t}resolveComponentFactory(t){const e=ve(t);return new Gu(e,this.ngModule)}},deps:[Qt]};class ic extends Qt{constructor(t,e){super(),this._parent=e,this._bootstrapComponents=[],this.injector=this,this.destroyCbs=[];const n=we(t),r=t[ue]||null;r&&ec(r),this._bootstrapComponents=pr(n.bootstrap),this._r3Injector=ys(t,e,[{provide:Qt,useValue:this},rc],Ct(t)),this.instance=this.get(t)}get(t,e=Ps.THROW_IF_NOT_FOUND,n=dt.Default){return t===Ps||t===Qt||t===Mt?this:this._r3Injector.get(t,e,n)}get componentFactoryResolver(){return this.get(xa)}destroy(){const t=this._r3Injector;!t.destroyed&&t.destroy(),this.destroyCbs.forEach(t=>t()),this.destroyCbs=null}onDestroy(t){this.destroyCbs.push(t)}}class oc extends Zt{constructor(t){super(),this.moduleType=t,null!==we(t)&&function t(e){if(null!==e.ngModuleDef.id){const t=e.ngModuleDef.id;(function(t,e,n){if(e&&e!==n)throw new Error(`Duplicate module registered for ${t} - ${Ct(e)} vs ${Ct(e.name)}`)})(t,nc.get(t),e),nc.set(t,e)}let n=e.ngModuleDef.imports;n instanceof Function&&(n=n()),n&&n.forEach(e=>t(e))}(t)}create(t){return new ic(this.moduleType,t)}}class sc extends E{constructor(t=!1){super(),this.__isAsync=t}emit(t){super.next(t)}subscribe(t,e,n){let r,i=t=>null,o=()=>null;t&&"object"==typeof t?(r=this.__isAsync?e=>{setTimeout(()=>t.next(e))}:e=>{t.next(e)},t.error&&(i=this.__isAsync?e=>{setTimeout(()=>t.error(e))}:e=>{t.error(e)}),t.complete&&(o=this.__isAsync?()=>{setTimeout(()=>t.complete())}:()=>{t.complete()})):(r=this.__isAsync?e=>{setTimeout(()=>t(e))}:e=>{t(e)},e&&(i=this.__isAsync?t=>{setTimeout(()=>e(t))}:t=>{e(t)}),n&&(o=this.__isAsync?()=>{setTimeout(()=>n())}:()=>{n()}));const s=super.subscribe(r,i,o);return t instanceof p&&t.add(s),s}}function ac(){return this._results[ks()]()}class lc{constructor(){this.dirty=!0,this._results=[],this.changes=new sc,this.length=0;const t=ks(),e=lc.prototype;e[t]||(e[t]=ac)}map(t){return this._results.map(t)}filter(t){return this._results.filter(t)}find(t){return this._results.find(t)}reduce(t,e){return this._results.reduce(t,e)}forEach(t){this._results.forEach(t)}some(t){return this._results.some(t)}toArray(){return this._results.slice()}toString(){return this._results.toString()}reset(t){this._results=function t(e,n){void 0===n&&(n=e);for(let r=0;r<e.length;r++){let i=e[r];Array.isArray(i)?(n===e&&(n=e.slice(0,r)),t(i,n)):n!==e&&n.push(i)}return n}(t),this.dirty=!1,this.length=this._results.length,this.last=this._results[this.length-1],this.first=this._results[0]}notifyOnChanges(){this.changes.emit(this)}setDirty(){this.dirty=!0}destroy(){this.changes.complete(),this.changes.unsubscribe()}}const uc=new Ot("Application Initializer");let cc=(()=>{class t{constructor(t){this.appInits=t,this.initialized=!1,this.done=!1,this.donePromise=new Promise((t,e)=>{this.resolve=t,this.reject=e})}runInitializers(){if(this.initialized)return;const t=[],e=()=>{this.done=!0,this.resolve()};if(this.appInits)for(let n=0;n<this.appInits.length;n++){const e=this.appInits[n]();Gs(e)&&t.push(e)}Promise.all(t).then(()=>{e()}).catch(t=>{this.reject(t)}),0===t.length&&e(),this.initialized=!0}}return t.ngInjectableDef=mt({token:t,factory:function(e){return new(e||t)(qt(uc,8))},providedIn:null}),t})();const hc=new Ot("AppId");function pc(){return`${fc()}${fc()}${fc()}`}const dc={provide:hc,useFactory:pc,deps:[]};function fc(){return String.fromCharCode(97+Math.floor(25*Math.random()))}const gc=new Ot("Platform Initializer"),mc=new Ot("Platform ID"),yc=new Ot("appBootstrapListener");let vc=(()=>{class t{log(t){console.log(t)}warn(t){console.warn(t)}}return t.ngInjectableDef=mt({token:t,factory:function(e){return new(e||t)},providedIn:null}),t})();const _c=new Ot("LocaleId"),bc=!0;class wc{constructor(t,e){this.ngModuleFactory=t,this.componentFactories=e}}const Cc=function(t){return new oc(t)},xc=Cc,Sc=function(t){return Promise.resolve(Cc(t))},Pc=function(t){const e=Cc(t),n=pr(we(t).declarations).reduce((t,e)=>{const n=ve(e);return n&&t.push(new Gu(n)),t},[]);return new wc(e,n)},Ic=Pc,Ec=function(t){return Promise.resolve(Pc(t))};let Tc=(()=>{class t{constructor(){this.compileModuleSync=xc,this.compileModuleAsync=Sc,this.compileModuleAndAllComponentsSync=Ic,this.compileModuleAndAllComponentsAsync=Ec}clearCache(){}clearCacheFor(t){}getModuleId(t){}}return t.ngInjectableDef=mt({token:t,factory:function(e){return new(e||t)},providedIn:null}),t})();const Ac=new Ot("compilerOptions");let kc,Oc;function Mc(){const t=kt.wtf;return!(!t||(kc=t.trace,!kc)||(Oc=kc.events,0))}const Rc=Mc();function Dc(t,e){return null}const Bc=Rc?function(t,e=null){return Oc.createScope(t,e)}:(t,e)=>Dc,jc=Rc?function(t,e){return kc.leaveScope(t,e),e}:(t,e)=>e,Fc=(()=>Promise.resolve(0))();function zc(t){"undefined"==typeof Zone?Fc.then(()=>{t&&t.apply(null,null)}):Zone.current.scheduleMicroTask("scheduleMicrotask",t)}class Lc{constructor({enableLongStackTrace:t=!1}){if(this.hasPendingMicrotasks=!1,this.hasPendingMacrotasks=!1,this.isStable=!0,this.onUnstable=new sc(!1),this.onMicrotaskEmpty=new sc(!1),this.onStable=new sc(!1),this.onError=new sc(!1),"undefined"==typeof Zone)throw new Error("In this configuration Angular requires Zone.js");var e;Zone.assertZonePatched(),this._nesting=0,this._outer=this._inner=Zone.current,Zone.wtfZoneSpec&&(this._inner=this._inner.fork(Zone.wtfZoneSpec)),Zone.TaskTrackingZoneSpec&&(this._inner=this._inner.fork(new Zone.TaskTrackingZoneSpec)),t&&Zone.longStackTraceZoneSpec&&(this._inner=this._inner.fork(Zone.longStackTraceZoneSpec)),(e=this)._inner=e._inner.fork({name:"angular",properties:{isAngularZone:!0},onInvokeTask:(t,n,r,i,o,s)=>{try{return Vc(e),t.invokeTask(r,i,o,s)}finally{Uc(e)}},onInvoke:(t,n,r,i,o,s,a)=>{try{return Vc(e),t.invoke(r,i,o,s,a)}finally{Uc(e)}},onHasTask:(t,n,r,i)=>{t.hasTask(r,i),n===r&&("microTask"==i.change?(e.hasPendingMicrotasks=i.microTask,Wc(e)):"macroTask"==i.change&&(e.hasPendingMacrotasks=i.macroTask))},onHandleError:(t,n,r,i)=>(t.handleError(r,i),e.runOutsideAngular(()=>e.onError.emit(i)),!1)})}static isInAngularZone(){return!0===Zone.current.get("isAngularZone")}static assertInAngularZone(){if(!Lc.isInAngularZone())throw new Error("Expected to be in Angular Zone, but it is not!")}static assertNotInAngularZone(){if(Lc.isInAngularZone())throw new Error("Expected to not be in Angular Zone, but it is!")}run(t,e,n){return this._inner.run(t,e,n)}runTask(t,e,n,r){const i=this._inner,o=i.scheduleEventTask("NgZoneEvent: "+r,t,Nc,Hc,Hc);try{return i.runTask(o,e,n)}finally{i.cancelTask(o)}}runGuarded(t,e,n){return this._inner.runGuarded(t,e,n)}runOutsideAngular(t){return this._outer.run(t)}}function Hc(){}const Nc={};function Wc(t){if(0==t._nesting&&!t.hasPendingMicrotasks&&!t.isStable)try{t._nesting++,t.onMicrotaskEmpty.emit(null)}finally{if(t._nesting--,!t.hasPendingMicrotasks)try{t.runOutsideAngular(()=>t.onStable.emit(null))}finally{t.isStable=!0}}}function Vc(t){t._nesting++,t.isStable&&(t.isStable=!1,t.onUnstable.emit(null))}function Uc(t){t._nesting--,Wc(t)}class qc{constructor(){this.hasPendingMicrotasks=!1,this.hasPendingMacrotasks=!1,this.isStable=!0,this.onUnstable=new sc,this.onMicrotaskEmpty=new sc,this.onStable=new sc,this.onError=new sc}run(t){return t()}runGuarded(t){return t()}runOutsideAngular(t){return t()}runTask(t){return t()}}let Gc=(()=>{class t{constructor(t){this._ngZone=t,this._pendingCount=0,this._isZoneStable=!0,this._didWork=!1,this._callbacks=[],this.taskTrackingZone=null,this._watchAngularEvents(),t.run(()=>{this.taskTrackingZone="undefined"==typeof Zone?null:Zone.current.get("TaskTrackingZone")})}_watchAngularEvents(){this._ngZone.onUnstable.subscribe({next:()=>{this._didWork=!0,this._isZoneStable=!1}}),this._ngZone.runOutsideAngular(()=>{this._ngZone.onStable.subscribe({next:()=>{Lc.assertNotInAngularZone(),zc(()=>{this._isZoneStable=!0,this._runCallbacksIfReady()})}})})}increasePendingRequestCount(){return this._pendingCount+=1,this._didWork=!0,this._pendingCount}decreasePendingRequestCount(){if(this._pendingCount-=1,this._pendingCount<0)throw new Error("pending async requests below zero");return this._runCallbacksIfReady(),this._pendingCount}isStable(){return this._isZoneStable&&0===this._pendingCount&&!this._ngZone.hasPendingMacrotasks}_runCallbacksIfReady(){if(this.isStable())zc(()=>{for(;0!==this._callbacks.length;){let t=this._callbacks.pop();clearTimeout(t.timeoutId),t.doneCb(this._didWork)}this._didWork=!1});else{let t=this.getPendingTasks();this._callbacks=this._callbacks.filter(e=>!e.updateCb||!e.updateCb(t)||(clearTimeout(e.timeoutId),!1)),this._didWork=!0}}getPendingTasks(){return this.taskTrackingZone?this.taskTrackingZone.macroTasks.map(t=>({source:t.source,creationLocation:t.creationLocation,data:t.data})):[]}addCallback(t,e,n){let r=-1;e&&e>0&&(r=setTimeout(()=>{this._callbacks=this._callbacks.filter(t=>t.timeoutId!==r),t(this._didWork,this.getPendingTasks())},e)),this._callbacks.push({doneCb:t,timeoutId:r,updateCb:n})}whenStable(t,e,n){if(n&&!this.taskTrackingZone)throw new Error('Task tracking zone is required when passing an update callback to whenStable(). Is "zone.js/dist/task-tracking.js" loaded?');this.addCallback(t,e,n),this._runCallbacksIfReady()}getPendingRequestCount(){return this._pendingCount}findProviders(t,e,n){return[]}}return t.ngInjectableDef=mt({token:t,factory:function(e){return new(e||t)(qt(Lc))},providedIn:null}),t})(),Yc=(()=>{class t{constructor(){this._applications=new Map,Qc.addToWindow(this)}registerApplication(t,e){this._applications.set(t,e)}unregisterApplication(t){this._applications.delete(t)}unregisterAllApplications(){this._applications.clear()}getTestability(t){return this._applications.get(t)||null}getAllTestabilities(){return Array.from(this._applications.values())}getAllRootElements(){return Array.from(this._applications.keys())}findTestabilityInTree(t,e=!0){return Qc.findTestabilityInTree(this,t,e)}}return t.ngInjectableDef=mt({token:t,factory:function(e){return new(e||t)},providedIn:null}),t.ctorParameters=()=>[],t})();class Xc{addToWindow(t){}findTestabilityInTree(t,e,n){return null}}let $c,Qc=new Xc,Zc=function(t,e,n){const r=new oc(n);if(0===Is.size)return Promise.resolve(r);const i=function(t){const e=[];return t.forEach(t=>t&&e.push(...t)),e}(t.get(Ac,[]).concat(e).map(t=>t.providers));if(0===i.length)return Promise.resolve(r);const o=function(){const t=kt.ng;if(!t||!t.\u0275compilerFacade)throw new Error("Angular JIT compilation failed: '@angular/compiler' not loaded!\n  - JIT compilation is discouraged for production use-cases! Consider AOT mode instead.\n  - Did you bootstrap using '@angular/platform-browser-dynamic' or '@angular/platform-server'?\n  - Alternatively provide the compiler with 'import \"@angular/compiler\";' before bootstrapping.");return t.\u0275compilerFacade}(),s=Ps.create({providers:i}).get(o.ResourceLoader);return function(t){const e=[],n=new Map;function r(e){let r=n.get(e);if(!r){const i=t(e);n.set(e,r=i.then(Ts))}return r}return Is.forEach((t,n)=>{const i=[];t.templateUrl&&i.push(r(t.templateUrl).then(e=>{t.template=e}));const o=t.styleUrls,s=t.styles||(t.styles=[]),a=t.styles.length;o&&o.forEach((e,n)=>{s.push(""),i.push(r(e).then(r=>{s[a+n]=r,o.splice(o.indexOf(e),1),0==o.length&&(t.styleUrls=void 0)}))});const l=Promise.all(i).then(()=>(function(t){Es.delete(t)})(n));e.push(l)}),Is=new Map,Promise.all(e).then(()=>void 0)}(t=>Promise.resolve(s.get(t))).then(()=>r)},Kc=function(t){return t.isBoundToModule};const Jc=new Ot("AllowMultipleToken");class th{constructor(t,e){this.name=t,this.token=e}}function eh(t,e,n=[]){const r=`Platform: ${e}`,i=new Ot(r);return(e=[])=>{let o=nh();if(!o||o.injector.get(Jc,!1))if(t)t(n.concat(e).concat({provide:i,useValue:!0}));else{const t=n.concat(e).concat({provide:i,useValue:!0});!function(t){if($c&&!$c.destroyed&&!$c.injector.get(Jc,!1))throw new Error("There can be only one platform. Destroy the previous one to create a new one.");$c=t.get(rh);const e=t.get(gc,null);e&&e.forEach(t=>t())}(Ps.create({providers:t,name:r}))}return function(t){const e=nh();if(!e)throw new Error("No platform exists!");if(!e.injector.get(t,null))throw new Error("A platform with a different configuration has been created. Please destroy it first.");return e}(i)}}function nh(){return $c&&!$c.destroyed?$c:null}let rh=(()=>{class t{constructor(t){this._injector=t,this._modules=[],this._destroyListeners=[],this._destroyed=!1}bootstrapModuleFactory(t,e){const n=function(t){let e;return e="noop"===t?new qc:("zone.js"===t?void 0:t)||new Lc({enableLongStackTrace:_i()}),e}(e?e.ngZone:void 0),r=[{provide:Lc,useValue:n}];return n.run(()=>{const e=Ps.create({providers:r,parent:this.injector,name:t.moduleType.name}),i=t.create(e),o=i.injector.get(mi,null);if(!o)throw new Error("No ErrorHandler. Is platform module (BrowserModule) included?");return bc&&ec(i.injector.get(_c,Ju)||Ju),i.onDestroy(()=>sh(this._modules,i)),n.runOutsideAngular(()=>n.onError.subscribe({next:t=>{o.handleError(t)}})),function(t,e,n){try{const r=n();return Gs(r)?r.catch(n=>{throw e.runOutsideAngular(()=>t.handleError(n)),n}):r}catch(r){throw e.runOutsideAngular(()=>t.handleError(r)),r}}(o,n,()=>{const t=i.injector.get(cc);return t.runInitializers(),t.donePromise.then(()=>(this._moduleDoBootstrap(i),i))})})}bootstrapModule(t,e=[]){const n=ih({},e);return Zc(this.injector,n,t).then(t=>this.bootstrapModuleFactory(t,n))}_moduleDoBootstrap(t){const e=t.injector.get(oh);if(t._bootstrapComponents.length>0)t._bootstrapComponents.forEach(t=>e.bootstrap(t));else{if(!t.instance.ngDoBootstrap)throw new Error(`The module ${Ct(t.instance.constructor)} was bootstrapped, but it does not declare "@NgModule.bootstrap" components nor a "ngDoBootstrap" method. `+"Please define one of these.");t.instance.ngDoBootstrap(e)}this._modules.push(t)}onDestroy(t){this._destroyListeners.push(t)}get injector(){return this._injector}destroy(){if(this._destroyed)throw new Error("The platform has already been destroyed!");this._modules.slice().forEach(t=>t.destroy()),this._destroyListeners.forEach(t=>t()),this._destroyed=!0}get destroyed(){return this._destroyed}}return t.ngInjectableDef=mt({token:t,factory:function(e){return new(e||t)(qt(Ps))},providedIn:null}),t})();function ih(t,e){return Array.isArray(e)?e.reduce(ih,t):Object.assign({},t,e)}let oh=(()=>{class t{constructor(t,e,n,r,i,o){this._zone=t,this._console=e,this._injector=n,this._exceptionHandler=r,this._componentFactoryResolver=i,this._initStatus=o,this._bootstrapListeners=[],this._views=[],this._runningTick=!1,this._enforceNoNewChanges=!1,this._stable=!0,this.componentTypes=[],this.components=[],this._enforceNoNewChanges=_i(),this._zone.onMicrotaskEmpty.subscribe({next:()=>{this._zone.run(()=>{this.tick()})}});const s=new w(t=>{this._stable=this._zone.isStable&&!this._zone.hasPendingMacrotasks&&!this._zone.hasPendingMicrotasks,this._zone.runOutsideAngular(()=>{t.next(this._stable),t.complete()})}),a=new w(t=>{let e;this._zone.runOutsideAngular(()=>{e=this._zone.onStable.subscribe(()=>{Lc.assertNotInAngularZone(),zc(()=>{this._stable||this._zone.hasPendingMacrotasks||this._zone.hasPendingMicrotasks||(this._stable=!0,t.next(!0))})})});const n=this._zone.onUnstable.subscribe(()=>{Lc.assertInAngularZone(),this._stable&&(this._stable=!1,this._zone.runOutsideAngular(()=>{t.next(!1)}))});return()=>{e.unsubscribe(),n.unsubscribe()}});this.isStable=K(s,a.pipe(st()))}bootstrap(t,e){if(!this._initStatus.done)throw new Error("Cannot bootstrap as there are still asynchronous initializers running. Bootstrap components in the `ngDoBootstrap` method of the root module.");let n;n=t instanceof _a?t:this._componentFactoryResolver.resolveComponentFactory(t),this.componentTypes.push(n.componentType);const r=Kc(n)?null:this._injector.get(Qt),i=n.create(Ps.NULL,[],e||n.selector,r);i.onDestroy(()=>{this._unloadComponent(i)});const o=i.injector.get(Gc,null);return o&&i.injector.get(Yc).registerApplication(i.location.nativeElement,o),this._loadComponent(i),_i()&&this._console.log("Angular is running in the development mode. Call enableProdMode() to enable the production mode."),i}tick(){if(this._runningTick)throw new Error("ApplicationRef.tick is called recursively");const e=t._tickScope();try{this._runningTick=!0;for(let t of this._views)t.detectChanges();if(this._enforceNoNewChanges)for(let t of this._views)t.checkNoChanges()}catch(n){this._zone.runOutsideAngular(()=>this._exceptionHandler.handleError(n))}finally{this._runningTick=!1,jc(e)}}attachView(t){const e=t;this._views.push(e),e.attachToAppRef(this)}detachView(t){const e=t;sh(this._views,e),e.detachFromAppRef()}_loadComponent(t){this.attachView(t.hostView),this.tick(),this.components.push(t),this._injector.get(yc,[]).concat(this._bootstrapListeners).forEach(e=>e(t))}_unloadComponent(t){this.detachView(t.hostView),sh(this.components,t)}ngOnDestroy(){this._views.slice().forEach(t=>t.destroy())}get viewCount(){return this._views.length}}return t.ngInjectableDef=mt({token:t,factory:function(e){return new(e||t)(qt(Lc),qt(vc),qt(Ps),qt(mi),qt(xa),qt(cc))},providedIn:null}),t._tickScope=Bc("ApplicationRef#tick()"),t})();function sh(t,e){const n=t.indexOf(e);n>-1&&t.splice(n,1)}class ah{constructor(t,e){this.name=t,this.callback=e}}class lh{constructor(t,e,n){this.listeners=[],this.parent=null,this._debugContext=n,this.nativeNode=t,e&&e instanceof uh&&e.addChild(this)}get injector(){return this._debugContext.injector}get componentInstance(){return this._debugContext.component}get context(){return this._debugContext.context}get references(){return this._debugContext.references}get providerTokens(){return this._debugContext.providerTokens}}class uh extends lh{constructor(t,e,n){super(t,e,n),this.properties={},this.attributes={},this.classes={},this.styles={},this.childNodes=[],this.nativeElement=t}addChild(t){t&&(this.childNodes.push(t),t.parent=this)}removeChild(t){const e=this.childNodes.indexOf(t);-1!==e&&(t.parent=null,this.childNodes.splice(e,1))}insertChildrenAfter(t,e){const n=this.childNodes.indexOf(t);-1!==n&&(this.childNodes.splice(n+1,0,...e),e.forEach(e=>{e.parent&&e.parent.removeChild(e),t.parent=this}))}insertBefore(t,e){const n=this.childNodes.indexOf(t);-1===n?this.addChild(e):(e.parent&&e.parent.removeChild(e),e.parent=this,this.childNodes.splice(n,0,e))}query(t){return this.queryAll(t)[0]||null}queryAll(t){const e=[];return function t(e,n,r){e.childNodes.forEach(e=>{e instanceof uh&&(n(e)&&r.push(e),t(e,n,r))})}(this,t,e),e}queryAllNodes(t){const e=[];return function t(e,n,r){e instanceof uh&&e.childNodes.forEach(e=>{n(e)&&r.push(e),e instanceof uh&&t(e,n,r)})}(this,t,e),e}get children(){return this.childNodes.filter(t=>t instanceof uh)}triggerEventHandler(t,e){this.listeners.forEach(n=>{n.name==t&&n.callback(e)})}}class ch{constructor(t){this.nativeNode=t}get parent(){const t=this.nativeNode.parentNode;return t?new hh(t):null}get injector(){return function(t){const e=$s(t);return new li(e.lView[xe].data[e.nodeIndex],e.lView)}(this.nativeNode)}get componentInstance(){const t=this.nativeNode;return t&&(Xs(t)||function(t){let e,n=$s(t).lView;for(;null===n[Ce]&&(e=qr(n));)n=e;return 512&n[Se]?null:n[Oe]}(t))}get context(){return Xs(this.nativeNode)||Qs(this.nativeNode).lView[Oe]}get listeners(){return function(t){const e=Qs(t).lView,n=e[ke],r=e[xe].cleanup,i=[];if(r&&n)for(let o=0;o<r.length;){const s=r[o++],a=r[o++];if("string"==typeof s){const l=s,u=mn(e[a]),c=n[r[o++]],h=r[o++],p="boolean"==typeof h?h:!(h>=0)&&null;t==u&&i.push({element:t,name:l,callback:c,useCapture:p})}}return i.sort(Ks),i}(this.nativeNode).filter(Zs)}get references(){return function(t){const e=$s(t);return void 0===e.localRefs&&(e.localRefs=function(t,e){const n=t[xe].data[e];if(n&&n.localNames){const e={};let r=n.index+1;for(let i=0;i<n.localNames.length;i+=2)e[n.localNames[i]]=t[r],r++;return e}return null}(e.lView,e.nodeIndex)),e.localRefs||{}}(this.nativeNode)}get providerTokens(){return function(t){const e=$s(t,!1);if(!e)return[];const n=e.lView[xe],r=n.data[e.nodeIndex],i=[],o=r.directiveEnd;for(let a=65535&r.providerIndexes;a<o;a++){let t=n.data[a];void 0!==(s=t).type&&void 0!==s.template&&void 0!==s.declaredInputs&&(t=t.type),i.push(t)}var s;return i}(this.nativeNode)}}class hh extends ch{constructor(t){super(t)}get nativeElement(){return this.nativeNode.nodeType==Node.ELEMENT_NODE?this.nativeNode:null}get name(){return this.nativeElement.nodeName}get properties(){const t=$s(this.nativeNode),e=t.lView,n=e[xe].data,r=n[t.nodeIndex],i=function(t,e,n){const r={};let i=function(t,e){let n=t-1,r=e[n];for(;"string"==typeof r&&!hr(r);)r=e[--n];return n+1}(t.propertyMetadataStartIndex,n);for(;i<t.propertyMetadataEndIndex;){let t,o=n[i];for(;!hr(o);)t=(t||"")+ar(e[i])+n[i],o=n[++i];t=void 0===t?e[i]:t+=e[i];const s=o.split(cr),a=s[0];a&&(r[a]=s[1]&&s[2]?s[1]+t+s[2]:t),i++}return r}(r,e,n),o=function(t,e,n){const r={};let i=t.directiveEnd,o=n[i];for(;"string"==typeof o;)r[o.split(cr)[0]]=e[i],o=n[++i];return r}(r,e,n),s=function(t){const e=t.classes;let n="";for(const r of Object.keys(e))e[r]&&(n=n?n+` ${r}`:r);return n}(this),a=Object.assign({},i,o);return s&&(a.className=a.className?a.className+` ${s}`:s),a}get attributes(){const t={},e=this.nativeElement;if(!e)return t;const n=$s(e),r=n.lView[xe].data[n.nodeIndex].attrs,i=[];if(r){let e=0;for(;e<r.length;){const n=r[e];if("string"!=typeof n)break;t[n]=r[e+1],i.push(n.toLowerCase()),e+=2}}const o=e.attributes;for(let s=0;s<o.length;s++){const e=o[s];-1===i.indexOf(e.name)&&(t[e.name]=e.value)}return t}get styles(){return ph(this.nativeElement,!1)}get classes(){return ph(this.nativeElement,!0)}get childNodes(){const t=this.nativeNode.childNodes,e=[];for(let n=0;n<t.length;n++)e.push(_h(t[n]));return e}get children(){const t=this.nativeElement;if(!t)return[];const e=t.children,n=[];for(let r=0;r<e.length;r++)n.push(_h(e[r]));return n}query(t){return this.queryAll(t)[0]||null}queryAll(t){const e=[];return dh(this,t,e,!0),e}queryAllNodes(t){const e=[];return dh(this,t,e,!1),e}triggerEventHandler(t,e){this.listeners.forEach(n=>{n.name===t&&n.callback(e)})}}function ph(t,e){if(t){const n=Qs(t),r=n.lView,i=r[xe].data[n.nodeIndex];return e?Dr(i.classes)?new Co(i.classes,r,!0).values:wo(i.classes):Dr(i.styles)?new Co(i.styles,r,!1).values:wo(i.styles)}return{}}function dh(t,e,n,r){const i=$s(t.nativeNode);fh(i.lView[xe].data[i.nodeIndex],i.lView,e,n,r,t.nativeNode)}function fh(t,e,n,r,i,o){const s=vn(t,e);if(3===t.type||4===t.type){if(mh(s,n,r,i,o),Qe(t)){const s=bn(t.index,e);s&&s[xe].firstChild&&fh(s[xe].firstChild,s,n,r,i,o)}else t.child&&fh(t.child,e,n,r,i,o),s&&function t(e,n,r,i){const o=e.childNodes,s=o.length;for(let a=0;a<s;a++){const e=o[a],s=bh(e);s&&(i&&s instanceof hh&&n(s)&&-1===r.indexOf(s)?r.push(s):!i&&n(s)&&-1===r.indexOf(s)&&r.push(s),t(e,n,r,i))}}(s,n,r,i);const a=e[t.index];$e(a)&&gh(a,n,r,i,o)}else if(0===t.type){const s=e[t.index];mh(s[qe],n,r,i,o),gh(s,n,r,i,o)}else if(1===t.type){const s=Gr(e),a=s[Te].projection[t.projection];if(Array.isArray(a))for(let t of a)mh(t,n,r,i,o);else if(a){const t=s[Pe];fh(t[xe].data[a.index],t,n,r,i,o)}}else t.child&&fh(t.child,e,n,r,i,o);if(o!==s){const s=2&t.flags?t.projectionNext:t.next;s&&fh(s,e,n,r,i,o)}}function gh(t,e,n,r,i){for(let o=Ye;o<t.length;o++){const s=t[o];fh(s[xe].node,s,e,n,r,i)}}function mh(t,e,n,r,i){if(i!==t){const i=bh(t);if(!i)return;r&&i instanceof hh&&e(i)&&-1===n.indexOf(i)?n.push(i):!r&&e(i)&&-1===n.indexOf(i)&&n.push(i)}}const yh=new Map,vh="__ng_debug__";function _h(t){return t instanceof Node?(t.hasOwnProperty(vh)||(t[vh]=t.nodeType==Node.ELEMENT_NODE?new hh(t):new ch(t)),t[vh]):null}const bh=_h;function wh(t){yh.set(t.nativeNode,t)}const Ch=eh(null,"core",[{provide:mc,useValue:"unknown"},{provide:rh,deps:[Ps]},{provide:Yc,deps:[]},{provide:vc,deps:[]}]);function xh(){return Xa}function Sh(){return $a}function Ph(t){return t?(bc&&ec(t),t):Ju}const Ih=[{provide:oh,useClass:oh,deps:[Lc,vc,Ps,mi,xa,cc]},{provide:qu,deps:[Lc],useFactory:Eh},{provide:cc,useClass:cc,deps:[[new ct,uc]]},{provide:Tc,useClass:Tc,deps:[]},dc,{provide:qa,useFactory:xh,deps:[]},{provide:Ga,useFactory:Sh,deps:[]},{provide:_c,useFactory:Ph,deps:[[new ut(_c),new ct,new pt]]}];function Eh(t){let e=[];return t.onStable.subscribe(()=>{for(;e.length;)e.pop()()}),function(t){e.push(t)}}let Th=(()=>{class t{constructor(t){}}return t.ngModuleDef=fe({type:t}),t.ngInjectorDef=yt({factory:function(e){return new(e||t)(qt(oh))},providers:Ih}),t})();function Ah(t,e,n,r,i,o){t|=1;const{matchedQueries:s,references:a,matchedQueryIds:l}=Ol(e);return{nodeIndex:-1,parent:null,renderParent:null,bindingIndex:-1,outputIndex:-1,flags:t,checkIndex:-1,childFlags:0,directChildFlags:0,childMatchedQueries:0,matchedQueries:s,matchedQueryIds:l,references:a,ngContentIndex:n,childCount:r,bindings:[],bindingFlags:0,outputs:[],element:{ns:null,name:null,attrs:null,template:o?Bl(o):null,componentProvider:null,componentView:null,componentRendererType:null,publicProviders:null,allProviders:null,handleEvent:i||hl},provider:null,text:null,query:null,ngContent:null}}function kh(t,e,n,r,i,o,s=[],a,l,u,c,h){u||(u=hl);const{matchedQueries:p,references:d,matchedQueryIds:f}=Ol(n);let g=null,m=null;o&&([g,m]=Wl(o)),a=a||[];const y=new Array(a.length);for(let b=0;b<a.length;b++){const[t,e,n]=a[b],[r,i]=Wl(e);let o=void 0,s=void 0;switch(15&t){case 4:s=n;break;case 1:case 8:o=n}y[b]={flags:t,ns:r,name:i,nonMinifiedName:i,securityContext:o,suffix:s}}l=l||[];const v=new Array(l.length);for(let b=0;b<l.length;b++){const[t,e]=l[b];v[b]={type:0,target:t,eventName:e,propName:null}}const _=(s=s||[]).map(([t,e])=>{const[n,r]=Wl(t);return[n,r,e]});return h=function(t){if(t&&t.id===gl){const e=null!=t.encapsulation&&t.encapsulation!==ne.None||t.styles.length||Object.keys(t.data).length;t.id=e?`c${vl++}`:ml}return t&&t.id===ml&&(t=null),t||null}(h),c&&(e|=33554432),{nodeIndex:-1,parent:null,renderParent:null,bindingIndex:-1,outputIndex:-1,checkIndex:t,flags:e|=1,childFlags:0,directChildFlags:0,childMatchedQueries:0,matchedQueries:p,matchedQueryIds:f,references:d,ngContentIndex:r,childCount:i,bindings:y,bindingFlags:Vl(y),outputs:v,element:{ns:g,name:m,attrs:_,template:null,componentProvider:null,componentView:c||null,componentRendererType:h,publicProviders:null,allProviders:null,handleEvent:u||hl},provider:null,text:null,query:null,ngContent:null}}function Oh(t,e,n){const r=n.element,i=t.root.selectorOrNode,o=t.renderer;let s;if(t.parent||!i){s=r.name?o.createElement(r.name,r.ns):o.createComment("");const i=Rl(t,e,n);i&&o.appendChild(i,s)}else s=o.selectRootElement(i,!!r.componentRendererType&&r.componentRendererType.encapsulation===ne.ShadowDom);if(r.attrs)for(let a=0;a<r.attrs.length;a++){const[t,e,n]=r.attrs[a];o.setAttribute(s,e,n,t)}return s}function Mh(t,e,n,r){for(let s=0;s<n.outputs.length;s++){const a=n.outputs[s],l=Rh(t,n.nodeIndex,(o=a.eventName,(i=a.target)?`${i}:${o}`:o));let u=a.target,c=t;"component"===a.target&&(u=null,c=e);const h=c.renderer.listen(u||r,a.eventName,l);t.disposables[n.outputIndex+s]=h}var i,o}function Rh(t,e,n){return r=>Sl(t,e,n,r)}function Dh(t,e,n,r){if(!bl(t,e,n,r))return!1;const i=e.bindings[n],o=sl(t,e.nodeIndex),s=o.renderElement,a=i.name;switch(15&i.flags){case 1:!function(t,e,n,r,i,o){const s=e.securityContext;let a=s?t.root.sanitizer.sanitize(s,o):o;a=null!=a?a.toString():null;const l=t.renderer;null!=o?l.setAttribute(n,i,a,r):l.removeAttribute(n,i,r)}(t,i,s,i.ns,a,r);break;case 2:!function(t,e,n,r){const i=t.renderer;r?i.addClass(e,n):i.removeClass(e,n)}(t,s,a,r);break;case 4:!function(t,e,n,r,i){let o=t.root.sanitizer.sanitize(Ni.STYLE,i);if(null!=o){o=o.toString();const t=e.suffix;null!=t&&(o+=t)}else o=null;const s=t.renderer;null!=o?s.setStyle(n,r,o):s.removeStyle(n,r)}(t,i,s,a,r);break;case 8:!function(t,e,n,r,i){const o=e.securityContext;let s=o?t.root.sanitizer.sanitize(o,i):i;t.renderer.setProperty(n,r,s)}(33554432&e.flags&&32&i.flags?o.componentView:t,i,s,a,r)}return!0}function Bh(t,e,n){let r=[];for(let i in n)r.push({propName:i,bindingType:n[i]});return{nodeIndex:-1,parent:null,renderParent:null,bindingIndex:-1,outputIndex:-1,checkIndex:-1,flags:t,childFlags:0,directChildFlags:0,childMatchedQueries:0,ngContentIndex:-1,matchedQueries:{},matchedQueryIds:0,references:{},childCount:0,bindings:[],bindingFlags:0,outputs:[],element:null,provider:null,text:null,query:{id:e,filterId:kl(e),bindings:r},ngContent:null}}function jh(t){const e=t.def.nodeMatchedQueries;for(;t.parent&&Al(t);){let n=t.parentNodeDef;t=t.parent;const r=n.nodeIndex+n.childCount;for(let i=0;i<=r;i++){const r=t.def.nodes[i];67108864&r.flags&&536870912&r.flags&&(r.query.filterId&e)===r.query.filterId&&ul(t,i).setDirty(),!(1&r.flags&&i+r.childCount<n.nodeIndex)&&67108864&r.childFlags&&536870912&r.childFlags||(i+=r.childCount)}}if(134217728&t.def.nodeFlags)for(let n=0;n<t.def.nodes.length;n++){const e=t.def.nodes[n];134217728&e.flags&&536870912&e.flags&&ul(t,n).setDirty(),n+=e.childCount}}function Fh(t,e){const n=ul(t,e.nodeIndex);if(!n.dirty)return;let r,i=void 0;if(67108864&e.flags){const n=e.parent.parent;i=zh(t,n.nodeIndex,n.nodeIndex+n.childCount,e.query,[]),r=al(t,e.parent.nodeIndex).instance}else 134217728&e.flags&&(i=zh(t,0,t.def.nodes.length-1,e.query,[]),r=t.component);n.reset(i);const o=e.query.bindings;let s=!1;for(let a=0;a<o.length;a++){const t=o[a];let e;switch(t.bindingType){case 0:e=n.first;break;case 1:e=n,s=!0}r[t.propName]=e}s&&n.notifyOnChanges()}function zh(t,e,n,r,i){for(let o=e;o<=n;o++){const e=t.def.nodes[o],n=e.matchedQueries[r.id];if(null!=n&&i.push(Lh(t,e,n)),1&e.flags&&e.element.template&&(e.element.template.nodeMatchedQueries&r.filterId)===r.filterId){const n=sl(t,o);if((e.childMatchedQueries&r.filterId)===r.filterId&&(zh(t,o+1,o+e.childCount,r,i),o+=e.childCount),16777216&e.flags){const t=n.viewContainer._embeddedViews;for(let e=0;e<t.length;e++){const o=t[e],s=Pl(o);s&&s===n&&zh(o,0,o.def.nodes.length-1,r,i)}}const s=n.template._projectedViews;if(s)for(let t=0;t<s.length;t++){const e=s[t];zh(e,0,e.def.nodes.length-1,r,i)}}(e.childMatchedQueries&r.filterId)!==r.filterId&&(o+=e.childCount)}return i}function Lh(t,e,n){if(null!=n)switch(n){case 1:return sl(t,e.nodeIndex).renderElement;case 0:return new Ia(sl(t,e.nodeIndex).renderElement);case 2:return sl(t,e.nodeIndex).template;case 3:return sl(t,e.nodeIndex).viewContainer;case 4:return al(t,e.nodeIndex).instance}}function Hh(t,e,n){const r=Rl(t,e,n);r&&zl(t,n.ngContent.index,1,r,null,void 0)}function Nh(t,e){return Vh(128,t,new Array(e+1))}function Wh(t,e){const n=Object.keys(e),r=n.length,i=new Array(r);for(let o=0;o<r;o++){const t=n[o];i[e[t]]=t}return Vh(64,t,i)}function Vh(t,e,n){const r=new Array(n.length);for(let i=0;i<n.length;i++){const t=n[i];r[i]={flags:8,name:t,ns:null,nonMinifiedName:t,securityContext:null,suffix:null}}return{nodeIndex:-1,parent:null,renderParent:null,bindingIndex:-1,outputIndex:-1,checkIndex:e,flags:t,childFlags:0,directChildFlags:0,childMatchedQueries:0,matchedQueries:{},matchedQueryIds:0,references:{},ngContentIndex:-1,childCount:0,bindings:r,bindingFlags:Vl(r),outputs:[],element:null,provider:null,text:null,query:null,ngContent:null}}function Uh(t,e,n){const r=new Array(n.length-1);for(let i=1;i<n.length;i++)r[i-1]={flags:8,name:null,ns:null,nonMinifiedName:null,securityContext:null,suffix:n[i]};return{nodeIndex:-1,parent:null,renderParent:null,bindingIndex:-1,outputIndex:-1,checkIndex:t,flags:2,childFlags:0,directChildFlags:0,childMatchedQueries:0,matchedQueries:{},matchedQueryIds:0,references:{},ngContentIndex:e,childCount:0,bindings:r,bindingFlags:8,outputs:[],element:null,provider:null,text:{prefix:n[0]},query:null,ngContent:null}}function qh(t,e,n){let r;const i=t.renderer;r=i.createText(n.text.prefix);const o=Rl(t,e,n);return o&&i.appendChild(o,r),{renderText:r}}function Gh(t,e){return(null!=t?t.toString():"")+e.suffix}function Yh(t,e,n,r){let i=0,o=0,s=0,a=0,l=0,u=null,c=null,h=!1,p=!1,d=null;for(let f=0;f<e.length;f++){const t=e[f];if(t.nodeIndex=f,t.parent=u,t.bindingIndex=i,t.outputIndex=o,t.renderParent=c,s|=t.flags,l|=t.matchedQueryIds,t.element){const e=t.element;e.publicProviders=u?u.element.publicProviders:Object.create(null),e.allProviders=e.publicProviders,h=!1,p=!1,t.element.template&&(l|=t.element.template.nodeMatchedQueries)}if($h(u,t,e.length),i+=t.bindings.length,o+=t.outputs.length,!c&&3&t.flags&&(d=t),20224&t.flags){h||(h=!0,u.element.publicProviders=Object.create(u.element.publicProviders),u.element.allProviders=u.element.publicProviders);const e=0!=(32768&t.flags);0==(8192&t.flags)||e?u.element.publicProviders[dl(t.provider.token)]=t:(p||(p=!0,u.element.allProviders=Object.create(u.element.publicProviders)),u.element.allProviders[dl(t.provider.token)]=t),e&&(u.element.componentProvider=t)}if(u?(u.childFlags|=t.flags,u.directChildFlags|=t.flags,u.childMatchedQueries|=t.matchedQueryIds,t.element&&t.element.template&&(u.childMatchedQueries|=t.element.template.nodeMatchedQueries)):a|=t.flags,t.childCount>0)u=t,Xh(t)||(c=t);else for(;u&&f===u.nodeIndex+u.childCount;){const t=u.parent;t&&(t.childFlags|=u.childFlags,t.childMatchedQueries|=u.childMatchedQueries),u=t,c=u&&Xh(u)?u.renderParent:u}}return{factory:null,nodeFlags:s,rootNodeFlags:a,nodeMatchedQueries:l,flags:t,nodes:e,updateDirectives:n||hl,updateRenderer:r||hl,handleEvent:(t,n,r,i)=>e[n].element.handleEvent(t,r,i),bindingCount:i,outputCount:o,lastRenderRootNode:d}}function Xh(t){return 0!=(1&t.flags)&&null===t.element.name}function $h(t,e,n){const r=e.element&&e.element.template;if(r){if(!r.lastRenderRootNode)throw new Error("Illegal State: Embedded templates without nodes are not allowed!");if(r.lastRenderRootNode&&16777216&r.lastRenderRootNode.flags)throw new Error(`Illegal State: Last root node of a template can't have embedded views, at index ${e.nodeIndex}!`)}if(20224&e.flags&&0==(1&(t?t.flags:0)))throw new Error(`Illegal State: StaticProvider/Directive nodes need to be children of elements or anchors, at index ${e.nodeIndex}!`);if(e.query){if(67108864&e.flags&&(!t||0==(16384&t.flags)))throw new Error(`Illegal State: Content Query nodes need to be children of directives, at index ${e.nodeIndex}!`);if(134217728&e.flags&&t)throw new Error(`Illegal State: View Query nodes have to be top level nodes, at index ${e.nodeIndex}!`)}if(e.childCount){const r=t?t.nodeIndex+t.childCount:n-1;if(e.nodeIndex<=r&&e.nodeIndex+e.childCount>r)throw new Error(`Illegal State: childCount of node leads outside of parent, at index ${e.nodeIndex}!`)}}function Qh(t,e,n,r){const i=Jh(t.root,t.renderer,t,e,n);return tp(i,t.component,r),ep(i),i}function Zh(t,e,n){const r=Jh(t,t.renderer,null,null,e);return tp(r,n,n),ep(r),r}function Kh(t,e,n,r){const i=e.element.componentRendererType;let o;return o=i?t.root.rendererFactory.createRenderer(r,i):t.root.renderer,Jh(t.root,o,t,e.element.componentProvider,n)}function Jh(t,e,n,r,i){const o=new Array(i.nodes.length),s=i.outputCount?new Array(i.outputCount):null;return{def:i,parent:n,viewContainerParent:null,parentNodeDef:r,context:null,component:null,nodes:o,state:13,root:t,renderer:e,oldValues:new Array(i.bindingCount),disposables:s,initIndex:-1}}function tp(t,e,n){t.component=e,t.context=n}function ep(t){let e;Tl(t)&&(e=sl(t.parent,t.parentNodeDef.parent.nodeIndex).renderElement);const n=t.def,r=t.nodes;for(let i=0;i<n.nodes.length;i++){const o=n.nodes[i];let s;switch(cl.setCurrentNode(t,i),201347067&o.flags){case 1:const n=Oh(t,e,o);let a=void 0;if(33554432&o.flags){const e=Bl(o.element.componentView);a=cl.createComponentView(t,o,e,n)}Mh(t,a,o,n),s={renderElement:n,componentView:a,viewContainer:null,template:o.element.template?cu(t,o):void 0},16777216&o.flags&&(s.viewContainer=su(t,o,s));break;case 2:s=qh(t,e,o);break;case 512:case 1024:case 2048:case 256:s=r[i],s||4096&o.flags||(s={instance:Ou(t,o)});break;case 16:s={instance:Mu(t,o)};break;case 16384:s=r[i],s||(s={instance:Ru(t,o)}),32768&o.flags&&tp(sl(t,o.parent.nodeIndex).componentView,s.instance,s.instance);break;case 32:case 64:case 128:s={value:void 0};break;case 67108864:case 134217728:s=new lc;break;case 8:Hh(t,e,o),s=void 0}r[i]=s}cp(t,up.CreateViewNodes),fp(t,201326592,268435456,0)}function np(t){op(t),cl.updateDirectives(t,1),hp(t,up.CheckNoChanges),cl.updateRenderer(t,1),cp(t,up.CheckNoChanges),t.state&=-97}function rp(t){1&t.state?(t.state&=-2,t.state|=2):t.state&=-3,rl(t,0,256),op(t),cl.updateDirectives(t,0),hp(t,up.CheckAndUpdate),fp(t,67108864,536870912,0);let e=rl(t,256,512);Nu(t,2097152|(e?1048576:0)),cl.updateRenderer(t,0),cp(t,up.CheckAndUpdate),fp(t,134217728,536870912,0),e=rl(t,512,768),Nu(t,8388608|(e?4194304:0)),2&t.def.flags&&(t.state&=-9),t.state&=-97,rl(t,768,1024)}function ip(t,e,n,r,i,o,s,a,l,u,c,h,p){return 0===n?function(t,e,n,r,i,o,s,a,l,u,c,h){switch(201347067&e.flags){case 1:return function(t,e,n,r,i,o,s,a,l,u,c,h){const p=e.bindings.length;let d=!1;return p>0&&Dh(t,e,0,n)&&(d=!0),p>1&&Dh(t,e,1,r)&&(d=!0),p>2&&Dh(t,e,2,i)&&(d=!0),p>3&&Dh(t,e,3,o)&&(d=!0),p>4&&Dh(t,e,4,s)&&(d=!0),p>5&&Dh(t,e,5,a)&&(d=!0),p>6&&Dh(t,e,6,l)&&(d=!0),p>7&&Dh(t,e,7,u)&&(d=!0),p>8&&Dh(t,e,8,c)&&(d=!0),p>9&&Dh(t,e,9,h)&&(d=!0),d}(t,e,n,r,i,o,s,a,l,u,c,h);case 2:return function(t,e,n,r,i,o,s,a,l,u,c,h){let p=!1;const d=e.bindings,f=d.length;if(f>0&&bl(t,e,0,n)&&(p=!0),f>1&&bl(t,e,1,r)&&(p=!0),f>2&&bl(t,e,2,i)&&(p=!0),f>3&&bl(t,e,3,o)&&(p=!0),f>4&&bl(t,e,4,s)&&(p=!0),f>5&&bl(t,e,5,a)&&(p=!0),f>6&&bl(t,e,6,l)&&(p=!0),f>7&&bl(t,e,7,u)&&(p=!0),f>8&&bl(t,e,8,c)&&(p=!0),f>9&&bl(t,e,9,h)&&(p=!0),p){let p=e.text.prefix;f>0&&(p+=Gh(n,d[0])),f>1&&(p+=Gh(r,d[1])),f>2&&(p+=Gh(i,d[2])),f>3&&(p+=Gh(o,d[3])),f>4&&(p+=Gh(s,d[4])),f>5&&(p+=Gh(a,d[5])),f>6&&(p+=Gh(l,d[6])),f>7&&(p+=Gh(u,d[7])),f>8&&(p+=Gh(c,d[8])),f>9&&(p+=Gh(h,d[9]));const g=ol(t,e.nodeIndex).renderText;t.renderer.setValue(g,p)}return p}(t,e,n,r,i,o,s,a,l,u,c,h);case 16384:return function(t,e,n,r,i,o,s,a,l,u,c,h){const p=al(t,e.nodeIndex),d=p.instance;let f=!1,g=void 0;const m=e.bindings.length;return m>0&&_l(t,e,0,n)&&(f=!0,g=Hu(t,p,e,0,n,g)),m>1&&_l(t,e,1,r)&&(f=!0,g=Hu(t,p,e,1,r,g)),m>2&&_l(t,e,2,i)&&(f=!0,g=Hu(t,p,e,2,i,g)),m>3&&_l(t,e,3,o)&&(f=!0,g=Hu(t,p,e,3,o,g)),m>4&&_l(t,e,4,s)&&(f=!0,g=Hu(t,p,e,4,s,g)),m>5&&_l(t,e,5,a)&&(f=!0,g=Hu(t,p,e,5,a,g)),m>6&&_l(t,e,6,l)&&(f=!0,g=Hu(t,p,e,6,l,g)),m>7&&_l(t,e,7,u)&&(f=!0,g=Hu(t,p,e,7,u,g)),m>8&&_l(t,e,8,c)&&(f=!0,g=Hu(t,p,e,8,c,g)),m>9&&_l(t,e,9,h)&&(f=!0,g=Hu(t,p,e,9,h,g)),g&&d.ngOnChanges(g),65536&e.flags&&il(t,256,e.nodeIndex)&&d.ngOnInit(),262144&e.flags&&d.ngDoCheck(),f}(t,e,n,r,i,o,s,a,l,u,c,h);case 32:case 64:case 128:return function(t,e,n,r,i,o,s,a,l,u,c,h){const p=e.bindings;let d=!1;const f=p.length;if(f>0&&bl(t,e,0,n)&&(d=!0),f>1&&bl(t,e,1,r)&&(d=!0),f>2&&bl(t,e,2,i)&&(d=!0),f>3&&bl(t,e,3,o)&&(d=!0),f>4&&bl(t,e,4,s)&&(d=!0),f>5&&bl(t,e,5,a)&&(d=!0),f>6&&bl(t,e,6,l)&&(d=!0),f>7&&bl(t,e,7,u)&&(d=!0),f>8&&bl(t,e,8,c)&&(d=!0),f>9&&bl(t,e,9,h)&&(d=!0),d){const d=ll(t,e.nodeIndex);let g;switch(201347067&e.flags){case 32:g=new Array(p.length),f>0&&(g[0]=n),f>1&&(g[1]=r),f>2&&(g[2]=i),f>3&&(g[3]=o),f>4&&(g[4]=s),f>5&&(g[5]=a),f>6&&(g[6]=l),f>7&&(g[7]=u),f>8&&(g[8]=c),f>9&&(g[9]=h);break;case 64:g={},f>0&&(g[p[0].name]=n),f>1&&(g[p[1].name]=r),f>2&&(g[p[2].name]=i),f>3&&(g[p[3].name]=o),f>4&&(g[p[4].name]=s),f>5&&(g[p[5].name]=a),f>6&&(g[p[6].name]=l),f>7&&(g[p[7].name]=u),f>8&&(g[p[8].name]=c),f>9&&(g[p[9].name]=h);break;case 128:const t=n;switch(f){case 1:g=t.transform(n);break;case 2:g=t.transform(r);break;case 3:g=t.transform(r,i);break;case 4:g=t.transform(r,i,o);break;case 5:g=t.transform(r,i,o,s);break;case 6:g=t.transform(r,i,o,s,a);break;case 7:g=t.transform(r,i,o,s,a,l);break;case 8:g=t.transform(r,i,o,s,a,l,u);break;case 9:g=t.transform(r,i,o,s,a,l,u,c);break;case 10:g=t.transform(r,i,o,s,a,l,u,c,h)}}d.value=g}return d}(t,e,n,r,i,o,s,a,l,u,c,h);default:throw"unreachable"}}(t,e,r,i,o,s,a,l,u,c,h,p):function(t,e,n){switch(201347067&e.flags){case 1:return function(t,e,n){let r=!1;for(let i=0;i<n.length;i++)Dh(t,e,i,n[i])&&(r=!0);return r}(t,e,n);case 2:return function(t,e,n){const r=e.bindings;let i=!1;for(let o=0;o<n.length;o++)bl(t,e,o,n[o])&&(i=!0);if(i){let i="";for(let t=0;t<n.length;t++)i+=Gh(n[t],r[t]);i=e.text.prefix+i;const o=ol(t,e.nodeIndex).renderText;t.renderer.setValue(o,i)}return i}(t,e,n);case 16384:return function(t,e,n){const r=al(t,e.nodeIndex),i=r.instance;let o=!1,s=void 0;for(let a=0;a<n.length;a++)_l(t,e,a,n[a])&&(o=!0,s=Hu(t,r,e,a,n[a],s));return s&&i.ngOnChanges(s),65536&e.flags&&il(t,256,e.nodeIndex)&&i.ngOnInit(),262144&e.flags&&i.ngDoCheck(),o}(t,e,n);case 32:case 64:case 128:return function(t,e,n){const r=e.bindings;let i=!1;for(let o=0;o<n.length;o++)bl(t,e,o,n[o])&&(i=!0);if(i){const i=ll(t,e.nodeIndex);let o;switch(201347067&e.flags){case 32:o=n;break;case 64:o={};for(let i=0;i<n.length;i++)o[r[i].name]=n[i];break;case 128:const t=n[0],e=n.slice(1);o=t.transform(...e)}i.value=o}return i}(t,e,n);default:throw"unreachable"}}(t,e,r)}function op(t){const e=t.def;if(4&e.nodeFlags)for(let n=0;n<e.nodes.length;n++){const r=e.nodes[n];if(4&r.flags){const e=sl(t,n).template._projectedViews;if(e)for(let n=0;n<e.length;n++){const r=e[n];r.state|=32,xl(r,t)}}else 0==(4&r.childFlags)&&(n+=r.childCount)}}function sp(t,e,n,r,i,o,s,a,l,u,c,h,p){return 0===n?function(t,e,n,r,i,o,s,a,l,u,c,h){const p=e.bindings.length;p>0&&wl(t,e,0,n),p>1&&wl(t,e,1,r),p>2&&wl(t,e,2,i),p>3&&wl(t,e,3,o),p>4&&wl(t,e,4,s),p>5&&wl(t,e,5,a),p>6&&wl(t,e,6,l),p>7&&wl(t,e,7,u),p>8&&wl(t,e,8,c),p>9&&wl(t,e,9,h)}(t,e,r,i,o,s,a,l,u,c,h,p):function(t,e,n){for(let r=0;r<n.length;r++)wl(t,e,r,n[r])}(t,e,r),!1}function ap(t,e){if(ul(t,e.nodeIndex).dirty)throw tl(cl.createDebugContext(t,e.nodeIndex),`Query ${e.query.id} not dirty`,`Query ${e.query.id} dirty`,0!=(1&t.state))}function lp(t){if(!(128&t.state)){if(hp(t,up.Destroy),cp(t,up.Destroy),Nu(t,131072),t.disposables)for(let e=0;e<t.disposables.length;e++)t.disposables[e]();!function(t){if(!(16&t.state))return;const e=Pl(t);if(e){const n=e.template._projectedViews;n&&(te(n,n.indexOf(t)),cl.dirtyParentQueries(t))}}(t),t.renderer.destroyNode&&function(t){const e=t.def.nodes.length;for(let n=0;n<e;n++){const e=t.def.nodes[n];1&e.flags?t.renderer.destroyNode(sl(t,n).renderElement):2&e.flags?t.renderer.destroyNode(ol(t,n).renderText):(67108864&e.flags||134217728&e.flags)&&ul(t,n).destroy()}}(t),Tl(t)&&t.renderer.destroy(),t.state|=128}}const up=function(){var t={CreateViewNodes:0,CheckNoChanges:1,CheckNoChangesProjectedViews:2,CheckAndUpdate:3,CheckAndUpdateProjectedViews:4,Destroy:5};return t[t.CreateViewNodes]="CreateViewNodes",t[t.CheckNoChanges]="CheckNoChanges",t[t.CheckNoChangesProjectedViews]="CheckNoChangesProjectedViews",t[t.CheckAndUpdate]="CheckAndUpdate",t[t.CheckAndUpdateProjectedViews]="CheckAndUpdateProjectedViews",t[t.Destroy]="Destroy",t}();function cp(t,e){const n=t.def;if(33554432&n.nodeFlags)for(let r=0;r<n.nodes.length;r++){const i=n.nodes[r];33554432&i.flags?pp(sl(t,r).componentView,e):0==(33554432&i.childFlags)&&(r+=i.childCount)}}function hp(t,e){const n=t.def;if(16777216&n.nodeFlags)for(let r=0;r<n.nodes.length;r++){const i=n.nodes[r];if(16777216&i.flags){const n=sl(t,r).viewContainer._embeddedViews;for(let t=0;t<n.length;t++)pp(n[t],e)}else 0==(16777216&i.childFlags)&&(r+=i.childCount)}}function pp(t,e){const n=t.state;switch(e){case up.CheckNoChanges:0==(128&n)&&(12==(12&n)?np(t):64&n&&dp(t,up.CheckNoChangesProjectedViews));break;case up.CheckNoChangesProjectedViews:0==(128&n)&&(32&n?np(t):64&n&&dp(t,e));break;case up.CheckAndUpdate:0==(128&n)&&(12==(12&n)?rp(t):64&n&&dp(t,up.CheckAndUpdateProjectedViews));break;case up.CheckAndUpdateProjectedViews:0==(128&n)&&(32&n?rp(t):64&n&&dp(t,e));break;case up.Destroy:lp(t);break;case up.CreateViewNodes:ep(t)}}function dp(t,e){hp(t,e),cp(t,e)}function fp(t,e,n,r){if(!(t.def.nodeFlags&e&&t.def.nodeFlags&n))return;const i=t.def.nodes.length;for(let o=0;o<i;o++){const i=t.def.nodes[o];if(i.flags&e&&i.flags&n)switch(cl.setCurrentNode(t,i.nodeIndex),r){case 0:Fh(t,i);break;case 1:ap(t,i)}i.childFlags&e&&i.childFlags&n||(o+=i.childCount)}}let gp=!1;function mp(t,e,n,r,i,o){const s=i.injector.get(Aa);return Zh(vp(t,i,s,e,n),r,o)}function yp(t,e,n,r,i,o){const s=i.injector.get(Aa),a=vp(t,i,new Qp(s),e,n),l=Tp(r);return Xp(Dp.create,Zh,null,[a,l,o])}function vp(t,e,n,r,i){const o=e.injector.get(Wi),s=e.injector.get(mi),a=n.createRenderer(null,null);return{ngModule:e,injector:t,projectableNodes:r,selectorOrNode:i,sanitizer:o,rendererFactory:n,renderer:a,errorHandler:s}}function _p(t,e,n,r){const i=Tp(n);return Xp(Dp.create,Qh,null,[t,e,i,r])}function bp(t,e,n,r){return n=Sp.get(e.element.componentProvider.provider.token)||Tp(n),Xp(Dp.create,Kh,null,[t,e,n,r])}function wp(t,e,n,r){return yu(t,e,n,function(t){const{hasOverrides:e,hasDeprecatedOverrides:n}=function(t){let e=!1,n=!1;return 0===Cp.size?{hasOverrides:e,hasDeprecatedOverrides:n}:(t.providers.forEach(t=>{const r=Cp.get(t.token);3840&t.flags&&r&&(e=!0,n=n||r.deprecatedBehavior)}),t.modules.forEach(t=>{xp.forEach((r,i)=>{vt(i).providedIn===t&&(e=!0,n=n||r.deprecatedBehavior)})}),{hasOverrides:e,hasDeprecatedOverrides:n})}(t);return e?(function(t){for(let e=0;e<t.providers.length;e++){const r=t.providers[e];n&&(r.flags|=4096);const i=Cp.get(r.token);i&&(r.flags=-3841&r.flags|i.flags,r.deps=Ml(i.deps),r.value=i.value)}if(xp.size>0){let e=new Set(t.modules);xp.forEach((r,i)=>{if(e.has(vt(i).providedIn)){let e={token:i,flags:r.flags|(n?4096:0),deps:Ml(r.deps),value:r.value,index:t.providers.length};t.providers.push(e),t.providersByKey[dl(i)]=e}})}}(t=t.factory(()=>hl)),t):t}(r))}const Cp=new Map,xp=new Map,Sp=new Map;function Pp(t){let e;Cp.set(t.token,t),"function"==typeof t.token&&(e=vt(t.token))&&"function"==typeof e.providedIn&&xp.set(t.token,t)}function Ip(t,e){const n=Bl(e.viewDefFactory),r=Bl(n.nodes[0].element.componentView);Sp.set(t,r)}function Ep(){Cp.clear(),xp.clear(),Sp.clear()}function Tp(t){if(0===Cp.size)return t;const e=function(t){const e=[];let n=null;for(let r=0;r<t.nodes.length;r++){const i=t.nodes[r];1&i.flags&&(n=i),n&&3840&i.flags&&Cp.has(i.provider.token)&&(e.push(n.nodeIndex),n=null)}return e}(t);if(0===e.length)return t;t=t.factory(()=>hl);for(let r=0;r<e.length;r++)n(t,e[r]);return t;function n(t,e){for(let n=e+1;n<t.nodes.length;n++){const e=t.nodes[n];if(1&e.flags)return;if(3840&e.flags){const t=e.provider,n=Cp.get(t.token);n&&(e.flags=-3841&e.flags|n.flags,t.deps=Ml(n.deps),t.value=n.value)}}}}function Ap(t,e,n,r,i,o,s,a,l,u,c,h,p){const d=t.def.nodes[e];return ip(t,d,n,r,i,o,s,a,l,u,c,h,p),224&d.flags?ll(t,e).value:void 0}function kp(t,e,n,r,i,o,s,a,l,u,c,h,p){const d=t.def.nodes[e];return sp(t,d,n,r,i,o,s,a,l,u,c,h,p),224&d.flags?ll(t,e).value:void 0}function Op(t){return Xp(Dp.detectChanges,rp,null,[t])}function Mp(t){return Xp(Dp.checkNoChanges,np,null,[t])}function Rp(t){return Xp(Dp.destroy,lp,null,[t])}const Dp=function(){var t={create:0,detectChanges:1,checkNoChanges:2,destroy:3,handleEvent:4};return t[t.create]="create",t[t.detectChanges]="detectChanges",t[t.checkNoChanges]="checkNoChanges",t[t.destroy]="destroy",t[t.handleEvent]="handleEvent",t}();let Bp,jp,Fp;function zp(t,e){jp=t,Fp=e}function Lp(t,e,n,r){return zp(t,e),Xp(Dp.handleEvent,t.def.handleEvent,null,[t,e,n,r])}function Hp(t,e){if(128&t.state)throw nl(Dp[Bp]);return zp(t,Up(t,0)),t.def.updateDirectives((function(t,n,r,...i){const o=t.def.nodes[n];return 0===e?Wp(t,o,r,i):Vp(t,o,r,i),16384&o.flags&&zp(t,Up(t,n)),224&o.flags?ll(t,o.nodeIndex).value:void 0}),t)}function Np(t,e){if(128&t.state)throw nl(Dp[Bp]);return zp(t,qp(t,0)),t.def.updateRenderer((function(t,n,r,...i){const o=t.def.nodes[n];return 0===e?Wp(t,o,r,i):Vp(t,o,r,i),3&o.flags&&zp(t,qp(t,n)),224&o.flags?ll(t,o.nodeIndex).value:void 0}),t)}function Wp(t,e,n,r){if(ip(t,e,n,...r)){const s=1===n?r[0]:r;if(16384&e.flags){const n={};for(let t=0;t<e.bindings.length;t++){const r=e.bindings[t],a=s[t];8&r.flags&&(n[(i=r.nonMinifiedName,o=void 0,o=i.replace(/[$@]/g,"_"),`ng-reflect-${i=o.replace(qi,(...t)=>"-"+t[1].toLowerCase())}`)]=Gi(a))}const r=e.parent,a=sl(t,r.nodeIndex).renderElement;if(r.element.name)for(let e in n){const r=n[e];null!=r?t.renderer.setAttribute(a,e,r):t.renderer.removeAttribute(a,e)}else t.renderer.setValue(a,`bindings=${JSON.stringify(n,null,2)}`)}}var i,o}function Vp(t,e,n,r){sp(t,e,n,...r)}function Up(t,e){for(let n=e;n<t.def.nodes.length;n++){const e=t.def.nodes[n];if(16384&e.flags&&e.bindings&&e.bindings.length)return n}return null}function qp(t,e){for(let n=e;n<t.def.nodes.length;n++){const e=t.def.nodes[n];if(3&e.flags&&e.bindings&&e.bindings.length)return n}return null}class Gp{constructor(t,e){this.view=t,this.nodeIndex=e,null==e&&(this.nodeIndex=e=0),this.nodeDef=t.def.nodes[e];let n=this.nodeDef,r=t;for(;n&&0==(1&n.flags);)n=n.parent;if(!n)for(;!n&&r;)n=Il(r),r=r.parent;this.elDef=n,this.elView=r}get elOrCompView(){return sl(this.elView,this.elDef.nodeIndex).componentView||this.view}get injector(){return pu(this.elView,this.elDef)}get component(){return this.elOrCompView.component}get context(){return this.elOrCompView.context}get providerTokens(){const t=[];if(this.elDef)for(let e=this.elDef.nodeIndex+1;e<=this.elDef.nodeIndex+this.elDef.childCount;e++){const n=this.elView.def.nodes[e];20224&n.flags&&t.push(n.provider.token),e+=n.childCount}return t}get references(){const t={};if(this.elDef){Yp(this.elView,this.elDef,t);for(let e=this.elDef.nodeIndex+1;e<=this.elDef.nodeIndex+this.elDef.childCount;e++){const n=this.elView.def.nodes[e];20224&n.flags&&Yp(this.elView,n,t),e+=n.childCount}}return t}get componentRenderElement(){const t=function(t){for(;t&&!Tl(t);)t=t.parent;return t.parent?sl(t.parent,Il(t).nodeIndex):null}(this.elOrCompView);return t?t.renderElement:void 0}get renderNode(){return 2&this.nodeDef.flags?El(this.view,this.nodeDef):El(this.elView,this.elDef)}logError(t,...e){let n,r;2&this.nodeDef.flags?(n=this.view.def,r=this.nodeDef.nodeIndex):(n=this.elView.def,r=this.elDef.nodeIndex);const i=function(t,e){let n=-1;for(let r=0;r<=e;r++)3&t.nodes[r].flags&&n++;return n}(n,r);let o=-1;n.factory(()=>(o++,o===i?t.error.bind(t,...e):hl)),o<i&&(t.error("Illegal state: the ViewDefinitionFactory did not call the logger!"),t.error(...e))}}function Yp(t,e,n){for(let r in e.references)n[r]=Lh(t,e,e.references[r])}function Xp(t,e,n,r){const i=Bp,o=jp,s=Fp;try{Bp=t;const a=e.apply(n,r);return jp=o,Fp=s,Bp=i,a}catch(a){if(di(a)||!jp)throw a;throw function(t,e){return t instanceof Error||(t=new Error(t.toString())),el(t,e),t}(a,$p())}}function $p(){return jp?new Gp(jp,Fp):null}class Qp{constructor(t){this.delegate=t}createRenderer(t,e){return new Zp(this.delegate.createRenderer(t,e))}begin(){this.delegate.begin&&this.delegate.begin()}end(){this.delegate.end&&this.delegate.end()}whenRenderingDone(){return this.delegate.whenRenderingDone?this.delegate.whenRenderingDone():Promise.resolve(null)}}class Zp{constructor(t){this.delegate=t,this.debugContextFactory=$p,this.data=this.delegate.data}createDebugContext(t){return this.debugContextFactory(t)}destroyNode(t){const e=bh(t);!function(t){yh.delete(t.nativeNode)}(e),e instanceof lh&&(e.listeners.length=0),this.delegate.destroyNode&&this.delegate.destroyNode(t)}destroy(){this.delegate.destroy()}createElement(t,e){const n=this.delegate.createElement(t,e),r=this.createDebugContext(n);if(r){const e=new uh(n,null,r);e.name=t,wh(e)}return n}createComment(t){const e=this.delegate.createComment(t),n=this.createDebugContext(e);return n&&wh(new lh(e,null,n)),e}createText(t){const e=this.delegate.createText(t),n=this.createDebugContext(e);return n&&wh(new lh(e,null,n)),e}appendChild(t,e){const n=bh(t),r=bh(e);n&&r&&n instanceof uh&&n.addChild(r),this.delegate.appendChild(t,e)}insertBefore(t,e,n){const r=bh(t),i=bh(e),o=bh(n);r&&i&&r instanceof uh&&r.insertBefore(o,i),this.delegate.insertBefore(t,e,n)}removeChild(t,e){const n=bh(t),r=bh(e);n&&r&&n instanceof uh&&n.removeChild(r),this.delegate.removeChild(t,e)}selectRootElement(t,e){const n=this.delegate.selectRootElement(t,e),r=$p();return r&&wh(new uh(n,null,r)),n}setAttribute(t,e,n,r){const i=bh(t);i&&i instanceof uh&&(i.attributes[r?r+":"+e:e]=n),this.delegate.setAttribute(t,e,n,r)}removeAttribute(t,e,n){const r=bh(t);r&&r instanceof uh&&(r.attributes[n?n+":"+e:e]=null),this.delegate.removeAttribute(t,e,n)}addClass(t,e){const n=bh(t);n&&n instanceof uh&&(n.classes[e]=!0),this.delegate.addClass(t,e)}removeClass(t,e){const n=bh(t);n&&n instanceof uh&&(n.classes[e]=!1),this.delegate.removeClass(t,e)}setStyle(t,e,n,r){const i=bh(t);i&&i instanceof uh&&(i.styles[e]=n),this.delegate.setStyle(t,e,n,r)}removeStyle(t,e,n){const r=bh(t);r&&r instanceof uh&&(r.styles[e]=null),this.delegate.removeStyle(t,e,n)}setProperty(t,e,n){const r=bh(t);r&&r instanceof uh&&(r.properties[e]=n),this.delegate.setProperty(t,e,n)}listen(t,e,n){if("string"!=typeof t){const r=bh(t);r&&r.listeners.push(new ah(e,n))}return this.delegate.listen(t,e,n)}parentNode(t){return this.delegate.parentNode(t)}nextSibling(t){return this.delegate.nextSibling(t)}setValue(t,e){return this.delegate.setValue(t,e)}}function Kp(t,e,n){return new Jp(t,e,n)}class Jp extends Zt{constructor(t,e,n){super(),this.moduleType=t,this._bootstrapComponents=e,this._ngModuleDefFactory=n}create(t){!function(){if(gp)return;gp=!0;const t=_i()?{setCurrentNode:zp,createRootView:yp,createEmbeddedView:_p,createComponentView:bp,createNgModuleRef:wp,overrideProvider:Pp,overrideComponentView:Ip,clearOverrides:Ep,checkAndUpdateView:Op,checkNoChangesView:Mp,destroyView:Rp,createDebugContext:(t,e)=>new Gp(t,e),handleEvent:Lp,updateDirectives:Hp,updateRenderer:Np}:{setCurrentNode:()=>{},createRootView:mp,createEmbeddedView:Qh,createComponentView:Kh,createNgModuleRef:yu,overrideProvider:hl,overrideComponentView:hl,clearOverrides:hl,checkAndUpdateView:rp,checkNoChangesView:np,destroyView:lp,createDebugContext:(t,e)=>new Gp(t,e),handleEvent:(t,e,n,r)=>t.def.handleEvent(t,e,n,r),updateDirectives:(t,e)=>t.def.updateDirectives(0===e?Ap:kp,t),updateRenderer:(t,e)=>t.def.updateRenderer(0===e?Ap:kp,t)};cl.setCurrentNode=t.setCurrentNode,cl.createRootView=t.createRootView,cl.createEmbeddedView=t.createEmbeddedView,cl.createComponentView=t.createComponentView,cl.createNgModuleRef=t.createNgModuleRef,cl.overrideProvider=t.overrideProvider,cl.overrideComponentView=t.overrideComponentView,cl.clearOverrides=t.clearOverrides,cl.checkAndUpdateView=t.checkAndUpdateView,cl.checkNoChangesView=t.checkNoChangesView,cl.destroyView=t.destroyView,cl.resolveDep=zu,cl.createDebugContext=t.createDebugContext,cl.handleEvent=t.handleEvent,cl.updateDirectives=t.updateDirectives,cl.updateRenderer=t.updateRenderer,cl.dirtyParentQueries=jh}();const e=function(t){const e=Array.from(t.providers),n=Array.from(t.modules),r={};for(const i in t.providersByKey)r[i]=t.providersByKey[i];return{factory:t.factory,isRoot:t.isRoot,providers:e,modules:n,providersByKey:r}}(Bl(this._ngModuleDefFactory));return cl.createNgModuleRef(this.moduleType,t||Ps.NULL,this._bootstrapComponents,e)}}const td=(()=>{const t=Element.prototype;return t.matches||t.matchesSelector||t.mozMatchesSelector||t.msMatchesSelector||t.oMatchesSelector||t.webkitMatchesSelector})(),ed={schedule(t,e){const n=setTimeout(t,e);return()=>clearTimeout(n)},scheduleBeforeRender(t){if("undefined"==typeof window)return ed.schedule(t,0);if(void 0===window.requestAnimationFrame)return ed.schedule(t,16);const e=window.requestAnimationFrame(t);return()=>window.cancelAnimationFrame(e)}};function nd(t,e,n){let r=n;return function(t){return!!t&&t.nodeType===Node.ELEMENT_NODE}(t)&&e.some((e,n)=>!("*"===e||!function(t,e){return td.call(t,e)}(t,e)||(r=n,0))),r}const rd=10;class id{constructor(t,e){this.component=t,this.injector=e,this.componentFactory=e.get(xa).resolveComponentFactory(t)}create(t){return new od(this.componentFactory,t)}}class od{constructor(t,e){this.componentFactory=t,this.injector=e,this.inputChanges=null,this.implementsOnChanges=!1,this.scheduledChangeDetectionFn=null,this.scheduledDestroyFn=null,this.initialInputValues=new Map,this.uninitializedInputs=new Set}connect(t){if(null!==this.scheduledDestroyFn)return this.scheduledDestroyFn(),void(this.scheduledDestroyFn=null);this.componentRef||this.initializeComponent(t)}disconnect(){this.componentRef&&null===this.scheduledDestroyFn&&(this.scheduledDestroyFn=ed.schedule(()=>{this.componentRef&&(this.componentRef.destroy(),this.componentRef=null)},rd))}getInputValue(t){return this.componentRef?this.componentRef.instance[t]:this.initialInputValues.get(t)}setInputValue(t,e){var n,r;this.componentRef?(n=e)===(r=this.getInputValue(t))||n!=n&&r!=r||(this.recordInputChange(t,e),this.componentRef.instance[t]=e,this.scheduleDetectChanges()):this.initialInputValues.set(t,e)}initializeComponent(t){const e=Ps.create({providers:[],parent:this.injector}),n=function(t,e){const n=t.childNodes,r=e.map(()=>[]);let i=-1;e.some((t,e)=>"*"===t&&(i=e,!0));for(let o=0,s=n.length;o<s;++o){const t=n[o],s=nd(t,e,i);-1!==s&&r[s].push(t)}return r}(t,this.componentFactory.ngContentSelectors);this.componentRef=this.componentFactory.create(e,n,t),this.implementsOnChanges="function"==typeof this.componentRef.instance.ngOnChanges,this.initializeInputs(),this.initializeOutputs(),this.detectChanges(),this.injector.get(oh).attachView(this.componentRef.hostView)}initializeInputs(){this.componentFactory.inputs.forEach(({propName:t})=>{this.initialInputValues.has(t)?this.setInputValue(t,this.initialInputValues.get(t)):this.uninitializedInputs.add(t)}),this.initialInputValues.clear()}initializeOutputs(){const t=this.componentFactory.outputs.map(({propName:t,templateName:e})=>this.componentRef.instance[t].pipe(W(t=>({name:e,value:t}))));this.events=K(...t)}callNgOnChanges(){if(!this.implementsOnChanges||null===this.inputChanges)return;const t=this.inputChanges;this.inputChanges=null,this.componentRef.instance.ngOnChanges(t)}scheduleDetectChanges(){this.scheduledChangeDetectionFn||(this.scheduledChangeDetectionFn=ed.scheduleBeforeRender(()=>{this.scheduledChangeDetectionFn=null,this.detectChanges()}))}recordInputChange(t,e){if(this.componentRef&&!this.implementsOnChanges)return;null===this.inputChanges&&(this.inputChanges={});const n=this.inputChanges[t];if(n)return void(n.currentValue=e);const r=this.uninitializedInputs.has(t);this.uninitializedInputs.delete(t);const i=r?void 0:this.getInputValue(t);this.inputChanges[t]=new ta(i,e,r)}detectChanges(){this.componentRef&&(this.callNgOnChanges(),this.componentRef.changeDetectorRef.detectChanges())}}class sd extends HTMLElement{constructor(){super(...arguments),this.ngElementEventsSubscription=null}}function ad(t,e){const n=function(t,e){return e.get(xa).resolveComponentFactory(t).inputs}(t,e.injector),r=e.strategyFactory||new id(t,e.injector),i=function(t){const e={};return t.forEach(({propName:t,templateName:n})=>{e[function(t){return t.replace(/[A-Z]/g,t=>`-${t.toLowerCase()}`)}(n)]=t}),e}(n);class o extends sd{constructor(t){super(),this.ngElementStrategy=r.create(t||e.injector)}attributeChangedCallback(t,n,o,s){this.ngElementStrategy||(this.ngElementStrategy=r.create(e.injector)),this.ngElementStrategy.setInputValue(i[t],o)}connectedCallback(){this.ngElementStrategy||(this.ngElementStrategy=r.create(e.injector)),this.ngElementStrategy.connect(this),this.ngElementEventsSubscription=this.ngElementStrategy.events.subscribe(t=>{const e=function(t,e,n){if("function"!=typeof CustomEvent){const r=t.createEvent("CustomEvent");return r.initCustomEvent(e,!1,!1,n),r}return new CustomEvent(e,{bubbles:!1,cancelable:!1,detail:n})}(this.ownerDocument,t.name,t.value);this.dispatchEvent(e)})}disconnectedCallback(){this.ngElementStrategy&&this.ngElementStrategy.disconnect(),this.ngElementEventsSubscription&&(this.ngElementEventsSubscription.unsubscribe(),this.ngElementEventsSubscription=null)}}return o.observedAttributes=Object.keys(i),n.map(({propName:t})=>t).forEach(t=>{Object.defineProperty(o.prototype,t,{get:function(){return this.ngElementStrategy.getInputValue(t)},set:function(e){this.ngElementStrategy.setInputValue(t,e)},configurable:!0,enumerable:!0})}),o}class ld{constructor(t,e){this.strategy=t,this.injector=e,this.ngZone=this.injector.get(Lc)}connect(t){this.runInZone(()=>{this.strategy.connect(t)}),this.events=this.strategy.events}disconnect(){this.runInZone(()=>{this.strategy.disconnect()})}getInputValue(t){return this.runInZone(()=>this.strategy.getInputValue(t))}setInputValue(t,e){this.runInZone(()=>{this.strategy.setInputValue(t,e)})}runInZone(t){return this.ngZone.run(t)}}let ud=(()=>{class t{constructor(t,e){this.component=t,this.injector=e,this.ngElement=ad(this.component,{injector:this.injector}),customElements.define(this.generateName(),this.ngElement)}string4(){return Math.floor(65536*(1+Math.random())).toString(16).substring(1)}generateName(){let e="dummy-name-n";return e=e+(t.counter+"")+"-"+this.string4()+this.string4()+this.string4()+"-"+this.string4()+this.string4()+"-"+this.string4(),t.counter++,e}create(t){let e=new this.ngElement(this.injector);const n=e.ngElementStrategy;return e=null,new ld(n,this.injector)}}return t.counter=1,t})();var cd=n("D57K");const hd=new w(t=>t.complete());function pd(t){return t?function(t){return new w(e=>t.schedule(()=>e.complete()))}(t):hd}function dd(...t){let e=t[t.length-1];switch(A(e)?t.pop():e=void 0,t.length){case 0:return pd(e);case 1:return e?q(t,e):function(t){const e=new w(e=>{e.next(t),e.complete()});return e._isScalar=!0,e.value=t,e}(t[0]);default:return q(t,e)}}function fd(){return Error.call(this),this.message="argument out of range",this.name="ArgumentOutOfRangeError",this}fd.prototype=Object.create(Error.prototype);const gd=fd;function md(t){return e=>0===t?pd():e.lift(new yd(t))}class yd{constructor(t){if(this.total=t,this.total<0)throw new gd}call(t,e){return e.subscribe(new vd(t,this.total))}}class vd extends g{constructor(t,e){super(t),this.total=e,this.count=0}_next(t){const e=this.total,n=++this.count;n<=e&&(this.destination.next(t),n===e&&(this.destination.complete(),this.unsubscribe()))}}function _d(t,e){let n=!1;return arguments.length>=2&&(n=!0),function(r){return r.lift(new bd(t,e,n))}}class bd{constructor(t,e,n=!1){this.accumulator=t,this.seed=e,this.hasSeed=n}call(t,e){return e.subscribe(new wd(t,this.accumulator,this.seed,this.hasSeed))}}class wd extends g{constructor(t,e,n,r){super(t),this.accumulator=e,this._seed=n,this.hasSeed=r,this.index=0}get seed(){return this._seed}set seed(t){this.hasSeed=!0,this._seed=t}_next(t){if(this.hasSeed)return this._tryNext(t);this.seed=t,this.destination.next(t)}_tryNext(t){const e=this.index++;let n;try{n=this.accumulator(this.seed,t,e)}catch(r){this.destination.error(r)}this.seed=n,this.destination.next(n)}}function Cd(t){return function(e){return 0===t?pd():e.lift(new xd(t))}}class xd{constructor(t){if(this.total=t,this.total<0)throw new gd}call(t,e){return e.subscribe(new Sd(t,this.total))}}class Sd extends g{constructor(t,e){super(t),this.total=e,this.ring=new Array,this.count=0}_next(t){const e=this.ring,n=this.total,r=this.count++;e.length<n?e.push(t):e[r%n]=t}_complete(){const t=this.destination;let e=this.count;if(e>0){const n=this.count>=this.total?this.total:this.count,r=this.ring;for(let i=0;i<n;i++){const i=e++%n;t.next(r[i])}}t.complete()}}class Pd{constructor(t){this.defaultValue=t}call(t,e){return e.subscribe(new Id(t,this.defaultValue))}}class Id extends g{constructor(t,e){super(t),this.defaultValue=e,this.isEmpty=!0}_next(t){this.isEmpty=!1,this.destination.next(t)}_complete(){this.isEmpty&&this.destination.next(this.defaultValue),this.destination.complete()}}function Ed(t,e,n){return 0===n?[e]:(t.push(e),t)}function Td(t,e){return"function"==typeof e?n=>n.pipe(Td((n,r)=>G(t(n,r)).pipe(W((t,i)=>e(n,t,r,i))))):e=>e.lift(new Ad(t))}class Ad{constructor(t){this.project=t}call(t,e){return e.subscribe(new kd(t,this.project))}}class kd extends N{constructor(t,e){super(t),this.project=e,this.index=0}_next(t){let e;const n=this.index++;try{e=this.project(t,n)}catch(r){return void this.destination.error(r)}this._innerSub(e,t,n)}_innerSub(t,e,n){const r=this.innerSubscription;r&&r.unsubscribe();const i=new k(this,void 0,void 0);this.destination.add(i),this.innerSubscription=H(this,t,e,n,i)}_complete(){const{innerSubscription:t}=this;t&&!t.closed||super._complete(),this.unsubscribe()}_unsubscribe(){this.innerSubscription=null}notifyComplete(t){this.destination.remove(t),this.innerSubscription=null,this.isStopped&&super._complete()}notifyNext(t,e,n,r,i){this.destination.next(e)}}class Od{}let Md=(()=>{class t extends Od{getTranslation(t){return dd({})}}return t.ngInjectableDef=mt({token:t,factory:function(e){return Rd(e||t)},providedIn:null}),t})();const Rd=ui(Md);class Dd{}let Bd=(()=>{class t{handle(t){return t.key}}return t.ngInjectableDef=mt({token:t,factory:function(e){return new(e||t)},providedIn:null}),t})();class jd{}let Fd=(()=>{class t extends jd{compile(t,e){return t}compileTranslations(t,e){return t}}return t.ngInjectableDef=mt({token:t,factory:function(e){return zd(e||t)},providedIn:null}),t})();const zd=ui(Fd);function Ld(t,e){if(t===e)return!0;if(null===t||null===e)return!1;if(t!=t&&e!=e)return!0;let n,r,i,o=typeof t;if(o==typeof e&&"object"==o){if(!Array.isArray(t)){if(Array.isArray(e))return!1;for(r in i=Object.create(null),t){if(!Ld(t[r],e[r]))return!1;i[r]=!0}for(r in e)if(!(r in i)&&void 0!==e[r])return!1;return!0}if(!Array.isArray(e))return!1;if((n=t.length)==e.length){for(r=0;r<n;r++)if(!Ld(t[r],e[r]))return!1;return!0}}return!1}function Hd(t){return null!=t}function Nd(t){return t&&"object"==typeof t&&!Array.isArray(t)}class Wd{}let Vd=(()=>{class t extends Wd{constructor(){super(...arguments),this.templateMatcher=/{{\s?([^{}\s]*)\s?}}/g}interpolate(t,e){let n;return n="string"==typeof t?this.interpolateString(t,e):"function"==typeof t?this.interpolateFunction(t,e):t,n}getValue(t,e){let n=e.split(".");e="";do{e+=n.shift(),!Hd(t)||!Hd(t[e])||"object"!=typeof t[e]&&n.length?n.length?e+=".":t=void 0:(t=t[e],e="")}while(n.length);return t}interpolateFunction(t,e){return t(e)}interpolateString(t,e){return e?t.replace(this.templateMatcher,(t,n)=>{let r=this.getValue(e,n);return Hd(r)?r:t}):t}}return t.ngInjectableDef=mt({token:t,factory:function(e){return Ud(e||t)},providedIn:null}),t})();const Ud=ui(Vd);class qd{constructor(){this.currentLang=this.defaultLang,this.translations={},this.langs=[],this.onTranslationChange=new sc,this.onLangChange=new sc,this.onDefaultLangChange=new sc}}const Gd=new Ot("USE_STORE"),Yd=new Ot("USE_DEFAULT_LANG");let Xd=(()=>{class t{constructor(t,e,n,r,i,o=!0,s=!1){this.store=t,this.currentLoader=e,this.compiler=n,this.parser=r,this.missingTranslationHandler=i,this.useDefaultLang=o,this.isolate=s,this.pending=!1,this._onTranslationChange=new sc,this._onLangChange=new sc,this._onDefaultLangChange=new sc,this._langs=[],this._translations={},this._translationRequests={}}get onTranslationChange(){return this.isolate?this._onTranslationChange:this.store.onTranslationChange}get onLangChange(){return this.isolate?this._onLangChange:this.store.onLangChange}get onDefaultLangChange(){return this.isolate?this._onDefaultLangChange:this.store.onDefaultLangChange}get defaultLang(){return this.isolate?this._defaultLang:this.store.defaultLang}set defaultLang(t){this.isolate?this._defaultLang=t:this.store.defaultLang=t}get currentLang(){return this.isolate?this._currentLang:this.store.currentLang}set currentLang(t){this.isolate?this._currentLang=t:this.store.currentLang=t}get langs(){return this.isolate?this._langs:this.store.langs}set langs(t){this.isolate?this._langs=t:this.store.langs=t}get translations(){return this.isolate?this._translations:this.store.translations}set translations(t){this.isolate?this._translations=t:this.store.translations=t}setDefaultLang(t){if(t===this.defaultLang)return;let e=this.retrieveTranslations(t);void 0!==e?(this.defaultLang||(this.defaultLang=t),e.pipe(md(1)).subscribe(e=>{this.changeDefaultLang(t)})):this.changeDefaultLang(t)}getDefaultLang(){return this.defaultLang}use(t){if(t===this.currentLang)return dd(this.translations[t]);let e=this.retrieveTranslations(t);return void 0!==e?(this.currentLang||(this.currentLang=t),e.pipe(md(1)).subscribe(e=>{this.changeLang(t)}),e):(this.changeLang(t),dd(this.translations[t]))}retrieveTranslations(t){let e;return void 0===this.translations[t]&&(this._translationRequests[t]=this._translationRequests[t]||this.getTranslation(t),e=this._translationRequests[t]),e}getTranslation(t){this.pending=!0;const e=this.currentLoader.getTranslation(t).pipe(st());return this.loadingTranslations=e.pipe(md(1),W(e=>this.compiler.compileTranslations(e,t)),st()),this.loadingTranslations.subscribe(e=>{this.translations[t]=e,this.updateLangs(),this.pending=!1},t=>{this.pending=!1}),e}setTranslation(t,e,n=!1){e=this.compiler.compileTranslations(e,t),this.translations[t]=n&&this.translations[t]?function t(e,n){let r=Object.assign({},e);return Nd(e)&&Nd(n)&&Object.keys(n).forEach(i=>{Nd(n[i])&&i in e?r[i]=t(e[i],n[i]):Object.assign(r,{[i]:n[i]})}),r}(this.translations[t],e):e,this.updateLangs(),this.onTranslationChange.emit({lang:t,translations:this.translations[t]})}getLangs(){return this.langs}addLangs(t){t.forEach(t=>{-1===this.langs.indexOf(t)&&this.langs.push(t)})}updateLangs(){this.addLangs(Object.keys(this.translations))}getParsedResult(t,e,n){let r;if(e instanceof Array){let r={},i=!1;for(let o of e)r[o]=this.getParsedResult(t,o,n),"function"==typeof r[o].subscribe&&(i=!0);if(i){let t;for(let n of e){let e="function"==typeof r[n].subscribe?r[n]:dd(r[n]);t=void 0===t?e:K(t,e)}return t.pipe(function(t,e){return arguments.length>=2?function(n){return _(_d(t,e),Cd(1),function(t=null){return e=>e.lift(new Pd(t))}(e))(n)}:function(e){return _(_d((e,n,r)=>t(e,n,r+1)),Cd(1))(e)}}(Ed,[]),W(t=>{let n={};return t.forEach((t,r)=>{n[e[r]]=t}),n}))}return r}if(t&&(r=this.parser.interpolate(this.parser.getValue(t,e),n)),void 0===r&&this.defaultLang&&this.defaultLang!==this.currentLang&&this.useDefaultLang&&(r=this.parser.interpolate(this.parser.getValue(this.translations[this.defaultLang],e),n)),void 0===r){let t={key:e,translateService:this};void 0!==n&&(t.interpolateParams=n),r=this.missingTranslationHandler.handle(t)}return void 0!==r?r:e}get(t,e){if(!Hd(t)||!t.length)throw new Error('Parameter "key" required');if(this.pending)return w.create(n=>{let r=t=>{n.next(t),n.complete()},i=t=>{n.error(t)};this.loadingTranslations.subscribe(n=>{"function"==typeof(n=this.getParsedResult(n,t,e)).subscribe?n.subscribe(r,i):r(n)},i)});{let n=this.getParsedResult(this.translations[this.currentLang],t,e);return"function"==typeof n.subscribe?n:dd(n)}}stream(t,e){if(!Hd(t)||!t.length)throw new Error('Parameter "key" required');return function(...t){return Z(1)(dd(...t))}(this.get(t,e),this.onLangChange.pipe(Td(n=>{const r=this.getParsedResult(n.translations,t,e);return"function"==typeof r.subscribe?r:dd(r)})))}instant(t,e){if(!Hd(t)||!t.length)throw new Error('Parameter "key" required');let n=this.getParsedResult(this.translations[this.currentLang],t,e);if(void 0!==n.subscribe){if(t instanceof Array){let e={};return t.forEach((n,r)=>{e[t[r]]=t[r]}),e}return t}return n}set(t,e,n=this.currentLang){this.translations[n][t]=this.compiler.compile(e,n),this.updateLangs(),this.onTranslationChange.emit({lang:n,translations:this.translations[n]})}changeLang(t){this.currentLang=t,this.onLangChange.emit({lang:t,translations:this.translations[t]}),this.defaultLang||this.changeDefaultLang(t)}changeDefaultLang(t){this.defaultLang=t,this.onDefaultLangChange.emit({lang:t,translations:this.translations[t]})}reloadLang(t){return this.resetLang(t),this.getTranslation(t)}resetLang(t){this._translationRequests[t]=void 0,this.translations[t]=void 0}getBrowserLang(){if("undefined"==typeof window||void 0===window.navigator)return;let t=window.navigator.languages?window.navigator.languages[0]:null;return t=t||window.navigator.language||window.navigator.browserLanguage||window.navigator.userLanguage,-1!==t.indexOf("-")&&(t=t.split("-")[0]),-1!==t.indexOf("_")&&(t=t.split("_")[0]),t}getBrowserCultureLang(){if("undefined"==typeof window||void 0===window.navigator)return;let t=window.navigator.languages?window.navigator.languages[0]:null;return t=t||window.navigator.language||window.navigator.browserLanguage||window.navigator.userLanguage,t}}return t.ngInjectableDef=mt({token:t,factory:function(e){return new(e||t)(qt(qd),qt(Od),qt(jd),qt(Wd),qt(Dd),qt(Yd),qt(Gd))},providedIn:null}),t})(),$d=(()=>{class t{constructor(t,e){this.translate=t,this._ref=e,this.value=""}updateValue(t,e,n){let r=e=>{this.value=void 0!==e?e:t,this.lastKey=t,this._ref.markForCheck()};if(n){let i=this.translate.getParsedResult(n,t,e);"function"==typeof i.subscribe?i.subscribe(r):r(i)}this.translate.get(t,e).subscribe(r)}transform(t,...e){if(!t||0===t.length)return t;if(Ld(t,this.lastKey)&&Ld(e,this.lastParams))return this.value;let n;if(Hd(e[0])&&e.length)if("string"==typeof e[0]&&e[0].length){let t=e[0].replace(/(\')?([a-zA-Z0-9_]+)(\')?(\s)?:/g,'"$2":').replace(/:(\s)?(\')(.*?)(\')/g,':"$3"');try{n=JSON.parse(t)}catch(r){throw new SyntaxError(`Wrong parameter in TranslatePipe. Expected a valid Object, received: ${e[0]}`)}}else"object"!=typeof e[0]||Array.isArray(e[0])||(n=e[0]);return this.lastKey=t,this.lastParams=e,this.updateValue(t,n),this._dispose(),this.onTranslationChange||(this.onTranslationChange=this.translate.onTranslationChange.subscribe(e=>{this.lastKey&&e.lang===this.translate.currentLang&&(this.lastKey=null,this.updateValue(t,n,e.translations))})),this.onLangChange||(this.onLangChange=this.translate.onLangChange.subscribe(e=>{this.lastKey&&(this.lastKey=null,this.updateValue(t,n,e.translations))})),this.onDefaultLangChange||(this.onDefaultLangChange=this.translate.onDefaultLangChange.subscribe(()=>{this.lastKey&&(this.lastKey=null,this.updateValue(t,n))})),this.value}_dispose(){void 0!==this.onTranslationChange&&(this.onTranslationChange.unsubscribe(),this.onTranslationChange=void 0),void 0!==this.onLangChange&&(this.onLangChange.unsubscribe(),this.onLangChange=void 0),void 0!==this.onDefaultLangChange&&(this.onDefaultLangChange.unsubscribe(),this.onDefaultLangChange=void 0)}ngOnDestroy(){this._dispose()}}return t.ngInjectableDef=mt({token:t,factory:function(e){return new(e||t)(qt(Xd),qt(us))},providedIn:null}),t.ngPipeDef=ye({name:"translate",type:t,factory:function(e){return new(e||t)(js(Xd),js(us))},pure:!1}),t})(),Qd=(()=>{class t{static forRoot(e={}){return{ngModule:t,providers:[e.loader||{provide:Od,useClass:Md},e.compiler||{provide:jd,useClass:Fd},e.parser||{provide:Wd,useClass:Vd},e.missingTranslationHandler||{provide:Dd,useClass:Bd},qd,{provide:Gd,useValue:e.isolate},{provide:Yd,useValue:e.useDefaultLang},Xd]}}static forChild(e={}){return{ngModule:t,providers:[e.loader||{provide:Od,useClass:Md},e.compiler||{provide:jd,useClass:Fd},e.parser||{provide:Wd,useClass:Vd},e.missingTranslationHandler||{provide:Dd,useClass:Bd},{provide:Gd,useValue:e.isolate},{provide:Yd,useValue:e.useDefaultLang},Xd]}}}return t.ngModuleDef=fe({type:t}),t})();Qd.ngInjectorDef=yt({factory:function(t){return new(t||Qd)}});class Zd{constructor(){this.items=new Array}}class Kd extends Zd{constructor(){super(...arguments),this.boxes=new Jd}}class Jd{}class tf{constructor(t,e){this.x=t,this.y=e}}class ef{constructor(t,e){this.width=t,this.height=e}}class nf{static new(t){return new nf(t.x,t.y,t.width,t.height,t.isEmpty)}constructor(t,e,n,r,i){this.position=new tf(t,e),this.size=new ef(n,r),this.isEmpty=i}}var rf,of;!function(t){t[t.Path=0]="Path",t[t.Image=1]="Image",t[t.Text=2]="Text"}(rf||(rf={}));class sf{constructor(t,e){this.dpiX=t,this.dpiY=e||t}}class af{static GetPixelFormatString(t){switch(!0){case t.isSpot:return"spot";case t.isLab:return"lab";case t.isRgb:return"rgb";case t.isCmyk:return"cmyk";case t.isGrayscale:return"grayscale"}}}class lf{handle(t){t=t;const e=new uf;return e.dpi=new sf(t.dpiX,t.dpiY),e.position=new tf(t.x,t.y),e.size=new ef(t.width,t.height),e.pixelFormat=af.GetPixelFormatString(t.pixelFormat),e}}class uf{constructor(){this.type=of.Image}}class cf{static GetColorObject(t){if(void 0!==t.r)return{r:t.r,g:t.g,b:t.b,a:t.a};if(void 0!==t.c)return{c:t.c,m:t.m,y:t.y,k:t.k,a:t.a};if(t.ink){let e=t;return{alternativeColor:this.GetColorObject(e.ink.alternativeColor),name:e.ink.name}}}}class hf{handle(t){t=t;const e=new pf;let n;return t.brush?t.brush.colorStops?n=t.brush.colorStops[0].color:t.brush.color?n=t.brush.color:t.brush.backgroundColor&&(n=t.brush.backgroundColor):t.pen&&(n=t.pen.color),n&&(e.brush.pixelFormat=af.GetPixelFormatString(n.pixelFormat),e.brush.color=cf.GetColorObject(n)),e}}class pf{constructor(){this.type=of.Path,this.brush=new df}}class df{constructor(){this.color=null,this.pixelFormat=null}}class ff{handle(t){t=t;const e=new gf;return e.text=t.text,e.font={postscriptName:t.font.postscriptName,size:t.font.size,type:t.font.type},e.fillColor=mf.createColor(t.fillColor),e.strokeColor=mf.createColor(t.strokeColor),e}}class gf{constructor(){this.type=of.Text}}class mf{constructor(t){this.colorSpace=t.colorSpace}static createColor(t){return void 0!==t.r?new yf(t):void 0!==t.c?new vf(t):new _f(t)}}class yf extends mf{constructor(t){super(t),this.r=t.r,this.g=t.g,this.b=t.b}}class vf extends mf{constructor(t){super(t),this.c=t.c,this.m=t.m,this.y=t.y,this.k=t.k}}class _f extends mf{constructor(t){super(t),this.color=t}}class bf{static handle(t){let e;return t.type.toString()===rf[rf.Image]?e=new lf:t.type.toString()===rf[rf.Path]?e=new hf:t.type.toString()===rf[rf.Text]&&(e=new ff),e.handle(t)}}!function(t){t[t.Path=0]="Path",t[t.Image=1]="Image",t[t.Text=2]="Text"}(of||(of={}));class wf{static analyzePage(t){let e;if(t.artBox){let n=t;e=new Kd,e.boxes.artBox=nf.new(n.artBox),e.boxes.bleedBox=nf.new(n.bleedBox),e.boxes.cropBox=nf.new(n.cropBox),e.boxes.mediaBox=nf.new(n.mediaBox),e.boxes.trimBox=nf.new(n.trimBox)}else e=new Zd;e.size=new ef(t.width,t.height);for(let n of t.items)e.items.push(bf.handle(n));return e}}class Cf{constructor(t){this.result=!0,this.expected=t,this.actual=[]}}function xf(t,e){Array.isArray(e)||(e=[e]);const n=[];for(const r of e)for(const e of r.items){const r=new Cf([t]);if(e.type===of.Image){const n=e;if(void 0!==n.dpi){const e=Math.ceil(n.dpi.dpiX);-1===r.actual.indexOf(e)&&r.actual.push(e),e<t&&(r.result=!1)}}n.push(r)}return n}function Sf(t,e){Array.isArray(t)||(t=[t]);const n=t.map(t=>t.toLowerCase());Array.isArray(e)||(e=[e]);const r=[];for(const i of e){const e=new Cf(t);for(const t of i.items){switch(t.type){case of.Image:const r=t;-1===n.indexOf(r.pixelFormat.toLowerCase())&&(e.result=!1,-1===e.actual.indexOf(r.pixelFormat)&&e.actual.push(r.pixelFormat));break;case of.Path:let i=t.brush.pixelFormat;if("spot"===t.brush.pixelFormat)break;i&&-1===n.indexOf(i.toLowerCase())&&(e.result=!1,-1===e.actual.indexOf(i)&&e.actual.push(i))}r.push(e)}}return r}class Pf{constructor(t,e,n,r){this.left=t,this.top=e,this.right=n,this.bottom=r}get width(){return Math.abs(this.right-this.left)}get height(){return Math.abs(this.top-this.bottom)}static FromLRTBMargin(t,e,n,r,i){return new Pf(t,n,i.width-e,i.height-r)}static FromLeftTopWidthHeight(t,e,n,r){return new Pf(t,e,n+t,r+e)}static isEqual(t,e){return t.left===e.left&&t.right===e.right&&t.top===e.top&&t.bottom===e.bottom}}class If{static isEqualsArray(t,e){let n=!0;if(t.length!==e.length)return!1;for(let r of t)if(-1===e.indexOf(r)){n=!1;break}return n}}function Ef(t,e,n){Array.isArray(e)||(e=[e]);const r=[];for(const i of e){t=t.filter(t=>t.pdfBox);const e=new Cf(n);if(i.boxes){const n=i;for(const r of t)if(r.pdfBox){const t=n.boxes[r.pdfBox.toLowerCase()+"Box"];t&&Tf(r,t,n.size)&&e.actual.push(r.pdfBox.toString().toLowerCase())}}e.result=If.isEqualsArray(e.expected,e.actual),r.push(e)}return r}function Tf(t,e,n){const r=t.margin,i=Pf.FromLRTBMargin(r.left,r.right,r.top,r.bottom,n),o=Pf.FromLeftTopWidthHeight(e.position.x,e.position.y,e.size.width,e.size.height);return Pf.isEqual(i,o)}function Af(t,e){const n=(t.names||[]).map(t=>t.toLowerCase());Array.isArray(e)||(e=[e]);const r=[];for(const i of e){const e=new Cf(n);for(const o of i.items){if(o.type===of.Path){const r=o;if("spot"===r.brush.pixelFormat){const i=r.brush.color.name;if(i){let r=-1!==n.indexOf(i.toLowerCase());if(!r)for(const e of t.regexps||[])null!==new RegExp(e).exec(i)&&(r=!0);r||(e.result=!1,-1===e.actual.indexOf(i)&&e.actual.push(i))}}}r.push(e)}}return r}function kf(t){const e=[],n=new Cf([!0]);return n.actual=[t.bounds.width>t.bounds.height?"horizontal":"vertical"],e.push(n),e}function Of(t,e){return Rf(t,e,!0)}function Mf(t,e){return Rf(t,e,!1)}function Rf(t,e,n=!1){Array.isArray(t)||(t=[t]);const r=t.map(t=>t.toLowerCase());Array.isArray(e)||(e=[e]);const i=[];for(const o of e){const e=new Cf(t);for(const t of o.items)if(t.type===of.Text){const i=t;n?-1===r.indexOf(i.font.postscriptName.toLowerCase())&&(e.result=!1,-1===e.actual.indexOf(i.font.postscriptName)&&e.actual.push(i.font.postscriptName)):-1!==r.indexOf(i.font.postscriptName.toLowerCase())&&(e.result=!1,-1===e.actual.indexOf(i.font.postscriptName)&&e.actual.push(i.font.postscriptName))}i.push(e)}return i}function Df(t,e){return function(t,e,n=!0){Array.isArray(t)||(t=[t]);const r=t.map(t=>t.toLowerCase());Array.isArray(e)||(e=[e]);const i=[];for(const o of e){const e=new Cf(t);for(const t of o.items)if(t.type===of.Text){const i=t;n?-1===r.indexOf(i.font.type.toLowerCase())&&(e.result=!1,-1===e.actual.indexOf(i.font.type)&&e.actual.push(i.font.type)):-1!==r.indexOf(i.font.type.toLowerCase())&&(e.result=!1,-1===e.actual.indexOf(i.font.type)&&e.actual.push(i.font.type))}i.push(e)}return i}(t,e,!0)}function Bf(t,e){return function(t,e){Array.isArray(e)||(e=[e]);const n=[];for(const r of e){const e=new Cf([t]);for(const n of r.items)if(n.type===of.Text){const r=n;let i=!0;if(void 0!==r.fillColor.r){const t=r.fillColor;i=0===t.r&&0===t.g&&0===t.b}else if(void 0!==r.fillColor.c){const t=r.fillColor;i=0===t.c&&0===t.m&&0===t.y&&1===t.k}r.font.size<(i?t.black:t.colored)&&(e.result=!1,-1===e.actual.indexOf(r.font.size)&&e.actual.push(r.font.size))}n.push(e)}return n}(t,e)}function jf(t){return function(t){Array.isArray(t)||(t=[t]);const e=[];for(const n of t){const t=new Cf([{}]);for(const e of n.items)if(e.type===of.Text){const n=e;t.result=!1,-1===t.actual.indexOf(n.font.postscriptName)&&t.actual.push(n.font.postscriptName)}e.push(t)}return e}(t)}function Ff(t,e){return function(t,e){Array.isArray(e)||(e=[e]);const n=t.map(t=>t.postscriptName.toLowerCase()),r=[];for(const i of e){const e=new Cf(t);for(const t of i.items)if(t.type===of.Text){const r=t;-1===n.indexOf(r.font.postscriptName.toLowerCase())&&(e.result=!1,-1===e.actual.indexOf(r.font.postscriptName)&&e.actual.push(r.font.postscriptName))}r.push(e)}return r}(t,e)}let zf={checkDpi:function(t,e){return xf(t,e).every(t=>t.result)},checkDpiDetailed:function(t,e){return xf(t,e)},checkColorSpace:function(t,e){return Sf(t,e).every(t=>t.result)},checkColorSpaceDetailed:function(t,e){return Sf(t,e)},checkResolution:function(t,e,n){Array.isArray(n)||(n=[n]);const r=(t,e)=>Math.round(t)!==Math.round(e);for(const i of n)if(r(i.size.width,t)||r(i.size.height,e))return!1;return!0},checkSafetyBoxes:function(t,e,n){return Ef(t,e,n).every(t=>t.result)},checkSafetyBoxesDetailed:function(t,e,n){return Ef(t,e,n)},checkSpotColor:function(t,e){return Af(t,e).every(t=>t.result)},checkSpotColorDetailed:function(t,e){return Af(t,e)},checkSameOrientation:function(t){return kf(t).every(t=>t.result)},checkSameOrientationDetailed:function(t){return kf(t)},checkAllowedFontNames:function(t,e){return Of(t,e).every(t=>t.result)},checkAllowedFontNamesDetailed:Of,checkForbiddenFontNames:function(t,e){return Mf(t,e).every(t=>t.result)},checkForbiddenFontNamesDetailed:Mf,checkAllowedFontTypes:function(t,e){return Df(t,e).every(t=>t.result)},checkAllowedFontTypesDetailed:Df,checkMinFontSize:function(t,e){return Bf(t,e).every(t=>t.result)},checkMinFontSizeDetailed:Bf,checkTextAsCurves:function(t){return jf(t).every(t=>t.result)},checkTextAsCurvesDetailed:jf,checkEmbeddedFonts:function(t,e){return Ff(t,e).every(t=>t.result)},checkEmbeddedFontsDetailed:Ff};class Lf{static postFile(t,e){return new Promise((function(n,r){const i=new FormData;i.append("file",e);const o=new XMLHttpRequest;o.open("POST",t,!0),o.onload=function(){if(200==this.status){const t=JSON.parse(this.response);n(t)}else r(this)},o.send(i)}))}static get(t){return new Promise((function(e,n){const r=new XMLHttpRequest;r.open("GET",t,!0),r.onload=function(){if(200==this.status){const t=JSON.parse(this.response);e(t)}else n(this)},r.send()}))}}class Hf{constructor(t){this.backendUrl=t}uploadFiles(t){const e=this.backendUrl+"/api/v0/files/upload",n=[];for(const r of t)n.push(Lf.postFile(e,r));return Promise.all(n).then((function(t){return t.map(t=>t[0])}))}getPreviewUrls(t){return Lf.get(this.backendUrl+`/api/v0/info/${t}/preview`)}getDownloadUrls(t){return this.backendUrl+`/api/v0/files/${t}`}getInfo(t){return Lf.get(this.backendUrl+`/api/v0/info/${t}`)}}class Nf{constructor(t){this.rules=zf,this.backendUrl=t,this.backendService=new Hf(t)}uploadFiles(t){let e=[];return e=t instanceof FileList?Array.from(t):[t],this.backendService.uploadFiles(e)}getPreview(t){return this.backendService.getPreviewUrls(t)}getDownload(t){return this.backendService.getDownloadUrls(t)}getInfo(t){return this.backendService.getInfo(t)}analyzeGuid(t){return this.getInfo(t).then(t=>this.analyzeInfo(t))}analyzeInfo(t){if(null==t)throw"Invalid input data";const e=new Wf;for(let n of t)e.pages.push(wf.analyzePage(n));return e}analyze(t){return"string"==typeof t?this.analyzeGuid(t):new Promise(e=>{e(this.analyzeInfo(t))})}}class Wf{constructor(){this.pages=new Array}}var Vf;!function(t){t[t.Normal=0]="Normal",t[t.Grayscale=1]="Grayscale",t[t.Solid=2]="Solid"}(Vf||(Vf={}));var Uf,qf,Gf=(Uf=function(t,e){return(Uf=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}Uf(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),Yf=function(t){function e(n){var r=t.call(this,n)||this;return r.name="CustomersCanvasException",Object.setPrototypeOf(r,e.prototype),r}return Gf(e,t),e.prototype.toString=function(){return this.name+": "+this.message},e.prototype.toJSON=function(){return{name:this.name,innerException:this.innerException,message:this.message}},e}(Error),Xf=function(t){function e(n){var r=t.call(this,n)||this;return r.name="NotImplementedException",Object.setPrototypeOf(r,e.prototype),r}return Gf(e,t),e}(Yf),$f=function(t){function e(n){var r=t.call(this,n)||this;return r.name="ArgumentException",Object.setPrototypeOf(r,e.prototype),r}return Gf(e,t),e}(Yf),Qf=function(t){function e(n){var r=t.call(this,n)||this;return r.name="ArgumentNullException",Object.setPrototypeOf(r,e.prototype),r}return Gf(e,t),e}($f),Zf=function(t){function e(n){var r=t.call(this,n)||this;return r.name="OutOfRangeException",Object.setPrototypeOf(r,e.prototype),r}return Gf(e,t),e}(Yf),Kf=function(t){function e(n){var r=t.call(this,n)||this;return r.name="InvalidOperationException",Object.setPrototypeOf(r,e.prototype),r}return Gf(e,t),e}(Yf),Jf=(Gf((function t(e){var n=qf.call(this,e)||this;return n.name="UnexpectedDataException",Object.setPrototypeOf(n,t.prototype),n}),qf=Yf),function(){function t(t){this._value="00000000-0000-0000-0000-000000000000",null!=t?this.set(t):this.generateNewGuid()}return t.prototype.set=function(t){if(!this.isValid(t))throw new Yf(t+"is incorrect uuid!");this._value=t},Object.defineProperty(t.prototype,"value",{get:function(){return this._value},enumerable:!0,configurable:!0}),t.prototype.isValid=function(t){return t=t.toUpperCase(),null!=new RegExp("\\b(?:[A-F0-9]{8})(?:-[A-F0-9]{4}){3}-(?:[A-F0-9]{12})\\b").exec(t)},t.prototype.generateNewGuid=function(){var t=(new Date).getTime(),e="xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,(function(e){var n=(t+16*Math.random())%16|0;return t=Math.floor(t/16),("x"==e?n:7&n|8).toString(16)}));this.set(e)},t.prototype.toString=function(){return this._value},t.prototype.equals=function(t){return t._value===this._value},t}()),tg=function(){var t=function(e,n){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(e,n)};return function(e,n){function r(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),eg=function(t){var e="function"==typeof Symbol&&Symbol.iterator,n=e&&t[e],r=0;if(n)return n.call(t);if(t&&"number"==typeof t.length)return{next:function(){return t&&r>=t.length&&(t=void 0),{value:t&&t[r++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")},ng=function(t,e){var n="function"==typeof Symbol&&t[Symbol.iterator];if(!n)return t;var r,i,o=n.call(t),s=[];try{for(;(void 0===e||e-- >0)&&!(r=o.next()).done;)s.push(r.value)}catch(a){i={error:a}}finally{try{r&&!r.done&&(n=o.return)&&n.call(o)}finally{if(i)throw i.error}}return s},rg=function(){for(var t=[],e=0;e<arguments.length;e++)t=t.concat(ng(arguments[e]));return t},ig=function(){function t(){this._listeners=[]}return t.prototype.add=function(t){this._listeners.push(t)},t.prototype.remove=function(t){this._listeners=this._listeners.filter((function(e){return e!==t}))},t.prototype.listenersCount=function(){return this._listeners.length},t.prototype.notify=function(){for(var t,e,n=[],r=0;r<arguments.length;r++)n[r]=arguments[r];try{for(var i=eg(this._listeners),o=i.next();!o.done;o=i.next()){var s=o.value;s.apply(void 0,rg(n))}}catch(a){t={error:a}}finally{try{o&&!o.done&&(e=i.return)&&e.call(i)}finally{if(t)throw t.error}}},t}(),og=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return tg(e,t),e.prototype.add=function(e){t.prototype.add.call(this,e)},e.prototype.remove=function(e){t.prototype.remove.call(this,e)},e.prototype.notify=function(e){t.prototype.notify.call(this,e)},e.prototype.fire=function(t){this.notify(t)},e}(ig),sg=function(t){function e(e){var n=t.call(this)||this;return n._sender=e,n}return tg(e,t),e.prototype.add=function(e){t.prototype.add.call(this,e)},e.prototype.remove=function(e){t.prototype.remove.call(this,e)},e.prototype.notify=function(e){t.prototype.notify.call(this,this._sender,e)},e.prototype.fire=function(t){this.notify(t)},e}(ig),ag=function(t){function e(e){void 0===e&&(e=null);var n=t.call(this)||this;return n._sender=e,n}return tg(e,t),e.prototype.add=function(e){t.prototype.add.call(this,e)},e.prototype.remove=function(e){t.prototype.remove.call(this,e)},e.prototype.notify=function(e,n){t.prototype.notify.call(this,e,n)},e}(ig),lg=n("UT4o"),ug={IsIos:function(){return(/iPad|iPhone|iPod/.test(navigator.platform)||"MacIntel"===navigator.platform&&navigator.maxTouchPoints>1)&&!window.MSStream},GetIosVersion:function(){if(null==navigator.appVersion||!ug.IsIos())return[];var t=navigator.appVersion.match(/OS (\d+)_(\d+)_?(\d+)?/);return null==t?[]:t.slice(1).map((function(t){return parseInt(t,10)})).map((function(t){return isNaN(t)?null:t}))},IosMajorVersion:function(){var t=navigator.userAgent,e=t.indexOf("OS ");if(e>-1)return Number(t.substr(e+3,3).replace("_",".").charAt(0))},IsAndroid:function(){return!!navigator.userAgent.toLowerCase().match(/(android)/)},IsTouchDevice:function(){return ug.IsIos()||ug.IsAndroid()||ug.IsTouchIE()},IsNativeAndroidBrowser:function(){var t=navigator.userAgent;return t.indexOf("Mozilla/5.0")>-1&&t.indexOf("Android ")>-1&&t.indexOf("AppleWebKit")>-1&&!(t.indexOf("Chrome")>-1)},IsGoogleChrome:function(){return"object"==typeof window.chrome},IsSafari:function(){return-1!==navigator.userAgent.indexOf("Safari")&&-1===navigator.userAgent.indexOf("Chrome")},IsSafariOrSafariWebView:function(){return ug.IsSafari()||ug.IsIos()},IsFirefox:function(){return-1!==navigator.userAgent.indexOf("Firefox")&&-1===navigator.userAgent.indexOf("Seamonkey")},IsTouchIE:function(){return-1!==navigator.userAgent.indexOf("Trident")&&-1!==navigator.userAgent.indexOf("Touch")},IsIE:function(){return-1!==navigator.userAgent.indexOf("MSIE")||navigator.appVersion.indexOf("Trident/")>0},IsEdge:function(){return-1!=navigator.userAgent.indexOf("Edge")},GetEdgeHtmlVersion:function(){return ug.IsEdge()?navigator.userAgent.match(/Edge\/(\d+).(\d+)/).slice(1).map((function(t){return parseInt(t,10)})).map((function(t){return isNaN(t)?null:t})):[]},get devicePixelRatio(){return null!=window.devicePixelRatio?window.devicePixelRatio:1},get screenDpi(){return 96*ug.devicePixelRatio},IsSmallScreen:function(){return window.innerWidth<=500}},cg=ug,hg=n("nsO7"),pg=function(){function t(t,e){this.x=0,this.y=0,this.x=t||0,this.y=e||0}return t.prototype.rotate=function(e){return this.rotateAt(e,new t(0,0))},t.prototype.rotateAt=function(e,n){n||(n=new t(0,0));var r=bg(e),i=Math.cos(r)*(this.x-n.x)-Math.sin(r)*(this.y-n.y)+n.x,o=Math.sin(r)*(this.x-n.x)+Math.cos(r)*(this.y-n.y)+n.y;return this.x=i,this.y=o,this},t.prototype.translate=function(t,e){return this.x=this.x+t,this.y=this.y+e,this},t.prototype.scale=function(t,e){return this.x=this.x*t,this.y=this.y*e,this},t.prototype.clone=function(){return new t(this.x,this.y)},t.prototype.equals=function(t,e){return null!=t&&xg(this.x,t.x,e)&&xg(this.y,t.y,e)},t.isEqual=function(t,e,n){return void 0===n&&(n=1e-4),null==t&&null==e||null!=t&&null!=e&&t.equals(e)},t.prototype.distance=function(t){return Math.sqrt((this.x-t.x)*(this.x-t.x)+(this.y-t.y)*(this.y-t.y))},t.prototype.transform=function(e,n){return null==n&&(n=new t),this.translate(-n.x,-n.y),this.scale(e.scaleX,e.scaleY),this.rotate(e.angle),this.translate(e.translateX,e.translateY),this.translate(n.x,n.y),this},t.prototype.toString=function(){return[this.x,this.y].join(",")},t.prototype.toIPoint=function(){return{x:this.x,y:this.y}},t.fromIPoint=function(e){return new t(e.x,e.y)},t.prototype.round=function(){return this.x=Math.round(this.x),this.y=Math.round(this.y),this},t.prototype.isOrigin=function(){return 0===this.x&&0===this.y},t}(),dg=function(){function t(t,e,n,r,i,o){if(6==arguments.length)this.setTransform(t,e,n,r,i,o);else{if(0!=arguments.length)throw new Error("Arguments error");this.setTransform(1,0,0,1,0,0)}}return t.prototype.setTransform=function(t,e,n,r,i,o){this.m00=t,this.m10=e,this.m01=n,this.m11=r,this.m02=i,this.m12=o},t.prototype.transformPoint=function(t,e){void 0===e&&(e=!1);var n=e?new pg:t,r=t.x,i=t.y;return n.x=r*this.m00+i*this.m01+this.m02,n.y=r*this.m10+i*this.m11+this.m12,n},t.prototype.concatenate=function(t){var e=this.m00,n=this.m01;return this.m00=t.m00*e+t.m10*n,this.m01=t.m01*e+t.m11*n,this.m02+=t.m02*e+t.m12*n,this.m10=t.m00*(e=this.m10)+t.m10*(n=this.m11),this.m11=t.m01*e+t.m11*n,this.m12+=t.m02*e+t.m12*n,this},t.prototype.rotate=function(e){e=bg(e);var n=Math.cos(e),r=Math.sin(e);return this.concatenate(new t(n,r,-r,n,0,0))},t.prototype.rotateAt=function(t,e,n){return this.translate(e,n),this.rotate(t),this.translate(-e,-n),this},t.prototype.scale=function(e,n){return this.concatenate(new t(e,0,0,n,0,0))},t.prototype.scaleRelativeToPoint=function(e,n,r){return this.concatenate(new t(e,0,0,n,r.x*(1-e),r.y*(1-n)))},t.prototype.translate=function(e,n){return this.concatenate(new t(1,0,0,1,e,n))},Object.defineProperty(t.prototype,"angle",{get:function(){return wg(Math.atan(-this.m01/this.m00))},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"scaleX",{get:function(){return Math.sqrt(this.m00*this.m00+this.m10*this.m10)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"scaleY",{get:function(){return Math.sqrt(this.m01*this.m01+this.m11*this.m11)},enumerable:!0,configurable:!0}),t.prototype.clone=function(){return new t(this.m00,this.m10,this.m01,this.m11,this.m02,this.m12)},t.prototype.updateObjectByMatrix=function(t,e,n){if(null==t)throw new $f("object cannot be null");if(!lg.isNumber(t[e])||!lg.isNumber(t[e]))throw new $f("object members by given keys nust be a numbers!");var r=this.transformPoint(new pg(t[e],t[n]));return t[e]=r.x,t[n]=r.y,t},t}(),fg=function(){function t(t,e,n,r){this._propertyChanged=new ag,this._left="number"==typeof t?t:0,this._top="number"==typeof e?e:0,this._width="number"==typeof n?n:2,this._height="number"==typeof r?r:2,this._id=Math.random().toString()}return t.prototype.toJSON=function(){return{left:this.left,top:this.top,width:this.width,height:this.height,id:this._id}},Object.defineProperty(t.prototype,"left",{get:function(){return this._left},set:function(e){xg(e,this._left,t._tolerance)||(this._left=e,this._propertyChanged.notify(this,"left"))},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"top",{get:function(){return this._top},set:function(e){xg(e,this._top,t._tolerance)||(this._top=e,this._propertyChanged.notify(this,"top"))},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"width",{get:function(){return this._width},set:function(e){xg(e,this._width,t._tolerance)||(this._width=e,this._propertyChanged.notify(this,"width"))},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"height",{get:function(){return this._height},set:function(e){xg(e,this._height,t._tolerance)||(this._height=e,this._propertyChanged.notify(this,"height"))},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"id",{get:function(){return this._id},enumerable:!0,configurable:!0}),t.FromLTRB=function(e,n,r,i){return new t(e,n,r-e,i-n)},t.FromObject=function(e){return new t(e.left,e.top,e.width,e.height)},t.intersect=function(e,n){var r=Math.max(e.left,n.left),i=Math.min(e.right,n.right),o=Math.max(e.top,n.top),s=Math.min(e.bottom,n.bottom);return i>=r&&s>=o?new t(r,o,i-r,s-o):t.empty},t.union=function(e,n){var r=Math.min(e.left,n.left),i=Math.max(e.left+e.width,n.left+n.width),o=Math.min(e.top,n.top);return new t(r,o,i-r,Math.max(e.top+e.height,n.top+n.height)-o)},Object.defineProperty(t,"empty",{get:function(){return new t(0,0,-1,-1)},enumerable:!0,configurable:!0}),t.prototype.equals=function(e){return t.isEqual(this,e)},t.isEqual=function(t,e,n){return void 0===n&&(n=1e-4),null==t&&null==e||null!=t&&null!=e&&xg(t.left,e.left,n)&&xg(t.top,e.top,n)&&xg(t.width,e.width,n)&&xg(t.height,e.height,n)},t.prototype.contains=function(t,e,n){if(null==e&&(e=!1),e){"number"!=typeof n&&(n=1e-4);var r=this.left,i=this.top,o=this.left+this.width,s=this.top+this.height;return(t.x>r||xg(t.x,r,n))&&(t.y>i||xg(t.y,i,n))&&(t.x<o||xg(t.x,o,n))&&(t.y<s||xg(t.y,s,n))}return t.x>this.left&&t.y>this.top&&t.x<this.left+this.width&&t.y<this.top+this.height},t.prototype.containsRectangle=function(t){var e=new pg(t.left,t.top),n=new pg(t.right,t.bottom);return this.contains(e,!0)&&this.contains(n,!0)},t.prototype.clone=function(){return new t(this.left,this.top,this.width,this.height)},t.prototype.isEmpty=function(){return this.width<=0||this.height<=0},t.prototype.inflate=function(t){this.left-=t,this.top-=t,this.width+=2*t,this.height+=2*t},t.prototype.intersectsWith=function(t){return t.left<this.right&&this.left<t.right&&t.top<this.bottom&&this.top<t.bottom},t.prototype.updateByMatrix=function(t){if(0!==t.angle)throw new $f("RectangleF cannot be transformed by angle!");var e=new pg(this.left,this.top),n=new pg(this.right,this.bottom),r=t.transformPoint(e),i=t.transformPoint(n);return this.left=r.x,this.top=r.y,this.right=i.x,this.bottom=i.y,this},t.prototype.getShrinked=function(e){return t.FromLTRB(this.left-e.left,this.top-e.top,this.right+e.right,this.bottom+e.bottom)},t.prototype.toString=function(){return[this.left,this.top,this.width,this.height].join(",")},t.fromString=function(e){var n=e.replace(", ",",").split(",");return new t(parseFloat(n[0]),parseFloat(n[1]),parseFloat(n[2]),parseFloat(n[3]))},t.getMatrix=function(t,e){var n=new dg,r=t.center,i=e.center;return n.scaleRelativeToPoint(e.width/t.width,e.height/t.height,r),n.translate((i.x-r.x)/n.scaleX,(i.y-r.y)/n.scaleY),n},t.getOverallBounds=function(e){return lg.isEmpty(e)?t.empty:e.reduce((function(e,n){return null==e?n.clone():t.union(e,n)}))},Object.defineProperty(t.prototype,"right",{get:function(){return this.left+this.width},set:function(t){this.width=t-this.left},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"bottom",{get:function(){return this.top+this.height},set:function(t){this.height=t-this.top},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"center",{get:function(){return new pg(this.left+this.width/2,this.top+this.height/2)},enumerable:!0,configurable:!0}),t.prototype.addPropertyChanged=function(t){this._propertyChanged.add(t)},t.prototype.removePropertyChanged=function(t){this._propertyChanged.remove(t)},t._tolerance=1e-6,t}(),gg=function(t,e,n){var r=Math.pow(t.x-e.x,2)+Math.pow(t.y-e.y,2),i=Math.pow(t.x-n.x,2)+Math.pow(t.y-n.y,2),o=Math.pow(e.x-n.x,2)+Math.pow(e.y-n.y,2),s=0;o*i!=0&&(s=Cg(-1,(-r+o+i)/(2*Math.sqrt(o)*Math.sqrt(i)),1));var a=function(t,e,n){return t.x*e.y+t.y*n.x+e.x*n.y-(n.x*e.y+e.x*t.y+n.y*t.x)}(t,e,n),l=Math.acos(s);return a>0&&(l=-l),wg(l)},mg=function(t){return(t%=360)<0&&(t+=360),t},yg=function(t,e){return t.x*e.x+t.y*e.y},vg=function(t,e,n){var r=new pg(n.x-e.x,n.y-e.y),i=new pg(t.x-e.x,t.y-e.y),o=yg(i,r);if(o<=0)return _g(t,e);var s=yg(r,r);if(s<o)return _g(t,n);var a=o/s,l=new pg(e.x+r.x*a,e.y+r.y*a);return _g(t,l)},_g=function(t,e){return(e.x-t.x)*(e.x-t.x)+(e.y-t.y)*(e.y-t.y)},bg=function(t){return Math.PI*t/180},wg=function(t){return 180*t/Math.PI},Cg=function(t,e,n){return Math.max(t,Math.min(n,e))},xg=function(t,e,n){return"number"==typeof t&&"number"==typeof e&&("number"!=typeof n&&(n=1e-4),0!=n?Math.abs(t-e)<=n:t==e)},Sg=function(t){var e="function"==typeof Symbol&&Symbol.iterator,n=e&&t[e],r=0;if(n)return n.call(t);if(t&&"number"==typeof t.length)return{next:function(){return t&&r>=t.length&&(t=void 0),{value:t&&t[r++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")},Pg=function(){function t(t,e){this._name="",this._points=[],this._name=t?t.toUpperCase():"",this._points=e||[]}return Object.defineProperty(t.prototype,"name",{get:function(){return this._name},enumerable:!0,configurable:!0}),t.prototype.getPoint=function(t){return this._points[t]},Object.defineProperty(t.prototype,"length",{get:function(){return this._points.length},enumerable:!0,configurable:!0}),t.prototype.transform=function(t,e){for(var n=0;n<this.length;n++)this.getPoint(n).transform(t,e)},t.prototype.rotateAt=function(t,e){for(var n=0;n<this.length;n++)this.getPoint(n).rotateAt(t,e)},t.prototype.translate=function(t,e){for(var n=0;n<this.length;n++)this.getPoint(n).translate(t,e)},t.prototype.draw=function(t){switch(this.name){case"Z":t.closePath();break;case"M":t.moveTo(this.getPoint(0).x,this.getPoint(0).y);break;case"L":t.lineTo(this.getPoint(0).x,this.getPoint(0).y);break;case"Q":t.quadraticCurveTo(this.getPoint(0).x,this.getPoint(0).y,this.getPoint(1).x,this.getPoint(1).y);break;case"C":t.bezierCurveTo(this.getPoint(0).x,this.getPoint(0).y,this.getPoint(1).x,this.getPoint(1).y,this.getPoint(2).x,this.getPoint(2).y)}},t.prototype.toString=function(){for(var t=this.name,e=0;e<this.length;e++)t+=" "+this.getPoint(e).x+" "+this.getPoint(e).y;return t},t.prototype.clone=function(){return new t(this.name,this._points.map((function(t){return t.clone()})))},t}(),Ig=function(){function t(){this._path=new Eg}return t.prototype.moveTo=function(t,e){this._path.moveTo(t,e)},t.prototype.lineTo=function(t,e){this._path.lineTo(t,e)},t.prototype.quadraticCurveTo=function(t,e,n,r){this._path.quadraticTo(t,e,n,r)},t.prototype.bezierCurveTo=function(t,e,n,r,i,o){this._path.cubicTo(t,e,n,r,i,o)},t.prototype.closePath=function(){this._path.close()},Object.defineProperty(t.prototype,"path",{get:function(){return this._path},enumerable:!0,configurable:!0}),t}(),Eg=function(){function t(t){this._pathChangedEvent=new og,this._segments=[],null!=t&&this._fromString(t)}return Object.defineProperty(t.prototype,"length",{get:function(){return this._segments.length},enumerable:!0,configurable:!0}),t.prototype.addPathChanged=function(t){this._pathChangedEvent.add(t)},t.prototype.removePathChanged=function(t){this._pathChangedEvent.remove(t)},t.prototype.moveTo=function(t,e){this._segments.push(new Pg("M",[new pg(t,e)])),this._onPathChanged()},t.prototype.lineTo=function(t,e){this._segments.push(new Pg("L",[new pg(t,e)])),this._onPathChanged()},t.prototype.quadraticTo=function(t,e,n,r){this._segments.push(new Pg("Q",[new pg(t,e),new pg(n,r)])),this._onPathChanged()},t.prototype.cubicTo=function(t,e,n,r,i,o){this._segments.push(new Pg("C",[new pg(t,e),new pg(n,r),new pg(i,o)])),this._onPathChanged()},t.prototype.close=function(){this._segments.push(new Pg("Z")),this._onPathChanged()},t.prototype._onPathChanged=function(){this._pathChangedEvent.notify()},t.prototype.transform=function(t,e){for(var n=0;n<this.length;n++)this._segments[n].transform(t,e)},t.prototype.rotateAt=function(t,e){for(var n=0;n<this.length;n++)this._segments[n].rotateAt(t,e)},t.prototype.translate=function(t,e){for(var n=0;n<this.length;n++)this._segments[n].translate(t,e)},t.prototype.draw=function(t){if(t){t.beginPath();for(var e=0;e<this.length;e++)this._segments[e].draw(t)}},t.prototype.toString=function(){for(var t="",e=0;e<this.length;e++)t+=this._segments[e].toString(),e<this._segments.length-1&&(t+=" ");return t},t.prototype.clone=function(){return new t(this.toString())},t.prototype.equals=function(t){return this.isEqual(t)},t.prototype.isEqual=function(t){return null!=t&&this.toString()===t.toString()},t.prototype.addPath=function(t){var e,n;try{for(var r=Sg(t._segments),i=r.next();!i.done;i=r.next())this._segments.push(i.value.clone())}catch(o){e={error:o}}finally{try{i&&!i.done&&(n=r.return)&&n.call(r)}finally{if(e)throw e.error}}},t.prototype.toTextWhizzPath=function(t){var e,n,r=new t.Path;try{for(var i=Sg(this._segments),o=i.next();!o.done;o=i.next()){var s=o.value;switch(s.name){case"Z":r.close();break;case"M":r.moveTo(s.getPoint(0).x,s.getPoint(0).y);break;case"L":r.lineTo(s.getPoint(0).x,s.getPoint(0).y);break;case"Q":r.curveTo3(s.getPoint(0).x,s.getPoint(0).y,s.getPoint(1).x,s.getPoint(1).y);break;case"C":r.curveTo4(s.getPoint(0).x,s.getPoint(0).y,s.getPoint(1).x,s.getPoint(1).y,s.getPoint(2).x,s.getPoint(2).y)}}}catch(a){e={error:a}}finally{try{o&&!o.done&&(n=i.return)&&n.call(i)}finally{if(e)throw e.error}}return r},t.fromTextWhizzPath=function(t){var e=new Ig;return t.parse(e),e.path},t.prototype._fromString=function(t){for(var e=t.split(" "),n=0;n<e.length;){for(var r=e[n],i=n+1,o=[];i<e.length;){var s=parseFloat(e[i]);if(isNaN(s)||!isFinite(s))break;o.push(s),i++}for(var a=0,l=[];a<o.length;)l.push(new pg(o[a],o[a+1])),a+=2;var u=new Pg(r,l);this._segments.push(u),n=i}},t.rectangle=function(e,n,r,i){var o=new t;return o.moveTo(e,n),o.lineTo(e+r,n),o.lineTo(e+r,n+i),o.lineTo(e,n+i),o.lineTo(e,n),o.close(),o},t.ellipse=function(e,n,r,i){var o=r/2,s=i/2,a=new t;return a.moveTo(e,n+s),a.cubicTo(e,n+s-.5517*s,e+o-.5517*o,n,e+o,n),a.cubicTo(e+o+.5517*o,n,e+r,n+s-.5517*s,e+r,n+s),a.cubicTo(e+r,n+s+.5517*s,e+o+.5517*o,n+i,e+o,n+i),a.cubicTo(e+o-.5517*o,n+i,e,n+s+.5517*s,e,n+s),a.close(),a},t.roundedRectangle=function(e,n,r,i,o){if(null==o)return t.rectangle(e,n,r,i);var s=new t,a=e,l=n,u=o[0].width,c=o[0].height,h=o[1].width,p=o[1].height,d=o[2].width,f=o[2].height,g=o[3].width,m=o[3].height;return(xg(u,0)||xg(c,0))&&(u=c=0),(xg(h,0)||xg(p,0))&&(h=p=0),(xg(d,0)||xg(f,0))&&(d=f=0),(xg(g,0)||xg(m,0))&&(g=m=0),s.moveTo(a+u,l),xg(u+h,r)||s.lineTo(a+r-h,l),xg(h,0)||xg(p,0)||s.cubicTo(a+r-h*(1-.5517),l,a+r,l+p*(1-.5517),a+r,l+p),xg(p+f,i)||s.lineTo(a+r,l+i-f),xg(d,0)||xg(f,0)||s.cubicTo(a+r,l+i-f*(1-.5517),a+r-d*(1-.5517),l+i,a+r-d,l+i),xg(d+g,r)||s.lineTo(a+g,l+i),xg(g,0)||xg(m,0)||s.cubicTo(a+g*(1-.5517),l+i,a,l+i-m*(1-.5517),a,l+i-m),xg(m+c,i)||s.lineTo(a,l+c),xg(u,0)||xg(c,0)||s.cubicTo(a,l+c*(1-.5517),a+u*(1-.5517),l,a+u,l),s.close(),s},t.rotatedRectangle=function(e){var n=e.getUpperLeftCorner(),r=e.getUpperRightCorner(),i=e.getBottomRightCorner(),o=e.getBottomLeftCorner(),s=new t;return s.moveTo(n.x,n.y),s.lineTo(r.x,r.y),s.lineTo(i.x,i.y),s.lineTo(o.x,o.y),s.lineTo(n.x,n.y),s.close(),s},t}(),Tg=function(){function t(t,e,n,r,i){this._angle=0,this._scaleX=0,this._scaleY=0,this._translateX=0,this._translateY=0,this._transformChangedEvent=new og,this._angle=i||0,this._scaleX=t||0===t?t:1,this._scaleY=e||0===t?e:1,this._translateX=n||0,this._translateY=r||0}return t.prototype.addTransformChanged=function(t){this._transformChangedEvent.add(t)},t.prototype.removeTransformChanged=function(t){this._transformChangedEvent.remove(t)},t.prototype._setProperty=function(t,e,n){void 0===n&&(n=!1);var r="_"+t;this[r]!==e&&(this[r]=e,n||this._transformChangedEvent.notify())},Object.defineProperty(t.prototype,"angle",{get:function(){return this._angle},enumerable:!0,configurable:!0}),t.prototype.setAngle=function(t,e){this._setProperty("angle",t,e)},Object.defineProperty(t.prototype,"scaleX",{get:function(){return this._scaleX},enumerable:!0,configurable:!0}),t.prototype.setScaleX=function(t,e){this._setProperty("scaleX",t,e)},Object.defineProperty(t.prototype,"scaleY",{get:function(){return this._scaleY},enumerable:!0,configurable:!0}),t.prototype.setScaleY=function(t,e){this._setProperty("scaleY",t,e)},Object.defineProperty(t.prototype,"translateX",{get:function(){return this._translateX},enumerable:!0,configurable:!0}),t.prototype.setTranslateX=function(t,e){this._setProperty("translateX",t,e)},Object.defineProperty(t.prototype,"translateY",{get:function(){return this._translateY},enumerable:!0,configurable:!0}),t.prototype.setTranslateY=function(t,e){this._setProperty("translateY",t,e)},t.prototype.move=function(t,e){var n=this.clone();null!=t&&this.setTranslateX(this._translateX+t,!0),null!=e&&this.setTranslateY(this._translateY+e,!0),n.equals(this)||this._transformChangedEvent.notify()},t.prototype.rotate=function(t){null==t||xg(t,0)||(this._angle+=t,this._transformChangedEvent.notify())},t.prototype.clone=function(){return new t(this._scaleX,this._scaleY,this._translateX,this._translateY,this._angle)},t.prototype.equals=function(t,e){return null!=t&&xg(this._scaleX,t._scaleX,e)&&xg(this._scaleY,t._scaleY,e)&&xg(this._translateX,t._translateX,e)&&xg(this._translateY,t._translateY,e)&&xg(this._angle,t._angle,e)},t.isEqual=function(t,e,n){return void 0===n&&(n=1e-4),null==t&&null==e||null!=t&&null!=e&&t.equals(e,n)},t.prototype.toMatrix=function(){var t=this._angle,e=Math.sin(bg(t)),n=Math.cos(bg(t));return new dg(n*this._scaleX,e*this._scaleX,-e*this._scaleY,n*this._scaleY,this._translateX,this._translateY)},t.prototype.clear=function(t){var e=void 0===t?{}:t,n=e.keepAngle,r=void 0!==n&&n,i=e.supressOnChanged,o=void 0!==i&&i;this._scaleX=1,this._scaleY=1,this._translateX=0,this._translateY=0,r||(this._angle=0),o||this._transformChangedEvent.notify()},Object.defineProperty(t.prototype,"isEmpty",{get:function(){return xg(this._scaleX,1)&&xg(this._scaleY,1)&&xg(this._translateX,0)&&xg(this._translateY,0)&&xg(this._angle,0)},enumerable:!0,configurable:!0}),t}(),Ag=function(){function t(t,e,n,r,i){this.centerX=t||0,this.centerY=e||0,this.width=n||0===n?n:2,this.height=r||0===r?r:2,this.angle=i||0}return t.prototype.getSimplifiedObject=function(){return{centerX:this.centerX,centerY:this.centerY,width:this.width,height:this.height,angle:this.angle}},t.prototype.clone=function(){return new t(this.centerX,this.centerY,this.width,this.height,this.angle)},Object.defineProperty(t.prototype,"bounds",{get:function(){for(var t=new pg(this.centerX,this.centerY),e=this.width,n=this.height,r=[new pg(-e/2,-n/2),new pg(-e/2,n/2),new pg(e/2,-n/2),new pg(e/2,n/2)],i=0,o=0,s=0,a=0,l=0;l<4;l++)r[l].rotate(this.angle),(r[l].x<i||0===l)&&(i=r[l].x),(r[l].y<o||0===l)&&(o=r[l].y),(r[l].x>s||0===l)&&(s=r[l].x),(r[l].y>a||0===l)&&(a=r[l].y);return new fg(i+t.x,o+t.y,s-i,a-o)},enumerable:!0,configurable:!0}),t.prototype.equals=function(t,e){return null!=t&&xg(this.centerX,t.centerX,e)&&xg(this.centerY,t.centerY,e)&&xg(this.width,t.width,e)&&xg(this.height,t.height,e)&&xg(this.angle,t.angle,e)},t.prototype.getUpperLeftCorner=function(){var t=new pg(-this.width/2,-this.height/2);return(t=t.rotate(this.angle)).translate(this.centerX,this.centerY)},t.prototype.getUpperCenterPoint=function(){var t=new pg(0,-this.height/2);return(t=t.rotate(this.angle)).translate(this.centerX,this.centerY)},t.prototype.getLeftCenterPoint=function(){var t=new pg(-this.width/2,0);return(t=t.rotate(this.angle)).translate(this.centerX,this.centerY)},t.prototype.getUpperRightCorner=function(){var t=new pg(this.width/2,-this.height/2);return(t=t.rotate(this.angle)).translate(this.centerX,this.centerY)},t.prototype.getBottomRightCorner=function(){var t=new pg(this.width/2,this.height/2);return(t=t.rotate(this.angle)).translate(this.centerX,this.centerY)},t.prototype.getBottomLeftCorner=function(){var t=new pg(-this.width/2,this.height/2);return(t=t.rotate(this.angle)).translate(this.centerX,this.centerY)},t.prototype._checkProjectionIntersection=function(t,e){var n=this._getProjections(t),r=this._getProjections(e);return n.left<=r.right&&n.right>=r.left&&n.top<=r.bottom&&n.bottom>=r.top},t.prototype._getProjections=function(t){var e,n,r,i;e=n=t[0].x,r=i=t[0].y;for(var o=1;o<t.length;o++)e=Math.min(e,t[o].x),n=Math.max(n,t[o].x),r=Math.min(r,t[o].y),i=Math.max(i,t[o].y);return{left:e,right:n,top:r,bottom:i}},t.prototype.intersectsWith=function(t){var e=this.clone(),n=t.clone();if(!xg(this.angle,0)){var r=e.angle;e.angle=0,(i=n.center).rotateAt(-r,e.center),n.center=i,n.angle-=r}var i,o=[e.getUpperLeftCorner(),e.getUpperRightCorner(),e.getBottomRightCorner(),e.getBottomLeftCorner()],s=[n.getUpperLeftCorner(),n.getUpperRightCorner(),n.getBottomRightCorner(),n.getBottomLeftCorner()],a=this._checkProjectionIntersection(o,s),l=!0;return a&&!xg(this.angle,t.angle)&&(e=this.clone(),r=(n=t.clone()).angle,n.angle=0,(i=e.center).rotateAt(-r,n.center),e.center=i,e.angle-=r,o=[e.getUpperLeftCorner(),e.getUpperRightCorner(),e.getBottomRightCorner(),e.getBottomLeftCorner()],s=[n.getUpperLeftCorner(),n.getUpperRightCorner(),n.getBottomRightCorner(),n.getBottomLeftCorner()],l=this._checkProjectionIntersection(o,s)),a&&l},Object.defineProperty(t.prototype,"location",{get:function(){return this.getUpperLeftCorner()},set:function(t){var e=this.getUpperLeftCorner();this.centerX=this.centerX+(t.x-e.x),this.centerY=this.centerY+(t.y-e.y)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"center",{get:function(){return new pg(this.centerX,this.centerY)},set:function(t){this.centerX=t.x,this.centerY=t.y},enumerable:!0,configurable:!0}),t.prototype.rotateAt=function(t,e){var n=this.center;return n.rotateAt(t,e),this.center=n,this.angle+=t,this},t.prototype.translate=function(t,e){this.centerX+=t,this.centerY+=e},t.prototype.setTransform=function(t){null==t||t.equals(new Tg)||(this.width*=t.scaleX,this.height*=t.scaleY,this.angle+=t.angle,this.centerX+=t.translateX,this.centerY+=t.translateY)},t.prototype.getTransform=function(t){if(null==t||this.equals(t))return new Tg;var e=t.center;return new Tg(0===t.width?0:this.width/t.width,0===t.height?0:this.height/t.height,this.centerX-e.x,this.centerY-e.y,this.angle-t.angle)},t.prototype.transform=function(t,e){this.rotateAt(t.angle,e),t.setAngle(0),this.setTransform(t)},t.prototype.toString=function(){return[this.centerX,this.centerY,this.width,this.height,this.angle].join(",")},t.prototype.toRectangleF=function(){return new fg(this.centerX-this.width/2,this.centerY-this.height/2,this.width,this.height)},t.prototype.contains=function(t){var e=this.clone();e.angle=0;var n=t.clone();return n.rotateAt(-this.angle,this.center),e.bounds.contains(n)},t.prototype.getCornerByIndex=function(t){switch(t){case 0:return this.getUpperLeftCorner();case 1:return this.getUpperRightCorner();case 2:return this.getBottomRightCorner();case 3:return this.getBottomLeftCorner();default:return null}},t.prototype.transformByMatrix=function(t){var e=this.clone();return e.center=t.transformPoint(e.center),e.width*=t.scaleX,e.height*=t.scaleY,e.angle+=t.angle,e},t.union=function(e,n){var r=e.clone(),i=n.clone(),o=r.angle,s=r.center;r.angle=0,i.rotateAt(-o,s);var a=fg.union(r.bounds,i.bounds),l=new pg(a.left+a.width/2,a.top+a.height/2),u=new t;u.center=l;var c=-1===Math.sign(e.width)||-1===Math.sign(e.width)?-1:1,h=-1===Math.sign(e.height)||-1===Math.sign(n.height)?-1:1;return u.width=a.width*c,u.height=a.height*h,u.rotateAt(o,s),u},t.fromRectangleF=function(e,n){return new t(e.left+e.width/2,e.top+e.height/2,e.width,e.height,"number"==typeof n?n:0)},t.FromLTRB=function(e,n,r,i){return t.fromRectangleF(fg.FromLTRB(e,n,r,i))},t.getRectWithOffset=function(t,e){if(null==t)throw new $f("RotatedRectangleF.getRectWithOffset: rectangle cannot be null!");return null==e||e.isOrigin()?t.clone():t.transformByMatrix((new dg).translate(e.x,e.y))},t}(),kg=function(){function t(t,e){this.width=0,this.height=0,this.width=t,this.height=e}return t.prototype.clone=function(){return new t(this.width,this.height)},t.prototype.toString=function(){return[this.width,this.height].join(",")},t.prototype.updateByMatrix=function(t){return t.updateObjectByMatrix(this,"width","height"),this},t}(),Og=function(t){var e="function"==typeof Symbol&&Symbol.iterator,n=e&&t[e],r=0;if(n)return n.call(t);if(t&&"number"==typeof t.length)return{next:function(){return t&&r>=t.length&&(t=void 0),{value:t&&t[r++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")},Mg=function(t,e){var n="function"==typeof Symbol&&t[Symbol.iterator];if(!n)return t;var r,i,o=n.call(t),s=[];try{for(;(void 0===e||e-- >0)&&!(r=o.next()).done;)s.push(r.value)}catch(a){i={error:a}}finally{try{r&&!r.done&&(n=o.return)&&n.call(o)}finally{if(i)throw i.error}}return s},Rg=function(){for(var t=[],e=0;e<arguments.length;e++)t=t.concat(Mg(arguments[e]));return t};function Dg(t,e,n){var r=!1;return null!=n&&(r="boolean"==typeof n?n:n.ignoreCase),(t=r?t.toLowerCase():t)===(r?e.toLowerCase():e)}function Bg(t){for(var e=[],n=1;n<arguments.length;n++)e[n-1]=arguments[n];var r=e.pop();if(0===e.length&&""===r)return t;if(r=r.replace(/^(\/|\s)+/g,""),t=t.replace(/(\/|\s)+$/g,""),0===e.length)return t+"/"+r;var i=lg(e).map((function(t){return t.replace(/^(\/|\s)+/g,"").replace(/(\/|\s)+$/g,"")}));return lg.flatten([t,i,r]).join("/")}function jg(t,e){if(null==t&&null==e)return!0;if(null==t&&null!=e||null!=t&&null==e)return!1;var n=typeof t;return n===typeof e&&("string"===n||"boolean"===n?t===e:"number"===n?xg(t,e):Array.isArray(t)&&Array.isArray(e)?t.length===e.length&&Fg(t,e):("function"==typeof t.equals&&"function"==typeof e.equals?function(t,e){return t.equals(e)}:function(t,e){return t==e})(t,e))}function Fg(t,e){return null==t?t===e:t.reduce((function(t,n,r){return t&&jg(n,e[r])}),!0)}function zg(t,e){return t.reduce((function(t,n,r){return t&&n==e[r]}),!0)}function Lg(t){return null==t||""===t.trim()}function Hg(t){return!(Lg(t)||!t.startsWith("<"))&&null==(new DOMParser).parseFromString("<root>"+t+"</root>","application/xml").querySelector("parsererror")}function Ng(t,e){var n,r,i,o;void 0===e&&(e=" ");var s,a,l=(new DOMParser).parseFromString("<root>"+t+"</root>","application/xml");if(null==l.querySelector("parsererror")){try{for(var u=Og(Array.from(l.querySelectorAll("br"))),c=u.next();!c.done;c=u.next())c.value.textContent=e}catch(y){n={error:y}}finally{try{c&&!c.done&&(r=u.return)&&r.call(u)}finally{if(n)throw n.error}}var h=Array.from(l.querySelectorAll("p, li"));if(h.length>1){var p=lg.without(h,h[h.length-1]);try{for(var d=Og(p),f=d.next();!f.done;f=d.next()){var g=f.value,m=document.createElementNS("application/xml","span");m.textContent=e,g.appendChild(m)}}catch(v){i={error:v}}finally{try{f&&!f.done&&(o=d.return)&&o.call(d)}finally{if(i)throw i.error}}}return l.querySelector("root").textContent}return console.warn("Bad value",l),s=t,(a=(new DOMParser).parseFromString("<span></span>","application/xml")).querySelector("span").textContent=s,(new XMLSerializer).serializeToString(a).replace("<span>","").replace("</span>","").replace("<span/>","").replace("<span />","")}function Wg(t,e,n){if((o=n,null==o&&(o={}),lg.defaults(o,{deep:!1,ignoreNull:!0}),n=o).ignoreNull)for(var r=0;r<e.length;r++){var i=hg.cloneDeep(e[r]);s(i),e[r]=i}var o;return n.deep?(function t(e){for(var n=[],r=1;r<arguments.length;r++)n[r-1]=arguments[r];for(var i=e,o=Rg(n),s=function(e){for(var n in e)e.hasOwnProperty(n)&&("object"==typeof e[n]&&null!=i[n]?"object"==typeof i[n]?i[n]=t(i[n],e[n]):i=e[n]:i[n]=e[n])},a=0;a<o.length;a++)s(o[a]);return i}).apply(void 0,Rg([t],e)):Object.assign.apply(Object,Rg([t],e));function s(t){var e,n;try{for(var r=Og(Object.keys(t)),i=r.next();!i.done;i=r.next()){var o=i.value,a=t[o];null===a?t.hasOwnProperty(o)?delete t[o]:t[o]=void 0:"object"==typeof a&&s(a)}}catch(l){e={error:l}}finally{try{i&&!i.done&&(n=r.return)&&n.call(r)}finally{if(e)throw e.error}}}}function Vg(t,e){return Wg(t,[e],{deep:!0})}function Ug(t,e){return null!=e?e:t}function qg(t,e){return void 0!==e?e:t}function Gg(t,e){var n;if("number"!=typeof(n="string"==typeof t&&/%$/.test(t)?e*Number(t.split(/%/)[0])/100:Number(t))||isNaN(n))throw new $f("'"+t+"' is not a number or percent string");return n}new Map;var Yg,Xg=function(){function t(t,e){void 0===e&&(e=""),this._name="",this._propertyChanged=new ag,this.id=null!=t?t:(new Jf).toString(),this.name=e,null==this._tags&&(this._tags={})}return Object.defineProperty(t.prototype,"version",{get:function(){return"6.1.1"},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"name",{get:function(){return this._name},set:function(t){this._name!==t&&(this._name=t,this._propertyChanged.notify(this,"name"))},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"tags",{get:function(){return this._tags},set:function(t){if(null==t)throw new $f("value is null!");this._tags=t},enumerable:!0,configurable:!0}),t.prototype._copy=function(t,e,n,r){if(void 0===n&&(n=!1),void 0===r&&(r=!1),e.name=t.name,n?e.generateNewIds():e.id=t.id,null!=this.tags)for(var i in e.tags={},t.tags)e.tags[i]=lg.clone(t.tags[i])},t.prototype.getSimplifiedObject=function(t){var e=function(t,e){null==e?e=[]:"string"==typeof e&&(e=[e]);var n=[];for(var r in t)n.push(r);return n.filter((function(n){var r,i;try{for(var o=Og(["_","$$"]),s=o.next();!s.done;s=o.next())if(n.startsWith(s.value))return!1}catch(a){r={error:a}}finally{try{s&&!s.done&&(i=o.return)&&i.call(o)}finally{if(r)throw r.error}}return!e.some((function(t){return t===n}))&&"function"!=typeof t[n]})).reduce((function(e,n){return e[n]=t[n],e}),{})}(this,t);return e.tags=this.tags,e.id=this.id.toString(),e},t.prototype.generateNewIds=function(){this._generateNewId()},t.prototype._generateNewId=function(){this.id=(new Jf).toString()},t.prototype.toString=function(){return this.name},t.prototype.addPropertyChanged=function(t){this._propertyChanged.add(t)},t.prototype.removePropertyChanged=function(t){this._propertyChanged.remove(t)},t.prototype.equals=function(t){return this.name===t.name&&this.version===t.version},t}(),$g="The item already belongs to this collection, or to another collection.",Qg=n("nuWL");n("iGQJ"),function(t){t.Move="Move",t.Add="Add",t.Remove="Remove"}(Yg||(Yg={}));var Zg,Kg,Jg=function(t){var e="function"==typeof Symbol&&Symbol.iterator,n=e&&t[e],r=0;if(n)return n.call(t);if(t&&"number"==typeof t.length)return{next:function(){return t&&r>=t.length&&(t=void 0),{value:t&&t[r++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")},tm=function(t,e){var n="function"==typeof Symbol&&t[Symbol.iterator];if(!n)return t;var r,i,o=n.call(t),s=[];try{for(;(void 0===e||e-- >0)&&!(r=o.next()).done;)s.push(r.value)}catch(a){i={error:a}}finally{try{r&&!r.done&&(n=o.return)&&n.call(o)}finally{if(i)throw i.error}}return s},em=function(){for(var t=[],e=0;e<arguments.length;e++)t=t.concat(tm(arguments[e]));return t};Kg=(Zg=Qg).from,Zg.from=function(t){return t instanceof nm?t:Kg(t)};var nm=function(){function t(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];this._collection=[],this.constructor=function(t){throw new Xf},this._itemAddedEvent=new og,this._itemRemovedEvent=new og,this._itemMovedEvent=new og,this._enumerable=Qg.from(this._collection),0!==t.length&&this.setRange(t)}return t.prototype.setRange=function(t){this.clear(),this.addRange(t)},t.prototype.addRange=function(e){var n;e instanceof t&&(e=e._collection),"getEnumerator"in(n=e)&&"toArray"in n&&(e=e.toArray());for(var r=0;r<e.length;r++)this.add(e[r])},t.prototype.add=function(){for(var t,e,n=[],r=0;r<arguments.length;r++)n[r]=arguments[r];try{for(var i=Jg(n),o=i.next();!o.done;o=i.next()){var s=o.value;this.insertAt(this._collection.length,s)}}catch(a){t={error:a}}finally{try{o&&!o.done&&(e=i.return)&&e.call(i)}finally{if(t)throw t.error}}},t.prototype.push=function(t){return this.add(t),this.length},t.prototype.insertAt=function(t,e){var n,r,i;Array.isArray(e)||(e=[e]);try{for(var o=Jg(e),s=o.next();!s.done;s=o.next())this._checkIfItemExists(l=s.value)}catch(u){n={error:u}}finally{try{s&&!s.done&&(r=o.return)&&r.call(o)}finally{if(n)throw n.error}}if(t<0||t>this._collection.length)throw new Zf;(i=this._collection).splice.apply(i,em([t,0],e));for(var a=0;a<e.length;a++){var l;this._onItemAdded(this._collection.indexOf(l=e[a]),l)}},t.prototype.remove=function(t){if(!this.contains(t))throw new $f("The item was not found in this collection.");return this.removeAt(this.indexOf(t))},t.prototype.removeAt=function(t){if(t<0||t>this._collection.length-1)throw new Zf;var e=this._collection[t];return this._collection.splice(t,1),this._onItemRemoved(t,e),e},t.prototype.removeRange=function(t,e){for(var n=this._collection.slice(),r=this._collection.splice(t,e-t+1),i=0;i<r.length;i++){var o=r[i];this._onItemRemoved(n.indexOf(o),o)}return r},t.prototype.move=function(t,e,n){"boolean"!=typeof n&&(n=!1);var r=this._collection[t];return r&&t>=0&&e>=0&&t!=e&&(this._collection.splice(t,1),this._collection.splice(e,0,r),n||this._onItemMoved(t,e)),r},t.prototype.clear=function(){for(var t=this.length-1;t>=0;t--)this.removeAt(t)},t.prototype.replaceAt=function(t,e){if(e<0||e>this._collection.length-1)throw new Zf;this._collection[e]=t},Object.defineProperty(t.prototype,"length",{get:function(){return this._collection.length},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"empty",{get:function(){return 0===this.length},enumerable:!0,configurable:!0}),t.prototype.get=function(t){return this.getItem(t)},t.prototype.set=function(t,e){throw new Xf},t.prototype.getItem=function(t){return this._collection[t]},t.prototype._checkIfItemExists=function(t){if(this.contains(t))throw new $f($g)},t.prototype._onItemAdded=function(t,e){this._itemAddedEvent.notify({item:e,index:t,type:Yg.Add})},t.prototype.add_itemAdded=function(t){this._itemAddedEvent.add(t)},t.prototype.remove_itemAdded=function(t){this._itemAddedEvent.remove(t)},t.prototype._onItemRemoved=function(t,e){this._itemRemovedEvent.notify({item:e,index:t,type:Yg.Remove})},t.prototype.add_itemRemoved=function(t){this._itemRemovedEvent.add(t)},t.prototype.remove_itemRemoved=function(t){this._itemRemovedEvent.remove(t)},t.prototype._onItemMoved=function(t,e){this._itemMovedEvent.notify({oldIndex:t,newIndex:e,type:Yg.Move})},t.prototype.add_itemMoved=function(t){this._itemMovedEvent.add(t)},t.prototype.remove_itemMoved=function(t){this._itemMovedEvent.remove(t)},t.prototype.add_collectionChanged=function(t){this.add_itemMoved(t),this.add_itemRemoved(t),this.add_itemAdded(t)},t.prototype.remove_collectionChanged=function(t){this.remove_itemMoved(t),this.remove_itemRemoved(t),this.remove_itemAdded(t)},t.prototype[Symbol.iterator]=function(){return this._collection.values()},t.prototype.toArray=function(){return this._collection.slice()},t.prototype.getEnumerator=function(){return this._enumerable.getEnumerator()},t.prototype.traverseBreadthFirst=function(){for(var t,e=[],n=0;n<arguments.length;n++)e[n]=arguments[n];return(t=this._enumerable).traverseBreadthFirst.apply(t,em(e))},t.prototype.traverseDepthFirst=function(){for(var t,e=[],n=0;n<arguments.length;n++)e[n]=arguments[n];return(t=this._enumerable).traverseDepthFirst.apply(t,em(e))},t.prototype.flatten=function(){return this._enumerable.flatten()},t.prototype.pairwise=function(t){return this._enumerable.pairwise(t)},t.prototype.scan=function(){for(var t,e=[],n=0;n<arguments.length;n++)e[n]=arguments[n];return(t=this._enumerable).scan.apply(t,em(e))},t.prototype.select=function(t){return this._enumerable.select(t)},t.prototype.selectMany=function(){for(var t,e=[],n=0;n<arguments.length;n++)e[n]=arguments[n];return(t=this._enumerable).selectMany.apply(t,em(e))},t.prototype.where=function(t){return this._enumerable.where(t)},t.prototype.choose=function(t){return this._enumerable.choose(t)},t.prototype.ofType=function(t){return this._enumerable.ofType(t)},t.prototype.zip=function(){for(var t,e=[],n=0;n<arguments.length;n++)e[n]=arguments[n];return(t=this._enumerable).zip.apply(t,em(e))},t.prototype.merge=function(){for(var t,e=[],n=0;n<arguments.length;n++)e[n]=arguments[n];return(t=this._enumerable).merge.apply(t,em(e))},t.prototype.join=function(){for(var t,e=[],n=0;n<arguments.length;n++)e[n]=arguments[n];return(t=this._enumerable).join.apply(t,em(e))},t.prototype.groupJoin=function(){for(var t,e=[],n=0;n<arguments.length;n++)e[n]=arguments[n];return(t=this._enumerable).groupJoin.apply(t,em(e))},t.prototype.all=function(t){return this._enumerable.all(t)},t.prototype.any=function(t){return this._enumerable.any(t)},t.prototype.isEmpty=function(){return this._enumerable.isEmpty()},t.prototype.concat=function(){for(var t,e=[],n=0;n<arguments.length;n++)e[n]=arguments[n];return(t=this._enumerable).concat.apply(t,em(e))},t.prototype.alternate=function(){for(var t,e=[],n=0;n<arguments.length;n++)e[n]=arguments[n];return(t=this._enumerable).alternate.apply(t,em(e))},t.prototype.defaultIfEmpty=function(t){return this._enumerable.defaultIfEmpty(t)},t.prototype.distinct=function(){for(var t,e=[],n=0;n<arguments.length;n++)e[n]=arguments[n];return(t=this._enumerable).distinct.apply(t,em(e))},t.prototype.distinctUntilChanged=function(){for(var t,e=[],n=0;n<arguments.length;n++)e[n]=arguments[n];return(t=this._enumerable).distinctUntilChanged.apply(t,em(e))},t.prototype.except=function(){for(var t,e=[],n=0;n<arguments.length;n++)e[n]=arguments[n];return(t=this._enumerable).except.apply(t,em(e))},t.prototype.intersect=function(){for(var t,e=[],n=0;n<arguments.length;n++)e[n]=arguments[n];return(t=this._enumerable).intersect.apply(t,em(e))},t.prototype.union=function(){for(var t,e=[],n=0;n<arguments.length;n++)e[n]=arguments[n];return(t=this._enumerable).union.apply(t,em(e))},t.prototype.sequenceEqual=function(){for(var t,e=[],n=0;n<arguments.length;n++)e[n]=arguments[n];return(t=this._enumerable).sequenceEqual.apply(t,em(e))},t.prototype.orderBy=function(t){return this._enumerable.orderBy(t)},t.prototype.orderByDescending=function(t){return this._enumerable.orderByDescending(t)},t.prototype.reverse=function(){return this._enumerable.reverse()},t.prototype.shuffle=function(){return this._enumerable.shuffle()},t.prototype.weightedSample=function(t){return this._enumerable.weightedSample(t)},t.prototype.groupBy=function(){for(var t,e=[],n=0;n<arguments.length;n++)e[n]=arguments[n];return(t=this._enumerable).groupBy.apply(t,em(e))},t.prototype.partitionBy=function(){for(var t,e=[],n=0;n<arguments.length;n++)e[n]=arguments[n];return(t=this._enumerable).partitionBy.apply(t,em(e))},t.prototype.buffer=function(t){return this._enumerable.buffer(t)},t.prototype.aggregate=function(){for(var t,e=[],n=0;n<arguments.length;n++)e[n]=arguments[n];return(t=this._enumerable).aggregate.apply(t,em(e))},t.prototype.average=function(t){return this._enumerable.average(t)},t.prototype.count=function(t){return this._enumerable.count(t)},t.prototype.max=function(t){return this._enumerable.max(t)},t.prototype.min=function(t){return this._enumerable.min(t)},t.prototype.maxBy=function(t){return this._enumerable.maxBy(t)},t.prototype.minBy=function(t){return this._enumerable.minBy(t)},t.prototype.sum=function(t){return this._enumerable.sum(t)},t.prototype.elementAt=function(t){return this._enumerable.elementAt(t)},t.prototype.elementAtOrDefault=function(t,e){return this._enumerable.elementAtOrDefault(t,e)},t.prototype.first=function(t){return this._enumerable.first(t)},t.prototype.firstOrDefault=function(t,e){return"function"==typeof t?this._enumerable.firstOrDefault(t,e):this._enumerable.firstOrDefault(e)},t.prototype.last=function(t){return this._enumerable.last(t)},t.prototype.lastOrDefault=function(t,e){return"function"==typeof t?this._enumerable.lastOrDefault(t,e):this._enumerable.lastOrDefault(e)},t.prototype.single=function(t){return this._enumerable.single(t)},t.prototype.singleOrDefault=function(t,e){return this._enumerable.singleOrDefault(t,e)},t.prototype.skip=function(t){return this._enumerable.skip(t)},t.prototype.skipWhile=function(t){return this._enumerable.skipWhile(t)},t.prototype.take=function(t){return this._enumerable.take(t)},t.prototype.takeWhile=function(t){return this._enumerable.takeWhile(t)},t.prototype.takeExceptLast=function(t){return this._enumerable.takeExceptLast(t)},t.prototype.takeFromLast=function(t){return this._enumerable.takeFromLast(t)},t.prototype.indexOf=function(){for(var t,e=[],n=0;n<arguments.length;n++)e[n]=arguments[n];return(t=this._enumerable).indexOf.apply(t,em(e))},t.prototype.lastIndexOf=function(){for(var t,e=[],n=0;n<arguments.length;n++)e[n]=arguments[n];return(t=this._enumerable).lastIndexOf.apply(t,em(e))},t.prototype.asEnumerable=function(){return this._enumerable},t.prototype.cast=function(){return this._enumerable.cast()},t.prototype.toLookup=function(){for(var t,e=[],n=0;n<arguments.length;n++)e[n]=arguments[n];return(t=this._enumerable).toLookup.apply(t,em(e))},t.prototype.toObject=function(t,e){return this._enumerable.toObject(t,e)},t.prototype.toDictionary=function(){for(var t,e=[],n=0;n<arguments.length;n++)e[n]=arguments[n];return(t=this._enumerable).toDictionary.apply(t,em(e))},t.prototype.toJSONString=function(){for(var t,e=[],n=0;n<arguments.length;n++)e[n]=arguments[n];return(t=this._enumerable).toJSONString.apply(t,em(e))},t.prototype.toJoinedString=function(){for(var t,e=[],n=0;n<arguments.length;n++)e[n]=arguments[n];return(t=this._enumerable).toJoinedString.apply(t,em(e))},t.prototype.doAction=function(){for(var t,e=[],n=0;n<arguments.length;n++)e[n]=arguments[n];return(t=this._enumerable).doAction.apply(t,em(e))},t.prototype.forEach=function(){for(var t,e=[],n=0;n<arguments.length;n++)e[n]=arguments[n];return(t=this._enumerable).forEach.apply(t,em(e))},t.prototype.write=function(){for(var t,e=[],n=0;n<arguments.length;n++)e[n]=arguments[n];return(t=this._enumerable).write.apply(t,em(e))},t.prototype.writeLine=function(){for(var t,e=[],n=0;n<arguments.length;n++)e[n]=arguments[n];return(t=this._enumerable).writeLine.apply(t,em(e))},t.prototype.force=function(){return this._enumerable.force()},t.prototype.letBind=function(){for(var t,e=[],n=0;n<arguments.length;n++)e[n]=arguments[n];return(t=this._enumerable).letBind.apply(t,em(e))},t.prototype.share=function(){return this._enumerable.share()},t.prototype.memoize=function(){return this._enumerable.memoize()},t.prototype.catchError=function(t){return this._enumerable.catchError(t)},t.prototype.finallyAction=function(t){return this._enumerable.finallyAction(t)},t.prototype.log=function(){for(var t,e=[],n=0;n<arguments.length;n++)e[n]=arguments[n];return(t=this._enumerable).log.apply(t,em(e))},t.prototype.trace=function(){for(var t,e=[],n=0;n<arguments.length;n++)e[n]=arguments[n];return(t=this._enumerable).trace.apply(t,em(e))},t.prototype.insert=function(){for(var t,e=[],n=0;n<arguments.length;n++)e[n]=arguments[n];return(t=this._enumerable).insert.apply(t,em(e))},t.prototype.contains=function(){for(var t,e=[],n=0;n<arguments.length;n++)e[n]=arguments[n];return(t=this._enumerable).contains.apply(t,em(e))},t}(),rm=function(){var t=function(e,n){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(e,n)};return function(e,n){function r(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),im=function(t){function e(e,n){var r=t.call(this)||this;return r._items=new nm,r._visible=!0,r.parentComponent=null,r.locked=!1,r.renderingType=Vf.Normal,r.type="Container",r.region=null,r._onItemAdded=function(t){t.item.parentContainer=r},r._items=new nm,r._items.add_itemAdded(r._onItemAdded),null!=e&&r.items.setRange(e),null!=n&&(r.name=n),r}return rm(e,t),Object.defineProperty(e.prototype,"items",{get:function(){return this._items},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"visible",{get:function(){return this._visible},set:function(t){this._visible!==t&&(this._visible=t,this._propertyChanged.notify(this,"visible"))},enumerable:!0,configurable:!0}),e.prototype.getSimplifiedObject=function(){var e=t.prototype.getSimplifiedObject.call(this,["parentComponent","version"]);return e.version=this.version,e},e.prototype.generateNewIds=function(){this._generateNewId(),this._items.forEach((function(t){return t.generateNewIds()}))},e.prototype._copy=function(e,n,r){t.prototype._copy.call(this,e,n,r),n.items.addRange(e.items.toArray().map((function(t){return t.clone(r)}))),n.locked=e.locked,n.visible=e.visible,n.renderingType=e.renderingType,n.translationKey=e.translationKey,n.region=null!=e.region?e.region.clone():null},e.prototype.clone=function(t){void 0===t&&(t=!1);var n=new e;return this._copy(this,n,t),n},e}(Xg),om=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.locked=!0,e.noPrint=!1,e.noShow=!1,e.size=null,e}return rm(e,t),e.prototype._copy=function(e,n,r){t.prototype._copy.call(this,e,n,r),n.noPrint=e.noPrint,n.noShow=e.noShow,n.size=null!=e.size?e.size.clone():null},e.prototype.clone=function(t){void 0===t&&(t=!1);var n=new e;return this._copy(this,n,t),n},e}(im),sm=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.locked=!1,e.type="SurfaceContainer",e}return rm(e,t),e.prototype.clone=function(t){void 0===t&&(t=!1);var n=new e;return this._copy(this,n,t),n},e}(im),am=function(t){function e(){var e=t.call(this)||this;return e.type="SpotColorContainer",e.renderingType=Vf.Grayscale,e}return rm(e,t),e.prototype._copy=function(e,n,r){t.prototype._copy.call(this,e,n,r),n.previewColor=e.previewColor},e.prototype.clone=function(t){void 0===t&&(t=!1);var n=new e;return this._copy(this,n,t),n},e}(sm),lm=function(t){function e(){var e=t.call(this)||this;return e.type="TextureContainer",e.renderingType=Vf.Solid,e}return rm(e,t),Object.defineProperty(e.prototype,"previewTextureSource",{get:function(){return this._previewTextureSource},set:function(t){t!==this._previewTextureSource&&(this._previewTextureSource=t,this._propertyChanged.notify(this,"previewTextureSource"))},enumerable:!0,configurable:!0}),e.prototype._copy=function(e,n,r){return t.prototype._copy.call(this,e,n,r),n.previewTextureSource=null!=e.previewTextureSource?e.previewTextureSource.clone():null,n.previewTextureName=e.previewTextureName,n},e.prototype.clone=function(t){void 0===t&&(t=!1);var n=new e;return this._copy(this,n,t),n},e.prototype.getSimplifiedObject=function(e){lg.isArray(e)||lg.isString(e)||(e=[]);var n=t.prototype.getSimplifiedObject.call(this);return n.previewTextureSource={id:this.previewTextureSource.id,width:this.previewTextureSource.width,height:this.previewTextureSource.height,isVector:this.previewTextureSource.isVector,pageIndex:this.previewTextureSource.pageIndex,url:this.previewTextureSource.url,actualSize:this.previewTextureSource.actualSize,saveAspectRatio:this.previewTextureSource.saveAspectRatio,origin:this.previewTextureSource.origin},n},e}(sm),um=function(){function t(t){this._previewFromServer=!1,this.preview=null,this.profileId=null,null!=t&&(Lg(t.preview)||(this._previewFromServer=!0),"string"!=typeof t&&this._init(t))}return Object.defineProperty(t.prototype,"previewFromServer",{get:function(){return this._previewFromServer},enumerable:!0,configurable:!0}),t.prototype.needUpdate=function(t){var e="RgbColor"===this.type;return(!e||e&&null!=this.profileId&&this.profileId!==t)&&!this.previewFromServer},t.prototype.equals=function(t,e){return void 0===e&&(e=!1),t.profileId===this.profileId&&(e||t.preview===this.preview)},t.prototype.getData=function(){return{preview:this.preview,profileId:this.profileId,type:this.type}},t.prototype._init=function(t){Lg(t.preview)||(this.preview=t.preview),Lg(t.profileId)||(this.profileId=t.profileId)},t.prototype._validateString=function(t){if(Lg(t))throw new $f("Value must be a non-empty string")},t.prototype._validateNumber=function(t,e,n){if(void 0===e&&(e=0),void 0===n&&(n=255),"number"!=typeof t)throw new $f("Value must be a number");if(t<e||t>n)throw new $f("Value must be in range ["+e+", "+n+"]")},t.equals=function(t,e){return null==t&&null==e||null!=t&&t.equals(e)},t}(),cm=function(){var t=function(e,n){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(e,n)};return function(e,n){function r(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),hm=function(t){function e(e){var n=t.call(this,e)||this;if(n._r=0,n._g=0,n._b=0,n._a=0,null==e)return n;var r="Incorrect RgbColor format: "+JSON.stringify(e);if("string"==typeof e){var i=e;if(0!==e.indexOf("#")&&0!==e.indexOf("rgb")&&null==(i=n._parseNamedColor(e))&&console.warn("Unknown rgb color name: "+e),n._tryInitFromRgba(i))return n;if(n._tryInitFromRgb(i))return n;n._tryInitFromHex(i)||console.warn(r)}else try{n._init(e)}catch(o){console.warn(r)}return n}return cm(e,t),e.prototype._parseNamedColor=function(t){if(window.getComputedStyle){var e=document.createElement("div");e.style.color=t,document.body.appendChild(e);var n=window.getComputedStyle(e).color;return document.body.removeChild(e),n}return console.warn("Unable to parse rgb color string "+t),null},e.prototype._tryInitFromRgba=function(t){var n=e.matchRgba(t);if(null!=n&&6===n.length){var r=parseInt((255*parseFloat(n[4])).toFixed(0));return r=Math.max(r,0),r=Math.min(r,255),this._init({r:+n[1],g:+n[2],b:+n[3],a:r}),!0}return!1},e.prototype._tryInitFromRgb=function(t){var n=e.matchRgb(t);return null!=n&&4===n.length&&(this._init({r:+n[1],g:+n[2],b:+n[3],a:255}),!0)},e.prototype._tryInitFromHex=function(t){t=t.replace(/^#?([a-f\d])([a-f\d])([a-f\d])$/i,(function(t,e,n,r){return e+e+n+n+r+r}));var e=/^#?([a-f\d]{2})([a-f\d]{2})([a-f\d]{2})$/i.exec(t);return null!=e&&4===e.length&&(this._init({r:parseInt(e[1],16),g:parseInt(e[2],16),b:parseInt(e[3],16),a:255}),!0)},Object.defineProperty(e.prototype,"type",{get:function(){return"RgbColor"},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"r",{get:function(){return this._r},set:function(t){this._r=t,this._updatePreview()},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"g",{get:function(){return this._g},set:function(t){this._g=t,this._updatePreview()},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"b",{get:function(){return this._b},set:function(t){this._b=t,this._updatePreview()},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"a",{get:function(){return this._a},set:function(t){this._a=t,this._updatePreview()},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"alpha",{get:function(){return this.a},enumerable:!0,configurable:!0}),e.matchRgba=function(t){return e._rgba.lastIndex=0,e._rgba.exec(t)},e.matchRgb=function(t){return e._rgb.lastIndex=0,e._rgb.exec(t)},e.prototype.getData=function(){var e=t.prototype.getData.call(this);return e.r=this.r,e.g=this.g,e.b=this.b,e.a=this.a,e},e.prototype.clone=function(){return new e(this)},e.prototype.toString=function(){return this._getPreview()},e.prototype.equals=function(n){return n instanceof e&&t.prototype.equals.call(this,n)},e.prototype._getPreview=function(){if(255===this.a)return"rgb("+this.r+","+this.g+","+this.b+")";var t=(this.a/255).toFixed(7);return"rgba("+this.r+","+this.g+","+this.b+","+t+")"},e.prototype._init=function(e){t.prototype._init.call(this,e),e.a=null!=e.a?e.a:255,this._validateNumber(e.r),this._validateNumber(e.g),this._validateNumber(e.b),this._validateNumber(e.a),this.r=e.r,this.g=e.g,this.b=e.b,this.a=e.a,this._updatePreview()},e.prototype._updatePreview=function(){this.preview=this._getPreview()},e._rgba=/^\s*rgba\(\s*(\d{1,3})\s*,\s*(\d{1,3})\s*,\s*(\d{1,3})\s*\,\s*(\d{1,}(\.\d{1,})?)\s*\)\s*;{0,1}\s*$/g,e._rgb=/^\s*rgb\(\s*(\d{1,3})\s*,\s*(\d{1,3})\s*,\s*(\d{1,3})\s*\)\s*;{0,1}\s*$/g,e}(um),pm=function(){function t(){}return t.isValidRgbColor=function(t){return!Lg(t)&&(null!=hm.matchRgb(t)||null!=hm.matchRgba(t))},t.convertPercentToByte=function(t){return Cg(0,parseInt((255*parseFloat(t)/100).toFixed(0)),255)},t.convertByteToPercent=function(t){return(t/255*100).toFixed(0)+"%"},t}(),dm=function(){function t(t,e,n){this._sourceString=t,this._regexArray=e,this._maxValue=n}return t.prototype.validate=function(){var t=function(t,e){return"ComponentName - "+t+", Value - "+e+"; "},e="";this._validate(this._regexArray[1])||(e=e.concat(t("C",this._regexArray[1]))),this._validate(this._regexArray[2])||(e=e.concat(t("M",this._regexArray[2]))),this._validate(this._regexArray[3])||(e=e.concat(t("Y",this._regexArray[3]))),this._validate(this._regexArray[4])||(e=e.concat(t("K",this._regexArray[4]))),null==this._regexArray[5]||this._validate(this._regexArray[5])||(e=e.concat(t("A",this._regexArray[5]))),e.length>0&&(e=e.substring(0,e.length-2),console.warn("Invalid value of CMYK components. SourceString: "+this._sourceString+"; InvalidComponents: "+e+"."))},t.prototype._validate=function(t){var e=parseFloat(t);return e>=0&&e<=this._maxValue},t}(),fm=function(){var t=function(e,n){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(e,n)};return function(e,n){function r(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),gm=function(t){function e(e){var n=t.call(this,e)||this;if(n.c=255,n.m=255,n.y=255,n.k=255,n.a=255,null==e)return n;var r="Incorrect CmykColor format: "+JSON.stringify(e);if("string"==typeof e)n._tryInitFromPercentCmyk(e)||n._tryInitFromRelativeCmyk(e)||n._tryInitFromDeviceCmyk(e)?n._previewFromServer=pm.isValidRgbColor(n.preview):console.warn(r);else try{n._init(e)}catch(i){console.warn(r)}return n}return fm(e,t),Object.defineProperty(e.prototype,"type",{get:function(){return"CmykColor"},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"alpha",{get:function(){return this.a},enumerable:!0,configurable:!0}),e.prototype._tryInitFromDeviceCmyk=function(t){var e=/^\s*device-cmyk\(\s*(\d{1,3})\s*,\s*(\d{1,3})\s*,\s*(\d{1,3})\s*\,\s*(\d{1,3})\s*(\,\s*(\d{1,}(\.\d{1,})?))?\s*(\,\s*(.*)\s*)?\)\s*;{0,1}\s*$/g.exec(t);if(null!=e&&10===e.length){var n={c:+e[1],m:+e[2],y:+e[3],k:+e[4],preview:e[9]};return null!=e[6]&&(n.a=this._convertRelativeToByte(e[6])),this._init(n),!0}return!1},e.prototype._tryInitFromPercentCmyk=function(t){var e=/^\s*cmyk\(\s*(\d{1,3}(?:\.\d{1,})?)%\s*,\s*(\d{1,3}(?:\.\d{1,})?)%\s*,\s*(\d{1,3}(?:\.\d{1,})?)%\s*,\s*(\d{1,3}(?:\.\d{1,})?)%\s*(?:\,\s*(\d{1,3}(?:\.\d{1,})?)%)?\s*(?:\,\s*(.*)\s*)?\);{0,1}\s*$/g.exec(t);if(null!=e&&7===e.length){new dm(t,e,100).validate();var n={c:pm.convertPercentToByte(e[1]),m:pm.convertPercentToByte(e[2]),y:pm.convertPercentToByte(e[3]),k:pm.convertPercentToByte(e[4]),preview:e[6]};return null!=e[5]&&(n.a=pm.convertPercentToByte(e[5])),this._init(n),!0}return!1},e.prototype._tryInitFromRelativeCmyk=function(t){var e=/^\s*cmyk\(\s*(\d{1,3}(?:\.\d{1,})?)\s*,\s*(\d{1,3}(?:\.\d{1,})?)\s*,\s*(\d{1,3}(?:\.\d{1,})?)\s*,\s*(\d{1,3}(?:\.\d{1,})?)\s*(?:\,\s*(\d{1,3}(?:\.\d{1,})?))?\s*(?:\,\s*(.*)\s*)?\);{0,1}\s*$/g.exec(t);if(null!=e&&7===e.length){new dm(t,e,1).validate();var n={c:this._convertRelativeToByte(e[1]),m:this._convertRelativeToByte(e[2]),y:this._convertRelativeToByte(e[3]),k:this._convertRelativeToByte(e[4]),preview:e[6]};return null!=e[5]&&(n.a=this._convertAlpha(e[5])),this._init(n),!0}return!1},e.prototype._convertRelativeToByte=function(t){return Cg(0,parseInt((255*parseFloat(t)).toFixed(0)),255)},e.prototype._convertAlpha=function(t){return Cg(parseInt((255*parseFloat(t)).toFixed(0)),0,255)},e.prototype.clone=function(){return new e(this)},e.prototype.getData=function(){var e=t.prototype.getData.call(this);return e.c=this.c,e.m=this.m,e.y=this.y,e.k=this.k,e.a=this.a,e},e.prototype.equals=function(n,r){return void 0===r&&(r=!1),n instanceof e&&t.prototype.equals.call(this,n,r)&&n instanceof e&&this.c===n.c&&this.m===n.m&&this.y===n.y&&this.k===n.k&&this.a===n.a},e.prototype.toString=function(){var t="cmyk("+this._toRelative(this.c)+","+this._toRelative(this.m)+","+this._toRelative(this.y)+","+this._toRelative(this.k)+","+this._toRelative(this.a);return null!=this.preview&&(t+=","+this.preview),t+")"},e.prototype._toRelative=function(t){return(t/255).toFixed(7)},e.prototype._getPreview=function(){return this.preview},e.prototype._init=function(e){t.prototype._init.call(this,e),e.a=null!=e.a?e.a:255,this._validateNumber(e.c),this._validateNumber(e.m),this._validateNumber(e.y),this._validateNumber(e.k),this._validateNumber(e.a),this.c=e.c,this.m=e.m,this.y=e.y,this.k=e.k,this.a=e.a},e}(um),mm=function(){var t=function(e,n){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(e,n)};return function(e,n){function r(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),ym=function(t){function e(e){var n=t.call(this,e)||this;if(n.l=0,n.a=255,null==e)return n;try{n._init(e)}catch(r){console.warn("Incorrect GrayscaleColor format: "+JSON.stringify(e))}return n}return mm(e,t),Object.defineProperty(e.prototype,"type",{get:function(){return"GrayscaleColor"},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"alpha",{get:function(){return this.a},enumerable:!0,configurable:!0}),e.prototype.clone=function(){return new e(this)},e.prototype.equals=function(n){return n instanceof e&&t.prototype.equals.call(this,n)&&n instanceof e&&this.l===n.l&&this.a===n.a},e.prototype.toString=function(){return this._getPreview()},e.prototype.getData=function(){var e=t.prototype.getData.call(this);return e.l=this.l,e.a=this.a,e},e.prototype._getPreview=function(){if(255===this.a)return"rgb("+this.l+","+this.l+","+this.l+")";var t=(this.a/255).toFixed(7);return"rgba("+this.l+","+this.l+","+this.l+","+t+")"},e.prototype._init=function(e){t.prototype._init.call(this,e),e.a=null!=e.a?e.a:255,this._validateNumber(e.l),this._validateNumber(e.a),this.l=e.l,this.a=e.a,null==this.preview&&(this.preview=this._getPreview())},e}(um),vm=function(){var t=function(e,n){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(e,n)};return function(e,n){function r(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),_m=function(t){function e(e){var n=t.call(this,e)||this;if(n.l=0,n.a=-128,n.b=-128,n.alpha=0,null==e)return n;var r="Incorrect LabColor format: "+JSON.stringify(e);if("string"==typeof e)n._tryInitFromString(e)?n._previewFromServer=pm.isValidRgbColor(n.preview):console.warn(r);else try{n._init(e)}catch(i){console.warn(r)}return n}return vm(e,t),Object.defineProperty(e.prototype,"type",{get:function(){return"LabColor"},enumerable:!0,configurable:!0}),e.prototype._tryInitFromString=function(t){e._lab.lastIndex=0;var n=e._lab.exec(t);return null!=n&&8===n.length&&(this._init({l:+n[1],a:+n[2],b:+n[3],alpha:null!=n[5]?pm.convertPercentToByte(n[5]):255,preview:null!=n[7]?n[7]:null}),!0)},e.prototype.clone=function(){return new e(this)},e.prototype.equals=function(n){return n instanceof e&&t.prototype.equals.call(this,n)&&n instanceof e&&this.l===n.l&&this.a===n.a&&this.b===n.b&&this.alpha===n.alpha},e.prototype.toString=function(){var t="lab("+this.l+","+this.a+","+this.b+","+pm.convertByteToPercent(this.alpha);return null!=this.preview&&(t+=","+this.preview),t+")"},e.prototype.getData=function(){var e=t.prototype.getData.call(this);return e.l=this.l,e.a=this.a,e.b=this.b,e.alpha=this.alpha,e},e.prototype._getPreview=function(){return this.preview},e.prototype._init=function(e){t.prototype._init.call(this,e),e.alpha=null!=e.alpha?e.alpha:255,this._validateNumber(e.l),this._validateNumber(e.a,-128,127),this._validateNumber(e.b,-128,127),this._validateNumber(e.alpha),this.l=e.l,this.a=e.a,this.b=e.b,this.alpha=e.alpha},e._lab=/^\s*lab\(\s*(\d{1,3})\s*,\s*(-*\d{1,3})\s*,\s*(-*\d{1,3})\s*(,\s*(\d{1,3})%)?\s*(\,\s*(.*)\s*)?\)\s*;{0,1}\s*$/g,e}(um),bm=function(){function t(){}return t.registerColor=function(e,n,r){e&&(t._createFunctionByType[e]=r),n&&(t._createFunctionByName[n]=r)},Object.defineProperty(t,"rgbColorProfileId",{set:function(e){t._rgbColorProfileId=e},enumerable:!0,configurable:!0}),t._updateRgbColor=function(e){return lg.isEmpty(null==e?void 0:e.profileId)&&(e.profileId=t._rgbColorProfileId),e},t.createColor=function(e,n,r){void 0===n&&(n=!1),void 0===r&&(r=!1);try{return e instanceof um?e:"string"==typeof e?0===e.indexOf("device-cmyk")||0===e.indexOf("cmyk")?new gm(e):0===e.indexOf("lab")?new _m(e):0===e.indexOf("spot")?t._createColorByName("spot",e):r?t._updateRgbColor(new hm(e)):new hm(e):t._fromData(e,r)}catch(i){if(!1!==n)throw i;return console.warn("Unable to create color from value "+JSON.stringify(e)+". Error: "+i),new hm("rgba(0,0,0,1)")}},t._createColorByName=function(e,n){if(!t._createFunctionByName[e])throw"Color with name '"+e+"' was not registered in ColorFactory";return new(0,t._createFunctionByName[e])(n)},t._createColorByType=function(e,n){if(!t._createFunctionByType[e])throw"Color with type name '"+e+"' was not registered in ColorFactory";return new(0,t._createFunctionByType[e])(n)},t._fromData=function(e,n){if(void 0===n&&(n=!1),null==e)throw"Value cannot be null";var r=e.type;if("RgbColor"===r)return n?t._updateRgbColor(new hm(e)):new hm(e);if("CmykColor"===r)return new gm(e);if("GrayscaleColor"===r)return new ym(e);if("LabColor"===r)return new _m(e);if("SpotColor"===r)return t._createColorByType("SpotColor",e);throw"Unsupported color type "+r},t._createFunctionByType={},t._createFunctionByName={},t}(),wm=function(){var t=function(e,n){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(e,n)};return function(e,n){function r(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),Cm=function(t){function e(e){var n=t.call(this,e)||this;if(null==e)return n;var r="Incorrect SpotColor format: "+JSON.stringify(e);if("string"==typeof e)n._tryInitFromString(e)?n._previewFromServer=pm.isValidRgbColor(n.preview):console.warn(r);else try{n._init(e)}catch(i){console.warn(r)}return n}return wm(e,t),Object.defineProperty(e.prototype,"type",{get:function(){return"SpotColor"},enumerable:!0,configurable:!0}),e.prototype._tryInitFromString=function(t){e._spot.lastIndex=0;var n=e._spot.exec(t);return null!=n&&10===n.length&&(this._init({inkName:n[1].replace(/'/g,"").replace(/\"/g,""),inkColor:bm.createColor(n[2]),inkSolidity:null!=n[4]?+n[4]:1,tint:null!=n[7]?pm.convertPercentToByte(n[7]):255,preview:null!=n[9]?n[9]:null}),!0)},e.prototype.toString=function(){var t=this.inkColor.clone();return t.preview=null,"spot('"+this.inkName+"',"+t.toString()+","+this.inkSolidity+","+pm.convertByteToPercent(this.tint)+","+this.preview+")"},e.prototype.clone=function(){return new e(this)},e.prototype.equals=function(n){return n instanceof e&&t.prototype.equals.call(this,n)&&n instanceof e&&this.inkName===n.inkName&&this.inkColor.equals(n.inkColor)&&this.inkSolidity===n.inkSolidity&&this.alpha===n.alpha&&this.tint===n.tint},e.prototype.getData=function(){var e=t.prototype.getData.call(this);return e.inkName=this.inkName,e.inkColor=this.inkColor.getData(),e.inkSolidity=this.inkSolidity,e.alpha=this.alpha,e.tint=this.tint,e},e.prototype._getPreview=function(){return this.preview},e.prototype._init=function(e){t.prototype._init.call(this,e),e.alpha=null!=e.alpha?e.alpha:255,e.tint=null!=e.tint?e.tint:255;var n=bm.createColor(e.inkColor,!0);this._validateString(e.inkName),this._validateNumber(e.inkSolidity,0,1),this._validateNumber(e.alpha),this._validateNumber(e.tint),this.inkName=e.inkName,this.inkColor=n,this.inkSolidity=e.inkSolidity,this.alpha=e.alpha,this.tint=e.tint},e._spot=/^\s*spot\(\s*([^()]*)\s*,\s*(.{3,4}\([^()]*\))\s*(,\s*(\d{1}(\.\d{1,})?))?\s*(,\s*(\d{1,3})%)?\s*(,\s*(.*)\s*)?\)\s*;{0,1}\s*$/g,e}(um);bm.registerColor("SpotColor","spot",Cm);var xm,Sm=function(){function t(){this.name="cropmark",this.margin=10,this.color=new hm({r:0,g:0,b:0,a:255}),this.widthPx=1,this.length=8,this.leftNotes=null,this.topNotes=null,this.rightNotes=null,this.bottomNotes=null}return Object.defineProperty(t.prototype,"margins",{get:function(){return"number"==typeof this.margin?{horizontal:this.margin,vertical:this.margin}:this.margin},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"lengths",{get:function(){return"number"==typeof this.length?{horizontal:this.length,vertical:this.length}:this.length},enumerable:!0,configurable:!0}),t.prototype.clone=function(){var e=new t;return e.name=this.name,e.margin=this.margin,e.color=this.color,e.widthPx=this.widthPx,e.length=this.length,e.leftNotes=null!=this.leftNotes?this.leftNotes.map((function(t){return t.clone()})):null,e.topNotes=null!=this.topNotes?this.topNotes.map((function(t){return t.clone()})):null,e.rightNotes=null!=this.rightNotes?this.rightNotes.map((function(t){return t.clone()})):null,e.bottomNotes=null!=this.bottomNotes?this.bottomNotes.map((function(t){return t.clone()})):null,e},t}();!function(t){t[t.Left=0]="Left",t[t.Center=1]="Center",t[t.Right=2]="Right"}(xm||(xm={}));var Pm,Im=function(){function t(){this.alignment=xm.Left,this.fontSize=3,this.edgeMargin=.3,this.markMargin=.3}return t.prototype.clone=function(){var e=new t;return e.alignment=this.alignment,e.fontSize=this.fontSize,e.text=this.text,e.edgeMargin=this.edgeMargin,e.markMargin=this.markMargin,e},t}(),Em=function(){var t=function(e,n){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(e,n)};return function(e,n){function r(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),Tm=function(t){function e(e){var n,r,i,o,s,a,l,u,c,h,p,d,f=t.call(this)||this;f._propertyChanged=new ag;var g=e;return f._left=null!==(i=null!==(r=null!==(n=null==g?void 0:g.left)&&void 0!==n?n:null==g?void 0:g.horizontal)&&void 0!==r?r:g)&&void 0!==i?i:0,f._top=null!==(a=null!==(s=null!==(o=null==g?void 0:g.top)&&void 0!==o?o:null==g?void 0:g.vertical)&&void 0!==s?s:g)&&void 0!==a?a:0,f._right=null!==(c=null!==(u=null!==(l=null==g?void 0:g.right)&&void 0!==l?l:null==g?void 0:g.horizontal)&&void 0!==u?u:g)&&void 0!==c?c:0,f._bottom=null!==(d=null!==(p=null!==(h=null==g?void 0:g.bottom)&&void 0!==h?h:null==g?void 0:g.vertical)&&void 0!==p?p:g)&&void 0!==d?d:0,f}return Em(e,t),Object.defineProperty(e.prototype,"left",{get:function(){return this._left},set:function(t){xg(t,this._left)||(this._left=t,this._propertyChanged.notify(this,"left"))},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"top",{get:function(){return this._top},set:function(t){xg(t,this._top)||(this._top=t,this._propertyChanged.notify(this,"top"))},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"right",{get:function(){return this._right},set:function(t){xg(t,this._right)||(this._right=t,this._propertyChanged.notify(this,"right"))},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"bottom",{get:function(){return this._bottom},set:function(t){xg(t,this._bottom)||(this._bottom=t,this._propertyChanged.notify(this,"bottom"))},enumerable:!0,configurable:!0}),e.prototype.clone=function(){return new e({left:this.left,top:this.top,right:this.right,bottom:this.bottom})},Object.defineProperty(e.prototype,"isEmpty",{get:function(){return 0===this._left&&0===this._top&&0===this._right&&0===this._bottom},enumerable:!0,configurable:!0}),e.prototype.equals=function(t){return this.left===t.left&&this.top===t.top&&this.right===t.right&&this.bottom===t.bottom},e.prototype.getSimplifiedObject=function(){return{left:this.left,top:this.top,right:this.right,bottom:this.bottom}},e.prototype.addPropertyChanged=function(t){this._propertyChanged.add(t)},e.prototype.removePropertyChanged=function(t){this._propertyChanged.remove(t)},e}(Xg);!function(t){t[t.Trim=0]="Trim",t[t.Bleed=1]="Bleed",t[t.Total=2]="Total"}(Pm||(Pm={}));var Am=function(){var t=function(e,n){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(e,n)};return function(e,n){function r(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),km=function(t){function e(e,n,r){var i=t.call(this)||this;return i.parentSurface=null,i._safetyLines=new nm,i._cropMarks=new nm,i._onBoundsPropertyChanged=function(t,e){i._propertyChanged.notify(i,"bounds")},i._onBleedPropertyChanged=function(t,e){i._validateMargin(i.bleed,"bleed"),i._propertyChanged.notify(i,"bleed")},i._onSlugPropertyChanged=function(t,e){i._validateMargin(i.slug,"slug"),i._propertyChanged.notify(i,"slug")},i._validateMargin(n,"bleed"),i._validateMargin(r,"slug"),i._bounds=null!=e?e:new fg,i.bleed=null!=n?n:new Tm,i.slug=null!=r?r:new Tm,i}return Am(e,t),Object.defineProperty(e.prototype,"bounds",{get:function(){return this._bounds},set:function(t){this._bounds.equals(t)||(this._unsubscribeBoundsPropertyChanged(),this._bounds=t,this._subscribeBoundsPropertyChanged(),this._propertyChanged.notify(this,"bounds"))},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"safetyLines",{get:function(){return this._safetyLines},set:function(t){this._safetyLines!==t&&(this._safetyLines=t,this._propertyChanged.notify(this,"safetyLines"))},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"cropMarks",{get:function(){return this._cropMarks},set:function(t){this._cropMarks!==t&&(this._cropMarks=t,this._propertyChanged.notify(this,"cropMarks"))},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"bleed",{get:function(){return this._bleed},set:function(t){jg(t,this._bleed)||(this._validateMargin(t,"bleed"),this._unsubscribeBleedPropertyChanged(),this._bleed=t,this._subscribeBleedPropertyChanged(),this._propertyChanged.notify(this,"bleed"))},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"slug",{get:function(){return this._slug},set:function(t){jg(t,this._slug)||(this._validateMargin(t,"slug"),this._unsubscribeSlugPropertyChanged(),this._slug=t,this._subscribeSlugPropertyChanged(),this._propertyChanged.notify(this,"slug"))},enumerable:!0,configurable:!0}),e.prototype.getBounds=function(t){switch(t){case Pm.Bleed:return this.bounds.getShrinked(this.bleed);case Pm.Total:return this.bounds.getShrinked(new Tm({left:this.bleed.left+this.slug.left,top:this.bleed.top+this.slug.top,right:this.bleed.right+this.slug.right,bottom:this.bleed.bottom+this.slug.bottom}));default:return this.bounds.clone()}},e.prototype._subscribeBoundsPropertyChanged=function(){null!=this._bounds&&this._bounds.addPropertyChanged(this._onBoundsPropertyChanged)},e.prototype._unsubscribeBoundsPropertyChanged=function(){null!=this._bounds&&this._bounds.removePropertyChanged(this._onBoundsPropertyChanged)},e.prototype._subscribeBleedPropertyChanged=function(){null!=this._bleed&&this._bleed.addPropertyChanged(this._onBleedPropertyChanged)},e.prototype._unsubscribeBleedPropertyChanged=function(){null!=this._bleed&&this._bleed.removePropertyChanged(this._onBleedPropertyChanged)},e.prototype._subscribeSlugPropertyChanged=function(){null!=this._slug&&this._slug.addPropertyChanged(this._onSlugPropertyChanged)},e.prototype._unsubscribeSlugPropertyChanged=function(){null!=this._slug&&this._slug.removePropertyChanged(this._onSlugPropertyChanged)},e.prototype._validateMargin=function(t,e){if(null!=t&&(t.left<0||t.top<0||t.right<0||t.bottom<0))throw new $f("PrintArea.ts: "+e+" margin members cannot be negative!")},e.prototype.getSimplifiedObject=function(){return t.prototype.getSimplifiedObject.call(this,["parentSurface","boundsWithMargins","boundsWithBleed"])},e.prototype._copy=function(e,n,r){var i,o;t.prototype._copy.call(this,e,n,r),n.bounds=null!=e.bounds?e.bounds.clone():null,n.safetyLines.addRange(e.safetyLines.toArray().map((function(t){return t.clone()}))),n.cropMarks.addRange(e.cropMarks.toArray().map((function(t){return t.clone()}))),n.bleed=null===(i=e.bleed)||void 0===i?void 0:i.clone(),n.slug=null===(o=e.slug)||void 0===o?void 0:o.clone()},e.prototype.clone=function(t){void 0===t&&(t=!1);var n=new e;return this._copy(this,n,t),n},e.prototype.generateNewIds=function(){this._generateNewId()},e}(Xg),Om=function(){var t=function(e,n){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(e,n)};return function(e,n){function r(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),Mm=function(t){function e(){var n=null!==t&&t.apply(this,arguments)||this;return n.type=e.type,n}return Om(e,t),Object.defineProperty(e.prototype,"parentContainer",{get:function(){return this._parentContainer},set:function(t){this._parentContainer=t,this._onContainerChanged()},enumerable:!0,configurable:!0}),e.prototype._onContainerChanged=function(){},e.prototype._copy=function(e,n,r,i){t.prototype._copy.call(this,e,n,r),i&&(n.parentContainer=e.parentContainer)},e.prototype.clone=function(t,n){if(void 0===t&&(t=!1),void 0===n&&(n=!1),this.type!==e.type)throw new Xf(".clone() method must be overriden in "+this.type+" class");var r=new e;return this._copy(this,r,t,n),r},e.prototype.update=function(t){this._copy(t,this,!0,!1)},e.prototype.getSimplifiedObject=function(e){lg.isArray(e)||lg.isString(e)||(e=[]);var n=t.prototype.getSimplifiedObject.call(this,["parentContainer"].concat(e));return n.$type=this.type,n},e.type="base",e}(Xg),Rm=function(){var t=function(e,n){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(e,n)};return function(e,n){function r(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),Dm=function(t){function e(){var n=t.call(this)||this;return n.type=e.type,n}return Rm(e,t),e.prototype._copy=function(e,n,r,i){return t.prototype._copy.call(this,e,n,r,i),n.sourceDpi=e.sourceDpi,n.smartObjectDpi=e.smartObjectDpi,n.smartObjectRectangle=e.smartObjectRectangle,n.smartObjectSize=e.smartObjectSize,n.smartObjectStorageId=e.smartObjectStorageId,null!=e.warpControlPoints&&(n.warpControlPoints=e.warpControlPoints.map((function(t){return t}))),null!=e.projectiveTransform&&(n.projectiveTransform=e.projectiveTransform.map((function(t){return t}))),null!=e.vectorMask&&(n.vectorMask=e.vectorMask.map((function(t){return t}))),n},e.prototype.equals=function(e){return t.prototype.equals.call(this,e)&&jg(this.sourceDpi,e.sourceDpi)&&jg(this.smartObjectDpi,e.smartObjectDpi)&&lg.isEqual(this.smartObjectRectangle,e.smartObjectRectangle)&&lg.isEqual(this.smartObjectSize,e.smartObjectSize)&&jg(this.smartObjectStorageId,e.smartObjectStorageId)&&zg(this.warpControlPoints,e.warpControlPoints)&&zg(this.projectiveTransform,e.projectiveTransform)&&zg(this.vectorMask,e.vectorMask)},e.prototype.clone=function(t,n){void 0===t&&(t=!1),void 0===n&&(n=!1);var r=new e;return this._copy(this,r,t,n),r},e.type="SmartItem",e}(Mm),Bm=new(function(){function t(){this.data={},this._typeDictionary={}}return t.prototype.getPropertyMetadata=function(t,e){var n=t.type;if(null==n)return null;if(null==this._typeDictionary[n]){this._typeDictionary[n]=[];for(var r=t;null!=r.constructor.type;)this._typeDictionary[n].push(r.constructor.type),r=Object.getPrototypeOf(r)}for(var i=0;i<this._typeDictionary[n].length;i++){var o=this._typeDictionary[n][i];if(null!=this.data[o]){var s=this.data[o][e];if(null!=s)return s}}return null},t}());function jm(t){return function(e,n){var r=e.constructor.type;null==Bm.data[r]&&(Bm.data[r]={});var i=Bm.data[r];null==i[n]&&(i[n]={type:null!=t.enumObject?"enum":typeof e[n],displayName:null!=t&&null!=t.displayName?t.displayName:n,propertyFactory:t.factory,values:null!=t.enumObject?Object.keys(t.enumObject).map((function(e){return t.enumObject[e]})).filter((function(t){return"string"==typeof t})):null,ignore:null==t.ignore||t.ignore})}}var Fm,zm=function(t,e){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(t,e)},Lm=function(){function t(e,n,r){void 0===r&&(r=!0),this._edgeConstraint=null,this._cornerArbitraryConstraint=null,this.propertyChanged=new og,this.type=t.type,this.edge=n,this._setCornerValues(e,n,r)}return Object.defineProperty(t.prototype,"edgeConstraint",{set:function(t){var e=this.edge;this._edgeConstraint=t,this.edge!==e&&this.propertyChanged.notify()},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"edge",{get:function(){return null!=this._edgeConstraint?this._edgeConstraint:this._edge},set:function(t){this._edge!==t&&(this._edge=t,this.propertyChanged.notify())},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"corner",{get:function(){return this._corner},set:function(t){if(null==t)throw new Qf("corner cannot be null");this._corner!==t&&(this._corner=t,this.propertyChanged.notify())},enumerable:!0,configurable:!0}),t.prototype._setCornerValues=function(e,n,r){this.corner=e&&n?r?[t.arbitrary,t.proportional]:[t.proportional,t.arbitrary]:e?[t.proportional]:n?[t.arbitrary]:[]},t.prototype.getCornerProportional=function(){return this.corner.includes(t.proportional)},t.prototype.getCornerArbitrary=function(){return null!=this._cornerArbitraryConstraint?this._cornerArbitraryConstraint:this.corner.includes(t.arbitrary)},t.prototype.setCornerProportional=function(t){var e=this.getCornerArbitrary();this._setCornerValues(t,e,!0)},t.prototype.setCornerArbitrary=function(t){var e=this.getCornerProportional();this._setCornerValues(e,t,!0)},t.prototype.setCornerArbitraryConstraint=function(t){var e=this.getCornerArbitrary();this._cornerArbitraryConstraint=t,this.getCornerArbitrary()!==e&&this.propertyChanged.notify()},t.prototype.clone=function(){var e=new t(!0,!0);return e.edge=this.edge,e.corner=this.corner.slice(),e},t.prototype.equals=function(t){return this.edge===t.edge&&lg.isEqual(this.corner,t.corner)},Object.defineProperty(t.prototype,"data",{get:function(){return{Edge:this.edge,Corner:this.corner}},enumerable:!0,configurable:!0}),t._fromData=function(e){if(null==e)return new t(!1,!1);var n=new t(!0,!0);return n.corner=e.Corner,n.edge=e.Edge,n},t.prototype.getSimplifiedObject=function(){var t={};return t.edge=this.edge,t.corner=this.corner,t},t.arbitrary="Arbitrary",t.proportional="Proportional",t.type="ResizeGripsPermissions",function(t,e,n,r){var i,o=arguments.length,s=o<3?e:null===r?r=Object.getOwnPropertyDescriptor(e,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(t,e,n,r);else for(var a=t.length-1;a>=0;a--)(i=t[a])&&(s=(o<3?i(s):o>3?i(e,n,s):i(e,n))||s);o>3&&s&&Object.defineProperty(e,n,s)}([jm({ignore:!0}),zm("design:type",Boolean),zm("design:paramtypes",[Boolean])],t.prototype,"edgeConstraint",null),t}(),Hm=function(t,e){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(t,e)},Nm=function(){function t(e){var n=this;void 0===e&&(e=!0),this._allowRotateConstraint=null,this.propertyChanged=new og,this._firePropertyChanged=function(){return n.propertyChanged.notify()},this.type=t.type,this.allowDelete=e,this.allowMoveHorizontal=e,this.allowMoveVertical=e,this.allowRotate=e,this.allowDragAndDrop=e,this.resizeGrips=new Lm(e,e)}return Object.defineProperty(t.prototype,"allowDelete",{get:function(){return this._allowDelete},set:function(t){this._allowDelete!==t&&(this._allowDelete=t,this.propertyChanged.notify())},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"allowMoveHorizontal",{get:function(){return this._allowMoveHorizontal},set:function(t){this._allowMoveHorizontal!==t&&(this._allowMoveHorizontal=t,this.propertyChanged.notify())},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"allowMoveVertical",{get:function(){return this._allowMoveVertical},set:function(t){this._allowMoveVertical!==t&&(this._allowMoveVertical=t,this.propertyChanged.notify())},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"allowRotateConstraint",{set:function(t){var e=this.allowRotate;this._allowRotateConstraint=t,this.allowRotate!==e&&this.propertyChanged.notify()},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"allowRotate",{get:function(){return null!=this._allowRotateConstraint?this._allowRotateConstraint:this._allowRotate},set:function(t){this._allowRotate!==t&&(this._allowRotate=t,this.propertyChanged.notify())},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"allowDragAndDrop",{get:function(){return this._allowDragAndDrop},set:function(t){this._allowDragAndDrop!==t&&(this._allowDragAndDrop=t,this.propertyChanged.fire())},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"resizeGrips",{get:function(){return this._resizeGrips},set:function(t){null!=this.resizeGrips&&null!=this.resizeGrips.propertyChanged&&this.resizeGrips.propertyChanged.remove(this._firePropertyChanged),this._resizeGrips=t,null!=this.resizeGrips.propertyChanged&&this.resizeGrips.propertyChanged.add(this._firePropertyChanged),this.propertyChanged.notify()},enumerable:!0,configurable:!0}),t.prototype.clone=function(){var e=new t;return e.allowDelete=this.allowDelete,e.allowDragAndDrop=this.allowDragAndDrop,e.allowMoveHorizontal=this.allowMoveHorizontal,e.allowMoveVertical=this.allowMoveVertical,e.allowRotate=this.allowRotate,e.allowRotateConstraint=this.allowRotateConstraint,e.resizeGrips=this.resizeGrips.clone(),e},t.prototype.equals=function(t){return this.allowDelete===t.allowDelete&&this.allowDragAndDrop===t.allowDragAndDrop&&this.allowMoveHorizontal===t.allowMoveHorizontal&&this.allowMoveVertical===t.allowMoveVertical&&this.allowRotate===t.allowRotate&&this.allowRotateConstraint===t.allowRotateConstraint&&jg(this.resizeGrips,t.resizeGrips)},t.prototype.getSimplifiedObject=function(){var t={};return t.allowDelete=this.allowDelete,t.resizeGrips=this.resizeGrips.getSimplifiedObject(),t.allowMoveHorizontal=this.allowMoveHorizontal,t.allowMoveVertical=this.allowMoveVertical,t.allowRotate=this.allowRotate,t.allowDragAndDrop=this.allowDragAndDrop,t},t.CreateFromRaw=function(e){var n=lg.extend(new Lm(!0,!0),e.resizeGrips),r=lg.extend(new t,e);return r.resizeGrips=n,r},t.type="ManipulationPermissions",function(t,e,n,r){var i,o=arguments.length,s=o<3?e:null===r?r=Object.getOwnPropertyDescriptor(e,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(t,e,n,r);else for(var a=t.length-1;a>=0;a--)(i=t[a])&&(s=(o<3?i(s):o>3?i(e,n,s):i(e,n))||s);o>3&&s&&Object.defineProperty(e,n,s)}([jm({ignore:!0}),Hm("design:type",Boolean),Hm("design:paramtypes",[Boolean])],t.prototype,"allowRotateConstraint",null),t}(),Wm=function(){function t(){this._noPrint=!1,this._noShow=!1,this.propertyChanged=new og}return Object.defineProperty(t.prototype,"noPrint",{get:function(){return this._noPrint},set:function(t){this._noPrint!==t&&(this._noPrint=t,this.propertyChanged.notify())},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"noShow",{get:function(){return this._noShow},set:function(t){this._noShow!==t&&(this._noShow=t,this.propertyChanged.notify())},enumerable:!0,configurable:!0}),t.prototype.clone=function(){var e=new t;return e.noShow=this.noShow,e.noPrint=this.noPrint,e},t.prototype.equals=function(t){return this.noShow===t.noShow&&this.noPrint===t.noPrint},t.prototype.getSimplifiedObject=function(){var t={};return t.noPrint=this.noPrint,t.noShow=this.noShow,t},t}(),Vm=function(t,e,n,r){var i,o=arguments.length,s=o<3?e:null===r?r=Object.getOwnPropertyDescriptor(e,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(t,e,n,r);else for(var a=t.length-1;a>=0;a--)(i=t[a])&&(s=(o<3?i(s):o>3?i(e,n,s):i(e,n))||s);return o>3&&s&&Object.defineProperty(e,n,s),s},Um=function(t,e){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(t,e)},qm=function(){function t(e){void 0===e&&(e=!0),this._showDeleteButton=!0,this._showEditButton=!0,this._showSelectButton=!0,this._showEditButtonConstraint=null,this.propertyChanged=new og,this.showSelectButtonConstraint=null,this.type=t.type,this.showDeleteButton=e,this.showEditButton=e,this.showSelectButton=e}return Object.defineProperty(t.prototype,"showDeleteButton",{get:function(){return this._showDeleteButton},set:function(t){this._showDeleteButton!==t&&(this._showDeleteButton=t,this.propertyChanged.fire())},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"showEditButton",{get:function(){return null!=this.showEditButtonConstraint?this.showEditButtonConstraint:this._showEditButton},set:function(t){this._showEditButton!==t&&(this._showEditButton=t,this.propertyChanged.fire())},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"showEditButtonConstraint",{get:function(){return this._showEditButtonConstraint},set:function(t){this.showEditButtonConstraint!==t&&(this._showEditButtonConstraint=t,this.propertyChanged.fire())},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"showSelectButton",{get:function(){return null!=this.showSelectButtonConstraint?this.showSelectButtonConstraint:this._showSelectButton},set:function(t){this._showSelectButton!==t&&(this._showSelectButton=t,this.propertyChanged.fire())},enumerable:!0,configurable:!0}),t.prototype.getSimplifiedObject=function(){var t={};return t.showDeleteButton=this.showDeleteButton,t.showEditButton=this.showEditButton,t.showSelectButton=this.showSelectButton,t.showEditButtonConstraint=this.showEditButtonConstraint,t.showSelectButtonConstraint=this.showSelectButtonConstraint,t},t.prototype.clone=function(){var e=new t;return e.showDeleteButton=this._showDeleteButton,e.showEditButton=this._showEditButton,e.showEditButtonConstraint=this.showEditButtonConstraint,e.showSelectButton=this._showSelectButton,e.showSelectButtonConstraint=this.showSelectButtonConstraint,e},t.prototype.equals=function(t){return this.showDeleteButton==t.showDeleteButton&&this.showEditButton===t.showEditButton&&this.showEditButtonConstraint===t.showEditButtonConstraint&&this.showSelectButton===t.showSelectButton&&this.showSelectButtonConstraint===t.showSelectButtonConstraint},t.type="ItemToolbarPermissions",Vm([jm({ignore:!0}),Um("design:type",Boolean)],t.prototype,"showSelectButtonConstraint",void 0),Vm([jm({ignore:!0}),Um("design:type",Boolean),Um("design:paramtypes",[Boolean])],t.prototype,"showEditButtonConstraint",null),t}(),Gm=function(){function t(t){var e=this;this._allowZOrderChange=!0,this._allowOpacityChange=!0,this._allowRemoveOnLayoutChange=!0,this._firePropertyChanged=function(){return e.propertyChanged.fire()},this.propertyChanged=new og,null==t&&(t=!0),this.allowZOrderChange=t,this.allowOpacityChange=t,this.allowRemoveOnLayoutChange=t,this.itemToolbarPermissions=new qm(t)}return Object.defineProperty(t.prototype,"allowZOrderChange",{get:function(){return this._allowZOrderChange},set:function(t){this._allowZOrderChange!==t&&(this._allowZOrderChange=t,this.propertyChanged.notify())},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"allowOpacityChange",{get:function(){return this._allowOpacityChange},set:function(t){this._allowOpacityChange!==t&&(this._allowOpacityChange=t,this.propertyChanged.notify())},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"allowRemoveOnLayoutChange",{get:function(){return this._allowRemoveOnLayoutChange},set:function(t){this._allowRemoveOnLayoutChange!==t&&(this._allowRemoveOnLayoutChange=t,this.propertyChanged.notify())},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"itemToolbarPermissions",{get:function(){return this._itemToolbarPermissions},set:function(t){jg(this,t)||(null!=this.itemToolbarPermissions&&null!=this.itemToolbarPermissions.propertyChanged&&this.itemToolbarPermissions.propertyChanged.remove(this._firePropertyChanged),this._itemToolbarPermissions=t,null!=this.itemToolbarPermissions.propertyChanged&&this.itemToolbarPermissions.propertyChanged.add(this._firePropertyChanged),this.propertyChanged.fire())},enumerable:!0,configurable:!0}),t.prototype.getSimplifiedObject=function(){var t={};return t.allowZOrderChange=this.allowZOrderChange,t.allowOpacityChange=this.allowOpacityChange,t.allowRemoveOnLayoutChange=this.allowRemoveOnLayoutChange,t.itemToolbarPermissions=this.itemToolbarPermissions.getSimplifiedObject(),t},t.prototype.clone=function(){var e=new t;return e.allowZOrderChange=this.allowZOrderChange,e.allowOpacityChange=this.allowOpacityChange,e.allowRemoveOnLayoutChange=this.allowRemoveOnLayoutChange,e.itemToolbarPermissions=this.itemToolbarPermissions.clone(),e},t.prototype.equals=function(t){return this.allowOpacityChange===t.allowOpacityChange&&this.allowOpacityChange===t.allowOpacityChange&&this.allowRemoveOnLayoutChange===t.allowRemoveOnLayoutChange&&jg(this.itemToolbarPermissions,t.itemToolbarPermissions)},t}(),Ym=function(){function t(){this._displayInObjectInspector=!0,this._showOutOfRegionWarning=!0,this.propertyChanged=new og}return Object.defineProperty(t.prototype,"displayInObjectInspector",{get:function(){return this._displayInObjectInspector},set:function(t){this._displayInObjectInspector!==t&&(this._displayInObjectInspector=t,this.propertyChanged.notify())},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"showOutOfRegionWarning",{get:function(){return this._showOutOfRegionWarning},set:function(t){this._showOutOfRegionWarning!==t&&(this._showOutOfRegionWarning=t,this.propertyChanged.notify())},enumerable:!0,configurable:!0}),t.prototype.getSimplifiedObject=function(){var t={};return t.displayInObjectInspector=this.displayInObjectInspector,t.showOutOfRegionWarning=this.showOutOfRegionWarning,t},t.prototype.clone=function(){var e=new t;return e.displayInObjectInspector=this.displayInObjectInspector,e.showOutOfRegionWarning=this.showOutOfRegionWarning,e},t.prototype.equals=function(t){return this.displayInObjectInspector===t.displayInObjectInspector&&this.showOutOfRegionWarning===t.showOutOfRegionWarning},t}();!function(t){t[t.None=0]="None",t[t.Square=1]="Square",t[t.Tight=2]="Tight"}(Fm||(Fm={}));var Xm,$m=function(){function t(){}return t.fromRaw=function(e){var n=new t;return n.text=e.text,n.stroke=e.stroke,n.shadow=e.shadow,n.img=e.img,n.border=e.border,n.fill=e.fill,n.textFill=e.textFill,n.line=e.line,n.altline=e.altline,n.horizontal=e.horizontal,n.vertical=e.vertical,n.barcode=e.barcode,n.styles=null!=e.styles?e.styles.slice(0):null,n.clipartColors=null!=e.clipartColors?e.clipartColors.slice(0):null,n},t.prototype.clone=function(){var e=new t;return e.text=this.text,e.stroke=this.stroke,e.shadow=this.shadow,e.img=this.img,e.border=this.border,e.fill=this.fill,e.textFill=this.textFill,e.line=this.line,e.altline=this.altline,e.horizontal=this.horizontal,e.vertical=this.vertical,e.barcode=this.barcode,e.styles=null!=this.styles?this.styles.slice(0):null,e.clipartColors=null!=this.clipartColors?this.clipartColors.slice(0):null,e},t.prototype.equals=function(t){return this.text===t.text&&this.stroke===t.stroke&&this.shadow===t.shadow&&this.img===t.img&&this.border===t.border&&this.fill===t.fill&&this.textFill===t.textFill&&this.line===t.line&&this.altline===t.altline&&this.horizontal===t.horizontal&&this.vertical===t.vertical&&this.barcode===t.barcode&&Fg(this.styles,t.styles)&&Fg(this.clipartColors,t.clipartColors)},t}();!function(t){t[t.Normal=0]="Normal",t[t.Multiply=1]="Multiply",t[t.Screen=2]="Screen",t[t.Overlay=3]="Overlay",t[t.Darken=4]="Darken",t[t.Lighten=5]="Lighten",t[t.ColorDodge=6]="ColorDodge",t[t.ColorBurn=7]="ColorBurn",t[t.HardLight=8]="HardLight",t[t.SoftLight=9]="SoftLight",t[t.Difference=10]="Difference",t[t.Exclusion=11]="Exclusion",t[t.None=12]="None"}(Xm||(Xm={}));var Qm,Zm=function(){var t=function(e,n){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(e,n)};return function(e,n){function r(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),Km=function(t,e,n,r){var i,o=arguments.length,s=o<3?e:null===r?r=Object.getOwnPropertyDescriptor(e,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(t,e,n,r);else for(var a=t.length-1;a>=0;a--)(i=t[a])&&(s=(o<3?i(s):o>3?i(e,n,s):i(e,n))||s);return o>3&&s&&Object.defineProperty(e,n,s),s},Jm=function(t,e){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(t,e)},ty=function(t){function e(){var n=t.call(this)||this;n._visible=!0,n._locked=!1,n._opacity=1,n._fromLayout=!1,n._textWrappingMode=Fm.None,n._isVariable=!1,n._blendMode=Xm.Normal,n._ignorePermissionsChange=!1,n._mask=null,n._onPermissionsChanged=function(){n._propertyChanged.notify(n,"permissions")},n._parentGroupItem=null,n.themeBinding=new $m,n._onTransformChanged=function(t){n._propertyChanged.notify(n,"transform")},n._onMaskChanged=function(t){n._propertyChanged.notify(n,"mask")},n._changedEvent=new sg(n),n._changingEvent=new og,n.type=e.type;var r=new Gm;return r.allowRemoveOnLayoutChange=!1,n.itemPermissions=r,n.setManipulationPermissions(new Nm),n.visualizationPermissions=new Wm,n.frontendPermissions=new Ym,n.setTransform(new Tg),n}return Zm(e,t),e.prototype._copy=function(e,n,r,i){t.prototype._copy.call(this,e,n,r,i),n.itemPermissions=e._itemPermissions.clone(),n.visible=e._visible,n.locked=e._locked,n.opacity=e._opacity,n.isVariable=e._isVariable,n.textWrappingMode=e._textWrappingMode,n.setManipulationPermissions(e._manipulationPermissions.clone()),n.visualizationPermissions=e._visualizationPermissions.clone(),n.frontendPermissions=e._frontendPermissions.clone(),n.transform=e._transform.clone(),n.containerName=e.containerName,n.themeBinding=e.themeBinding.clone(),n.mask=null!=e.mask?e.mask.clone():null,n.blendMode=e.blendMode},e.prototype.equals=function(e){return t.prototype.equals.call(this,e)&&jg(this._itemPermissions,e._itemPermissions)&&jg(this._visible,e._visible)&&jg(this._locked,e._locked)&&jg(this._opacity,e._opacity)&&jg(this._isVariable,e._isVariable)&&jg(this._textWrappingMode,e._textWrappingMode)&&jg(this._manipulationPermissions,e._manipulationPermissions)&&jg(this._visualizationPermissions,e._visualizationPermissions)&&jg(this._frontendPermissions,e._frontendPermissions)&&jg(this._transform,e._transform)&&jg(this.containerName,e.containerName)&&jg(this.themeBinding,e.themeBinding)&&jg(this._mask,e._mask)&&jg(this.blendMode,e.blendMode)},Object.defineProperty(e.prototype,"manipulationPermissions",{get:function(){return this.getManipulationPermissions()},set:function(t){this.setManipulationPermissions(t)},enumerable:!0,configurable:!0}),e.prototype.getManipulationPermissions=function(){return this._manipulationPermissions},e.prototype.setManipulationPermissions=function(t){if(null==t)throw new $f("manipulationPermissions cannot be null");jg(this._manipulationPermissions,t)||(null!=this._manipulationPermissions&&this._manipulationPermissions.propertyChanged.remove(this._onPermissionsChanged),this._manipulationPermissions=t,this.applyPermissionsConstrain(),this._manipulationPermissions.propertyChanged.add(this._onPermissionsChanged),this._propertyChanged.notify(this,"manipulationPermissions"))},Object.defineProperty(e.prototype,"visualizationPermissions",{get:function(){return this._visualizationPermissions},set:function(t){if(null==t)throw new $f("visualizationPermissions cannot be null");jg(this._visualizationPermissions,t)||(null!=this._visualizationPermissions&&this._visualizationPermissions.propertyChanged.remove(this._onPermissionsChanged),this._visualizationPermissions=t,this.applyPermissionsConstrain(),this._visualizationPermissions.propertyChanged.add(this._onPermissionsChanged),this._propertyChanged.notify(this,"visualizationPermissions"))},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"itemPermissions",{get:function(){return this._itemPermissions},set:function(t){if(null==t)throw new $f("itemPermissions cannot be null");jg(this._itemPermissions,t)||(null!=this._itemPermissions&&this._itemPermissions.propertyChanged.remove(this._onPermissionsChanged),this._itemPermissions=t,this.applyPermissionsConstrain(),this._itemPermissions.propertyChanged.add(this._onPermissionsChanged),this._propertyChanged.notify(this,"itemPermissions"))},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"frontendPermissions",{get:function(){return this._frontendPermissions},set:function(t){if(null==t)throw new $f("frontendPermissions cannot be null");jg(this._frontendPermissions,t)||(null!=this._frontendPermissions&&this._frontendPermissions.propertyChanged.remove(this._onPermissionsChanged),this._frontendPermissions=t,this.applyPermissionsConstrain(),this._frontendPermissions.propertyChanged.add(this._onPermissionsChanged),this._propertyChanged.notify(this,"frontendPermissions"))},enumerable:!0,configurable:!0}),e.prototype.applyPermissionsConstrain=function(){this.isRenderTypeIsNormal||(this.itemPermissions.allowOpacityChange=!1)},e.prototype._onContainerChanged=function(){t.prototype._onContainerChanged.call(this),this.applyPermissionsConstrain()},Object.defineProperty(e.prototype,"parentGroupItem",{get:function(){return this._parentGroupItem},set:function(t){this._parentGroupItem=t,null!=t&&(this.parentContainer=this._parentGroupItem.parentContainer)},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"blendMode",{get:function(){return this._blendMode},set:function(t){this._blendMode!==t&&(this._blendMode=t,this._propertyChanged.notify(this,"blendMode"))},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"transform",{get:function(){return this._transform},set:function(t){this.setTransform(t)},enumerable:!0,configurable:!0}),e.prototype.setTransform=function(t,e){void 0===e&&(e=!1),this._transform&&this._transform.removeTransformChanged(this._onTransformChanged);var n=!1;Tg.isEqual(this._transform,t)||(this._transform=t,n=!0),this._transform&&this._transform.addTransformChanged(this._onTransformChanged),!e&&n&&this._propertyChanged.notify(this,"transform")},Object.defineProperty(e.prototype,"textWrappingMode",{get:function(){return this._textWrappingMode},set:function(t){this._textWrappingMode!==t&&(this._textWrappingMode=t,this._propertyChanged.notify(this,"textWrappingMode"))},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"locked",{get:function(){return this._locked},set:function(t){this._locked!==t&&(this._locked=t,this._propertyChanged.notify(this,"locked"))},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"mask",{get:function(){return this._mask},set:function(t){jg(this.mask,t)||(null!=this._mask&&this._mask.removeMaskChanged(this._onMaskChanged),this._mask=t,null!=this._mask&&this._mask.addMaskChanged(this._onMaskChanged),this._propertyChanged.notify(this,"mask"))},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"visible",{get:function(){return this._visible},set:function(t){this._visible!==t&&(this._visible=t,this._propertyChanged.notify(this,"visible"))},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"opacity",{get:function(){return this._opacity},set:function(t){xg(this._opacity,t)||(this._opacity=t,this._propertyChanged.notify(this,"opacity"))},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"isVariable",{get:function(){return this._isVariable},set:function(t){if(this._isVariable!==t){if(!this._canSetIsVariable())throw new Kf("Unable to set isVariable on item of type '"+this.type+"'");this._isVariable=t,this._propertyChanged.notify(this,"isVariable")}},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"fromLayout",{get:function(){return this._fromLayout},set:function(t){this._fromLayout!==t&&(this._fromLayout=t,this._propertyChanged.notify(this,"fromLayout"))},enumerable:!0,configurable:!0}),e.prototype.canSetIsVariable=function(){return this._canSetIsVariable()},e.prototype._canSetIsVariable=function(){return!1},e.prototype._getParentContainer=function(){return null!=this.parentContainer?this.parentContainer:null},e.prototype.getSimplifiedObject=function(e){lg.isArray(e)||lg.isString(e)||(e=[]);var n=t.prototype.getSimplifiedObject.call(this,["_changedEvent","_changingEvent","manipulationPermissions","itemPermissions","visualizationPermissions","frontendPermissions","renderingType","isRenderTypeIsNormal","parentGroupItem"].concat(e));return n.manipulationPermissions=this.manipulationPermissions.getSimplifiedObject(),n.itemPermissions=this.itemPermissions.getSimplifiedObject(),n.visualizationPermissions=this.visualizationPermissions.getSimplifiedObject(),n.frontendPermissions=this.frontendPermissions.getSimplifiedObject(),n.mask=null!=this.mask?this.mask.getSimplifiedObject():null,n},e.prototype.getItemChangedEvent=function(){return this._changedEvent},e.prototype.getItemChangingEvent=function(){return this._changingEvent},e.prototype._getThemeBinding=function(t){return null!=t?t:this.themeBinding},e.prototype._applyThemeColor=function(t,e,n){if(null!=t&&null!=e[t]){var r=bm.createColor(e[t]);if(r)return n(r),!0}return!1},Object.defineProperty(e.prototype,"isRenderTypeIsNormal",{get:function(){return this.renderingType===Vf.Normal},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"renderingType",{get:function(){return this.parentContainer instanceof sm?this.parentContainer.renderingType:Vf.Normal},enumerable:!0,configurable:!0}),e.type="item",Km([jm({enumObject:Xm,displayName:"Blend mode"}),Jm("design:type",Number),Jm("design:paramtypes",[Number])],e.prototype,"blendMode",null),Km([jm({enumObject:Fm}),Jm("design:type",Number),Jm("design:paramtypes",[Number])],e.prototype,"textWrappingMode",null),Km([jm({displayName:"Locked"}),Jm("design:type",Boolean),Jm("design:paramtypes",[Boolean])],e.prototype,"locked",null),e}(Mm),ey=function(){function t(t){this._allowChangeBorderWidth=!0,this._allowChangeFillColor=!0,this._allowChangeBorderColor=!0,this.propertyChanged=new og,null==t&&(t=!0),this.allowChangeBorderWidth=t,this.allowChangeFillColor=t,this.allowChangeBorderColor=t}return Object.defineProperty(t.prototype,"allowChangeBorderWidth",{get:function(){return this._allowChangeBorderWidth},set:function(t){this._allowChangeBorderWidth!==t&&(this._allowChangeBorderWidth=t,this.propertyChanged.notify())},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"allowChangeFillColor",{get:function(){return this._allowChangeFillColor},set:function(t){this._allowChangeFillColor!==t&&(this._allowChangeFillColor=t,this.propertyChanged.notify())},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"allowChangeBorderColor",{get:function(){return this._allowChangeBorderColor},set:function(t){this._allowChangeBorderColor!==t&&(this._allowChangeBorderColor=t,this.propertyChanged.notify())},enumerable:!0,configurable:!0}),t.prototype.clone=function(){var e=new t;return e.allowChangeBorderColor=this.allowChangeBorderColor,e.allowChangeBorderWidth=this.allowChangeBorderWidth,e.allowChangeFillColor=this.allowChangeFillColor,e},t.prototype.getSimplifiedObject=function(){var t={};return t.allowChangeBorderWidth=this.allowChangeBorderWidth,t.allowChangeFillColor=this.allowChangeFillColor,t.allowChangeBorderColor=this.allowChangeBorderColor,t},t.prototype.equals=function(t){return this.allowChangeBorderColor===t.allowChangeBorderColor&&this.allowChangeFillColor===t.allowChangeFillColor&&this.allowChangeBorderWidth===t.allowChangeBorderWidth},t}(),ny=function(){var t=function(e,n){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(e,n)};return function(e,n){function r(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),ry=function(t,e){var n="function"==typeof Symbol&&t[Symbol.iterator];if(!n)return t;var r,i,o=n.call(t),s=[];try{for(;(void 0===e||e-- >0)&&!(r=o.next()).done;)s.push(r.value)}catch(a){i={error:a}}finally{try{r&&!r.done&&(n=o.return)&&n.call(o)}finally{if(i)throw i.error}}return s},iy=function(){function t(t){this._defaultValue=t}return t.prototype.getDefaultValue=function(){return this._defaultValue},Object.defineProperty(t.prototype,"type",{get:function(){return typeof this._defaultValue},enumerable:!0,configurable:!0}),t}(),oy=function(){function t(t){for(var e=[],n=1;n<arguments.length;n++)e[n-1]=arguments[n];this._objectConstructor=t,this._args=e}return t.prototype.getDefaultValue=function(){var t;return new((t=this._objectConstructor).bind.apply(t,function(){for(var t=[],e=0;e<arguments.length;e++)t=t.concat(ry(arguments[e]));return t}([void 0],this._args)))},Object.defineProperty(t.prototype,"type",{get:function(){return typeof this._objectConstructor},enumerable:!0,configurable:!0}),t}(),sy=function(t){function e(){return t.call(this,um,[{type:"cmyk",getDefaultValue:function(){return new gm({c:0,m:0,y:0,k:100})}},{type:"rgb",getDefaultValue:function(){return new hm({r:0,g:0,b:0,a:255})}},{type:"spot",getDefaultValue:function(){return new Cm({inkName:"inkName",inkColor:new gm({c:0,m:0,y:0,k:100}),inkSolidity:100})}},{type:"grayscale",getDefaultValue:function(){return new ym({l:0})}},{type:"lab",getDefaultValue:function(){return new _m({l:0,a:0,b:0})}}])||this}return ny(e,t),e}(function(){function t(t,e){this._abstractObjectClass=t,this._derivedClassesData=e}return t.prototype.getDefaultValue=function(t){var e=this._derivedClassesData.find((function(e){return e.type===t}));if(null==e)throw new Yf("Type "+t+" is not defined! Try on of these values: "+this.derivedTypes.join(", ")+".");return e.getDefaultValue()},Object.defineProperty(t.prototype,"type",{get:function(){return this._abstractObjectClass},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"derivedTypes",{get:function(){return this._derivedClassesData.map((function(t){return t.type}))},enumerable:!0,configurable:!0}),t}()),ay=function(){var t=function(e,n){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(e,n)};return function(e,n){function r(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),ly=function(t,e){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(t,e)},uy=function(t){function e(n){var r=t.call(this)||this;return r._borderWidth=1,r._fillColor=new hm("rgba(112,112,112,1)"),r._borderColor=new hm("rgba(0,0,0,1)"),r._altBorderColor=null,r._dash=[],r._fixedBorderWidth=!1,r.sourcePathId=null,r.sourcePathLoaded=!1,r._stubPath=null,r._pathLoadedEvent=new og,r.type=e.type,r.sourcePath=null!=n?n:new Eg(""),r.sourceRectangle=new fg(0,0,10,10),r.shapePermissions=new ey,r._ignorePermissionsChange=!0,r.manipulationPermissions.resizeGrips=new Lm(!0,!0),r.itemPermissions.itemToolbarPermissions.showEditButton=!1,r.itemPermissions.itemToolbarPermissions.showSelectButton=!1,r._ignorePermissionsChange=!1,r}return ay(e,t),Object.defineProperty(e.prototype,"fixedBorderWidth",{get:function(){return this._fixedBorderWidth},set:function(t){this._fixedBorderWidth!==t&&(this._fixedBorderWidth=t,this._propertyChanged.notify(this,"fixedBorderWidth"))},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"borderWidth",{get:function(){return this._borderWidth},set:function(t){this._borderWidth!==t&&(this._borderWidth=t,this._propertyChanged.notify(this,"borderWidth"))},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"sourcePath",{get:function(){return this._sourcePath},set:function(t){jg(this._sourcePath,t)||(this._sourcePath=t,!0!==this.sourcePathLoaded&&this._propertyChanged.notify(this,"sourcePath"))},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"sourceRectangle",{get:function(){return this._sourceRectangle},set:function(t){fg.isEqual(this._sourceRectangle,t)||(this._sourceRectangle=t,this._propertyChanged.notify(this,"sourceRectangle"))},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"borderColor",{get:function(){return this._borderColor},set:function(t){um.equals(this._borderColor,t)||(this._borderColor=t,this._propertyChanged.notify(this,"borderColor"))},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"fillColor",{get:function(){return this._fillColor},set:function(t){um.equals(this._fillColor,t)||(this._fillColor=t,this._propertyChanged.notify(this,"fillColor"))},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"altBorderColor",{get:function(){return this._altBorderColor},set:function(t){um.equals(this._altBorderColor,t)||(this._altBorderColor=t,this._propertyChanged.notify(this,"altBorderColor"))},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"dash",{get:function(){return this._dash},set:function(t){lg.isEqual(this._dash,t)||(this._dash=t,this._propertyChanged.notify(this,"dash"))},enumerable:!0,configurable:!0}),e.prototype.applyPermissionsConstrain=function(){t.prototype.applyPermissionsConstrain.call(this),this.itemPermissions.itemToolbarPermissions.showEditButtonConstraint=!1,this.itemPermissions.itemToolbarPermissions.showSelectButtonConstraint=!1,this.isRenderTypeIsNormal||(this.shapePermissions.allowChangeBorderColor=!1,this.shapePermissions.allowChangeFillColor=!1)},Object.defineProperty(e.prototype,"shapePermissions",{get:function(){return this._shapePermissions},set:function(t){if(null==t)throw new $f("shapePermissions cannot be null");jg(this._shapePermissions,t)||(null!=this._shapePermissions&&this._shapePermissions.propertyChanged.remove(this._onPermissionsChanged),this._shapePermissions=t,this.applyPermissionsConstrain(),this._shapePermissions.propertyChanged.add(this._onPermissionsChanged),this._propertyChanged.notify(this,"shapePermissions"))},enumerable:!0,configurable:!0}),e.prototype._copy=function(e,n,r,i){t.prototype._copy.call(this,e,n,r,i),n.shapePermissions=null!=e._shapePermissions?e._shapePermissions.clone():null,n._stubPath=null!=e._stubPath?e._stubPath.clone():null,n.dash=lg.clone(e._dash),n.altBorderColor=null!=e._altBorderColor?e._altBorderColor.clone():null,n.fillColor=null!=e._fillColor?e._fillColor.clone():null,n.borderColor=null!=e._borderColor?e._borderColor.clone():null,n.sourceRectangle=null!=e._sourceRectangle?e._sourceRectangle.clone():null,null!=e.sourcePathId?n.sourcePathId=e.sourcePathId:n.sourcePath=null!=e._sourcePath?e._sourcePath.clone():null,n.borderWidth=e._borderWidth,n.fixedBorderWidth=e.fixedBorderWidth},e.prototype.equals=function(e){return t.prototype.equals.call(this,e)&&jg(this._shapePermissions,e._shapePermissions)&&jg(this._stubPath,e._stubPath)&&jg(this._dash,e._dash)&&jg(this._altBorderColor,e._altBorderColor)&&jg(this._fillColor,e._fillColor)&&jg(this._borderColor,e._borderColor)&&jg(this._sourceRectangle,e._sourceRectangle)&&jg(this.sourcePathId,e.sourcePathId)&&jg(this._sourcePath,e._sourcePath)&&jg(this._borderWidth,e._borderWidth)&&jg(this._fixedBorderWidth,e._fixedBorderWidth)},e.prototype.clone=function(t,n){void 0===t&&(t=!1),void 0===n&&(n=!1);var r=new e;return this._copy(this,r,t,n),r},e.prototype.getSimplifiedObject=function(e){var n=t.prototype.getSimplifiedObject.call(this,["shapePermissions"].concat(e));return n.shapePermissions=this.shapePermissions.getSimplifiedObject(),n.sourcePath=null==this.sourcePathId&&null!=this.sourcePath?this.sourcePath.toString():null,n},e.prototype._onPathLoaded=function(){this._pathLoadedEvent.notify(this)},e.prototype.getPathLoadedEvent=function(){return this._pathLoadedEvent},e.type="ShapeItem",function(t,e,n,r){var i,o=arguments.length,s=o<3?e:null===r?r=Object.getOwnPropertyDescriptor(e,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(t,e,n,r);else for(var a=t.length-1;a>=0;a--)(i=t[a])&&(s=(o<3?i(s):o>3?i(e,n,s):i(e,n))||s);o>3&&s&&Object.defineProperty(e,n,s)}([jm({factory:new sy,displayName:"Alternative border color"}),ly("design:type",um),ly("design:paramtypes",[um])],e.prototype,"altBorderColor",null),e}(ty),cy=function(){var t=function(e,n){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(e,n)};return function(e,n){function r(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),hy=function(t){function e(n){void 0===n&&(n=new fg(0,0,10,10));var r=t.call(this,Eg.rectangle(n.left,n.top,n.width,n.height))||this;return r.type=e.type,r.sourceRectangle=n,r}return cy(e,t),e.prototype.clone=function(t,n){void 0===t&&(t=!1),void 0===n&&(n=!1);var r=new e;return this._copy(this,r,t,n),r},e.type="RectangleItem",e}(uy),py=function(){var t=function(e,n){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(e,n)};return function(e,n){function r(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),dy=function(t){function e(){var n=t.call(this)||this;return n._maskOpacity=.45,n.parentPlaceholder=null,n.type=e.type,n.borderWidth=0,n.fillColor=new hm("rgba(0, 0, 0, 0)"),n._ignorePermissionsChange=!0,n.itemPermissions.itemToolbarPermissions.showEditButton=!0,n._ignorePermissionsChange=!1,n}return py(e,t),Object.defineProperty(e.prototype,"maskOpacity",{get:function(){return this._maskOpacity},set:function(t){xg(this._maskOpacity,t)||(this._maskOpacity=t,this._propertyChanged.notify(this,"maskOpacity"))},enumerable:!0,configurable:!0}),e.prototype.applyPermissionsConstrain=function(){null!=this.parentPlaceholder&&(this.parentPlaceholder.isCoverMode?(this.manipulationPermissions.resizeGrips.edgeConstraint=!1,this.manipulationPermissions.resizeGrips.setCornerArbitraryConstraint(!1),this.manipulationPermissions.allowRotateConstraint=!1):(this.manipulationPermissions.resizeGrips.edgeConstraint=null,this.manipulationPermissions.resizeGrips.setCornerArbitraryConstraint(null),this.manipulationPermissions.allowRotateConstraint=null),this.parentPlaceholder.applyPermissionsConstrain()),this.isRenderTypeIsNormal||(this.itemPermissions.allowOpacityChange=!1,this.shapePermissions.allowChangeBorderColor=!1,this.shapePermissions.allowChangeFillColor=!1)},e.prototype.getSimplifiedObject=function(e){return lg.isArray(e)||lg.isString(e)||(e=[]),t.prototype.getSimplifiedObject.call(this,["parentPlaceholder"].concat(e))},e.prototype._canSetIsVariable=function(){return!0},e.prototype._getPrintAreaBounds=function(){var t=null!=this.parentContainer?this.parentContainer:null!=this.parentPlaceholder?this.parentPlaceholder.parentContainer:null;return t instanceof sm?t.parentComponent.bounds:null},e.prototype._getParentContainer=function(){return null!=this.parentPlaceholder?this.parentPlaceholder.parentContainer:null},e.prototype._copy=function(e,n,r,i){t.prototype._copy.call(this,e,n,r,i),n._maskOpacity=e._maskOpacity,n.isVariable=e.isVariable},e.prototype.equals=function(e){return t.prototype.equals.call(this,e)&&jg(this._maskOpacity,e._maskOpacity)&&jg(this.isVariable,e.isVariable)},e.prototype.clone=function(t,n){void 0===t&&(t=!1),void 0===n&&(n=!1);var r=new e;return this._copy(this,r,t,n),r},e.type="ContentItem",e}(hy),fy=function(t,e){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(t,e)};!function(t){t.Miter="Miter",t.Round="Round",t.Bevel="Bevel"}(Qm||(Qm={}));var gy,my,yy,vy,_y,by,wy=function(){function t(e){this._color=new hm("rgb(0,0,0)"),this._size=0,this._lineJoin=Qm.Miter,this.type=t.type,this._propertyChanged=new ag,null!=e&&(this.color=null!=e.color?e.color:new hm("rgb(0,0,0)"),this.size=null!=e.size?e.size:0,this.lineJoin=null!=e.lineJoin?e.lineJoin:Qm.Miter)}return Object.defineProperty(t.prototype,"color",{get:function(){return this._color},set:function(t){um.equals(this._color,t)||(this._color=t,this._propertyChanged.notify(this,"color"))},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"size",{get:function(){return this._size},set:function(t){this._size!==t&&(this._size=t,this._propertyChanged.notify(this,"size"))},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"lineJoin",{get:function(){return this._lineJoin},set:function(t){this._lineJoin!==t&&(this._lineJoin=t,this._propertyChanged.notify(this,"lineJoin"))},enumerable:!0,configurable:!0}),t.prototype.clone=function(){return new t(this)},t._from_data=function(e){return null==e?null:new t({color:bm.createColor(e.color),size:"number"==typeof e.size?e.size:0,lineJoin:"string"==typeof e.lineJoin?e.lineJoin:Qm.Miter})},t.prototype.equals=function(e){return e instanceof t&&this.color.equals(e.color)&&xg(this.size,e.size)&&this.lineJoin==e.lineJoin},t.equals=function(t,e){return null==t&&null==e||null!=t&&null!=e&&t.equals(e)},t.prototype.getSimplifiedObject=function(){return{color:this.color.toString(),size:this.size,lineJoin:this.lineJoin}},t.prototype.addPropertyChanged=function(t){this._propertyChanged.add(t)},t.prototype.removePropertyChanged=function(t){this._propertyChanged.remove(t)},t.type="StrokeSettings",function(t,e,n,r){var i,o=arguments.length,s=o<3?e:null===r?r=Object.getOwnPropertyDescriptor(e,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(t,e,n,r);else for(var a=t.length-1;a>=0;a--)(i=t[a])&&(s=(o<3?i(s):o>3?i(e,n,s):i(e,n))||s);o>3&&s&&Object.defineProperty(e,n,s)}([jm({enumObject:Qm}),fy("design:type",String),fy("design:paramtypes",[String])],t.prototype,"lineJoin",null),t}(),Cy=function(){function t(t){this._color=new hm("rgb(0,0,0)"),this._angle=0,this._distance=0,this._size=0,this._propertyChanged=new ag,null!=t&&(this.color=null!=t.color?t.color:new hm("rgb(0,0,0)"),this.angle=null!=t.angle?t.angle:0,this.distance=null!=t.distance?t.distance:0,this.size=null!=t.size?t.size:0)}return Object.defineProperty(t.prototype,"color",{get:function(){return this._color},set:function(t){um.equals(this._color,t)||(this._color=t,this._propertyChanged.notify(this,"color"))},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"angle",{get:function(){return this._angle},set:function(t){this._angle!==t&&(this._angle=t,this._propertyChanged.notify(this,"angle"))},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"distance",{get:function(){return this._distance},set:function(t){this._distance!==t&&(this._distance=t,this._propertyChanged.notify(this,"distance"))},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"size",{get:function(){return this._size},set:function(t){this._size!==t&&(this._size=t,this._propertyChanged.notify(this,"size"))},enumerable:!0,configurable:!0}),t.prototype.clone=function(){return new t(this)},t._from_data=function(e){return null==e?null:new t({color:bm.createColor(e.color),angle:"number"==typeof e.angle?e.angle:0,distance:"number"==typeof e.distance?e.distance:0,size:"number"==typeof e.size?e.size:0})},t.prototype.equals=function(e){return e instanceof t&&this.color.equals(e.color)&&xg(this.angle,e.angle)&&xg(this.distance,e.distance)&&xg(this.size,e.size)},t.equals=function(t,e){return null==t&&null==e||null!=t&&null!=e&&t.equals(e)},t.prototype.getSimplifiedObject=function(){return{color:this.color.toString(),angle:this.angle,distance:this.distance,size:this.size}},t.prototype.addPropertyChanged=function(t){this._propertyChanged.add(t)},t.prototype.removePropertyChanged=function(t){this._propertyChanged.remove(t)},t}(),xy=function(){function t(t){this.propertyChanged=new og,null==t&&(t=!0),this.allowChangeText=t,this.allowChangeFont=t,this.allowChangeFontSize=t,this.allowChangeFontColor=t,this.allowChangeTextAlignment=t,this.allowChangeTextBIU=t,this.allowChangeShadow=t,this.allowChangeStroke=t,this.allowChangeLeading=t,this.allowTextFormatting=null}return Object.defineProperty(t.prototype,"allowChangeText",{get:function(){return this._allowChangeText},set:function(t){this._allowChangeText!==t&&(this._allowChangeText=t,this.propertyChanged.notify())},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"allowChangeFont",{get:function(){return this._allowChangeFont},set:function(t){this._allowChangeFont!==t&&(this._allowChangeFont=t,this.propertyChanged.notify())},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"allowChangeFontSize",{get:function(){return this._allowChangeFontSize},set:function(t){this._allowChangeFontSize!==t&&(this._allowChangeFontSize=t,this.propertyChanged.notify())},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"allowChangeFontColor",{get:function(){return this._allowChangeFontColor},set:function(t){this._allowChangeFontColor!==t&&(this._allowChangeFontColor=t,this.propertyChanged.notify())},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"allowChangeTextAlignment",{get:function(){return this._allowChangeTextAlignment},set:function(t){this._allowChangeTextAlignment!==t&&(this._allowChangeTextAlignment=t,this.propertyChanged.notify())},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"allowChangeTextBIU",{get:function(){return this._allowChangeTextBIU},set:function(t){this._allowChangeTextBIU!==t&&(this._allowChangeTextBIU=t,this.propertyChanged.notify())},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"allowChangeShadow",{get:function(){return this._allowChangeShadow},set:function(t){this._allowChangeShadow!==t&&(this._allowChangeShadow=t,this.propertyChanged.notify())},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"allowChangeStroke",{get:function(){return this._allowChangeStroke},set:function(t){this._allowChangeStroke!==t&&(this._allowChangeStroke=t,this.propertyChanged.notify())},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"allowChangeLeading",{get:function(){return this._allowChangeLeading},set:function(t){this._allowChangeLeading!==t&&(this._allowChangeLeading=t,this.propertyChanged.notify())},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"allowTextFormatting",{get:function(){return this._allowTextFormatting},set:function(t){this._allowTextFormatting!==t&&(this._allowTextFormatting=t,this.propertyChanged.notify())},enumerable:!0,configurable:!0}),t.prototype.clone=function(){var e=new t;return e.allowChangeFont=this.allowChangeFont,e.allowChangeFontColor=this.allowChangeFontColor,e.allowChangeFontSize=this.allowChangeFontSize,e.allowChangeShadow=this.allowChangeShadow,e.allowChangeStroke=this.allowChangeStroke,e.allowChangeText=this.allowChangeText,e.allowChangeTextAlignment=this.allowChangeTextAlignment,e.allowChangeTextBIU=this.allowChangeTextBIU,e.allowChangeLeading=this.allowChangeLeading,e.allowTextFormatting=this.allowTextFormatting,e},t.prototype.equals=function(t){return this.allowChangeFont===t.allowChangeFont&&this.allowChangeFontColor===t.allowChangeFontColor&&this.allowChangeFontSize===t.allowChangeFontSize&&this.allowChangeShadow===t.allowChangeShadow&&this.allowChangeStroke===t.allowChangeStroke&&this.allowChangeText===t.allowChangeText&&this.allowChangeTextAlignment===t.allowChangeTextAlignment&&this.allowChangeTextBIU===t.allowChangeTextBIU&&this.allowChangeLeading===t.allowChangeLeading&&this.allowTextFormatting===t.allowTextFormatting},t.prototype.getSimplifiedObject=function(){var t={};return t.allowChangeText=this.allowChangeText,t.allowChangeFont=this.allowChangeFont,t.allowChangeFontSize=this.allowChangeFontSize,t.allowChangeFontColor=this.allowChangeFontColor,t.allowChangeTextAlignment=this.allowChangeTextAlignment,t.allowChangeTextBIU=this.allowChangeTextBIU,t.allowChangeShadow=this.allowChangeShadow,t.allowChangeStroke=this.allowChangeStroke,t.allowChangeLeading=this.allowChangeLeading,t.allowTextFormatting=this.allowTextFormatting,t},t}();!function(t){t[t.ShrinkToContentWidth=0]="ShrinkToContentWidth",t[t.StretchToContentWidth=1]="StretchToContentWidth",t[t.ShrinkOrStretchToContentWidth=2]="ShrinkOrStretchToContentWidth",t[t.ShrinkToContentHeight=3]="ShrinkToContentHeight",t[t.StretchToContentHeight=4]="StretchToContentHeight",t[t.ShrinkOrStretchToContentHeight=5]="ShrinkOrStretchToContentHeight",t[t.ShrinkToContent=6]="ShrinkToContent",t[t.StretchToContent=7]="StretchToContent",t[t.ShrinkOrStretchToContent=8]="ShrinkOrStretchToContent"}(gy||(gy={})),function(t){t[t.Size=0]="Size",t[t.Scale=1]="Scale"}(my||(my={})),function(t){t[t.Clip=0]="Clip",t[t.FitToWidth=1]="FitToWidth",t[t.FitToBox=2]="FitToBox",t[t.ExpandBox=3]="ExpandBox"}(yy||(yy={})),function(t){t[t.Left=0]="Left",t[t.Center=1]="Center",t[t.Right=2]="Right",t[t.Justify=3]="Justify",t[t.LastLeft=4]="LastLeft",t[t.LastRight=5]="LastRight",t[t.LastCenter=6]="LastCenter"}(vy||(vy={})),function(t){t[t.Top=0]="Top",t[t.Center=1]="Center",t[t.Bottom=2]="Bottom"}(_y||(_y={})),function(t){t[t.Ascent=0]="Ascent",t[t.CapHeight=1]="CapHeight",t[t.Leading=2]="Leading",t[t.XHeight=3]="XHeight",t[t.Fixed=4]="Fixed"}(by||(by={}));var Sy=function(){var t=function(e,n){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(e,n)};return function(e,n){function r(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),Py=function(t,e,n,r){var i,o=arguments.length,s=o<3?e:null===r?r=Object.getOwnPropertyDescriptor(e,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(t,e,n,r);else for(var a=t.length-1;a>=0;a--)(i=t[a])&&(s=(o<3?i(s):o>3?i(e,n,s):i(e,n))||s);return o>3&&s&&Object.defineProperty(e,n,s),s},Iy=function(t,e){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(t,e)},Ey=function(t){function e(n,r,i){var o=t.call(this)||this;o._text="",o._originalText="",o._underline=!1,o._color=new hm("rgb(0,0,0)"),o._alignment=vy.Left,o._tracking=0,o._leading=0,o._checkTextCrop=!0,o._overlapLinesEnabled=!1,o._verticalScale=1,o._horizontalScale=1,o._stroke=null,o._shadow=null,o._previewScale=1,o._placeholders=new nm,o._displayText=null,o._colorPalette=new nm,o._baselineShift=0,o.values=[],o._maxLineLength=null,o._maxLineCount=null,o.isTextPlaceholder=!1,o.textColorForAbnormalRendering=new hm("rgb(0,0,0)"),o.type=e.type,o._onFontPropertyChanged=function(t,e){o._propertyChanged.notify(o,"font")},o._onShadowPropertyChanged=function(t,e){o._propertyChanged.notify(o,"shadow")},o._onStrokePropertyChanged=function(t,e){o._propertyChanged.notify(o,"stroke")},o.borderWidth=0,o.fillColor=new hm("rgba(0, 0, 0, 0)"),o.text=null!=n?n:"",o._font=new e.FontSettings(r,null!=i?i:10),o._subscribeFontPropertyChanged(),o.textPermissions=new xy;var s=function(){o._displayText=null,o._propertyChanged.notify(o,"text")};return o._placeholders.add_itemAdded((function(t){return t.item.addPropertyChanged(s)})),o._placeholders.add_itemRemoved((function(t){return t.item.removePropertyChanged(s)})),o._ignorePermissionsChange=!0,o.itemPermissions.allowRemoveOnLayoutChange=!0,o.itemPermissions.itemToolbarPermissions.showEditButton=!0,o._ignorePermissionsChange=!1,o}return Sy(e,t),Object.defineProperty(e.prototype,"maxLineCount",{get:function(){return this._maxLineCount},set:function(t){this._maxLineCount!==t&&(this._maxLineCount=t,this._displayText=null,this._propertyChanged.notify(this,"maxLineCount"))},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"maxLineLength",{get:function(){return this._maxLineLength},set:function(t){this._maxLineLength!==t&&(this._maxLineLength=t,this._displayText=null,this._propertyChanged.notify(this,"maxLineLength"))},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"previewScale",{get:function(){return this._previewScale},set:function(t){xg(this._previewScale,t)||(this._previewScale=t,this._propertyChanged.notify(this,"previewScale"))},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"stroke",{get:function(){return this._stroke},set:function(t){wy.equals(this._stroke,t)||(this._unsubscribeStrokePropertyChanged(),this._stroke=t,this._subscribeStrokePropertyChanged(),this._propertyChanged.notify(this,"stroke"))},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"shadow",{get:function(){return this._shadow},set:function(t){null==this._shadow&&null==t||null!=t&&t.equals(this._shadow)||(this._unsubscribeShadowPropertyChanged(),this._shadow=t,this._subscribeShadowPropertyChanged(),this._propertyChanged.notify(this,"shadow"))},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"horizontalScale",{get:function(){return this._horizontalScale},set:function(t){xg(this._horizontalScale,t)||(this._horizontalScale=t,this._propertyChanged.notify(this,"horizontalScale"))},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"verticalScale",{get:function(){return this._verticalScale},set:function(t){xg(this._verticalScale,t)||(this._verticalScale=t,this._propertyChanged.notify(this,"verticalScale"))},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"checkTextCrop",{get:function(){return this._checkTextCrop},set:function(t){this._checkTextCrop!==t&&(this._checkTextCrop=t,this._propertyChanged.notify(this,"checkTextCrop"))},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"overlapLinesEnabled",{get:function(){return this._overlapLinesEnabled},set:function(t){this._overlapLinesEnabled!==t&&(this._overlapLinesEnabled=t,this._propertyChanged.notify(this,"overlapLinesEnabled"))},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"alignment",{get:function(){return this._alignment},set:function(t){this._alignment!==t&&(this._alignment=t,this._propertyChanged.notify(this,"alignment"))},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"tracking",{get:function(){return this._tracking},set:function(t){xg(this._tracking,t)||(this._tracking=t,this._propertyChanged.notify(this,"tracking"))},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"leading",{get:function(){return this._leading},set:function(t){xg(this._leading,t)||(this._leading=t,this._propertyChanged.notify(this,"leading"))},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"originalText",{get:function(){return null!=this._originalText?this._originalText:""},set:function(t){this._originalText=t},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"underline",{get:function(){return this._underline},set:function(t){this._underline!==t&&(this._underline=t,this._propertyChanged.notify(this,"underline"))},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"font",{get:function(){return this._font},set:function(t){e.FontSettings.equals(this._font,t)||(this._unsubscribeFontPropertyChanged(),this._font=t,this._subscribeFontPropertyChanged(),this._propertyChanged.notify(this,"font"))},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"text",{get:function(){return null==this._displayText&&(this._displayText=this.getUpdatedText(this._text)),this._text=this._displayText,this._text},set:function(t){this._text!==t&&(this._text=t,this._displayText=null,this._propertyChanged.notify(this,"text"))},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"color",{get:function(){return this._color},set:function(t){um.equals(this._color,t)||(this._color=t,this._propertyChanged.notify(this,"color"))},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"baselineShift",{get:function(){return this._baselineShift},set:function(t){xg(this._baselineShift,t)||(this._baselineShift=t,this._propertyChanged.notify(this,"baselineShift"))},enumerable:!0,configurable:!0}),e.prototype.getUpdatedText=function(t){var e,n,r=t;this.placeholders.length>0&&(r=this._replaceInStringPlaceholders());var i=null!==(e=this._maxLineCount)&&void 0!==e?e:0,o=null!==(n=this._maxLineLength)&&void 0!==n?n:0;if(i>0||o>0){Hg(r)&&(r=Ng(t,"\n"));var s=r.split("\n");if(i>0&&s.length>i&&(s=s.splice(0,i)),o>0)for(var a=0;a<s.length;a++)s[a].length>o&&(s[a]=s[a].substr(0,o));return s.join("\n")}return r},Object.defineProperty(e.prototype,"placeholders",{get:function(){return this._placeholders},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"colorPalette",{get:function(){return this._colorPalette},enumerable:!0,configurable:!0}),e.prototype._canSetIsVariable=function(){return!0},Object.defineProperty(e.prototype,"previewFontSize",{get:function(){return this.font.size*this.previewScale},set:function(t){this.font.size=t/this.previewScale},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"previewLeading",{get:function(){return this.leading*this.previewScale},set:function(t){this.leading=t/this.previewScale},enumerable:!0,configurable:!0}),e.prototype.applyPermissionsConstrain=function(){t.prototype.applyPermissionsConstrain.call(this),this.itemPermissions.itemToolbarPermissions.showSelectButton=!1,this.itemPermissions.itemToolbarPermissions.showEditButtonConstraint=!(null!=this.textPermissions&&!this.textPermissions.allowChangeText)&&null,this.isRenderTypeIsNormal||(this.textPermissions.allowChangeFontColor=!1,this.textPermissions.allowChangeShadow=!1,this.textPermissions.allowChangeStroke=!1)},Object.defineProperty(e.prototype,"textPermissions",{get:function(){return this._textPermissions},set:function(t){if(null==t)throw new $f("textPermissions cannot be null");jg(this._textPermissions,t)||(null!=this._textPermissions&&this._textPermissions.propertyChanged.remove(this._onPermissionsChanged),this._textPermissions=t,this.applyPermissionsConstrain(),this._textPermissions.propertyChanged.add(this._onPermissionsChanged),this._propertyChanged.notify(this,"textPermissions"))},enumerable:!0,configurable:!0}),e.prototype._subscribeFontPropertyChanged=function(){null!=this._font&&this._font.addPropertyChanged(this._onFontPropertyChanged)},e.prototype._unsubscribeFontPropertyChanged=function(){null!=this._font&&this._font.removePropertyChanged(this._onFontPropertyChanged)},e.prototype._subscribeShadowPropertyChanged=function(){null!=this._shadow&&this._shadow.addPropertyChanged(this._onShadowPropertyChanged)},e.prototype._unsubscribeShadowPropertyChanged=function(){null!=this._shadow&&this._shadow.removePropertyChanged(this._onShadowPropertyChanged)},e.prototype._subscribeStrokePropertyChanged=function(){null!=this._stroke&&this._stroke.addPropertyChanged(this._onStrokePropertyChanged)},e.prototype._unsubscribeStrokePropertyChanged=function(){null!=this._stroke&&this._stroke.removePropertyChanged(this._onStrokePropertyChanged)},e.prototype.getSimplifiedObject=function(e){var n=t.prototype.getSimplifiedObject.call(this,["_placeholders","currentTextImage","textPermissions","textForTextWhizz","shadow","stroke"].concat(e));return n.placeholders=this.placeholders.toArray(),n.textPermissions=this.textPermissions.getSimplifiedObject(),n.font=this.font.getSimplifiedObject(),n.shadow=null!=this.shadow?this.shadow.getSimplifiedObject():null,n.stroke=null!=this.stroke?this.stroke.getSimplifiedObject():null,n},e.prototype._replaceInStringPlaceholders=function(){return Hg(this.originalText)?this._replaceInStringPlaceholdersValueInRichText():this._replaceInStringPlaceholdersValueInPlainText()},e.prototype._replaceInStringPlaceholdersValueInPlainText=function(){var t=this.originalText;return this.placeholders.forEach((function(e){t=t.replace(e.id,e.value)})),t},e.prototype._replaceInStringPlaceholdersValueInRichText=function(){if(null==this._originalTextDom){var t=new DOMParser;this._originalTextDom=t.parseFromString("<xml>"+this.originalText+"</xml>","text/xml")}var e=this._originalTextDom.cloneNode(!0),n=e.getElementsByTagName("span");this.placeholders.forEach((function(t){if(null!=n&&n.length)for(var e=0;e<n.length;e++){var r=n[e];null!=r.textContent&&(r.textContent=r.textContent.replace(t.id,t.value))}}));var r=(new XMLSerializer).serializeToString(e);return r.substr(0,r.length-6).substr(5)},e.prototype._copy=function(e,n,r,i){var o,s;if(t.prototype._copy.call(this,e,n,r,i),n.textPermissions=e._textPermissions.clone(),n.placeholders.setRange(e.placeholders.toArray().map((function(t){return t.clone()}))),n.color=e._color.clone(),n.text=e._text,n.font=e._font.clone(),n.underline=e._underline,n.originalText=e._originalText,n.leading=e._leading,n.tracking=e._tracking,n.alignment=e._alignment,n.checkTextCrop=e._checkTextCrop,n.verticalScale=e._verticalScale,n.horizontalScale=e._horizontalScale,n.shadow=null!=e._shadow?e._shadow.clone():null,n.stroke=null!=e._stroke?e._stroke.clone():null,n.previewScale=e._previewScale,n._maxLineCount=e._maxLineCount,n.isTextPlaceholder=e.isTextPlaceholder,n.maxLineLength=e.maxLineLength,n.overlapLinesEnabled=e.overlapLinesEnabled,n.colorPalette.setRange(e.colorPalette.toArray().map((function(t){return t.clone()}))),n.baselineShift=e.baselineShift,null!=e.values){n.values=[];try{for(var a=function(t){var e="function"==typeof Symbol&&Symbol.iterator,n=e&&t[e],r=0;if(n)return n.call(t);if(t&&"number"==typeof t.length)return{next:function(){return t&&r>=t.length&&(t=void 0),{value:t&&t[r++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")}(e.values),l=a.next();!l.done;l=a.next())n.values.push(l.value.clone())}catch(u){o={error:u}}finally{try{l&&!l.done&&(s=a.return)&&s.call(a)}finally{if(o)throw o.error}}}},e.prototype.equals=function(e){return t.prototype.equals.call(this,e)&&jg(this._textPermissions,e._textPermissions)&&Fg(this._placeholders.toArray(),e._placeholders.toArray())&&jg(this._color,e._color)&&jg(this._text,e._text)&&jg(this._font,e._font)&&jg(this._underline,e._underline)&&jg(this._originalText,e._originalText)&&jg(this._leading,e._leading)&&jg(this._tracking,e._tracking)&&jg(this._alignment,e._alignment)&&jg(this._checkTextCrop,e._checkTextCrop)&&jg(this._verticalScale,e._verticalScale)&&jg(this._previewScale,e._previewScale)&&jg(this._maxLineCount,e._maxLineCount)&&jg(this.isTextPlaceholder,e.isTextPlaceholder)&&jg(this._maxLineLength,e._maxLineLength)&&jg(this._overlapLinesEnabled,e._overlapLinesEnabled)&&jg(this._stroke,e._stroke)&&Fg(this.values,e.values)&&Fg(this._colorPalette.toArray(),e._colorPalette.toArray())&&jg(this._baselineShift,e._baselineShift)},e.prototype.isEmptyText=function(){return""===this.text},e.prototype.isEmptyXmlText=function(){return"<p></p>"===this.text||"<p><span></span></p>"===this.text},e.prototype.isEmpty=function(){return!this.isTextPlaceholder&&(this.isEmptyText()||this.isEmptyXmlText())},e.type="baseText",Py([jm({factory:new iy(1),displayName:"Max line count"}),Iy("design:type",Number),Iy("design:paramtypes",[Number])],e.prototype,"maxLineCount",null),Py([jm({factory:new iy(50),displayName:"Max line length"}),Iy("design:type",Number),Iy("design:paramtypes",[Number])],e.prototype,"maxLineLength",null),Py([jm({factory:new oy(wy),displayName:"Stroke"}),Iy("design:type",wy),Iy("design:paramtypes",[wy])],e.prototype,"stroke",null),Py([jm({factory:new oy(Cy),displayName:"Shadow"}),Iy("design:type",Cy),Iy("design:paramtypes",[Cy])],e.prototype,"shadow",null),Py([jm({enumObject:vy}),Iy("design:type",Number),Iy("design:paramtypes",[Number])],e.prototype,"alignment",null),e}(hy);!function(t){var e=function(t){function e(e,n){void 0===n&&(n=10);var r=t.call(this)||this;return r._fauxBold=!1,r._fauxItalic=!1,r._allCaps=!1,r._openTypeFeatures=[],r.$_propertyChanged=new ag,r._postScriptName=e,r._size=n,r}return Sy(e,t),e.prototype.clone=function(){var t=new e(this._postScriptName,this._size);return t._openTypeFeatures=lg.clone(this._openTypeFeatures),t.allCaps=this._allCaps,t.fauxItalic=this._fauxItalic,t.fauxBold=this._fauxBold,t},Object.defineProperty(e.prototype,"fauxBold",{get:function(){return this._fauxBold},set:function(t){this._fauxBold!==t&&(this._fauxBold=t,this.$_propertyChanged.notify(this,"fauxBold"))},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"fauxItalic",{get:function(){return this._fauxItalic},set:function(t){this._fauxItalic!==t&&(this._fauxItalic=t,this.$_propertyChanged.notify(this,"fauxItalic"))},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"allCaps",{get:function(){return this._allCaps},set:function(t){this._allCaps!==t&&(this._allCaps=t,this.$_propertyChanged.notify(this,"allCaps"))},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"openTypeFeatures",{get:function(){return this._openTypeFeatures},set:function(t){this._openTypeFeatures!==t&&(this._openTypeFeatures=t,this.$_propertyChanged.notify(this,"openTypeFeatures"))},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"postScriptName",{get:function(){return this._postScriptName},set:function(t){this._postScriptName!==t&&(this._postScriptName=t,this.$_propertyChanged.notify(this,"postScriptName"))},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"size",{get:function(){return this._size},set:function(t){xg(this._size,t)||(this._size=t,this.$_propertyChanged.notify(this,"size"))},enumerable:!0,configurable:!0}),e.prototype.addPropertyChanged=function(t){this.$_propertyChanged.add(t)},e.prototype.removePropertyChanged=function(t){this.$_propertyChanged.remove(t)},e.equals=function(t,e){return null==t&&null==e||null!=t&&null!=e&&t.equals(e)},e.prototype.equals=function(t){return this.postScriptName===t.postScriptName&&this.size===t.size&&this.fauxBold===t.fauxBold&&this.fauxItalic===t.fauxItalic&&this.allCaps===t.allCaps&&lg.isEqual(this.openTypeFeatures,t.openTypeFeatures)},e.prototype.getSimplifiedObject=function(){return{allCaps:this.allCaps,fauxBold:this.fauxBold,fauxItalic:this.fauxItalic,openTypeFeatures:this.openTypeFeatures,postScriptName:this.postScriptName,size:this.size}},e}(Xg);t.FontSettings=e;var n=function(){function t(t,e){this.name=t,this.text=e}return t.prototype.equals=function(t){return null!=t&&jg(this.name,t.name)&&jg(this.text,t.text)},t.prototype.clone=function(){return new t(this.name,this.text)},t}();t.BaseTextValue=n}(Ey||(Ey={}));var Ty,Ay,ky=function(){var t=function(e,n){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(e,n)};return function(e,n){function r(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),Oy=function(t){function e(n,r,i,o){var s=t.call(this,n,i,o)||this;return s._isVertical=!1,s.type=e.type,s._textRectangle=null!=r?r:new fg,s}return ky(e,t),Object.defineProperty(e.prototype,"textRectangle",{get:function(){return this._textRectangle},set:function(t){fg.isEqual(this._textRectangle,t)||(this._textRectangle=t,this._propertyChanged.notify(this,"textRectangle"))},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"isVertical",{get:function(){return this._isVertical},set:function(t){this._isVertical!==t&&(this._isVertical=t,this._propertyChanged.notify(this,"isVertical"))},enumerable:!0,configurable:!0}),e.prototype._copy=function(e,n,r,i){t.prototype._copy.call(this,e,n,r,i),n.isVertical=e.isVertical,n.textRectangle=e.textRectangle},e.prototype.equals=function(e){return t.prototype.equals.call(this,e)&&jg(this._isVertical,e._isVertical)&&jg(this._textRectangle,e._textRectangle)},e.prototype.clone=function(t,n){void 0===t&&(t=!1),void 0===n&&(n=!1);var r=new e;return this._copy(this,r,t,n),r},e.type="AutoScaledTextItem",e}(Ey),My=function(){function t(){this._allowChangeBarcodeType=!0,this._allowChangeBarcodeContent=!0,this._allowChangeBarcodeColor=!0,this.propertyChanged=new og}return Object.defineProperty(t.prototype,"allowChangeBarcodeType",{get:function(){return this._allowChangeBarcodeType},set:function(t){this._allowChangeBarcodeType!==t&&(this._allowChangeBarcodeType=t,this.propertyChanged.notify())},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"allowChangeBarcodeContent",{get:function(){return this._allowChangeBarcodeContent},set:function(t){this._allowChangeBarcodeContent!==t&&(this._allowChangeBarcodeContent=t,this.propertyChanged.fire())},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"allowChangeBarcodeColor",{get:function(){return this._allowChangeBarcodeColor},set:function(t){this._allowChangeBarcodeColor!==t&&(this._allowChangeBarcodeColor=t,this.propertyChanged.notify())},enumerable:!0,configurable:!0}),t.prototype.getSimplifiedObject=function(){var t={};return t.allowChangeBarcodeType=this.allowChangeBarcodeType,t.allowChangeBarcodeContent=this.allowChangeBarcodeContent,t.allowChangeBarcodeColor=this.allowChangeBarcodeColor,t},t.prototype.clone=function(){var e=new t;return e.allowChangeBarcodeType=this.allowChangeBarcodeType,e.allowChangeBarcodeContent=this.allowChangeBarcodeContent,e.allowChangeBarcodeColor=this.allowChangeBarcodeColor,e},t.prototype.equals=function(t){return this.allowChangeBarcodeColor===t.allowChangeBarcodeColor&&this.allowChangeBarcodeContent===t.allowChangeBarcodeContent&&this.allowChangeBarcodeType===t.allowChangeBarcodeType},t}();!function(t){t.AZTEC="AZTEC",t.CODABAR="CODABAR",t.CODE_39="CODE_39",t.CODE_93="CODE_93",t.CODE_128="CODE_128",t.DATA_MATRIX="DATA_MATRIX",t.EAN_8="EAN_8",t.EAN_13="EAN_13",t.ITF="ITF",t.MAXICODE="MAXICODE",t.PDF_417="PDF_417",t.QR_CODE="QR_CODE",t.RSS_14="RSS_14",t.RSS_EXPANDED="RSS_EXPANDED",t.UPC_A="UPC_A",t.UPC_E="UPC_E",t.All_1D="All_1D",t.UPC_EAN_EXTENSION="UPC_EAN_EXTENSION",t.MSI="MSI",t.PLESSEY="PLESSEY",t.IMB="IMB"}(Ty||(Ty={})),function(t){t.None="None",t.VCard="VCard",t.Phone="Phone",t.Url="Url"}(Ay||(Ay={}));var Ry=n("SRVR"),Dy=function(){function t(t){if(this.barcodeFormat=Ty.QR_CODE,this.barcodeSubType=Ay.None,lg.isString(t))try{t=JSON.parse(t)}catch(e){console.warn("Unable to parse BarcodeData from string ",t,e),t=null}lg.isObject(t)&&lg.extend(this,t)}return Object.defineProperty(t.prototype,"isEmpty",{get:function(){return lg.isEmpty(this.firstName)&&lg.isEmpty(this.lastName)&&lg.isEmpty(this.organization)&&lg.isEmpty(this.position)&&lg.isEmpty(this.email)&&lg.isEmpty(this.mobilePhone)&&lg.isEmpty(this.url)&&lg.isEmpty(this.phone)&&lg.isEmpty(this.barcodeValue)},enumerable:!0,configurable:!0}),t.prototype.equals=function(t){return null!=t&&this.barcodeFormat===t.barcodeFormat&&this.barcodeSubType===t.barcodeSubType&&this.firstName===t.firstName&&this.lastName===t.lastName&&this.organization===t.organization&&this.position===t.position&&this.email===t.email&&this.mobilePhone===t.mobilePhone&&this.url===t.url&&this.phone===t.phone&&this.barcodeValue===t.barcodeValue},t.prototype._isEmpty=function(t){return lg.isEmpty(null!=t?t.trim():null)},t.prototype.toVCardString=function(){return Ry.generate({n:[{value:[this.lastName,this.firstName,"","",""]}],"email;internet":[{value:this.email}],org:[{value:this.organization}],"tel;cell":[{value:this.mobilePhone}],"tel;work":[{value:this.phone}],title:[{value:this.position}],url:[{value:this.url}]})},t.fromVCardString=function(e){var n=null!=e?Ry.parse(e):{},r=new t;return r.barcodeFormat=Ty.QR_CODE,r.barcodeSubType=Ay.VCard,r.email=n.email&&n.email[0]&&n.email[0].value,r.lastName=n.n&&n.n[0]&&n.n[0].value[0],r.firstName=n.n&&n.n[0]&&n.n[0].value[1],r.organization=n.org&&n.org[0]&&n.org[0].value,r.mobilePhone=n.tel&&n.tel[0]&&n.tel[0].value,r.phone=n.tel&&n.tel[1]&&n.tel[1].value,r.position=n.title&&n.title[0]&&n.title[0].value,r.url=n.url&&n.url[0]&&n.url[0].value,r},t}();function By(){return function(t,e){var n="_"+e;Object.defineProperty(t,e,{get:function(){return this[n]},set:function(t){var r=typeof t;if(null!=t&&"boolean"!==r&&"number"!==r&&"string"!==r&&("object"!==r||"function"!=typeof t.equals))throw new $f("PropertyChanged decorator works only for simple types or objects with equals method");jg(this[n],t)||(this[n]=t,this._propertyChanged.notify(this,e))},configurable:!0,enumerable:!0})}}var jy,Fy=function(){var t=function(e,n){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(e,n)};return function(e,n){function r(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),zy=function(t,e,n,r){var i,o=arguments.length,s=o<3?e:null===r?r=Object.getOwnPropertyDescriptor(e,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(t,e,n,r);else for(var a=t.length-1;a>=0;a--)(i=t[a])&&(s=(o<3?i(s):o>3?i(e,n,s):i(e,n))||s);return o>3&&s&&Object.defineProperty(e,n,s),s},Ly=function(t,e){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(t,e)},Hy=function(t){function e(n,r,i,o){var s=t.call(this)||this;return s._barcodeContent="",s._barcodeFormat=Ty.QR_CODE,s._barcodeOptions=new Ny,s._barcodeSubType=Ay.Url,s._color=new hm("rgb(0,0,0)"),s.type=e.type,s._onOptionsPropertyChanged=function(t,e){s._propertyChanged.notify(s,"barcodeOptions")},s._barcodePermissions=new My,s._barcodeOptions.pureBarcode=!0,s._ignorePermissionsChange=!1,s.manipulationPermissions.resizeGrips=new Lm(!0,!1),s.shapePermissions.allowChangeFillColor=!0,s.barcodePermissions.allowChangeBarcodeType=!1,s.barcodePermissions.allowChangeBarcodeColor=!0,s.barcodePermissions.allowChangeBarcodeContent=!0,s._ignorePermissionsChange=!0,s.fillColor=new hm("rgba(255,255,255,1)"),null!=n&&(s._barcodeFormat=n),null!=r&&(s._barcodeContent=r),null!=i&&(s._barcodeOptions=i),s._subscribeOptionsPropertyChanged(),null!=o&&(s.sourceRectangle=o),s.applyPermissionsConstrain(),s}return Fy(e,t),Object.defineProperty(e.prototype,"barcodePermissions",{get:function(){return this._barcodePermissions},set:function(t){if(null==t)throw new $f("barcodePermissions cannot be null");jg(this._barcodePermissions,t)||(this._barcodePermissions.propertyChanged.remove(this._onPermissionsChanged),this._barcodePermissions=t,this._barcodePermissions.propertyChanged.add(this._onPermissionsChanged),this._onPermissionsChanged())},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"barcodeContent",{get:function(){return this._barcodeContent},set:function(t){this._barcodeContent!==t&&(this._barcodeContent=t,this._propertyChanged.notify(this,"barcodeContent"))},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"barcodeFormat",{get:function(){return this._barcodeFormat},set:function(t){this._barcodeFormat!==t&&(this._barcodeFormat=t,this._propertyChanged.notify(this,"barcodeFormat"))},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"barcodeSubType",{get:function(){return this._barcodeSubType},set:function(t){this._barcodeSubType!==t&&(this._barcodeSubType=t,this._propertyChanged.notify(this,"barcodeSubType"))},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"color",{get:function(){return this._color},set:function(t){this._color.equals(t)||(this._color=t,this._propertyChanged.notify(this,"color"))},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"barcodeOptions",{get:function(){return this._barcodeOptions},set:function(t){JSON.stringify(this._barcodeOptions)!==JSON.stringify(t)&&(this._unsubscribeOptionsPropertyChanged(),this._barcodeOptions=t,this._subscribeOptionsPropertyChanged(),this._propertyChanged.notify(this,"barcodeOptions"))},enumerable:!0,configurable:!0}),e.prototype._subscribeOptionsPropertyChanged=function(){null!=this._barcodeOptions&&this._barcodeOptions.addPropertyChanged(this._onOptionsPropertyChanged)},e.prototype._unsubscribeOptionsPropertyChanged=function(){null!=this._barcodeOptions&&this._barcodeOptions.removePropertyChanged(this._onOptionsPropertyChanged)},Object.defineProperty(e.prototype,"isQrCode",{get:function(){return this.barcodeFormat===Ty.QR_CODE},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"isSqareCode",{get:function(){return this.barcodeFormat===Ty.QR_CODE||this.barcodeFormat===Ty.DATA_MATRIX},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"isLinearBarcode",{get:function(){return this.barcodeFormat===Ty.EAN_13||this.barcodeFormat===Ty.EAN_8||this.barcodeFormat==Ty.CODE_128||this.barcodeFormat===Ty.UPC_A||this.barcodeFormat===Ty.UPC_E},enumerable:!0,configurable:!0}),e.prototype._copy=function(e,n,r,i){t.prototype._copy.call(this,e,n,r,i),n.barcodePermissions=e.barcodePermissions.clone(),n.barcodeContent=e.barcodeContent,n.barcodeFormat=e.barcodeFormat,n.barcodeSubType=e.barcodeSubType,n.color=e.color.clone(),n.barcodeOptions=new Ny,n.barcodeOptions.width=e.barcodeOptions.width,n.barcodeOptions.height=e.barcodeOptions.height,n.barcodeOptions.margin=e.barcodeOptions.margin,n.barcodeOptions.pureBarcode=e.barcodeOptions.pureBarcode,n.barcodeOptions.errorCorrection=e.barcodeOptions.errorCorrection,n.barcodeOptions.characterSet=e.barcodeOptions.characterSet,n.barcodeOptions.pdf417Compact=e.barcodeOptions.pdf417Compact,n.barcodeOptions.pdf417Compaction=e.barcodeOptions.pdf417Compaction,n.barcodeOptions.pdf417Dimensions=e.barcodeOptions.pdf417Dimensions,n.barcodeOptions.disableEci=e.barcodeOptions.disableEci,n.barcodeOptions.code128ForceCodesetB=e.barcodeOptions.code128ForceCodesetB,n.barcodeOptions.aztecLayers=e.barcodeOptions.aztecLayers,n.barcodeOptions.qrVersion=e.barcodeOptions.qrVersion},e.prototype.equals=function(e){return t.prototype.equals.call(this,e)&&jg(this._barcodePermissions,e._barcodePermissions)&&jg(this._barcodeContent,e._barcodeContent)&&jg(this._barcodeFormat,e._barcodeFormat)&&jg(this._barcodeSubType,e._barcodeSubType)&&jg(this._color,e._color)&&jg(this._barcodeOptions,e._barcodeOptions)},e.prototype.clone=function(t,n){void 0===t&&(t=!1),void 0===n&&(n=!1);var r=new e;return this._copy(this,r,t,n),r},e.prototype.getSimplifiedObject=function(e){lg.isArray(e)||lg.isString(e)||(e=[]);var n=t.prototype.getSimplifiedObject.call(this,["barcodePermissions","isQrCode","isLinearBarcode","barcodeData"].concat(e));return n.barcodePermissions=this.barcodePermissions.getSimplifiedObject(),n},e.prototype.applyPermissionsConstrain=function(){null!=this.itemPermissions&&null!=this.itemPermissions.itemToolbarPermissions&&(this.itemPermissions.itemToolbarPermissions.showEditButtonConstraint=null==this.barcodePermissions||this.barcodePermissions.allowChangeBarcodeContent?null:this.barcodePermissions.allowChangeBarcodeContent,this.itemPermissions.itemToolbarPermissions.showSelectButton=!1)},Object.defineProperty(e.prototype,"barcodeData",{get:function(){var t=new Dy;switch(t.barcodeSubType=this.barcodeSubType,t.barcodeFormat=this.barcodeFormat,t.barcodeFormat){case Ty.EAN_13:case Ty.EAN_8:case Ty.UPC_A:case Ty.UPC_E:case Ty.CODE_128:case Ty.DATA_MATRIX:t.barcodeValue=this.barcodeContent;break;case Ty.QR_CODE:switch(this.barcodeSubType){case Ay.Phone:t.phone=this.barcodeContent;break;case Ay.Url:t.url=this.barcodeContent;break;case Ay.VCard:return Dy.fromVCardString(this.barcodeContent)}}return t},enumerable:!0,configurable:!0}),e.prototype.applyBarcodeData=function(t){this.barcodeFormat=t.barcodeFormat,this.barcodeSubType=null!=t.barcodeSubType?t.barcodeSubType:this.barcodeFormat===Ty.QR_CODE?Ay.Phone:Ay.None;var e="";switch(this.barcodeFormat){case Ty.QR_CODE:switch(this.barcodeSubType){case Ay.Phone:e=t.phone;break;case Ay.None:case Ay.Url:e=t.url;break;case Ay.VCard:e=t.toVCardString()}break;case Ty.EAN_8:case Ty.EAN_13:case Ty.UPC_A:case Ty.UPC_E:case Ty.CODE_128:case Ty.DATA_MATRIX:e=t.barcodeValue}this.barcodeContent=e},e.type="BarcodeItem",zy([jm({enumObject:Ty}),Ly("design:type",String),Ly("design:paramtypes",[String])],e.prototype,"barcodeFormat",null),zy([jm({enumObject:Ay}),Ly("design:type",String),Ly("design:paramtypes",[String])],e.prototype,"barcodeSubType",null),e}(dy),Ny=function(t){function e(){var n=null!==t&&t.apply(this,arguments)||this;return n.type=e.type,n}return Fy(e,t),e.prototype.equals=function(t){return null!=t&&jg(this.width,t.width)&&jg(this.height,t.height)&&jg(this.margin,t.margin)&&jg(this.pureBarcode,t.pureBarcode)&&jg(this.errorCorrection,t.errorCorrection)&&jg(this.characterSet,t.characterSet)&&jg(this.pdf417Compact,t.pdf417Compact)&&jg(this.pdf417Compaction,t.pdf417Compaction)&&lg.isEqual(this.pdf417Dimensions,t.pdf417Dimensions)&&jg(this.disableEci,t.disableEci)&&jg(this.code128ForceCodesetB,t.code128ForceCodesetB)&&jg(this.aztecLayers,t.aztecLayers)&&jg(this.qrVersion,t.qrVersion)},e.type="EncodingOptions",zy([By(),jm({factory:new iy(0)}),Ly("design:type",Number)],e.prototype,"width",void 0),zy([By(),jm({factory:new iy(0)}),Ly("design:type",Number)],e.prototype,"height",void 0),zy([By(),jm({factory:new iy(0)}),Ly("design:type",Number)],e.prototype,"margin",void 0),zy([By(),jm({factory:new iy(!0)}),Ly("design:type",Boolean)],e.prototype,"pureBarcode",void 0),zy([By(),jm({factory:new iy("")}),Ly("design:type",String)],e.prototype,"errorCorrection",void 0),zy([By(),jm({factory:new iy("")}),Ly("design:type",String)],e.prototype,"characterSet",void 0),zy([By(),jm({factory:new iy(!1)}),Ly("design:type",Boolean)],e.prototype,"pdf417Compact",void 0),zy([By(),jm({factory:new iy("")}),Ly("design:type",String)],e.prototype,"pdf417Compaction",void 0),zy([By(),Ly("design:type",Object)],e.prototype,"pdf417Dimensions",void 0),zy([By(),jm({factory:new iy(!1)}),Ly("design:type",Boolean)],e.prototype,"disableEci",void 0),zy([By(),jm({factory:new iy(!1)}),Ly("design:type",Boolean)],e.prototype,"code128ForceCodesetB",void 0),zy([By(),jm({factory:new iy(0)}),Ly("design:type",Number)],e.prototype,"aztecLayers",void 0),zy([By(),jm({factory:new iy(0)}),Ly("design:type",Number)],e.prototype,"qrVersion",void 0),e}(Xg),Wy=function(){function t(t){this.FirstLineIndent=0,this.SpaceAfter=0,this.SpaceBefore=0,this.LeftIndent=0,this.RightIndent=0,null!=t&&(this.FirstLineIndent="number"==typeof t.FirstLineIndent?t.FirstLineIndent:0,this.SpaceAfter="number"==typeof t.SpaceAfter?t.SpaceAfter:0,this.SpaceBefore="number"==typeof t.SpaceBefore?t.SpaceBefore:0,this.LeftIndent="number"==typeof t.LeftIndent?t.LeftIndent:0,this.RightIndent="number"==typeof t.RightIndent?t.RightIndent:0)}return t.prototype.equals=function(e){return e instanceof t&&xg(this.FirstLineIndent,e.FirstLineIndent)&&xg(this.SpaceAfter,e.SpaceAfter)&&xg(this.SpaceBefore,e.SpaceBefore)&&xg(this.LeftIndent,e.LeftIndent)&&xg(this.RightIndent,e.RightIndent)},t.equals=function(t,e){return null==t&&null==e||null!=t&&null!=e&&t.equals(e)},t.prototype.clone=function(){return new t(this)},t}(),Vy=function(){var t=function(e,n){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(e,n)};return function(e,n){function r(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),Uy=function(t,e,n,r){var i,o=arguments.length,s=o<3?e:null===r?r=Object.getOwnPropertyDescriptor(e,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(t,e,n,r);else for(var a=t.length-1;a>=0;a--)(i=t[a])&&(s=(o<3?i(s):o>3?i(e,n,s):i(e,n))||s);return o>3&&s&&Object.defineProperty(e,n,s),s},qy=function(t,e){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(t,e)},Gy=function(t){function e(n,r,i,o){var s=t.call(this,n,i,o)||this;return s._textRectangle=new fg,s._verticalAlignment=_y.Top,s._isVertical=!1,s._paragraphSettings=new Wy,s._wrappingPath=null,s._wrappingMargin=7,s._scheduledFitMode=null,s._shrinkMode=my.Size,s._overflowStrategy=yy.Clip,s._originalVerticalScale=1,s._originalHorizontalScale=1,s._firstBaselineOffset=by.Ascent,s._firstBaselineMinOffset=0,s.characterLimit=null,s.type=e.type,null!=r&&(s.textRectangle=r,s.sourcePath=Eg.rectangle(r.left,r.top,r.width,r.height)),s}return Vy(e,t),Object.defineProperty(e.prototype,"textRectangle",{get:function(){return this._textRectangle},set:function(t){fg.isEqual(this._textRectangle,t)||(this._textRectangle=t,this._propertyChanged.notify(this,"textRectangle"))},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"verticalAlignment",{get:function(){return this._verticalAlignment},set:function(t){this._verticalAlignment!==t&&(this._verticalAlignment=t,this._propertyChanged.notify(this,"verticalAlignment"))},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"isVertical",{get:function(){return this._isVertical},set:function(t){this._isVertical!==t&&(this._isVertical=t,this._propertyChanged.notify(this,"isVertical"))},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"paragraphSettings",{get:function(){return this._paragraphSettings},set:function(t){this._paragraphSettings.equals(t)||(this._paragraphSettings=t,this._propertyChanged.notify(this,"paragraphSettings"))},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"wrappingPath",{get:function(){return this._wrappingPath},set:function(t){null==this._wrappingPath&&null==t||null!=this._wrappingPath&&this._wrappingPath.isEqual(t)||(this._wrappingPath=t,this._propertyChanged.notify(this,"wrappingPath"))},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"wrappingMargin",{get:function(){return this._wrappingMargin},set:function(t){this._wrappingMargin!==t&&(this._wrappingMargin=t,this._propertyChanged.notify(this,"wrappingMargin"))},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"scheduledFitMode",{get:function(){return this._scheduledFitMode},set:function(t){this._scheduledFitMode!==t&&(this._scheduledFitMode=t,null!=t&&this._propertyChanged.notify(this,"scheduledFitMode"))},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"shrinkMode",{get:function(){return this._shrinkMode},set:function(t){this._shrinkMode!==t&&(this._shrinkMode=t,null!=t&&this._propertyChanged.notify(this,"shrinkMode"))},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"overflowStrategy",{get:function(){return this._overflowStrategy},set:function(t){this._overflowStrategy!==t&&(this._overflowStrategy=t,null!=t&&this._propertyChanged.notify(this,"overflowStrategy"))},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"originalVerticalScale",{get:function(){return this._originalVerticalScale},set:function(t){this._originalVerticalScale!==t&&(this._originalVerticalScale=t,null!=t&&this._propertyChanged.notify(this,"originalVerticalScale"))},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"originalHorizontalScale",{get:function(){return this._originalHorizontalScale},set:function(t){this._originalHorizontalScale!==t&&(this._originalHorizontalScale=t,null!=t&&this._propertyChanged.notify(this,"originalHorizontalScale"))},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"firstBaselineOffset",{get:function(){return this._firstBaselineOffset},set:function(t){this._firstBaselineOffset!==t&&(this._firstBaselineOffset=t,null!=t&&this._propertyChanged.notify(this,"firstBaselineOffset"))},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"firstBaselineMinOffset",{get:function(){return this._firstBaselineMinOffset},set:function(t){xg(this._firstBaselineMinOffset,t)||(this._firstBaselineMinOffset=t,null!=t&&this._propertyChanged.notify(this,"firstBaselineMinOffset"))},enumerable:!0,configurable:!0}),e.prototype._copy=function(e,n,r,i){t.prototype._copy.call(this,e,n,r,i),n.isVertical=e.isVertical,n.textRectangle=e.textRectangle.clone(),n.verticalAlignment=e.verticalAlignment,n.paragraphSettings=e.paragraphSettings.clone(),n.wrappingPath=null!=e.wrappingPath?e.wrappingPath.clone():null,n.wrappingMargin=e.wrappingMargin,n.scheduledFitMode=e.scheduledFitMode,n.shrinkMode=e.shrinkMode,n.overflowStrategy=e.overflowStrategy,n.originalVerticalScale=e.originalVerticalScale,n.originalHorizontalScale=e.originalHorizontalScale,n.characterLimit=e.characterLimit,n.firstBaselineOffset=e.firstBaselineOffset,n.firstBaselineMinOffset=e.firstBaselineMinOffset},e.prototype.equals=function(e){return t.prototype.equals.call(this,e)&&jg(this._isVertical,e._isVertical)&&jg(this._textRectangle,e._textRectangle)&&jg(this._verticalAlignment,e._verticalAlignment)&&jg(this._paragraphSettings,e._paragraphSettings)&&jg(this._wrappingPath,e._wrappingPath)&&jg(this._wrappingMargin,e._wrappingMargin)&&jg(this._scheduledFitMode,e._scheduledFitMode)&&jg(this._shrinkMode,e._shrinkMode)&&jg(this._overflowStrategy,e._overflowStrategy)&&jg(this._originalVerticalScale,e._originalVerticalScale)&&jg(this._originalHorizontalScale,e._originalHorizontalScale)&&jg(this.characterLimit,e.characterLimit)&&jg(this.firstBaselineOffset,e.firstBaselineOffset)&&jg(this.firstBaselineMinOffset,e.firstBaselineMinOffset)},e.prototype.clone=function(t,n){void 0===t&&(t=!1),void 0===n&&(n=!1);var r=new e;return this._copy(this,r,t,n),r},e.type="BoundedTextItem",Uy([jm({factory:new iy(50),displayName:"Character Limit"}),qy("design:type",Number)],e.prototype,"characterLimit",void 0),Uy([jm({enumObject:_y}),qy("design:type",Number),qy("design:paramtypes",[Number])],e.prototype,"verticalAlignment",null),Uy([jm({factory:new oy(Eg),displayName:"Wrapping path"}),qy("design:type",Eg),qy("design:paramtypes",[Eg])],e.prototype,"wrappingPath",null),Uy([jm({enumObject:gy}),qy("design:type",Number),qy("design:paramtypes",[Number])],e.prototype,"scheduledFitMode",null),Uy([jm({enumObject:my}),qy("design:type",Number),qy("design:paramtypes",[Number])],e.prototype,"shrinkMode",null),Uy([jm({enumObject:yy}),qy("design:type",Number),qy("design:paramtypes",[Number])],e.prototype,"overflowStrategy",null),e}(Ey),Yy=function(t,e){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(t,e)},Xy=function(){function t(){this.propertyChanged=new og,this.allowReplaceContentConstraint=null,this._allowReplaceContent=!0,this.allowUngroupContraint=null,this._allowUngroup=!0,this.allowSelectNestedItemsContraint=null,this._allowSelectNestedItems=!0}return Object.defineProperty(t.prototype,"allowReplaceContent",{get:function(){return null!=this.allowReplaceContentConstraint?this.allowReplaceContentConstraint:this._allowReplaceContent},set:function(t){this._allowReplaceContent!==t&&(this._allowReplaceContent=t,this.propertyChanged.notify())},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"allowUngroup",{get:function(){return null!=this.allowUngroupContraint?this.allowUngroupContraint:this._allowUngroup},set:function(t){this._allowUngroup!==t&&(this._allowUngroup=t,this.propertyChanged.notify())},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"allowSelectNestedItems",{get:function(){return null!=this.allowSelectNestedItemsContraint?this.allowSelectNestedItemsContraint:this._allowSelectNestedItems},set:function(t){this._allowSelectNestedItems!==t&&(this._allowSelectNestedItems=t,this.propertyChanged.notify())},enumerable:!0,configurable:!0}),t.prototype.getSimplifiedObject=function(){return{allowReplaceContent:this._allowReplaceContent,allowSelectNestedItems:this._allowSelectNestedItems,allowUngroup:this._allowUngroup}},t.prototype.clone=function(){var e=new t;return e.allowReplaceContent=this._allowReplaceContent,e.allowReplaceContentConstraint=this.allowReplaceContentConstraint,e.allowSelectNestedItems=this._allowSelectNestedItems,e.allowSelectNestedItemsContraint=this.allowSelectNestedItemsContraint,e.allowUngroup=this._allowUngroup,e.allowUngroupContraint=this.allowUngroupContraint,e},t.prototype.equals=function(t){return this.allowReplaceContent===t.allowReplaceContent&&this.allowReplaceContentConstraint===t.allowReplaceContentConstraint&&this.allowSelectNestedItems===t.allowSelectNestedItems&&this.allowSelectNestedItemsContraint===t.allowSelectNestedItemsContraint&&this.allowUngroup===t.allowUngroup&&this.allowUngroupContraint===t.allowUngroupContraint},function(t,e,n,r){var i,o=arguments.length,s=o<3?e:null===r?r=Object.getOwnPropertyDescriptor(e,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(t,e,n,r);else for(var a=t.length-1;a>=0;a--)(i=t[a])&&(s=(o<3?i(s):o>3?i(e,n,s):i(e,n))||s);o>3&&s&&Object.defineProperty(e,n,s)}([jm({ignore:!0}),Yy("design:type",Boolean)],t.prototype,"allowReplaceContentConstraint",void 0),t}(),$y=function(){var t=function(e,n){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(e,n)};return function(e,n){function r(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),Qy=function(t,e){var n="function"==typeof Symbol&&t[Symbol.iterator];if(!n)return t;var r,i,o=n.call(t),s=[];try{for(;(void 0===e||e-- >0)&&!(r=o.next()).done;)s.push(r.value)}catch(a){i={error:a}}finally{try{r&&!r.done&&(n=o.return)&&n.call(o)}finally{if(i)throw i.error}}return s},Zy=function(){for(var t=[],e=0;e<arguments.length;e++)t=t.concat(Qy(arguments[e]));return t},Ky=function(t){function e(n){var r=t.call(this)||this;return r.items=new nm,r.type=e.type,r.groupItemPermissions=new Xy,r._ignorePermissionsChange=!0,r._groupItemPermissions.allowReplaceContent=!1,r._ignorePermissionsChange=!1,r.items.add_itemAdded((function(t){t.item.parentGroupItem=r,r._propertyChanged.notify(r,"items")})),r.items.add_itemRemoved((function(t){t.item.parentGroupItem=null,r._propertyChanged.notify(r,"items")})),null!=n&&r.items.addRange(n),r}return $y(e,t),Object.defineProperty(e.prototype,"groupItemPermissions",{get:function(){return this._groupItemPermissions},set:function(t){if(null==t)throw new $f("groupItemPermissions cannot be null");jg(this._groupItemPermissions,t)||(null!=this._groupItemPermissions&&this._groupItemPermissions.propertyChanged.remove(this._onPermissionsChanged),this._groupItemPermissions=t,this._groupItemPermissions.propertyChanged.add(this._onPermissionsChanged),this._onPermissionsChanged())},enumerable:!0,configurable:!0}),e.prototype.addItems=function(t,e){var n;null!=e&&(t=t.reverse()),null!=t&&0!==t.length&&(null!=e&&e>-1?this.items.insertAt(e,t):(n=this.items).add.apply(n,Zy(t)))},e.prototype._onContainerChanged=function(){var t=this;this.applyToItems((function(e){e.parentContainer=t.parentContainer}))},e.prototype.addItem=function(t,e){null!=e&&e>-1?this.items.insertAt(e,t):this.items.add(t)},e.prototype.removeItems=function(t){var e,n;if(null!=t&&t.length>0)try{for(var r=function(t){var e="function"==typeof Symbol&&Symbol.iterator,n=e&&t[e],r=0;if(n)return n.call(t);if(t&&"number"==typeof t.length)return{next:function(){return t&&r>=t.length&&(t=void 0),{value:t&&t[r++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")}(t),i=r.next();!i.done;i=r.next())this.items.remove(i.value)}catch(o){e={error:o}}finally{try{i&&!i.done&&(n=r.return)&&n.call(r)}finally{if(e)throw e.error}}},e.prototype.getNestedItems=function(t){void 0===t&&(t=!1);for(var n=[],r=Zy(this.items);r.length>0;){var i=r.shift();i instanceof e&&(r.splice.apply(r,Zy([r.indexOf(i),0],i.items)),t)||n.push(i)}return n},e.prototype.getSimplifiedObject=function(e){void 0===e&&(e=[]);var n=t.prototype.getSimplifiedObject.call(this,["groupManipulationPermissions","itemRemovedEvent","groupItemPermissions","items"].concat(e));return n.items=this.items.toArray().map((function(t){return t.getSimplifiedObject()})),n.groupItemPermissions=this.groupItemPermissions.getSimplifiedObject(),n},e.prototype._copy=function(e,n,r,i){if(t.prototype._copy.call(this,e,n,r,i),!(e.items.length<=0)){var o=e.items.toArray().map((function(t){return t.clone(r,i)}));n.items.clear(),n.items.addRange(o),n.groupItemPermissions=e.groupItemPermissions.clone()}},e.prototype.clone=function(t,n){void 0===t&&(t=!1),void 0===n&&(n=!1);var r=new e;return this._copy(this,r,t,n),r},e.prototype.applyPermissionsConstrain=function(){t.prototype.applyPermissionsConstrain.call(this),this.itemPermissions.itemToolbarPermissions.showEditButton=!1,this.itemPermissions.itemToolbarPermissions.showSelectButton=!1},e.prototype.applyToItems=function(t){this.items.forEach(t)},Object.defineProperty(e.prototype,"manipulationPermissions",{get:function(){if(0===this.items.length)return this.groupManipulationPermissions;var t=this.groupManipulationPermissions.clone();return this.getNestedItems(!0).forEach((function(e){t.allowDelete=t.allowDelete&&e.manipulationPermissions.allowDelete})),Object.freeze(t),t},set:function(t){throw new Error("You cannot use ManipulationPermissions setter with GroupItem. Use groupManipulationPermissions setter instead")},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"groupManipulationPermissions",{get:function(){return t.prototype.getManipulationPermissions.call(this)},set:function(e){t.prototype.setManipulationPermissions.call(this,e)},enumerable:!0,configurable:!0}),e.prototype.isChildVisible=function(t){return!0},e.type="GroupItem",e}(ty),Jy=function(){var t=function(e,n){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(e,n)};return function(e,n){function r(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),tv=function(){return(tv=Object.assign||function(t){for(var e,n=1,r=arguments.length;n<r;n++)for(var i in e=arguments[n])Object.prototype.hasOwnProperty.call(e,i)&&(t[i]=e[i]);return t}).apply(this,arguments)},ev=function(t,e){var n="function"==typeof Symbol&&t[Symbol.iterator];if(!n)return t;var r,i,o=n.call(t),s=[];try{for(;(void 0===e||e-- >0)&&!(r=o.next()).done;)s.push(r.value)}catch(a){i={error:a}}finally{try{r&&!r.done&&(n=o.return)&&n.call(o)}finally{if(i)throw i.error}}return s},nv=function(){for(var t=[],e=0;e<arguments.length;e++)t=t.concat(ev(arguments[e]));return t},rv=function(t){function e(n,r){void 0===r&&(r=null);var i=t.call(this,n)||this;return i.type=e.type,i._colorGroups=[],i._onItemAdded=function(t){e._generateColorGroups([t.item]).forEach((function(t){var e;if(t.targets=t.targets.filter((function(t){return!i.colorGroups.some((function(e){return e.targets.some((function(e){return e.itemId===t.itemId&&e.prop===t.prop}))}))})),!(t.targets.length<1)){var n=i.colorGroups.find((function(e){return e.color.equals(t.color)}));null!=n?(e=n.targets).push.apply(e,nv(t.targets)):(null==i.themeBinding.clipartColors&&(i.themeBinding.clipartColors=new Array(i.colorGroups.length).fill(null)),i.colorGroups.push(t),i.themeBinding.clipartColors.push(null))}}))},i._onItemRemoved=function(t){var e=t.item.id;i.colorGroups.forEach((function(t){t.targets.some((function(t){return t.itemId===e}))&&(t.targets=t.targets.filter((function(t){return t.itemId!==e})))})),i.colorGroups.some((function(t){return 0===t.targets.length}))&&i.colorGroups.filter((function(t){return 0===t.targets.length})).map((function(t){return i.colorGroups.indexOf(t)})).forEach((function(t){i.colorGroups.splice(t,1),i.themeBinding.clipartColors.splice(t,1)}))},i._ignorePermissionsChange=!0,i.groupItemPermissions.allowSelectNestedItems=!1,i.groupItemPermissions.allowUngroup=!1,i._ignorePermissionsChange=!1,i.colorGroups=null!=r?r:e._generateColorGroups(i.items.toArray()),i.items.add_itemAdded(i._onItemAdded),i.items.add_itemRemoved(i._onItemRemoved),i}return Jy(e,t),e.prototype.getSimplifiedObject=function(e){return void 0===e&&(e=[]),t.prototype.getSimplifiedObject.call(this,e)},e.prototype._copy=function(e,n,r,i){t.prototype._copy.call(this,e,n,r,i);var o=e.colorGroups.map((function(t){return t.clone()}));if(r){var s=n.items.toArray().map((function(t){return t.id})),a=e.items.toArray().map((function(t){return t.id})),l=o.reduce((function(t,e){return nv(t,e.targets)}),[]);s.forEach((function(t,e){return l.filter((function(t){return t.itemId===a[e]})).forEach((function(e){return e.itemId=t}))}))}n.colorGroups=o},e.prototype.clone=function(t,n){void 0===t&&(t=!1),void 0===n&&(n=!1);var r=new e;return this._copy(this,r,t,n),r},e.prototype.applyPermissionsConstrain=function(){t.prototype.applyPermissionsConstrain.call(this),null!=this.groupItemPermissions&&(this.groupItemPermissions.allowSelectNestedItemsContraint=!1,this.groupItemPermissions.allowUngroupContraint=!1)},Object.defineProperty(e.prototype,"colorGroups",{get:function(){return this._colorGroups},set:function(t){this._colorGroups=t},enumerable:!0,configurable:!0}),e.prototype.setColor=function(t,e){var n=this;if(!this.colorGroups.includes(t))throw Error("Unexpected colorgroup");var r=e instanceof um?e:e.color;t.color.equals(r)||(e instanceof um||(null==this.themeBinding.clipartColors&&(this.themeBinding.clipartColors=new Array(this.colorGroups.length).fill(null)),this.themeBinding.clipartColors[this.colorGroups.indexOf(t)]=e.title),t.targets.forEach((function(t){var e=t.prop,i=t.itemId,o=n.items.first((function(t){return t.id===i}));if(!(o instanceof uy))throw new Error("Unexpected item in colorgroup");n._setShapeItemColor(e,o,r.clone())})),t.color=r.clone(),this._propertyChanged.notify(this,"colorGroups"))},e._generateColorGroups=function(t){return t.filter((function(t){return t instanceof uy})).reduce((function(t,e){var n=t.find((function(t){return t.color.equals(e.fillColor)}));if(null==n&&(n=new iv(e.fillColor),t.push(n)),n.targets.push({itemId:e.id,prop:jy.FillColor}),e.borderWidth>0){var r=t.find((function(t){return t.color.equals(e.borderColor)}));null==r&&(r=new iv(e.borderColor),t.push(r)),r.targets.push({itemId:e.id,prop:jy.BorderColor})}return t}),[])},e.prototype._setShapeItemColor=function(t,e,n){switch(t){case jy.BorderColor:e.borderColor=n;break;case jy.FillColor:e.fillColor=n}},e.type="ClipartItem",e}(Ky),iv=function(){function t(t,e){void 0===e&&(e=[]),this.color=t,this.targets=e}return t.prototype.clone=function(){return new t(this.color.clone(),nv(this.targets.map((function(t){return tv({},t)}))))},t}();!function(t){t[t.BorderColor=0]="BorderColor",t[t.FillColor=1]="FillColor"}(jy||(jy={}));var ov,sv=function(t,e){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(t,e)},av=function(){function t(t){this._allowChangeImage=!0,this.allowEditImageConstraint=null,this._allowEditImage=!0,this._allowKeepOverlayColor=!1,this.propertyChanged=new og,null==t&&(t=!0),this.allowChangeImage=t,this.allowEditImage=t,this.allowKeepOverlayColor=t}return Object.defineProperty(t.prototype,"allowChangeImage",{get:function(){return this._allowChangeImage},set:function(t){this._allowChangeImage!==t&&(this._allowChangeImage=t,this.propertyChanged.notify())},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"allowEditImage",{get:function(){return null!=this.allowEditImageConstraint?this.allowEditImageConstraint:this._allowEditImage},set:function(t){this._allowEditImage!==t&&(this._allowEditImage=t,this.propertyChanged.notify())},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"allowKeepOverlayColor",{get:function(){return this._allowKeepOverlayColor},set:function(t){this._allowKeepOverlayColor!==t&&(this._allowKeepOverlayColor=t,this.propertyChanged.notify())},enumerable:!0,configurable:!0}),t.prototype.clone=function(){var e=new t;return e.allowChangeImage=this.allowChangeImage,e.allowEditImage=this.allowEditImage,e.allowKeepOverlayColor=this.allowKeepOverlayColor,e},t.prototype.equals=function(t){return this.allowChangeImage===t.allowChangeImage&&this.allowEditImage===t.allowEditImage&&this.allowKeepOverlayColor===t.allowKeepOverlayColor},t.prototype.getSimplifiedObject=function(){var t={};return t.allowChangeImage=this.allowChangeImage,t.allowEditImage=this.allowEditImage,t.allowKeepOverlayColor=this.allowKeepOverlayColor,t},function(t,e,n,r){var i,o=arguments.length,s=o<3?e:null===r?r=Object.getOwnPropertyDescriptor(e,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(t,e,n,r);else for(var a=t.length-1;a>=0;a--)(i=t[a])&&(s=(o<3?i(s):o>3?i(e,n,s):i(e,n))||s);o>3&&s&&Object.defineProperty(e,n,s)}([jm({ignore:!0}),sv("design:type",Boolean)],t.prototype,"allowEditImageConstraint",void 0),t}(),lv=function(){function t(){var t=this;this._onPermissionsChanged=function(){t.propertyChanged.notify()},this.propertyChanged=new og,this._imagePermissions=new av,this._barcodePermissions=new My,this._imagePermissions.propertyChanged.add(this._onPermissionsChanged),this._barcodePermissions.propertyChanged.add(this._onPermissionsChanged)}return Object.defineProperty(t.prototype,"barcodePermissions",{get:function(){return this._barcodePermissions},set:function(t){if(null==t)throw new $f("barcodePermissions cannot be null");this._barcodePermissions.propertyChanged.remove(this._onPermissionsChanged),this._barcodePermissions=t,this._barcodePermissions.propertyChanged.add(this._onPermissionsChanged),this._onPermissionsChanged()},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"imagePermissions",{get:function(){return this._imagePermissions},set:function(t){if(null==t)throw new $f("imagePermissions cannot be null");this._imagePermissions.propertyChanged.remove(this._onPermissionsChanged),this._imagePermissions=t,this._imagePermissions.propertyChanged.add(this._onPermissionsChanged),this._onPermissionsChanged()},enumerable:!0,configurable:!0}),t.prototype.getSimplifiedObject=function(){return{imagePermissions:this.imagePermissions.getSimplifiedObject(),barcodePermissions:this.barcodePermissions.getSimplifiedObject()}},t.prototype.clone=function(){var e=new t;return e.barcodePermissions=this.barcodePermissions.clone(),e.imagePermissions=this.imagePermissions.clone(),e},t.prototype.equals=function(t){return jg(this.barcodePermissions,t.barcodePermissions)&&jg(this.imagePermissions,t.imagePermissions)},t}(),uv=function(){var t=function(e,n){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(e,n)};return function(e,n){function r(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),cv=function(t){function e(n,r,i,o){var s=t.call(this,n,i,o)||this;return s._textPath=new Eg,s._fitToPath=!1,s._stretch=!1,s._originalFontSize=0,s._fitToPathStep=1,s._start=0,s.type=e.type,null!=r&&(s.textPath=r),s._ignorePermissionsChange=!0,s.manipulationPermissions.resizeGrips.setCornerArbitrary(!1),s.manipulationPermissions.resizeGrips.edge=!1,s._ignorePermissionsChange=!1,s}return uv(e,t),Object.defineProperty(e.prototype,"textPath",{get:function(){return this._textPath},set:function(t){this._textPath.equals(t)||(this._textPath=t,this._propertyChanged.notify(this,"textPath"))},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"fitToPath",{get:function(){return this._fitToPath},set:function(t){this._fitToPath!==t&&(this._fitToPath=t,this._propertyChanged.notify(this,"fitToPath"))},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"stretch",{get:function(){return this._stretch},set:function(t){this._stretch!==t&&(this._stretch=t,this._propertyChanged.notify(this,"stretch"))},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"start",{get:function(){return this._start},set:function(t){this._start!==t&&(this._start=t,this._propertyChanged.notify(this,"start"))},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"end",{get:function(){return this._end},set:function(t){this._end!==t&&(this._end=t,this._propertyChanged.notify(this,"end"))},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"originalFontSize",{get:function(){return this._originalFontSize},set:function(t){xg(this._originalFontSize,t)||(this._originalFontSize=t,this._propertyChanged.notify(this,"originalFontSize"))},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"fitToPathStep",{get:function(){return this._fitToPathStep},set:function(t){xg(this._fitToPathStep,t)||(this._fitToPathStep=t,this._propertyChanged.notify(this,"fitToPathStep"))},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"maxLineCount",{get:function(){return 1},set:function(t){throw new Kf("Max Line Count of Curved Text can not be redefined!")},enumerable:!0,configurable:!0}),e.prototype.getSimplifiedObject=function(e){return t.prototype.getSimplifiedObject.call(this,["maxLineCount"].concat(e))},e.prototype.applyPermissionsConstrain=function(){t.prototype.applyPermissionsConstrain.call(this),null!=this.manipulationPermissions&&(this.manipulationPermissions.resizeGrips.setCornerArbitrary(!1),this.manipulationPermissions.resizeGrips.edge=!1)},e.prototype._copy=function(e,n,r,i){t.prototype._copy.call(this,e,n,r,i),n.textPath=e.textPath.clone(),n.fitToPath=e.fitToPath,n.stretch=e.stretch,n.originalFontSize=e.originalFontSize,n.fitToPathStep=e.fitToPathStep,n.start=e.start,n.end=e.end},e.prototype.equals=function(e){return t.prototype.equals.call(this,e)&&jg(this._textPath,e._textPath)&&jg(this._fitToPath,e._fitToPath)&&jg(this._stretch,e._stretch)&&jg(this._originalFontSize,e._originalFontSize)&&jg(this._fitToPathStep,e._fitToPathStep)&&jg(this._start,e._start)&&jg(this._end,e._end)&&jg(this._textPath,e._textPath)},e.prototype.clone=function(t,n){void 0===t&&(t=!1),void 0===n&&(n=!1);var r=new e;return this._copy(this,r,t,n),r},e.type="CurvedTextItem",e}(Ey),hv=function(){function t(t){this._allowChangeLineWidth=!0,this._allowChangeLineColor=!0,this.propertyChanged=new og,null==t&&(t=!0),this.allowChangeLineWidth=t,this.allowChangeLineColor=t}return Object.defineProperty(t.prototype,"allowChangeLineWidth",{get:function(){return this._allowChangeLineWidth},set:function(t){this._allowChangeLineWidth!==t&&(this._allowChangeLineWidth=t,this.propertyChanged.notify("allowChangeLineWidth"))},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"allowChangeLineColor",{get:function(){return this._allowChangeLineColor},set:function(t){this._allowChangeLineColor!==t&&(this._allowChangeLineColor=t,this.propertyChanged.notify("allowChangeLineColor"))},enumerable:!0,configurable:!0}),t.prototype.getSimplifiedObject=function(){var t={};return t.allowChangeLineWidth=this.allowChangeLineWidth,t.allowChangeLineColor=this.allowChangeLineColor,t},t.prototype.clone=function(){var e=new t;return e.allowChangeLineWidth=this.allowChangeLineWidth,e.allowChangeLineColor=this.allowChangeLineColor,e},t.prototype.equals=function(t){return this.allowChangeLineColor===t.allowChangeLineColor&&this.allowChangeLineWidth===t.allowChangeLineWidth},t}(),pv=function(){var t=function(e,n){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(e,n)};return function(e,n){function r(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),dv=function(t){function e(n,r){var i=t.call(this)||this;return i._width=4,i._color=new hm("rgba(0, 0, 0, 1)"),i._sourcePoint0=new pg,i._sourcePoint1=new pg,i._fixedWidth=!1,i.lineColorForAbnormalRendering=new hm("rgb(0,0,0)"),i.type=e.type,i._sourcePoint0=null!=n?n:new pg,i._sourcePoint1=null!=r?r:new pg,i._linePermissions=new hv,i._linePermissions.propertyChanged.add(i._onPermissionsChanged),i._ignorePermissionsChange=!0,i.itemPermissions.itemToolbarPermissions.showEditButton=!1,i.itemPermissions.itemToolbarPermissions.showSelectButton=!1,i._ignorePermissionsChange=!1,i}return pv(e,t),Object.defineProperty(e.prototype,"width",{get:function(){return this._width},set:function(t){xg(this._width,t)||(this._width=t,this._propertyChanged.notify(this,"width"))},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"color",{get:function(){return this._color},set:function(t){um.equals(this._color,t)||(this._color=t,this._propertyChanged.notify(this,"color"))},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"sourcePoint0",{get:function(){return this._sourcePoint0},set:function(t){pg.isEqual(this._sourcePoint0,t)||(this._sourcePoint0=t,this._propertyChanged.notify(this,"sourcePoint0"))},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"sourcePoint1",{get:function(){return this._sourcePoint1},set:function(t){pg.isEqual(this._sourcePoint1,t)||(this._sourcePoint1=t,this._propertyChanged.notify(this,"sourcePoint1"))},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"fixedWidth",{get:function(){return this._fixedWidth},set:function(t){this._fixedWidth!==t&&(this._fixedWidth=t,this._propertyChanged.notify(this,"fixedWidth"))},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"linePermissions",{get:function(){return this._linePermissions},set:function(t){if(null==t)throw new $f("linePermissions cannot be null");jg(this._linePermissions,t)||(this._linePermissions.propertyChanged.remove(this._onPermissionsChanged),this._linePermissions=t,this._linePermissions.propertyChanged.add(this._onPermissionsChanged),this._onPermissionsChanged())},enumerable:!0,configurable:!0}),e.prototype._subscribeToPermissionChanged=function(){this._linePermissions.propertyChanged.add(this._onPermissionsChanged)},e.prototype._unsubscribeFromPermissionChanged=function(){this._linePermissions.propertyChanged.remove(this._onPermissionsChanged)},e.prototype.applyPermissionsConstrain=function(){t.prototype.applyPermissionsConstrain.call(this),this.itemPermissions.itemToolbarPermissions.showEditButton=!1,this.itemPermissions.itemToolbarPermissions.showSelectButton=!1,this.isRenderTypeIsNormal||(this.linePermissions.allowChangeLineColor=!1)},e.prototype.getSimplifiedObject=function(e){var n=t.prototype.getSimplifiedObject.call(this,["linePermissions"].concat(e));return n.linePermissions=this.linePermissions.getSimplifiedObject(),n},e.prototype._copy=function(e,n,r,i){t.prototype._copy.call(this,e,n,r,i),n.width=e.width,n.color=e.color.clone(),n.sourcePoint0=e.sourcePoint0.clone(),n.sourcePoint1=e.sourcePoint1.clone(),n.fixedWidth=e.fixedWidth,n.linePermissions=null!=e._linePermissions?e._linePermissions.clone():null},e.prototype.equals=function(e){return t.prototype.equals.call(this,e)&&jg(this._width,e._width)&&jg(this._color,e._color)&&jg(this._sourcePoint0,e._sourcePoint0)&&jg(this._sourcePoint1,e._sourcePoint1)&&jg(this._fixedWidth,e._fixedWidth)&&jg(this._linePermissions,e._linePermissions)},e.prototype.clone=function(t,n){void 0===t&&(t=!1),void 0===n&&(n=!1);var r=new e;return this._copy(this,r,t,n),r},e.type="LineItem",e}(ty),fv=function(){var t=function(e,n){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(e,n)};return function(e,n){function r(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),gv=function(t){function e(n,r){var i=t.call(this,n,r)||this;return i._dashWidth=3,i._altDashWidth=3,i._altColor=new hm("rgba(0,0,0,0)"),i.type=e.type,i}return fv(e,t),Object.defineProperty(e.prototype,"dashWidth",{get:function(){return this._dashWidth},set:function(t){xg(this._dashWidth,t)||(this._dashWidth=t,this._propertyChanged.notify(this,"dashWidth"))},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"altDashWidth",{get:function(){return this._altDashWidth},set:function(t){xg(this._altDashWidth,t)||(this._altDashWidth=t,this._propertyChanged.notify(this,"altDashWidth"))},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"altColor",{get:function(){return this._altColor},set:function(t){um.equals(this._altColor,t)||(this._altColor=t,this._propertyChanged.notify(this,"altColor"))},enumerable:!0,configurable:!0}),e.prototype._copy=function(e,n,r,i){t.prototype._copy.call(this,e,n,r,i),n.dashWidth=e.dashWidth,n.altDashWidth=e.altDashWidth,n.altColor=e.altColor.clone()},e.prototype.equals=function(e){return t.prototype.equals.call(this,e)&&jg(this._dashWidth,e._dashWidth)&&jg(this._altDashWidth,e._altDashWidth)&&jg(this._altColor,e._altColor)},e.prototype.clone=function(t,n){void 0===t&&(t=!1),void 0===n&&(n=!1);var r=new e;return this._copy(this,r,t,n),r},e.type="DashedLineItem",e}(dv),mv=function(){var t=function(e,n){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(e,n)};return function(e,n){function r(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),yv=function(t){function e(n){void 0===n&&(n=new fg(0,0,10,10));var r=t.call(this,Eg.ellipse(n.left,n.top,n.width,n.height))||this;return r.type=e.type,r.sourceRectangle=n,r.manipulationPermissions.resizeGrips=new Lm(!0,!0),r}return mv(e,t),e.prototype.clone=function(t,n){void 0===t&&(t=!1),void 0===n&&(n=!1);var r=new e;return this._copy(this,r,t,n),r},e.type="EllipseItem",e}(uy),vv=function(){var t=function(e,n){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(e,n)};return function(e,n){function r(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),_v=function(t){function e(n,r,i,o,s,a){var l=t.call(this)||this;return l.type=e.type,l._location=new pg(n,r),l._cols=i,l._rows=o,l._stepX=s,l._stepY=a,l._horizontalLineColor=new hm("rgba(0,0,0,1)"),l._verticalLineColor=new hm("rgba(0,0,0,1)"),l._lineWidth=1,l._fixedLineWidth=!0,l.textWrappingMode=Fm.None,l}return vv(e,t),Object.defineProperty(e.prototype,"location",{get:function(){return this._location},set:function(t){pg.isEqual(this._location,t)||(this._location=t,this._propertyChanged.notify(this,"location"))},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"cols",{get:function(){return this._cols},set:function(t){xg(this._cols,t)||(this._cols=t,this._propertyChanged.notify(this,"cols"))},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"rows",{get:function(){return this._rows},set:function(t){xg(this._rows,t)||(this._rows=t,this._propertyChanged.notify(this,"rows"))},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"stepX",{get:function(){return this._stepX},set:function(t){xg(this._stepX,t)||(this._stepX=t,this._propertyChanged.notify(this,"stepX"))},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"stepY",{get:function(){return this._stepY},set:function(t){xg(this._stepY,t)||(this._stepY=t,this._propertyChanged.notify(this,"stepY"))},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"lineWidth",{get:function(){return this._lineWidth},set:function(t){xg(this._lineWidth,t)||(this._lineWidth=t,this._propertyChanged.notify(this,"lineWidth"))},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"fixedLineWidth",{get:function(){return this._fixedLineWidth},set:function(t){this._fixedLineWidth!==t&&(this._fixedLineWidth=t,this._propertyChanged.notify(this,"fixedLineWidth"))},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"verticalLineColor",{get:function(){return this._verticalLineColor},set:function(t){um.equals(this._verticalLineColor,t)||(this._verticalLineColor=t,this._propertyChanged.notify(this,"verticalLineColor"))},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"horizontalLineColor",{get:function(){return this._horizontalLineColor},set:function(t){um.equals(this._horizontalLineColor,t)||(this._horizontalLineColor=t,this._propertyChanged.notify(this,"horizontalLineColor"))},enumerable:!0,configurable:!0}),e.type="GridItem",e}(ty);function bv(t,e){if("number"==typeof t)return wv(t,e);if(t instanceof pg)return new pg(wv(t.x,e),wv(t.y,e));throw new $f("points")}function wv(t,e){return function(t,e){return t*e}(function(t){return t/72}(t),e)}function Cv(t,e){return t/e*72}!function(t){t[t.None=0]="None",t[t.BlackAndWhite=1]="BlackAndWhite",t[t.FlipVertical=2]="FlipVertical",t[t.FlipHorizontal=3]="FlipHorizontal",t[t.Colorize=4]="Colorize"}(ov||(ov={}));var xv=function(t,e){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(t,e)},Sv=function(){function t(e){if(this._color=null,this._opacity=null,this._blendMode=null,this.$_propertyChanged=new ag,this.type=t.type,null!=e){var n=e.color,r=e.opacity,i=e.blendMode;this.color=n instanceof um?n:null,this.blendMode="number"==typeof i?i:null,this.opacity="number"==typeof r?r:null}}return t.prototype.equals=function(e){if(!(e instanceof t))return!1;var n=e.opacity,r=e.blendMode;return um.equals(e.color,this.color)&&(null==n&&null==this.opacity||xg(n,this.opacity))&&(null==r&&null==this.blendMode||xg(r,this.blendMode))},t.prototype.getSimplifiedObject=function(){return{color:this.color,blendMode:this.blendMode,opacity:this.opacity}},t.equals=function(t,e){return null==t&&null==e||null!=t&&t.equals(e)},t.prototype.clone=function(){return new t({blendMode:this.blendMode,color:null!=this.color?this.color.clone():null,opacity:this.opacity})},Object.defineProperty(t.prototype,"color",{get:function(){return this._color},set:function(t){um.equals(this.color,t)||(this._color=t,this.$_propertyChanged.notify(this,"color"))},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"blendMode",{get:function(){return this._blendMode},set:function(t){this.blendMode!==t&&(this._blendMode=t,this.$_propertyChanged.notify(this,"blendMode"))},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"opacity",{get:function(){return this._opacity},set:function(t){this.opacity!==t&&(this._opacity=t,this.$_propertyChanged.notify(this,"opacity"))},enumerable:!0,configurable:!0}),t.prototype.addPropertyChanged=function(t){this.$_propertyChanged.add(t)},t.prototype.removePropertyChanged=function(t){this.$_propertyChanged.remove(t)},t.type="OverlayEffect",function(t,e,n,r){var i,o=arguments.length,s=o<3?e:null===r?r=Object.getOwnPropertyDescriptor(e,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(t,e,n,r);else for(var a=t.length-1;a>=0;a--)(i=t[a])&&(s=(o<3?i(s):o>3?i(e,n,s):i(e,n))||s);o>3&&s&&Object.defineProperty(e,n,s)}([jm({enumObject:Xm}),xv("design:type",Object),xv("design:paramtypes",[Object])],t.prototype,"blendMode",null),t}(),Pv=function(){function t(t,e){void 0===t&&(t=0),void 0===e&&(e=0),this.width=t,this.height=e}return t.prototype.equals=function(t){return null!=t&&jg(this.width,t.width)&&jg(this.height,t.height)},t.prototype.clone=function(){return new t(this.width,this.height)},t}(),Iv=function(){var t=function(e,n){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(e,n)};return function(e,n){function r(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),Ev=function(t,e,n,r){var i,o=arguments.length,s=o<3?e:null===r?r=Object.getOwnPropertyDescriptor(e,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(t,e,n,r);else for(var a=t.length-1;a>=0;a--)(i=t[a])&&(s=(o<3?i(s):o>3?i(e,n,s):i(e,n))||s);return o>3&&s&&Object.defineProperty(e,n,s),s},Tv=function(t,e){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(t,e)},Av=function(t){function e(n,r,i,o,s){var a=t.call(this)||this;return a._effect=ov.None,a._overlayEffect=null,a.type=e.type,a.mviKeepTemplateTransform=!1,a.values=[],a.allowedSubfolder=null,a.ratioWidthToHeight=null,a.isUserImage=!1,a._onSourcePropertyChanged=function(t,e){switch(e){case"url":case"id":case"pageIndex":a._propertyChanged.notify(a,"source");break;case"isVector":a.applyPermissionsConstrain(),a._propertyChanged.notify(a,"source")}},a._onOverlayEffectPropertyChanged=function(t,e){a._propertyChanged.notify(a,"overlayEffect")},a.imagePermissions=new av,a.manipulationPermissions.resizeGrips=new Lm(!0,!1),a.shapePermissions.allowChangeFillColor=!1,a.imagePermissions.allowKeepOverlayColor=!1,a.itemPermissions.itemToolbarPermissions.showSelectButton=!0,a.source=null!=n?new e.ImageSource(n):new e.ImageSource,null!=s&&(a.ratioWidthToHeight=s),null!=i&&null!=o?a.sourceRectangle=new fg(0,0,i,o):(null!=i&&a.SetWidth(i),null!=o&&a.SetHeight(o)),null!=r&&(a.sourceRectangle.left=r.x,a.sourceRectangle.top=r.y),a}return Iv(e,t),e.prototype._copy=function(e,n,r,i){var o,s;if(t.prototype._copy.call(this,e,n,r,i),n.imagePermissions=null!=e._imagePermissions?e._imagePermissions.clone():null,n.effect=e._effect,n.overlayEffect=null!=e.overlayEffect?e.overlayEffect.clone():null,n.source=e._source.clone(),n.mviKeepTemplateTransform=e.mviKeepTemplateTransform,null!=e.values){n.values=[];try{for(var a=function(t){var e="function"==typeof Symbol&&Symbol.iterator,n=e&&t[e],r=0;if(n)return n.call(t);if(t&&"number"==typeof t.length)return{next:function(){return t&&r>=t.length&&(t=void 0),{value:t&&t[r++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")}(e.values),l=a.next();!l.done;l=a.next())n.values.push(l.value.clone())}catch(u){o={error:u}}finally{try{l&&!l.done&&(s=a.return)&&s.call(a)}finally{if(o)throw o.error}}}n.allowedSubfolder=e.allowedSubfolder,n.allowedTabs=lg.clone(e.allowedTabs),n.ratioWidthToHeight=e.ratioWidthToHeight,n.isUserImage=e.isUserImage},e.prototype.equals=function(e){return t.prototype.equals.call(this,e)&&jg(this._imagePermissions,e._imagePermissions)&&jg(this._effect,e._effect)&&jg(this._source,e._source)&&jg(this.mviKeepTemplateTransform,e.mviKeepTemplateTransform)&&jg(this.overlayEffect,e.overlayEffect)&&Fg(this.values,e.values)&&jg(this.allowedSubfolder,e.allowedSubfolder)&&Fg(this.allowedTabs,e.allowedTabs)&&jg(this.ratioWidthToHeight,e.ratioWidthToHeight)&&jg(this.isUserImage,e.isUserImage)},e.prototype.clone=function(t,n){void 0===t&&(t=!1),void 0===n&&(n=!1);var r=new e;return this._copy(this,r,t,n),r},Object.defineProperty(e.prototype,"imagePermissions",{get:function(){return this._imagePermissions},set:function(t){if(null==t)throw new $f("imagePermissions cannot be null");jg(this._imagePermissions,t)||(null!=this._imagePermissions&&this._imagePermissions.propertyChanged.remove(this._onPermissionsChanged),this._imagePermissions=t,this.applyPermissionsConstrain(),this._imagePermissions.propertyChanged.add(this._onPermissionsChanged),this._propertyChanged.notify(this,"imagePermissions"))},enumerable:!0,configurable:!0}),e.prototype.applyPermissionsConstrain=function(){t.prototype.applyPermissionsConstrain.call(this),this.itemPermissions.itemToolbarPermissions.showEditButtonConstraint=!(null!=this.imagePermissions&&!this.imagePermissions.allowChangeImage&&!this.imagePermissions.allowEditImage)&&(null==this.source||!this.source.isVector)&&null,this.itemPermissions.itemToolbarPermissions.showSelectButtonConstraint=!(null!=this.imagePermissions&&!this.imagePermissions.allowChangeImage)&&null},Object.defineProperty(e.prototype,"displayName",{get:function(){var t=this;if(null==this._displayName&&null!=this.values&&this.values.length>0){var e=this.values.find((function(e){return e.value.id===t.source.id}));null!=e&&(this.displayName=e.name)}return this._displayName},set:function(t){t!=this._displayName&&(this._displayName=t)},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"source",{get:function(){return this._source},set:function(t){this._source===t||null!=this._source&&this._source.equals(t)||(null!=this._source&&this._source.removePropertyChanged(this._onSourcePropertyChanged),this._source=t,null!=this._source&&this._source.addPropertyChanged(this._onSourcePropertyChanged),this._propertyChanged.notify(this,"source"))},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"effect",{get:function(){return this._effect},set:function(t){this._effect!==t&&(this._effect=t,this._propertyChanged.notify(this,"effect"))},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"overlayEffect",{get:function(){return this._overlayEffect},set:function(t){Sv.equals(this.overlayEffect,t)||(this._unsubscribeOverlayEffectPropertyChanged(),this._overlayEffect=t,this._subscribeOverlayEffectPropertyChanged(),this._propertyChanged.notify(this,"overlayEffect"))},enumerable:!0,configurable:!0}),e.prototype._subscribeOverlayEffectPropertyChanged=function(){null!=this.overlayEffect&&this.overlayEffect.addPropertyChanged(this._onOverlayEffectPropertyChanged)},e.prototype._unsubscribeOverlayEffectPropertyChanged=function(){null!=this.overlayEffect&&this.overlayEffect.removePropertyChanged(this._onOverlayEffectPropertyChanged)},e.prototype.SetWidth=function(t,e){this.sourceRectangle.width=t,null!=e&&(e=!0),null!=this.source.id&&e&&(this.sourceRectangle.height=this._calculateHeight(t))},e.prototype.SetHeight=function(t,e){this.sourceRectangle.height=t,null!=e&&(e=!0),null!=this.source.id&&e&&(this.sourceRectangle.width=this._calculateWidth(t))},e.prototype.getSrc=function(){throw new Xf},e.prototype._calculateHeight=function(t){if(null==this.ratioWidthToHeight)throw new Yf("Field ratioWidthToHeight is not set!");return t/this.ratioWidthToHeight},e.prototype._calculateWidth=function(t){if(null==this.ratioWidthToHeight)throw new Yf("Field ratioWidthToHeight is not set!");return t*this.ratioWidthToHeight},e.prototype.getSimplifiedObject=function(e){lg.isArray(e)||lg.isString(e)||(e=[]);var n=t.prototype.getSimplifiedObject.call(this,["imagePermissions"].concat(e));return n.source={id:this.source.id,width:this.source.width,height:this.source.height,isVector:this.source.isVector,pageIndex:this.source.pageIndex,url:this.source.url,actualSize:this.source.actualSize,saveAspectRatio:this.source.saveAspectRatio,origin:this.source.origin},n.imagePermissions=this.imagePermissions.getSimplifiedObject(),n},e.prototype.setData=function(t){null!=t.name&&(this.displayName=t.name),this.isUserImage=t.isUserImage,this.source.setIdWithOrigin(t.storageId,t.origin),this.source.pageIndex=t.pageIndex,this.source.width=t.size.width,this.source.height=t.size.height,this.source.isVector=t.isVector},e.prototype.getOriginalImageSize=function(){return{width:Cv(this.source.width,this.source.dpiX||72),height:Cv(this.source.height,this.source.dpiY||72)}},e.type="ImageItem",Ev([jm({factory:new iy("subfolder"),displayName:"Allowed subfolder"}),Tv("design:type",String)],e.prototype,"allowedSubfolder",void 0),Ev([jm({factory:new iy("allowedTabs"),displayName:"Allowed tabs"}),Tv("design:type",Array)],e.prototype,"allowedTabs",void 0),Ev([jm({factory:new iy("Image"),displayName:"Display name"}),Tv("design:type",Object),Tv("design:paramtypes",[Object])],e.prototype,"displayName",null),Ev([jm({enumObject:ov}),Tv("design:type",Number),Tv("design:paramtypes",[Number])],e.prototype,"effect",null),Ev([jm({factory:new oy(Sv,{color:new gm({c:0,m:0,y:0,k:0}),opacity:1,blendMode:Xm.Normal}),displayName:"Overlay effect"}),Tv("design:type",Sv),Tv("design:paramtypes",[Sv])],e.prototype,"overlayEffect",null),e}(dy);!function(t){var e=function(){function t(t){lg.extend(this,t)}return t.prototype.clone=function(){return new t(this)},t.prototype.equals=function(t){return null!=t&&jg(this.id,t.id)&&jg(this.width,t.width)&&jg(this.height,t.height)&&jg(this.isVector,t.isVector)},t}();t.ImageMetaData=e;var n,r=function(){function t(t,e,n){this.name=t,this.value=e,this.transformedRectangle=n}return t.prototype.clone=function(){return new t(this.name,this.value.clone(),this.transformedRectangle.clone())},t.prototype.equals=function(t){return null!=t&&jg(this.name,t.name)&&jg(this.value,t.value)&&jg(this.transformedRectangle,t.transformedRectangle)},t}();t.ImageItemValue=r,function(t){t[t.None=0]="None",t[t.StorageId=3]="StorageId",t[t.Url=4]="Url"}(n=t.ImageSourceType||(t.ImageSourceType={}));var i=function(){function t(t,e,r,i,o,s){void 0===r&&(r=0),void 0===i&&(i=!1),void 0===o&&(o=!0),this._storageId=null,this._url=null,this._type=n.None,this._isVector=!1,this._pageIndex=0,this._origin=null,this._actualSize=!1,this._saveAspectRatio=!0,this._dpiX=72,this._dpiY=72,this._propertyChanged=new ag,this._storageId=t,null!=t&&(this._type=n.StorageId,this._origin=s),this._url=e,null!=e&&(this._type=n.Url,this._actualSize=i,this._saveAspectRatio=o)}return t.prototype.clone=function(){var e=new t;return e.id=this.id,e.url=this.url,e._type=this._type,e._width=this._width,e._height=this._height,e._isVector=this._isVector,e._pageIndex=this._pageIndex,e._origin=null!=this._origin?this._origin.clone():null,e._actualSize=this._actualSize,e._saveAspectRatio=this._saveAspectRatio,e},t.prototype.equals=function(t){return jg(this.id,t.id)&&jg(this.url,t.url)&&jg(this._type,t._type)&&jg(this._width,t._width)&&jg(this._height,t._height)&&jg(this._origin,t._origin)&&jg(this._saveAspectRatio,t._saveAspectRatio)&&t._pageIndex===this._pageIndex&&JSON.stringify(t._origin)===JSON.stringify(this._origin)&&t._actualSize===this._actualSize&&t._saveAspectRatio===this._saveAspectRatio},Object.defineProperty(t.prototype,"id",{get:function(){return this._storageId},set:function(t){this._storageId!==t&&(this._storageId=t,this._propertyChanged.notify(this,"id"))},enumerable:!0,configurable:!0}),t.prototype.setIdWithOrigin=function(t,e){this.id=t,this._setOrigin(e)},Object.defineProperty(t.prototype,"url",{get:function(){return this._url},set:function(t){this._url!==t&&(this._url=t,this._propertyChanged.notify(this,"url"))},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"width",{get:function(){return this._width},set:function(t){this._width!==t&&(this._width=t,this._propertyChanged.notify(this,"width"))},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"height",{get:function(){return this._height},set:function(t){this._height!==t&&(this._height=t,this._propertyChanged.notify(this,"height"))},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"isVector",{get:function(){return this._isVector},set:function(t){this._isVector!==t&&(this._isVector=t,this._propertyChanged.notify(this,"isVector"))},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"pageIndex",{get:function(){return this._pageIndex},set:function(t){t!==this._pageIndex&&(this._pageIndex=t,this._propertyChanged.notify(this,"pageIndex"))},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"origin",{get:function(){return this._origin},enumerable:!0,configurable:!0}),t.prototype._setOrigin=function(t){t!==this._origin&&(this._origin=t,this._propertyChanged.notify(this,"origin"))},Object.defineProperty(t.prototype,"type",{get:function(){return this._type},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"actualSize",{get:function(){return this._actualSize},set:function(t){this._actualSize=t},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"saveAspectRatio",{get:function(){return this._saveAspectRatio},set:function(t){this._saveAspectRatio=t},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"dpiX",{get:function(){return this._dpiX},set:function(t){t>0&&(this._dpiX=t)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"dpiY",{get:function(){return this._dpiY},set:function(t){t>0&&(this._dpiY=t)},enumerable:!0,configurable:!0}),t.prototype.addPropertyChanged=function(t){this._propertyChanged.add(t)},t.prototype.removePropertyChanged=function(t){this._propertyChanged.remove(t)},t}();t.ImageSource=i,function(t){var e=function(){function t(t){lg.extend(this,t||{}),null!=t&&null!=t.originalSize&&(this.originalSize=new Pv(t.originalSize.width,t.originalSize.height))}return t.prototype.equals=function(t){return null==t&&jg(this.type,t.type)&&jg(this.data,t.data)&&jg(this.originalSize,t.originalSize)},t.prototype.clone=function(){return new t(this)},t}();t.Origin=e}(i=t.ImageSource||(t.ImageSource={}))}(Av||(Av={}));var kv,Ov,Mv,Rv,Dv=function(){function t(t){if(this.storageId=null,this.size=new Pv,this.name=null,this.isUserImage=!1,this.isVector=!1,this.pageIndex=0,"string"==typeof t)try{t=JSON.parse(t)}catch(e){console.warn("Unable to parse ImageMetaData from string ",t,e),t=null}lg.isObject(t)&&lg.extend(this,t)}return t.fromInterface=function(e,n){var r=new t;return r.storageId=e.id,r.size=new Pv(e.width,e.height),r.name=void 0!==n?n:null,null!=e.isVector&&(r.isVector=e.isVector),r},t.prototype.clone=function(){return new t(this)},t.prototype.equals=function(t){return this.storageId===t.storageId&&jg(this.size,t.size)&&jg(this.name,t.name)&&jg(this.isUserImage,t.isUserImage)&&jg(this.isVector,t.isVector)&&jg(this.pageIndex,t.pageIndex)},t}(),Bv=function(){var t=function(e,n){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(e,n)};return function(e,n){function r(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),jv=function(t,e){var n="function"==typeof Symbol&&t[Symbol.iterator];if(!n)return t;var r,i,o=n.call(t),s=[];try{for(;(void 0===e||e-- >0)&&!(r=o.next()).done;)s.push(r.value)}catch(a){i={error:a}}finally{try{r&&!r.done&&(n=o.return)&&n.call(o)}finally{if(i)throw i.error}}return s},Fv=function(t){function e(e,n,r,i,o){var s=t.call(this)||this;return s.id=e,s._name=n,s._mask=r,s._value=i,s._values=o,s}return Bv(e,t),Object.defineProperty(e.prototype,"mask",{get:function(){return this._mask},set:function(t){t!=this._mask&&(this._mask=t,this._propertyChanged.notify(this,"mask"))},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"value",{get:function(){return this._value},set:function(t){t!=this._value&&(this._value=t,this._propertyChanged.notify(this,"value"))},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"values",{get:function(){return this._values},set:function(t){t!=this._values&&(this._values=t,this._propertyChanged.notify(this,"values"))},enumerable:!0,configurable:!0}),e.prototype.generateNewIds=function(){this._generateNewId()},e.prototype._copy=function(e,n,r){return t.prototype._copy.call(this,e,n,!1),n.mask=e.mask,n.value=e.value,n.values=function(){for(var t=[],e=0;e<arguments.length;e++)t=t.concat(jv(arguments[e]));return t}(e.values),n},e.prototype.clone=function(t){void 0===t&&(t=!1);var n=new e;return this._copy(this,n,t),n},e.prototype.equals=function(e){return t.prototype.equals.call(this,e)&&jg(this.mask,e.mask)&&jg(this.value,e.value)&&Fg(this.values,e.values)},e.prototype.getSimplifiedObject=function(){return{id:this.id,mask:this.mask,value:this.value,values:this.values,name:this.name}},e}(Xg),zv=function(){var t=function(e,n){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(e,n)};return function(e,n){function r(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),Lv=function(){return(Lv=Object.assign||function(t){for(var e,n=1,r=arguments.length;n<r;n++)for(var i in e=arguments[n])Object.prototype.hasOwnProperty.call(e,i)&&(t[i]=e[i]);return t}).apply(this,arguments)},Hv=function(t,e,n,r){var i,o=arguments.length,s=o<3?e:null===r?r=Object.getOwnPropertyDescriptor(e,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(t,e,n,r);else for(var a=t.length-1;a>=0;a--)(i=t[a])&&(s=(o<3?i(s):o>3?i(e,n,s):i(e,n))||s);return o>3&&s&&Object.defineProperty(e,n,s),s},Nv=function(t,e){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(t,e)},Wv=function(t,e){var n="function"==typeof Symbol&&t[Symbol.iterator];if(!n)return t;var r,i,o=n.call(t),s=[];try{for(;(void 0===e||e-- >0)&&!(r=o.next()).done;)s.push(r.value)}catch(a){i={error:a}}finally{try{r&&!r.done&&(n=o.return)&&n.call(o)}finally{if(i)throw i.error}}return s},Vv=function(){for(var t=[],e=0;e<arguments.length;e++)t=t.concat(Wv(arguments[e]));return t},Uv=function(t){function e(n,r){var i=t.call(this,n)||this;return i.type=e.type,i._onLayoutSettingsChanged=function(t){i._propertyChanged.notify(i,t)},i.layoutSettings=null!=r?r:new Xv,i}return zv(e,t),e.prototype.getSimplifiedObject=function(e){var n,r;void 0===e&&(e=[]);var i=t.prototype.getSimplifiedObject.call(this,["layoutSettings"].concat(e));return i.layoutSettings=null===(n=this.layoutSettings)||void 0===n?void 0:n.getSimplifiedObject(),i.sourceRectangle=null===(r=this.sourceRectangle)||void 0===r?void 0:r.toJSON(),i},e.prototype._copy=function(e,n,r,i){var o;t.prototype._copy.call(this,e,n,r,i),r&&this._copyItemsOrder(e,n),n.layoutSettings=e.layoutSettings.clone(),n.sourceRectangle=null===(o=e.sourceRectangle)||void 0===o?void 0:o.clone()},e.prototype._copyItemsOrder=function(t,e){var n=t.getItemsOrder().map((function(n){var r=t.items.indexOf((function(t){return t.id==n}));return e.items.get(r).id}));e.setItemsOrder(n)},e.prototype.clone=function(t,n){void 0===t&&(t=!1),void 0===n&&(n=!1);var r=new e;return this._copy(this,r,t,n),r},Object.defineProperty(e.prototype,"layoutSettings",{get:function(){return this._layoutSettings},set:function(t){if(null==t)throw new Error("LayoutSettings can't be null");null!=this._layoutSettings&&this._layoutSettings.propertyChanged.remove(this._onLayoutSettingsChanged),this._layoutSettings=t,this._layoutSettings.propertyChanged.add(this._onLayoutSettingsChanged),this._onLayoutSettingsChanged("layoutSettings")},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"sourceRectangle",{get:function(){return this._sourceRectangle},set:function(t){if(null!=this._sourceRectangle&&null==t)throw new Error("LayoutItem.sourceRectangle can't be null");null!=t&&t.equals(this._sourceRectangle)||(this._unsubscribeSourceRectangle(),this._sourceRectangle=t,this._subscribeSourceRectangle(),this._propertyChanged.notify(this,"sourceRectangle"))},enumerable:!0,configurable:!0}),e.prototype._subscribeSourceRectangle=function(){},e.prototype._unsubscribeSourceRectangle=function(){},e.prototype.addItems=function(n,r,i){if(!Number.isInteger(i))throw new Error("orderIndex must not be null");var o=this.getItemsOrder();o=e._insertToOrder(o,n.map((function(t){return t.id})),i),this.setItemsOrder(o),t.prototype.addItems.call(this,n,r)},e.prototype.removeItems=function(e){var n=this.getItemsOrder();e.forEach((function(t){return n=n.filter((function(e){return e!==t.id}))})),this.setItemsOrder(n),t.prototype.removeItems.call(this,e)},e.prototype.addItem=function(n,r,i){var o=this.getItemsOrder();o=e._insertToOrder(o,[n.id],i),this.setItemsOrder(o),t.prototype.addItem.call(this,n,r)},e._insertToOrder=function(t,e,n){var r=t.slice(0,n),i=t.slice(n);return r.concat(e,i)},e.prototype.setItemsOrder=function(t){this.tags[e._layoutItemsOrderTagKey]=t},e.prototype.getItemsOrder=function(){var t=this.tags[e._layoutItemsOrderTagKey];return null==t?null:t instanceof Array?t:null},e.prototype.getItemOrderIndex=function(t){return this.items.indexOf(t)<0?-1:this.getItemsOrder().indexOf(t.id)},e.generateAutoLayoutSettings=function(t,e,n,r,i){var o=new $v,s=t.map((function(t){return t.left})),a=t.map((function(t){return t.right})),l=t.map((function(t){return t.top})),u=t.map((function(t){return t.bottom})),c=t.map((function(t){return t.center.x})),h=t.map((function(t){return t.center.y}));if(null==n&&(n=Math.max.apply(Math,Vv(c))-Math.min.apply(Math,Vv(c))>Math.max.apply(Math,Vv(h))-Math.min.apply(Math,Vv(h))?Mv.horizontal:Mv.vertical),o.orientation=n,null==e)switch(o.orientation){case Mv.horizontal:e=xg(Math.max.apply(Math,Vv(l)),Math.min.apply(Math,Vv(l)),5)?Ov.start:xg(Math.max.apply(Math,Vv(h)),Math.min.apply(Math,Vv(h)),5)?Ov.center:xg(Math.max.apply(Math,Vv(u)),Math.min.apply(Math,Vv(u)),5)?Ov.end:Ov.none;break;case Mv.vertical:e=xg(Math.max.apply(Math,Vv(s)),Math.min.apply(Math,Vv(s)),5)?Ov.start:xg(Math.max.apply(Math,Vv(c)),Math.min.apply(Math,Vv(c)),5)?Ov.center:xg(Math.max.apply(Math,Vv(a)),Math.min.apply(Math,Vv(a)),5)?Ov.end:Ov.none}o.alignItems=e;for(var p=t.sort(o.orientation===Mv.horizontal?function(t,e){return t.left-e.left}:function(t,e){return t.top-e.top}),d=[],f=1;f<p.length;f++){var g=p[f-1],m=p[f];d.push(o.orientation===Mv.horizontal?m.left-g.right:m.top-g.bottom)}return null==r&&(r=Math.max(0,Math.min.apply(Math,Vv(d.map(Math.round))))),o.margin=r,null==i&&(i=xg(Math.max.apply(Math,Vv(d)),Math.min.apply(Math,Vv(d)),2)?Rv.stretch:Rv.spaceBetween),o.justifyContent=i,o},e.prototype.isChildVisible=function(t){return!(t instanceof Ey&&t.isEmpty())},e._layoutItemsOrderTagKey="$layoutItemsOrder",e.type="LayoutItem",e}(Ky);!function(t){t[t.default=0]="default",t[t.auto=1]="auto"}(kv||(kv={})),function(t){t[t.none=0]="none",t[t.center=1]="center",t[t.start=2]="start",t[t.end=3]="end"}(Ov||(Ov={})),function(t){t[t.vertical=0]="vertical",t[t.horizontal=1]="horizontal"}(Mv||(Mv={})),function(t){t[t.stretch=0]="stretch",t[t.spaceBetween=1]="spaceBetween"}(Rv||(Rv={}));var qv,Gv,Yv,Xv=function(){function t(){this.type=t.type,this.propertyChanged=new og}return t.prototype.clone=function(){return new t},t.prototype.getSimplifiedObject=function(){var e={};return e.type=t.type,e},t.type="DefaultLayoutSettings",t}(),$v=function(t){function e(){var n=null!==t&&t.apply(this,arguments)||this;return n.type=e.type,n._margin=0,n._orientation=Mv.vertical,n._alignItems=Ov.none,n._justifyContent=Rv.stretch,n}return zv(e,t),Object.defineProperty(e.prototype,"margin",{get:function(){return this._margin},set:function(t){if(null==t)throw new Error("Margin can't be null");t!==this.margin&&(this._margin=t,this.propertyChanged.notify("margin"))},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"orientation",{get:function(){return this._orientation},set:function(t){if(null==t)throw Error("Orientation can't be null");t!==this.orientation&&(this._orientation=t,this.propertyChanged.notify("orientation"))},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"alignItems",{get:function(){return this._alignItems},set:function(t){if(null==t)throw new Error("alignItems can't be null");t!==this.alignItems&&(this._alignItems=t,this.propertyChanged.notify("alignItems"))},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"justifyContent",{get:function(){return this._justifyContent},set:function(t){if(null==t)throw new Error("JustifyContent can't be null");t!==this.justifyContent&&(this._justifyContent=t,this.propertyChanged.notify("justifyContent"))},enumerable:!0,configurable:!0}),e.prototype.clone=function(){var t=new e;return t.orientation=this.orientation,t.alignItems=this.alignItems,t.justifyContent=this.justifyContent,t.margin=this.margin,t},e.prototype.getSimplifiedObject=function(){var n=t.prototype.getSimplifiedObject.call(this);return n.type=e.type,n.orientation=this.orientation,n.alignItems=this.alignItems,n.justifyContent=this.justifyContent,n.margin=this.margin,n},e.type="AutoLayoutSettings",Hv([jm({ignore:!0}),Nv("design:type",Object)],e.prototype,"type",void 0),Hv([jm({enumObject:Lv({},Mv)}),Nv("design:type",Object),Nv("design:paramtypes",[Object])],e.prototype,"orientation",null),Hv([jm({enumObject:Ov}),Nv("design:type",Object),Nv("design:paramtypes",[Object])],e.prototype,"alignItems",null),Hv([jm({enumObject:Rv}),Nv("design:type",Object),Nv("design:paramtypes",[Object])],e.prototype,"justifyContent",null),e}(Xv),Qv=function(){function t(t){this.propertyChanged=new og,null==t&&(t=!0),this.allowChangeColumnCount=t}return Object.defineProperty(t.prototype,"allowChangeColumnCount",{get:function(){return this._allowChangeColumnCount},set:function(t){this._allowChangeColumnCount!==t&&(this._allowChangeColumnCount=t,this.propertyChanged.notify("allowChangeColumnCount"))},enumerable:!0,configurable:!0}),t.prototype.getSimplifiedObject=function(){var t={};return t.allowChangeColumnCount=this.allowChangeColumnCount,t},t.prototype.clone=function(){var e=new t;return e.allowChangeColumnCount=this.allowChangeColumnCount,e},t.prototype.equals=function(t){return this.allowChangeColumnCount===t.allowChangeColumnCount},t}(),Zv=function(){var t=function(e,n){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(e,n)};return function(e,n){function r(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),Kv=function(t){function e(n,r,i,o){var s=t.call(this,n,i,o)||this;return s._boundingPaths=[],s._wrappingMargin=7,s._wrappingPath=null,s._paragraphSettings=new Wy,s._characterLimit=null,s._isVertical=!1,s._firstBaselineOffset=by.Ascent,s._firstBaselineMinOffset=0,s.type=e.type,null!=r&&(s.boundingPaths=r),s._pathBoundedTextPermissions=new Qv,s._pathBoundedTextPermissions.propertyChanged.add(s._onPermissionsChanged),s}return Zv(e,t),Object.defineProperty(e.prototype,"characterLimit",{get:function(){return this._characterLimit},set:function(t){null===this._characterLimit&&null===t||xg(this._characterLimit,t)||(this._characterLimit=t,this._propertyChanged.notify(this,"characterLimit"))},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"boundingPaths",{get:function(){return this._boundingPaths},set:function(t){t.length===this.boundingPaths.length&&this.boundingPaths.every((function(e,n){return e.isEqual(t[n])}))||(this._boundingPaths=t,this._propertyChanged.notify(this,"boundingPaths"))},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"wrappingPath",{get:function(){return this._wrappingPath},set:function(t){null==this._wrappingPath&&null==t||null!=this._wrappingPath&&this._wrappingPath.isEqual(t)||(this._wrappingPath=t,this._propertyChanged.notify(this,"wrappingPath"))},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"wrappingMargin",{get:function(){return this._wrappingMargin},set:function(t){xg(this._wrappingMargin,t)||(this._wrappingMargin=t,this._propertyChanged.notify(this,"wrappingMargin"))},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"paragraphSettings",{get:function(){return this._paragraphSettings},set:function(t){Wy.equals(this._paragraphSettings,t)||(this._paragraphSettings=t,this._propertyChanged.notify(this,"paragraphSettings"))},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"isVertical",{get:function(){return this._isVertical},set:function(t){this._isVertical!==t&&(this._isVertical=t,this._propertyChanged.notify(this,"isVertical"))},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"pathBoundedTextPermissions",{get:function(){return this._pathBoundedTextPermissions},set:function(t){if(null==t)throw new $f("pathBoundedTextPermissions cannot be null");jg(this._pathBoundedTextPermissions,t)||(this._pathBoundedTextPermissions.propertyChanged.remove(this._onPermissionsChanged),this._pathBoundedTextPermissions=t,this._pathBoundedTextPermissions.propertyChanged.add(this._onPermissionsChanged),this._onPermissionsChanged())},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"firstBaselineOffset",{get:function(){return this._firstBaselineOffset},set:function(t){this._firstBaselineOffset!==t&&(this._firstBaselineOffset=t,null!=t&&this._propertyChanged.notify(this,"firstBaselineOffset"))},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"firstBaselineMinOffset",{get:function(){return this._firstBaselineMinOffset},set:function(t){xg(this._firstBaselineMinOffset,t)||(this._firstBaselineMinOffset=t,null!=t&&this._propertyChanged.notify(this,"firstBaselineMinOffset"))},enumerable:!0,configurable:!0}),e.prototype.getSimplifiedObject=function(e){var n=t.prototype.getSimplifiedObject.call(this,["pathBoundedTextPermissions"].concat(e));return n.pathBoundedTextPermissions=this.pathBoundedTextPermissions.getSimplifiedObject(),n},e.prototype._copy=function(e,n,r,i){t.prototype._copy.call(this,e,n,r,i),n.characterLimit=e.characterLimit,n.boundingPaths=e.boundingPaths.map((function(t){return t.clone()})),n.wrappingMargin=e.wrappingMargin,n.paragraphSettings=e.paragraphSettings.clone(),n.isVertical=e.isVertical,n.pathBoundedTextPermissions=e.pathBoundedTextPermissions.clone(),n.wrappingPath=null!=e.wrappingPath?e.wrappingPath.clone():null,n.firstBaselineOffset=e.firstBaselineOffset,n.firstBaselineMinOffset=e.firstBaselineMinOffset},e.prototype.equals=function(e){return t.prototype.equals.call(this,e)&&jg(this._characterLimit,e._characterLimit)&&Fg(this._boundingPaths,e._boundingPaths)&&jg(this._wrappingMargin,e._wrappingMargin)&&jg(this._paragraphSettings,e._paragraphSettings)&&jg(this._isVertical,e._isVertical)&&jg(this._pathBoundedTextPermissions,e._pathBoundedTextPermissions)&&jg(this._wrappingPath,e._wrappingPath)&&jg(this.firstBaselineOffset,e.firstBaselineOffset)&&jg(this.firstBaselineMinOffset,e.firstBaselineMinOffset)},e.prototype.clone=function(t,n){void 0===t&&(t=!1),void 0===n&&(n=!1);var r=new e;return this._copy(this,r,t,n),r},e.type="PathBoundedTextItem",e}(Ey),Jv=function(t,e){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(t,e)},t_=function(){function t(){this._allowEditContent=!0,this.showSelectButtonConstraint=null,this._showSelectButton=!0,this._showHandleButton=!0,this.propertyChanged=new og}return Object.defineProperty(t.prototype,"allowEditContent",{get:function(){return this._allowEditContent},set:function(t){this._allowEditContent!==t&&(this._allowEditContent=t,this.propertyChanged.notify())},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"showSelectButton",{get:function(){return null!=this.showSelectButtonConstraint?this.showSelectButtonConstraint:this._showSelectButton},set:function(t){this._showSelectButton!==t&&(this._showSelectButton=t,this.propertyChanged.notify())},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"showHandleButton",{get:function(){return this._showHandleButton},set:function(t){this._showHandleButton!==t&&(this._showHandleButton=t,this.propertyChanged.notify())},enumerable:!0,configurable:!0}),t.prototype.getSimplifiedObject=function(){var t={};return t.allowEditContent=this.allowEditContent,t.showSelectButton=this.showSelectButton,t.showHandleButton=this.showHandleButton,t},t.prototype.clone=function(){var e=new t;return e.allowEditContent=this.allowEditContent,e.showSelectButton=this.showSelectButton,e.showSelectButtonConstraint=this.showSelectButtonConstraint,e.showHandleButton=this.showHandleButton,e},t.prototype.equals=function(t){return this.allowEditContent===t.allowEditContent&&this.showSelectButton===t.showSelectButton&&this.showSelectButtonConstraint===t.showSelectButtonConstraint&&this.showHandleButton===t.showHandleButton},function(t,e,n,r){var i,o=arguments.length,s=o<3?e:null===r?r=Object.getOwnPropertyDescriptor(e,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(t,e,n,r);else for(var a=t.length-1;a>=0;a--)(i=t[a])&&(s=(o<3?i(s):o>3?i(e,n,s):i(e,n))||s);o>3&&s&&Object.defineProperty(e,n,s)}([jm({ignore:!0}),Jv("design:type",Boolean)],t.prototype,"showSelectButtonConstraint",void 0),t}(),e_=function(){var t=function(e,n){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(e,n)};return function(e,n){function r(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),n_=function(t,e,n,r){var i,o=arguments.length,s=o<3?e:null===r?r=Object.getOwnPropertyDescriptor(e,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(t,e,n,r);else for(var a=t.length-1;a>=0;a--)(i=t[a])&&(s=(o<3?i(s):o>3?i(e,n,s):i(e,n))||s);return o>3&&s&&Object.defineProperty(e,n,s),s},r_=function(t,e){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(t,e)},i_=function(t,e){var n="function"==typeof Symbol&&t[Symbol.iterator];if(!n)return t;var r,i,o=n.call(t),s=[];try{for(;(void 0===e||e-- >0)&&!(r=o.next()).done;)s.push(r.value)}catch(a){i={error:a}}finally{try{r&&!r.done&&(n=o.return)&&n.call(o)}finally{if(i)throw i.error}}return s},o_=function(){for(var t=[],e=0;e<arguments.length;e++)t=t.concat(i_(arguments[e]));return t};!function(t){t[t.None=0]="None",t[t.Center=1]="Center",t[t.Top=2]="Top",t[t.Bottom=3]="Bottom"}(qv||(qv={})),function(t){t[t.None=0]="None",t[t.Center=1]="Center",t[t.Right=2]="Right",t[t.Left=3]="Left"}(Gv||(Gv={})),function(t){t[t.Fit=0]="Fit",t[t.Fill=1]="Fill",t[t.Original=2]="Original"}(Yv||(Yv={}));var s_,a_=function(t){function e(n){var r=t.call(this,null!=n?Eg.rectangle(n.left,n.top,n.width,n.height):null)||this;return r._isStubContent=!1,r._isCoverMode=!1,r._contentResizeMode=Yv.Fill,r._contentEffect=ov.None,r._contentFillColor=null,r._contentOverlayEffect=null,r.stubStorageMeta=null,r.linkId=null,r.allowedSubfolder=null,r.contentVerticalAlignment=qv.None,r.contentHorizontalAlignment=Gv.None,r.type=e.type,r._content=null,r._topFrames=[],r._bottomFrames=[],r._onContentOverlayEffectPropertyChanged=function(t,e){r._propertyChanged.notify(r,"contentOverlayEffect")},r.fixedStubContentSize=!1,r.sourceRectangle=null!=n?n:new fg(0,0,10,10),r.fillColor=new hm("rgba(0, 0, 0, 0)"),r.borderWidth=0,r.placeholderPermissions=new t_,r._contentPermissions=new lv,r._contentPermissions.propertyChanged.add(r._onPermissionsChanged),r._ignorePermissionsChange=!0,r.manipulationPermissions.resizeGrips=new Lm(!0,!0,!1),r.shapePermissions.allowChangeFillColor=!1,r.itemPermissions.allowRemoveOnLayoutChange=!0,r.itemPermissions.itemToolbarPermissions.showEditButton=!0,r.itemPermissions.itemToolbarPermissions.showSelectButtonConstraint=null,r.itemPermissions.itemToolbarPermissions.showSelectButton=!0,r.contentPermissions.imagePermissions.allowKeepOverlayColor=!1,r._ignorePermissionsChange=!1,r}return e_(e,t),Object.defineProperty(e.prototype,"contentEffect",{get:function(){return this._contentEffect},set:function(t){this._contentEffect!==t&&(this._contentEffect=t,this._propertyChanged.notify(this,"contentEffect"))},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"contentFillColor",{get:function(){return this._contentFillColor},set:function(t){this._contentFillColor!==t&&(this._contentFillColor=t,this._propertyChanged.notify(this,"contentFillColor"))},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"isStubContent",{get:function(){return this._isStubContent},set:function(t){this._isStubContent!==t&&(this._setStubStorageMeta(),this._isStubContent=t,this._propertyChanged.notify(this,"isStubContent"))},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"contentResizeMode",{get:function(){return this.isCoverMode?Yv.Fill:this.isBarcodePlaceholder?Yv.Fit:this._contentResizeMode},set:function(t){this._contentResizeMode!==t&&(this._contentResizeMode=t,this._propertyChanged.notify(this,"contentResizeMode"))},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"contentOverlayEffect",{get:function(){return this._contentOverlayEffect},set:function(t){Sv.equals(this.contentOverlayEffect,t)||(this._unsubscribeContentOverlayEffectPropertyChanged(),this._contentOverlayEffect=t,this._subscribeContentOverlayEffectPropertyChanged(),this._propertyChanged.notify(this,"contentOverlayEffect"))},enumerable:!0,configurable:!0}),e.prototype._subscribeContentOverlayEffectPropertyChanged=function(){null!=this.contentOverlayEffect&&this.contentOverlayEffect.addPropertyChanged(this._onContentOverlayEffectPropertyChanged)},e.prototype._unsubscribeContentOverlayEffectPropertyChanged=function(){null!=this.contentOverlayEffect&&this.contentOverlayEffect.removePropertyChanged(this._onContentOverlayEffectPropertyChanged)},Object.defineProperty(e.prototype,"isCoverMode",{get:function(){return null==this.barcodeFormat&&this._isCoverMode},set:function(t){this._isCoverMode!==t&&(this._isCoverMode=t,this.isEmptyContent||this.content.applyPermissionsConstrain(),this._propertyChanged.notify(this,"isCoverMode"))},enumerable:!0,configurable:!0}),e.prototype.getImagePermissions=function(){return null!=this.contentPermissions?this.contentPermissions.imagePermissions:this.content instanceof Av?this.content.imagePermissions:null},e.prototype.applyPermissionsConstrain=function(){var t=this.getImagePermissions(),e=null==t||t.allowChangeImage;this.itemPermissions.itemToolbarPermissions.showEditButtonConstraint=!(this.isStubOrEmpty||null==t||!t.allowEditImage||null!=this.content&&this.content instanceof Av&&null!=this.content.source&&this.content.source.isVector)&&null,null!=this.placeholderPermissions&&(e?(this.placeholderPermissions.showSelectButtonConstraint=null,this.itemPermissions.itemToolbarPermissions.showSelectButtonConstraint=null):(this.itemPermissions.itemToolbarPermissions.showSelectButtonConstraint=!1,this.placeholderPermissions.showSelectButtonConstraint=!1)),null!=this.contentPermissions&&null!=this.contentPermissions.imagePermissions&&(this.contentPermissions.imagePermissions.allowEditImageConstraint=null==this.barcodeFormat&&null),this.isBarcodePlaceholder&&(null!=this.manipulationPermissions&&(this.manipulationPermissions.resizeGrips.edge=!1,this.manipulationPermissions.resizeGrips.setCornerArbitrary(!1)),null!=this.itemPermissions&&null!=this.itemPermissions.itemToolbarPermissions&&(this.itemPermissions.itemToolbarPermissions.showSelectButton=!1,this.itemPermissions.itemToolbarPermissions.showEditButtonConstraint=null),null!=this.placeholderPermissions&&(this.placeholderPermissions.allowEditContent=!1,this.placeholderPermissions.showHandleButton=!1),null!=this.contentPermissions&&null!=this.contentPermissions.barcodePermissions&&(this.contentPermissions.barcodePermissions.allowChangeBarcodeContent?this.placeholderPermissions.showSelectButtonConstraint=null:(this.placeholderPermissions.showSelectButtonConstraint=!1,this.itemPermissions.itemToolbarPermissions.showEditButtonConstraint=this.contentPermissions.barcodePermissions.allowChangeBarcodeContent)))},Object.defineProperty(e.prototype,"contentPermissions",{get:function(){return this._contentPermissions},set:function(t){if(null==t)throw new $f("ContentPermissions cannot be null");jg(this._contentPermissions,t)||(this._contentPermissions.propertyChanged.remove(this._onPermissionsChanged),this._contentPermissions=t,this._contentPermissions.propertyChanged.add(this._onPermissionsChanged),this._onPermissionsChanged())},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"placeholderPermissions",{get:function(){return this._placeholderPermissions},set:function(t){if(null==t)throw new $f("placeholderPermissions cannot be null");jg(this._placeholderPermissions,t)||(null!=this._placeholderPermissions&&this._placeholderPermissions.propertyChanged.remove(this._onPermissionsChanged),this._placeholderPermissions=t,this.applyPermissionsConstrain(),this._placeholderPermissions.propertyChanged.add(this._onPermissionsChanged),this._propertyChanged.notify(this,"placeholderPermissions"))},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"isFrame",{get:function(){return null!=this._topFrames&&this._topFrames.length>0||null!=this._bottomFrames&&this._bottomFrames.length>0},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"content",{get:function(){return this._content},set:function(t){this._content=t,this.isEmptyContent||(this._content.parentPlaceholder=this,this._content.parentContainer=null,this._content.applyPermissionsConstrain()),this._setStubStorageMeta(),this._propertyChanged.notify(this,"content")},enumerable:!0,configurable:!0}),e.prototype._setStubStorageMeta=function(){this.isStubContent&&this._content instanceof Av&&(this.stubStorageMeta=new Dv({isUserImage:this._content.isUserImage,isVector:this._content.source.isVector,name:"Stub content",size:{width:this._content.source.width,height:this._content.source.height},storageId:this._content.source.id,origin:this._content.source.origin}))},Object.defineProperty(e.prototype,"topFrames",{get:function(){return this._topFrames},set:function(t){var e=this;if(null==t)throw new $f;this._topFrames=t,this._topFrames.forEach((function(t){t.parentPlaceholder=e,t.parentContainer=null}))},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"bottomFrames",{get:function(){return this._bottomFrames},set:function(t){var e=this;if(null==t)throw new $f;this._bottomFrames=t,this._bottomFrames.forEach((function(t){t.parentPlaceholder=e,t.parentContainer=null}))},enumerable:!0,configurable:!0}),e.prototype.updateContentAndFrames=function(t){null!=this.content&&t(this.content),null!=this.topFrames&&this.topFrames.forEach((function(e){t(e)})),null!=this.bottomFrames&&this.bottomFrames.forEach((function(e){t(e)}))},Object.defineProperty(e.prototype,"imageContent",{get:function(){if(null!=this._content&&!(this._content instanceof Av))throw new Yf("Not image content!");return this._content},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"isEmptyContent",{get:function(){return null==this._content},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"isStubOrEmpty",{get:function(){return this.isStubContent||this.isEmptyContent},enumerable:!0,configurable:!0}),e.prototype._canSetIsVariable=function(){return!0},Object.defineProperty(e.prototype,"isBarcodePlaceholder",{get:function(){return null!=this.barcodeFormat},enumerable:!0,configurable:!0}),e.prototype.getSimplifiedObject=function(){var e=t.prototype.getSimplifiedObject.call(this,["_content","imageContent","placeholderPermissions","contentPermissions","isFrame","isEmptyContent","isStubOrEmpty","isBarcodePlaceholder"]);return e.content=null!=this.content?this.content.getSimplifiedObject():null,e.placeholderPermissions=this.placeholderPermissions.getSimplifiedObject(),e.contentPermissions=this.contentPermissions.getSimplifiedObject(),e},e.prototype._copy=function(e,n,r,i){if(t.prototype._copy.call(this,e,n,r,i),n.linkId=e.linkId,n.allowedSubfolder=e.allowedSubfolder,n.allowedTabs=null!=e.allowedTabs?e.allowedTabs.map((function(t){return t})):null,n.contentVerticalAlignment=e.contentVerticalAlignment,n.contentHorizontalAlignment=e.contentHorizontalAlignment,n.placeholderPermissions=e.placeholderPermissions.clone(),null!=e.content?(null==n.content?n.content=e.content.clone(r,i):n.content.update(e.content),n.content.parentPlaceholder=n):n.content=null,e.topFrames.length===n.topFrames.length)for(var o=0;o<e.topFrames.length;o++)n.topFrames[o].update(e.topFrames[o]),n.topFrames[o].parentPlaceholder=n;else n.topFrames=e.topFrames.map((function(t){var e=t.clone(r,i);return e.parentPlaceholder=n,e}));if(e.bottomFrames.length===n.bottomFrames.length)for(o=0;o<e.bottomFrames.length;o++)n.bottomFrames[o].update(e.bottomFrames[o]),n.bottomFrames[o].parentPlaceholder=n;else n.bottomFrames=e.bottomFrames.map((function(t){var e=t.clone(r,i);return e.parentPlaceholder=n,e}));n.stubStorageMeta=null!=e.stubStorageMeta?e.stubStorageMeta.clone():null,n.isStubContent=e.isStubContent,n.isCoverMode=e.isCoverMode,n.contentResizeMode=e.contentResizeMode,n.contentEffect=e.contentEffect,n.contentFillColor=null!=e._contentFillColor?e._contentFillColor.clone():null,n.contentOverlayEffect=null!=e.contentOverlayEffect?e.contentOverlayEffect.clone():null,n.barcodeFormat=e.barcodeFormat,n.contentPermissions=e.contentPermissions.clone(),n.isVariable=e.isVariable},e.prototype.equals=function(e){return t.prototype.equals.call(this,e)&&Fg(o_([this._content],this._topFrames,this._bottomFrames),o_([e._content],e._topFrames,e._bottomFrames))&&jg(this.linkId,e.linkId)&&jg(this.allowedSubfolder,e.allowedSubfolder)&&Fg(this.allowedTabs,e.allowedTabs)&&jg(this.contentVerticalAlignment,e.contentVerticalAlignment)&&jg(this.contentHorizontalAlignment,e.contentHorizontalAlignment)&&jg(this._placeholderPermissions,e._placeholderPermissions)&&jg(this.stubStorageMeta,e.stubStorageMeta)&&jg(this._isStubContent,e._isStubContent)&&jg(this._isCoverMode,e._isCoverMode)&&jg(this._contentResizeMode,e._contentResizeMode)&&jg(this._contentEffect,e._contentEffect)&&jg(this.barcodeFormat,e.barcodeFormat)&&jg(this._contentPermissions,e._contentPermissions)&&jg(this.isVariable,e.isVariable)},e.prototype.clone=function(t,n){void 0===t&&(t=!1),void 0===n&&(n=!1);var r=new e;return this._copy(this,r,t,n),r},e.type="PlaceholderItem",n_([jm({factory:new oy(Dv),displayName:"Stub storage meta"}),r_("design:type",Dv)],e.prototype,"stubStorageMeta",void 0),n_([jm({factory:new iy("subfolder"),displayName:"Allowed subfolder"}),r_("design:type",String)],e.prototype,"allowedSubfolder",void 0),n_([jm({factory:new iy("allowedTabs"),displayName:"Allowed tabs"}),r_("design:type",Array)],e.prototype,"allowedTabs",void 0),n_([jm({enumObject:qv}),r_("design:type",Object)],e.prototype,"contentVerticalAlignment",void 0),n_([jm({enumObject:Gv}),r_("design:type",Object)],e.prototype,"contentHorizontalAlignment",void 0),n_([jm({enumObject:ov}),r_("design:type",Number),r_("design:paramtypes",[Number])],e.prototype,"contentEffect",null),n_([jm({factory:new sy,displayName:"Content fill color"}),r_("design:type",um),r_("design:paramtypes",[um])],e.prototype,"contentFillColor",null),n_([jm({enumObject:Yv}),r_("design:type",Object),r_("design:paramtypes",[Object])],e.prototype,"contentResizeMode",null),n_([jm({enumObject:Ty,factory:new iy(Ty.QR_CODE),displayName:"Barcode format"}),r_("design:type",String)],e.prototype,"barcodeFormat",void 0),n_([jm({factory:new oy(Sv,{color:new gm({c:0,m:0,y:0,k:0}),opacity:1,blendMode:Xm.Normal}),displayName:"Content overlay effect"}),r_("design:type",Object),r_("design:paramtypes",[Object])],e.prototype,"contentOverlayEffect",null),e}(uy),l_=function(){var t=function(e,n){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(e,n)};return function(e,n){function r(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),u_=function(t){function e(n,r,i,o){var s=t.call(this,n,i,o)||this;return s._baselineLocation=new pg,s._isVertical=!1,s.type=e.type,null!=r&&(s.baselineLocation=r),s._ignorePermissionsChange=!0,s.manipulationPermissions.resizeGrips.setCornerArbitrary(!1),s.manipulationPermissions.resizeGrips.edge=!1,s._ignorePermissionsChange=!1,s}return l_(e,t),Object.defineProperty(e.prototype,"isVertical",{get:function(){return this._isVertical},set:function(t){this._isVertical!==t&&(this._isVertical=t,this._propertyChanged.notify(this,"isVertical"))},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"baselineLocation",{get:function(){return this._baselineLocation},set:function(t){pg.isEqual(this._baselineLocation,t)||(this._baselineLocation=t,this._propertyChanged.notify(this,"baselineLocation"))},enumerable:!0,configurable:!0}),e.prototype.applyPermissionsConstrain=function(){t.prototype.applyPermissionsConstrain.call(this),null!=this.manipulationPermissions&&null!=this.manipulationPermissions.resizeGrips&&(this.manipulationPermissions.resizeGrips.setCornerArbitraryConstraint(!1),this.manipulationPermissions.resizeGrips.edgeConstraint=!1)},e.prototype.getSimplifiedObject=function(e){void 0===e&&(e=[]);var n=t.prototype.getSimplifiedObject.call(this,["_placeholders","currentTextImage","sourcePath","sourceRectangle"].concat(e));return n.placeholders=this.placeholders.toArray(),n},e.prototype._copy=function(e,n,r,i){return t.prototype._copy.call(this,e,n,r,i),n.isVertical=e.isVertical,n.baselineLocation=e.baselineLocation,n},e.prototype.equals=function(e){return t.prototype.equals.call(this,e)&&jg(this._isVertical,e._isVertical)&&jg(this._baselineLocation,e._baselineLocation)},e.prototype.clone=function(t,n){void 0===t&&(t=!1),void 0===n&&(n=!1);var r=new e;return this._copy(this,r,t,n),r},e.type="PlainTextItem",e}(Ey),c_=function(){var t=function(e,n){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(e,n)};return function(e,n){function r(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),h_=function(t){function e(n){var r=t.call(this)||this;if(r._width=20,r._color=new hm("rgba(255,255,61,1)"),r._points=[],r.type=e.type,r._points=[],n&&n.length&&n.length>0)for(var i=0;i<n.length;i++)n[i]instanceof pg&&r._points.push(n[i]);return r.textWrappingMode=Fm.None,r}return c_(e,t),Object.defineProperty(e.prototype,"width",{get:function(){return this._width},set:function(t){xg(this._width,t)||(this._width=t,this._propertyChanged.notify(this,"width"))},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"color",{get:function(){return this._color},set:function(t){um.equals(this._color,t)||(this._color=t,this._propertyChanged.notify(this,"color"))},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"sourcePoints",{get:function(){return this._points},set:function(t){this._points=t,this._propertyChanged.notify(this,"sourcePoints")},enumerable:!0,configurable:!0}),e.prototype._copy=function(e,n,r,i){t.prototype._copy.call(this,e,n,r,i),n.width=e.width,n.color=e.color.clone(),n.sourcePoints=e.sourcePoints.map((function(t){return t.clone()}))},e.prototype.equals=function(e){return t.prototype.equals.call(this,e)&&jg(this._width,e._width)&&jg(this._color,e._color)&&Fg(this._points,e._points)},e.prototype.clone=function(t,n){void 0===t&&(t=!1),void 0===n&&(n=!1);var r=new e;return this._copy(this,r,t,n),r},e.type="PolylineItem",e}(ty),p_=function(){var t=function(e,n){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(e,n)};return function(e,n){function r(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),d_=function(t){function e(n,r,i,o){var s=t.call(this,n,i,o)||this;return s.type=e.type,s._center=r,s._ignorePermissionsChange=!0,s.manipulationPermissions.resizeGrips.setCornerArbitrary(!1),s.manipulationPermissions.resizeGrips.edge=!1,s.textPermissions.allowChangeTextAlignment=!1,s.textPermissions.allowChangeLeading=!1,s._ignorePermissionsChange=!1,s}return p_(e,t),e.prototype.applyPermissionsConstrain=function(){t.prototype.applyPermissionsConstrain.call(this),null!=this.manipulationPermissions&&null!=this.manipulationPermissions.resizeGrips&&(this.manipulationPermissions.resizeGrips.setCornerArbitraryConstraint(!1),this.manipulationPermissions.resizeGrips.edgeConstraint=!1),null!=this.textPermissions&&(this.textPermissions.allowChangeLeading=!1,this.textPermissions.allowChangeTextAlignment=!1)},Object.defineProperty(e.prototype,"center",{get:function(){return this._center},set:function(t){pg.isEqual(this._center,t)||(this._center=t,this._propertyChanged.notify(this,"center"))},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"bend",{get:function(){return this._bend},set:function(t){xg(this._bend,t)||(this._bend=t,this._propertyChanged.notify(this,"bend"))},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"warp",{get:function(){return this._warp},set:function(t){this._warp!==t&&(this._warp=t,this._propertyChanged.notify(this,"warp"))},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"maxLineCount",{get:function(){return 1},set:function(t){throw console.error("ArchedText set maxLineCount",t),new Kf("Max Line Count of ArchedTextItem can not be redefined!")},enumerable:!0,configurable:!0}),e.prototype.getSimplifiedObject=function(e){return t.prototype.getSimplifiedObject.call(this,["maxLineCount"].concat(e))},e.prototype._copy=function(e,n,r,i){t.prototype._copy.call(this,e,n,r,i),n.center=e.center,n.bend=e.bend,n.warp=e.warp},e.prototype.equals=function(e){return t.prototype.equals.call(this,e)&&jg(this._center,e._center)&&jg(this._bend,e._bend)&&jg(this._warp,e._warp)},e.prototype.clone=function(t,n){void 0===t&&(t=!1),void 0===n&&(n=!1);var r=new e;return this._copy(this,r,t,n),r},e.type="ArchedTextItem",e}(Ey),f_=function(){var t=function(e,n){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(e,n)};return function(e,n){function r(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),g_=function(t){function e(e,n){void 0===e&&(e=[]),void 0===n&&(n=[]);var r=t.call(this)||this;return r.parentSurface=null,r._underContainers=new nm,r._overContainers=new nm,r._onContainerAdded=function(t){t.item.parentComponent=r},r.underContainers.add_itemAdded(r._onContainerAdded),r.underContainers.setRange(e),r.overContainers.add_itemAdded(r._onContainerAdded),r.overContainers.setRange(n),r}return f_(e,t),e.prototype.isEmpty=function(){return this.underContainers.concat(this.overContainers).all((function(t){return t.items.empty}))},Object.defineProperty(e.prototype,"underContainers",{get:function(){return this._underContainers},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"overContainers",{get:function(){return this._overContainers},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"allContainers",{get:function(){return this._overContainers.concat(this._underContainers)},enumerable:!0,configurable:!0}),e.prototype.getSimplifiedObject=function(){return t.prototype.getSimplifiedObject.call(this,["parentSurface","allContainers"])},e.prototype._copy=function(e,n,r){t.prototype._copy.call(this,e,n,r),n.underContainers.addRange(e.underContainers.toArray().map((function(t){return t.clone(r)}))),n.overContainers.addRange(e.overContainers.toArray().map((function(t){return t.clone(r)})))},e.prototype.clone=function(t){void 0===t&&(t=!1);var n=new e;return this._copy(this,n,t),n},e.prototype.generateNewIds=function(){this._generateNewId(),this._underContainers.forEach((function(t){return t.generateNewIds()})),this._overContainers.forEach((function(t){return t.generateNewIds()}))},e}(Xg),m_=function(){var t=function(e,n){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(e,n)};return function(e,n){function r(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),y_=function(t){var e="function"==typeof Symbol&&Symbol.iterator,n=e&&t[e],r=0;if(n)return n.call(t);if(t&&"number"==typeof t.length)return{next:function(){return t&&r>=t.length&&(t=void 0),{value:t&&t[r++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")},v_=function(t){function e(e,n,r,i,o,s,a){void 0===i&&(i=[]);var l=t.call(this,o,s)||this;if(l._rotateAngle=0,l._mockup=new g_,l._printAreas=new nm,l._previewMockups=new nm,l._printAreasCollectionChangedEvent=new ag,l._printAreaAddedEvent=new ag,l._printAreaRemovedEvent=new ag,l._onContainersItemAdded=function(t){t.item.parentComponent=l},l._onContainersItemRemoved=function(t){t.item.parentComponent=null},l.watermark=null,l._containers=new nm,l._onPrintAreaAdded=function(t){var e=t.item;e.parentSurface=l,l._printAreaAddedEvent.notify(l,e)},l._onPrintAreaRemoved=function(t){var e=t.item;e.parentSurface=null,l._printAreaRemovedEvent.notify(l,e)},l.width=null!=e?e:100,l.height=null!=n?n:100,l.parentProduct=null,l.mockup=null!=r?r:new g_,l.printAreas.add_itemAdded(l._onPrintAreaAdded),l.printAreas.add_itemRemoved(l._onPrintAreaRemoved),l.printAreas.setRange(i),l._containers.add_itemAdded(l._onContainersItemAdded),l._containers.add_itemRemoved(l._onContainersItemRemoved),a){var u=new sm;u.name=M_.BG_CONTAINER_NAME,l.containers.push(u);var c=new sm;c.name=M_.MAIN_CONTAINER_NAME,l.containers.push(c);var h=new sm;h.name=M_.FG_CONTAINER_NAME,l.containers.push(h)}return l}return m_(e,t),Object.defineProperty(e.prototype,"rotateAngle",{get:function(){return this._rotateAngle},set:function(t){var e=mg(t);e!==this._rotateAngle&&(this._rotateAngle=e,this._propertyChanged.notify(this,"rotateAngle"))},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"width",{get:function(){return this._width},set:function(t){t!==this._width&&(this._width=t,this._propertyChanged.notify(this,"width"))},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"height",{get:function(){return this._height},set:function(t){t!==this._height&&(this._height=t,this._propertyChanged.notify(this,"height"))},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"mockup",{get:function(){return this._mockup},set:function(t){if(null==t)throw new $f("mockup can`t be null");t!==this._mockup&&(this._mockup=t,null!=this._mockup&&(this._mockup.parentSurface=this),this._propertyChanged.notify(this,"mockup"))},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"previewMockups",{get:function(){return this._previewMockups},set:function(t){var e,n;if(null!=this._previewMockups)try{for(var r=y_(this._previewMockups),i=r.next();!i.done;i=r.next())i.value.parentSurface=null}catch(s){e={error:s}}finally{try{i&&!i.done&&(n=r.return)&&n.call(r)}finally{if(e)throw e.error}}if(this._previewMockups=t,null!=this._previewMockups)for(var o=0;o<this._previewMockups.length;++o)this._previewMockups.get(o).parentSurface=this},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"containers",{get:function(){return this._containers},set:function(t){if(null!=t&&t!==this._containers){null!=this._containers&&(this._containers.clear(),this._containers.remove_itemAdded(this._onContainersItemAdded),this._containers.remove_itemRemoved(this._onContainersItemRemoved)),this._containers=t;for(var e=0;e<this._containers.length;e++)this._onContainersItemAdded({index:e,item:this._containers.get(e)});this._containers.add_itemAdded(this._onContainersItemAdded),this._containers.add_itemRemoved(this._onContainersItemRemoved)}},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"printAreas",{get:function(){return this._printAreas},set:function(t){var e,n;if(null!=t&&t!==this._printAreas){null!=this._printAreas&&(this._printAreas.clear(),this._printAreas.remove_itemAdded(this._onPrintAreaAdded),this._printAreas.remove_itemRemoved(this._onPrintAreaRemoved)),this._printAreas=t;try{for(var r=y_(this._printAreas),i=r.next();!i.done;i=r.next())this._onPrintAreaAdded({item:i.value})}catch(o){e={error:o}}finally{try{i&&!i.done&&(n=r.return)&&n.call(r)}finally{if(e)throw e.error}}this._printAreas.add_itemAdded(this._onPrintAreaAdded),this._printAreas.add_itemRemoved(this._onPrintAreaRemoved)}},enumerable:!0,configurable:!0}),e.prototype.add_printAreaAdded=function(t){this._printAreaAddedEvent.add(t)},e.prototype.remove_printAreaAdded=function(t){this._printAreaAddedEvent.remove(t)},e.prototype.add_printAreaRemoved=function(t){this._printAreaRemovedEvent.add(t)},e.prototype.remove_printAreaRemoved=function(t){this._printAreaRemovedEvent.remove(t)},e.prototype.getSimplifiedObject=function(){return t.prototype.getSimplifiedObject.call(this,["parentProduct","nonChannelContainerItems"])},e.prototype.getAllItems=function(t){void 0===t&&(t={ignoreMockups:!1});var e=t.ignoreMockups?this.containers:Qg.empty().concat(this.mockup.underContainers.cast(),this.containers,this.mockup.overContainers.cast());null!=t.containerFilterFunc&&(e=e.where(t.containerFilterFunc));var n=e.selectMany((function(t){return t.items.cast()}));return!0===t.flatGroupItems&&(n=n.aggregate(new nm,(function(t,e){return t.add(e),e instanceof Ky&&t.addRange(e.getNestedItems()),t}))),!0===t.excludeGroupItems&&(n=n.where((function(t){return!(t instanceof Ky)}))),n},e.getItems=function(t,e){return t instanceof Array&&(t=Qg.from(t)),t.selectMany((function(t){return t.getAllItems(e)})).toArray()},e.prototype.getBackgroundItem=function(){var t=this.containers.firstOrDefault((function(t){return t.name===M_.BG_CONTAINER_NAME}));return null!=t?t.items.get(0):null},e.prototype._copy=function(e,n,r){t.prototype._copy.call(this,e,n,r),n.width=e.width,n.height=e.height,n.rotateAngle=e.rotateAngle,n.mockup=e.mockup.clone(r),n.previewMockups.addRange(e.previewMockups.toArray().map((function(t){return t.clone(r)}))),n.printAreas.addRange(e.printAreas.toArray().map((function(t){return t.clone(r)}))),n.containers.addRange(e.containers.toArray().map((function(t){return t.clone(r)}))),n.watermark=null!=e.watermark?e.watermark.clone():null},e.prototype.clone=function(t){void 0===t&&(t=!1);var n=new e;return this._copy(this,n,t),n},e.prototype.generateNewIds=function(){this._generateNewId(),this._mockup.generateNewIds(),this._previewMockups.forEach((function(t){return t.generateNewIds()})),this._printAreas.forEach((function(t){return t.generateNewIds()})),this._containers.forEach((function(t){return t.generateNewIds()}))},e.getAllItems=function(t,e){return void 0===e&&(e={ignoreMockups:!1}),t instanceof Array&&(t=Qg.from(t)),t.selectMany((function(t){return t.getAllItems(e)}))},Object.defineProperty(e.prototype,"nonChannelContainerItems",{get:function(){return lg.flatten(this._containers.toArray().filter((function(t){return t.renderingType===Vf.Normal})).map((function(t){return t.items.toArray()})))},enumerable:!0,configurable:!0}),e}(Xg);!function(t){t[t.Point=0]="Point",t[t.Percent=1]="Percent",t[t.Pixel=2]="Pixel"}(s_||(s_={}));var __,b_=function(){function t(t,e){this._rectangle=t,this._dpi=e}return t.prototype.convert=function(t){if(-1===t.indexOf("/"))return this._normalize(this._combineRadiuses(this._getRadiuses(t,!0),this._getRadiuses(t,!1)));var e=t.split("/");return this._normalize(this._combineRadiuses(this._getRadiuses(e[0].trim(),!0),this._getRadiuses(e[1].trim(),!1)))},t.prototype._normalize=function(t){if(null==t)return t;var e=t,n=(e[0].width+e[1].width)/this._rectangle.width,r=(e[2].width+e[3].width)/this._rectangle.width,i=(e[0].height+e[3].height)/this._rectangle.height,o=(e[1].height+e[2].height)/this._rectangle.height;return n>1&&(e[0].width=e[0].width/n,e[1].width=e[1].width/n),r>1&&(e[2].width=e[2].width/r,e[3].width=e[3].width/r),o>1&&(e[1].height=e[1].height/o,e[2].height=e[2].height/o),i>1&&(e[3].height=e[3].height/i,e[0].height=e[0].height/i),t},t.prototype._combineRadiuses=function(t,e){return null==t||4!==t.length?null:null==e||4!==e.length?null:[new kg(t[0],e[0]),new kg(t[1],e[1]),new kg(t[2],e[2]),new kg(t[3],e[3])]},t.prototype._getRadiuses=function(t,e){if(null==t)return null;var n=t.split(" ").filter((function(t){return null!=t&&t.length>0}));if(n.length<1)return null;if(n.length>4)return null;for(var r=[],i=0;i<n.length;i++){var o=this._tryParseNumberPart(n[i]);if(null==o)return null;r.push(this._toPoints(o,e))}switch(r.length){case 1:return[r[0],r[0],r[0],r[0]];case 2:return[r[0],r[1],r[0],r[1]];case 3:return[r[0],r[1],r[2],r[1]];default:return r}},t.prototype._tryParseNumberPart=function(t){if(t.endsWith("%")){var e=parseFloat(t);return NaN!==e?{value:e,measureType:s_.Percent}:null}if(t.toLowerCase().endsWith("px")){var n=parseFloat(t);return NaN!==n?{value:n,measureType:s_.Pixel}:null}var r=parseFloat(t);return isNaN(r)?null:{value:r,measureType:s_.Point}},t.prototype._toPoints=function(t,e){switch(t.measureType){case s_.Percent:return(e?this._rectangle.width:this._rectangle.height)*t.value/100;case s_.Pixel:return Cv(t.value,this._dpi);default:return t.value}},t}();!function(t){t.Crop="Crop",t.Trim="Trim",t.Bleed="Bleed"}(__||(__={}));var w_=function(){function t(t){this._propertyChanged=new ag,this._name="bleed",this._widthPx=1,this._color=new hm({r:255,g:255,b:255,a:255}),this._altColor=new hm({r:0,g:0,b:0,a:255}),this._stepPx=10,this._margin=new Tm(10),this._borderRadius=null,this._pdfBox=null,null!=t&&Object.assign(this,t)}return Object.defineProperty(t.prototype,"name",{get:function(){return this._name},set:function(t){this._name!==t&&(this._name=t,this._propertyChanged.notify(this,"name"))},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"widthPx",{get:function(){return this._widthPx},set:function(t){xg(this._widthPx,t)||(this._widthPx=t,this._propertyChanged.notify(this,"widthPx"))},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"color",{get:function(){return this._color},set:function(t){um.equals(this._color,t)||(this._color=t,this._propertyChanged.notify(this,"color"))},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"altColor",{get:function(){return this._altColor},set:function(t){um.equals(this._altColor,t)||(this._altColor=t,this._propertyChanged.notify(this,"altColor"))},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"margin",{get:function(){return this._margin},set:function(t){"number"==typeof t&&(t=new Tm(t)),this._margin=t,this._propertyChanged.notify(this,"margin")},enumerable:!0,configurable:!0}),t.prototype.getMargin=function(){return this._margin},Object.defineProperty(t.prototype,"stepPx",{get:function(){return this._stepPx},set:function(t){xg(this._stepPx,t)||(this._stepPx=t,this._propertyChanged.notify(this,"stepPx"))},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"borderRadius",{get:function(){return this._borderRadius},set:function(t){this._borderRadius!==t&&(this._borderRadius=t,this._propertyChanged.notify(this,"borderRadius"))},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"pdfBox",{get:function(){return this._pdfBox},set:function(t){this._pdfBox!==t&&(this._pdfBox=t,this._propertyChanged.notify(this,"pdfBox"))},enumerable:!0,configurable:!0}),t.prototype.getRectangle=function(t){var e=this.getMargin();return fg.FromLTRB(t.left+e.left,t.top+e.top,t.right-e.right,t.bottom-e.bottom)},t.prototype.getCornerRadiuses=function(t){return null==this.borderRadius?null:new b_(this.getRectangle(t),72).convert(this.borderRadius)},t.prototype.addPropertyChanged=function(t){this._propertyChanged.add(t)},t.prototype.removePropertyChanged=function(t){this._propertyChanged.remove(t)},t.prototype.clone=function(){var e,n=new t;return n.name=this.name,n.widthPx=this.widthPx,n.color=this.color.clone(),n.altColor=this.altColor.clone(),n.stepPx=this.stepPx,n.borderRadius=this.borderRadius,n.pdfBox=this.pdfBox,n.margin=null===(e=this._margin)||void 0===e?void 0:e.clone(),n},t.voPrefix="$SAFETY_LINE",t}(),C_=function(){function t(){this._vectorMask=null,this._maskChangedEvent=new og}return Object.defineProperty(t.prototype,"vectorMask",{get:function(){return this._vectorMask},set:function(t){this._vectorMask=t,this._maskChangedEvent.notify(this)},enumerable:!0,configurable:!0}),t.prototype.addMaskChanged=function(t){this._maskChangedEvent.add(t)},t.prototype.removeMaskChanged=function(t){this._maskChangedEvent.remove(t)},t.prototype.clone=function(){var e=new t;return e.vectorMask=null!=this.vectorMask?this.vectorMask.clone():null,e},t.prototype.equals=function(t){return jg(this.vectorMask,t.vectorMask)},t.prototype.getSimplifiedObject=function(){var t={};return t.vectorMask=null!=this.vectorMask?this.vectorMask.toString():null,t},t}(),x_=function(){function t(){}return t.prototype.clone=function(){var e=new t;return e.name=this.name,e.storageId=this.storageId,e.staticStorageId=this.staticStorageId,e.repeat=this.repeat,e.opacity=this.opacity,e},t}(),S_=function(){function t(){}return t.prototype.clone=function(){var e=new t;return e.text=this.text,e.fontSettings=null!=this.fontSettings?this.fontSettings.clone():null,e.scale=this.scale,e.opacity=this.opacity,e},t}(),P_=function(){function t(){}return t.prototype.clone=function(){var e=new t;return e.canvas=this.canvas,e.proof=this.proof,e},t}(),I_=function(){function t(){}return t.prototype.clone=function(){var e=new t;return e.text=null!=this.text?this.text.clone():null,e.image=null!=this.image?this.image.clone():null,e.visibility=null!=this.visibility?this.visibility.clone():null,e},t}(),E_=function(t,e){var n="function"==typeof Symbol&&t[Symbol.iterator];if(!n)return t;var r,i,o=n.call(t),s=[];try{for(;(void 0===e||e-- >0)&&!(r=o.next()).done;)s.push(r.value)}catch(a){i={error:a}}finally{try{r&&!r.done&&(n=o.return)&&n.call(o)}finally{if(i)throw i.error}}return s},T_=function(){for(var t=[],e=0;e<arguments.length;e++)t=t.concat(E_(arguments[e]));return t},A_=function(){function t(t){var e=this;this.parseSurface=function(t){var n=new v_;return e._parseModelComponent(t,n,[new k_("mockup",e.parseMockup.bind(e)),new k_("printAreas",(function(t){return e.parseCollection(t,e.parsePrintArea,n.printAreas)}),!0),new k_("containers",(function(t){return e.parseCollection(t,e.parseSurfaceContainer,n.containers)}),!0),new k_("previewMockups",(function(t){return e.parseCollection(t,e.parseMockup.bind(e),n.previewMockups)}),!0),new k_("watermark",e.parseWatermark.bind(e))]),n},this.parseMockupContainer=function(t){var n=new om;return e.parseContainer(t,n),n},this.parseSurfaceContainer=function(t){var n,r=t.type;switch(delete t.type,r){case"SpotColorContainer":n=new am,e.parseContainer(t,n),delete t.version,delete t.items,Object.assign(n,t);break;case"TextureContainer":n=new lm,e.parseContainer(t,n),n.previewTextureSource=e.parseImageSource(t.previewTextureSource),delete t.previewTextureSource,delete t.version,delete t.items,Object.assign(n,t);break;default:n=new sm,e.parseContainer(t,n)}return n},this.parseContainer=function(t,n){return void 0===n&&(n=new im),e._parseModelComponent(t,n,[new k_("region",e.parseRectangleF.bind(e)),new k_("size",e.parseSizeF.bind(e)),new k_("items",(function(t){return e.parseCollection(t,e.parseItem,n.items)}),!0)]),n},this.parseSafetyLine=function(t){var n=new w_,r=[new k_("color",e.parseColor.bind(e)),new k_("altColor",e.parseColor.bind(e)),new k_("margin",e._parseMargin)];return e._parseObject(t,n,r),n},this.parseCropMark=function(t){var n=new Sm,r=[new k_("color",e.parseColor.bind(e)),new k_("leftNotes",e._setConvertedArray.bind(e,e.parseCropMarkText,(function(t){n.leftNotes=t})),!0),new k_("rightNotes",e._setConvertedArray.bind(e,e.parseCropMarkText,(function(t){n.rightNotes=t})),!0),new k_("topNotes",e._setConvertedArray.bind(e,e.parseCropMarkText,(function(t){n.topNotes=t})),!0),new k_("bottomNotes",e._setConvertedArray.bind(e,e.parseCropMarkText,(function(t){n.bottomNotes=t})),!0)];return e._parseObject(t,n,r),n},this.parseCropMarkText=function(t){var n=new Im;return e._parseObject(t,n,[]),n},this.parsePrintArea=function(t){var n=new km;return e._parseModelComponent(t,n,[new k_("bounds",e.parseRectangleF.bind(e)),new k_("safetyLines",(function(t){return e.parseCollection(t,e.parseSafetyLine,n.safetyLines)}),!0),new k_("cropMarks",(function(t){return new nm(t.map(e.parseCropMark))})),new k_("slug",e._parseMargin),new k_("bleed",e._parseMargin)]),n},this._parseMargin=function(t){return new Tm(null==t?0:{left:t.left,top:t.top,right:t.right,bottom:t.bottom})},this.parseItem=function(t){if(null==t)return null;var n=t.$type;delete t.$type;var r=[new k_("pathBoundedTextPermissions",e.parsePathBoundedTextPermissions.bind(e)),new k_("manipulationPermissions",e.parseManipulationPermissioins.bind(e)),new k_("frontendPermissions",e.parseFrontendPermissions.bind(e)),new k_("visualizationPermissions",e.parseVisualizationPermissions.bind(e)),new k_("itemPermissions",e.parseItemPermissions.bind(e)),new k_("transform",e.parseTransform.bind(e)),new k_("color",e.parseColor.bind(e)),new k_("themeBinding",e.parseThemeBinding.bind(e)),new k_("mask",e.parseMask.bind(e))],i=null,o=r.concat([new k_("textPermissions",e.parseTextPermissions.bind(e)),new k_("font",e.parseFontSettings.bind(e),!0),new k_("stroke",e.parseStrokeSettings.bind(e)),new k_("shadow",e.parseShadowSettings.bind(e))]);if(null==n)throw new Yf("Serialized data seems to be corrupted.");switch(n){case Dm.type:i=e.parseSmartItem(t);break;case hy.type:i=e.parseRectangleItem(t,r);break;case uy.type:i=e.parseShapeItem(t,r);break;case dv.type:i=e.parseLineItem(t,r);break;case gv.type:i=e.parseDashedLineItem(t,r);break;case yv.type:i=e.parseEllipseItem(t,r);break;case Av.type:i=e.parseImageItem(t,r);break;case Hy.type:i=e.parseBarcodeItem(t,r);break;case u_.type:i=e.parsePlainTextItem(t,o);break;case Gy.type:i=e.parseBoundedTextItem(t,o);break;case Kv.type:i=e.parsePathBoundedTextItem(t,o);break;case cv.type:i=e.parseCurvedTextItem(t,o);break;case Oy.type:i=e.parseAutoScaledTextItem(t,o);break;case d_.type:i=e.parseArchedTextItem(t,o);break;case a_.type:i=e.parsePlaceholderItem(t,r);break;case Ky.type:i=e.parseGroupItem(t,r);break;case rv.type:i=e.parseClipartItem(t,r);break;case Uv.type:i=e.parseLayoutItem(t,r);break;default:throw new Xf("Deserializing of item with type - "+n+" is not implemented")}return i},this.parseEncodingOptions=function(t){var n=new Ny;return e._parseModelComponent(t,n,[]),n},this.parseLineItem=function(t,n){var r=new dv,i=T_(n,e._getLineConverters());return e._parseModelComponent(t,r,i),r},this.parseRotatedRectangle=function(t){return new Ag(t.centerX,t.centerY,t.width,t.height,t.angle)},this.parsePlaceholderPermissions=function(t){return Object.assign(new t_,t)},this.parseLayoutSettings=function(t){var e;switch(t.type){case $v.type:e=new $v;break;default:e=new Xv}return Object.assign(e,t)},this.parseGroupItemPermissions=function(t){return Object.assign(new Xy,t)},this.parseLinePermissions=function(t){return Object.assign(new hv,t)},this.parseBarcodePermissions=function(t){return Object.assign(new My,t)},this._parseOverlayEffect=function(t){if(null!=t)return new Sv({color:null!=t.color?e.parseColor(t.color):null,opacity:null!=t.opacity?t.opacity:null,blendMode:null!=t.blendMode?t.blendMode:null})},this._parseImageItemValue=function(t){return new Av.ImageItemValue(t.name,new Av.ImageMetaData(t.value),e.parseRotatedRectangle(t.transformedRectangle))},this._parseTextItemValue=function(t){return new Ey.BaseTextValue(t.name,t.text)},this._parseObject=function(t,n,r){for(var i in t)if(t.hasOwnProperty(i)){var o=r.find((function(t){return t.property===i})),s=t[i];if(null==o){if(lg.isObject(s)){var a=s.$type;if(delete s.$type,lg.isString(a)){var l=lg.find(e._additionalConverters,(function(t){return t.type===a}));if(null!=l){n[i]=l.parseRawValue(s);continue}console.warn("Unknown type "+a)}}n[i]=s;continue}if(o.setByConverter)try{o.convert(s,n)}catch(u){throw console.error("Error while parsing property "+i+" with converter ",o,u),u}else{if("manipulationPermissions"===i&&n instanceof Ky){n.groupManipulationPermissions=o.convert(s);continue}n[i]=o.convert(s)}}},this._additionalConverters=null!=t?t:[]}return t.prototype.parseProduct=function(t){var e=this,n=new D_,r=[new k_("surfaces",(function(t){return e.parseCollection(t,e.parseSurface,n.surfaces)}),!0),new k_("watermarkConfig",this.parseWatermarkConfig.bind(this)),new k_("defaultSafetyLines",(function(t){return e.parseCollection(t,e.parseSafetyLine,n.defaultSafetyLines)}),!0),new k_("defaultCropMarks",(function(t){return e.parseCollection(t,e.parseCropMark,n.defaultCropMarks)}),!0),new k_("defaultDesignLocation",this.parsePointF.bind(this))];return this._parseModelComponent(t,n,r),n},t.prototype.parseWatermarkConfig=function(t){var e=this;if(null==t)return null;var n=new I_,r=new k_("fontSettings",(function(t){if(null==t)return null;var n=new Ey.FontSettings(null);return e._parseObject(t,n,[]),n})),i=new k_("text",(function(t){if(null==t)return null;var n=new S_;return e._parseObject(t,n,[r]),n})),o=new k_("image",(function(t){if(null==t)return null;var n=new x_;return e._parseObject(t,n,[]),n})),s=new k_("visibility",(function(t){if(null==t)return null;var n=new P_;return e._parseObject(t,n,[]),n}));return this._parseObject(t,n,[i,o,s]),n},t.prototype.parseWatermark=function(t){if(null==t)return null;var e=new B_;return this._parseObject(t,e,[]),e},t.prototype.parseMockup=function(t){var e=this,n=new g_;return this._parseModelComponent(t,n,[new k_("underContainers",(function(t){return e.parseCollection(t,e.parseMockupContainer,n.underContainers)}),!0),new k_("overContainers",(function(t){return e.parseCollection(t,e.parseMockupContainer,n.overContainers)}),!0)]),n},t.prototype.parseCollection=function(t,e,n){null!=t&&n.setRange(t.map((function(t){return e(t)})))},t.prototype.parseRectangleF=function(t){return null==t?null:new fg(t.left,t.top,t.width,t.height)},t.prototype.parsePointF=function(t){if(null==t)return null;var e=new pg;return Object.assign(e,t),e},t.prototype.parseSizeF=function(t){if(null==t)return null;if(lg.isString(t)){var e=t.split(",");return new kg(parseFloat(e[0].trim()),parseFloat(e[1].trim()))}return lg.extend(new kg,t)},t.prototype.parsePath=function(t){return null==t?null:new Eg("string"==typeof t?t:t.path)},t.prototype.parsePaths=function(t){var e=this;if(null==t||!lg.isArray(t))return null;var n=[];return lg.toArray(t).forEach((function(t){n.push(e.parsePath(t))})),n},t.prototype.parseSmartItem=function(t){var e=new Dm;return this._parseModelComponent(t,e,[]),e},t.prototype.parsePlainTextItem=function(t,e){var n=new u_,r=e.concat(this._getShapeConverters(),this._getBaseTextItemConverters(n),[new k_("baselineLocation",this.parsePointF.bind(this))]);return this._parseModelComponent(t,n,r),n},t.prototype.parseArchedTextItem=function(t,e){var n=new d_,r=e.concat(this._getShapeConverters(),this._getBaseTextItemConverters(n),[new k_("center",this.parsePointF.bind(this))]);return this._parseModelComponent(t,n,r),n},t.prototype.parseAutoScaledTextItem=function(t,e){var n=new Oy,r=e.concat(this._getShapeConverters(),this._getBaseTextItemConverters(n),[new k_("textRectangle",this.parseRectangleF.bind(this))]);return this._parseModelComponent(t,n,r),n},t.prototype.parseBoundedTextItem=function(t,e){var n=new Gy,r=e.concat(this._getShapeConverters(),this._getBaseTextItemConverters(n),[new k_("paragraphSettings",this.parseParagraphSettings.bind(this)),new k_("textRectangle",this.parseRectangleF.bind(this)),new k_("wrappingPath",this.parsePath.bind(this))]);return this._parseModelComponent(t,n,r),n},t.prototype.parsePathBoundedTextItem=function(t,e){var n=new Kv,r=e.concat(this._getShapeConverters(),this._getBaseTextItemConverters(n),[new k_("pathBoundedTextPermissions",this.parsePathBoundedTextPermissions.bind(this)),new k_("boundingPaths",this.parsePaths.bind(this)),new k_("paragraphSettings",this.parseParagraphSettings.bind(this)),new k_("wrappingPath",this.parsePath.bind(this))]);return this._parseModelComponent(t,n,r),n},t.prototype.parseCurvedTextItem=function(t,e){var n=new cv,r=e.concat(this._getShapeConverters(),this._getBaseTextItemConverters(n),[new k_("textPath",this.parsePath.bind(this))]);return this._parseModelComponent(t,n,r),n},t.prototype._getBaseTextItemConverters=function(t){var e=this;return[new k_("values",this._setConvertedArray.bind(this,this._parseTextItemValue,(function(e){t.values=e})),!0),new k_("placeholders",(function(n){return e.parseCollection(n,e.parseInStringPlaceholder,t.placeholders)}),!0),new k_("colorPalette",(function(n){return e.parseCollection(n,e.parseColor,t.colorPalette)}),!0)]},t.prototype.parseImageItem=function(t,e){var n=new Av,r=e.concat(this._getShapeConverters(),this._getImageConverters(n));return this._parseModelComponent(t,n,r),n},t.prototype.parseBarcodeItem=function(t,e){var n=new Hy,r=e.concat(this._getShapeConverters(),this._getImageConverters(n),[new k_("barcodePermissions",this.parseBarcodePermissions.bind(this)),new k_("color",this.parseColor.bind(this)),new k_("barcodeOptions",this.parseEncodingOptions)]);return this._parseModelComponent(t,n,r),n},t.prototype.parsePlaceholderItem=function(t,e){var n=this,r=new a_,i=T_(e,this._getShapeConverters(),[new k_("placeholderPermissions",this.parsePlaceholderPermissions),new k_("contentPermissions",this.parseContentPermissioins.bind(this)),new k_("content",this.parseItem),new k_("topFrames",o),new k_("bottomFrames",o),new k_("stubStorageMeta",(function(t){return new Dv(t)})),new k_("contentFillColor",this.parseColor.bind(this)),new k_("contentOverlayEffect",this._parseOverlayEffect.bind(this))]);return this._parseModelComponent(t,r,i),r;function o(t){return t.map(n.parseItem)}},t.prototype.parseGroupItem=function(t,e){var n=new Ky,r=T_(e,this._getShapeConverters(),this._getGroupConverters(n));return this._parseModelComponent(t,n,r),n},t.prototype.parseClipartItem=function(t,e){var n=new rv,r=T_(e,this._getShapeConverters(),this._getGroupConverters(n),[new k_("colorGroups",this._setConvertedArray.bind(this,this.parseColorGroup.bind(this),(function(t){return n.colorGroups=t})),!0)]);return this._parseModelComponent(t,n,r),n},t.prototype.parseLayoutItem=function(t,e){var n=new Uv,r=T_(e,this._getShapeConverters(),this._getGroupConverters(n),[new k_("layoutSettings",this.parseLayoutSettings),new k_("sourceRectangle",this.parseRotatedRectangle)]);return this._parseModelComponent(t,n,r),n},t.prototype.parseContentPermissioins=function(t,e){var n=new lv;return n.barcodePermissions=this.parseBarcodePermissions(t.barcodePermissions),n.imagePermissions=this.parseImagePermissions(t.imagePermissions),n},t.prototype.parseEllipseItem=function(t,e){var n=new yv,r=e.concat(this._getShapeConverters());return this._parseModelComponent(t,n,r),n},t.prototype.parseRectangleItem=function(t,e){var n=new hy,r=e.concat(this._getShapeConverters());return this._parseModelComponent(t,n,r),n},t.prototype.parseShapeItem=function(t,e){var n=new uy,r=e.concat(this._getShapeConverters());return this._parseModelComponent(t,n,r),n},t.prototype.parseDashedLineItem=function(t,e){var n=new gv,r=T_(e,this._getLineConverters(),this._getDashedLineConverters());return this._parseModelComponent(t,n,r),n},t.prototype.parseThemeBinding=function(t){return null!=t?$m.fromRaw(t):null},t.prototype.parseMask=function(t){if(null==t)return null;var e=new C_;return null!=t.vectorMask&&(e.vectorMask=this.parsePath(t.vectorMask)),e},t.prototype.parseColor=function(t){return null!=t?bm.createColor(t):null},t.prototype.parseTransform=function(t){return new Tg(t.scaleX,t.scaleY,t.translateX,t.translateY,t.angle)},t.prototype.parseFontSettings=function(t,e){var n=new Ey.FontSettings(null);return Object.assign(n,t),e.font=n,e.font},t.prototype.parseManipulationPermissioins=function(t){var e=Object.assign(new Nm,t);return e.resizeGrips=Object.assign(new Lm(!1,!1),t.resizeGrips),e},t.prototype.parseFrontendPermissions=function(t){return Object.assign(new Ym,t)},t.prototype.parseVisualizationPermissions=function(t){return Object.assign(new Wm,t)},t.prototype.parseColorGroup=function(t){return new iv(this.parseColor(t.color),t.targets)},t.prototype.parseItemPermissions=function(t){var e=Object.assign(new Gm,t);return e.itemToolbarPermissions=Object.assign(new qm(!1),t.itemToolbarPermissions),e},t.prototype.parseTextPermissions=function(t){return Object.assign(new xy,t)},t.prototype.parsePathBoundedTextPermissions=function(t){return Object.assign(new Qv,t)},t.prototype.parseShapePermissions=function(t){return Object.assign(new ey,t)},t.prototype.parseImagePermissions=function(t){return Object.assign(new av,t)},t.prototype.parseImageSource=function(t){var e=null;return null!=t.origin&&(e=new Av.ImageSource.Origin(t.origin)),void 0!==t.origin&&delete t.origin,Object.assign(new Av.ImageSource(t.id,t.url,0,!1,!0,e),t)},t.prototype.parseParagraphSettings=function(t){return new Wy(t)},t.prototype.parseStrokeSettings=function(t){return wy._from_data(t)},t.prototype.parseShadowSettings=function(t){return Cy._from_data(t)},t.prototype.parseInStringPlaceholder=function(t){return new Fv(t.id,t.name,t.mask,t.value,t.values)},t.prototype._setConvertedArray=function(t,e,n){lg.isArray(n)&&e(lg.map(n,(function(e){return t(e)})))},t.prototype._getImageConverters=function(t){return[new k_("source",this.parseImageSource.bind(this)),new k_("imagePermissions",this.parseImagePermissions.bind(this)),new k_("values",this._setConvertedArray.bind(this,this._parseImageItemValue,(function(e){t.values=e})),!0),new k_("overlayEffect",this._parseOverlayEffect.bind(this))]},t.prototype._getShapeConverters=function(){return[new k_("fillColor",this.parseColor.bind(this)),new k_("borderColor",this.parseColor.bind(this)),new k_("altBorderColor",this.parseColor.bind(this)),new k_("sourceRectangle",this.parseRectangleF.bind(this)),new k_("sourcePath",this.parsePath.bind(this)),new k_("shapePermissions",this.parseShapePermissions.bind(this))]},t.prototype._getGroupConverters=function(t){return[new k_("items",this._setConvertedArray.bind(this,this.parseItem,(function(e){return t.items.addRange(e)})),!0),new k_("groupItemPermissions",this.parseGroupItemPermissions)]},t.prototype._getLineConverters=function(){return[new k_("color",this.parseColor.bind(this)),new k_("sourcePoint0",this.parsePointF.bind(this)),new k_("sourcePoint1",this.parsePointF.bind(this)),new k_("linePermissions",this.parseLinePermissions)]},t.prototype._getDashedLineConverters=function(){return[new k_("altColor",this.parseColor.bind(this))]},t.prototype._parseModelComponent=function(t,e,n){if("6.1.1"!==t.version)throw new Yf("Version of serialized model component does not match the editor's version.");n=n.concat([new k_("tags",(function(t,e){e._tags=t}),!0),new k_("version",(function(t,e){}),!0)]),this._parseObject(t,e,n)},t}(),k_=function(t,e,n){this.property=t,this.convert=e,this.setByConverter=n||!1},O_=function(){function t(t){this._additionalConverters=lg.isArray(t)?t:[],this.productParser=new A_(t)}return t.prototype.deserialize=function(t){var e=t;return"string"==typeof t&&(e=JSON.parse(t)),lg.isObject(e)?this.productParser.parseProduct(e):null},t.prototype.serialize=function(t,e){return this.serializeModelComponent(t,e)},t.prototype.serializeModelComponent=function(t,e){var n=this;return null==e&&(e=!1),JSON.stringify(t,(function(t,e){if(e instanceof Xg)return e.getSimplifiedObject();if(e instanceof um)return e.getData();if(e instanceof Tg)return{scaleX:e.scaleX,scaleY:e.scaleY,translateX:e.translateX,translateY:e.translateY,angle:e.angle};if(e instanceof w_)return{name:e.name,altColor:e.altColor,color:e.color,margin:e.margin,stepPx:e.stepPx,widthPx:e.widthPx,borderRadius:e.borderRadius,pdfBox:e.pdfBox};if(e instanceof kg)return e.width+", "+e.height;if(e instanceof Eg)return e.toString();if(e instanceof nm)return e.toArray();if(e instanceof Sv)return e.getSimplifiedObject();var r=lg.find(n._additionalConverters,(function(t){return e instanceof t.typeCtor}));return null!=r&&((e=lg.clone(e)).$type=r.type),e}),2)},t}(),M_=function(){function t(){}return t.getProductSerializer=function(){return null!=t.jsonProductSerializerFactory?t.jsonProductSerializerFactory():t._defaultJsonProductSerializerFactory()},t._defaultJsonProductSerializerFactory=function(){return new O_},t.jsonProductSerializerFactory=null,t.MAIN_CONTAINER_NAME="Main",t.BG_CONTAINER_NAME="Background",t.FG_CONTAINER_NAME="Foreground",t.BG_SOLIDCOLOR="solidColor",t.SPINE_AND_FOLDING_CONTAINER_NAME="Spine&Folding",t}(),R_=function(){var t=function(e,n){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(e,n)};return function(e,n){function r(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),D_=function(t){function e(e){void 0===e&&(e=[]);var n=t.call(this)||this;return n._defaultSafetyLines=new nm,n._defaultCropMarks=new nm,n.defaultDesignLocation=new pg,n._onSurfacesAdd=function(t){t.item.parentProduct=n},n._surfaces=new nm,n.surfaces.add_collectionChanged(n._onSurfacesAdd),n.surfaces.setRange(e),n}return R_(e,t),Object.defineProperty(e.prototype,"surfaces",{get:function(){return this._surfaces},set:function(t){this.surfaces.setRange(t)},enumerable:!0,configurable:!0}),e.prototype.serialize=function(t){return M_.getProductSerializer().serialize(this,t)},Object.defineProperty(e.prototype,"defaultSafetyLines",{get:function(){return this._defaultSafetyLines},set:function(t){this._defaultSafetyLines!==t&&(this._defaultSafetyLines=t,this._propertyChanged.notify(this,"defaultSafetyLines"))},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"defaultCropMarks",{get:function(){return this._defaultCropMarks},set:function(t){this._defaultCropMarks!==t&&(this._defaultCropMarks=t,this._propertyChanged.notify(this,"defaultCropMarks"))},enumerable:!0,configurable:!0}),e.prototype._copy=function(e,n,r){t.prototype._copy.call(this,e,n,r),n.surfaces.addRange(e.surfaces.toArray().map((function(t){return t.clone(r)}))),n.watermarkConfig=null!=e.watermarkConfig?e.watermarkConfig.clone():null,n.defaultCropMarks.addRange(e.defaultCropMarks.toArray().map((function(t){return t.clone()}))),n.defaultSafetyLines.addRange(e.defaultSafetyLines.toArray().map((function(t){return t.clone()}))),n.defaultDesignLocation=e.defaultDesignLocation.clone()},e.prototype.clone=function(t){void 0===t&&(t=!1);var n=new e;return this._copy(this,n,t),n},e.prototype.getAllItems=function(t){return void 0===t&&(t={ignoreMockups:!1}),v_.getItems(this.surfaces,t)},e.prototype.generateNewIds=function(){this._generateNewId(),this._surfaces.forEach((function(t){return t.generateNewIds()}))},e.prototype.getSurface=function(t){var e=this.surfaces.toArray(),n=parseInt(t);return NaN!=n&&n>=0&&e.length>n?e[n]:lg.find(e,(function(e){return e.name===t}))},e}(Xg),B_=function(){function t(){}return t.prototype.clone=function(){var e=new t;return e.storageId=this.storageId,e.width=this.width,e.height=this.height,e},t}();class j_ extends E{constructor(t){super(),this._value=t}get value(){return this.getValue()}_subscribe(t){const e=super._subscribe(t);return e&&!e.closed&&t.next(this._value),e}getValue(){if(this.hasError)throw this.thrownError;if(this.closed)throw new S;return this._value}next(t){super.next(this._value=t)}}class F_ extends p{constructor(t,e){super()}schedule(t,e=0){return this}}class z_ extends F_{constructor(t,e){super(t,e),this.scheduler=t,this.work=e,this.pending=!1}schedule(t,e=0){if(this.closed)return this;this.state=t;const n=this.id,r=this.scheduler;return null!=n&&(this.id=this.recycleAsyncId(r,n,e)),this.pending=!0,this.delay=e,this.id=this.id||this.requestAsyncId(r,this.id,e),this}requestAsyncId(t,e,n=0){return setInterval(t.flush.bind(t,this),n)}recycleAsyncId(t,e,n=0){if(null!==n&&this.delay===n&&!1===this.pending)return e;clearInterval(e)}execute(t,e){if(this.closed)return new Error("executing a cancelled action");this.pending=!1;const n=this._execute(t,e);if(n)return n;!1===this.pending&&null!=this.id&&(this.id=this.recycleAsyncId(this.scheduler,this.id,null))}_execute(t,e){let n=!1,r=void 0;try{this.work(t)}catch(i){n=!0,r=!!i&&i||new Error(i)}if(n)return this.unsubscribe(),r}_unsubscribe(){const t=this.id,e=this.scheduler,n=e.actions,r=n.indexOf(this);this.work=null,this.state=null,this.pending=!1,this.scheduler=null,-1!==r&&n.splice(r,1),null!=t&&(this.id=this.recycleAsyncId(e,t,null)),this.delay=null}}class L_ extends z_{constructor(t,e){super(t,e),this.scheduler=t,this.work=e}schedule(t,e=0){return e>0?super.schedule(t,e):(this.delay=e,this.state=t,this.scheduler.flush(this),this)}execute(t,e){return e>0||this.closed?super.execute(t,e):this._execute(t,e)}requestAsyncId(t,e,n=0){return null!==n&&n>0||null===n&&this.delay>0?super.requestAsyncId(t,e,n):t.flush(this)}}let H_=(()=>{class t{constructor(e,n=t.now){this.SchedulerAction=e,this.now=n}schedule(t,e=0,n){return new this.SchedulerAction(this,t).schedule(n,e)}}return t.now=()=>Date.now(),t})();class N_ extends H_{constructor(t,e=H_.now){super(t,()=>N_.delegate&&N_.delegate!==this?N_.delegate.now():e()),this.actions=[],this.active=!1,this.scheduled=void 0}schedule(t,e=0,n){return N_.delegate&&N_.delegate!==this?N_.delegate.schedule(t,e,n):super.schedule(t,e,n)}flush(t){const{actions:e}=this;if(this.active)return void e.push(t);let n;this.active=!0;do{if(n=t.execute(t.state,t.delay))break}while(t=e.shift());if(this.active=!1,n){for(;t=e.shift();)t.unsubscribe();throw n}}}class W_ extends N_{}const V_=new W_(L_);let U_=(()=>{class t{constructor(t,e,n){this.kind=t,this.value=e,this.error=n,this.hasValue="N"===t}observe(t){switch(this.kind){case"N":return t.next&&t.next(this.value);case"E":return t.error&&t.error(this.error);case"C":return t.complete&&t.complete()}}do(t,e,n){switch(this.kind){case"N":return t&&t(this.value);case"E":return e&&e(this.error);case"C":return n&&n()}}accept(t,e,n){return t&&"function"==typeof t.next?this.observe(t):this.do(t,e,n)}toObservable(){switch(this.kind){case"N":return dd(this.value);case"E":return t=this.error,new w(e=>e.error(t));case"C":return pd()}var t;throw new Error("unexpected notification kind value")}static createNext(e){return void 0!==e?new t("N",e):t.undefinedValueNotification}static createError(e){return new t("E",void 0,e)}static createComplete(){return t.completeNotification}}return t.completeNotification=new t("C"),t.undefinedValueNotification=new t("N",void 0),t})();class q_{constructor(t,e=0){this.scheduler=t,this.delay=e}call(t,e){return e.subscribe(new G_(t,this.scheduler,this.delay))}}class G_ extends g{constructor(t,e,n=0){super(t),this.scheduler=e,this.delay=n}static dispatch(t){const{notification:e,destination:n}=t;e.observe(n),this.unsubscribe()}scheduleMessage(t){this.destination.add(this.scheduler.schedule(G_.dispatch,this.delay,new Y_(t,this.destination)))}_next(t){this.scheduleMessage(U_.createNext(t))}_error(t){this.scheduleMessage(U_.createError(t)),this.unsubscribe()}_complete(){this.scheduleMessage(U_.createComplete()),this.unsubscribe()}}class Y_{constructor(t,e){this.notification=t,this.destination=e}}class X_{constructor(t,e){this.observables=t,this.project=e}call(t,e){return e.subscribe(new $_(t,this.observables,this.project))}}class $_ extends N{constructor(t,e,n){super(t),this.observables=e,this.project=n,this.toRespond=[];const r=e.length;this.values=new Array(r);for(let i=0;i<r;i++)this.toRespond.push(i);for(let i=0;i<r;i++){let t=e[i];this.add(H(this,t,t,i))}}notifyNext(t,e,n,r,i){this.values[n]=e;const o=this.toRespond;if(o.length>0){const t=o.indexOf(n);-1!==t&&o.splice(t,1)}}notifyComplete(){}_next(t){if(0===this.toRespond.length){const e=[t,...this.values];this.project?this._tryProject(e):this.destination.next(e)}}_tryProject(t){let e;try{e=this.project.apply(this,t)}catch(n){return void this.destination.error(n)}this.destination.next(e)}}class Q_{constructor(t,e){this.compare=t,this.keySelector=e}call(t,e){return e.subscribe(new Z_(t,this.compare,this.keySelector))}}class Z_ extends g{constructor(t,e,n){super(t),this.keySelector=n,this.hasKey=!1,"function"==typeof e&&(this.compare=e)}compare(t,e){return t===e}_next(t){let e;try{const{keySelector:n}=this;e=n?n(t):t}catch(r){return this.destination.error(r)}let n=!1;if(this.hasKey)try{const{compare:t}=this;n=t(this.key,e)}catch(r){return this.destination.error(r)}else this.hasKey=!0;n||(this.key=e,this.destination.next(t))}}const K_="@ngrx/store/init";let J_=(()=>{class t extends j_{constructor(){super({type:K_})}next(t){if("function"==typeof t)throw new TypeError("\n        Dispatch expected an object, instead it received a function.\n        If you're using the createAction function, make sure to invoke the function\n        before dispatching the action. For example, someAction should be someAction().");if(void 0===t)throw new TypeError("Actions must be objects");if(void 0===t.type)throw new TypeError("Actions must have a type property");super.next(t)}complete(){}ngOnDestroy(){super.complete()}}return t.ngInjectableDef=mt({token:t,factory:function(e){return new(e||t)},providedIn:null}),t})();const tb=new Ot("@ngrx/store Internal Root Guard"),eb=new Ot("@ngrx/store Internal Initial State"),nb=new Ot("@ngrx/store Initial State"),rb=new Ot("@ngrx/store Reducer Factory"),ib=new Ot("@ngrx/store Internal Reducer Factory Provider"),ob=new Ot("@ngrx/store Initial Reducers"),sb=new Ot("@ngrx/store Internal Initial Reducers"),ab=new Ot("@ngrx/store Internal Store Reducers"),lb=new Ot("@ngrx/store User Provided Meta Reducers"),ub=new Ot("@ngrx/store Meta Reducers"),cb=new Ot("@ngrx/store Internal Resolved Meta Reducers"),hb=new Ot("@ngrx/store User Runtime Checks Config"),pb=new Ot("@ngrx/store Internal User Runtime Checks Config"),db=new Ot("@ngrx/store Internal Runtime Checks");function fb(t,e={}){const n=Object.keys(t),r={};for(let o=0;o<n.length;o++){const e=n[o];"function"==typeof t[e]&&(r[e]=t[e])}const i=Object.keys(r);return function(t,n){t=void 0===t?e:t;let o=!1;const s={};for(let e=0;e<i.length;e++){const a=i[e],l=t[a],u=(0,r[a])(l,n);s[a]=u,o=o||u!==l}return o?s:t}}function gb(...t){return function(e){if(0===t.length)return e;const n=t[t.length-1];return t.slice(0,-1).reduceRight((t,e)=>e(t),n(e))}}function mb(t,e){return Array.isArray(e)&&e.length>0&&(t=gb.apply(null,[...e,t])),(e,n)=>{const r=t(e);return(t,e)=>r(t=void 0===t?n:t,e)}}class yb extends w{}class vb extends J_{}const _b="@ngrx/store/update-reducers";let bb=(()=>{class t extends j_{constructor(t,e,n,r){super(r(n,e)),this.dispatcher=t,this.initialState=e,this.reducers=n,this.reducerFactory=r}addFeature(t){this.addFeatures([t])}addFeatures(t){const e=t.reduce((t,{reducers:e,reducerFactory:n,metaReducers:r,initialState:i,key:o})=>{const s="function"==typeof e?function(t){const e=Array.isArray(t)&&t.length>0?gb(...t):t=>t;return(t,n)=>(t=e(t),(e,r)=>t(e=void 0===e?n:e,r))}(r)(e,i):mb(n,r)(e,i);return t[o]=s,t},{});this.addReducers(e)}removeFeature(t){this.removeFeatures([t])}removeFeatures(t){this.removeReducers(t.map(t=>t.key))}addReducer(t,e){this.addReducers({[t]:e})}addReducers(t){this.reducers=Object.assign({},this.reducers,t),this.updateReducers(Object.keys(t))}removeReducer(t){this.removeReducers([t])}removeReducers(t){t.forEach(t=>{this.reducers=function(t,e){return Object.keys(t).filter(t=>t!==e).reduce((e,n)=>Object.assign(e,{[n]:t[n]}),{})}(this.reducers,t)}),this.updateReducers(t)}updateReducers(t){this.next(this.reducerFactory(this.reducers,this.initialState)),this.dispatcher.next({type:_b,features:t})}ngOnDestroy(){this.complete()}}return t.ngInjectableDef=mt({token:t,factory:function(e){return new(e||t)(qt(vb),qt(nb),qt(ob),qt(rb))},providedIn:null}),t})(),wb=(()=>{class t extends E{ngOnDestroy(){this.complete()}}return t.ngInjectableDef=mt({token:t,factory:function(e){return Cb(e||t)},providedIn:null}),t})();const Cb=ui(wb);class xb extends w{}let Sb=(()=>{class t extends j_{constructor(t,e,n,r){super(r);const i=t.pipe(function(t,e=0){return function(n){return n.lift(new q_(t,e))}}(V_)).pipe(function(...t){return e=>{let n;return"function"==typeof t[t.length-1]&&(n=t.pop()),e.lift(new X_(t,n))}}(e)).pipe(_d(Pb,{state:r}));this.stateSubscription=i.subscribe(({state:t,action:e})=>{this.next(t),n.next(e)})}ngOnDestroy(){this.stateSubscription.unsubscribe(),this.complete()}}return t.ngInjectableDef=mt({token:t,factory:function(e){return new(e||t)(qt(J_),qt(yb),qt(wb),qt(nb))},providedIn:null}),t.INIT=K_,t})();function Pb(t={state:void 0},[e,n]){const{state:r}=t;return{state:n(r,e),action:e}}let Ib=(()=>{class t extends w{constructor(t,e,n){super(),this.actionsObserver=e,this.reducerManager=n,this.source=t}select(t,...e){return Eb.call(null,t,...e)(this)}lift(e){const n=new t(this,this.actionsObserver,this.reducerManager);return n.operator=e,n}dispatch(t){this.actionsObserver.next(t)}next(t){this.actionsObserver.next(t)}error(t){this.actionsObserver.error(t)}complete(){this.actionsObserver.complete()}addReducer(t,e){this.reducerManager.addReducer(t,e)}removeReducer(t){this.reducerManager.removeReducer(t)}}return t.ngInjectableDef=mt({token:t,factory:function(e){return new(e||t)(qt(xb),qt(J_),qt(bb))},providedIn:null}),t})();function Eb(t,e,...n){return function(r){let i;if("string"==typeof t){const o=[e,...n].filter(Boolean);i=r.pipe(function(...t){const e=t.length;if(0===e)throw new Error("list of properties cannot be empty.");return n=>W(function(t,e){return n=>{let r=n;for(let i=0;i<e;i++){const e=r[t[i]];if(void 0===e)return;r=e}return r}}(t,e))(n)}(t,...o))}else{if("function"!=typeof t)throw new TypeError(`Unexpected type '${typeof t}' in select operator,`+" expected 'string' or 'function'");i=r.pipe(W(n=>t(n,e)))}return i.pipe(t=>t.lift(new Q_(void 0,void 0)))}}function Tb(t){return void 0===t}function Ab(t){return null===t}function kb(t){return Array.isArray(t)}function Ob(t){return"object"==typeof t&&null!==t}function Mb(t){return"function"==typeof t}function Rb(t){Object.freeze(t);const e=Mb(t);return Object.getOwnPropertyNames(t).forEach(n=>{if(function(t,e){return Object.prototype.hasOwnProperty.call(t,e)}(t,n)&&(!e||"caller"!==n&&"callee"!==n&&"arguments"!==n)){const e=t[n];!Ob(e)&&!Mb(e)||Object.isFrozen(e)||Rb(e)}}),t}function Db(t,e=[]){return(Tb(t)||Ab(t))&&0===e.length?{path:["root"],value:t}:Object.keys(t).reduce((n,r)=>{if(n)return n;const i=t[r];return!(Tb(i)||Ab(i)||function(t){return"number"==typeof t}(i)||function(t){return"boolean"==typeof t}(i)||function(t){return"string"==typeof t}(i)||kb(i))&&(function(t){if(!function(t){return Ob(t)&&!kb(t)}(t))return!1;const e=Object.getPrototypeOf(t);return e===Object.prototype||null===e}(i)?Db(i,[...e,r]):{path:[...e,r],value:i})},!1)}function Bb(t,e){if(!1===t)return;const n=t.path.join("."),r=new Error(`Detected unserializable ${e} at "${n}"`);throw r.value=t.value,r.unserializablePath=n,r}function jb(t){return _i()?(void 0===t&&console.warn("@ngrx/store: runtime checks are currently opt-in but will be the default in the next major version with the possibility to opt-out, see https://ngrx.io/guide/migration/v8 for more information."),Object.assign({strictStateSerializability:!1,strictActionSerializability:!1,strictStateImmutability:!1,strictActionImmutability:!1},t)):{strictStateSerializability:!1,strictActionSerializability:!1,strictStateImmutability:!1,strictActionImmutability:!1}}function Fb({strictActionSerializability:t,strictStateSerializability:e}){return n=>t||e?function(t,e){return function(n,r){e.action&&Bb(Db(r),"action");const i=t(n,r);return e.state&&Bb(Db(i),"state"),i}}(n,{action:t,state:e}):n}function zb({strictActionImmutability:t,strictStateImmutability:e}){return n=>t||e?function(t,e){return function(n,r){const i=e.action?Rb(r):r,o=t(n,i);return e.state?Rb(o):o}}(n,{action:t,state:e}):n}function Lb(t){return t}let Hb=(()=>{class t{constructor(t,e,n,r,i){}}return t.ngModuleDef=fe({type:t}),t.ngInjectorDef=yt({factory:function(e){return new(e||t)(qt(J_),qt(yb),qt(wb),qt(Ib),qt(tb,8))}}),t})();function Nb(t,e){return e instanceof Ot?t.get(e):e}function Wb(t){return"function"==typeof t?t():t}function Vb(t,e){return t.concat(e)}function Ub(t){if(t)throw new TypeError("StoreModule.forRoot() called twice. Feature modules should use StoreModule.forFeature() instead.");return"guarded"}class qb{constructor(t,e){this.resources=t,this.page=e}}var Gb,Yb,Xb,$b,Qb;n("GtyH"),function(t){t[t.always=0]="always",t[t.auto=1]="auto"}(Gb||(Gb={})),function(t){t[t.centerBottom=5]="centerBottom",t[t.centerCenter=4]="centerCenter",t[t.centerTop=3]="centerTop",t[t.leftBottom=2]="leftBottom",t[t.leftCenter=1]="leftCenter",t[t.leftTop=0]="leftTop",t[t.rightBottom=8]="rightBottom",t[t.rightCenter=7]="rightCenter",t[t.rightTop=6]="rightTop"}(Yb||(Yb={})),function(t){t[t.none=0]="none",t[t.bestFit=1]="bestFit",t[t.bestFitShrinkOnly=2]="bestFitShrinkOnly",t[t.fitToWidth=3]="fitToWidth",t[t.fitToHeight=4]="fitToHeight",t[t.fitToWidthShrinkOnly=6]="fitToWidthShrinkOnly",t[t.fitToHeightShrinkOnly=7]="fitToHeightShrinkOnly"}(Xb||(Xb={})),function(t){t[t.low=0]="low",t[t.medium=1]="medium",t[t.high=2]="high",t[t.shrinkHighStretchLow=3]="shrinkHighStretchLow"}($b||($b={})),function(t){t[t.ready=0]="ready",t[t.refresh=1]="refresh",t[t.busy=2]="busy"}(Qb||(Qb={}));var Zb,Kb,Jb,tw,ew,nw,rw=function(){function t(t){this._v=t}return Object.defineProperty(t.prototype,"postBackOnWorkspaceChanged",{get:function(){return this._v._clientSideOptions$postBackOnWorkspaceChanged},set:function(t){this._v._clientSideOptions$postBackOnWorkspaceChanged=t},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"postBackOnWorkspaceClick",{get:function(){return this._v._clientSideOptions$postBackOnWorkspaceClick},set:function(t){this._v._clientSideOptions$postBackOnWorkspaceClick=t},enumerable:!0,configurable:!0}),t}(),iw=function(t,e,n,r){return new(n||(n=Promise))((function(i,o){function s(t){try{l(r.next(t))}catch(e){o(e)}}function a(t){try{l(r.throw(t))}catch(e){o(e)}}function l(t){var e;t.done?i(t.value):(e=t.value,e instanceof n?e:new n((function(t){t(e)}))).then(s,a)}l((r=r.apply(t,e||[])).next())}))},ow=function(t,e){var n,r,i,o,s={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]};return o={next:a(0),throw:a(1),return:a(2)},"function"==typeof Symbol&&(o[Symbol.iterator]=function(){return this}),o;function a(o){return function(a){return function(o){if(n)throw new TypeError("Generator is already executing.");for(;s;)try{if(n=1,r&&(i=2&o[0]?r.return:o[0]?r.throw||((i=r.return)&&i.call(r),0):r.next)&&!(i=i.call(r,o[1])).done)return i;switch(r=0,i&&(o=[2&o[0],i.value]),o[0]){case 0:case 1:i=o;break;case 4:return s.label++,{value:o[1],done:!1};case 5:s.label++,r=o[1],o=[0];continue;case 7:o=s.ops.pop(),s.trys.pop();continue;default:if(!(i=(i=s.trys).length>0&&i[i.length-1])&&(6===o[0]||2===o[0])){s=0;continue}if(3===o[0]&&(!i||o[1]>i[0]&&o[1]<i[3])){s.label=o[1];break}if(6===o[0]&&s.label<i[1]){s.label=i[1],i=o;break}if(i&&s.label<i[2]){s.label=i[2],s.ops.push(o);break}i[2]&&s.ops.pop(),s.trys.pop();continue}o=e.call(t,s)}catch(a){o=[6,a],r=0}finally{n=i=0}if(5&o[0])throw o[1];return{value:o[0]?o[1]:void 0,done:!0}}([o,a])}}},sw=function(t,e){var n="function"==typeof Symbol&&t[Symbol.iterator];if(!n)return t;var r,i,o=n.call(t),s=[];try{for(;(void 0===e||e-- >0)&&!(r=o.next()).done;)s.push(r.value)}catch(a){i={error:a}}finally{try{r&&!r.done&&(n=o.return)&&n.call(o)}finally{if(i)throw i.error}}return s},aw=function(){for(var t=[],e=0;e<arguments.length;e++)t=t.concat(sw(arguments[e]));return t};(Kb=Zb||(Zb={})).round3=function(t){return Math.round(1e3*t)/1e3},Kb.createBoundedWrapper=function(t,e,n){return null==n?e.bind(t):Function.prototype.bind.apply(e,[t].concat(n))},Kb.cursorToCss=function(t){var e=Jb;return null==e&&(Jb=e=["default","nw-resize","ne-resize","sw-resize","se-resize","n-resize","s-resize","w-resize","e-resize","move","crosshair","pointer","ew-resize","ns-resize","nesw-resize","nwse-resize","text"]),e[t]},Kb.makeSingle=function(t){var e;return function(){for(var n=[],r=0;r<arguments.length;r++)n[r]=arguments[r];return iw(this,void 0,void 0,(function(){var r,i,o,s;return ow(this,(function(a){switch(a.label){case 0:r=e=new Object,i=t.apply(void 0,aw(n)),a.label=1;case 1:return(s=i.next(o)).done?[2,s.value]:[4,s.value];case 2:if(o=a.sent(),r!==e)return[2];a.label=3;case 3:return[3,1];case 4:return[2]}}))}))}},Kb.makeCancelable=function(t){var e=!1;return{promise:new Promise((function(n,r){t.then((function(t){return e?r({isCanceled:!0}):n(t)})),t.catch((function(t){return r(e?{isCanceled:!0}:t)}))})),id:(new Jf).toString(),cancel:function(){e=!0}}},Kb.getEventPath=function(t){if(null==t.view||!(t instanceof t.view.UIEvent))throw new Error("Unexpected event type");if(null!=t.path)return(Array.isArray(t.path)?t.path:Array.prototype.slice.call(t.path)).filter((function(t){return t instanceof Element}));var e=[],n=t.target;n instanceof t.view.Element||null==console||console.log("unexpected event target",n);do{e.push(n),n=n.parentElement}while(null!=n&&n!==t.currentTarget);return e},Kb.isEventPathContainsClass=function(t,e){var n;if(t instanceof UIEvent)n=t;else{if(!(t.originalEvent instanceof UIEvent))throw new Error("Unexpected event type");n=t.originalEvent}return!!Kb.getEventPath(n).some((function(t){return t.classList.contains(e)}))},function(t){t[t.defaultCursor=0]="defaultCursor",t[t.sizeNW=1]="sizeNW",t[t.sizeNE=2]="sizeNE",t[t.sizeSW=3]="sizeSW",t[t.sizeSE=4]="sizeSE",t[t.sizeN=5]="sizeN",t[t.sizeS=6]="sizeS",t[t.sizeW=7]="sizeW",t[t.sizeE=8]="sizeE",t[t.move=9]="move",t[t.cross=10]="cross",t[t.pointer=11]="pointer",t[t.sizeEW=12]="sizeEW",t[t.sizeNS=13]="sizeNS",t[t.sizeNESW=14]="sizeNESW",t[t.sizeNWSE=15]="sizeNWSE",t[t.text=16]="text"}(tw||(tw={})),function(t){t[t.rgb=16777216]="rgb",t[t.cmyk=335544320]="cmyk",t[t.grayScale=301989888]="grayScale",t[t.unknown=0]="unknown"}(ew||(ew={})),function(t){t[t.Item=0]="Item",t[t.Color=1]="Color"}(nw||(nw={}));var lw,uw,cw=n("r92d"),hw={start:function(t){var e=t.checkFunction,n=t.onChange;return setInterval((function(){e()&&n()}),500)},stop:function(t){clearInterval(t)}};function pw(t){var e;switch(null==t?void 0:t.unit){case lw.Mm:return.352777778;case lw.Cm:return.0352777778;case lw.Inch:return.0138888889;case lw.Custom:return null!==(e=null==t?void 0:t.customUnitScale)&&void 0!==e?e:1;case lw.Point:default:return 1}}!function(t){t.Mm="Mm",t.Inch="Inch",t.Cm="Cm",t.Point="Point",t.Custom="Custom"}(lw||(lw={})),function(t){t[t.Default=0]="Default",t[t.Html=1]="Html",t[t.None=2]="None"}(uw||(uw={}));var dw,fw=function(t){var e="function"==typeof Symbol&&Symbol.iterator,n=e&&t[e],r=0;if(n)return n.call(t);if(t&&"number"==typeof t.length)return{next:function(){return t&&r>=t.length&&(t=void 0),{value:t&&t[r++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")},gw=function(t){var e=this;function n(t){var n;e.pageX=(n=t.touches?t.touches.length>0?t.touches[0]:t.changedTouches[0]:t.pointers.length>0?t.pointers[0]:t.changedPointers[0]).pageX,e.pageY=n.pageY,e.clientX=n.clientX,e.clientY=n.clientY}e.originalEvent=t,e.type=t.type,e.x=t.x,e.y=t.y,"string"==typeof t.type&&-1!==t.type.indexOf("touch")?n(t):null!=t.gesture?n(t.gesture):t&&function(t){e.pageX=t.pageX,e.pageY=t.pageY,e.clientX=t.clientX,e.clientY=t.clientY}(t)},mw=function(){},yw=function(){},vw=function(){function t(t){void 0===t&&(t=null),this._zone=t,this._contentElements=[],this._rulerBorderWidth=1,this._rulerDivision=5,this._contentCtxLocation=null,this._ignoreDocumentClickOnce=!1,this._documentClickEvent=new ag,this._clickEvent=new ag,this._mouseDownEvent=new ag,this._mouseMoveEvent=new ag,this._mouseUpEvent=new ag,this._workspaceDoubleClickEvent=new ag,this._workspaceClickEvent=new ag,this._workspaceChangedEvent=new ag,this._workspaceMouseDownEvent=new ag,this._workspaceMouseUpEvent=new ag,this._workspaceMouseMoveEvent=new ag,this._statusChangedEvent=new ag,this._pinchStartEvent=new ag,this._pinchStopEvent=new ag,this._scrolledEvent=new ag,this._onresizeEvent=new ag,this._zoomedEvent=new ag,this._invokingCallbackRequestEvent=new ag,this._intervalCheckLoop=hw,this._contentAngle=0,this._backColor="#FFFFFF",this._maxZoom=16,this._minZoom=.05,this._screenXDpi=72,this._screenYDpi=72,this._scrollBarsStyle=Gb.auto,this._scrollBarWidth=17,this._scrollingPosition=new pg(0,0),this._viewportAlignment=Yb.leftTop,this._zoom=1,this._zoomMode=Xb.none,this._zoomQuality=$b.shrinkHighStretchLow,this._bestFitWhiteSpacePc=0,this._stateFieldId="",this._needUpdateViewport=!1,this._msTouchActionInitialValue="",this._toolTip="",this._accessKey="",this._tabIndex="",this._callbackArgs="",this._callbackContext=0,this._status=Qb.ready,this._exceptionDescription="",this._returnValue="",this._clientSideOptions=new rw(this),this._delayedRefreshTimeout=1e3,this._refreshTimer=null,this._contentElements=[],this._needToRefresh=!1,this._rulerEnabled=!1,this._rulerWidth=13,this._rulerScale=1,this._rulerOffsetX=0,this._rulerOffsetY=0,this._rulersOnScrollDelegate=null,this._rulersOnZoomDelegate=null,this._activeAjax=0,this._pinchZoomEnabled=!0,this._holderBounds=null,this._contentCtxDimension={},this._viewportLocation={},this._holderElement=null,this._touchFlags=new yw,this._rulers={},this._bodyCursor=null}return Object.defineProperty(t.prototype,"element",{get:function(){return this._viewerElement},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"id",{get:function(){return this._viewerElement.id},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"contentAngle",{get:function(){return this._contentAngle},set:function(t){if(null!=t&&t!==this._contentAngle){this._contentAngle=mg(t);var e="(0, 0)";90===this._contentAngle?e="(0px, -100%)":180===this._contentAngle?e="(-100%, -100%)":270===this._contentAngle&&(e="(-100%, 0px)"),this._contentCtx.style.transform="rotate("+this._contentAngle+"deg) translate"+e,this._contentCtx.style.transformOrigin="left top",this._updateViewport(),this._canvas.setZoom(this.zoom,void 0,{force:!0}),this._canvas.updateSelection(),this._canvas.redraw()}},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"contentWidth",{get:function(){return this._holderBounds.width},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"width",{get:function(){return this._holderBounds.offsetWidth},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"contentHeight",{get:function(){return this._holderBounds.height},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"height",{get:function(){return this._holderBounds.offsetHeight},enumerable:!0,configurable:!0}),t.prototype.notifySizeChanged=function(){this._onResize(null,!1)},t.prototype._renderContent=function(t){return t},Object.defineProperty(t.prototype,"hasContent",{get:function(){return!0},enumerable:!0,configurable:!0}),t.prototype._render=function(){var t="";t+='<div id="cvContent" style="position:absolute; overflow: hidden; box-sizing: content-box; -webkit-box-sizing: content-box; -moz-box-sizing: content-box;',t+=this.hasContent?"width:"+this.contentWidth+"px;height:"+this.contentHeight+"px;":"display:none;";var e=this._getViewportLocation();return t+="left:"+e.x+"px;top:"+e.y+"px",t=this._renderContent(t+='">'),(t+="</div>")+"</div>"},t.prototype._clearElement=function(t){for(;t.firstChild;)t.removeChild(t.firstChild)},t.prototype._rulersOnScroll=function(){this._touchFlags.pinchStarted||this._updateRulersStyle()},t.prototype._rulersOnZoom=function(){this._touchFlags.pinchStarted||(this._drawRulers(),this._updateRulersStyle())},t.prototype._rulersOnMouseMove=function(t,e){if(this.rulerEnabled){var n=this._rulers.topSlideBar,r=this._rulers.leftSlideBar;if(cg.IsTouchDevice()){if(!cg.IsTouchIE())return;if(e.originalEvent.pointerType!=e.originalEvent.MSPOINTER_TYPE_MOUSE)return n.style.left="0px",void(r.style.top="0px")}var i=this._getViewportLocation(),o=this._contentCtxLocation,s=-1,a=-1;isNaN(e.pageX)||isNaN(e.pageY)?e.originalEvent&&(e.originalEvent.touches?(s=e.originalEvent.touches[0].pageX,a=e.originalEvent.touches[0].pageY):(s=e.originalEvent.pageX,a=e.originalEvent.pageY)):(s=e.pageX,a=e.pageY);var l=i.y+a-o.top-this._scrollingPosition.y;n.style.left=i.x+s-o.left-this._scrollingPosition.x+"px",r.style.top=l+"px"}},t.prototype._initializeRulers=function(){var t=this.element.parentNode,e=t.ownerDocument,n="z-index: 2; -webkit-transform: translate3d(0px, 0px, 0px); -moz-transform: translate3d(0px, 0px, 0px)",r=e.createElement("div");r.setAttribute("style",n);var i=e.createElement("div"),o=e.createElement("div");o.setAttribute("style",n);var s=e.createElement("div"),a=e.createElement("div");a.style.zIndex="2";var l=e.createElement("div"),u=e.createElement("div");this._rulers.topRuller=r,this._rulers.leftRuller=o,this._rulers.fullTopRuller=i,this._rulers.fullLeftRuller=s,this._rulers.whiteRect=a,this._rulers.topSlideBar=l,this._rulers.leftSlideBar=u;var c=this.element.id;r.id=c+"_TopRuler",i.id=c+"_FullTopRuler",o.id=c+"_LeftRuler",s.id=c+"_FullLeftRuler",a.id=c+"_WhiteRect",l.id=c+"_TopSlideBar",u.id=c+"_LeftSlideBar",i=r.appendChild(i),s=o.appendChild(s),l=r.appendChild(l),u=o.appendChild(u),r=t.appendChild(r),o=t.appendChild(o),a=t.appendChild(a),r.style.position=i.style.position=o.style.position=s.style.position=a.style.position=l.style.position=u.style.position="absolute",u.style.width=l.style.height=this.rulerWidth+"px",u.style.height=l.style.width="1px",u.style.backgroundColor=l.style.backgroundColor="#ff0000",u.style.overflow=l.style.overflow="hidden",u.style.webkitTransform=l.style.webkitTransform="translate3d(0, 0, 0)",r.style.overflow=o.style.overflow=a.style.overflow="hidden",r.style.visibility=o.style.visibility=a.style.visibility="hidden",a.style.backgroundColor="#909090",t.style.position="relative",this._drawRulers(),this._updateRulersStyle(),this._rulersOnScrollDelegate||(this._rulersOnScrollDelegate=this._rulersOnScroll.bind(this),this.add_scrolled(this._rulersOnScrollDelegate)),this._rulersOnZoomDelegate||(this._rulersOnZoomDelegate=this._rulersOnZoom.bind(this),this.add_zoomed(this._rulersOnZoomDelegate)),this.add_mouseMove(Zb.createBoundedWrapper(this,this._rulersOnMouseMove))},t.prototype._disposeRulers=function(){this._rulersOnScrollDelegate&&(this.remove_scrolled(this._rulersOnScrollDelegate),this._rulersOnScrollDelegate=null),this._rulersOnZoomDelegate&&(this.remove_zoomed(this._rulersOnZoomDelegate),this._rulersOnZoomDelegate=null)},t.prototype._updateRulersStyle=function(){var t=this._rulers.whiteRect,e=this.width,n=this.height,r=this.contentWidth,i=this.contentHeight,o=this.scrollBarWidth,s=this._rulers.leftRuller.style,a=this._rulers.topRuller.style,l=this._rulers.fullTopRuller.style,u=this._rulers.fullLeftRuller.style,c=t.style;if(this._rulerEnabled){s.visibility=a.visibility=c.visibility="inherit",s.backgroundColor=a.backgroundColor="#ffffff",s.borderRight=a.borderBottom=this._rulerBorderWidth+"px solid black";var h=this.scrollBarsStyle==Gb.always,p=this.scrollBarsStyle==Gb.auto,d=h||p&&i>n-this.rulerWidth,f=h||p&&r>e-this.rulerWidth;d=d||f&&p&&i>n-this.rulerWidth-o;var g=(f=f||d&&p&&r>e-this.rulerWidth-o)?n-o:n;a.width=(d?e-o:e)+"px",s.height=g+"px",l.height=a.height=t.style.height=this._rulerWidth+"px",u.width=s.width=t.style.width=this._rulerWidth+"px",a.top=s.top=a.left=s.left=t.style.top=t.style.left="0px";var m=this.scrollingPosition;l.left=-m.x+"px",u.top=-m.y+"px"}else a.width=a.height=s.width=s.height=a.borderWidth=s.borderWidth=c.width=c.height="0px",s.visibility=a.visibility=c.visibility="hidden"},t.prototype._setRulersConfig=function(t){if(t.enabled){var e=pw(t);this._rulerEnabled=!0,this._rulerOffsetX=-1*t.origin.X/e,this._rulerOffsetY=-1*t.origin.Y/e,this._rulerScale=e,t.unit===lw.Inch&&(this._rulerDivision=4)}else this._rulerEnabled=!1;this._updateViewport()},t.prototype._drawRulers=function(){if(this._rulerEnabled)for(var t=this.element.parentNode.ownerDocument,e=this._rulers.fullLeftRuller,n=this._rulers.fullTopRuller,r=[{controlLength:this.width,contentLength:this.contentWidth,viewportLocation:this._getViewportLocation().x,factor:this.zoom*this.actualSizeHorizontalScale,ruler:n,startWorkspaceLocation:null,endWorkspaceLocation:null,rulerPixelLength:null,origin:null},{controlLength:this.height,contentLength:this.contentHeight,viewportLocation:this._getViewportLocation().y,factor:this.zoom*this.actualSizeHorizontalScale,ruler:e,startWorkspaceLocation:null,endWorkspaceLocation:null,rulerPixelLength:null,origin:null}],i=[this.rulerOffsetX+this._baseRulersOffset.x,this.rulerOffsetY+this._baseRulersOffset.y],o=this.scrollBarWidth,s=this.scrollBarsStyle==Gb.always,a=this.scrollBarsStyle==Gb.auto,l=this.rulerScale,u=0;u<r.length;u++){r[u].origin=r[u].viewportLocation+i[u]*r[u].factor;var c=s||a&&r[1-u].contentLength>r[1-u].controlLength-this.rulerWidth,h=s||a&&r[u].contentLength>r[u].controlLength-this.rulerWidth;c=c||h&&a&&r[1-u].contentLength>r[1-u].controlLength-this.rulerWidth-o,r[u].rulerPixelLength=(h=h||c&&a&&r[u].contentLength>r[u].controlLength-this.rulerWidth-o)?Math.max(r[u].contentLength+this.rulerWidth,r[u].controlLength-(c?o:0)):c?r[u].controlLength-o:r[u].controlLength,r[u].startWorkspaceLocation=-r[u].origin,r[u].endWorkspaceLocation=r[u].startWorkspaceLocation+r[u].rulerPixelLength,r[u].startWorkspaceLocation/=r[u].factor,r[u].endWorkspaceLocation/=r[u].factor,r[u].startWorkspaceLocation*=l,r[u].endWorkspaceLocation*=l;for(var p=1,d=80/r[u].factor*l,f=1;d>10;)d/=10,f*=10;d>5?(f*=5,p=this._rulerDivision):d>2&&(f*=2,p=2);for(var g=[{location:0,index:0}],m=0;m<r[u].endWorkspaceLocation;)g.push({location:m+=f,index:0});for(m=0;m>r[u].startWorkspaceLocation;)g.push({location:m-=f,index:0});for(this._clearElement(r[u].ruler),C=0;C<g.length;C++){var y=t.createElement("span"),v=Math.abs(Math.round(g[C].location)).toString();y.innerHTML=1==u?v.split("").join("<br/>"):v,y.style.position="absolute",y.style.fontSize="9px",y.style.margin="0px",y.style.padding="0px",y.style.fontFamily="Tahoma, Verdana, Arial;",y.style.backgroundColor="#ffffff";var _=Math.round(g[C].location*r[u].factor/l+r[u].origin);y.style.top=0==u?"-1px":_+2+"px",y.style.left=1==u?"2px":_+2+"px",r[u].ruler.appendChild(y)}var b=1,w={1:{newDiv:this._rulerDivision,fractions:2},2:{newDiv:1,fractions:2}};w[this._rulerDivision]={newDiv:1,fractions:this._rulerDivision};for(var C,x=w[p],S=f/x.fractions;S*r[u].factor/l>4;){for(var P=g.length-1;P>=0;){for(var I=0;I<x.fractions-1;I++)g.push({index:b,location:g[P].location+S*(I+1)});P--}b++,S/=(x=w[x.newDiv]).fractions}for(C=0;C<g.length;C++){var E=t.createElement("div");E.style.position="absolute",E.style.overflow="hidden",E.style.backgroundColor="#000000",E.style.padding="0px",E.style.margin="0px",_=Math.round(g[C].location*r[u].factor/l+r[u].origin);var T=this.rulerWidth,A=Math.max(Math.ceil(T/Math.pow(2,g[C].index)),2);E.style.width=0==u?"1px":A+"px",E.style.height=1==u?"1px":A+"px",E.style.top=0==u?T-A+"px":_+"px",E.style.left=1==u?T-A+"px":_+"px",E.style.webkitTransform="translate3d(0, 0, 0)",r[u].ruler.appendChild(E)}}},t.prototype._generateCssWithPrefixes=function(t,e){var n={};for(var r in t)n[t[r]+"transition"]=e;return n},t.prototype._getPageZoom=function(){return screen.deviceXDPI/screen.logicalXDPI},t.prototype._getActualScrollPosition=function(){var t=this.element;return new pg(t.scrollLeft,t.scrollTop)},t.prototype._getViewportLocation=function(){var t,e,n=this.rulerEnabled?this.rulerWidth:0,r=this._holderBounds,i=r.width-n,o=r.height-n,s=90===this._contentAngle||270===this._contentAngle,a=s?this.contentHeight:this.contentWidth,l=s?this.contentWidth:this.contentHeight;switch(this._viewportAlignment){case Yb.centerBottom:case Yb.centerCenter:case Yb.centerTop:t=Math.floor((i-a)/2);break;case Yb.leftBottom:case Yb.leftCenter:case Yb.leftTop:t=0;break;case Yb.rightBottom:case Yb.rightCenter:case Yb.rightTop:t=i-a}switch(this._viewportAlignment){case Yb.centerCenter:case Yb.leftCenter:case Yb.rightCenter:e=Math.floor((o-l)/2);break;case Yb.centerTop:case Yb.leftTop:case Yb.rightTop:e=0;break;case Yb.centerBottom:case Yb.leftBottom:case Yb.rightBottom:e=o-l}return new pg(Math.max(n,t+n),Math.max(n,e+n))},t.prototype.ignoreDocumentClickOnce=function(){this._ignoreDocumentClickOnce=!0},t.prototype._onDocumentClick=function(t){!0!==this._ignoreDocumentClickOnce?this._documentClickEvent.notify(this,t):this._ignoreDocumentClickOnce=!1},t.prototype._onClick=function(t){this._clickEvent.notify(this,t)},t.prototype._onMouseDown=function(t){this._mouseDownEvent.notify(this,t)},t.prototype._onMouseMove=function(t){this._mouseMoveEvent.notify(this,t)},t.prototype._onMouseUp=function(t){this._mouseUpEvent.notify(this,t)},t.prototype._useWorkspaceCoords=function(t){var e=new gw(t),n=this.pageToWorkspacePoint(e.pageX,e.pageY);return e.x=n.x,e.y=n.y,e},t.prototype._onWorkspaceDoubleClick=function(t){var e=this._useWorkspaceCoords(t);this._workspaceDoubleClickEvent.notify(this,{x:e.x,y:e.y})},t.prototype._onWorkspaceClick=function(t){var e=this._useWorkspaceCoords(t);this._workspaceClickEvent.notify(this,{x:e.x,y:e.y})},t.prototype._onWorkspaceMouseDown=function(t){if(!this._isManyTouches(t)){var e=this._useWorkspaceCoords(t);this._workspaceMouseDownEvent.notify(this,e),cg.IsTouchIE()||this._contentCtx.setCapture()}},t.prototype._onWorkspaceMouseUp=function(t){if(!this._isManyTouches(t)){var e=this._useWorkspaceCoords(t);this._workspaceMouseUpEvent.notify(this,e),this._contentCtx.releaseCapture()}},t.prototype._onWorkspaceMouseMove=function(t){if(this._isManyTouches(t))t.preventDefault();else{var e=this._useWorkspaceCoords(t);this._workspaceMouseMoveEvent.notify(this,e)}},t.prototype._makeInactive=function(t){t.ondrag=function(){return!1},t.unselectable="on"},t.prototype._makeInactiveAll=function(){for(var t=this._contentElements,e=0;e<t.length;e++)this._makeInactive(t[e])},t.prototype._resizeContentElements=function(){for(var t=this.contentWidth,e=this.contentHeight,n=this._contentElements,r=0;r<n.length;r++)n[r].style.width=t+"px",n[r].style.height=e+"px","IMG"==n[r].tagName&&(n[r].width=t,n[r].height=e);this._contentCtxDimension.width=t,this._contentCtxDimension.height=e,this._contentCtxLocation=this._getElementPageCoord(this._contentCtx),this._holderBounds=this._getElementBounds(this.element)},t.prototype._getElementBounds=function(t){for(var e=[];t.length>0&&t!=document;)"none"==t.style.display&&(e.push({element:t,display:t.style.display,visibility:t.style.visibility}),t.style.visibility="hidden",t.style.display="block"),t=t.parent();for(var n=t.clientWidth,r=t.clientHeight,i=t.offsetHeight,o=t.offsetWidth,s=t.offsetTop,a=t.offsetLeft,l=0;l<e.length;l++){var u=e[l];u.element[0].style.visibility=u.visibility,u.element[0].style.display=u.display}return{width:n,height:r,offsetWidth:o,offsetHeight:i,offsetTop:s,offsetLeft:a}},t.prototype._isManyTouches=function(t){if(cg.IsTouchDevice()){var e=t.originalEvent||t;if(window.navigator.pointerEnabled){if(this._touchFlags.multiTouch||!1!==e.isPrimary||(this._touchFlags.multiTouch=!0),this._touchFlags.multiTouch)return!0}else if("object"==typeof e.touches&&null!==e.touches&&"number"==typeof e.touches.length&&e.touches.length>1)return!0}return!1},t.prototype._onTouch=function(t){this._touchFlags.startZoom=this.zoom,this._touchFlags.multiTouch=t.gesture.touches.length>1},t.prototype._onPinch=function(t,e){if(t.gesture.preventDefault(),t.preventDefault(),this._touchFlags.multiTouch=t.gesture.touches.length>1,this._touchFlags.pinchStarted||(this._touchFlags.pinchStarted=!0,this._pinchStartEvent.notify(this)),this.pinchZoomEnabled){var n=this._touchFlags.startZoom*t.gesture.scale,r=new mw;e?r.skipZoomToCenter=!0:(r.centerPageX=t.gesture.center.pageX,r.centerPageY=t.gesture.center.pageY),this.setZoom(n,r)}},t.prototype._onRelease=function(t){this._touchFlags.multiTouch=!1,this._touchFlags.pinchStarted&&(this._touchFlags.pinchStarted=!1,this._pinchStopEvent.notify(this))},t.prototype.initialize=function(t){var e=this;void 0===t&&(t=null),null!=t&&(this._intervalCheckLoop=t);var n=document.createElement("style");n.id="aurigmaStyles",n.type="text/css",n.innerHTML=".aurigmaNoSelect {-webkit-user-select: none;-moz-user-select: none;-ms-user-select: none;user-select: none;}",document.getElementsByTagName("head")[0].appendChild(n);var r=this.element;this._holderBounds=this._getElementBounds(r),this._holderElement=r,r.innerHTML=this._render(),this._makeInactive(r);var i=r.querySelectorAll("#cvContent");this._contentElements.push(this._contentCtx=i[0]),this._addSetCapture(r);var o=this._scrollingPosition;this._scrollInitialized=!0,r.scrollLeft=o.x,r.scrollTop=o.y,this._initializeRulers();var s=this._pointerEvents;cg.IsTouchDevice()&&(cw(this._holderElement).on("touch",Zb.createBoundedWrapper(this,this._onTouch)).on("pinch",Zb.createBoundedWrapper(this,this._onPinch)).on("release",Zb.createBoundedWrapper(this,this._onRelease)),window.navigator.pointerEnabled&&(this._holderElement.style.touchAction=this._msTouchActionInitialValue)),document.addEventListener("click",Zb.createBoundedWrapper(this,this._onDocumentClick)),this._holderElement.addEventListener("contextmenu",(function(t){t.preventDefault()})),this._holderElement.addEventListener("click",Zb.createBoundedWrapper(this,this._onClick)),this._holderElement.addEventListener("scroll",Zb.createBoundedWrapper(this,this._onScroll)),this._contentCtx.addEventListener("click",Zb.createBoundedWrapper(this,this._onWorkspaceClick)),s.start.split(" ").forEach((function(t){e._holderElement.addEventListener(t,Zb.createBoundedWrapper(e,e._onMouseDown)),e._contentCtx.addEventListener(t,Zb.createBoundedWrapper(e,e._onWorkspaceMouseDown))})),s.move.split(" ").forEach((function(t){e._holderElement.addEventListener(t,Zb.createBoundedWrapper(e,e._onMouseMove)),e._contentCtx.addEventListener(t,Zb.createBoundedWrapper(e,e._onWorkspaceMouseMove))})),s.up.split(" ").forEach((function(t){e._holderElement.addEventListener(t,Zb.createBoundedWrapper(e,e._onMouseUp)),e._contentCtx.addEventListener(t,Zb.createBoundedWrapper(e,e._onWorkspaceMouseUp))})),s.cancel.split(" ").forEach((function(t){e._holderElement.addEventListener(t,Zb.createBoundedWrapper(e,e._onMouseUp)),e._contentCtx.addEventListener(t,Zb.createBoundedWrapper(e,e._onWorkspaceMouseUp))})),cw(this._contentCtx).on("doubletap",this._onWorkspaceDoubleClick.bind(this)),this._contentCtxDimension={width:this.contentWidth,height:this.contentHeight},this._contentCtxLocation=this._getElementPageCoord(this._contentCtx),this._updateViewport(),this._updateViewportAlignment(),this._updateRulersStyle(),this.add_pinchStart(Zb.createBoundedWrapper(this,(function(){this._rulers.topRuller.style.opacity=this._rulers.leftRuller.style.opacity=.1}))),this.add_pinchStop(Zb.createBoundedWrapper(this,(function(){this._rulersOnZoom(),this._rulers.topRuller.style.opacity=this._rulers.leftRuller.style.opacity=1}))),this._startIntervalCheckLoop()},t.prototype._startIntervalCheckLoop=function(){var t=this;this._intervalCheckLoop.start({checkFunction:function(){var e=t._getElementBounds(t.element);return t._contentCtxLocation=t._getElementPageCoord(t._contentCtx),e.width>0&&e.width!==t._holderBounds.width||e.height>0&&e.height!==t._holderBounds.height},onChange:function(){var e=t._getElementBounds(t.element);t._holderBounds=e,t._onResize(t,!1)}})},t.prototype.setIntervalCheckLoop=function(t){null!=t&&(this._intervalCheckLoop=t,this._startIntervalCheckLoop())},Object.defineProperty(t.prototype,"_pointerEvents",{get:function(){var t="mousedown",e="mousemove",n="mouseup",r="";return cg.IsTouchDevice()&&(window.navigator.pointerEnabled?(t="pointerdown",e="pointermove",n="pointerup",r="pointerCancel"):(t="mousedown touchstart",e="mousemove touchmove",n="mouseup touchend",r="touchcancel")),{start:t,move:e,up:n,cancel:r}},enumerable:!0,configurable:!0}),t.prototype._onScroll=function(t){this._scrollInitialized?this._scrollInitialized=!1:(this._scrollingPosition=this._getActualScrollPosition(),this._contentCtxLocation=this._getElementPageCoord(this._contentCtx),this._scrolledEvent.notify(this))},t.prototype._onResize=function(t,e){this._updateViewport(),this._updateViewportAlignment(),this._updateRulersStyle(),this._scrollingPosition=this._getActualScrollPosition(),this._onresizeEvent.notify(this),this._contentCtxLocation=this._getElementPageCoord(this._contentCtx)},t.prototype._updateViewport=function(){if(this.hasContent){var t=this.calculateZoomByZoomMode(this.zoomMode);if(!(null==t||t<0)){this._zoom=Math.min(Math.max(t,this.minZoom),this.getMaxZoom()),this._resizeContentElements();var e=this._getViewportLocation();this._contentCtx.style.left=e.x+"px",this._contentCtx.style.top=e.y+"px",this._viewportLocation=e,this._zoomedEvent.notify(this)}}},t.prototype._addSetCapture=function(t){var e=this._viewerElement;if(HTMLElement){var n=HTMLElement.prototype,r=["click","mousedown","mouseup","mousemove","mouseover","mouseout"],i=null;n.setCapture=function(){var t,e;document.querySelector("body").classList.add("aurigmaNoSelect"),i=this;try{for(var n=fw(r),o=n.next();!o.done;o=n.next())window.addEventListener(o.value,s,!0)}catch(a){t={error:a}}finally{try{o&&!o.done&&(e=n.return)&&e.call(n)}finally{if(t)throw t.error}}};var o=n.releaseCapture;n.releaseCapture=function(){var t,e;document.querySelector("body").classList.remove("aurigmaNoSelect"),null!=o&&o.call(this);try{for(var n=fw(r),a=n.next();!a.done;a=n.next())window.removeEventListener(a.value,s,!0)}catch(l){t={error:l}}finally{try{a&&!a.done&&(e=n.return)&&e.call(n)}finally{if(t)throw t.error}}i=null};var s=function(t){window.removeEventListener(t.type,s,!0);var n=t.path||t.composedPath();null==i||null!=e&&n.some((function(t){return t.id===e.id}))||i.dispatchEvent(a(t)),window.addEventListener(t.type,s,!0)},a=function(t){var e;document.createEvent?(e=document.createEvent("MouseEvent")).initMouseEvent(t.type,t.bubbles,t.cancelable,t.view,t.detail,t.screenX,t.screenY,t.clientX,t.clientY,t.ctrlKey,t.altKey,t.shiftKey,t.metaKey,t.button,t.relatedTarget):e=new MouseEvent(t.type,t);var n=t.buttons;return e.buttons!==n&&Object.defineProperty(e,"buttons",{get:function(){return n}}),e}}},t.prototype._getElementPageCoord=function(t){var e=t.getBoundingClientRect();return{left:e.left+window.scrollX,top:e.top+window.scrollY}},t.prototype._zoomToPagePoint=function(t,e,n){var r=this.pageToControlPoint(e,n),i=this.pageToWorkspacePoint(e,n,!0);this._setZoom(t);var o=this.workspaceToContentPoint(i),s=this.rulerEnabled?this._rulerWidth:0,a=new pg(Math.round(o.x-r.x+s),Math.round(o.y-r.y+s));this.scrollingPosition=a},t.prototype._updateViewportAlignment=function(){var t=this._getViewportLocation();this._contentCtx.style.left=t.x+"px",this._contentCtx.style.top=t.y+"px"},Object.defineProperty(t.prototype,"scrollingSize",{get:function(){var t=this.element,e=t.scrollWidth-t.clientWidth,n=t.scrollHeight-t.clientHeight;return e<0&&(e=0),n<0&&(n=0),new pg(Math.round(e),Math.round(n))},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"contentCtx",{get:function(){return this._contentCtx},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"clientSideOptions",{get:function(){return this._clientSideOptions},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"zoomConfig",{get:function(){return console.log("not implemented"),null},enumerable:!0,configurable:!0}),t.prototype.setCursor=function(t,e){if(void 0===e&&(e=!1),this._getElementForCursor().style.cursor=Zb.cursorToCss(t),null!=window){if((t=!0===e?t:tw.defaultCursor)===this._bodyCursor)return;window.document.querySelector("body").style.cursor=Zb.cursorToCss(t),this._bodyCursor=t}},t.prototype._getElementForCursor=function(){return this._contentCtx},Object.defineProperty(t.prototype,"delayedRefreshTimeout",{get:function(){return this._delayedRefreshTimeout},set:function(t){this._delayedRefreshTimeout=t},enumerable:!0,configurable:!0}),t.prototype.getMaxZoom=function(){return this._maxZoom>0?this._maxZoom:2.5},t.prototype.setMaxZoom=function(t){this._maxZoom=t,this.zoom>this.getMaxZoom()&&this.setZoom(this.getMaxZoom(),null)},Object.defineProperty(t.prototype,"minZoom",{get:function(){return this.zoomConfig?this.zoomConfig.min:this._minZoom>0?this._minZoom:.001},set:function(t){this._minZoom=t,this.zoom<this.minZoom&&this.setZoom(this.minZoom,null)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"screenXDpi",{get:function(){return this._screenXDpi},set:function(t){this._screenXDpi=t},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"screenYDpi",{get:function(){return this._screenYDpi},set:function(t){this._screenYDpi=t},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"scrollBarsStyle",{get:function(){return this._scrollBarsStyle},set:function(t){this._scrollBarsStyle=t},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"scrollBarWidth",{get:function(){if(null==this._actualScrollbarWidth){var t=document.createElement("div");t.style.visibility="hidden",t.style.width="100px",t.style.overflow="scroll",document.body.appendChild(t);var e=document.createElement("div");e.style.width="100%",t.appendChild(e),this._actualScrollbarWidth=100-e.offsetWidth,t.remove()}return this._actualScrollbarWidth},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"scrollingPosition",{get:function(){return this._scrollingPosition=this._getActualScrollPosition(),this._scrollingPosition.round()},set:function(t){var e=this.element;e.scrollLeft=t.x,e.scrollTop=t.y;var n=this.scrollingPosition;this._scrollingPosition=new pg(n.x,n.y),this._scrolledEvent.notify(this)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"viewportAlignment",{get:function(){return this._viewportAlignment},set:function(t){this._viewportAlignment=t,this._updateViewportAlignment(),this._drawRulers(),this._updateRulersStyle()},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"zoom",{get:function(){return this._zoom},enumerable:!0,configurable:!0}),t.prototype.setZoom=function(t,e){var n,r;if(e){if(e.skipZoomToCenter)return this._setZoom(t),this._zoom;n=e.centerPageX,r=e.centerPageY}else{var i=this._getElementPageCoord(this.element),o=this.rulerEnabled?this._rulerWidth:0,s=this._holderBounds.height-o;n=Math.round(i.left+o+(this._holderBounds.width-o)/2),r=Math.round(i.top+o+s/2)}return this._zoomToPagePoint(t,n,r),this._zoom},t.prototype._setZoom=function(t){this._zoom==t&&this._zoomMode==Xb.none||(this._zoom=Math.min(Math.max(t,this.minZoom),this.getMaxZoom()),this._zoomMode=Xb.none,this._updateViewport())},Object.defineProperty(t.prototype,"pinchZoomEnabled",{get:function(){return this._pinchZoomEnabled},set:function(t){this._pinchZoomEnabled=t},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"rulerEnabled",{get:function(){return this._rulerEnabled},set:function(t){var e=t?"block":"none";this._rulers.fullLeftRuller.style.display=e,this._rulers.fullTopRuller.style.display=e,this._rulers.leftRuller.style.display=e,this._rulers.topRuller.style.display=e,this._rulers.whiteRect.style.display=e,this._rulerEnabled=t,this.zoomMode=this.zoomMode},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"rulerScale",{get:function(){return this._rulerScale},set:function(t){if(t<=0)throw new Error("Ruler scale should be greater 0.");this._rulerScale=t,this._updateViewport()},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"rulerDivision",{get:function(){return this._rulerDivision},set:function(t){if(t<=0)throw new Error("Ruler division should be greater 0.");this._rulerDivision=t,this._updateViewport()},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"rulerOffsetX",{get:function(){return this._rulerOffsetX},set:function(t){this._rulerOffsetX=t,this._updateViewport()},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"rulerOffsetY",{get:function(){return this._rulerOffsetY},set:function(t){this._rulerOffsetY=t,this._updateViewport()},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"rulerWidth",{get:function(){return this._rulerWidth},set:function(t){this._rulerWidth=t,this._updateViewport()},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"zoomMode",{get:function(){return this._zoomMode},set:function(t){this._setZoomMode(t)},enumerable:!0,configurable:!0}),t.prototype._setZoomMode=function(t){this._zoomMode=t,this._updateViewport()},Object.defineProperty(t.prototype,"bestFitWhiteSpacePc",{get:function(){return 100*this._bestFitWhiteSpacePc},set:function(t){"number"==typeof t&&!isNaN(t)&&t>=0&&t<99&&(this._bestFitWhiteSpacePc=t/100),this.zoomMode=this.zoomMode},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"zoomQuality",{get:function(){return this._zoomQuality},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"status",{get:function(){return this._status},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"exceptionDescription",{get:function(){return this._exceptionDescription},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"returnValue",{get:function(){return this._returnValue},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"workspaceWidth",{get:function(){throw new Error("Not implemented")},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"workspaceHeight",{get:function(){throw new Error("Not implemented")},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"actualSizeHorizontalScale",{get:function(){throw new Error("Not implemented")},enumerable:!0,configurable:!0}),t.prototype.calculateZoomByZoomMode=function(t){if(null!=this._holderBounds){var e=this.workspaceWidth*this.screenXDpi/72,n=this.workspaceHeight*this.screenYDpi/72,r=this.rulerEnabled?this.rulerWidth+this._rulerBorderWidth:0,i=this._holderBounds,o=i.offsetWidth-r,s=i.offsetHeight-r,a=90===this._contentAngle||270===this._contentAngle,l=a?n:e,u=a?e:n,c=o/l,h=s/u,p=this.scrollBarWidth,d=(o-p)/l,f=(s-p)/u,g=this._scrollBarsStyle===Gb.always,m=this.zoom;switch(t){case Xb.bestFit:this._bestFitWhiteSpacePc>0&&(c=(o-o*this._bestFitWhiteSpacePc)/l,h=(s-s*this._bestFitWhiteSpacePc)/u,d=(o-p-(o-p)*this._bestFitWhiteSpacePc)/l,f=(s-p-(s-p)*this._bestFitWhiteSpacePc)/u),m=g?Math.min(d,f):Math.min(c,h);break;case Xb.bestFitShrinkOnly:m=g?Math.min(d,f):Math.min(c,h),m=Math.min(1,m);break;case Xb.fitToHeight:m=g?f:Math.round(h*l)<=o?h:f;break;case Xb.fitToHeightShrinkOnly:m=g?Math.min(1,f):Math.round(Math.min(1,h)*l)<=o?Math.min(1,h):Math.min(1,f);break;case Xb.fitToWidth:m=g?d:Math.round(c*u)<=s?c:d;break;case Xb.fitToWidthShrinkOnly:m=g?Math.min(1,d):Math.round(Math.min(1,c)*u)<=s?Math.min(1,c):Math.min(1,d)}return m}},t.prototype.clearRenderCtx=function(t){for(;t.childNodes.length>0;)t.removeChild(t.childNodes[0])},t.prototype.workspaceToContentPoint=function(t){return this.controlToContentPoint(this.workspaceToControlPoint(t))},t.prototype.controlToContentPoint=function(t){var e=this._getViewportLocation(),n=this._getActualScrollPosition(),r=new pg(0,0),i=t.y;return r.x=t.x-e.x+n.x,r.y=i-e.y+n.y,r.round()},t.prototype.controlToPagePoint=function(t){var e=this._getElementPageCoord(this.element),n=t.y+e.top;return new pg(Math.round(t.x+e.left),Math.round(n))},t.prototype.contentToControlPoint=function(t){var e=this._getViewportLocation(),n=this._getActualScrollPosition(),r=new pg(0,0);return r.x=t.x+e.x-n.x,r.y=t.y+e.y-n.y,r.round()},t.prototype.controlToContentRectangle=function(t){var e=new pg(t.left,t.top),n=new pg(t.left+t.width,t.top+t.height);return e=this.controlToContentPoint(e),n=this.controlToContentPoint(n),new fg(e.x,e.y,n.x-e.x,n.y-e.y)},t.prototype.contentToControlRectangle=function(t){var e=new pg(t.left,t.top),n=new pg(t.left+t.width,t.top+t.height);return e=this.contentToControlPoint(e),n=this.contentToControlPoint(n),new fg(e.x,e.y,n.x-e.x,n.y-e.y)},t.prototype.workspaceToControlPoint=function(t){var e=this.zoom,n=t.y,r=new pg(Math.round(t.x*e*this._screenXDpi/72),Math.round(n*e*this._screenYDpi/72));return this.contentToControlPoint(r).round()},t.prototype.workspaceToWhiteSpacePoint=function(t){var e=this.workspaceToContentPoint(t),n=this.rulerEnabled?this.rulerWidth:0,r=this._getViewportLocation();return new pg(e.x-n+r.x,e.y-n+r.y)},t.prototype.whitespaceToWorkspacePoint=function(t){var e=this.rulerEnabled?this.rulerWidth:0,n=this._getViewportLocation();return this.controlToWorkspacePoint(this.contentToControlPoint(new pg(t.x-n.x+e,t.y-n.y+e)))},t.prototype.controlToWorkspacePoint=function(t){var e=this.zoom,n=this.controlToContentPoint(t);return new pg(n.x/(e*this._screenXDpi/72),n.y/(e*this._screenYDpi/72))},t.prototype.workspaceToControlRectangle=function(t){var e=this.zoom,n=this._screenXDpi/72*e,r=this._screenYDpi/72*e,i=new fg(Math.round(t.left*n),Math.round(t.top*r),Math.round(t.width*n),Math.round(t.height*r));return this.contentToControlRectangle(i)},t.prototype.pageToControlPoint=function(t,e){var n=this._getElementPageCoord(this.element),r=e-n.top;return new pg(Math.round(t-n.left),Math.round(r))},t.prototype.pageToWorkspacePoint=function(t,e,n){void 0===n&&(n=!1);var r=this.controlToWorkspacePoint(this.pageToControlPoint(t,e)),i=new pg(r.x,r.y),o=this.contentAngle;return o>0&&!0!==n&&(i.rotate(-o),90===o?i.translate(0,this._canvas.workspaceHeight):180===o?i.translate(this._canvas.workspaceWidth,this._canvas.workspaceHeight):270===o&&i.translate(this._canvas.workspaceWidth,0)),new pg(i.x,i.y)},t.prototype.controlToWorkspaceRectangle=function(t){var e=this.zoom,n=1/(e*this._screenXDpi/72),r=1/(e*this._screenYDpi/72),i=this.controlToContentRectangle(t);return new fg(i.left*n,i.top*r,i.width*n,i.height*r)},t.prototype.abort=function(){this._status==Qb.busy&&(this._callbackContext++,this._exceptionDescription="",this._status=Qb.ready)},t.prototype.dispose=function(){this._disposeRulers()},t.prototype.delayedRefresh=function(){this._refreshTimer&&window.clearTimeout(this._refreshTimer);var t=Zb.createBoundedWrapper(this,(function(){this._refreshTimer=null,this.refresh()}));this._refreshTimer=window.setTimeout(t,this._delayedRefreshTimeout)},t.prototype._refresh=function(){},t.prototype.refresh=function(){this._status==Qb.busy?this._needToRefresh=!0:(this._needToRefresh=!1,this._refresh())},t.prototype._raiseInvokingCallbackRequest=function(){this._invokingCallbackRequestEvent.notify(this)},t.prototype.add_onResize=function(t){this._onresizeEvent.add(t)},t.prototype.remove_onResize=function(t){this._onresizeEvent.remove(t)},t.prototype.add_invokingCallbackRequest=function(t){this._invokingCallbackRequestEvent.add(t)},t.prototype.remove_invokingCallbackRequest=function(t){this._invokingCallbackRequestEvent.remove(t)},t.prototype.add_workspaceChanged=function(t){this._workspaceChangedEvent.add(t)},t.prototype.remove_workspaceChanged=function(t){this._workspaceChangedEvent.remove(t)},t.prototype.add_scrolled=function(t){this._scrolledEvent.add(t)},t.prototype.remove_scrolled=function(t){this._scrolledEvent.remove(t)},t.prototype.add_statusChanged=function(t){this._statusChangedEvent.add(t)},t.prototype.remove_statusChanged=function(t){this._statusChangedEvent.remove(t)},t.prototype.add_pinchStart=function(t){this._pinchStartEvent.add(t)},t.prototype.remove_pinchStart=function(t){this._pinchStartEvent.remove(t)},t.prototype.add_pinchStop=function(t){this._pinchStopEvent.add(t)},t.prototype.remove_pinchStop=function(t){this._pinchStopEvent.remove(t)},t.prototype.add_zoomed=function(t){this._zoomedEvent.add(t)},t.prototype.remove_zoomed=function(t){this._zoomedEvent.remove(t)},t.prototype.add_click=function(t){this._clickEvent.add(t)},t.prototype.remove_click=function(t){this._clickEvent.remove(t)},t.prototype.add_mouseDown=function(t){this._mouseDownEvent.add(t)},t.prototype.remove_mouseDown=function(t,e){this._mouseDownEvent.remove(t)},t.prototype.add_mouseMove=function(t){this._mouseMoveEvent.add(t)},t.prototype.remove_mouseMove=function(t){this._mouseMoveEvent.remove(t)},t.prototype.add_mouseUp=function(t){this._mouseUpEvent.add(t)},t.prototype.remove_mouseUp=function(t){this._mouseUpEvent.remove(t)},t.prototype.add_workspaceClick=function(t){this._workspaceClickEvent.add(t)},t.prototype.remove_workspaceClick=function(t){this._workspaceClickEvent.remove(t)},t.prototype.add_workspaceDoubleClick=function(t){this._workspaceDoubleClickEvent.add(t)},t.prototype.remove_workspaceDoubleClick=function(t){this._workspaceDoubleClickEvent.remove(t)},t.prototype.add_workspaceMouseDown=function(t){this._workspaceMouseDownEvent.add(t)},t.prototype.remove_workspaceMouseDown=function(t){this._workspaceMouseDownEvent.remove(t)},t.prototype.add_workspaceMouseMove=function(t){this._workspaceMouseMoveEvent.add(t)},t.prototype.remove_workspaceMouseMove=function(t){this._workspaceMouseMoveEvent.remove(t)},t.prototype.add_workspaceMouseUp=function(t){this._workspaceMouseUpEvent.add(t)},t.prototype.remove_workspaceMouseUp=function(t){this._workspaceMouseUpEvent.remove(t)},t}(),_w=function(){function t(){var t=this;this._visible=!1,this._changedEvent=new og,this._onSurfacePropertyChanged=function(e,n){switch(n){case"width":case"height":t._updateGrid()}}}return Object.defineProperty(t.prototype,"surface",{get:function(){return this._surface},set:function(t){this._surface!==t&&(null!=this._surface&&this.surface.removePropertyChanged(this._onSurfacePropertyChanged),this._surface=t,null!=this._surface&&this.surface.addPropertyChanged(this._onSurfacePropertyChanged),this._updateGrid())},enumerable:!0,configurable:!0}),t.prototype.setConfig=function(t,e,n){this._config=t,this._unit=e,this._customUnitScale=n},Object.defineProperty(t.prototype,"gridContainers",{get:function(){var t=new nm;return null!=this._gridContainer&&t.add(this._gridContainer),t},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"gridContainer",{get:function(){return this._gridContainer},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"visible",{get:function(){return this._visible},set:function(t){this._visible!==t&&(this._visible=t,this._updateGrid())},enumerable:!0,configurable:!0}),t.prototype.addChanged=function(t){this._changedEvent.add(t)},t.prototype.removeChanged=function(t){this._changedEvent.remove(t)},t.prototype._updateGrid=function(){null!=this._gridContainer&&this._width==this.surface.width&&this._height==this.surface.height||(this._gridContainer=this._createGrid()),null!=this._gridContainer&&this._gridContainer.visible!==this._visible&&(this._gridContainer.visible=this._visible,this._changedEvent.fire())},t.prototype._createGrid=function(){if(null==this.surface)return null;if(this._width=this.surface.width,this._height=this.surface.height,0===this.surface.width||0===this.surface.height)return null;if(null==this._config||null==this._unit)return null;var t=new im;t.locked=!0,t.visible=!1,t.name="Grid";var e=pw(this._config),n=this._config.stepX/e,r=this._config.stepY/e;if(n>0&&r>0){var i=Math.round(this._width/n)+1,o=Math.round(this._height/r)+1;if(i>0&&i!==Number.POSITIVE_INFINITY&&o>0&&o!==Number.POSITIVE_INFINITY){var s=new _v(0,0,i,o,n,r);s.horizontalLineColor=bm.createColor(this._config.horizontalColor),s.verticalLineColor=bm.createColor(this._config.verticalColor),s.lineWidth=this._config.lineWidthPx,s.fixedLineWidth=!0,t.items.add(s)}}return t},t}(),bw=function(){return(bw=Object.assign||function(t){for(var e,n=1,r=arguments.length;n<r;n++)for(var i in e=arguments[n])Object.prototype.hasOwnProperty.call(e,i)&&(t[i]=e[i]);return t}).apply(this,arguments)},ww=function(t){var e="function"==typeof Symbol&&Symbol.iterator,n=e&&t[e],r=0;if(n)return n.call(t);if(t&&"number"==typeof t.length)return{next:function(){return t&&r>=t.length&&(t=void 0),{value:t&&t[r++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")},Cw=function(){function t(e){var n=this;this._changedEvent=new ag,this._visibilityChangedEvent=new og,this._containers=null,this._visible=!1,this._printZoneConf=t._getDefaultPrintZoneConfig(),this._onPrintAreaAdded=function(t){n._clearCurrentSafetyLinesContainers(),n._subscribePrintAreaEvents(t.item),n._changedEvent.notify(n)},this._onPrintAreaRemoved=function(t){n._clearCurrentSafetyLinesContainers(),n._unsubscribePrintAreaEvents(t.item),n._changedEvent.notify(n)},this._onSafetyLinePropertyChanged=function(){n._clearCurrentSafetyLinesContainers(),n._changedEvent.notify(n)},this._onSafetyLinesCollectionRemoved=function(t){n._unsubscribeSafetyLineEvents(t.item),n._clearCurrentSafetyLinesContainers(),n._changedEvent.notify(n)},this._onSafetyLinesCollectionAdded=function(t){n._subscribeSafetyLineEvents(t.item),n._clearCurrentSafetyLinesContainers(),n._changedEvent.notify(n)},this._onPrintAreaPropertyChanged=function(t,e){"bleed"!==e&&"slug"!==e&&"bounds"!==e||(n._clearCurrentSafetyLinesContainers(),n._changedEvent.notify(n))},this._onPrintAreaPropertyChangedDebounce=lg.debounce(this._onPrintAreaPropertyChanged,100),this.conf=e}return Object.defineProperty(t.prototype,"conf",{set:function(e){var n=t._getDefaultPrintZoneConfig();this._printZoneConf.bleed=bw(bw({},n.bleed),(null==e?void 0:e.bleed)||{}),this._printZoneConf.trim=bw(bw({},n.trim),(null==e?void 0:e.trim)||{})},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"surface",{get:function(){return this._surface},set:function(t){var e=this;this._surface!==t&&(null!=this._surface&&(this._surface.printAreas.remove_itemAdded(this._onPrintAreaAdded),this._surface.printAreas.remove_itemRemoved(this._onPrintAreaRemoved),this._surface.printAreas.forEach((function(t){return e._subscribePrintAreaEvents(t)}))),this._surface=t,this._clearCurrentSafetyLinesContainers(),null!=this._surface&&(this._surface.printAreas.add_itemAdded(this._onPrintAreaAdded),this._surface.printAreas.add_itemRemoved(this._onPrintAreaRemoved),this._surface.printAreas.forEach((function(t){return e._subscribePrintAreaEvents(t)}))))},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"safetyLinesContainers",{get:function(){return null==this._containers&&(this._containers=this._buildSafetyLinesContainers()),this._containers},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"visible",{get:function(){return this._visible},set:function(t){var e,n;if(this._visible!==t&&(this._visible=t,null!=this._containers)){var r=!1;try{for(var i=ww(this._containers),o=i.next();!o.done;o=i.next()){var s=o.value;s.visible!==this._visible&&(s.visible=this._visible,r=!0)}}catch(a){e={error:a}}finally{try{o&&!o.done&&(n=i.return)&&n.call(i)}finally{if(e)throw e.error}}r&&this._visibilityChangedEvent.notify()}},enumerable:!0,configurable:!0}),t.prototype.addChanged=function(t){this._changedEvent.add(t)},t.prototype.removeChanged=function(t){this._changedEvent.remove(t)},t.prototype.addVisibilityChanged=function(t){this._visibilityChangedEvent.add(t)},t.prototype.removeVisibilityChanged=function(t){this._visibilityChangedEvent.remove(t)},t.prototype._clearCurrentSafetyLinesContainers=function(){this._containers=null},t.prototype._subscribePrintAreaEvents=function(t){var e=this;t.safetyLines.add_itemAdded(this._onSafetyLinesCollectionAdded),t.safetyLines.add_itemRemoved(this._onSafetyLinesCollectionRemoved),t.safetyLines.forEach((function(t){return e._subscribeSafetyLineEvents(t)})),t.addPropertyChanged(this._onPrintAreaPropertyChangedDebounce)},t.prototype._unsubscribePrintAreaEvents=function(t){var e=this;t.safetyLines.forEach((function(t){return e._unsubscribeSafetyLineEvents(t)})),t.safetyLines.remove_itemAdded(this._onSafetyLinesCollectionAdded),t.safetyLines.remove_itemRemoved(this._onSafetyLinesCollectionRemoved),t.removePropertyChanged(this._onPrintAreaPropertyChangedDebounce)},t.prototype._subscribeSafetyLineEvents=function(t){t.addPropertyChanged(this._onSafetyLinePropertyChanged)},t.prototype._unsubscribeSafetyLineEvents=function(t){t.removePropertyChanged(this._onSafetyLinePropertyChanged)},t.prototype._buildSafetyLinesContainers=function(){var t,e,n,r,i=new nm;if(null==this.surface)return i;try{for(var o=ww(this.surface.printAreas),s=o.next();!s.done;s=o.next()){var a=s.value;if(null!=a.safetyLines)try{for(var l=(n=void 0,ww(a.safetyLines)),u=l.next();!u.done;u=l.next()){var c=u.value,h=this._createContainer("SafetyLines["+a.name+"]"),p=this._createDashedRectangleFromSafetyLine(a.bounds,c);h.items.add(p),i.add(h)}}catch(f){n={error:f}}finally{try{u&&!u.done&&(r=l.return)&&r.call(l)}finally{if(n)throw n.error}}if(!a.bleed.isEmpty){h=this._createContainer("Bleed["+a.name+"]"),i.add(h);var d=this._printZoneConf.bleed;p=this._createDashedRect(a.getBounds(Pm.Bleed),d.width,d.step,bm.createColor(d.color),"bleed",d.altColor&&bm.createColor(d.altColor)),h.items.add(p)}a.slug.isEmpty&&a.bleed.isEmpty||(h=this._createContainer("Trim["+a.name+"]"),i.add(h),p=this._createDashedRect(a.bounds,(d=this._printZoneConf.trim).width,d.step,bm.createColor(d.color),"trim",d.altColor&&bm.createColor(d.altColor)),h.items.add(p))}}catch(g){t={error:g}}finally{try{s&&!s.done&&(e=o.return)&&e.call(o)}finally{if(t)throw t.error}}return i},t.prototype._createContainer=function(t){var e=new im;return e.locked=!0,e.name="Bleed["+t+"]",e.visible=this._visible,e},t.prototype._createDashedRectangleFromSafetyLine=function(t,e){var n=e.getRectangle(t),r=e.getCornerRadiuses(t);return this._createDashedRect(n,e.widthPx,e.stepPx,e.color,e.name,e.altColor,r)},t.prototype._createDashedRect=function(t,e,n,r,i,o,s){var a=Eg.roundedRectangle(t.left,t.top,t.width,t.height,s),l=new uy(a);return l.name=w_.voPrefix+"_"+i+"_shape",l.borderColor=r,l.fillColor=bm.createColor("transparent"),l.fixedBorderWidth=!0,l.borderWidth=e,null!=o&&(l.altBorderColor=o),l.dash=[n,3],l},t.prototype.dispose=function(){var t=this;null!=this._surface&&(this._surface.printAreas.remove_itemAdded(this._onPrintAreaAdded),this._surface.printAreas.remove_itemRemoved(this._onPrintAreaRemoved),this._surface.printAreas.forEach((function(e){return t._unsubscribePrintAreaEvents(e)})))},t._getDefaultPrintZoneConfig=function(){return{bleed:{color:"rgb(255, 0, 0)",altColor:"rgb(255, 0, 0)",step:1,width:1},trim:{color:"rgb(255, 0, 0)",step:5,width:1}}},t}(),xw=function(){function t(t,e){null==t&&(t={}),null==e&&(e=!0),this.noPrint=null==t.NoPrint?e:!!t.NoPrint,this.noShow=null==t.NoShow?e:!!t.NoShow,this.allowDelete=null==t.AllowDelete?e:!!t.AllowDelete,this.allowMoveHorizontal=null==t.AllowMoveHorizontal?e:!!t.AllowMoveHorizontal,this.allowMoveVertical=null==t.AllowMoveVertical?e:!!t.AllowMoveVertical,this.allowRotate=null==t.AllowRotate?e:!!t.AllowRotate,this.resizeGrips=null==t.ResizeGrips?new Lm(e,e):Lm._fromData(t.ResizeGrips),this.allowEditContent=null==t.AllowEditContent?e:!!t.AllowEditContent,this.showSelectButton=null==t.ShowSelectButton?e:!!t.ShowSelectButton,this.showHandleButton=null==t.ShowHandleButton?e:!!t.ShowHandleButton,this.showDoneButton=null==t.ShowDoneButton?e:!!t.ShowDoneButton,this.showDeleteToolbarButton=null==t.ShowDeleteToolbarButton?e:!!t.ShowDeleteToolbarButton,this.showEditToolbarButton=null==t.ShowEditToolbarButton?e:!!t.ShowEditToolbarButton,this.showSelectToolbarButton=null==t.ShowSelectToolbarButton?e:!!t.ShowSelectToolbarButton,this.allowDragAndDrop=null==t.AllowDragAndDrop?e:!!t.AllowDragAndDrop}return t.prototype.clone=function(){var e=new t;for(var n in this)this.hasOwnProperty(n)&&("resizeGrips"!==n?e[n]=this[n]:e.resizeGrips=null!=this.resizeGrips?this.resizeGrips.clone():null);return e},Object.defineProperty(t.prototype,"allowProportionalResize",{get:function(){return this.resizeGrips.getCornerProportional()},set:function(t){this.resizeGrips.setCornerProportional(t)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"allowArbitraryResize",{get:function(){return!!this.resizeGrips&&(this.resizeGrips.getCornerArbitrary()||this.resizeGrips.edge)},set:function(t){this.resizeGrips.setCornerArbitrary(t),this.resizeGrips.edge=t},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"allowResize",{get:function(){return this.allowProportionalResize||this.allowArbitraryResize},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"allowFreeMove",{get:function(){return this.allowMoveHorizontal&&this.allowMoveVertical},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"allowMove",{get:function(){return this.allowMoveHorizontal||this.allowMoveVertical},enumerable:!0,configurable:!0}),t}(),Sw=function(){function t(t){this.__type="ItemHandlerData",this.P=[],this.Tg=null,this.ID="vo"+(new Date).getTime()+Math.round(1e3*Math.random()),t&&(this.P=t.controlPoints,this.Tg=t.tag,this.ID=t.uniqueId)}return t.prototype.applyState=function(t,e){e&&(e.beginUpdate(),e.controlPoints=t.P,e.tag=t.Tg,e.uniqueId=t.ID,e.endUpdate())},t}(),Pw=function(){function t(t){this.id=t}return t.prototype.isEmpty=function(){return null==this.color&&null==this.fill&&null==this.border&&null==this.altBorder&&null==this.altColor&&null==this.stroke&&null==this.shadow&&null==this.verticalLineColor&&null==this.horizontalLineColor},t}(),Iw=function(){function t(){}return t.drawLine=function(e,n,r,i,o,s,a,l){void 0===l&&(l=1),!t.isFullTransparentColor(a)&&s>0&&(null==l||l>0)&&(e.save(),l&&(e.globalAlpha=e.globalAlpha*l),e.lineWidth=s,e.strokeStyle=a,e.beginPath(),e.moveTo(n,r),e.lineTo(i,o),e.closePath(),e.stroke(),e.restore())},t.drawDashedLine=function(e,n,r,i,o,s,a,l,u,c,h){if(void 0===h&&(h=1),s>0&&u>0&&c>0&&(null==h||h>0)){if(e.save(),h&&(e.globalAlpha=e.globalAlpha*h),e.lineWidth=s,i<n){var p=n;n=i,i=p,p=r,r=o,o=p}var d,f=i-n,g=o-r,m=u+c,y=Math.sqrt(f*f+g*g),v=Math.floor(y/m),_=(f/=y/m)*(u/m),b=f*(c/m),w=(g/=y/m)*(u/m),C=g*(c/m),x=n,S=r;if(!t.isFullTransparentColor(a)){for(e.strokeStyle=a,e.beginPath(),e.moveTo(x,S),d=0;d<v;d++)e.lineTo(x+=_,S+=w),x+=b,S+=C,d+1<v&&e.moveTo(x,S);x+_<=i&&S+w<=o?(e.moveTo(x,S),e.lineTo(x+_,S+w)):(e.moveTo(x,S),e.lineTo(i,o)),e.closePath(),e.stroke()}if(x=n+_,S=r+w,!t.isFullTransparentColor(l)){for(e.strokeStyle=l,e.beginPath(),e.moveTo(x,S),d=0;d<v;d++)e.lineTo(x+=b,S+=C),x+=_,S+=w,d+1<v&&e.moveTo(x,S);x<i&&S<o&&(e.moveTo(x,S),e.lineTo(i,o)),e.closePath(),e.stroke()}e.restore()}},t.drawPolyline=function(e,n,r,i,o){if(!t.isFullTransparentColor(i)&&r>0&&(null==o||o>0)&&n&&n.length>1){e.save(),o&&(e.globalAlpha=e.globalAlpha*o),e.lineWidth=r,e.strokeStyle=i,e.beginPath(),e.moveTo(n[0].x,n[0].y);for(var s=1,a=n.length;s<a;++s){var l=n[s];e.lineTo(l.x,l.y)}e.stroke(),e.restore()}},t.drawPath=function(e,n,r,i,o,s,a){t.path(e,n,r,i,null,o,s,a,[])},t.fillPath=function(e,n,r,i,o,s){t.path(e,n,r,i,o,0,null,s,[])},t.path=function(e,n,r,i,o,s,a,l,u){var c=null!=a&&!t.isFullTransparentColor(a)&&s>0,h=null!=o&&!t.isFullTransparentColor(o);if((c||h)&&(null==l||l>0)){e.save(),l&&(e.globalAlpha=e.globalAlpha*l);var p=i.toMatrix();if(e.translate(r.x,r.y),e.transform(p.m00,p.m10,p.m01,p.m11,p.m02,p.m12),e.translate(-r.x,-r.y),n instanceof Eg?n.draw(e):"function"==typeof n.addToContext&&n.addToContext(e),h&&(e.fillStyle=o,e.fill()),c){if(n instanceof Eg&&!xg(i.scaleX,i.scaleY)){e.restore(),e.save(),l&&(e.globalAlpha=l);var d=n.clone();d.transform(i,r),d.draw(e)}else if(s/=i.scaleX,u&&u.length>0)for(var f=0;f<u.length;f++)u[f]/=i.scaleX;e.lineWidth=s,e.strokeStyle=a,e.setLineDash(u),e.stroke()}e.restore()}},t.clipPath=function(t,e){e.draw(t),t.clip()},t.drawImage=function(e,n,r,i,o,s,a,l,u){if(void 0===s&&(s=!1),void 0===a&&(a=null),void 0===l&&(l=1),void 0===u&&(u=null),null==l||l>0){e.save(),l&&(e.globalAlpha=e.globalAlpha*l),e.translate(r.centerX,r.centerY),e.rotate(bg(r.angle));var c=null!=u?u.width:n.naturalWidth||e.canvas.width,h=null!=u?u.height:n.naturalHeight||e.canvas.height,p=null!=i&&0!==i&&null!=o&&0!==o&&Math.abs(c-r.width*i)<1&&Math.abs(h-r.height*o)<1;s||(s=(e.imageSmoothingEnabled||!0===e.msImageSmoothingEnabled)&&Math.abs(r.angle)%90<.01&&p),s&&(e.imageSmoothingEnabled=!1,e.msImageSmoothingEnabled=!1);try{p?(e.scale(1/i,1/o),null!=u?e.drawImage(n,u.left,u.top,u.width,u.height,-r.width*i/2,-r.height*o/2,c,h):e.drawImage(n,-r.width*i/2,-r.height*o/2,c,h),e.scale(i,o)):null!=u?e.drawImage(n,u.left,u.top,u.width,u.height,-r.width/2,-r.height/2,r.width,r.height):e.drawImage(n,-r.width/2,-r.height/2,r.width,r.height),a&&!t.isFullTransparentColor(a)&&(e.fillStyle=a,e.fillRect(-r.width/2,-r.height/2,r.width,r.height))}catch(d){}s&&(e.imageSmoothingEnabled=!0,e.msImageSmoothingEnabled=!0),e.restore()}},t.drawRectangle=function(e,n,r,i,o){t.rectangle(e,n,r,i,null,o)},t.fillRectangle=function(e,n,r,i){t.rectangle(e,n,0,null,r,i)},t.rectangle=function(e,n,r,i,o,s){void 0===o&&(o=null),void 0===s&&(s=1);var a=i&&!t.isFullTransparentColor(i)&&r>0,l=o&&!t.isFullTransparentColor(o);(a||l)&&(null==s||s>0)&&(e.save(),s&&(e.globalAlpha=e.globalAlpha*s),e.translate(n.centerX,n.centerY),e.rotate(bg(n.angle)),l&&(e.fillStyle=o,e.fillRect(-n.width/2,-n.height/2,n.width,n.height)),a&&(e.lineWidth=r,e.strokeStyle=i,e.strokeRect(-n.width/2,-n.height/2,n.width,n.height)),e.restore())},t.isFullTransparentColor=function(t){if(!t)return!1;var e=t.A||t.a;return 0===e||!("string"!=typeof t||!(e=/^\s*rgba\(\s*\d{1,3}\s*,\s*\d{1,3}\s*,\s*\d{1,3}\s*\,\s*(\d{1,}(\.\d{1,})?)\s*\)\s*;{0,1}\s*$/i.exec(t)))&&0===parseFloat(e[1])},t.clearCanvas=function(t,e){void 0===e&&(e=!1),e&&(t.save(),t.setTransform(1,0,0,1,0,0)),t.clearRect(0,0,t.canvas.width,t.canvas.height),e&&t.restore()},t.drawRoundedRectangle=function(t,e,n){t.roundedRectangle(e.left,e.top,e.width,e.height,n)},t}();CanvasRenderingContext2D.prototype.roundedRectangle=function(t,e,n,r,i){var o=2*Math.PI/2,s=2*Math.PI/4;this.beginPath(),this.arc(i+t,i+e,i,-s,o,!0),this.lineTo(t,e+r-i),this.arc(i+t,r-i+e,i,o,s,!0),this.lineTo(t+n-i,e+r),this.arc(t+n-i,e+r-i,i,s,0,!0),this.lineTo(t+n,e+i),this.arc(t+n-i,e+i,i,0,-s,!0),this.lineTo(t+i,e),this.stroke(),this.fill(),this.closePath()},function(t){t[t.Hidden=0]="Hidden",t[t.Bottom=1]="Bottom",t[t.Active=2]="Active",t[t.Top=3]="Top"}(dw||(dw={}));var Ew,Tw=function(){function t(){var t=this;this._promise=new Promise((function(e,n){t._resolve=e,t._reject=n}))}return Object.defineProperty(t.prototype,"promise",{get:function(){return this._promise},enumerable:!0,configurable:!0}),t.prototype.resolve=function(t){this._resolve(t)},t.prototype.reject=function(t){this._reject(t)},t}(),Aw=function(t,e,n,r){return new(n||(n=Promise))((function(i,o){function s(t){try{l(r.next(t))}catch(e){o(e)}}function a(t){try{l(r.throw(t))}catch(e){o(e)}}function l(t){var e;t.done?i(t.value):(e=t.value,e instanceof n?e:new n((function(t){t(e)}))).then(s,a)}l((r=r.apply(t,e||[])).next())}))},kw=function(t,e){var n,r,i,o,s={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]};return o={next:a(0),throw:a(1),return:a(2)},"function"==typeof Symbol&&(o[Symbol.iterator]=function(){return this}),o;function a(o){return function(a){return function(o){if(n)throw new TypeError("Generator is already executing.");for(;s;)try{if(n=1,r&&(i=2&o[0]?r.return:o[0]?r.throw||((i=r.return)&&i.call(r),0):r.next)&&!(i=i.call(r,o[1])).done)return i;switch(r=0,i&&(o=[2&o[0],i.value]),o[0]){case 0:case 1:i=o;break;case 4:return s.label++,{value:o[1],done:!1};case 5:s.label++,r=o[1],o=[0];continue;case 7:o=s.ops.pop(),s.trys.pop();continue;default:if(!(i=(i=s.trys).length>0&&i[i.length-1])&&(6===o[0]||2===o[0])){s=0;continue}if(3===o[0]&&(!i||o[1]>i[0]&&o[1]<i[3])){s.label=o[1];break}if(6===o[0]&&s.label<i[1]){s.label=i[1],i=o;break}if(i&&s.label<i[2]){s.label=i[2],s.ops.push(o);break}i[2]&&s.ops.pop(),s.trys.pop();continue}o=e.call(t,s)}catch(a){o=[6,a],r=0}finally{n=i=0}if(5&o[0])throw o[1];return{value:o[0]?o[1]:void 0,done:!0}}([o,a])}}},Ow=function(){function t(t){var e=this;this._isDisposed=!1,this._tag=null,this._afterUpdateCallbacks=[],this._modelItem=null,this._memoryCanvas=null,this._textureCanvas=null,this._skipPropertyChanged=!1,this._skippedPropertyName=null,this._baseOnItemPropertyChanged=function(t,n){e._skipPropertyChanged?e._skippedPropertyName=n:e._onItemPropertyChanged(t,n)},this._isCurrentWebServiceCallForAll=null,this._updating=!1,this._readyEvent=new ag,this._changingEvent=new og,this._changedEvent=new og,this._itemPropertyChangedEvent=new ag,this._setItem(t),this._controlPoints=[],this._layer=null,this._tag=null,this._permissions=this._createItemHandlerPermissions(),this._uniqueId=this._createUniqueID(),this._callbacks=[],this._renderState=dw.Hidden}return Object.defineProperty(t.prototype,"item",{get:function(){return this._modelItem},set:function(t){this._setItem(t)},enumerable:!0,configurable:!0}),t.prototype._getItem=function(){return this._modelItem},t.prototype._setItem=function(t){this._unsubscribeItemEvents(),this._modelItem=t,this._subscribeItemEvents()},t.prototype._subscribeItemEvents=function(){null!=this._modelItem&&this._modelItem.addPropertyChanged(this._baseOnItemPropertyChanged)},t.prototype._unsubscribeItemEvents=function(){null!=this._modelItem&&this._modelItem.removePropertyChanged(this._baseOnItemPropertyChanged)},t.prototype._onItemPropertyChanged=function(t,e){switch(e){case"locked":case"opacity":case"blendMode":null!=this.canvas&&(this.canvas.updateSelection(),this.canvas.redraw()),this.raiseChanged();break;case"name":null!=this.canvas&&this.canvas.updateHoverDiv();break;case"transform":null!=this.canvas&&(this.canvas.updateSelection(),this.canvas.redraw()),this._transformChanged();break;case"visible":this.quickUpdate(),null!=this.canvas&&this.canvas.redraw(),this.raiseChanged();break;case"manipulationPermissions":case"visualizationPermissions":case"itemPermissions":case"permissions":this._permissions=null,this.quickUpdate(),this.canvas&&this.canvas.redraw(),this.raiseChanged(),this._updateVisibility()}this._itemPropertyChangedEvent.notify(this,e)},t.prototype._createUniqueID=function(){return"vo"+(new Date).getTime()+Math.round(1e3*Math.random())},t.prototype._updateVisibility=function(){},Object.defineProperty(t.prototype,"ready",{get:function(){return!0},enumerable:!0,configurable:!0}),t.prototype._isLoadingImage=function(){return!1},t.prototype._setIsLoadingImage=function(t){throw new Xf},Object.defineProperty(t.prototype,"isLoadingImage",{get:function(){return this._isLoadingImage()},set:function(t){this.isLoadingImage!==t&&this._setIsLoadingImage(t)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"uniqueId",{get:function(){return this._uniqueId},set:function(t){this._uniqueId=t},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"renderState",{get:function(){return this._renderState},set:function(t){this._renderState=t},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"parentGroupItemHandler",{get:function(){return null!=this.item.parentGroupItem&&null!=this.canvas?this.canvas.handlerFactory.get(this.item.parentGroupItem):null},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"blendMode",{get:function(){return this.item.blendMode},enumerable:!0,configurable:!0}),t.prototype.hasBlendMode=function(){return null!=this.item.blendMode&&this.item.blendMode!=Xm.None&&this.item.blendMode!=Xm.Normal},Object.defineProperty(t.prototype,"controlPoints",{get:function(){return this._controlPoints},set:function(t){this._controlPoints=t,this.raiseChanged()},enumerable:!0,configurable:!0}),t.prototype._createItemHandlerPermissions=function(){var t=this.item.manipulationPermissions,e=this.item.visualizationPermissions,n=this.item.itemPermissions;return new xw({AllowDelete:t.allowDelete,AllowMoveHorizontal:t.allowMoveHorizontal,AllowMoveVertical:t.allowMoveVertical,AllowRotate:t.allowRotate,ResizeGrips:null!=t.resizeGrips?{Edge:t.resizeGrips.edge,Corner:t.resizeGrips.corner}:null,AllowDragAndDrop:t.allowDragAndDrop,NoPrint:e.noPrint,NoShow:e.noShow,ShowDeleteToolbarButton:n.itemToolbarPermissions.showDeleteButton,ShowEditToolbarButton:n.itemToolbarPermissions.showEditButton,ShowSelectToolbarButton:n.itemToolbarPermissions.showSelectButton},!0)},t.prototype.getPermissions=function(){return null==this._permissions&&(this._permissions=this._createItemHandlerPermissions()),this._permissions},t.prototype._transformChanged=function(){this.raiseChanged()},Object.defineProperty(t.prototype,"tag",{get:function(){return this._tag},set:function(t){this._tag=t,this.raiseChanged()},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"canvas",{get:function(){return this._canvas},set:function(t){if(t!==this._canvas){var e=this._canvas;this._canvas=t,null!=this._canvas?this._onAddedOnCanvas(t):this._onRemovedFromCanvas(e)}},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"layer",{get:function(){return this._layer},set:function(t){this._layer=t,this.quickUpdate()},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"index",{get:function(){return null!=this._layer&&null!=this._canvas?this._canvas.flatGroupItemsInLayer(this._layer).indexOf(this):-1},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"bounds",{get:function(){return new fg(0,0,0,0)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"name",{get:function(){return this.item.name},set:function(t){this.item.name=t},enumerable:!0,configurable:!0}),t.prototype.getTypeName=function(){return this.constructor.typeName},t.prototype._createDataInstance=function(t){return new Sw(t)},t.prototype.getData=function(t){var e=this._createDataInstance(this);return"asObject"===t?e:JSON.stringify(e)},t.prototype._getDataItem=function(){return(new O_).serializeModelComponent(this.item)},t.prototype._applyDataItem=function(t,e){var n=this,r=(new O_).productParser.parseItem(t);this._modifyItem((function(){n._setDataItem(r,e)}))},t.prototype._setDataItem=function(t,e){this.item.transform=t.transform.clone(),this.setData(e)},t.prototype.updateItem=function(t){this._skippedPropertyName=null,this._modifyItem((function(e){e.update(t)})),null!=this._skippedPropertyName&&(this._onItemPropertyChanged(this.item,this._skippedPropertyName),null!=this.canvas&&this.canvas.updateSelection())},t.prototype._modifyItem=function(t){if("function"==typeof t){this._skipPropertyChanged=!0;try{t(this.item)}finally{this._skipPropertyChanged=!1}}},t.prototype.setData=function(t){var e;t&&""!==t&&(e="string"==typeof t?JSON.parse(t):t,this._createDataInstance().applyState(e,this))},Object.defineProperty(t.prototype,"visible",{get:function(){return this.item.visible},set:function(t){this._setVisible(t)},enumerable:!0,configurable:!0}),t.prototype._setVisible=function(t){this.item.visible=t},t.prototype.isVisible=function(){var t=function(e){var n=e.parentGroupItem;return null!=n&&(!(n.visible&&!n.visualizationPermissions.noShow)||t(n))};return this.visible&&!this.getPermissions().noShow&&(null==this.layer||this.layer.getVisible())&&!t(this.item)},t.prototype.isEmpty=function(){return!1},Object.defineProperty(t.prototype,"locked",{get:function(){return this.item.locked},set:function(t){this.item.locked=t},enumerable:!0,configurable:!0}),t.prototype.isLocked=function(){return this.locked||null!=this.layer&&this.layer.locked},t.prototype._onAddedOnCanvas=function(t,e){null!=t&&(t.updateTexts(),e||this.update())},t.prototype._onRemovedFromCanvas=function(t){this._canvas=null},t.prototype.processEvent=function(t){},t.prototype.hitTest=function(t){throw new Error("Not implemented")},t.prototype._convertBlendModeToGlobalOperation=function(t){var e=null;switch(t){case Xm.Normal:e="normal";break;case Xm.Multiply:e="multiply";break;case Xm.Screen:e="screen";break;case Xm.Overlay:e="overlay";break;case Xm.Darken:e="darken";break;case Xm.Lighten:e="lighten";break;case Xm.ColorDodge:e="color-dodge";break;case Xm.ColorBurn:e="color-burn";break;case Xm.HardLight:e="hard-light";break;case Xm.SoftLight:e="soft-light";break;case Xm.Difference:e="difference";break;case Xm.Exclusion:e="exclusion";break;case Xm.None:default:e="none"}return e},t.prototype.draw=function(t,e){if(void 0===e&&(e=null),null!=t&&null!=this.canvas&&null!=this.layer){var n=t.globalCompositeOperation,r=this.hasBlendMode()?this._convertBlendModeToGlobalOperation(this.blendMode):n,i=null!=this.canvas.maskedLayers&&this.canvas.maskedLayers.includes(this.layer);t.globalAlpha=i?.2:1;var o=t.canvas.width,s=t.canvas.height,a=cg.screenDpi*this.canvas.zoom/72,l=cg.screenDpi*this.canvas.zoom/72;if(null!=e&&(t.save(),Iw.clipPath(t,e)),this.isNormalRenderingType)this.hasBlendMode()&&(t.globalCompositeOperation=r),this.drawItemHandler(t),this.hasBlendMode()&&(t.globalCompositeOperation=n);else{var u=this.layer.textureImage;if(null==u)return void this.canvas.drawWaitClock(t,this.bounds.center);var c=this._getTemporaryCanvas(o,s),h=c.getContext("2d"),p=this._getTextureCanvas(o,s),d=p.getContext("2d"),f=new Ag(o/2,s/2,o,s);Iw.drawImage(d,u,f,a,l,this.canvas.disableSmoothing),h.scale(a,l),h.translate(this.canvas.offset.x,this.canvas.offset.y),this.drawItemHandler(h,t),d.globalCompositeOperation="destination-in",d.drawImage(c,0,0,o,s),t.drawImage(p,-this.canvas.offset.x,-this.canvas.offset.y,o/a,s/l)}null!=e&&t.restore()}},t.prototype.drawItemHandler=function(t,e){},Object.defineProperty(t.prototype,"isNormalRenderingType",{get:function(){return null==this.layer||this.layer.renderingType===Vf.Normal},enumerable:!0,configurable:!0}),t.prototype._getTemporaryCanvas=function(t,e){return null==this._memoryCanvas&&(this._memoryCanvas=document.createElement("canvas")),this._memoryCanvas.width=t,this._memoryCanvas.height=e,this._memoryCanvas},t.prototype._getTextureCanvas=function(t,e){return null==this._textureCanvas&&(this._textureCanvas=document.createElement("canvas")),this._textureCanvas.width=t,this._textureCanvas.height=e,this._textureCanvas},t.prototype.updateColors=function(){return null!=this.canvas&&this.hasColorsToUpdate()?this.canvas.updateColors(this):Promise.resolve()},t.prototype.getColorData=function(){return new Pw(this.item.id)},t.prototype.setColorData=function(t){},t.prototype.hasColorsToUpdate=function(){return!1},t.prototype.quickUpdate=function(){},t.prototype.update=function(t,e){},t.prototype._validateBeforeCallService=function(){return!0},t.prototype.updateForExternalCanvas=function(t){this._serverSideUpdate(null,null,null,t)},t.prototype._update=function(t,e,n){this._serverSideUpdate(t,e,n,null)},t.prototype._serverSideUpdate=function(t,e,n,r){var i=this;if(this.isUpdating)this._callbacks.push(e);else{"function"==typeof e&&e(),null!=n&&this._afterUpdateCallbacks.push(n);var o=this._createDataInstance(this),s=[JSON.stringify(o),JSON.parse(this._getDataItem())];null!=t&&(s=s.concat(t)),null==this._handlerUpdated&&(this._handlerUpdated=new Tw),this._validateBeforeCallService()?this._callService("Update"+this.getTypeName(),s,(function(t){if(null!=i.item){var e=null;"object"==typeof t&&(e=t.item,t=t.itemHandlerData),null!=e&&i._applyDataItem(e,t),i.setData(t),0===i._afterUpdateCallbacks.length?i.quickUpdate():(i._afterUpdateCallbacks.forEach((function(t){return t.apply(i)})),i._afterUpdateCallbacks=[],i.quickUpdate(),i.raiseChanged()),i.onSuccessResponse(),i.item.getItemChangedEvent().notify()}}),(function(t){i.onErrorResponse(t)}),r):this._onValidateBeforeCallServiceFailed()}},t.prototype._callService=function(t,e,n,r,i){var o=null!=i?i:this.canvas;if(null!=o&&o.isInitialized&&!o.initialization){var s=o.getCallService(t,e,n,r,this.isNormalRenderingType||null==this.layer?null:this.layer.uniqueId);this._updateActiveWebServiceCall(s)}else this._handlerUpdated=null},t.prototype.updateActiveColorWebServiceCall=function(t,e){return Aw(this,void 0,void 0,(function(){return kw(this,(function(n){switch(n.label){case 0:return null==this._activeWebServiceCall?[3,2]:[4,this._activeWebServiceCall];case 1:n.sent(),n.label=2;case 2:return null!=this._activeColorWebServiceCall&&(this._activeColorWebServiceCall.cancel(),this._isCurrentWebServiceCallForAll&&!e)?(t.cancel(),this._isCurrentWebServiceCallForAll=e,this.canvas.updateColors(),this._activeColorWebServiceCall=null,[2]):(null==this._handlerUpdated&&(this._handlerUpdated=new Tw),this._activeColorWebServiceCall=t,this._isCurrentWebServiceCallForAll=e,[2])}}))}))},t.prototype._updateActiveWebServiceCall=function(t){return Aw(this,void 0,void 0,(function(){return kw(this,(function(e){switch(e.label){case 0:return this._cancelWebServiceCall(),this._activeWebServiceCall=t,null==this._activeColorWebServiceCall?[2]:(this._activeColorWebServiceCall.cancel(),this._activeColorWebServiceCall=null,[4,this._handlerUpdated.promise]);case 1:return e.sent(),this._isCurrentWebServiceCallForAll?this.canvas.updateColors():this.updateColors(),[2]}}))}))},t.prototype._startTransform=function(){this._cancelWebServiceCall()},t.prototype._cancelWebServiceCall=function(){null!=this._activeWebServiceCall&&(this._activeWebServiceCall.cancel(),this._activeWebServiceCall=null)},t.prototype.waitUpdate=function(){return Aw(this,void 0,void 0,(function(){return kw(this,(function(t){switch(t.label){case 0:return null==this._handlerUpdated?[3,2]:[4,this._handlerUpdated.promise];case 1:t.sent(),t.label=2;case 2:return[2]}}))}))},Object.defineProperty(t.prototype,"isUpdating",{get:function(){return this._updating},enumerable:!0,configurable:!0}),t.prototype.beginUpdate=function(){this._updating=!0},t.prototype.endUpdate=function(){this._updating=!1,this.updated();for(var t=!1;this._callbacks.length>0;){var e=this._callbacks.shift();"function"==typeof e&&(e(),t=!0)}t&&this.update()},t.prototype.updated=function(){this.raiseChanged()},t.prototype.addReady=function(t){this._readyEvent.add(t)},t.prototype.removeReady=function(t){this._readyEvent.remove(t)},t.prototype._dispatchReadyEvent=function(){this._readyEvent.notify(this)},t.prototype.addChanging=function(t){this._changingEvent.add(t)},t.prototype.removeChanging=function(t){this._changingEvent.remove(t)},t.prototype.raiseChanging=function(t){this._changingEvent.notify(t=null!=t?t:this.item)},t.prototype.getChangingEvent=function(){return this._changingEvent},t.prototype.addChanged=function(t){this._changedEvent.add(t)},t.prototype.removeChanged=function(t){this._changedEvent.remove(t)},t.prototype.raiseChanged=function(t){this.isUpdating||this._changedEvent.notify(t=null==t?this.item:t)},t.prototype.getChangedEvent=function(){return this._changedEvent},t.prototype.addItemPropertyChanged=function(t){this._itemPropertyChangedEvent.add(t)},t.prototype.removeItemPropertyChanged=function(t){this._itemPropertyChangedEvent.remove(t)},t.prototype.initialize=function(){},t.prototype._onValidateBeforeCallServiceFailed=function(){this._handlerUpdated.resolve(),this._handlerUpdated=null},t.prototype.onSuccessResponse=function(t){void 0===t&&(t=nw.Item),t==nw.Item?this._activeWebServiceCall=null:t==nw.Color&&(this._activeColorWebServiceCall=null),null==this._activeWebServiceCall&&null==this._activeColorWebServiceCall&&null!=this._handlerUpdated&&(this._handlerUpdated.resolve(),this._handlerUpdated=null)},t.prototype.onErrorResponse=function(t,e){void 0===e&&(e=nw.Item),e==nw.Item?this._activeWebServiceCall=null:e==nw.Color&&(this._activeColorWebServiceCall=null),this._afterUpdateCallbacks=[],null==this._activeWebServiceCall&&null==this._activeColorWebServiceCall&&null!=this._handlerUpdated&&(this._handlerUpdated.reject(t),this._handlerUpdated=null)},t.prototype.validateActiveColorWebServiceCall=function(){null!=this._activeColorWebServiceCall?this.hasColorsToUpdate()||(this._activeColorWebServiceCall=null,null==this._activeWebServiceCall&&(this._handlerUpdated=null)):null==this._activeWebServiceCall&&(this._handlerUpdated=null)},t.prototype.dispose=function(){var t;this._unsubscribeItemEvents(),this._cancelWebServiceCall(),null===(t=this._activeColorWebServiceCall)||void 0===t||t.cancel(),this._activeColorWebServiceCall=null,this._isDisposed=!0},t.typeName="ItemHandler",t}();!function(t){t[t.NotContent=0]="NotContent",t[t.PlaceholderContent=1]="PlaceholderContent",t[t.TopFrame=2]="TopFrame",t[t.BottomFrame=3]="BottomFrame"}(Ew||(Ew={}));var Mw,Rw,Dw,Bw=function(){function t(){}return t.getBounds=function(t,e,n){var r,i,o,s;return i=this,void 0,s=function(){var i;return function(t,e){var n,r,i,o,s={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]};return o={next:a(0),throw:a(1),return:a(2)},"function"==typeof Symbol&&(o[Symbol.iterator]=function(){return this}),o;function a(o){return function(a){return function(o){if(n)throw new TypeError("Generator is already executing.");for(;s;)try{if(n=1,r&&(i=2&o[0]?r.return:o[0]?r.throw||((i=r.return)&&i.call(r),0):r.next)&&!(i=i.call(r,o[1])).done)return i;switch(r=0,i&&(o=[2&o[0],i.value]),o[0]){case 0:case 1:i=o;break;case 4:return s.label++,{value:o[1],done:!1};case 5:s.label++,r=o[1],o=[0];continue;case 7:o=s.ops.pop(),s.trys.pop();continue;default:if(!(i=(i=s.trys).length>0&&i[i.length-1])&&(6===o[0]||2===o[0])){s=0;continue}if(3===o[0]&&(!i||o[1]>i[0]&&o[1]<i[3])){s.label=o[1];break}if(6===o[0]&&s.label<i[1]){s.label=i[1],i=o;break}if(i&&s.label<i[2]){s.label=i[2],s.ops.push(o);break}i[2]&&s.ops.pop(),s.trys.pop();continue}o=e.call(t,s)}catch(a){o=[6,a],r=0}finally{n=i=0}if(5&o[0])throw o[1];return{value:o[0]?o[1]:void 0,done:!0}}([o,a])}}}(this,(function(o){switch(o.label){case 0:return null===(r=this.getBoundsSync(t,e))||void 0===r?[3,1]:(i=r,[3,3]);case 1:return[4,n.getPathBoundsFromServer(t)];case 2:i=o.sent(),o.label=3;case 3:return[2,i]}}))},new((o=void 0)||(o=Promise))((function(t,e){function n(t){try{a(s.next(t))}catch(n){e(n)}}function r(t){try{a(s.throw(t))}catch(n){e(n)}}function a(e){var i;e.done?t(e.value):(i=e.value,i instanceof o?i:new o((function(t){t(i)}))).then(n,r)}a((s=s.apply(i,[])).next())}))},t.getBoundsSync=function(t,e){if(void 0===e&&(e=null),null!=e){var n=t.toTextWhizzPath(e).getBounds();return new fg(n.x,n.y,n.width,n.height)}return this._isDomBoundsEnabled?this._getDOMBounds(t):null},Object.defineProperty(t,"_isDomBoundsEnabled",{get:function(){return!this._getDOMBounds(this._testRectangle).isEmpty()},enumerable:!0,configurable:!0}),t._getDOMBounds=function(t){var e=document.createElementNS("http://www.w3.org/2000/svg","svg");e.style.position="absolute",e.style.visibility="hidden";var n=document.createElementNS("http://www.w3.org/2000/svg","path");e.appendChild(n),n.setAttribute("d",t.toString());var r=document.querySelector("body");r.appendChild(e);var i=n.getBBox(),o=new fg(i.x,i.y,i.width,i.height);return r.removeChild(e),o},t._testRectangle=Eg.rectangle(0,0,10,10),t}(),jw=function(){var t=function(e,n){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(e,n)};return function(e,n){function r(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),Fw=function(t){function e(e,n,r,i,o,s){void 0===s&&(s=null);var a=t.call(this,o)||this;a._textWhizz=s,a.floatingItemToolbar=null,a.selectToolbarButton=null,a.deleteToolbarButton=null,a.editToolbarButton=null,a._doubleClickEvent=new ag,a._clickEvent=new ag,a._deleteToolbarButtonClickEvent=new ag,a._editToolbarButtonClickEvent=new ag,a._selectToolbarButtonClickEvent=new ag,a._violationWarningButtonClick=new ag,a._violationWarningButtonClickEvent=new ag;var l=e||0,u=n||0,c=r||0,h=i||0;return a._controlPoints=[new pg(l,u),new pg(l+c,u+h)],a._allowNegativeResize=!1,a._selectionTolerance=0,a.floatingItemToolbar=null,a.selectToolbarButton=null,a.deleteToolbarButton=null,a.editToolbarButton=null,a._deleteToolbarButtonClickHandler=a._onDeleteToolbarButtonClick.bind(a),a._editToolbarButtonClickHandler=a._onEditToolbarButtonClick.bind(a),a._selectToolbarButtonClickHandler=a._onSelectToolbarButtonClick.bind(a),a._throttleSizeChanging=lg.throttle((function(){this.raiseChanging()}),100),a._violationWarningButton=null,a._violationWarningButtonClickHandler=a._onViolationWarningButtonClick.bind(a),a._violationContainer=null,a._updateVectorMaskCenterSync(),a}return jw(e,t),e.prototype._onItemPropertyChanged=function(e,n){switch(n){case"opacity":case"transform":break;case"locked":case"visible":this._updateVisibility();break;case"textWrappingMode":null!=this.canvas&&this.canvas.updateTexts();break;case"mask":this._updateVectorMaskCenter()}t.prototype._onItemPropertyChanged.call(this,e,n)},Object.defineProperty(e.prototype,"allowNegativeResize",{get:function(){return this._allowNegativeResize},enumerable:!0,configurable:!0}),e.prototype._getBoundsMargin=function(){return 0},e.prototype.getControlBounds=function(){var t=Math.max(this._controlPoints[0].x,this._controlPoints[1].x),e=Math.max(this._controlPoints[0].y,this._controlPoints[1].y),n=Math.min(this._controlPoints[0].x,this._controlPoints[1].x),r=Math.min(this._controlPoints[0].y,this._controlPoints[1].y);return new fg(n,r,t-n,e-r)},e.prototype.getControlCenter=function(){var t=this.getControlBounds();return new pg(t.left+t.width/2,t.top+t.height/2)},e.prototype._getRectangle=function(){var t=Ag.fromRectangleF(this.getControlBounds());return t.setTransform(this.item.transform),t},Object.defineProperty(e.prototype,"rectangle",{get:function(){return this._getRectangle()},enumerable:!0,configurable:!0}),e.prototype.setRectangle=function(t,e){var n=Ag.fromRectangleF(this.getControlBounds()),r=t.getTransform(n);this.item.setTransform(r,e)},Object.defineProperty(e.prototype,"bounds",{get:function(){var t=this.rectangle,e=this._getBoundsMargin();return t.width+=t.width>0?e:-e,t.height+=t.height>0?e:-e,t.bounds},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"drawingRectangle",{get:function(){return this.rectangle},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"angle",{get:function(){return this.item.transform.angle},set:function(t){this.item.transform.setAngle(t)},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"height",{get:function(){return this.rectangle.height},set:function(t){var e=this.rectangle;e.height=t,this.setRectangle(e)},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"width",{get:function(){return this.rectangle.width},set:function(t){var e=this.rectangle;e.width=t,this.setRectangle(e)},enumerable:!0,configurable:!0}),e.prototype.setLocation=function(t){var e=this.rectangle;e.location=t,this.setRectangle(e)},Object.defineProperty(e.prototype,"startRectangle",{get:function(){return null!=this._startRectangle?this._startRectangle:null},enumerable:!0,configurable:!0}),e.prototype._onAddedOnCanvas=function(e,n){t.prototype._onAddedOnCanvas.call(this,e,n),null!=e&&(null!=this._contentType&&this._contentType!==Ew.NotContent||(e.addFloatingItemToolbar(this),e.addViolationContainer(this)),this._updateVectorMaskCenter())},e.prototype._onRemovedFromCanvas=function(e){t.prototype._onRemovedFromCanvas.call(this,e),null!=e&&(e.removeFloatingItemToolbar(this),e.removeViolationContainer(this))},e.prototype.onTextWhizzInit=function(){this._updateVectorMaskCenter()},e.prototype.update=function(){this.updateColors(),this._updateDeleteAndEditGroup(),this._updateViolationContainersVisibility()},e.prototype.hitTest=function(t){return this.canvas.hitTestSelection(this._getHighlightRectangle(),t)},e.prototype._transformRectangle=function(t,n,r){if(void 0===r&&(r=!1),null!=t&&null!=n&&null!=this._startRectangle){var i;if(this._startRectangle.equals(t))i=n.clone();else{var o=this._startRectangle.clone();i=e.transformRectangleByTwoRectanglesDiff(o,t,n)}this.setRectangle(i,!0);var s=this.canvas;null!=s&&s.updateFloatingItemToolbar(this),this.updateViolationContainerPosition(),null!=this.item.parentGroupItem?this.raiseChanging(this):this._throttleSizeChanging()}},e.prototype._startTransform=function(){t.prototype._startTransform.call(this),this._startRectangle=this.rectangle;var e=this.canvas;null!=e&&e.updateViolationContainer(this,!1)},e.prototype.endTransform=function(t,e,n){void 0===n&&(n=!1),this._endTransform(t,e,n)},e.prototype._endTransform=function(t,e,n){void 0===n&&(n=!1),n||!t||!e&&null==this._startRectangle||this._itemPropertyChangedEvent.notify(this,"transform"),t&&e||delete this._startRectangle;var r=this.canvas;null!=r&&r.updateFloatingItemToolbar(this),this.updateViolationContainerPosition()},e.prototype._transformChanged=function(){t.prototype._transformChanged.call(this);var e=this.canvas;null!=e&&e.updateFloatingItemToolbar(this),this.updateViolationContainerPosition()},e.prototype._onResized=function(){return delete this._startRectangle,!0},e.prototype.dispatchDoubleClickEvent=function(t){this._doubleClickEvent.notify(this,t)},e.prototype.addDoubleClick=function(t){this._doubleClickEvent.add(t)},e.prototype.removeDoubleClick=function(t){this._doubleClickEvent.remove(t)},e.prototype.dispatchClickEvent=function(t){this._clickEvent.notify(t)},e.prototype.addClick=function(t){this._clickEvent.add(t)},e.prototype.removeClick=function(t){this._clickEvent.remove(t)},e.prototype.drawHighlight=function(t){var e=this.canvas.mul,n=this._getHighlightRectangle();Iw.rectangle(t,n,this.canvas.selectionWidth/e,this.canvas.selectionColor)},e.prototype._getHighlightRectangle=function(){var t=this.rectangle,e=parseInt(this._getBoundsMargin().toString());return t.width+=t.width>=0?e:-e,t.height+=t.height>=0?e:-e,t},e.prototype.getSelectionRectangle=function(){return this.rectangle},e.prototype.getBorderMargin=function(){return this._getBoundsMargin()/2},e.prototype.getSelectionTolerance=function(){return this._selectionTolerance},e.prototype.addDeleteToolbarButtonClick=function(t){this._deleteToolbarButtonClickEvent.add(t)},e.prototype.removeDeleteToolbarButtonClick=function(t){this._deleteToolbarButtonClickEvent.remove(t)},e.prototype._onDeleteToolbarButtonClick=function(){this._deleteToolbarButtonClickEvent.notify(this)},e.prototype.showDeleteToolbarButton=function(){return this.getPermissions().allowDelete&&this.getPermissions().showDeleteToolbarButton},e.prototype.addEditToolbarButtonClick=function(t){this._editToolbarButtonClickEvent.add(t)},e.prototype.removeEditToolbarButtonClick=function(t){this._editToolbarButtonClickEvent.remove(t)},e.prototype._onEditToolbarButtonClick=function(){this._editToolbarButtonClickEvent.notify(this)},e.prototype.showEditToolbarButton=function(){return this.getPermissions().showEditToolbarButton},e.prototype.addSelectToolbarButtonClick=function(t){this._selectToolbarButtonClickEvent.add(t)},e.prototype.removeSelectToolbarButtonClick=function(t){this._selectToolbarButtonClickEvent.remove(t)},e.prototype._onSelectToolbarButtonClick=function(){this._selectToolbarButtonClickEvent.notify(this)},e.prototype.showSelectToolbarButton=function(){return this.getPermissions().showSelectToolbarButton},e.prototype._updateVisibility=function(){this._updateDeleteAndEditGroup(),this._updateViolationContainersVisibility()},e.prototype._updateDeleteAndEditGroup=function(){var t=this.canvas;null!=t&&t.updateFloatingItemToolbar(this)},e.prototype._onViolationWarningButtonClick=function(t){this._violationWarningButtonClick.notify(this,t),t.preventDefault()},e.prototype._updateViolationContainersVisibility=function(){var t=this.canvas;null!=t&&t.updateViolationContainer(this)},e.prototype.updateViolationContainerPosition=function(){var t=this.canvas;null!=t&&t.updateViolationContainerPosition(this)},e.prototype.isGoodViolationIcon=function(){var t=this.canvas;return!(null==this._violationWarningButton||null==t||!this.isVisible())&&this._violationWarningButton.classList.contains(t.goodViolationIconCssClass)},e.prototype.setGoodViolationIcon=function(t){var e=this.canvas;if(null!=this._violationWarningButton&&null!=e&&this.isVisible()&&(this._violationWarningButton.style.visibility="visible",null!=t&&(this._violationWarningButton.title=t),!this.isGoodViolationIcon())){var n=e.goodViolationIconCssClass,r=e.badViolationIconCssClass;this._violationWarningButton.classList.remove(e.warningViolationIconCssClass),this._violationWarningButton.classList.remove(r),this._violationWarningButton.classList.add(n),this._violationWarningButton.classList.toggle("active",e.isOnlyThisItemHandlerSelected(this))}},e.prototype.isWarningViolationIcon=function(){var t=this.canvas;return!(null==this._violationWarningButton||null==t||!this.isVisible())&&this._violationWarningButton.classList.contains(t.warningViolationIconCssClass)},e.prototype.setWarningViolationIcon=function(t){var e=this.canvas;if(null!=this._violationWarningButton&&null!=e&&this.isVisible()&&(this._violationWarningButton.style.visibility="visible",null!=t&&(this._violationWarningButton.title=t),!this.isWarningViolationIcon())){var n=e.warningViolationIconCssClass,r=e.badViolationIconCssClass;this._violationWarningButton.classList.remove(e.goodViolationIconCssClass),this._violationWarningButton.classList.remove(r),this._violationWarningButton.classList.add(n),this._violationWarningButton.classList.toggle("active",e.isOnlyThisItemHandlerSelected(this))}},e.prototype.isBadViolationIcon=function(){var t=this.canvas;return!(null==this._violationWarningButton||null==t||!this.isVisible())&&this._violationWarningButton.classList.contains(t.badViolationIconCssClass)},e.prototype.setBadViolationIcon=function(t){var e=this.canvas;if(null!=this._violationWarningButton&&null!=e&&this.isVisible()&&(this._violationWarningButton.style.visibility="visible",null!=t&&(this._violationWarningButton.title=t),!this.isBadViolationIcon())){var n=e.warningViolationIconCssClass,r=e.badViolationIconCssClass;this._violationWarningButton.classList.remove(e.goodViolationIconCssClass),this._violationWarningButton.classList.remove(n),this._violationWarningButton.classList.add(r),this._violationWarningButton.classList.toggle("active",e.isOnlyThisItemHandlerSelected(this))}},e.prototype.isNoneViolationIcon=function(){var t=this.canvas;if(null==this._violationWarningButton||null==t||!this.isVisible())return!1;var e=t.warningViolationIconCssClass,n=t.badViolationIconCssClass,r=this._violationWarningButton.classList.contains(t.goodViolationIconCssClass)||this._violationWarningButton.classList.contains(e)||this._violationWarningButton.classList.contains(n);return"hidden"===this._violationWarningButton.style.visibility||!r},e.prototype.setNoneViolationIcon=function(){var t=this.canvas;if(null!=this._violationWarningButton&&null!=t&&this.isVisible()){var e=t.warningViolationIconCssClass,n=t.badViolationIconCssClass;this._violationWarningButton.classList.remove(t.goodViolationIconCssClass),this._violationWarningButton.classList.remove(e),this._violationWarningButton.classList.remove(n),this._violationWarningButton.style.visibility="hidden"}},e.prototype.addViolationWarningButtonClick=function(t){this._violationWarningButtonClick.add(t)},e.prototype.removeViolationWarningButtonClick=function(t){this._violationWarningButtonClick.remove(t)},e.prototype.getDeleteToolbarButtonClickHandler=function(){return this._deleteToolbarButtonClickHandler},e.prototype.getEditToolbarButtonClickHandler=function(){return this._editToolbarButtonClickHandler},e.prototype.getSelectToolbarButtonClickHandler=function(){return this._selectToolbarButtonClickHandler},e.prototype.getViolationWarningButton=function(){return this._violationWarningButton},e.prototype.setViolationWarningButton=function(t){this._violationWarningButton=t},e.prototype.getViolationWarningButtonClickHandler=function(){return this._violationWarningButtonClickHandler},e.prototype.getViolationContainer=function(){return this._violationContainer},e.prototype.setViolationContainer=function(t){this._violationContainer=t},e.prototype.getViolationWarningButtonElement=function(){return this._violationWarningButton},e.transformRectangleByTwoRectanglesDiff=function(t,e,n){var r=n.getTransform(e),i=r.angle,o=r.scaleX,s=r.scaleY;if(xg(n.angle,0)||t.rotateAt(-n.angle,e.center),xg(o,1)&&xg(s,1)?(t.centerX+=r.translateX,t.centerY+=r.translateY):(t.width=t.width*o,t.height=t.height*s,t.centerX=n.centerX+(t.centerX-e.centerX)*o,t.centerY=n.centerY+(t.centerY-e.centerY)*s),xg(n.angle,0)||t.rotateAt(n.angle,n.center),!xg(i,0)){var a=t.center;a.rotateAt(i,e.center),t.angle=t.angle+i,t.center=a}return t},e.prototype._getPrintAreaBounds=function(){if(null==this.layer||null==this.layer.container.parentComponent)return null;var t=this.layer.container.parentComponent;return null==t.printAreas||t.printAreas.length<1?null:t.printAreas.get(0).bounds},e.prototype.transformByMatrix=function(t){this.setRectangle(this.rectangle.transformByMatrix(t)),1===t.scaleX&&1===t.scaleY||this._onResized(),this._transformChanged(),null!=this.canvas&&this.canvas.updateSelection()},e.prototype.getTransformedRectangle=function(t,e){void 0===t&&(t=!0);var n=this.rectangle,r=this._getPrintAreaBounds();if(null!=r&&t&&(n.location=n.location.translate(-r.left,-r.top)),e){var i=this.getBorderMargin();n.width+=2*i,n.height+=2*i}return n},e.prototype.setTransformedRectangle=function(t){this.setRectangle(t)},e.prototype.getTextWrappingPath=function(){return this.item.textWrappingMode!==Fm.None?Eg.rotatedRectangle(this.rectangle):null},e.prototype._clip=function(t){if(this._hasVectorMask()){var e=this._getTransformedClippingPath();null!=e&&Iw.clipPath(t,e)}},e.prototype._updateVectorMaskCenter=function(){var t,e,n,r,i,o;return r=this,void 0,o=function(){var r;return function(t,e){var n,r,i,o,s={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]};return o={next:a(0),throw:a(1),return:a(2)},"function"==typeof Symbol&&(o[Symbol.iterator]=function(){return this}),o;function a(o){return function(a){return function(o){if(n)throw new TypeError("Generator is already executing.");for(;s;)try{if(n=1,r&&(i=2&o[0]?r.return:o[0]?r.throw||((i=r.return)&&i.call(r),0):r.next)&&!(i=i.call(r,o[1])).done)return i;switch(r=0,i&&(o=[2&o[0],i.value]),o[0]){case 0:case 1:i=o;break;case 4:return s.label++,{value:o[1],done:!1};case 5:s.label++,r=o[1],o=[0];continue;case 7:o=s.ops.pop(),s.trys.pop();continue;default:if(!(i=(i=s.trys).length>0&&i[i.length-1])&&(6===o[0]||2===o[0])){s=0;continue}if(3===o[0]&&(!i||o[1]>i[0]&&o[1]<i[3])){s.label=o[1];break}if(6===o[0]&&s.label<i[1]){s.label=i[1],i=o;break}if(i&&s.label<i[2]){s.label=i[2],s.ops.push(o);break}i[2]&&s.ops.pop(),s.trys.pop();continue}o=e.call(t,s)}catch(a){o=[6,a],r=0}finally{n=i=0}if(5&o[0])throw o[1];return{value:o[0]?o[1]:void 0,done:!0}}([o,a])}}}(this,(function(i){switch(i.label){case 0:return this._hasVectorMask()?[4,Bw.getBounds(this.item.mask.vectorMask,null!==(t=this._textWhizz)&&void 0!==t?t:null===(e=this.canvas)||void 0===e?void 0:e.textWhizz,null===(n=this.canvas)||void 0===n?void 0:n.service)]:[3,2];case 1:return r=i.sent(),this._vectorMaskCenter=Ag.fromRectangleF(r).center,[3,3];case 2:this._vectorMaskCenter=null,i.label=3;case 3:return[2]}}))},new((i=void 0)||(i=Promise))((function(t,e){function n(t){try{a(o.next(t))}catch(n){e(n)}}function s(t){try{a(o.throw(t))}catch(n){e(n)}}function a(e){var r;e.done?t(e.value):(r=e.value,r instanceof i?r:new i((function(t){t(r)}))).then(n,s)}a((o=o.apply(r,[])).next())}))},e.prototype._updateVectorMaskCenterSync=function(){var t,e;if(this._hasVectorMask()){var n=Bw.getBoundsSync(this.item.mask.vectorMask,null!==(t=this._textWhizz)&&void 0!==t?t:null===(e=this.canvas)||void 0===e?void 0:e.textWhizz);if(null==n)return;this._vectorMaskCenter=Ag.fromRectangleF(n).center}else this._vectorMaskCenter=null},e.prototype._getTransformedClippingPath=function(t){if(!this._hasVectorMask()||null==this._vectorMaskCenter)return null;null==t&&(t=this.item.transform.clone());var e=this.item.mask.vectorMask.clone(),n=this._vectorMaskCenter,r=this.getControlCenter();if(0!==t.angle&&(e.rotateAt(t.angle,r),t.setAngle(0,!0)),!xg(t.scaleX,1)||!xg(t.scaleY,1)){var i=n.x-r.x,o=n.y-r.y;r.translate(t.translateX,t.translateY),t.setTranslateX(r.x+i*t.scaleX-n.x),t.setTranslateY(r.y+o*t.scaleY-n.y)}return e.transform(t,n),e},e.prototype._hasVectorMask=function(){return null!=this.item.mask&&null!=this.item.mask.vectorMask},e.typeName="BaseRectangleItemHandler",e}(Ow),zw=function(){var t=function(e,n){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(e,n)};return function(e,n){function r(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),Lw=function(t){function e(e){var n=t.call(this,e)||this;return n.__type="ShapeHandlerData",n}return zw(e,t),e.prototype.applyState=function(e,n){t.prototype.applyState.call(this,e,n)},e}(Sw),Hw=function(){var t=function(e,n){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(e,n)};return function(e,n){function r(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),Nw=function(t){function e(n){var r=t.call(this,n.value)||this;return r.ajaxResponse=n,r.name="AjaxResponseException",Object.setPrototypeOf(r,e.prototype),r}return Hw(e,t),e.prototype.toJSON=function(){var e=t.prototype.toJSON.call(this);return e.ajaxResponse=this.ajaxResponse,e},e}(Yf),Ww=function(t){return new Promise((function(e,n){var r,i,o=new XMLHttpRequest;if(o.open(t.type,t.url,!0),o.setRequestHeader("Accept","*/*"),null!=t.headers)try{for(var s=function(t){var e="function"==typeof Symbol&&Symbol.iterator,n=e&&t[e],r=0;if(n)return n.call(t);if(t&&"number"==typeof t.length)return{next:function(){return t&&r>=t.length&&(t=void 0),{value:t&&t[r++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")}(t.headers),a=s.next();!a.done;a=s.next()){var l=a.value;o.setRequestHeader(l.name,l.value)}}catch(u){r={error:u}}finally{try{a&&!a.done&&(i=s.return)&&i.call(s)}finally{if(r)throw r.error}}null!=t.responseType&&(o.responseType=t.responseType),o.send(t.data),o.onreadystatechange=function(){if(4===o.readyState){var t=o.status,r={value:"arraybuffer"!==o.responseType?o.responseText:"",status:t,contentType:o.getResponseHeader("content-type"),xhr:o};t>=200&&t<300?e(r):n(new Nw(r))}}}))};!function(t){t[t.Ok=200]="Ok",t[t.NoContent=204]="NoContent",t[t.NotFound=404]="NotFound",t[t.InternalServerError=500]="InternalServerError"}(Mw||(Mw={})),function(t){t.post="POST",t.get="GET",t.Delete="DELETE"}(Rw||(Rw={})),function(t){t.isJsonContentType=function(t){return 0===t.trim().toLowerCase().indexOf("application/json")},t.json={name:"Content-Type",value:"application/json;charset=UTF-8"},t.text={name:"Content-Type",value:"text/plain"}}(Dw||(Dw={}));var Vw,Uw=function(){var t=function(e,n){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(e,n)};return function(e,n){function r(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),qw=function(t,e,n,r){return new(n||(n=Promise))((function(i,o){function s(t){try{l(r.next(t))}catch(e){o(e)}}function a(t){try{l(r.throw(t))}catch(e){o(e)}}function l(t){var e;t.done?i(t.value):(e=t.value,e instanceof n?e:new n((function(t){t(e)}))).then(s,a)}l((r=r.apply(t,e||[])).next())}))},Gw=function(t,e){var n,r,i,o,s={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]};return o={next:a(0),throw:a(1),return:a(2)},"function"==typeof Symbol&&(o[Symbol.iterator]=function(){return this}),o;function a(o){return function(a){return function(o){if(n)throw new TypeError("Generator is already executing.");for(;s;)try{if(n=1,r&&(i=2&o[0]?r.return:o[0]?r.throw||((i=r.return)&&i.call(r),0):r.next)&&!(i=i.call(r,o[1])).done)return i;switch(r=0,i&&(o=[2&o[0],i.value]),o[0]){case 0:case 1:i=o;break;case 4:return s.label++,{value:o[1],done:!1};case 5:s.label++,r=o[1],o=[0];continue;case 7:o=s.ops.pop(),s.trys.pop();continue;default:if(!(i=(i=s.trys).length>0&&i[i.length-1])&&(6===o[0]||2===o[0])){s=0;continue}if(3===o[0]&&(!i||o[1]>i[0]&&o[1]<i[3])){s.label=o[1];break}if(6===o[0]&&s.label<i[1]){s.label=i[1],i=o;break}if(i&&s.label<i[2]){s.label=i[2],s.ops.push(o);break}i[2]&&s.ops.pop(),s.trys.pop();continue}o=e.call(t,s)}catch(a){o=[6,a],r=0}finally{n=i=0}if(5&o[0])throw o[1];return{value:o[0]?o[1]:void 0,done:!0}}([o,a])}}},Yw=function(t){function e(e,n,r){void 0===r&&(r=null);var i=t.call(this,null,null,null,null,n,r)||this;return i._originalPathId=null,i._isLoadingPath=!1,i._isLoadedPath=!1,i.originalPath=null!=e?e:new Eg(""),i._addedOnCanvasEvent=new og,null!=n&&null!=n.sourcePathId&&i.setOriginalPathId(n.sourcePathId),i._allowNegativeResize=!1,i._updateControlPointsSync(),i}return Uw(e,t),Object.defineProperty(e.prototype,"item",{get:function(){return t.prototype._getItem.call(this)},set:function(e){t.prototype._setItem.call(this,e)},enumerable:!0,configurable:!0}),e.prototype._setDataItem=function(e,n){t.prototype._setDataItem.call(this,e,n),this.item.fillColor=e.fillColor,this.item.borderColor=e.borderColor,this.item.sourcePath=e.sourcePath,this.item.altBorderColor=e.altBorderColor,this.item.borderWidth=e.borderWidth,this.item.dash=e.dash,this.item.fixedBorderWidth=e.fixedBorderWidth},e.prototype._onItemPropertyChanged=function(e,n){var r=this.canvas;switch(n){case"fillColor":case"borderColor":case"altBorderColor":this.item.parentGroupItem instanceof rv||(this.update(),null!=this.canvas&&this.canvas.redraw());case"dash":break;case"fixedBorderWidth":case"borderWidth":null!=r&&(r.updateSelection(),r.redraw());break;case"sourceRectangle":this.originalPath=Eg.rectangle(this.item.sourceRectangle.left,this.item.sourceRectangle.top,this.item.sourceRectangle.width,this.item.sourceRectangle.height),this._controlPoints=[new pg(this.item.sourceRectangle.left,this.item.sourceRectangle.top),new pg(this.item.sourceRectangle.right,this.item.sourceRectangle.bottom)]}t.prototype._onItemPropertyChanged.call(this,e,n)},e.prototype.update=function(e,n){"function"==typeof e?this.isVisible()?t.prototype._update.call(this,null,e,n):e():this.updateColors()},e.prototype._setVisible=function(e){t.prototype._setVisible.call(this,e),this.isVisible()&&this.update()},e.prototype._getActualDash=function(){var t=this.item.dash;if(null==t)return t;var e=this.canvas,n=t.slice(0);if(n.length>0&&this.item.fixedBorderWidth&&null!=e)for(var r=0;r<n.length;r++)n[r]/=e.zoom;return n},Object.defineProperty(e.prototype,"originalPath",{get:function(){return this.item.sourcePath},set:function(t){this.item.sourcePath=t,this._isLoadedPath=!0},enumerable:!0,configurable:!0}),e.prototype._updateControlPoints=function(){var t,e,n;return qw(this,void 0,void 0,(function(){var r;return Gw(this,(function(i){switch(i.label){case 0:return null==this.item.sourcePath?[2]:[4,Bw.getBounds(this.item.sourcePath,null!==(t=this._textWhizz)&&void 0!==t?t:null===(e=this.canvas)||void 0===e?void 0:e.textWhizz,null===(n=this.canvas)||void 0===n?void 0:n.service)];case 1:return r=i.sent(),this.controlPoints=[new pg(r.left,r.top),new pg(r.right,r.bottom)],[2]}}))}))},e.prototype._updateControlPointsSync=function(){var t,e;if(null!=this.item.sourcePath){var n=Bw.getBoundsSync(this.item.sourcePath,null!==(t=this._textWhizz)&&void 0!==t?t:null===(e=this.canvas)||void 0===e?void 0:e.textWhizz);null!=n&&(this.controlPoints=[new pg(n.left,n.top),new pg(n.right,n.bottom)])}},e.prototype.getOriginalPathId=function(){return this._originalPathId},e.prototype.setOriginalPathId=function(t){return qw(this,void 0,void 0,(function(){var e,n,r,i;return Gw(this,(function(o){switch(o.label){case 0:return this._originalPathId=t,null==this._originalPathId?[2]:(this._isLoadingPath=!0,this._isLoadedPath=!1,[4,this._waitAddOnCanvas()]);case 1:if(o.sent(),null==this.canvas)return[2];e=this.canvas.handlerUrl,o.label=2;case 2:return o.trys.push([2,4,5,6]),[4,Ww({type:Rw.get,url:e+"/pth?f="+this._originalPathId,headers:[Dw.text]})];case 3:return n=o.sent(),r=new Eg(n.value),this.item.sourcePathLoaded=!0,this.originalPath=r,this._updateControlPoints(),this._isLoadedPath=!0,[3,6];case 4:return i=o.sent(),console.error("Unable to load content path. Reason: "+i),this._isLoadedPath=!1,[3,6];case 5:return this._isLoadingPath=!1,this.item.sourcePathLoaded=!1,this.item.getPathLoadedEvent().notify(),[7];case 6:return this.canvas.redraw(),[2]}}))}))},e.prototype._waitAddOnCanvas=function(){return qw(this,void 0,void 0,(function(){var t=this;return Gw(this,(function(e){switch(e.label){case 0:return null!=this.canvas?[2]:[4,new Promise((function(e){var n=function(){e(),t._addedOnCanvasEvent.remove(n)};t._addedOnCanvasEvent.add(n)}))];case 1:return e.sent(),[2]}}))}))},e.prototype._getActualBorderWidth=function(){var t=this.item.borderWidth,e=this.canvas;return this.item.fixedBorderWidth&&null!=e&&(t/=e.zoom),t},e.prototype._getBoundsMargin=function(){return this._getActualBorderWidth()},e.prototype._getTransformedPath=function(){var t=this.getControlCenter(),e=this.item.sourcePath.clone();return e.transform(this.item.transform,t),e},e.prototype._createDataInstance=function(t){return new Lw(t)},e.prototype.drawItemHandler=function(t){if(null!=t)if(this._isLoadingPath||!this._isLoadedPath)this.canvas.drawWaitClock(t,this.rectangle.center);else{var e=this._getActualDash();this._hasVectorMask()&&(t.save(),this._clip(t));var n=this.item.altBorderColor;if(n&&null!=e&&e.length>0){var r=e.slice(0);r.unshift(0),r.push(0),Iw.path(t,this.item.sourcePath,this.getControlCenter(),this.item.transform,this.item.fillColor.preview,this._getActualBorderWidth(),n.preview,this.item.opacity,r)}Iw.path(t,this.item.sourcePath,this.getControlCenter(),this.item.transform,this.item.fillColor.preview,this._getActualBorderWidth(),this.item.borderColor.preview,this.item.opacity,e),this._hasVectorMask()&&t.restore()}},e.prototype.getColorData=function(){var e=this.item,n=null!=this.canvas?this.canvas.rgbColorProfileFileId:null,r=t.prototype.getColorData.call(this);return e.fillColor.needUpdate(n)&&(r.fill=e.fillColor.getData()),e.borderColor.needUpdate(n)&&(r.border=e.borderColor.getData()),null!=e.altBorderColor&&e.altBorderColor.needUpdate(n)&&(r.altBorder=e.altBorderColor.getData()),r},e.prototype.setColorData=function(e){t.prototype.setColorData.call(this,e),this._modifyItem((function(t){null!=e.fill&&(t.fillColor=bm.createColor(e.fill)),null!=e.border&&(t.borderColor=bm.createColor(e.border)),null!=e.altBorder&&(t.altBorderColor=bm.createColor(e.altBorder))}))},e.prototype.onTextWhizzInit=function(){t.prototype.onTextWhizzInit.call(this),this._updateControlPoints()},e.prototype.hasColorsToUpdate=function(){var e=this.item,n=null!=this.canvas?this.canvas.rgbColorProfileFileId:null;return t.prototype.hasColorsToUpdate.call(this)||e.fillColor.needUpdate(n)||e.borderColor.needUpdate(n)||null!=e.altBorderColor&&e.altBorderColor.needUpdate(n)},e.prototype._onAddedOnCanvas=function(e,n){t.prototype._onAddedOnCanvas.call(this,e,n),this._addedOnCanvasEvent.notify(),this._updateControlPoints()},e.prototype.getTextWrappingPath=function(){return this.item.textWrappingMode===Fm.Tight?this._getTransformedPath():t.prototype.getTextWrappingPath.call(this)},e.typeName="ShapeItemHandler",e}(Fw),Xw=function(){var t=function(e,n){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(e,n)};return function(e,n){function r(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),$w=function(t){function e(e,n){void 0===n&&(n=null);var r=this;return null!=e?(r=t.call(this,Eg.rectangle(e.sourceRectangle.left,e.sourceRectangle.top,e.sourceRectangle.width,e.sourceRectangle.height),e,n)||this)._controlPoints=[new pg(e.sourceRectangle.left,e.sourceRectangle.top),new pg(e.sourceRectangle.right,e.sourceRectangle.bottom)]:r=t.call(this,null,e,n)||this,r._allowNegativeResize=!0,r}return Xw(e,t),e.prototype._setDataItem=function(e,n){t.prototype._setDataItem.call(this,e,n),this.item.sourceRectangle=e.sourceRectangle},Object.defineProperty(e.prototype,"rectangle",{get:function(){var e=t.prototype._getRectangle.call(this);return e.width<0&&(e.width=-e.width),e.height<0&&(e.height=-e.height),e},enumerable:!0,configurable:!0}),e.typeName="RectangleItemHandler",e}(Yw),Qw=function(){function t(t){var e=this;this._src=null,this._onLoadedDelegate=function(n){if(!n.target)throw new Error('"e.target" is null.');e._onLoaded(n,n.target),t()},this._image=this._createImageObject(this._onLoadedDelegate),this._tmpImage=this._createImageObject(this._onLoadedDelegate)}return t.prototype._onLoaded=function(t,e){e===this._tmpImage&&(this._tmpImage=this._image,this._image=e,this._src=e.src),this._loaded=!0,this._loading=!1},Object.defineProperty(t.prototype,"isLoaded",{get:function(){return this._loaded},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"isLoading",{get:function(){return this._loading},set:function(t){this._loading=t},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"image",{get:function(){return this._image},enumerable:!0,configurable:!0}),t.prototype.updateUrl=function(t){this._tmpImage.src!==t?(this._loading=!0,this._tmpImage.src=t,this._src=t):this._onLoadedDelegate({target:this._tmpImage})},t.prototype.clear=function(){this.source=null},Object.defineProperty(t.prototype,"source",{get:function(){return this._src},set:function(t){this._src!==t&&(this._loaded=!1,this._src=t,this._image.src=null==this._src?"":t)},enumerable:!0,configurable:!0}),t.prototype._createImageObject=function(t){var e=new Image;return e.crossOrigin="anonymous","function"==typeof t&&e.addEventListener("load",t),e},t.prototype.dispose=function(){this._tmpImage.removeEventListener("load",this._onLoadedDelegate),this._image.removeEventListener("load",this._onLoadedDelegate),delete this._onLoadedDelegate},t}(),Zw=function(){var t=function(e,n){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(e,n)};return function(e,n){function r(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),Kw=function(t){function e(e,n){void 0===n&&(n=null);var r=t.call(this,e,n)||this;return r._onCanvasChangedDelegate=null,r._contentType=Ew.NotContent,r._parentPlaceholder=null,r._pixelWidth=0,r._pixelHeight=0,r._needToDownloadImage=!1,r._imageContainer=new Qw(r._onImageLoaded.bind(r)),r}return Zw(e,t),Object.defineProperty(e.prototype,"item",{get:function(){return this._getItem()},enumerable:!0,configurable:!0}),e.prototype._onItemPropertyChanged=function(e,n){t.prototype._onItemPropertyChanged.call(this,e,n)},e.prototype.setRectangle=function(e,n){var r,i=this._parentPlaceholder;if(null!=i&&i.item.isCoverMode&&!i.item.isStubContent&&this._contentType!==Ew.TopFrame&&this._contentType!==Ew.BottomFrame){var o=i.rectangle,s=e.clone(),a=xg(mg(s.angle-o.angle)%180,90),l=this.rectangle;if(null!=l&&null!=i._previousRectangle&&!i.editing){var u,c=o.width/o.height,h=l.width/l.height,p=c>h!=i._previousRectangle.width/i._previousRectangle.height>h;s.width=l.width*(u=c>h?p?o.width/h/i._previousRectangle.height:o.width/i._previousRectangle.width:p?o.height*h/i._previousRectangle.width:o.height/i._previousRectangle.height),s.height=l.height*u,s.center=o.center;var d=s.angle;s.angle=0,(r=new pg(-((i._previousRectangle.centerX-l.centerX+l.width/2)*u-s.width/2),-((i._previousRectangle.centerY-l.centerY+l.height/2)*u-s.height/2))).rotateAt(o.angle-i._previousRectangle.angle),s.centerX=o.centerX+r.x,s.centerY=o.centerY+r.y,s.rotateAt(d,s.center)}var f=a?s.height:s.width,g=a?s.width:s.height;if(f<o.width||g<o.height){var m=Math.max(o.width/f,o.height/g);s.width*=m,s.height*=m}var y=o.angle;o.angle=0;var v=o.bounds,_=s.clone();_.rotateAt(-y,o.center);var b=_.bounds;return(r=new pg(0,0)).x=v.left<b.left?v.left-b.left:0,r.x=v.right>b.right?v.right-b.right:r.x,r.y=v.top<b.top?v.top-b.top:0,r.y=v.bottom>b.bottom?v.bottom-b.bottom:r.y,r.rotate(y),s.centerX+=r.x,s.centerY+=r.y,void t.prototype.setRectangle.call(this,s,n)}t.prototype.setRectangle.call(this,e,n)},e.prototype._setVisible=function(e){t.prototype._setVisible.call(this,e),this.isVisible()&&this.update()},e.prototype.isVisible=function(){return null!=this._parentPlaceholder?this._parentPlaceholder.isVisible():t.prototype.isVisible.call(this)},Object.defineProperty(e.prototype,"ready",{get:function(){return this._imageContainer.isLoaded},enumerable:!0,configurable:!0}),e.prototype._isLoadingImage=function(){return this._imageContainer.isLoading},e.prototype._setIsLoadingImage=function(t){this._imageContainer.isLoading=t},Object.defineProperty(e.prototype,"parentPlaceholder",{get:function(){return this._parentPlaceholder},set:function(t){this._parentPlaceholder=t},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"contentType",{get:function(){return this._contentType},set:function(t){this._contentType=t},enumerable:!0,configurable:!0}),e.prototype._getSrc=function(){var t=this._imageContainer.source;return Lg(t)?this._createImageUrl():t},e.prototype._setSrc=function(t){this._imageContainer.source=t},e.prototype._onImageLoaded=function(t,e){null!=this.canvas&&this.canvas.redraw(),this.isLoadingImage=!1,this._dispatchReadyEvent()},e.prototype._createImageUrl=function(){return null},e.prototype._updateImageUrl=function(){if(this.isVisible()){var t=this.canvas;if(null!=t&&t.isInitialized){var e=this._createImageUrl();e!==this._imageContainer.source&&(null==e?(this._imageContainer.clear(),t.redraw()):this._imageContainer.updateUrl(e))}}},e.prototype._onCanvasChanged=function(){this._updateImageUrl()},e.prototype.quickUpdate=function(){this.updateColors(),this._updateImageUrl()},e.prototype._getDrawingFillColor=function(){return this.item.fillColor},e.prototype.drawItemHandler=function(t,e){if(null!=t&&null!=this.canvas){var n=null!=this._parentPlaceholder?this._parentPlaceholder.rectangle:this.rectangle,r=this.rectangle,i=this._getDrawingFillColor(),o=this.isNormalRenderingType||0===i.alpha?i.preview:"rgb(0,0,0)";this._hasVectorMask()&&(t.save(),this._clip(t)),Iw.fillRectangle(t,r,o,this.isNormalRenderingType?this.item.opacity:1),this._imageContainer.isLoaded?this._drawImage(t,this.canvas.disableSmoothing):this._imageContainer.isLoading&&this.canvas.drawWaitClock(null!=e?e:t,new pg(n.centerX,n.centerY));var s=this._getActualBorderWidth();s>0&&(r.width+=s,r.height+=s,Iw.drawRectangle(t,r,s,this.isNormalRenderingType||0===this.item.borderColor.alpha?this.item.borderColor.preview:"rgb(0,0,0)",this.item.opacity)),this._hasVectorMask()&&t.restore()}},e.prototype._drawMaskedContent=function(t){if(this._drawImage(t,this.canvas.disableSmoothing,this.item.maskOpacity),null!=this._parentPlaceholder){t.globalCompositeOperation="destination-out";var e=this._parentPlaceholder;Iw.fillPath(t,e.originalPath,e.getControlCenter(),e.item.transform,"#fff"),t.globalCompositeOperation="source-over"}},e.prototype.updateRectangle=function(t,e,n,r,i,o){null==e&&(e=Yv.Fit),null==t&&(t=!1);var s=this.getTransformedRectangle(!1);if(r=null!=r?r:this.bounds.width,i=null!=i?i:this.bounds.height,t){var a=s.location;s.width=s.height*(r/i),s.location=a}else if(null!=this.parentPlaceholder&&(s=this.parentPlaceholder.getTransformedRectangle(!1)),e===Yv.Original&&this.item instanceof Av){var l=this.item.getOriginalImageSize();s.width=l.width*(u=null!=o?this.item.source.dpiX/o:1),s.height=l.height*u}else{var u=1;e===Yv.Fit?u=Math.min(s.width/r,s.height/i):e===Yv.Fill&&(u=Math.max(s.width/r,s.height/i)),s.width=r*u,s.height=i*u}if(null!=n){var c=n.getTransformedRectangle(!1);switch(n.item.contentVerticalAlignment){case qv.Top:s.centerY=c.centerY-(c.height-s.height)/2;break;case qv.Center:s.centerY=c.centerY;break;case qv.Bottom:s.centerY=c.centerY+(c.height-s.height)/2}switch(n.item.contentHorizontalAlignment){case Gv.Left:s.centerX=c.centerX-(c.width-s.width)/2;break;case Gv.Center:s.centerX=c.centerX;break;case Gv.Right:s.centerX=c.centerX+(c.width-s.width)/2}}this.setTransformedRectangle(s)},e.prototype._drawImage=function(t,e,n,r){var i=this.canvas,o=this.isNormalRenderingType?this.item.opacity:1;Iw.drawImage(t,null!=r?r:this._imageContainer.image,this.rectangle,cg.screenDpi*i.zoom/72,cg.screenDpi*i.zoom/72,e,null,null!=n?o*n:o)},e.prototype._getBoundsMargin=function(){return 2*this._getActualBorderWidth()},e.prototype._onAddedOnCanvas=function(e,n){if(t.prototype._onAddedOnCanvas.call(this,e,n||null!=this.parentPlaceholder),this._updateImageUrl(),!this._onCanvasChangedDelegate){var r=this.canvas;r&&(this._onCanvasChangedDelegate=this._onCanvasChanged.bind(this),r.add_zoomChanged(this._onCanvasChangedDelegate),this._needToDownloadImage&&this.update())}},e.prototype._onRemovedFromCanvas=function(e){t.prototype._onRemovedFromCanvas.call(this,e),e&&null!=this._onCanvasChangedDelegate&&(e.remove_zoomChanged(this._onCanvasChangedDelegate),delete this._onCanvasChangedDelegate)},e.prototype.dispose=function(){if(this._imageContainer.dispose(),this._onCanvasChangedDelegate){var e=this.canvas;e&&e.remove_zoomChanged(this._onCanvasChangedDelegate),delete this._onCanvasChangedDelegate}t.prototype.dispose.call(this)},e.typeName="ContentItemHandler",e}($w),Jw=function(){var t=function(e,n){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(e,n)};return function(e,n){function r(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),tC=function(t){function e(e){var n=t.call(this,e)||this;return n.__type="ImageHandlerData",e&&(n.DI=e.needToDownloadImage,n.SAS=e.takeIntoAccountImageDpi,n.HR=e.sourceImageHorizontalResolution,n.VR=e.sourceImageVerticalResolution),n}return Jw(e,t),e.prototype.applyState=function(e,n){n&&(n.beginUpdate(),n.sourceImageHorizontalResolution=e.HR,n.sourceImageVerticalResolution=e.VR,n.needToDownloadImage=e.DI,n.takeIntoAccountImageDpi=e.SAS,t.prototype.applyState.call(this,e,n))},e}(Lw),eC=function(){function t(){}return t.getImageUrl=function(t,e,n,r,i,o,s,a,l,u,c){if(!Number.isInteger(n)||!Number.isInteger(r))throw new $f('Wrong "'+(Number.isInteger(n)?r:n)+'" type!');if(e.endsWith(".svg")&&!i&&!cg.IsFirefox()&&!cg.IsIE())return t.handlerUrl+"/svg?f="+encodeURIComponent(e);var h=t.handlerUrl+"/img?f="+encodeURIComponent(e)+"&w="+encodeURIComponent(n.toString())+"&h="+encodeURIComponent(r.toString());if(null!=t.cmykColorProfileFileId&&(h+="&cmyk="+encodeURIComponent(t.cmykColorProfileFileId)),null!=t.rgbColorProfileFileId&&(h+="&rgb="+encodeURIComponent(t.rgbColorProfileFileId)),null!=t.grayscaleColorProfileFileId&&(h+="&grayscale="+encodeURIComponent(t.grayscaleColorProfileFileId)),null!=i&&i&&(h+="&sq=true"),null!=o&&(o!==ov.None&&(h+="&effect="+encodeURIComponent(o.toString())),o===ov.Colorize&&null!=c&&(h+="&colorizeColor="+encodeURIComponent(c.toString()))),null!=s&&s&&(h+="&kp="+encodeURIComponent(s.toString())),null!=a){var p=a.color,d=a.blendMode,f=a.opacity;null!=p&&(h+="&color="+encodeURIComponent(p.toString())),null!=d&&(h+="&obm="+encodeURIComponent(d.toString())),null!=f&&(h+="&oo="+encodeURIComponent(f.toString()))}return null!=l&&parseInt(l.toString())>0&&(h+="&page="+encodeURIComponent(l.toString())),null!=u&&u&&(h+="&alphaMask="+encodeURIComponent(u.toString())),h},t}(),nC=function(){var t=function(e,n){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(e,n)};return function(e,n){function r(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),rC=function(t,e,n,r){return new(n||(n=Promise))((function(i,o){function s(t){try{l(r.next(t))}catch(e){o(e)}}function a(t){try{l(r.throw(t))}catch(e){o(e)}}function l(t){var e;t.done?i(t.value):(e=t.value,e instanceof n?e:new n((function(t){t(e)}))).then(s,a)}l((r=r.apply(t,e||[])).next())}))},iC=function(t,e){var n,r,i,o,s={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]};return o={next:a(0),throw:a(1),return:a(2)},"function"==typeof Symbol&&(o[Symbol.iterator]=function(){return this}),o;function a(o){return function(a){return function(o){if(n)throw new TypeError("Generator is already executing.");for(;s;)try{if(n=1,r&&(i=2&o[0]?r.return:o[0]?r.throw||((i=r.return)&&i.call(r),0):r.next)&&!(i=i.call(r,o[1])).done)return i;switch(r=0,i&&(o=[2&o[0],i.value]),o[0]){case 0:case 1:i=o;break;case 4:return s.label++,{value:o[1],done:!1};case 5:s.label++,r=o[1],o=[0];continue;case 7:o=s.ops.pop(),s.trys.pop();continue;default:if(!(i=(i=s.trys).length>0&&i[i.length-1])&&(6===o[0]||2===o[0])){s=0;continue}if(3===o[0]&&(!i||o[1]>i[0]&&o[1]<i[3])){s.label=o[1];break}if(6===o[0]&&s.label<i[1]){s.label=i[1],i=o;break}if(i&&s.label<i[2]){s.label=i[2],s.ops.push(o);break}i[2]&&s.ops.pop(),s.trys.pop();continue}o=e.call(t,s)}catch(a){o=[6,a],r=0}finally{n=i=0}if(5&o[0])throw o[1];return{value:o[0]?o[1]:void 0,done:!0}}([o,a])}}},oC=function(t){function e(e,n){void 0===n&&(n=null);var r=t.call(this,e,n)||this;return r._maxImageSize=4e6,r._imageResizedEvent=new ag,r._qualityChangeContainer=null,r._qualityChangeScaleBar=null,r._qualityChangeInfoBar=null,r.item.source.type===Av.ImageSourceType.Url&&r.loadImage(null,{downloadToServerCache:!0,actualSize:r.item.source.actualSize,saveAspectRatio:r.item.source.saveAspectRatio}),r}return nC(e,t),Object.defineProperty(e.prototype,"item",{get:function(){return this._getItem()},enumerable:!0,configurable:!0}),e.prototype._setDataItem=function(e,n){t.prototype._setDataItem.call(this,e,n);var r=null==this.item.source.id&&null!=this.item.source.url;this.item.source.id=e.source.id,this.item.source.width=e.source.width,this.item.source.height=e.source.height,this.item.source.isVector=e.source.isVector,this.item.source.pageIndex=e.source.pageIndex,this.item.source.url=e.source.url,r&&(this.updateRectangle(!1,null!=this.item.parentPlaceholder?this.item.parentPlaceholder.contentResizeMode:null,this.parentPlaceholder),this.update())},e.prototype._onItemPropertyChanged=function(e,n){switch(n){case"source":this._sourceUrl=null,this.update(),null==this.item.source.id&&null!=this.item.source.url&&this.updateRectangle(!1,null!=this.item.parentPlaceholder?this.item.parentPlaceholder.contentResizeMode:null,this.parentPlaceholder);var r=this.canvas;null!=r&&r.updateFloatingItemToolbar(this);break;case"fillColor":this.item.effect===ov.Colorize&&this.update();case"effect":case"overlayEffect":this.update()}t.prototype._onItemPropertyChanged.call(this,e,n)},Object.defineProperty(e.prototype,"needToDownloadImage",{get:function(){return this._needToDownloadImage},set:function(t){this._needToDownloadImage=t},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"takeIntoAccountImageDpi",{get:function(){return this._takeIntoAccountImageDpi},set:function(t){this._takeIntoAccountImageDpi=t},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"sourceImageHorizontalResolution",{get:function(){return this._sourceImageHorizontalResolution},set:function(t){this._sourceImageHorizontalResolution=t},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"sourceImageVerticalResolution",{get:function(){return this._sourceImageVerticalResolution},set:function(t){this._sourceImageVerticalResolution=t},enumerable:!0,configurable:!0}),e.prototype.loadImage=function(t,e){return void 0===e&&(e={}),rC(this,void 0,void 0,(function(){var n=this;return iC(this,(function(r){switch(r.label){case 0:return"string"!=typeof t&&this.item.source.type!==Av.ImageSourceType.Url&&console.error("Invalid sourceUrl: "+t),e.downloadToServerCache?(this._needToDownloadImage=!0,this._actualSize=null!=e.actualSize&&e.actualSize,this._saveAspectRatio=null==e.saveAspectRatio||e.saveAspectRatio,this._sourceUrl=t,null==t&&(this._sourceUrl=this.item.source.url),[4,new Promise((function(t){return n.update(null,t)}))]):[3,2];case 1:return r.sent(),[3,3];case 2:this._needToDownloadImage=!1,this._setSrc(t),r.label=3;case 3:return[2,this.item.source.id]}}))}))},e.prototype.loadImageFromRemoteUrl=function(t,e){return rC(this,void 0,void 0,(function(){var n,r,i;return iC(this,(function(o){switch(o.label){case 0:return i=(r=JSON).parse,[4,Ww({url:Bg(t,"/api/ImagePicker/GetWebImageMeta"),type:Rw.post,headers:[Dw.json],data:JSON.stringify({url:e})})];case 1:return n=i.apply(r,[o.sent().value]),this.item.source.id=n.storageId,this.item.source.width=n.width,this.item.source.height=n.height,this.item.source.isVector=n.isVector,this.item.name=n.name,this.item.sourceRectangle.width=this.item.source.width,this.item.sourceRectangle.height=this.item.source.height,[2]}}))}))},e.prototype.loadImageFromImagePicker=function(t,e,n){var r=this;return Ww({url:Bg(t,"api/imagepicker/GetSourceImageMetadata"),type:Rw.post,headers:[Dw.json],data:JSON.stringify(e)}).then((function(t){var e=new Dv(t.value);r.item.source.setIdWithOrigin(e.storageId,e.origin),r.item.source.width=e.size.width,r.item.source.height=e.size.height,r.name=e.name,r.item.source.isVector=e.isVector,r.item.source.pageIndex=e.pageIndex,r.item.sourceRectangle=n,r.updateRectangle()}))},e.prototype.showEditButton=function(){return t.prototype.showEditToolbarButton.call(this)&&!this.item.source.isVector},e.prototype.update=function(t,e){var n=this;if(null!=this._sourceUrl&&null!=this._sourceUrl)this._update([this._actualSize,this._saveAspectRatio,this._sourceUrl],t,e),null==this.item.source.id&&null!=this.item.source.url&&this.updateRectangle(!1,null!=this.item.parentPlaceholder?this.item.parentPlaceholder.contentResizeMode:null,this.parentPlaceholder);else if(this.item.source.type===Av.ImageSourceType.Url)this.loadImage(null,{downloadToServerCache:!0,actualSize:this.item.source.actualSize,saveAspectRatio:this.item.source.saveAspectRatio}).then((function(){null!=n.canvas&&n.canvas.updateSelection()}));else{this.quickUpdate();var r=this.canvas;null!=r&&r.updateSelection()}},e.prototype._createDataInstance=function(t){return new tC(t)},e.prototype._updateImageUrl=function(){var e=this,n=this.canvas;if(null!=n&&this.isVisible()){if(null==this.item.source.id||null!=this.item.source.width&&null!=this.item.source.height)return void t.prototype._updateImageUrl.call(this);n.service.GetImageSize(this.item.source.id,this.item.source.pageIndex,(function(n){if(e.item.source.width=n.width,e.item.source.height=n.height,e._saveAspectRatio){var r=e.item.source.width/e.item.source.height;e.width<e.height?e.height=e.width/r:e.width=e.height*r}t.prototype._updateImageUrl.call(e)}),(function(t){window.console&&(console.error("Unable GetimageSize of image with id "+e.item.source.id),console.error(t))}))}},e.prototype._createImageUrl=function(){var t=this.item.source.id;if(null==t)return null;var e,n,r=this.canvas;if(null==r)return null;var i=r.zoom,o=this.rectangle;e=o.width*(i*cg.screenDpi/72),n=o.height*(i*cg.screenDpi/72),this.item.source.isVector||(e=Math.min(e,this.item.source.width),n=Math.min(n,this.item.source.height));var s=this._maxImageSize/e/n;return s<1&&(e*=s=Math.sqrt(s),n*=s),e=Math.max(1,Math.round(e)),n=Math.max(1,Math.round(n)),this._pixelWidth=e,this._pixelHeight=n,eC.getImageUrl(r,t,e,n,!1,this.item.effect,!1,this.item.overlayEffect,this.item.source.pageIndex,!this.isNormalRenderingType,this.item.fillColor)},e.prototype.addImageResized=function(t){this._imageResizedEvent.add(t)},e.prototype.removeImageResized=function(t){this._imageResizedEvent.remove(t)},e.prototype._onResized=function(){var e=this.rectangle;return this._imageResizedEvent.notify(this,{Width:e.width,Height:e.height}),this.update(),t.prototype._onResized.call(this)},e.prototype._getDrawingFillColor=function(){return this.item.effect===ov.Colorize?bm.createColor("rgba(0,0,0,0)"):this.item.fillColor},Object.defineProperty(e.prototype,"qualityChangeScaleBar",{get:function(){return this._qualityChangeScaleBar},set:function(t){this._qualityChangeScaleBar=t},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"qualityChangeInfoBar",{get:function(){return this._qualityChangeInfoBar},set:function(t){this._qualityChangeInfoBar=t},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"qualityChangeContainer",{get:function(){return this._qualityChangeContainer},set:function(t){this._qualityChangeContainer=t},enumerable:!0,configurable:!0}),e.prototype.setQualityChangeScaleBarWidth=function(t){null!=this._qualityChangeScaleBar&&(t=Math.max(0,t),t=Math.min(100,t),this._qualityChangeScaleBar.style.width=t+"%")},e.prototype.setQualityChangeInfoBarText=function(t){null!=this._qualityChangeInfoBar&&(this._qualityChangeInfoBar.innerText=t)},e.prototype.setBadToWarningChangeScaleBarClass=function(){var t=this.canvas;if(null!=this._qualityChangeScaleBar&&null!=t){var e=this._qualityChangeScaleBar.getAttribute("class"),n=t.qualityBadToWarningChangeScaleBarCssClass;null!=n&&""!==n&&this._qualityChangeScaleBar.classList.toggle(n,!0);var r=t.qualityWarningToGoodChangeScaleBarCssClass;null!=r&&""!==r&&this._qualityChangeScaleBar.classList.toggle(r,!1);var i=t.qualityBadToGoodChangeScaleBarCssClass;null!=i&&""!==i&&this._qualityChangeScaleBar.classList.toggle(i,!1);var o=t.qualityNoAnimationChangeScaleBarCssClass;null!=o&&""!==o&&this._qualityChangeScaleBar.classList.toggle(o,this._qualityChangeScaleBar.getAttribute("class")!==e)}},e.prototype.setWarningToGoodChangeScaleBarClass=function(){var t=this.canvas;if(null!=this._qualityChangeScaleBar&&null!=t){var e=this._qualityChangeScaleBar.getAttribute("class"),n=t.qualityWarningToGoodChangeScaleBarCssClass;null!=n&&""!==n&&this._qualityChangeScaleBar.classList.toggle(n,!0);var r=t.qualityBadToWarningChangeScaleBarCssClass;null!=r&&""!==r&&this._qualityChangeScaleBar.classList.toggle(r,!1);var i=t.qualityBadToGoodChangeScaleBarCssClass;null!=i&&""!==i&&this._qualityChangeScaleBar.classList.toggle(i,!1);var o=t.qualityNoAnimationChangeScaleBarCssClass;null!=o&&""!==o&&this._qualityChangeScaleBar.classList.toggle(o,this._qualityChangeScaleBar.getAttribute("class")!==e)}},e.prototype.setBadToGoodChangeScaleBarClass=function(){var t=this.canvas;if(null!=this._qualityChangeScaleBar&&null!=t){var e=this._qualityChangeScaleBar.getAttribute("class"),n=t.qualityBadToGoodChangeScaleBarCssClass;null!=n&&""!==n&&this._qualityChangeScaleBar.classList.toggle(n,!0);var r=t.qualityBadToWarningChangeScaleBarCssClass;null!=r&&""!==r&&this._qualityChangeScaleBar.classList.toggle(r,!1);var i=t.qualityWarningToGoodChangeScaleBarCssClass;null!=i&&""!==i&&this._qualityChangeScaleBar.classList.toggle(i,!1);var o=t.qualityNoAnimationChangeScaleBarCssClass;null!=o&&""!==o&&this._qualityChangeScaleBar.classList.toggle(o,this._qualityChangeScaleBar.getAttribute("class")!==e)}},e.prototype.updateRectangle=function(e,n,r,i){t.prototype.updateRectangle.call(this,e,n,r,this.item.source.width,this.item.source.height,i)},e.typeName="ImageItemHandler",e}(Kw),sC=function(){var t=function(e,n){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(e,n)};return function(e,n){function r(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),aC=function(t){function e(e){var n=t.call(this,e)||this;return n.__type="BaseTextHandlerData",n}return sC(e,t),e.prototype.applyState=function(e,n){n&&(n.beginUpdate(),n.currentTextImage=null!=e.currentTextImage?Object.assign(new hC,e.currentTextImage):null),t.prototype.applyState.call(this,e,n)},e}(Lw),lC=function(){function t(t,e,n,r,i){this._staticCanvas=t,this._activeCanvas=e,this._textWhizz=n,this._zoom=r,this._offset=i,this._selectionColor=new hm("rgba(40, 135, 245, 0.9)"),this._selectionTextColor=new hm("rgb(255, 255, 255)")}return t.prototype.setZoom=function(t){this._zoom=t},Object.defineProperty(t.prototype,"_scale",{get:function(){return cg.screenDpi*this._zoom/72},enumerable:!0,configurable:!0}),t.prototype._getScaledBounds=function(t){var e=this._scale,n=Math.round(t.left*e),r=Math.round(t.top*e),i=Math.round(t.width*e),o=Math.round(t.height*e);return new fg(n,r,i,o)},t.prototype._getBase64Url=function(){return this._staticCanvas.toDataURL()},t.prototype._colorToTextWhizz=function(t){return new this._textWhizz.Color(this._textWhizz.ColorType.rgb,[t.b,t.g,t.r,t.a])},t.renderTextImage=function(t,e,n,r,i){e.isLoaded?this._drawImage(t,e,n,r,i):!e.isLoading&&t.ready||this._drawWaitClock(t,r)},t._drawWaitClock=function(t,e){var n=t.rectangle;t.canvas.drawWaitClock(e,new pg(n.centerX,n.centerY))},t._isUpdatingAfterResize=function(t){return t instanceof cC&&("BoundedTextItemHandler"===t.getTypeName()||"PathBoundedTextItemHandler"===t.getTypeName())&&t.isUpdatingAfterResize},t._drawImage=function(t,e,n,r,i){var o=t.canvas,s=t.item,a=o.disableSmoothing,l=cg.screenDpi*o.zoom/72;this._isUpdatingAfterResize(t)||Iw.drawImage(r,e.image,t.drawingRectangle,l,l,a,null,s.opacity*i,n)},t}(),uC=function(){var t=function(e,n){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(e,n)};return function(e,n){function r(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),cC=function(t){function e(e,n){void 0===n&&(n=null);var r=t.call(this,e,n)||this;return r._defaultWidth=10,r._currentTextImage=null,r._onCanvasChangedDelegate=null,r._updatedFromServer=!1,r._isUpdatingAfterResize=!1,r._height=0,r._updateTextsFunc=function(){null!=r.canvas&&r.canvas.updateTexts()},r._imageContainer=new Qw(r._onImageLoaded.bind(r)),r._allowNegativeResize=!1,r}return uC(e,t),e.prototype._getSrc=function(){var t=this._imageContainer.source;return Lg(t)?this._createImageUrl():t},Object.defineProperty(e.prototype,"item",{get:function(){return this._getItem()},set:function(e){t.prototype._setItem.call(this,e)},enumerable:!0,configurable:!0}),e.prototype._onItemPropertyChanged=function(e,n){switch(n){case"text":case"font":this.update(null,this._updateTextsFunc);break;case"underline":case"color":case"alignment":case"leading":case"tracking":case"verticalScale":case"horizontalScale":case"previewScale":case"stroke":case"shadow":case"baselineShift":this.update();break;case"checkTextCrop":e.checkTextCrop&&this.update()}t.prototype._onItemPropertyChanged.call(this,e,n)},e.prototype._setDataItem=function(e,n){t.prototype._setDataItem.call(this,e,n),this.item.text=e.text,this.item.font=e.font,this.item.leading=e.leading,this.item.color=e.color,this.item.stroke=e.stroke,this.item.shadow=e.shadow,this.item.verticalScale=e.verticalScale,this.item.horizontalScale=e.horizontalScale,this.item.previewScale=e.previewScale,this.item.mask=e.mask,this.item.baselineShift=e.baselineShift,this._updateVectorMaskCenter()},Object.defineProperty(e.prototype,"currentTextImage",{get:function(){return null!=this._currentTextImage?this._currentTextImage:this._currentTextImage=new hC},set:function(t){this._currentTextImage=t},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"textCropped",{get:function(){return this.item.checkTextCrop?null!=this.currentTextImage&&this.currentTextImage.textCropped:null},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"ready",{get:function(){return this._imageContainer.isLoaded},enumerable:!0,configurable:!0}),e.prototype._isLoadingImage=function(){return this._imageContainer.isLoading},e.prototype._setIsLoadingImage=function(t){this._imageContainer.isLoading=t},Object.defineProperty(e.prototype,"isUpdatingAfterResize",{get:function(){return this._isUpdatingAfterResize},set:function(t){this._isUpdatingAfterResize=t},enumerable:!0,configurable:!0}),e.prototype._getText=function(){var t=this.isEmptyTextPlaceholder()?this.item.originalText:this.item.text;return Hg(t)?this._xmlToHtml(t).textContent.trim():t.trim()},e.prototype.isEmptyTextPlaceholder=function(){return this.item.isTextPlaceholder&&""===this.item.text},e.prototype.update=function(t,e){var n=this;this.isVisible()?this._update(null,t,(function(){n._afterUpdate(e)})):"function"==typeof t&&t()},e.prototype.getColorData=function(){var e=this.item,n=null!=this.canvas?this.canvas.rgbColorProfileFileId:null,r=t.prototype.getColorData.call(this);return e.color.needUpdate(n)&&(r.color=e.color.getData()),null!=e.stroke&&e.stroke.color.needUpdate(n)&&(r.stroke=e.stroke.color.getData()),null!=e.shadow&&e.shadow.color.needUpdate(n)&&(r.shadow=e.shadow.color.getData()),r},e.prototype.setColorData=function(e){t.prototype.setColorData.call(this,e),this._modifyItem((function(t){null!=e.color&&(t.color=bm.createColor(e.color)),null!=e.stroke&&(t.stroke.color=bm.createColor(e.stroke)),null!=e.shadow&&(t.shadow.color=bm.createColor(e.shadow))}))},e.prototype.hasColorsToUpdate=function(){var e=this.item,n=null!=this.canvas?this.canvas.rgbColorProfileFileId:null;return t.prototype.hasColorsToUpdate.call(this)||e.color.needUpdate(n)||null!=e.stroke&&e.stroke.color.needUpdate(n)||null!=e.shadow&&e.shadow.color.needUpdate(n)},e.prototype.isEmpty=function(){return this.item.isEmpty()},e.prototype.isVisible=function(){var e=null==this.item.parentGroupItem||this.item.parentGroupItem.isChildVisible(this.item);return t.prototype.isVisible.call(this)&&e},e.prototype._afterUpdate=function(t){"function"==typeof t&&t(),this._updatedFromServer=!0,null!=this.canvas&&(this.canvas.updateSelection(),this.canvas.redrawDesign())},e.prototype._xmlToHtml=function(t){return(new DOMParser).parseFromString("<body>"+t+"</body>","text/html").getElementsByTagName("body")[0]},e.prototype._validateBeforeCallService=function(){return""!==this._getText()},e.prototype._onValidateBeforeCallServiceFailed=function(){this._getSrc()?this._setDefaultTextControlPoints():this._updateEmptyTextControlPoints()},e.prototype._updateEmptyTextControlPoints=function(){var e,n=this,r=this._createDataInstance(this),i=JSON.parse(this._getDataItem());e=i.text,i.text="a";var o=[JSON.stringify(r),i];t.prototype._callService.call(this,"Update"+this.getTypeName(),o,(function(t){var r=null;"object"==typeof t&&(r=t.item,t=t.itemHandlerData),null!=r&&(r.text=e,n._applyDataItem(r,t)),n.setData(t);var i=n.canvas;null!=i&&(i.updateSelection(),i.redraw()),n.onSuccessResponse()}),(function(t){n.onErrorResponse(t)}),null)},e.prototype._setDefaultTextControlPoints=function(){var t=this.item.alignment;t===vy.Center?this._controlPoints[0].x+=(this._controlPoints[1].x-this._controlPoints[0].x)/2-this._defaultWidth/2:t===vy.Right&&(this._controlPoints[0].x=this._controlPoints[1].x-this._defaultWidth),this._controlPoints[1].x=this._controlPoints[0].x+this._defaultWidth,this.raiseChanged();var e=this.canvas;null!=e&&(e.updateSelection(),e.redraw()),this.onSuccessResponse()},e.prototype._transformChanged=function(){var e=this;if(t.prototype._transformChanged.call(this),this.isUpdating&&this._callbacks){var n=this.item.transform.clone();this._callbacks.push((function(){e.item.setTransform(n,!0)}))}},e.prototype._createImageUrl=function(){var t=this.canvas;return null==t?null:this.canvas.service.imageLoaderService.hasImageContainerFor(this.currentTextImage.cacheFileId)?null:null!=this.currentTextImage.cacheFileId&&0!==this.currentTextImage.cacheFileId.length||null!=this.currentTextImage.base64Image&&0!==this.currentTextImage.base64Image.length?this.currentTextImage&&this.currentTextImage.base64Image?"data:image/png;base64,"+this.currentTextImage.base64Image:t.handlerUrl+"/txt?f="+encodeURIComponent(this.currentTextImage.cacheFileId):null},e.prototype._updateImageUrl=function(){if(""!==this._getText()&&this.isVisible()){var t=this.canvas;if(null!=t&&t.isInitialized){var e=this._createImageUrl();null==this._imageContainer.source||e!==this._imageContainer.source?null===e?(this._imageContainer.clear(),t.redraw()):this._imageContainer.updateUrl(e):!0===this.isUpdatingAfterResize&&(this.isUpdatingAfterResize=!1,t.redraw())}}},e.prototype.quickUpdate=function(){this._updateImageUrl(),this.isVisible()&&!this._imageContainer.source&&this.canvas&&!this.canvas.service.imageLoaderService.hasImageContainerFor(this.currentTextImage.cacheFileId)&&this.update()},e.prototype._getBoundsMargin=function(){return 2*this._getActualBorderWidth()},e.prototype.drawItemHandler=function(t){if(null!=t&&null!=this.canvas&&!0===this._updatedFromServer&&""!==this._getText()){this._hasVectorMask()&&(t.save(),this._clip(t));var e=this.item,n=this.rectangle,r=this.isEmptyTextPlaceholder()?.5:1;Iw.fillRectangle(t,n,e.fillColor.preview,e.opacity*r);try{var i=this.canvas.service.imageLoaderService.getImageContainerFor(this.currentTextImage.cacheFileId);if(null!=i){var o=this.canvas.service.imageLoaderService.getImageContainerRectangleFor(this.currentTextImage.cacheFileId);lC.renderTextImage(this,i,o,t,r)}else lC.renderTextImage(this,this._imageContainer,null,t,r)}catch(a){console.error(a),this.update()}var s=this._getActualBorderWidth();s>0&&(n.width+=s,n.height+=s,Iw.drawRectangle(t,n,s,e.borderColor.preview,e.opacity*r)),this._hasVectorMask()&&t.restore()}},e.prototype._createDataInstance=function(t){return new aC(t)},e.prototype._onImageLoaded=function(){this.isUpdatingAfterResize=!1,this._height=this.rectangle.height,null!=this.canvas&&this.canvas.redraw(),this._dispatchReadyEvent()},e.prototype._onResized=function(){return null!=this.canvas&&(this.isUpdatingAfterResize=!0),t.prototype._onResized.call(this)},e.prototype._onCanvasChanged=function(){this.update()},e.prototype._onAddedOnCanvas=function(e,n){t.prototype._onAddedOnCanvas.call(this,e,n),null==this.canvas||this._onCanvasChangedDelegate||(this._onCanvasChangedDelegate=this._onCanvasChanged.bind(this),this.canvas.add_zoomChanged(this._onCanvasChangedDelegate))},e.prototype._onRemovedFromCanvas=function(e){t.prototype._onRemovedFromCanvas.call(this,e),e&&null!=this._onCanvasChangedDelegate&&(e.remove_zoomChanged(this._onCanvasChangedDelegate),delete this._onCanvasChangedDelegate)},e.prototype._endTransform=function(e,n){t.prototype._endTransform.call(this,e,n),e&&n&&this.update()},e.prototype.dispose=function(){this._imageContainer.dispose(),null!=this._onCanvasChangedDelegate&&(null!=this.canvas&&this.canvas.remove_zoomChanged(this._onCanvasChangedDelegate),delete this._onCanvasChangedDelegate),t.prototype.dispose.call(this)},e.typeName="BaseTextItemHandler",e}($w),hC=function(){this.cacheFileId=null,this.base64Image=null,this.textCropped=null},pC=function(){var t=function(e,n){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(e,n)};return function(e,n){function r(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),dC=function(t){function e(e,n){return void 0===n&&(n=null),t.call(this,e,n)||this}return pC(e,t),Object.defineProperty(e.prototype,"item",{get:function(){return this._getItem()},set:function(e){t.prototype._setItem.call(this,e)},enumerable:!0,configurable:!0}),e.prototype._setDataItem=function(e,n){t.prototype._setDataItem.call(this,e,n),this.item.baselineLocation=e.baselineLocation},e.prototype._onItemPropertyChanged=function(e,n){var r=this;switch(n){case"baselineLocation":this.update();break;case"alignment":var i=this.rectangle.location,o=this.canvas.history;null!=o&&o.pause(),this.update(null,(function(){var t=r.rectangle.location;r.item.transform.move(i.x-t.x,i.y-t.y),null!=o&&o.resume()}))}"alignment"!==n&&t.prototype._onItemPropertyChanged.call(this,e,n)},e.prototype._createItemHandlerPermissions=function(){var e=t.prototype._createItemHandlerPermissions.call(this);return e.allowArbitraryResize=!1,e},e.prototype._getBaselineLocation=function(){var t=this.getControlCenter(),e=this.item.baselineLocation.clone();return e.transform(this.item.transform.clone(),t),e},e.prototype.drawItemHandler=function(e){if(t.prototype.drawItemHandler.call(this,e),!0===window.__$abl$){var n=this._getBaselineLocation(),r=new Ag(n.x,n.y,6,6,0);Iw.fillRectangle(e,r,"red")}},e.prototype._onResized=function(){if(null!=this.canvas){var e=this.rectangle.height/this._height,n=parseFloat((this.item.font.size*e).toFixed(1)),r=parseFloat((this.item.leading*e).toFixed(1)),i=this.canvas,o=i.minFontSize;n="number"==typeof o?Math.max(n,o):n;var s=i.maxFontSize;if(n="number"==typeof s?Math.min(n,s):n,0!==r){var a=i.minLeading;r="number"==typeof a?Math.max(r,a):r;var l=i.maxLeading;r="number"==typeof l?Math.min(r,l):r}return xg(n,this.item.font.size,.01)&&xg(r,this.item.leading,.01)?(null!=this._startRectangle?(this.setRectangle(this._startRectangle),i.updateSelection(),delete this._startRectangle):this.update(null,null),!1):t.prototype._onResized.call(this)}},e.typeName="PlainTextItemHandler",e}(cC),fC=function(){var t=function(e,n){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(e,n)};return function(e,n){function r(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),gC=function(t){function e(e,n){void 0===n&&(n=null);var r=t.call(this,e,n)||this;return r._lastRectangle=null,r._textAutoFitted=null,r._updateEmptyTextControlPoints(),r}return fC(e,t),Object.defineProperty(e.prototype,"item",{get:function(){return this._getItem()},set:function(e){t.prototype._setItem.call(this,e)},enumerable:!0,configurable:!0}),e.prototype._setDataItem=function(e,n){t.prototype._setDataItem.call(this,e,n),this._textAutoFitted=null,this.item.scheduledFitMode=null,this.item.textRectangle=e.textRectangle,this.item.firstBaselineOffset=e.firstBaselineOffset,this.item.firstBaselineMinOffset=e.firstBaselineMinOffset},e.prototype._onItemPropertyChanged=function(e,n){switch(n){case"textRectangle":case"verticalAlignment":case"isVertical":case"paragraphSettings":case"wrappingMargin":case"scheduledFitMode":case"shrinkMode":case"overflowStrategy":case"wrappingPath":case"firstBaselineOffset":case"firstBaselineMinOffset":this.update()}t.prototype._onItemPropertyChanged.call(this,e,n)},e.prototype.getTextRectangle=function(){var t=this.getControlCenter(),e=Ag.fromRectangleF(this.item.textRectangle);return e.transform(this.item.transform.clone(),t),e},Object.defineProperty(e.prototype,"drawingRectangle",{get:function(){return this.canvas.isItemHandlerSelected(this)&&this.canvas.isResizing()&&null!=this.startRectangle?this.startRectangle:this.rectangle},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"lastRectangle",{get:function(){return this._lastRectangle},set:function(t){this._lastRectangle=t},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"textAutoFitted",{get:function(){var t;return null==this._textAutoFitted&&(this._textAutoFitted=(t=this.item).overflowStrategy!==yy.Clip&&(t.shrinkMode===my.Scale||t.shrinkMode===my.Size)&&(t.originalVerticalScale<t.verticalScale||t.originalHorizontalScale<t.horizontalScale)),this._textAutoFitted},enumerable:!0,configurable:!0}),e.prototype.getTextWrappingPath=function(){return this.item.textWrappingMode!==Fm.None?Eg.rotatedRectangle(this.getTextRectangle()):null},e.prototype.drawItemHandler=function(e){t.prototype.drawItemHandler.call(this,e),!0===window.__$abl$&&Iw.drawRectangle(e,this.getTextRectangle(),1,"red",1)},e.prototype._updateEmptyTextControlPoints=function(){var t=this.item.textRectangle;this._controlPoints[0].x=t.left,this._controlPoints[0].y=t.top,this._controlPoints[1].x=t.right,this._controlPoints[1].y=t.bottom;var e=this.canvas;null!=e&&e.redraw()},e.prototype._setDefaultTextControlPoints=function(){},e.typeName="BoundedTextItemHandler",e}(cC),mC=function(){var t=function(e,n){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(e,n)};return function(e,n){function r(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),yC=function(t){function e(e,n){void 0===n&&(n=null);var r=t.call(this,e,n)||this;return r._lastRectangle=null,r._lastRectangle=null,r}return mC(e,t),e.prototype._onItemPropertyChanged=function(e,n){switch(n){case"boundingPaths":case"wrappingPath":case"wrappingMargin":case"paragraphSettings":case"isVertical":case"firstBaselineOffset":case"firstBaselineMinOffset":this.update()}t.prototype._onItemPropertyChanged.call(this,e,n)},Object.defineProperty(e.prototype,"item",{get:function(){return this._getItem()},set:function(e){t.prototype._setItem.call(this,e)},enumerable:!0,configurable:!0}),e.prototype._setDataItem=function(e,n){t.prototype._setDataItem.call(this,e,n),this.item.boundingPaths=e.boundingPaths,this.item.wrappingMargin=e.wrappingMargin,this.item.characterLimit=e.characterLimit,this.item.paragraphSettings=e.paragraphSettings,this.item.isVertical=e.isVertical,this.item.firstBaselineOffset=e.firstBaselineOffset,this.item.firstBaselineMinOffset=e.firstBaselineMinOffset},Object.defineProperty(e.prototype,"boundingPaths",{get:function(){var t=[],e=this.getControlCenter(),n=this.item.transform.clone();return this.originalBoundingPaths.forEach((function(r){var i=r.clone();i.transform(n,e),t.push(i)})),t},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"originalBoundingPaths",{get:function(){return this.item.boundingPaths},set:function(t){this.item.boundingPaths=t},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"lastRectangle",{get:function(){return this._lastRectangle},set:function(t){this._lastRectangle=t},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"wrappingMargin",{get:function(){return this.item.wrappingMargin},set:function(t){this.item.wrappingMargin=t},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"paragraphSettings",{get:function(){return this.item.paragraphSettings},set:function(t){t instanceof Wy||(t=new Wy(t)),this.item.paragraphSettings=t},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"isVertical",{get:function(){return this.item.isVertical},set:function(t){this.item.isVertical=t},enumerable:!0,configurable:!0}),e.prototype.drawItemHandler=function(e){if(t.prototype.drawItemHandler.call(this,e),!0===window.__$abl$){var n=this.getControlCenter(),r=new Tg;this.boundingPaths.forEach((function(t){Iw.drawPath(e,t,n,r,1,"red",1)}))}},e.prototype.getBoundingPathsBounds=function(){return t=this,void 0,n=function(){var t,e,n,r=this;return function(t,e){var n,r,i,o,s={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]};return o={next:a(0),throw:a(1),return:a(2)},"function"==typeof Symbol&&(o[Symbol.iterator]=function(){return this}),o;function a(o){return function(a){return function(o){if(n)throw new TypeError("Generator is already executing.");for(;s;)try{if(n=1,r&&(i=2&o[0]?r.return:o[0]?r.throw||((i=r.return)&&i.call(r),0):r.next)&&!(i=i.call(r,o[1])).done)return i;switch(r=0,i&&(o=[2&o[0],i.value]),o[0]){case 0:case 1:i=o;break;case 4:return s.label++,{value:o[1],done:!1};case 5:s.label++,r=o[1],o=[0];continue;case 7:o=s.ops.pop(),s.trys.pop();continue;default:if(!(i=(i=s.trys).length>0&&i[i.length-1])&&(6===o[0]||2===o[0])){s=0;continue}if(3===o[0]&&(!i||o[1]>i[0]&&o[1]<i[3])){s.label=o[1];break}if(6===o[0]&&s.label<i[1]){s.label=i[1],i=o;break}if(i&&s.label<i[2]){s.label=i[2],s.ops.push(o);break}i[2]&&s.ops.pop(),s.trys.pop();continue}o=e.call(t,s)}catch(a){o=[6,a],r=0}finally{n=i=0}if(5&o[0])throw o[1];return{value:o[0]?o[1]:void 0,done:!0}}([o,a])}}}(this,(function(i){switch(i.label){case 0:return[4,Promise.all(this.item.boundingPaths.map((function(t){return Bw.getBounds(t,r.canvas.textWhizz,r.canvas.service)})))];case 1:return t=i.sent(),e=fg.getOverallBounds(t),(n=Ag.fromRectangleF(e)).transform(this.item.transform.clone(),this.getControlCenter()),[2,n.toRectangleF()]}}))},new((e=void 0)||(e=Promise))((function(r,i){function o(t){try{a(n.next(t))}catch(e){i(e)}}function s(t){try{a(n.throw(t))}catch(e){i(e)}}function a(t){var n;t.done?r(t.value):(n=t.value,n instanceof e?n:new e((function(t){t(n)}))).then(o,s)}a((n=n.apply(t,[])).next())}));var t,e,n},Object.defineProperty(e.prototype,"drawingRectangle",{get:function(){return this.canvas.isItemHandlerSelected(this)&&this.canvas.isResizing()&&null!=this.startRectangle?this.startRectangle:this.rectangle},enumerable:!0,configurable:!0}),e.prototype._setDefaultTextControlPoints=function(){},e.typeName="PathBoundedTextItemHandler",e}(cC),vC=function(){function t(t){var e=t.map((function(t){return[t.typeName,t]}));this._dict=new Map(e)}return t.prototype.create=function(t){var e=this._dict.get(t);if(null!=e)return new e;throw new Xf("Unknown vo type "+t)},t}(),_C=function(){var t=function(e,n){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(e,n)};return function(e,n){function r(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),bC=function(t){function e(){return t.call(this,[Yw,$w,oC,SC,dC,yC,gC])||this}return _C(e,t),e}(vC),wC=function(){var t=function(e,n){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(e,n)};return function(e,n){function r(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),CC=function(t){function e(e){var n=this,r=e._editing;if(r&&(e._editing=!1),n=t.call(this,e)||this,e._editing=r,n.__type="PlaceholderHandlerData",e){n.CT=e.isEmptyContent()?null:e.getTypeName();var i=e.topFrames;if(null!=i){n.TFCT=[],n.TFCD=[];for(var o=0;o<i.length;o++)n.TFCD.push(i[o].getData()),n.TFCT.push(i[o].getTypeName())}var s=e.bottomFrames;if(null!=s)for(n.BFCT=[],n.BFCD=[],o=0;o<s.length;o++)n.BFCD.push(s[o].getData()),n.BFCT.push(s[o].getTypeName());n.SMC=e.showMaskedContent}return n}return wC(e,t),e.prototype.applyState=function(e,n){if(n){if(n.beginUpdate(),null!=e.TFCD&&0!==e.TFCD.length){for(var r=[],i=0;i<e.TFCD.length;i++)if(null!=e.TFCT[i]){var o=(new bC).create(e.TFCT[i]);o.setData(e.TFCD[i]),r.push(o)}n.topFrames=r}if(null!=e.BFCD&&0!==e.BFCD.length){var s=[];for(i=0;i<e.BFCD.length;i++)if(null!=e.BFCT[i]){var a=(new bC).create(e.BFCT[i]);a.setData(e.BFCD[i]),s.push(a)}n.bottomFrames=s}n.showMaskedContent=e.SMC,t.prototype.applyState.call(this,e,n)}},e}(Lw),xC=function(){var t=function(e,n){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(e,n)};return function(e,n){function r(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),SC=function(t){function e(n,r){void 0===r&&(r=null);var i=t.call(this,e._getItemPath(n),n,r)||this;return i._content=null,i._topFrames=[],i._bottomFrames=[],i._editing=!1,i._showMaskedContent=!0,i._isContentUpdating=!1,i._previousRectangle=null,i._placeholderButtonGroup=null,i._editButtonGroup=null,i._doneButtonGroup=null,i._selectButton=null,i._doneButton=null,i._handleButton=null,i._qualityChangeContainer=null,i._qualityChangeScaleBar=null,i._qualityChangeInfoBar=null,i._forceQualityChangeInfoBar=!1,i._emptyPlaceholderBorderColor=new hm({r:204,g:204,b:204}),i._emptyPlaceholderBorderWidth=1,i._selectButtonClickEvent=new ag,i._selectButtonClickHandler=i._onSelectButtonClick.bind(i),i}return xC(e,t),Object.defineProperty(e.prototype,"item",{get:function(){return this._getItem()},enumerable:!0,configurable:!0}),e._getItemPath=function(t){return null==t?null:null!=t.sourcePath?t.sourcePath:null!=t.sourceRectangle?Eg.rectangle(t.sourceRectangle.left,t.sourceRectangle.top,t.sourceRectangle.width,t.sourceRectangle.height):null},e.prototype._onItemPropertyChanged=function(e,n){var r=this;switch(n){case"content":this.content=null!=e.content&&null!=this.canvas?this.canvas.handlerFactory.get(e.content):null,this.update();break;case"topFrames":null!=this.canvas&&(this.topFrames=e.topFrames.map((function(t){return r.canvas.handlerFactory.get(t)}))),this.update();break;case"bottomFrames":null!=this.canvas&&(this.bottomFrames=e.bottomFrames.map((function(t){return r.canvas.handlerFactory.get(t)}))),this.update();break;case"locked":case"visible":var i=this.canvas;null!=i&&i.updatePlaceholderButtonGroup(this);break;case"isStubContent":this._reloadPlaceholderButtons();break;case"isCoverMode":null!=this._content&&this.item.isCoverMode&&this._content.setRectangle(this._content.rectangle);break;case"contentOverlayEffect":this.update()}t.prototype._onItemPropertyChanged.call(this,e,n)},e.prototype._setVisible=function(e){if(this.visible!==e){t.prototype._setVisible.call(this,e),null!=this._content&&(this._content.visible=e);var n=this.canvas;null!=n&&n.updatePlaceholderButtonGroup(this)}},e.prototype.quickUpdate=function(){this.isVisible()&&this.update(),null!=this.canvas&&this.canvas.updatePlaceholderButtonGroup(this)},Object.defineProperty(e.prototype,"content",{get:function(){return this._content},set:function(t){var e=this.canvas;if(null==e||this.isStubOrEmpty()||e.removeViolationContainer(this._content),this._content=t,null!=this._content&&(this._content.layer=this.layer,this._content.parentPlaceholder=this,this._content.contentType=Ew.PlaceholderContent),null!=e){if(this._reloadPlaceholderButtons(),null==this._content)return;this._content.canvas=e}},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"topFrames",{get:function(){return this._topFrames},set:function(t){var e=this;this._topFrames=t,this._updateTopFrames((function(t){t.contentType=Ew.TopFrame,t.layer=e.layer,t.parentPlaceholder=e,t.canvas=e.canvas}))},enumerable:!0,configurable:!0}),e.prototype.getTopFrame=function(t){return null!=this._topFrames?this._topFrames[t]:null},e.prototype.setTopFrame=function(t,e){e._contentType=Ew.TopFrame,e._layer=this.layer,e._parentPlaceholder=this,e.canvas=this.canvas,this._topFrames[t]=e},Object.defineProperty(e.prototype,"bottomFrames",{get:function(){return this._bottomFrames},set:function(t){var e=this;this._bottomFrames=t,this._updateBottomFrames((function(t){t.contentType=Ew.BottomFrame,t.layer=e.layer,t.parentPlaceholder=e,t.canvas=e.canvas}))},enumerable:!0,configurable:!0}),e.prototype.getBottomFrame=function(t){return null!=this._bottomFrames?this._bottomFrames[t]:null},e.prototype.setBottomFrame=function(t,e){e._contentType=Ew.BottomFrame,e._layer=this.layer,e._parentPlaceholder=this,e.canvas=this.canvas,this._bottomFrames[t]=e},e.prototype.isEmptyContent=function(){return null==this._content},e.prototype._reloadPlaceholderButtons=function(){var t=this.canvas;null!=t&&(t.removePlaceholderButtonGroup(this),t.addPlaceholderButtonGroup(this),this.isStubOrEmpty()?t.removeViolationContainer(this._content):t.addViolationContainer(this._content))},e.prototype.isStubOrEmpty=function(){return this.item.isStubContent||this.isEmptyContent()},Object.defineProperty(e.prototype,"editing",{get:function(){return!this.isStubOrEmpty()&&this._editing},set:function(t){if(this._editing!==t){if(t&&!this.getPermissions().allowEditContent&&this.isStubOrEmpty())return;this._editing=t,this.raiseChanged();var e=this.canvas;null!=e&&(e.updateSelection(),e.updatePlaceholderButtonGroup(this),e.updateFloatingItemToolbar(this),e.redraw())}},enumerable:!0,configurable:!0}),e.prototype.isCoverMode=function(){return this.item.isCoverMode},e.prototype._createItemHandlerPermissions=function(){var e=t.prototype._createItemHandlerPermissions.call(this);return e.allowEditContent=this.item.placeholderPermissions.allowEditContent,e.showSelectButton=this.item.placeholderPermissions.showSelectButton,e.showHandleButton=this.item.placeholderPermissions.showHandleButton,e},e.prototype.showEditButton=function(){var e=t.prototype.showEditToolbarButton,n=!!this.isStubOrEmpty()||!this.item.imageContent.source.isVector;return e&&n},e.prototype.getPermissions=function(e){if(!this.editing||null!=e&&e)return t.prototype.getPermissions.call(this);if(!this.isEmptyContent()){var n=this._content.getPermissions().clone();return n.allowDelete=!1,n}return new xw({},!1)},Object.defineProperty(e.prototype,"showMaskedContent",{get:function(){return this._showMaskedContent},set:function(t){this._showMaskedContent=t},enumerable:!0,configurable:!0}),e.prototype.setRectangle=function(e,n,r){!this.editing||r?t.prototype.setRectangle.call(this,e,n):this._content.setRectangle(e,n)},e.prototype._createDataInstance=function(t){return new CC(t)},e.prototype.drawItemHandler=function(e){if(null!=e){var n=function(t){t.drawItemHandler(e)},r=this.editing&&this.showMaskedContent;r||this._updateBottomFrames(n);var i=Iw,o=this.originalPath,s=this.getControlCenter(),a=this.item.transform;if(this.isEmptyContent())t.prototype.drawItemHandler.call(this,e),xg(0,this.item.borderWidth)&&i.drawPath(e,o,s,a,this._emptyPlaceholderBorderWidth,this._emptyPlaceholderBorderColor,1);else{r&&this._content._drawMaskedContent(e);var l=this.isNormalRenderingType?this.item.opacity:1;e.save();var u=null;null!=this.item.mask&&null!=this.item.mask.vectorMask?(u=this._getTransformedClippingPath(),o=this.item.mask.vectorMask):u=this._getTransformedPath(),null!=u&&i.clipPath(e,u),null!=o&&i.fillPath(e,o,s,a,this.item.fillColor.preview,l),this._content.drawItemHandler(e),this.canvas.dndHandler.isDragSource(this)&&(e.globalCompositeOperation="destination-out",i.fillRectangle(e,this.rectangle,new hm({r:0,g:0,b:0}),.3),e.globalCompositeOperation="source-over"),e.restore(),i.drawPath(e,o,s,a,this._getActualBorderWidth(),this.item.borderColor.preview,l)}if(r){if(e.globalCompositeOperation="destination-over",null!=this._bottomFrames)for(var c=this._bottomFrames.length-1;c>=0;c--)n(this._bottomFrames[c]);e.globalCompositeOperation="source-over"}this.canvas.dndHandler.isDragTarget(this)&&this.isNormalRenderingType&&i.fillRectangle(e,this.rectangle,new hm({r:0,g:0,b:0}),.5),this._updateTopFrames(n)}},e.prototype.getSelectionRectangle=function(){return this.editing?this._content.getSelectionRectangle():t.prototype.getSelectionRectangle.call(this)},e.prototype._getHighlightRectangle=function(){return this.editing?this.rectangle:t.prototype._getHighlightRectangle.call(this)},e.prototype.getBorderMargin=function(){return this.editing?this._content.getBorderMargin():t.prototype.getBorderMargin.call(this)},e.prototype.update=function(){this.updateColors(),this.updateContentAndFrames((function(t){t.update()})),null!=this.canvas&&this.canvas.updatePlaceholderButtonGroup(this)},e.prototype.addSelectButtonClick=function(t){this._selectButtonClickEvent.add(t)},e.prototype.removeSelectButtonClick=function(t){this._selectButtonClickEvent.remove(t)},e.prototype._onSelectButtonClick=function(){this._selectButtonClickEvent.notify(this)},e.prototype.getChangeContentButtonClickEvent=function(){return this._selectButtonClickEvent},e.prototype._onAddedOnCanvas=function(e){var n=this;t.prototype._onAddedOnCanvas.call(this,e),this.updateContentAndFrames((function(t){t.layer=n.layer,t.parentPlaceholder=n,t.canvas=e})),null!=e&&null==this.placeholderButtonGroup&&e.addPlaceholderButtonGroup(this),null!=this.content&&(this.content.canvas=e)},e.prototype._onRemovedFromCanvas=function(e){t.prototype._onRemovedFromCanvas.call(this,e),this.updateContentAndFrames((function(t){t._onRemovedFromCanvas(e)})),null!=e&&e.removePlaceholderButtonGroup(this)},e.prototype._transformRectangle=function(e,n){if(this._previousRectangle=this.rectangle,t.prototype._transformRectangle.call(this,e,n),!this.isEmptyContent()&&null!=this.content.startRectangle)if(this.item.isStubContent&&this.item.fixedStubContentSize&&!this.editing){var r=n.clone();r.Width=e.Width,r.Height=e.Height,this.content._transformRectangle(e,r)}else this.content._transformRectangle(e,n);this.editing||this._updateFrames((function(t){null!=t.startRectangle&&t._transformRectangle(e,n)})),this._previousRectangle=null;var i=this.canvas;null!=i&&i.updatePlaceholderButtonGroupPosition(this)},e.prototype._startTransform=function(){t.prototype._startTransform.call(this),this.editing&&(this._startRectangle=this._content.rectangle),this.updateContentAndFrames((function(t){t._startRectangle=t.rectangle}))},e.prototype.endTransform=function(t,e){this._endTransform(t,e)},e.prototype._endTransform=function(t,e,n){void 0===n&&(n=!1),t&&(e||null!=this._startRectangle)&&(this.updateContentAndFrames((function(n){return n._endTransform(t,e,!0)})),n||this._itemPropertyChangedEvent.notify(this,"transform")),t&&e||(delete this._startRectangle,this.updateContentAndFrames((function(t){delete t._startRectangle}))),null!=this.canvas&&this.canvas.updateFloatingItemToolbar(this)},e.prototype._transformChanged=function(){t.prototype._transformChanged.call(this);var e=this.canvas;null!=e&&e.updatePlaceholderButtonGroupPosition(this)},e.prototype._onResized=function(){return this.updateContentAndFrames((function(t){t._onResized()})),t.prototype._onResized.call(this)},e.prototype.showSelectButton=function(){return this.isStubOrEmpty()&&this.getPermissions().showSelectButton},e.prototype.showSelectToolbarButton=function(){return this._permissions.showSelectToolbarButton},e.prototype.showHandleButton=function(){return!this.isStubOrEmpty()&&this.getPermissions().allowEditContent&&this.getPermissions().showHandleButton&&!this._editing},e.prototype.onHandleButtonMouseDown=function(){this._isContentUpdating=!0,this.editing=!0},e.prototype.onPlaceholderButtonMouseUp=function(){this._isContentUpdating=!1,this.canvas.updatePlaceholderButtonGroup(this)},e.prototype.onDoneButtonClick=function(){var t=this.canvas;null!=t&&(t.setSelectedItemHandlers([this]),this.editing=!1)},e.prototype.setContentUpdating=function(t){this._isContentUpdating=t},e.prototype.isContentUpdating=function(){return this._isContentUpdating},e.prototype._updateFrames=function(t){this._updateTopFrames(t),this._updateBottomFrames(t)},e.prototype._updateTopFrames=function(t,e){if(null!=this._topFrames)for(var n=0;n<this._topFrames.length;n++)t(this._topFrames[n],null!=e?e[n]:null)},e.prototype._updateBottomFrames=function(t,e){if(null!=this._bottomFrames)for(var n=0;n<this._bottomFrames.length;n++)t(this._bottomFrames[n],null!=e?e[n]:null)},e.prototype._updateContent=function(t){this.isEmptyContent()||t(this._content)},e.prototype.updateContentAndFrames=function(t){this._updateContent(t),this._updateFrames(t)},e.prototype.getBoundsIncludingFrames=function(){var t=this.bounds;return this._updateFrames((function(e){t=fg.union(t,e.bounds)})),t},e.prototype.getRectangleIncludingFrames=function(){var t=this.rectangle;return this._updateFrames((function(e){t=Ag.union(e.rectangle,t)})),t},Object.defineProperty(e.prototype,"qualityChangeScaleBar",{get:function(){return this._qualityChangeScaleBar},set:function(t){this._qualityChangeScaleBar=t},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"qualityChangeInfoBar",{get:function(){return this._qualityChangeInfoBar},set:function(t){this._qualityChangeInfoBar=t},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"qualityChangeContainer",{get:function(){return this._qualityChangeContainer},set:function(t){this._qualityChangeContainer=t},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"forceQualityChangeInfoBar",{get:function(){return this._forceQualityChangeInfoBar},set:function(t){this._forceQualityChangeInfoBar=t;var e=this.canvas;null!=e&&e.updateViolationContainer(this)},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"placeholderButtonGroup",{get:function(){return this._placeholderButtonGroup},set:function(t){this._placeholderButtonGroup=t},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"doneButtonGroup",{get:function(){return this._doneButtonGroup},set:function(t){this._doneButtonGroup=t},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"selectButton",{get:function(){return this._selectButton},set:function(t){this._selectButton=t},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"doneButton",{get:function(){return this._doneButton},set:function(t){this._doneButton=t},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"handleButton",{get:function(){return this._handleButton},set:function(t){this._handleButton=t},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"selectButtonClickHandler",{get:function(){return this._selectButtonClickHandler},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"editButtonGroup",{get:function(){return this._editButtonGroup},set:function(t){this._editButtonGroup=t},enumerable:!0,configurable:!0}),e.prototype.setQualityChangeScaleBarWidth=function(t){null!=this._qualityChangeScaleBar&&(t=Math.max(0,t),t=Math.min(100,t),this._qualityChangeScaleBar.style.width=t+"%")},e.prototype.setQualityChangeInfoBarText=function(t){null!=this._qualityChangeInfoBar&&(this._qualityChangeInfoBar.innerText=t)},e.prototype.setBadToWarningChangeScaleBarClass=function(){var t=this.canvas;if(null!=this._qualityChangeScaleBar&&null!=t){var e=this._qualityChangeScaleBar.getAttribute("class"),n=t.qualityBadToWarningChangeScaleBarCssClass;null!=n&&""!==n&&this._qualityChangeScaleBar.classList.toggle(n,!0);var r=t.qualityWarningToGoodChangeScaleBarCssClass;null!=r&&""!==r&&this._qualityChangeScaleBar.classList.toggle(r,!1);var i=t.qualityBadToGoodChangeScaleBarCssClass;null!=i&&""!==i&&this._qualityChangeScaleBar.classList.toggle(i,!1);var o=t.qualityNoAnimationChangeScaleBarCssClass;null!=o&&""!==o&&this._qualityChangeScaleBar.classList.toggle(o,this._qualityChangeScaleBar.getAttribute("class")!==e)}},e.prototype.setWarningToGoodChangeScaleBarClass=function(){var t=this.canvas;if(null!=this._qualityChangeScaleBar&&null!=t){var e=this._qualityChangeScaleBar.getAttribute("class"),n=t.qualityWarningToGoodChangeScaleBarCssClass;null!=n&&""!==n&&this._qualityChangeScaleBar.classList.toggle(n,!0);var r=t.qualityBadToWarningChangeScaleBarCssClass;null!=r&&""!==r&&this._qualityChangeScaleBar.classList.toggle(r,!1);var i=t.qualityBadToGoodChangeScaleBarCssClass;null!=i&&""!==i&&this._qualityChangeScaleBar.classList.toggle(i,!1);var o=t.qualityNoAnimationChangeScaleBarCssClass;null!=o&&""!==o&&this._qualityChangeScaleBar.classList.toggle(o,this._qualityChangeScaleBar.getAttribute("class")!==e)}},e.prototype.setBadToGoodChangeScaleBarClass=function(){var t=this.canvas;if(null!=this._qualityChangeScaleBar&&null!=t){var e=this._qualityChangeScaleBar.getAttribute("class"),n=t.qualityBadToGoodChangeScaleBarCssClass;null!=n&&""!==n&&this._qualityChangeScaleBar.classList.toggle(n,!0);var r=t.qualityBadToWarningChangeScaleBarCssClass;null!=r&&""!==r&&this._qualityChangeScaleBar.classList.toggle(r,!1);var i=t.qualityWarningToGoodChangeScaleBarCssClass;null!=i&&""!==i&&this._qualityChangeScaleBar.classList.toggle(i,!1);var o=t.qualityNoAnimationChangeScaleBarCssClass;null!=o&&""!==o&&this._qualityChangeScaleBar.classList.toggle(o,this._qualityChangeScaleBar.getAttribute("class")!==e)}},e.prototype.rotateContentLeft=function(){this._rotateContent(-90)},e.prototype.rotateContentRight=function(){this._rotateContent(90)},e.prototype._rotateContent=function(t){if(!this.isStubOrEmpty()){var e=this.content.getTransformedRectangle(!1);e.angle=mg((e.angle+t)%360),this.content.setTransformedRectangle(e),this.canvas.redraw()}},e.prototype.getContentScale=function(){if(this.isStubOrEmpty())return null;var t=this.getTransformedRectangle(!1),e=this.content.getTransformedRectangle(!1),n=90===mg(t.angle-e.angle)||270===mg(t.angle-e.angle),r=n?e.height/t.width:e.width/t.width,i=n?e.width/t.height:e.height/t.height;return this.item.contentResizeMode===Yv.Fit?100*Math.max(r,i):100*Math.min(r,i)},e.prototype.setContentScale=function(t){if(!this.isStubOrEmpty()){var e=this.content.getTransformedRectangle(!1),n=t/this.getContentScale();this.content.setTransformedRectangle(new Ag(e.centerX,e.centerY,e.width*n,e.height*n,e.angle)),this.content.item.getItemChangingEvent().notify(),this.canvas.redraw()}},e.prototype.resetContent=function(){if(!this.isStubOrEmpty()){var t=this.getTransformedRectangle(!1),e=this.content.getTransformedRectangle(!1),n=100/this.getContentScale(),r=90===mg(t.angle-e.angle)||270===mg(t.angle-e.angle),i=this.content.item,o=r?e.height/e.width:e.width/e.height,s=i.ratioWidthToHeight||i.sourceRectangle.width/i.sourceRectangle.height,a=o<s?n*(s/o):n,l=o>s?n*(o/s):n,u=r?e.height*a:e.width*a,c=r?e.width*l:e.height*l,h=this.item.contentResizeMode===Yv.Fit?Math.min(t.width/u,t.height/c):Math.max(t.width/u,t.height/c);this.content.setTransformedRectangle(new Ag(t.centerX,t.centerY,u*h,c*h,t.angle)),this.content.item.getItemChangedEvent().notify(),this.canvas.redraw()}},e.prototype.transformByMatrix=function(t){this.setRectangle(this.rectangle.transformByMatrix(t),!1,!0),1===t.scaleX&&1===t.scaleY||this._onResized(),this._transformChanged(),null!=this.canvas&&this.canvas.updateSelection()},e.prototype.getSelectToolbarButtonClickEvent=function(){return this._selectButtonClickEvent},e.typeName="PlaceholderItemHandler",e}(Yw),PC=function(){function t(t,e){this._service=t,this._imageLoaderService=e,this._multiCallInProgress=!1,this._multiCallItems=null,this._multiCallCallbacks=null,this._endMultiCallPromiseFuncs=null,this._multiCallInProgress=!1,this._multiCallItems=[],this._multiCallCallbacks=[],this._multiCallCounter=0,this._endMultiCallPromiseFuncs=[]}return t.prototype.increaseCounter=function(){this._multiCallCounter++},t.prototype.decreaseCounter=function(){return this._multiCallCounter--,this._multiCallCounter},t.prototype.enqueueEndMultiCall=function(){var t=this;return new Promise((function(e,n){return t._endMultiCallPromiseFuncs.push([e,n])}))},Object.defineProperty(t.prototype,"multiCallStarted",{get:function(){return this._multiCallCounter>0},enumerable:!0,configurable:!0}),t.prototype.beginMultiCall=function(){this.increaseCounter()},t.prototype.endMultiCall=function(t){if(void 0===t&&(t=!0),this.decreaseCounter()>0)return this.enqueueEndMultiCall();if(null==this._multiCallItems||this._multiCallItems.length<1)return this._onMultiCallFinally(),Promise.resolve(!1);var e=this._multiCallItems,n=this._multiCallCallbacks,r=this._endMultiCallPromiseFuncs;return this._multiCallItems=[],this._multiCallCallbacks=[],this._endMultiCallPromiseFuncs=[],this._updateByMultiCall(e,n,r,t)},t.prototype.queueForMultiCall=function(t,e,n){return!this._multiCallInProgress&&(this._multiCallItems.push(t),this._multiCallCallbacks.push([e,n]),!0)},t.prototype._updateByMultiCall=function(t,e,n,r){var i=this;return void 0===r&&(r=!0),this._multiCallInProgress=!0,new Promise((function(o,s){var a=i._filter(t,e);i._updateByMultiCallRequest({items:a.items},(function(t){return i._onMultiCallDone(t,a.callbacks,o,n,r)}),(function(r,o,a){return i._onMultiCallFailed(r,o,a,t,e,s,n)}))}))},t.prototype._filter=function(t,e){t=t.reverse(),e=e.reverse();var n=[],r=[];return{items:t=t.filter((function(t,e){return null!=t.itemData&&!r.includes(t.itemData.id)&&(r.push(t.itemData.id),n.push(e),!0)})),callbacks:n.map((function(t){return e[t]}))}},t.prototype._onMultiCallDone=function(t,e,n,r,i){void 0===i&&(i=!0);try{i&&this._imageLoaderService.loadCombinedImage(t.combinedImageDescription);for(var o=t.items,s=0;s<o.length;s++)this._processItemResult(o[s],e[s])}finally{this._onMultiCallFinally(),n(!0),null!=r&&r.forEach((function(t){return t[0](!0)}))}},t.prototype._processItemResult=function(t,e){try{var n=function(t,e){var n="function"==typeof Symbol&&t[Symbol.iterator];if(!n)return t;var r,i,o=n.call(t),s=[];try{for(;(void 0===e||e-- >0)&&!(r=o.next()).done;)s.push(r.value)}catch(a){i={error:a}}finally{try{r&&!r.done&&(n=o.return)&&n.call(o)}finally{if(i)throw i.error}}return s}(e,2),r=n[0];t.error?(0,n[1])({errorMessage:t.errorMessage}):r(t.result)}catch(i){console.error("Error while processing ItemHandlers service response",i)}},t.prototype._onMultiCallFailed=function(t,e,n,r,i,o,s){try{for(var a=0;a<i.length;a++)i[a][1]&&i[a][1](t,e,n)}finally{this._onMultiCallFinally(),o(),null!=s&&s.forEach((function(t){return t[1]()}))}},t.prototype._updateByMultiCallRequest=function(t,e,n){this._service.sendRequest("UpdateByMultiCallRequest",t,e,n)},t.prototype._onMultiCallFinally=function(){this._multiCallInProgress=!1,this._multiCallItems=[],this._multiCallCallbacks=[]},t}(),IC=function(){function t(t){this._serviceEndpoint=t,this.imageContainers={},this._fileCacheIdToCombined={},this._rectangles={},this._imageContainerLoadedEvent=new ag}return t.prototype.loadCombinedImage=function(t){var e=this;if(null!=t){var n=new Qw((function(){return e._raiseImageLoadedEvent()}));for(var r in this.imageContainers[t.fileCacheId]=n,n.updateUrl(this._getImageUrl(t.fileCacheId)),t.itemsRectangles)this._fileCacheIdToCombined[r]=t.fileCacheId,this._rectangles[r]=fg.fromString(t.itemsRectangles[r])}},t.prototype.getImageContainerFor=function(t){return this.hasImageContainerFor(t)?this.imageContainers[this._fileCacheIdToCombined[t]]:null},t.prototype.hasImageContainerFor=function(t){return null!=t&&void 0!==t&&0!==t.length&&t in this._fileCacheIdToCombined},t.prototype.getImageContainerRectangleFor=function(t){return this._rectangles[t]},t.prototype.addImageContainerLoaded=function(t){this._imageContainerLoadedEvent.add(t)},t.prototype.removeImageContainerLoaded=function(t){this._imageContainerLoadedEvent.remove(t)},t.prototype._getImageUrl=function(t){return this._serviceEndpoint+"/txt?f="+encodeURIComponent(t)},t.prototype._raiseImageLoadedEvent=function(){this._imageContainerLoadedEvent.notify(this)},t}(),EC=function(t,e,n,r,i){this._timeout=t,this._message=e,this._stacktrace=n,this._type=r,this._data=i},TC=function(){function t(t,e){void 0===e&&(e=6e4),this._serviceEndpoint=t,this._timeout=e,this._multiCallEnabled=!1,this._nextMultiCallRequest=null,this.imageLoaderService=new IC(this._serviceEndpoint)}return Object.defineProperty(t.prototype,"multiCallEnabled",{get:function(){return this._multiCallEnabled},set:function(t){this._multiCallEnabled=t},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"serviceEndpoint",{get:function(){return this._serviceEndpoint},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"multiCallStarted",{get:function(){return null!=this._nextMultiCallRequest&&this._nextMultiCallRequest.multiCallStarted},enumerable:!0,configurable:!0}),t.prototype.beginMultiCall=function(){this.multiCallEnabled&&(this.multiCallStarted||(this._nextMultiCallRequest=new PC(this,this.imageLoaderService)),this._nextMultiCallRequest.beginMultiCall())},t.prototype.endMultiCall=function(t){if(void 0===t&&(t=!0),!this.multiCallEnabled)return Promise.resolve(!1);if(!this.multiCallStarted)throw new Error("ServiceProxy: beginMultiCall should be called first to start MultiCall.");return this._nextMultiCallRequest.endMultiCall(t)},t.prototype.UpdateImageItemHandler=function(t,e,n,r,i,o,s,a){this.sendRequest("UpdateImageItemHandler",{canvasData:t,itemHandlerData:e,itemData:n,actualSize:r,preserveAspectRatio:i,url:o},s,a)},t.prototype.UpdateBarcodeItemHandler=function(t,e,n,r,i){this.sendRequest("UpdateBarcodeItemHandler",{canvasData:t,itemHandlerData:e,itemData:n},r,i)},t.prototype.UpdateBoundedTextItemHandler=function(t,e,n,r,i){this._callUpdateItemHandler(t,e,n,r,i,"_updateBoundedTextItemHandler")},t.prototype._updateBoundedTextItemHandler=function(t,e,n,r,i){this.sendRequest("UpdateBoundedTextItemHandler",{itemData:n,canvasData:t,itemHandlerData:e},r,i)},t.prototype.UpdatePathBoundedTextItemHandler=function(t,e,n,r,i){this.sendRequest("UpdatePathBoundedTextItemHandler",{itemData:n,canvasData:t,itemHandlerData:e},r,i)},t.prototype.UpdatePlainTextItemHandler=function(t,e,n,r,i){this._callUpdateItemHandler(t,e,n,r,i,"_updatePlainTextItemHandler")},t.prototype._updatePlainTextItemHandler=function(t,e,n,r,i){this.sendRequest("UpdatePlainTextItemHandler",{itemData:n,canvasData:t,itemHandlerData:e},r,i)},t.prototype.UpdateAutoScaledTextItemHandler=function(t,e,n,r,i){this.sendRequest("UpdateAutoScaledTextItemHandler",{itemData:n,canvasData:t,itemHandlerData:e},r,i)},t.prototype.UpdateArchedTextItemHandler=function(t,e,n,r,i){this.sendRequest("UpdateArchedTextItemHandler",{itemData:n,canvasData:t,itemHandlerData:e},r,i)},t.prototype.UpdateCurvedTextItemHandler=function(t,e,n,r,i){this.sendRequest("UpdateCurvedTextItemHandler",{itemData:n,canvasData:t,itemHandlerData:e},r,i)},t.prototype.UpdateByColorData=function(t,e,n,r){this._callUpdateItemHandler(t,e,null,n,r,"_updateByColorData")},t.prototype._updateByColorData=function(t,e,n,r,i){this.sendRequest("UpdateByColorData",{canvasData:t,colorData:e},r,i)},t.prototype.UpdateByRectangleItemHandlerData=function(t,e,n,r,i){this.UpdateShapeItemHandler(t,e,n,r,i)},t.prototype.UpdateShapeItemHandler=function(t,e,n,r,i){this._callUpdateItemHandler(t,e,n,r,i,"_updateShapeItemHandler")},t.prototype._updateShapeItemHandler=function(t,e,n,r,i){this.sendRequest("UpdateShapeItemHandler",{canvasData:t,itemData:n,itemHandlerData:e},r,i)},t.prototype.GetImageSize=function(t,e,n,r){this._getImageSize(t,e,n,r)},t.prototype._getImageSize=function(t,e,n,r){this.sendRequest("GetImageSize",{imageId:t,pageIndex:e},n,r)},t.prototype.render=function(t,e,n,r){this.sendRequest("render",{product:t,renderingConfig:e},n,r)},t.prototype.getWatermarkItemsAsync=function(t,e,n){var r=this,i={width:t,height:e,watermarkConfig:n};return new Promise((function(t,e){r.sendRequest("getWatermarkItems",i,(function(e){t(e)}),(function(t,n,r){return e({error:t,userContext:n,methodName:r})}))}))},t.prototype.getWatermarkItems=function(t,e,n,r,i){this.sendRequest("getWatermarkItems",{width:t,height:e,watermarkConfig:n},r,i)},t.prototype.getPathBoundsFromServer=function(t){return e=this,void 0,r=function(){var e,n;return function(t,e){var n,r,i,o,s={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]};return o={next:a(0),throw:a(1),return:a(2)},"function"==typeof Symbol&&(o[Symbol.iterator]=function(){return this}),o;function a(o){return function(a){return function(o){if(n)throw new TypeError("Generator is already executing.");for(;s;)try{if(n=1,r&&(i=2&o[0]?r.return:o[0]?r.throw||((i=r.return)&&i.call(r),0):r.next)&&!(i=i.call(r,o[1])).done)return i;switch(r=0,i&&(o=[2&o[0],i.value]),o[0]){case 0:case 1:i=o;break;case 4:return s.label++,{value:o[1],done:!1};case 5:s.label++,r=o[1],o=[0];continue;case 7:o=s.ops.pop(),s.trys.pop();continue;default:if(!(i=(i=s.trys).length>0&&i[i.length-1])&&(6===o[0]||2===o[0])){s=0;continue}if(3===o[0]&&(!i||o[1]>i[0]&&o[1]<i[3])){s.label=o[1];break}if(6===o[0]&&s.label<i[1]){s.label=i[1],i=o;break}if(i&&s.label<i[2]){s.label=i[2],s.ops.push(o);break}i[2]&&s.ops.pop(),s.trys.pop();continue}o=e.call(t,s)}catch(a){o=[6,a],r=0}finally{n=i=0}if(5&o[0])throw o[1];return{value:o[0]?o[1]:void 0,done:!0}}([o,a])}}}(this,(function(r){switch(r.label){case 0:return r.trys.push([0,2,,3]),[4,Ww({type:Rw.post,url:this.serviceEndpoint+"/GetShapeBounds",headers:[Dw.json],data:JSON.stringify({path:t.toString()})})];case 1:return e=r.sent(),[2,fg.FromObject(JSON.parse(e.value))];case 2:return n=r.sent(),console.error("Unable to load shape bounds. Reason: "+n),[3,3];case 3:return[2]}}))},new((n=void 0)||(n=Promise))((function(t,i){function o(t){try{a(r.next(t))}catch(e){i(e)}}function s(t){try{a(r.throw(t))}catch(e){i(e)}}function a(e){var r;e.done?t(e.value):(r=e.value,r instanceof n?r:new n((function(t){t(r)}))).then(o,s)}a((r=r.apply(e,[])).next())}));var e,n,r},t.prototype.sendRequest=function(t,e,n,r,i){void 0===i&&(i=!1);var o=new XMLHttpRequest,s=this._serviceEndpoint;"render"===t&&(s=s.replace("api/ccviewer","api/rendering")),o.open("POST",s+"/"+t),i&&(o.responseType="arraybuffer"),o.setRequestHeader("Content-Type","application/json; charset=UTF-8"),o.timeout=this._timeout,o.onload=function(e){if(200===o.status)i?n(o.response,o):n(JSON.parse(o.response));else{var s=new EC(!1,o.statusText,o.response);r(s,null,t)}},o.onerror=function(e){r("error",null,t)},o.ontimeout=function(e){var n=new EC(!0,o.statusText,o.response);r(n,null,t)};var a=JSON.stringify(e);o.send(a)},t.prototype._callUpdateItemHandler=function(t,e,n,r,i,o){var s=o;o.startsWith("_")&&(s=o.charAt(1).toUpperCase()+o.substring(2)),null!=this._nextMultiCallRequest&&this._nextMultiCallRequest.multiCallStarted&&this._nextMultiCallRequest.queueForMultiCall({canvasData:t,itemHandlerData:e,itemData:n,methodName:s},r,i)||this[o](t,e,n,r,i)},t}(),AC=function(){var t=function(e,n){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(e,n)};return function(e,n){function r(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),kC=function(t){var e="function"==typeof Symbol&&Symbol.iterator,n=e&&t[e],r=0;if(n)return n.call(t);if(t&&"number"==typeof t.length)return{next:function(){return t&&r>=t.length&&(t=void 0),{value:t&&t[r++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")},OC=function(t){function e(e){var n=t.call(this)||this;return n._canvas=e,n}return AC(e,t),e.prototype.getLayerById=function(t){for(var e=0,n=this.length;e<n;e++){var r=this.getItem(e);if(r.uniqueId==t)return r}return null},e.prototype.getLayerByContainerId=function(t){for(var e=0,n=this.length;e<n;e++){var r=this.getItem(e);if(r.container.id==t)return r}return null},e.prototype.getLayersByName=function(t){for(var e=[],n=0;n<this.length;n++)this.getItem(n).name==t&&e.push(this.getItem(n));return e},e.prototype.getItemHandlersByName=function(t){for(var e=[],n=0;n<this.length;n++)for(var r=this.getItem(n),i=0;i<r.itemHandlers.length;i++)r.itemHandlers.getItem(i).name===t&&e.push(r.itemHandlers.getItem(i));return e},e.prototype._onLayerAdded=function(t,e){var n=this._canvas;n&&(t.canvas=n,t.onLayerAdded())},e.prototype._onLayerMoved=function(t,e,n){},e.prototype.removeRange=function(e,n){var r=(function(t){this._onLayerRemoved(t.item,t.index)}).bind(this);try{return this.add_itemRemoved(r),t.prototype.removeRange.call(this,e,n)}finally{this.remove_itemRemoved(r)}},e.prototype.insertAt=function(e,n){var r,i;Array.isArray(n)||(n=[n]);try{for(var o=kC(n),s=o.next();!s.done;s=o.next())if(this.contains(s.value))throw new $f($g)}catch(u){r={error:u}}finally{try{s&&!s.done&&(i=o.return)&&i.call(o)}finally{if(r)throw r.error}}t.prototype.insertAt.call(this,e,n);for(var a=0;a<n.length;a++){var l=n[a];this._onLayerAdded(l,this._collection.indexOf(l))}},e.prototype.move=function(e,n){var r=t.prototype.move.call(this,e,n);return r&&this._onLayerMoved(r,e,n),r},e.prototype.clear=function(){var e,n;try{for(var r=kC(this),i=r.next();!i.done;i=r.next())i.value.dispose()}catch(o){e={error:o}}finally{try{i&&!i.done&&(n=r.return)&&n.call(r)}finally{if(e)throw e.error}}t.prototype.clear.call(this)},e}(nm),MC=function(){var t=function(e,n){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(e,n)};return function(e,n){function r(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),RC=function(t){function e(e,n){void 0===n&&(n=null);var r=t.call(this,0,0,0,0,e,n)||this;return r._selectionTolerance=15,r._controlPoints=[new pg(e.sourcePoint0.x?e.sourcePoint0.x:0,e.sourcePoint0.y?e.sourcePoint0.y:0),new pg(e.sourcePoint1.x?e.sourcePoint1.x:0,e.sourcePoint1.y?e.sourcePoint1.y:0)],r._makeLineHorizontalWithAngle(),r}return MC(e,t),Object.defineProperty(e.prototype,"item",{get:function(){return this._getItem()},enumerable:!0,configurable:!0}),e.prototype._onItemPropertyChanged=function(e,n){switch(n){case"width":var r=this.canvas;null!=r&&r.updateSelection();break;case"color":case"fixedWidth":this.canvas.redraw()}t.prototype._onItemPropertyChanged.call(this,e,n)},Object.defineProperty(e.prototype,"controlPoints",{set:function(t){this._controlPoints=new Array(new pg(t[0].x,t[0].y),new pg(t[1].x,t[1].y)),this.item.sourcePoint0=this._controlPoints[0],this.item.sourcePoint1=this._controlPoints[1],this._makeLineHorizontalWithAngle(),this.raiseChanged()},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"width",{get:function(){return this.item.width},set:function(t){this.item.width=t},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"color",{get:function(){return this.item.color},set:function(t){var e=bm.createColor(t);this.item.color=e},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"fixedWidth",{get:function(){return this.item.fixedWidth},set:function(t){this.item.fixedWidth=t},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"point0",{get:function(){return this._getActualPoint(this._controlPoints[0])},set:function(t){var e=this.getControlBounds();if(0===e.width||0===e.height){var n=this._getActualPoint(this._controlPoints[1]);this._controlPoints=[t.clone(),n],this.item.transform=new Tg}else this._makeLineHorizontalWithAngle(),this._setTransformByPoints(this._controlPoints[0],t,this._controlPoints[1])},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"point1",{get:function(){return this._getActualPoint(this._controlPoints[1])},set:function(t){var e=this.getControlBounds();if(0===e.width||0===e.height){var n=this._getActualPoint(this._controlPoints[0]);this._controlPoints=[n,t.clone()],this.item.transform=new Tg}else this._makeLineHorizontalWithAngle(),this._setTransformByPoints(this._controlPoints[1],t,this._controlPoints[0])},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"rectangle",{get:function(){var e=t.prototype._getRectangle.call(this);return e.height=this._getActualWidth(),e},enumerable:!0,configurable:!0}),e.prototype._getActualPoint=function(t){var e=new pg(t.x,t.y),n=this.getControlCenter();e.translate(-n.x,-n.y);var r=this.item.transform;return e.scale(r.scaleX,r.scaleY),e.rotate(r.angle),e.translate(r.translateX,r.translateY),e.translate(n.x,n.y),e},e.prototype._setTransformByPoints=function(t,e,n){var r=this.getControlCenter(),i=this._getActualPoint(n),o=new pg((i.x+e.x)/2,(i.y+e.y)/2),s=o.x-r.x,a=o.y-r.y,l=new pg(t.x,t.y).translate(-r.x,-r.y),u=new pg(e.x,e.y).translate(-s,-a).translate(-r.x,-r.y),c=(l.x*u.x+l.y*u.y)/Math.sqrt((l.x*l.x+l.y*l.y)*(u.x*u.x+u.y*u.y));c=Cg(-1,c,1);var h=wg(Math.acos(c));u=u.rotate(-h),this.item.transform=new Tg(u.x/l.x,u.y/l.y,s,a,h)},e.prototype._getActualWidth=function(){var t=this.width,e=this.canvas;return this.fixedWidth&&null!=e&&(t/=e.zoom),t},e.prototype.drawItemHandler=function(t){if(null!=t){var e=this.point0,n=this.point1,r=this._getActualWidth();r>0&&Iw.drawLine(t,e.x,e.y,n.x,n.y,r,this.isNormalRenderingType?this.item.color.preview:"rgb(0,0,0)",this.isNormalRenderingType?this.item.opacity:1)}},e.prototype._belongToPiece=function(t,e,n,r,i){var o=r/2+i;return vg(n,t,e)<=o*o},e.prototype.hitTest=function(e,n){var r=t.prototype.hitTest.call(this,e.clone()),i=e.clone(),o=this.canvas.zoom*cg.screenDpi/72,s=!!n&&this.rectangle.toRectangleF().contains(e),a=this._getActualWidth(),l=(this._selectionTolerance/o-a)/2,u=this._belongToPiece(this.point0,this.point1,i,a,l<0?0:l);return r.body=!(!s&&!u),r},e.prototype.getColorData=function(){var e=this.item,n=t.prototype.getColorData.call(this);return e.color.needUpdate(this.canvas.rgbColorProfileFileId)&&(n.color=e.color.getData()),n},e.prototype.setColorData=function(e){var n=this.item;t.prototype.setColorData.call(this,e),null!=e.color&&(n.color=bm.createColor(e.color))},e.prototype.hasColorsToUpdate=function(){var e=this.item,n=this.canvas.rgbColorProfileFileId;return t.prototype.hasColorsToUpdate.call(this)||e.color.needUpdate(n)},e.prototype._makeLineHorizontalWithAngle=function(){var t=this._controlPoints[0],e=this._controlPoints[1],n=gg(t,new pg(t.x,e.y),e);if(0!==n){var r=(t.x+e.x)/2,i=(t.y+e.y)/2,o=t.distance(e);this._controlPoints[0]=new pg(r-o/2,i),this.item.sourcePoint0=this._controlPoints[0],this._controlPoints[1]=new pg(r+o/2,i),this.item.sourcePoint1=this._controlPoints[1],this.angle=n}},e.prototype.transformByMatrix=function(t){var e=this.point0,n=this.point1;this.item.transform=new Tg;var r=t.transformPoint(e),i=t.transformPoint(n);this.item.sourcePoint0=r,this.item.sourcePoint1=i,this._controlPoints=[r,i],this._makeLineHorizontalWithAngle(),1===t.scaleX&&1===t.scaleY||this._onResized()},e}(Fw);!function(t){t[t.Left=37]="Left",t[t.Up=38]="Up",t[t.Right=39]="Right",t[t.Down=40]="Down",t[t.Home=36]="Home",t[t.End=35]="End",t[t.Enter=13]="Enter",t[t.Tab=9]="Tab",t[t.Escape=27]="Escape",t[t.Backspace=8]="Backspace",t[t.Delete=46]="Delete",t[t.Space=32]="Space",t[t.KeyA=65]="KeyA",t[t.KeyB=66]="KeyB",t[t.KeyI=73]="KeyI",t[t.KeyU=85]="KeyU",t[t.KeyL=76]="KeyL",t[t.KeyR=82]="KeyR",t[t.KeyE=69]="KeyE",t[t.KeyC=67]="KeyC",t[t.KeyV=86]="KeyV",t[t.KeyZ=90]="KeyZ",t[t.KeyY=89]="KeyY",t[t.KeyPeriod=190]="KeyPeriod",t[t.KeyComma=188]="KeyComma",t[t.KeyEqual=187]="KeyEqual"}(Vw||(Vw={}));var DC,BC=function(){function t(t,e){this._snapLinesHandler=e,this._parentSelectionRectangle=null,this._selectedItemHandlersChangedEvent=new ag,this._skipUpdate=!1,this._locked=!1,this._canvas=t,this._enabled=!0,this._multipleSelectionEnabled=!1,this._currentItemHandler=null,this._itemHandlers=new nm,this._rectangle=null,this._rectangleWithFrames=null,this._border=null,this._rubberband=null,this._region=null,this._needRedraw=!1,this._shiftState=!1,this._resizeLastPoint=null}return Object.defineProperty(t.prototype,"offset",{get:function(){return this._offset},set:function(t){null!=t&&t.equals(this._offset)||null==t&&null!=this.offset||(this._offset=t)},enumerable:!0,configurable:!0}),t.prototype.enable=function(){this.update(),this._enabled=!0},t.prototype.disable=function(){this._enabled=!1,this._canvas.hideSelection()},t.setIsSafetyLineItemHandlerFunc=function(t){this._isSafetyLineItemHandlersFunc=t},t.isSafetyLineItemHandler=function(e){if(t._isSafetyLineItemHandlersFunc)return t._isSafetyLineItemHandlersFunc(e)},Object.defineProperty(t.prototype,"history",{get:function(){return this._history},set:function(t){this._history=t},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"multipleSelectionEnabled",{get:function(){return this._multipleSelectionEnabled&&!cg.IsTouchDevice()&&!this.getSelectedItemHandlers().any((function(t){return t.item.parentGroupItem instanceof Uv}))},set:function(t){this._multipleSelectionEnabled=t},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"currentItemHandler",{get:function(){return null!=this._currentItemHandler&&null==this._currentItemHandler.canvas&&this.clearSelectedItemHandlers(),this._currentItemHandler},set:function(t){t!==this._currentItemHandler&&(this._currentItemHandler=t,this._canvas.onCurrentItemHandlerChanged(t))},enumerable:!0,configurable:!0}),t.prototype.lock=function(t){void 0===t&&(t=!1),this._locked=!0,t||this._itemHandlers.clear(),this._canvas.onSelectionLocked(),this._canvas.hideSelection(),this._canvas.redraw()},t.prototype.unlock=function(){this._locked=!1,this._canvas.redraw()},Object.defineProperty(t.prototype,"isLocked",{get:function(){return this._locked},enumerable:!0,configurable:!0}),t.prototype.getSelectedItemHandlers=function(){return this._itemHandlers},t.prototype.setSelectedItemHandlers=function(t,e){if(void 0===e&&(e=!1),"[object Array]"===Object.prototype.toString.call(t)&&!this._locked){e||this.clearSelectedItemHandlers();for(var n=0;n<this._itemHandlers.length;n++){var r=this._itemHandlers.get(n);this._canvas.isPlaceholder(r)&&(r.editing=!1)}for(this.multipleSelectionEnabled||t.splice(1,t.length-1),n=0;n<t.length;n++)this._itemHandlers.push(t[n]);this._onSelectedItemHandlersChanged();var i=this._itemHandlers.length>=1?this._itemHandlers.get(this._itemHandlers.length-1):null;this.currentItemHandler=i}},t.prototype.isItemHandlerSelected=function(t){return this._itemHandlers.contains(t)},t.prototype.isOnlyThisItemHandlerSelected=function(t){return this.isItemHandlerSelected(t)&&1===this._itemHandlers.length},Object.defineProperty(t.prototype,"needRedraw",{get:function(){return this._needRedraw},enumerable:!0,configurable:!0}),t.prototype.addSelectedItemHandler=function(t){!this.multipleSelectionEnabled&&this._itemHandlers.length>0&&this._itemHandlers.clear(),this.setSelectedItemHandlers([t],!0)},t.prototype.removeSelectedItemHandler=function(t){this._itemHandlers.remove(t),this._onSelectedItemHandlersChanged(),t instanceof SC&&(t.editing=!1),this.currentItemHandler=this._itemHandlers.length>0?this._itemHandlers.getItem(this._itemHandlers.length-1):null},t.prototype.clearSelectedItemHandlers=function(){for(var t=0;t<this._itemHandlers.length;t++){var e=this._itemHandlers.getItem(t);e instanceof SC&&(e.editing=!1)}this._itemHandlers.clear(),this._updateParentSelectionRectangle(),this._onSelectedItemHandlersChanged(),this.currentItemHandler=null,this._canvas.hideSelection()},Object.defineProperty(t.prototype,"visibleRectangle",{get:function(){return this._getVisibleSelectionRectangle(this._rectangle)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"visibleParentSelectionRectangle",{get:function(){return this._parentSelectionRectangle},enumerable:!0,configurable:!0}),t.prototype._getVisibleSelectionRectangle=function(t){if(null==t)return null;var e=t.clone();if(e.width=Math.abs(e.width),e.height=Math.abs(e.height),null!=this._border){var n=e.toRectangleF(),r=e.angle;(e=Ag.FromLTRB(n.left-this._border.left,n.top-this._border.top,n.right+this._border.right,n.bottom+this._border.bottom)).angle=r}return e},t.prototype.hitTest=function(t,e){if(!this._enabled)return{};var n,r,i=this.visibleRectangle;if(null==i)return{selection:0===this._canvas.getItemHandlersByHitTest(t).length};n=this._itemHandlers.length>1?this._itemHandlers.toArray().reduce((function(t,e){return Math.min(t,e.getSelectionTolerance())}),this._itemHandlers.getItem(0).getSelectionTolerance()):(r=this._itemHandlers.getItem(0)).getSelectionTolerance();var o=1===this._itemHandlers.length&&this._currentItemHandler instanceof RC,s=this._canvas.hitTestSelection(i,t,o,n),a=!1;if(null!=r&&r instanceof SC){if(r.isContentUpdating()&&s.body&&!s.resize)return s.drag=!0,s;a=r.editing&&r.isCoverMode()}var l=this._permissions;if(s.rotate=s.rotate&&l.allowRotate&&!a&&this._allowManipulation,s.resize){var u=s.resizeIndex,c=(5===u||6===u||7===u||8===u)&&this._getEdgeResize(l,r),h=(1===u||2===u||3===u||4===u)&&this._getCornerResize(l,r,!1,Lm.arbitrary),p=(1===u||2===u||3===u||4===u)&&this._getCornerResize(l,r,!0,Lm.arbitrary),d=(1===u||2===u||3===u||4===u)&&this._getCornerResize(l,r,!1,Lm.proportional),f=(1===u||2===u||3===u||4===u)&&this._getCornerResize(l,r,!0,Lm.proportional);s.arbitraryResize=c||h,s.cornerArbitraryResize=h||p,s.cornerProportionalResize=d||f,s.proportionalResize=d&&!o,s.resize=s.arbitraryResize||s.proportionalResize}return s.dragX=s.body&&l.allowMoveHorizontal&&this._allowManipulation,s.dragY=s.body&&l.allowMoveVertical&&this._allowManipulation,s.drag=s.dragX||s.dragY,s},t.prototype._getEdgeResize=function(t,e){return!(null!=e&&"PlainTextItemHandler"===e.getTypeName()||!this._allowManipulation)&&t.resizeGrips.edge},t.prototype._getCornerResize=function(t,e,n,r){if(r===Lm.arbitrary&&null!=e&&"PlainTextItemHandler"===e.getTypeName()||!this._allowManipulation)return!1;var i=t.resizeGrips;return null!=i.corner&&0!==i.corner.length&&(n&&i.corner.length>1?i.corner[1]:i.corner[0])===r},t.prototype.getCursor=function(t){var e=this.hitTest(t,!1),n=tw,r=this._permissions;if(e.resize){var i=mg(this._rectangle.angle-this._canvas.viewer.contentAngle),o=([315,45,135,225,270,0,90,180][e.resizeIndex-1]+i)%360;if(o>337.5||o<=22.5)return n.sizeNS;if(o>22.5&&o<=67.5)return n.sizeNESW;if(o>67.5&&o<=112.5)return n.sizeEW;if(o>112.5&&o<=157.5)return n.sizeNWSE;if(o>157.5&&o<=202.5)return n.sizeNS;if(o>202.5&&o<=247.5)return n.sizeNESW;if(o>247.5&&o<=292.5)return n.sizeEW;if(o>292.5&&o<=337.5)return n.sizeNWSE}else{if(e.rotate)return n.pointer;if(e.body&&(r.allowMoveHorizontal||r.allowMoveVertical&&this._allowManipulation))return n.move}return n.defaultCursor},t.prototype.update=function(){if(!this._skipUpdate)if(this._itemHandlers.length>0){var t=this._itemHandlers.getItem(0),e=t.getBorderMargin();if(1===this._itemHandlers.length)this._rectangle=t.getSelectionRectangle(),this._border={left:e,top:e,right:e,bottom:e};else{for(var n=t.getSelectionRectangle().bounds,r=n.left,i=n.top,o=n.right,s=n.bottom,a={left:e,top:e,right:e,bottom:e},l=1;l<this._itemHandlers.length;l++)e=(t=this._itemHandlers.getItem(l)).getBorderMargin(),(n=t.getSelectionRectangle().bounds).left-e<r-a.left&&(r=n.left,a.left=e),n.top-e<i-a.top&&(i=n.top,a.top=e),n.right+e>o+a.right&&(o=n.right,a.right=e),n.bottom+e>s+a.bottom&&(s=n.bottom,a.bottom=e);this._rectangle=Ag.FromLTRB(r,i,o,s),this._border=a}this._updateParentSelectionRectangle(),this._rectangleWithFrames=this._getRectWithFrames(this._rectangle),this._region=this._getRegion()}else this._rectangle=null,this._border=null,this._region=null},t.prototype._updateParentSelectionRectangle=function(){var t=null;if(null!=this._itemHandlers&&this._itemHandlers.any()&&(t=this._itemHandlers.getItem(0).item.parentGroupItem),null!=t){var e=this._canvas.handlerFactory.get(t);if(e.isEmpty())this._parentSelectionRectangle=null;else{var n=e.getSelectionRectangle();this._parentSelectionRectangle=n}}else this._parentSelectionRectangle=null},t.prototype._isItemHandlerVisible=function(t){return t.isVisible()},t.prototype.draw=function(t,e){if(this._enabled&&!this._locked){null!=this._rubberband?e.drawRubberband(t,this._rubberband):this._needRedraw=!1;var n=this.visibleRectangle;if(null==n||0===this._itemHandlers.where((function(t){return t.isVisible()})).count())return this._canvas.hideSelection(),void this._canvas.showParentSelection(this.visibleParentSelectionRectangle);var r=!1,i=!1,o=!1,s=null;if(1===this._itemHandlers.length)r=(s=this._itemHandlers.getItem(0))instanceof RC,o=s instanceof SC&&s.editing;else for(var a=0;a<this._itemHandlers.length;a++){var l=this._itemHandlers.getItem(a);l instanceof RC&&(i=!0),l instanceof SC&&l.editing&&(o=!0)}var u=o&&this._itemHandlers.getItem(0).item.isCoverMode,c=this._permissions,h={rotate:c.allowRotate&&!u&&this._allowManipulation,resize:(this._getCornerResize(c,s,!1,Lm.arbitrary)||this._getCornerResize(c,s,!1,Lm.proportional))&&!r,arbitraryWidthResize:this._getEdgeResize(c,s)&&!i&&!u,arbitraryHeightResize:this._getEdgeResize(c,s)&&!r&&!i&&!u};this._canvas.showSelection(n,h),this._canvas.showParentSelection(this.visibleParentSelectionRectangle),null!==this._canvas.hoverDiv&&(null!==s?this._canvas.updateHoverPosition(s.rectangle,s.item.name):this._canvas.hideHover()),o||this._snapLinesHandler.drawActiveLines(t,e)}},t.prototype.processKeyEvent=function(t){if(null!=this._rectangle){var e=this._permissions;if(((t.keyCode===Vw.Left||t.keyCode===Vw.Right)&&e.allowMoveHorizontal||(t.keyCode===Vw.Up||t.keyCode===Vw.Down)&&e.allowMoveVertical)&&this._allowManipulation)if("keydown"===t.type&&void 0===this._operation){var n=!0===t.shiftKey?5:1;this._keyPushed||this._startTransform(),this._keyPushed=!0,this._keyCode=t.keyCode,this._move(t.keyCode,n)}else"keyup"===t.type&&this._keyPushed&&this._keyCode===t.keyCode&&(this._keyPushed=!1,this._endTransform());if(16===t.keyCode&&this._allowManipulation){var r=t.shiftKey;r!==this._shiftState&&(this._shiftState=r,this._operation&&this._operation.resize&&this._resize(null))}}},t.prototype.startTransform=function(t){this._startPoint=t,this._startTransform(),this._startRubberbandSelection(),this._fillSnapData()},t.prototype.processMouseEvent=function(t,e){void 0===e&&(e=!1);var n=new pg(t.x,t.y);if("mousedown"===t.type)this._operation=this.hitTest(n,t.originalEvent.shiftKey),this.startTransform(n);else if("mouseup"===t.type){var r=this._operation&&this._operation.resize;delete this._operation,this._endTransform(r,e),this._endRubberbandSelection(),this._snapLinesHandler.clearSnapData(),delete this._startPoint}else if("mousemove"===t.type&&null!=this._operation&&null!=this._startPoint){if(this._operation.selection)this._updateRubberband(n);else if(this._operation.resize)this._resize(n);else if(this._operation.rotate)this._rotate(n,!(t.originalEvent.ctrlKey||t.originalEvent.metaKey),t.originalEvent.shiftKey);else if(this._operation.drag){var i=this._permissions;this._drag(new pg(i.allowMoveHorizontal&&this._allowManipulation?n.x:this._startPoint.x,i.allowMoveVertical&&this._allowManipulation?n.y:this._startPoint.y),t.originalEvent.ctrlKey||t.originalEvent.metaKey)}this._itemHandlers.length>0&&this._updateParentSelectionRectangle()}},t.prototype.processPinch=function(t){var e=this._currentItemHandler,n=e;if(e.editing){var r=e.rectangle,i=new Ag(e.rectangle.bounds.center.x,e.rectangle.bounds.center.y,r.width*t.gesture.scale,r.height*t.gesture.scale);null==n.startRectangle&&n._startTransform(),n._transformRectangle(r,i,!0)}},t.prototype._fillSnapData=function(){this._snapLinesHandler.fillSnapData(this._startRectangle,this._startRectangleWithFrames,null!=this._startRectangle&&null!=this._border?this._getRectangleWithBorder(this._startRectangle).bounds:null,this._region,this._canvas,this._operation)},t.prototype._constrainRectangleToSnapLines=function(t,e){return this._snapLinesHandler.constrainRectangleToSnapLines(t,this._getRectangleWithBorder(this._rectangle),e,this._operation,this._getRectWithFrames(t),this._getRectangleWithBorder(t),this._canvas)},t.prototype.isResizing=function(){return this._operation&&this._operation.resize},t.prototype.isRotating=function(){return this._operation&&this._operation.rotate},t.prototype.isOperationNotNull=function(){return null!=this._operation},Object.defineProperty(t.prototype,"angle",{set:function(t){this._startTransform();var e=this._rectangle.clone();e.angle=t,this._updateRectangle(e),this._endTransform(),this._canvas.redraw()},enumerable:!0,configurable:!0}),t.prototype._startTransform=function(){if(null!=this._rectangle){this._startRectangle=this._rectangle.clone(),this._startRectangleWithFrames=this._getRectWithFrames(this._startRectangle);for(var t=0;t<this._itemHandlers.length;t++)this._itemHandlers.getItem(t)._startTransform()}},t.prototype._endTransform=function(t,e){if(void 0===t&&(t=!1),void 0===e&&(e=!1),null!=this._rectangle){this._skipUpdate=!0;var n=!e&&null!=this._startRectangle&&!this._rectangle.equals(this._startRectangle);this.history&&this.history.pause();for(var r=0;r<this._itemHandlers.length;r++){var i=this._itemHandlers.getItem(r),o=t;n&&t&&(o=i._onResized()),i.endTransform(n,o)}n&&this._canvas.updateTexts(),this.history&&this.history.resume(),delete this._startRectangle,delete this._startRectangleWithFrames,this._skipUpdate=!1,t&&this.update()}},t.prototype._startRubberbandSelection=function(){null!=this._canvas.viewer&&this._canvas.viewer.ignoreDocumentClickOnce()},t.prototype._endRubberbandSelection=function(){if(null!=this._rubberband){var t=fg.FromLTRB(this._rubberband.left,this._rubberband.top,this._rubberband.right,this._rubberband.bottom);if(!xg(t.width,0)&&!xg(t.height,0)){for(var e=[],n=this._canvas.getAllItemHandlers({onlyVisible:!0}),r=0;r<n.length;r++){var i=n[r];!this._canvas.isLockedOrDisabled(i)&&t.contains(i.rectangle.center)&&e.push(i)}this.setSelectedItemHandlers(e)}this._rubberband=null}},t.prototype._updateRubberband=function(t){this.multipleSelectionEnabled&&null!=this._startPoint&&(this._rubberband={left:Math.min(this._startPoint.x,t.x),top:Math.min(this._startPoint.y,t.y),right:Math.max(this._startPoint.x,t.x),bottom:Math.max(this._startPoint.y,t.y)},this._needRedraw=!0)},t.prototype.pinchResize=function(t,e,n){n._transformRectangle(t,e,!0)},t.prototype._resize=function(e){null==e&&(e=this._resizeLastPoint),this._resizeLastPoint=e;var n=this._operation.arbitraryResize;this._shiftState&&(n&&this._operation.cornerProportionalResize?n=!1:!n&&this._operation.cornerArbitraryResize&&(n=!0));var r,i=this._rectangle.clone(),o=new pg(e.x-this._startRectangle.centerX,e.y-this._startRectangle.centerY);o.rotate(-i.angle);var s=new pg(this._startPoint.x-this._startRectangle.centerX,this._startPoint.y-this._startRectangle.centerY);s.rotate(-i.angle);var a=o.translate(-s.x,-s.y),l=1,u=1;if(n)i.width=this._startRectangle.width+a.x*t.cw[this._operation.resizeIndex],i.height=this._startRectangle.height+a.y*t.ch[this._operation.resizeIndex],6!==this._operation.resizeIndex&&5!==this._operation.resizeIndex||(l=-1,u=-1),1===this._operation.resizeIndex&&(l=-1,u=-1),2===this._operation.resizeIndex&&(l=1,u=-1),4===this._operation.resizeIndex&&(l=-1,u=1);else{var c=a.x*t.cw[this._operation.resizeIndex]/this._startRectangle.width,h=a.y*t.ch[this._operation.resizeIndex]/this._startRectangle.height,p=c<h?c:h;a.x=this._startRectangle.width*p,a.y=this._startRectangle.height*p,i.width=this._startRectangle.width+a.x,i.height=this._startRectangle.height+a.y}if(this._allowNegativeResize||i.width>=0&&i.height>=0){if((r=new pg(a.x/2*t.cw[this._operation.resizeIndex],a.y/2*t.ch[this._operation.resizeIndex])).rotate(i.angle),i.centerX=this._startRectangle.centerX+r.x*l,i.centerY=this._startRectangle.centerY+r.y*u,n){var d=r=new pg(this._startRectangle.centerX,this._startRectangle.centerY);d.rotate(-i.angle),d.x=d.x+a.x/2*t.cw[this._operation.resizeIndex]*t.cw[this._operation.resizeIndex],d.y=d.y+a.y/2*t.ch[this._operation.resizeIndex]*t.ch[this._operation.resizeIndex],d.rotate(i.angle),i.centerX=d.x,i.centerY=d.y}}else{var f=new pg(-t.cw[this._operation.resizeIndex]*this._rectangle.width/2,-t.ch[this._operation.resizeIndex]*this._rectangle.height/2);if(f.rotate(this._rectangle.angle),f.translate(this._rectangle.centerX,this._rectangle.centerY),i.center=f,n)i.width=Math.max(i.width,1),i.height=Math.max(i.height,1);else{var g=this._startRectangle.width/this._startRectangle.height;g>=1?(i.width=Math.max(i.width,1*g),i.height=Math.max(i.height,1)):(i.width=Math.max(i.width,1),i.height=Math.max(i.height,1/g))}var m=new pg(t.cw[this._operation.resizeIndex]*i.width/2,t.ch[this._operation.resizeIndex]*i.height/2);m.rotate(i.angle),i.centerX+=m.x,i.centerY+=m.y}var y=this._canvas.contentEditingPlaceholderItemHandler;null!=y&&y.item.isCoverMode&&(i=this._constrainRectangleToPlaceholderCover(i,y.rectangle)),null==this._canvas.contentEditingPlaceholderItemHandler&&(i=this._constrainRectangleToSnapLines(i,n)),this._updateRectangle(i)},t.prototype._drag=function(t,e){var n=this._canvas.contentEditingPlaceholderItemHandler,r=new pg(t.x-this._startPoint.x,t.y-this._startPoint.y);e?this._snapLinesHandler.resetActiveLines():null==this._canvas.contentEditingPlaceholderItemHandler&&(r=this._snapLinesHandler.constrainDiffToSnapLines(t,this._startPoint,this._canvas)),null==n?r=this._constrainDiffToRegion(this._startRectangleWithFrames.bounds,r):n.item.isCoverMode&&(r=this._constrainDiffToPlaceholderCover(this._startRectangle,n.rectangle,r));var i=this._rectangle.clone();i.centerX=this._startRectangle.centerX+r.x,i.centerY=this._startRectangle.centerY+r.y,this._updateRectangle(i,!0)},t.prototype._rotate=function(t,e,n){var r=t.clone(),i=this._startPoint,o=this._rectangle.clone(),s=new pg(o.centerX,o.centerY),a=gg(r,i,s),l=n?15:90,u=e?n?7.5:5:0,c=a=mg(this._startRectangle.angle+a),h=a%l;h<u?c=l*Math.floor(a/l):h>l-u&&(c=l*Math.floor(a/l+1)),o.angle=mg(c),this._updateRectangle(o)},t.prototype._move=function(t,e){var n=e/this._canvas.mul,r=null;switch(t){case Vw.Up:r=new pg(0,-n);break;case Vw.Down:r=new pg(0,n);break;case Vw.Left:r=new pg(-n,0);break;case Vw.Right:r=new pg(n,0)}if(null!=r){var i=this._canvas.viewer.contentAngle;i>0&&r.rotate(-i);var o=this._canvas.contentEditingPlaceholderItemHandler;null==o?r=this._constrainDiffToRegion(this._rectangle.bounds,r):o.item.isCoverMode&&(r=this._constrainDiffToPlaceholderCover(this._rectangle,o.rectangle,r));var s=this._rectangle.clone();s.centerX+=r.x,s.centerY+=r.y,this._updateRectangle(s),this._updateParentSelectionRectangle()}},Object.defineProperty(t.prototype,"_permissions",{get:function(){if(null==this._rectangle||0===this._itemHandlers.length)return new xw({},!1);var t=this._itemHandlers.getItem(0).getPermissions().clone();this._itemHandlers.length>1&&(this._rectangle.angle-this._itemHandlers.getItem(0).angle)%90!=0&&(t.resizeGrips.edge=!1,t.resizeGrips.setCornerArbitrary(!1));for(var e=1;e<this._itemHandlers.length;e++){var n=this._itemHandlers.getItem(e),r=n.getPermissions();r.allowMoveHorizontal||(t.allowMoveHorizontal=!1),r.allowMoveVertical||(t.allowMoveVertical=!1),r.allowRotate||(t.allowRotate=!1),r.resizeGrips.edge||(t.resizeGrips.edge=!1),r.resizeGrips.getCornerProportional()||t.resizeGrips.setCornerProportional(!1),r.resizeGrips.getCornerArbitrary()||t.resizeGrips.setCornerArbitrary(!1),(this._rectangle.angle-n.angle)%90!=0&&(t.resizeGrips.edge=!1,t.resizeGrips.setCornerArbitrary(!1))}return t},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"_allowNegativeResize",{get:function(){if(null==this._rectangle||0===this._itemHandlers.length)return!1;for(var t=0;t<this._itemHandlers.length;t++)if(!this._itemHandlers.getItem(t).allowNegativeResize)return!1;return!0},enumerable:!0,configurable:!0}),t.prototype._getRegion=function(){var t=null;if(this._canvas.constrainedMarginEnabled&&this._canvas.margin>0){var e=this._canvas.margin;t=new fg(e,e,this._canvas.workspaceWidth-e,this._canvas.workspaceHeight-e)}for(var n=new nm,r=0;r<this._itemHandlers.length;r++){var i=this._itemHandlers.getItem(r).layer;null==i||null==i.region||n.contains(i)||n.add(i)}for(var o=0;o<n.length;o++){var s=n.getItem(o).region;t=null!=t?fg.intersect(t,s):s}return t},t.prototype._updateRectangle=function(t,e){if(void 0===e&&(e=!1),e||!this._canvas.suppressOutOfRegionManipulation||null==this._region||null!=this._canvas.contentEditingPlaceholderItemHandler||this._region.containsRectangle(this._getRectWithFrames(t).bounds)){this._rectangle=t,this._rectangleWithFrames=this._getRectWithFrames(t);for(var n=0;n<this._itemHandlers.length;n++)this._itemHandlers.getItem(n)._transformRectangle(this._startRectangle,this._rectangle,!0)}},t.prototype._getRectWithFrames=function(t){for(var e=this._getRectangleWithBorder(t),n=0;n<this._itemHandlers.length;n++){var r=this._itemHandlers.getItem(n);if(null!=r&&r instanceof SC){var i=r.getRectangleIncludingFrames(),o=Fw.transformRectangleByTwoRectanglesDiff(i,this._rectangle,t);e=Ag.union(o,e)}}return e},t.prototype._constrainDiffToRegion=function(t,e){return this._canvas.suppressOutOfRegionManipulation&&null!=this._region?(t.left+e.x<this._region.left&&(e.x=this._region.left-t.left),t.top+e.y<this._region.top&&(e.y=this._region.top-t.top),t.right+e.x>this._region.left+this._region.width&&(e.x=this._region.left+this._region.width-t.right),t.bottom+e.y>this._region.top+this._region.height&&(e.y=this._region.top+this._region.height-t.bottom),e):e},t.prototype._constrainDiffToPlaceholderCover=function(t,e,n){var r=e.angle;e.angle=0;var i=e.bounds,o=t.clone();o.rotateAt(-r,e.center);var s=o.bounds;return n.rotate(-r),s.left+n.x>i.left&&(n.x=i.left-s.left),s.top+n.y>i.top&&(n.y=i.top-s.top),s.right+n.x<i.left+i.width&&(n.x=i.left+i.width-s.right),s.bottom+n.y<i.top+i.height&&(n.y=i.top+i.height-s.bottom),n.rotate(r),n},t.prototype._constrainRectangleToPlaceholderCover=function(t,e){var n=t.angle,r=e.angle,i=xg(90,mg(n-r)%180);e.angle=0;var o=e.bounds;t.rotateAt(-r,e.center);var s=t.bounds,a=Math.min(s.left,o.left),l=Math.min(s.top,o.top),u=Math.max(s.right,o.right),c=Math.max(s.bottom,o.bottom),h=u-a,p=c-l,d=i?this._startRectangle.height/this._startRectangle.width:this._startRectangle.width/this._startRectangle.height,f=h/p,g=(this._operation.resizeIndex-1+Math.round(mg(n-r)/90))%4+1;if(f>d){var m=Math.abs(h/d-h/f);1===g||2===g?l-=m:c+=m}if(f<d){var y=Math.abs(p*d-p*f);2===g||3===g?u+=y:a-=y}var v=new fg(a,l,u-a,c-l);if(!xg(0,n-r%360)){var _=Ag.fromRectangleF(v);_.rotateAt(r-n,e.center),v=_.bounds}var b=Ag.fromRectangleF(v);return b.rotateAt(n,e.center),b},t.prototype._getRectangleWithBorder=function(t){if(null==t||null==this._border)return null;var e=t.center,n=t.angle;t.angle=0;var r=t.bounds,i=Ag.FromLTRB(r.left-this._border.left,r.top-this._border.top,r.right+this._border.right,r.bottom+this._border.bottom);return i.width*=Math.sign(t.width),i.height*=Math.sign(t.height),i.rotateAt(n,e),t.angle=n,i},t.prototype.addSelectedItemHandlersChanged=function(t){this._selectedItemHandlersChangedEvent.add(t)},t.prototype.removeSelectedItemHandlersChanged=function(t){this._selectedItemHandlersChangedEvent.remove(t)},t.prototype._onSelectedItemHandlersChanged=function(){this._selectedItemHandlersChangedEvent.notify(this)},Object.defineProperty(t.prototype,"_allowManipulation",{get:function(){return null!=this._canvas&&(!this._canvas.simpleMode||null!=this._canvas.contentEditingPlaceholderItemHandler)},enumerable:!0,configurable:!0}),t.cw=[0,-1,1,1,-1,-1,0,1,0],t.ch=[0,-1,-1,1,1,0,-1,0,1],t._isSafetyLineItemHandlersFunc=null,t}(),jC=function(){var t=function(e,n){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(e,n)};return function(e,n){function r(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),FC=function(t){function e(e,n){return void 0===n&&(n=null),t.call(this,e,n)||this}return jC(e,t),Object.defineProperty(e.prototype,"item",{get:function(){return this._getItem()},enumerable:!0,configurable:!0}),e.prototype._onItemPropertyChanged=function(e,n){switch(n){case"center":case"bend":case"warp":this.update()}t.prototype._onItemPropertyChanged.call(this,e,n)},e.prototype._setDataItem=function(e,n){t.prototype._setDataItem.call(this,e,n),this.item.center=e.center,this.item.bend=e.bend,this.item.warp=e.warp},e.typeName="ArchedTextItemHandler",e}(cC),zC=function(){var t=function(e,n){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(e,n)};return function(e,n){function r(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),LC=function(t){function e(e,n){return void 0===n&&(n=null),t.call(this,e,n)||this}return zC(e,t),Object.defineProperty(e.prototype,"item",{get:function(){return this._getItem()},enumerable:!0,configurable:!0}),e.prototype._onItemPropertyChanged=function(e,n){switch(n){case"isVertical":this.update()}t.prototype._onItemPropertyChanged.call(this,e,n)},e.prototype._setDataItem=function(e,n){t.prototype._setDataItem.call(this,e,n),this.item.textRectangle=e.textRectangle,this.item.isVertical=e.isVertical},Object.defineProperty(e.prototype,"originalTextRectangle",{get:function(){return this.item.textRectangle},set:function(t){this.item.textRectangle=t},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"verticalScale",{get:function(){return this.item.verticalScale},set:function(t){},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"horizontalScale",{get:function(){return this.item.horizontalScale},set:function(t){},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"isVertical",{get:function(){return this.item.isVertical},set:function(t){this.item.isVertical=t},enumerable:!0,configurable:!0}),e.prototype.getTextRectangle=function(){var t=this.getControlCenter(),e=Ag.fromRectangleF(this.item.textRectangle);return e.transform(this.item.transform.clone(),t),e.toRectangleF()},e.prototype._updateEmptyTextControlPoints=function(){var t=this.item.textRectangle;this._controlPoints[0].x=t.left,this._controlPoints[0].y=t.top,this._controlPoints[1].x=t.right,this._controlPoints[1].y=t.bottom;var e=this.canvas;null!=e&&e.redraw()},e.prototype._setDefaultTextControlPoints=function(){},e.typeName="AutoScaledTextItemHandler",e}(cC),HC=function(){var t=function(e,n){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(e,n)};return function(e,n){function r(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),NC=function(t){function e(e){var n=t.call(this,e)||this;if(n.__type="BarcodeHandlerData",null==e||null==e.canvas)return n;if(e.canvas.viewer.configuration&&e.canvas.viewer.configuration.stubImages&&e.canvas.viewer.configuration.stubImages.barcode){var r=e.canvas.viewer.configuration.stubImages.barcode;n.stubText=r.text,n.stubPostScriptName=r.postScriptName}var i=(null!=e.item.parentPlaceholder?e.item.parentPlaceholder.parentContainer.parentComponent:e.item.parentContainer.parentComponent).printAreas.getItem(0);return n.dpi=e.canvas.viewer.configuration&&e.canvas.viewer.configuration.renderingConfig?e.canvas.viewer.configuration.renderingConfig.getHiResRendering(i).dpi:72,n.size=Math.round(Math.max(i.bounds.width,i.bounds.height)/2),n}return HC(e,t),e.prototype.applyState=function(e,n){n&&(n.beginUpdate(),n.currentFileId=e.currentFileId,n.stubTextImageFileId=e.stubTextImageFileId,n.errorMessage=e.errorMessage),t.prototype.applyState.call(this,e,n)},e}(Lw),WC=function(){var t=function(e,n){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(e,n)};return function(e,n){function r(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),VC=function(t){function e(e,n){void 0===n&&(n=null);var r=t.call(this,e,n)||this;return r.currentFileId=null,r.stubTextImageFileId=null,r.errorMessage=null,r._maxImageSize=4e6,r._stubTextImageContainer=new Qw(r._onstubTextImageLoaded.bind(r)),r}return WC(e,t),e.prototype._createDataInstance=function(t){return new NC(t)},Object.defineProperty(e.prototype,"item",{get:function(){return this._getItem()},enumerable:!0,configurable:!0}),e.prototype._onItemPropertyChanged=function(e,n){switch(n){case"barcodeContent":case"barcodeFormat":case"barcodeOptions":case"color":this.currentFileId=null,this.stubTextImageFileId=null,this.errorMessage=null,this.update()}t.prototype._onItemPropertyChanged.call(this,e,n)},e.prototype._createImageUrl=function(){var t,e,n=this.canvas;if(null==this.currentFileId||null==n)return null;var r=n.zoom,i=this.rectangle,o=this._maxImageSize/(t=i.width*(r*cg.screenDpi/72))/(e=i.height*(r*cg.screenDpi/72));return o<1&&(t*=o=Math.sqrt(o),e*=o),t=Math.round(t),e=Math.round(e),this._pixelWidth=t,this._pixelHeight=e,eC.getImageUrl(n,this.currentFileId,this._pixelWidth,this._pixelHeight,!1)},e.prototype._createStubTextImageUrl=function(){if(null!=this.stubTextImageFileId)return eC.getImageUrl(this.canvas,this.stubTextImageFileId,this._pixelWidth,this._pixelHeight,!1)},e.prototype.update=function(e,n){if(this.isVisible())if(null==this.currentFileId&&null==this.errorMessage)t.prototype._update.call(this,null,e,n);else{this.quickUpdate();var r=this.canvas;null!=r&&r.updateSelection()}},Object.defineProperty(e.prototype,"ready",{get:function(){return this._imageContainer.isLoaded&&!(this.item.barcodeData.isEmpty&&!this._stubTextImageContainer.isLoaded)},enumerable:!0,configurable:!0}),e.prototype._isLoadingImage=function(){return this._imageContainer.isLoading||!(this.item.barcodeData.isEmpty&&!this._stubTextImageContainer.isLoading)},e.prototype._setIsLoadingImage=function(t){this._imageContainer.isLoading=t,this.item.barcodeData.isEmpty&&(this._stubTextImageContainer.isLoading=t)},e.prototype._updateImageUrl=function(){t.prototype._updateImageUrl.call(this),this._updateStubTextImageUrl()},e.prototype._updateStubTextImageUrl=function(){if(this.isVisible()){var t=this.canvas;if(null!=t&&t.isInitialized){var e=this._createStubTextImageUrl();e!==this._stubTextImageContainer.source&&(null==e?(this._stubTextImageContainer.clear(),t.redraw()):this._stubTextImageContainer.updateUrl(e))}}},e.prototype._onstubTextImageLoaded=function(t,e){this._stubTextImageContainer.isLoading=!1,this._imageContainer.isLoading||(null!=this.canvas&&this.canvas.redraw(),this._dispatchReadyEvent())},e.prototype._onImageLoaded=function(t,e){this._imageContainer.isLoading=!1,this._stubTextImageContainer.isLoading||(null!=this.canvas&&this.canvas.redraw(),this._dispatchReadyEvent())},e.prototype.quickUpdate=function(){this.isVisible()&&this.canvas&&!this.canvas.service.imageLoaderService.hasImageContainerFor(this.currentFileId)&&t.prototype.quickUpdate.call(this)},e.prototype.drawItemHandler=function(t){if(null!=t){var e=null!=this.parentPlaceholder?this.parentPlaceholder.rectangle:this.rectangle,n=this.rectangle;Iw.fillRectangle(t,n,this.isNormalRenderingType||0===this.item.fillColor.alpha?this.item.fillColor.preview:"rgba(0,0,0,0)",this.isNormalRenderingType?this.item.opacity:1),this._imageContainer.isLoaded&&this._drawImage(t,this.canvas.disableSmoothing),this._stubTextImageContainer.isLoaded&&this._drawImage(t,this.canvas.disableSmoothing,1,this._stubTextImageContainer.image),(this._imageContainer.isLoading||this._stubTextImageContainer.isLoading)&&this.canvas.drawWaitClock(t,new pg(e.centerX,e.centerY));var r=this._getActualBorderWidth();r>0&&(n.width+=r,n.height+=r,Iw.drawRectangle(t,n,r,this.isNormalRenderingType||0===this.item.borderColor.alpha?this.item.borderColor.preview:"rgb(0,0,0)",this.item.opacity))}},e.prototype._onResized=function(){return this.update(),t.prototype._onResized.call(this)},e.prototype.dispose=function(){t.prototype.dispose.call(this),this._stubTextImageContainer.dispose()},e.typeName="BarcodeItemHandler",e}(Kw),UC=function(){var t=function(e,n){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(e,n)};return function(e,n){function r(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}();!function(t){function e(e){var n=t.call(this,e)||this;return n.__type="CurvedTextHandlerData",null==e?n:(n.firstUpdateIsComplete=e.firstUpdateIsComplete,n)}UC(e,t),e.prototype.applyState=function(e,n){t.prototype.applyState.call(this,e,n),null!=n&&(n.firstUpdateIsComplete=e.firstUpdateIsComplete)}}(aC),function(t){t.Left="left",t.Right="right",t.Top="top",t.Bottom="bottom",t.Center="center"}(DC||(DC={}));var qC,GC,YC=function(){return(YC=Object.assign||function(t){for(var e,n=1,r=arguments.length;n<r;n++)for(var i in e=arguments[n])Object.prototype.hasOwnProperty.call(e,i)&&(t[i]=e[i]);return t}).apply(this,arguments)};function XC(t,e,n){return QC(t.left,e.left,n)&&QC(t.top,e.top,n)&&QC(t.width,e.width,n)&&QC(t.height,e.height,n)}function $C(t,e,n){if(void 0===n&&(n=GC.Fit),t.width===e.width&&t.height===e.height)return t;if(n===GC.Original)return YC({},t);if(n===GC.Arbitrary)return YC({},e);var r=n===GC.Fit?Math.min(e.width/t.width,e.height/t.height):Math.max(e.width/t.width,e.height/t.height);return{width:t.width*r,height:t.height*r}}function QC(t,e,n){return null==n&&(n=1e-4),0!==n?Math.abs(t-e)<=n:t===e}function ZC(t,e,n){return null!=n&&(t=Math.min(t,n)),null!=e&&(t=Math.max(e,t)),t}function KC(t,e,n){var r,i;switch(e){case DC.Left:r=t.left;break;case DC.Right:r=t.right;break;default:r=t.left+t.width/2}switch(n){case DC.Top:i=t.top;break;case DC.Bottom:i=t.bottom;break;default:i=t.top+t.height/2}return new pg(r,i)}!function(t){t.from=function(t){return{width:t.width,height:t.height}}}(qC||(qC={})),function(t){t[t.Fit=0]="Fit",t[t.Fill=1]="Fill",t[t.Arbitrary=2]="Arbitrary",t[t.Original=3]="Original"}(GC||(GC={}));var JC,tx=function(){var t=function(e,n){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(e,n)};return function(e,n){function r(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),ex=function(t,e){var n="function"==typeof Symbol&&t[Symbol.iterator];if(!n)return t;var r,i,o=n.call(t),s=[];try{for(;(void 0===e||e-- >0)&&!(r=o.next()).done;)s.push(r.value)}catch(a){i={error:a}}finally{try{r&&!r.done&&(n=o.return)&&n.call(o)}finally{if(i)throw i.error}}return s},nx=function(){for(var t=[],e=0;e<arguments.length;e++)t=t.concat(ex(arguments[e]));return t},rx=function(t){var e="function"==typeof Symbol&&Symbol.iterator,n=e&&t[e],r=0;if(n)return n.call(t);if(t&&"number"==typeof t.length)return{next:function(){return t&&r>=t.length&&(t=void 0),{value:t&&t[r++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")},ix=function(t){function e(e,n,r){void 0===r&&(r=null);var i=t.call(this,null,null,null,null,e,r)||this;return i._itemHandlers=new nm,i._onChildItemHandlerChanging=function(t){return i.raiseChanging(i)},Array.isArray(n)&&(i.itemHandlers=new nm(n)),i.item.items.add_itemAdded(i._onItemAdded.bind(i)),i.item.items.add_itemRemoved(i._onItemRemoved.bind(i)),i._subscribeItemHandlers(),i}return tx(e,t),e.prototype._unsubscribeItemHandlers=function(){var t=this;null!=this.itemHandlers&&(this.itemHandlers.remove_itemAdded(this._onItemHandlerAdded.bind(this)),this.itemHandlers.remove_itemRemoved(this._onItemHandlerRemoved.bind(this)),this.itemHandlers.forEach((function(e){return e.getChangingEvent().remove(t._onChildItemHandlerChanging)})))},e.prototype._subscribeItemHandlers=function(){var t=this;null!=this.itemHandlers&&(this.itemHandlers.add_itemAdded(this._onItemHandlerAdded.bind(this)),this.itemHandlers.add_itemRemoved(this._onItemHandlerRemoved.bind(this)),this.itemHandlers.forEach((function(e){return e.getChangingEvent().add(t._onChildItemHandlerChanging)})))},e.prototype.setItemHandlers=function(t){this._unsubscribeItemHandlers(),Array.isArray(t)&&(this.itemHandlers=new nm(t)),this._subscribeItemEvents()},Object.defineProperty(e.prototype,"itemHandlers",{get:function(){return this._itemHandlers},set:function(t){if(null==t)throw new Error("ItemHandlers can't be null");this._itemHandlers.clear(),this._itemHandlers.addRange(t)},enumerable:!0,configurable:!0}),e.prototype.drawItemHandler=function(t){this.getNestedItemHandlers(!0,!1,!0).forEach((function(e){null==e.canvas||e instanceof SC&&e.editing||e.drawItemHandler(t)}))},e.prototype.drawHighlight=function(e,n){void 0===n&&(n=!1),this.drawChildHighlights(e),!n&&this.item.groupItemPermissions&&t.prototype.drawHighlight.call(this,e)},e.prototype.drawChildHighlights=function(t){this.itemHandlers.forEach((function(e){return e.drawHighlight(t)}))},e.prototype.getOrderedItems=function(){return this.item.items.toArray()},e.prototype._setVisible=function(e){this.visible!==e&&(t.prototype._setVisible.call(this,e),this.applyToItems((function(t){return t.visible=e})))},e.prototype._onItemPropertyChanged=function(e,n){switch(n){case"opacity":var r=e.opacity;this.item.applyToItems((function(t){QC(t.opacity,r)||(t.opacity=r),t instanceof a_&&!QC(t.content.opacity,r)&&t.updateContentAndFrames((function(t){return t.opacity=r}))}))}t.prototype._onItemPropertyChanged.call(this,e,n)},e.prototype._onItemAdded=function(t){var e=t.item,n=t.index;null!=this.canvas&&(null!=n?this.itemHandlers.insertAt(n,this.canvas.handlerFactory.get(e)):this.itemHandlers.add(this.canvas.handlerFactory.get(e)))},e.prototype._onItemRemoved=function(t){if(null!=this.canvas){var e=this.canvas.handlerFactory.get(t.item);this.canvas.isItemHandlerSelected(e)&&this.canvas.removeSelectedItemHandler(e),this.itemHandlers.remove(e)}},e.prototype._onItemHandlerAdded=function(t){var n=this,r=t.item;r.getChangingEvent().add(this._onChildItemHandlerChanging);var i=function(t){t.layer=n.layer,t.canvas=n.canvas,t instanceof e&&t.applyToItems((function(t){return i(t)}))};i(r)},e.prototype._onItemHandlerRemoved=function(t){var e=t.item;e.getChangingEvent().remove(this._onChildItemHandlerChanging),this.canvas.isItemHandlerSelected(t.item)&&this.canvas.removeSelectedItemHandler(t.item),e.canvas=null,e.layer=null,e.item.parentContainer=null},e.prototype.replaceItemHandler=function(t,e){var n=this.itemHandlers.indexOf(t);if(-1==n)throw new Yf("ItemHandler not found");this.itemHandlers.replaceAt(e,n),e.layer=this.layer,this._onItemHandlerRemoved({item:t,index:n}),this._onItemHandlerAdded({item:e,index:n})},e.prototype.getNestedItemHandlers=function(t,n,r){void 0===t&&(t=!1),void 0===n&&(n=!1),void 0===r&&(r=!1);for(var i=[],o=n?this.itemHandlers.toArray().slice().reverse():this.itemHandlers.toArray().slice();o.length>0;){var s=o.shift();if(s instanceof e){if(r&&(!s.visible||s.getPermissions().noShow))continue;var a=n?s.itemHandlers.toArray().slice().reverse():s.itemHandlers.toArray();if(o.unshift.apply(o,nx(a)),t)continue}i.push(s)}return i},e.prototype.updateNestedItemHandlers=function(t){var e,n,r=!1;try{for(var i=rx(this.itemHandlers),o=i.next();!o.done;o=i.next()){var s=o.value,a=t(s);r=r||a,"updateNestedItemHandlers"in s&&(a=s.updateNestedItemHandlers(t),r=r||a)}}catch(l){e={error:l}}finally{try{o&&!o.done&&(n=i.return)&&n.call(i)}finally{if(e)throw e.error}}return r},e.prototype._transformRectangle=function(e,n,r){void 0===r&&(r=!1),t.prototype._transformRectangle.call(this,e,n,r),this.itemHandlers.forEach((function(t){return t._transformRectangle(e,n,r)}))},e.prototype.update=function(){this.applyToItems((function(t){return t.update()})),t.prototype.update.call(this)},e.prototype._onResized=function(){return this.applyToItems((function(t){return t._onResized()})),t.prototype._onResized.call(this)},e.prototype._startTransform=function(){this.applyToItems((function(t){return t._startTransform()})),t.prototype._startTransform.call(this)},e.prototype._endTransform=function(e,n,r){void 0===r&&(r=!1),this.applyToItems((function(t){return t.endTransform(e,n,!0)})),t.prototype._endTransform.call(this,e,n)},e.prototype._transformChanged=function(){t.prototype._transformChanged.call(this),this.applyToItems((function(t){return t._transformChanged()}))},e.prototype.setRectangle=function(e,n){var r=e.getTransform(this.rectangle),i=r.translateX,o=r.translateY,s=r.scaleX,a=r.scaleY,l=r.angle,u=function(t){var n=t.rectangle;n.translate(i,o),n.rotateAt(l,e.center),t.setRectangle(n,!0),t instanceof SC&&t.updateContentAndFrames(u)};this.getNestedItemHandlers(!0).forEach(u);var c=this.rectangle,h=function(t){var e=t.rectangle;e.setTransform(new Tg(s,a,(e.centerX-c.centerX)*(s-1),(e.centerY-c.centerY)*(a-1))),t.setRectangle(e,!0),t instanceof SC&&t.updateContentAndFrames(h)};this.getNestedItemHandlers(!0).forEach(h),t.prototype.setRectangle.call(this,e,n)},Object.defineProperty(e.prototype,"_calculateRectangleFromChild",{get:function(){return!0},enumerable:!0,configurable:!0}),e.prototype._getRectangle=function(){if(!this._calculateRectangleFromChild)return t.prototype._getRectangle.call(this);var e=this.itemHandlers.where((function(t){return t.isVisible()})).toArray().map((function(t){return t.getTransformedRectangle(!1,!0)}));if(e.length<1)return null!=e[0]?e[0]:new Ag;var n=this.item.transform.angle,r=e.reduce((function(t,e){return Ag.union(t,e)})).center,i=e.map((function(t){return t.rotateAt(-n,r).bounds})).reduce((function(t,e){return{left:Math.min(t.left,e.left),top:Math.min(t.top,e.top),right:Math.max(t.right,e.right),bottom:Math.max(t.bottom,e.bottom)}}));return Ag.FromLTRB(i.left,i.top,i.right,i.bottom).rotateAt(n,r)},e.prototype._onAddedOnCanvas=function(e){t.prototype._onAddedOnCanvas.call(this,e),this.applyToItems((function(t){return t.canvas=e}))},e.prototype._onRemovedFromCanvas=function(e){t.prototype._onRemovedFromCanvas.call(this,e),this.applyToItems((function(t){return t.canvas=null}))},e.prototype.applyToItems=function(t){if(null!=this.itemHandlers)for(var e=0;e<this.itemHandlers.length;e++)t(this.itemHandlers.getItem([e]))},e.prototype.getPermissions=function(){var e,n,r=t.prototype.getPermissions.call(this).clone();try{for(var i=rx(this.itemHandlers),o=i.next();!o.done;o=i.next()){var s=o.value,a=s.getPermissions();a.allowMoveHorizontal||(r.allowMoveHorizontal=!1),a.allowMoveVertical||(r.allowMoveVertical=!1),a.allowRotate||(r.allowRotate=!1),a.resizeGrips.edge||(r.resizeGrips.edge=!1),a.resizeGrips.getCornerProportional()||r.resizeGrips.setCornerProportional(!1),a.resizeGrips.getCornerArbitrary()||r.resizeGrips.setCornerArbitrary(!1),(this.item.transform.angle-s.angle)%90!=0&&(r.resizeGrips.edge=!1,r.resizeGrips.setCornerArbitrary(!1))}}catch(l){e={error:l}}finally{try{o&&!o.done&&(n=i.return)&&n.call(i)}finally{if(e)throw e.error}}return r.showSelectToolbarButton=this.item.groupItemPermissions.allowReplaceContent,r},e.prototype.isChildVisible=function(t){return!0},Object.defineProperty(e.prototype,"item",{get:function(){return this._getItem()},enumerable:!0,configurable:!0}),e}(Fw),ox=function(){var t=function(e,n){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(e,n)};return function(e,n){function r(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),sx=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return ox(e,t),e.prototype._onItemPropertyChanged=function(e,n){switch(n){case"colorGroups":null!=this.canvas&&(this.update(),this.canvas.redraw())}t.prototype._onItemPropertyChanged.call(this,e,n)},Object.defineProperty(e.prototype,"item",{get:function(){return this._getItem()},enumerable:!0,configurable:!0}),e}(ix),ax=function(){var t=function(e,n){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(e,n)};return function(e,n){function r(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),lx=function(t){function e(e,n){return void 0===n&&(n=null),t.call(this,e,n)||this}return ax(e,t),Object.defineProperty(e.prototype,"item",{get:function(){return this._getItem()},set:function(e){t.prototype._setItem.call(this,e)},enumerable:!0,configurable:!0}),e.prototype._setDataItem=function(e,n){t.prototype._setDataItem.call(this,e,n),this.item.textPath=e.textPath,this.item.fitToPath=e.fitToPath,this.item.fitToPathStep=e.fitToPathStep,this.item.stretch=e.stretch,this.item.originalFontSize=e.originalFontSize,this.item.start=e.start,this.item.end=e.end},e.prototype._onItemPropertyChanged=function(e,n){switch(n){case"textPath":case"fitToPath":case"fitToPathStep":case"stretch":case"originalFontSize":case"start":case"end":this.update()}t.prototype._onItemPropertyChanged.call(this,e,n)},Object.defineProperty(e.prototype,"textPath",{get:function(){var t=this.getControlCenter(),e=this.item.textPath.clone(),n=this.item.transform.clone();return e.transform(n,t),e},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"originalTextPath",{get:function(){return this.item.textPath},set:function(t){this.item.textPath=t},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"fitToPath",{get:function(){return this.item.fitToPath},set:function(t){this.item.fitToPath=t},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"stretch",{get:function(){return this.item.stretch},set:function(t){this.item.stretch=t},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"originalFontSize",{get:function(){return this.item.originalFontSize},set:function(t){this.item.originalFontSize=t},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"fitToPathStep",{get:function(){return this.item.fitToPathStep},set:function(t){this.item.fitToPathStep=t},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"start",{get:function(){return this.item.start},set:function(t){this.item.start=t},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"end",{get:function(){return this.item.end},set:function(t){this.item.end=t},enumerable:!0,configurable:!0}),e.prototype._onResized=function(){var e=parseFloat((this.item.font.size*(this.rectangle.height/this._height)).toFixed(1)),n=this.canvas;if(null!=n){var r=n.minFontSize;e="number"==typeof r?Math.max(e,r):e;var i=n.maxFontSize;e="number"==typeof i?Math.min(e,i):e}return xg(e,this.item.font.size,.01)?(null!=this._startRectangle?(this.setRectangle(this._startRectangle),n.updateSelection(),delete this._startRectangle):this.update(),!1):t.prototype._onResized.call(this)},e.prototype.drawItemHandler=function(e){t.prototype.drawItemHandler.call(this,e),!0===window.__$abl$&&Iw.drawPath(e,this.item.textPath,this.getControlCenter(),this.item.transform,1,"red",1)},e.prototype._setDefaultTextControlPoints=function(){this._updateEmptyTextControlPoints()},e.typeName="CurvedTextItemHandler",e}(cC),ux=function(){var t=function(e,n){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(e,n)};return function(e,n){function r(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),cx=function(t){function e(e,n){return void 0===n&&(n=null),t.call(this,0,0,0,0,e,n)||this}return ux(e,t),Object.defineProperty(e.prototype,"item",{get:function(){return this._getItem()},enumerable:!0,configurable:!0}),e.prototype._onItemPropertyChanged=function(t,e){},e.prototype._getBoundsMargin=function(){return this.item.width},e.prototype.drawItemHandler=function(t){if(null!=t&&this.item.width>0){var e=this.getActualPoints();Iw.drawPolyline(t,e,this.item.width,this.item.color.preview,this.item.opacity)}},e.prototype._belongToLine=function(t,e){for(var n=this.getActualPoints(),r=!1,i=this.item.width/2+e,o=i*i,s=1;s<n.length;s++)if(vg(t,n[s-1],n[s])<=o){r=!0;break}return r},e.prototype.hitTest=function(e,n){var r=t.prototype.hitTest.call(this,e.clone()),i=this.canvas.zoom*cg.screenDpi/72,o=this._getRectangle(),s=!!n&&o.toRectangleF().contains(e),a=this._belongToLine(e,2/i);return r.body=s||a,r},e.prototype.getColorData=function(){var e=this.item,n=t.prototype.getColorData.call(this);return e.color.needUpdate(this.canvas.rgbColorProfileFileId)&&(n.color=e.color.getData()),n},e.prototype.setColorData=function(e){var n=this.item;t.prototype.setColorData.call(this,e),null!=e.color&&(n.color=bm.createColor(e.color))},e.prototype.hasColorsToUpdate=function(){var e=this.item,n=this.canvas.rgbColorProfileFileId;return t.prototype.hasColorsToUpdate.call(this)||e.color.needUpdate(n)},e.prototype.getActualPoints=function(){for(var t=[],e=this.getControlCenter(),n=0;n<this.item.sourcePoints.length;n++)t.push(this._getActualPointFromControlPoint(this.item.sourcePoints[n],e));return t},e.prototype._getActualPointFromControlPoint=function(t,e){var n=new pg(t.x,t.y);n.translate(-e.x,-e.y);var r=this.item.transform;return n.scale(r.scaleX,r.scaleY),n.rotate(r.angle),n.translate(r.translateX,r.translateY),n.translate(e.x,e.y),n},e.prototype.getControlBounds=function(){var t=0,e=0,n=0,r=0,i=this.item.sourcePoints,o=i.length;o>0&&(t=i[0].x,n=i[0].x,e=i[0].y,r=i[0].y);for(var s=1;s<o;s++)t=Math.min(i[s].x,t),n=Math.max(i[s].x,n),e=Math.min(i[s].y,e),r=Math.max(i[s].y,r);return new fg(t,e,n-t,r-e)},e.prototype._addPoint=function(t){var e=this.canvas,n=-1;e&&(n=cg.screenDpi/72*e.zoom);var r=this.item.sourcePoints;if(r.length>0){var i=r[r.length-1].distance(t);(-1===n||i*n>30)&&r.push(t)}else r.push(t)},e.prototype.addPoint=function(t){this.insertPoint(t,this.item.sourcePoints.length)},e.prototype.insertPoint=function(t,e){if(e<0||e>this.item.sourcePoints.length)throw new Zf("addPoint: Index out of range.");var n=this.getActualPoints();n.splice(e,0,t),this.item.sourcePoints=n,this.item.transform=new Tg},e.prototype.setPoint=function(t,e){if(e<0||e>=this.item.sourcePoints.length)throw new Zf("setPoint: Index out of range.");var n=this.getActualPoints();n[e]=t,this.item.sourcePoints=n,this.item.transform=new Tg,this.raiseChanged()},e.prototype.getPointsCount=function(){return this.item.sourcePoints.length},e.prototype.getPoint=function(t){if(t<0||t>=this.item.sourcePoints.length)throw new Zf("setPoint: Index out of range.");return this._getActualPointFromControlPoint(this.item.sourcePoints[t],this.getControlCenter())},e.prototype.removePoint=function(t){if(t<0||t>=this.item.sourcePoints.length)throw new Zf("removePoint: Index out of range.");var e=this.item.sourcePoints;e.splice(t,1),this.item.sourcePoints=e},e.typeName="PolylineItemHandler",e}(Fw),hx=function(){var t=function(e,n){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(e,n)};return function(e,n){function r(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),px=function(t){function e(e,n){return void 0===n&&(n=null),t.call(this,e,n)||this}return hx(e,t),Object.defineProperty(e.prototype,"item",{get:function(){return this._getItem()},enumerable:!0,configurable:!0}),e.prototype._onItemPropertyChanged=function(e,n){switch(n){case"altColor":case"dashWidth":case"altDashWidth":this.canvas.redraw()}t.prototype._onItemPropertyChanged.call(this,e,n)},Object.defineProperty(e.prototype,"dashWidth",{get:function(){return this.item.dashWidth},set:function(t){this.item.dashWidth=t},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"altDashWidth",{get:function(){return this.item.altDashWidth},set:function(t){this.item.altDashWidth=t},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"altColor",{get:function(){return this.item.altColor},set:function(t){this.item.altColor=t},enumerable:!0,configurable:!0}),e.prototype.drawItemHandler=function(t){if(null!=t){var e=this.point0,n=this.point1,r=this._getActualWidth();if(r){var i=this.dashWidth,o=this.altDashWidth;if(this.fixedWidth){var s=this.canvas.zoom;i/=s,o/=s}Iw.drawDashedLine(t,e.x,e.y,n.x,n.y,r,this.color.preview,this.altColor.preview,i,o,this.item.opacity)}}},e.prototype.getColorData=function(){var e=this.item,n=t.prototype.getColorData.call(this),r=this.canvas.rgbColorProfileFileId;return e.color.needUpdate(r)&&(n.color=e.color.getData()),e.altColor.needUpdate(r)&&(n.altColor=e.altColor.getData()),n},e.prototype.setColorData=function(e){var n=this.item;t.prototype.setColorData.call(this,e),null!=e.color&&(n.color=bm.createColor(e.color)),null!=e.altColor&&(n.altColor=bm.createColor(e.altColor))},e.prototype.hasColorsToUpdate=function(){var e=this.item,n=this.canvas.rgbColorProfileFileId;return t.prototype.hasColorsToUpdate.call(this)||e.color.needUpdate(n)||e.altColor.needUpdate(n)},e}(RC),dx=function(){var t=function(e,n){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(e,n)};return function(e,n){function r(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),fx=function(t){function e(e,n){return void 0===n&&(n=null),t.call(this,0,0,0,0,e,n)||this}return dx(e,t),Object.defineProperty(e.prototype,"item",{get:function(){return this._getItem()},enumerable:!0,configurable:!0}),e.prototype._onItemPropertyChanged=function(t,e){},Object.defineProperty(e.prototype,"locked",{get:function(){return this.item.locked},set:function(t){this.item.locked=t},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"cols",{get:function(){return this.item.cols},set:function(t){this.item.cols=t},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"rows",{get:function(){return this.item.rows},set:function(t){this.item.rows=t},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"stepX",{get:function(){return this.item.stepX},set:function(t){this.item.stepX=t},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"stepY",{get:function(){return this.item.stepY},set:function(t){this.item.stepY=t},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"horizontalLineColor",{get:function(){return this.item.horizontalLineColor},set:function(t){this.item.horizontalLineColor=t},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"verticalLineColor",{get:function(){return this.item.verticalLineColor},set:function(t){this.item.verticalLineColor=t},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"lineWidth",{get:function(){return this.item.lineWidth},set:function(t){this.item.lineWidth=t},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"fixedLineWidth",{get:function(){return this.item.fixedLineWidth},set:function(t){this.item.fixedLineWidth=t},enumerable:!0,configurable:!0}),e.prototype.getControlBounds=function(){return new fg(this.item.location.x,this.item.location.y,this.item.cols*this.stepX,this.item.rows*this.stepY)},e.prototype._getBoundsMargin=function(){var t=this.lineWidth;return this.fixedLineWidth&&(t/=this.canvas.zoom),t},e.prototype.drawItemHandler=function(t){if(null!=t){t.save();var e=this.item.location,n=this.getControlCenter(),r=this.verticalLineColor.preview,i=this.horizontalLineColor.preview,o=this.lineWidth;this.fixedLineWidth&&(o/=this.canvas.zoom);var s,a,l=o/2/this.item.transform.scaleX,u=o/2/this.item.transform.scaleY,c=this.stepX*this.cols,h=this.stepY*this.rows;for(s=0,a=this.cols;s<=a;s++){var p=e.x+s*this.stepX,d=e.y+h+u,f=new pg(p,e.y-u).transform(this.item.transform,n),g=new pg(p,d).transform(this.item.transform,n);Iw.drawLine(t,f.x,f.y,g.x,g.y,o,r,this.item.opacity)}for(s=0,a=this.rows;s<=a;s++){var m=e.x+c+l,y=e.y+s*this.stepY;f=new pg(e.x-l,y).transform(this.item.transform,n),g=new pg(m,y).transform(this.item.transform,n),Iw.drawLine(t,f.x,f.y,g.x,g.y,o,i,this.item.opacity)}t.restore()}},e.prototype.getColorData=function(){var e=this.item,n=t.prototype.getColorData.call(this),r=this.canvas.rgbColorProfileFileId;return e.verticalLineColor.needUpdate(r)&&(n.verticalLineColor=e.verticalLineColor.getData()),e.horizontalLineColor.needUpdate(r)&&(n.horizontalLineColor=e.horizontalLineColor.getData()),n},e.prototype.setColorData=function(e){var n=this.item;t.prototype.setColorData.call(this,e),null!=e.verticalLineColor&&(n.verticalLineColor=bm.createColor(e.verticalLineColor)),null!=e.horizontalLineColor&&(n.horizontalLineColor=bm.createColor(e.horizontalLineColor))},e.prototype.hasColorsToUpdate=function(){var e=this.item,n=this.canvas.rgbColorProfileFileId;return t.prototype.hasColorsToUpdate.call(this)||e.verticalLineColor.needUpdate(n)||e.horizontalLineColor.needUpdate(n)},e}(Fw),gx=function(){var t=function(e,n){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(e,n)};return function(e,n){function r(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),mx=function(t){function e(e,n){void 0===n&&(n=null);var r=this;return null!=e?(r=t.call(this,Eg.ellipse(e.sourceRectangle.left,e.sourceRectangle.top,e.sourceRectangle.width,e.sourceRectangle.height),e,n)||this)._controlPoints=[new pg(e.sourceRectangle.left,e.sourceRectangle.top),new pg(e.sourceRectangle.right,e.sourceRectangle.bottom)]:r=t.call(this,null,e,n)||this,r._allowNegativeResize=!1,r}return gx(e,t),e.prototype.hitTest=function(e,n){var r=t.prototype.hitTest.call(this,e.clone()),i=this._getRectangle(),o=e.clone();o.translate(-i.centerX,-i.centerY),o.rotate(-i.angle),o.scale(2/i.width,2/i.height);var s=o.x*o.x+o.y*o.y<1,a=!!n&&i.toRectangleF().contains(e);return r.body=s||a,r},e}(Yw),yx=function(){function t(){}return t.alignment="alignment",t.firstLineIndent="first-line-indent",t.spaceAfter="space-after",t.spaceBefore="space-before",t.leftIndent="left-indent",t.rightIndent="right-indent",t}(),vx=function(){function t(){}return t.fontName="font-name",t.fontSize="font-size",t.color="color",t.bold="bold",t.italic="italic",t.underline="underline",t.penColor="pen-color",t.penWidth="pen-width",t.tracking="tracking",t.leading="leading",t.sub="sub",t.sup="sup",t.allCaps="all-caps",t.smallCaps="small-caps",t.fontFamily="font-family",t.fontStyle="font-style",t.wordSpacingScale="word-spacing-scale",t.supSize="sup-size",t.supPosition="sup-position",t.subSize="sub-size",t.subPosition="sub-position",t.digitType="digit-type",t.openType="ot",t.baselineShift="baseline-shift",t.inkName="ink-name",t.inkSolidity="ink-solidity",t.inkColor="ink-color",t.penInkName="pen-ink-name",t.penInkSolidity="pen-ink-solidity",t.penInkColor="pen-ink-color",t}(),_x=function(){function t(t,e,n,r){this._colorPaletteManager=t,this._fontService=e,this._useSimpleFontList=n,this._previewScale=r}return t.prototype.convert=function(t){var e=this._parse(t),n=this._convert(e,null);return this._serialize(n)},t.prototype._convert=function(t,e){var n=this._convertNode(t);null!=n&&null!=e&&e.appendChild(n);for(var r=0;r<t.childNodes.length;++r){var i=t.childNodes[r];this._isAccepted(i)==NodeFilter.FILTER_ACCEPT&&this._convert(i,n||e)}return n},t.prototype.getNodeName=function(t){return t.nodeName.toLowerCase()},t.dictToStyle=function(t){var e="",n=function(n){t.hasOwnProperty(n)&&(n===vx.openType?t[n].split(",").forEach((function(t){if(!Lg(t)){var r=t.trim().split(" "),i=r[0].toLowerCase()+","+(2===r.length?r[1]:"1");e+=n+": "+i+"; "}})):e+=n+": "+t[n]+"; ")};for(var r in t)n(r);return e.trim()},t.styleToDict=function(t){var e,n,r={};if(Lg(t))return r;var i=t.split(";");try{for(var o=function(t){var e="function"==typeof Symbol&&Symbol.iterator,n=e&&t[e],r=0;if(n)return n.call(t);if(t&&"number"==typeof t.length)return{next:function(){return t&&r>=t.length&&(t=void 0),{value:t&&t[r++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")}(i),s=o.next();!s.done;s=o.next()){var a=s.value.split(":");if(2===a.length){var l=a[0].trim(),u=a[1].trim();l===vx.openType&&r.hasOwnProperty(l)&&(u=r[l]+";"+u),r[l]=u}}}catch(c){e={error:c}}finally{try{s&&!s.done&&(n=o.return)&&n.call(o)}finally{if(e)throw e.error}}return r},t.stringToBoolean=function(t){return"true"===t},t.stringToNumber=function(t,e,n){if(void 0===e&&(e=""),void 0===n&&(n=0),null==t)return null;var r=Lg(e)?+t:+t.replace(e,"");return isNaN(r)?n:r},t.letterSpacingToTracking=function(t){var e=1e3*+t.replace("em;","").replace("em","");return isNaN(e)?0:e},t.trackingToLetterSpacing=function(t){return(isNaN(t)?0:t/1e3)+"em"},t.stringToTextAlignment=function(t){switch(t.toLocaleLowerCase()){case"left":return vy.Left;case"center":return vy.Center;case"right":return vy.Right;case"justify":case"justify-all":case"justification":case"justification-last-left":case"justification-last-center":case"justification-last-right":return vy.Justify;default:return vy.Left}},t.textAlignmentToXmlString=function(t){switch(t){case vy.Left:return"left";case vy.Center:return"center";case vy.Right:return"right";case vy.Justify:return"justification-last-left"}},t.textAlignmentToHtmlString=function(t){switch(t){case vy.Left:return"left";case vy.Center:return"center";case vy.Right:return"right";case vy.Justify:return"justify"}},t._defaultSupSubSize=.583,t}(),bx=function(){var t=function(e,n){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(e,n)};return function(e,n){function r(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),wx=function(t){function e(e,n,r,i,o){var s=t.call(this,e,n,r,i)||this;return s._defaultFontValue=o,s._supportedSpanStyles=["font-weight","font-style","text-decoration","text-decoration-line","font-size","font-family","color","-webkit-text-stroke","-webkit-text-stroke-width","-webkit-text-stroke-color","letter-spacing","line-height","text-transform","font-variant-caps","vertical-align","font-feature-settings"],s._supportedParagraphStyles=["text-indent","padding-bottom","padding-top","margin-left","margin-right","text-align"],s}return bx(e,t),e.prototype._parse=function(t){return(new DOMParser).parseFromString(t,"text/html").getElementsByTagName("body")[0]},e.prototype._serialize=function(t){return(new XMLSerializer).serializeToString(t).replace(/<body[\s\w.=":\/\s-;]*>/,"").replace("<body>","").replace("</body>","").replace(/&nbsp;/g,"\xa0").trim()},e.prototype._isAccepted=function(t){var e=this.getNodeName(t);return"p"===e||"br"===e||"span"===e||"#text"===e?NodeFilter.FILTER_ACCEPT:NodeFilter.FILTER_REJECT},e.prototype._convertNode=function(t){switch(this.getNodeName(t)){case"p":return this._convertParagraph(t);case"span":return this._convertSpan(t);default:return t.cloneNode(!1)}},e.prototype._convertParagraph=function(t){var e=document.createElement("p"),n=t.attributes.style;return this._applyParagraphStyles(e,null!=n?n.value:null),e},e.prototype._applyParagraphStyles=function(t,n){var r=this;if(null!=n){var i={},o=_x.styleToDict(n),s=e.getAlignmentValue(o);null!=s&&(i[yx.alignment]=_x.textAlignmentToXmlString(s));var a=e.getFirstLineIndentValue(o,this._previewScale);null!=a&&(i[yx.firstLineIndent]=a+"pt");var l=e.getSpaceAfterValue(o,this._previewScale);null!=l&&(i[yx.spaceAfter]=l+"pt");var u=e.getSpaceBeforeValue(o,this._previewScale);null!=u&&(i[yx.spaceBefore]=u+"pt");var c=e.getLeftIndentValue(o,this._previewScale);null!=c&&(i[yx.leftIndent]=c+"pt");var h=e.getRightIndentValue(o,this._previewScale);null!=h&&(i[yx.rightIndent]=h+"pt");var p=lg.keys(o).filter((function(t){return!r._supportedParagraphStyles.includes(t)}));p.length>0&&p.forEach((function(t){return console.log("HtmlToXml: Unknown paragraph style:"+t)}));var d=_x.dictToStyle(i);Lg(d)||t.setAttribute("style",d)}},e.getAlignmentValue=function(t){var e=t["text-align"];return null==e?null:_x.stringToTextAlignment(e)},e.getFirstLineIndentValue=function(t,e){void 0===e&&(e=1);var n=t["text-indent"];return null==n?null:_x.stringToNumber(n,"pt")/e},e.getSpaceAfterValue=function(t,e){void 0===e&&(e=1);var n=t["padding-bottom"];return null==n?null:_x.stringToNumber(n,"pt")/e},e.getSpaceBeforeValue=function(t,e){void 0===e&&(e=1);var n=t["padding-top"];return null==n?null:_x.stringToNumber(n,"pt")/e},e.getLeftIndentValue=function(t,e){void 0===e&&(e=1);var n=t["margin-left"];return null==n?null:_x.stringToNumber(n,"pt")/e},e.getRightIndentValue=function(t,e){void 0===e&&(e=1);var n=t["margin-right"];return null==n?null:_x.stringToNumber(n,"pt")/e},e.prototype._convertSpan=function(t){var e=document.createElement("span"),n=t.attributes.style,r=t.attributes.colordata;return this._applySpanStyles(e,null!=n?n.value:null,null!=r?r.value:null,t),e},e.prototype._applySpanStyles=function(t,n,r,i){var o=this;if(null!=n){var s=_x.styleToDict(n),a=_x.styleToDict(r),l={},u=e.getElementFontValue(i,null,this._defaultFontValue);null!=u&&e.setFontValue(l,u,this._fontService,this._useSimpleFontList);var c=e.getUnderlineValue(s);null!=c&&(l[vx.underline]=""+c);var h=e.getFontSizeValue(s,this._previewScale);null!=h&&(l[vx.fontSize]=h+"pt");var p=e.getColorValue(s,a,this._colorPaletteManager);null!=p&&(l[vx.color]=p.toString());var d=e.getStrokeValue(s,a,this._colorPaletteManager,this._previewScale);null!=d&&(null!=d.size&&(l[vx.penWidth]=d.size+"pt"),null!=d.colorIndex&&(l[vx.penColor]=d.colorIndex.toString()));var f=e.getTrackingValue(s);null!=f&&(l[vx.tracking]=f.toString());var g=e.getLeadingValue(s,this._previewScale);null!=g&&(l[vx.leading]=g+"pt");var m=e.getAllCapsValue(s);null!=m&&(l[vx.allCaps]=""+m);var y,v=e.getSmallCapsValue(s);null!=v&&(l[vx.smallCaps]=""+v),!0===e.getSupValue(s)&&(l[vx.sup]="true",null!=(y=e._getSupSubSize(s))&&(l[vx.supSize]=y)),!0===e.getSubValue(s)&&(l[vx.sub]="true",null!=(y=e._getSupSubSize(s))&&(l[vx.subSize]=y));var _=e.getOpenTypeValue(s);null!=_&&(l[vx.openType]=_);var b=lg.keys(s).filter((function(t){return!o._supportedSpanStyles.includes(t)}));b.length>0&&b.forEach((function(t){return console.log("HtmlToXml: Unknown span style:"+t)}));var w=_x.dictToStyle(l);Lg(w)||t.setAttribute("style",w)}},e._getSupSubSize=function(t){var e=t["font-size"];if(null==e)return null;var n=_x.stringToNumber(e.replace("%",""));if(null==n)return null;var r=n/100;return xg(_x._defaultSupSubSize,r)?null:(+r.toFixed(3)).toString()},e.getElementFontValue=function(t,e,n){var r=null!=n?lg.clone(n):{},i=function(t){null!=t.parentElement&&t!=e&&i(t.parentElement);var n=t.style.fontFamily,o=t.style.fontWeight,s=t.style.fontStyle;Lg(n)||(r.family=n),Lg(o)||(r.bold="bold"===o),Lg(s)||(r.italic="italic"===s)};return i(t),r},e.getFontValue=function(t){var e=t["font-weight"],n=t["font-style"],r=t["font-family"];return null==r&&null==e&&null==n?null:{family:Lg(r)?null:r,bold:null==e?null:"bold"===e,italic:null==n?null:"italic"===n}},e.getFontSettings=function(t,n,r){if(r){var i=e._deserializeCssEscapedString(t.family).replace(/"/g,"").replace(/'/g,"");return n.findSuitableFontParams(n.findOriginalFamilyName(i.replace("_cc_family_","")),t.bold,t.italic)}var o={};if(null!=t.family){var s=n.findOriginalPsName(t.family.replace("_cc_psname_",""));o.postScriptName=s}return null!=t.bold&&(o.fauxBold=t.bold),null!=t.italic&&(o.fauxItalic=t.italic),o},e.setFontValue=function(t,n,r,i){var o=e.getFontSettings(n,r,i);null!=o.postScriptName&&(t[vx.fontName]=o.postScriptName),null!=o.fauxBold&&(t[vx.bold]=""+o.fauxBold),null!=o.fauxItalic&&(t[vx.italic]=""+o.fauxItalic)},e._deserializeCssEscapedString=function(t){var e=t;return"'"===e[0]&&(e=e.slice(1)),"'"===e[e.length-1]&&(e=e.slice(0,e.length-1)),e},e.getBoldValue=function(t){var e=t["font-weight"];return null==e?null:"bold"===e},e.getItalicValue=function(t){var e=t["font-style"];return null==e?null:"italic"===e},e.getUnderlineValue=function(t){var e=t["text-decoration"]||t["text-decoration-line"];return null==e?null:"underline"===e},e.getFontSizeValue=function(t,e){void 0===e&&(e=1);var n=t["font-size"];if(null==n||"super"===t["vertical-align"]||"sub"===t["vertical-align"])return null;var r=12;return n.endsWith("pt")?r=_x.stringToNumber(n,"pt"):n.endsWith("px")?r=72*_x.stringToNumber(n,"px")/96:"x-small"==n?r=7.5:"small"==n?r=12*.8:"medium"==n?r=12:"large"==n?r=13.5:"x-large"==n?r=18:"xx-large"==n?r=24:"xxx-large"==n&&(r=36),+(r/e).toFixed(2)},e.getColorValue=function(t,n,r){var i=t.color;if(null==i)return null;var o=e._convertColor(i,n["color-index"],r);return null!=o?o:void 0},e.getStrokeValue=function(t,n,r,i){void 0===i&&(i=1);var o=null,s=null,a=t["-webkit-text-stroke"];if(null!=a?(o=a.substring(0,a.indexOf(" ")),s=a.substring(a.indexOf(" ")+1)):(o=t["-webkit-text-stroke-width"],s=t["-webkit-text-stroke-color"]),null==s&&null==o)return null;var l={};if(null!=o&&(l.size=_x.stringToNumber(o,"pt")/i),null!=s){var u=e._convertColor(s,n["pen-color-index"],r);null!=u&&(l.colorIndex=u)}return l},e.getTrackingValue=function(t){var n=t["letter-spacing"];return null==n?null:e.letterSpacingToTracking(n)},e.getLeadingValue=function(t,e){void 0===e&&(e=1);var n=t["line-height"];return null==n?null:"normal"===n?0:_x.stringToNumber(n,"pt")/e},e.getAllCapsValue=function(t){var e=t["text-transform"];return null==e?null:"uppercase"===e},e.getSmallCapsValue=function(t){var e=t["font-variant-caps"];return null==e?null:"all-small-caps"===e},e.getSupValue=function(t){var e=t["vertical-align"];return null==e?null:"super"===e},e.getSubValue=function(t){var e=t["vertical-align"];return null==e?null:"sub"===e},e.getOpenTypeValue=function(t){var e=t["font-feature-settings"];return null!=e?e.replace(/"/g,""):null},e._convertColor=function(t,e,n){var r;if(null!=e){if(r=+e,isNaN(r))return console.warn("HtmlToXml: invalid color index: "+e),null}else{var i=bm.createColor(t);r=n.addColorToPaletteReturnIndex(i)}return r},e}(_x);!function(t){t[t.Regular=0]="Regular",t[t.Bold=1]="Bold",t[t.Italic=2]="Italic",t[t.BoldItalic=3]="BoldItalic",t[t.Other=4]="Other"}(JC||(JC={}));var Cx,xx=function(){var t=function(e,n){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(e,n)};return function(e,n){function r(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),Sx=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return xx(e,t),e.prototype._parse=function(t){return(new DOMParser).parseFromString("<body>"+t.replace(/  /g,"\xa0 ")+"</body>","text/html").getElementsByTagName("body")[0]},e.prototype._serialize=function(t){return t.innerHTML},e.prototype._isAccepted=function(t){var e=this.getNodeName(t);return"p"===e||"br"===e||"span"===e||"#text"===e?NodeFilter.FILTER_ACCEPT:NodeFilter.FILTER_REJECT},e.prototype._convertNode=function(t){switch(this.getNodeName(t)){case"p":return this._convertParagraph(t);case"span":return this._convertSpan(t);default:return t.cloneNode(!1)}},e.prototype._convertParagraph=function(t){var e=document.createElement("p"),n=t.attributes.style;return this._applyParagraphStyles(e,null!=n?n.value:null),e},e.prototype._applyParagraphStyles=function(t,n){if(null!=n){var r=_x.styleToDict(n),i=r[yx.alignment];null!=i&&e.setAlignmentValue(t,i);var o=r[yx.firstLineIndent];o&&e.setFirstLineIndentValue(t,o,this._previewScale);var s=r[yx.spaceAfter];null!=s&&e.setSpaceAfterValue(t,s,this._previewScale);var a=r[yx.spaceBefore];null!=a&&e.setSpaceBeforeValue(t,a,this._previewScale);var l=r[yx.leftIndent];null!=l&&e.setLeftIndentValue(t,l,this._previewScale);var u=r[yx.rightIndent];null!=u&&e.setRightIndentValue(t,u,this._previewScale);var c=lg.values(yx),h=lg.keys(r).filter((function(t){return!c.includes(t)}));h.length>0&&h.forEach((function(t){return console.log("XmlToHtml: Unknown paragraph style:"+t)}))}},e.setAlignmentValue=function(t,e){var n="string"==typeof e?_x.stringToTextAlignment(e):e;t.style.textAlign=_x.textAlignmentToHtmlString(n)},e.setFirstLineIndentValue=function(t,e,n){void 0===n&&(n=1);var r="number"==typeof e?e:_x.stringToNumber(e,"pt");t.style.textIndent=r*n+"pt"},e.setSpaceAfterValue=function(t,e,n){void 0===n&&(n=1);var r="number"==typeof e?e:_x.stringToNumber(e,"pt");t.style.paddingBottom=r*n+"pt"},e.setSpaceBeforeValue=function(t,e,n){void 0===n&&(n=1);var r="number"==typeof e?e:_x.stringToNumber(e,"pt");t.style.paddingTop=r*n+"pt"},e.setRightIndentValue=function(t,e,n){void 0===n&&(n=1);var r="number"==typeof e?e:_x.stringToNumber(e,"pt");t.style.marginRight=r*n+"pt"},e.setLeftIndentValue=function(t,e,n){void 0===n&&(n=1);var r="number"==typeof e?e:_x.stringToNumber(e,"pt");t.style.marginLeft=r*n+"pt"},e.prototype._convertSpan=function(t){var e=document.createElement("span"),n=t.attributes.style;return this._applySpanStyles(e,null!=n?n.value:null),e},e.prototype._applySpanStyles=function(t,n){if(null!=n){var r=_x.styleToDict(n),i=e.getFontValue(r,this._fontService,this._useSimpleFontList);null!=i&&e.setFontValue(t,i);var o=r[vx.underline];null!=o&&e.setUnderlineValue(t,o);var s=r[vx.fontSize];null!=s&&e.setFontSizeValue(t,s,this._previewScale);var a=r[vx.leading];null!=a&&e.setLeadingValue(t,a,this._previewScale);var l=r[vx.tracking];null!=l&&e.setTrackingValue(t,parseFloat(l));var u=r[vx.color];null!=u&&e.setColorValue(t,this._convertColor(u),this._colorPaletteManager);var c=r[vx.penColor],h=r[vx.penWidth];if(null!=c||null!=h){var p={enabled:!0};null!=c&&(p.color=this._convertColor(c)),null!=h&&(p.size=_x.stringToNumber(h,"pt")),e.setStrokeValue(t,p,this._colorPaletteManager,this._previewScale)}var d=r[vx.sup],f=_x.stringToNumber(r[vx.supSize]);null!=d&&e.setSupValue(t,d,f);var g=r[vx.sub],m=_x.stringToNumber(r[vx.subSize]);null!=g&&e.setSubValue(t,g,m);var y=r[vx.allCaps];null!=y&&e.setAllCapsValue(t,y);var v=r[vx.smallCaps];null!=v&&e.setSmallCapsValue(t,v);var _=r[vx.openType];null!=_&&e.setOpenTypeValue(t,_);var b=lg.values(vx),w=lg.keys(r).filter((function(t){return!b.includes(t)}));w.length>0&&w.forEach((function(t){return console.log("XmlToHtml: Unknown span style:"+t)}))}},e.getFontValue=function(t,n,r){var i=t[vx.fontName],o=t[vx.bold],s=t[vx.italic];if(null==i&&null==o&&null==s)return null;var a={postScriptName:Lg(i)?null:i,fauxBold:Lg(o)?null:_x.stringToBoolean(o),fauxItalic:Lg(s)?null:_x.stringToBoolean(s)};return e.fontSettingsToHtmlValue(a,n,r)},e.fontSettingsToHtmlValue=function(t,e,n){if(null==t)return null;var r=t.postScriptName,i=t.fauxBold,o=t.fauxItalic;if(null==r&&null==i&&null==o)return null;var s={};if(n){if(!Lg(r)){s.family=e.getCssFontFamily(e.availableFontsByPsName[r.toLowerCase()].family);var a=e.recognizeStyleByPsName(r);s.bold=a===JC.Bold||a===JC.BoldItalic,s.italic=a===JC.Italic||a===JC.BoldItalic}}else s.family=null!=r?e.getCssPsName(r):null,s.bold=i,s.italic=o;return s},e.setFontValue=function(t,e){null!=e.family&&(t.style.fontFamily=e.family),null!=e.bold&&(t.style.fontWeight=!0===e.bold?"bold":"normal"),null!=e.italic&&(t.style.fontStyle=!0===e.italic?"italic":"normal")},e.setBoldValue=function(t,e){t.style.fontWeight=!0===e||"true"===e?"bold":"normal"},e.setItalicValue=function(t,e){t.style.fontStyle=!0===e||"true"===e?"italic":"normal"},e.setUnderlineValue=function(t,e){t.style.textDecoration=!0===e||"true"===e?"underline":"none"},e.setFontSizeValue=function(t,e,n){void 0===n&&(n=1);var r="number"==typeof e?e:_x.stringToNumber(e,"pt");t.style.fontSize=r*n+"pt"},e.setFontNameValue=function(t,e){t.style.fontFamily=e},e.setLeadingValue=function(t,e,n){void 0===n&&(n=1);var r="number"==typeof e?e:_x.stringToNumber(e,"pt");t.style.lineHeight=0===r?"normal":r*n+"pt"},e.setTrackingValue=function(t,e){t.style.letterSpacing=_x.trackingToLetterSpacing(e)},e.setColorValue=function(t,n,r){t.style.color=n.preview;var i=r.addColorToPaletteReturnIndex(n);e.setColorIndex(t,i)},e.setColorIndex=function(t,e){var n=t.attributes.colordata,r=null!=n?_x.styleToDict(n.value):{};r["color-index"]=e.toString(),t.setAttribute("colordata",_x.dictToStyle(r))},e.setStrokeValue=function(t,e,n,r){void 0===r&&(r=1);var i=t.attributes.colordata,o=null!=i?_x.styleToDict(i.value):{};e.enabled?(t.style.webkitTextStrokeWidth=e.size*r+"pt",t.style.webkitTextStrokeColor=e.color.preview,o["pen-color-index"]=n.addColorToPaletteReturnIndex(e.color).toString()):(Lg(t.style.webkitTextStrokeWidth)&&Lg(t.style.webkitTextStrokeColor)&&Lg(t.style.webkitTextStroke)?(t.style.webkitTextStrokeWidth="0pt",t.style.webkitTextStrokeColor="rgba(0,0,0,0)"):(t.style.webkitTextStrokeWidth=null,t.style.webkitTextStrokeColor=null,t.style.webkitTextStroke=null),delete o["pen-color-index"]),lg.isEmpty(o)?t.removeAttribute("colordata"):t.setAttribute("colordata",_x.dictToStyle(o))},e.setSupValue=function(t,e,n){!0!==e&&"true"!==e||(t.style.verticalAlign="super",null==n&&(n=_x._defaultSupSubSize),t.style.fontSize=100*n+"%")},e.setSubValue=function(t,e,n){!0!==e&&"true"!==e||(t.style.verticalAlign="sub",null==n&&(n=_x._defaultSupSubSize),t.style.fontSize=100*n+"%")},e.setAllCapsValue=function(t,e){t.style.textTransform=!0===e||"true"===e?"uppercase":"none"},e.setSmallCapsValue=function(t,e){t.style.fontVariantCaps=!0===e||"true"===e?"all-small-caps":"none"},e.setOpenTypeValue=function(t,e){var n=null;e.split(";").forEach((function(t){if(!Lg(t)){var e=t.split(","),r=2===e.length?e[1]:null;null==n?n="":n+=", ",n+='"'+e[0].toLowerCase()+'"',null!=r&&(n+=" "+r)}})),null!=n&&(t.style.fontFeatureSettings=n)},e.prototype._convertColor=function(t){var e=+t;return isNaN(e)?bm.createColor(t):this._colorPaletteManager.getPaletteColorAt(e)},e}(_x),Px=function(t,e){var n="function"==typeof Symbol&&t[Symbol.iterator];if(!n)return t;var r,i,o=n.call(t),s=[];try{for(;(void 0===e||e-- >0)&&!(r=o.next()).done;)s.push(r.value)}catch(a){i={error:a}}finally{try{r&&!r.done&&(n=o.return)&&n.call(o)}finally{if(i)throw i.error}}return s},Ix=function(){function t(){}return t.fontName="fontName",t.bold="bold",t.italic="italic",t.underline="underline",t.subscript="subscript",t.superscript="superscript",t.documentCommands=lg.values([t.fontName,t.bold,t.italic,t.underline,t.color="color",t.justifyCenter="justifyCenter",t.justifyFull="justifyFull",t.justifyLeft="justifyLeft",t.justifyRight="justifyRight",t.subscript,t.superscript]),t.alignment="alignment",t.firstLineIndent="first-line-indent",t.spaceAfter="space-after",t.spaceBefore="space-before",t.leftIndent="left-indent",t.rightIndent="right-indent",t.fontSize="fontSize",t.stroke="stroke",t.tracking="tracking",t.leading="leading",t.allCaps="all-caps",t.smallCaps="small-caps",t.openType="open-type",t}(),Ex=function(){function t(t){var e=this;this._manager=null,this._fontService=null,this._useSimpleFontList=!1,this._range=null,this._inlineStyle=null,this._defaultInlineStyle=null,this._paragraphStyle=null,this._defaultParagraphStyle=null,this._usedColors=[],this._previewScale=1,this.styleChanged=new og,this.initialized=new og,this._ready=!1,this._elementHandler=t,document.onselectionchange=function(t){e._onSelectionChange()}}return t.prototype.init=function(t,e,n){var r=this;this._fontService=t,this._useSimpleFontList=e,null!=n&&Ww({url:n+"/cssFonts",type:Rw.post,headers:[Dw.json],data:JSON.stringify({requestedFontsByPsName:Object.keys(t.availableFontsByPsName),advancedMode:!this._useSimpleFontList})}).then((function(t){var e="data:text/css,"+encodeURI(t.value);r._elementHandler.addTextEditorStyles(e),r._ready=!0,r.initialized.fire()}))},t.prototype.show=function(t,e){var n,r,i=this;this._manager=t,this._previewScale=null!==(n=e.previewScale)&&void 0!==n?n:1;var o=null===(r=e.textFormattingEnabled)||void 0===r||r,s=new Sx(this._manager,this._fontService,this._useSimpleFontList,this._previewScale).convert(e.text);this._elementHandler.showTextEditor(e.rectangle,e.textAlignment,s,e.borderWidth,e.borderColor,e.fillColor,e.opacity),this._setDefaultStyles(e.defaultInlineStyle,e.defaultParagraphStyle),this._div.addEventListener("input",(function(t){i._div.innerHTML.startsWith("<p")||(document.execCommand("selectAll"),document.execCommand("formatblock",!1,"p")),"historyUndo"!==t.inputType&&"historyRedo"!==t.inputType||document.getSelection().collapseToEnd()})),o||this._div.addEventListener("beforeinput",(function(t){["formatBold","formatItalic","formatUnderline","formatSuperscript","formatSubscript","formatJustifyFull","formatJustifyCenter","formatJustifyRight","formatJustifyLeft","formatFontColor","formatFontName"].includes(t.inputType)&&t.preventDefault()})),this._div.addEventListener("paste",(function(t){t.preventDefault();var e=t.clipboardData.getData("text/plain");document.execCommand("insertText",!1,e)})),this._usedColors=[]},t.prototype.hide=function(){this._updateColors();var t=this._elementHandler.hideTextEditor(),e=wx.getElementFontValue(this._div),n=new wx(this._manager,this._fontService,this._useSimpleFontList,this._previewScale,e).convert(t);return this._manager=null,n},t.prototype.undo=function(){document.execCommand("undo")},t.prototype.redo=function(){document.execCommand("redo")},Object.defineProperty(t.prototype,"canUndo",{get:function(){return document.queryCommandEnabled("undo")},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"canRedo",{get:function(){return document.queryCommandEnabled("redo")},enumerable:!0,configurable:!0}),t.prototype.processMouseEvent=function(t){},t.prototype.processKeyEvent=function(t){return!0},Object.defineProperty(t.prototype,"_div",{get:function(){return this._elementHandler.textEditorDiv},enumerable:!0,configurable:!0}),t.prototype._updateColors=function(){var t=this;this._div.querySelectorAll("span[style*=color]").forEach((function(e){if(!Lg(e.style.color)){var n=t._findUsedColor(e.style.color);if(null!=n){var r=t._manager.addColorToPaletteReturnIndex(n);Sx.setColorIndex(e,r)}}}))},t.prototype._findUsedColor=function(t){if(Lg(t))return null;var e=bm.createColor(t),n=this._usedColors.find((function(t){return bm.createColor(t.preview).equals(e)}));return null!=n?n.color:null},t.prototype._focusOnDiv=function(){var t=document.getSelection(),e=t.rangeCount>0?t.getRangeAt(0):null;null!=e&&this._div.contains(e.commonAncestorContainer)||(this._div.focus(),t.removeAllRanges(),t.addRange(this._range))},t.prototype._onSelectionChange=function(t){if(void 0===t&&(t=!0),null!=this._div){var e=document.getSelection(),n=e.rangeCount>0?e.getRangeAt(0):null;null!=n&&this._div.contains(n.commonAncestorContainer)&&(this._range=n,t&&this._updateStyles())}},Object.defineProperty(t.prototype,"active",{get:function(){return null!=this._manager},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"ready",{get:function(){return this._ready},enumerable:!0,configurable:!0}),t.prototype._updateStyles=function(){if(this.active){var t=this._updateInlineStyles(),e=this._updateParagraphStyles();(t||e)&&this.styleChanged.fire()}},t.prototype._updateInlineStyles=function(){var t=this;if(null==this._range||this._range.startContainer==this._div)return!1;var e=this._getDefaultInlineStyle(),n=function(r){if(t._isParagraph(r)||n(r.parentNode),t._isSpan(r)){var i=r.attributes.style,o=_x.styleToDict(null!=i?i.value:null),s=r.attributes.colordata,a=_x.styleToDict(null!=s?s.value:null),l=wx.getElementFontValue(r,t._div);if(null!=l){var u=wx.getFontSettings(l,t._fontService,t._useSimpleFontList);null!=u.postScriptName&&(e.font.postScriptName=u.postScriptName),null!=u.fauxBold&&(e.font.fauxBold=u.fauxBold),null!=u.fauxItalic&&(e.font.fauxItalic=u.fauxItalic)}var c=wx.getFontSizeValue(o,t._previewScale);null!=c&&(e.font.size=c);var h=wx.getUnderlineValue(o);null!=h&&(e.underline=h);var p=wx.getLeadingValue(o,t._previewScale);null!=p&&(e.leading=p);var d=wx.getTrackingValue(o);null!=d&&(e.tracking=d);var f=t._findUsedColor(o.color);if(null!=f)e.color=f;else{var g=wx.getColorValue(o,a,t._manager);null!=g&&(e.color=t._manager.getPaletteColorAt(g))}var m=wx.getStrokeValue(o,a,t._manager,t._previewScale);if(null!=m){var y=!1;e.stroke={},null!=m.size&&(e.stroke.size=m.size,y=e.stroke.size>0),null!=m.colorIndex&&(e.stroke.color=t._manager.getPaletteColorAt(m.colorIndex),y=y||e.stroke.color.alpha>0),e.stroke.enabled=y}}};return n(this._range.startContainer),!lg.isEqual(this._inlineStyle,e)&&(this._inlineStyle=e,!0)},t.prototype._updateParagraphStyles=function(){var t=this;if(null==this._range||this._range.startContainer==this._div)return!1;var e=this._getDefaultParagraphStyle(),n=function(r){if(t._isParagraph(r)){var i=r.attributes.style,o=_x.styleToDict(null!=i?i.value:null),s=wx.getAlignmentValue(o);null!=s&&(e.alignment=s);var a=wx.getFirstLineIndentValue(o,t._previewScale);null!=a&&(e.firstLineIndent=a);var l=wx.getSpaceAfterValue(o,t._previewScale);null!=l&&(e.spaceAfter=l);var u=wx.getSpaceBeforeValue(o,t._previewScale);null!=u&&(e.spaceBefore=u);var c=wx.getLeftIndentValue(o,t._previewScale);null!=c&&(e.leftIndent=c);var h=wx.getRightIndentValue(o,t._previewScale);null!=h&&(e.rightIndent=h)}else n(r.parentNode)};return n(this._range.startContainer),!lg.isEqual(this._paragraphStyle,e)&&(this._paragraphStyle=e,!0)},Object.defineProperty(t.prototype,"inlineStyle",{get:function(){return this.active?this._inlineStyle:null},set:function(t){if(this.active&&(this._removeCurrentStyles(t,this._inlineStyle),!lg.isEmpty(t))){var e=this._inlineStyleToCommands(t);if(0!=e.length){this._focusOnDiv();var n=e[0];if(1==e.length&&Ix.documentCommands.includes(n.key))if(n.key==Ix.color){var r=n.value;null!=r?(document.execCommand("foreColor",!1,r.preview),this._usedColors.push({preview:r.preview,color:r})):console.warn("Incorrect color value")}else document.execCommand(n.key,!1,n.value);else this._customInlineCommand(e);this._updateStyles()}}},enumerable:!0,configurable:!0}),t.prototype._removeCurrentStyles=function(t,e){var n=this;lg.keys(t).forEach((function(r){var i=e[r],o=t[r];null!=i?"stroke"===r?(lg.isEqual(o,i)||o.enabled===i.enabled&&o.size===i.size&&o.color instanceof um&&o.color.equals(i.color))&&delete t[r]:o instanceof um?o.equals(i)&&delete t[r]:o instanceof Object?n._removeCurrentStyles(o,i):o===i&&delete t[r]:console.warn("_removeCurrentStyles: Incorrect current value state: key "+r+" not found")}))},t.prototype._inlineStyleToCommands=function(t){var e=[];if(null!=t.font){var n=Sx.fontSettingsToHtmlValue(t.font,this._fontService,this._useSimpleFontList);if(null!=n){if(null!=this._inlineStyle){var r=Sx.fontSettingsToHtmlValue(this._inlineStyle.font,this._fontService,this._useSimpleFontList);this._removeCurrentStyles(n,r)}null!=n.family&&e.push({key:Ix.fontName,value:n.family}),null!=n.bold&&e.push({key:Ix.bold,value:n.bold}),null!=n.italic&&e.push({key:Ix.italic,value:n.italic})}null!=t.font.size&&e.push({key:Ix.fontSize,value:t.font.size})}return null!=t.underline&&e.push({key:Ix.underline,value:t.underline}),null!=t.leading&&e.push({key:Ix.leading,value:t.leading}),null!=t.tracking&&e.push({key:Ix.tracking,value:t.tracking}),null!=t.color&&e.push({key:Ix.color,value:t.color}),null!=t.stroke&&e.push({key:Ix.stroke,value:t.stroke}),null!=t.openType&&e.push({key:Ix.openType,value:t.openType}),e},Object.defineProperty(t.prototype,"paragraphStyle",{get:function(){return this.active?this._paragraphStyle:null},set:function(t){if(this.active&&(this._removeCurrentStyles(t,this._paragraphStyle),!lg.isEmpty(t))){var e=this._paragraphStyleToCommands(t);if(0!=e.length){var n=e[0];1==e.length&&Ix.documentCommands.includes(n.key)?(this._div.focus(),document.execCommand(n.key,!1,n.value)):this._customParagraphCommand(e),this._updateStyles()}}},enumerable:!0,configurable:!0}),t.prototype._paragraphStyleToCommands=function(t,e){void 0===e&&(e=!0);var n=[];if(null!=t.alignment)if(e&&lg.isEmpty(lg.omit(t,Ix.alignment)))switch(t.alignment){case vy.Left:n.push({key:Ix.justifyLeft});break;case vy.Center:n.push({key:Ix.justifyCenter});break;case vy.Right:n.push({key:Ix.justifyRight});break;case vy.Justify:n.push({key:Ix.justifyFull})}else n.push({key:Ix.alignment,value:t.alignment});return null!=t.firstLineIndent&&n.push({key:Ix.firstLineIndent,value:t.firstLineIndent}),null!=t.leftIndent&&n.push({key:Ix.leftIndent,value:t.leftIndent}),null!=t.rightIndent&&n.push({key:Ix.rightIndent,value:t.rightIndent}),null!=t.spaceAfter&&n.push({key:Ix.spaceAfter,value:t.spaceAfter}),null!=t.spaceBefore&&n.push({key:Ix.spaceBefore,value:t.spaceBefore}),n},t.prototype._isSpan=function(t){return"span"===t.nodeName.toLocaleLowerCase()},t.prototype._isParagraph=function(t){return"p"===t.nodeName.toLocaleLowerCase()},t.prototype._isText=function(t){return"#text"===t.nodeName.toLocaleLowerCase()},t.prototype._customInlineCommand=function(t){var e=this,n=this._range;if(null!=n&&!n.collapsed){var r=document.getSelection(),i=this._div.cloneNode(),o=function(t){if(r.containsNode(t,!1)||!t.hasChildNodes())return!0;var i=!0,s=!0;return e._isSpan(t.firstChild)?i=o(t.firstChild):e._isText(t.firstChild)&&(i=t.firstChild.isSameNode(n.startContainer)&&0==n.startOffset),e._isSpan(t.lastChild)?s=o(t.lastChild):e._isText(t.lastChild)&&(s=t.lastChild.isSameNode(n.endContainer)&&n.endOffset==t.lastChild.length),e._range.startContainer.isSameNode(n.endContainer)?i&&s:i||s},s=function(i,a){i.childNodes.forEach((function(i){if(r.containsNode(i,!0))if(e._isText(i)){var l=i.cloneNode(!1),u=null,c=0;i.isSameNode(n.startContainer)&&(u=l.splitText(c=n.startOffset),a.appendChild(l),l=u,u=null),i.isSameNode(n.endContainer)&&(u=l.splitText(n.endOffset-c));var h=document.createElement("span");e._applyCommands(h,t),h.textContent=l.textContent,a.appendChild(h),null!=u&&a.appendChild(u)}else if(e._isSpan(i)&&o(i)){var p=i.cloneNode(!0);e._applyCommands(p,t),a.appendChild(p)}else{var d=i.cloneNode(!1);s(i,d),a.appendChild(d)}else a.appendChild(i.cloneNode(!0))}))};this._div.childNodes.forEach((function(t){if(r.containsNode(t,!0)){var e=t.cloneNode(!1);s(t,e),i.appendChild(e)}else i.appendChild(t.cloneNode(!0))})),this._div.focus(),document.execCommand("selectAll"),document.execCommand("insertHTML",!1,i.innerHTML),this._onSelectionChange(!1)}},t.prototype._customParagraphCommand=function(t){var e=this;if(null!=this._range){var n=document.getSelection(),r=this._div.cloneNode();this._div.childNodes.forEach((function(i){if(e._isParagraph(i)){var o=i.cloneNode(!0);n.containsNode(i,!0)&&e._applyCommands(o,t),r.appendChild(o)}})),this._div.focus(),document.execCommand("selectAll"),document.execCommand("insertHTML",!1,r.innerHTML),this._onSelectionChange(!1)}},t.prototype._applyCommands=function(t,e){var n,r;try{for(var i=function(t){var e="function"==typeof Symbol&&Symbol.iterator,n=e&&t[e],r=0;if(n)return n.call(t);if(t&&"number"==typeof t.length)return{next:function(){return t&&r>=t.length&&(t=void 0),{value:t&&t[r++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")}(e),o=i.next();!o.done;o=i.next()){var s=o.value,a=s.value;switch(s.key){case Ix.fontName:Sx.setFontNameValue(t,a);break;case Ix.fontSize:Sx.setFontSizeValue(t,a,this._previewScale);break;case Ix.bold:Sx.setBoldValue(t,a);break;case Ix.italic:Sx.setItalicValue(t,a);break;case Ix.underline:Sx.setUnderlineValue(t,a);break;case Ix.leading:Sx.setLeadingValue(t,a,this._previewScale);break;case Ix.tracking:Sx.setTrackingValue(t,a);break;case Ix.color:Sx.setColorValue(t,a,this._manager);break;case Ix.stroke:Sx.setStrokeValue(t,a,this._manager,this._previewScale);break;case Ix.openType:Sx.setOpenTypeValue(t,a);break;case Ix.alignment:Sx.setAlignmentValue(t,a);break;case Ix.firstLineIndent:Sx.setFirstLineIndentValue(t,a,this._previewScale);break;case Ix.spaceAfter:Sx.setSpaceAfterValue(t,a,this._previewScale);break;case Ix.spaceBefore:Sx.setSpaceBeforeValue(t,a,this._previewScale);break;case Ix.leftIndent:Sx.setLeftIndentValue(t,a,this._previewScale);break;case Ix.rightIndent:Sx.setRightIndentValue(t,a,this._previewScale)}}}catch(l){n={error:l}}finally{try{o&&!o.done&&(r=i.return)&&r.call(i)}finally{if(n)throw n.error}}},t.prototype._setDefaultStyles=function(t,e){this._inlineStyle=null,this._defaultInlineStyle=t,this._paragraphStyle=null,this._defaultParagraphStyle=e;var n=this._inlineStyleToCommands(t),r=this._paragraphStyleToCommands(e,!1);this._applyCommands(this._div,function(){for(var t=[],e=0;e<arguments.length;e++)t=t.concat(Px(arguments[e]));return t}(n,r))},t.prototype._getDefaultInlineStyle=function(){var t=this._defaultInlineStyle;return{font:{postScriptName:t.font.postScriptName,fauxBold:t.font.fauxBold,fauxItalic:t.font.fauxItalic,size:t.font.size},underline:t.underline,leading:t.leading,tracking:t.tracking,color:t.color.clone(),stroke:{enabled:t.stroke.enabled,size:t.stroke.size,color:t.stroke.color.clone()},openType:t.openType}},t.prototype._getDefaultParagraphStyle=function(){return lg.clone(this._defaultParagraphStyle)},t}(),Tx=function(t,e,n,r){return new(n||(n=Promise))((function(i,o){function s(t){try{l(r.next(t))}catch(e){o(e)}}function a(t){try{l(r.throw(t))}catch(e){o(e)}}function l(t){var e;t.done?i(t.value):(e=t.value,e instanceof n?e:new n((function(t){t(e)}))).then(s,a)}l((r=r.apply(t,e||[])).next())}))},Ax=function(t,e){var n,r,i,o,s={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]};return o={next:a(0),throw:a(1),return:a(2)},"function"==typeof Symbol&&(o[Symbol.iterator]=function(){return this}),o;function a(o){return function(a){return function(o){if(n)throw new TypeError("Generator is already executing.");for(;s;)try{if(n=1,r&&(i=2&o[0]?r.return:o[0]?r.throw||((i=r.return)&&i.call(r),0):r.next)&&!(i=i.call(r,o[1])).done)return i;switch(r=0,i&&(o=[2&o[0],i.value]),o[0]){case 0:case 1:i=o;break;case 4:return s.label++,{value:o[1],done:!1};case 5:s.label++,r=o[1],o=[0];continue;case 7:o=s.ops.pop(),s.trys.pop();continue;default:if(!(i=(i=s.trys).length>0&&i[i.length-1])&&(6===o[0]||2===o[0])){s=0;continue}if(3===o[0]&&(!i||o[1]>i[0]&&o[1]<i[3])){s.label=o[1];break}if(6===o[0]&&s.label<i[1]){s.label=i[1],i=o;break}if(i&&s.label<i[2]){s.label=i[2],s.ops.push(o);break}i[2]&&s.ops.pop(),s.trys.pop();continue}o=e.call(t,s)}catch(a){o=[6,a],r=0}finally{n=i=0}if(5&o[0])throw o[1];return{value:o[0]?o[1]:void 0,done:!0}}([o,a])}}},kx=function(){function t(t){this._productHandler=t}return t.prototype._switchSurface=function(t){var e=this._productHandler.product;if(null!=e){var n=e.surfaces;if(!(n.length<=0)){var r=n.indexOf(this._productHandler.currentSurface);-1===r&&(console.warn("Current surface is not found in product"),r=0);var i,o=n.length-1;i=null!=t?Math.max(Math.min(r+t,o),0):r<o?r+1:0,this.switchToSurface(n.get(i))}}},t.prototype.switchToSurface=function(t){return Tx(this,void 0,void 0,(function(){var e;return Ax(this,(function(n){return null==(e=this._productHandler.product)?[2]:0===e.surfaces.length?(console.warn("Surfaces are not found!"),[2]):this._productHandler.currentSurface===t?[2]:(this._productHandler.currentSurface=t,[2])}))}))},t.prototype.getNextSurface=function(t){return Tx(this,void 0,void 0,(function(){var e,n,r,i;return Ax(this,(function(o){return null==(e=this._productHandler.product)?[2]:(n=e.surfaces).length<=0?[2,null]:(-1==(r=n.indexOf(this._productHandler.currentSurface))&&(console.warn("Current surface is not found in product"),r=0),i=r,null!=t?i+=t:i++,[2,e.surfaces.get(i)])}))}))},t.prototype.switchToNextSurface=function(){this._switchSurface()},t.prototype.switchSurfaceForward=function(){return Tx(this,void 0,void 0,(function(){return Ax(this,(function(t){return this._switchSurface(1),[2]}))}))},t.prototype.switchSurfaceBackward=function(){return Tx(this,void 0,void 0,(function(){return Ax(this,(function(t){return this._switchSurface(-1),[2]}))}))},t}();!function(t){t.switchToSurface="switchToSurface",t.getNextSurface="getNextSurface",t.switchToNextSurface="switchToNextSurface",t.switchSurfaceForward="switchSurfaceForward",t.switchSurfaceBackward="switchSurfaceBackward"}(Cx||(Cx={}));var Ox,Mx=function(){function t(t){this._args=t}return t.prototype.execute=function(){throw new Xf},t}(),Rx=function(){var t=function(e,n){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(e,n)};return function(e,n){function r(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),Dx=function(t){function e(e,n){var r=t.call(this,e)||this;return r._historyArgs=n,null==r._historyArgs&&(r._historyArgs={}),r._historyUpdateMode=null!=r._historyArgs.historyUpdateMode?r._historyArgs.historyUpdateMode:Ox.Update,r}return Rx(e,t),e.prototype.execute=function(){return t=this,void 0,n=function(){var t;return function(t,e){var n,r,i,o,s={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]};return o={next:a(0),throw:a(1),return:a(2)},"function"==typeof Symbol&&(o[Symbol.iterator]=function(){return this}),o;function a(o){return function(a){return function(o){if(n)throw new TypeError("Generator is already executing.");for(;s;)try{if(n=1,r&&(i=2&o[0]?r.return:o[0]?r.throw||((i=r.return)&&i.call(r),0):r.next)&&!(i=i.call(r,o[1])).done)return i;switch(r=0,i&&(o=[2&o[0],i.value]),o[0]){case 0:case 1:i=o;break;case 4:return s.label++,{value:o[1],done:!1};case 5:s.label++,r=o[1],o=[0];continue;case 7:o=s.ops.pop(),s.trys.pop();continue;default:if(!(i=(i=s.trys).length>0&&i[i.length-1])&&(6===o[0]||2===o[0])){s=0;continue}if(3===o[0]&&(!i||o[1]>i[0]&&o[1]<i[3])){s.label=o[1];break}if(6===o[0]&&s.label<i[1]){s.label=i[1],i=o;break}if(i&&s.label<i[2]){s.label=i[2],s.ops.push(o);break}i[2]&&s.ops.pop(),s.trys.pop();continue}o=e.call(t,s)}catch(a){o=[6,a],r=0}finally{n=i=0}if(5&o[0])throw o[1];return{value:o[0]?o[1]:void 0,done:!0}}([o,a])}}}(this,(function(e){switch(e.label){case 0:return null!=this._historyArgs.history&&this._historyArgs.history.pause(),[4,this._executeCommandBody()];case 1:return t=e.sent(),null!=this._historyArgs.history&&this._historyArgs.history.resume(this._historyUpdateMode!==Ox.NotUpdate,this._historyArgs.historyUpdateMode===Ox.ForceUpdate),[2,t]}}))},new((e=void 0)||(e=Promise))((function(r,i){function o(t){try{a(n.next(t))}catch(e){i(e)}}function s(t){try{a(n.throw(t))}catch(e){i(e)}}function a(t){var n;t.done?r(t.value):(n=t.value,n instanceof e?n:new e((function(t){t(n)}))).then(o,s)}a((n=n.apply(t,[])).next())}));var t,e,n},e.prototype._executeCommandBody=function(){throw new Xf},e.prototype.redo=function(){throw new Xf},e.prototype.undo=function(){throw new Xf},e}(Mx);!function(t){t[t.NotUpdate=0]="NotUpdate",t[t.Update=1]="Update",t[t.ForceUpdate=2]="ForceUpdate"}(Ox||(Ox={}));var Bx,jx=function(){var t=function(e,n){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(e,n)};return function(e,n){function r(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),Fx=function(t){function e(e,n,r){var i=t.call(this,r,n)||this;return i._product=e,i}return jx(e,t),e}(Dx),zx=function(){function t(){}return t.prototype.rotate=function(t,e){t.rotateAngle+=this._getRotationTypeAngle(e)},t.prototype._getRotationTypeAngle=function(t){switch(t){case Bx.Rotate180:return 180;case Bx.Rotate270:return 270;default:return 90}},t}();!function(t){t[t.None=0]="None",t[t.Rotate90=90]="Rotate90",t[t.Rotate180=180]="Rotate180",t[t.Rotate270=270]="Rotate270",t[t.Auto=-1]="Auto"}(Bx||(Bx={}));var Lx=function(){var t=function(e,n){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(e,n)};return function(e,n){function r(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),Hx=function(t){function e(e,n,r,i){var o=t.call(this,r,n,i)||this;return o._productHandler=e,o._rotationAlgorithm=new zx,o}return Lx(e,t),e.prototype._executeCommandBody=function(){return t=this,void 0,n=function(){return function(t,e){var n,r,i,o,s={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]};return o={next:a(0),throw:a(1),return:a(2)},"function"==typeof Symbol&&(o[Symbol.iterator]=function(){return this}),o;function a(o){return function(a){return function(o){if(n)throw new TypeError("Generator is already executing.");for(;s;)try{if(n=1,r&&(i=2&o[0]?r.return:o[0]?r.throw||((i=r.return)&&i.call(r),0):r.next)&&!(i=i.call(r,o[1])).done)return i;switch(r=0,i&&(o=[2&o[0],i.value]),o[0]){case 0:case 1:i=o;break;case 4:return s.label++,{value:o[1],done:!1};case 5:s.label++,r=o[1],o=[0];continue;case 7:o=s.ops.pop(),s.trys.pop();continue;default:if(!(i=(i=s.trys).length>0&&i[i.length-1])&&(6===o[0]||2===o[0])){s=0;continue}if(3===o[0]&&(!i||o[1]>i[0]&&o[1]<i[3])){s.label=o[1];break}if(6===o[0]&&s.label<i[1]){s.label=i[1],i=o;break}if(i&&s.label<i[2]){s.label=i[2],s.ops.push(o);break}i[2]&&s.ops.pop(),s.trys.pop();continue}o=e.call(t,s)}catch(a){o=[6,a],r=0}finally{n=i=0}if(5&o[0])throw o[1];return{value:o[0]?o[1]:void 0,done:!0}}([o,a])}}}(this,(function(t){return[2,this.rotateProduct(this._args.rotationType)]}))},new((e=void 0)||(e=Promise))((function(r,i){function o(t){try{a(n.next(t))}catch(e){i(e)}}function s(t){try{a(n.throw(t))}catch(e){i(e)}}function a(t){var n;t.done?r(t.value):(n=t.value,n instanceof e?n:new e((function(t){t(n)}))).then(o,s)}a((n=n.apply(t,[])).next())}));var t,e,n},e.prototype.redo=function(){throw new Xf},e.prototype.undo=function(){throw new Xf},e.prototype.rotateProduct=function(t){return null!=this._productHandler&&null!=this._product&&this._rotationAlgorithm.rotate(this._productHandler.currentSurface,t),this._productHandler.contentAngle},e}(Fx),Nx=function(){},Wx=function(){},Vx=function(){},Ux=function(){function t(t){this._itemData=t}return t.prototype.applyImage=function(t){var e=this.applyShape(t);return this._applyColor(t,"overlayColor")||e},t.prototype.applyLine=function(t){var e=this._applyOpacity(t);return this._applyColor(t)||e},t.prototype.applyDashedLine=function(t){var e=this._applyOpacity(t);return e=this._applyColor(t)||e,this._applyColor(t,"altColor","altColor")||e},t.prototype.applyBaseText=function(t){var e=this.applyShape(t);return e=this._applyColor(t)||e,e=this._applyFont(t)||e,e=this._applyTextProperty(t,"underline")||e,e=this._applyTextProperty(t,"tracking")||e,e=this._applyTextProperty(t,"leading")||e,e=this._applyShadow(t)||e,this._applyStroke(t)||e},t.prototype.applyShape=function(t){var e=this._applyOpacity(t);return e=this._applyFillColor(t)||e,e=this._applyBorderColor(t)||e,this._applyBorderWidth(t)||e},t.prototype.applyClipart=function(t){return this._applyClipartColors(t)},t.prototype.applyBarcode=function(t){var e=this.applyShape(t);return this._applyBarcodeColor(t)||e},t.prototype.applyPlaceholder=function(t){var e=!1;return GP.getContentEffect(t)===ov.Colorize&&(e=this._applyColor(t,"contentFillColor","fillColor")||e,this._itemData.fillColor=null),e=this.applyShape(t)||e,this._applyColor(t,"overlayColor")||e},t.prototype._applyFillColor=function(t){return this._applyColor(t,"fillColor","fillColor")},t.prototype._applyClipartColors=function(t){var e=this,n=!1;return this._itemData.clipartColors.forEach((function(r,i){null!=r&&e._tryApplyColor(r,(function(e){t.setColor(t.colorGroups[i],e),n=!0}))})),n},t.prototype._applyTextFillColor=function(t){return this._applyColor(t,"fillColor","textFillColor")},t.prototype._applyFont=function(t){if(null==this._itemData.font)return!1;var e=!1;return this._itemData.font.postScriptName&&(t.font.postScriptName=this._itemData.font.postScriptName,e=!0),null!=this._itemData.font.fauxItalic&&(t.font.fauxItalic=this._itemData.font.fauxItalic,e=!0),null!=this._itemData.font.fauxBold&&(t.font.fauxBold=this._itemData.font.fauxBold,e=!0),this._itemData.font.size&&(t.font.size=this._itemData.font.size,e=!0),null!=this._itemData.font.allCaps&&(t.font.allCaps=this._itemData.font.allCaps,e=!0),e},t.prototype._applyTextProperty=function(t,e){return null!=this._itemData[e]&&(t[e]=this._itemData[e],!0)},t.prototype._applyShadow=function(t){if(null==this._itemData.shadow||null==t.shadow)return!1;var e=!1;return this._itemData.shadow.color&&this._itemData.shadow.color!==t.shadow.color.preview&&(e=this._tryApplyColor(this._itemData.shadow.color,(function(e){return t.shadow.color=e}))),this._itemData.shadow.angle&&this._itemData.shadow.angle!==t.shadow.angle&&(t.shadow.angle=this._itemData.shadow.angle,e=!0),this._itemData.shadow.distance&&this._itemData.shadow.distance!==t.shadow.distance&&(t.shadow.distance=this._itemData.shadow.distance,e=!0),this._itemData.shadow.size&&this._itemData.shadow.size!==t.shadow.size&&(t.shadow.size=this._itemData.shadow.size,e=!0),e},t.prototype._applyStroke=function(t){if(null==this._itemData.stroke||null==t.stroke)return!1;var e=!1;return this._itemData.stroke.color&&(e=this._tryApplyColor(this._itemData.stroke.color,(function(e){return t.stroke.color=e}))),this._itemData.stroke.size&&this._itemData.stroke.size!==t.stroke.size&&(t.stroke.size=this._itemData.stroke.size,e=!0),e},t.prototype._applyOpacity=function(t){return null!=this._itemData.opacity&&(t.opacity=this._itemData.opacity,!0)},t.prototype._applyBorderColor=function(t){return this._applyColor(t,"borderColor","borderColor")},t.prototype._applyBorderWidth=function(t){return null!=this._itemData.borderWidth&&(t.borderWidth=this._itemData.borderWidth,!0)},t.prototype._applyColor=function(t,e,n){return void 0===e&&(e="color"),void 0===n&&(n="color"),null!=this._itemData[n]&&this._tryApplyColor(this._itemData[n],(function(n){"overlayColor"===e&&(t instanceof Av||t instanceof a_)?GP.setOverlayEffectColor(t,n):t[e]=n}))},t.prototype._tryApplyColor=function(t,e){var n=bm.createColor(t);return!!n&&(e(n),!0)},t.prototype._applyBarcodeColor=function(t){return this._applyColor(t,"color","barcodeColor")},t}(),qx=function(t){var e="function"==typeof Symbol&&Symbol.iterator,n=e&&t[e],r=0;if(n)return n.call(t);if(t&&"number"==typeof t.length)return{next:function(){return t&&r>=t.length&&(t=void 0),{value:t&&t[r++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")},Gx=function(){function t(){}return t.prototype.apply=function(t,e,n){var r,i;if(!t)return!1;var o=!1;try{for(var s=qx(t.getAllItems()),a=s.next();!a.done;a=s.next())o=this.applyToItem(a.value,e,n)||o}catch(l){r={error:l}}finally{try{a&&!a.done&&(i=s.return)&&i.call(s)}finally{if(r)throw r.error}}return o},t.prototype.applyToItem=function(t,e,n){var r=n||t.themeBinding;if(!t||!e||!r)return!1;var i=this._getItemDataByItemType(t,e,r);return t instanceof Av?new Ux(i).applyImage(t):t instanceof a_?this._applyToPlaceholder(t,e,r):t instanceof gv?new Ux(i).applyDashedLine(t):t instanceof dv?new Ux(i).applyLine(t):t instanceof Ey?new Ux(i).applyBaseText(t):t instanceof Hy?new Ux(i).applyBarcode(t):t instanceof uy?new Ux(i).applyShape(t):t instanceof rv?new Ux(i).applyClipart(t):void 0},t.prototype._getItemDataByItemType=function(t,e,n){return t instanceof Av?this._getMergedItemData(e,n,n.img):t instanceof dv?this._getMergedItemData(e,n,n.line):t instanceof Ey?this._getMergedItemData(e,n,n.text):t instanceof Hy?this._getMergedItemData(e,n,n.barcode):this._getMergedItemData(e,n)},t.prototype._applyToPlaceholder=function(t,e,n){var r=this,i=!1,o=this._getMergedItemData(e,n);return null!=o.fillColor&&GP.isBgContainerItem(t)&&GP.clearImageContent(t),t.content instanceof ty&&(i=this.applyToItem(t.content,e,n)),null!=t.topFrames&&t.topFrames.map((function(t){i=r.applyToItem(t,e)||i})),null!=t.bottomFrames&&t.bottomFrames.map((function(t){i=r.applyToItem(t,e)||i})),new Ux(o).applyPlaceholder(t)||i},t.prototype._getMergedItemData=function(t,e,n){var r,i,o=this;void 0===n&&(n=null);var s=new Vx;if(e.styles){var a=e.styles.map((function(e){return o._getThemeItemData(e,t)}));try{for(var l=qx(a),u=l.next();!u.done;u=l.next()){var c=u.value;c&&(s=this._applyStyle(s,c))}}catch(h){r={error:h}}finally{try{u&&!u.done&&(i=l.return)&&i.call(l)}finally{if(r)throw r.error}}}return this._applyTHBMColor(t,e,n,s)},t.prototype._applyStyle=function(t,e){return t.color=Ug(t.color,e.color),t.fillColor=Ug(t.fillColor,e.fillColor),t.borderColor=Ug(t.borderColor,e.borderColor),t.borderWidth=Ug(t.borderWidth,e.borderWidth),t.altColor=Ug(t.altColor,e.altColor),t.leading=Ug(t.leading,e.leading),t.tracking=Ug(t.tracking,e.tracking),t.underline=Ug(t.underline,e.underline),t.horizontalLineColor=Ug(t.horizontalLineColor,e.horizontalLineColor),t.verticalLineColor=Ug(t.verticalLineColor,e.verticalLineColor),t.barcodeColor=Ug(t.barcodeColor,e.barcodeColor),t.opacity=Ug(t.opacity,e.opacity),t.font=this._applySettings(t.font,e.font),t},t.prototype._applyTHBMColor=function(t,e,n,r){var i=this;return r.fillColor=Ug(r.fillColor,this._getTHMBColor(e.fill,t)),r.textFillColor=Ug(r.textFillColor,this._getTHMBColor(e.textFill,t)),r.borderColor=Ug(r.borderColor,this._getTHMBColor(e.border,t)),r.color=Ug(r.color,this._getTHMBColor(n,t)),r.altColor=Ug(r.altColor,this._getTHMBColor(e.altline,t)),r.horizontalLineColor=Ug(r.horizontalLineColor,this._getTHMBColor(e.horizontal,t)),r.verticalLineColor=Ug(r.verticalLineColor,this._getTHMBColor(e.vertical,t)),r.barcodeColor=Ug(r.barcodeColor,this._getTHMBColor(e.barcode,t)),null!=e.shadow&&(null==r.shadow&&(r.shadow=new Nx),r.shadow.color=Ug(r.shadow.color,this._getTHMBColor(e.shadow,t))),null!=e.stroke&&(null==r.stroke&&(r.stroke=new Wx),r.stroke.color=Ug(r.stroke.color,this._getTHMBColor(e.stroke,t))),r.clipartColors=null!=e.clipartColors?e.clipartColors.map((function(e){return i._getTHMBColor(e,t)})):[],r},t.prototype._applySettings=function(t,e){var n,r;if(null==e)return t;if(null==t)return e;try{for(var i=qx(Object.getOwnPropertyNames(e)),o=i.next();!o.done;o=i.next()){var s=o.value,a=e[s];null!=a&&(t[s]=a)}}catch(l){n={error:l}}finally{try{o&&!o.done&&(r=i.return)&&r.call(i)}finally{if(n)throw n.error}}return t},t.prototype._getThemeItemData=function(t,e){return t?e[t]:null},t.prototype._getTHMBColor=function(t,e){return t?e[t]:null},t}(),Yx=function(){var t=function(e,n){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(e,n)};return function(e,n){function r(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),Xx=function(t){var e="function"==typeof Symbol&&Symbol.iterator,n=e&&t[e],r=0;if(n)return n.call(t);if(t&&"number"==typeof t.length)return{next:function(){return t&&r>=t.length&&(t=void 0),{value:t&&t[r++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")},$x=function(t){function e(e,n,r,i,o,s,a,l){var u=t.call(this,r,n,i)||this;return u._productHandler=e,u._commandManager=o,u._productThemeManager=s,u._canvas=a,u._eventManager=l,u}return Yx(e,t),e.prototype._executeCommandBody=function(){return t=this,void 0,n=function(){var t,e=this;return function(t,e){var n,r,i,o,s={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]};return o={next:a(0),throw:a(1),return:a(2)},"function"==typeof Symbol&&(o[Symbol.iterator]=function(){return this}),o;function a(o){return function(a){return function(o){if(n)throw new TypeError("Generator is already executing.");for(;s;)try{if(n=1,r&&(i=2&o[0]?r.return:o[0]?r.throw||((i=r.return)&&i.call(r),0):r.next)&&!(i=i.call(r,o[1])).done)return i;switch(r=0,i&&(o=[2&o[0],i.value]),o[0]){case 0:case 1:i=o;break;case 4:return s.label++,{value:o[1],done:!1};case 5:s.label++,r=o[1],o=[0];continue;case 7:o=s.ops.pop(),s.trys.pop();continue;default:if(!(i=(i=s.trys).length>0&&i[i.length-1])&&(6===o[0]||2===o[0])){s=0;continue}if(3===o[0]&&(!i||o[1]>i[0]&&o[1]<i[3])){s.label=o[1];break}if(6===o[0]&&s.label<i[1]){s.label=i[1],i=o;break}if(i&&s.label<i[2]){s.label=i[2],s.ops.push(o);break}i[2]&&s.ops.pop(),s.trys.pop();continue}o=e.call(t,s)}catch(a){o=[6,a],r=0}finally{n=i=0}if(5&o[0])throw o[1];return{value:o[0]?o[1]:void 0,done:!0}}([o,a])}}}(this,(function(n){return[2,this.changeBackground(this._args.surfaces,(t=this._args.data instanceof Dv)?"image":"solidColor",t?function(t){t instanceof a_&&e._setBgImage(t,e._args.data)}:function(t){(t instanceof a_||t instanceof hy)&&e._selectBgRectangleColor(t,e._args.data)},t?null:this._args.data)]}))},new((e=void 0)||(e=Promise))((function(r,i){function o(t){try{a(n.next(t))}catch(e){i(e)}}function s(t){try{a(n.throw(t))}catch(e){i(e)}}function a(t){var n;t.done?r(t.value):(n=t.value,n instanceof e?n:new e((function(t){t(n)}))).then(o,s)}a((n=n.apply(t,[])).next())}));var t,e,n},e.prototype.changeBackground=function(t,e,n,r){var i,o,s=this;try{var a=void 0;switch(e){case"image":case"solidColor":a=t.map((function(t){return s.getOrCreateBgItems(t,e)})).reduce((function(t,e){return t.concat(e)}),[]);break;default:throw new Xf}try{for(var l=Xx(a),u=l.next();!u.done;u=l.next()){var c=u.value;if(c instanceof a_||c instanceof hy){if(c instanceof a_){GP.clearImageContent(c);var h=c.content;r instanceof um?(r.equals(c.fillColor)||(c.themeBinding.fill=null,h.themeBinding.fill=null),c.fillColor=bm.createColor(r),h.fillColor=bm.createColor(r)):null!=r&&(c.themeBinding.fill=r.title,h.themeBinding.fill=r.title)}n(c)}}}catch(p){i={error:p}}finally{try{u&&!u.done&&(o=l.return)&&o.call(l)}finally{if(i)throw i.error}}return GP.updateItems(a,this._productHandler,this._canvas),a}finally{}},e.prototype.getOrCreateBgItems=function(t,e){var n,r,i=t.containers.first((function(t){return t.name===M_.BG_CONTAINER_NAME})),o=i.items.toArray();if(0===o.length){var s=S((u=t.printAreas.getItem(0)).getBounds(Pm.Bleed));return this._addItem(t,i,s,!1),[s]}if(t.printAreas.length===o.length){for(var a=[],l=0;l<t.printAreas.length;l++){var u=t.printAreas.getItem(l),c=o[l];if(c instanceof Av){var h=c.frontendPermissions;this._commandManager.execute(NS.deleteItems,{items:[c],force:!0}),(s=S(u.getBounds(Pm.Bleed))).frontendPermissions=h,this._addItem(t,i,s,!1),a.push(s)}else if(c instanceof a_){var p=c;if(e!==M_.BG_SOLIDCOLOR){var d=u.getBounds(Pm.Bleed),f=Eg.rectangle(d.left,d.top,d.width,d.height),g=!1;p.sourcePath.isEqual(f)||(p.sourcePath=f,g=!0),fg.isEqual(p.sourceRectangle,d)||(p.sourceRectangle=d,g=!0),(g&&0!==p.transform.translateX||0!==p.transform.translateY)&&(p.transform.setTranslateX(0),p.transform.setTranslateY(0));var m=Ag.fromRectangleF(d),y=this._productHandler.getHandler(p.content);y.getTransformedRectangle().equals(m)||(y.setTransformedRectangle(m),g=!0),g&&GP.updateItems(o,this._productHandler,this._canvas,{redraw:!0})}else p.content instanceof Av&&p.content.source.type!=Av.ImageSourceType.None&&(p.sourceRectangle=u.getBounds(Pm.Bleed));a.push(p)}}return a}if(P(o)){var v=M_.BG_SOLIDCOLOR;if(e===v&&null==o.find((function(t){return t.name===v}))){var _=function(t){var e=new hy(t);return this._productHandler.getHandler(e).setTransformedRectangle(Ag.fromRectangleF(t)),e.borderWidth=0,e}((u=t.printAreas.getItem(0)).getBounds(Pm.Bleed));_.name=v,this._addItem(t,i,_,!1)}if(null!=this._historyArgs.history&&this._historyArgs.history.pause(),P(o=i.items.toArray()))try{for(var b=Xx(o),w=b.next();!w.done;w=b.next()){var C=w.value,x=C.name===v;C.visualizationPermissions.noPrint=e===v?!x:x,C.visualizationPermissions.noShow=e===v?!x:x}}catch(I){n={error:I}}finally{try{w&&!w.done&&(r=b.return)&&r.call(b)}finally{if(n)throw n.error}}return GP.updateItems(o,this._productHandler,this._canvas,{redraw:!0}),null!=this._historyArgs.history&&this._historyArgs.history.resume(),o}throw new Xf("Containers contains unexpected content");function S(t){var e=new a_(t);return e.contentResizeMode=Yv.Fill,e.content=new Av,this._productHandler.getHandler(e.content).setTransformedRectangle(Ag.fromRectangleF(t)),e}function P(t){return t.every((function(t){return t instanceof a_||t instanceof hy}))}},e.prototype._addItem=function(t,e,n,r){this._commandManager.execute(HS.addItems,{surface:t,targetContainer:e,items:[n],selectOnCanvas:!0})},e.prototype._setBgImage=function(t,e){var n=t.content;this._productHandler.getHandler(n).setTransformedRectangle(this._getBgImageRectangle(t,e)),t.fillColor=bm.createColor("rgba(0,0,0,0)"),n.fillColor=bm.createColor("rgba(0,0,0,0)"),null!=n.overlayEffect&&(n.imagePermissions.allowKeepOverlayColor?GP.setOverlayEffectColor(n,n.overlayEffect.color):n.overlayEffect.color=null),n.setData(e),this._eventManager.imageContentChangedEvent.fire(t)},e.prototype._getBgImageRectangle=function(t,e){var n,r,i=this._productHandler.getHandler(t).getTransformedRectangle(!1),o=e.size.width/e.size.height;return o<i.width/i.height?r=(n=i.width)/o:n=(r=i.height)*o,new Ag(i.centerX,i.centerY,n,r,0)},e.prototype._selectBgRectangleColor=function(t,e){e instanceof um?t.fillColor=bm.createColor(e):null!=e&&(t.themeBinding.fill=e.title,(new Gx).applyToItem(t,this._productThemeManager.currentProductTheme))},e.prototype.redo=function(){throw new Xf},e.prototype.undo=function(){throw new Xf},e}(Fx),Qx=function(){var t=function(e,n){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(e,n)};return function(e,n){function r(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),Zx=function(t){function e(e,n,r){var i=t.call(this,r,n)||this;return i.surface=e,i}return Qx(e,t),e}(Dx),Kx=function(){var t=function(e,n){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(e,n)};return function(e,n){function r(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),Jx=function(t,e,n,r){return new(n||(n=Promise))((function(i,o){function s(t){try{l(r.next(t))}catch(e){o(e)}}function a(t){try{l(r.throw(t))}catch(e){o(e)}}function l(t){var e;t.done?i(t.value):(e=t.value,e instanceof n?e:new n((function(t){t(e)}))).then(s,a)}l((r=r.apply(t,e||[])).next())}))},tS=function(t,e){var n,r,i,o,s={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]};return o={next:a(0),throw:a(1),return:a(2)},"function"==typeof Symbol&&(o[Symbol.iterator]=function(){return this}),o;function a(o){return function(a){return function(o){if(n)throw new TypeError("Generator is already executing.");for(;s;)try{if(n=1,r&&(i=2&o[0]?r.return:o[0]?r.throw||((i=r.return)&&i.call(r),0):r.next)&&!(i=i.call(r,o[1])).done)return i;switch(r=0,i&&(o=[2&o[0],i.value]),o[0]){case 0:case 1:i=o;break;case 4:return s.label++,{value:o[1],done:!1};case 5:s.label++,r=o[1],o=[0];continue;case 7:o=s.ops.pop(),s.trys.pop();continue;default:if(!(i=(i=s.trys).length>0&&i[i.length-1])&&(6===o[0]||2===o[0])){s=0;continue}if(3===o[0]&&(!i||o[1]>i[0]&&o[1]<i[3])){s.label=o[1];break}if(6===o[0]&&s.label<i[1]){s.label=i[1],i=o;break}if(i&&s.label<i[2]){s.label=i[2],s.ops.push(o);break}i[2]&&s.ops.pop(),s.trys.pop();continue}o=e.call(t,s)}catch(a){o=[6,a],r=0}finally{n=i=0}if(5&o[0])throw o[1];return{value:o[0]?o[1]:void 0,done:!0}}([o,a])}}},eS=function(t,e){var n="function"==typeof Symbol&&t[Symbol.iterator];if(!n)return t;var r,i,o=n.call(t),s=[];try{for(;(void 0===e||e-- >0)&&!(r=o.next()).done;)s.push(r.value)}catch(a){i={error:a}}finally{try{r&&!r.done&&(n=o.return)&&n.call(o)}finally{if(i)throw i.error}}return s},nS=function(){for(var t=[],e=0;e<arguments.length;e++)t=t.concat(eS(arguments[e]));return t},rS=function(t){function e(e,n,r,i,o,s,a,l){var u=t.call(this,r.surface,n,r)||this;return u._productHandler=e,u._productThemeManager=i,u._canvas=o,u._variableItemHelper=s,u._commandManager=a,u._eventManager=l,u}return Kx(e,t),e.prototype._executeCommandBody=function(){return Jx(this,void 0,void 0,(function(){var t,e,n,r,i,o,s=this;return tS(this,(function(a){switch(a.label){case 0:return e=(t=this._args).items,n=t.targetGroupItem,r=t.index,i=t.orderIndex,o=lg.extend({targetContainer:this._productHandler.userEditContainer,surface:this._productHandler.currentSurface,selectOnCanvas:!0,index:null,orderIndex:null,ignoreOrderRules:!1,ignoreCanvasRotate:!0,createCloneName:!1},this._args),this._historyArgs.history.pause(),null==n?[3,2]:[4,this._insertItemsIntoGroupItem(e,n,r,i)];case 1:return a.sent(),this._eventManager.itemCollectionChangedEvent.notify(),[3,4];case 2:return e.forEach((function(t){return s._addItem(o,t)})),this._canvas.updateTexts(),[4,GP.waitForItemsUpdated(e,this._canvas)];case 3:a.sent(),a.label=4;case 4:return e.some((function(t){return t instanceof u_}))||this._canvas.redraw(),this._historyArgs.history.resume(),o.selectOnCanvas&&this._commandManager.execute(WS.selectItems,{items:e.filter((function(t){return!t.locked}))}),[2]}}))}))},e.prototype._addItem=function(t,e){null!=this._productThemeManager.currentProductTheme&&(new Gx).applyToItem(e,this._productThemeManager.currentProductTheme),null==t.index&&(t.index=-1);var n=t.targetContainer;this._args.createCloneName&&(e.name=GP.createCloneName(e,this._variableItemHelper,this._productHandler));var r=n.items;if(r.add(e),-1!==t.index)n.items.move(r.length-1,t.index);else if(!t.ignoreOrderRules&&e instanceof Av&&r.length>1){var i=lg.find(r.toArray().slice().reverse(),(function(t){return t instanceof Gy||t instanceof Kv})),o=lg.find(r.toArray(),(function(t){return t instanceof Ey})),s=-1;null!=i?s=r.indexOf(i)+1:null!=o&&(s=r.indexOf(o)),-1!==s&&n.items.move(r.length-1,s)}},e.prototype._insertItemsIntoGroupItem=function(t,e,n,r){return Jx(this,void 0,void 0,(function(){var i,o,s;return tS(this,(function(a){switch(a.label){case 0:if(e instanceof Uv?e.addItems(t,n,r):e.addItems(t,n),!((i=nS(t,t.filter((function(t){return t instanceof Ky})).reduce((function(t,e){return nS(t,e.getNestedItems(!0))}),[]))).length>0))return[3,2];for(o=e;null!=o.parentGroupItem;)o=o.parentGroupItem;return s=o.locked,o.locked=!0,[4,GP.waitForItemsUpdated(i,this._canvas)];case 1:a.sent(),o.locked=s,a.label=2;case 2:return[2]}}))}))},e.prototype.redo=function(){throw new Xf},e.prototype.undo=function(){throw new Xf},e}(Zx),iS=function(){var t=function(e,n){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(e,n)};return function(e,n){function r(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),oS=function(t){function e(e,n,r){var i=t.call(this,r,n)||this;return i._items=e,i}return iS(e,t),e}(Dx),sS=function(){var t=function(e,n){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(e,n)};return function(e,n){function r(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),aS=function(t){function e(e,n,r,i,o,s){var a=t.call(this,r.items,n,r)||this;return a._productHandler=e,a._canvas=i,a._commandManager=s,a._conf=o.messages.delete,a}return sS(e,t),e.prototype._executeCommandBody=function(){return t=this,void 0,n=function(){var t;return function(t,e){var n,r,i,o,s={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]};return o={next:a(0),throw:a(1),return:a(2)},"function"==typeof Symbol&&(o[Symbol.iterator]=function(){return this}),o;function a(o){return function(a){return function(o){if(n)throw new TypeError("Generator is already executing.");for(;s;)try{if(n=1,r&&(i=2&o[0]?r.return:o[0]?r.throw||((i=r.return)&&i.call(r),0):r.next)&&!(i=i.call(r,o[1])).done)return i;switch(r=0,i&&(o=[2&o[0],i.value]),o[0]){case 0:case 1:i=o;break;case 4:return s.label++,{value:o[1],done:!1};case 5:s.label++,r=o[1],o=[0];continue;case 7:o=s.ops.pop(),s.trys.pop();continue;default:if(!(i=(i=s.trys).length>0&&i[i.length-1])&&(6===o[0]||2===o[0])){s=0;continue}if(3===o[0]&&(!i||o[1]>i[0]&&o[1]<i[3])){s.label=o[1];break}if(6===o[0]&&s.label<i[1]){s.label=i[1],i=o;break}if(i&&s.label<i[2]){s.label=i[2],s.ops.push(o);break}i[2]&&s.ops.pop(),s.trys.pop();continue}o=e.call(t,s)}catch(a){o=[6,a],r=0}finally{n=i=0}if(5&o[0])throw o[1];return{value:o[0]?o[1]:void 0,done:!0}}([o,a])}}}(this,(function(e){return t=lg.extend({force:!1,autoUngroup:!0,autoParentGroupDelete:!0},this._args),this.deleteItems(t.items,t.force,t.autoUngroup,t.autoParentGroupDelete),[2]}))},new((e=void 0)||(e=Promise))((function(r,i){function o(t){try{a(n.next(t))}catch(e){i(e)}}function s(t){try{a(n.throw(t))}catch(e){i(e)}}function a(t){var n;t.done?r(t.value):(n=t.value,n instanceof e?n:new e((function(t){t(n)}))).then(o,s)}a((n=n.apply(t,[])).next())}));var t,e,n},e.prototype.deleteItems=function(t,e,n,r){if(0!=t.length&&(t.every((function(t){return t.manipulationPermissions.allowDelete}))||e)&&(e||!this._conf.enabled||confirm(this._conf.message))){for(var i=0;i<t.length;i++){var o=t[i],s=o.parentGroupItem;null!=s?(s.items.contains(o)&&(s instanceof Uv?s.removeItems([o]):s.items.remove(o)),r&&0===s.items.length?this.deleteItem(s):n&&s.items.length<2&&this._commandManager.execute(NS.ungroupItems,{items:s.items.toArray()})):this.deleteItem(o)}this._canvas.updateTexts(),this._canvas.updateSelection(),this._productHandler.redraw()}},e.prototype.deleteItem=function(t){if(null!=t){var e=null!=t.parentGroupItem?t.parentGroupItem:t.parentContainer;null!=e&&e.items.contains(t)&&e.items.remove(t)}},e.prototype.redo=function(){throw new Xf},e.prototype.undo=function(){throw new Xf},e}(oS),lS=function(){var t=function(e,n){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(e,n)};return function(e,n){function r(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),uS=function(t){function e(e,n,r){var i=t.call(this,n)||this;return i._productHandler=e,i._canvas=r,i}return lS(e,t),e.prototype.execute=function(){return t=this,void 0,n=function(){var t,e,n=this;return function(t,e){var n,r,i,o,s={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]};return o={next:a(0),throw:a(1),return:a(2)},"function"==typeof Symbol&&(o[Symbol.iterator]=function(){return this}),o;function a(o){return function(a){return function(o){if(n)throw new TypeError("Generator is already executing.");for(;s;)try{if(n=1,r&&(i=2&o[0]?r.return:o[0]?r.throw||((i=r.return)&&i.call(r),0):r.next)&&!(i=i.call(r,o[1])).done)return i;switch(r=0,i&&(o=[2&o[0],i.value]),o[0]){case 0:case 1:i=o;break;case 4:return s.label++,{value:o[1],done:!1};case 5:s.label++,r=o[1],o=[0];continue;case 7:o=s.ops.pop(),s.trys.pop();continue;default:if(!(i=(i=s.trys).length>0&&i[i.length-1])&&(6===o[0]||2===o[0])){s=0;continue}if(3===o[0]&&(!i||o[1]>i[0]&&o[1]<i[3])){s.label=o[1];break}if(6===o[0]&&s.label<i[1]){s.label=i[1],i=o;break}if(i&&s.label<i[2]){s.label=i[2],s.ops.push(o);break}i[2]&&s.ops.pop(),s.trys.pop();continue}o=e.call(t,s)}catch(a){o=[6,a],r=0}finally{n=i=0}if(5&o[0])throw o[1];return{value:o[0]?o[1]:void 0,done:!0}}([o,a])}}}(this,(function(r){return t=[],e=null!=this._args.multiselection&&this._args.multiselection,this._args.items.forEach((function(r){var i=n._productHandler.getHandler(r),o=!1;(i instanceof cC||i instanceof iI)&&i.isEmpty()&&(o=!0),null==i||i.isLocked()||!i.isVisible()&&!o||r.visualizationPermissions.noShow||(n._canvas.isItemHandlerSelected(i)&&e?n._canvas.removeSelectedItemHandler(i):e?n._canvas.addSelectedItemHandler(i):t.push(i),n.lastSelectedItem=r)})),e||this._canvas.setSelectedItemHandlers(t),this._canvas.redraw(),[2]}))},new((e=void 0)||(e=Promise))((function(r,i){function o(t){try{a(n.next(t))}catch(e){i(e)}}function s(t){try{a(n.throw(t))}catch(e){i(e)}}function a(t){var n;t.done?r(t.value):(n=t.value,n instanceof e?n:new e((function(t){t(n)}))).then(o,s)}a((n=n.apply(t,[])).next())}));var t,e,n},e}(Mx),cS=function(){var t=function(e,n){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(e,n)};return function(e,n){function r(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),hS=function(t){function e(e,n,r){var i=t.call(this,null)||this;return i._productHandler=e,i._commandManager=n,i._canvas=r,i._canSelectItem=function(t){var e=i._productHandler.currentSurface;return null!=e&&!t.visualizationPermissions.noShow&&!t.locked&&e.getBackgroundItem()!=t},i}return cS(e,t),e.prototype.execute=function(){return t=this,void 0,n=function(){var t,e,n,r;return function(t,e){var n,r,i,o,s={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]};return o={next:a(0),throw:a(1),return:a(2)},"function"==typeof Symbol&&(o[Symbol.iterator]=function(){return this}),o;function a(o){return function(a){return function(o){if(n)throw new TypeError("Generator is already executing.");for(;s;)try{if(n=1,r&&(i=2&o[0]?r.return:o[0]?r.throw||((i=r.return)&&i.call(r),0):r.next)&&!(i=i.call(r,o[1])).done)return i;switch(r=0,i&&(o=[2&o[0],i.value]),o[0]){case 0:case 1:i=o;break;case 4:return s.label++,{value:o[1],done:!1};case 5:s.label++,r=o[1],o=[0];continue;case 7:o=s.ops.pop(),s.trys.pop();continue;default:if(!(i=(i=s.trys).length>0&&i[i.length-1])&&(6===o[0]||2===o[0])){s=0;continue}if(3===o[0]&&(!i||o[1]>i[0]&&o[1]<i[3])){s.label=o[1];break}if(6===o[0]&&s.label<i[1]){s.label=i[1],i=o;break}if(i&&s.label<i[2]){s.label=i[2],s.ops.push(o);break}i[2]&&s.ops.pop(),s.trys.pop();continue}o=e.call(t,s)}catch(a){o=[6,a],r=0}finally{n=i=0}if(5&o[0])throw o[1];return{value:o[0]?o[1]:void 0,done:!0}}([o,a])}}}(this,(function(i){switch(i.label){case 0:return null==(t=this._productHandler.currentSurface)?[2]:null==(e=t.printAreas)||e.count()<=0?[2]:null==(n=t.getAllItems().toArray())||n.length<=0?[2]:null==this._canvas?[2]:(null==r&&(r=n.reverse().find(this._canSelectItem)),[4,this._canvas.waitUpdate()]);case 1:return i.sent(),null!=r&&this._commandManager.execute(WS.selectItems,{items:[r],multiselection:!1}),[2]}}))},new((e=void 0)||(e=Promise))((function(r,i){function o(t){try{a(n.next(t))}catch(e){i(e)}}function s(t){try{a(n.throw(t))}catch(e){i(e)}}function a(t){var n;t.done?r(t.value):(n=t.value,n instanceof e?n:new e((function(t){t(n)}))).then(o,s)}a((n=n.apply(t,[])).next())}));var t,e,n},e}(Mx),pS=function(){var t=function(e,n){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(e,n)};return function(e,n){function r(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),dS=function(t){function e(e){var n=t.call(this,null)||this;return n._canvas=e,n}return pS(e,t),e.prototype.execute=function(){return t=this,void 0,n=function(){return function(t,e){var n,r,i,o,s={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]};return o={next:a(0),throw:a(1),return:a(2)},"function"==typeof Symbol&&(o[Symbol.iterator]=function(){return this}),o;function a(o){return function(a){return function(o){if(n)throw new TypeError("Generator is already executing.");for(;s;)try{if(n=1,r&&(i=2&o[0]?r.return:o[0]?r.throw||((i=r.return)&&i.call(r),0):r.next)&&!(i=i.call(r,o[1])).done)return i;switch(r=0,i&&(o=[2&o[0],i.value]),o[0]){case 0:case 1:i=o;break;case 4:return s.label++,{value:o[1],done:!1};case 5:s.label++,r=o[1],o=[0];continue;case 7:o=s.ops.pop(),s.trys.pop();continue;default:if(!(i=(i=s.trys).length>0&&i[i.length-1])&&(6===o[0]||2===o[0])){s=0;continue}if(3===o[0]&&(!i||o[1]>i[0]&&o[1]<i[3])){s.label=o[1];break}if(6===o[0]&&s.label<i[1]){s.label=i[1],i=o;break}if(i&&s.label<i[2]){s.label=i[2],s.ops.push(o);break}i[2]&&s.ops.pop(),s.trys.pop();continue}o=e.call(t,s)}catch(a){o=[6,a],r=0}finally{n=i=0}if(5&o[0])throw o[1];return{value:o[0]?o[1]:void 0,done:!0}}([o,a])}}}(this,(function(t){return this._canvas.clearSelectedItemHandlers(),this._canvas.redraw(),[2]}))},new((e=void 0)||(e=Promise))((function(r,i){function o(t){try{a(n.next(t))}catch(e){i(e)}}function s(t){try{a(n.throw(t))}catch(e){i(e)}}function a(t){var n;t.done?r(t.value):(n=t.value,n instanceof e?n:new e((function(t){t(n)}))).then(o,s)}a((n=n.apply(t,[])).next())}));var t,e,n},e}(Mx),fS=function(){var t=function(e,n){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(e,n)};return function(e,n){function r(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),gS=function(t,e){var n="function"==typeof Symbol&&t[Symbol.iterator];if(!n)return t;var r,i,o=n.call(t),s=[];try{for(;(void 0===e||e-- >0)&&!(r=o.next()).done;)s.push(r.value)}catch(a){i={error:a}}finally{try{r&&!r.done&&(n=o.return)&&n.call(o)}finally{if(i)throw i.error}}return s},mS=function(t){function e(e,n,r,i,o){var s=t.call(this,r.items,n,r)||this;return s._productHandler=e,s._commandManager=i,s._variableItemHelper=o,s}return fS(e,t),e.prototype._executeCommandBody=function(){return t=this,void 0,n=function(){var t,e,n,r,i,o,s,a,l,u=this;return function(t,e){var n,r,i,o,s={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]};return o={next:a(0),throw:a(1),return:a(2)},"function"==typeof Symbol&&(o[Symbol.iterator]=function(){return this}),o;function a(o){return function(a){return function(o){if(n)throw new TypeError("Generator is already executing.");for(;s;)try{if(n=1,r&&(i=2&o[0]?r.return:o[0]?r.throw||((i=r.return)&&i.call(r),0):r.next)&&!(i=i.call(r,o[1])).done)return i;switch(r=0,i&&(o=[2&o[0],i.value]),o[0]){case 0:case 1:i=o;break;case 4:return s.label++,{value:o[1],done:!1};case 5:s.label++,r=o[1],o=[0];continue;case 7:o=s.ops.pop(),s.trys.pop();continue;default:if(!(i=(i=s.trys).length>0&&i[i.length-1])&&(6===o[0]||2===o[0])){s=0;continue}if(3===o[0]&&(!i||o[1]>i[0]&&o[1]<i[3])){s.label=o[1];break}if(6===o[0]&&s.label<i[1]){s.label=i[1],i=o;break}if(i&&s.label<i[2]){s.label=i[2],s.ops.push(o);break}i[2]&&s.ops.pop(),s.trys.pop();continue}o=e.call(t,s)}catch(a){o=[6,a],r=0}finally{n=i=0}if(5&o[0])throw o[1];return{value:o[0]?o[1]:void 0,done:!0}}([o,a])}}}(this,(function(c){switch(c.label){case 0:return 0==this._items.length?[2]:(t=this._items[0].parentContainer,e=this._items[0].parentGroupItem,n=this._items.map((function(t){return u.cloneItem(t)})),r=[],i=[],o=[],s=function(t,s){var a=u._items.findIndex((function(e){return e===t}));if(a>-1&&(r.push(s),i.push({item:n[a],index:s}),e instanceof Uv)){var l=e.getItemOrderIndex(t);o.push({clone:n[a],orderIndex:l+1})}},e?e.items.toArray().forEach(s):t.items.toArray().forEach(s),a=Math.max.apply(Math,function(){for(var t=[],e=0;e<arguments.length;e++)t=t.concat(gS(arguments[e]));return t}(r))+1,l=i.sort((function(t,e){return t.index-e.index})).reverse().map((function(t){return t.item})),e?(e instanceof Uv?o.sort((function(t,e){return t.orderIndex-e.orderIndex})).reverse().forEach((function(t){return e.addItem(t.clone,null,t.orderIndex)})):e.addItems(l,a),[3,3]):[3,1]);case 1:return[4,this._commandManager.execute(HS.addItems,{surface:t.parentComponent,targetContainer:t,items:l,selectOnCanvas:!0,index:a,ignoreOrderRules:null,ignoreCanvasRotate:!0,createCloneName:!0})];case 2:c.sent(),c.label=3;case 3:return[4,this._commandManager.execute(WS.selectItems,{items:n})];case 4:return c.sent(),[2]}}))},new((e=void 0)||(e=Promise))((function(r,i){function o(t){try{a(n.next(t))}catch(e){i(e)}}function s(t){try{a(n.throw(t))}catch(e){i(e)}}function a(t){var n;t.done?r(t.value):(n=t.value,n instanceof e?n:new e((function(t){t(n)}))).then(o,s)}a((n=n.apply(t,[])).next())}));var t,e,n},e.prototype.cloneItem=function(t){var e=t.clone(!0),n=5,r=5,i=this._productHandler.contentAngle;i>0&&(90!==i&&180!==i||(r=-5),180!==i&&270!==i||(n=-5));var o=this._productHandler.regionForCurrentContainer,s=GP.getItemBoundsForViolationCheck(this._productHandler.getHandler(t));s.left+=n,s.top+=r;var a=0,l=0;null==o||o.containsRectangle(s)||(a=(a=o.right-s.right)<0?a:0,l=(l=o.bottom-s.bottom)<0?l:0);var u=function(t){t.transform.move(n+a,r+l),t instanceof a_&&t.updateContentAndFrames(u),t instanceof Ky&&t.applyToItems(u)};for(var c in u(e),e)-1!=c.indexOf("$$")&&delete e[c];return e},e.prototype.redo=function(){throw new Xf},e.prototype.undo=function(){throw new Xf},e}(oS),yS=function(){function t(t,e,n){var r=this;this._productHandler=t,this._canvas=e,this._eventManager=n,this.maskSymbol="%",this._eventManager.addItemAdded((function(t){return r.initVariableItem(t.item)}))}return t.prototype.initVariableItems=function(t){var e=this;t.getAllItems({ignoreMockups:!1,flatGroupItems:!0,excludeGroupItems:!0}).forEach((function(t){return e.initVariableItem(t)}))},t.prototype.setVariableValues=function(t,e){var n=this;0!==t.length&&t.forEach((function(t){n.setVariableValue(t,e)}))},t.prototype.setVariableValue=function(t,e,n){GP.isVariableItem(t)&&this._setVariableValue(t,e),t instanceof a_&&!t.isEmptyContent&&GP.isVariableItem(t.content)&&this._setVariableValue(t.content,e),n||GP.updateItems([t],this._productHandler,this._canvas)},t.prototype.getVariableItemDisplayName=function(t){if(null!=t){var e=this.maskSymbol,n=new RegExp("^"+e+"|"+e+"$","gm");return t.replace(n,"")}},t.prototype._isCanBeVariable=function(t){return t.canSetIsVariable()},t.prototype.getRealItemName=function(t){return this._isCanBeVariable(t)&&t.isVariable?t.name.replace(new RegExp("^"+this.maskSymbol+"|"+this.maskSymbol+"$","gm"),""):t.name},t.prototype.createNewItemName=function(t,e){return this._isCanBeVariable(t)&&t.isVariable?""+this.maskSymbol+e+this.maskSymbol:e},t.prototype._setVariableValue=function(t,e){if(t.isVariable!==e){if(e)t.name=""+this.maskSymbol+t.name+this.maskSymbol;else{var n=new RegExp("^"+this.maskSymbol+"|"+this.maskSymbol+"$","gm");t.name=t.name.replace(n,"")}t.isVariable=e}},t.prototype.initVariableItem=function(t){var e=t instanceof a_&&!t.isEmptyContent?t.content:t;if(e instanceof dy){var n=this.maskSymbol,r=e.name;0===r.indexOf(n)&&r.lastIndexOf(n)===r.length-1&&(e.isVariable=!0)}},t.getVariablesFromItems=function(e){var n=[];return e.forEach((function(e){var r;e instanceof Ey?r=t.getVariablesFromTextItem(e):e instanceof a_?r=t.getVariablesFromPlaceholderItem(e):e instanceof Av?r=t.getVariablesFromImageItem(e):e instanceof yv?r=t.getVariablesFromEllipseItem(e):e instanceof hy?r=t.getVariablesFromRectangleItem(e):e instanceof uy?r=t.getVariablesFromShapeItem(e):e instanceof Ky&&(r=t.getVariablesFromGroupItem(e)),lg.isEmpty(null!=r?lg.without(r,null):null)||r.forEach((function(t){null==n.find((function(e){return e.name==t.name&&e.type==t.type}))&&n.push(t)}))})),n},t.getVariablesFromGroupItem=function(t){return this.getVariablesFromItems(t.getNestedItems(!0))},t.getVariablesFromShapeItem=function(t){return null},t.getVariablesFromEllipseItem=function(t){return null},t.getVariablesFromRectangleItem=function(t){return null},t.getVariablesFromImageItem=function(t){return t.isVariable?[{name:t.name,type:"Image",value:null}]:null},t.getVariablesFromPlaceholderItem=function(t){if(!t.isVariable)return null;if(t instanceof a_&&t.isBarcodePlaceholder){var e=t.content;return[{name:t.name,type:"BarcodePlaceholder",barcodeFormat:t.barcodeFormat,barcodeSubType:e.barcodeSubType,value:e.barcodeContent}]}return[{name:t.name,type:"ImagePlaceholder",value:null}]},t.getVariablesFromTextItem=function(e){var n=[];if(t.isInStringPlacehodler(e))return e.placeholders.forEach((function(t){n.push({name:t.name,type:"InString",value:null!=t.value&&""!==t.value?t.value:t.name})})),n;var r=t.getInterpolationVariables(e);return lg.isEmpty(r)?e.isVariable?[{name:e.name,type:"Text",value:e.text}]:null:r},t.getInterpolationVariables=function(e){var n=[];if(t.isInStringPlacehodler(e))return n;for(var r,i=Hg(e.text)?(r=e.text,(new DOMParser).parseFromString("<span>"+r+"</span>","application/xml").querySelector("span").textContent):e.text,o=/\{\{(.+?)\}\}/g,s=o.exec(i);null!=s;)n.push({name:s[1],type:"InString",value:s[1],values:[],mask:null}),s=o.exec(i);return n},t.isInStringPlacehodler=function(t){return t instanceof Ey&&t.placeholders.length>0},t}(),vS=function(){function t(){}return t.prototype.convert=function(t){var e=this._replaceInterpolationStrings(t);return!e.isEmpty&&(t.originalText=e.inStringText,t.text=e.inStringText,t.placeholders.addRange(t.placeholders.concat(e.placeholders)),!0)},t.prototype._replaceInterpolationStrings=function(t){var e,n,r=yS.getInterpolationVariables(t),i=new _S;if(lg.isEmpty(r))return i;var o=t.text;try{for(var s=function(t){var e="function"==typeof Symbol&&Symbol.iterator,n=e&&t[e],r=0;if(n)return n.call(t);if(t&&"number"==typeof t.length)return{next:function(){return t&&r>=t.length&&(t=void 0),{value:t&&t[r++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")}(r),a=s.next();!a.done;a=s.next()){var l=a.value,u="[#"+l.name+"]",c="{{"+l.name+"}}";o=Hg(t.text)?bS(o,c,u):o.replace(c,u);var h=new Fv(u,l.name,l.mask,l.name,l.values);i.placeholders.push(h)}}catch(p){e={error:p}}finally{try{a&&!a.done&&(n=s.return)&&n.call(s)}finally{if(e)throw e.error}}return i.inStringText=o,i},t}(),_S=function(){function t(){this.placeholders=[]}return Object.defineProperty(t.prototype,"isEmpty",{get:function(){return lg.isEmpty(this.placeholders)},enumerable:!0,configurable:!0}),t}();function bS(t,e,n){var r=(new DOMParser).parseFromString("<body>"+t+"</body>","text/xml").getElementsByTagName("body")[0];if(!r.textContent.includes(e))return t;for(var i=r,o=null;i!==o;){if(!(i=lg.find(i.childNodes,(function(t){return t.textContent.includes(e)}))))return t;lg.isEmpty(i.childNodes)&&(o=i)}return o.textContent=o.textContent.replace(e,n),r.innerHTML}var wS,CS,xS=function(){var t=function(e,n){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(e,n)};return function(e,n){function r(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),SS=function(t){function e(e,n,r,i){var o=t.call(this,r,n)||this;return o._productHandler=e,o._canvas=i,o}return xS(e,t),e.prototype._executeCommandBody=function(){return t=this,void 0,n=function(){return function(t,e){var n,r,i,o,s={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]};return o={next:a(0),throw:a(1),return:a(2)},"function"==typeof Symbol&&(o[Symbol.iterator]=function(){return this}),o;function a(o){return function(a){return function(o){if(n)throw new TypeError("Generator is already executing.");for(;s;)try{if(n=1,r&&(i=2&o[0]?r.return:o[0]?r.throw||((i=r.return)&&i.call(r),0):r.next)&&!(i=i.call(r,o[1])).done)return i;switch(r=0,i&&(o=[2&o[0],i.value]),o[0]){case 0:case 1:i=o;break;case 4:return s.label++,{value:o[1],done:!1};case 5:s.label++,r=o[1],o=[0];continue;case 7:o=s.ops.pop(),s.trys.pop();continue;default:if(!(i=(i=s.trys).length>0&&i[i.length-1])&&(6===o[0]||2===o[0])){s=0;continue}if(3===o[0]&&(!i||o[1]>i[0]&&o[1]<i[3])){s.label=o[1];break}if(6===o[0]&&s.label<i[1]){s.label=i[1],i=o;break}if(i&&s.label<i[2]){s.label=i[2],s.ops.push(o);break}i[2]&&s.ops.pop(),s.trys.pop();continue}o=e.call(t,s)}catch(a){o=[6,a],r=0}finally{n=i=0}if(5&o[0])throw o[1];return{value:o[0]?o[1]:void 0,done:!0}}([o,a])}}}(this,(function(t){return this.replaceInterpolationPlaceholders(),[2]}))},new((e=void 0)||(e=Promise))((function(r,i){function o(t){try{a(n.next(t))}catch(e){i(e)}}function s(t){try{a(n.throw(t))}catch(e){i(e)}}function a(t){var n;t.done?r(t.value):(n=t.value,n instanceof e?n:new e((function(t){t(n)}))).then(o,s)}a((n=n.apply(t,[])).next())}));var t,e,n},e.prototype.replaceInterpolationPlaceholders=function(){var t=lg.filter(this._product.getAllItems({ignoreMockups:!1,flatGroupItems:!0}),(function(t){return t instanceof Ey})),e=new vS,n=[];return t.forEach((function(t){e.convert(t)&&n.push(t)})),n.length>0&&GP.updateItems(n,this._productHandler,this._canvas),n},e.prototype.redo=function(){throw new Xf},e.prototype.undo=function(){throw new Xf},e}(Fx),PS=function(){var t=function(e,n){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(e,n)};return function(e,n){function r(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),IS=function(t){function e(e,n,r,i,o){var s=t.call(this,n,e,r)||this;return s._productThemeManager=i,s._commandManager=o,s}return PS(e,t),e.prototype._executeCommandBody=function(){return t=this,void 0,n=function(){return function(t,e){var n,r,i,o,s={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]};return o={next:a(0),throw:a(1),return:a(2)},"function"==typeof Symbol&&(o[Symbol.iterator]=function(){return this}),o;function a(o){return function(a){return function(o){if(n)throw new TypeError("Generator is already executing.");for(;s;)try{if(n=1,r&&(i=2&o[0]?r.return:o[0]?r.throw||((i=r.return)&&i.call(r),0):r.next)&&!(i=i.call(r,o[1])).done)return i;switch(r=0,i&&(o=[2&o[0],i.value]),o[0]){case 0:case 1:i=o;break;case 4:return s.label++,{value:o[1],done:!1};case 5:s.label++,r=o[1],o=[0];continue;case 7:o=s.ops.pop(),s.trys.pop();continue;default:if(!(i=(i=s.trys).length>0&&i[i.length-1])&&(6===o[0]||2===o[0])){s=0;continue}if(3===o[0]&&(!i||o[1]>i[0]&&o[1]<i[3])){s.label=o[1];break}if(6===o[0]&&s.label<i[1]){s.label=i[1],i=o;break}if(i&&s.label<i[2]){s.label=i[2],s.ops.push(o);break}i[2]&&s.ops.pop(),s.trys.pop();continue}o=e.call(t,s)}catch(a){o=[6,a],r=0}finally{n=i=0}if(5&o[0])throw o[1];return{value:o[0]?o[1]:void 0,done:!0}}([o,a])}}}(this,(function(t){return[2,this._productThemeManager.applyProductTheme(this._args.theme,this._product,this._commandManager)]}))},new((e=void 0)||(e=Promise))((function(r,i){function o(t){try{a(n.next(t))}catch(e){i(e)}}function s(t){try{a(n.throw(t))}catch(e){i(e)}}function a(t){var n;t.done?r(t.value):(n=t.value,n instanceof e?n:new e((function(t){t(n)}))).then(o,s)}a((n=n.apply(t,[])).next())}));var t,e,n},e.prototype.redo=function(){throw new Xf},e.prototype.undo=function(){throw new Xf},e}(Fx),ES=function(){var t=function(e,n){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(e,n)};return function(e,n){function r(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),TS=function(t){function e(e,n,r,i,o){var s=t.call(this,[r.placeholder],n,r)||this;return s._productHandler=e,s._productThemeManager=i,s._eventManager=o,s}return ES(e,t),e.prototype._executeCommandBody=function(){return t=this,void 0,n=function(){var t,e,n,r,i;return function(t,e){var n,r,i,o,s={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]};return o={next:a(0),throw:a(1),return:a(2)},"function"==typeof Symbol&&(o[Symbol.iterator]=function(){return this}),o;function a(o){return function(a){return function(o){if(n)throw new TypeError("Generator is already executing.");for(;s;)try{if(n=1,r&&(i=2&o[0]?r.return:o[0]?r.throw||((i=r.return)&&i.call(r),0):r.next)&&!(i=i.call(r,o[1])).done)return i;switch(r=0,i&&(o=[2&o[0],i.value]),o[0]){case 0:case 1:i=o;break;case 4:return s.label++,{value:o[1],done:!1};case 5:s.label++,r=o[1],o=[0];continue;case 7:o=s.ops.pop(),s.trys.pop();continue;default:if(!(i=(i=s.trys).length>0&&i[i.length-1])&&(6===o[0]||2===o[0])){s=0;continue}if(3===o[0]&&(!i||o[1]>i[0]&&o[1]<i[3])){s.label=o[1];break}if(6===o[0]&&s.label<i[1]){s.label=i[1],i=o;break}if(i&&s.label<i[2]){s.label=i[2],s.ops.push(o);break}i[2]&&s.ops.pop(),s.trys.pop();continue}o=e.call(t,s)}catch(a){o=[6,a],r=0}finally{n=i=0}if(5&o[0])throw o[1];return{value:o[0]?o[1]:void 0,done:!0}}([o,a])}}}(this,(function(o){return t=this._args.content,n=this._productHandler.getHandler(e=this._args.placeholder),null!=t?(r=this._productHandler.getHandler(t),e.content=t,i=this._productThemeManager.currentProductTheme,e.contentPermissions.imagePermissions.allowKeepOverlayColor||null!=e.contentOverlayEffect?null!=i&&this._productThemeManager.applyToItem(e,i):e.imageContent.overlayEffect=null,n.content=r,e.content.getItemChangedEvent().fire()):(e.content=null,n.content=null,e.itemPermissions.itemToolbarPermissions.showEditButton=!0),this._eventManager.imageContentChangedEvent.fire(e),[2]}))},new((e=void 0)||(e=Promise))((function(r,i){function o(t){try{a(n.next(t))}catch(e){i(e)}}function s(t){try{a(n.throw(t))}catch(e){i(e)}}function a(t){var n;t.done?r(t.value):(n=t.value,n instanceof e?n:new e((function(t){t(n)}))).then(o,s)}a((n=n.apply(t,[])).next())}));var t,e,n},e.prototype.redo=function(){throw new Xf},e.prototype.undo=function(){throw new Xf},e}(oS),AS=function(){var t=function(e,n){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(e,n)};return function(e,n){function r(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),kS=function(t){function e(e,n,r,i){var o=t.call(this,r.items,n,r)||this;return o._productHandler=e,o._canvas=i,o}return AS(e,t),e.prototype._executeCommandBody=function(){return t=this,void 0,n=function(){var t;return function(t,e){var n,r,i,o,s={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]};return o={next:a(0),throw:a(1),return:a(2)},"function"==typeof Symbol&&(o[Symbol.iterator]=function(){return this}),o;function a(o){return function(a){return function(o){if(n)throw new TypeError("Generator is already executing.");for(;s;)try{if(n=1,r&&(i=2&o[0]?r.return:o[0]?r.throw||((i=r.return)&&i.call(r),0):r.next)&&!(i=i.call(r,o[1])).done)return i;switch(r=0,i&&(o=[2&o[0],i.value]),o[0]){case 0:case 1:i=o;break;case 4:return s.label++,{value:o[1],done:!1};case 5:s.label++,r=o[1],o=[0];continue;case 7:o=s.ops.pop(),s.trys.pop();continue;default:if(!(i=(i=s.trys).length>0&&i[i.length-1])&&(6===o[0]||2===o[0])){s=0;continue}if(3===o[0]&&(!i||o[1]>i[0]&&o[1]<i[3])){s.label=o[1];break}if(6===o[0]&&s.label<i[1]){s.label=i[1],i=o;break}if(i&&s.label<i[2]){s.label=i[2],s.ops.push(o);break}i[2]&&s.ops.pop(),s.trys.pop();continue}o=e.call(t,s)}catch(a){o=[6,a],r=0}finally{n=i=0}if(5&o[0])throw o[1];return{value:o[0]?o[1]:void 0,done:!0}}([o,a])}}}(this,(function(e){if(0===this._items.length)return[2];for(t=0;t<this._items.length;t++)this.alignItem(this._items[t],this._args.align);return this._canvas.updateTexts(),[2]}))},new((e=void 0)||(e=Promise))((function(r,i){function o(t){try{a(n.next(t))}catch(e){i(e)}}function s(t){try{a(n.throw(t))}catch(e){i(e)}}function a(t){var n;t.done?r(t.value):(n=t.value,n instanceof e?n:new e((function(t){t(n)}))).then(o,s)}a((n=n.apply(t,[])).next())}));var t,e,n},e.prototype.alignItem=function(t,e){var n=t.locked?null:this._productHandler.getHandler(t);null!=n&&n instanceof Fw&&this._canvas.alignItemHandler(n,e)},e.prototype.redo=function(){throw new Xf},e.prototype.undo=function(){throw new Xf},e}(oS),OS=function(){var t=function(e,n){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(e,n)};return function(e,n){function r(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),MS=function(t){function e(e,n,r){var i=t.call(this,null,e,n)||this;return i._canvas=r,i}return OS(e,t),e.prototype._executeCommandBody=function(){return t=this,void 0,n=function(){return function(t,e){var n,r,i,o,s={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]};return o={next:a(0),throw:a(1),return:a(2)},"function"==typeof Symbol&&(o[Symbol.iterator]=function(){return this}),o;function a(o){return function(a){return function(o){if(n)throw new TypeError("Generator is already executing.");for(;s;)try{if(n=1,r&&(i=2&o[0]?r.return:o[0]?r.throw||((i=r.return)&&i.call(r),0):r.next)&&!(i=i.call(r,o[1])).done)return i;switch(r=0,i&&(o=[2&o[0],i.value]),o[0]){case 0:case 1:i=o;break;case 4:return s.label++,{value:o[1],done:!1};case 5:s.label++,r=o[1],o=[0];continue;case 7:o=s.ops.pop(),s.trys.pop();continue;default:if(!(i=(i=s.trys).length>0&&i[i.length-1])&&(6===o[0]||2===o[0])){s=0;continue}if(3===o[0]&&(!i||o[1]>i[0]&&o[1]<i[3])){s.label=o[1];break}if(6===o[0]&&s.label<i[1]){s.label=i[1],i=o;break}if(i&&s.label<i[2]){s.label=i[2],s.ops.push(o);break}i[2]&&s.ops.pop(),s.trys.pop();continue}o=e.call(t,s)}catch(a){o=[6,a],r=0}finally{n=i=0}if(5&o[0])throw o[1];return{value:o[0]?o[1]:void 0,done:!0}}([o,a])}}}(this,(function(t){return this._canvas.alignItemHandlers(this._args.align),[2]}))},new((e=void 0)||(e=Promise))((function(r,i){function o(t){try{a(n.next(t))}catch(e){i(e)}}function s(t){try{a(n.throw(t))}catch(e){i(e)}}function a(t){var n;t.done?r(t.value):(n=t.value,n instanceof e?n:new e((function(t){t(n)}))).then(o,s)}a((n=n.apply(t,[])).next())}));var t,e,n},e.prototype.redo=function(){throw new Xf},e.prototype.undo=function(){throw new Xf},e}(oS),RS=function(){var t=function(e,n){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(e,n)};return function(e,n){function r(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),DS=function(t){function e(e,n,r,i,o){var s=t.call(this,r.items,n,r)||this;return s._productHandler=e,s._commandManager=i,s._canvas=o,s}return RS(e,t),e.prototype._executeCommandBody=function(){return t=this,void 0,n=function(){return function(t,e){var n,r,i,o,s={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]};return o={next:a(0),throw:a(1),return:a(2)},"function"==typeof Symbol&&(o[Symbol.iterator]=function(){return this}),o;function a(o){return function(a){return function(o){if(n)throw new TypeError("Generator is already executing.");for(;s;)try{if(n=1,r&&(i=2&o[0]?r.return:o[0]?r.throw||((i=r.return)&&i.call(r),0):r.next)&&!(i=i.call(r,o[1])).done)return i;switch(r=0,i&&(o=[2&o[0],i.value]),o[0]){case 0:case 1:i=o;break;case 4:return s.label++,{value:o[1],done:!1};case 5:s.label++,r=o[1],o=[0];continue;case 7:o=s.ops.pop(),s.trys.pop();continue;default:if(!(i=(i=s.trys).length>0&&i[i.length-1])&&(6===o[0]||2===o[0])){s=0;continue}if(3===o[0]&&(!i||o[1]>i[0]&&o[1]<i[3])){s.label=o[1];break}if(6===o[0]&&s.label<i[1]){s.label=i[1],i=o;break}if(i&&s.label<i[2]){s.label=i[2],s.ops.push(o);break}i[2]&&s.ops.pop(),s.trys.pop();continue}o=e.call(t,s)}catch(a){o=[6,a],r=0}finally{n=i=0}if(5&o[0])throw o[1];return{value:o[0]?o[1]:void 0,done:!0}}([o,a])}}}(this,(function(t){return[2,this.bringItems(this._items,this._args.position)]}))},new((e=void 0)||(e=Promise))((function(r,i){function o(t){try{a(n.next(t))}catch(e){i(e)}}function s(t){try{a(n.throw(t))}catch(e){i(e)}}function a(t){var n;t.done?r(t.value):(n=t.value,n instanceof e?n:new e((function(t){t(n)}))).then(o,s)}a((n=n.apply(t,[])).next())}));var t,e,n},e.prototype.bringItems=function(t,e){var n=this;if(0!==t.length){var r=this._productHandler.currentSurface;"front"===e||"levelUp"===e?r.containers.reverse().forEach((function(r){return r.items.reverse().forEach((function(r){r instanceof ty&&lg.contains(t,r)&&n.bringItem(r,e,!1)}))})):"bottom"!==e&&"levelDown"!==e||r.containers.forEach((function(r){return r.items.forEach((function(r){r instanceof ty&&lg.contains(t,r)&&n.bringItem(r,e,!1)}))}));var i=t.map((function(t){return n._productHandler.getHandler(t)}));this._canvas.setSelectedItemHandlers(i),this._canvas.updateTexts()}},e.prototype.bringItem=function(t,e,n){if(null==n&&(n=!0),t.itemPermissions.allowZOrderChange){var r=t.parentContainer.items.toArray(),i=lg.indexOf(r,t),o=r.length-1,s=i;if(i>=0)switch(e){case"front":s=o;break;case"levelUp":s=Math.min(i+1,o);break;case"levelDown":s=Math.max(i-1,0);break;case"bottom":s=0}this._commandManager.execute(NS.moveItem,{item:t,newIndex:s,needUpdate:n})}},e.prototype.redo=function(){throw new Xf},e.prototype.undo=function(){throw new Xf},e}(oS),BS=function(){var t=function(e,n){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(e,n)};return function(e,n){function r(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),jS=function(t){function e(e,n,r){var i=t.call(this,[r.item],n,r)||this;return i._productHandler=e,i}return BS(e,t),e.prototype._executeCommandBody=function(){return t=this,void 0,n=function(){return function(t,e){var n,r,i,o,s={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]};return o={next:a(0),throw:a(1),return:a(2)},"function"==typeof Symbol&&(o[Symbol.iterator]=function(){return this}),o;function a(o){return function(a){return function(o){if(n)throw new TypeError("Generator is already executing.");for(;s;)try{if(n=1,r&&(i=2&o[0]?r.return:o[0]?r.throw||((i=r.return)&&i.call(r),0):r.next)&&!(i=i.call(r,o[1])).done)return i;switch(r=0,i&&(o=[2&o[0],i.value]),o[0]){case 0:case 1:i=o;break;case 4:return s.label++,{value:o[1],done:!1};case 5:s.label++,r=o[1],o=[0];continue;case 7:o=s.ops.pop(),s.trys.pop();continue;default:if(!(i=(i=s.trys).length>0&&i[i.length-1])&&(6===o[0]||2===o[0])){s=0;continue}if(3===o[0]&&(!i||o[1]>i[0]&&o[1]<i[3])){s.label=o[1];break}if(6===o[0]&&s.label<i[1]){s.label=i[1],i=o;break}if(i&&s.label<i[2]){s.label=i[2],s.ops.push(o);break}i[2]&&s.ops.pop(),s.trys.pop();continue}o=e.call(t,s)}catch(a){o=[6,a],r=0}finally{n=i=0}if(5&o[0])throw o[1];return{value:o[0]?o[1]:void 0,done:!0}}([o,a])}}}(this,(function(t){return[2,this.moveTo(this._args.item,this._args.newIndex,this._args.needUpdate)]}))},new((e=void 0)||(e=Promise))((function(r,i){function o(t){try{a(n.next(t))}catch(e){i(e)}}function s(t){try{a(n.throw(t))}catch(e){i(e)}}function a(t){var n;t.done?r(t.value):(n=t.value,n instanceof e?n:new e((function(t){t(n)}))).then(o,s)}a((n=n.apply(t,[])).next())}));var t,e,n},e.prototype.moveTo=function(t,e,n){null==n&&(n=!0);var r=null!=t?t.parentContainer:null;if(null!=r){var i=r.items.toArray(),o=Math.max(i.length-1,0),s=lg.indexOf(i,t);e=Math.min(Math.max(e,0),o),s=Math.min(Math.max(s,0),o);var a=this._getMoveRange(i,s);if(null==a)return;if(e<a[0]?e=a[0]:e>a[1]&&(e=a[1]),s===e)return;r.items.move(s,e),this._productHandler.redraw()}},e.prototype._getMoveRange=function(t,e){if(e<0)return null;if(null==t)return null;if(e>=t.length)return null;for(var n=e,r=e,i=e-1;i>=0&&t[i].itemPermissions.allowZOrderChange;i--)n=i;for(i=e+1;i<t.length&&t[i].itemPermissions.allowZOrderChange;i++)r=i;return[n,r]},e.prototype.redo=function(){throw new Xf},e.prototype.undo=function(){throw new Xf},e}(oS),FS=function(){var t=function(e,n){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(e,n)};return function(e,n){function r(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),zS=function(t){function e(e,n,r){var i=t.call(this,[],n,r)||this;return i._itemsDataApplier=e,i}return FS(e,t),e.prototype._executeCommandBody=function(){return t=this,void 0,n=function(){var t;return function(t,e){var n,r,i,o,s={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]};return o={next:a(0),throw:a(1),return:a(2)},"function"==typeof Symbol&&(o[Symbol.iterator]=function(){return this}),o;function a(o){return function(a){return function(o){if(n)throw new TypeError("Generator is already executing.");for(;s;)try{if(n=1,r&&(i=2&o[0]?r.return:o[0]?r.throw||((i=r.return)&&i.call(r),0):r.next)&&!(i=i.call(r,o[1])).done)return i;switch(r=0,i&&(o=[2&o[0],i.value]),o[0]){case 0:case 1:i=o;break;case 4:return s.label++,{value:o[1],done:!1};case 5:s.label++,r=o[1],o=[0];continue;case 7:o=s.ops.pop(),s.trys.pop();continue;default:if(!(i=(i=s.trys).length>0&&i[i.length-1])&&(6===o[0]||2===o[0])){s=0;continue}if(3===o[0]&&(!i||o[1]>i[0]&&o[1]<i[3])){s.label=o[1];break}if(6===o[0]&&s.label<i[1]){s.label=i[1],i=o;break}if(i&&s.label<i[2]){s.label=i[2],s.ops.push(o);break}i[2]&&s.ops.pop(),s.trys.pop();continue}o=e.call(t,s)}catch(a){o=[6,a],r=0}finally{n=i=0}if(5&o[0])throw o[1];return{value:o[0]?o[1]:void 0,done:!0}}([o,a])}}}(this,(function(e){switch(e.label){case 0:switch(this._args.type){case wS.AutoScaledTextItem:t=new Oy;break;case wS.BarcodeItem:t=new Hy;break;case wS.BoundedTextItem:t=new Gy;break;case wS.CurvedTextItem:t=new cv;break;case wS.EllipseItem:t=new yv;break;case wS.ImageItem:t=new Av;break;case wS.LineItem:t=new dv;break;case wS.PathBoundedTextItem:t=new Kv;break;case wS.PlaceholderItem:t=new a_;break;case wS.PlainTextItem:t=new u_;break;case wS.RectangleItem:t=new hy;break;case wS.ArchedTextItem:t=new d_;break;case wS.ShapeItem:t=new uy}return[4,this._itemsDataApplier.applyToItem(t,this._args.itemData,{changePosition:!0,relativeToPrintArea:null==this._args.relativeToPrintArea||this._args.relativeToPrintArea})];case 1:return e.sent(),[2,t]}}))},new((e=void 0)||(e=Promise))((function(r,i){function o(t){try{a(n.next(t))}catch(e){i(e)}}function s(t){try{a(n.throw(t))}catch(e){i(e)}}function a(t){var n;t.done?r(t.value):(n=t.value,n instanceof e?n:new e((function(t){t(n)}))).then(o,s)}a((n=n.apply(t,[])).next())}));var t,e,n},e.prototype.redo=function(){throw new Xf},e.prototype.undo=function(){throw new Xf},e}(oS);(CS=wS||(wS={})).isText=function(t){return[CS.AutoScaledTextItem,CS.BoundedTextItem,CS.CurvedTextItem,CS.PathBoundedTextItem,CS.PlainTextItem,CS.ArchedTextItem].includes(t)},CS.getType=function(t){if(t instanceof Oy)return CS.AutoScaledTextItem;if(t instanceof Hy)return CS.BarcodeItem;if(t instanceof Gy)return CS.BoundedTextItem;if(t instanceof cv)return CS.CurvedTextItem;if(t instanceof yv)return CS.EllipseItem;if(t instanceof Av)return CS.ImageItem;if(t instanceof dv)return CS.LineItem;if(t instanceof Kv)return CS.PathBoundedTextItem;if(t instanceof a_)return CS.PlaceholderItem;if(t instanceof u_)return CS.PlainTextItem;if(t instanceof d_)return CS.ArchedTextItem;if(t instanceof hy)return CS.RectangleItem;if(t instanceof uy)return CS.ShapeItem;if(t instanceof Uv)return CS.LayoutItem;if(t instanceof rv)return CS.ClipartItem;if(t instanceof Ky)return CS.GroupItem;throw new $f("ItemType: Unexpected item!")},function(t){t[t.AutoScaledTextItem=0]="AutoScaledTextItem",t[t.BarcodeItem=1]="BarcodeItem",t[t.BoundedTextItem=2]="BoundedTextItem",t[t.CurvedTextItem=3]="CurvedTextItem",t[t.EllipseItem=4]="EllipseItem",t[t.ImageItem=5]="ImageItem",t[t.LineItem=6]="LineItem",t[t.PathBoundedTextItem=7]="PathBoundedTextItem",t[t.PlaceholderItem=8]="PlaceholderItem",t[t.PlainTextItem=9]="PlainTextItem",t[t.RectangleItem=10]="RectangleItem",t[t.ArchedTextItem=11]="ArchedTextItem",t[t.ShapeItem=12]="ShapeItem",t[t.GroupItem=13]="GroupItem",t[t.LayoutItem=14]="LayoutItem",t[t.ClipartItem=15]="ClipartItem"}(wS||(wS={}));var LS,HS,NS,WS,VS=function(){var t=function(e,n){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(e,n)};return function(e,n){function r(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),US=function(t){function e(e,n,r,i){var o=t.call(this,[],r,i)||this;return o._itemsDataApplier=e,o._productHandler=n,o}return VS(e,t),e.prototype._executeCommandBody=function(){return t=this,void 0,n=function(){var t,e,n,r=this;return function(t,e){var n,r,i,o,s={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]};return o={next:a(0),throw:a(1),return:a(2)},"function"==typeof Symbol&&(o[Symbol.iterator]=function(){return this}),o;function a(o){return function(a){return function(o){if(n)throw new TypeError("Generator is already executing.");for(;s;)try{if(n=1,r&&(i=2&o[0]?r.return:o[0]?r.throw||((i=r.return)&&i.call(r),0):r.next)&&!(i=i.call(r,o[1])).done)return i;switch(r=0,i&&(o=[2&o[0],i.value]),o[0]){case 0:case 1:i=o;break;case 4:return s.label++,{value:o[1],done:!1};case 5:s.label++,r=o[1],o=[0];continue;case 7:o=s.ops.pop(),s.trys.pop();continue;default:if(!(i=(i=s.trys).length>0&&i[i.length-1])&&(6===o[0]||2===o[0])){s=0;continue}if(3===o[0]&&(!i||o[1]>i[0]&&o[1]<i[3])){s.label=o[1];break}if(6===o[0]&&s.label<i[1]){s.label=i[1],i=o;break}if(i&&s.label<i[2]){s.label=i[2],s.ops.push(o);break}i[2]&&s.ops.pop(),s.trys.pop();continue}o=e.call(t,s)}catch(a){o=[6,a],r=0}finally{n=i=0}if(5&o[0])throw o[1];return{value:o[0]?o[1]:void 0,done:!0}}([o,a])}}}(this,(function(i){switch(i.label){case 0:t=!1,e=(null!=this._args.items?this._args.items:this._productHandler.selectedItems).filter((function(t){return t instanceof(r._args.type||Object)})),n=0,i.label=1;case 1:return n<e.length?[4,this._itemsDataApplier.applyToItem(e[n],this._args.itemData,this._args.applyParams)]:[3,4];case 2:t=i.sent()||t,i.label=3;case 3:return n++,[3,1];case 4:return this._productHandler.redraw(),[2]}}))},new((e=void 0)||(e=Promise))((function(r,i){function o(t){try{a(n.next(t))}catch(e){i(e)}}function s(t){try{a(n.throw(t))}catch(e){i(e)}}function a(t){var n;t.done?r(t.value):(n=t.value,n instanceof e?n:new e((function(t){t(n)}))).then(o,s)}a((n=n.apply(t,[])).next())}));var t,e,n},e.prototype.redo=function(){throw new Xf},e.prototype.undo=function(){throw new Xf},e}(oS),qS=function(){var t=function(e,n){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(e,n)};return function(e,n){function r(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),GS=function(t,e){var n="function"==typeof Symbol&&t[Symbol.iterator];if(!n)return t;var r,i,o=n.call(t),s=[];try{for(;(void 0===e||e-- >0)&&!(r=o.next()).done;)s.push(r.value)}catch(a){i={error:a}}finally{try{r&&!r.done&&(n=o.return)&&n.call(o)}finally{if(i)throw i.error}}return s},YS=function(t){function e(e,n,r,i,o,s,a){var l=t.call(this,n.dataList.map((function(t){return t.item})),e,n)||this;return l._productHandler=r,l._product=i,l._variableItemHelper=o,l._commandManager=s,l._eventManager=a,l}return qS(e,t),e.prototype._executeCommandBody=function(){return t=this,void 0,n=function(){return function(t,e){var n,r,i,o,s={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]};return o={next:a(0),throw:a(1),return:a(2)},"function"==typeof Symbol&&(o[Symbol.iterator]=function(){return this}),o;function a(o){return function(a){return function(o){if(n)throw new TypeError("Generator is already executing.");for(;s;)try{if(n=1,r&&(i=2&o[0]?r.return:o[0]?r.throw||((i=r.return)&&i.call(r),0):r.next)&&!(i=i.call(r,o[1])).done)return i;switch(r=0,i&&(o=[2&o[0],i.value]),o[0]){case 0:case 1:i=o;break;case 4:return s.label++,{value:o[1],done:!1};case 5:s.label++,r=o[1],o=[0];continue;case 7:o=s.ops.pop(),s.trys.pop();continue;default:if(!(i=(i=s.trys).length>0&&i[i.length-1])&&(6===o[0]||2===o[0])){s=0;continue}if(3===o[0]&&(!i||o[1]>i[0]&&o[1]<i[3])){s.label=o[1];break}if(6===o[0]&&s.label<i[1]){s.label=i[1],i=o;break}if(i&&s.label<i[2]){s.label=i[2],s.ops.push(o);break}i[2]&&s.ops.pop(),s.trys.pop();continue}o=e.call(t,s)}catch(a){o=[6,a],r=0}finally{n=i=0}if(5&o[0])throw o[1];return{value:o[0]?o[1]:void 0,done:!0}}([o,a])}}}(this,(function(t){return[2,this._setImageDataList(this._args.dataList,this._args.keepLocation)]}))},new((e=void 0)||(e=Promise))((function(r,i){function o(t){try{a(n.next(t))}catch(e){i(e)}}function s(t){try{a(n.throw(t))}catch(e){i(e)}}function a(t){var n;t.done?r(t.value):(n=t.value,n instanceof e?n:new e((function(t){t(n)}))).then(o,s)}a((n=n.apply(t,[])).next())}));var t,e,n},e.prototype._setImageDataList=function(t,e){var n,r;this._normalizeDataList(t);try{for(var i=function(t){var e="function"==typeof Symbol&&Symbol.iterator,n=e&&t[e],r=0;if(n)return n.call(t);if(t&&"number"==typeof t.length)return{next:function(){return t&&r>=t.length&&(t=void 0),{value:t&&t[r++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")}(t),o=i.next();!o.done;o=i.next()){var s=o.value,a=s.item,l=s.imageData,u=s.tags,c=s.rotatedRectangle;if(a instanceof a_){var h=GP.createImageContentForPlaceholder(a,l,this._productHandler,this._args.dpi);h instanceof Av&&this._ensureImageItemName(h),a.isStubContent=!1,null!=h&&null!=u&&(h.tags=u),this._commandManager.execute(NS.addContent,{placeholder:a,content:h},Ox.NotUpdate)}else{var p=GP.getImageItem(a),d=this._productHandler.getHandler(p);p.effect!==ov.Colorize&&(p.fillColor=bm.createColor("rgba(0, 0, 0, 0)")),null!=p.overlayEffect&&(p.imagePermissions.allowKeepOverlayColor?GP.setOverlayEffectColor(p,p.overlayEffect.color):p.overlayEffect.color=null),p.setData(l),null!=u&&(p.tags=u),null!=c?d.setTransformedRectangle(c):d.updateRectangle(e),d.quickUpdate(),this._ensureImageItemName(p)}this._eventManager.imageContentChangedEvent.notify(a)}}catch(f){n={error:f}}finally{try{o&&!o.done&&(r=i.return)&&r.call(i)}finally{if(n)throw n.error}}this._productHandler.updateSelection()},e.prototype._ensureImageItemName=function(t){t.isVariable&&(t.isVariable=!1,this._variableItemHelper.setVariableValue(t,!0,!0))},e.prototype._normalizeDataList=function(t){for(var e=[],n=t.length,r=function(n){var r=t[n].item;if(r instanceof a_&&null!=r.linkId&&-1===e.indexOf(r.linkId)){var o=i._product.getAllItems({ignoreMockups:!1,flatGroupItems:!0}).filter((function(t){return t instanceof a_&&t.linkId===r.linkId}));t.push.apply(t,function(){for(var t=[],e=0;e<arguments.length;e++)t=t.concat(GS(arguments[e]));return t}(o.map((function(e){return{item:e,imageData:t[n].imageData,tags:t[n].tags}})))),e.push(r.linkId)}},i=this,o=0;o<n;o++)r(o)},e.prototype.redo=function(){throw new Xf},e.prototype.undo=function(){throw new Xf},e}(oS),XS=function(){var t=function(e,n){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(e,n)};return function(e,n){function r(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),$S=function(t){function e(e,n,r){var i=t.call(this,[],n,e)||this;return i._productHandler=r,i}return XS(e,t),e.prototype._executeCommandBody=function(){return t=this,void 0,n=function(){var t,e=this;return function(t,e){var n,r,i,o,s={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]};return o={next:a(0),throw:a(1),return:a(2)},"function"==typeof Symbol&&(o[Symbol.iterator]=function(){return this}),o;function a(o){return function(a){return function(o){if(n)throw new TypeError("Generator is already executing.");for(;s;)try{if(n=1,r&&(i=2&o[0]?r.return:o[0]?r.throw||((i=r.return)&&i.call(r),0):r.next)&&!(i=i.call(r,o[1])).done)return i;switch(r=0,i&&(o=[2&o[0],i.value]),o[0]){case 0:case 1:i=o;break;case 4:return s.label++,{value:o[1],done:!1};case 5:s.label++,r=o[1],o=[0];continue;case 7:o=s.ops.pop(),s.trys.pop();continue;default:if(!(i=(i=s.trys).length>0&&i[i.length-1])&&(6===o[0]||2===o[0])){s=0;continue}if(3===o[0]&&(!i||o[1]>i[0]&&o[1]<i[3])){s.label=o[1];break}if(6===o[0]&&s.label<i[1]){s.label=i[1],i=o;break}if(i&&s.label<i[2]){s.label=i[2],s.ops.push(o);break}i[2]&&s.ops.pop(),s.trys.pop();continue}o=e.call(t,s)}catch(a){o=[6,a],r=0}finally{n=i=0}if(5&o[0])throw o[1];return{value:o[0]?o[1]:void 0,done:!0}}([o,a])}}}(this,(function(n){return t=this._args.scale,(null!=this._args.items?this._args.items:this._productHandler.selectedItems).forEach((function(n){if(n instanceof a_){var r=e._productHandler.getHandler(n);r.forceQualityChangeInfoBar=null!=e._args.forceQualityChangeInfoBar&&e._args.forceQualityChangeInfoBar,QC(r.getContentScale(),t)||r.setContentScale(t),e._historyArgs.historyUpdateMode!==Ox.NotUpdate&&r.quickUpdate()}})),this._productHandler.updateSelection(),this._productHandler.redraw(),[2]}))},new((e=void 0)||(e=Promise))((function(r,i){function o(t){try{a(n.next(t))}catch(e){i(e)}}function s(t){try{a(n.throw(t))}catch(e){i(e)}}function a(t){var n;t.done?r(t.value):(n=t.value,n instanceof e?n:new e((function(t){t(n)}))).then(o,s)}a((n=n.apply(t,[])).next())}));var t,e,n},e.prototype.redo=function(){throw new Xf},e.prototype.undo=function(){throw new Xf},e}(oS),QS=function(){var t=function(e,n){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(e,n)};return function(e,n){function r(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),ZS=function(t){function e(e,n,r){var i=t.call(this,[],n,e)||this;return i._productHandler=r,i}return QS(e,t),e.prototype._executeCommandBody=function(){return t=this,void 0,n=function(){var t=this;return function(t,e){var n,r,i,o,s={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]};return o={next:a(0),throw:a(1),return:a(2)},"function"==typeof Symbol&&(o[Symbol.iterator]=function(){return this}),o;function a(o){return function(a){return function(o){if(n)throw new TypeError("Generator is already executing.");for(;s;)try{if(n=1,r&&(i=2&o[0]?r.return:o[0]?r.throw||((i=r.return)&&i.call(r),0):r.next)&&!(i=i.call(r,o[1])).done)return i;switch(r=0,i&&(o=[2&o[0],i.value]),o[0]){case 0:case 1:i=o;break;case 4:return s.label++,{value:o[1],done:!1};case 5:s.label++,r=o[1],o=[0];continue;case 7:o=s.ops.pop(),s.trys.pop();continue;default:if(!(i=(i=s.trys).length>0&&i[i.length-1])&&(6===o[0]||2===o[0])){s=0;continue}if(3===o[0]&&(!i||o[1]>i[0]&&o[1]<i[3])){s.label=o[1];break}if(6===o[0]&&s.label<i[1]){s.label=i[1],i=o;break}if(i&&s.label<i[2]){s.label=i[2],s.ops.push(o);break}i[2]&&s.ops.pop(),s.trys.pop();continue}o=e.call(t,s)}catch(a){o=[6,a],r=0}finally{n=i=0}if(5&o[0])throw o[1];return{value:o[0]?o[1]:void 0,done:!0}}([o,a])}}}(this,(function(e){return(null!=this._args&&null!=this._args.items?this._args.items:this._productHandler.selectedItems).forEach((function(e){e instanceof a_&&t._productHandler.getHandler(e).resetContent()})),[2]}))},new((e=void 0)||(e=Promise))((function(r,i){function o(t){try{a(n.next(t))}catch(e){i(e)}}function s(t){try{a(n.throw(t))}catch(e){i(e)}}function a(t){var n;t.done?r(t.value):(n=t.value,n instanceof e?n:new e((function(t){t(n)}))).then(o,s)}a((n=n.apply(t,[])).next())}));var t,e,n},e.prototype.redo=function(){throw new Xf},e.prototype.undo=function(){throw new Xf},e}(oS),KS=function(){var t=function(e,n){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(e,n)};return function(e,n){function r(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),JS=function(t){function e(e,n,r){var i=t.call(this,[],n,e)||this;return i._productHandler=r,i}return KS(e,t),e.prototype._executeCommandBody=function(){return t=this,void 0,n=function(){var t,e,n=this;return function(t,e){var n,r,i,o,s={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]};return o={next:a(0),throw:a(1),return:a(2)},"function"==typeof Symbol&&(o[Symbol.iterator]=function(){return this}),o;function a(o){return function(a){return function(o){if(n)throw new TypeError("Generator is already executing.");for(;s;)try{if(n=1,r&&(i=2&o[0]?r.return:o[0]?r.throw||((i=r.return)&&i.call(r),0):r.next)&&!(i=i.call(r,o[1])).done)return i;switch(r=0,i&&(o=[2&o[0],i.value]),o[0]){case 0:case 1:i=o;break;case 4:return s.label++,{value:o[1],done:!1};case 5:s.label++,r=o[1],o=[0];continue;case 7:o=s.ops.pop(),s.trys.pop();continue;default:if(!(i=(i=s.trys).length>0&&i[i.length-1])&&(6===o[0]||2===o[0])){s=0;continue}if(3===o[0]&&(!i||o[1]>i[0]&&o[1]<i[3])){s.label=o[1];break}if(6===o[0]&&s.label<i[1]){s.label=i[1],i=o;break}if(i&&s.label<i[2]){s.label=i[2],s.ops.push(o);break}i[2]&&s.ops.pop(),s.trys.pop();continue}o=e.call(t,s)}catch(a){o=[6,a],r=0}finally{n=i=0}if(5&o[0])throw o[1];return{value:o[0]?o[1]:void 0,done:!0}}([o,a])}}}(this,(function(r){return null==this._args.barcodeFormat?[2]:lg.isEmpty(t=null!=this._args.items?this._args.items:this._productHandler.selectedItems)?[2]:((e=new Dy).barcodeFormat=this._args.barcodeFormat,e.barcodeSubType=this._args.barcodeFormat===Ty.QR_CODE?Ay.VCard:Ay.None,t.filter((function(t){return t instanceof a_})).forEach((function(t){if(null==t.content||null==t.barcodeFormat||!(t.content instanceof Hy))return!1;t.content=GP.createImageContentForPlaceholder(t,e,n._productHandler),t.content.barcodeContent=null,t.isStubContent=!0,n._productHandler.getHandler(t).content=n._productHandler.getHandler(t.content)})),[2])}))},new((e=void 0)||(e=Promise))((function(r,i){function o(t){try{a(n.next(t))}catch(e){i(e)}}function s(t){try{a(n.throw(t))}catch(e){i(e)}}function a(t){var n;t.done?r(t.value):(n=t.value,n instanceof e?n:new e((function(t){t(n)}))).then(o,s)}a((n=n.apply(t,[])).next())}));var t,e,n},e.prototype.redo=function(){throw new Xf},e.prototype.undo=function(){throw new Xf},e}(oS),tP=function(){var t=function(e,n){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(e,n)};return function(e,n){function r(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),eP=function(t,e){var n="function"==typeof Symbol&&t[Symbol.iterator];if(!n)return t;var r,i,o=n.call(t),s=[];try{for(;(void 0===e||e-- >0)&&!(r=o.next()).done;)s.push(r.value)}catch(a){i={error:a}}finally{try{r&&!r.done&&(n=o.return)&&n.call(o)}finally{if(i)throw i.error}}return s},nP=function(){for(var t=[],e=0;e<arguments.length;e++)t=t.concat(eP(arguments[e]));return t},rP=function(t){function e(e,n,r){var i=t.call(this,[],n,e)||this;return i._productHandler=r,i}return tP(e,t),e.prototype._executeCommandBody=function(){return t=this,void 0,n=function(){var t=this;return function(t,e){var n,r,i,o,s={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]};return o={next:a(0),throw:a(1),return:a(2)},"function"==typeof Symbol&&(o[Symbol.iterator]=function(){return this}),o;function a(o){return function(a){return function(o){if(n)throw new TypeError("Generator is already executing.");for(;s;)try{if(n=1,r&&(i=2&o[0]?r.return:o[0]?r.throw||((i=r.return)&&i.call(r),0):r.next)&&!(i=i.call(r,o[1])).done)return i;switch(r=0,i&&(o=[2&o[0],i.value]),o[0]){case 0:case 1:i=o;break;case 4:return s.label++,{value:o[1],done:!1};case 5:s.label++,r=o[1],o=[0];continue;case 7:o=s.ops.pop(),s.trys.pop();continue;default:if(!(i=(i=s.trys).length>0&&i[i.length-1])&&(6===o[0]||2===o[0])){s=0;continue}if(3===o[0]&&(!i||o[1]>i[0]&&o[1]<i[3])){s.label=o[1];break}if(6===o[0]&&s.label<i[1]){s.label=i[1],i=o;break}if(i&&s.label<i[2]){s.label=i[2],s.ops.push(o);break}i[2]&&s.ops.pop(),s.trys.pop();continue}o=e.call(t,s)}catch(a){o=[6,a],r=0}finally{n=i=0}if(5&o[0])throw o[1];return{value:o[0]?o[1]:void 0,done:!0}}([o,a])}}}(this,(function(e){return(null!=this._args.items?this._args.items:this._productHandler.selectedItems).filter((function(t){return t instanceof Kv})).forEach((function(e){return t._setColumnCount(e,t._args.value)})),[2]}))},new((e=void 0)||(e=Promise))((function(r,i){function o(t){try{a(n.next(t))}catch(e){i(e)}}function s(t){try{a(n.throw(t))}catch(e){i(e)}}function a(t){var n;t.done?r(t.value):(n=t.value,n instanceof e?n:new e((function(t){t(n)}))).then(o,s)}a((n=n.apply(t,[])).next())}));var t,e,n},e.prototype._setColumnCount=function(t,e){for(var n=function(t){if(0===t.length)return fg.empty;var e=Math.min.apply(Math,nP(t.map((function(t){return t.left})))),n=Math.max.apply(Math,nP(t.map((function(t){return t.right})))),r=Math.min.apply(Math,nP(t.map((function(t){return t.top})))),i=Math.max.apply(Math,nP(t.map((function(t){return t.bottom}))));return fg.FromLTRB(e,r,n,i)}(t.boundingPaths.map((function(t){var e=document.createElementNS("http://www.w3.org/2000/svg","svg");e.style.position="absolute",e.style.visibility="hidden";var n=document.createElementNS("http://www.w3.org/2000/svg","path");e.appendChild(n),n.setAttribute("d",t.toString());var r=document.querySelector("body");r.appendChild(e);var i,o=(i=n.getBBox(),new fg(i.x,i.y,i.width,i.height));return r.removeChild(e),o}))),r=(n.width-10*(e-1))/e,i=[],o=0;o<e;o++){var s=n.left+(r+10)*o,a=n.top,l=s+r,u=a+n.height,c=new Eg;c.moveTo(s,a),c.lineTo(l,a),c.lineTo(l,u),c.lineTo(s,u),c.lineTo(s,a),i.push(c)}t.boundingPaths=i},e.prototype.redo=function(){throw new Xf},e.prototype.undo=function(){throw new Xf},e}(oS),iP=function(){var t=function(e,n){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(e,n)};return function(e,n){function r(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),oP=function(t){function e(e,n,r){var i=t.call(this,[],n,e)||this;return i._productHandler=r,i}return iP(e,t),e.prototype._executeCommandBody=function(){return t=this,void 0,n=function(){var t,e=this;return function(t,e){var n,r,i,o,s={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]};return o={next:a(0),throw:a(1),return:a(2)},"function"==typeof Symbol&&(o[Symbol.iterator]=function(){return this}),o;function a(o){return function(a){return function(o){if(n)throw new TypeError("Generator is already executing.");for(;s;)try{if(n=1,r&&(i=2&o[0]?r.return:o[0]?r.throw||((i=r.return)&&i.call(r),0):r.next)&&!(i=i.call(r,o[1])).done)return i;switch(r=0,i&&(o=[2&o[0],i.value]),o[0]){case 0:case 1:i=o;break;case 4:return s.label++,{value:o[1],done:!1};case 5:s.label++,r=o[1],o=[0];continue;case 7:o=s.ops.pop(),s.trys.pop();continue;default:if(!(i=(i=s.trys).length>0&&i[i.length-1])&&(6===o[0]||2===o[0])){s=0;continue}if(3===o[0]&&(!i||o[1]>i[0]&&o[1]<i[3])){s.label=o[1];break}if(6===o[0]&&s.label<i[1]){s.label=i[1],i=o;break}if(i&&s.label<i[2]){s.label=i[2],s.ops.push(o);break}i[2]&&s.ops.pop(),s.trys.pop();continue}o=e.call(t,s)}catch(a){o=[6,a],r=0}finally{n=i=0}if(5&o[0])throw o[1];return{value:o[0]?o[1]:void 0,done:!0}}([o,a])}}}(this,(function(n){return t=null==this._args.clockwise||this._args.clockwise,(null!=this._args.items?this._args.items:this._productHandler.selectedItems).filter((function(t){return t instanceof a_})).forEach((function(n){var r=e._productHandler.getHandler(n);return t?r.rotateContentRight():r.rotateContentLeft()})),[2]}))},new((e=void 0)||(e=Promise))((function(r,i){function o(t){try{a(n.next(t))}catch(e){i(e)}}function s(t){try{a(n.throw(t))}catch(e){i(e)}}function a(t){var n;t.done?r(t.value):(n=t.value,n instanceof e?n:new e((function(t){t(n)}))).then(o,s)}a((n=n.apply(t,[])).next())}));var t,e,n},e.prototype.redo=function(){throw new Xf},e.prototype.undo=function(){throw new Xf},e}(oS),sP=function(){var t=function(e,n){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(e,n)};return function(e,n){function r(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),aP=function(t){function e(e,n,r,i){var o=t.call(this,[],n,e)||this;return o._productHandler=r,o._commandManager=i,o}return sP(e,t),e.prototype._executeCommandBody=function(){return t=this,void 0,n=function(){var t,e,n,r,i,o,s=this;return function(t,e){var n,r,i,o,s={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]};return o={next:a(0),throw:a(1),return:a(2)},"function"==typeof Symbol&&(o[Symbol.iterator]=function(){return this}),o;function a(o){return function(a){return function(o){if(n)throw new TypeError("Generator is already executing.");for(;s;)try{if(n=1,r&&(i=2&o[0]?r.return:o[0]?r.throw||((i=r.return)&&i.call(r),0):r.next)&&!(i=i.call(r,o[1])).done)return i;switch(r=0,i&&(o=[2&o[0],i.value]),o[0]){case 0:case 1:i=o;break;case 4:return s.label++,{value:o[1],done:!1};case 5:s.label++,r=o[1],o=[0];continue;case 7:o=s.ops.pop(),s.trys.pop();continue;default:if(!(i=(i=s.trys).length>0&&i[i.length-1])&&(6===o[0]||2===o[0])){s=0;continue}if(3===o[0]&&(!i||o[1]>i[0]&&o[1]<i[3])){s.label=o[1];break}if(6===o[0]&&s.label<i[1]){s.label=i[1],i=o;break}if(i&&s.label<i[2]){s.label=i[2],s.ops.push(o);break}i[2]&&s.ops.pop(),s.trys.pop();continue}o=e.call(t,s)}catch(a){o=[6,a],r=0}finally{n=i=0}if(5&o[0])throw o[1];return{value:o[0]?o[1]:void 0,done:!0}}([o,a])}}}(this,(function(a){switch(a.label){case 0:return e=(t=this._args).items,n=t.selectOnCanvas,[4,Promise.all(e.map((function(t){return GP.positionItemInArea(s._productHandler,t,s._args.sourceWidth,s._args.sourceHeight,!1),s._commandManager.execute(HS.addItems,{items:[t],selectOnCanvas:!1,ignoreOrderRules:!0,ignoreCanvasRotate:!1})})))];case 1:return a.sent(),(r=this._productHandler.contentAngle)>0?[4,this._productHandler.waitUpdate()]:[3,3];case 2:a.sent(),i=this._productHandler.userEditPrintArea,GP.rotateItems(this._productHandler,e,(null!=(o=this._productHandler.userEditContainer.region)?o:i.bounds).center,-r),a.label=3;case 3:return n&&this._commandManager.execute(WS.selectItems,{items:e.filter((function(t){return!t.locked}))}),[2]}}))},new((e=void 0)||(e=Promise))((function(r,i){function o(t){try{a(n.next(t))}catch(e){i(e)}}function s(t){try{a(n.throw(t))}catch(e){i(e)}}function a(t){var n;t.done?r(t.value):(n=t.value,n instanceof e?n:new e((function(t){t(n)}))).then(o,s)}a((n=n.apply(t,[])).next())}));var t,e,n},e.prototype.redo=function(){throw new Xf},e.prototype.undo=function(){throw new Xf},e}(oS),lP=function(){var t=function(e,n){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(e,n)};return function(e,n){function r(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),uP=function(t){function e(e,n,r,i,o){var s=t.call(this,[],n,e)||this;return s._productHandler=r,s._product=i,s._commandManager=o,s}return lP(e,t),e.prototype._executeCommandBody=function(){return t=this,void 0,n=function(){var t,e,n,r,i=this;return function(t,e){var n,r,i,o,s={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]};return o={next:a(0),throw:a(1),return:a(2)},"function"==typeof Symbol&&(o[Symbol.iterator]=function(){return this}),o;function a(o){return function(a){return function(o){if(n)throw new TypeError("Generator is already executing.");for(;s;)try{if(n=1,r&&(i=2&o[0]?r.return:o[0]?r.throw||((i=r.return)&&i.call(r),0):r.next)&&!(i=i.call(r,o[1])).done)return i;switch(r=0,i&&(o=[2&o[0],i.value]),o[0]){case 0:case 1:i=o;break;case 4:return s.label++,{value:o[1],done:!1};case 5:s.label++,r=o[1],o=[0];continue;case 7:o=s.ops.pop(),s.trys.pop();continue;default:if(!(i=(i=s.trys).length>0&&i[i.length-1])&&(6===o[0]||2===o[0])){s=0;continue}if(3===o[0]&&(!i||o[1]>i[0]&&o[1]<i[3])){s.label=o[1];break}if(6===o[0]&&s.label<i[1]){s.label=i[1],i=o;break}if(i&&s.label<i[2]){s.label=i[2],s.ops.push(o);break}i[2]&&s.ops.pop(),s.trys.pop();continue}o=e.call(t,s)}catch(a){o=[6,a],r=0}finally{n=i=0}if(5&o[0])throw o[1];return{value:o[0]?o[1]:void 0,done:!0}}([o,a])}}}(this,(function(o){switch(o.label){case 0:return t=this._productHandler.userEditContainer,e=this._product.getAllItems({ignoreMockups:!0}).filter((function(e){return e.parentContainer.parentComponent===i._productHandler.currentSurface&&e.parentContainer.id===t.id&&e.itemPermissions.allowRemoveOnLayoutChange})),n=function(t){return t instanceof Ey&&0===t.placeholders.length&&0===t.values.length},r=e.filter((function(t){return t instanceof a_||n(t)})),this._args.items.forEach((function(t){t.fromLayout=!0,t.itemPermissions.allowRemoveOnLayoutChange=!0,GP.positionItemInArea(i._productHandler,t,i._args.sourceWidth,i._args.sourceHeight,!0),i._commandManager.execute(HS.addItems,{items:[t],selectOnCanvas:!1,ignoreOrderRules:!0,ignoreCanvasRotate:!0,createCloneName:null==r||null==r.find((function(e){return e.name===t.name}))})})),[4,this._productHandler.waitUpdate()];case 1:return o.sent(),GP.changeItemsContent(this._product,this._productHandler,this._commandManager,r,this._args.items,!0),0!==e.length&&this._commandManager.execute(NS.deleteItems,{items:e,force:!0}),[2]}}))},new((e=void 0)||(e=Promise))((function(r,i){function o(t){try{a(n.next(t))}catch(e){i(e)}}function s(t){try{a(n.throw(t))}catch(e){i(e)}}function a(t){var n;t.done?r(t.value):(n=t.value,n instanceof e?n:new e((function(t){t(n)}))).then(o,s)}a((n=n.apply(t,[])).next())}));var t,e,n},e.prototype.redo=function(){throw new Xf},e.prototype.undo=function(){throw new Xf},e}(oS),cP=function(){var t=function(e,n){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(e,n)};return function(e,n){function r(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),hP=function(t,e){var n="function"==typeof Symbol&&t[Symbol.iterator];if(!n)return t;var r,i,o=n.call(t),s=[];try{for(;(void 0===e||e-- >0)&&!(r=o.next()).done;)s.push(r.value)}catch(a){i={error:a}}finally{try{r&&!r.done&&(n=o.return)&&n.call(o)}finally{if(i)throw i.error}}return s},pP=function(t){function e(e,n,r){var i=t.call(this,null,e,n)||this;return i._commandManager=r,i}return cP(e,t),e.prototype._executeCommandBody=function(){return t=this,void 0,n=function(){var t,e,n,r,i,o,s,a,l,u,c,h;return function(t,e){var n,r,i,o,s={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]};return o={next:a(0),throw:a(1),return:a(2)},"function"==typeof Symbol&&(o[Symbol.iterator]=function(){return this}),o;function a(o){return function(a){return function(o){if(n)throw new TypeError("Generator is already executing.");for(;s;)try{if(n=1,r&&(i=2&o[0]?r.return:o[0]?r.throw||((i=r.return)&&i.call(r),0):r.next)&&!(i=i.call(r,o[1])).done)return i;switch(r=0,i&&(o=[2&o[0],i.value]),o[0]){case 0:case 1:i=o;break;case 4:return s.label++,{value:o[1],done:!1};case 5:s.label++,r=o[1],o=[0];continue;case 7:o=s.ops.pop(),s.trys.pop();continue;default:if(!(i=(i=s.trys).length>0&&i[i.length-1])&&(6===o[0]||2===o[0])){s=0;continue}if(3===o[0]&&(!i||o[1]>i[0]&&o[1]<i[3])){s.label=o[1];break}if(6===o[0]&&s.label<i[1]){s.label=i[1],i=o;break}if(i&&s.label<i[2]){s.label=i[2],s.ops.push(o);break}i[2]&&s.ops.pop(),s.trys.pop();continue}o=e.call(t,s)}catch(a){o=[6,a],r=0}finally{n=i=0}if(5&o[0])throw o[1];return{value:o[0]?o[1]:void 0,done:!0}}([o,a])}}}(this,(function(p){switch(p.label){case 0:return n=(t=this._args).asLayoutItem,null==(e=t.items)||0===e.length?[2]:(r=hP(e,1),o=(i=r[0]).parentContainer,a=(null!=(s=i.parentGroupItem)?s.items:o.items).toArray(),e.some((function(t){return t.parentGroupItem!==s}))?[2]:(l=Math.max.apply(Math,function(){for(var t=[],e=0;e<arguments.length;e++)t=t.concat(hP(arguments[e]));return t}(e.map((function(t){return a.indexOf(t)}))))-e.length+1,u=e.sort((function(t,e){return a.indexOf(t)-a.indexOf(e)})),c=u.map((function(t){return t.clone()})),(h=n?new Uv(c):new Ky(c)).name="Group item",this._commandManager.execute(WS.clearSelection),this._commandManager.execute(NS.deleteItems,{items:e,force:!0,autoUngroup:!1,autoParentGroupDelete:!1}),[4,this._commandManager.execute(HS.addItems,{items:[h],targetContainer:o,index:l,selectOnCanvas:!0,targetGroupItem:s})]));case 1:return p.sent(),[2]}}))},new((e=void 0)||(e=Promise))((function(r,i){function o(t){try{a(n.next(t))}catch(e){i(e)}}function s(t){try{a(n.throw(t))}catch(e){i(e)}}function a(t){var n;t.done?r(t.value):(n=t.value,n instanceof e?n:new e((function(t){t(n)}))).then(o,s)}a((n=n.apply(t,[])).next())}));var t,e,n},e.prototype.redo=function(){throw new Xf},e.prototype.undo=function(){throw new Xf},e}(oS),dP=function(){var t=function(e,n){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(e,n)};return function(e,n){function r(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),fP=function(t,e,n,r){return new(n||(n=Promise))((function(i,o){function s(t){try{l(r.next(t))}catch(e){o(e)}}function a(t){try{l(r.throw(t))}catch(e){o(e)}}function l(t){var e;t.done?i(t.value):(e=t.value,e instanceof n?e:new n((function(t){t(e)}))).then(s,a)}l((r=r.apply(t,e||[])).next())}))},gP=function(t,e){var n,r,i,o,s={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]};return o={next:a(0),throw:a(1),return:a(2)},"function"==typeof Symbol&&(o[Symbol.iterator]=function(){return this}),o;function a(o){return function(a){return function(o){if(n)throw new TypeError("Generator is already executing.");for(;s;)try{if(n=1,r&&(i=2&o[0]?r.return:o[0]?r.throw||((i=r.return)&&i.call(r),0):r.next)&&!(i=i.call(r,o[1])).done)return i;switch(r=0,i&&(o=[2&o[0],i.value]),o[0]){case 0:case 1:i=o;break;case 4:return s.label++,{value:o[1],done:!1};case 5:s.label++,r=o[1],o=[0];continue;case 7:o=s.ops.pop(),s.trys.pop();continue;default:if(!(i=(i=s.trys).length>0&&i[i.length-1])&&(6===o[0]||2===o[0])){s=0;continue}if(3===o[0]&&(!i||o[1]>i[0]&&o[1]<i[3])){s.label=o[1];break}if(6===o[0]&&s.label<i[1]){s.label=i[1],i=o;break}if(i&&s.label<i[2]){s.label=i[2],s.ops.push(o);break}i[2]&&s.ops.pop(),s.trys.pop();continue}o=e.call(t,s)}catch(a){o=[6,a],r=0}finally{n=i=0}if(5&o[0])throw o[1];return{value:o[0]?o[1]:void 0,done:!0}}([o,a])}}},mP=function(t){function e(e,n,r){var i=t.call(this,null,e,n)||this;return i._commandManager=r,i}return dP(e,t),e.prototype._executeCommandBody=function(){return fP(this,void 0,void 0,(function(){var t;return gP(this,(function(e){switch(e.label){case 0:return[4,this._ungroupItems((t=this._args).items,t.keepNestedGroups)];case 1:return e.sent(),[2]}}))}))},e.prototype._ungroupItems=function(t,e){return void 0===e&&(e=!1),fP(this,void 0,void 0,(function(){var n,r,i=this;return gP(this,(function(o){switch(o.label){case 0:return[4,this._commandManager.execute(WS.clearSelection)];case 1:return o.sent(),n=this._historyArgs.history,0===t.length?[2]:!e&&t.every((function(t){return t instanceof Ky&&t.groupItemPermissions.allowUngroup}))?(n.pause(),t.forEach((function(t){return i._ungroupItems(t.items.toArray(),!0)})),n.resume(),[2]):t.every((function(t,e,n){var r=function(t,e){var n="function"==typeof Symbol&&t[Symbol.iterator];if(!n)return t;var r,i,o=n.call(t),s=[];try{for(;(void 0===e||e-- >0)&&!(r=o.next()).done;)s.push(r.value)}catch(a){i={error:a}}finally{try{r&&!r.done&&(n=o.return)&&n.call(o)}finally{if(i)throw i.error}}return s}(n,1);return null!=t.parentGroupItem&&t.parentGroupItem===r[0].parentGroupItem}))?(n.pause(),[4,this._extractItemsFromGroupItem(t)]):[2];case 2:return r=o.sent(),n.resume(),[4,this._commandManager.execute(WS.selectItems,{items:r})];case 3:return o.sent(),[2]}}))}))},e.prototype._extractItemsFromGroupItem=function(t){return fP(this,void 0,void 0,(function(){var e,n,r,i,o,s,a,l,u;return gP(this,(function(c){switch(c.label){case 0:return(e=t[0].parentGroupItem).items.toArray().filter((function(e){return!t.includes(e)})).length<2&&(t=e.items.toArray()),n=t.map((function(t){return t.clone()})).reverse(),r=e.parentContainer,o=null!=(i=e.parentGroupItem)?i.items.toArray():r.items.toArray(),s=o.indexOf(e),a=null,i instanceof Uv&&(l=i.getItemsOrder(),u=l.indexOf(e.id),a=u),[4,this._commandManager.execute(NS.deleteItems,{items:t,force:!0,autoUngroup:!1,autoParentGroupDelete:!0})];case 1:return c.sent(),0!==e.items.length?[3,3]:[4,this._commandManager.execute(NS.deleteItems,{items:[e],force:!0,autoUngroup:!1})];case 2:c.sent(),c.label=3;case 3:return[4,this._commandManager.execute(HS.addItems,{targetContainer:r,items:n,index:s,orderIndex:a,selectOnCanvas:!1,targetGroupItem:i})];case 4:return c.sent(),[2,n]}}))}))},e.prototype.redo=function(){throw new Xf},e.prototype.undo=function(){throw new Xf},e}(oS),yP=function(){var t=function(e,n){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(e,n)};return function(e,n){function r(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),vP=function(t){function e(e,n,r,i,o,s,a){var l=t.call(this,null,e,n)||this;return l._productHandler=r,l._product=i,l._commandManager=o,l._productThemeManager=s,l._canvas=a,l}return yP(e,t),e.prototype._executeCommandBody=function(){return t=this,void 0,n=function(){var t,e,n,r,i,o,s,a,l;return function(t,e){var n,r,i,o,s={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]};return o={next:a(0),throw:a(1),return:a(2)},"function"==typeof Symbol&&(o[Symbol.iterator]=function(){return this}),o;function a(o){return function(a){return function(o){if(n)throw new TypeError("Generator is already executing.");for(;s;)try{if(n=1,r&&(i=2&o[0]?r.return:o[0]?r.throw||((i=r.return)&&i.call(r),0):r.next)&&!(i=i.call(r,o[1])).done)return i;switch(r=0,i&&(o=[2&o[0],i.value]),o[0]){case 0:case 1:i=o;break;case 4:return s.label++,{value:o[1],done:!1};case 5:s.label++,r=o[1],o=[0];continue;case 7:o=s.ops.pop(),s.trys.pop();continue;default:if(!(i=(i=s.trys).length>0&&i[i.length-1])&&(6===o[0]||2===o[0])){s=0;continue}if(3===o[0]&&(!i||o[1]>i[0]&&o[1]<i[3])){s.label=o[1];break}if(6===o[0]&&s.label<i[1]){s.label=i[1],i=o;break}if(i&&s.label<i[2]){s.label=i[2],s.ops.push(o);break}i[2]&&s.ops.pop(),s.trys.pop();continue}o=e.call(t,s)}catch(a){o=[6,a],r=0}finally{n=i=0}if(5&o[0])throw o[1];return{value:o[0]?o[1]:void 0,done:!0}}([o,a])}}}(this,(function(u){switch(u.label){case 0:return n=(t=this._args).newItems,null==(e=t.targetGroupItem)||null==n||n.length<1?[2]:(r=!1,i=this._productHandler.getHandler(e),o=i.getTransformedRectangle(r),s=e.items.toArray(),GP.changeItemsContent(this._product,this._productHandler,this._commandManager,s,n,!1),e.items.clear(),e.addItems(n),(a=e.getNestedItems(!0).filter((function(t){return t instanceof Ey}))).length>0?[4,GP.waitForItemsUpdated(a,this._canvas)]:[3,2]);case 1:u.sent(),u.label=2;case 2:return l=i.getTransformedRectangle(r).bounds,GP.positionItemInArea(this._productHandler,e,l.width,l.height,!0,o,l.center,r),null!=this._productThemeManager.currentProductTheme&&this._updateAppliedProductTheme(),0===o.angle?[3,5]:a.length>0?[4,GP.waitForItemsUpdated(a,this._canvas)]:[3,4];case 3:u.sent(),u.label=4;case 4:GP.rotateItems(this._productHandler,[e],o.center,o.angle),u.label=5;case 5:return this._commandManager.execute(WS.selectItems,{items:[e]}),[2]}}))},new((e=void 0)||(e=Promise))((function(r,i){function o(t){try{a(n.next(t))}catch(e){i(e)}}function s(t){try{a(n.throw(t))}catch(e){i(e)}}function a(t){var n;t.done?r(t.value):(n=t.value,n instanceof e?n:new e((function(t){t(n)}))).then(o,s)}a((n=n.apply(t,[])).next())}));var t,e,n},e.prototype._updateAppliedProductTheme=function(){this._commandManager.execute(LS.applyProductTheme,{theme:this._productThemeManager.currentProductTheme})},e.prototype.redo=function(){throw new Xf},e.prototype.undo=function(){throw new Xf},e}(oS),_P=function(){var t=function(e,n){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(e,n)};return function(e,n){function r(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),bP=function(t){function e(e,n){return t.call(this,null,e,n)||this}return _P(e,t),e.prototype._executeCommandBody=function(){return t=this,void 0,n=function(){var t,e,n,r;return function(t,e){var n,r,i,o,s={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]};return o={next:a(0),throw:a(1),return:a(2)},"function"==typeof Symbol&&(o[Symbol.iterator]=function(){return this}),o;function a(o){return function(a){return function(o){if(n)throw new TypeError("Generator is already executing.");for(;s;)try{if(n=1,r&&(i=2&o[0]?r.return:o[0]?r.throw||((i=r.return)&&i.call(r),0):r.next)&&!(i=i.call(r,o[1])).done)return i;switch(r=0,i&&(o=[2&o[0],i.value]),o[0]){case 0:case 1:i=o;break;case 4:return s.label++,{value:o[1],done:!1};case 5:s.label++,r=o[1],o=[0];continue;case 7:o=s.ops.pop(),s.trys.pop();continue;default:if(!(i=(i=s.trys).length>0&&i[i.length-1])&&(6===o[0]||2===o[0])){s=0;continue}if(3===o[0]&&(!i||o[1]>i[0]&&o[1]<i[3])){s.label=o[1];break}if(6===o[0]&&s.label<i[1]){s.label=i[1],i=o;break}if(i&&s.label<i[2]){s.label=i[2],s.ops.push(o);break}i[2]&&s.ops.pop(),s.trys.pop();continue}o=e.call(t,s)}catch(a){o=[6,a],r=0}finally{n=i=0}if(5&o[0])throw o[1];return{value:o[0]?o[1]:void 0,done:!0}}([o,a])}}}(this,(function(i){if(n=(t=this._args).colorGroup,r=t.newColor,!((e=t.clipartItem)instanceof rv)||null==n||null==r)throw new Error("ChangeClipartItemColorCommand: Uncorrect arguments");if(!(r instanceof um||r.color instanceof um))throw new Error("ChangeClipartItemColorCommand: Uncorrect color");return e.setColor(n,r),[2]}))},new((e=void 0)||(e=Promise))((function(r,i){function o(t){try{a(n.next(t))}catch(e){i(e)}}function s(t){try{a(n.throw(t))}catch(e){i(e)}}function a(t){var n;t.done?r(t.value):(n=t.value,n instanceof e?n:new e((function(t){t(n)}))).then(o,s)}a((n=n.apply(t,[])).next())}));var t,e,n},e.prototype.redo=function(){throw new Xf},e.prototype.undo=function(){throw new Xf},e}(oS),wP=function(){var t=function(e,n){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(e,n)};return function(e,n){function r(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),CP=function(t){function e(e,n,r,i){var o=t.call(this,n,e,r)||this;return o._commandManager=i,o}return wP(e,t),e.prototype._executeCommandBody=function(){return t=this,void 0,n=function(){var t,e;return function(t,e){var n,r,i,o,s={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]};return o={next:a(0),throw:a(1),return:a(2)},"function"==typeof Symbol&&(o[Symbol.iterator]=function(){return this}),o;function a(o){return function(a){return function(o){if(n)throw new TypeError("Generator is already executing.");for(;s;)try{if(n=1,r&&(i=2&o[0]?r.return:o[0]?r.throw||((i=r.return)&&i.call(r),0):r.next)&&!(i=i.call(r,o[1])).done)return i;switch(r=0,i&&(o=[2&o[0],i.value]),o[0]){case 0:case 1:i=o;break;case 4:return s.label++,{value:o[1],done:!1};case 5:s.label++,r=o[1],o=[0];continue;case 7:o=s.ops.pop(),s.trys.pop();continue;default:if(!(i=(i=s.trys).length>0&&i[i.length-1])&&(6===o[0]||2===o[0])){s=0;continue}if(3===o[0]&&(!i||o[1]>i[0]&&o[1]<i[3])){s.label=o[1];break}if(6===o[0]&&s.label<i[1]){s.label=i[1],i=o;break}if(i&&s.label<i[2]){s.label=i[2],s.ops.push(o);break}i[2]&&s.ops.pop(),s.trys.pop();continue}o=e.call(t,s)}catch(a){o=[6,a],r=0}finally{n=i=0}if(5&o[0])throw o[1];return{value:o[0]?o[1]:void 0,done:!0}}([o,a])}}}(this,(function(n){switch(n.label){case 0:return t=GP.getEmptyPlaceholdersFromProduct(this._product),e=this._args.metadataList.map((function(e,n){return{imageData:e,item:t[n]}})).filter((function(t){return null!=t.item})),[4,this._commandManager.execute(NS.setImageMetadata,{dataList:e})];case 1:return n.sent(),[2,e.map((function(t){return t.item}))]}}))},new((e=void 0)||(e=Promise))((function(r,i){function o(t){try{a(n.next(t))}catch(e){i(e)}}function s(t){try{a(n.throw(t))}catch(e){i(e)}}function a(t){var n;t.done?r(t.value):(n=t.value,n instanceof e?n:new e((function(t){t(n)}))).then(o,s)}a((n=n.apply(t,[])).next())}));var t,e,n},e.prototype.redo=function(){throw new Xf},e.prototype.undo=function(){throw new Xf},e}(Fx),xP=n("z+Ys"),SP=function(){var t=function(e,n){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(e,n)};return function(e,n){function r(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),PP=function(){return(PP=Object.assign||function(t){for(var e,n=1,r=arguments.length;n<r;n++)for(var i in e=arguments[n])Object.prototype.hasOwnProperty.call(e,i)&&(t[i]=e[i]);return t}).apply(this,arguments)},IP=function(t,e,n,r){return new(n||(n=Promise))((function(i,o){function s(t){try{l(r.next(t))}catch(e){o(e)}}function a(t){try{l(r.throw(t))}catch(e){o(e)}}function l(t){var e;t.done?i(t.value):(e=t.value,e instanceof n?e:new n((function(t){t(e)}))).then(s,a)}l((r=r.apply(t,e||[])).next())}))},EP=function(t,e){var n,r,i,o,s={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]};return o={next:a(0),throw:a(1),return:a(2)},"function"==typeof Symbol&&(o[Symbol.iterator]=function(){return this}),o;function a(o){return function(a){return function(o){if(n)throw new TypeError("Generator is already executing.");for(;s;)try{if(n=1,r&&(i=2&o[0]?r.return:o[0]?r.throw||((i=r.return)&&i.call(r),0):r.next)&&!(i=i.call(r,o[1])).done)return i;switch(r=0,i&&(o=[2&o[0],i.value]),o[0]){case 0:case 1:i=o;break;case 4:return s.label++,{value:o[1],done:!1};case 5:s.label++,r=o[1],o=[0];continue;case 7:o=s.ops.pop(),s.trys.pop();continue;default:if(!(i=(i=s.trys).length>0&&i[i.length-1])&&(6===o[0]||2===o[0])){s=0;continue}if(3===o[0]&&(!i||o[1]>i[0]&&o[1]<i[3])){s.label=o[1];break}if(6===o[0]&&s.label<i[1]){s.label=i[1],i=o;break}if(i&&s.label<i[2]){s.label=i[2],s.ops.push(o);break}i[2]&&s.ops.pop(),s.trys.pop();continue}o=e.call(t,s)}catch(a){o=[6,a],r=0}finally{n=i=0}if(5&o[0])throw o[1];return{value:o[0]?o[1]:void 0,done:!0}}([o,a])}}},TP=function(t){function e(e,n,r,i,o,s){var a=t.call(this,n,e,r)||this;return a._productHandler=i,a._commandManager=o,a._canvas=s,a._executeCommandBody=function(){return IP(a,void 0,void 0,(function(){var t,e,n,r=this;return EP(this,(function(i){switch(i.label){case 0:null!=this._canvas&&this._canvas.pauseRedraw(),i.label=1;case 1:return i.trys.push([1,,4,7]),t=this._convertedArgs.target,e=this._items.map(this._productHandler.getHandler),null==this._canvas?[3,3]:(n=this._canvas.getAllItemHandlers(),[4,Promise.all(e.filter((function(t){return t instanceof cC&&!n.includes(t)})).map((function(t){return t.updateForExternalCanvas(r._canvas),t.waitUpdate()})))]);case 2:i.sent(),i.label=3;case 3:return e.forEach((function(t){t._startTransform(),t.beginUpdate()})),t instanceof D_?this._resizeProduct(t):t instanceof km?this._resizePrintArea(t):lg.isArray(t)&&(t[0]instanceof v_?t.forEach((function(t){return r._resizeSurface(t)})):t[0]instanceof ty&&this._resizeItems(t)),this._items.map(this._productHandler.getHandler).forEach((function(t){t.endTransform(!0,!0),t.endUpdate()})),[3,7];case 4:return null==this._canvas?[3,6]:[4,this._canvas.waitUpdate()];case 5:i.sent(),this._canvas.updateSelection(),this._canvas.continueRedraw(),this._canvas.updateTexts(),i.label=6;case 6:return[7];case 7:return[2]}}))}))},a._resizeProduct=function(t){t.surfaces.forEach((function(t){return a._resizeSurface(t)}))},a._resizeSurface=function(t){var e=new fg(0,0,t.width,t.height),n=a._getTransformMatrix(e,DC.Left,DC.Top);t.mockup.allContainers.forEach((function(e){return a._resizeMockupContainer(e,n,t)})),t.printAreas.forEach((function(t){return a._resizePrintAreaBounds(t,n)})),t.containers.forEach((function(e){return a._resizeContainer(e,n,t)})),n.updateObjectByMatrix(t,"width","height")},a._resizeMockupContainer=function(t,e,n){null!=t.size&&t.size.updateByMatrix(e),a._resizeContainer(t,e,n)},a._resizeContainer=function(t,e,n,r){void 0===r&&(r=null),null!=t.region&&t.region.updateByMatrix(e);var i=function(t){return r.bounds.intersectsWith(a._productHandler.getHandler(t).bounds)},o=t.items.toArray().filter((function(t){return null==r||i(t)})),s=a._getResizeOptions(t).resize,l=a._getItemsMatrix(o,s,e,n),u=a._getResizeOptions(t).resetPlaceholderContent;t.items.forEach((function(t){var n=null!=r?a._getTranslateMatrixRelativeToPrintArea(r.bounds,a._productHandler.getHandler(t).bounds,i(t)?l:e):l;a._resizeItem(t,n,u)}))},a._resizeItems=function(t){var e;if(a._getResizeOptions().resize===GC.Original)throw new Yf("Original type not supported when resizing items.");if(1===t.length){var n=a._productHandler.getHandler(t[0]).rectangle;n.angle=0,e=n.bounds}else e=a._getItemsBounds(t);var r=a._getTransformMatrix(e),i=a._getItemsMatrix(t,a._getResizeOptions().resize,r,null);t.forEach((function(t){var e;return a._resizeItem(t,i,null===(e=a._defaultResizeOptions.resetPlaceholderContent)||void 0===e||e)}))},a._resizeItem=function(t,e,n){var r=function(t){var n;t.transformByMatrix(e);var r=t.item;r instanceof Av&&(null===(n=r.values)||void 0===n||n.filter((function(t){return null!=(null==t?void 0:t.transformedRectangle)})).forEach((function(t){t.transformedRectangle=t.transformedRectangle.transformByMatrix(e)})))},i=function(t){n&&null!=t.content&&t.content.updateRectangle(!1,t.item.contentResizeMode,t)},o=a._productHandler.getHandler(t);r(o),o instanceof SC&&(o.updateContentAndFrames(r),i(o)),o instanceof ix&&o.itemHandlers.toArray().filter((function(t){return t instanceof SC})).forEach(i)},a._resizePrintAreaBounds=function(t,e){t.bounds.updateByMatrix(e)},a._resizePrintArea=function(t){var e=a._product.surfaces.toArray().find((function(e){return e.printAreas.contains(t)})),n=a._getMatrixForPrintArea(t);e.containers.forEach((function(r){return a._resizeContainer(r,n,e,t)})),e.printAreas.forEach((function(e){e!==t&&a._resizePrintAreaBounds(e,a._getTranslateMatrixRelativeToPrintArea(t.bounds,e.bounds,n))})),a._resizePrintAreaBounds(t,n),a._resizeSurfaceByPrintArea(e)},a._resizeSurfaceByPrintArea=function(t){var e=fg.getOverallBounds(t.printAreas.toArray().map((function(t){return t.bounds})));new fg(0,0,t.width,t.height).containsRectangle(e)||(t.width=Math.max(t.width,e.right),t.height=Math.max(t.height,e.bottom),e.left>=0||e.top>=0||a._commandManager.execute(NS.translateItems,{items:t.getAllItems().toArray(),translateX:-Math.min(0,e.left),translateY:-Math.min(0,e.top)}))},a._getTransformMatrix=function(t,e,n){void 0===e&&(e=DC.Center),void 0===n&&(n=DC.Center);var r=KC(t,e,n),i=new dg;return i.scaleRelativeToPoint(a._getScaleMultiplier(a._args.width,t.width),a._getScaleMultiplier(a._args.height,t.height),r),i},a._getScaleMultiplier=function(t,e){if("string"==typeof t){if(/%$/.test(t))return Number(t.split(/%/)[0])/100;var n=parseFloat(t);if(isNaN(n))throw new $f("ResizeCommand: Wrong string format: "+t);t=n}if(t<=0)throw new $f("ResizeCommand: Wrong value: "+t);if(e<=0)throw new $f("ResizeCommand: Wrong parentSize: "+e);return t/e},a._convertedArgs=null!=a._args.target?a._args:a._convertExternalConfig(a._args),a}return SP(e,t),Object.defineProperty(e.prototype,"_items",{get:function(){var t=this._convertedArgs.target;if(t instanceof D_)return t.getAllItems();if(t instanceof km){var e=this._product.surfaces.firstOrDefault((function(e){return e.printAreas.contains(t)}));return null==e?[]:e.getAllItems().toArray()}return lg.isArray(t)?t[0]instanceof ty?t:t[0]instanceof v_?lg.flatten(t.map((function(t){return t.getAllItems().toArray()}))):[]:[]},enumerable:!0,configurable:!0}),e.prototype._getTranslateMatrixRelativeToPrintArea=function(t,e,n){var r=new dg;if(e.bottom<=t.top||e.right<=t.left)return r;if(t.intersectsWith(e))return n;var i=t.clone().updateByMatrix(n);return r.translate(e.left>t.right||QC(t.right-e.left,0)?i.right-t.right:0,e.top>t.bottom||QC(t.bottom-e.top,0)?i.bottom-t.bottom:0),r},e.prototype._getItemsMatrix=function(t,e,n,r){var i;if(e!==GC.Original){var o=this._getItemsBounds(t),s=o.clone().updateByMatrix(n),a=function(t,e,n,r,i){if(void 0===n&&(n=GC.Fit),void 0===r&&(r=DC.Center),void 0===i&&(i=DC.Center),fg.isEqual(t,e))return t.clone();var o,s,a=$C({width:t.width,height:t.height},{width:e.width,height:e.height},n);switch(r){case DC.Left:o=e.left;break;case DC.Right:o=e.right-a.width;break;default:o=e.center.x-a.width/2}switch(i){case DC.Top:s=e.top;break;case DC.Bottom:s=e.bottom-a.height;break;default:s=e.center.y-a.height/2}return new fg(o,s,a.width,a.height)}(o,s,e);i=fg.getMatrix(o,a)}else i=this._getTranslateMatrixForOriginalMode(n,r);return i},e.prototype._getTranslateMatrixForOriginalMode=function(t,e,n,r){void 0===n&&(n=DC.Center),void 0===r&&(r=DC.Center);var i=new fg(0,0,e.width,e.height),o=KC(i,n,r),s=KC(i.updateByMatrix(t),n,r),a=new dg;return a.translate(s.x-o.x,s.y-o.y),a},e.prototype._getResizeOptions=function(t){var e=this;return Object(xP.maybe)(this._args.containerOptions).bind((function(e){return Object(xP.maybe)(t).map((function(t){return e[t.name]}))})).caseOf({just:function(t){return PP(PP({},e._defaultResizeOptions),t)},nothing:function(){return e._defaultResizeOptions}})},Object.defineProperty(e.prototype,"_defaultResizeOptions",{get:function(){return PP({resize:GC.Fit,resetPlaceholderContent:!0},this._args.defaultOptions||{})},enumerable:!0,configurable:!0}),e.prototype._getItemsBounds=function(t){var e=this;return lg.isEmpty(t)?fg.empty:fg.getOverallBounds(t.map((function(t){return e._productHandler.getHandler(t).bounds})))},e.prototype._getMatrixForPrintArea=function(t){return this._getTransformMatrix(t.bounds,DC.Left,DC.Top)},e.prototype._convertExternalConfig=function(t){var e;switch(t.targetType){case"surfaces":if(lg.isEmpty(t.targetIds))throw new $f("ResizeCommand: target Ids cannot be empty");e=this._product.surfaces.toArray().filter((function(e){return t.targetIds.includes(e.id)}));break;case"items":if(lg.isEmpty(t.targetIds))throw new $f("ResizeCommand: target Ids cannot be empty");e=this._productHandler.currentSurface.getAllItems({ignoreMockups:!1,flatGroupItems:!0}).toArray().filter((function(e){return t.targetIds.includes(e.id)}));break;case"printArea":if(lg.isEmpty(t.targetIds))throw new $f("ResizeCommand: target Ids cannot be empty");e=lg.flatten(this._product.surfaces.toArray().map((function(t){return t.printAreas.toArray()}))).find((function(e){return t.targetIds.includes(e.id)}));break;default:e=this._product}return{target:e,width:t.width,height:t.height,containerOptions:t.containerOptions,defaultOptions:t.defaultOptions}},e.prototype.redo=function(){throw new Xf},e.prototype.undo=function(){throw new Xf},e}(Fx),AP=function(){var t=function(e,n){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(e,n)};return function(e,n){function r(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),kP=function(t){function e(e,n,r,i){var o=t.call(this,[],e,n)||this;return o._productHandler=r,o._canvas=i,o._convertedArgs=null!=n.items?n:o._convertExternalConfig(n),o._items=o._convertedArgs.items,o}return AP(e,t),e.prototype._executeCommandBody=function(){return t=this,void 0,n=function(){var t,e=this;return function(t,e){var n,r,i,o,s={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]};return o={next:a(0),throw:a(1),return:a(2)},"function"==typeof Symbol&&(o[Symbol.iterator]=function(){return this}),o;function a(o){return function(a){return function(o){if(n)throw new TypeError("Generator is already executing.");for(;s;)try{if(n=1,r&&(i=2&o[0]?r.return:o[0]?r.throw||((i=r.return)&&i.call(r),0):r.next)&&!(i=i.call(r,o[1])).done)return i;switch(r=0,i&&(o=[2&o[0],i.value]),o[0]){case 0:case 1:i=o;break;case 4:return s.label++,{value:o[1],done:!1};case 5:s.label++,r=o[1],o=[0];continue;case 7:o=s.ops.pop(),s.trys.pop();continue;default:if(!(i=(i=s.trys).length>0&&i[i.length-1])&&(6===o[0]||2===o[0])){s=0;continue}if(3===o[0]&&(!i||o[1]>i[0]&&o[1]<i[3])){s.label=o[1];break}if(6===o[0]&&s.label<i[1]){s.label=i[1],i=o;break}if(i&&s.label<i[2]){s.label=i[2],s.ops.push(o);break}i[2]&&s.ops.pop(),s.trys.pop();continue}o=e.call(t,s)}catch(a){o=[6,a],r=0}finally{n=i=0}if(5&o[0])throw o[1];return{value:o[0]?o[1]:void 0,done:!0}}([o,a])}}}(this,(function(n){null!=this._canvas&&this._canvas.pauseRedraw();try{t=this._transformMatrix,this._items.forEach((function(n){var r=function(n){e._productHandler.getHandler(n).transformByMatrix(t)};r(n),n instanceof a_&&n.updateContentAndFrames(r)}))}finally{null!=this._canvas&&this._canvas.continueRedraw()}return[2]}))},new((e=void 0)||(e=Promise))((function(r,i){function o(t){try{a(n.next(t))}catch(e){i(e)}}function s(t){try{a(n.throw(t))}catch(e){i(e)}}function a(t){var n;t.done?r(t.value):(n=t.value,n instanceof e?n:new e((function(t){t(n)}))).then(o,s)}a((n=n.apply(t,[])).next())}));var t,e,n},Object.defineProperty(e.prototype,"_transformMatrix",{get:function(){var t=this._parentRectangle,e=Gg(this._args.translateX,t.width),n=Gg(this._args.translateY,t.height),r=new dg;return r.translate(e,n),r},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"_parentRectangle",{get:function(){return Object(xP.maybe)(this._items[0]).map((function(t){return t.parentContainer})).map((function(t){return{surface:t.parentComponent,container:t}})).map((function(t){var e=t.container;return{printArea:t.surface.printAreas.get(0),container:e}})).map((function(t){var e=t.printArea,n=t.container;return Object(xP.maybe)(n.region).caseOf({just:function(t){return fg.union(e.bounds,t)},nothing:function(){return e.bounds}})})).caseOf({just:function(t){return new Pv(t.width,t.height)},nothing:function(){return new Pv(100,100)}})},enumerable:!0,configurable:!0}),e.prototype._convertExternalConfig=function(t){if(lg.isEmpty(t.itemIds))throw new $f("TranslateItemsCommand: itemIds cannot be null.");return{items:this._productHandler.currentSurface.getAllItems({ignoreMockups:!1,flatGroupItems:!0}).toArray().filter((function(e){return t.itemIds.includes(e.id)})),translateX:t.translateX,translateY:t.translateY}},e.prototype.redo=function(){throw new Xf},e.prototype.undo=function(){throw new Xf},e}(oS),OP=function(){var t=function(e,n){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(e,n)};return function(e,n){function r(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),MP=function(t,e,n,r){return new(n||(n=Promise))((function(i,o){function s(t){try{l(r.next(t))}catch(e){o(e)}}function a(t){try{l(r.throw(t))}catch(e){o(e)}}function l(t){var e;t.done?i(t.value):(e=t.value,e instanceof n?e:new n((function(t){t(e)}))).then(s,a)}l((r=r.apply(t,e||[])).next())}))},RP=function(t,e){var n,r,i,o,s={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]};return o={next:a(0),throw:a(1),return:a(2)},"function"==typeof Symbol&&(o[Symbol.iterator]=function(){return this}),o;function a(o){return function(a){return function(o){if(n)throw new TypeError("Generator is already executing.");for(;s;)try{if(n=1,r&&(i=2&o[0]?r.return:o[0]?r.throw||((i=r.return)&&i.call(r),0):r.next)&&!(i=i.call(r,o[1])).done)return i;switch(r=0,i&&(o=[2&o[0],i.value]),o[0]){case 0:case 1:i=o;break;case 4:return s.label++,{value:o[1],done:!1};case 5:s.label++,r=o[1],o=[0];continue;case 7:o=s.ops.pop(),s.trys.pop();continue;default:if(!(i=(i=s.trys).length>0&&i[i.length-1])&&(6===o[0]||2===o[0])){s=0;continue}if(3===o[0]&&(!i||o[1]>i[0]&&o[1]<i[3])){s.label=o[1];break}if(6===o[0]&&s.label<i[1]){s.label=i[1],i=o;break}if(i&&s.label<i[2]){s.label=i[2],s.ops.push(o);break}i[2]&&s.ops.pop(),s.trys.pop();continue}o=e.call(t,s)}catch(a){o=[6,a],r=0}finally{n=i=0}if(5&o[0])throw o[1];return{value:o[0]?o[1]:void 0,done:!0}}([o,a])}}},DP=function(t){function e(e,n,r,i){var o=t.call(this,r.items,n,r)||this;return o._productHandler=e,o._cm=i,o}return OP(e,t),e.prototype._executeCommandBody=function(){return MP(this,void 0,void 0,(function(){var t,e,n,r,i,o,s=this;return RP(this,(function(a){switch(a.label){case 0:return e=(t=this._args).align,r=t.items,(n=t.group)&&r?(i=this._productHandler.getHandler(n).bounds,o=r.map((function(t){return n.items.toArray().includes(t)?s.alignItemIntoGroup(t,e,i):Promise.resolve()})),[4,Promise.all(o)]):[2];case 1:return a.sent(),[2]}}))}))},e.prototype.alignItemIntoGroup=function(t,e,n){return MP(this,void 0,void 0,(function(){var r,i,o,s,a,l,u,c,h,p,d,f,g,m,y;return RP(this,(function(v){switch(v.label){case 0:switch(r=n.top,i=n.bottom,o=n.left,s=n.right,l=(a=n.center).x,u=a.y,c=this._productHandler.getHandler(t).bounds,h=c.top,p=c.bottom,d=c.left,f=c.right,m=(g=c.center).x,y=g.y,e){case"top":return[3,1];case"bottom":return[3,3];case"left":return[3,5];case"right":return[3,7];case"horizontalCenter":return[3,9];case"verticalCenter":return[3,11]}return[3,13];case 1:return[4,this._cm.execute(NS.translateItems,{items:[t],translateX:0,translateY:r-h})];case 2:return v.sent(),[3,13];case 3:return[4,this._cm.execute(NS.translateItems,{items:[t],translateX:0,translateY:i-p})];case 4:return v.sent(),[3,13];case 5:return[4,this._cm.execute(NS.translateItems,{items:[t],translateX:o-d,translateY:0})];case 6:return v.sent(),[3,13];case 7:return[4,this._cm.execute(NS.translateItems,{items:[t],translateX:s-f,translateY:0})];case 8:return v.sent(),[3,13];case 9:return[4,this._cm.execute(NS.translateItems,{items:[t],translateX:l-m,translateY:0})];case 10:return v.sent(),[3,13];case 11:return[4,this._cm.execute(NS.translateItems,{items:[t],translateX:0,translateY:u-y})];case 12:return v.sent(),[3,13];case 13:return[2]}}))}))},e.prototype.redo=function(){throw new Xf},e.prototype.undo=function(){throw new Xf},e}(oS),BP=function(){var t=function(e,n){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(e,n)};return function(e,n){function r(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),jP=function(t){function e(e,n,r,i){var o=t.call(this,n.items,e)||this;return o._commandManager=r,o._canvas=i,o}return BP(e,t),e.prototype._executeCommandBody=function(){return t=this,void 0,n=function(){var t,e=this;return function(t,e){var n,r,i,o,s={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]};return o={next:a(0),throw:a(1),return:a(2)},"function"==typeof Symbol&&(o[Symbol.iterator]=function(){return this}),o;function a(o){return function(a){return function(o){if(n)throw new TypeError("Generator is already executing.");for(;s;)try{if(n=1,r&&(i=2&o[0]?r.return:o[0]?r.throw||((i=r.return)&&i.call(r),0):r.next)&&!(i=i.call(r,o[1])).done)return i;switch(r=0,i&&(o=[2&o[0],i.value]),o[0]){case 0:case 1:i=o;break;case 4:return s.label++,{value:o[1],done:!1};case 5:s.label++,r=o[1],o=[0];continue;case 7:o=s.ops.pop(),s.trys.pop();continue;default:if(!(i=(i=s.trys).length>0&&i[i.length-1])&&(6===o[0]||2===o[0])){s=0;continue}if(3===o[0]&&(!i||o[1]>i[0]&&o[1]<i[3])){s.label=o[1];break}if(6===o[0]&&s.label<i[1]){s.label=i[1],i=o;break}if(i&&s.label<i[2]){s.label=i[2],s.ops.push(o);break}i[2]&&s.ops.pop(),s.trys.pop();continue}o=e.call(t,s)}catch(a){o=[6,a],r=0}finally{n=i=0}if(5&o[0])throw o[1];return{value:o[0]?o[1]:void 0,done:!0}}([o,a])}}}(this,(function(n){switch(n.label){case 0:return[4,this._commandManager.execute(NS.deleteItems,{items:this._items})];case 1:return n.sent(),t=[],this._items.forEach((function(e){if(e instanceof Ky){var n=new Uv(e.items.toArray(),new Xv);n.name=e.name.includes("Group item")?e.name.replace("Group item","Layout item"):e.name,t.push(n)}})),[4,this._commandManager.execute(HS.addItems,{items:t})];case 2:return n.sent(),t.forEach((function(t){e._canvas.viewer.getHandler(t).generateAndApplyAutolayoutSettings()})),[2,t]}}))},new((e=void 0)||(e=Promise))((function(r,i){function o(t){try{a(n.next(t))}catch(e){i(e)}}function s(t){try{a(n.throw(t))}catch(e){i(e)}}function a(t){var n;t.done?r(t.value):(n=t.value,n instanceof e?n:new e((function(t){t(n)}))).then(o,s)}a((n=n.apply(t,[])).next())}));var t,e,n},e.prototype.redo=function(){throw new Xf},e.prototype.undo=function(){throw new Xf},e}(oS),FP=function(){var t=function(e,n){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(e,n)};return function(e,n){function r(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),zP=function(t){function e(e,n,r){var i=t.call(this,n.items,e)||this;return i._commandManager=r,i}return FP(e,t),e.prototype._executeCommandBody=function(){return t=this,void 0,n=function(){var t;return function(t,e){var n,r,i,o,s={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]};return o={next:a(0),throw:a(1),return:a(2)},"function"==typeof Symbol&&(o[Symbol.iterator]=function(){return this}),o;function a(o){return function(a){return function(o){if(n)throw new TypeError("Generator is already executing.");for(;s;)try{if(n=1,r&&(i=2&o[0]?r.return:o[0]?r.throw||((i=r.return)&&i.call(r),0):r.next)&&!(i=i.call(r,o[1])).done)return i;switch(r=0,i&&(o=[2&o[0],i.value]),o[0]){case 0:case 1:i=o;break;case 4:return s.label++,{value:o[1],done:!1};case 5:s.label++,r=o[1],o=[0];continue;case 7:o=s.ops.pop(),s.trys.pop();continue;default:if(!(i=(i=s.trys).length>0&&i[i.length-1])&&(6===o[0]||2===o[0])){s=0;continue}if(3===o[0]&&(!i||o[1]>i[0]&&o[1]<i[3])){s.label=o[1];break}if(6===o[0]&&s.label<i[1]){s.label=i[1],i=o;break}if(i&&s.label<i[2]){s.label=i[2],s.ops.push(o);break}i[2]&&s.ops.pop(),s.trys.pop();continue}o=e.call(t,s)}catch(a){o=[6,a],r=0}finally{n=i=0}if(5&o[0])throw o[1];return{value:o[0]?o[1]:void 0,done:!0}}([o,a])}}}(this,(function(e){switch(e.label){case 0:return[4,this._commandManager.execute(NS.deleteItems,{items:this._items})];case 1:return e.sent(),t=[],this._items.forEach((function(e){if(e instanceof Uv){var n=new Ky(e.items.toArray());n.name=e.name.includes("Layout item")?e.name.replace("Layout item","Group item"):e.name,t.push(n)}})),[4,this._commandManager.execute(HS.addItems,{items:t})];case 2:return e.sent(),[2,t]}}))},new((e=void 0)||(e=Promise))((function(r,i){function o(t){try{a(n.next(t))}catch(e){i(e)}}function s(t){try{a(n.throw(t))}catch(e){i(e)}}function a(t){var n;t.done?r(t.value):(n=t.value,n instanceof e?n:new e((function(t){t(n)}))).then(o,s)}a((n=n.apply(t,[])).next())}));var t,e,n},e.prototype.redo=function(){throw new Xf},e.prototype.undo=function(){throw new Xf},e}(oS),LP=function(){function t(t,e,n,r,i,o,s){this._history=t,this._productHandler=e,this._productThemeManager=n,this._variableItemHelper=r,this._eventManager=i,this._canvas=o,this._itemsDataApplier=s,this._surfaceManager=new kx(e)}return Object.defineProperty(t.prototype,"_product",{get:function(){return this._productHandler.product},enumerable:!0,configurable:!0}),t.prototype.execute=function(t,e,n){var r={history:this._history,historyUpdateMode:n};switch(t){case Cx.switchToSurface:return this._surfaceManager.switchToSurface(e.value instanceof v_?e.value:this._product.surfaces.get(e.value));case Cx.getNextSurface:return this._surfaceManager.getNextSurface(e.spinIndex);case Cx.switchSurfaceForward:return this._surfaceManager.switchSurfaceForward();case Cx.switchSurfaceBackward:return this._surfaceManager.switchSurfaceBackward();case LS.rotateProduct:return new Hx(this._productHandler,r,this._product,e).execute();case LS.replaceInterpolationPlaceholders:return new SS(this._productHandler,r,this._product,this._canvas).execute();case LS.changeBackground:return new $x(this._productHandler,r,this._product,e,this,this._productThemeManager,this._canvas,this._eventManager).execute();case LS.applyProductTheme:return new IS(r,this._product,e,this._productThemeManager,this).execute();case LS.fillPlaceholders:return new CP(r,this._product,e,this).execute();case LS.resize:return new TP(r,this._product,e,this._productHandler,this,this._canvas).execute();case HS.addItems:return new rS(this._productHandler,r,e,this._productThemeManager,this._canvas,this._variableItemHelper,this,this._eventManager).execute();case NS.deleteItems:return new aS(this._productHandler,r,e,this._canvas,this.configuration,this).execute();case NS.cloneItems:return new mS(this._productHandler,r,e,this,this._variableItemHelper).execute();case NS.addContent:return new TS(this._productHandler,r,e,this._productThemeManager,this._eventManager).execute();case NS.alignItems:return new kS(this._productHandler,r,e,this._canvas).execute();case NS.alignIntoGroup:return new DP(this._productHandler,r,e,this).execute();case NS.groupAlign:return new MS(r,e,this._canvas).execute();case NS.bringItems:return new DS(this._productHandler,r,e,this,this._canvas).execute();case NS.moveItem:return new jS(this._productHandler,r,e).execute();case NS.createItem:return new zS(this._itemsDataApplier,r,e).execute();case NS.editItems:return new US(this._itemsDataApplier,this._productHandler,r,e).execute();case NS.setImageMetadata:return new YS(r,e,this._productHandler,this._product,this._variableItemHelper,this,this._eventManager).execute();case NS.placeholderContentScale:return new $S(e,r,this._productHandler).execute();case NS.placeholderContentReset:return new ZS(e,r,this._productHandler).execute();case NS.changeBarcodeFormat:return new JS(e,r,this._productHandler).execute();case NS.changeColumnCount:return new rP(e,r,this._productHandler).execute();case NS.placeholderContentRotate:return new oP(e,r,this._productHandler).execute();case NS.insertItemsIntoArea:return new aP(e,r,this._productHandler,this).execute();case NS.changeLayout:return new uP(e,r,this._productHandler,this._product,this).execute();case NS.groupItems:return new pP(r,e,this).execute();case NS.ungroupItems:return new mP(r,e,this).execute();case NS.replaceGroupItemContent:return new vP(r,e,this._productHandler,this._product,this,this._productThemeManager,this._canvas).execute();case NS.changeClipartItemColor:return new bP(r,e).execute();case NS.translateItems:return new kP(r,e,this._productHandler,this._canvas).execute();case NS.convertGroupIntoLayout:return new jP(r,e,this,this._canvas).execute();case NS.convertLayoutIntoGroup:return new zP(r,e,this).execute();case WS.selectItems:return new uS(this._productHandler,e,this._canvas).execute();case WS.selectFirst:return new hS(this._productHandler,this,this._canvas).execute();case WS.clearSelection:return new dS(this._canvas).execute();default:throw new $f}},t}();!function(t){t.rotateProduct="rotateProduct",t.replaceInterpolationPlaceholders="replaceInterpolationPlaceholders",t.changeBackground="changeBackground",t.applyProductTheme="applyProductTheme",t.fillPlaceholders="fillPlaceholders",t.resize="resize"}(LS||(LS={})),function(t){t.addItems="addItems"}(HS||(HS={})),function(t){t.deleteItems="deleteItems",t.cloneItems="cloneItems",t.addContent="addContent",t.alignItems="alignItems",t.alignIntoGroup="alignIntoGroup",t.groupAlign="groupAlign",t.bringItems="bringItems",t.moveItem="moveItem",t.createItem="createItem",t.editItems="editItems",t.setImageMetadata="setImageMetadata",t.placeholderContentScale="placeholderContentScale",t.placeholderContentReset="placeholderContentReset",t.placeholderContentRotate="placeholderContentRotate",t.changeBarcodeFormat="changeBarcodeFormat",t.changeColumnCount="changeColumnCount",t.insertItemsIntoArea="insertItemsIntoArea",t.changeLayout="changeLayout",t.groupItems="groupItems",t.ungroupItems="ungroupItems",t.replaceGroupItemContent="replaceGroupItemContent",t.changeClipartItemColor="changeClipartItemColor",t.convertGroupIntoLayout="convertGroupIntoLayout",t.convertLayoutIntoGroup="convertLayoutIntoGroup",t.translateItems="translateItems"}(NS||(NS={})),function(t){t.clearSelection="clearSelection",t.selectFirst="selectFirst",t.selectItems="selectItems"}(WS||(WS={}));var HP,NP=function(t,e,n,r){return new(n||(n=Promise))((function(i,o){function s(t){try{l(r.next(t))}catch(e){o(e)}}function a(t){try{l(r.throw(t))}catch(e){o(e)}}function l(t){var e;t.done?i(t.value):(e=t.value,e instanceof n?e:new n((function(t){t(e)}))).then(s,a)}l((r=r.apply(t,e||[])).next())}))},WP=function(t,e){var n,r,i,o,s={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]};return o={next:a(0),throw:a(1),return:a(2)},"function"==typeof Symbol&&(o[Symbol.iterator]=function(){return this}),o;function a(o){return function(a){return function(o){if(n)throw new TypeError("Generator is already executing.");for(;s;)try{if(n=1,r&&(i=2&o[0]?r.return:o[0]?r.throw||((i=r.return)&&i.call(r),0):r.next)&&!(i=i.call(r,o[1])).done)return i;switch(r=0,i&&(o=[2&o[0],i.value]),o[0]){case 0:case 1:i=o;break;case 4:return s.label++,{value:o[1],done:!1};case 5:s.label++,r=o[1],o=[0];continue;case 7:o=s.ops.pop(),s.trys.pop();continue;default:if(!(i=(i=s.trys).length>0&&i[i.length-1])&&(6===o[0]||2===o[0])){s=0;continue}if(3===o[0]&&(!i||o[1]>i[0]&&o[1]<i[3])){s.label=o[1];break}if(6===o[0]&&s.label<i[1]){s.label=i[1],i=o;break}if(i&&s.label<i[2]){s.label=i[2],s.ops.push(o);break}i[2]&&s.ops.pop(),s.trys.pop();continue}o=e.call(t,s)}catch(a){o=[6,a],r=0}finally{n=i=0}if(5&o[0])throw o[1];return{value:o[0]?o[1]:void 0,done:!0}}([o,a])}}},VP=function(t,e){var n="function"==typeof Symbol&&t[Symbol.iterator];if(!n)return t;var r,i,o=n.call(t),s=[];try{for(;(void 0===e||e-- >0)&&!(r=o.next()).done;)s.push(r.value)}catch(a){i={error:a}}finally{try{r&&!r.done&&(n=o.return)&&n.call(o)}finally{if(i)throw i.error}}return s},UP=function(){for(var t=[],e=0;e<arguments.length;e++)t=t.concat(VP(arguments[e]));return t},qP=function(t){var e="function"==typeof Symbol&&Symbol.iterator,n=e&&t[e],r=0;if(n)return n.call(t);if(t&&"number"==typeof t.length)return{next:function(){return t&&r>=t.length&&(t=void 0),{value:t&&t[r++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")},GP=function(){function t(){}return t.isBgContainerItem=function(t){if(t.parentContainer instanceof sm)return t.parentContainer instanceof sm&&Dg(t.parentContainer.name,M_.BG_CONTAINER_NAME,!0)},t.isFgContainerItem=function(t){return t.parentContainer instanceof sm&&Dg(t.parentContainer.name,M_.FG_CONTAINER_NAME,!0)},t.isImage=function(e){return(e instanceof Av||e instanceof a_)&&!t.isBgContainerItem(e)},t.isEmptyPlaceholder=function(t){return t instanceof a_&&t.isStubOrEmpty},t.isDataMatrixBarcode=function(t){return t instanceof Hy&&t.barcodeFormat===Ty.DATA_MATRIX||t instanceof a_&&t.barcodeFormat==Ty.DATA_MATRIX},t.isQrCode=function(t){return t instanceof Hy&&t.isQrCode||t instanceof a_&&t.barcodeFormat==Ty.QR_CODE},t.isLinearBarcode=function(t){return t instanceof Hy&&t.isLinearBarcode||t instanceof a_&&(t.barcodeFormat==Ty.EAN_13||t.barcodeFormat==Ty.EAN_8||t.barcodeFormat==Ty.UPC_A||t.barcodeFormat==Ty.UPC_E||t.barcodeFormat==Ty.CODE_128)},t.isVariableItem=function(t){return t.canSetIsVariable()},t.isMultiValueItem=function(t){return(t instanceof Av||t instanceof Ey)&&0!==t.values.length},t.isTextType=function(t){return t===Ey||Ey.prototype.isPrototypeOf(t.prototype)},t.getAllowTextFormatting=function(t,e){var n,r,i,o;if(null!=t&&t instanceof Gy&&t.overflowStrategy!==yy.Clip&&t.overflowStrategy!==yy.ExpandBox)return!1;var s=t instanceof cv?0:null!==(n=null==t?void 0:t.maxLineCount)&&void 0!==n?n:0,a=null!==(r=null==t?void 0:t.maxLineLength)&&void 0!==r?r:0;return!(s>0||a>0)&&(null!==(o=null===(i=null==t?void 0:t.textPermissions)||void 0===i?void 0:i.allowTextFormatting)&&void 0!==o?o:e)},t.allowMoveHorizontal=function(t){return!t.locked&&(!t.manipulationPermissions||t.manipulationPermissions.allowMoveHorizontal)},t.allowMoveVertical=function(t){return!t.locked&&(!t.manipulationPermissions||t.manipulationPermissions.allowMoveVertical)},t.allowManipulate=function(t){return!t.locked&&(!t.manipulationPermissions||t.manipulationPermissions.allowMoveVertical||t.manipulationPermissions.allowMoveHorizontal||t.manipulationPermissions.allowDelete||t.manipulationPermissions.allowRotate)},t.clearImageContent=function(t){if(null!=t){var e=t.content;e instanceof Av&&(e.source.id=null,e.source.width=null,e.source.height=null,e.isUserImage=!1,e.fillColor=new hm("rgba(0,0,0,0)"))}},t.getImageItem=function(t){if(null==t)return null;if(t instanceof Av)return t;var e=t.content;if(e instanceof Av)return e;if(null==e||e instanceof Hy)return null;throw new Yf("Wrong placeholder content!")},t.getImagePermissions=function(t){return null==t?null:t instanceof Av?t.imagePermissions:t.getImagePermissions()},t.getContentEffect=function(t){return t.content instanceof Av?t.content.effect:t.contentEffect},t.getAllowChangeContent=function(e){if(e instanceof Hy||e instanceof a_&&e.isBarcodePlaceholder)return t.getBarcodePermissions(e).allowChangeBarcodeContent;var n=t.getImagePermissions(e),r=null==n||n.allowChangeImage,i=t.getImageItem(e);return r&&(null==i||0===i.values.length)},t.getImageMetaDataFromFile=function(e,n,r){return void 0===r&&(r=null),NP(this,void 0,void 0,(function(){var i,o,s;return WP(this,(function(a){switch(a.label){case 0:i={filePath:n,userId:r},a.label=1;case 1:return a.trys.push([1,3,,4]),[4,Ww({url:Bg(e,"/api/ImagePicker/GetFileMetadata"),type:Rw.post,headers:[Dw.json],data:JSON.stringify(i)})];case 2:return o=a.sent(),[2,t._parseImageMetadata(o.value)];case 3:throw s=a.sent(),new Yf(JSON.parse(s.toJSON().message).ExceptionMessage);case 4:return[2]}}))}))},t.getImageMetaDataFromDesignImage=function(e,n){return NP(this,void 0,void 0,(function(){var r,i,o;return WP(this,(function(s){switch(s.label){case 0:r={designImageName:n},s.label=1;case 1:return s.trys.push([1,3,,4]),[4,Ww({url:Bg(e,"/api/ImagePicker/GetDesignImageMeta"),type:Rw.post,headers:[Dw.json],data:JSON.stringify(r)})];case 2:return i=s.sent(),[3,4];case 3:throw o=s.sent(),new Yf(JSON.parse(o.toJSON().message).ExceptionMessage);case 4:return[2,t._parseImageMetadata(i.value)]}}))}))},t.getImageMetadataFromRemoteFile=function(e,n){return NP(this,void 0,void 0,(function(){var r,i,o;return WP(this,(function(s){switch(s.label){case 0:r={url:n},s.label=1;case 1:return s.trys.push([1,3,,4]),[4,Ww({url:Bg(e,"/api/ImagePicker/GetWebImageMeta"),type:Rw.post,headers:[Dw.json],data:JSON.stringify(r)})];case 2:return i=s.sent(),[3,4];case 3:throw o=s.sent(),new Yf(JSON.parse(o.toJSON().message).ExceptionMessage);case 4:return[2,t._parseImageMetadata(i.value)]}}))}))},t._parseImageMetadata=function(t){var e=JSON.parse(t),n=new Dv;return n.storageId=e.storageId,n.name=e.name,n.size.width=e.width,n.size.height=e.height,n},t.getTextFromRichTextItem=function(t){return Ng(t.text)},t.getMaxFontSize=function(t){if(null==t||!(t instanceof Ey))return null;if(!Hg(t.text))return t.font.size;var e=[t.font.size];try{null!=t.text&&function(t,n,r){var i=(new DOMParser).parseFromString("<body>"+t+"</body>","application/xml"),o={acceptNode:function(t){var e=t.nodeName.toLowerCase();return n.includes(e)?NodeFilter.FILTER_ACCEPT:NodeFilter.FILTER_SKIP}};cg.IsIE()&&(o=function(t){return t.acceptNode}(o));for(var s,a=document.createTreeWalker(i.childNodes[0],NodeFilter.SHOW_ELEMENT,o,!1);a.nextNode();)s=void 0,null!=(s=function(t){var e,n,r=t.attributes.getNamedItem("style");if(null==r||null==r.value)return null;var i=r.value.split(";"),o=new Map;try{for(var s=qP(i),a=s.next();!a.done;a=s.next()){var l=a.value;if(null!=(l=l.trim())&&""!==l){var u=l.split(":"),c=u[0].trim(),h=u[1].trim();o.set(c,h)}}}catch(p){e={error:p}}finally{try{a&&!a.done&&(n=s.return)&&n.call(s)}finally{if(e)throw e.error}}return o}(a.currentNode))&&s.has("font-size")&&e.push(parseFloat(s.get("font-size")))}(t.text,["span","ol","ul"])}catch(n){console.error("Unexpected exception while parsing item text"),console.error(n)}return Math.max.apply(Math,UP(e))},t.getBarcodeItem=function(t){if(null==t)return null;if(t instanceof Hy)return t;var e=t.content;if(e instanceof Hy)return e;if(null==e)return null;throw new Yf("Wrong placeholder content!")},t.getBarcodePermissions=function(t){if(null==t)return null;if(t instanceof Hy)return t.barcodePermissions;if(null!=t.contentPermissions)return t.contentPermissions.barcodePermissions;var e=t.content;return e instanceof Hy?e.barcodePermissions:null},t.getImageUrlFromImageMetadata=function(t,e,n,r,i){return eC.getImageUrl(e,t.storageId,null!=n?n:t.size.width,null!=r?r:t.size.height,null,null,null!=i&&i,null,t.pageIndex)},t.updateItems=function(t,e,n,r){var i,o,s;if(null==(s=r)&&(s={}),lg.defaults(s,{addToHistory:!0,updatePhase:HP.Final,redraw:!0}),r=s,0!==t.length){try{for(var a=qP(t),l=a.next();!l.done;l=a.next())this._updateItem(e,l.value,r,n)}catch(u){i={error:u}}finally{try{l&&!l.done&&(o=a.return)&&o.call(a)}finally{if(i)throw i.error}}r.redraw&&e.redraw()}},t._updateItem=function(t,e,n,r){var i=t.getHandler(e);null!=i&&null!=i.layer&&(e instanceof Av?this._updateImageItem(e,i,n,r):e instanceof a_&&this._updatePlaceholderItem(e,i,n,r))},t._updateImageItem=function(t,e,n,r){e.quickUpdate(),n.updatePhase===HP.Final&&(t.getItemChangedEvent().fire(),e.update(),r.updateTexts())},t._updatePlaceholderItem=function(t,e,n,r){null!=t.content&&this._updateImageItem(t.content,e.content,n,r),this._hidePlaceholderButtonWhileImageLoad(e)||e.update()},t._hidePlaceholderButtonWhileImageLoad=function(t){if(t.isEmptyContent()||!t.getPermissions().showSelectButton&&!t.getPermissions().showHandleButton)return!1;var e=function(n){n.removeReady(e),t.getPermissions().showSelectButton=!0,t.update()};return t.content.addReady(e),t.getPermissions().showSelectButton=!1,t.update(),!0},t.getItemBoundsForViolationCheck=function(t){return t instanceof SC?t.getBoundsIncludingFrames():t.bounds},t.createCloneName=function(t,e,n){var r;"string"!=typeof(r="string"==typeof t?t:e.getRealItemName(t))&&(r="");var i=n.currentSurface.getAllItems({ignoreMockups:!1,excludeGroupItems:!0,flatGroupItems:!0}).toArray(),o=function(t){return i.some((function(n){return e.getRealItemName(n)===t}))};if(!o(r))return r;var s=0,a=r.match(/_(\d+)$/);if(null!=a&&r.length>=2){r=r.substr(0,r.length-a[0].length);var l=parseInt(a[1]);l>0&&(s=l)}var u,c=1;do{if(!o(u=r+"_"+(s+c).toString()))break;c++}while(c<=1e4);return"string"==typeof t?u:e.createNewItemName(t,u)},t.createImageContentForPlaceholder=function(e,n,r,i){if(e.isBarcodePlaceholder!==n instanceof Dy)return null;var o,s=r.getHandler(e),a=s.getTransformedRectangle(!1);a.angle=0;var l=e.content,u=e.contentPermissions;if(e.isBarcodePlaceholder&&n instanceof Dy){var c=a.clone(),h=$C(new Pv(n.barcodeFormat===Ty.QR_CODE||n.barcodeFormat===Ty.DATA_MATRIX?1:2.5,1),new Pv(a.width,a.height));c.width=h.width,c.height=h.height;var p=void 0;null!=l.barcodeOptions?p=l.barcodeOptions:(p=new Ny).pureBarcode=!0,(o=new Hy(n.barcodeFormat,null,p,c.toRectangleF())).applyBarcodeData(n),e.barcodeFormat=n.barcodeFormat}else n instanceof Dv&&(o=new Av(n.storageId,a.location,a.width,a.height,n.size.width/n.size.height));o instanceof Av&&n instanceof Dv&&(o.setData(n),o.effect=e.contentEffect,o.imagePermissions=u.imagePermissions.clone(),o.effect==ov.Colorize&&null!=e.contentFillColor&&(o.fillColor=e.contentFillColor),null!=e.contentOverlayEffect&&(o.overlayEffect=e.contentOverlayEffect.clone())),o.transform.setAngle(e.transform.angle),r.getHandler(o).updateRectangle(null,e.contentResizeMode,s,i),o.textWrappingMode=Fm.Square,o.isVariable=null!=l&&l.isVariable,o instanceof Hy&&(o.barcodePermissions=u.barcodePermissions.clone());var d=e.contentPermissions.imagePermissions.allowKeepOverlayColor;return null==l?(o instanceof Av&&(o.allowedSubfolder=e.allowedSubfolder,o.allowedTabs=e.allowedTabs),o.opacity=e.opacity):(l instanceof Av&&o instanceof Av&&(o.allowedSubfolder=l.allowedSubfolder,o.allowedTabs=l.allowedTabs,o.imagePermissions=l.imagePermissions.clone(),d&&t.setOverlayEffectColor(o,l.overlayEffect.color)),o.manipulationPermissions=l.manipulationPermissions.clone(),o.opacity=e.content.opacity,o.fillColor=l.fillColor.clone(),o instanceof Hy&&l instanceof Hy&&(o.barcodePermissions=l.barcodePermissions.clone())),o},t.positionItemInArea=function(e,n,r,i,o,s,a,l){if(void 0===o&&(o=!0),void 0===s&&(s=null),void 0===a&&(a=null),void 0===l&&(l=!0),n instanceof Ky)return n.getNestedItems(!0).forEach((function(n){return t.positionItemInArea(e,n,r,i,o,s,a,l)}));var u=e.userEditContainer,c=null!=s?s.toRectangleF():u.region,h=null!=c,p=u.parentComponent.printAreas.getItem(0).bounds,d=h?c:p,f=d.center,g=o?qC.from(d):e.getPrintAreaVisualSize(u),m=Math.min(g.width/r,g.height/i),y=null!=a?a:new pg(r/2,i/2),v=function(t){var n=f;if(t instanceof Gy||t instanceof Oy)t.textRectangle.width*=m,t.textRectangle.height*=m,t.textRectangle.left=n.x+m*(t.textRectangle.left-y.x)-0,t.textRectangle.top=n.y+m*(t.textRectangle.top-y.y)-0;else if(t instanceof u_){var r=n.y+m*(t.baselineLocation.y-y.y);t.baselineLocation.x=n.x+m*(t.baselineLocation.x-y.x),t.baselineLocation.y=r}else{var i=e.getHandler(t).getTransformedRectangle(l),o=n.x+m*(i.centerX-y.x),s=n.y+m*(i.centerY-y.y);t.transform.setScaleX(m),t.transform.setScaleY(m),t.transform.move(o-i.centerX,s-i.centerY)}};v(n),n instanceof a_&&n.updateContentAndFrames(v),n instanceof Ey&&(n.font.size*=m)},t.rotateItems=function(t,e,n,r){var i=function(e){if(e instanceof Ky)return e.applyToItems(i);var o=t.getHandler(e),s=o.getTransformedRectangle(!1);s.rotateAt(r,n);var a=s.getTransform(o.getTransformedRectangle(!1));e.transform.move(a.translateX,a.translateY),e.transform.rotate(a.angle),e instanceof a_&&e.updateContentAndFrames(i)};e.forEach((function(t){return i(t)}))},t.changeItemsContent=function(t,e,n,r,i,o){var s,a,l,u,c,h,p=this,d=r.map((function(t){return t.clone()})),f=d.filter((function(t){return t instanceof Ky})),g=i.filter((function(t){return t instanceof Ky}));this._replaceContentFromOldToNewItems(f,g,(function(r,i){return p.changeItemsContent(t,e,n,i.items.toArray(),r.items.toArray(),o)}),o);var m=d.filter((function(t){return t instanceof Ey})),y=i.filter((function(t){return t instanceof Ey})),v=t.getAllItems({ignoreMockups:!1,flatGroupItems:!0}),_=v.filter((function(t){return t instanceof Ey}));_=lg.without.apply(lg,UP([_],y));try{for(var b=qP(y),w=b.next();!w.done;w=b.next()){var C=w.value;if(0!==C.placeholders.length){var x=function(t){var e=_.filter((function(e){return null!=e.placeholders.toArray().find((function(e){return e.name===t.name}))}));if(0===e.length)return"continue";t.value=e[0].placeholders.toArray().find((function(e){return e.name===t.name})).value};try{for(var S=(l=void 0,qP(C.placeholders.toArray())),P=S.next();!P.done;P=S.next())x(P.value)}catch(j){l={error:j}}finally{try{P&&!P.done&&(u=S.return)&&u.call(S)}finally{if(l)throw l.error}}}}}catch(F){s={error:F}}finally{try{w&&!w.done&&(a=b.return)&&a.call(b)}finally{if(s)throw s.error}}this._replaceContentFromOldToNewItems(m,y,(function(t,e){t.text=e.text,null!=e.tags&&(t.tags=e.tags)}),o);var I=function(t,e){var r=new Dv;r.size=new Pv(e.imageContent.source.width,e.imageContent.source.height),r.storageId=e.imageContent.source.id,r.name=e.imageContent.name,r.origin=e.imageContent.source.origin,r.isVector=e.imageContent.source.isVector,r.pageIndex=e.imageContent.source.pageIndex,n.execute(NS.setImageMetadata,{dataList:[{item:t,imageData:r,tags:e.tags}]}),e.isEmptyContent||t.isEmptyContent||null==e.content.tags||(t.content.tags=e.content.tags)},E=function(t){return t instanceof a_&&!t.isStubOrEmpty&&t.content instanceof Av},T=d.filter(E),A=i.filter((function(t){return t instanceof a_})),k=v.filter(E);k=lg.without.apply(lg,UP([k],A));var O=A.filter((function(t){return null!=t.linkId}));if(0!==O.length){var M=new Set,R=function(t){var e=k.find((function(e){return e.linkId===t.linkId&&!e.isStubOrEmpty&&e.content instanceof Av}));if(null==e)return"continue";M.add(e.linkId),I(t,e),A=lg.without(A,t)};try{for(var D=qP(O),B=D.next();!B.done;B=D.next())R(B.value)}catch(z){c={error:z}}finally{try{B&&!B.done&&(h=D.return)&&h.call(D)}finally{if(c)throw c.error}}T=T.filter((function(t){return!M.has(t.linkId)}))}this._replaceContentFromOldToNewItems(T,A,I,o)},t._replaceContentFromOldToNewItems=function(t,e,n,r){for(var i=t.map((function(t){return t.name})),o=[],s=function(t){i.find((function(n){return n===e[t].name}))&&(i.splice(i.indexOf(e[t].name),1),o.push(t))},a=0;a<e.length;a++)s(a);var l,u=function(s){var a=e[s],u=void 0;o.includes(s)?u=t.find((function(t){return t.name===a.name})):r&&0!==i.length&&(l=i.shift(),u=t.find((function(t){return t.name===l}))),null!=u&&(n(a,u.clone()),t.splice(t.indexOf(u),1))};for(a=0;a<e.length;a++)u(a)},t.getEmptyPlaceholdersFromProduct=function(t,e){void 0===e&&(e=!1);var n=[];return t.getAllItems({flatGroupItems:!0,ignoreMockups:!0}).filter((function(t){if(!(t instanceof a_&&t.isStubOrEmpty&&null!=t.parentContainer&&t.parentContainer.name===M_.MAIN_CONTAINER_NAME))return!1;if(e)return!0;if(null!=t.linkId){if(n.includes(t.linkId))return!1;n.push(t.linkId)}return!0}))},t.waitForItemsUpdated=function(t,e){return NP(this,void 0,void 0,(function(){var n,r;return WP(this,(function(i){switch(i.label){case 0:return n=t.filter((function(t){return t instanceof Ky})).map((function(t){return t.getNestedItems(!0)})).reduce((function(t,e){return UP(t,e)}),[]),r=t.concat(n).map((function(t){return e.handlerFactory.get(t)})),[4,e.waitUpdate(r)];case 1:return i.sent(),[2]}}))}))},t.setOverlayEffectColor=function(e,n){null!=e&&(t._getItemOverlayEffect(e).color=n)},t._getItemOverlayEffect=function(t){return t instanceof Av?(t.overlayEffect=null!=t.overlayEffect?t.overlayEffect:new Sv,t.overlayEffect):(t.contentOverlayEffect=null!=t.contentOverlayEffect?t.contentOverlayEffect:new Sv,t.contentOverlayEffect)},t}();!function(t){t[t.InProgress=0]="InProgress",t[t.Final=1]="Final"}(HP||(HP={}));var YP,XP,$P=function(t,e,n,r){return new(n||(n=Promise))((function(i,o){function s(t){try{l(r.next(t))}catch(e){o(e)}}function a(t){try{l(r.throw(t))}catch(e){o(e)}}function l(t){var e;t.done?i(t.value):(e=t.value,e instanceof n?e:new n((function(t){t(e)}))).then(s,a)}l((r=r.apply(t,e||[])).next())}))},QP=function(t,e){var n,r,i,o,s={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]};return o={next:a(0),throw:a(1),return:a(2)},"function"==typeof Symbol&&(o[Symbol.iterator]=function(){return this}),o;function a(o){return function(a){return function(o){if(n)throw new TypeError("Generator is already executing.");for(;s;)try{if(n=1,r&&(i=2&o[0]?r.return:o[0]?r.throw||((i=r.return)&&i.call(r),0):r.next)&&!(i=i.call(r,o[1])).done)return i;switch(r=0,i&&(o=[2&o[0],i.value]),o[0]){case 0:case 1:i=o;break;case 4:return s.label++,{value:o[1],done:!1};case 5:s.label++,r=o[1],o=[0];continue;case 7:o=s.ops.pop(),s.trys.pop();continue;default:if(!(i=(i=s.trys).length>0&&i[i.length-1])&&(6===o[0]||2===o[0])){s=0;continue}if(3===o[0]&&(!i||o[1]>i[0]&&o[1]<i[3])){s.label=o[1];break}if(6===o[0]&&s.label<i[1]){s.label=i[1],i=o;break}if(i&&s.label<i[2]){s.label=i[2],s.ops.push(o);break}i[2]&&s.ops.pop(),s.trys.pop();continue}o=e.call(t,s)}catch(a){o=[6,a],r=0}finally{n=i=0}if(5&o[0])throw o[1];return{value:o[0]?o[1]:void 0,done:!0}}([o,a])}}},ZP=function(){function t(){this._local="",this._allowWriteToGlobalClipboard=!1,this._allowReadFromGlobalClipboard=!1}return t.prototype.init=function(){this._allowWriteToGlobalClipboard=this._allowReadFromGlobalClipboard=null!=window.navigator.clipboard},t.prototype.read=function(){return $P(this,void 0,void 0,(function(){var t,e;return QP(this,(function(n){switch(n.label){case 0:if(!this._allowReadFromGlobalClipboard)return[2,this._local];t=this._createTextArea(),document.body.appendChild(t),t.focus(),t.select(),n.label=1;case 1:return n.trys.push([1,3,4,5]),[4,window.navigator.clipboard.readText()];case 2:return[2,n.sent()];case 3:return e=n.sent(),console.warn(e),this._allowReadFromGlobalClipboard=!1,[2,this._local];case 4:return document.body.removeChild(t),[7];case 5:return[2]}}))}))},t.prototype.write=function(t){return $P(this,void 0,void 0,(function(){var e,n;return QP(this,(function(r){switch(r.label){case 0:if(this._local=t,!this._allowWriteToGlobalClipboard)return[3,5];e=this._createTextArea(),document.body.appendChild(e),e.focus(),e.select(),r.label=1;case 1:return r.trys.push([1,3,4,5]),[4,window.navigator.clipboard.writeText(t)];case 2:return r.sent(),[3,5];case 3:return n=r.sent(),console.warn(n),this._allowWriteToGlobalClipboard=!1,[3,5];case 4:return document.body.removeChild(e),[7];case 5:return[2]}}))}))},t.prototype._createTextArea=function(){var t=document.createElement("textarea");return t.style.position="fixed",t.style.top="0",t.style.left="0",t.style.width="2em",t.style.height="2em",t.style.padding="0",t.style.background="transparent",t.style.border="none",t.style.outline="none",t.style.boxShadow="none",t},t}(),KP=function(){function t(t,e){this._canvas=null,this._activeTextCanvasHandler=null,this._clipboard=null,this._manager=null,this._rectangle=null,this._previewScale=1,this._textFormattingEnabled=!0,this._transform=null,this._inlineStyle=null,this._paragraphStyle=null,this.styleChanged=new og,this.initialized=new og,this._originalCanvasFloatingItemMenuEnabled=!1,this._selectionValue=null,this._selectionAnchor=null,this._mouseSelectionIsActive=!1,this._cursorBlinkInterval=null,this._cursorBlink=!0,this._cursorEnabled=!1,this._ready=!1,this._canvas=t,this._activeTextCanvasHandler=e,this._clipboard=new ZP}return t.prototype.init=function(t,e,n){this._ready=!0,this._clipboard.init(),this.initialized.fire()},t.prototype.show=function(t,e){var n,r,i=this;this._manager=t,this._activeTextCanvasHandler.moveActiveTextCanvasOnTop(),this._rectangle=e.rectangle,this._previewScale=null!==(n=e.previewScale)&&void 0!==n?n:1,this._transform=e.transform,this._textFormattingEnabled=null!==(r=e.textFormattingEnabled)&&void 0!==r?r:this._canvas.viewer.textFormattingEnabled,this._originalCanvasFloatingItemMenuEnabled=this._canvas.floatingItemToolbarEnabled,this._canvas.floatingItemToolbarEnabled=!1,this._cursorEnabled=!0,this._setCursor(pg.fromIPoint(e.point)),this._selectionAnchor=this._textHandler.getCursor().getPosition(),null==this._cursorBlinkInterval&&(this._cursorBlinkInterval=setInterval((function(){i._drawCursor()}),500)),this._textHandler.clearUndoRedo()},t.prototype.hide=function(){this._selection=null,this._selectionAnchor=null,this._canvas.floatingItemToolbarEnabled=this._originalCanvasFloatingItemMenuEnabled,this._cursorEnabled=!1,this._canvas.clearTextCursor();var t=this._getFormattedText();return this._manager=null,this._activeTextCanvasHandler.moveActiveTextCanvasBack(),t},Object.defineProperty(t.prototype,"active",{get:function(){return null!=this._manager},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"ready",{get:function(){return this._ready},enumerable:!0,configurable:!0}),t.prototype.setTextWhizz=function(t){this._textWhizz=t},Object.defineProperty(t.prototype,"_textHandler",{get:function(){var t;return null==this._manager&&console.warn("TextEditor: Cannot access TextHandler when the editor is hidden"),null===(t=this._manager)||void 0===t?void 0:t.textHandler},enumerable:!0,configurable:!0}),t.prototype._getFormattedText=function(){return this._textHandler.getTextRange().getFormattedTextForDefaults()},Object.defineProperty(t.prototype,"_selection",{get:function(){return this._selectionValue},set:function(t){this._selectionValue=t,this._drawCursor(!0),this._manager.drawSelection(t),this._updateStyles()},enumerable:!0,configurable:!0}),t.prototype.undo=function(){this._textHandler.undo();var t=this._textHandler.getUndoInfo(),e=this._textHandler.getUndoRedoCursorOrSelection(t.index);if(e.isValid())if(JP.comparePosition(e.getStart(),e.getEnd())){var n=e.getStart();this._textHandler.getCursor().set(n)}else this._selection=e;this._manager.updateItemHandler(this._selection),this._onCursorChanged(!0)},t.prototype.redo=function(){this._textHandler.redo();var t=this._textHandler.getUndoInfo(),e=this._textHandler.getUndoRedoCursorOrSelection(t.index);if(e.isValid())if(JP.comparePosition(e.getStart(),e.getEnd())){var n=e.getStart();this._textHandler.getCursor().set(n)}else this._selection=e;this._manager.updateItemHandler(this._selection),this._onCursorChanged(!0)},Object.defineProperty(t.prototype,"canUndo",{get:function(){var t=this._textHandler.getUndoInfo();return t.count>1&&t.index>0},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"canRedo",{get:function(){var t=this._textHandler.getUndoInfo();return t.count>1&&t.index<t.count-1},enumerable:!0,configurable:!0}),t.prototype.processMouseEvent=function(t){var e=t.type,n=new pg(t.x,t.y),r=this._textHandler.getCursor();if("dblclick"===e)this._setCursor(n),this._selection=r.getPosition().getWord(),this._selectionAnchor=this._selection.getStart(),r.set(this._selection.getEnd());else if("mousedown"===e)this._selection=null,this._setCursor(n),this._mouseSelectionIsActive=!0,this._selectionAnchor=r.getPosition();else if("mousemove"===e){if(this._mouseSelectionIsActive){this._setCursor(n,!1);var i=new this._textWhizz.TextRange(this._selectionAnchor,r.getPosition());null!=this._selection&&JP.compareSelection(this._selection,i)||(this._selection=i,this._drawCursor(!0))}}else if("mouseup"===e){this._mouseSelectionIsActive=!1;var o=r.getPosition();JP.comparePosition(o,this._selectionAnchor)?this._selection=null:(i=new this._textWhizz.TextRange(this._selectionAnchor,r.getPosition()),null!=this._selection&&JP.compareSelection(this._selection,i)||(this._selection=i))}},t.prototype.processKeyEvent=function(t){var e=!0===t.ctrlKey||!0===t.metaKey,n=!0===t.shiftKey,r=this._textHandler.getCursor(),i=!0,o=this._keyEventToDirection(t);if(null!=o)r.move(o),n?this._selection=new this._textWhizz.TextRange(this._selectionAnchor,r.getPosition()):e&&(this._selectionAnchor=r.getPosition());else if(t.keyCode===Vw.Backspace||t.keyCode===Vw.Delete){if(null!=this._selection)this._selection.isValid()&&r.set(this._selection.delete(this._textWhizz.RangeCursorPos.left)),this._selection=null;else{var s=r.getPosition();if(r.move(t.keyCode===Vw.Backspace?e?this._textWhizz.MoveDirection.leftWord:this._textWhizz.MoveDirection.left:e?this._textWhizz.MoveDirection.rightWord:this._textWhizz.MoveDirection.right)){var a=t.keyCode===Vw.Backspace?r.getPosition():s,l=t.keyCode===Vw.Backspace?s:r.getPosition(),u=t.keyCode===Vw.Backspace?this._textWhizz.RangeCursorPos.right:this._textWhizz.RangeCursorPos.left;r.set(new this._textWhizz.TextRange(a,l).delete(u))}}this._selectionAnchor=r.getPosition()}else if(e)i=this._applyHotKey(t.keyCode,r,n);else if(t.keyCode===Vw.Enter||t.keyCode===Vw.Tab||1===t.key.length)if(null!=this._selection&&this._selection.isValid()&&r.set(this._selection.delete(this._textWhizz.RangeCursorPos.left)),t.keyCode!==Vw.Enter||n){var c=t.key;t.keyCode===Vw.Enter?c="\n":t.keyCode===Vw.Tab&&(c="\t"),r.insertPlainText(c)}else r.insertLine();return n||e||(this._selectionAnchor=r.getPosition(),this._selection=null),this._manager.updateItemHandler(this._selection),this._onCursorChanged(!0),i},t.prototype._keyEventToDirection=function(t){var e=t.ctrlKey||t.metaKey;switch(t.keyCode){case Vw.Left:return e?this._textWhizz.MoveDirection.leftWord:this._textWhizz.MoveDirection.left;case Vw.Right:return e?this._textWhizz.MoveDirection.rightWord:this._textWhizz.MoveDirection.right;case Vw.Up:return this._textWhizz.MoveDirection.up;case Vw.Down:return this._textWhizz.MoveDirection.down;case Vw.Home:return e?this._textWhizz.MoveDirection.textStart:this._textWhizz.MoveDirection.lineStart;case Vw.End:return e?this._textWhizz.MoveDirection.textEnd:this._textWhizz.MoveDirection.lineEnd}return null},t.prototype._applyHotKey=function(t,e,n){var r,i,o=this;if(void 0===n&&(n=!1),t===Vw.Space)this._clearFormat();else if(t!==Vw.KeyA||n){if(t===Vw.KeyC)(null===(r=this._selection)||void 0===r?void 0:r.isValid())&&this._clipboard.write(Ng(this._selection.getFormattedTextForDefaults(),"\n"));else if(t===Vw.KeyV)(null===(i=this._selection)||void 0===i?void 0:i.isValid())&&e.set(this._selection.delete(this._textWhizz.RangeCursorPos.left)),this._clipboard.read().then((function(t){e.insertPlainText(t),o._manager.updateItemHandler(o._selection),o._onCursorChanged(!0)}));else if(t===Vw.KeyZ){if(!this.canUndo)return!1;this.undo()}else if(t===Vw.KeyY){if(!this.canRedo)return!1;this.redo()}}else this._selection=this._textHandler.getTextRange();if(!this._textFormattingEnabled)return!0;if(t===Vw.KeyA&&n){var s=!this.getCharStyle().allCaps;this.updateCharStyle({font:{allCaps:s}})}else t===Vw.KeyB?(s=!this.getCharStyle().fauxBold,this.updateCharStyle({font:{fauxBold:s}})):t===Vw.KeyI?(s=!this.getCharStyle().fauxItalic,this.updateCharStyle({font:{fauxItalic:s}})):t===Vw.KeyU?(s=!this.getCharStyle().underline,this.updateCharStyle({underline:s})):t===Vw.KeyPeriod&&n?(s=this.getCharStyle().fontSize+1,this.updateCharStyle({font:{size:s}})):t===Vw.KeyComma&&n?(s=this.getCharStyle().fontSize-1,this.updateCharStyle({font:{size:s}})):t===Vw.KeyEqual&&n||t===Vw.KeyPeriod?(s=!this.getCharStyle().superscript,this.updateCharStyle({superscript:s,subscript:!s&&void 0})):t===Vw.KeyEqual||t===Vw.KeyComma?(s=!this.getCharStyle().subscript,this.updateCharStyle({subscript:s,superscript:!s&&void 0})):t===Vw.KeyL?this.updateParagraphStyle((function(t){return t.alignment=o._textWhizz.TextAlignment.left,t})):t===Vw.KeyR?this.updateParagraphStyle((function(t){return t.alignment=o._textWhizz.TextAlignment.right,t})):t===Vw.KeyE&&this.updateParagraphStyle((function(t){return t.alignment=o._textWhizz.TextAlignment.center,t}));return!0},t.prototype._clearFormat=function(){if(null!=this._selection){var t=this._textHandler.getDefaultCharStyle();this._selection.updateCharStyles((function(e){return t}))}},t.prototype._setCursor=function(t,e){void 0===e&&(e=!0),t.translate(-this._canvas.offset.x,-this._canvas.offset.y),null!=this._transform&&(t.rotateAt(-this._transform.angle,this._rectangle.center),t.translate(-this._transform.translateX,-this._transform.translateY)),t.scale(1/this._previewScale,1/this._previewScale);var n=this._textHandler,r=n.getPosition(t.x,t.y);n.getCursor().set(r),this._onCursorChanged(e)},t.prototype._onCursorChanged=function(t){this._updateStyles(),this._drawCursor(t)},t.prototype._drawCursor=function(t){var e=this;void 0===t&&(t=!1),this._cursorEnabled&&(this._cursorBlink=t||!this._cursorBlink,this._cursorBlink&&null==this._selection&&!this._mouseSelectionIsActive?this._canvas.drawTextCursor((function(t){var n=e._textHandler.getCursor().getPath();xg(e._previewScale,1)||n.scale(e._previewScale,e._previewScale),n.addToContext(t)})):this._canvas.clearTextCursor())},t.prototype.updateCharStyle=function(t){var e,n=this,r=function(e){if(null!=t.font){var r=t.font;null!=r.postScriptName&&(e.fontName=r.postScriptName),null!=r.size&&(e.fontSize=r.size),null!=r.fauxBold&&(e.fauxBold=r.fauxBold),null!=r.fauxItalic&&(e.fauxItalic=r.fauxItalic),null!=r.allCaps&&(e.allCaps=r.allCaps)}return null!=t.color&&(e.fillColor=n._manager.addColorToPalette(t.color)),null!=t.underline&&(e.underline=t.underline),null!=t.leading&&(e.leading=t.leading),null!=t.tracking&&(e.tracking=t.tracking),null!=t.stroke&&(t.stroke.enabled?(null!=t.stroke.color&&(e.strokeColor=n._manager.addColorToPalette(t.stroke.color)),null!=t.stroke.size&&(e.strokeWidth=t.stroke.size)):(e.strokeColor=n._manager.addColorToPalette(new hm({r:0,g:0,b:0,a:0})),e.strokeWidth=0)),null!=t.subscript&&(e.subscript=t.subscript),null!=t.superscript&&(e.superscript=t.superscript),e},i=this._selection,o=function(){null!=i&&i.isValid()&&i.updateCharStyles(r),n._updateInlineStyles(),n._manager.updateItemHandler(n._selection)},s=null===(e=t.font)||void 0===e?void 0:e.postScriptName;if(null==s||this._canvas.fontRegistry.containsFonts([s])){o();var a=r(this._textHandler.getCursor().getCharStyle());this._textHandler.getCursor().setCharStyle(a),this._drawCursor(!0)}else this._canvas.fontRegistry.loadFonts([s]).finally(o)},t.prototype.updateParagraphStyle=function(t){null!=this._selection&&this._selection.isValid()&&this._selection.updateParagraphStyles(t);var e=t(this._textHandler.getCursor().getParagraphStyle());this._textHandler.getCursor().setParagraphStyle(e),this._manager.updateItemHandler(this._selection),this._drawCursor(!0)},t.prototype.getCharStyle=function(){if(null!=this._selection&&this._selection.isValid()){var t=this._selection.getCharStyles();if(t.size()>0)return t.get(0)}return this._textHandler.getCursor().getCharStyle()},t.prototype.getParagraphStyles=function(){return this._textHandler.getCursor().getParagraphStyle()},t.prototype._updateStyles=function(){if(this.active){var t=this._updateInlineStyles(),e=this._updateParagraphStyles();(t||e)&&this.styleChanged.fire()}},t.prototype._updateInlineStyles=function(){var t={},e=this.getCharStyle();return t.font={postScriptName:e.fontName,size:e.fontSize,fauxBold:e.fauxBold,fauxItalic:e.fauxItalic},t.color=this._manager.getPaletteColorAt(e.fillColor.index),t.underline=e.underline,t.leading=e.leading,t.tracking=e.tracking,t.stroke={color:this._manager.getPaletteColorAt(e.strokeColor.index),size:e.strokeWidth,enabled:this._isStrokeEnabled(e)},!lg.isEqual(this._inlineStyle,t)&&(this._inlineStyle=t,!0)},t.prototype._updateParagraphStyles=function(){var t={},e=this.getParagraphStyles();return t.alignment=this._textWhizzAlignmentToAlignment(e.alignment),t.firstLineIndent=e.firstLineIndent,t.leftIndent=e.leftIndent,t.rightIndent=e.rightIndent,t.spaceAfter=e.spaceAfter,t.spaceBefore=e.spaceBefore,!lg.isEqual(this._paragraphStyle,t)&&(this._paragraphStyle=t,!0)},Object.defineProperty(t.prototype,"inlineStyle",{get:function(){return this.active?this._inlineStyle:null},set:function(t){this.active&&this.updateCharStyle(t)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"paragraphStyle",{get:function(){return this.active?this._paragraphStyle:null},set:function(e){var n=this;this.active&&(this.updateParagraphStyle((function(r){return null!=e.alignment&&(r.alignment=t.alignmentToTextWhizzAlignment(e.alignment,n._textWhizz)),null!=e.firstLineIndent&&(r.firstLineIndent=e.firstLineIndent),null!=e.leftIndent&&(r.leftIndent=e.leftIndent),null!=e.rightIndent&&(r.rightIndent=e.rightIndent),null!=e.spaceAfter&&(r.spaceAfter=e.spaceAfter),null!=e.spaceBefore&&(r.spaceBefore=e.spaceBefore),r})),this._updateParagraphStyles())},enumerable:!0,configurable:!0}),t.prototype._isStrokeEnabled=function(t){var e=t.strokeColor;return t.strokeWidth>0||e.getType()===this._textWhizz.ColorType.rgb&&e.A>0||e.getType()===this._textWhizz.ColorType.indexed&&this._manager.getPaletteColorAt(e.index).alpha>0},t.alignmentToTextWhizzAlignment=function(t,e){switch(t){case vy.Center:return e.TextAlignment.center;case vy.Right:return e.TextAlignment.right;case vy.Justify:return e.TextAlignment.justification;case vy.LastLeft:return e.TextAlignment.justificationLastLeft;case vy.LastCenter:return e.TextAlignment.justificationLastCenter;case vy.LastRight:return e.TextAlignment.justificationLastRight;case vy.Left:default:return e.TextAlignment.left}},t.prototype._textWhizzAlignmentToAlignment=function(t){switch(t){case this._textWhizz.TextAlignment.center:return vy.Center;case this._textWhizz.TextAlignment.right:return vy.Right;case this._textWhizz.TextAlignment.justification:return vy.Justify;case this._textWhizz.TextAlignment.justificationLastLeft:return vy.LastLeft;case this._textWhizz.TextAlignment.justificationLastCenter:return vy.LastCenter;case this._textWhizz.TextAlignment.justificationLastRight:return vy.LastRight;case this._textWhizz.TextAlignment.left:default:return vy.Left}},t}(),JP=function(){function t(t){var e=this;this._canvas=null,this._textEditor=null,this._textRenderer=null,this._exitedEditModeEvent=new ag,this._failed=!1,this._initialFormattedText=null,this._waitMobileTextEditorInit=!1,this._stateValue="static",this._isStaticTextImageValid=!1,this._staticTextImageChanged=new og,this._throttleRedrawText=lg.throttle(this._redrawActiveText,100),this._onCanvasZoomChanged=function(){e._isStaticTextImageValid=!1,e.ready&&e._redrawText()},this._onCanvasSelectedItemHandlerChanged=function(){"inEdit"===e._state&&e.exitEditMode(),e._state=e._canvas.isOnlyThisItemHandlerSelected(e._itemHandler)?"active":"static"},this._onCanvasSelectionLocked=function(){e.isStatic||(e._isStaticTextImageValid=!1,e._updateStaticTextImage())},this._onMobileTextEditorInitialized=function(){e._waitMobileTextEditorInit=!1,e._itemHandler==e._canvas.currentItemHandler?e.enterEditMode(0,0):e._canvas.redraw()},this._itemHandler=t,this._canvas=this._itemHandler.canvas,this._textWhizz=this._canvas.textWhizz,this._textEditor=this._canvas.textEditor,this._textRenderer=this._canvas.textRenderer,this._stateValue=this._canvas.isOnlyThisItemHandlerSelected(t)?"active":"static",this.bindToCanvas()}return t.prototype.bindToCanvas=function(){this._canvas.add_zoomChanged(this._onCanvasZoomChanged),this._canvas.add_selectedItemHandlerChanged(this._onCanvasSelectedItemHandlerChanged),this._canvas.add_onSelectionLocked(this._onCanvasSelectionLocked)},t.prototype.unbindFromCanvas=function(){this._canvas.remove_zoomChanged(this._onCanvasZoomChanged),this._canvas.remove_selectedItemHandlerChanged(this._onCanvasSelectedItemHandlerChanged),this._canvas.remove_onSelectionLocked(this._onCanvasSelectionLocked)},Object.defineProperty(t.prototype,"textHandler",{get:function(){return this._textHandler},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"_state",{get:function(){return this._stateValue},set:function(t){this._stateValue!==t&&(this._stateValue=t,this._onTextStateChanged())},enumerable:!0,configurable:!0}),t.prototype._onTextStateChanged=function(){this.ready&&(("static"===this._state&&this._isStaticTextImageValid||this._isMobile&&"inEdit"==this._state)&&this._textRenderer.clearText(),this._redrawText())},Object.defineProperty(t.prototype,"isStatic",{get:function(){return"static"===this._state},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"isActive",{get:function(){return"active"===this._state},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"isInEdit",{get:function(){return"inEdit"===this._state},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"exitedEditModeEvent",{get:function(){return this._exitedEditModeEvent},enumerable:!0,configurable:!0}),t.prototype.add_staticTextImageChanged=function(t){this._staticTextImageChanged.add(t)},t.prototype.remove_staticTextImageChanged=function(t){this._staticTextImageChanged.remove(t)},Object.defineProperty(t.prototype,"ready",{get:function(){return null!=this._textWhizz&&this._ready},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"failed",{get:function(){return this._failed},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"activeTextEditor",{get:function(){return"inEdit"===this._state?this._textEditor:null},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"waitMobileTextEditorInit",{get:function(){return this._waitMobileTextEditorInit},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"isCropped",{get:function(){return null==this._isCropped&&(this._isCropped=this._checkTextCropped()),this._isCropped},enumerable:!0,configurable:!0}),t.prototype.getPaletteColorAt=function(t){return this._itemHandler.item.colorPalette.get(t)},t.prototype.addColorToPaletteReturnIndex=function(t){var e=this._itemHandler.item.colorPalette.indexOf((function(e){return e.equals(t)}));if(-1===e){this._itemHandler.item.colorPalette.add(t);var n=new hm(t.preview);this._textHandler.getColorPalette().add(new this._textWhizz.Color(this._textWhizz.ColorType.rgb,[n.b,n.g,n.r,n.a])),e=this._textHandler.getColorPalette().getSize()-1}return e},t.prototype.addColorToPalette=function(t){var e=this.addColorToPaletteReturnIndex(t);return new this._textWhizz.Color(this._textWhizz.ColorType.indexed,[e])},Object.defineProperty(t.prototype,"_fontRegistry",{get:function(){var t,e;return null===(e=null===(t=this._canvas)||void 0===t?void 0:t.fontRegistry)||void 0===e?void 0:e.textWhizzFontRegistry},enumerable:!0,configurable:!0}),t.prototype.updateText=function(e){if(void 0===e&&(e=null),null!=this._textWhizz&&null!=this._fontRegistry&&(this._isMobile||"text"!==e||this._itemHandler.item.text!==this._getFormattedText())){this._ready=!1;try{null==this._textHandler||null==e||"text"==e?(this._textHandler=new this._textWhizz.TextHandler(this._fontRegistry,72),this._itemHandler.initTextWhizzHandler(this._textHandler)):"frame"===e?this._itemHandler.updateTextWhizzFrames(this._textHandler):"wrappingPath"===e&&this._itemHandler.setTextWhizzWrappingPath(this._textHandler)}catch(r){throw this._failed=!0,t.createException(r,this._textWhizz)}this._failed=!1,this._isCropped=null,this._ready=!0;var n=this.measureText();this._isStaticTextImageValid=!1,this._itemHandler.updateRectangle(n),this._redrawText(!0),"inEdit"==this._state&&this._isMobile&&(this.exitEditMode(),this.enterEditMode(0,0))}},t.prototype.transformText=function(t){var e,n=this._itemHandler.item;this._textRenderer.transformText(this._textHandler,t,this._itemHandler.getControlCenter(),n.previewScale,n.opacity,null===(e=n.mask)||void 0===e?void 0:e.vectorMask)},t.prototype.measureText=function(t){var e=this;void 0===t&&(t=!1);var n=this._textHandler.getBounds();if(this._isBounded()){for(var r=function(t){var n=e._textHandler.getFrame(t);if(n instanceof e._textWhizz.ShapeTextFrame)return n.shape},i=r(0),o=1;o<this._textHandler.getFrameCount();o++)i=this._textWhizz.Path.union(i,r(o));if(t){var s=new this._textWhizz.Path;s.rect(n.x,n.y,n.width,n.height),i=this._textWhizz.Path.union(i,s)}n=i.getBounds()}else if(xg(0,n.width)&&xg(0,n.height)&&""===this._getFormattedText()){var a=new this._textWhizz.TextHandler(this._fontRegistry,72);this._itemHandler.initTextWhizzHandler(a,"X"),n=a.getBounds()}var l=this._itemHandler.item.previewScale;return new fg(n.x*l,n.y*l,n.width*l,n.height*l)},t.prototype.clearText=function(){this._textRenderer.clearText()},t.prototype._isBounded=function(){return this._textHandler.getFrame(0)instanceof this._textWhizz.ShapeTextFrame},t.prototype._redrawText=function(t){return e=this,void 0,r=function(){return function(t,e){var n,r,i,o,s={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]};return o={next:a(0),throw:a(1),return:a(2)},"function"==typeof Symbol&&(o[Symbol.iterator]=function(){return this}),o;function a(o){return function(a){return function(o){if(n)throw new TypeError("Generator is already executing.");for(;s;)try{if(n=1,r&&(i=2&o[0]?r.return:o[0]?r.throw||((i=r.return)&&i.call(r),0):r.next)&&!(i=i.call(r,o[1])).done)return i;switch(r=0,i&&(o=[2&o[0],i.value]),o[0]){case 0:case 1:i=o;break;case 4:return s.label++,{value:o[1],done:!1};case 5:s.label++,r=o[1],o=[0];continue;case 7:o=s.ops.pop(),s.trys.pop();continue;default:if(!(i=(i=s.trys).length>0&&i[i.length-1])&&(6===o[0]||2===o[0])){s=0;continue}if(3===o[0]&&(!i||o[1]>i[0]&&o[1]<i[3])){s.label=o[1];break}if(6===o[0]&&s.label<i[1]){s.label=i[1],i=o;break}if(i&&s.label<i[2]){s.label=i[2],s.ops.push(o);break}i[2]&&s.ops.pop(),s.trys.pop();continue}o=e.call(t,s)}catch(a){o=[6,a],r=0}finally{n=i=0}if(5&o[0])throw o[1];return{value:o[0]?o[1]:void 0,done:!0}}([o,a])}}}(this,(function(e){switch(e.label){case 0:return"static"!==this._state?[3,3]:this._isStaticTextImageValid?[3,2]:[4,this._updateStaticTextImage()];case 1:e.sent(),e.label=2;case 2:return[3,4];case 3:"active"!==this._state&&this._isMobile||(this._throttleRedrawText(),t&&this._canvas.redrawDesign()),e.label=4;case 4:return[2]}}))},new((n=void 0)||(n=Promise))((function(t,i){function o(t){try{a(r.next(t))}catch(e){i(e)}}function s(t){try{a(r.throw(t))}catch(e){i(e)}}function a(e){var r;e.done?t(e.value):(r=e.value,r instanceof n?r:new n((function(t){t(r)}))).then(o,s)}a((r=r.apply(e,[])).next())}));var e,n,r},t.prototype._updateStaticTextImage=function(){var t=this.measureText(!0);this._itemHandler.clearImageContainer();var e=this._textRenderer.getTextImage(this._textHandler,t,this._itemHandler.item.previewScale);this._staticTextImageChanged.fire({url:e,rect:t}),this._isStaticTextImageValid=!0},t.prototype._redrawActiveText=function(){var t,e=this._itemHandler.item,n=!this.isInEdit&&this._itemHandler.isEmptyTextPlaceholder()?.5:1;this._textRenderer.drawText(this._textHandler,e.transform,this._itemHandler.getControlCenter(),e.previewScale,e.opacity*n,"inEdit"!=this._state?null===(t=e.mask)||void 0===t?void 0:t.vectorMask:null)},t.prototype.drawSelection=function(t){if(null==t?void 0:t.isValid()){var e=this._itemHandler.item;this._textRenderer.drawSelection(this._textHandler,t,e.transform,this._itemHandler.getControlCenter(),e.previewScale)}else this._redrawActiveText()},Object.defineProperty(t.prototype,"_isMobile",{get:function(){return this._textEditor instanceof Ex},enumerable:!0,configurable:!0}),t.prototype._getFormattedText=function(){return this._textHandler.getTextRange().getFormattedTextForDefaults()},t.prototype.processMouseEvent=function(t,e){var n=t.type,r=new pg(t.x,t.y);if("inEdit"!==this._state&&"dblclick"!==n)return!1;if(!e&&("mousedown"===n||"dblclick"===n)&&"inEdit"===this._state)return this.exitEditMode(),!1;if("dblclick"===n&&"inEdit"!==this._state){if(this._isMobile&&!this._textEditor.ready)return this._textEditor.initialized.remove(this._onMobileTextEditorInitialized),this._textEditor.initialized.add(this._onMobileTextEditorInitialized),this._waitMobileTextEditorInit=!0,this._canvas.redraw(),!1;this.enterEditMode(r.x,r.y)}else this._isMobile||this._textEditor.processMouseEvent(t);return this._canvas.viewer.setCursor(e?tw.text:tw.defaultCursor,!1),!0},t.prototype.processKeyEvent=function(t){return t.keyCode===Vw.Escape?(this.exitEditMode(!0),!0):this._textEditor.processKeyEvent(t)},t.prototype.getEditorInitData=function(){var t=this._itemHandler.item;return{text:this._initialFormattedText,rectangle:this._itemHandler.rectangle,textAlignment:t instanceof u_?t.alignment:null,defaultInlineStyle:this._defaultInlineStyle,defaultParagraphStyle:this._defaultParagraphStyle,borderColor:t.borderColor.preview,borderWidth:t.borderWidth,fillColor:t.fillColor.preview,opacity:t.opacity,previewScale:t.previewScale,textFormattingEnabled:GP.getAllowTextFormatting(t,this._canvas.viewer.textFormattingEnabled),transform:t.transform}},Object.defineProperty(t.prototype,"_defaultParagraphStyle",{get:function(){var t=this._itemHandler.item,e={alignment:t.alignment};return(t instanceof Gy||t instanceof Kv)&&(e.firstLineIndent=t.paragraphSettings.FirstLineIndent,e.spaceAfter=t.paragraphSettings.SpaceAfter,e.spaceBefore=t.paragraphSettings.SpaceBefore,e.leftIndent=t.paragraphSettings.LeftIndent,e.rightIndent=t.paragraphSettings.RightIndent),e},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"_defaultInlineStyle",{get:function(){var t=this._itemHandler.item,e={font:{postScriptName:t.font.postScriptName,size:t.font.size,fauxBold:t.font.fauxBold,fauxItalic:t.font.fauxItalic},underline:t.underline,leading:t.leading,tracking:t.tracking,color:t.color.clone()},n={};if(null!=t.stroke?(n.color=t.stroke.color.clone(),n.size=t.stroke.size,n.enabled=n.size>0&&n.color.alpha>0):(n.color=new hm({r:0,g:0,b:0,a:0}),n.size=0,n.enabled=!1),e.stroke=n,t.font.openTypeFeatures.length>0){var r="";t.font.openTypeFeatures.forEach((function(t){r+=t.tag+","+t.value+";"})),e.openType=r}return e},enumerable:!0,configurable:!0}),t.prototype.enterEditMode=function(t,e){var n=this;if(null!=this._textEditor){var r=this._itemHandler.isEmptyTextPlaceholder();this._textEditor instanceof KP&&!this._itemHandler.item.transform.isEmpty&&this._itemHandler._frontEndUpdate().then((function(){r&&n._textHandler.getTextRange().delete(n._textWhizz.RangeCursorPos.left),n._textEditor._setCursor(new pg(t,e))})),this._initialFormattedText=r?"":this._getFormattedText(),r&&this._textHandler.getTextRange().delete(this._textWhizz.RangeCursorPos.left);var i=this.getEditorInitData();i.point={x:t,y:e},this._textEditor.show(this,i),this._state="inEdit",this._canvas.disableSelection(),this._canvas.redraw()}},t.prototype.exitEditMode=function(t){if(void 0===t&&(t=!1),null!=this._textEditor){var e=this._textEditor.hide();this._initialFormattedText!==e&&(this._isStaticTextImageValid=!1,this._itemHandler.item.text=e),this._itemHandler.isEmptyTextPlaceholder()&&(this._textHandler.getCursor().insertText(this._itemHandler.item.originalText),this.updateItemHandler()),this._state=t?"active":"static",this._canvas.enableSelection(),this._canvas.redraw(),this._exitedEditModeEvent.notify(this)}},t.prototype.updateItemHandler=function(t){this._isCropped=null,this._itemHandler instanceof wI||this._itemHandler instanceof uI?(this._itemHandler.updateRectangle(this.measureText()),this._canvas.redrawDesign()):this._itemHandler.raiseChanged(),this._redrawActiveText(),(null==t?void 0:t.isValid())&&this.drawSelection(t)},t.comparePosition=function(t,e){return null==t&&null==e||null!=t&&null!=e&&t.isEqual(e)},t.compareSelection=function(t,e){return null==t&&null==e||null!=t&&null!=e&&(this.comparePosition(t.getStart(),e.getStart())&&this.comparePosition(t.getEnd(),e.getEnd())||this.comparePosition(t.getStart(),e.getEnd())&&this.comparePosition(t.getEnd(),e.getStart()))},t.prototype._checkTextCropped=function(){if(""===this._getFormattedText())return!1;var e=this._textHandler.getTextRange(),n=this._textHandler.getVisibleTextRange();if(!t.compareSelection(e,n))return!0;var r=this._textHandler.getBounds();return xg(0,r.width)||xg(0,r.height)},t.createException=function(t,e){if("number"!=typeof t)throw t;var n=e.getExceptionMessage(t),r=e.getExceptionName(t);return new Yf(r+": "+n)},t}(),tI=function(){var t=function(e,n){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(e,n)};return function(e,n){function r(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),eI=function(t,e,n,r){return new(n||(n=Promise))((function(i,o){function s(t){try{l(r.next(t))}catch(e){o(e)}}function a(t){try{l(r.throw(t))}catch(e){o(e)}}function l(t){var e;t.done?i(t.value):(e=t.value,e instanceof n?e:new n((function(t){t(e)}))).then(s,a)}l((r=r.apply(t,e||[])).next())}))},nI=function(t,e){var n,r,i,o,s={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]};return o={next:a(0),throw:a(1),return:a(2)},"function"==typeof Symbol&&(o[Symbol.iterator]=function(){return this}),o;function a(o){return function(a){return function(o){if(n)throw new TypeError("Generator is already executing.");for(;s;)try{if(n=1,r&&(i=2&o[0]?r.return:o[0]?r.throw||((i=r.return)&&i.call(r),0):r.next)&&!(i=i.call(r,o[1])).done)return i;switch(r=0,i&&(o=[2&o[0],i.value]),o[0]){case 0:case 1:i=o;break;case 4:return s.label++,{value:o[1],done:!1};case 5:s.label++,r=o[1],o=[0];continue;case 7:o=s.ops.pop(),s.trys.pop();continue;default:if(!(i=(i=s.trys).length>0&&i[i.length-1])&&(6===o[0]||2===o[0])){s=0;continue}if(3===o[0]&&(!i||o[1]>i[0]&&o[1]<i[3])){s.label=o[1];break}if(6===o[0]&&s.label<i[1]){s.label=i[1],i=o;break}if(i&&s.label<i[2]){s.label=i[2],s.ops.push(o);break}i[2]&&s.ops.pop(),s.trys.pop();continue}o=e.call(t,s)}catch(a){o=[6,a],r=0}finally{n=i=0}if(5&o[0])throw o[1];return{value:o[0]?o[1]:void 0,done:!0}}([o,a])}}},rI=function(t){var e="function"==typeof Symbol&&Symbol.iterator,n=e&&t[e],r=0;if(n)return n.call(t);if(t&&"number"==typeof t.length)return{next:function(){return t&&r>=t.length&&(t=void 0),{value:t&&t[r++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")},iI=function(t){function e(n,r){void 0===r&&(r=null);var i=t.call(this,null,n,r)||this;i._textManager=null,i._staticTextRect=null,i._exitedEditModeEvent=new ag,i._onTextManagerExitedEditMode=function(t){i._exitedEditModeEvent.notify(i)},i._initFrontEndRenderingDef=null;var o=null!=i.item?i.item.sourceRectangle:null;return(null==o||o.isEmpty())&&(o=new fg(0,0,10,10)),i.originalPath=Eg.rectangle(o.left,o.top,o.width,o.height),i.controlPoints=[new pg(o.left,o.top),new pg(o.right,o.bottom)],i._imageContainer=new Qw((function(){return eI(i,void 0,void 0,(function(){var t;return nI(this,(function(n){switch(n.label){case 0:return null==this.canvas?[2]:[4,this.waitUpdate()];case 1:if(n.sent(),this._textManager.isStatic){if(null==this.canvas)return[2];0!=this.canvas.getSelectedItemHandlers().length&&this.canvas.currentItemHandler instanceof e&&(null===(t=this.canvas.currentItemHandler._textManager)||void 0===t?void 0:t.isActive)||this._textManager.clearText(),this.canvas.redraw(!0)}else this._textManager.isInEdit&&this.canvas.isSelectionLocked()&&this.canvas.redraw(!0);return[2]}}))}))})),i._allowNegativeResize=!1,i}return tI(e,t),Object.defineProperty(e.prototype,"item",{get:function(){return this._getItem()},set:function(e){t.prototype._setItem.call(this,e)},enumerable:!0,configurable:!0}),e.prototype.isEmpty=function(){return this.item.isEmpty()&&!this._textManager.isInEdit},e.prototype.isEmptyTextPlaceholder=function(){return this.item.isTextPlaceholder&&""===this.item.text},Object.defineProperty(e.prototype,"_fontRegistry",{get:function(){var t;return null===(t=this.canvas)||void 0===t?void 0:t.fontRegistry},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"textEditor",{get:function(){var t;return null===(t=this._textManager)||void 0===t?void 0:t.activeTextEditor},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"editing",{get:function(){return null!=this.textEditor},enumerable:!0,configurable:!0}),e.prototype.onTextWhizzInit=function(){t.prototype.onTextWhizzInit.call(this),this.update()},e.prototype._onItemPropertyChanged=function(e,n){switch(n){case"text":this.update(null,null,"text");break;case"font":case"underline":case"color":case"alignment":case"leading":case"tracking":case"verticalScale":case"horizontalScale":case"previewScale":case"stroke":case"shadow":case"baselineShift":this.update();break;case"checkTextCrop":!this.frontEndRenderingReady&&e.checkTextCrop&&this.update()}"checkTextCrop"!==n&&t.prototype._onItemPropertyChanged.call(this,e,n)},e.prototype._setDataItem=function(t,e){throw new Xf("NewBaseTextItemHandler._setDataItem")},e.prototype._createDataInstance=function(t){throw new Xf("NewBaseTextItemHandler._createDataInstance")},e.prototype._onAddedOnCanvas=function(e){var n;this._textWhizz=e.textWhizz,t.prototype._onAddedOnCanvas.call(this,e),null===(n=this._textManager)||void 0===n||n.bindToCanvas()},e.prototype._onRemovedFromCanvas=function(e){var n;t.prototype._onRemovedFromCanvas.call(this,e),null===(n=this._textManager)||void 0===n||n.unbindFromCanvas()},Object.defineProperty(e.prototype,"textCropped",{get:function(){return this.item.checkTextCrop?!(!this.ready||!this.frontEndRenderingReady)&&this._textManager.isCropped:null},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"ready",{get:function(){var t;return null===(t=this._textManager)||void 0===t?void 0:t.ready},enumerable:!0,configurable:!0}),e.prototype.updateText=function(t){this._modifyItem((function(e){e.text=t}))},e.prototype._getFonts=function(){return function(t){var e=[t.font.postScriptName];if(Hg(t.text))try{null!=t.text&&function(t,n,r){var i=(new DOMParser).parseFromString("<body>"+t+"</body>","application/xml"),o={acceptNode:function(t){var e=t.nodeName.toLowerCase();return n.includes(e)?NodeFilter.FILTER_ACCEPT:NodeFilter.FILTER_SKIP}};cg.IsIE()&&(o=function(t){return t.acceptNode}(o));for(var s,a=document.createTreeWalker(i.childNodes[0],NodeFilter.SHOW_ELEMENT,o,!1);a.nextNode();)s=void 0,null!=(s=function(t){var e,n,r=t.attributes.getNamedItem("style");if(null==r||null==r.value)return null;var i=r.value.split(";"),o=new Map;try{for(var s=Og(i),a=s.next();!a.done;a=s.next()){var l=a.value;if(null!=(l=l.trim())&&""!==l){var u=l.split(":"),c=u[0].trim(),h=u[1].trim();o.set(c,h)}}}catch(p){e={error:p}}finally{try{a&&!a.done&&(n=s.return)&&n.call(s)}finally{if(e)throw e.error}}return o}(a.currentNode))&&s.has("font-name")&&e.push(s.get("font-name"))}(t.text,["span","ol","ul"])}catch(n){console.error("Unexpected exception while parsing item text"),console.error(n)}return e}(this.item)},e.prototype.update=function(t,e,n){var r=this;this.isVisible()?this._frontEndUpdate(t,(function(){"function"==typeof e&&e(),r.canvas.updateSelection(),r.canvas.redrawDesign()}),n):"function"==typeof t&&t()},e.prototype.getColorData=function(){var e=this.item,n=null!=this.canvas?this.canvas.rgbColorProfileFileId:null,r=t.prototype.getColorData.call(this);return e.color.needUpdate(n)&&(r.color=e.color.getData()),null!=e.stroke&&e.stroke.color.needUpdate(n)&&(r.stroke=e.stroke.color.getData()),null!=e.shadow&&e.shadow.color.needUpdate(n)&&(r.shadow=e.shadow.color.getData()),r},e.prototype.setColorData=function(e){t.prototype.setColorData.call(this,e),this._modifyItem((function(t){null!=e.color&&(t.color=bm.createColor(e.color)),null!=e.stroke&&(t.stroke.color=bm.createColor(e.stroke)),null!=e.shadow&&(t.shadow.color=bm.createColor(e.shadow))}))},e.prototype.hasColorsToUpdate=function(){var e,n=this.item,r=null===(e=this.canvas)||void 0===e?void 0:e.rgbColorProfileFileId;return t.prototype.hasColorsToUpdate.call(this)||n.color.needUpdate(r)||null!=n.stroke&&n.stroke.color.needUpdate(r)||null!=n.shadow&&n.shadow.color.needUpdate(r)},Object.defineProperty(e.prototype,"_isMobileTextEditorActive",{get:function(){return this.textEditor instanceof Ex},enumerable:!0,configurable:!0}),e.prototype.setRectangle=function(t,e){var n,r=Ag.fromRectangleF(this.getControlBounds()),i=t.getTransform(r);i.equals(this.item.transform,.1)||(this.item.setTransform(i,e),(null===(n=this._textManager)||void 0===n?void 0:n.isActive)&&this._transformText(i))},e.prototype._transformText=function(t){this._textManager.transformText(t)},e.prototype._getBoundsMargin=function(){return 2*this._getActualBorderWidth()},e.prototype.renderFill=function(t,e){var n=this.item;Iw.fillRectangle(t,this.rectangle,n.fillColor.preview,n.opacity*e)},e.prototype.renderStroke=function(t,e){var n=this.item,r=this.rectangle,i=this._getActualBorderWidth();i>0&&(r.width+=i,r.height+=i,Iw.drawRectangle(t,r,i,n.borderColor.preview,n.opacity*e))},e.prototype.drawItemHandler=function(t){var e,n;if(null!=t&&null!=this.canvas&&null!=this._textWhizz){var r=this.ready&&!(null===(e=this._textManager)||void 0===e?void 0:e.isStatic)&&this.canvas.isSelectionLocked();if(!this._isMobileTextEditorActive||r){this._hasVectorMask()&&!r&&(t.save(),this._clip(t));var i=this.isEmptyTextPlaceholder()?.5:1;if(this.renderFill(t,i),!this.ready||(null===(n=this._textManager)||void 0===n?void 0:n.isStatic)||r)try{lC.renderTextImage(this,this._imageContainer,null,t,i)}catch(o){console.error(o)}this.renderStroke(t,i),this._hasVectorMask()&&!r&&t.restore()}}},e.prototype.drawHighlight=function(e){this._isMobileTextEditorActive||t.prototype.drawHighlight.call(this,e)},e.prototype.clearImageContainer=function(){this._imageContainer.clear()},e.prototype.showEditToolbarButton=function(){return null==this.canvas.textEditor||this.item.placeholders.length>0},e.prototype._getEndTransformTrigger=function(t){return"frame"},e.prototype._endTransform=function(e,n){t.prototype._endTransform.call(this,e,n),e&&n&&this.frontEndRenderingReady&&this.update(null,null,this._getEndTransformTrigger(n))},Object.defineProperty(e.prototype,"frontEndRenderingReady",{get:function(){var t=null!=this._textWhizz,e=null!=this._textManager&&!this._textManager.failed,n=null!=this._fontRegistry&&this._fontRegistry.ready&&this._fontRegistry.containsFonts(this._getFonts()),r=!this.hasColorsToUpdate();return t&&e&&n&&r},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"inPlaceEditingEnabled",{get:function(){return this.frontEndRenderingReady&&0==this.item.placeholders.length},enumerable:!0,configurable:!0}),e.prototype.processInPlaceEditingMouseEvent=function(t,e){return this._textManager.processMouseEvent(t,e)},e.prototype.processInPlaceEditingKeyEvent=function(t){return"keydown"!==t.type||this._textManager.processKeyEvent(t)},e.prototype.enterEditMode=function(){this._textManager.enterEditMode(0,0)},e.prototype.exitEditMode=function(t){void 0===t&&(t=!1),this._textManager.exitEditMode(t)},e.prototype._initFrontEndRendering=function(){var t=this;this._textManager=new JP(this),this._textManager.add_staticTextImageChanged((function(e){null==e.url?(t._imageContainer.clear(),t.canvas.redraw()):(t._staticTextRect=e.rect,t._imageContainer.updateUrl(e.url))})),this._textManager.exitedEditModeEvent.add(this._onTextManagerExitedEditMode)},Object.defineProperty(e.prototype,"exitedEditModeEvent",{get:function(){return this._exitedEditModeEvent},enumerable:!0,configurable:!0}),e.prototype._getTextForRendering=function(){return this.isEmptyTextPlaceholder()?this.item.originalText:this.item.text},e.prototype.initTextWhizzHandler=function(t,e){var n,r,i,o;if(void 0===e&&(e=null),null!=this.canvas){this._textWhizz=this.canvas.textWhizz;var s=this.item;try{for(var a=rI(s.colorPalette),l=a.next();!l.done;l=a.next()){var u=bm.createColor(l.value.preview);t.getColorPalette().add(new this._textWhizz.Color(this._textWhizz.ColorType.rgb,[u.b,u.g,u.r,u.a]))}}catch(m){n={error:m}}finally{try{l&&!l.done&&(r=a.return)&&r.call(a)}finally{if(n)throw n.error}}var c=t.getDefaultCharStyle();c.fontName=s.font.postScriptName,c.fontSize=s.font.size,c.fauxBold=s.font.fauxBold,c.fauxItalic=s.font.fauxItalic,c.allCaps=s.font.allCaps,c.underline=s.underline,c.leading=s.leading,c.tracking=s.tracking,c.baselineShift=s.baselineShift;try{for(var h=rI(s.font.openTypeFeatures),p=h.next();!p.done;p=h.next()){var d=p.value,f=this._textWhizz.OpenTypeFeature[d.tag];null!=f&&c.openType.set(f,d.value)}}catch(y){i={error:y}}finally{try{p&&!p.done&&(o=h.return)&&o.call(h)}finally{if(i)throw i.error}}c.fillColor=this._textManager.addColorToPalette(s.color),null!=s.stroke?(c.strokeColor=this._textManager.addColorToPalette(s.stroke.color),c.strokeWidth=s.stroke.size):(c.strokeColor=this._textManager.addColorToPalette(new hm({r:0,g:0,b:0,a:0})),c.strokeWidth=0),t.setDefaultCharStyle(c);var g=t.getDefaultParagraphStyle();g.alignment=KP.alignmentToTextWhizzAlignment(s.alignment,this._textWhizz),(s instanceof Gy||s instanceof Kv)&&(g.firstLineIndent=s.paragraphSettings.FirstLineIndent,g.spaceAfter=s.paragraphSettings.SpaceAfter,g.spaceBefore=s.paragraphSettings.SpaceBefore,g.leftIndent=s.paragraphSettings.LeftIndent,g.rightIndent=s.paragraphSettings.RightIndent),t.setDefaultParagraphStyle(g),this._addTextWhizzFrames(t),this.setTextWhizzWrappingPath(t),t.getCursor().insertText(null!=e?e:this._getTextForRendering())}},e.prototype._beforeFrontEndUpdate=function(){var t=this;if(!this.item.transform.isEmpty){var e=this.getControlCenter(),n=this.item.transform.clone();n.setAngle(0),this._modifyItem((function(r){var i;t._applyTransform(r,n,e),null!=(null===(i=r.mask)||void 0===i?void 0:i.vectorMask)&&(r.mask.vectorMask=t._getTransformedClippingPath(n)),r.transform.clear({keepAngle:!0,supressOnChanged:!0})}))}},e.prototype._getPreviewScaleLimits=function(){var t=null,e=null;return null==this.canvas.maxFontSize||isNaN(this.canvas.maxFontSize)||(t=this.canvas.maxFontSize/this.item.font.size),null==this.canvas.minFontSize||isNaN(this.canvas.minFontSize)||(e=this.canvas.minFontSize/this.item.font.size),{min:e,max:t}},e.prototype.updateRectangle=function(t){this._modifyItem((function(e){e.sourceRectangle=t,e.sourcePath=Eg.rectangle(t.left,t.top,t.width,t.height)})),this.controlPoints=[new pg(t.left,t.top),new pg(t.right,t.bottom)],this.item.getItemChangedEvent().fire()},e.prototype.waitInitFrontEndRendering=function(){return eI(this,void 0,void 0,(function(){return nI(this,(function(t){switch(t.label){case 0:return null==this.canvas?[2,null]:null!=this._fontRegistry&&null!=this._textManager?[2]:null!=this._initFrontEndRenderingDef?[2,this._initFrontEndRenderingDef.promise]:(this._initFrontEndRenderingDef=new Tw,[4,this.canvas.waitFontRegistryInitialized()]);case 1:return t.sent(),null!=this.canvas&&null==this._textManager&&this._initFrontEndRendering(),this._initFrontEndRenderingDef.resolve(),this._initFrontEndRenderingDef=null,[2]}}))}))},e.prototype._frontEndUpdate=function(t,e,n){return eI(this,void 0,void 0,(function(){var r,i=this;return nI(this,(function(o){switch(o.label){case 0:return this._isDisposed?[2]:null==this._fontRegistry&&null==this.canvas?[2]:(null==this._handlerUpdated&&(this._handlerUpdated=new Tw),[4,this.waitInitFrontEndRendering()]);case 1:return o.sent(),(r=Zb.makeCancelable(new Promise((function(r,o){if(!i._isDisposed&&null!=i.canvas){var s=function(){"function"==typeof t&&t(),i._beforeFrontEndUpdate();try{i._textManager.updateText(n)}catch(s){return void o(s)}"function"==typeof e&&e(),null!=i._handlerUpdated&&(i._handlerUpdated.resolve(),i._handlerUpdated=null),r()};if(i.frontEndRenderingReady)s();else{var a=new Array;a.push(i._fontRegistry.loadFonts(i._getFonts())),a.push(i.updateColors()),Promise.all(a).then(s).catch((function(t){o(t)}))}}})))).promise.catch((function(t){})),this._updateActiveWebServiceCall(r),[2]}}))}))},e.prototype._pathToTextWhizzPath=function(t){return t.toTextWhizzPath(this._textWhizz)},e.prototype.waitUpdate=function(){return eI(this,void 0,void 0,(function(){var e;return nI(this,(function(n){switch(n.label){case 0:return this._isDisposed?[2]:(e=[],this.frontEndRenderingReady||(e.push(this.waitInitFrontEndRendering()),this.update()),e.push(t.prototype.waitUpdate.call(this)),[4,Promise.all(e)]);case 1:return n.sent(),[2]}}))}))},e.prototype.dispose=function(){var e,n;null===(e=this._textManager)||void 0===e||e.exitedEditModeEvent.remove(this._onTextManagerExitedEditMode),null===(n=this._textManager)||void 0===n||n.clearText(),this._imageContainer.dispose(),t.prototype.dispose.call(this)},e.typeName="NewBaseTextItemHandler",e}(Yw),oI=function(){var t=function(e,n){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(e,n)};return function(e,n){function r(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),sI=function(t){var e="function"==typeof Symbol&&Symbol.iterator,n=e&&t[e],r=0;if(n)return n.call(t);if(t&&"number"==typeof t.length)return{next:function(){return t&&r>=t.length&&(t=void 0),{value:t&&t[r++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")},aI=function(t){function e(e,n){void 0===n&&(n=null);var r=t.call(this,e,n)||this;return r.lastRectangle=null,r}return oI(e,t),Object.defineProperty(e.prototype,"item",{get:function(){return this._getItem()},set:function(e){t.prototype._setItem.call(this,e)},enumerable:!0,configurable:!0}),e.prototype._getFrames=function(){if(this.item instanceof Gy){var t=this.item.textRectangle;return[Eg.rectangle(t.left,t.top,t.width,t.height)]}return this.item.boundingPaths},e.prototype._onItemPropertyChanged=function(e,n){switch(n){case"textRectangle":case"boundingPaths":case"firstBaselineOffset":case"firstBaselineMinOffset":this.update(null,null,"frame");break;case"wrappingPath":case"wrappingMargin":this.update(null,null,this.item.transform.isEmpty?"wrappingPath":null);break;case"verticalAlignment":case"isVertical":case"shrinkMode":case"scheduledFitMode":case"paragraphSettings":case"overflowStrategy":this.update()}t.prototype._onItemPropertyChanged.call(this,e,n)},e.prototype._transformText=function(e){this.canvas.isResizing()||null!=this.item.wrappingPath?this.update(null,null,"frame"):t.prototype._transformText.call(this,e)},e.prototype.renderFill=function(t){var e=this.item,n=this.getControlCenter(),r=this.item.transform;this._getFrames().forEach((function(i){Iw.fillPath(t,i,n,r,e.fillColor.preview,e.opacity)}))},e.prototype.renderStroke=function(t){var e=this,n=this._getActualBorderWidth();if(!(n<=0)){var r=this.item,i=this.getControlCenter(),o=this.item.transform;this._getFrames().forEach((function(s){var a=s.toTextWhizzPath(e._textWhizz);a.offsetContour(n/2),Iw.drawPath(t,a,i,o,n,r.borderColor.preview,r.opacity)}))}},e.prototype.getTextWrappingPath=function(){var e=this;if(this.item instanceof Kv&&this.item.textWrappingMode===Fm.Tight){var n=this._getFrames(),r=function(t){var n=t.clone();return n.transform(e.item.transform,e.getControlCenter()),n};if(1==n.length)return r(n[0]);for(var i=r(n[0]).toTextWhizzPath(this._textWhizz),o=1;o<n.length;o++)i=this._textWhizz.Path.union(i,r(n[o]).toTextWhizzPath(this._textWhizz));return Eg.fromTextWhizzPath(i)}return t.prototype.getTextWrappingPath.call(this)},e.prototype.getTextRectangle=function(){var t,e=this.getControlCenter(),n=Ag.fromRectangleF((null===(t=this._textManager)||void 0===t?void 0:t.ready)?this._textManager.measureText():this.item.sourceRectangle);return n.transform(this.item.transform.clone(),e),n},Object.defineProperty(e.prototype,"drawingRectangle",{get:function(){var t=this.canvas.isItemHandlerSelected(this)&&this.canvas.isResizing();if(null==this._staticTextRect)return t&&null!=this.startRectangle?this.startRectangle:this.rectangle;var e=Ag.fromRectangleF(this._staticTextRect),n=t&&null!=this.startRectangle?this.startRectangle.getTransform(Ag.fromRectangleF(this.getControlBounds())):this.item.transform.clone();return e.transform(n,this.getControlCenter()),e},enumerable:!0,configurable:!0}),e.prototype._addTextWhizzFrames=function(t){var e,n;try{for(var r=sI(this._getFrames()),i=r.next();!i.done;i=r.next())t.addFrame(this._createTextWhizzFrame(i.value))}catch(o){e={error:o}}finally{try{i&&!i.done&&(n=r.return)&&n.call(r)}finally{if(e)throw e.error}}},e.prototype.setTextWhizzWrappingPath=function(t){var e=this.item,n=null;if(null!=e.wrappingPath){if(xg(0,this.item.transform.angle))n=e.wrappingPath.toTextWhizzPath(this._textWhizz);else{var r=e.wrappingPath.clone();r.rotateAt(-this.item.transform.angle,this.getControlCenter()),n=r.toTextWhizzPath(this._textWhizz)}n.offsetContour(e.wrappingMargin)}else n=new this._textWhizz.Path;t.setWrappingPath(n)},e.prototype.updateTextWhizzFrames=function(t){for(var e=t.getFrameCount(),n=this._getFrames(),r=0;r<n.length;r++){var i=n[r];r<e?t.replaceFrame(this._createTextWhizzFrame(i),r):t.addFrame(this._createTextWhizzFrame(i))}if(e>n.length)for(var o=r;r<e;r++)t.removeFrame(o)},e.prototype._createTextWhizzFrame=function(t){var e=new this._textWhizz.ShapeTextFrame;e.shape=this._pathToTextWhizzPath(t),e.firstBaselineOffset=this._firstBaselineOffsetToTextWhizz(this.item.firstBaselineOffset),e.firstBaselineMinOffset=this.item.firstBaselineMinOffset;var n=this.item.previewScale;return xg(n,1)||e.shape.scale(1/n,1/n),e},e.prototype._applyTransform=function(t,e,n){var r,i;if(t instanceof Gy){var o=Ag.fromRectangleF(t.textRectangle);o.setTransform(e),t.textRectangle=o.toRectangleF()}if(t instanceof Kv)try{for(var s=sI(t.boundingPaths),a=s.next();!a.done;a=s.next())a.value.transform(e,n)}catch(l){r={error:l}}finally{try{a&&!a.done&&(i=s.return)&&i.call(s)}finally{if(r)throw r.error}}},e.prototype._firstBaselineOffsetToTextWhizz=function(t){switch(t){case by.Ascent:return this._textWhizz.FirstBaselineOffset.ascent;case by.CapHeight:return this._textWhizz.FirstBaselineOffset.capHeight;case by.Leading:return this._textWhizz.FirstBaselineOffset.leading;case by.XHeight:return this._textWhizz.FirstBaselineOffset.xHeight;case by.Fixed:return this._textWhizz.FirstBaselineOffset.fixed}},e.typeName="NewBoundedTextItemHandler",e}(iI),lI=function(){var t=function(e,n){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(e,n)};return function(e,n){function r(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),uI=function(t){function e(e,n){return void 0===n&&(n=null),t.call(this,e,n)||this}return lI(e,t),Object.defineProperty(e.prototype,"item",{get:function(){return this._getItem()},set:function(e){t.prototype._setItem.call(this,e)},enumerable:!0,configurable:!0}),e.prototype._onItemPropertyChanged=function(e,n){switch(n){case"textPath":case"start":case"end":this.update(null,null,"frame");break;case"fitToPath":case"fitToPathStep":case"stretch":case"originalFontSize":this.update()}t.prototype._onItemPropertyChanged.call(this,e,n)},e.prototype._addTextWhizzFrames=function(t){t.addFrame(this._createTextWhizzFrame())},e.prototype.updateTextWhizzFrames=function(t){t.replaceFrame(this._createTextWhizzFrame(),0)},e.prototype.setTextWhizzWrappingPath=function(t){},e.prototype._getEndTransformTrigger=function(t){return t?null:"frame"},e.prototype._applyTransform=function(t,e,n){var r,i;if(t instanceof cv){var o=t.textPath.clone();o.transform(e,n),t.textPath=o;var s=this._getPreviewScaleLimits(),a=this.item.previewScale*e.scaleY;a=Math.min(null!==(r=s.max)&&void 0!==r?r:Number.MAX_VALUE,a),a=Math.max(null!==(i=s.min)&&void 0!==i?i:Number.MIN_VALUE,a),t.previewScale=a}},e.prototype._createTextWhizzFrame=function(){var t=this.item.textPath.toTextWhizzPath(this._textWhizz),e=this.item.previewScale;xg(e,1)||t.scale(1/e,1/e);var n=new this._textWhizz.PathTextFrame;return n.baseline=t,n},e.typeName="NewCurvedTextItemHandler",e}(iI),cI=function(t,e,n,r){return new(n||(n=Promise))((function(i,o){function s(t){try{l(r.next(t))}catch(e){o(e)}}function a(t){try{l(r.throw(t))}catch(e){o(e)}}function l(t){var e;t.done?i(t.value):(e=t.value,e instanceof n?e:new n((function(t){t(e)}))).then(s,a)}l((r=r.apply(t,e||[])).next())}))},hI=function(t,e){var n,r,i,o,s={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]};return o={next:a(0),throw:a(1),return:a(2)},"function"==typeof Symbol&&(o[Symbol.iterator]=function(){return this}),o;function a(o){return function(a){return function(o){if(n)throw new TypeError("Generator is already executing.");for(;s;)try{if(n=1,r&&(i=2&o[0]?r.return:o[0]?r.throw||((i=r.return)&&i.call(r),0):r.next)&&!(i=i.call(r,o[1])).done)return i;switch(r=0,i&&(o=[2&o[0],i.value]),o[0]){case 0:case 1:i=o;break;case 4:return s.label++,{value:o[1],done:!1};case 5:s.label++,r=o[1],o=[0];continue;case 7:o=s.ops.pop(),s.trys.pop();continue;default:if(!(i=(i=s.trys).length>0&&i[i.length-1])&&(6===o[0]||2===o[0])){s=0;continue}if(3===o[0]&&(!i||o[1]>i[0]&&o[1]<i[3])){s.label=o[1];break}if(6===o[0]&&s.label<i[1]){s.label=i[1],i=o;break}if(i&&s.label<i[2]){s.label=i[2],s.ops.push(o);break}i[2]&&s.ops.pop(),s.trys.pop();continue}o=e.call(t,s)}catch(a){o=[6,a],r=0}finally{n=i=0}if(5&o[0])throw o[1];return{value:o[0]?o[1]:void 0,done:!0}}([o,a])}}},pI=function(){function t(t,e,n,r){var i=this;this._item=t,this._itemHandlers=e,this._itemHandler=n,this._history=r,this._layoutEvent=new og,this._orderedItemHandlers=null,this._initialized=!1,this._disposed=!1,this._onChildItemHandlerChanging=function(t){i.applyLayout()},this._onChildItemHandlerPropertyChanged=function(t,e){return cI(i,void 0,void 0,(function(){return hI(this,(function(n){switch(n.label){case 0:switch(e){case"font":case"text":case"tracking":case"leading":case"shadow":case"stroke":case"underline":case"sourceRectangle":case"borderWidth":case"transform":return[3,1]}return[3,3];case 1:return[4,t.waitUpdate()];case 2:return n.sent(),this.applyLayout(),[3,3];case 3:return[2]}}))}))},this._onItemPropertyChanged=function(t,e){switch(e){case"layoutSettings":i._orderedItemHandlers=null,i._updateItemsOrder();case"margin":i.applyLayout();break;case"orientation":i.applyLayout(!0);break;case"alignItems":case"justifyContent":i.applyLayout()}},this._ignoreLayoutApply=!1,this._filterHiddenItems=function(t){return!((t instanceof cC||t instanceof iI||t instanceof mI)&&t.isEmpty())},this._item.addPropertyChanged(this._onItemPropertyChanged),this._itemHandlers.add_itemAdded(this._onItemHandlerAdded.bind(this)),this._itemHandlers.add_itemRemoved(this._onItemHandlerRemoved.bind(this)),this._itemHandlers.forEach((function(t){return t.addItemPropertyChanged(i._onChildItemHandlerPropertyChanged)})),this._itemHandlers.ofType(mI).forEach((function(t){return t.getLayoutEvent().add(i._onChildItemHandlerChanging)})),this._init()}return t.prototype.dispose=function(){var t=this;this._disposed=!0,this._item.removePropertyChanged(this._onItemPropertyChanged),this._itemHandlers.remove_itemAdded(this._onItemHandlerAdded.bind(this)),this._itemHandlers.remove_itemRemoved(this._onItemHandlerRemoved.bind(this)),this._itemHandlers.forEach((function(e){return e.removeItemPropertyChanged(t._onChildItemHandlerPropertyChanged)})),this._itemHandlers.ofType(mI).forEach((function(e){return e.getLayoutEvent().remove(t._onChildItemHandlerChanging)}))},t.prototype.getLayoutEvent=function(){return this._layoutEvent},t.prototype.onItemRemoved=function(t){this._updateItemsOrder({removedItem:t.item}),this.applyLayout()},t.prototype.onItemHandlersCollectionChanged=function(){this._orderedItemHandlers=null},t.prototype._init=function(){return cI(this,void 0,void 0,(function(){var t;return hI(this,(function(e){switch(e.label){case 0:return t=this._item.getItemsOrder(),null==this._itemHandler.canvas?[2]:[4,this._itemHandler.waitUpdate()];case 1:return e.sent(),t||this._updateItemsOrder(),this._initialized=!0,this.applyLayout(),[2]}}))}))},t.prototype._onItemHandlerAdded=function(t){t.item.addItemPropertyChanged(this._onChildItemHandlerPropertyChanged),t.item.getChangingEvent().add(this._onChildItemHandlerChanging),t.item instanceof mI&&t.item.getLayoutEvent().add(this._onChildItemHandlerChanging),this._orderedItemHandlers=null},t.prototype._onItemHandlerRemoved=function(t){t.item.removeItemPropertyChanged(this._onChildItemHandlerPropertyChanged),t.item.getChangingEvent().remove(this._onChildItemHandlerChanging),t.item instanceof mI&&t.item.getLayoutEvent().remove(this._onChildItemHandlerChanging),this._orderedItemHandlers=null},t.prototype._updateItemsOrder=function(t){if(this._item.layoutSettings instanceof $v){if(this._validateItemsOrder())return;if(null==this._item.getItemsOrder()){this._initSortedItemHandlers();var e=this._getSortedItemHandlers().map((function(t){return t.item.id}));this._item.setItemsOrder(e)}}},t.prototype._initSortedItemHandlers=function(){var t=this._itemHandler.getTransformedRectangle(!1,!0).center,e=this._item.transform.angle,n=this._item.layoutSettings.orientation;return this._orderedItemHandlers=this._itemHandlers.toArray().sort((function(r,i){return function(t,e){return n===Mv.horizontal?t.bounds.left-e.bounds.left:t.bounds.top-e.bounds.top}(r.getTransformedRectangle(!1,!0).rotateAt(-e,t),i.getTransformedRectangle(!1,!0).rotateAt(-e,t))})),this._orderedItemHandlers},t.prototype._validateItemsOrder=function(){var t=this._item.getItemsOrder();if(null==t)return!1;if(t.length!==this._item.items.length)return!1;var e=this._item.items.select((function(t){return t.id})).toArray();return t.every((function(t){return e.includes(t)}))},t.prototype._getSortedItemHandlers=function(){if(null!=this._orderedItemHandlers)return this._orderedItemHandlers;var t=this._item.getItemsOrder();if(!t)return null;var e=[],n=this._itemHandlers.toArray();if(n.length!=t.length)throw new Error("itemsOrder length does not match itemHandlers length");return t.forEach((function(t){var r=n.findIndex((function(e){return e.item.id==t}));if(-1==r)throw new Error("itemsOrder: Element with id "+t+" was not found in itemHandlers");e.push(n[r]),n.splice(r,1)})),this._orderedItemHandlers=e,this._orderedItemHandlers},t.prototype.getOrderedItems=function(){var t=this._item.getItemsOrder();if(t){var e=this._item.items.toArray();return e.sort((function(e,n){return t.indexOf(e.id)-t.indexOf(n.id)})),e}return null},Object.defineProperty(t.prototype,"ignoreLayoutApply",{set:function(t){this._ignoreLayoutApply=t},enumerable:!0,configurable:!0}),t.prototype.applyLayout=function(t){if(void 0===t&&(t=!1),!this._disposed&&this._initialized&&!this._ignoreLayoutApply){this._ignoreLayoutApply=!0;try{var e=!this._history.isPaused();e&&this._history.pause(),this._itemHandler.canvas.pauseRedraw();var n=this._applyLayoutImpl(t);this._itemHandler.canvas.continueRedraw(),e&&this._history.resume(!!n,!1,!0),this._layoutEvent.notify()}finally{this._ignoreLayoutApply=!1}}},t.prototype._applyLayoutImpl=function(t){var e,n=this;void 0===t&&(t=!1);var r=this._getSortedItemHandlers();if(null!=r&&0!=r.length){var i=this._itemHandler.rectangle,o=i.center,s=this._item.layoutSettings,a=s.alignItems,l=s.orientation,u=s.margin,c=i.toRectangleF(),h=this._getOriginalPoint(c,a,l);r=r.filter((function(t){return n._filterHiddenItems(t)}));var p=!1;r.forEach((function(t){var e=n._getItemHandlerPositionRect(t,i,h,a,l),r=n._getPositionRectOffset(l,c,e)+u;h=n._getOriginalPoint(c,a,l,r);var o=n._setItemHandlerPosition(t,i,e);p=p||o}));var d=this._itemHandlers.cast().where(this._filterHiddenItems);if(d.any()){var f=d.select((function(t){return t.getTransformedRectangle(!1,!0)})).aggregate((function(t,e){return Ag.union(t,e)}));t&&(this._correctCenterPosition(f.center,o,r),f=d.select((function(t){return t.getTransformedRectangle(!1,!0)})).aggregate((function(t,e){return Ag.union(t,e)}))),this._itemHandler.setRectangle(f,!0)}return null===(e=this._itemHandler.canvas)||void 0===e||e.updateTexts(),p}},t.prototype._correctCenterPosition=function(t,e,n){var r=this,i=e.x-t.x,o=e.y-t.y;n.forEach((function(t){var e=function(t){var n=t.getTransformedRectangle(!1,!0);return n.translate(i,o),r._setItemHandlerRectangle(t,n,e),!0};e(t)}))},t.prototype._setItemHandlerPosition=function(t,e,n){var r=this,i=function(t){var o=t.getTransformedRectangle(!1,!0),s=o.clone();o.rotateAt(-e.angle,e.center);var a=o.bounds;return o.translate(n.left-a.left,n.top-a.top),o.rotateAt(e.angle,e.center),!s.equals(o)&&(r._setItemHandlerRectangle(t,o,i),!0)};return i(t)},t.prototype._setItemHandlerRectangle=function(t,e,n){var r=t.getBorderMargin();e.width-=2*r,e.height-=2*r,t instanceof mI?t.setRectangle(e,!0,!0):(t.setRectangle(e),t instanceof SC&&t.updateContentAndFrames(n),t instanceof ix&&t.getNestedItemHandlers(!0).forEach((function(t){n(t)})))},t.prototype._getPositionRectOffset=function(t,e,n){return t==Mv.vertical?n.bottom-e.top:n.right-e.left},t.prototype._getItemHandlerPositionRect=function(t,e,n,r,i){var o=t.getTransformedRectangle(!1,!0);o.angle-=e.angle;var s=o.bounds,a=this._getOriginalPoint(s,r,i),l=n.y-a.y;return s.left+=n.x-a.x,s.top+=l,s},t.prototype._getOriginalPoint=function(t,e,n,r){var i;return void 0===r&&(r=0),n==Mv.vertical?(i=new pg(e==Ov.start||e==Ov.none?t.left:e==Ov.center?t.center.x:t.right,t.top)).y+=r:(i=new pg(t.left,e==Ov.start||e==Ov.none?t.top:e==Ov.center?t.center.y:t.bottom)).x+=r,i},t}(),dI=function(){var t=function(e,n){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(e,n)};return function(e,n){function r(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),fI=function(t,e,n,r){return new(n||(n=Promise))((function(i,o){function s(t){try{l(r.next(t))}catch(e){o(e)}}function a(t){try{l(r.throw(t))}catch(e){o(e)}}function l(t){var e;t.done?i(t.value):(e=t.value,e instanceof n?e:new n((function(t){t(e)}))).then(s,a)}l((r=r.apply(t,e||[])).next())}))},gI=function(t,e){var n,r,i,o,s={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]};return o={next:a(0),throw:a(1),return:a(2)},"function"==typeof Symbol&&(o[Symbol.iterator]=function(){return this}),o;function a(o){return function(a){return function(o){if(n)throw new TypeError("Generator is already executing.");for(;s;)try{if(n=1,r&&(i=2&o[0]?r.return:o[0]?r.throw||((i=r.return)&&i.call(r),0):r.next)&&!(i=i.call(r,o[1])).done)return i;switch(r=0,i&&(o=[2&o[0],i.value]),o[0]){case 0:case 1:i=o;break;case 4:return s.label++,{value:o[1],done:!1};case 5:s.label++,r=o[1],o=[0];continue;case 7:o=s.ops.pop(),s.trys.pop();continue;default:if(!(i=(i=s.trys).length>0&&i[i.length-1])&&(6===o[0]||2===o[0])){s=0;continue}if(3===o[0]&&(!i||o[1]>i[0]&&o[1]<i[3])){s.label=o[1];break}if(6===o[0]&&s.label<i[1]){s.label=i[1],i=o;break}if(i&&s.label<i[2]){s.label=i[2],s.ops.push(o);break}i[2]&&s.ops.pop(),s.trys.pop();continue}o=e.call(t,s)}catch(a){o=[6,a],r=0}finally{n=i=0}if(5&o[0])throw o[1];return{value:o[0]?o[1]:void 0,done:!0}}([o,a])}}},mI=function(t){function e(e,n,r,i){void 0===i&&(i=null);var o=t.call(this,e,n,i)||this;return o._history=r,o._layoutEvent=new og,o._rectMap={},o._onChildItemChanged=function(t){var e=o.canvas.viewer.getHandler(t);if(e instanceof iI){var n=e.rectangle;if(n.equals(o._rectMap[e.uniqueId]))return;o._rectMap[e.uniqueId]=n,o.applyLayout()}},o._onChildItemHandlerChanging=function(t){null!=o._layoutHandler&&o._layoutHandler instanceof pI||o._resetSourceRectangle(),o.raiseChanging(o)},o._transformStarted=!1,o._transformedRectangle=null,o._onItemHandlerExitedEditMode=function(t){o.applyLayout()},o._initSourceRectangle().then((function(){o._initLayoutHandler(),o.applyLayout(null)})),o._subscribeChildItemHandlers(),o}return dI(e,t),e.prototype._onItemPropertyChanged=function(t,e){switch(e){case"layoutSettings":this._initLayoutHandler()}},e.prototype._initLayoutHandler=function(){this.item.layoutSettings instanceof $v?this._layoutHandler instanceof pI||(this._layoutHandler=new pI(this.item,this.itemHandlers,this,this._history),this._layoutHandler.getLayoutEvent().add(this._onLayoutHandlerLayoutEvent.bind(this))):(null!=this._layoutHandler&&this._layoutHandler.dispose(),this._layoutHandler=null)},e.prototype.getLayoutEvent=function(){return this._layoutEvent},e.prototype._onLayoutHandlerLayoutEvent=function(){null!=this.canvas&&(this.canvas.updateSelection(),this.canvas.updateButtonGroups(),this.getChangingEvent().notify(),this.updateViolationContainerPosition(),this.canvas.updateFloatingItemToolbar(this),this.canvas.redraw()),this._layoutEvent.notify()},e.prototype._initSourceRectangle=function(){return fI(this,void 0,void 0,(function(){return gI(this,(function(t){switch(t.label){case 0:return this.item.sourceRectangle&&!this.item.sourceRectangle.isEmpty()?[2]:this.canvas?[4,this._resetSourceRectangle()]:[2];case 1:return t.sent(),[2]}}))}))},e.prototype._resetSourceRectangle=function(){return fI(this,void 0,void 0,(function(){var t;return gI(this,(function(e){switch(e.label){case 0:return[4,this.waitUpdate()];case 1:return e.sent(),t=this.itemHandlers.cast().select((function(t){return t.rectangle})).aggregate((function(t,e){return Ag.union(t,e)})),this.setRectangle(t,!0),[2]}}))}))},e.prototype.waitUpdate=function(){return fI(this,void 0,void 0,(function(){return gI(this,(function(t){switch(t.label){case 0:return[4,Promise.all(this.itemHandlers.toArray().map((function(t){return t.waitUpdate()})))];case 1:return t.sent(),[2]}}))}))},e.prototype._startTransform=function(){this._originalHeight=this.height,this._transformStarted=!0,this._layoutHandler&&(this._layoutHandler.ignoreLayoutApply=!0),t.prototype._startTransform.call(this)},e.prototype._onResized=function(){return null!=this.item.layoutSettings&&this.item.layoutSettings instanceof $v&&(this.item.layoutSettings.margin*=this.height/this._originalHeight),t.prototype._onResized.call(this)},e.prototype._endTransform=function(e,n,r){return fI(this,void 0,void 0,(function(){var i;return gI(this,(function(o){switch(o.label){case 0:return t.prototype._endTransform.call(this,e,n,r),null==this._transformedRectangle?(this._transformStarted=!1,this._layoutHandler&&(this._layoutHandler.ignoreLayoutApply=!1),[2]):(this.canvas.pauseRedraw(),i=this._transformedRectangle,this._transformedRectangle=null,this._transformStarted=!1,[4,this.waitUpdate()]);case 1:return o.sent(),this._history.pause(),this.item.sourceRectangle=i.toRectangleF(),this.item.transform=new Tg(1,1,0,0,i.angle),this._layoutHandler&&(this._layoutHandler.ignoreLayoutApply=!1),this.applyLayout(null),this._history.resume(!0,!1,!0),this.canvas.continueRedraw(),[2]}}))}))},e.prototype.drawChildHighlights=function(t){var e=this;null!=this._layoutHandler&&this.itemHandlers.toArray().filter((function(t){return e._layoutHandler._filterHiddenItems(t)})).forEach((function(e){return e.drawHighlight(t)}))},Object.defineProperty(e.prototype,"_calculateRectangleFromChild",{get:function(){return!1},enumerable:!0,configurable:!0}),e.prototype._getRectangle=function(){return this._transformedRectangle?this._transformedRectangle:t.prototype._getRectangle.call(this)},e.prototype.isEmpty=function(){var t=this.itemHandlers.where((function(t){var n=!1;return(t instanceof cC||t instanceof iI)&&!t.isLocked()?n=!0:t instanceof e&&(n=!0),n}));return!!t.any()&&!t.any((function(t){return!t.isEmpty()}))},e.prototype.isVisible=function(){return t.prototype.isVisible.call(this)&&!this.isEmpty()},e.prototype.applyLayout=function(t){t instanceof SC&&t.editing||this.itemHandlers.length<2||(this.item.layoutSettings instanceof $v&&this._layoutHandler?this._layoutHandler.applyLayout():(this._resetSourceRectangle(),this._onLayoutHandlerLayoutEvent()))},e.prototype.getControlBounds=function(){return this.item.sourceRectangle?this.item.sourceRectangle:new fg},e.prototype.setRectangle=function(e,n,r){void 0===r&&(r=!1),this._transformStarted?this._transformedRectangle=e.clone():(r&&t.prototype.setRectangle.call(this,e,n),this.item.sourceRectangle=e.toRectangleF(),this.item.transform=new Tg(1,1,0,0,e.angle))},e.prototype.getOrderedItems=function(){return this.item.layoutSettings instanceof $v&&null!=this._layoutHandler?this._layoutHandler.getOrderedItems():t.prototype.getOrderedItems.call(this)},e.prototype.generateAndApplyAutolayoutSettings=function(t,e,n,r){this.item.layoutSettings=Uv.generateAutoLayoutSettings(this.itemHandlers.toArray().map((function(t){return t.getTransformedRectangle(!1,!0).bounds})),t,e,n,r)},e.prototype._onItemAdded=function(e){return fI(this,void 0,void 0,(function(){return gI(this,(function(n){switch(n.label){case 0:return t.prototype._onItemAdded.call(this,e),e.item instanceof Ey?[4,GP.waitForItemsUpdated([e.item],this.canvas)]:[3,2];case 1:n.sent(),n.label=2;case 2:return this._subscribeChildItemChanges(e.item),this.applyLayout(this.itemHandlers.first((function(t){return t.item===e.item}))),[2]}}))}))},e.prototype._onItemRemoved=function(e){t.prototype._onItemRemoved.call(this,e),this._unsubscribeChildItemChanges(e.item),this._layoutHandler?this._layoutHandler.onItemRemoved(e):this._resetSourceRectangle()},e.prototype._onItemHandlerAdded=function(e){return fI(this,void 0,void 0,(function(){return gI(this,(function(n){switch(n.label){case 0:return t.prototype._onItemHandlerAdded.call(this,e),this._layoutHandler instanceof pI&&this._layoutHandler.onItemHandlersCollectionChanged(),[4,this.waitUpdate()];case 1:return n.sent(),this.applyLayout(),[2]}}))}))},e.prototype._onItemHandlerRemoved=function(e){t.prototype._onItemHandlerRemoved.call(this,e),this._layoutHandler instanceof pI&&this._layoutHandler.onItemHandlersCollectionChanged()},e.prototype._subscribeChildItemHandlers=function(){var t=this;this.itemHandlers.forEach((function(e){return t._subscribeChildItemHandler(e)}))},e.prototype._unsubscribeChildItemHandlers=function(){var t=this;this.itemHandlers.forEach((function(e){return t._unsubscribeChildItemHandler(e)}))},e.prototype._subscribeChildItemHandler=function(t){t.getChangingEvent().add(this._onChildItemHandlerChanging),t instanceof iI&&t.exitedEditModeEvent.add(this._onItemHandlerExitedEditMode)},e.prototype._unsubscribeChildItemHandler=function(t){t.getChangingEvent().remove(this._onChildItemHandlerChanging),t instanceof iI&&t.exitedEditModeEvent.remove(this._onItemHandlerExitedEditMode)},e.prototype._unsubscribeChildItems=function(){var t=this;this.item.items.forEach((function(e){return t._unsubscribeChildItemChanges(e)}))},e.prototype._subscribeChildItems=function(){var t=this;this.item.items.forEach((function(e){return t._subscribeChildItemChanges(e)}))},e.prototype._unsubscribeChildItemChanges=function(t){t.getItemChangedEvent().remove(this._onChildItemChanged)},e.prototype._subscribeChildItemChanges=function(t){t.getItemChangedEvent().add(this._onChildItemChanged)},e.prototype._onRemovedFromCanvas=function(e){return fI(this,void 0,void 0,(function(){return gI(this,(function(n){return this._unsubscribeChildItems(),this._unsubscribeChildItemHandlers(),null!=this._layoutHandler&&(this._layoutHandler.dispose(),this._layoutHandler=null),t.prototype._onRemovedFromCanvas.call(this,e),[2]}))}))},e.prototype._onAddedOnCanvas=function(e){return fI(this,void 0,void 0,(function(){return gI(this,(function(n){switch(n.label){case 0:return t.prototype._onAddedOnCanvas.call(this,e),this._subscribeChildItems(),this._initLayoutHandler(),[4,this._initSourceRectangle()];case 1:return n.sent(),[2]}}))}))},e.prototype.drawItemHandler=function(e){this.isEmpty()||t.prototype.drawItemHandler.call(this,e)},Object.defineProperty(e.prototype,"item",{get:function(){return this._getItem()},enumerable:!0,configurable:!0}),e.prototype.isChildVisible=function(t){if(t instanceof cC||t instanceof iI)return!t.isEmpty()},e}(ix),yI=function(){function t(t){var e=this;this._canvas=t,this._handlers=new Map,this._beforeReplaceItemHandlerEvent=new og,this._afterReplaceItemHandlerEvent=new og,this.get=function(t){var n=e._handlers.has(t)?e._handlers.get(t):e._createItemHandler(t);return e._handlers.set(t,n),e._isItemOnCanvas(t)&&n.canvas!=e._canvas&&(n.canvas=e._canvas),n}}return Object.defineProperty(t.prototype,"beforeReplaceItemHandlerEvent",{get:function(){return this._beforeReplaceItemHandlerEvent},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"afterReplaceItemHandlerEvent",{get:function(){return this._afterReplaceItemHandlerEvent},enumerable:!0,configurable:!0}),t.prototype.delete=function(t){var e=this;t instanceof ix&&t.itemHandlers.forEach((function(t){return e.delete(t)})),this._handlers.delete(t.item),t.dispose()},t.prototype.replaceTextItemHandler=function(t){if(t instanceof Ey){var e=this._useOldItemHandler(t,!1),n=this.get(t);if(e&&n instanceof iI||!e&&n instanceof cC){var r=this._canvas.isItemHandlerSelected(n);this._beforeReplaceItemHandlerEvent.notify(n),this._handlers.delete(t);var i=this.get(t),o=n.parentGroupItemHandler;if(null!=o)o.replaceItemHandler(n,i);else{var s=n.layer.itemHandlers,a=s.indexOf(n);s.remove(n),s.insertAt(a,i)}n.dispose(),n.item=null,this._afterReplaceItemHandlerEvent.notify(i),r&&this._canvas.addSelectedItemHandler(i)}}},Object.defineProperty(t.prototype,"_viewer",{get:function(){return this._canvas.viewer},enumerable:!0,configurable:!0}),t.prototype._createItemHandler=function(t){var e,n,r,i,o,s,a,l,u,c,h,p,d,f,g,m,y,v,_,b,w,C,x=this;if(t.type===hy.type)return new $w(t,null===(e=this._canvas)||void 0===e?void 0:e.textWhizz);if(function(t){return t.type===Av.type}(t))return new oC(t,null===(n=this._canvas)||void 0===n?void 0:n.textWhizz);if(function(t){return t.type===Hy.type}(t))return new VC(t,null===(r=this._canvas)||void 0===r?void 0:r.textWhizz);if(function(t){return t.type===a_.type}(t)){var S=new SC(t,null===(i=this._canvas)||void 0===i?void 0:i.textWhizz);return null!=t.content&&(S.content=this.get(t.content)),S.bottomFrames=t.bottomFrames.map((function(t){return x.get(t)})),S.topFrames=t.topFrames.map((function(t){return x.get(t)})),S}if(function(t){return t.type===Oy.type}(t))return new LC(t,null===(o=this._canvas)||void 0===o?void 0:o.textWhizz);if(function(t){return t.type===d_.type}(t))return new FC(t,null===(s=this._canvas)||void 0===s?void 0:s.textWhizz);if(t instanceof Ey)if(this._useOldItemHandler(t,!this._canvas.viewer.frontEndTextRenderingEnabled)){if(P(t))return new gC(t,null===(a=this._canvas)||void 0===a?void 0:a.textWhizz);if(T(t))return new yC(t,null===(l=this._canvas)||void 0===l?void 0:l.textWhizz);if(I(t))return new lx(t,null===(u=this._canvas)||void 0===u?void 0:u.textWhizz);if(E(t))return new dC(t,null===(c=this._canvas)||void 0===c?void 0:c.textWhizz)}else{if(P(t)||T(t))return new aI(t,null===(h=this._canvas)||void 0===h?void 0:h.textWhizz);if(I(t))return new uI(t,null===(p=this._canvas)||void 0===p?void 0:p.textWhizz);if(E(t))return new wI(t,null===(d=this._canvas)||void 0===d?void 0:d.textWhizz)}if(function(t){return t.type===dv.type}(t))return new RC(t,null===(f=this._canvas)||void 0===f?void 0:f.textWhizz);if(function(t){return t.type===gv.type}(t))return new px(t,null===(g=this._canvas)||void 0===g?void 0:g.textWhizz);if(function(t){return t.type===uy.type}(t))return new Yw(t.sourcePath,t,null===(m=this._canvas)||void 0===m?void 0:m.textWhizz);if(function(t){return t.type===h_.type}(t))return new cx(t,null===(y=this._canvas)||void 0===y?void 0:y.textWhizz);if(function(t){return t.type===_v.type}(t))return new fx(t,null===(v=this._canvas)||void 0===v?void 0:v.textWhizz);if(function(t){return t.type===yv.type}(t))return new mx(t,null===(_=this._canvas)||void 0===_?void 0:_.textWhizz);if(function(t){return t.type===Ky.type}(t))return new ix(t,t.items.toArray().map((function(t){return x.get(t)})),null===(b=this._canvas)||void 0===b?void 0:b.textWhizz);if(function(t){return t.type===rv.type}(t))return new sx(t,t.items.toArray().map((function(t){return x.get(t)})),null===(w=this._canvas)||void 0===w?void 0:w.textWhizz);if(function(t){return t.type===Uv.type}(t))return new mI(t,t.items.toArray().map((function(t){return x.get(t)})),this._canvas.history,null===(C=this._canvas)||void 0===C?void 0:C.textWhizz);throw new Xf("Item of type "+t.type+" not supported");function P(t){return t.type===Gy.type}function I(t){return t.type===cv.type}function E(t){return t.type===u_.type}function T(t){return t.type===Kv.type}},t.prototype._isItemOnCanvas=function(t){return null!=t.parentContainer&&t.parentContainer.parentComponent instanceof v_&&this._viewer.surface==t.parentContainer.parentComponent},t.prototype._useOldItemHandler=function(t,e){if(!0===e)return!0;if(!xg(1,t.verticalScale)||!xg(1,t.horizontalScale))return!0;if(null!=t.shadow)return!0;if(t.overlapLinesEnabled)return!0;if(t.maxLineCount>0||t.maxLineLength>0)return!0;if(t instanceof Oy)return!0;if(t.text.includes("<ol")||t.text.includes("<ul")||t.text.includes("<li"))return!0;if(t instanceof Gy){if(t.isVertical)return!0;if(t.verticalAlignment!==_y.Top)return!0;if(null!=t.scheduledFitMode||t.overflowStrategy!==yy.Clip)return!0;if(t.characterLimit>0)return!0}if(t instanceof Kv){if(t.isVertical)return!0;if(t.characterLimit>0)return!0}return!!(t instanceof u_&&t.isVertical)||!!(t instanceof cv&&t.fitToPath)},t}(),vI=function(){var t=function(e,n){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(e,n)};return function(e,n){function r(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),_I=function(t){function e(e){var n=this;if(!e)throw new Qf("layer");return(n=t.call(this)||this)._layer=e,n}return vI(e,t),e.prototype._onHandlerAdded=function(t,e,n){var r=this,i=function(t){t.layer=r._layer;var e=r._layer.canvas;e&&(t.canvas=e),t instanceof ix&&t.applyToItems(i)};i(t)},e.prototype._onHandlerRemoved=function(t,e){var n=this._layer.canvas;n&&n.isItemHandlerSelected(t)&&n.removeSelectedItemHandler(t),t.layer=null,n&&(t.canvas=null)},e.prototype.insertAt=function(e,n){t.prototype.insertAt.call(this,e,n),this._onHandlerAdded(n,e,this._layer.index)},e.prototype.move=function(e,n){return t.prototype.move.call(this,e,n)},e.prototype.removeAt=function(e){var n=t.prototype.removeAt.call(this,e);return n&&this._onHandlerRemoved(n,e),n},e.prototype.clear=function(){for(var e=0;e<this.length;e++)this.getItem(e).layer=null;t.prototype.clear.call(this)},e}(nm),bI=function(){var t=function(e,n){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(e,n)};return function(e,n){function r(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),wI=function(t){function e(e,n){return void 0===n&&(n=null),t.call(this,e,n)||this}return bI(e,t),Object.defineProperty(e.prototype,"item",{get:function(){return this._getItem()},set:function(e){t.prototype._setItem.call(this,e)},enumerable:!0,configurable:!0}),e.prototype._onItemPropertyChanged=function(e,n){switch(n){case"baselineLocation":this.update(null,null,"frame")}t.prototype._onItemPropertyChanged.call(this,e,n)},e.prototype.drawItemHandler=function(e){t.prototype.drawItemHandler.call(this,e)},e.prototype._addTextWhizzFrames=function(t){t.addFrame(this._createTextWhizzFrame())},e.prototype.setTextWhizzWrappingPath=function(t){},e.prototype.updateTextWhizzFrames=function(t){t.replaceFrame(this._createTextWhizzFrame(),0)},e.prototype._getEndTransformTrigger=function(t){return t?null:"frame"},e.prototype._applyTransform=function(t,e,n){var r,i;if(t instanceof u_){var o=t.baselineLocation.clone();o.transform(e,n),t.baselineLocation=o;var s=this._getPreviewScaleLimits(),a=this.item.previewScale*e.scaleY;a=Math.min(null!==(r=s.max)&&void 0!==r?r:Number.MAX_VALUE,a),a=Math.max(null!==(i=s.min)&&void 0!==i?i:Number.MIN_VALUE,a),t.previewScale=a}},e.prototype._getPreviewScaleLimits=function(){var e,n,r=t.prototype._getPreviewScaleLimits.call(this);return this.item.leading>0&&(isNaN(this.canvas.maxLeading)||(r.max=Math.min(null!==(e=r.max)&&void 0!==e?e:Number.MAX_VALUE,this.canvas.maxLeading/this.item.leading)),isNaN(this.canvas.minLeading)||(r.min=Math.max(null!==(n=r.min)&&void 0!==n?n:Number.MIN_VALUE,this.canvas.minLeading/this.item.leading))),r},e.prototype._createTextWhizzFrame=function(){var t=this.item.baselineLocation.clone(),e=this.item.previewScale;xg(e,1)||t.scale(1/e,1/e);var n=new this._textWhizz.PointTextFrame;return n.point=t,n},e.typeName="NewPlainTextItemHandler",e}(iI),CI=function(t,e){var n="function"==typeof Symbol&&t[Symbol.iterator];if(!n)return t;var r,i,o=n.call(t),s=[];try{for(;(void 0===e||e-- >0)&&!(r=o.next()).done;)s.push(r.value)}catch(a){i={error:a}}finally{try{r&&!r.done&&(n=o.return)&&n.call(o)}finally{if(i)throw i.error}}return s},xI=function(){for(var t=[],e=0;e<arguments.length;e++)t=t.concat(CI(arguments[e]));return t},SI=function(t){var e="function"==typeof Symbol&&Symbol.iterator,n=e&&t[e],r=0;if(n)return n.call(t);if(t&&"number"==typeof t.length)return{next:function(){return t&&r>=t.length&&(t=void 0),{value:t&&t[r++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")},PI=function(){function t(t,e){var n=this;this._canvas=t,this._viewer=e,this._dndStarting=!1,this._dndStarted=!1,this._isShown=!1,this._startPoint=null,this._currentPoint=null,this._currentPointClient=null,this._isOutOfCanvas=!1,this._dragSource=null,this._dragOver=null,this._dragImg=null,this._dragTargets=null,this._allowedTargets=null,this._onDragNDropStarting=function(t){n._canvas._onDragNDropStarting(t);var e=t.source.item,r=n._canvas.viewer.surface.getAllItems({ignoreMockups:!1,flatGroupItems:!0}),i=lg.filter(r.toArray(),(function(t){return null!=t.parentContainer&&t instanceof a_&&!(null!=t.content&&t.content instanceof Hy)&&t!==e&&function(t,e){if(t.allowedSubfolder!==e.allowedSubfolder)return!1;if(null==t.allowedTabs&&null!=e.allowedTabs||null!=t.allowedTabs&&null==e.allowedTabs)return!1;if(null!=t.linkId&&e.linkId===t.linkId)return!1;if(null!=t.allowedTabs&&null!=e.allowedTabs){if(t.allowedTabs.length!==e.allowedTabs.length)return!1;for(var n=0;n<t.allowedTabs.length;n++)if(!e.allowedTabs.includes(t.allowedTabs[n]))return!1}return!0}(e,t)&&t.parentContainer.name!==M_.BG_CONTAINER_NAME&&t.manipulationPermissions.allowDragAndDrop}));t.allowedTargets=i.map((function(t){return n._canvas.viewer.getHandler(t)}))},this._onDragNDropPerformed=function(t){n._canvas._onDragNDropPerformed(t);var e=t.target,r=t.source.item,i=r.content,o=null,s=null;null!=e&&(s=(o=e.item).content);var a=s&&!o.isStubOrEmpty,l=a?new Dv({isUserImage:s.isUserImage,isVector:s.source.isVector,name:s.name,size:{width:s.source.width,height:s.source.height},storageId:s.source.id,origin:s.source.origin}):r.stubStorageMeta;if(n._createAndInsertImageContent(l,r,!a,null!=s?s.tags:null),null!=o){var u=new Dv({isUserImage:i.isUserImage,isVector:i.source.isVector,name:i.name,size:{width:i.source.width,height:i.source.height},storageId:i.source.id,origin:i.source.origin});n._createAndInsertImageContent(u,o,null,i.tags)}},this._createAndInsertImageContent=function(t,e,r,i){var o,s;void 0===r&&(r=!1),void 0===i&&(i={});var a=n._canvas.viewer,l=a.surface.parentProduct,u=(null!=l?l.getAllItems({ignoreMockups:!1,flatGroupItems:!0}):a.surface.getAllItems().toArray()).filter((function(t){return t instanceof a_})),c=null!=e.linkId?u.filter((function(t){return t.linkId===e.linkId})):[],h=xI([e],c);try{for(var p=SI(h),d=p.next();!d.done;d=p.next()){var f=d.value,g=null==t||null==t.storageId?null:GP.createImageContentForPlaceholder(f,t,a.productHandler);f.isStubContent=null!=r&&r,null!=g&&null!=i&&(g.tags=i),n._viewer.commandManager.execute(NS.addContent,{placeholder:f,content:g},Ox.NotUpdate)}}catch(m){o={error:m}}finally{try{d&&!d.done&&(s=p.return)&&s.call(p)}finally{if(o)throw o.error}}}}return t.prototype.processMouseEvent=function(t){var e=new pg(t.x,t.y);if("mousedown"===t.type){var n=this.hitTest(e),r=this._canvas.currentItemHandler;if(null!=n&&null!=r&&n.uniqueId===r.uniqueId){this._isOutOfCanvas=this._testOutOfCanvas(e);var i=n.getPermissions(),o=i.allowDragAndDrop;n.isStubOrEmpty()||!1!==i.allowMove&&!this._canvas.simpleMode||!o||this._isOutOfCanvas||n.content instanceof VC||(this._dndStarting=!0,this._startPoint=e,this._currentPoint=e,this._currentPointClient=new pg(t.clientX+window.scrollX,t.clientY+window.scrollY),this._dragSource=n,this._allowedTargets=null)}}else if("mousemove"===t.type){if(this._dndStarting){var s=Math;if(s.abs(e.x-this._startPoint.x)>4||s.abs(e.y-this._startPoint.y)>4){var a={source:this._dragSource,allowedTargets:null};this._onDragNDropStarting(a),null!=a.allowedTargets&&(this._allowedTargets=a.allowedTargets),this._dndStarted=!0,this._dndStarting=!1,this._dragSource._reloadPlaceholderButtons(),this._dragImg=this._image,this._setDragTargets(this._dragSource)}}this._dndStarted&&(this._isOutOfCanvas=this._testOutOfCanvas(e),n=this.hitTest(e),this._dragTargets.includes(n)||(n=null),this._setDragOver(n),this._currentPoint=e,this._currentPointClient=new pg(t.clientX+window.scrollX,t.clientY+window.scrollY))}else if("mouseup"===t.type&&(this._dndStarted||this._dndStarting)){var l=this.hitTest(e);this.isDragTarget(l)||(l=null),this._testOutOfCanvas(e)?(this._onDragNDropPerformed({source:this._dragSource,target:null}),this._canvas.setSelectedItemHandlers([])):null!=l&&l!=this._dragSource&&(this._onDragNDropPerformed({source:this._dragSource,target:l}),this._canvas.setSelectedItemHandlers([l])),this._setDragOver(null),this._dndStarted=!1,this._dndStarting=!1;var u=this._dragSource;this._dragSource=null,u&&u._reloadPlaceholderButtons(),this._startPoint=null,this._currentPoint=null,this._currentPointClient=null,this._dragImg=null,this._dragOver=null,this._unsetDragTargets(),this.draw(),this._canvas._onDragNDropDone()}},t.prototype._setDragOver=function(t){if(null!=this._dragOver&&this._dragOver!==t){var e=this._dragOver;this._dragOver=null,this._canvas.redrawDesign(),e._reloadPlaceholderButtons()}t&&t!==this._dragSource&&t!==this._dragOver&&(this._dragOver=t,this._canvas.redrawDesign(),this._dragOver._reloadPlaceholderButtons())},t.prototype.isDragSource=function(t){return this._dragSource===t},t.prototype.isDragTarget=function(t){return null!=this._dragTargets&&this._dragTargets.includes(t)},t.prototype.isDragStarted=function(){return this._dndStarted},t.prototype.isDragOver=function(t){return void 0===t&&(t=null),null===t?null!=this._dragOver:this._dragOver===t},t.prototype.isOutOfCanvas=function(){return this._isOutOfCanvas},t.prototype.hitTest=function(t){var e=this._canvas.getItemHandlersByHitTest(t).filter((function(t){return!(t instanceof ix)}))[0];return e instanceof SC?e:null},t.prototype._testOutOfCanvas=function(t){return t.x<0||t.x>this._canvas.workspaceWidth||t.y<0||t.y>this._canvas.workspaceHeight},Object.defineProperty(t.prototype,"_image",{get:function(){return this._dragSource.content._imageContainer._image},enumerable:!0,configurable:!0}),t.prototype._unsetDragTargets=function(){var t=this._dragTargets;this._dragTargets=null,null!=t&&(t.forEach((function(t){return t._reloadPlaceholderButtons()})),this._canvas.redraw())},t.prototype._setDragTargets=function(t){var e=this,n=this._canvas.getAllItemHandlers({onlyVisible:!0,onlyType:SC,flatGroupItems:!0});this._dragTargets=n.filter((function(n){return n!==t&&(null==e._allowedTargets||e._allowedTargets.includes(n))})),this._dragTargets.length>0&&(this._dragTargets.forEach((function(t){return t._reloadPlaceholderButtons()})),this._canvas.redraw())},t.prototype.draw=function(){this._dndStarted?(this._canvas.showDnd(this._currentPointClient,this._dragImg),this._isShown=!0):this._isShown&&(this._canvas.hideDnd(),this._isShown=!1)},t}(),II=function(){function t(t,e){this.rotateDiv=null,this._canvas=t,this._viewer=e,this._rotationStyle=null}return t.prototype.addRotationStyle=function(){null!=this._viewer&&(null!=this._rotationStyle&&this._rotationStyle.remove(),this._rotationStyle=document.createElement("style"),this._rotationStyle.type="text/css",this._rotationStyle.innerHTML='\n                #rotate-circle::after { \n                    content: ""; \n                    position: absolute; \n                    width: 16px; \n                    height: 16px; \n                    background-image: url(data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iMTYiIGhlaWdodD0iMTYiIHZpZXdCb3g9IjAgMCAxNiAxNiIgZmlsbD0ibm9uZSIgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIj48cGF0aCBkPSJNMTEuMTUxIDIuNTQyOTNDMTQuMTY0MyA0LjI4MjYyIDE1LjE5NjcgOC4xMzU2NCAxMy40NTcgMTEuMTQ4OUMxMy4xNzUgMTEuNjM3NCAxMi44Mzc0IDEyLjA3MzggMTIuNDU2OSAxMi40NTQ4TDEwLjU0NjcgMTQuMzYyOU00Ljg1MTAxIDEzLjQ1NDhDMS44Mzc3NyAxMS43MTUxIDAuODA1MzU2IDcuODYyMTMgMi41NDUwNSA0Ljg0ODg4QzIuODI3MDcgNC4zNjA0MSAzLjE2NDYzIDMuOTI0IDMuNTQ1MTQgMy41NDMwMUw1LjQ1NTUgMS42MzQ5OE0xMC41NDU2IDExLjE4MkwxMC41NDY3IDE0LjM2MjlNMTAuNTQ2NyAxNC4zNjI5TDEzLjcyNzUgMTQuMzY0TTUuNDU0MzkgNC44MTgwN0w1LjQ1NTUgMS42MzQ5OE01LjQ1NTUgMS42MzQ5OEwyLjI3MjQxIDEuNjM2MDkiIHN0cm9rZT0iIzMwQzJGRiIgc3Ryb2tlLXdpZHRoPSIxLjUiIHN0cm9rZS1saW5lY2FwPSJyb3VuZCIgc3Ryb2tlLWxpbmVqb2luPSJyb3VuZCIvPjwvc3ZnPg==);\n                    top: 3px; \n                    left: 3px; \n                } \n                #degree { \n                    position: absolute; \n                    border-radius: 5px; \n                    background-color: rgba(0, 0, 0, 0.8); \n                    color: #fff; \n                    display: flex; \n                    align-items: center; \n                    justify-content: center; \n                    z-index: 2; \n                    font-size: 12px; \n                    line-height: 14px; \n                    height: 22px; \n                    width: 45px; \n                    transition: 0.3s opacity; \n                }\n                ',document.head.appendChild(this._rotationStyle))},t.prototype.addRotateDiv=function(t,e){if(null!=this._viewer&&null!=this._viewer.whitespaceDiv){var n=this._viewer.whitespaceDiv;this.rotateDiv=document.createElement("div"),this.rotateDiv.id="degree",n.appendChild(this.rotateDiv),this.updateRotatePositionDiv(t,e),this._canvas.updateHoverDiv()}},t.prototype.removeRotateDiv=function(){null!=this.rotateDiv&&(this.rotateDiv.remove(),this.rotateDiv=null)},t.prototype.updateRotatePositionDiv=function(t,e){null!=this.rotateDiv&&(this.rotateDiv.style.top=t+"px",this.rotateDiv.style.left=e+"px")},t.prototype.updateRotateDegreeDiv=function(t){null!=this.rotateDiv&&(this.rotateDiv.innerHTML=Math.round(t)%360+"&deg;")},t.prototype.rotateHoverLabel=function(t,e){t>45&&t<135?this._canvas.hoverDiv.querySelectorAll("#hover-label").forEach((function(t){t.style.left="-"+(e.width/2+10)+"px",t.style.top=e.height-e.width/2-7+"px",t.style.transform="rotate(-90deg)"})):t>=135&&t<225?this._canvas.hoverDiv.querySelectorAll("#hover-label").forEach((function(t){t.style.left="0px",t.style.top=e.height+5+"px",t.style.transform="rotate(180deg)"})):t>225&&t<315?this._canvas.hoverDiv.querySelectorAll("#hover-label").forEach((function(t){t.style.left=e.width/2+10+"px",t.style.top=e.width/2-10+"px",t.style.transform="rotate(90deg)"})):this._canvas.hoverDiv.querySelectorAll("#hover-label").forEach((function(t){t.style.left="0px",t.style.top="-20px",t.style.transform="rotate(0deg)"}))},t.prototype.calculatePositionRotateDiv=function(t,e,n,r,i,o){var s=this._canvas.mul;switch(t){case 0:var a=r.x*s+e+20,l=r.y*s+n+20;break;case 90:a=o-r.y*s+e+20,l=r.x*s+n+20;break;case 180:a=i-r.x*s+e+20,l=o-r.y*s+n+20;break;case 270:a=r.y*s+e+20,l=i-r.x*s+n+20}return new pg(a,l)},t.getRotatedPoint=function(t,e,n){void 0===n&&(n=null);var r=null!=n?n:t.contentAngle;return this.getRotatedPointFromSize(e,new kg(t.workspaceWidth,t.workspaceHeight),r)},t.getRotatedPointFromSize=function(t,e,n){var r=t.clone();return r.rotateAt(n,new pg),90===n?r.translate(e.height,0):180===n?r.translate(e.width,e.height):270===n&&r.translate(0,e.width),r},t}(),EI=function(){function t(t,e){if(this.N="",this.V=!0,this.L=!1,this.ID="l"+(new Date).getTime()+Math.round(1e3*Math.random()),this.VO=[],this.RenderingType=Vf.Normal,t){if(this.RenderingType=t.renderingType,e)return;this.N=t.name,this.V=t.getVisible(),this.L=t.locked,this.R=t.region,this.ID=t.uniqueId,this.VO=[];for(var n=t.itemHandlers,r=0;r<n.length;r++){var i=n.getItem(r);this.VO.push({T:i.getTypeName(),D:i.getData("asObject")})}this.TextureStorageId=t.textureStorageId,this.TextureSourceWidth=t.textureSourceWidth,this.TextureSourceHeight=t.textureSourceHeight,this.PreviewColor=t.previewColor}}return t.applyState=function(t,e,n){if(n||(n={}),e){e.name=t.N,e.setVisible(t.V),e.locked=t.L,e.uniqueId=t.ID,e.textureStorageId=t.TextureStorageId,e.textureSourceWidth=t.TextureSourceWidth,e.textureSourceHeight=t.TextureSourceHeight,e.previewColor=t.PreviewColor,e.renderingType=t.RenderingType,t.R&&(e.region=fg.FromObject(t.R));for(var r=e.itemHandlers,i=0;i<t.VO.length;i++){var o=t.VO[i].D,s=n[o.ID];s?(n[o.ID]=null,s.setData(o)):((s=(new bC).create(t.VO[i].T)).setData(o),s.initialize()),r.add(s)}}},t}(),TI=function(t,e,n){if(this.L=[],this.XDpi=72,this.YDpi=72,this.Z=1,this.RV=null,this.MinFontSize=null,this.MaxFontSize=null,this.MinLeading=null,this.MaxLeading=null,t){this.RgbCPId=t.rgbColorProfileFileId,this.CmykCPId=t.cmykColorProfileFileId,this.GrayscaleCPId=t.grayscaleColorProfileFileId,this.Z=t.zoom,this.XDpi=cg.screenDpi,this.YDpi=cg.screenDpi,this.TDpi=t.targetDpi,this.WW=t.workspaceWidth,this.WH=t.workspaceHeight,this.MinFontSize=t.minFontSize,this.MaxFontSize=t.maxFontSize,this.MinLeading=t.minLeading,this.MaxLeading=t.maxLeading;var r=t.layers;if(this.L=[],!1===e||void 0===e){for(var i=0;i<r.length;i++)this.L.push(new EI(r.getItem(i)));this.ReGC=t.resizeGripColor,this.RoGC=t.rotationGripColor,this.ReGS=t.resizeGripSize,this.RoGS=t.rotationGripSize,this.RV=t.returnValue,this.SB=t.isSquaredBackground,this.MW=t.marginWidth,this.MC=t.marginColor,this.LM=t.leftMargin,this.RM=t.rightMargin,this.TM=t.topMargin,this.BM=t.bottomMargin,this.CM=t.constrainedMarginEnabled,this.Tags=t.tags,this.LIU=t.loadingImageUrl,this.SC=t.selectionColor,this.SW=t.selectionWidth,this.ReGLC=t.resizeGripLineColor,this.RoGLC=t.rotationGripLineColor,this.RoGLL=t.rotationGripLineLength,this.PBGCC=t.placeholderButtonGroupCssClass,this.FloatingItemToolbarCssClass=t.floatingItemToolbarCssClass,this.SIBCC=t.selectImageButtonCssClass,this.SBBCC=t.selectBarcodeButtonCssClass,this.HBCC=t.handleButtonCssClass,this.DBCC=t.doneButtonCssClass,this.DeleteToolbarButtonCssClass=t.deleteToolbarButtonCssClass,this.EditToolbarButtonCssClass=t.editToolbarButtonCssClass,this.SelectToolbarButtonCssClass=t.selectToolbarButtonCssClass,this.QCCCC=t.qualityChangeContainerCssClass,this.QCSBCC=t.qualityChangeScaleBarCssClass,this.QBTWCSBCC=t.qualityBadToWarningChangeScaleBarCssClass,this.QWTGCSBCC=t.qualityWarningToGoodChangeScaleBarCssClass,this.QBTGCSBCC=t.qualityBadToGoodChangeScaleBarCssClass,this.QNACSBCC=t.qualityNoAnimationChangeScaleBarCssClass,this.QCIBCC=t.qualityChangeInfoBarCssClass,this.VCCC=t.violationContainerCssClass,this.VBCC=t.violationWarningButtonCssClass,this.GVICC=t.goodViolationIconCssClass,this.WVICC=t.warningViolationIconCssClass,this.BVICC=t.badViolationIconCssClass,this.BBGCC=t.bigButtonGroupCssClass,this.SBT=t.selectButtonTitle,this.HBT=t.handleButtonTitle,this.DBT=t.doneButtonTitle,this.DLTBT=t.deleteButtonTitle,this.EBT=t.editButtonTitle,this.MSE=t.multipleSelectionEnabled,this.MMT=t.mouseMoveTimeout,this.DS=t.disableSmoothing}else null!=n&&this.L.push(new EI(r.getLayerById(n),!0))}},AI=function(){function t(t,e){var n=this;if(this._container=t,this._uniqueId="l"+(new Date).getTime()+Math.round(1e3*Math.random()),this._textureSizeMultiplier=null,this._textureUrl=null,this._isTextureLoaded=!1,this._createItemHandlersCollection=function(){n.itemHandlers.setRange(n._container.items.ofType(ty).select(n._canvas.handlerFactory.get).toArray()),n._canvas.redraw()},this._onContainerPropertyChanged=function(t,e){switch(e){case"visible":n.setVisible(t.visible);break;case"previewTextureSource":n.updateTexture(!0)}},this._canvas=null,this._itemHandlers=new _I(this),this._visible=!0,this.updateTexture=function(t){if(null!=n._canvas&&!n.locked&&(null!=n.textureStorageId&&null!=n.textureSourceWidth&&null!=n.textureSourceHeight||null!=n.previewColor))if(null==n.previewColor){var e=Math.max(n._canvas.width/n.textureSourceWidth,n._canvas.height/n.textureSourceHeight);if(e=Math.min(1,e),t||null==n._textureSizeMultiplier||!(n._textureSizeMultiplier>e)){n._textureSizeMultiplier=e;var r=n._textureUrl,i=parseInt((n.textureSourceWidth*e).toString()),o=parseInt((n.textureSourceHeight*e).toString());if(n._textureUrl=eC.getImageUrl(n._canvas,n.textureStorageId,i,o,!1,null,!0),r!==n._textureUrl){var s=new Image(i,o);s.crossOrigin="anonymous",s.src=n._textureUrl;var a=n;s.onload=function(){a.textureImage=s,a._isTextureLoaded=!0,a._canvas.onLayerTextureLoaded()}}}}else if(null==n.textureImage){n.textureImage=document.createElement("canvas"),n.textureImage.width=10,n.textureImage.height=10;var l=n.textureImage.getContext("2d");l.fillStyle=new hm(n.previewColor).preview,l.fillRect(0,0,10,10)}},this._disposeEvent=new og,this.textureImage=null,null!=e&&(this._canvas=e),null!=this._container){this._container.addPropertyChanged(this._onContainerPropertyChanged);var r=function(t){null!=t&&(n.itemHandlers.insertAt(t.index,n._canvas.handlerFactory.get(t.item)),n._canvas.updateTexts())},i=function(t){null!=t&&n.itemHandlers.removeAt(t.index)},o=function(t){null!=t&&n.itemHandlers.move(t.oldIndex,t.newIndex)};this._container.items.add_itemAdded(r),this._container.items.add_itemRemoved(i),this._container.items.add_itemMoved(o),this._disposeEvent.add((function(){n._container.items.remove_itemAdded(r),n._container.items.remove_itemRemoved(i),n._container.items.remove_itemMoved(o)})),this._createItemHandlersCollection(),this._visible=this._container.visible}}return Object.defineProperty(t.prototype,"uniqueId",{get:function(){return this._uniqueId},set:function(t){this._uniqueId=t},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"canvas",{get:function(){return this._canvas},set:function(t){this._canvas=t},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"index",{get:function(){var t=this.canvas;return t?t.layers.indexOf(this):-1},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"data",{get:function(){var t=new EI(this);return JSON.stringify(t)},set:function(t){if(t&&""!=t){var e=JSON.parse(t);EI.applyState(e,this)}},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"region",{get:function(){return this._container.region},set:function(t){this._container.region=t},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"itemHandlers",{get:function(){return this._itemHandlers},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"name",{get:function(){return this._container.name},set:function(t){this.container.name=t},enumerable:!0,configurable:!0}),t.prototype.getVisible=function(){return this._visible},t.prototype.setVisible=function(t,e){this._visible!==t&&(this._visible=t,(e=null==e||e)&&null!=this._canvas&&(this._canvas.updatePlaceholderButtonGroups(),this._canvas.updateViolationContainers()))},Object.defineProperty(t.prototype,"locked",{get:function(){return this._container.locked},set:function(t){this.locked!==t&&(this.container.locked=t,null!=this._canvas&&this._canvas.updatePlaceholderButtonGroups())},enumerable:!0,configurable:!0}),t.prototype._onRemovedFromCanvas=function(t){for(var e=this.itemHandlers,n=e.length,r=0;r<n;r++)e.getItem(r).canvas=null;this._canvas.remove_zoomChanged(this.updateTexture)},t.prototype.onLayerAdded=function(){this.updateTexture(),this._canvas.add_zoomChanged(this.updateTexture)},t.prototype.isTextureLoadedOrNotExists=function(){return null==this.textureStorageId||this._isTextureLoaded},t.prototype.dispose=function(){this._disposeEvent.notify()},Object.defineProperty(t.prototype,"container",{get:function(){return this._container},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"textureStorageId",{get:function(){return this._container instanceof lm?this._container.previewTextureSource.id:null},set:function(t){this._container instanceof lm&&(this._container.previewTextureSource.id=t)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"textureSourceWidth",{get:function(){return this._container instanceof lm?this._container.previewTextureSource.width:null},set:function(t){this._container instanceof lm&&(this._container.previewTextureSource.width=t)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"textureSourceHeight",{get:function(){return this._container instanceof lm?this._container.previewTextureSource.height:null},set:function(t){this._container instanceof lm&&(this._container.previewTextureSource.height=t)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"previewColor",{get:function(){return this._container instanceof am?this._container.previewColor:null},set:function(t){this._container instanceof am&&(this._container.previewColor=t)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"renderingType",{get:function(){return this._container.renderingType},set:function(t){this.container.renderingType=t},enumerable:!0,configurable:!0}),t}(),kI=function(){function t(t){this._canvas=t}return t.prototype.processMouseEvent=function(t,e){"mousemove"===t.type&&(null==e?this._canvas.hideHover():this._canvas.showHover(e.rectangle,e.item.name))},t}(),OI=function(t,e){var n="function"==typeof Symbol&&t[Symbol.iterator];if(!n)return t;var r,i,o=n.call(t),s=[];try{for(;(void 0===e||e-- >0)&&!(r=o.next()).done;)s.push(r.value)}catch(a){i={error:a}}finally{try{r&&!r.done&&(n=o.return)&&n.call(o)}finally{if(i)throw i.error}}return s},MI=function(){for(var t=[],e=0;e<arguments.length;e++)t=t.concat(OI(arguments[e]));return t},RI=function(){function t(t,e,n,r){var i=this;this._viewer=t,this._selection=e,this._dndHandler=n,this._rotateHandler=r,this._document=null,this._parent=null,this._whitespace=null,this._dndDiv=null,this._dndStyle=null,this._selectionDiv=null,this._parentSelectionDiv=null,this._selectionStyle=null,this._buttonStyle=null,this.hoverDiv=null,this._textEditorDiv=null,this.surfaceCanvas=null,this.activeCanvas=null,this.inactiveCanvas=null,this.designCanvas=null,this.cursorCanvas=null,this.staticTextCanvas=null,this.activeTextCanvas=null,this._textEditorId="textEditor",this._onZoomedScrolledDelegate=function(){var t=i._selection.currentItemHandler;null!=t&&i._updateTextEditorPosition(t.rectangle,t.item instanceof u_?t.item.alignment:null,t.item.borderWidth)},this._stopPropagationFnc=function(t){t.stopPropagation()};var o=this._viewer.id;if(null==o)throw new Kf("Element id cannot be null or undefined");this._surfaceCanvasId=o,this._activeCanvasId=o+"_active",this._inactiveCanvasId=o+"_inactive",this._designCanvasId=o+"_design",this._cursorCanvasId=o+"_cursor",this._staticTextCanvasId=o+"_staticText",this._activeTextCanvasId=o+"_activeText"}return Object.defineProperty(t.prototype,"offset",{get:function(){return this._offset},set:function(t){null!=t&&t.equals(this._offset)||null==t&&null!=this.offset||(this._offset=t)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"_canvas",{get:function(){return this._viewer.canvas},enumerable:!0,configurable:!0}),t.prototype.addStyles=function(){this._addButtonStyles(),this._addSelectionStyle(),this._addDndStyle(),this._rotateHandler.addRotationStyle()},t.prototype._addButtonStyles=function(){null!=this._buttonStyle&&this._buttonStyle.remove(),this._buttonStyle=document.createElement("style"),this._buttonStyle.type="text/css",this._buttonStyle.innerHTML=".buttonsHidden {opacity: 0; transition: 0.3s opacity; pointer-events: none !important;}.buttonsShown {opacity: 1; transition: 0.3s opacity; position: relative;}.elementHidden {opacity: 0; transition: 0.3s opacity;}.elementShown {opacity: 1; transition: 0.3s opacity;}",document.head.appendChild(this._buttonStyle)},t.prototype._addSelectionStyle=function(){null!=this._selectionStyle&&this._selectionStyle.remove(),this._selectionStyle=document.createElement("style"),this._selectionStyle.type="text/css",this._selectionStyle.innerHTML="#grips, #grips .selection, #hover {position: absolute; z-index: 1; pointer-events: none; box-sizing: border-box}#hover-label {left: 0px; top: -20px; position: absolute; width: 100%; text-align: left;min-width: 48px; font-family: Roboto; font-style: normal; font-weight: normal; font-size: 12px; line-height: 14px; white-space: nowrap; overflow: hidden;text-overflow: ellipsis;}",document.head.appendChild(this._selectionStyle)},t.prototype._addDndStyle=function(){null!=this._dndStyle&&this._dndStyle.remove(),this._dndStyle=document.createElement("style"),this._dndStyle.type="text/css",this._dndStyle.innerHTML="#ccDndDiv {position: absolute; left: 0; top: 0; z-index: 3; pointer-events: none; box-sizing: border-box; width: 100%; height: 100%;}#ccDndDiv .thumb {position: absolute; left: 0; top: 0; z-index: 3; pointer-events: none; box-sizing: border-box; width: 100px; height: 100px; border: 1px solid black; opacity: 0.8; background-size: cover;}#ccDndDiv .thumb.outside-canvas:after { content: '\\e92b'; font-size: 46px; text-align: center; font-family: 'Material Icons'; line-height: 100px; vertical-align: middle; color: white; background-color: red; opacity: 0.5; width: 100%; height: 100%; display: block; }#ccDndDiv .thumb.outside-canvas { opacity: 0.5 }#ccDndDiv .thumb.drag-over { opacity: 0.4 }.cc-dnd-icon {color: white}.cc-dnd-over {transition: transform 1.5s; transform: scale(1.2); }",document.head.appendChild(this._dndStyle)},t.prototype.addTextEditorStyles=function(t){var e=document.createElement("link");e.type="text/css",e.rel="stylesheet",e.href=t,document.head.appendChild(e)},t.prototype.addElement=function(t,e,n,r){this._parent=t,this._document=t.ownerDocument,this._whitespace=e,null!=this._document&&null!=this._whitespace&&(this.staticTextCanvas=this._createCanvasElement(this._staticTextCanvasId,n,r),this.staticTextCanvas.style.visibility="hidden",this._parent.appendChild(this.staticTextCanvas),this.surfaceCanvas=this._createCanvasElement(this._surfaceCanvasId,n,r),this._parent.appendChild(this.surfaceCanvas),this.activeCanvas=this._createCanvasElement(this._activeCanvasId,n,r),this._parent.appendChild(this.activeCanvas),this.activeTextCanvas=this._createCanvasElement(this._activeTextCanvasId,n,r),this._parent.appendChild(this.activeTextCanvas),this.inactiveCanvas=this._createCanvasElement(this._inactiveCanvasId,n,r),this._parent.appendChild(this.inactiveCanvas),this.designCanvas=this._createCanvasElement(this._designCanvasId,n,r),this._parent.appendChild(this.designCanvas),this.cursorCanvas=this._createCanvasElement(this._cursorCanvasId,n,r),this._parent.appendChild(this.cursorCanvas),this._viewer.frontEndTextRenderingEnabled&&this._addTextEditorDiv(),this._addDndDiv(),this._addSelectionDiv(),this._addParentSelectionDiv(),this._addHoverDiv())},t.prototype.removeElement=function(){var t=this._getAllCanvases(),e=null!=t[0]?t[0].parentNode:null;if(null!=e)for(var n=t.length-1;n>=0;--n){var r=t[n];null!=r&&e.removeChild(r)}this._removeTextEditorDiv(),this._removeDndDiv(),this._removeSelectionDiv(),this._removeParentSelectionDiv(),this._removeHoverDiv()},t.prototype.updateElementSize=function(e,n){for(var r=this._getAllCanvases(),i=0;i<r.length;i++){var o=r[i];null!=o&&t.setElementSize(o,e,n)}},t.prototype.moveActiveTextCanvasOnTop=function(){this._parent.insertBefore(this.activeTextCanvas,this.designCanvas)},t.prototype.moveActiveTextCanvasBack=function(){this._parent.insertBefore(this.activeTextCanvas,this.inactiveCanvas)},t.prototype._addDndDiv=function(){this._dndDiv=this._document.createElement("div"),this._dndDiv.id="ccDndDiv",this._document.body.appendChild(this._dndDiv);var t=this._document.createElement("div");t.id="ccDndThumb",t.classList.add("thumb"),t.style.visibility="hidden",t.style.left="50%",t.style.top="0%",this._dndDiv.appendChild(t)},t.prototype._removeDndDiv=function(){null!=this._dndDiv&&(this._dndDiv.remove(),this._dndDiv=null)},t.prototype.showDnd=function(t,e,n){this._dndDiv.querySelectorAll("div[id^=ccDndThumb]").forEach((function(e){e.style.left=t.x-50+"px",e.style.top=t.y-50+"px"})),this._dndDiv.style.visibility="visible",this._dndDiv.querySelectorAll("div[id^=ccDndThumb]").forEach((function(t){t.style.visibility="visible",t.style.backgroundImage="url("+e.src+")",t.style.transform="rotate("+n+"deg)"})),this._dndHandler.isOutOfCanvas()?this._dndDiv.querySelectorAll("div[id^=ccDndThumb]").forEach((function(t){t.classList.add("outside-canvas")})):this._dndDiv.querySelectorAll("div[id^=ccDndThumb]").forEach((function(t){t.classList.remove("outside-canvas")})),this._dndHandler.isDragOver()?this._dndDiv.querySelectorAll("div[id^=ccDndThumb]").forEach((function(t){t.classList.add("drag-over")})):this._dndDiv.querySelectorAll("div[id^=ccDndThumb]").forEach((function(t){t.classList.remove("drag-over")}))},t.prototype.hideDnd=function(){this._dndDiv.style.visibility="hidden",this._dndDiv.querySelectorAll("div[id^=ccDndThumb]").forEach((function(t){t.style.visibility="hidden"}))},t.prototype._addParentSelectionDiv=function(){var t=document.createElement("div");t.classList.add("parent-selection"),t.style.visibility="hidden",t.style.position="absolute",this._whitespace.appendChild(t),this._parentSelectionDiv=t,this.updateParentSelectionDiv()},t.prototype._addSelectionDiv=function(){this._selectionDiv=document.createElement("div"),this._selectionDiv.id="grips",this._selectionDiv.style.visibility="hidden",this._whitespace.appendChild(this._selectionDiv);var t=document.createElement("div");t.id="rotate-circle",t.classList.add("selection"),t.style.left="calc(50% - 12px)",t.style.bottom="0%",this._selectionDiv.appendChild(t),(t=document.createElement("div")).id="resize-left-top",t.classList.add("selection"),t.style.left="0%",t.style.top="0%",this._selectionDiv.appendChild(t),(t=document.createElement("div")).id="resize-right-top",t.classList.add("selection"),t.style.left="100%",t.style.top="0%",this._selectionDiv.appendChild(t),(t=document.createElement("div")).id="resize-right-bottom",t.classList.add("selection"),t.style.left="100%",t.style.top="100%",this._selectionDiv.appendChild(t),(t=document.createElement("div")).id="resize-left-bottom",t.classList.add("selection"),t.style.left="0%",t.style.top="100%",this._selectionDiv.appendChild(t),(t=document.createElement("div")).id="resize-width-left",t.classList.add("selection"),t.style.left="0%",t.style.top="50%",this._selectionDiv.appendChild(t),(t=document.createElement("div")).id="resize-width-right",t.classList.add("selection"),t.style.left="100%",t.style.top="50%",this._selectionDiv.appendChild(t),(t=document.createElement("div")).id="resize-height-top",t.classList.add("selection"),t.style.left="50%",t.style.top="0%",this._selectionDiv.appendChild(t),(t=document.createElement("div")).id="resize-height-bottom",t.classList.add("selection"),t.style.left="50%",t.style.top="100%",this._selectionDiv.appendChild(t),this.updateSelectionDiv()},t.prototype._removeSelectionDiv=function(){null!=this._selectionDiv&&(this._selectionDiv.remove(),this._selectionDiv=null)},t.prototype._removeParentSelectionDiv=function(){null!=this._parentSelectionDiv&&(this._parentSelectionDiv.remove(),this._parentSelectionDiv=null)},t.prototype.updateSelectionDiv=function(){var t=this;if(null!=this._selectionDiv){this._selectionDiv.style.border=this._canvas.selectionWidth+"px solid "+this._canvas.selectionColor;var e=this._canvas.resizeGripSize;this._selectionDiv.querySelectorAll("div[id^=resize]").forEach((function(n){n.style.width=e+"px",n.style.height=e+"px",n.style.marginLeft="-"+e/2+"px",n.style.marginTop="-"+e/2+"px",n.style.border="1px solid "+t._canvas.resizeGripLineColor,n.style.backgroundColor=""+t._canvas.resizeGripColor}));var n=this._canvas.rotationGripSize;this._selectionDiv.querySelectorAll("div#rotate-circle").forEach((function(t){t.style.width=n+"px",t.style.height=n+"px",t.style.marginBottom="-"+2*n+"px",t.style.border="1px solid #eee",t.style.borderRadius="50%",t.style.backgroundColor="#fff",t.style.boxShadow="0px 1px 3px rgba(0, 0, 0, 0.2), 0px 0px 2px rgba(0, 0, 0, 0.2)"}))}},t.prototype.updateParentSelectionDiv=function(){null!=this._parentSelectionDiv&&(this._parentSelectionDiv.style.border=this._canvas.selectionWidth+"px dashed "+this._canvas.selectionColor)},t.prototype.showSelection=function(t,e,n){null==this._selectionDiv||null==n||this._selection.isLocked||(this._updateSelectionPosition(t,n),this._selectionDiv.querySelectorAll("div[id^=rotate]").forEach((function(t){t.style.visibility=e.rotate?"visible":"hidden"})),this._selectionDiv.querySelectorAll("div[id^=resize]").forEach((function(t){t.style.visibility=e.resize?"visible":"hidden"})),this._selectionDiv.querySelectorAll("div[id^=resize-width]").forEach((function(t){t.style.visibility=e.arbitraryWidthResize?"visible":"hidden"})),this._selectionDiv.querySelectorAll("div[id^=resize-height]").forEach((function(t){t.style.visibility=e.arbitraryHeightResize?"visible":"hidden"})))},t.prototype.showParentSelection=function(t,e){null==t?this._parentSelectionDiv.style.visibility="hidden":this._updateSelectionPositionForDiv(this._parentSelectionDiv,t,e)},t.prototype.hideSelection=function(){null!=this._selectionDiv&&(this._selectionDiv.style.visibility="hidden",this._selectionDiv.querySelectorAll("div[id^=rotate]").forEach((function(t){t.style.visibility="hidden"})),this._selectionDiv.querySelectorAll("div[id^=resize]").forEach((function(t){t.style.visibility="hidden"})),this._selectionDiv.querySelectorAll("div[id^=resize-width]").forEach((function(t){t.style.visibility="hidden"})),this._selectionDiv.querySelectorAll("div[id^=resize-height]").forEach((function(t){t.style.visibility="hidden"})),this._parentSelectionDiv.style.visibility="hidden")},t.prototype.addChild=function(t){this._whitespace.appendChild(t)},t.prototype.removeChilds=function(t){this._whitespace.removeChild(t)},t.prototype._updateSelectionPosition=function(t,e){if(null!=(t=t||this._selection.visibleRectangle)){var n=e.contentAngle,r=Ag.getRectWithOffset(t,this._offset),i=this._getControlRectangle(r,e);this._selectionDiv.style.visibility="visible",this._selectionDiv.style.left=i.left+"px",this._selectionDiv.style.top=i.top+"px",this._selectionDiv.style.width=i.width+"px",this._selectionDiv.style.height=i.height+"px",this._selectionDiv.style.transform="rotate("+r.angle+"deg)",this._rotateHandler.updateRotateDegreeDiv(r.angle-n)}},t.prototype._updateSelectionPositionForDiv=function(t,e,n){if(null!=e){var r=Ag.getRectWithOffset(e,this._offset),i=this._getControlRectangle(r,n);t.style.visibility="visible",t.style.left=i.left+"px",t.style.top=i.top+"px",t.style.width=i.width+"px",t.style.height=i.height+"px",t.style.transform="rotate("+r.angle+"deg)"}},t.prototype._addHoverDiv=function(){this.hoverDiv=document.createElement("div"),this.hoverDiv.id="hover",this.hoverDiv.style.visibility="hidden",this.hoverDiv.style.zIndex="-1";var t=document.createElement("div");t.id="hover-label",this.hoverDiv.appendChild(t),this._whitespace.appendChild(this.hoverDiv),this.updateHoverDiv()},t.prototype._removeHoverDiv=function(){null!=this.hoverDiv&&(this.hoverDiv.remove(),this.hoverDiv=null)},t.prototype.updateHoverDiv=function(){null!=this.hoverDiv&&(this.hoverDiv.style.border=this._canvas.selectionWidth+"px solid "+this._canvas.selectionColor,this.hoverDiv.querySelector("#hover-label").style.color=""+this._canvas.selectionColor)},t.prototype.showHover=function(t,e,n){null!=t&&null!=this.hoverDiv&&null!=n&&(this.hoverDiv.querySelector("div[id^=hover-label]").innerText=e,this.hoverDiv.querySelector("div[id^=hover-label]").title=e,this.hoverDiv.style.visibility="visible",this.updateHoverPosition(t,n))},t.prototype.hideHover=function(){null!=this.hoverDiv&&(this.hoverDiv.style.visibility="hidden")},t.prototype.updateHoverPosition=function(t,e,n){if(null!=t&&"hidden"!==this.hoverDiv.style.visibility){var r=Ag.getRectWithOffset(t,this._offset),i=this._getControlRectangle(r,e);null!=n&&(this.hoverDiv.querySelector("div[id^=hover-label]").innerText=n),this.hoverDiv.style.left=i.left+"px",this.hoverDiv.style.top=i.top+"px",this.hoverDiv.style.width=i.width+"px",this.hoverDiv.style.height=i.height+"px",this.hoverDiv.style.transform="rotate("+r.angle+"deg)",this._rotateHandler.rotateHoverLabel(r.angle%360,i)}},t.prototype.addPlaceholderButtonGroup=function(t,e){var n,r,i,o,s,a,l;if(null!=e&&null!=this._parent&&null!=t){var u=this._parent,c=document.createElement("div");c.style.position="absolute",c.style.display="flex",c.style.alignItems="center",c.id="buttonDiv";var h=this._canvas.placeholderButtonGroupCssClass,p=document.createElement("div");if(p.id="editDiv",null!=h&&""!==h&&(n=p.classList).add.apply(n,MI(h.split(" "))),cg.IsTouchDevice()){var d=this._canvas.bigButtonGroupCssClass;null!=d&&""!==d&&(r=p.classList).add.apply(r,MI(d.split(" ")))}if(t.isStubOrEmpty()&&(!this._dndHandler.isDragStarted()||!this._dndHandler.isDragTarget(t))){var f=document.createElement("button");if(f.type="button",f.id="selectButton",f.setAttribute("style","will-change: transform"),f.addEventListener("mousedown",this._stopPropagationFnc),f.addEventListener("dblclick",this._stopPropagationFnc),this._addClickAndTapHandler(f,t.selectButtonClickHandler),t.item.isBarcodePlaceholder){var g=this._canvas.selectBarcodeButtonCssClass;null!=g&&""!==g?(i=f.classList).add.apply(i,MI(g.split(" "))):f.innerText="Select"}else{var m=this._canvas.selectImageButtonCssClass;null!=m&&""!==m?(o=f.classList).add.apply(o,MI(m.split(" "))):f.innerText="Select"}t.selectButton=f,p.appendChild(f)}if(this._dndHandler.isDragStarted&&this._dndHandler.isDragTarget(t)){var y=document.createElement("div");y.id="dropIcon",y.classList.add("cc-dnd-icon"),y.setAttribute("style","width: 30px; height: 30px; will-change: transform");var v=t.isStubOrEmpty()?"cc-icon-dnd-target-empty":"cc-icon-dnd-target-not-empty";y.classList.add(v),this._dndHandler.isDragOver(t)&&y.classList.add("cc-dnd-over"),p.appendChild(y)}var _=t.getPermissions().allowEditContent;if(_&&!t.isStubOrEmpty()&&!this._dndHandler.isDragStarted()){var b=document.createElement("button");b.type="button",b.id="handleButton",b.setAttribute("style","will-change: transform"),b.addEventListener("dblclick",this._stopPropagationFnc);var w=this._canvas.handleButtonCssClass;null!=w&&""!==w?(s=b.classList).add.apply(s,MI(w.split(" "))):b.innerText="Handle",t.handleButton=b,p.appendChild(b)}c.appendChild(p);var C=document.createElement("div");if(C.id="doneDiv",null!=h&&""!==h&&(a=C.classList).add.apply(a,MI(h.split(" "))),_){var x=document.createElement("button");x.type="button",x.setAttribute("style","will-change: transform"),x.addEventListener("dblclick",this._stopPropagationFnc);var S=this._canvas.doneButtonCssClass;null!=S&&""!==S?(l=x.classList).add.apply(l,MI(S.split(" "))):x.innerText="Done",t.doneButton=x,C.appendChild(x)}c.appendChild(C),u.appendChild(c),t.placeholderButtonGroup=c,t.editButtonGroup=p,t.doneButtonGroup=C,this.updatePlaceholderButtonGroup(t,e)}},t.prototype.removePlaceholderButtonGroup=function(t){if(null!=t&&null!=t.placeholderButtonGroup){for(var e=[t.selectButton,t.doneButton,t.handleButton],n=0;n<e.length;n++){var r=e[n];null!=r&&(r.removeEventListener("click",this._stopPropagationFnc),r.removeEventListener("mousedown",this._stopPropagationFnc),r.removeEventListener("dblclick",this._stopPropagationFnc))}t.placeholderButtonGroup.remove(),t.placeholderButtonGroup=null,t.doneButtonGroup=null,t.selectButton=null,t.handleButton=null,t.doneButton=null}},t.prototype.updatePlaceholderButtonGroup=function(t,e){if(null!=t&&null!=t.placeholderButtonGroup){var n=t.placeholderButtonGroup;if(t.isVisible()&&!t.isLocked()&&this._isSelectionBehavior){n.style.visibility="visible";var r=this._selection.isItemHandlerSelected(t)?"auto":"none",i=e.contentAngle;n.style.pointerEvents=r,n.style.transform="rotate(-"+i+"deg)";var o=t.editButtonGroup,s=t.doneButtonGroup,a=function(){return t.isStubOrEmpty()&&t.showSelectButton()};this._canvas.autoPlaceholderEditModeEnabled?(a()||this._buttonsHidden(o),this._buttonsHidden(s)):(a()||!t.isStubOrEmpty()&&t.showHandleButton()&&this._selection.isItemHandlerSelected(t)&&!t.isContentUpdating()&&1===this._selection.getSelectedItemHandlers().length||this._dndHandler.isDragStarted()&&this._dndHandler.isDragTarget(t)?this._buttonsShow(o):this._buttonsHidden(o),t.editing&&!t.isContentUpdating()&&t.getPermissions(!0).showDoneButton?this._buttonsShow(s):this._buttonsHidden(s));var l=t.selectButton;null!=l&&(l.title=this._getSelectButtonTitle(t));var u=t.doneButton;null!=u&&(u.title=this._canvas.doneButtonTitle);var c=t.handleButton;null!=c&&(c.title=this._canvas.handleButtonTitle),this.updatePlaceholderButtonGroupPosition(t,e)}else n.style.visibility="hidden"}},t.prototype.updatePlaceholderButtonGroupPosition=function(t,e){if(null!=e&&null!=this._parent&&null!=t&&null!=t.placeholderButtonGroup){var n=Ag.getRectWithOffset(t.rectangle,this._offset),r=e.workspaceToControlPoint(new pg(n.centerX,n.centerY)),i=e.getParentPosition(this._parent.parentElement),o=new pg(i.left,i.top),s=t.placeholderButtonGroup,a=r.x-s.offsetWidth/2-o.x,l=r.y-s.offsetHeight/2-o.y;s.style.position="absolute",s.style.left=a+"px",s.style.top=l+"px"}},t.prototype.addFloatingItemToolbar=function(t,e){var n,r,i,o,s;if(null!=e&&null!=this._parent&&null!=t&&this._canvas.floatingItemToolbarEnabled&&null==t.floatingItemToolbar){var a=this._whitespace,l=document.createElement("div");l.style.position="absolute",l.id="buttonDiv";var u=this._canvas.floatingItemToolbarCssClass,c=document.createElement("div");if(c.style.display="flex",c.id="floatingItemToolbarDiv",null!=u&&""!==u&&(n=c.classList).add.apply(n,MI(u.split(" "))),cg.IsTouchDevice()){var h=this._canvas.bigButtonGroupCssClass;null!=h&&""!==h&&(r=c.classList).add.apply(r,MI(h.split(" ")))}if(this._isPlaceholder(t)||this._isImage(t)||this._isGroup(t)){var p=document.createElement("button");p.type="button",p.addEventListener("mousedown",this._stopPropagationFnc),p.addEventListener("dblclick",this._stopPropagationFnc);var d=t.getSelectToolbarButtonClickHandler();this._addClickAndTapHandler(p,d);var f=this._canvas.selectToolbarButtonCssClass;null!=f&&""!==f?(i=p.classList).add.apply(i,MI(f.split(" "))):p.innerText="Select",t.selectToolbarButton=p,c.appendChild(p)}var g=document.createElement("button");g.type="button",g.addEventListener("mousedown",this._stopPropagationFnc),g.addEventListener("dblclick",this._stopPropagationFnc);var m=t.getEditToolbarButtonClickHandler();this._addClickAndTapHandler(g,m);var y=this._canvas.editToolbarButtonCssClass;null!=y&&""!==y?(o=g.classList).add.apply(o,MI(y.split(" "))):g.innerText="Edit",t.editToolbarButton=g,c.appendChild(g);var v=document.createElement("button");v.type="button",v.addEventListener("mousedown",this._stopPropagationFnc),v.addEventListener("dblclick",this._stopPropagationFnc);var _=t.getDeleteToolbarButtonClickHandler();this._addClickAndTapHandler(v,_);var b=this._canvas.deleteToolbarButtonCssClass;null!=b&&""!==b?(s=v.classList).add.apply(s,MI(b.split(" "))):v.innerText="Delete",t.deleteToolbarButton=v,c.appendChild(v),l.appendChild(c),a.appendChild(l),t.floatingItemToolbar=l,this.updateFloatingItemToolbar(t,e)}},t.prototype.removeFloatingItemToolbar=function(t){if(null!=t&&null!=t.floatingItemToolbar){for(var e=[t.selectToolbarButton,t.deleteToolbarButton,t.editToolbarButton],n=0;n<e.length;n++){var r=e[n];null!=r&&(r.removeEventListener("click",this._stopPropagationFnc),r.removeEventListener("mousedown",this._stopPropagationFnc),r.removeEventListener("dblclick",this._stopPropagationFnc))}t.floatingItemToolbar.remove(),t.floatingItemToolbar=null,t.selectToolbarButton=null,t.deleteToolbarButton=null,t.editToolbarButton=null}},t.prototype.updateFloatingItemToolbar=function(t,e){if(null!=t&&null!=t.floatingItemToolbar&&this._canvas.floatingItemToolbarEnabled){var n=t.floatingItemToolbar;if(this._canvas.isShowFloatingItemToolbar(t)){if(this._buttonsShow(n),this._isImageOrPlaceholder(t)||this._isGroup(t)){var r=t.selectToolbarButton;null!=r&&(t.showSelectToolbarButton()?(r.style.display="block",this._updateFloatingItemToolbarPosition(t,e)):r.style.display="none",r.title=this._getSelectButtonTitle(t))}var i=t.deleteToolbarButton;null!=i&&(i.style.display=t.showDeleteToolbarButton()&&!this._canvas.simpleMode?"block":"none",i.title=this._canvas.deleteButtonTitle);var o=t.editToolbarButton;null!=o&&(o.style.display=t.showEditToolbarButton()?"block":"none",o.title=this._canvas.editButtonTitle),this._updateFloatingItemToolbarPosition(t,e)}else this._buttonsHidden(n)}},t.prototype._updateFloatingItemToolbarPosition=function(t,e){if(null!=e&&null!=this._parent&&null!=t&&this._canvas.floatingItemToolbarEnabled&&null!=t.floatingItemToolbar){var n=Ag.getRectWithOffset(t.rectangle,this._offset),r=e.contentAngle,i=t.floatingItemToolbar;r>0&&(n.rotateAt(r,new pg),90===r?n.translate(e.workspaceHeight,0):180===r?n.translate(e.workspaceWidth,e.workspaceHeight):270===r&&n.translate(0,e.workspaceWidth));var o=e.zoom,s=e.screenYDpi/72*o,a=Math.floor(n.width*(e.screenXDpi/72*o)),l=Math.floor(n.height*s),u=i.offsetWidth,c=i.offsetHeight,h=3.5*u>a||3.5*c>l;new pg((h?-u/2:8)+u/2,(h?-c:8)+c/2).rotate(n.angle);var p=e.workspaceToControlPoint(n.getUpperRightCorner()),d=e.element,f=new pg(0,0);f.x=Math.max(0,p.x),f.y=Math.max(0,p.y);var g=t.rectangle.angle%360;if(g>=0&&g<90){var m=[e.workspaceToControlPoint(n.getUpperLeftCorner()),e.workspaceToControlPoint(n.getUpperRightCorner()),e.workspaceToControlPoint(n.getBottomRightCorner()),e.workspaceToControlPoint(n.getBottomLeftCorner())];f=this._findBetter(m,r,d,f,c,u,e)}else g>=180&&g<270?(m=[e.workspaceToControlPoint(n.getBottomRightCorner()),e.workspaceToControlPoint(n.getBottomLeftCorner()),e.workspaceToControlPoint(n.getUpperLeftCorner()),e.workspaceToControlPoint(n.getUpperRightCorner())],f=this._findBetter(m,r,d,f,c,u,e)):g>=270?(m=[e.workspaceToControlPoint(n.getUpperRightCorner()),e.workspaceToControlPoint(n.getBottomRightCorner()),e.workspaceToControlPoint(n.getBottomLeftCorner()),e.workspaceToControlPoint(n.getUpperLeftCorner())],f=this._findBetter(m,r,d,f,c,u,e)):(m=[e.workspaceToControlPoint(n.getBottomLeftCorner()),e.workspaceToControlPoint(n.getUpperLeftCorner()),e.workspaceToControlPoint(n.getUpperRightCorner()),e.workspaceToControlPoint(n.getBottomRightCorner())],f=this._findBetter(m,r,d,f,c,u,e));i.style.left=f.x-12+"px",i.style.top=f.y+"px"}},t.prototype._findBetter=function(t,e,n,r,i,o,s){switch(e){case 90:t=t.concat(t.splice(0,3));break;case 180:t=t.concat(t.splice(0,2));break;case 270:t=t.concat(t.splice(0,1))}var a=t[0],l=t[1],u=t[2],c=t[3],h=n.offsetWidth-(l.x+o/2),p=n.offsetHeight-u.y,d=a.y-12,f=this._selectionDiv.querySelector("div#rotate-circle"),g=null;if(f){var m=f.getBoundingClientRect();g=s.pageToControlPoint(m.left,m.top)}var y=function(){return null!=g&&g.y+15>r.y&&g.y-15<r.y+i&&g.x+30>r.x&&g.x-30<r.x+o},v=function(){return r.x=h<0?l.x-o/2-5+h:l.x-o/2-5,y()&&(r.x=h>0&&n.offsetWidth-(g.x+30+o+5)>0?g.x+30:g.x-15-o),r.x},_=function(){return r.y=a.y-i>0?a.y-i:0,y()&&(r.y=g.y+15),r.y};return d>i?(r.y=a.y-i-12,r.x=v()):h-(o/2+5)>0?(r.x=l.x+5,r.y=_()):h-(o/2+5)<0&&(c.x-o-5>5?(r.x=c.x-o-5,r.y=_()):(r.x=v(),r.y=p>i?u.y:_())),r.x+=n.scrollLeft,r.y+=n.scrollTop,r},t.prototype.addViolationContainer=function(t,e){var n,r,i,o,s;if(null!=e&&null!=this._parent&&null!=t&&(this._canvas.violationWarningButtonsEnabled||this._canvas.qualityChangeContainersEnabled)&&null==t.getViolationContainer()&&(this._canvas.violationWarningButtonsEnabled||!this._canvas.qualityChangeContainersEnabled||t instanceof oC||t instanceof dC)){var a=document.createElement("div"),l=this._canvas.violationContainerCssClass;if(null!=l&&""!==l&&(n=a.classList).add.apply(n,MI(l.split(" "))),t.setViolationContainer(a),this._canvas.violationWarningButtonsEnabled){var u=this._canvas.violationWarningButtonCssClass,c=document.createElement("button");c.type="button",null!=u&&""!==u?(r=c.classList).add.apply(r,MI(u.split(" "))):c.innerText="Quality",c.addEventListener("mousedown",this._stopPropagationFnc),c.addEventListener("dblclick",this._stopPropagationFnc);var h=t.getViolationWarningButtonClickHandler();this._addClickAndTapHandler(c,h),t.setViolationWarningButton(c),a.appendChild(c)}if(this._canvas.qualityChangeContainersEnabled&&(t instanceof oC||t instanceof SC&&null==t.item.barcodeFormat)){var p=document.createElement("div");a.appendChild(p);var d=this._canvas.qualityChangeContainerCssClass;null!=d&&""!==d&&(i=p.classList).add.apply(i,MI(d.split(" ")));var f=document.createElement("div");p.appendChild(f);var g=this._canvas.qualityChangeScaleBarCssClass;null!=g&&""!==g&&(o=f.classList).add.apply(o,MI(g.split(" ")));var m=document.createElement("div");p.appendChild(m);var y=this._canvas.qualityChangeInfoBarCssClass;null!=y&&""!==y&&(s=m.classList).add.apply(s,MI(y.split(" "))),t.qualityChangeContainer=p,t.qualityChangeScaleBar=f,t.qualityChangeInfoBar=m}this._whitespace.appendChild(a),this.updateViolationContainer(t,!0,e)}},t.prototype.removeViolationContainer=function(t){if(null!=t){var e=t.getViolationWarningButton();if(null!=e&&(e.removeEventListener("click",this._stopPropagationFnc),e.removeEventListener("mousedown",this._stopPropagationFnc),e.removeEventListener("dblclick",this._stopPropagationFnc),e.remove(),t.setViolationWarningButton(null)),t instanceof oC||t instanceof SC){var n=t.qualityChangeContainer;null!=n&&(n.remove(),t.qualityChangeContainer=null,t.qualityChangeScaleBar=null,t.qualityChangeInfoBar=null)}var r=t.getViolationContainer();null!=r&&(r.remove(),t.setViolationContainer(null))}},t.prototype.updateViolationContainer=function(t,e,n){if(void 0===e&&(e=!1),null!=t&&null!=t.getViolationContainer()){var r=t instanceof oC||t instanceof SC?t.qualityChangeContainer:null,i=t.getViolationWarningButton();if(!t.isVisible()||t.locked||!this._isSelectionBehavior)return null!=r&&(r.style.visibility="hidden"),void(null!=i&&(i.style.visibility="hidden"));if(this._canvas.violationWarningButtonsEnabled&&null!=i&&(i.style.pointerEvents="auto",this._selection.isOnlyThisItemHandlerSelected(t)?i.classList.add("active"):i.classList.remove("active")),this._canvas.qualityChangeContainersEnabled&&null!=r){r.style.visibility="visible";var o=GP.getImageItem(t.item),s=null!=o&&o.source.isVector;t instanceof SC&&t.isStubOrEmpty()||!(this._selection.isResizing()||t instanceof SC&&t.forceQualityChangeInfoBar)||s?this._buttonsHidden(r):this._buttonsShow(r)}e&&this.updateViolationContainerPosition(t,n)}},t.prototype.updateViolationContainerPosition=function(t,e){var n=this;if(null!=e&&null!=this._parent&&null!=t&&null!=t.item&&(this._canvas.violationWarningButtonsEnabled||this._canvas.qualityChangeContainersEnabled)&&null!=t.getViolationContainer()){var r=Ag.getRectWithOffset(t.rectangle,this._offset),i=e.contentAngle;i>0&&(r.rotateAt(i,new pg),90===i?r.translate(e.workspaceHeight,0):180===i?r.translate(e.workspaceWidth,e.workspaceHeight):270===i&&r.translate(0,e.workspaceWidth));var o=e.zoom,s=e.screenYDpi/72*o,a=Math.floor(r.width*(e.screenXDpi/72*o)),l=Math.floor(r.height*s),u=t.getViolationWarningButton(),c=t.getViolationContainer(),h=null!=u?u:c,p=h.offsetWidth,d=h.offsetHeight;0!==p&&0!==d||setTimeout((function(){return n.updateViolationContainerPosition(t,e)}));var f=3.5*p>a||3.5*d>l,g=new pg((f?-p/2:8)+p/2,(f?-d:8)+d/2);g.rotate(r.angle);var m=e.workspaceToControlPoint(r.getUpperLeftCorner()),y=e.whitespaceDiv,v=e.element;m.x+=g.x-y.offsetLeft-p/2+v.scrollLeft,m.y+=g.y-y.offsetTop-d/2+v.scrollTop,m.x=Math.max(0,m.x),m.y=Math.max(0,m.y);var _=m.x+p-e.whitespaceDiv.offsetWidth;_>0&&(m.x-=_);var b=m.y+d-e.whitespaceDiv.offsetHeight;b>0&&(m.y-=b),c.style.left=m.x+"px",c.style.top=m.y+"px",c.style.position="absolute",u=t.getViolationWarningButton(),t.isVisible()?null!=u&&(u.style.visibility="visible",this._selection.isOperationNotNull()?(u.classList.remove("elementShown"),u.classList.add("elementHidden")):(u.classList.remove("elementHidden"),u.classList.add("elementShown"))):null!=u&&(u.style.visibility="hidden")}},t.prototype._addTextEditorDiv=function(){document.execCommand("styleWithCSS");var t=document.createElement("style");t.type="text/css",t.innerHTML="#"+this._textEditorId+" { -webkit-user-select: text; user-select: text; } p { margin: 0px; line-height: normal; } p:first-child::first-line { line-height: 1; }",document.head.appendChild(t),this._viewer.add_zoomed(this._onZoomedScrolledDelegate),this._viewer.add_scrolled(this._onZoomedScrolledDelegate)},t.prototype._removeTextEditorDiv=function(){null!=this._textEditorDiv&&(this._removeTextEditorDivFromDom(),this._textEditorDiv=null,this._viewer.remove_zoomed(this._onZoomedScrolledDelegate),this._viewer.remove_scrolled(this._onZoomedScrolledDelegate))},t.prototype._appendTextEditorDivToDom=function(){this._textEditorDiv=document.createElement("div"),this._textEditorDiv.id=this._textEditorId,this._textEditorDiv.style.display="block",this._textEditorDiv.style.position="absolute",this._textEditorDiv.style.zIndex="1",this._textEditorDiv.style.backgroundColor="transparent",this._textEditorDiv.style.overflow="hidden",this._textEditorDiv.style.cursor="text",this._textEditorDiv.contentEditable="true",this._textEditorDiv.addEventListener("dblclick",this._stopPropagationFnc),this._textEditorDiv.addEventListener("click",this._stopPropagationFnc),this._textEditorDiv.addEventListener("mousedown",this._stopPropagationFnc),this._textEditorDiv.addEventListener("mousemove",this._stopPropagationFnc),this._textEditorDiv.addEventListener("mouseup",this._stopPropagationFnc),this._textEditorDiv.addEventListener("keydown",this._stopPropagationFnc),this._textEditorDiv.addEventListener("keyup",this._stopPropagationFnc),this._parent.parentElement.parentElement.parentElement.appendChild(this._textEditorDiv)},t.prototype._removeTextEditorDivFromDom=function(){this._textEditorDiv.removeEventListener("dblclick",this._stopPropagationFnc),this._textEditorDiv.removeEventListener("click",this._stopPropagationFnc),this._textEditorDiv.removeEventListener("mousedown",this._stopPropagationFnc),this._textEditorDiv.removeEventListener("mousemove",this._stopPropagationFnc),this._textEditorDiv.removeEventListener("mouseup",this._stopPropagationFnc),this._textEditorDiv.removeEventListener("keydown",this._stopPropagationFnc),this._textEditorDiv.removeEventListener("keyup",this._stopPropagationFnc),this._textEditorDiv.remove()},Object.defineProperty(t.prototype,"textEditorDiv",{get:function(){return this._textEditorDiv},enumerable:!0,configurable:!0}),t.prototype.showTextEditor=function(t,e,n,r,i,o,s){this._appendTextEditorDivToDom(),this._updateTextEditorPosition(t,e,r),this._textEditorDiv.style.border="solid "+r+"pt "+i,this._textEditorDiv.style.backgroundColor=""+o,this._textEditorDiv.style.opacity=""+s,this._textEditorDiv.style.setProperty("outline",this._canvas.selectionWidth+"px solid "+this._canvas.selectionColor,"important"),this._textEditorDiv.innerHTML=n,this._textEditorDiv.focus()},t.prototype.hideTextEditor=function(){if(null!=this._textEditorDiv){var t=""===this._textEditorDiv.innerText.trim()?"":this._textEditorDiv.innerHTML;return this._removeTextEditorDivFromDom(),t}},t.prototype._updateTextEditorPosition=function(t,e,n){if(null!=t&&null!=this._textEditorDiv){var r=this._viewer;if(n>0&&(t.width+=2*n,t.height+=2*n),t=this._rotateRectangle(t,r),null==e){var i=r.workspaceToControlPoint(t.location).round();this._textEditorDiv.style.left="0px",this._textEditorDiv.style.top="0px",this._textEditorDiv.style.width=t.width+"pt",this._textEditorDiv.style.height=t.height+"pt",this._textEditorDiv.style.transformOrigin="left top",this._textEditorDiv.style.transform="translate("+i.x+"px, "+i.y+"px) scale("+r.zoom+") rotate("+t.angle+"deg)"}else{t.angle=0;var o=r.workspaceToControlPoint(t.getUpperLeftCorner()).round();if(this._textEditorDiv.style.top="0px",this._textEditorDiv.style.width="max-content",this._textEditorDiv.style.height="max-content",e==vy.Center){var s=r.workspaceToControlPoint(t.center).round();this._textEditorDiv.style.left=s.x+"px",this._textEditorDiv.style.transformOrigin="center top",this._textEditorDiv.style.transform="translate(-50%, "+o.y+"px) scale("+r.zoom+")"}else if(e==vy.Right){var a=r.workspaceToControlPoint(t.getUpperRightCorner()).round();this._textEditorDiv.style.left=a.x+"px",this._textEditorDiv.style.transformOrigin="right top",this._textEditorDiv.style.transform="translate(-100%, "+a.y+"px) scale("+r.zoom+")"}else this._textEditorDiv.style.left="0px",this._textEditorDiv.style.transformOrigin="left top",this._textEditorDiv.style.transform="translate("+o.x+"px, "+o.y+"px) scale("+r.zoom+")"}}},t.prototype.calculateRenderStateForItemHandlers=function(t){var e=this,n=!1,r=function(t,e){return t.renderState!==e&&(t.renderState=e,n=!0,!0)},i=new nm,o=function(t,e){t.contains(e)||t.add(e)};t.selectMany((function(t){return t.itemHandlers.toArray()})).reverse().forEach((function(t){o(i,t),t instanceof ix&&t.getNestedItemHandlers().forEach((function(t){return o(i,t)}))}));var s=this._selection._permissions,a=this._selection.getSelectedItemHandlers(),l=1==a.length&&a.get(0)instanceof iI;if(!this._selection.isLocked&&(s.allowMove||s.allowRotate||s.allowResize||l))for(var u=i.indexOf((function(t){return e._selection.isItemHandlerSelected(t)})),c=i.lastIndexOf((function(t){return e._selection.isItemHandlerSelected(t)})),h=i.indexOf((function(t){return t.hasBlendMode()})),p=h>-1,d=0;d<i.count();d++){var f=i.elementAt(d),g=f.parentGroupItemHandler;if(this.setHandlerState(f,d,u,h,c,p,r)&&g){var m=i.indexOf(g);this.setHandlerState(f.parentGroupItemHandler,m,u,h,c,p,r)}}else i.forEach((function(t){t.isVisible()?r(t,dw.Bottom):r(t,dw.Hidden)}));return n},t.prototype.setHandlerState=function(t,e,n,r,i,o,s){return t.isVisible()?t instanceof ix&&t.getNestedItemHandlers().some((function(t){return t.renderState===dw.Active}))?s(t,dw.Active):s(t,e<n&&(e<r||!o)?dw.Top:e>=n&&e<=i||o&&n>=r?dw.Active:dw.Bottom):s(t,dw.Hidden)},t.prototype._getAllCanvases=function(){return[this.surfaceCanvas,this.activeCanvas,this.inactiveCanvas,this.staticTextCanvas,this.activeTextCanvas,this.designCanvas,this.cursorCanvas]},t.prototype._createCanvasElement=function(e,n,r){var i=this._document.createElement("canvas");return i.id=e,i.style.position="absolute",i.style.top="0px",i.style.left="0px",i.style.pointerEvents="none",t.setElementSize(i,n,r),i},t.setElementSize=function(t,e,n){var r=cg.devicePixelRatio;t.width=Math.ceil(e),t.style.width=Math.ceil(e/r)+"px",t.height=Math.ceil(n),t.style.height=Math.ceil(n/r)+"px"},t.prototype._addClickAndTapHandler=function(t,e){cg.IsTouchDevice()&&!cg.IsAndroid()?window.Hammer(t).on("tap",e):t.addEventListener("click",e)},t.prototype._buttonsShow=function(t){t.classList.remove("buttonsHidden"),t.classList.add("buttonsShown")},t.prototype._buttonsHidden=function(t){t.classList.remove("buttonsShown"),t.classList.add("buttonsHidden")},t.prototype._isPlaceholder=function(t){return t instanceof SC},t.prototype._isImage=function(t){return t instanceof oC},t.prototype._isGroup=function(t){return t instanceof ix},t.prototype._isImageOrPlaceholder=function(t){return this._isImage(t)||this._isPlaceholder(t)},t.prototype._getSelectButtonTitle=function(t){return this._isGroup(t)?this._canvas.replaceGroupContentButtonTitle:this._isPlaceholder(t)&&t.item.isBarcodePlaceholder?this._canvas.editBarcodeButtonTitle:this._canvas.selectButtonTitle},t.prototype._getControlRectangle=function(t,e){var n=(t=this._rotateRectangle(t,e)).toRectangleF(),r=e.zoom,i=e.screenXDpi/72*r,o=e.screenYDpi/72*r,s=fg.FromLTRB(Math.floor(n.left*i),Math.floor(n.top*o),Math.ceil(n.right*i)+this._canvas.selectionWidth,Math.ceil(n.bottom*o)+this._canvas.selectionWidth);return e.contentToWhitespaceRectangle(new fg(s.left,s.top,s.width,s.height))},Object.defineProperty(t.prototype,"_isSelectionBehavior",{get:function(){return this._canvas.mouseBehaviorManager.isSelectionMouseBehavior},enumerable:!0,configurable:!0}),t.prototype._rotateRectangle=function(t,e){var n=e.contentAngle;return n>0&&(t.rotateAt(n,new pg),90===n?t.translate(e.workspaceHeight,0):180===n?t.translate(e.workspaceWidth,e.workspaceHeight):270===n&&t.translate(0,e.workspaceWidth)),t},t}(),DI=function(){function t(t,e,n){this._selection=t,this._dndHandler=e,this._canvas=n,this._loadingImage=new Image,this.previewMode=!1}return Object.defineProperty(t.prototype,"offset",{get:function(){return this._offset},set:function(t){null!=t&&t.equals(this._offset)||null==t&&null!=this.offset||(this._offset=t)},enumerable:!0,configurable:!0}),t.prototype.redrawActiveCanvas=function(t,e,n){var r=this,i=this._getScaledContext(e),o=this._getScaledContext(n);if(null!=i&&null!=o){this._getItemHandlersByRenderState(t,dw.Active).forEach((function(t){return r.drawHandler(t,i)}));var s=this._selection.getSelectedItemHandlers();if(s.length>1)s.forEach((function(t){return t.drawHighlight(o)}));else{var a=this._selection.currentItemHandler;a instanceof ix&&a.drawHighlight(o,!0),null!=a&&this._isEditing(a)&&(a instanceof SC&&(this._drawFade(o),this.drawHandler(a,o)),a.drawHighlight(o))}this._selection.draw(o,this),this._dndHandler.draw(),i.restore(),o.restore()}},t.prototype.drawHandler=function(t,e){var n,r,i=!1;if(!this.previewMode)return t.draw(e);var o=null===(n=null==t?void 0:t.item)||void 0===n?void 0:n.parentContainer;o instanceof sm&&(null===(r=null==o?void 0:o.parentComponent)||void 0===r||r.printAreas.forEach((function(n){var r=Eg.rectangle(n.bounds.left,n.bounds.top,n.bounds.width,n.bounds.height);null!=r&&(i=!0,t.draw(e,r))}))),i||t.draw(e)},t.prototype.redrawInactiveCanvas=function(t,e,n){var r=this,i=this._getScaledContext(e),o=this._getScaledContext(n);null!=i&&null!=o&&(this._drawMargins(i),this._getItemHandlersByRenderState(t,dw.Bottom).forEach((function(t){return r.drawHandler(t,i)})),this._getItemHandlersByRenderState(t,dw.Top).forEach((function(t){return r.drawHandler(t,o)})),o.restore(),i.restore())},t.prototype.drawRubberband=function(t,e){null==this._offset||this._offset.isOrigin()||(e.left-=this._offset.x,e.right-=this._offset.x,e.top-=this._offset.y,e.bottom-=this._offset.y);var n=this._canvas.mul,r=1/n,i="rgba(0,0,0,1)",o="rgba(0,0,0,0)",s=2/n;Iw.drawDashedLine(t,e.left,e.top,e.right,e.top,r,i,o,s,s),Iw.drawDashedLine(t,e.right,e.top,e.right,e.bottom,r,i,o,s,s),Iw.drawDashedLine(t,e.right,e.bottom,e.left,e.bottom,r,i,o,s,s),Iw.drawDashedLine(t,e.left,e.bottom,e.left,e.top,r,i,o,s,s)},t.prototype.drawVerticalLine=function(t,e,n){Iw.drawLine(t,e,null!=this._offset?-this._offset.y:0,e,this._canvas.workspaceHeight,1/this._canvas.zoom,n)},t.prototype.drawHorizontalLine=function(t,e,n){Iw.drawLine(t,null!=this._offset?-this._offset.x:0,e,this._canvas.workspaceWidth,e,1/this._canvas.zoom,n)},t.prototype.drawWaitClock=function(t,e){var n=this._canvas.mul,r=new Ag(e.x||0,e.y||0,this._loadingImage.width/n,this._loadingImage.height/n,0);this._loadingImage.complete&&Iw.drawImage(t,this._loadingImage,r,n,n)},t.prototype.setLoadingImageUrl=function(t){this._loadingImage.crossOrigin="anonymous",this._loadingImage.src=t},t.prototype.drawTextCursor=function(t,e,n){var r=this._getScaledContext(t);if(null!=r){var i=e.item.transform.toMatrix(),o=e.getControlCenter();r.translate(o.x,o.y),r.transform(i.m00,i.m10,i.m01,i.m11,i.m02,i.m12),r.translate(-o.x,-o.y),n(r),r.strokeStyle="rgb(0, 0, 0)",r.lineWidth=1/this._canvas.mul,r.stroke(),r.restore()}},t.prototype.clearTextCursor=function(t){var e=this._getScaledContext(t);null!=e&&e.restore()},t.prototype._getScaledContext=function(t){if(null==t)return null;var e=t.getContext("2d");if(null==e)return null;Iw.clearCanvas(e),e.save();var n=cg.screenDpi*this._canvas.zoom/72;return e.scale(n,n),null==this._offset||this._offset.isOrigin()||e.translate(this._offset.x,this._offset.y),e},t.prototype._isEditing=function(t){return t instanceof SC&&t.editing||t instanceof iI&&t.editing},t.prototype._getItemHandlersByRenderState=function(t,e){return t.selectMany((function(t){return t.itemHandlers.toArray()})).where((function(t){return t.renderState==e&&!(t instanceof SC&&t.editing)}))},t.prototype._drawFade=function(t){var e=Ag.FromLTRB(null!=this._offset?-this._offset.x:0,null!=this._offset?-this._offset.y:0,this._canvas.workspaceWidth,this._canvas.workspaceHeight);Iw.rectangle(t,e,0,null,"rgb(0, 0, 0)",.75)},t.prototype._drawMargins=function(t){var e,n,r,i,o=-(null!==(n=null===(e=this._offset)||void 0===e?void 0:e.x)&&void 0!==n?n:0),s=-(null!==(i=null===(r=this._offset)||void 0===r?void 0:r.y)&&void 0!==i?i:0),a=this._canvas.leftMargin+o,l=this._canvas.rightMargin,u=this._canvas.topMargin+s,c=this._canvas.bottomMargin,h=this._canvas.workspaceWidth,p=this._canvas.workspaceHeight,d=this._canvas.marginWidth/this._canvas.mul,f=this._canvas.marginColor;0!==a&&0!==l&&0!==u&&0!==c&&h>=a+l&&p>=u+c&&d>0&&(Iw.drawLine(t,a,u,a,p-c,d,f),Iw.drawLine(t,a,u,h-l,u,d,f),Iw.drawLine(t,h-l,p-c,a,p-c,d,f),Iw.drawLine(t,h-l,p-c,h-l,u,d,f))},t}(),BI=function(){return(BI=Object.assign||function(t){for(var e,n=1,r=arguments.length;n<r;n++)for(var i in e=arguments[n])Object.prototype.hasOwnProperty.call(e,i)&&(t[i]=e[i]);return t}).apply(this,arguments)},jI=function(){function t(t){this.setConfiguration(t),this._snapData={xAnchors:[],yAnchors:[],defaultBounds:null,activeXAnchorIndex:null,activeYAnchorIndex:null,xPoints:[],yPoints:[],activeXPointIndex:null,activeYPointIndex:null}}return t.prototype.setConfiguration=function(t){this._conf=Wg(this._getDefaultConf,[t||{}])},Object.defineProperty(t.prototype,"configuration",{get:function(){return this._conf},enumerable:!0,configurable:!0}),t.prototype.drawActiveLines=function(t,e){if(null!=this._snapData.activeXAnchorIndex){var n=this._snapData.xAnchors[this._snapData.activeXAnchorIndex];e.drawVerticalLine(t,n.position,this._conf.snapElements[n.type].color)}if(null!=this._snapData.activeYAnchorIndex){var r=this._snapData.yAnchors[this._snapData.activeYAnchorIndex];e.drawHorizontalLine(t,r.position,this._conf.snapElements[r.type].color)}},t.prototype.resetActiveLines=function(){this._snapData.activeXAnchorIndex=null,this._snapData.activeYAnchorIndex=null},t.prototype.constrainDiffToSnapLines=function(t,e,n){if(null==e)return new pg;var r=new pg(t.x-e.x,t.y-e.y);if(!this._enabled)return r;null==r&&(r=new pg(0,0));var i=r.clone();null==this._prevPoint&&(this._prevPoint=e);var o=t.x-this._prevPoint.x,s=t.y-this._prevPoint.y;this._prevPoint=t,this._snapData.activeXAnchorIndex=null;for(var a=o>0?this._snapData.xAnchors.length-1:0,l=o>0?1:-1,u=o>0?this._snapData.xPoints.length-1:0,c=o>0?0:this._snapData.xPoints.length-1,h=o>0?-1:1,p=o>0?0:this._snapData.xAnchors.length-1;p!==a+l;p+=l)for(var d=this._snapData.xAnchors[p],f=u;f!==c+h;f+=h){var g=this._snapData.xPoints[f],m=this._getSnapLineTolerance(n,d.type);if(Math.abs(g+r.x-d.position)<m){var y=null!=this._snapData.activeXAnchorIndex?this._conf.snapElements[this._snapData.xAnchors[this._snapData.activeXAnchorIndex].type]:null,v=this._conf.snapElements[d.type];(null==this._snapData.activeXAnchorIndex||v.priority>y.priority)&&(i.x=d.position-g,this._snapData.activeXAnchorIndex=p,this._snapData.activeXPointIndex=f)}}this._snapData.activeYAnchorIndex=null;for(var _=s>0?this._snapData.yAnchors.length-1:0,b=s>0?1:-1,w=s>0?this._snapData.yPoints.length-1:0,C=s>0?0:this._snapData.yPoints.length-1,x=s>0?-1:1,S=s>0?0:this._snapData.yAnchors.length-1;S!==_+b;S+=b)for(var P=this._snapData.yAnchors[S],I=w;I!==C+x;I+=x){var E=this._snapData.yPoints[I];m=this._getSnapLineTolerance(n,P.type),Math.abs(E+r.y-P.position)<m&&(y=null!=this._snapData.activeYAnchorIndex?this._conf.snapElements[this._snapData.yAnchors[this._snapData.activeYAnchorIndex].type]:null,v=this._conf.snapElements[P.type],(null==this._snapData.activeYAnchorIndex||v.priority>y.priority)&&(i.y=P.position-E,this._snapData.activeYAnchorIndex=S,this._snapData.activeYPointIndex=I))}return i},t.prototype.constrainRectangleToSnapLines=function(t,e,n,r,i,o,s){var a=this;if(!this._enabled)return t;var l,u,c=t.clone();this._snapData.xPoints=[],this._snapData.yPoints=[];var h=r.resizeIndex-1;r.resizeIndex>4?((u=new pg(i.centerX+BC.cw[r.resizeIndex]*(i.width/2),i.centerY+BC.ch[r.resizeIndex]*(i.height/2))).rotateAt(c.angle,i.center),(l=new pg(o.centerX+BC.cw[r.resizeIndex]*(o.width/2),o.centerY+BC.ch[r.resizeIndex]*(o.height/2))).rotateAt(c.angle,o.center)):(u=i.getCornerByIndex(h),l=o.getCornerByIndex(h));var p,d,f=this,g=function(t,e){if(void 0===t&&(t=null),void 0===e&&(e=null),e=null==e||e,(t=null==t||t)||e){var n=a._getSnapLineTolerance(s,YP.Items);t&&(f._snapData.xPoints=[u.x],Math.abs(u.x-l.x)>n&&f._snapData.xPoints.push(l.x)),e&&(f._snapData.yPoints=[u.y],Math.abs(u.y-l.y)>n&&f._snapData.yPoints.push(l.y))}};if(n){if(i.angle%90!=0&&r.resizeIndex>4)return t;var m=c.center,y=r.resizeIndex>4&&(c.angle-90)%180==0;g(BC.cw[r.resizeIndex]!==(0^(y?1:0)),BC.ch[r.resizeIndex]!==(0^(y?1:0)));var v=this.constrainDiffToSnapLines(u,u,s);if(null==v||xg(v.x,0,.1)&&xg(v.y,0,.01))return t;var _=new pg((p=(d=0!==v.x&&0===this._snapData.activeXPointIndex||0!==v.y&&0===this._snapData.activeYPointIndex)?u:l).x+v.x,p.y+v.y),b=c.angle;_.rotateAt(-b,m),p.rotateAt(-c.angle,m),c.angle=0;var w=new pg((_.x-p.x)*(d?c.width/i.width:1),(_.y-p.y)*(d?c.height/i.height:1));c.centerX+=w.x/2,c.width+=BC.cw[r.resizeIndex]*w.x,c.centerY+=w.y/2,c.height+=BC.ch[r.resizeIndex]*w.y,c.rotateAt(b,m)}else if(!n){if(e.getCornerByIndex(h).equals(l,.01))return t;g();var C=this.constrainDiffToSnapLines(l,l,s),x=xg(C.x,0,.01),S=xg(C.y,0,.01);if(x&&S)return t;p=(d=!x&&0===this._snapData.activeXPointIndex||!S&&0===this._snapData.activeYPointIndex)?u:l;var P,I=(h+2)%4,E=o.getCornerByIndex(I);P=x?new pg(E.x,p.y+C.y):new pg(p.x+C.x,E.y);var T=gg(P,p,E),A=bg(T),k=Math.sqrt(_g(E,P))/Math.cos(A)/Math.sqrt(_g(E,p));if(null==k)return t;var O=c.getCornerByIndex(I);c.width*=k,c.height*=k;var M=c.getCornerByIndex(I);c.centerX+=O.x-M.x,c.centerY+=O.y-M.y}return c},t.prototype.fillSnapData=function(t,e,n,r,i,o){if(this.clearSnapData(),null!=i.viewer.surface.printAreas.get(0)&&(this._snapData.defaultBounds=i.viewer.surface.printAreas.get(0).bounds,this._enabled&&null!=t)){var s=[],a=[],l=function(t,e){var n=null!=r?fg.intersect(t,r):t;n.isEmpty()||(s.push({position:n.left,type:e},{position:n.left+n.width/2,type:e},{position:n.right,type:e}),a.push({position:n.top,type:e},{position:n.top+n.height/2,type:e},{position:n.bottom,type:e}))},u=this._conf.snapElements;null!=r&&u.region.enabled&&l(r,YP.Region),null!=this._snapData.defaultBounds&&u.printArea.enabled&&l(this._snapData.defaultBounds,YP.PrintArea);var c=i.getAllItemHandlers({onlyVisible:!0,onlyUnlocked:!0,whiteListFilter:BC.isSafetyLineItemHandler,flatGroupItems:!0});(u.items.enabled||u.safetyLines.enabled)&&c.forEach((function(t){if(t.layer.getVisible())if(BC.isSafetyLineItemHandler(t)){if(!u.safetyLines.enabled)return;var e=t.controlPoints[0],n=t.controlPoints[1];s.push({position:e.x,type:YP.SafetyLines}),s.push({position:n.x,type:YP.SafetyLines}),a.push({position:e.y,type:YP.SafetyLines}),a.push({position:n.y,type:YP.SafetyLines})}else!i.isItemHandlerSelected(t)&&u.items.enabled&&l(t.bounds,YP.Items)}));var h=function(t,e){void 0===e&&(e=null);var n=t.sort((function(t,e){return t.position-e.position})),r=[];return n.forEach((function(t,n){var i=r.slice(-1)[0];0!==n&&xg(i.position,t.position,null!=e?e:.01)&&i.type===t.type||r.push(t)})),r},p=function(t,e){void 0===e&&(e=null);var n=t.sort((function(t,e){return t-e})),r=[];return n.forEach((function(t,n){0!==n&&xg(r.slice(-1)[0],t,null!=e?e:.01)||r.push(t)})),r};if(this._snapData.xAnchors=h(s),this._snapData.yAnchors=h(a),o.drag){var d=e.bounds;this._snapData.xPoints=[n.left,t.centerX,n.right],this._snapData.yPoints=[n.top,t.centerY,n.bottom];var f=this._getSnapLineTolerance(i,YP.Items);this._snapData.xPoints=p([d.left,n.left,e.centerX,t.centerX,n.right,d.right],f),this._snapData.yPoints=p([d.top,n.top,e.centerY,t.centerY,n.bottom,d.bottom],f)}}},t.prototype.clearSnapData=function(){this._snapData.xAnchors=[],this._snapData.yAnchors=[],this._snapData.activeXAnchorIndex=null,this._snapData.activeYAnchorIndex=null,this._snapData.xPoints=[],this._snapData.yPoints=[]},t.prototype._getSnapLineTolerance=function(t,e){return Math.abs(this._conf.snapElements[e.toString()].tolerance/t.zoom)},Object.defineProperty(t.prototype,"_getDefaultConf",{get:function(){var t={tolerance:5,color:"rgb(255,0,255)",enabled:!1,priority:0};return{snapElements:{items:BI({},t),printArea:BI({},t),safetyLines:BI({},t),region:BI({},t)}}},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"_enabled",{get:function(){var t=this._conf.snapElements;return t.items.enabled||t.printArea.enabled||t.region.enabled||t.safetyLines.enabled},enumerable:!0,configurable:!0}),t}();!function(t){t.Items="items",t.PrintArea="printArea",t.SafetyLines="safetyLines",t.Region="region"}(YP||(YP={})),function(t){t[t.Selection=0]="Selection",t[t.Create=1]="Create",t[t.SelectPixel=2]="SelectPixel"}(XP||(XP={}));var FI,zI=function(){function t(){this._isMouseDownFired=!1,this._isMouseMoveFired=!1,this._stateChanged=new og,this._currentState=FI.Initial,this._allowedTransitions=new Map([[FI.Initial,[FI.PointSelected,FI.RectangleSelectionStarted]],[FI.RectangleSelectionStarted,[FI.RectangleSelected,FI.RectangleSelectionChanged]],[FI.RectangleSelectionChanged,[FI.RectangleSelected,FI.RectangleSelectionChanged]],[FI.RectangleSelected,[FI.Initial]],[FI.PointSelected,[FI.Initial]]])}return t.prototype.processMouseEvent=function(t){var e=new pg(t.x,t.y);switch(t.type){case"dblclick":return this._changeState(FI.PointSelected,e);case"mousedown":this._onMouseDown();break;case"mousemove":this._onMouseMove(e);break;case"mouseup":this._onMouseUp(e)}},t.prototype.addStateChanged=function(t){this._stateChanged.add(t)},t.prototype.removeStateChanged=function(t){this._stateChanged.remove(t)},t.prototype._onMouseDown=function(){this._isMouseDownFired=!0},t.prototype._onMouseMove=function(t){return e=this,void 0,r=function(){return function(t,e){var n,r,i,o,s={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]};return o={next:a(0),throw:a(1),return:a(2)},"function"==typeof Symbol&&(o[Symbol.iterator]=function(){return this}),o;function a(o){return function(a){return function(o){if(n)throw new TypeError("Generator is already executing.");for(;s;)try{if(n=1,r&&(i=2&o[0]?r.return:o[0]?r.throw||((i=r.return)&&i.call(r),0):r.next)&&!(i=i.call(r,o[1])).done)return i;switch(r=0,i&&(o=[2&o[0],i.value]),o[0]){case 0:case 1:i=o;break;case 4:return s.label++,{value:o[1],done:!1};case 5:s.label++,r=o[1],o=[0];continue;case 7:o=s.ops.pop(),s.trys.pop();continue;default:if(!(i=(i=s.trys).length>0&&i[i.length-1])&&(6===o[0]||2===o[0])){s=0;continue}if(3===o[0]&&(!i||o[1]>i[0]&&o[1]<i[3])){s.label=o[1];break}if(6===o[0]&&s.label<i[1]){s.label=i[1],i=o;break}if(i&&s.label<i[2]){s.label=i[2],s.ops.push(o);break}i[2]&&s.ops.pop(),s.trys.pop();continue}o=e.call(t,s)}catch(a){o=[6,a],r=0}finally{n=i=0}if(5&o[0])throw o[1];return{value:o[0]?o[1]:void 0,done:!0}}([o,a])}}}(this,(function(e){return this._isMouseDownFired?this._isMouseMoveFired?(this._changeState(FI.RectangleSelectionChanged,t),[2]):(this._isMouseMoveFired=!0,this._changeState(FI.RectangleSelectionStarted,t),[2]):[2]}))},new((n=void 0)||(n=Promise))((function(t,i){function o(t){try{a(r.next(t))}catch(e){i(e)}}function s(t){try{a(r.throw(t))}catch(e){i(e)}}function a(e){var r;e.done?t(e.value):(r=e.value,r instanceof n?r:new n((function(t){t(r)}))).then(o,s)}a((r=r.apply(e,[])).next())}));var e,n,r},t.prototype._onMouseUp=function(t){this._changeState(this._isMouseMoveFired?FI.RectangleSelected:FI.PointSelected,t),this._isMouseDownFired=!1,this._isMouseMoveFired=!1,this._changeState(FI.Initial,t)},t.prototype._changeState=function(t,e){if(!this._allowedTransitions.get(this._currentState).includes(t))throw new Yf(this._currentState+" to "+t+" transition is restricted");this._currentState=t,this._stateChanged.notify({state:t,point:e})},t}();!function(t){t.Initial="Initial",t.PointSelected="PointSelected",t.RectangleSelectionStarted="RectangleSelectionStarted",t.RectangleSelectionChanged="RectangleSelectionChanged",t.RectangleSelected="RectangleSelected"}(FI||(FI={}));var LI=function(t,e,n,r){return new(n||(n=Promise))((function(i,o){function s(t){try{l(r.next(t))}catch(e){o(e)}}function a(t){try{l(r.throw(t))}catch(e){o(e)}}function l(t){var e;t.done?i(t.value):(e=t.value,e instanceof n?e:new n((function(t){t(e)}))).then(s,a)}l((r=r.apply(t,e||[])).next())}))},HI=function(t,e){var n,r,i,o,s={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]};return o={next:a(0),throw:a(1),return:a(2)},"function"==typeof Symbol&&(o[Symbol.iterator]=function(){return this}),o;function a(o){return function(a){return function(o){if(n)throw new TypeError("Generator is already executing.");for(;s;)try{if(n=1,r&&(i=2&o[0]?r.return:o[0]?r.throw||((i=r.return)&&i.call(r),0):r.next)&&!(i=i.call(r,o[1])).done)return i;switch(r=0,i&&(o=[2&o[0],i.value]),o[0]){case 0:case 1:i=o;break;case 4:return s.label++,{value:o[1],done:!1};case 5:s.label++,r=o[1],o=[0];continue;case 7:o=s.ops.pop(),s.trys.pop();continue;default:if(!(i=(i=s.trys).length>0&&i[i.length-1])&&(6===o[0]||2===o[0])){s=0;continue}if(3===o[0]&&(!i||o[1]>i[0]&&o[1]<i[3])){s.label=o[1];break}if(6===o[0]&&s.label<i[1]){s.label=i[1],i=o;break}if(i&&s.label<i[2]){s.label=i[2],s.ops.push(o);break}i[2]&&s.ops.pop(),s.trys.pop();continue}o=e.call(t,s)}catch(a){o=[6,a],r=0}finally{n=i=0}if(5&o[0])throw o[1];return{value:o[0]?o[1]:void 0,done:!0}}([o,a])}}},NI=function(){function t(t,e,n){var r=this;if(this._args=t,this._viewer=e,this._selection=n,this._onCompleted=new og,this._onStateChanged=function(t){switch(t.state){case FI.Initial:break;case FI.PointSelected:r._onPointSelectedState(t.point);break;case FI.RectangleSelectionStarted:r._startPoint=t.point,r._onRectangleSelectionStarted(t.point);break;case FI.RectangleSelectionChanged:r._endPoint=t.point,r._onRectangleSelectionChanged();break;case FI.RectangleSelected:r._endPoint=t.point,r._onRectangleSelected()}},null==this._args)throw new $f("CreateBehaviorHandler: Create Behavior args cannot be null");if(null==this._args.item)throw new $f("CreateBehaviorHandler: args.createdItem cannot be null!");var i=this._args.item;if(null!=i.selection||null!=i.click){if(null==i.click||null==i.selection)throw new $f("CreateBehaviorHandler: Point and Rectangle create args must be exist both or must be null");if(null==i.click.type||null==i.selection.type)throw new $f("CreateBehaviorHandler: Item type cannot be null")}else if(null==this._args.item.type)throw new $f("CreateBehaviorHandler: Item type cannot be null")}return t.prototype.init=function(){this._createBehaviorStateMachine=new zI,this._createBehaviorStateMachine.addStateChanged(this._onStateChanged),this._selection.lock(),this._viewer.setCursor(tw.cross,!0)},t.prototype.dispose=function(){this._createBehaviorStateMachine.removeStateChanged(this._onStateChanged)},t.prototype.processMouseEvent=function(t){return LI(this,void 0,void 0,(function(){return HI(this,(function(e){return this._currentMouseEvent=t,this._createBehaviorStateMachine.processMouseEvent(t),[2]}))}))},Object.defineProperty(t.prototype,"_selectAfterCreate",{get:function(){return null==this._args.selectAfterCreate||this._args.selectAfterCreate},enumerable:!0,configurable:!0}),t.prototype.addOnCompleted=function(t){this._onCompleted.add(t)},t.prototype.removeOnCompleted=function(t){this._onCompleted.remove(t)},t.prototype._onRectangleSelectionStarted=function(t){return LI(this,void 0,void 0,(function(){var e;return HI(this,(function(n){switch(n.label){case 0:return e=this._getCreateItemArgs(t,!0),this._selection.unlock(),e.type===wS.BoundedTextItem?[3,2]:[4,this._addItem(e)];case 1:return n.sent(),this._selection._operation={resize:!0,resizeIndex:3,arbitraryResize:!0,cornerArbitraryResize:!0,proportionalResize:!0,cornerProportionalResize:!0},[3,3];case 2:this._selection._operation={selection:!0},n.label=3;case 3:return this._selection.update(),this._selection.startTransform(t),[2]}}))}))},t.prototype._onRectangleSelectionChanged=function(){this._selection.processMouseEvent(this._currentMouseEvent),this._viewer.canvas.redrawDesign()},t.prototype._onRectangleSelected=function(){return LI(this,void 0,void 0,(function(){var t,e,n,r;return HI(this,(function(i){switch(i.label){case 0:return t=lg.clone(this._currentMouseEvent),null==this._itemAdded?[3,2]:[4,this._itemAdded.promise];case 1:i.sent(),i.label=2;case 2:return e=this._getCreateItemArgs(this._startPoint,!0).type===wS.BoundedTextItem,n=this._selectionRect,e?[4,this._viewer.commandManager.execute(NS.createItem,this._getCreateItemArgs(this._startPoint,!0))]:[3,6];case 3:return r=i.sent(),[4,this._viewer.commandManager.execute(HS.addItems,{items:[r]})];case 4:return i.sent(),[4,this._textWorkaround(n,r)];case 5:return i.sent(),[3,8];case 6:return[4,this._viewer.getHandler(this._item).waitUpdate()];case 7:i.sent(),i.label=8;case 8:return this._selection.processMouseEvent(t),this._onCompleted.notify(n),this._selectAfterCreate||this._selection.clearSelectedItemHandlers(),[2]}}))}))},t.prototype._onPointSelectedState=function(t){return LI(this,void 0,void 0,(function(){var e;return HI(this,(function(n){switch(n.label){case 0:return null==(e=this._getCreateItemArgs(t,!1))?[3,2]:[4,this._addItem(e)];case 1:n.sent(),n.label=2;case 2:return this._onCompleted.notify(t),this._selectAfterCreate||this._selection.clearSelectedItemHandlers(),[2]}}))}))},t.prototype._textWorkaround=function(t,e){return LI(this,void 0,void 0,(function(){var n;return HI(this,(function(r){switch(r.label){case 0:return[4,(n=this._viewer.getHandler(e)).waitUpdate()];case 1:return r.sent(),e.sourceRectangle=t,e.textRectangle=t,e.sourcePath=Eg.rectangle(t.left,t.top,t.width,t.height),e.transform=Ag.fromRectangleF(t).getTransform(Ag.fromRectangleF(e.sourceRectangle)),n.update(),[2]}}))}))},t.prototype._addItem=function(t){return LI(this,void 0,void 0,(function(){var e;return HI(this,(function(n){switch(n.label){case 0:return this._itemAdded=new Tw,[4,this._viewer.commandManager.execute(NS.createItem,t)];case 1:return e=n.sent(),this._item=e,[4,this._viewer.commandManager.execute(HS.addItems,{items:[e]})];case 2:return n.sent(),[4,this._viewer.canvas.waitUpdate()];case 3:return n.sent(),this._itemAdded.resolve(),[2]}}))}))},t.prototype._getCreateItemArgs=function(t,e){void 0===e&&(e=!1);var n=this._args.item;return this._getUpdatedArgs(null==n.click&&null==n.selection?this._args.item:e?n.selection:n.click,t,e)},t.prototype._getUpdatedArgs=function(t,e,n){void 0===n&&(n=!1);var r=Object.assign({},t);r.itemData=Object.assign({},t.itemData||{});var i=r.itemData;return null==i.location&&(i.location={}),i.location.x=e.x,i.location.y=e.y,n&&(i.width=1,i.height=1,i.location.originX=DC.Left,i.location.originY=DC.Top),r.relativeToPrintArea=!1,r},Object.defineProperty(t.prototype,"_selectionRect",{get:function(){return new fg(Math.min(this._startPoint.x,this._endPoint.x),Math.min(this._startPoint.y,this._endPoint.y),Math.abs(this._startPoint.x-this._endPoint.x),Math.abs(this._startPoint.y-this._endPoint.y))},enumerable:!0,configurable:!0}),t}();function WI(t){return null!=t&&"function"==typeof t.addOnCompleted&&"function"==typeof t.removeOnCompleted}var VI=function(){function t(t,e,n,r,i,o){this._canvas=t,this._selection=e,this._hoverHandler=n,this._viewer=r,this._rotateHandler=i,this._dndHandler=o,this._isMouseButtonPressed=!1,this._isSelectionProcessed=!1,this._isMouseDrag=!1}return t.prototype.init=function(){this._selection.unlock()},t.prototype.dispose=function(){},t.prototype.processMouseEvent=function(t){var e=new pg(t.x,t.y),n=this._canvas.getItemHandlersByHitTest(e),r=this._getHandlerForSelect(n,e,t),i=this._selection.hitTest(e,t.originalEvent.shiftKey);if(null!=this._canvas.textEditor&&!this._isMultiselection(t)&&1===this._selection.getSelectedItemHandlers().length&&!i.resize&&!i.rotate){var o=this._canvas.currentItemHandler,s=null!=r&&null!=o&&o.uniqueId===r.uniqueId;if(null!=o&&o instanceof iI&&o.inPlaceEditingEnabled&&o.processInPlaceEditingMouseEvent(t,s))return;if(null!=r&&r!=o&&r instanceof iI&&r.inPlaceEditingEnabled&&("mousedown"!==t.type&&"dblclick"!==t.type||this._processSelection(r,t),r.processInPlaceEditingMouseEvent(t,s)))return}var a=r instanceof SC&&this._placeholderButtonGroupHitTest(r,e),l=this._placeholderHandleButtonGroupHitTest(e),u=!!this._canvas.isShowFloatingItemToolbar()&&this._floatingItemToolbarHitTest(e),c=i.body||i.resize||i.rotate;!this._canvas.canvasItemHoverEnabled||i.resize||i.rotate||this._isMouseButtonPressed?this._canvas.hideHover():this._hoverHandler.processMouseEvent(t,r);var h=c||this._canvas.isResizing()||!this._canvas.violationWarningButtonsEnabled?null:this._canvas.violationWarningButtonHitTestObject(e),p=null!=h,d=this._canvas.contentUpdatingPlaceholderItemHandler,f=null!=this._viewer?this._viewer.whitespaceDiv:null;null!=f&&(f.style.pointerEvents=l||a?"none":"auto");var g=!1;if("mousedown"===t.type||"dblclick"===t.type){var m=this._canvas.contentEditingPlaceholderItemHandler;if(this._isSelectionProcessed=!1,null!=r){l||u||p||i.resize||i.rotate||this._canvas.currentItemHandler instanceof ix&&r.item.parentGroupItem===this._canvas.currentItemHandler.item||(this._processSelection(r,t),this._isSelectionProcessed=!0);var y=this._canvas.selectedPlaceholderItemHandler;!l||this._isMouseButtonPressed||null==y||this._canvas.autoPlaceholderEditModeEnabled?null==y||!this._canvas.autoPlaceholderEditModeEnabled||this._isMouseButtonPressed||y.editing||y.onHandleButtonMouseDown():y.showHandleButton()?y.onHandleButtonMouseDown():y.editing&&y.getPermissions(!0).showDoneButton&&y.onDoneButtonClick()}else c||u||p||!this._viewer.clearSelectionOnViewerClick||this._canvas.clearSelectedItemHandlers();null!=m&&c&&(m.setContentUpdating(!0),this._canvas.updatePlaceholderButtonGroups()),this._mouseDownTimeStamp=(new Date).getTime(),"dblclick"===t.type&&null!=this._canvas.currentItemHandler&&(this._viewer.selectedItems.length>1?null!=r&&(this._canvas.clearSelectedItemHandlers(),this._canvas.addSelectedItemHandler(r),r.dispatchDoubleClickEvent(t)):this._canvas.currentItemHandler.dispatchDoubleClickEvent(t)),"dblclick"!==t.type&&(this._isMouseButtonPressed=!0)}else if("mouseup"===t.type)null!=r&&!this._isMouseDrag&&!this._isSelectionProcessed&&this._canvas.currentItemHandler instanceof ix&&(g=!0),this._isMouseButtonPressed=!1,this._isMouseDrag=!1,null!=d&&d.onPlaceholderButtonMouseUp.apply(d),delete this._mouseDownTimeStamp,delete this._cursor,null!=this._rotateHandler.rotateDiv&&this._rotateHandler.removeRotateDiv(),this._viewer.selectedItems.length>0&&this._rotation(this._canvas.currentItemHandler,e,!0);else if("mousemove"===t.type){this._isMouseButtonPressed&&(this._isMouseDrag=!0);for(var v=this._canvas.getAllItemHandlers({onlyVisible:!0,onlyType:SC}),_=0;_<v.length;_++){var b=v[_],w=b.placeholderButtonGroup;this._canvas.isItemHandlerSelected(b)||null==w||(w.style.pointerEvents="none")}if(l||a)if(r instanceof SC&&null!=r.placeholderButtonGroup)r.placeholderButtonGroup.style.pointerEvents="auto";else{var C=this._canvas.selectedPlaceholderItemHandler;null!=C&&null!=C.placeholderButtonGroup&&(C.placeholderButtonGroup.style.pointerEvents="auto")}var x=this._canvas.selectedHandler;if(null!=x&&null!=x.floatingItemToolbar&&this._canvas.floatingItemToolbarEnabled&&(x.floatingItemToolbar.style.pointerEvents=i.rotate||i.resize?"none":"auto"),p&&(h.getViolationWarningButton().style.pointerEvents=i.rotate||i.resize?"none":"auto"),this._viewer.selectedItems.length>0&&this._isMouseButtonPressed&&this._rotation(x,e),null!=this._mouseDownTimeStamp&&(new Date).getTime()-this._mouseDownTimeStamp<this._canvas.mouseMoveTimeout)return}var S=this._cursor,P=null!=S;d=this._canvas.contentUpdatingPlaceholderItemHandler,null==S&&(i.resize||i.rotate||null==r||this._canvas.isItemHandlerSelected(r)||a?null==d||i.resize||i.rotate?S=a?tw.defaultCursor:this._selection.getCursor(e):(S=tw.move,P=!0):S=tw.pointer),this._viewer.setCursor(S,P),"mousemove"!==t.type&&(this._cursor="mousedown"===t.type?S:null),this._selection.processMouseEvent(t,g),g&&this._processSelection(r,t),(l||d||this._selection.isResizing())&&"mouseup"!==t.originalEvent.type||this._dndHandler.processMouseEvent(t),"mousemove"===t.type?(this._selection.isOperationNotNull()||null!=i.selection&&this._isMouseButtonPressed||this._dndHandler.isDragStarted())&&this._canvas.redrawDesign():"mouseup"===t.type&&this._canvas.redrawDesign()},t.prototype._getHandlerForSelect=function(t,e,n){var r=this;if(null!=t&&0!==t.length){var i=n.originalEvent.shiftKey||n.originalEvent.metaKey||n.originalEvent.ctrlKey,o=t.findIndex((function(t){return r._canvas.isItemHandlerSelected(t)})),s=t[0],a=this._canvas.contentEditingPlaceholderItemHandler;if(null!=a&&a.content.hitTest(e).body)return a;if(!(this._canvas.getSelectedItemHandlers().length>1&&this._selection.visibleRectangle.bounds.contains(e))||i||"dblclick"==n.type){if(t.some((function(t){return t instanceof ix}))&&this._canvas.getSelectedItemHandlers().length>0){var l=this._canvas.getSelectedItemHandlers().getItem(0),u=-1;if(l instanceof ix&&t.includes(l)?u=t.indexOf(l):null!=l.item.parentGroupItem&&t.includes(this._canvas.handlerFactory.get(l.item.parentGroupItem))&&(u=t.indexOf(this._canvas.handlerFactory.get(l.item.parentGroupItem))),u>-1&&null!=t[u+1]){var c=t[u+1].item,h=l.item;if(c.parentGroupItem===h||null!=c.parentGroupItem&&c.parentGroupItem===h.parentGroupItem)return t[u+1]}}return o>0&&!t[o].bounds.containsRectangle(s.bounds)&&!i?t[o]:s}}},t.prototype._placeholderButtonGroupHitTest=function(t,e){return!(null==this._viewer||null==this._canvas.parentElement||null==t||null==t.placeholderButtonGroup||t.getPermissions()&&!t.getPermissions().showSelectButton)&&this._getPlaceholderButtonGroupRect(t.placeholderButtonGroup).contains(e)},t.prototype._placeholderHandleButtonGroupHitTest=function(t){var e=this._canvas.selectedPlaceholderItemHandler;return null!=e&&null!=e.placeholderButtonGroup&&this._getPlaceholderButtonGroupRect(e.placeholderButtonGroup).contains(t)},t.prototype._floatingItemToolbarHitTest=function(t){if(null==this._viewer||null==this._canvas.parentElement||!this._canvas.floatingItemToolbarEnabled)return!1;var e=this._canvas.selectedHandler;return null!=e&&null!=e.floatingItemToolbar&&this._canvas.getButtonGroupRectInGripsDiv(e.floatingItemToolbar).contains(t)},t.prototype._isMultiselection=function(t){return t.originalEvent.ctrlKey||t.originalEvent.metaKey||t.originalEvent.shiftKey},t.prototype._processSelection=function(t,e){if(null!=t){var n=this._isMultiselection(e);this._canvas.isItemHandlerSelected(t)?n?this._canvas.removeSelectedItemHandler(t):this._selection.currentItemHandler=t:n&&this._canvas.getSelectedItemHandlers().toArray().every((function(e){return e.item.parentGroupItem===t.item.parentGroupItem}))?this._canvas.addSelectedItemHandler(t):this._canvas.setSelectedItemHandlers([t])}},t.prototype._rotation=function(t,e,n){var r=this,i=document.querySelectorAll("#resize-left-top, #resize-right-top, #resize-right-bottom, #resize-left-bottom, #rotate-circle, #resize-width-left, #resize-width-right, #resize-height-top, #resize-height-bottom"),o=this._viewer.contentAngle,s=null!=t&&this._canvas.isPlaceholder(t)?t:null,a=function(){i.forEach((function(t){r._buttonsShow(t)})),null!=s&&(null!=s.handleButton&&r._buttonsShow(s.handleButton),null!=s.selectButton&&r._buttonsShow(s.selectButton)),r._rotateHandler.removeRotateDiv()},l=this._viewer.element,u=this._rotateHandler.calculatePositionRotateDiv(o,Math.max(0,r._viewer.getParentPosition(r._canvas.parentElement.parentElement).left),Math.max(0,r._viewer.getParentPosition(r._canvas.parentElement.parentElement).top),e,this._canvas.parentElement.parentElement.offsetWidth,this._canvas.parentElement.parentElement.offsetHeight),c=l.scrollTop,h=l.scrollLeft,p=l.scrollWidth>l.clientWidth&&0==h||h>0,d=l.scrollHeight>l.clientHeight&&0==c||c>0,f=cg.IsTouchDevice()?0:17,g=this._viewer.height-(35+(p?f:0))+c,m=this._viewer.width-(58+(d?f:0))+h;u.y>g?u.y=g:u.y<c&&(u.y=c),u.x>m?u.x=m:u.x<h&&(u.x=h),this._selection.isRotating()?(i.forEach((function(t){r._buttonsHidden(t)})),null!=s&&(null!=s.handleButton&&this._buttonsHidden(s.handleButton),null!=s.selectButton&&this._buttonsHidden(s.selectButton)),null==this._rotateHandler.rotateDiv?this._rotateHandler.addRotateDiv(u.y,u.x):this._rotateHandler.updateRotatePositionDiv(u.y,u.x)):a(),n&&a(),this._canvas.updatePlaceholderButtonGroups()},t.prototype._getPlaceholderButtonGroupRect=function(t){var e=this._viewer.getParentPosition(this._canvas.parentElement.parentElement),n=new fg(t.offsetLeft+e.left,t.offsetTop+e.top,t.offsetWidth,t.offsetHeight),r=this._viewer.controlToWorkspaceRectangle(n),i=new fg(r.left,r.top,r.width,r.height);return Ag.fromRectangleF(i).bounds},t.prototype._buttonsHidden=function(t){t.classList.remove("buttonsShown"),t.classList.add("buttonsHidden")},t.prototype._buttonsShow=function(t){t.classList.remove("buttonsHidden"),t.classList.add("buttonsShown")},t}(),UI=function(){return(UI=Object.assign||function(t){for(var e,n=1,r=arguments.length;n<r;n++)for(var i in e=arguments[n])Object.prototype.hasOwnProperty.call(e,i)&&(t[i]=e[i]);return t}).apply(this,arguments)},qI=function(){function t(t,e,n){var r=this;this._canvas=t,this._canvasElementHandler=e,this._selection=n,this._mobileMode=cg.IsTouchDevice(),this._cursorSize=10,this._pixelRadius=this._mobileMode?6.5:8.5,this._zoom=10,this._lenseRadius=this._pixelRadius*this._zoom,this._textYPosition=130,this._textPadding={v:4,h:10},this._buttonsElementMargin=8,this._lenseCaptured=!1,this._onCompletedEvent=new ag,this._currentColorData=null,this._createButtonsElement=function(){var t=document.createElement("div");r._canvas.viewer.whitespaceDiv.appendChild(t),t.className="floating-btn-group btn-group color-select",t.style.position="absolute";var e=document.createElement("button");e.className="btn btn-default reject-button cc-icon-arrow-close",e.addEventListener("click",r._onReject),t.appendChild(e);var n=document.createElement("button");n.className="btn btn-default accept-button cc-icon-check-image",n.addEventListener("click",r._onAccept),t.appendChild(n),r._buttonsElement=t},this._onAccept=function(){r._onSelectPixelEnd(null!=r._currentColorData?bm.createColor(r._currentColorData,!1,!0):null)},this._onReject=function(){r._onSelectPixelEnd(null)},this._onSelectPixelEnd=function(t){r._onCompletedEvent.notify(r,t),r._canvas.viewer.eventManager.selectPixelFinished.notify(t),r._selection.unlock()},this._updateCreateButtonsPosition=function(){if(null!=r._buttonsElement){var t=parseFloat(r._canvasLensElement.style.left),e=parseFloat(r._canvasLensElement.style.top),n=parseFloat(r._canvasLensElement.style.height),i=parseFloat(r._canvasLensElement.style.height),o=r._buttonsElement.getBoundingClientRect();r._buttonsElement.style.left=t+n/2-o.width/2+"px";var s=e-o.height-r._buttonsElementMargin;e-o.height-r._buttonsElementMargin<=0&&(s=e+i+r._buttonsElementMargin),r._buttonsElement.style.top=s+"px"}},this._updateView=function(t){void 0===t&&(t=null);var e=t||r._currentPoint;r._updateLensImage(e),r._changePosition(e),r._mobileMode&&r._updateCreateButtonsPosition()},this._createLensCanvas=function(){var t=document.createElement("canvas");t.width=2*r._lenseRadius,t.height=2*r._lenseRadius,t.style.width=2*r._lenseRadius+"px",t.style.height=2*r._lenseRadius+"px",t.style.position="absolute",t.style.borderRadius=r._lenseRadius+"px",t.style.borderWidth="1px",t.style.borderColor="rgb(0,0,0,0.7)",t.style.borderStyle="solid",t.style.userSelect="none",t.tabIndex=-1,t.addEventListener("keydown",r._onKeyDown);var e=t.getContext("2d");return e.imageSmoothingEnabled=!1,e.imageSmoothingQuality="low",setTimeout((function(){return t.focus()})),t},this._onKeyDown=function(t){27===t.keyCode&&r._onReject()}}return t.prototype.init=function(){this._canvas.viewer.setCursor(tw.cross),this._selection.lock(!0),this._canvas.viewer.ignoreDocumentClickOnce(),this._mobileMode&&(this._canvasLensElement=this._createLensCanvas(),this._canvasElementHandler.addChild(this._canvasLensElement),this._createButtonsElement(),this._putLenseOnWhitespaceCenter(),this._canvas.viewer.add_onResize(this._updateView),this._canvasElementHandler.hideSelection())},t.prototype.addOnCompleted=function(t){this._onCompletedEvent.add(t)},t.prototype.removeOnCompleted=function(t){this._onCompletedEvent.remove(t)},t.prototype._putLenseOnWhitespaceCenter=function(){var t=this._canvas.viewer,e=t.whitespaceDiv,n=new pg(e.offsetWidth/2,e.offsetHeight/2),r=t.whitespaceToWorkspacePoint(n);this._currentPoint=r,this._updateView()},t.prototype.processMouseEvent=function(t){this._mobileMode?this._processMobileEvent(t):this._processDesktopEvent(t)},t.prototype._processDesktopEvent=function(t){var e=new pg(t.x,t.y);this._canvas.viewer.ignoreDocumentClickOnce(),"mousemove"===t.type?(null==this._canvasLensElement&&(this._canvasLensElement=this._createLensCanvas(),this._canvasElementHandler.addChild(this._canvasLensElement)),this._updateView(e)):"mouseup"===t.type&&(this._updateView(e),this._onAccept())},t.prototype._processMobileEvent=function(t){var e=new pg(t.x,t.y),n=this._canvas.viewer;if("mousemove"===t.type){if(!this._lenseCaptured)return;var r=new pg(this._currentPoint.x+e.x-this._capturedPoint.x,this._currentPoint.y+e.y-this._capturedPoint.y);this._updateView(r)}else if("mousedown"===t.type){var i=new pg(parseInt(this._canvasLensElement.style.left)+this._lenseRadius,parseInt(this._canvasLensElement.style.top)+this._lenseRadius),o=n.workspaceToWhiteSpacePoint(e);Math.sqrt(Math.pow(o.x-i.x,2)+Math.pow(o.y-i.y,2))<this._lenseRadius&&(this._lenseCaptured=!0,this._capturedPoint=e.clone())}else if("mouseup"===t.type){if(!this._lenseCaptured)return;this._lenseCaptured=!1,this._currentPoint=new pg(this._currentPoint.x+e.x-this._capturedPoint.x,this._currentPoint.y+e.y-this._capturedPoint.y),this._capturedPoint=null}this._lenseCaptured&&(t.originalEvent.preventDefault(),t.originalEvent.stopPropagation())},t.prototype._changePosition=function(t){var e=this._canvas.viewer,n=II.getRotatedPoint(e,t),r=e.workspaceToWhiteSpacePoint(n),i=2*this._lenseRadius,o=e.whitespaceDiv;this._mobileMode?(this._canvasLensElement.style.left=ZC(r.x,this._lenseRadius,o.offsetWidth-this._lenseRadius)-this._lenseRadius+"px",this._canvasLensElement.style.top=ZC(r.y,this._lenseRadius,o.offsetHeight-this._lenseRadius)-this._lenseRadius+"px"):(this._canvasLensElement.style.left=r.x+this._cursorSize+2*this._lenseRadius<o.offsetWidth?r.x+this._cursorSize+"px":r.x-this._cursorSize-i+"px",this._canvasLensElement.style.top=r.y+this._cursorSize+2*this._lenseRadius<o.offsetHeight?r.y+this._cursorSize+"px":r.y-this._cursorSize-i+"px")},t.prototype._updateLensImage=function(t){var e=this._canvas.viewer,n=2*this._pixelRadius,r=e.workspaceToContentPoint(t);r.x*=window.devicePixelRatio,r.y*=window.devicePixelRatio;var i=2*this._lenseRadius,o=new fg(r.x-Math.trunc(this._pixelRadius),r.y-Math.trunc(this._pixelRadius)+1,n,n),s=this._canvasElementHandler.surfaceCanvas.getContext("2d"),a=s.getImageData(o.left,o.top,o.width,o.height),l=Math.trunc(n/2),u=this._canvasLensElement.getContext("2d");Iw.clearCanvas(u);for(var c=a.data,h=new kg(n,n),p=0;p<c.length;p+=4){var d=p/4,f=Math.trunc(d/n),g=d%n,m=c[p+3]/255,y=255*(1-m),v={r:Math.min(Math.round(c[p]*m+y),255),g:Math.min(Math.round(c[p+1]*m+y),255),b:Math.min(Math.round(c[p+2]*m+y),255)};u.fillStyle="rgba("+v.r+","+v.g+","+v.b+")";var _=II.getRotatedPointFromSize(new pg(g,f),h,e.contentAngle);u.fillRect(_.x*this._zoom,_.y*this._zoom,this._zoom,this._zoom),l===f&&l===g&&(this._currentColorData=UI(UI({},v),{type:"RgbColor"}))}for(p=0;p<n;p++)Iw.drawLine(u,p*this._zoom,0,p*this._zoom,i,1,"black",.15),Iw.drawLine(u,0,p*this._zoom,i,p*this._zoom,1,"black",.15);if(s.globalAlpha=1,u.lineWidth=1,u.strokeStyle="#000",u.strokeRect(l*this._zoom,l*this._zoom,this._zoom,this._zoom),u.strokeStyle="#fff",u.strokeRect(l*this._zoom-1,l*this._zoom-1,this._zoom+2,this._zoom+2),this._canvas.viewer.surfaceHandler.getBounds(Pm.Total).contains(t,!0)){if(!this._mobileMode){var b=this._currentColorData,w="RGB: "+b.r+" "+b.g+" "+b.b,C=s.measureText(w).width;u.font="10px Roboto",u.fillStyle="black";var x=(i-C)/2;u.fillStyle="rgba(0, 0, 0, 0.7)",Iw.drawRoundedRectangle(u,new fg(x-this._textPadding.h,this._textYPosition-10,C+2*this._textPadding.h,20),10),u.fillStyle="white",u.fillText(w,x+2,this._textYPosition+3,i)}}else this._currentColorData=null},t.prototype.dispose=function(){this._canvas.viewer.setCursor(tw.defaultCursor),null!=this._buttonsElement&&(this._buttonsElement.querySelector(".accept-button").removeEventListener("click",this._onAccept),this._buttonsElement.querySelector(".accept-button").removeEventListener("touchend",this._onAccept),this._buttonsElement.querySelector(".reject-button").removeEventListener("click",this._onAccept),this._buttonsElement.querySelector(".reject-button").removeEventListener("touchend",this._onAccept),this._buttonsElement.remove()),null!=this._canvasLensElement&&(this._canvasLensElement.removeEventListener("keydown",this._onKeyDown),this._canvasLensElement.remove()),this._canvas.viewer.remove_onResize(this._updateView)},t}(),GI=function(){function t(t,e,n,r,i,o,s){var a=this;this._selection=t,this._viewer=e,this._canvas=n,this._hoverHandler=r,this._rotateHandler=i,this._dndHandler=o,this._canvasElementHandler=s,this._onMouseBehaviorComplete=function(t){a._viewer.eventManager.mouseBehaviorCreateFinishedEvent.notify(t),(null==a._currentOptions||null==a._currentOptions.resetToDefaultBehavior||a._currentOptions.resetToDefaultBehavior)&&a.setMouseBehavior(XP.Selection)}}return Object.defineProperty(t.prototype,"currentMouseBehaviorHandler",{get:function(){return this._currentMouseBehaviorHandler},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"currentMouseBehaviour",{get:function(){return this._currentMouseBehaviour},enumerable:!0,configurable:!0}),t.prototype.setMouseBehavior=function(t,e,n){switch(this._currentMouseBehaviour=t,this._currentOptions=n,null!=this._currentMouseBehaviorHandler&&(WI(this._currentMouseBehaviorHandler)&&this._currentMouseBehaviorHandler.removeOnCompleted(this._onMouseBehaviorComplete),this.currentMouseBehaviorHandler.dispose()),t){case XP.Selection:this._currentMouseBehaviorHandler=this._getSelectionModeHandler();break;case XP.Create:this._currentMouseBehaviorHandler=new NI(e,this._viewer,this._selection);break;case XP.SelectPixel:this._currentMouseBehaviorHandler=new qI(this._canvas,this._canvasElementHandler,this._selection)}this._currentMouseBehaviorHandler.init(),null!=this._currentMouseBehaviorHandler&&WI(this._currentMouseBehaviorHandler)&&this._currentMouseBehaviorHandler.addOnCompleted(this._onMouseBehaviorComplete),this._canvas.updateButtonGroups()},t.prototype._getSelectionModeHandler=function(){return this._selectionModeHandler||this._createSelectionHandler()},t.prototype._createSelectionHandler=function(){return this._selectionModeHandler=new VI(this._canvas,this._selection,this._hoverHandler,this._viewer,this._rotateHandler,this._dndHandler),this._selectionModeHandler},Object.defineProperty(t.prototype,"isSelectionMouseBehavior",{get:function(){return this._currentMouseBehaviorHandler===this._getSelectionModeHandler()},enumerable:!0,configurable:!0}),t.prototype.processMouseEvent=function(t){this._currentMouseBehaviorHandler.processMouseEvent(t)},t}(),YI=function(t){var e="function"==typeof Symbol&&Symbol.iterator,n=e&&t[e],r=0;if(n)return n.call(t);if(t&&"number"==typeof t.length)return{next:function(){return t&&r>=t.length&&(t=void 0),{value:t&&t[r++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")},XI=function(){function t(t,e){this._failedFonts=new Array,this._activeRequests=new Array,this._textWhizz=t,this._url=e+"/api/ccviewer/fonts",this._fontRegistry=new this._textWhizz.FontRegistry(72)}return Object.defineProperty(t.prototype,"textWhizzFontRegistry",{get:function(){return this._fontRegistry},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"ready",{get:function(){return null!=this._fontRegistry},enumerable:!0,configurable:!0}),t.prototype.createFont=function(t,e){return this._fontRegistry.createFont(this._normalizePsName(t),e)},t.prototype.containsFonts=function(t){var e,n;try{for(var r=YI(t),i=r.next();!i.done;i=r.next())if(!this._fontRegistry.contains(this._normalizePsName(i.value)))return!1}catch(o){e={error:o}}finally{try{i&&!i.done&&(n=r.return)&&n.call(r)}finally{if(e)throw e.error}}return!0},t.prototype.checkFailedFonts=function(t){var e,n;try{for(var r=YI(t),i=r.next();!i.done;i=r.next())if(this._failedFonts.includes(this._normalizePsName(i.value)))return!0}catch(o){e={error:o}}finally{try{i&&!i.done&&(n=r.return)&&n.call(r)}finally{if(e)throw e.error}}return!1},t.prototype.loadFonts=function(t){var e,n;if(this.containsFonts(t))return Promise.resolve();var r=new Array;try{for(var i=YI(t),o=i.next();!o.done;o=i.next())r.push(this._loadFont(this._normalizePsName(o.value)))}catch(s){e={error:s}}finally{try{o&&!o.done&&(n=i.return)&&n.call(i)}finally{if(e)throw e.error}}return Promise.all(r).then((function(){})).catch((function(){throw"Failed to load some fonts"}))},t.prototype.clear=function(){this._fontRegistry.clear(),this._failedFonts=new Array},t.prototype._loadFont=function(t){var e=this;if(this._failedFonts.includes(t))return Promise.reject(null);var n=this._activeRequests.find((function(e){return e.id===t}));if(null!=n)return n.promise;var r=Ww({type:Rw.get,url:this._url+"/"+t,responseType:"arraybuffer"}).then((function(t){var n=t.xhr.response;if(n){var r=new Uint8Array(n),i=r.length*r.BYTES_PER_ELEMENT,o=e._textWhizz._malloc(i),s=new Uint8Array(e._textWhizz.HEAPU8.buffer,o,i);s.set(new Uint8Array(r)),e._fontRegistry.add(s.byteOffset,s.length),e._textWhizz._free(o)}})).catch((function(){throw e._failedFonts.push(t),null})).finally((function(){e._activeRequests=e._activeRequests.filter((function(e){return e.id!==t}))}));return this._activeRequests.push({id:t,promise:r}),r},t.prototype._normalizePsName=function(t){return t.trim().toLowerCase()},t}(),$I=function(){var t=function(e,n){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(e,n)};return function(e,n){function r(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),QI=function(t){function e(e,n,r,i,o){var s=t.call(this,e,n,r,i,o)||this;return s._currentCanvas=null,s._needWorkaroundForIOs=!1,s._needWorkaroundForIOs=cg.IsIos(),s._setCurrentCanvas(s._staticCanvas),s}return $I(e,t),e.prototype._setCurrentCanvas=function(t){this._currentCanvas!=t&&(this._textWhizz.setCurrentContext("#"+t.id),this._textWhizz.clearContext(),this._currentCanvas=t,t==this._activeCanvas&&this._needWorkaroundForIOs&&(this._textWhizz.setCurrentContextSize(Math.ceil(t.width+1),Math.ceil(t.height+1)),this._needWorkaroundForIOs=!1)),this._textWhizz.setCurrentContextSize(Math.ceil(t.width),Math.ceil(t.height));var e=this._scale,n=this._textWhizz.Matrix.createScale(e,e);this._textWhizz.setContextTransform(n)},e.prototype._getTextTransform=function(t,e,n){var r=this._scale*n,i=this._textWhizz.Matrix.createIdentity();return e.scale(1/n,1/n),i.translate(-e.x,-e.y),i.scale(t.scaleX,t.scaleY),i.rotate(bg(t.angle)),i.translate(t.translateX/n,t.translateY/n),i.translate(e.x,e.y),i.translate(this._offset.x/n,this._offset.y/n),i.scale(r,r),i},e.prototype.drawText=function(t,e,n,r,i,o){var s=this._getTextTransform(e,n,r);try{if(this._activeCanvas.style.opacity=(null!=i?i:1).toString(),this._setCurrentCanvas(this._activeCanvas),this._textWhizz.clearContext(),this._textWhizz.setContextTransform(s),null!=o){var a=o.clone();a.transform(new Tg(1/r,1/r,0,0,0),new pg(0,0)),this._textWhizz.setClippingPaths(a.toTextWhizzPath(this._textWhizz))}else this._textWhizz.clearClippingPaths();this._textWhizz.addTextToContext(t)}catch(l){throw JP.createException(l,this._textWhizz)}},e.prototype.transformText=function(t,e,n,r,i,o){if(this._currentCanvas==this._activeCanvas){var s=this._getTextTransform(e,n,r);this._textWhizz.setContextTransform(s)}else this.drawText(t,e,n,r,i,o)},e.prototype.clearText=function(){this._setCurrentCanvas(this._activeCanvas),this._textWhizz.clearContext()},e.prototype.drawSelection=function(t,e,n,r,i){if(this._currentCanvas==this._activeCanvas)try{var o=e.getArea();this._textWhizz.clearContext();var s=e.getStart(),a=e.getEnd();(e.getStart().getLineIndex()>e.getEnd().getLineIndex()||e.getStart().getLineIndex()==e.getEnd().getLineIndex()&&e.getStart().getOffset()>e.getEnd().getOffset())&&(a=e.getStart(),s=e.getEnd());var l=this._colorToTextWhizz(this._selectionColor);this._textWhizz.addShapeToContext(o,l);var u=new this._textWhizz.TextRange(t.getFirstPosition(),s);this._textWhizz.addTextRangeToContext(t,u);var c=new this._textWhizz.TextRange(a,t.getLastPosition());this._textWhizz.addTextRangeToContext(t,c);var h=this._colorToTextWhizz(this._selectionTextColor);this._textWhizz.addColorTextRangeToContext(t,e,h)}catch(p){throw JP.createException(p,this._textWhizz)}},e.prototype.getTextImage=function(t,e,n){if(xg(0,e.width)||xg(0,e.height))return null;var r=this._scale,i=this._getScaledBounds(e);RI.setElementSize(this._staticCanvas,i.width,i.height);try{this._setCurrentCanvas(this._staticCanvas);var o=this._textWhizz.Matrix.createScale(n*r,n*r);o.translate(-i.left,-i.top),this._textWhizz.setContextTransform(o),this._textWhizz.clearContext(),this._textWhizz.addTextToContext(t)}catch(s){throw JP.createException(s,this._textWhizz)}try{return this._getBase64Url()}catch(s){return console.warn("Cannot get base64 image for text. Reason: "+s),null}},e}(lC),ZI=function(){var t=function(e,n){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(e,n)};return function(e,n){function r(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),KI=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return ZI(e,t),e.prototype.drawText=function(t,e,n,r,i,o){var s=this._getScaledContext(e,n,r);if(s.globalAlpha=null!=i?i:1,null!=o){var a=o.clone();a.transform(new Tg(1/r,1/r,0,0,0),new pg(0,0)),Iw.clipPath(s,a)}try{t.draw(s)}catch(l){throw JP.createException(l,this._textWhizz)}finally{s.restore()}},e.prototype.transformText=function(t,e,n,r,i,o){this.drawText(t,e,n,r,i,o)},e.prototype.clearText=function(){var t=this._activeCanvas.getContext("2d");t.clearRect(0,0,t.canvas.width,t.canvas.height)},e.prototype.drawSelection=function(t,e,n,r,i){var o=this._getScaledContext(n,r,i);try{e.getArea().addToContext(o),o.fillStyle=this._selectionColor.preview,o.fill(),t.draw(o);var s=this._colorToTextWhizz(this._selectionTextColor);e.draw(o,s)}catch(a){throw JP.createException(a,this._textWhizz)}finally{o.restore()}},e.prototype.getTextImage=function(t,e,n){if(xg(0,e.width)||xg(0,e.height))return null;var r=this._scale,i=this._getScaledBounds(e);RI.setElementSize(this._staticCanvas,i.width,i.height);var o=this._staticCanvas.getContext("2d");o.clearRect(0,0,o.canvas.width,o.canvas.height),o.save(),o.translate(-i.left,-i.top),o.scale(r*n,r*n);try{t.draw(o)}catch(s){throw JP.createException(s,this._textWhizz)}finally{o.restore()}try{return this._getBase64Url()}catch(s){return console.warn("Cannot get base64 image for text. Reason: "+s),null}},e.prototype._getScaledContext=function(t,e,n){var r=this._activeCanvas.getContext("2d");r.clearRect(0,0,r.canvas.width,r.canvas.height),r.save();var i=this._scale;r.scale(i,i),r.translate(this._offset.x,this._offset.y);var o=t.toMatrix();return r.translate(e.x,e.y),r.transform(o.m00,o.m10,o.m01,o.m11,o.m02,o.m12),r.translate(-e.x,-e.y),r.scale(n,n),r},e}(lC),JI=function(t,e,n,r){return new(n||(n=Promise))((function(i,o){function s(t){try{l(r.next(t))}catch(e){o(e)}}function a(t){try{l(r.throw(t))}catch(e){o(e)}}function l(t){var e;t.done?i(t.value):(e=t.value,e instanceof n?e:new n((function(t){t(e)}))).then(s,a)}l((r=r.apply(t,e||[])).next())}))},tE=function(t,e){var n,r,i,o,s={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]};return o={next:a(0),throw:a(1),return:a(2)},"function"==typeof Symbol&&(o[Symbol.iterator]=function(){return this}),o;function a(o){return function(a){return function(o){if(n)throw new TypeError("Generator is already executing.");for(;s;)try{if(n=1,r&&(i=2&o[0]?r.return:o[0]?r.throw||((i=r.return)&&i.call(r),0):r.next)&&!(i=i.call(r,o[1])).done)return i;switch(r=0,i&&(o=[2&o[0],i.value]),o[0]){case 0:case 1:i=o;break;case 4:return s.label++,{value:o[1],done:!1};case 5:s.label++,r=o[1],o=[0];continue;case 7:o=s.ops.pop(),s.trys.pop();continue;default:if(!(i=(i=s.trys).length>0&&i[i.length-1])&&(6===o[0]||2===o[0])){s=0;continue}if(3===o[0]&&(!i||o[1]>i[0]&&o[1]<i[3])){s.label=o[1];break}if(6===o[0]&&s.label<i[1]){s.label=i[1],i=o;break}if(i&&s.label<i[2]){s.label=i[2],s.ops.push(o);break}i[2]&&s.ops.pop(),s.trys.pop();continue}o=e.call(t,s)}catch(a){o=[6,a],r=0}finally{n=i=0}if(5&o[0])throw o[1];return{value:o[0]?o[1]:void 0,done:!0}}([o,a])}}},eE=function(t){var e="function"==typeof Symbol&&Symbol.iterator,n=e&&t[e],r=0;if(n)return n.call(t);if(t&&"number"==typeof t.length)return{next:function(){return t&&r>=t.length&&(t=void 0),{value:t&&t[r++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")},nE=function(t,e){var n="function"==typeof Symbol&&t[Symbol.iterator];if(!n)return t;var r,i,o=n.call(t),s=[];try{for(;(void 0===e||e-- >0)&&!(r=o.next()).done;)s.push(r.value)}catch(a){i={error:a}}finally{try{r&&!r.done&&(n=o.return)&&n.call(o)}finally{if(i)throw i.error}}return s},rE=function(){for(var t=[],e=0;e<arguments.length;e++)t=t.concat(nE(arguments[e]));return t},iE=function(){function t(t){var e=this;this._initialized=!1,this._zoomChangedEvent=new ag,this._workspaceSizeChangedEvent=new ag,this._beforeReplaceItemHandlerEvent=new og,this._afterReplaceItemHandlerEvent=new og,this._onSelectionLockedEvent=new og,this.canvasItemHoverEnabled=!1,this._simpleMode=!0,this.handlerFactory=new yI(this),this._throttleRedraw=lg.throttle(this._redraw,250),this._onBeforeReplaceItemHandler=function(t){e._beforeReplaceItemHandlerEvent.fire(t)},this._onAfterReplaceItemHandler=function(t){e._afterReplaceItemHandlerEvent.fire(t)},this._onItemRemoved=function(t){var n=t.item;if(n instanceof ty){var r=e.handlerFactory.get(n);e.isItemHandlerSelected(r)&&e.removeSelectedItemHandler(r),r.canvas=null,e.handlerFactory.delete(r)}},this._onContainersChanged=function(t){var n,r,i,o,s,a,l,u;try{for(var c=eE(t.removed),h=c.next();!h.done;h=c.next()){var p=h.value;try{for(var d=(i=void 0,eE(p.items)),f=d.next();!f.done;f=d.next())e._onItemRemoved({item:f.value})}catch(_){i={error:_}}finally{try{f&&!f.done&&(o=d.return)&&o.call(d)}finally{if(i)throw i.error}}}}catch(b){n={error:b}}finally{try{h&&!h.done&&(r=c.return)&&r.call(c)}finally{if(n)throw n.error}}e._updateLayers();try{for(var g=eE(t.added),m=g.next();!m.done;m=g.next())m.value.items.add_itemRemoved(e._onItemRemoved)}catch(w){s={error:w}}finally{try{m&&!m.done&&(a=g.return)&&a.call(g)}finally{if(s)throw s.error}}try{for(var y=eE(t.removed),v=y.next();!v.done;v=y.next())(p=v.value).items.remove_itemRemoved(e._onItemRemoved)}catch(C){l={error:C}}finally{try{v&&!v.done&&(u=y.return)&&u.call(y)}finally{if(l)throw l.error}}e.redraw()},this._updateLayers=function(){e.layers.clear(),e.layers.addRange(e._viewer.containersFlatList.map((function(t){return new AI(t,e)}))),e.disabledLayers=e.disabledLayers.map((function(t){return e.layers.toArray().find((function(e){return e.container.id===t.container.id}))})).filter((function(t){return void 0!==t})),e.maskedLayers=e.maskedLayers.map((function(t){return e.layers.toArray().find((function(e){return e.container.id===t.container.id}))})).filter((function(t){return void 0!==t})),e._layersUpdatedEvent.notify(e,{})},this._onServiceImageContainerLoaded=function(t){e.redraw()},this._fontRegistryUpdated=null,this._isRedrawPaused=!1,this._viewer=t,this._prevWorkspaceSize={width:0,height:0},this._snapLinesHandler=new jI,this._selection=new BC(this,this._snapLinesHandler),this._dndHandler=new PI(this,this.viewer),this._hoverHandler=new kI(this),this._rotateHandler=new II(this,this.viewer),this._canvasRenderer=new DI(this._selection,this._dndHandler,this),this._canvasElementHandler=new RI(this.viewer,this._selection,this._dndHandler,this._rotateHandler),this._mouseBehaviorManager=new GI(this._selection,this._viewer,this,this._hoverHandler,this._rotateHandler,this._dndHandler,this._canvasElementHandler),this.layers=new OC(this),this._disabledLayers=[],this._maskedLayers=[],this._workspaceWidth=72,this._workspaceHeight=72,this._zoom=1,this._targetDpi=null,this._hiddenFieldID="",this._parent=null,this._document=document,this._mouseMoveTimeout=100,this._disableSmoothing=!1,this._rotationGripSize=24,this._resizeGripSize=11,this._resizeGripColor="rgba(255,255,255,1)",this._rotationGripColor="rgba(0,0,255,0.2)",this._resizeGripLineColor="rgba(255,0,0,1)",this._rotationGripLineColor="rgba(112,112,112,1)",this._rotationGripLineLength=12,this._floatingItemToolbarEnabled=!1,this._violationWarningButtonsEnabled=!1,this._qualityChangeContainersEnabled=!0,this._floatingItemToolbarCssClass=null,this._violationContainerCssClass=null,this._placeholderButtonGroupCssClass=null,this._selectImageButtonCssClass=null,this._selectBarcodeButtonCssClass=null,this._doneButtonCssClass=null,this._handleButtonCssClass=null,this._deleteToolbarButtonCssClass=null,this._editToolbarButtonCssClass=null,this._selectToolbarButtonCssClass=null,this._bigButtonGroupCssClass=null,this._violationWarningButtonCssClass=null,this._goodViolationIconCssClass=null,this._warningViolationIconCssClass=null,this._violationBadIconCssClass=null,this._qualityChangeContainerCssClass=null,this._qualityChangeScaleBarCssClass=null,this._qualityBadToWarningChangeScaleBarCssClass=null,this._qualityWarningToGoodChangeScaleBarCssClass=null,this._qualityBadToGoodChangeScaleBarCssClass=null,this._qualityNoAnimationChangeScaleBarCssClass=null,this._qualityChangeInfoBarCssClass=null,this._selectButtonTitle="Select image",this._editBarcodeButtonTitle="Edit barcode",this._doneButtonTitle="Done",this._handleButtonTitle="Handle",this._deleteButtonTitle="Delete item",this._editButtonTitle="Edit item",this._backgroundImage=null,this._loadingImageUrl=null,this._marginColor="rgba(100,255,100,1)",this._marginWidth=0,this._leftMargin=18,this._rightMargin=18,this._topMargin=18,this._bottomMargin=18,this._maxFontSize=null,this._minFontSize=null,this._maxLeading=null,this._minLeading=null,this._constrainedMarginEnabled=!1,this._keyEventEnabled=!0,this._selectionColor="rgba(0,0,255,0.7)",this._selectionWidth=2,this._handlerUrl=null,this._suppressOutOfRegionManipulation=!0,this._initialization=!1,this._callback=null,this._status=Qb.ready,this._callbackContext=0,this._callbackCount=0,this._rgbColorProfileFileId=null,this._cmykColorProfileFileId=null,this._grayscaleColorProfileFileId=null,this._returnValue=null,this._tags={},this._ready=!1,this._serviceEndpoint=null,this._service=null,this._sendingRequestEvent=new ag,this._requestCompleteEvent=new ag,this._statusChangedEvent=new ag,this._callbackExceptionEvent=new ag,this._initializedEvent=new ag,this._invokingCallbackRequestEvent=new ag,this._currentItemHandlerChangedEvent=new og,this._selectedItemHandlersChangedEvent=new ag,this._dragNDropDoneEvent=new ag,this._dragNDropStartingEvent=new ag,this._dragNDropPerformedEvent=new ag,this._readyEvent=new ag,this._layersUpdatedEvent=new ag,this._floatingItemToolbarEnabled=!1,this._autoPlaceholderEditModeEnabled=!1,this.handlerFactory.beforeReplaceItemHandlerEvent.add(this._onBeforeReplaceItemHandler),this.handlerFactory.afterReplaceItemHandlerEvent.add(this._onAfterReplaceItemHandler),this._initContainersObservation()}return Object.defineProperty(t.prototype,"snapLinesHandler",{get:function(){return this._snapLinesHandler},enumerable:!0,configurable:!0}),t.prototype._initContainersObservation=function(){var t,e;this._updateLayers();try{for(var n=eE(this._viewer.containersFlatList),r=n.next();!r.done;r=n.next())r.value.items.add_itemRemoved(this._onItemRemoved)}catch(i){t={error:i}}finally{try{r&&!r.done&&(e=n.return)&&e.call(n)}finally{if(t)throw t.error}}this._viewer.containersFlatListChangedEvent.add(this._onContainersChanged)},t.prototype.setHistory=function(t){this._history=t,this._selection.history=t},Object.defineProperty(t.prototype,"mouseBehaviorManager",{get:function(){return this._mouseBehaviorManager},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"history",{get:function(){return this._history},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"dndHandler",{get:function(){return this._dndHandler},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"hiddenFieldID",{get:function(){return this._hiddenFieldID},set:function(t){this._hiddenFieldID=t},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"rgbColorProfileFileId",{get:function(){return this._rgbColorProfileFileId},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"cmykColorProfileFileId",{get:function(){return this._cmykColorProfileFileId},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"grayscaleColorProfileFileId",{get:function(){return this._grayscaleColorProfileFileId},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"serviceEndpoint",{get:function(){return this._serviceEndpoint},set:function(t){this._serviceEndpoint=t,this.service=t?new TC(t):null},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"service",{get:function(){return this._service},set:function(t){null!=this._service&&this._service.imageLoaderService.removeImageContainerLoaded(this._onServiceImageContainerLoaded),this._service=t,null!=this._service&&this._service.imageLoaderService.addImageContainerLoaded(this._onServiceImageContainerLoaded)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"viewer",{get:function(){return this._viewer},enumerable:!0,configurable:!0}),t.prototype.setTextWhizzModule=function(t,e){var n,r;this._textWhizz=t,this._setFontRegistry(new XI(this._textWhizz,e)),this.textEditor instanceof KP&&this.textEditor.setTextWhizz(this._textWhizz);var i=this._canvasElementHandler.staticTextCanvas,o=this._canvasElementHandler.activeTextCanvas,s=!cg.IsFirefox()&&this._textWhizz.isHardwareAccelerationAvailable("#"+i.id);s||console.warn("WebGL text rendering is not supported"),this._textRenderer=s?new QI(i,o,t,this.zoom,this.offset):new KI(i,o,t,this.zoom,this.offset);var a=this.getAllItemHandlers({flatGroupItems:!0});try{for(var l=eE(a),u=l.next();!u.done;u=l.next())u.value.onTextWhizzInit()}catch(c){n={error:c}}finally{try{u&&!u.done&&(r=l.return)&&r.call(l)}finally{if(n)throw n.error}}},Object.defineProperty(t.prototype,"textWhizz",{get:function(){return this._textWhizz},enumerable:!0,configurable:!0}),t.prototype._setFontRegistry=function(t){this._fontRegistry=t,null!=this._fontRegistryUpdated&&this._fontRegistryUpdated.resolve()},Object.defineProperty(t.prototype,"fontRegistry",{get:function(){return this._fontRegistry},enumerable:!0,configurable:!0}),t.prototype.waitFontRegistryInitialized=function(){return null!=this._fontRegistry?Promise.resolve():(null==this._fontRegistryUpdated&&(this._fontRegistryUpdated=new Tw),this._fontRegistryUpdated.promise)},Object.defineProperty(t.prototype,"textEditor",{get:function(){return this._textEditor},enumerable:!0,configurable:!0}),t.prototype.initTextEditor=function(t,e,n,r){var i;this._textEditor=t==uw.None?null:t==uw.Html||cg.IsTouchDevice()?new Ex(this._canvasElementHandler):new KP(this,this._canvasElementHandler),null===(i=this._textEditor)||void 0===i||i.init(e,n,r)},Object.defineProperty(t.prototype,"textRenderer",{get:function(){return this._textRenderer},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"simpleMode",{get:function(){return this._simpleMode},set:function(t){this._simpleMode=t,this.clearSelectedItemHandlers(),this.redraw()},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"offset",{get:function(){return this._offset},set:function(t){null!=t&&t.equals(this._offset)||null==t&&null!=this.offset||(this._offset=t,this._canvasRenderer.offset=t,this._canvasElementHandler.offset=t,this.redraw())},enumerable:!0,configurable:!0}),t.prototype.alignItemHandler=function(t,e){if(t&&!this.isLockedOrDisabled(t)&&!this._simpleMode){var n=t instanceof SC&&!("verticalCenter"===e||"horizontalCenter"===e),r=n?t.getBoundsIncludingFrames():t.bounds,i=t.rectangle,o=t.rectangle,s=t.layer.region,a=t.getPermissions();s?"left"===e?o.centerX=a.allowMoveHorizontal?s.left+r.width/2:o.centerX:"horizontalCenter"===e?o.centerX=a.allowMoveHorizontal?s.left+s.width/2:o.centerX:"right"===e?o.centerX=a.allowMoveHorizontal?s.left+s.width-r.width/2:o.centerX:"top"===e?o.centerY=a.allowMoveVertical?s.top+r.height/2:o.centerY:"verticalCenter"===e?o.centerY=a.allowMoveVertical?s.top+s.height/2:o.centerY:"bottom"===e&&(o.centerY=a.allowMoveVertical?s.top+s.height-r.height/2:o.centerY):"left"===e?o.centerX=a.allowMoveHorizontal?this.leftMargin+r.width/2:o.centerX:"horizontalCenter"===e?o.centerX=a.allowMoveHorizontal?this.leftMargin+(this.workspaceWidth-this.rightMargin-this.leftMargin)/2:o.centerX:"right"===e?o.centerX=a.allowMoveHorizontal?this.workspaceWidth-this.rightMargin-r.width/2:o.centerX:"top"===e?o.centerY=a.allowMoveVertical?this.topMargin+r.height/2:o.centerY:"verticalCenter"===e?o.centerY=a.allowMoveVertical?this.topMargin+(this.workspaceHeight-this.bottomMargin-this.topMargin)/2:o.centerY:"bottom"===e&&(o.centerY=a.allowMoveVertical?this.workspaceHeight-this.bottomMargin-r.height/2:o.centerY),n&&!this.isLockedOrDisabled(t)&&("bottom"!==e&&"top"!==e||!t.getPermissions().allowMoveVertical||(o.centerY-=r.top+r.height/2-i.centerY),"left"!==e&&"right"!==e||!t.getPermissions().allowMoveHorizontal||(o.centerX-=r.left+r.width/2-i.centerX)),t instanceof SC?(t.setRectangle(o,null,!0),t.updateContentAndFrames((function(t){var e=t.rectangle;e.centerX+=o.centerX-i.centerX,e.centerY+=o.centerY-i.centerY,t.setRectangle(e)}))):t instanceof mI?t.setRectangle(o,null,!0):t.setRectangle(o),this._selection.update(),this.redraw()}},t.prototype.alignItemHandlers=function(t){if(!this._simpleMode){var e=this.getSelectedItemHandlers();if(e.length>1){for(var n=this._selection.visibleRectangle,r=0;r<e.length;r++){var i=e.getItem(r);if(!this.isLockedOrDisabled(i)){var o=i.rectangle,s=i.rectangle,a=s.bounds;"left"===t?s.centerX=i.getPermissions().allowMoveHorizontal?n.location.x+a.width/2:s.centerX:"horizontalCenter"===t?s.centerX=i.getPermissions().allowMoveHorizontal?n.centerX:s.centerX:"right"===t?s.centerX=i.getPermissions().allowMoveHorizontal?n.getBottomRightCorner().x-a.width/2:s.centerX:"top"===t?s.centerY=i.getPermissions().allowMoveVertical?n.location.y+a.height/2:s.centerY:"verticalCenter"===t?s.centerY=i.getPermissions().allowMoveVertical?n.centerY:s.centerY:"bottom"===t&&(s.centerY=i.getPermissions().allowMoveVertical?n.getBottomRightCorner().y-a.height/2:s.centerY),i.setRectangle(s),i instanceof SC&&i.updateContentAndFrames((function(t){var e=t.rectangle;e.centerX+=s.centerX-o.centerX,e.centerY+=s.centerY-o.centerY,t.setRectangle(e)})),this._selection.update(),this.redraw()}}this.updateTexts()}}},Object.defineProperty(t.prototype,"handlerUrl",{get:function(){return this._handlerUrl},set:function(t){this._handlerUrl=t},enumerable:!0,configurable:!0}),t.prototype._deleteSelectedItemHandlersWithoutConfirm=function(){for(var t=!1,e=this.getSelectedItemHandlers().toArray(),n=0;n<e.length;n++){var r=e[n];this._canDeleteItemHandler(r)&&(r.item.parentContainer.items.remove(r.item),t=!0)}t&&(this.updateTexts(),this.updateSelection(),this.redraw())},t.prototype._canDeleteItemHandler=function(t){return!this.simpleMode&&null!=t&&null!=t.layer&&!this.isLockedOrDisabled(t)&&!t.layer.locked&&t.visible&&t.layer.getVisible()&&t.getPermissions()&&t.getPermissions().allowDelete},t.prototype.deleteSelectedItemHandlers=function(t){void 0===t&&(t=!1);for(var e=!1,n=this.getSelectedItemHandlers(),r=0;r<n.length;r++){var i=n.getItem(r);if(this._canDeleteItemHandler(i)){e=!0;break}}e&&this.viewer.commandManager.execute(NS.deleteItems,{items:n.toArray().map((function(t){return t.item})),force:t})},Object.defineProperty(t.prototype,"ready",{get:function(){return this._ready},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"tags",{get:function(){return this._tags},set:function(t){this._tags=t},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"width",{get:function(){return this._workspaceWidth*this._zoom*cg.screenDpi/72},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"height",{get:function(){return this._workspaceHeight*this._zoom*cg.screenDpi/72},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"keyEventEnabled",{get:function(){return this._keyEventEnabled},set:function(t){this._keyEventEnabled=t},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"marginColor",{get:function(){return this._marginColor},set:function(t){this._marginColor=t},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"marginWidth",{get:function(){return this._marginWidth},set:function(t){this._marginWidth=t},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"selectionColor",{get:function(){return this._selectionColor},set:function(t){this._selectionColor=t,this._updateGripsAndHoverDiv()},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"selectionWidth",{get:function(){return this._selectionWidth},set:function(t){this._selectionWidth=t,this._updateGripsAndHoverDiv()},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"margin",{get:function(){return Math.min(this._leftMargin,this._topMargin,this._rightMargin,this._bottomMargin)},set:function(t){this._leftMargin=t,this._rightMargin=t,this._topMargin=t,this._bottomMargin=t},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"leftMargin",{get:function(){return this._leftMargin},set:function(t){this._leftMargin!==t&&(this._leftMargin=t)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"rightMargin",{get:function(){return this._rightMargin},set:function(t){this._rightMargin!==t&&(this._rightMargin=t)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"topMargin",{get:function(){return this._topMargin},set:function(t){this._topMargin!==t&&(this._topMargin=t)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"bottomMargin",{get:function(){return this._bottomMargin},set:function(t){this._bottomMargin!==t&&(this._bottomMargin=t)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"constrainedMarginEnabled",{get:function(){return this._constrainedMarginEnabled},set:function(t){this._constrainedMarginEnabled=t},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"targetDpi",{get:function(){return this._targetDpi},set:function(t){this._targetDpi=t},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"suppressOutOfRegionManipulation",{get:function(){return this._suppressOutOfRegionManipulation},set:function(t){this._suppressOutOfRegionManipulation=t},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"floatingItemToolbarEnabled",{get:function(){return this._floatingItemToolbarEnabled},set:function(t){this._floatingItemToolbarEnabled=t,t?this._addFloatingItemToolbars():this._removeFloatingItemToolbars()},enumerable:!0,configurable:!0}),t.prototype.setViolationContainersEnabled=function(t,e){this._violationWarningButtonsEnabled=t,this._qualityChangeContainersEnabled=e,this._removeViolationContainers(),(t||e)&&this._addViolationContainers()},Object.defineProperty(t.prototype,"violationWarningButtonsEnabled",{get:function(){return this._violationWarningButtonsEnabled},set:function(t){this._violationWarningButtonsEnabled=t},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"qualityChangeContainersEnabled",{get:function(){return this._qualityChangeContainersEnabled},set:function(t){this._qualityChangeContainersEnabled=t},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"maxFontSize",{get:function(){return this._maxFontSize},set:function(t){this._maxFontSize=t},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"minFontSize",{get:function(){return this._minFontSize},set:function(t){this._minFontSize=t},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"maxLeading",{get:function(){return this._maxLeading},set:function(t){this._maxLeading=t},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"minLeading",{get:function(){return this._minLeading},set:function(t){this._minLeading=t},enumerable:!0,configurable:!0}),t.prototype.getCallService=function(t,e,n,r,i){void 0===i&&(i=null);var o=this,s=Zb.makeCancelable(new Promise((function(n,r){var s,a=[o.getData(!0,i)];null!=e&&(a=a.concat(e)),a=a.concat(n,(function(t,e,n){r({error:t,userContext:e,methodName:n})})),(s=o.service)[t].apply(s,rE(a))})));return s.promise.then((function(t){"function"==typeof n&&n(t)})).catch((function(t){t instanceof Yf?console.error("Exception of type "+t.name+": "+t.message):t.isCanceled||"function"==typeof r&&r(t.error)})),s},t.prototype.updateColors=function(t){var e,n,r,i,o,s=this;void 0===t&&(t=null);var a=null!=t?new Array(t):this.getAllItemHandlers({onlyVisible:!0}),l=new Array;try{for(var u=eE(a),c=u.next();!c.done;c=u.next()){var h=c.value;h.validateActiveColorWebServiceCall();var p=h.getColorData();p.isEmpty()||l.push(p)}}catch(y){e={error:y}}finally{try{c&&!c.done&&(n=u.return)&&n.call(u)}finally{if(e)throw e.error}}if(0===l.length)return Promise.resolve();var d=this.getCallService("UpdateByColorData",JSON.stringify(l),(function(t){var e,n,r=JSON.parse(t),i=function(t){var e=a.find((function(e){return e.item.id===t.id}));null!=e&&(e.setColorData(t),e.onSuccessResponse(nw.Color))};try{for(var o=eE(r),l=o.next();!l.done;l=o.next())i(l.value)}catch(u){e={error:u}}finally{try{l&&!l.done&&(n=o.return)&&n.call(o)}finally{if(e)throw e.error}}s.redraw()}),(function(t){var e,n;console.log(t);try{for(var r=eE(a),i=r.next();!i.done;i=r.next())i.value.onErrorResponse(t)}catch(o){e={error:o}}finally{try{i&&!i.done&&(n=r.return)&&n.call(r)}finally{if(e)throw e.error}}})),f=function(e){null===(o=a.find((function(t){return t.item.id===e.id})))||void 0===o||o.updateActiveColorWebServiceCall(d,null==t)};try{for(var g=eE(l),m=g.next();!m.done;m=g.next())f(m.value)}catch(v){r={error:v}}finally{try{m&&!m.done&&(i=g.return)&&i.call(g)}finally{if(r)throw r.error}}return d.promise},t.prototype.waitUpdate=function(t){void 0===t&&(t=null);var e=null!=t?t:this.getAllItemHandlers();return Promise.all(e.map((function(t){return t.waitUpdate()})))},Object.defineProperty(t.prototype,"status",{get:function(){return this._status},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"surfaceCanvas",{get:function(){return this._canvasElementHandler.surfaceCanvas},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"multipleSelectionEnabled",{get:function(){return this._selection.multipleSelectionEnabled},set:function(t){this._selection.multipleSelectionEnabled=t},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"mouseMoveTimeout",{get:function(){return this._mouseMoveTimeout},set:function(t){this._mouseMoveTimeout=t},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"disableSmoothing",{get:function(){return this._disableSmoothing},set:function(t){this._disableSmoothing=t},enumerable:!0,configurable:!0}),t.prototype.getAllItemHandlers=function(t){t=function(t){return null==t&&(t={}),lg.defaults(t,{excludeGroupItems:!1,flatGroupItems:!1,onlyVisible:!1,onlyUnlocked:!1,whiteListFilter:function(t){return!1}})}(t);var e=this;return this.layers.toArray().map((function(t){return t.itemHandlers.toArray()})).reduce((function(t,e){return t.concat(e)}),[]).reduce((function(e,n){return e.push(n),t.flatGroupItems&&n instanceof ix&&e.push.apply(e,rE(n.getNestedItemHandlers())),e}),[]).filter((function(n){if(t.whiteListFilter(n))return!0;var r=!0;return t.excludeGroupItems&&(r=r&&!(n instanceof ix)),t.onlyVisible&&r&&(r=(r=(r=r&&null!=n.layer&&n.layer.getVisible())&&n.visible)&&!n.getPermissions().noShow),t.onlyUnlocked&&r&&(r=!n.layer.locked&&!e.isLockedOrDisabled(n)),t.onlyType&&r&&(Array.isArray(t.onlyType)||(t.onlyType=[t.onlyType]),r=!1,t.onlyType.some((function(t){if(n instanceof t)return r=!0,!0}))),r}))},Object.defineProperty(t.prototype,"previewMode",{get:function(){var t,e;return null!==(e=null===(t=this._canvasRenderer)||void 0===t?void 0:t.previewMode)&&void 0!==e&&e},set:function(t){if(null==this._canvasRenderer)throw new Yf("CanvasRendere is not initialized!");this._canvasRenderer.previewMode=t,this.redraw()},enumerable:!0,configurable:!0}),t.prototype.flatGroupItemsInLayer=function(t){var e=t.itemHandlers.toArray();return new nm(e.reduce((function(t,e){return t.concat(e instanceof ix?rE([e],e.getNestedItemHandlers(!0)):e)}),[]))},t.prototype.updateTexts=function(t){void 0===t&&(t=null);for(var e=function(t){return t instanceof gC||t instanceof yC||t instanceof aI},n=e(t)?t.uniqueId:null,r=this.layers,i=0,o=r.length;i<o;i++){var s=r.getItem(i);if(s.getVisible())for(var a=this.flatGroupItemsInLayer(s),l=0,u=a.length;l<u;l++){var c=a.getItem(l);c.uniqueId!==n&&e(c)&&c.visible&&!c.getPermissions().noShow&&this._updateWrappingRectangles(c)}}},Object.defineProperty(t.prototype,"backgroundImage",{set:function(t){this._backgroundImage=t},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"isSquaredBackground",{get:function(){return this._isSquaredBackground},set:function(t){if(this._isSquaredBackground=t,this.isInitialized){var e="url("+this._backgroundImage+") repeat";this._isSquaredBackground||(e="transparent"),this.surfaceCanvas.style.background=e}},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"loadingImageUrl",{get:function(){return this._loadingImageUrl},set:function(t){"string"==typeof t&&this._loadingImageUrl!==t&&(this._loadingImageUrl=t,this._canvasRenderer.setLoadingImageUrl(t))},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"workspaceWidth",{get:function(){return this._workspaceWidth},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"workspaceHeight",{get:function(){return this._workspaceHeight},enumerable:!0,configurable:!0}),t.prototype.setWorkspaceSize=function(t,e,n){xg(this._workspaceWidth,t)&&xg(this._workspaceHeight,e)||(this._workspaceWidth=t,this._workspaceHeight=e,this._workspaceSizeChangedEvent.notify(this,n))},t.prototype.begin_initialization=function(){this._initialization=!0,this._prevWorkspaceSize={width:this._workspaceWidth,height:this._workspaceHeight},this.service.beginMultiCall()},t.prototype.end_initialization=function(t){void 0===t&&(t=!1),this._initialization=!1,(t||this._workspaceWidth!==this._prevWorkspaceSize.width||this._workspaceHeight!==this._prevWorkspaceSize.height)&&this._workspaceSizeChangedEvent.notify(this,{}),this.service.endMultiCall()},Object.defineProperty(t.prototype,"initialization",{get:function(){return this._initialization},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"rotationGripColor",{get:function(){return this._rotationGripColor},set:function(t){this._rotationGripColor=t,this._updateGripsAndHoverDiv()},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"resizeGripColor",{get:function(){return this._resizeGripColor},set:function(t){this._resizeGripColor=t,this._updateGripsAndHoverDiv()},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"rotationGripSize",{get:function(){return this._rotationGripSize},set:function(t){this._rotationGripSize=t,this._updateGripsAndHoverDiv()},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"resizeGripSize",{get:function(){return this._resizeGripSize},set:function(t){this._resizeGripSize=t,this._updateGripsAndHoverDiv()},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"resizeGripLineColor",{get:function(){return this._resizeGripLineColor},set:function(t){this._resizeGripLineColor=t,this._updateGripsAndHoverDiv()},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"rotationGripLineColor",{get:function(){return this._rotationGripLineColor},set:function(t){this._rotationGripLineColor=t,this._updateGripsAndHoverDiv()},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"rotationGripLineLength",{get:function(){return this._rotationGripLineLength},set:function(t){this._rotationGripLineLength=t,this._updateGripsAndHoverDiv()},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"placeholderButtonGroupCssClass",{get:function(){return this._placeholderButtonGroupCssClass},set:function(t){this._placeholderButtonGroupCssClass=t},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"floatingItemToolbarCssClass",{get:function(){return this._floatingItemToolbarCssClass},set:function(t){this._floatingItemToolbarCssClass=t},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"violationContainerCssClass",{get:function(){return this._violationContainerCssClass},set:function(t){this._violationContainerCssClass=t},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"selectImageButtonCssClass",{get:function(){return this._selectImageButtonCssClass},set:function(t){this._selectImageButtonCssClass=t},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"selectBarcodeButtonCssClass",{get:function(){return this._selectBarcodeButtonCssClass},set:function(t){this._selectBarcodeButtonCssClass=t},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"handleButtonCssClass",{get:function(){return this._handleButtonCssClass},set:function(t){this._handleButtonCssClass=t},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"doneButtonCssClass",{get:function(){return this._doneButtonCssClass},set:function(t){this._doneButtonCssClass=t},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"violationWarningButtonCssClass",{get:function(){return this._violationWarningButtonCssClass},set:function(t){this._violationWarningButtonCssClass=t},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"qualityChangeContainerCssClass",{get:function(){return this._qualityChangeContainerCssClass},set:function(t){this._qualityChangeContainerCssClass=t},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"qualityChangeScaleBarCssClass",{get:function(){return this._qualityChangeScaleBarCssClass},set:function(t){this._qualityChangeScaleBarCssClass=t},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"qualityBadToWarningChangeScaleBarCssClass",{get:function(){return this._qualityBadToWarningChangeScaleBarCssClass},set:function(t){this._qualityBadToWarningChangeScaleBarCssClass=t},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"qualityWarningToGoodChangeScaleBarCssClass",{get:function(){return this._qualityWarningToGoodChangeScaleBarCssClass},set:function(t){this._qualityWarningToGoodChangeScaleBarCssClass=t},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"qualityBadToGoodChangeScaleBarCssClass",{get:function(){return this._qualityBadToGoodChangeScaleBarCssClass},set:function(t){this._qualityBadToGoodChangeScaleBarCssClass=t},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"qualityNoAnimationChangeScaleBarCssClass",{get:function(){return this._qualityNoAnimationChangeScaleBarCssClass},set:function(t){this._qualityNoAnimationChangeScaleBarCssClass=t},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"qualityChangeInfoBarCssClass",{get:function(){return this._qualityChangeInfoBarCssClass},set:function(t){this._qualityChangeInfoBarCssClass=t},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"deleteToolbarButtonCssClass",{get:function(){return this._deleteToolbarButtonCssClass},set:function(t){this._deleteToolbarButtonCssClass=t},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"editToolbarButtonCssClass",{get:function(){return this._editToolbarButtonCssClass},set:function(t){this._editToolbarButtonCssClass=t},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"selectToolbarButtonCssClass",{get:function(){return this._selectToolbarButtonCssClass},set:function(t){this._selectToolbarButtonCssClass=t},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"bigButtonGroupCssClass",{get:function(){return this._bigButtonGroupCssClass},set:function(t){this._bigButtonGroupCssClass=t},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"goodViolationIconCssClass",{get:function(){return this._goodViolationIconCssClass},set:function(t){this._goodViolationIconCssClass=t},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"warningViolationIconCssClass",{get:function(){return this._warningViolationIconCssClass},set:function(t){this._warningViolationIconCssClass=t},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"badViolationIconCssClass",{get:function(){return this._violationBadIconCssClass},set:function(t){this._violationBadIconCssClass=t},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"selectButtonTitle",{get:function(){return this._selectButtonTitle},set:function(t){this.setSelectButtonTitle(t)},enumerable:!0,configurable:!0}),t.prototype.setSelectButtonTitle=function(t,e){return void 0===e&&(e=!1),this.selectButtonTitle!==(t=null!=t?t:"")&&(this._selectButtonTitle=t,e||this.updatePlaceholderButtonGroups(),!0)},Object.defineProperty(t.prototype,"editBarcodeButtonTitle",{get:function(){return this._editBarcodeButtonTitle},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"EditBarcodeButtonTitle",{set:function(t){this.setEditBarcodeButtonTitle(t)},enumerable:!0,configurable:!0}),t.prototype.setEditBarcodeButtonTitle=function(t,e){return void 0===e&&(e=!1),this.editBarcodeButtonTitle!==(t=null!=t?t:"")&&(this._editBarcodeButtonTitle=t,e||this.updatePlaceholderButtonGroups(),!0)},Object.defineProperty(t.prototype,"replaceGroupContentButtonTitle",{get:function(){return this._replaceGroupContentButtonTitle},set:function(t){this.setReplaceGroupContentButtonTitle(t)},enumerable:!0,configurable:!0}),t.prototype.setReplaceGroupContentButtonTitle=function(t,e){return void 0===e&&(e=!1),this.replaceGroupContentButtonTitle!==(t=null!=t?t:"")&&(this._replaceGroupContentButtonTitle=t,e||this.updatePlaceholderButtonGroups(),!0)},Object.defineProperty(t.prototype,"handleButtonTitle",{get:function(){return this._handleButtonTitle},set:function(t){this.setHandleButtonTitle(t)},enumerable:!0,configurable:!0}),t.prototype.setHandleButtonTitle=function(t,e){return void 0===e&&(e=!1),this.handleButtonTitle!==(t=null!=t?t:"")&&(this._handleButtonTitle=t,e||this.updatePlaceholderButtonGroups(),!0)},Object.defineProperty(t.prototype,"doneButtonTitle",{get:function(){return this._doneButtonTitle},set:function(t){this.setDoneButtonTitle(t)},enumerable:!0,configurable:!0}),t.prototype.setDoneButtonTitle=function(t,e){return void 0===e&&(e=!1),this.doneButtonTitle!==(t=null!=t?t:"")&&(this._doneButtonTitle=t,e||this.updatePlaceholderButtonGroups(),!0)},Object.defineProperty(t.prototype,"deleteButtonTitle",{get:function(){return this._deleteButtonTitle},set:function(t){this.setDeleteButtonTitle(t)},enumerable:!0,configurable:!0}),t.prototype.setDeleteButtonTitle=function(t,e){return void 0===e&&(e=!1),this.deleteButtonTitle!==(t=null!=t?t:"")&&(this._deleteButtonTitle=t,e||this.updatePlaceholderButtonGroups(),!0)},Object.defineProperty(t.prototype,"editButtonTitle",{get:function(){return this._editButtonTitle},set:function(t){this.setEditButtonTitle(t)},enumerable:!0,configurable:!0}),t.prototype.setEditButtonTitle=function(t,e){return void 0===e&&(e=!1),this.editButtonTitle!==(t=null!=t?t:"")&&(this._editButtonTitle=t,e||this.updatePlaceholderButtonGroups(),!0)},t.prototype.setZoom=function(t,e,n){var r;null==n&&(n={}),null==n.force&&(n.force=!1),null==n.updateButtonGroup&&(n.updateButtonGroup=!0),(t!==this._zoom||n.force)&&(this._zoom=t,null===(r=this._textRenderer)||void 0===r||r.setZoom(this._zoom),this._initialization||(this._updateCanvasElementSize(n.updateButtonGroup),e||this._zoomChangedEvent.notify(this,{})))},Object.defineProperty(t.prototype,"zoom",{get:function(){return this._zoom},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"autoPlaceholderEditModeEnabled",{get:function(){return this._autoPlaceholderEditModeEnabled},set:function(t){null!=t&&null!=t&&(this._autoPlaceholderEditModeEnabled=t)},enumerable:!0,configurable:!0}),t.prototype.calcPlatformLimitZoom=function(){var t=bv(this.workspaceWidth,cg.screenDpi),e=bv(this.workspaceHeight,cg.screenDpi),n=function(n){return Math.sqrt(n/(t*e))},r=function(n,r){return Math.min(n/t,r/e)};if(cg.IsIos()){var i=cg.GetIosVersion();return n("number"==typeof i[0]&&i[0]>=9&&"number"==typeof i[1]&&i[1]>=3?16e6:5e6)}return cg.IsIE()||cg.IsEdge()?r(8192,8192):cg.IsGoogleChrome()?Math.min(r(32767,32767),n(268435456)):cg.IsSafariOrSafariWebView()?Math.min(r(32767,32767)):cg.IsFirefox()?Math.min(r(32767,32767),n(472907776)):2147483647},t.prototype._updateCanvasElementSize=function(t){var e=this.width,n=this.height;this._canvasElementSize||(this._canvasElementSize={});var r=this._canvasElementSize;e===r.width&&n===r.height||(r.width=e,r.height=n,this._canvasElementHandler.updateElementSize(e,n)),(null==t||t)&&this.updateButtonGroups()},t.prototype.updateSelection=function(){if(this.getSelectedItemHandlers().where((function(t){return!t.isVisible()})).toArray().length>0&&this.getSelectedItemHandlers().where((function(t){return t.isVisible()})).toArray(),this._selection.update(),this._floatingItemToolbarEnabled){var t=this.getSelectedItemHandlers().where((function(t){return t.isVisible()})).firstOrDefault();null!=t&&null!=t.floatingItemToolbar&&this.isOnlyThisItemHandlerSelected(t)&&this.updateFloatingItemToolbar(t)}},t.prototype.getSelectedItemHandlers=function(){return this._selection.getSelectedItemHandlers()},t.prototype.setSelectedItemHandlers=function(t){this._selection.setSelectedItemHandlers(t)},t.prototype.isItemHandlerSelected=function(t){return this._selection.isItemHandlerSelected(t)},t.prototype.isOnlyThisItemHandlerSelected=function(t){return this._selection.isOnlyThisItemHandlerSelected(t)},t.prototype.addSelectedItemHandler=function(t){this._selection.addSelectedItemHandler(t)},t.prototype.removeSelectedItemHandler=function(t){this._selection.removeSelectedItemHandler(t)},t.prototype.clearSelectedItemHandlers=function(){this._selection.clearSelectedItemHandlers()},Object.defineProperty(t.prototype,"currentItemHandler",{get:function(){return this._selection.currentItemHandler},enumerable:!0,configurable:!0}),t.prototype._onDragNDropStarting=function(t){this._dragNDropStartingEvent.notify(this,t)},t.prototype._onDragNDropDone=function(){this._dragNDropDoneEvent.notify(this)},t.prototype._onDragNDropPerformed=function(t){this._dragNDropPerformedEvent.notify(this,t),this._currentItemHandlerChangedEvent.notify(this.currentItemHandler)},t.prototype.onCurrentItemHandlerChanged=function(t){this._mouseBehaviorManager.isSelectionMouseBehavior&&null==t&&this._viewer.setCursor(tw.defaultCursor),this._currentItemHandlerChangedEvent.notify(t)},t.prototype.onSelectionLocked=function(){this._onSelectionLockedEvent.notify(this)},t.prototype.enableSelection=function(){this._selection.enable()},t.prototype.disableSelection=function(){this._selection.disable()},t.prototype.isSelectionLocked=function(){return this._selection.isLocked},Object.defineProperty(t.prototype,"layers",{get:function(){return this._layers},set:function(t){this._layers=t},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"disabledLayers",{get:function(){return this._disabledLayers},set:function(t){this._disabledLayers=t},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"maskedLayers",{get:function(){return this._maskedLayers},set:function(t){this._maskedLayers=t},enumerable:!0,configurable:!0}),t.prototype.getData=function(t,e){void 0===t&&(t=!1),void 0===e&&(e=null);var n=new TI(this,t,e);return JSON.stringify(n)},Object.defineProperty(t.prototype,"returnValue",{get:function(){return this._returnValue},enumerable:!0,configurable:!0}),t.prototype.add_zoomChanged=function(t){this._zoomChangedEvent.add(t)},t.prototype.remove_zoomChanged=function(t){this._zoomChangedEvent.remove(t)},t.prototype.add_statusChanged=function(t){this._statusChangedEvent.add(t)},t.prototype.remove_statusChanged=function(t){this._statusChangedEvent.remove(t)},t.prototype.add_callbackException=function(t){this._callbackExceptionEvent.add(t)},t.prototype.remove_callbackException=function(t){this._callbackExceptionEvent.remove(t)},t.prototype.add_initialized=function(t){this._initializedEvent.add(t)},t.prototype.remove_initialized=function(t){this._initializedEvent.remove(t)},t.prototype.add_invokingCallbackRequest=function(t){this._invokingCallbackRequestEvent.add(t)},t.prototype.remove_invokingCallbackRequest=function(t){this._invokingCallbackRequestEvent.remove(t)},t.prototype.raiseMouseMove=function(t){this._onMouseMove(t)},t.prototype.raiseMouseUp=function(t){this._onMouseUp(t)},t.prototype.raiseMouseDown=function(t){this._onMouseDown(t)},t.prototype.raiseDoubleClick=function(t){this._onDoubleClick(t)},t.prototype.raiseKeyDown=function(t){this._keyEventEnabled&&this._onKeyDown(t)},t.prototype.raisePinch=function(t){this.currentItemHandler.editing&&(t.preventDefault(),t.gesture.preventDefault(),this._selection.processPinch(t),this.redrawDesign(),this.updateSelection())},t.prototype.raiseRelease=function(){var t=this.currentItemHandler;null!=t&&(t.update(),this.updateViolationContainer(t,!0))},t.prototype.raiseKeyUp=function(t){this._keyEventEnabled&&this._onKeyUp(t)},t.prototype.add_currentItemHandlerChanged=function(t){this._currentItemHandlerChangedEvent.add(t)},t.prototype.remove_currentItemHandlerChanged=function(t){this._currentItemHandlerChangedEvent.remove(t)},t.prototype.add_selectedItemHandlerChanged=function(t){this._selectedItemHandlersChangedEvent.add(t)},t.prototype.remove_selectedItemHandlerChanged=function(t){this._selectedItemHandlersChangedEvent.remove(t)},t.prototype.add_dragNDropDone=function(t){this._dragNDropDoneEvent.add(t)},t.prototype.remove_dragNDropDone=function(t){this._dragNDropDoneEvent.remove(t)},t.prototype.add_dragNDropStarting=function(t){this._dragNDropStartingEvent.add(t)},t.prototype.remove_dragNDropStarting=function(t){this._dragNDropStartingEvent.remove(t)},t.prototype.add_dragNDropPerformed=function(t){this._dragNDropPerformedEvent.add(t)},t.prototype.remove_dragNDropPerformed=function(t){this._dragNDropPerformedEvent.remove(t)},t.prototype.add_ready=function(t){this._readyEvent.add(t)},t.prototype.remove_ready=function(t){this._readyEvent.remove(t)},t.prototype.add_workspaceSizeChanged=function(t){this._workspaceSizeChangedEvent.add(t)},t.prototype.remove_workspaceSizeChanged=function(t){this._workspaceSizeChangedEvent.remove(t)},t.prototype.add_layersUpdated=function(t){this._layersUpdatedEvent.add(t)},t.prototype.remove_layersUpdated=function(t){this._layersUpdatedEvent.remove(t)},t.prototype.add_beforeReplaceItemHandler=function(t){this._beforeReplaceItemHandlerEvent.add(t)},t.prototype.remove_beforeReplaceItemHandler=function(t){this._beforeReplaceItemHandlerEvent.remove(t)},t.prototype.add_afterReplaceItemHandler=function(t){this._afterReplaceItemHandlerEvent.add(t)},t.prototype.remove_afterReplaceItemHandler=function(t){this._afterReplaceItemHandlerEvent.remove(t)},t.prototype.add_onSelectionLocked=function(t){this._onSelectionLockedEvent.add(t)},t.prototype.remove_onSelectionLocked=function(t){this._onSelectionLockedEvent.remove(t)},t.prototype.addElement=function(t){null!=this._viewer&&(this._removeElement(),this._parent=t,this._document=t.ownerDocument,this._document&&this._canvasElementHandler.addElement(this._parent,this._viewer.whitespaceDiv,this.width,this.height))},Object.defineProperty(t.prototype,"parentElement",{get:function(){return this._parent},enumerable:!0,configurable:!0}),t.prototype._removeElement=function(){this._canvasElementHandler.removeElement(),this._document=null},Object.defineProperty(t.prototype,"hoverDiv",{get:function(){return this._canvasElementHandler.hoverDiv},enumerable:!0,configurable:!0}),t.prototype.addStyles=function(){this._canvasElementHandler.addStyles()},t.prototype.updateHoverDiv=function(){this._canvasElementHandler.updateHoverDiv()},t.prototype.updateSelectionDiv=function(){this._canvasElementHandler.updateSelectionDiv()},t.prototype._updateGripsAndHoverDiv=function(){this._canvasElementHandler.updateSelectionDiv(),this._canvasElementHandler.updateParentSelectionDiv(),this._canvasElementHandler.updateHoverDiv()},t.prototype.showDnd=function(t,e){this._canvasElementHandler.showDnd(t,e,this._viewer.contentAngle)},t.prototype.hideDnd=function(){this._canvasElementHandler.hideDnd()},t.prototype.showSelection=function(t,e){this._canvasElementHandler.showSelection(t,e,this._viewer)},t.prototype.showParentSelection=function(t){this._canvasElementHandler.showParentSelection(t,this._viewer)},t.prototype.hideSelection=function(){this._canvasElementHandler.hideSelection()},t.prototype.showHover=function(t,e){this._canvasElementHandler.showHover(t,e,this._viewer)},t.prototype.updateHoverPosition=function(t,e){this._canvasElementHandler.updateHoverPosition(t,this._viewer,e)},t.prototype.hideHover=function(){this._canvasElementHandler.hideHover()},t.prototype.isPlaceholder=function(t){return t instanceof SC},t.prototype._isImage=function(t){return t instanceof oC},t.prototype._isGroup=function(t){return t instanceof ix},t.prototype._isImageOrPlaceholder=function(t){return this._isImage(t)||this.isPlaceholder(t)},t.prototype._addFloatingItemToolbars=function(){if(null!=this._viewer)for(var t=this.getAllItemHandlers(),e=0;e<t.length;e++)this.addFloatingItemToolbar(t[e])},t.prototype._removeFloatingItemToolbars=function(){if(null!=this._viewer)for(var t=this.getAllItemHandlers(),e=0;e<t.length;e++)this._canvasElementHandler.removeFloatingItemToolbar(t[e])},t.prototype._addViolationContainers=function(){if(null!=this._viewer)for(var t=this.getAllItemHandlers(),e=0;e<t.length;e++)this.addViolationContainer(t[e])},t.prototype._removeViolationContainers=function(){var t,e;if(null!=this._viewer){var n=this.getAllItemHandlers();try{for(var r=eE(n),i=r.next();!i.done;i=r.next()){var o=i.value;this.removeViolationContainer(o);var s=o.getViolationWarningButton();if(null!=s&&s.remove(),o instanceof oC||o instanceof SC){var a=void 0;null!=(a=o.qualityChangeContainer)&&a.remove()}}}catch(l){t={error:l}}finally{try{i&&!i.done&&(e=r.return)&&e.call(r)}finally{if(t)throw t.error}}}},t.prototype.addPlaceholderButtonGroup=function(t){this._canvasElementHandler.addPlaceholderButtonGroup(t,this._viewer)},t.prototype.addFloatingItemToolbar=function(t){this._canvasElementHandler.addFloatingItemToolbar(t,this._viewer)},t.prototype.addViolationContainer=function(t){this._canvasElementHandler.addViolationContainer(t,this._viewer)},t.prototype.removePlaceholderButtonGroup=function(t){this._canvasElementHandler.removePlaceholderButtonGroup(t)},t.prototype.removeFloatingItemToolbar=function(t){this._canvasElementHandler.removeFloatingItemToolbar(t)},t.prototype.removeViolationContainer=function(t){this._canvasElementHandler.removeViolationContainer(t)},t.prototype.updateButtonGroups=function(t){void 0===t&&(t={onlyVisible:!0,floatingItemToolbar:!0,violationContainers:!0,placeholderButtons:!0}),!0===t.floatingItemToolbar&&this.updateFloatingItemToolbars(t.onlyVisible),!0===t.violationContainers&&this.updateViolationContainers(!0,t.onlyVisible),!0===t.placeholderButtons&&this.updatePlaceholderButtonGroups(t.onlyVisible)},t.prototype.updateFloatingItemToolbars=function(t){if(this._floatingItemToolbarEnabled)for(var e=this.getAllItemHandlers({onlyVisible:t,flatGroupItems:!0}),n=0;n<e.length;n++)this.updateFloatingItemToolbar(e[n])},t.prototype.updateViolationContainers=function(t,e){if(void 0===t&&(t=!1),void 0===e&&(e=!1),this._violationWarningButtonsEnabled||this._qualityChangeContainersEnabled)for(var n=this.getAllItemHandlers({onlyVisible:e,flatGroupItems:!0}),r=0;r<n.length;r++)this.updateViolationContainer(n[r],t)},t.prototype.updatePlaceholderButtonGroups=function(t){void 0===t&&(t=!1);for(var e=this.getAllItemHandlers({onlyType:SC,onlyVisible:t,flatGroupItems:!0,excludeGroupItems:!0}),n=0;n<e.length;n++)this.updatePlaceholderButtonGroup(e[n])},t.prototype.updatePlaceholderButtonGroup=function(t){this._canvasElementHandler.updatePlaceholderButtonGroup(t,this._viewer)},t.prototype.updateViolationContainer=function(t,e){void 0===e&&(e=!1),this._canvasElementHandler.updateViolationContainer(t,e,this._viewer)},t.prototype.updateFloatingItemToolbar=function(t){this._canvasElementHandler.updateFloatingItemToolbar(t,this._viewer)},t.prototype.updatePlaceholderButtonGroupPosition=function(t){this._canvasElementHandler.updatePlaceholderButtonGroupPosition(t,this._viewer)},t.prototype.updateViolationContainerPosition=function(t){this._canvasElementHandler.updateViolationContainerPosition(t,this._viewer)},t.prototype.violationWarningButtonHitTestObject=function(t){if(null==this._viewer||null==this._parent||!this._violationWarningButtonsEnabled)return null;for(var e=this.getAllItemHandlers({onlyVisible:!0}).reduce((function(t,e){return rE(t,e instanceof ix?e.itemHandlers:[e])}),[]),n=0;n<e.length;n++){var r=e[n].getViolationWarningButton();if(null!=r&&this.getButtonGroupRectInGripsDiv(r).contains(t))return e[n]}return null},t.prototype.getButtonGroupRectInGripsDiv=function(t,e){void 0===e&&(e=!1);var n=this._viewer.element.getBoundingClientRect(),r=t.getBoundingClientRect(),i=new fg(r.left-n.left,r.top-n.top,t.offsetWidth,t.offsetHeight),o=this._viewer.controlToWorkspaceRectangle(i),s=new fg(o.left,o.top,o.width,o.height),a=Ag.fromRectangleF(s),l=this._viewer.contentAngle;return l>0&&!e&&(a.rotateAt(-l,new pg),90===l?a.translate(0,this.workspaceHeight):180===l?a.translate(this.workspaceWidth,this.workspaceHeight):270===l&&a.translate(this.workspaceWidth,0)),a.bounds},t.prototype.pauseRedraw=function(){this._isRedrawPaused=!0},t.prototype.continueRedraw=function(){this._isRedrawPaused=!1,this.redraw()},t.prototype.redraw=function(t){void 0===t&&(t=!1),t?this._redraw():this._throttleRedraw()},t.prototype._redraw=function(t){void 0===t&&(t=!0),!this.isInitialized||this.isUpdating||this._initialization||this._isRedrawPaused||(t&&this._canvasElementHandler.calculateRenderStateForItemHandlers(this.layers),this._canvasRenderer.redrawInactiveCanvas(this.layers,this._canvasElementHandler.surfaceCanvas,this._canvasElementHandler.inactiveCanvas),this._canvasRenderer.redrawActiveCanvas(this.layers,this._canvasElementHandler.activeCanvas,this._canvasElementHandler.designCanvas))},t.prototype.redrawDesign=function(){this._isRedrawPaused||this._canvasRenderer.redrawActiveCanvas(this.layers,this._canvasElementHandler.activeCanvas,this._canvasElementHandler.designCanvas)},t.prototype.drawWaitClock=function(t,e){this._canvasRenderer.drawWaitClock(t,e)},t.prototype.drawTextCursor=function(t){var e=this.currentItemHandler;null!=e?this._canvasRenderer.drawTextCursor(this._canvasElementHandler.cursorCanvas,e,t):console.warn("drawTextCursor: itemHandler is undefined")},t.prototype.clearTextCursor=function(){this._canvasRenderer.clearTextCursor(this._canvasElementHandler.cursorCanvas)},t.prototype.workspaceToControl=function(t){var e=t.clone(),n=cg.screenDpi/72*this.zoom;return e.scale(n,n),e.round()},t.prototype.controlToWorkspace=function(t){var e=t.clone(),n=72/(cg.screenDpi*this.zoom);return e.scale(n,n),e},t.prototype._onClick=function(t){if(t.type="click",null!=t.x&&null!=t.y){var e=t instanceof gw?t:new gw(t);this._processMouseEvent(e)}},t.prototype._onKeyDown=function(t){if("keydown"!==t.type)throw new Error("fix this!");this._processKeyEvent(t)},t.prototype._onKeyUp=function(t){if("keyup"!==t.type)throw new Error("fix this!");this._processKeyEvent(t)},t.prototype._isPrimaryPointer=function(t){var e=t.originalEvent;return e instanceof MouseEvent&&(null!=e.button||null!=e.which)?null!=e.button?0===e.button:1===e.which:e instanceof TouchEvent?1===e.touches.length||0===e.touches.length:e instanceof PointerEvent?e.isPrimary:t.which>0&&1===t.which},t.prototype._onMouseMove=function(t){if(t.type="mousemove",null!=t.x&&null!=t.y){var e=t instanceof gw?t:new gw(t);this._processMouseEvent(e)}},t.prototype._onMouseUp=function(t){if(t.type="mouseup",null!=t.x&&null!=t.y&&this._isPrimaryPointer(t)){var e=t instanceof gw?t:new gw(t);this._processMouseEvent(e)}},t.prototype._onMouseDown=function(t){if(t.type="mousedown",null!=t.x&&null!=t.y&&this._isPrimaryPointer(t)){var e=t instanceof gw?t:new gw(t);this._processMouseEvent(e)}},t.prototype._onDoubleClick=function(t){if(t.type="dblclick",null!=t.x&&null!=t.y){var e=t instanceof gw?t:new gw(t);this._processMouseEvent(e)}},t.prototype._processMouseEvent=function(t){this._mouseBehaviorManager.processMouseEvent(t)},t.prototype.isSelectionByHitTest=function(t){return this._selection.visibleRectangle.contains(t)},t.prototype.getItemHandlersByHitTest=function(t){for(var e=this,n=[],r=function(t){return t.visible&&!e.isLockedOrDisabled(t)&&!t.getPermissions().noShow&&!t.isEmpty()},i=this.layers.length-1;i>=0;i--){var o=this.layers.getItem(i);if(o.getVisible()&&!o.locked)for(var s=o.itemHandlers.length-1;s>=0;s--){var a=o.itemHandlers.getItem(s);r(a)&&a.hitTest(t).body&&(n.push(a),a instanceof ix&&a.item.groupItemPermissions.allowSelectNestedItems&&n.push.apply(n,rE(a.getNestedItemHandlers(!1,!0).filter((function(e){return!0===e.hitTest(t).body&&r(e)})))))}}return n},t.prototype._processKeyEvent=function(t){if("keydown"===t.type||"keyup"===t.type){if(null!=this.textEditor){var e=this.currentItemHandler;if(null!=e&&e instanceof iI&&e.editing&&e.processInPlaceEditingKeyEvent(t))return}if("keydown"===t.type&&"Delete"===t.code)this.deleteSelectedItemHandlers(!0);else if("keydown"===t.type&&(t.ctrlKey||t.metaKey))switch(t.code){case"KeyZ":this._history.undo();break;case"KeyY":this._history.redo()}else this._selection.processKeyEvent(t),this.redrawDesign()}},Object.defineProperty(t.prototype,"contentUpdatingPlaceholderItemHandler",{get:function(){var t=this.selectedPlaceholderItemHandler;return null!=t&&t.isContentUpdating()?t:null},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"contentEditingPlaceholderItemHandler",{get:function(){var t=this.selectedPlaceholderItemHandler;return null!=t&&t.editing?t:null},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"selectedPlaceholderItemHandler",{get:function(){var t=this.selectedHandler;return t instanceof SC?t:null},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"selectedHandler",{get:function(){var t=this.getSelectedItemHandlers();return 1===t.length?t.getItem(0):null},enumerable:!0,configurable:!0}),t.prototype.isShowFloatingItemToolbar=function(t){if(!this.mouseBehaviorManager.isSelectionMouseBehavior)return!1;var e=this.selectedHandler,n=!1,r=!1;return null!=t?(n=this.isOnlyThisItemHandlerSelected(t),r=this._autoPlaceholderEditModeEnabled&&this.isPlaceholder(t)):null!=e&&(n=this.isOnlyThisItemHandlerSelected(e),r=this._autoPlaceholderEditModeEnabled&&this.isPlaceholder(e)),null!=e&&n&&e.isVisible()&&!r&&this._floatingItemToolbarEnabled&&(e.showDeleteToolbarButton()&&!this.simpleMode||e.showEditToolbarButton()||(this._isImageOrPlaceholder(e)||this._isGroup(e))&&e.showSelectToolbarButton())&&!this._selection.isOperationNotNull()&&null==this.contentEditingPlaceholderItemHandler&&null==this.contentUpdatingPlaceholderItemHandler},t.prototype.isResizing=function(){return this._selection.isResizing()},Object.defineProperty(t.prototype,"isInitialized",{get:function(){return this._initialized},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"isUpdating",{get:function(){return!1},enumerable:!0,configurable:!0}),t.prototype.initialize=function(){var t=this;this.begin_initialization(),cg.IsTouchDevice()&&(this.rotationGripSize=24),this._onSelectedItemHandlersChangedDelegate=function(e){t.updateButtonGroups(),t._selection.update(),t._selectedItemHandlersChangedEvent.notify(null),t._canvasElementHandler.calculateRenderStateForItemHandlers(t.layers)&&t._redraw(!1)};var e=this.getSelectedItemHandlers();e.add_itemAdded(this._onSelectedItemHandlersChangedDelegate),e.add_itemRemoved(this._onSelectedItemHandlersChangedDelegate),this._onSelectedItemHandlersDeletingDelegate=this._deleteSelectedItemHandlersWithoutConfirm.bind(this),this._canvasRenderer.setLoadingImageUrl(this._loadingImageUrl),this._document=document,this.redraw(),this._initialized=!0,this._initializedEvent.notify(null),this._checkReady(),this.end_initialization()},t.prototype.checkReady=function(){this._ready=!1,this._checkReady()},t.prototype._checkReady=function(){var t=this;if(!this._ready){for(var e=this.layers,n=[],r=0,i=e.length;r<i;r++)for(var o=e.getItem(r).itemHandlers,s=0,a=o.length;s<a;s++){var l=o.getItem(s);l.ready||n.push(l)}if(0===n.length)this._ready=!0,this._readyEvent.notify(this);else{var u=function(e,r){for(var i=0,o=n.length;i<o;i++)if(n[i]==e){n[i].remove_ready(u),n.splice(i,1);break}0===n.length&&(t._ready=!0,t._readyEvent.notify(t))};for(r=0,i=n.length;r<i;r++)n[r].add_ready(u)}}},t.prototype._updateWrappingRectangles=function(t,e){return void 0===e&&(e=!1),JI(this,void 0,void 0,(function(){var n,r,i,o,s,a,l,u,c,h,p,d,f,g,m,y,v,_,b,w,C,x,S,P,I;return tE(this,(function(E){switch(E.label){case 0:return this.viewer.frontEndTextRenderingEnabled||!(t instanceof gC||t instanceof yC)?[3,2]:[4,this._updateWrappingRectanglesWithoutTextWhizz(t,e)];case 1:return E.sent(),[2];case 2:return!0===this._initialization||null==this.textWhizz?[2]:e&&t instanceof gC?(t.update(),[2]):(r=t.index,-1===(n=t.layer.index)||-1===r?[2]:t.isUpdating?[4,t.waitUpdate()]:[3,4]);case 3:E.sent(),E.label=4;case 4:return i=null,t instanceof gC||t instanceof aI?(i=t.getTextRectangle(),[3,9]):[3,5];case 5:return t instanceof yC?t.getControlBounds().equals(fg.FromLTRB(0,0,10,10))?(a=(s=Ag).fromRectangleF,[4,t.getBoundingPathsBounds()]):[3,7]:[3,9];case 6:return o=a.apply(s,[E.sent(),t.angle]),[3,8];case 7:o=t.rectangle,E.label=8;case 8:i=o,E.label=9;case 9:for(l=Eg.rotatedRectangle(i).toTextWhizzPath(this.textWhizz),u=[],h=n,p=(c=this.layers).length;h>-1&&h<p;h++)if((d=c.getItem(h)).getVisible())for(f=this.flatGroupItemsInLayer(d),g=0,m=f.length;g<m;g++)(y=f.getItem(g)).visible&&!y.getPermissions().noShow&&y.item.textWrappingMode!==Fm.None&&(y.index>r||d.index>n)&&(v=y.getTextWrappingPath(),this.textWhizz.Path.intersect(l,v.toTextWhizzPath(this.textWhizz)).isEmpty()||u.push(v));_=u.length>0?new Eg:null;try{for(b=eE(u),w=b.next();!w.done;w=b.next())_.addPath(w.value)}catch(T){P={error:T}}finally{try{w&&!w.done&&(I=b.return)&&I.call(b)}finally{if(P)throw P.error}}return x=!(C=t.lastRectangle)||!i.equals(C),t.lastRectangle=i,S=null==t.item.wrappingPath||!t.item.wrappingPath.isEqual(_),t.item.wrappingPath=_,!S&&(e||x&&u.length>0)&&t.update(),[2]}}))}))},t.prototype._updateWrappingRectanglesWithoutTextWhizz=function(t,e){return void 0===e&&(e=!1),JI(this,void 0,void 0,(function(){var n,r,i,o,s,a,l,u,c,h,p,d,f,g,m,y,v,_,b,w,C,x,S,P,I,E,T,A,k;return tE(this,(function(O){switch(O.label){case 0:return!0===this._initialization?[2]:e&&t instanceof gC?(t.update(),[2]):(r=t.index,-1===(n=t.layer.index)||-1===r?[2]:t.isUpdating?[4,t.waitUpdate()]:[3,2]);case 1:O.sent(),O.label=2;case 2:return i=null,t instanceof gC?(i=t.getTextRectangle(),[3,7]):[3,3];case 3:return t.getControlBounds().equals(fg.FromLTRB(0,0,10,10))?(a=(s=Ag).fromRectangleF,[4,t.getBoundingPathsBounds()]):[3,5];case 4:return o=a.apply(s,[O.sent(),t.angle]),[3,6];case 5:o=t.rectangle,O.label=6;case 6:i=o,O.label=7;case 7:for(l=[],c=n,h=(u=this.layers).length;c>-1&&c<h;c++)if((p=u.getItem(c)).getVisible())for(d=this.flatGroupItemsInLayer(p),f=0,g=d.length;f<g;f++)(m=d.getItem(f)).visible&&!m.getPermissions().noShow&&m.item.textWrappingMode!==Fm.None&&(m.index>r||p.index>n)&&(y=this._getItemHandlerWrappingRectangle(m),i.intersectsWith(y)&&l.push(y));v=l.length>0?new Eg:null;try{for(_=eE(l),b=_.next();!b.done;b=_.next())C=(w=b.value).getUpperLeftCorner(),x=w.getUpperRightCorner(),S=w.getBottomRightCorner(),P=w.getBottomLeftCorner(),v.moveTo(C.x,C.y),v.lineTo(x.x,x.y),v.lineTo(S.x,S.y),v.lineTo(P.x,P.y),v.lineTo(C.x,C.y),v.close()}catch(M){A={error:M}}finally{try{b&&!b.done&&(k=_.return)&&k.call(_)}finally{if(A)throw A.error}}return E=!(I=t.lastRectangle)||!i.equals(I),t.lastRectangle=i,T=null==t.item.wrappingPath||!t.item.wrappingPath.isEqual(v),t.item.wrappingPath=v,!T&&(e||E&&l.length>0)&&t.update(),[2]}}))}))},t.prototype._getItemHandlerWrappingRectangle=function(t){if(t instanceof gC){var e=Ag.fromRectangleF(t.item.textRectangle,0);switch(t.item.transform.isEmpty||e.transform(t.item.transform.clone(),e.center),t.item.textWrappingMode){case Fm.Square:return Ag.fromRectangleF(e.bounds);case Fm.Tight:default:return e}}else switch(t.item.textWrappingMode){case Fm.Square:return Ag.fromRectangleF(t.bounds);case Fm.Tight:default:return t.rectangle}},t.prototype.dispose=function(){var t=this.getSelectedItemHandlers();null!=this._onSelectedItemHandlersChangedDelegate&&(t.remove_itemAdded(this._onSelectedItemHandlersChangedDelegate),delete this._onSelectedItemHandlersChangedDelegate),null!=this._onSelectedItemHandlersChangedDelegate&&(t.remove_itemRemoved(this._onSelectedItemHandlersChangedDelegate),delete this._onSelectedItemHandlersDeletingDelegate),this.getAllItemHandlers({flatGroupItems:!0}).forEach((function(t){return t.dispose()}))},t.prototype.hitTestSelection=function(t,e,n,r){void 0===n&&(n=!1),void 0===r&&(r=null);var i=null==this._offset||this._offset.isOrigin()?e.clone():new pg(e.x-this._offset.x,e.y-this._offset.y),o={},s=new dg;0!==t.angle&&s.rotate(-t.angle),s.translate(-t.centerX,-t.centerY),i=s.transformPoint(i,!0);var a=t.width,l=t.height,u=this.mul,c=null!=r?Math.max(r/u,l):l,h=null!=r?Math.max(r/u,a):a;o.body=new fg(-h/2,-c/2,h,c).contains(i),o.resize=!1,o.resizeIndex=0;for(var p=(cg.IsTouchDevice()?33:this.resizeGripSize)/u,d=p/2,f=[null,new fg(-a/2-d,-l/2-d,p,p),new fg(a/2-d,-l/2-d,p,p),new fg(a/2-d,l/2-d,p,p),new fg(-a/2-d,l/2-d,p,p),new fg(-a/2-d,0-d,p,p),new fg(0-d,-l/2-d,p,p),new fg(a/2-d,0-d,p,p),new fg(0-d,l/2-d,p,p)],g=new Array(5,7),m=1,y=f.length;m<y;m++)if(f[m].contains(i)&&(!n||-1!==g.indexOf(m))){o.resize=!0,o.resizeIndex=m;break}l<0&&(l=-l),o.rotate=!1,o.rotateIndex=0;var v=i.x-0,_=i.y-(l/2+this.rotationGripSize/u+(p=this.rotationGripSize/2/u));return v*v+_*_<p*p&&(o.rotate=!0,o.rotateIndex=6),o},Object.defineProperty(t.prototype,"mul",{get:function(){return 96*this.zoom/72},enumerable:!0,configurable:!0}),t.prototype.isLockedOrDisabled=function(t){return null==t||t.isLocked()||this.disabledLayers.includes(t.layer)},t.prototype.onLayerTextureLoaded=function(){for(var t=0;t<this.layers.length;t++){var e=this.layers.getItem(t);if(!e.locked&&!e.isTextureLoadedOrNotExists())return}this.redraw()},t}(),oE=function(){function t(t,e){var n=this;this._productParser=new A_,this._watermarkCollectionChangedEvent=new ag,this._watermarkContainers=new nm,this._onSurfacePropertyChanged=function(t,e){switch(e){case"width":case"height":n._updateWatermark()}},this._watermarkConfig=t,this._service=e,this._clearWatermarkContainer()}return Object.defineProperty(t.prototype,"surface",{get:function(){return this._surface},set:function(t){this._surface!==t&&(null!=this._surface&&this.surface.removePropertyChanged(this._onSurfacePropertyChanged),this._surface=t,this._watermarkConfig=null!=this._surface&&null!=this._surface.parentProduct?this._surface.parentProduct.watermarkConfig:null,null!=this._surface&&this.surface.addPropertyChanged(this._onSurfacePropertyChanged),this._updateWatermark())},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"watermarkConfig",{get:function(){return this._watermarkConfig},set:function(t){this._watermarkConfig!==t&&(this._watermarkConfig=t,this._updateWatermark())},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"watermarkContainers",{get:function(){return null==this._watermarkContainers&&(this._watermarkContainers=new nm),this._watermarkContainers},enumerable:!0,configurable:!0}),t.prototype._setWatermarkContainers=function(t){this._watermarkContainers=t,this._watermarkCollectionChangedEvent.notify(this)},t.prototype.add_watermarkCollectionChanged=function(t){this._watermarkCollectionChangedEvent.add(t)},t.prototype.remove_watermarkCollectionChanged=function(t){this._watermarkCollectionChangedEvent.remove(t)},t.prototype._clearWatermarkContainer=function(){this._watermarkContainers=null},t.prototype._updateWatermark=function(){this._clearWatermarkContainer(),null!=this.surface&&0!==this.surface.width&&0!==this.surface.height&&null!=this.watermarkConfig&&null!=this.watermarkConfig.visibility&&!1!==this.watermarkConfig.visibility.canvas&&this._requestWatermarkItems()},t.prototype._requestWatermarkItems=function(){var t=this,e=Math.random();this._requestWatermarkItemsId=e,this._service.getWatermarkItemsAsync(this.surface.width,this.surface.height,this._watermarkConfig).then((function(n){try{if(e!==t._requestWatermarkItemsId)return;var r=new nm([t._productParser.parseContainer(n)]);t._setWatermarkContainers(r)}catch(i){throw i}})).catch((function(t){console.error("Error while updating watermark items.",t)}))},t}(),sE=function(){function t(t){this.text={fitToPathStep:1},Wg(this,[t=null!=t?t:{}],{deep:!0})}return t.prototype._getDefaultConfig=function(){return{stubImages:{barcode:{text:"Sample"}},variableItemsMaskSymbol:"%",messages:{delete:{enabled:!1,message:"The object is about to be deleted. Continue?"}}}},t}(),aE=function(t,e,n,r){return new(n||(n=Promise))((function(i,o){function s(t){try{l(r.next(t))}catch(e){o(e)}}function a(t){try{l(r.throw(t))}catch(e){o(e)}}function l(t){var e;t.done?i(t.value):(e=t.value,e instanceof n?e:new n((function(t){t(e)}))).then(s,a)}l((r=r.apply(t,e||[])).next())}))},lE=function(t,e){var n,r,i,o,s={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]};return o={next:a(0),throw:a(1),return:a(2)},"function"==typeof Symbol&&(o[Symbol.iterator]=function(){return this}),o;function a(o){return function(a){return function(o){if(n)throw new TypeError("Generator is already executing.");for(;s;)try{if(n=1,r&&(i=2&o[0]?r.return:o[0]?r.throw||((i=r.return)&&i.call(r),0):r.next)&&!(i=i.call(r,o[1])).done)return i;switch(r=0,i&&(o=[2&o[0],i.value]),o[0]){case 0:case 1:i=o;break;case 4:return s.label++,{value:o[1],done:!1};case 5:s.label++,r=o[1],o=[0];continue;case 7:o=s.ops.pop(),s.trys.pop();continue;default:if(!(i=(i=s.trys).length>0&&i[i.length-1])&&(6===o[0]||2===o[0])){s=0;continue}if(3===o[0]&&(!i||o[1]>i[0]&&o[1]<i[3])){s.label=o[1];break}if(6===o[0]&&s.label<i[1]){s.label=i[1],i=o;break}if(i&&s.label<i[2]){s.label=i[2],s.ops.push(o);break}i[2]&&s.ops.pop(),s.trys.pop();continue}o=e.call(t,s)}catch(a){o=[6,a],r=0}finally{n=i=0}if(5&o[0])throw o[1];return{value:o[0]?o[1]:void 0,done:!0}}([o,a])}}},uE=function(){function t(t,e){var n=this;this._viewer=t,this._backendUrl=e,this._viewer.add_onResize((function(){n._updatePosition(),null!=n._expireLicenseMessageElement&&n._updateHeightExpireLicenseMessage()}))}return t.prototype.checkLicense=function(){return aE(this,void 0,void 0,(function(){var t,e;return lE(this,(function(n){switch(n.label){case 0:return null!=this._license?[3,2]:(t=this,[4,this._getLicense()]);case 1:t._license=n.sent(),n.label=2;case 2:return this._license.isEnterprise&&!this._license.isTrial?(this._getLeftDays()<=30&&(this._expireLicenseMessageElement=this._createExpireLicenseMessage(),(e=document.getElementById("aspnetForm").parentElement).insertBefore(this._expireLicenseMessageElement,e.childNodes[0]),this._updateHeightExpireLicenseMessage()),[2]):this._isFullLicense()?[2]:(this._watermarkElement=this._createElement(),this._viewer.element.parentElement.appendChild(this._watermarkElement),this._updatePosition(),[2])}}))}))},t.prototype._updatePosition=function(){if(null!=this._watermarkElement){var e=this._viewer.element.clientHeight-this._watermarkElement.clientHeight-t._margin;this._watermarkElement.style.left=this._viewer.element.clientWidth-this._watermarkElement.clientWidth-t._margin+"px",this._watermarkElement.style.top=e+"px"}},t.prototype._isFullLicense=function(){return!this._license.isTrial&&!this._license.isDeveloper},t.prototype._createExpireLicenseMessage=function(){var t=document.createElement("div");t.style.background="rgba(244, 67, 54, 0.1)";var e=document.createElement("p");return e.style.color="#F44336",e.style.fontSize="14px",e.style.margin="0",e.style.lineHeight="20px",e.style.padding="8px 16px",e.textContent="The license expires soon. It won't affect your current design, but please contact the website administrator or customer service department and let them know that you see this message.",t.appendChild(e),t},t.prototype._updateHeightExpireLicenseMessage=function(){var t=this._expireLicenseMessageElement;if(null!=t){var e=t.clientHeight;document.getElementById("aspnetForm").style.height="calc(100% - "+e+"px)",t.style.textAlign=e>36?"left":"center"}},t.prototype._createElement=function(){var t=document.createElement("div");t.id="cvLicenseWatermark",t.style.width="auto",t.style.height="auto",t.style.whiteSpace="nowrap",t.style.position="absolute",t.style.borderRadius="4px",t.style.backgroundColor="rgba(255, 255, 255, 0.5)",t.style.zIndex="1",t.style.pointerEvents="none";var e=document.createElement("div");e.style.padding="8px",e.style.display="flex",e.style.flexDirection="column";var n=document.createElement("span");n.style.fontFamily="Roboto",n.style.fontStyle="normal",n.style.fontWeight="500",n.style.fontSize="14px",n.style.lineHeight="15px",n.style.color="#333333";var r=document.createElement("span");r.style.fontFamily="Roboto",r.style.fontStyle="normal",r.style.fontSize="12px",r.style.lineHeight="18px",r.style.color="#333333",n.textContent="This is a "+this._getLicenseType()+" edition";var i=this._license.expirationDate.toLocaleDateString("en-US",{year:"numeric",month:"long",day:"numeric"});return r.textContent="Expires on "+i+" ("+this._getLeftDays()+" days left)",e.appendChild(n),e.appendChild(r),t.appendChild(e),t},t.prototype._getLicenseType=function(){return this._license.isTrial?"Trial":this._license.isDeveloper?"Developer":""},t.prototype._getLeftDays=function(){var t=Math.max(0,this._license.expirationDate.getTime()-Date.now());return Math.ceil(t/864e5)},t.prototype._getLicense=function(){return aE(this,void 0,void 0,(function(){var t,e;return lE(this,(function(n){switch(n.label){case 0:return[4,(r=Bg(this._backendUrl,"license"),Ww({url:r,type:Rw.get,headers:[Dw.json]}))];case 1:if((t=n.sent()).status!==Mw.Ok)throw new Kf("Cannot get license from server");return e=JSON.parse(t.value),[2,Vg(new cE,{isDeveloper:e.isDeveloper,isTrial:e.isTrial,isDesktopOnly:e.isDesktopOnly,isEnterprise:e.isEnterprise,expirationDate:new Date(e.expirationDate)})]}var r}))}))},t._margin=12,t}(),cE=function(){},hE=function(t){var e="function"==typeof Symbol&&Symbol.iterator,n=e&&t[e],r=0;if(n)return n.call(t);if(t&&"number"==typeof t.length)return{next:function(){return t&&r>=t.length&&(t=void 0),{value:t&&t[r++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")},pE=function(t,e){var n="function"==typeof Symbol&&t[Symbol.iterator];if(!n)return t;var r,i,o=n.call(t),s=[];try{for(;(void 0===e||e-- >0)&&!(r=o.next()).done;)s.push(r.value)}catch(a){i={error:a}}finally{try{r&&!r.done&&(n=o.return)&&n.call(o)}finally{if(i)throw i.error}}return s},dE=function(){for(var t=[],e=0;e<arguments.length;e++)t=t.concat(pE(arguments[e]));return t},fE=function(){function t(t,e){var n=this;this._product=t,this._viewer=e,this._notifyContainerCollectionChanged=function(){return n._containerCollectionChangedEvent.notify()},this._notifySurfaceCollectionChanged=function(){return n._surfaceCollectionChangedEvent.notify()},this._notifyPrintAreaCollectionChanged=function(){return n._printAreaCollectionChangedEvent.notify()},this._notifyItemCollectionChanged=function(){return n._itemCollectionChangedEvent.notify()},this._notifyItemAdded=function(t){return n._itemAddedEvent.notify(t)},this._notifyItemRemoved=function(t){return n._itemRemovedEvent.notify(t)},this._notifyItemMoved=function(t){return n._itemMovedEvent.notify(t)},this._notifyUnderMockupCollectionChanged=function(){return n._underMockupContainerCollectionChangedEvent.notify()},this._notifyOverMockupCollectionChanged=function(){return n._overMockupContainerCollectionChangedEvent.notify()},this._notifyPreviewMockupCollectionChanged=function(){return n._previewMockupContainerCollectionChangedEvent.notify()},this._notifyPrintAreaPropertyChanged=function(t,e){return n._printAreaPropertyChangedEvent.notify(t,e)},this._notifyItemPropertyChanged=function(t,e){return n._itemPropertyChangedEvent.notify(t.item,e)},this._notifyItemChanged=function(t){return n._itemChangedEvent.notify(t.item)},this._notifyDeleteToolbarButtonClick=function(t){return n._deleteToolbarButtonClickEvent.notify(t.item)},this._notifySelectToolbarButtonClick=function(t){return n._selectToolbarButtonClickEvent.notify(t.item)},this._notifyEditToolbarButtonClick=function(t){return n._editToolbarButtonClickEvent.notify(t.item)},this._notifySelectButtonClick=function(t){return n._selectButtonClickEvent.notify(t.item)},this._notifyViolationWarningButtonClick=function(t){return n._violationWarningButtonClickEvent.notify(t.item)},this._notifyDoubleClick=function(t,e){return n._doubleClickEvent.notify(t.item)},this._notifyShapePathLoaded=function(){return n._shapePathLoadedEvent.notify()},this._notifyCurrentItemChanged=function(t){return n._currentItemChangedEvent.notify(null!=t?t.item:null)},this._notifySelectedItemChanged=function(){return n._selectedItemChangedEvent.notify(n._viewer.selectedItems)},this._notifyDragNDropDone=function(t){return n._dragNDropDoneEvent.notify(t)},this._notifyDragNDropStarting=function(t){return n._dragNDropStartingEvent.notify(t)},this._notifyDragNDropPerformed=function(t){return n._dragNDropPerformedEvent.notify(t)},this._notifyReady=function(){return n._readyEvent.notify()},this._notifyWorkspaceSizeChanged=function(){return n._workspaceSizeChangedEvent.notify()},this._notifyBeforeReplaceItemHandler=function(t){n._unsubscribeFromItemHandlerEvents(t),n._beforeReplaceItemHandlerEvent.notify(t)},this._notifyAfterReplaceItemHandler=function(t){n._subscribeToItemHandlerEvents(t),n._afterReplaceItemHandlerEvent.notify(t)},this._subscribeToProductEvents=function(t){var e,r;if(null!=t){t.surfaces.add_collectionChanged(n._notifySurfaceCollectionChanged),t.surfaces.add_collectionChanged(n._onSurfaceCollectionChanged);try{for(var i=hE(t.surfaces),o=i.next();!o.done;o=i.next())n._subscribeToSurfaceEvents(o.value)}catch(s){e={error:s}}finally{try{o&&!o.done&&(r=i.return)&&r.call(i)}finally{if(e)throw e.error}}}},this._unsubscribeFromProductEvents=function(t){var e,r;if(null!=t){t.surfaces.remove_collectionChanged(n._notifySurfaceCollectionChanged),t.surfaces.remove_collectionChanged(n._onSurfaceCollectionChanged);try{for(var i=hE(t.surfaces),o=i.next();!o.done;o=i.next())n._unsubscribeFromSurfaceEvents(o.value)}catch(s){e={error:s}}finally{try{o&&!o.done&&(r=i.return)&&r.call(i)}finally{if(e)throw e.error}}}},this._onSurfaceCollectionChanged=function(t){t.type!==Yg.Move&&(t.type!==Yg.Remove?t.type!==Yg.Add||n._subscribeToSurfaceEvents(t.item):n._unsubscribeFromSurfaceEvents(t.item))},this._subscribeToSurfaceEvents=function(t){var e,r;if(null!=t){t.containers.add_collectionChanged(n._notifyContainerCollectionChanged),t.containers.add_collectionChanged(n._onContainerCollectionChanged),t.mockup.underContainers.add_collectionChanged(n._notifyUnderMockupCollectionChanged),t.mockup.underContainers.add_collectionChanged(n._onContainerCollectionChanged),t.mockup.overContainers.add_collectionChanged(n._notifyOverMockupCollectionChanged),t.mockup.overContainers.add_collectionChanged(n._onContainerCollectionChanged),t.previewMockups.add_collectionChanged(n._notifyPreviewMockupCollectionChanged);var i=dE(t.containers,t.mockup.underContainers,t.mockup.overContainers);try{for(var o=hE(i),s=o.next();!s.done;s=o.next())n._subscribeToContainerEvents(s.value)}catch(a){e={error:a}}finally{try{s&&!s.done&&(r=o.return)&&r.call(o)}finally{if(e)throw e.error}}t.printAreas.forEach(n._subscribeToPrintAreaEvents),t.printAreas.add_collectionChanged(n._notifyPrintAreaCollectionChanged),t.printAreas.add_collectionChanged(n._onPrintAreaCollectionChanged)}},this._unsubscribeFromSurfaceEvents=function(t){var e,r;if(null!=t){t.containers.remove_collectionChanged(n._notifyContainerCollectionChanged),t.containers.remove_collectionChanged(n._onContainerCollectionChanged),t.mockup.underContainers.remove_collectionChanged(n._notifyUnderMockupCollectionChanged),t.mockup.underContainers.remove_collectionChanged(n._onContainerCollectionChanged),t.mockup.overContainers.remove_collectionChanged(n._notifyOverMockupCollectionChanged),t.mockup.overContainers.remove_collectionChanged(n._onContainerCollectionChanged),t.previewMockups.remove_collectionChanged(n._notifyPreviewMockupCollectionChanged);var i=dE(t.containers,t.mockup.underContainers,t.mockup.overContainers);try{for(var o=hE(i),s=o.next();!s.done;s=o.next())n._unsubscribeFromContainerEvents(s.value)}catch(a){e={error:a}}finally{try{s&&!s.done&&(r=o.return)&&r.call(o)}finally{if(e)throw e.error}}t.printAreas.forEach(n._unsubscribeFromPrintAreaEvents),t.printAreas.remove_collectionChanged(n._notifyPrintAreaCollectionChanged),t.printAreas.remove_collectionChanged(n._onPrintAreaCollectionChanged)}},this._onContainerCollectionChanged=function(t){t.type!==Yg.Move&&(t.type!==Yg.Remove?t.type!==Yg.Add||n._subscribeToContainerEvents(t.item):n._unsubscribeFromContainerEvents(t.item))},this._subscribeToContainerEvents=function(t){null!=t&&(t.items.add_collectionChanged(n._notifyItemCollectionChanged),t.items.add_collectionChanged(n._onItemCollectionChanged),t.items.add_itemAdded(n._notifyItemAdded),t.items.add_itemRemoved(n._notifyItemRemoved),t.items.add_itemMoved(n._notifyItemMoved),t.items.forEach(n._subscribeToItemEvents))},this._unsubscribeFromContainerEvents=function(t){null!=t&&(t.items.remove_collectionChanged(n._notifyItemCollectionChanged),t.items.remove_collectionChanged(n._onItemCollectionChanged),t.items.remove_itemAdded(n._notifyItemAdded),t.items.remove_itemRemoved(n._notifyItemRemoved),t.items.remove_itemMoved(n._notifyItemMoved),t.items.forEach(n._unsubscribeFromItemEvents))},this._onPrintAreaCollectionChanged=function(t){t.type!==Yg.Move&&(t.type!==Yg.Remove?t.type!==Yg.Add||n._subscribeToPrintAreaEvents(t.item):n._unsubscribeFromPrintAreaEvents(t.item))},this._subscribeToPrintAreaEvents=function(t){null!=t&&t.addPropertyChanged(n._notifyPrintAreaPropertyChanged)},this._unsubscribeFromPrintAreaEvents=function(t){null!=t&&t.removePropertyChanged(n._notifyPrintAreaPropertyChanged)},this._onItemCollectionChanged=function(t){t.type!==Yg.Move&&(t.type!==Yg.Remove?t.type!==Yg.Add||n._subscribeToItemEvents(t.item):n._unsubscribeFromItemEvents(t.item))},this._subscribeToItemEvents=function(t){if(null!=t){var e=n._viewer.getHandler(t);n._subscribeToItemHandlerEvents(e),t instanceof Ky&&(t.items.forEach((function(t){return n._subscribeToItemEvents(t)})),t.items.add_itemAdded(n._notifyItemAdded),t.items.add_itemRemoved(n._notifyItemRemoved),t.items.add_collectionChanged(n._onItemCollectionChanged))}},this._subscribeToItemHandlerEvents=function(t){t.addItemPropertyChanged(n._notifyItemPropertyChanged),t.addChanged(n._notifyItemChanged),t.addDeleteToolbarButtonClick(n._notifyDeleteToolbarButtonClick),t.addSelectToolbarButtonClick(n._notifySelectToolbarButtonClick),t.addEditToolbarButtonClick(n._notifyEditToolbarButtonClick),t.addDoubleClick(n._notifyDoubleClick),t.addViolationWarningButtonClick(n._notifyViolationWarningButtonClick),t instanceof SC&&(t.addSelectButtonClick(n._notifySelectButtonClick),null!=t.content&&t.content.addItemPropertyChanged(n._notifyItemPropertyChanged)),t instanceof Yw&&t.item.getPathLoadedEvent().add(n._notifyShapePathLoaded)},this._unsubscribeFromItemEvents=function(t){if(null!=t){var e=n._viewer.getHandler(t);n._unsubscribeFromItemHandlerEvents(e),t instanceof Ky&&null!=t.items&&(t.items.forEach((function(t){return n._unsubscribeFromItemEvents(t)})),t.items.remove_itemAdded(n._notifyItemAdded),t.items.remove_itemRemoved(n._notifyItemRemoved),t.items.remove_collectionChanged(n._onItemCollectionChanged))}},this._unsubscribeFromItemHandlerEvents=function(t){t.removeItemPropertyChanged(n._notifyItemPropertyChanged),t.removeChanged(n._notifyItemChanged),t.removeDeleteToolbarButtonClick(n._notifyDeleteToolbarButtonClick),t.removeSelectToolbarButtonClick(n._notifySelectToolbarButtonClick),t.removeEditToolbarButtonClick(n._notifyEditToolbarButtonClick),t.removeDoubleClick(n._notifyDoubleClick),t instanceof SC&&(t.removeSelectButtonClick(n._notifySelectButtonClick),null!=t.content&&t.content.removeItemPropertyChanged(n._notifyItemPropertyChanged)),t instanceof Yw&&t.item.getPathLoadedEvent().remove(n._notifyShapePathLoaded)},this._subscribeOnCanvasEvents=function(t){null!=t&&(t.add_currentItemHandlerChanged(n._notifyCurrentItemChanged),t.add_selectedItemHandlerChanged(n._notifySelectedItemChanged),t.add_dragNDropDone(n._notifyDragNDropDone),t.add_dragNDropPerformed(n._notifyDragNDropPerformed),t.add_dragNDropStarting(n._notifyDragNDropStarting),t.add_ready(n._notifyReady),t.add_workspaceSizeChanged(n._notifyWorkspaceSizeChanged),t.add_beforeReplaceItemHandler(n._notifyBeforeReplaceItemHandler),t.add_afterReplaceItemHandler(n._notifyAfterReplaceItemHandler))},this._unsubscribeFromCanvasEvents=function(t){null!=t&&(t.remove_currentItemHandlerChanged(n._notifyCurrentItemChanged),t.remove_selectedItemHandlerChanged(n._notifySelectedItemChanged),t.remove_dragNDropDone(n._notifyDragNDropDone),t.remove_dragNDropPerformed(n._notifyDragNDropPerformed),t.remove_dragNDropStarting(n._notifyDragNDropStarting),t.remove_ready(n._notifyReady),t.remove_workspaceSizeChanged(n._notifyWorkspaceSizeChanged),t.remove_beforeReplaceItemHandler(n._notifyBeforeReplaceItemHandler),t.remove_afterReplaceItemHandler(n._notifyAfterReplaceItemHandler))},this._itemChangedEvent=new og,this._itemPropertyChangedEvent=new ag,this._changeSurfaceEvent=new og,this._itemAddedEvent=new og,this._itemRemovedEvent=new og,this._itemMovedEvent=new og,this._imageContentChangedEvent=new og,this._snapshotLoadedEvent=new og,this._surfaceCollectionChangedEvent=new og,this._containerCollectionChangedEvent=new og,this._itemCollectionChangedEvent=new og,this._underMockupContainerCollectionChangedEvent=new og,this._overMockupContainerCollectionChangedEvent=new og,this._previewMockupContainerCollectionChangedEvent=new og,this._deleteToolbarButtonClickEvent=new og,this._selectToolbarButtonClickEvent=new og,this._editToolbarButtonClickEvent=new og,this._selectButtonClickEvent=new og,this._violationWarningButtonClickEvent=new og,this._doubleClickEvent=new og,this._shapePathLoadedEvent=new og,this._currentItemChangedEvent=new og,this._selectedItemChangedEvent=new og,this._dragNDropDoneEvent=new og,this._dragNDropStartingEvent=new og,this._dragNDropPerformedEvent=new og,this._readyEvent=new og,this._workspaceSizeChangedEvent=new og,this._productThemeChangedEvent=new og,this._userEditContainerChangedEvent=new og,this._mouseBehaviorCreateFinishedEvent=new og,this._printAreaCollectionChangedEvent=new og,this._printAreaPropertyChangedEvent=new ag,this._selectPixelFinishedEvent=new og,this._beforeReplaceItemHandlerEvent=new og,this._afterReplaceItemHandlerEvent=new og,this._subscribeOnCanvasEvents(this._viewer.canvas),this._subscribeToProductEvents(t)}return t.prototype.setProduct=function(t){t!=this._product&&(this._unsubscribeFromProductEvents(this._product),this._product=t,this._subscribeToProductEvents(this._product))},Object.defineProperty(t.prototype,"itemChangedEvent",{get:function(){return this._itemChangedEvent},enumerable:!0,configurable:!0}),t.prototype.addItemChanged=function(t){this._itemChangedEvent.add(t)},t.prototype.removeItemChanged=function(t){this._itemChangedEvent.remove(t)},Object.defineProperty(t.prototype,"itemPropertyChangedEvent",{get:function(){return this._itemPropertyChangedEvent},enumerable:!0,configurable:!0}),t.prototype.addItemPropertyChanged=function(t){this._itemPropertyChangedEvent.add(t)},t.prototype.removeItemPropertyChanged=function(t){this._itemPropertyChangedEvent.remove(t)},Object.defineProperty(t.prototype,"surfaceChangedEvent",{get:function(){return this._changeSurfaceEvent},enumerable:!0,configurable:!0}),t.prototype.addSurfaceChanged=function(t){this._changeSurfaceEvent.add(t)},t.prototype.removeSurfaceChanged=function(t){this._changeSurfaceEvent.remove(t)},Object.defineProperty(t.prototype,"itemAddedEvent",{get:function(){return this._itemAddedEvent},enumerable:!0,configurable:!0}),t.prototype.addItemAdded=function(t){this._itemAddedEvent.add(t)},t.prototype.removeItemAdded=function(t){this._itemAddedEvent.remove(t)},Object.defineProperty(t.prototype,"itemRemovedEvent",{get:function(){return this._itemRemovedEvent},enumerable:!0,configurable:!0}),t.prototype.addItemRemoved=function(t){this._itemRemovedEvent.add(t)},t.prototype.removeItemRemoved=function(t){this._itemRemovedEvent.remove(t)},Object.defineProperty(t.prototype,"itemMovedEvent",{get:function(){return this._itemMovedEvent},enumerable:!0,configurable:!0}),t.prototype.addItemMoved=function(t){this._itemMovedEvent.add(t)},t.prototype.removeItemMoved=function(t){this._itemMovedEvent.remove(t)},Object.defineProperty(t.prototype,"imageContentChangedEvent",{get:function(){return this._imageContentChangedEvent},enumerable:!0,configurable:!0}),t.prototype.addImageContentChanged=function(t){this._imageContentChangedEvent.add(t)},t.prototype.removeImageContentChanged=function(t){this._imageContentChangedEvent.remove(t)},Object.defineProperty(t.prototype,"snapshotLoadedEvent",{get:function(){return this._snapshotLoadedEvent},enumerable:!0,configurable:!0}),t.prototype.addSnapshotLoadedEvent=function(t){this._snapshotLoadedEvent.add(t)},t.prototype.removeSnapshotLoadedEvent=function(t){this._snapshotLoadedEvent.remove(t)},Object.defineProperty(t.prototype,"surfaceCollectionChangedEvent",{get:function(){return this._surfaceCollectionChangedEvent},enumerable:!0,configurable:!0}),t.prototype.addSurfaceCollectionChanged=function(t){this._surfaceCollectionChangedEvent.add(t)},t.prototype.removeSurfaceCollectionChanged=function(t){this._surfaceCollectionChangedEvent.remove(t)},Object.defineProperty(t.prototype,"containerCollectionChangedEvent",{get:function(){return this._containerCollectionChangedEvent},enumerable:!0,configurable:!0}),t.prototype.addContainerCollectionChanged=function(t){this._containerCollectionChangedEvent.add(t)},t.prototype.removeContainerCollectionChanged=function(t){this._containerCollectionChangedEvent.remove(t)},Object.defineProperty(t.prototype,"itemCollectionChangedEvent",{get:function(){return this._itemCollectionChangedEvent},enumerable:!0,configurable:!0}),t.prototype.addItemCollectionChanged=function(t){this._itemCollectionChangedEvent.add(t)},t.prototype.removeItemCollectionChanged=function(t){this._itemCollectionChangedEvent.remove(t)},Object.defineProperty(t.prototype,"underMockupContainerCollectionChangedEvent",{get:function(){return this._underMockupContainerCollectionChangedEvent},enumerable:!0,configurable:!0}),t.prototype.addUnderMockupContainerCollectionChanged=function(t){this._underMockupContainerCollectionChangedEvent.add(t)},t.prototype.removeUnderMockupContainerCollectionChanged=function(t){this._underMockupContainerCollectionChangedEvent.remove(t)},Object.defineProperty(t.prototype,"overMockupContainerCollectionChangedEvent",{get:function(){return this._overMockupContainerCollectionChangedEvent},enumerable:!0,configurable:!0}),t.prototype.addOverMockupContainerCollectionChanged=function(t){this._overMockupContainerCollectionChangedEvent.add(t)},t.prototype.removeOverMockupContainerCollectionChanged=function(t){this._overMockupContainerCollectionChangedEvent.remove(t)},Object.defineProperty(t.prototype,"previewMockupContainerCollectionChangedEvent",{get:function(){return this._previewMockupContainerCollectionChangedEvent},enumerable:!0,configurable:!0}),t.prototype.addPreviewMockupContainerCollectionChanged=function(t){this._previewMockupContainerCollectionChangedEvent.add(t)},t.prototype.removePreviewMockupContainerCollectionChanged=function(t){this._previewMockupContainerCollectionChangedEvent.remove(t)},Object.defineProperty(t.prototype,"deleteToolbarButtonClickEvent",{get:function(){return this._deleteToolbarButtonClickEvent},enumerable:!0,configurable:!0}),t.prototype.addDeleteToolbarButtonClick=function(t){this._deleteToolbarButtonClickEvent.add(t)},t.prototype.removeDeleteToolbarButtonClick=function(t){this._deleteToolbarButtonClickEvent.remove(t)},Object.defineProperty(t.prototype,"selectToolbarButtonClickEvent",{get:function(){return this._selectToolbarButtonClickEvent},enumerable:!0,configurable:!0}),t.prototype.addSelectToolbarButtonClick=function(t){this._selectToolbarButtonClickEvent.add(t)},t.prototype.removeSelectToolbarButtonClick=function(t){this._selectToolbarButtonClickEvent.remove(t)},Object.defineProperty(t.prototype,"editToolbarButtonClickEvent",{get:function(){return this._editToolbarButtonClickEvent},enumerable:!0,configurable:!0}),t.prototype.addEditToolbarButtonClick=function(t){this._editToolbarButtonClickEvent.add(t)},t.prototype.removeEditToolbarButtonClick=function(t){this._editToolbarButtonClickEvent.remove(t)},Object.defineProperty(t.prototype,"selectButtonClickEvent",{get:function(){return this._selectButtonClickEvent},enumerable:!0,configurable:!0}),t.prototype.addSelectButtonClick=function(t){this._selectButtonClickEvent.add(t)},t.prototype.removeSelectButtonClick=function(t){this._selectButtonClickEvent.remove(t)},Object.defineProperty(t.prototype,"violationWarningButtonClickEvent",{get:function(){return this._violationWarningButtonClickEvent},enumerable:!0,configurable:!0}),t.prototype.addViolationWarningButtonClick=function(t){this._violationWarningButtonClickEvent.add(t)},t.prototype.removeViolationWarningButtonClick=function(t){this._violationWarningButtonClickEvent.remove(t)},Object.defineProperty(t.prototype,"doubleClickEvent",{get:function(){return this._doubleClickEvent},enumerable:!0,configurable:!0}),t.prototype.addDoubleClick=function(t){this._doubleClickEvent.add(t)},t.prototype.removeDoubleClick=function(t){this._doubleClickEvent.remove(t)},Object.defineProperty(t.prototype,"shapePathLoadedEvent",{get:function(){return this._shapePathLoadedEvent},enumerable:!0,configurable:!0}),t.prototype.addShapePathLoaded=function(t){this._shapePathLoadedEvent.add(t)},t.prototype.removeShapePathLoaded=function(t){this._shapePathLoadedEvent.remove(t)},Object.defineProperty(t.prototype,"currentItemChangedEvent",{get:function(){return this._currentItemChangedEvent},enumerable:!0,configurable:!0}),t.prototype.addCurrentItemChanged=function(t){this._currentItemChangedEvent.add(t)},t.prototype.removeCurrentItemChanged=function(t){this._currentItemChangedEvent.remove(t)},Object.defineProperty(t.prototype,"selectedItemChangedEvent",{get:function(){return this._selectedItemChangedEvent},enumerable:!0,configurable:!0}),t.prototype.addSelectedItemChanged=function(t){this._selectedItemChangedEvent.add(t)},t.prototype.removeSelectedItemChanged=function(t){this._selectedItemChangedEvent.remove(t)},Object.defineProperty(t.prototype,"dragNDropDoneEvent",{get:function(){return this._dragNDropDoneEvent},enumerable:!0,configurable:!0}),t.prototype.addDragNDropDone=function(t){this._dragNDropDoneEvent.add(t)},t.prototype.removeDragNDropDone=function(t){this._dragNDropDoneEvent.remove(t)},Object.defineProperty(t.prototype,"dragNDropStartingEvent",{get:function(){return this._dragNDropStartingEvent},enumerable:!0,configurable:!0}),t.prototype.addDragNDropStarting=function(t){this._dragNDropStartingEvent.add(t)},t.prototype.removeDragNDropStarting=function(t){this._dragNDropStartingEvent.remove(t)},Object.defineProperty(t.prototype,"dragNDropPerformedEvent",{get:function(){return this._dragNDropPerformedEvent},enumerable:!0,configurable:!0}),t.prototype.addDragNDropPerformed=function(t){this._dragNDropPerformedEvent.add(t)},t.prototype.removeDragNDropPerformed=function(t){this._dragNDropPerformedEvent.remove(t)},Object.defineProperty(t.prototype,"readyEvent",{get:function(){return this._readyEvent},enumerable:!0,configurable:!0}),t.prototype.addReady=function(t){this._readyEvent.add(t)},t.prototype.removeReady=function(t){this._readyEvent.remove(t)},Object.defineProperty(t.prototype,"workspaceSizeChangedEvent",{get:function(){return this._workspaceSizeChangedEvent},enumerable:!0,configurable:!0}),t.prototype.addWorkspaceSizeChanged=function(t){this._workspaceSizeChangedEvent.add(t)},t.prototype.removeWorkspaceSizeChanged=function(t){this._workspaceSizeChangedEvent.remove(t)},Object.defineProperty(t.prototype,"productThemeChangedEvent",{get:function(){return this._productThemeChangedEvent},enumerable:!0,configurable:!0}),t.prototype.addProductThemeChanged=function(t){this._productThemeChangedEvent.add(t)},t.prototype.removeProductThemeChanged=function(t){this._productThemeChangedEvent.remove(t)},Object.defineProperty(t.prototype,"userEditContainerChangedEvent",{get:function(){return this._userEditContainerChangedEvent},enumerable:!0,configurable:!0}),t.prototype.addUserEditContainerChanged=function(t){this._userEditContainerChangedEvent.add(t)},t.prototype.removeUserEditContainerChanged=function(t){this._userEditContainerChangedEvent.remove(t)},Object.defineProperty(t.prototype,"mouseBehaviorCreateFinishedEvent",{get:function(){return this._mouseBehaviorCreateFinishedEvent},enumerable:!0,configurable:!0}),t.prototype.addMouseBehaviorCreateFinished=function(t){this._mouseBehaviorCreateFinishedEvent.add(t)},t.prototype.removeMouseBehaviorCreateFinished=function(t){this._mouseBehaviorCreateFinishedEvent.remove(t)},Object.defineProperty(t.prototype,"printAreaCollectionChangedEvent",{get:function(){return this._printAreaCollectionChangedEvent},enumerable:!0,configurable:!0}),t.prototype.addPrintAreaCollectionChanged=function(t){this._printAreaCollectionChangedEvent.add(t)},t.prototype.removePrintAreaCollectionChanged=function(t){this._printAreaCollectionChangedEvent.remove(t)},Object.defineProperty(t.prototype,"printAreaPropertyChangedEvent",{get:function(){return this._printAreaPropertyChangedEvent},enumerable:!0,configurable:!0}),t.prototype.addPrintAreaPropertyChanged=function(t){this._printAreaPropertyChangedEvent.add(t)},t.prototype.removePrintAreaPropertyChanged=function(t){this._printAreaPropertyChangedEvent.remove(t)},Object.defineProperty(t.prototype,"selectPixelFinished",{get:function(){return this._selectPixelFinishedEvent},enumerable:!0,configurable:!0}),t.prototype.addMouseSelectPixelFinished=function(t){this._selectPixelFinishedEvent.add(t)},t.prototype.removeMouseSelectPixelFinished=function(t){this._selectPixelFinishedEvent.remove(t)},Object.defineProperty(t.prototype,"beforeReplaceItemHandlerEvent",{get:function(){return this._beforeReplaceItemHandlerEvent},enumerable:!0,configurable:!0}),t.prototype.addBeforeReplaceItemHandlerEvent=function(t){this._beforeReplaceItemHandlerEvent.add(t)},t.prototype.removeBeforeReplaceItemHandlerEvent=function(t){this._beforeReplaceItemHandlerEvent.remove(t)},Object.defineProperty(t.prototype,"afterReplaceItemHandlerEvent",{get:function(){return this._afterReplaceItemHandlerEvent},enumerable:!0,configurable:!0}),t.prototype.addAfterReplaceItemHandlerEvent=function(t){this._afterReplaceItemHandlerEvent.add(t)},t.prototype.removeAfterReplaceItemHandlerEvent=function(t){this._afterReplaceItemHandlerEvent.remove(t)},t.prototype.dispose=function(){this._unsubscribeFromCanvasEvents(this._viewer.canvas),this._unsubscribeFromProductEvents(this._product)},t}(),gE=function(){function t(t,e,n,r){this._productHandler=t,this._canvas=n,this._eventManager=r,this._productThemeApplier=new Gx,this.productThemes=e}return t.prototype.applyProductTheme=function(t,e,n){var r=this,i=null;if("string"==typeof t)i=this.productThemes[t];else if(t instanceof mE)i=t;else if(t instanceof Object)i=new mE(t);else if(null==t)throw new $f("Theme must be not null");if(null==i)throw new $f("Theme not found");var o=e.getAllItems({ignoreMockups:!1,flatGroupItems:!0}).filter((function(t){return!(t.parentGroupItem instanceof rv)})),s=[];return this.currentProductTheme=i,n.execute(WS.clearSelection),o.forEach((function(t){t instanceof ty&&r.applyToItem(t,i)&&s.push(t)})),s.length>0&&GP.updateItems(s,this._productHandler,this._canvas,{addToHistory:!0,redraw:!0,updatePhase:HP.Final}),0===s.length&&console.warn("No colors were applied from theme. Please check that theme matches to the product."),this._eventManager.productThemeChangedEvent.notify(this.currentProductTheme),s.length>0},t.prototype.applyToItem=function(t,e,n){return this._productThemeApplier.applyToItem(t,e,n)},t}(),mE=function(t){Object.assign(this,t)},yE=function(){function t(t,e){void 0===e&&(e=10),this._snapshots=[],this._current=-1,this._enabled=!0,this._locked=!1,this._pauseCount=0,this._addSnapshotOnResume=!1,this._overflowMaxUndoStepCount=!1,this._changed=new og,this._snapshotHandler=t,this.historySize=e}return Object.defineProperty(t.prototype,"historySize",{set:function(t){t>=0?this._maxUndoStepCount=t:(console.warn("History: historySize value isn't correct, reset to 10"),this._maxUndoStepCount=10)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"canRedo",{get:function(){return this._current<this._snapshots.length-1},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"canUndo",{get:function(){return this._current>=1},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"overflowMaxUndoStepCount",{get:function(){return this._overflowMaxUndoStepCount},enumerable:!0,configurable:!0}),t.prototype.enable=function(){this._enabled||(this._enabled=!0)},t.prototype.disable=function(){this._enabled&&(this._enabled=!1,this.clear())},t.prototype.isPaused=function(){return this._pauseCount>0},t.prototype.pause=function(){this._pauseCount++,1===this._pauseCount&&(this._addSnapshotOnResume=!1)},t.prototype.resume=function(t,e,n){void 0===t&&(t=!0),void 0===e&&(e=!1),void 0===n&&(n=!1),this._pauseCount<=0||(this._pauseCount--,0===this._pauseCount&&(t&&this._addSnapshotOnResume||e)&&this.addSnapshot(!1,n))},t.prototype.raiseChanged=function(){this._changed.notify()},t.prototype._clearRedo=function(){this._snapshots.splice(this._current+1)},t.prototype._clearUndo=function(){this._snapshots.splice(0,this._current+1),this._current=-1,this._overflowMaxUndoStepCount=!1},t.prototype.clear=function(t){void 0===t&&(t=!1),this._snapshots=[],this._current=-1,this.addSnapshot(!0),t||this.raiseChanged()},t.prototype.addSnapshot=function(t,e){if(void 0===t&&(t=!1),void 0===e&&(e=!1),this._enabled&&!this._locked)if(this._pauseCount>0)this._addSnapshotOnResume=!0;else{var n=this._snapshotHandler.createSnapshot();if(null==n)throw"Snapshot can not be null";this._locked=!0,this.canRedo&&this._clearRedo(),e&&this._snapshots.length>0&&(this._snapshots.pop(),this._current--),this._snapshots.push(n),this._current++,this._locked=!1,this._current>this._maxUndoStepCount&&(this._snapshots.splice(0,1),this._current--,this._overflowMaxUndoStepCount=!0),t||this.raiseChanged()}},t.prototype.redo=function(){this._enabled&&this.canRedo&&(this._locked=!0,this._current++,this._snapshotHandler.loadSnapshot(this._snapshots[this._current]),this._locked=!1,this.raiseChanged())},t.prototype.undo=function(){this._enabled&&this.canUndo&&(this._locked=!0,this._current--,this._snapshotHandler.loadSnapshot(this._snapshots[this._current]),this._locked=!1,this.raiseChanged())},t.prototype.addChanged=function(t){this._changed.add(t)},t.prototype.removeChanged=function(t){this._changed.remove(t)},t}(),vE=function(){function t(t){this._viewer=t}return Object.defineProperty(t.prototype,"_product",{get:function(){return null!=this._surface?this._surface.parentProduct:null},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"_surface",{get:function(){return this._viewer.surface},enumerable:!0,configurable:!0}),t.prototype.createSnapshot=function(){var t=null!=this._product?this._product:this._surface;if(null!=t)return t.clone()},t.prototype.loadSnapshot=function(t){var e=t.clone();if(e instanceof v_)throw new Xf("Surface as snapshot not implemented!");var n=this._surface.id,r=e.surfaces.firstOrDefault((function(t){return t.id===n}));this._viewer.surface=null!=r?r:e.surfaces.get(0),this._viewer.eventManager.snapshotLoadedEvent.fire(e)},t}(),_E=function(){function t(t){var e=this;this._viewer=t,this.getHandler=function(t){return e._viewer.getHandler(t)}}return Object.defineProperty(t.prototype,"currentSurface",{get:function(){return this._viewer.surface},set:function(t){this._viewer.surface=t},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"contentAngle",{get:function(){return this._viewer.contentAngle},enumerable:!0,configurable:!0}),t.prototype.redraw=function(){this._viewer.canvas.redraw()},Object.defineProperty(t.prototype,"regionForCurrentContainer",{get:function(){var t=this._viewer.userEditContainer;return null!=t?t.region:null},enumerable:!0,configurable:!0}),t.prototype.beginMultiCall=function(){null!=this._viewer&&null!=this._viewer.canvas&&null!=this._viewer.canvas.service&&this._viewer.canvas.service.beginMultiCall()},t.prototype.endMultiCall=function(){null!=this._viewer&&null!=this._viewer.canvas&&null!=this._viewer.canvas.service&&this._viewer.canvas.service.endMultiCall()},t.prototype.findItemByHitTest=function(t,e){var n=this,r=this._viewer.pageToWorkspacePoint(t,e),i=this._viewer.canvas.getItemHandlersByHitTest(r),o=i.find((function(t){return n._viewer.canvas.isItemHandlerSelected(t)}));return null!=o?o.item:null!=i[0]?i[0].item:null},t.prototype.waitUpdate=function(){return t=this,void 0,n=function(){return function(t,e){var n,r,i,o,s={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]};return o={next:a(0),throw:a(1),return:a(2)},"function"==typeof Symbol&&(o[Symbol.iterator]=function(){return this}),o;function a(o){return function(a){return function(o){if(n)throw new TypeError("Generator is already executing.");for(;s;)try{if(n=1,r&&(i=2&o[0]?r.return:o[0]?r.throw||((i=r.return)&&i.call(r),0):r.next)&&!(i=i.call(r,o[1])).done)return i;switch(r=0,i&&(o=[2&o[0],i.value]),o[0]){case 0:case 1:i=o;break;case 4:return s.label++,{value:o[1],done:!1};case 5:s.label++,r=o[1],o=[0];continue;case 7:o=s.ops.pop(),s.trys.pop();continue;default:if(!(i=(i=s.trys).length>0&&i[i.length-1])&&(6===o[0]||2===o[0])){s=0;continue}if(3===o[0]&&(!i||o[1]>i[0]&&o[1]<i[3])){s.label=o[1];break}if(6===o[0]&&s.label<i[1]){s.label=i[1],i=o;break}if(i&&s.label<i[2]){s.label=i[2],s.ops.push(o);break}i[2]&&s.ops.pop(),s.trys.pop();continue}o=e.call(t,s)}catch(a){o=[6,a],r=0}finally{n=i=0}if(5&o[0])throw o[1];return{value:o[0]?o[1]:void 0,done:!0}}([o,a])}}}(this,(function(t){switch(t.label){case 0:return[4,this._viewer.canvas.waitUpdate()];case 1:return[2,t.sent()]}}))},new((e=void 0)||(e=Promise))((function(r,i){function o(t){try{a(n.next(t))}catch(e){i(e)}}function s(t){try{a(n.throw(t))}catch(e){i(e)}}function a(t){var n;t.done?r(t.value):(n=t.value,n instanceof e?n:new e((function(t){t(n)}))).then(o,s)}a((n=n.apply(t,[])).next())}));var t,e,n},Object.defineProperty(t.prototype,"product",{get:function(){var t=this.currentSurface;return null==t?null:t.parentProduct},enumerable:!0,configurable:!0}),t.prototype.checkSelectionByHitTest=function(t,e){var n=this._viewer.pageToWorkspacePoint(t,e);return this._viewer.canvas.isSelectionByHitTest(n)},Object.defineProperty(t.prototype,"selectedItems",{get:function(){return this._viewer.canvas.getSelectedItemHandlers().toArray().map((function(t){return t.item}))},enumerable:!0,configurable:!0}),t.prototype.getPrintAreaVisualSize=function(t,e){var n=this.getPrintAreaBounds(t,e);return this.getVisualSize(n)},t.prototype.getVisualSize=function(t){var e=this._viewer.contentAngle;if(0===e)return qC.from(t);var n=new Ag(0,0,t.width,t.height);return n.rotateAt(e,new pg),qC.from(n.bounds)},t.prototype.getPrintAreaBounds=function(t,e){var n=null!=t?t:this._viewer.userEditContainer,r=null!=e?e:this._viewer.getUserEditPrintArea();return null!=n.region?n.region:r.bounds},Object.defineProperty(t.prototype,"userEditContainer",{get:function(){return this._viewer.userEditContainer},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"userEditPrintArea",{get:function(){return this._viewer.getUserEditPrintArea()},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"suppressOutOfRegionManipulation",{get:function(){return this._viewer.canvas.suppressOutOfRegionManipulation},enumerable:!0,configurable:!0}),t.prototype.updateSelection=function(){null!=this._viewer.canvas&&this._viewer.canvas.updateSelection()},t}(),bE=function(t,e,n,r){return new(n||(n=Promise))((function(i,o){function s(t){try{l(r.next(t))}catch(e){o(e)}}function a(t){try{l(r.throw(t))}catch(e){o(e)}}function l(t){var e;t.done?i(t.value):(e=t.value,e instanceof n?e:new n((function(t){t(e)}))).then(s,a)}l((r=r.apply(t,e||[])).next())}))},wE=function(t,e){var n,r,i,o,s={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]};return o={next:a(0),throw:a(1),return:a(2)},"function"==typeof Symbol&&(o[Symbol.iterator]=function(){return this}),o;function a(o){return function(a){return function(o){if(n)throw new TypeError("Generator is already executing.");for(;s;)try{if(n=1,r&&(i=2&o[0]?r.return:o[0]?r.throw||((i=r.return)&&i.call(r),0):r.next)&&!(i=i.call(r,o[1])).done)return i;switch(r=0,i&&(o=[2&o[0],i.value]),o[0]){case 0:case 1:i=o;break;case 4:return s.label++,{value:o[1],done:!1};case 5:s.label++,r=o[1],o=[0];continue;case 7:o=s.ops.pop(),s.trys.pop();continue;default:if(!(i=(i=s.trys).length>0&&i[i.length-1])&&(6===o[0]||2===o[0])){s=0;continue}if(3===o[0]&&(!i||o[1]>i[0]&&o[1]<i[3])){s.label=o[1];break}if(6===o[0]&&s.label<i[1]){s.label=i[1],i=o;break}if(i&&s.label<i[2]){s.label=i[2],s.ops.push(o);break}i[2]&&s.ops.pop(),s.trys.pop();continue}o=e.call(t,s)}catch(a){o=[6,a],r=0}finally{n=i=0}if(5&o[0])throw o[1];return{value:o[0]?o[1]:void 0,done:!0}}([o,a])}}},CE=function(t,e){var n="function"==typeof Symbol&&t[Symbol.iterator];if(!n)return t;var r,i,o=n.call(t),s=[];try{for(;(void 0===e||e-- >0)&&!(r=o.next()).done;)s.push(r.value)}catch(a){i={error:a}}finally{try{r&&!r.done&&(n=o.return)&&n.call(o)}finally{if(i)throw i.error}}return s},xE=function(){for(var t=[],e=0;e<arguments.length;e++)t=t.concat(CE(arguments[e]));return t},SE=function(){function t(t,e,n){var r=this;this._productHandler=t,this._canvas=e,this._productThemeManager=n,this._applyToBarcode=function(t,e,n){return bE(r,void 0,void 0,(function(){var r;return wE(this,(function(i){return this._applyBarcodePermissions(e.barcodePermissions,t.barcodePermissions),null==e.barcodeContent||!t.barcodePermissions.allowChangeBarcodeContent&&n.ignorePermissions||!t.barcodeData.isEmpty||(r=new Dy(e.barcodeContent),t.barcodePermissions.allowChangeBarcodeType&&!n.ignorePermissions&&(r.barcodeFormat=t.barcodeFormat),r.barcodeFormat===Ty.QR_CODE&&r.barcodeSubType===Ay.None&&(r.barcodeSubType=Ay.Url),t.applyBarcodeData(r)),null!=e.color&&(n.ignorePermissions||t.barcodePermissions.allowChangeBarcodeColor)&&(t.color=bm.createColor(e.color)),[2,this._applyToContentItem(t,e,n)]}))}))},this._applyToImage=function(t,e,n){return bE(r,void 0,void 0,(function(){var r;return wE(this,(function(i){switch(i.label){case 0:return null==e?[3,3]:(this._applyImagePermissions(e.imagePermissions,t.imagePermissions),null==e.imageUrl||!n.ignorePermissions&&!t.imagePermissions.allowChangeImage?[3,2]:((r=this._productHandler.getHandler(t)).canvas=this._canvas,[4,r.loadImage(e.imageUrl,{downloadToServerCache:!0,actualSize:!1,saveAspectRatio:!0})]));case 1:i.sent(),i.label=2;case 2:if(null!=e.overlayColor&&GP.setOverlayEffectColor(t,bm.createColor(e.overlayColor)),null!=e.effect)switch(e.effect.toLowerCase()){case"none":t.effect=ov.None;break;case"blackandwhite":t.effect=ov.BlackAndWhite;break;case"flipvertical":t.effect=ov.FlipVertical;break;case"fliphorizontal":t.effect=ov.FlipHorizontal;break;case"colorize":t.effect=ov.Colorize;break;default:console.error("Unknown image effect:",e.effect)}i.label=3;case 3:return[2,this._applyToContentItem(t,e,n)]}}))}))},this._applyImagePermissions=function(t,e){null!=t&&(e.allowChangeImage=Ug(e.allowChangeImage,t.allowChangeImage),e.allowEditImage=Ug(e.allowEditImage,t.allowEditImage),e.allowKeepOverlayColor=Ug(e.allowKeepOverlayColor,t.allowKeepOverlayColor))},this._applyBarcodePermissions=function(t,e){null!=t&&(e.allowChangeBarcodeType=Ug(e.allowChangeBarcodeType,t.allowChangeBarcodeType),e.allowChangeBarcodeContent=Ug(e.allowChangeBarcodeContent,t.allowChangeBarcodeContent),e.allowChangeBarcodeColor=Ug(e.allowChangeBarcodeColor,t.allowChangeBarcodeColor))},this._updateThemeForItem=function(t){r._productThemeManager.applyToItem(t,r._productThemeManager.currentProductTheme)}}return t.prototype.applyToItem=function(t,e,n){return void 0===n&&(n=null),bE(this,void 0,void 0,(function(){var r,i,o;return wE(this,(function(s){switch(s.label){case 0:return null==e?[2]:(r=Object.assign({ignorePermissions:!0,changePosition:!1,relativeToPrintArea:!0},n||{}),i=!1,t.addPropertyChanged(o=function(){return i=!0}),t instanceof a_?[4,this._applyToPlaceholderItem(t,e,r)]:[3,2]);case 1:return s.sent(),[3,20];case 2:return t instanceof Av?[4,this._applyToImage(t,e,r)]:[3,4];case 3:return s.sent(),[3,20];case 4:return t instanceof Ey?[4,this._applyToText(t,e,r)]:[3,6];case 5:return s.sent(),[3,20];case 6:return t instanceof Hy?[4,this._applyToBarcode(t,e,r)]:[3,8];case 7:return s.sent(),[3,20];case 8:return t instanceof yv?[4,this._applyToEllipse(t,e,r)]:[3,10];case 9:return s.sent(),[3,20];case 10:return t instanceof hy?[4,this._applyToRectangle(t,e,r)]:[3,12];case 11:return s.sent(),[3,20];case 12:return t instanceof uy?[4,this._applyToShapeItem(t,e,r)]:[3,14];case 13:return s.sent(),[3,20];case 14:return t instanceof dv?[4,this._applyToLineItem(t,e,r)]:[3,16];case 15:return s.sent(),[3,20];case 16:return t instanceof rv?[4,this._applyToClipartItem(t,e,r)]:[3,18];case 17:return s.sent(),[3,20];case 18:return t instanceof Ky?[4,this._applyToGroupItem(t,e,r)]:[3,20];case 19:s.sent(),s.label=20;case 20:return t.removePropertyChanged(o),i&&null!=this._productHandler.product&&this._productHandler.product.getAllItems().includes(t)&&(this._productHandler.getHandler(t).update(),this._canvas.redraw(),this._canvas.updateSelection()),[2,i]}}))}))},t.prototype._applyToText=function(t,e,n){if(null!=e){if(null!=e.textPermissions&&(t.textPermissions.allowChangeText=Ug(t.textPermissions.allowChangeText,e.textPermissions.allowChangeText),t.textPermissions.allowChangeFont=Ug(t.textPermissions.allowChangeFont,e.textPermissions.allowChangeFont),t.textPermissions.allowChangeFontSize=Ug(t.textPermissions.allowChangeFontSize,e.textPermissions.allowChangeFontSize),t.textPermissions.allowChangeFontColor=Ug(t.textPermissions.allowChangeFontColor,e.textPermissions.allowChangeFontColor),t.textPermissions.allowChangeTextAlignment=Ug(t.textPermissions.allowChangeTextAlignment,e.textPermissions.allowChangeTextAlignment),t.textPermissions.allowChangeTextBIU=Ug(t.textPermissions.allowChangeTextBIU,e.textPermissions.allowChangeTextBIU),t.textPermissions.allowChangeShadow=Ug(t.textPermissions.allowChangeShadow,e.textPermissions.allowChangeShadow),t.textPermissions.allowChangeStroke=Ug(t.textPermissions.allowChangeStroke,e.textPermissions.allowChangeStroke),t.textPermissions.allowTextFormatting=Ug(t.textPermissions.allowTextFormatting,e.textPermissions.allowTextFormatting)),(t instanceof u_||t instanceof Gy||t instanceof Kv)&&(t.isVertical=Ug(t.isVertical,e.isVertical)),t instanceof cv||t instanceof d_||(t.maxLineCount=Ug(t.maxLineCount,e.maxLineCount)),t.maxLineLength=Ug(t.maxLineLength,e.maxLineLength),(t instanceof Gy||t instanceof Kv)&&(t.wrappingMargin=Ug(t.wrappingMargin,e.wrappingMargin),t.characterLimit=Ug(t.characterLimit,e.characterLimit),null!=e.paragraphSettings)){var r=new Wy(t.paragraphSettings);r.FirstLineIndent=Ug(r.FirstLineIndent,e.paragraphSettings.firstLineIndent),r.SpaceBefore=Ug(r.SpaceBefore,e.paragraphSettings.spaceBefore),r.SpaceAfter=Ug(r.SpaceAfter,e.paragraphSettings.spaceAfter),r.LeftIndent=Ug(r.LeftIndent,e.paragraphSettings.leftIndent),r.RightIndent=Ug(r.RightIndent,e.paragraphSettings.rightIndent),t.paragraphSettings=r}if(t instanceof Gy){if(null!=e.verticalAlignment)if("string"==typeof e.verticalAlignment)switch(e.verticalAlignment.toLowerCase()){case"top":t.verticalAlignment=_y.Top;break;case"center":t.verticalAlignment=_y.Center;break;case"bottom":t.verticalAlignment=_y.Bottom}else t.verticalAlignment=e.verticalAlignment;var i=this._convertOverflowStrategy(e.overflowStrategy);t.overflowStrategy=Ug(t.overflowStrategy,i),t.shrinkMode=Ug(t.shrinkMode,this._convertShrinkMode(e.textShrinkMode))}t instanceof d_&&(t.bend=Ug(t.bend,e.bend),t.warp=Ug(t.warp,e.warp))}return this._applyToBaseTextItem(t,e,n)},t.prototype._convertShrinkMode=function(t){if(null==t)return null;if("number"==typeof t)return t;switch(t){case"scale":return my.Scale;case"size":return my.Size;default:throw new $f("Invalid shrink mode.")}},t.prototype._convertOverflowStrategy=function(t){if(null==t)return null;if("number"==typeof t)return t;switch(t){case"clip":return yy.Clip;case"fitToWidth":return yy.FitToWidth;case"fitToBox":return yy.FitToBox;case"expandBox":return yy.ExpandBox;default:throw new $f("Invalid overflow strategy.")}},t.prototype._applyToLineItem=function(t,e,n){null!=e.linePermissions&&(t.linePermissions.allowChangeLineColor=Ug(t.linePermissions.allowChangeLineColor,e.linePermissions.allowChangeLineColor),t.linePermissions.allowChangeLineWidth=Ug(t.linePermissions.allowChangeLineWidth,e.linePermissions.allowChangeLineWidth));var r=this._productHandler.userEditContainer,i=this._productHandler.userEditPrintArea,o=null!=i?i.bounds.center:new pg(50,50),s=null!=r?.4*this._productHandler.getPrintAreaVisualSize(r).width:10;if(n.ignorePermissions||t.linePermissions.allowChangeLineWidth){var a=Ug(t.width,e.width);if(null!=r&&null!=r.region&&this._productHandler.suppressOutOfRegionManipulation){var l=this._calcNewGroupBounds(this._productHandler.selectedItems,a);XC(fg.intersect(r.region,l),l)&&(t.width=a)}else t.width=a;t.fixedWidth=Ug(t.fixedWidth,e.fixedWidth)}if(n.changePosition&&(null!=e.point0?(t.sourcePoint0.x=Ug(t.sourcePoint0.x,e.point0.x),t.sourcePoint0.y=Ug(t.sourcePoint0.y,e.point0.y)):t.sourcePoint0=new pg(o.x-s/2,o.y),null!=e.point1?(t.sourcePoint1.x=Ug(t.sourcePoint1.x,e.point1.x),t.sourcePoint1.y=Ug(t.sourcePoint1.y,e.point1.y)):t.sourcePoint1=new pg(o.x+s/2,o.y)),null!=e.color&&(n.ignorePermissions||t.linePermissions.allowChangeLineColor)){var u=bm.createColor(e.color);t.color=Ug(t.color,u)}var c=this._productHandler.contentAngle;c>0&&t.transform.rotate(-c);var h=t.width+.01,p=null!=r?this._getRotatedRegion(r):null;if(null!=p){p.width-=h,p.height-=h;var d=1,f=this._productHandler.getHandler(t),g=t instanceof a_?f.getBoundsIncludingFrames():f.bounds;if(g.width>p.width||g.height>p.height){var m=$C(qC.from(g),qC.from(p));m.width*=.9,m.height*=.9,d=m.width/g.width}var y=new pg(g.left+g.width/2,g.top+g.height/2),v=y.x-p.left-p.width/2,_=y.y-p.top-p.height/2;t.transform.setScaleX(d*t.transform.scaleX),t.transform.setScaleY(d*t.transform.scaleY),t.transform.setTranslateX(t.transform.translateX-v-(f.getTransformedRectangle().centerX-y.x)*(1-d)),t.transform.setTranslateY(t.transform.translateY-_-(f.getTransformedRectangle().centerY-y.y)*(1-d))}this._applyToItem(t,e,n)},t.prototype._applyToRectangle=function(t,e,n){this._applyToShapeItem(t,e,n)},t.prototype._applyToGroupItem=function(t,e,n){this._applyToItem(t,e,n)},t.prototype._applyToEllipse=function(t,e,n){this._applyToShapeItem(t,e,n)},t.prototype._applyToClipartItem=function(t,e,n){this._applyToItem(t,e,n)},t.prototype._applyToPlaceholderItem=function(t,e,n){var r,i;return bE(this,void 0,void 0,(function(){var o,s,a,l,u;return wE(this,(function(c){switch(c.label){case 0:if(null!=e.placeholderPermissions&&(t.placeholderPermissions.allowEditContent=Ug(t.placeholderPermissions.allowEditContent,e.placeholderPermissions.allowEditContent),t.placeholderPermissions.showSelectButton=Ug(t.placeholderPermissions.showSelectButton,e.placeholderPermissions.showSelectButton),t.placeholderPermissions.showHandleButton=Ug(t.placeholderPermissions.showHandleButton,e.placeholderPermissions.showHandleButton)),null!=e.contentResizeMode)switch(e.contentResizeMode.toLowerCase()){case"original":t.contentResizeMode=Yv.Original;break;case"fill":t.contentResizeMode=Yv.Fill;break;case"fit":t.contentResizeMode=Yv.Fit}return t.isStubContent=Ug(t.isStubContent,e.isStubContent),t.allowedSubfolder=Ug(t.allowedSubfolder,e.allowedSubfolder),t.allowedTabs=Ug(t.allowedTabs,e.allowedTabs),t.isVariable=Ug(t.isVariable,e.isVariable),t.isCoverMode=Ug(t.isCoverMode,e.isCoverMode),t.fixedStubContentSize=Ug(t.fixedStubContentSize,e.fixedStubContentSize),o=null!==(r=e.barcodeFormat)&&void 0!==r?r:null===(i=e.barcodeContent)||void 0===i?void 0:i.barcodeFormat,t.barcodeFormat=Ug(t.barcodeFormat,o),null==t.content&&(s=void 0,null!=e.contentImageUrl?s=new Av:t.isBarcodePlaceholder&&(s=new Hy(null,null,null,new fg(0,0,t.barcodeFormat==Ty.QR_CODE||t.barcodeFormat==Ty.DATA_MATRIX?1:2.5,1))),t.content=s),null==t.content?[3,5]:((a=lg.clone(n)).changePosition=!1,t.content instanceof Av?[4,this._applyToImage(t.content,{imageUrl:e.contentImageUrl,imagePermissions:t.contentPermissions.imagePermissions},a)]:[3,2]);case 1:return c.sent(),[3,4];case 2:return t.content instanceof Hy?[4,this._applyToBarcode(t.content,{barcodeContent:e.barcodeContent||{barcodeFormat:t.barcodeFormat,barcodeValue:""},barcodePermissions:t.contentPermissions.barcodePermissions,color:e.contentBarcodeColor},a)]:[3,4];case 3:c.sent(),t.barcodeFormat=t.content.barcodeFormat,t.shapePermissions.allowChangeFillColor=!0,c.label=4;case 4:null==t.barcodeFormat&&(t.imageContent.allowedSubfolder=t.allowedSubfolder,t.imageContent.allowedTabs=t.allowedTabs),c.label=5;case 5:return this._applyToShapeItem(t,e,n),null==e.contentImageUrl&&null==t.barcodeFormat?[2]:[4,(l=this._productHandler.getHandler(t.content)).waitUpdate()];case 6:return c.sent(),u=this._productHandler.getHandler(t),l.updateRectangle(!1,t.contentResizeMode,u),[2]}}))}))},t.prototype._applyToContentItem=function(t,e,n){return null!=e&&(t.isVariable=Ug(t.isVariable,e.isVariable),t.maskOpacity=Ug(t.maskOpacity,e.maskOpacity)),this._applyToShapeItem(t,e,n)},t.prototype._applyToShapeItem=function(t,e,n){if(void 0===e&&(e=null),null!=e){if(null!=e.shapePermissions&&(t.shapePermissions.allowChangeBorderColor=Ug(t.shapePermissions.allowChangeBorderColor,e.shapePermissions.allowChangeBorderColor),t.shapePermissions.allowChangeBorderWidth=Ug(t.shapePermissions.allowChangeBorderWidth,e.shapePermissions.allowChangeBorderWidth),t.shapePermissions.allowChangeFillColor=Ug(t.shapePermissions.allowChangeFillColor,e.shapePermissions.allowChangeFillColor)),n.ignorePermissions||t.shapePermissions.allowChangeBorderWidth){var r=null!=t.parentContainer?t.parentContainer:this._productHandler.userEditContainer,i=Ug(t.borderWidth,e.borderWidth);if(null!=r&&null!=r.region&&this._productHandler.suppressOutOfRegionManipulation){var o=this._calcNewGroupBounds(this._productHandler.selectedItems,i);XC(fg.intersect(r.region,o),o)&&(t.borderWidth=i)}else t.borderWidth=i}if(null!=e.borderColor&&(n.ignorePermissions||t.shapePermissions.allowChangeBorderColor)){var s=bm.createColor(e.borderColor);t.borderColor=s}null!=e.fillColor&&(n.ignorePermissions||t.shapePermissions.allowChangeFillColor)&&(s=bm.createColor(e.fillColor),t instanceof a_&&t.isBarcodePlaceholder?t.content.fillColor=s:t.fillColor=s)}this._applyToItem(t,e,n)},t.prototype._applyToBaseTextItem=function(e,n,r){if(null!=n){if((r.ignorePermissions||e.textPermissions.allowChangeText)&&(e.text=Ug(e.text,n.text)),(r.ignorePermissions||e.textPermissions.allowChangeTextBIU)&&(e.underline=Ug(e.underline,n.underline)),e.tracking=Ug(e.tracking,n.tracking),null!=n.previewLeading?e.previewLeading=Ug(e.previewLeading,n.previewLeading):e.leading=Ug(e.leading,n.leading),(r.ignorePermissions||e.textPermissions.allowChangeTextAlignment)&&(e.alignment=Ug(e.alignment,n.alignment)),e.horizontalScale=Ug(e.horizontalScale,n.horizontalScale),e.verticalScale=Ug(e.verticalScale,n.verticalScale),e.previewScale=Ug(e.previewScale,n.previewScale),e.overlapLinesEnabled=Ug(e.overlapLinesEnabled,n.overlapLinesEnabled),e.checkTextCrop=Ug(e.checkTextCrop,n.checkTextCrop),null!=n.color&&(r.ignorePermissions||e.textPermissions.allowChangeFontColor)){var i=bm.createColor(n.color);e.color=Ug(e.color,i)}if(null!=n.font){if((r.ignorePermissions||e.textPermissions.allowChangeTextBIU)&&(e.font.fauxBold=Ug(e.font.fauxBold,n.font.fauxBold),e.font.fauxItalic=Ug(e.font.fauxItalic,n.font.fauxItalic)),(r.ignorePermissions||e.textPermissions.allowChangeFont)&&(e.font.postScriptName=Ug(e.font.postScriptName,n.font.postScriptName)),r.ignorePermissions||e.textPermissions.allowChangeFontSize)if(null!=n.font.previewSize){var o=t.parseItemsDataValueRelativeToHeight(n.font.previewSize,this._productHandler,r.relativeToPrintArea),s=Ug(e.previewFontSize,o),a=e.previewFontSize;if(e.previewFontSize=s,e instanceof cv){var l=this._productHandler.getHandler(e).getTransformedRectangle().location,u=s/a,c=new Tg(u,u,0,0,0);e.textPath.transform(c,l)}}else if(null!=n.font.size){var h=t.parseItemsDataValueRelativeToHeight(n.font.size,this._productHandler,r.relativeToPrintArea);e.font.size=Ug(e.font.size,h)}e.font.allCaps=Ug(e.font.allCaps,n.font.allCaps)}void 0!==n.stroke&&(r.ignorePermissions||e.textPermissions.allowChangeStroke)&&(null==n.stroke?e.stroke=null:(i=bm.createColor(n.stroke.color||"#00ffff"),e.stroke=new wy({size:n.stroke.size,color:i}))),void 0!==n.shadow&&(r.ignorePermissions||e.textPermissions.allowChangeShadow)&&(null==n.shadow?e.shadow=null:(i=bm.createColor(n.shadow.color||"#00ffff"),e.shadow=new Cy({size:n.shadow.size,distance:n.shadow.distance,angle:n.shadow.angle,color:i})))}this._applyToShapeItem(e,n,r)},t.prototype._applyToItem=function(t,e,n){var r=this;if(null!=e){if(null!=e.manipulationPermissions){var i=e.manipulationPermissions,o=t.manipulationPermissions;o.resizeGrips.corner=Ug(o.resizeGrips.corner,i.resizeGrips.corner),o.resizeGrips.edge=Ug(o.resizeGrips.edge,i.resizeGrips.edge),o.allowDelete=Ug(o.allowDelete,i.allowDelete),o.allowMoveHorizontal=Ug(o.allowMoveHorizontal,i.allowMoveHorizontal),o.allowMoveVertical=Ug(o.allowMoveVertical,i.allowMoveVertical),o.allowRotate=Ug(o.allowRotate,i.allowRotate),o.allowDragAndDrop=Ug(o.allowDragAndDrop,i.allowDragAndDrop)}null!=e.visualizationPermissions&&(t.visualizationPermissions.noPrint=Ug(t.visualizationPermissions.noPrint,e.visualizationPermissions.noPrint),t.visualizationPermissions.noShow=Ug(t.visualizationPermissions.noShow,e.visualizationPermissions.noShow));var s=e.itemPermissions;if(null!=s){t.itemPermissions.allowOpacityChange=Ug(t.itemPermissions.allowOpacityChange,s.allowOpacityChange),t.itemPermissions.allowZOrderChange=Ug(t.itemPermissions.allowZOrderChange,s.allowZOrderChange);var a=s.itemToolbarPermissions;null!=a&&(t.itemPermissions.itemToolbarPermissions.showEditButton=Ug(t.itemPermissions.itemToolbarPermissions.showEditButton,a.showEditButton),t.itemPermissions.itemToolbarPermissions.showDeleteButton=Ug(t.itemPermissions.itemToolbarPermissions.showDeleteButton,a.showDeleteButton),t.itemPermissions.itemToolbarPermissions.showSelectButton=Ug(t.itemPermissions.itemToolbarPermissions.showSelectButton,a.showSelectButton)),t.itemPermissions.allowRemoveOnLayoutChange=Ug(t.itemPermissions.allowRemoveOnLayoutChange,s.allowRemoveOnLayoutChange)}if(null!=e.textWrappingMode)switch(e.textWrappingMode.toLowerCase()){case"none":t.textWrappingMode=Fm.None;break;case"square":t.textWrappingMode=Fm.Square;break;case"tight":t.textWrappingMode=Fm.Tight;break;default:console.error("Unknown textWrappingMode:",e.textWrappingMode)}(n.ignorePermissions||t.itemPermissions.allowOpacityChange)&&(t.opacity=Ug(t.opacity,e.opacity),t instanceof a_&&t.updateContentAndFrames((function(t){return t.opacity=Ug(t.opacity,e.opacity)}))),t.name=Ug(t.name,e.name),null!=e.themeBinding&&(t.themeBinding.text=qg(t.themeBinding.text,e.themeBinding.text),t.themeBinding.stroke=qg(t.themeBinding.stroke,e.themeBinding.stroke),t.themeBinding.shadow=qg(t.themeBinding.shadow,e.themeBinding.shadow),t.themeBinding.img=qg(t.themeBinding.img,e.themeBinding.img),t.themeBinding.border=qg(t.themeBinding.border,e.themeBinding.border),t.themeBinding.fill=qg(t.themeBinding.fill,e.themeBinding.fill),t.themeBinding.textFill=qg(t.themeBinding.textFill,e.themeBinding.textFill),t.themeBinding.barcode=qg(t.themeBinding.barcode,e.themeBinding.barcode),t.themeBinding.line=qg(t.themeBinding.line,e.themeBinding.line),null!=e.themeBinding.styles&&(t.themeBinding.styles=xE(t.themeBinding.styles||[],e.themeBinding.styles)),this._updateThemeForItem(t))}if(n.changePosition&&!(t instanceof dy&&null!=t.parentPlaceholder))if(t instanceof Ey&&""!==t.text.trim()){var l=function(){t.getItemChangedEvent().remove(l),r._applyPositionAndSize(t,e,n.relativeToPrintArea)};if(t instanceof Gy){var u=e;null==u.width&&null==u.height?t.scheduledFitMode=gy.ShrinkOrStretchToContent:null==u.height?t.scheduledFitMode=gy.ShrinkOrStretchToContentHeight:null==u.width&&(t.scheduledFitMode=gy.ShrinkOrStretchToContentWidth)}t instanceof Gy&&null==t.scheduledFitMode||t instanceof Kv?this._applyPositionAndSize(t,e,n.relativeToPrintArea):t.getItemChangedEvent().add(l)}else this._applyPositionAndSize(t,e,n.relativeToPrintArea)},t.prototype._applyPositionAndSize=function(e,n,r){var i;if(!(e instanceof dv)){var o,s,a=t._getTargetBounds(this._productHandler,r),l=t._getVisualSize(this._productHandler,a),u=this._productHandler.contentAngle,c=Gg(null!=n&&null!=n.width?n.width:"50%",l.width),h=Gg(null!=n&&null!=n.height?n.height:"50%",l.height),p=this._productHandler.getHandler(e),d=p.getTransformedRectangle(!1),f=d.angle-u+(null!==(i=n.angle)&&void 0!==i?i:0);if(e instanceof u_||e instanceof d_)o=d.width,s=d.height;else if(e.type===uy.type)if(d.width<l.width&&d.height<l.height)o=d.width,s=d.height;else{var g=2*p.getBorderMargin(),m=window.Math.min(l.width/(d.width+g),l.height/(d.height+g));o=d.width*m,s=d.height*m}else e instanceof Gy?(o=null!=n&&null!=n.width?c:d.width,s=null!=n&&null!=n.height?h:d.height):(o=c,s=h);if(null!=this._productHandler.regionForCurrentContainer&&(m=window.Math.min(.9*l.width/o,.9*l.height/s))<1&&(o*=m,s*=m),e instanceof Hy){var y=$C(new Pv(e.isSqareCode?1:2.5,1),new Pv(c,h));o=y.width,s=y.height}else if(e instanceof Av||e instanceof a_&&!e.isEmptyContent&&null==e.barcodeFormat){if(null==n.width&&null==n.height&&!(e instanceof Hy)){var v=this._getOriginalImageSize(e),_=v.width<l.width&&v.height<l.height;o=_?v.width:l.width,s=_?v.height:l.height}var b=this._getImageSource(e);m=Math.min(o/b.width,s/b.height),o=b.width*m,s=b.height*m}else if(e instanceof Ky){var w=p.rectangle;m=Math.min(o/w.width,s/w.height),o=w.width*m,s=w.height*m}var C=a.width/2,x=a.height/2,S=null!=n&&null!=n.location&&null!=n.location.y?n.location.y:x,P=Gg(null!=n&&null!=n.location&&null!=n.location.x?n.location.x:C,a.width),I=Gg(S,a.height);90!==u&&180!==u||(I=a.height-I),180!==u&&270!==u||(P=a.width-P);var E=(null!=n&&null!=n.location?n.location.originY:null)||DC.Center;switch(((null!=n&&null!=n.location?n.location.originX:null)||DC.Center).toLowerCase()){case DC.Left:C=P;break;case DC.Right:0===u?C=P-o:90===u?C=P-s:180===u?C=P+o:270===u&&(C=P+s);break;case DC.Center:0===u?C=P-o/2:90===u?C=P-s/2:180===u?C=P+o/2:270===u&&(C=P+s/2)}switch(E.toLowerCase()){case DC.Top:x=I;break;case DC.Bottom:0===u?x=I-s:90===u?x=I+o:180===u?x=I+s:270===u&&(x=I-o);break;case DC.Center:0===u?x=I-s/2:90===u?x=I+o/2:180===u?x=I+s/2:270===u&&(x=I-o/2)}C+=a.left,x+=a.top;var T=new Ag(0,0,o,s);if(T.angle=f,T.location=new pg(C,x),e instanceof Ey)if(e instanceof Gy&&null!=n&&e.overflowStrategy===yy.Clip&&(null==n.width&&null==n.height?e.scheduledFitMode=gy.ShrinkOrStretchToContent:null==n.height?e.scheduledFitMode=gy.ShrinkOrStretchToContentHeight:null==n.width&&(e.scheduledFitMode=gy.ShrinkOrStretchToContentWidth)),e instanceof Gy||e instanceof Kv){var A=T.toRectangleF(),k=Eg.rectangle(A.left,A.top,A.width,A.height);e.sourcePath=k,e.sourceRectangle=A.clone(),e instanceof Gy?e.textRectangle=A:e.boundingPaths=[k]}else p.setTransformedRectangle(T);else{if(e instanceof a_||e instanceof dy){var O=T.toRectangleF();e.sourceRectangle=O,e.sourcePath=Eg.rectangle(O.left,O.top,O.width,O.height)}p.setTransformedRectangle(T)}this._productHandler.getHandler(e).update()}},t.prototype._getOriginalImageSize=function(t){return t instanceof Av?t.getOriginalImageSize():null!=t.content&&t.content instanceof Av?t.content.getOriginalImageSize():null},t._getTargetBounds=function(t,e){return e?t.getPrintAreaBounds():new fg(0,0,t.currentSurface.width,t.currentSurface.height)},t._getVisualSize=function(t,e){return t.getVisualSize(e)},t.prototype._getImageSource=function(t){return t instanceof Av?t.source:t.content.source},t.prototype._getRotatedRegion=function(t){if(null==t.region)return null;var e=this._productHandler.userEditPrintArea.bounds,n=fg.FromObject(t.region),r=this._productHandler.contentAngle;if(r>0){var i=Ag.fromRectangleF(n);i.rotateAt(r,e.center),n=i.bounds}return n},t.prototype._calcNewGroupBounds=function(t,e){var n,r,i=this,o=t.map((function(t){return t.clone()})).map((function(t){return i._productHandler.getHandler(t)}));try{for(var s=function(t){var e="function"==typeof Symbol&&Symbol.iterator,n=e&&t[e],r=0;if(n)return n.call(t);if(t&&"number"==typeof t.length)return{next:function(){return t&&r>=t.length&&(t=void 0),{value:t&&t[r++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")}(o),a=s.next();!a.done;a=s.next()){var l=a.value;l instanceof Yw?l.item.borderWidth=e:l.width=e}}catch(c){n={error:c}}finally{try{a&&!a.done&&(r=s.return)&&r.call(s)}finally{if(n)throw n.error}}var u=o.map((function(t){return t.bounds}));return fg.FromLTRB(Math.min.apply(Math,xE(u.map((function(t){return t.left})))),Math.min.apply(Math,xE(u.map((function(t){return t.top})))),Math.max.apply(Math,xE(u.map((function(t){return t.right})))),Math.max.apply(Math,xE(u.map((function(t){return t.bottom})))))},t.parseItemsDataValueRelativeToHeight=function(e,n,r){if("number"==typeof e)return e;var i=t._getTargetBounds(n,r);return Gg(e,t._getVisualSize(n,i).height)},t}(),PE=function(){function t(t){this._surface=t}return t.prototype.getBounds=function(t){var e=this.getPrintAreasBounds(t);return fg.union(e,new fg(0,0,this._surface.width,this._surface.height))},t.prototype.getPrintAreasBounds=function(t){return fg.getOverallBounds(this._surface.printAreas.toArray().map((function(e){return e.getBounds(t)})))},t}(),IE=function(){var t=function(e,n){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(e,n)};return function(e,n){function r(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),EE=function(t,e){var n="function"==typeof Symbol&&t[Symbol.iterator];if(!n)return t;var r,i,o=n.call(t),s=[];try{for(;(void 0===e||e-- >0)&&!(r=o.next()).done;)s.push(r.value)}catch(a){i={error:a}}finally{try{r&&!r.done&&(n=o.return)&&n.call(o)}finally{if(i)throw i.error}}return s},TE=function(){for(var t=[],e=0;e<arguments.length;e++)t=t.concat(EE(arguments[e]));return t},AE=function(t){var e="function"==typeof Symbol&&Symbol.iterator,n=e&&t[e],r=0;if(n)return n.call(t);if(t&&"number"==typeof t.length)return{next:function(){return t&&r>=t.length&&(t=void 0),{value:t&&t[r++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")},kE=function(t){function e(e){var n=e.holderElement,r=e.backendUrl,i=e.surface,o=void 0===i?new v_:i,s=e.canvasBackground,a=void 0===s?"chess":s,l=e.rulerEnabled,u=void 0===l||l,c=e.frontEndTextRenderingEnabled,h=void 0!==c&&c,p=e.zone,d=e.productViewerPartId,f=void 0===d?"ProductViewer":d,g=t.call(this,void 0===p?null:p)||this;return g._containersFlatList=[],g.containersFlatListChangedEvent=new og,g._textFormattingEnabled=!0,g._updateItem=function(t){t instanceof cv&&(t.fitToPathStep=g.configuration.text.fitToPathStep)},g._onHistoryChanged=function(t,e){g._history.addSnapshot()},g._surface=null,g._onCurrentSurfaceContainerAdded=function(t){t.item.name===M_.MAIN_CONTAINER_NAME&&t.item.renderingType===Vf.Normal&&(g.userEditContainer=t.item)},g._onSurfacePropertyChanged=function(t,e){switch(e){case"mockup":g._updateContainersFlatList();break;case"width":case"height":var n=g._surfaceHandler.getBounds(Pm.Total);g._canvas.setWorkspaceSize(n.width,n.height);break;case"rotateAngle":g.contentAngle=g.surface.rotateAngle}},g._onPrintAreaPropertyChanged=function(t,e){"bounds"!==e&&"slug"!==e&&"bleed"!==e||g._updateCanvasByPrintAreaBounds()},g._updateCanvasByPrintAreaBounds=function(){var t=g._surfaceHandler.getBounds(Pm.Total);g._canvas.workspaceWidth===t.width&&g._canvas.workspaceHeight===t.height||g._canvas.setWorkspaceSize(t.width,t.height);var e=new pg(-Math.min(0,t.left),-Math.min(0,t.top));g._canvas.offset=e;var n=g._surfaceHandler.getPrintAreasBounds(Pm.Trim);g._baseRulersOffset=new pg(n.left+e.x,n.top+e.y)},g._updateContainersFlatList=function(){var t=g._containersFlatList;g._containersFlatList=TE(g.surface.mockup.underContainers,g.surface.containers,g.surface.mockup.overContainers,g.previewMode?[]:g._safetyLinesHandler.safetyLinesContainers,g._watermarkHandler.watermarkContainers,g._gridHandler.gridContainers),g.containersFlatListChangedEvent.notify(g._getDifference(t,g._containersFlatList))},g._setActiveThrowsException=!1,g.frontEndTextRenderingEnabled=h,g._backendUrl=r,g._serviceEndPoint=Bg(g._backendUrl,"api/ccviewer"),g._normalizeHolderElement(n),g._viewerElement=g._createViewerElement(n,f),g._canvas=g._createCanvas(),g._configuration=new sE(null),g._screenXDpi=g._screenYDpi=96,g._canvasSaveStateDelegate=null,g._bitmapViewerSaveStateDelegate=null,g._mouseMoveDelegate=null,g._mouseUpDelegate=null,g._mouseDownDelegate=null,g._ignoreMouseDown=!1,g._ignoreMouseDownTimeout=null,g._doubleClickDelegate=null,g._zoomDelegate=null,g._resizeDelegate=null,g._keyDownDelegate=null,g._keyUpDelegate=null,g._modalBgClass=null,g._clearSelectionOnDocumentClick=!0,g._clearSelectionOnViewerClick=!0,g._devicePixelRatio=1,g._whitespaceDiv=null,g._resizeCheckIntervalId=null,g._workspaceRotation=new zx,g._safetyLinesHandler=new Cw(g._configuration.printZone),g._safetyLinesHandler.addChanged(g._updateContainersFlatList),g._safetyLinesHandler.addVisibilityChanged((function(){g.canvas.redraw()})),g._watermarkHandler=new oE(null,g._canvas.service),g._watermarkHandler.add_watermarkCollectionChanged(g._updateContainersFlatList),g._gridHandler=new _w,g._gridHandler.addChanged((function(){g.canvas.redraw()})),g._eventManager=new fE(o.parentProduct,g),g._eventManager.addPrintAreaPropertyChanged(g._onPrintAreaPropertyChanged),g._eventManager.addPrintAreaCollectionChanged(g._updateCanvasByPrintAreaBounds),g.frontEndTextRenderingEnabled&&g._eventManager.addItemPropertyChanged((function(t,e){t instanceof Ey&&g._canvas.handlerFactory.replaceTextItemHandler(t)})),g._productHandler=new _E(g),g.surface=o,g._licenseHandler=new uE(g,g._serviceEndPoint),g.initialize({ignore:!1}),g.zoomMode=Xb.bestFit,g.viewportAlignment=Yb.centerCenter,g.rulerEnabled=u,g._setCanvasBackground(a),g._snapshotHandler=new vE(g),g._variableItemHelper=new yS(g._productHandler,g._canvas,g._eventManager),g._history=g._initializeHistory(),g._productThemeManager=new gE(g._productHandler,null,g._canvas,g._eventManager),g._itemsDataApplier=new SE(g._productHandler,g._canvas,g._productThemeManager),g._commandManager=new LP(g._history,g._productHandler,g._productThemeManager,g._variableItemHelper,g._eventManager,g._canvas,g._itemsDataApplier),g.eventManager.addItemAdded((function(t){return g._updateItem(t.item)})),g.setMouseBehavior(XP.Selection),g}return IE(e,t),Object.defineProperty(e.prototype,"containersFlatList",{get:function(){return this._containersFlatList},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"commandManager",{get:function(){return this._commandManager},enumerable:!0,configurable:!0}),e.prototype.setMouseBehavior=function(t,e,n){if(null==this.canvas)throw new Yf("Canvas is not initialized!");this.canvas.mouseBehaviorManager.setMouseBehavior(t,e,n)},Object.defineProperty(e.prototype,"mouseBeahiour",{get:function(){return this.canvas.mouseBehaviorManager.currentMouseBehaviour},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"configuration",{get:function(){return this._configuration},set:function(t){this._configuration=new sE(t),this.gridHandler.setConfig(this._configuration.grid,this._configuration.rulers.unit,this._configuration.rulers.customUnitScale),this._setRulersConfig(this._configuration.rulers),this._variableItemHelper.maskSymbol=this._configuration.variableItemsMaskSymbol,this._productThemeManager.productThemes=this._configuration.productThemes,null!=this.surface&&null!=this.surface.parentProduct&&this.surface.parentProduct.getAllItems().forEach(this._updateItem),this.history.historySize=this.configuration.historySize,this.commandManager.configuration=this.configuration,this.canvas.snapLinesHandler.setConfiguration(this._configuration.snapLines),this._safetyLinesHandler.conf=this._configuration.printZone},enumerable:!0,configurable:!0}),e.prototype.exitEditMode=function(){this._canvas.getAllItemHandlers({onlyType:iI}).forEach((function(t){t.editing&&t.exitEditMode()}))},e.prototype._initializeHistory=function(){var t=new yE(this._snapshotHandler);return this.eventManager.addSurfaceCollectionChanged(this._onHistoryChanged),this.eventManager.addContainerCollectionChanged(this._onHistoryChanged),this.eventManager.addItemCollectionChanged(this._onHistoryChanged),this.eventManager.addUnderMockupContainerCollectionChanged(this._onHistoryChanged),this.eventManager.addOverMockupContainerCollectionChanged(this._onHistoryChanged),this.eventManager.addPreviewMockupContainerCollectionChanged(this._onHistoryChanged),this.eventManager.addItemPropertyChanged(this._onHistoryChanged),this.canvas.setHistory(t),t},e.prototype._normalizeHolderElement=function(t){t.style.overflow="hidden",t.style.userSelect="none",t.style.webkitUserSelect="none",t.style.msUserSelect="none",t.style.position="relative"},e.prototype._createViewerElement=function(t,e){var n=document.createElement("div");return n.id=t.id+"_"+e,n.attributes.name=n.id,n.style.width="100%",n.style.height="100%",n.style.display="block",n.style.zIndex="1",n.style.margin="0",n.style.padding="0",n.style.border="0",n.style.position="relative",n.style.overflow="hidden",n.style.transform="translate3d(0px, 0px, 0px)",n.style.touchAction="none",t.appendChild(n),n},Object.defineProperty(e.prototype,"licenseHandler",{get:function(){return this._licenseHandler},enumerable:!0,configurable:!0}),e.prototype._createCanvas=function(){var t=new iE(this);return t.serviceEndpoint=this._serviceEndPoint,t.loadingImageUrl=Bg(this._serviceEndPoint,"/resource?image=waitclock"),t.handlerUrl=this._serviceEndPoint,t.initialize(),t.multipleSelectionEnabled=!0,t},e.prototype._setCanvasBackground=function(t){"chess"===t?(this.canvas.backgroundImage=Bg(this._serviceEndPoint,"/resource?image=background"),this.canvas.isSquaredBackground=!0):this.canvas.surfaceCanvas.style.backgroundColor=t.color},e.prototype.setTextWhizzModule=function(t){this.canvas.setTextWhizzModule(t,this._backendUrl)},e.prototype.initTextEditor=function(t,e,n){void 0===n&&(n=uw.Default),this.canvas.initTextEditor(n,t,e,this._serviceEndPoint)},Object.defineProperty(e.prototype,"canvas",{get:function(){return this._canvas},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"whitespaceDiv",{get:function(){return this._whitespaceDiv},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"surface",{get:function(){return this._surface},set:function(t){if(null==t)throw new Qf("surface");var e=this.surface;t!==e&&(this._canvas.clearSelectedItemHandlers(),this._surface=t,this._eventManager.setProduct(t.parentProduct),this._onCurrentSurfaceChange(e))},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"safetyLinesHandler",{get:function(){return this._safetyLinesHandler},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"gridHandler",{get:function(){return this._gridHandler},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"surfaceHandler",{get:function(){return this._surfaceHandler},enumerable:!0,configurable:!0}),e.prototype._onCurrentSurfaceChange=function(t){var e,n,r,i,o,s,a,l,u,c,h,p;this._safetyLinesHandler.surface=this.surface,this._watermarkHandler.surface=this.surface,this._gridHandler.surface=this.surface,this._surfaceHandler=new PE(this.surface);var d=this._surfaceHandler.getBounds(Pm.Total);if(this._updateCanvasByPrintAreaBounds(),this.canvas.service.beginMultiCall(),this._canvas.setWorkspaceSize(d.width,d.height),this._updateContainersFlatList(),this.canvas.service.endMultiCall(),null!=t){try{for(var f=AE(this._getContainerCollections(t)),g=f.next();!g.done;g=f.next()){var m=g.value;try{for(var y=(r=void 0,AE(m)),v=y.next();!v.done;v=y.next()){var _=v.value;try{for(var b=(o=void 0,AE(_.items)),w=b.next();!w.done;w=b.next())this.getHandler(w.value).canvas=null}catch(A){o={error:A}}finally{try{w&&!w.done&&(s=b.return)&&s.call(b)}finally{if(o)throw o.error}}}}catch(k){r={error:k}}finally{try{v&&!v.done&&(i=y.return)&&i.call(y)}finally{if(r)throw r.error}}m.remove_collectionChanged(this._updateContainersFlatList)}}catch(O){e={error:O}}finally{try{g&&!g.done&&(n=f.return)&&n.call(f)}finally{if(e)throw e.error}}t.containers.remove_itemAdded(this._onCurrentSurfaceContainerAdded)}try{for(var C=AE(this._getContainerCollections(this._surface)),x=C.next();!x.done;x=C.next()){m=x.value;try{for(var S=(u=void 0,AE(m)),P=S.next();!P.done;P=S.next()){_=P.value;try{for(var I=(h=void 0,AE(_.items)),E=I.next();!E.done;E=I.next())this.getHandler(E.value).canvas=this.canvas}catch(M){h={error:M}}finally{try{E&&!E.done&&(p=I.return)&&p.call(I)}finally{if(h)throw h.error}}}}catch(R){u={error:R}}finally{try{P&&!P.done&&(c=S.return)&&c.call(S)}finally{if(u)throw u.error}}m.add_collectionChanged(this._updateContainersFlatList)}}catch(D){a={error:D}}finally{try{x&&!x.done&&(l=C.return)&&l.call(C)}finally{if(a)throw a.error}}if(this._canvas.updateColors(),this.surface.addPropertyChanged(this._onSurfacePropertyChanged),this.contentAngle=this.surface.rotateAngle,this._updateAlignMargin(),this._eventManager.surfaceChangedEvent.notify(this._surface),this._canvas.redraw(),this.zoomMode=Xb.bestFit,this.canvas.updateButtonGroups({onlyVisible:!1}),this.canvas.clearSelectedItemHandlers(),this.surface.containers.length>0){var T=this.surface.containers.firstOrDefault((function(t){return t.name===M_.MAIN_CONTAINER_NAME}));this.userEditContainer=null!=T?T:this.surface.containers.get(0),this.surface.containers.add_itemAdded(this._onCurrentSurfaceContainerAdded)}},e.prototype._updateAlignMargin=function(){if(this.surface instanceof v_&&null!=this._canvas&&!this.surface.printAreas.empty){var t={left:0,right:0,top:0,bottom:0},e=this.surface.printAreas.selectMany((function(t){return t.safetyLines}));if(e.length>0){var n=this.configuration.alignToSafetyLineName,r=lg.isEmpty(n)?null:e.firstOrDefault((function(t){return t.name==n}));null==r&&(r=e.first());var i=r.getMargin();t.left=i.left,t.right=i.right,t.top=i.top,t.bottom=i.bottom}var o=this.surface.printAreas.get(0).bounds;t.left+=o.left,t.top+=o.top,t.right+=this.surface.width-o.right,t.bottom+=this.surface.height-o.bottom,this._canvas.leftMargin=t.left,this._canvas.rightMargin=t.right,this._canvas.topMargin=t.top,this._canvas.bottomMargin=t.bottom}},e.prototype._getContainerCollections=function(t){return[t.mockup.underContainers,t.mockup.overContainers,t.containers,this._safetyLinesHandler.safetyLinesContainers,this._watermarkHandler.watermarkContainers,this._gridHandler.gridContainers]},Object.defineProperty(e.prototype,"watermarkConfig",{get:function(){return this._watermarkHandler.watermarkConfig},set:function(t){this._watermarkHandler.watermarkConfig=t},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"selectedItems",{get:function(){var t=this.canvas.getSelectedItemHandlers();return null!==t?t.select((function(t){return t.item})).toArray():null},set:function(t){if(null!=t){var e=t.map(this.canvas.handlerFactory.get);this.canvas.setSelectedItemHandlers(e)}else this.canvas.clearSelectedItemHandlers()},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"currentItem",{get:function(){var t=this.canvas.currentItemHandler;return null!=t?t.item:null},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"zoomConfig",{get:function(){return this._configuration?this._configuration.zoom:null},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"previewMode",{get:function(){return this.canvas.previewMode},set:function(t){this.canvas.previewMode=t,this._updateContainersFlatList()},enumerable:!0,configurable:!0}),e.prototype._getDifference=function(t,e){return{added:e.reduce((function(e,n){return t.includes(n)||e.push(n),e}),new Array),removed:t.reduce((function(t,n){return e.includes(n)||t.push(n),t}),new Array)}},Object.defineProperty(e.prototype,"contentWidth",{get:function(){return this._getContentDimension(this.workspaceWidth,cg.screenDpi)},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"contentHeight",{get:function(){return this._getContentDimension(this.workspaceHeight,cg.screenDpi)},enumerable:!0,configurable:!0}),e.prototype._getContentDimension=function(t,e){var n=bv(t,e)*this.zoom/cg.devicePixelRatio;return Math.ceil(n)},Object.defineProperty(e.prototype,"workspaceWidth",{get:function(){return this.canvas.workspaceWidth},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"workspaceHeight",{get:function(){return this.canvas.workspaceHeight},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"actualSizeHorizontalScale",{get:function(){return cg.screenDpi/cg.devicePixelRatio/72},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"actualSizeVerticalScale",{get:function(){return cg.screenDpi/cg.devicePixelRatio/72},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"modalBgClass",{get:function(){return this._modalBgClass},set:function(t){this._modalBgClass=t},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"textFormattingEnabled",{get:function(){return this._textFormattingEnabled},set:function(t){this._textFormattingEnabled=t},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"clearSelectionOnDocumentClick",{get:function(){return this._clearSelectionOnDocumentClick},set:function(t){this._clearSelectionOnDocumentClick=t},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"clearSelectionOnViewerClick",{get:function(){return this._clearSelectionOnViewerClick},set:function(t){this._clearSelectionOnViewerClick=t},enumerable:!0,configurable:!0}),e.prototype._renderContent=function(t){return t+='<div id="cvImage" style="',(t+="width:"+this.contentWidth+"px;height:"+this.contentHeight+"px;")+'position:absolute;left:0px;top:0px;z-index:1"/>'},e.prototype._setZoomMode=function(e){t.prototype._setZoomMode.call(this,e),xg(this.canvas.zoom,this.zoom)||(this.canvas.setZoom(this.zoom),this.canvas.redraw())},e.prototype.setZoom=function(e,n){if("number"==typeof e){this.zoomConfig&&(e>this.zoomConfig.max&&(e=this.zoomConfig.max),e<this.zoomConfig.min&&(e=this.zoomConfig.min)),e=t.prototype.setZoom.call(this,e,n);var r=this.canvas;return r.service.beginMultiCall(),r.setZoom(e),r.service.endMultiCall().finally((function(){return r.redraw()})),e}},e.prototype.getMaxZoom=function(){var e=t.prototype.getMaxZoom.call(this);return Math.min(e,this.canvas.calcPlatformLimitZoom())},e.prototype._onDocumentClick=function(e){if(!0!==this._ignoreDocumentClickOnce){if(t.prototype._onDocumentClick.call(this,e),this.clearSelectionOnDocumentClick&&!this._ignoreSelectionClick(e)){var n=this.canvas;n&&n.getSelectedItemHandlers().length>0&&(n.clearSelectedItemHandlers(),n.redraw())}}else this._ignoreDocumentClickOnce=!1},e.prototype._ignoreSelectionClick=function(t){return!!this.element.contains(t.target)||Zb.isEventPathContainsClass(t,e.preventClickHandleClass)},e.prototype._onMouseMove=function(e){t.prototype._onMouseMove.call(this,e);var n=this.canvas;(n.multipleSelectionEnabled||n.getSelectedItemHandlers().length>0)&&e.preventDefault()},e.prototype._onTouch=function(e){t.prototype._onTouch.call(this,e),this._touchFlags.isScroll=!0,this._touchFlags.isScrollChecked=!1,this._touchFlags.gestureCenter=null,this._touchFlags.lastPinchEvent=null,this._touchFlags.initialCurrentLeft=this._holderElement.scrollLeft,this._touchFlags.initialCurrentTop=this._holderElement.scrollTop},e.prototype._onPinch=function(e){if(this._touchFlags.pinchStarted||(this._touchFlags.pinchStarted=!0),this.canvas.raisePinch(e),!e.defaultPrevented){null!==this._touchFlags.mouseDown.onTimeout&&(clearTimeout(this._touchFlags.mouseDown.timeout),this._touchFlags.mouseDown.onTimeout=null);var n=this._touchFlags;if(null==n.gestureCenter&&(n.gestureCenter=e.gesture.center),n.lastPinchEvent=e,n.isScroll?this.scrollingPosition=new pg(n.initialCurrentLeft+(n.gestureCenter.pageX-e.gesture.center.pageX),n.initialCurrentTop+(n.gestureCenter.pageY-e.gesture.center.pageY)):(!cg.IsIos()||cg.IosMajorVersion()>5)&&t.prototype._onPinch.call(this,e,!1),!n.isScrollChecked&&this.pinchZoomEnabled&&e.gesture.deltaTime>350){n.isScrollChecked=!0;var r=this._calcAngle(e.gesture.touches[0],e.gesture.touches[1],n.gestureCenter);this._isPinchByAngle(r,e.gesture.scale)&&this._isPinchByModule(e.gesture.touches[0],e.gesture.touches[1],n.gestureCenter)&&(n.isScroll=!1,t.prototype._onPinch.call(this,e,!1))}}},e.prototype._onRelease=function(e){var n=this._touchFlags;if(this._touchFlags.pinchStarted)return this._touchFlags.pinchStarted=!1,void this.canvas.raiseRelease();if(this.pinchZoomEnabled&&!n.isScrollChecked&&null!=n.lastPinchEvent){var r=this._calcAngle(n.lastPinchEvent.gesture.touches[0],n.lastPinchEvent.gesture.touches[1],n.gestureCenter);this._isPinchByAngle(r,n.lastPinchEvent.gesture.scale)&&t.prototype._onPinch.call(this,n.lastPinchEvent,!1)}t.prototype._onRelease.call(this,e)},e.prototype._isPinchByAngle=function(t,e){return cg.IsTouchIE()?t>=160||e<=.85||e>=1.3:t>=160&&(e<=.85||e>=1.3)},e.prototype._isPinchByModule=function(t,e,n){var r=[t.pageX-n.pageX,t.pageY-n.pageY],i=[e.pageX-n.pageX,e.pageY-n.pageY],o=Math.sqrt(Math.pow(r[0],2)+Math.pow(r[1],2)),s=Math.sqrt(Math.pow(i[0],2)+Math.pow(i[1],2)),a=[r[0]+i[0],r[1]+i[1]],l=Math.sqrt(Math.pow(a[0],2)+Math.pow(a[1],2));return l<o&&l<s},e.prototype._calcAngle=function(t,e,n){var r=[t.pageX-n.pageX,t.pageY-n.pageY],i=[e.pageX-n.pageX,e.pageY-n.pageY],o=(r[0]*i[0]+r[1]*i[1])/(Math.sqrt(Math.pow(r[0],2)+Math.pow(r[1],2))*Math.sqrt(Math.pow(i[0],2)+Math.pow(i[1],2)));return 180*Math.acos(o)/Math.PI},e.prototype.initialize=function(n){var r=this,i=void 0===n?{}:n,o=i.ignore,s=i.intervalCheckLoop;if(void 0!==o&&!o){t.prototype.initialize.call(this,void 0===s?null:s),this._holderElement.style.msTouchAction="none",this._holderElement.style.touchAction="none",this._contentElements.push(this._imageCtx=this.element.querySelector("#cvImage")),this._whitespaceDiv=document.createElement("div"),this._whitespaceDiv.id="cvWhitespace",this._whitespaceDiv.tabIndex=-1,this._whitespaceDiv.style.position="absolute",this._whitespaceDiv.style.zIndex="1",this._whitespaceDiv.style.overflow="hidden",this._holderElement.appendChild(this._whitespaceDiv),this._updateWhitespace();var a=this._pointerEvents;this._whitespaceDiv.addEventListener("click",Zb.createBoundedWrapper(this,this._onWorkspaceClick)),a.start.split(" ").forEach((function(t){r._holderElement.addEventListener(t,Zb.createBoundedWrapper(r,r._onWhitespaceMouseDown))})),a.move.split(" ").forEach((function(t){r._holderElement.addEventListener(t,Zb.createBoundedWrapper(r,r._onWhitespaceMouseMove))})),a.up.split(" ").forEach((function(t){r._holderElement.addEventListener(t,Zb.createBoundedWrapper(r,r._onWhitespaceMouseUp))})),a.cancel.split(" ").forEach((function(t){r._holderElement.addEventListener(t,Zb.createBoundedWrapper(r,r._onWhitespaceMouseUp))})),cw(this._whitespaceDiv).on("doubletap",this._onWorkspaceDoubleClick.bind(this));var l=this.canvas;l.addStyles();var u,c=this._contentCtx.firstChild;this._onCanvasStatusChangedDelegate||(this._onCanvasStatusChangedDelegate=this._onCanvasStatusChanged.bind(this),l.add_statusChanged(this._onCanvasStatusChangedDelegate)),l.status==Qb.ready&&l.isInitialized?(l.setZoom(this.zoom,!0),l.addElement(c),l.redraw()):(u=(function(){l.status==Qb.ready&&l.isInitialized&&(l.remove_statusChanged(u),l.remove_initialized(u),u=null,l.setZoom(this.getZoom(),!0),l.addElement(c),l.redraw())}).bind(this),l.add_statusChanged(u),l.add_initialized(u));var h=function(t,n){var r=n.currentItemHandler;return r instanceof iI&&r.editing?t.keyCode>=112&&t.keyCode<=123||!0===t.altKey:!(null!=t.code&&!Zb.isEventPathContainsClass(t,e.preventKeyHandleClass)&&Zb.getEventPath(t).includes(l.viewer.whitespaceDiv))||"ArrowLeft"!==t.code&&"ArrowUp"!==t.code&&"ArrowRight"!==t.code&&"ArrowDown"!==t.code&&"ShiftLeft"!==t.code&&"ShiftRight"!==t.code&&"Delete"!==t.code&&function(t){return!t.ctrlKey&&!t.metaKey||"KeyZ"!==t.code&&"KeyY"!==t.code}(t)};this._keyUpDelegate=function(t){h(t,l)||(l.raiseKeyUp(t),t.preventDefault())},this._keyDownDelegate=function(t){h(t,l)||(l.raiseKeyDown(t),t.preventDefault())},document.addEventListener("keyup",this._keyUpDelegate),document.addEventListener("keydown",this._keyDownDelegate),this._touchFlags.mouseDown={onTimeout:null},this._mouseDownDelegate=function(t,e){return r._setActiveElementIeFix(),"touchstart"===e.type||"MSPointerDown"===e.type||"pointerDown"===e.type?("touchstart"===e.type&&(r._ignoreMouseDown=!0),null!=r._ignoreMouseDownTimeout&&clearTimeout(r._ignoreMouseDownTimeout),r._ignoreMouseDownTimeout=setTimeout((function(){this._ignoreMouseDown=!1}),300),r._touchFlags.mouseDown.onTimeout=function(){l.raiseMouseDown(e)}):r._ignoreMouseDown||l.raiseMouseDown(e),!0},this.add_workspaceMouseDown(this._mouseDownDelegate),this._doubleClickDelegate=function(t,e){return r._setActiveElementIeFix(),l.raiseDoubleClick(e),!0},this.add_workspaceDoubleClick(this._doubleClickDelegate),this._mouseMoveDelegate=function(t,e){return null!==r._touchFlags.mouseDown.onTimeout&&(clearTimeout(r._touchFlags.mouseDown.timeout),r._touchFlags.mouseDown.onTimeout(),r._touchFlags.mouseDown.onTimeout=null),l.raiseMouseMove(e),!0},this.add_workspaceMouseMove(this._mouseMoveDelegate);var p=!1;this._mouseUpDelegate=function(t,e){if(cg.IsTouchDevice()){if(p)return;p=!0,setTimeout((function(){return p=!1}),200)}return null!==r._touchFlags.mouseDown.onTimeout&&(clearTimeout(r._touchFlags.mouseDown.timeout),r._touchFlags.mouseDown.onTimeout(),r._touchFlags.mouseDown.onTimeout=null),l.raiseMouseUp(e),!0},this.add_workspaceMouseUp(this._mouseUpDelegate),this._resizeDelegate=this._onResize.bind(this),l.add_workspaceSizeChanged(this._resizeDelegate),this._resizeCheckIntervalId=this._intervalCheckLoop.start({checkFunction:function(){return r._devicePixelRatio!==cg.devicePixelRatio},onChange:function(){r._devicePixelRatio=cg.devicePixelRatio,r._onResize(r,!1)}})}},e.prototype._onWorkspaceClick=function(e){t.prototype._onWorkspaceClick.call(this,e);var n=new pg(e.x,e.y),r=this.canvas.getItemHandlersByHitTest(n);null!=r[0]&&r[0].dispatchClickEvent(null)},e.prototype._setActiveElementIeFix=function(){if(cg.IsIE()){var t=this.element;try{if(document.activeElement!==t&&t.setActive){if(!this._setActiveThrowsException)try{t.setActive(!0)}catch(n){this._setActiveThrowsException=!0}if(this._setActiveThrowsException){var e=null;try{e=this._getCurrentScrollPosition()}catch(n){}t.focus(),e&&window.parent.scrollTo(e.x,e.y)}}}catch(n){console.log(n)}}},e.prototype._getCurrentScrollPosition=function(){var t,e,n=null!=window.parent?window.parent:window;return void 0!==n.pageXOffset?(t=n.pageXOffset,e=n.pageYOffset):void 0!==n.scrollX?(t=n.scrollX,e=n.scrollY):document.documentElement&&void 0!==document.documentElement.scrollLeft?(t=document.documentElement.scrollLeft,e=document.documentElement.scrollTop):(t=document.body.scrollLeft,e=document.body.scrollTop),{x:t,y:e}},e.prototype._updateWhitespace=function(){if(null!=this._whitespaceDiv){var t=90===this._contentAngle||270===this._contentAngle,e=t?this.contentHeight:this.contentWidth,n=t?this.contentWidth:this.contentHeight,r=this._getViewportLocation(),i=this.width,o=this.height,s=this.rulerEnabled?this.rulerWidth:0,a=this.scrollBarWidth,l=this.scrollBarsStyle===Gb.always,u=this.scrollBarsStyle===Gb.auto,c=l||u&&n>o-s,h=l||u&&e>i-s,p=(c=c||h&&u&&n>o-s-a)?a:0,d=(h=h||c&&u&&e>i-s-a)?a:0;this._whitespaceDiv.style.left=Math.min(r.x,s)+"px",this._whitespaceDiv.style.top=Math.min(r.y,s)+"px",this._whitespaceDiv.style.width=Math.max(i-s-p,e)+"px",this._whitespaceDiv.style.height=Math.max(o-s-d,n)+"px",u&&(this._holderElement.style.overflowX=h?"auto":"hidden",this._holderElement.style.overflowY=c?"auto":"hidden"),this.canvas.updateButtonGroups()}},e.prototype._updateViewport=function(){t.prototype._updateViewport.call(this),this._updateWhitespace()},e.prototype._onWhitespaceDoubleClick=function(t){var e=this._useWorkspaceCoords(t);this._workspaceDoubleClickEvent.notify(this,{x:e.x,y:e.y})},e.prototype._onWhitespaceMouseDown=function(t){if(!this._isManyTouches(t)){var e=this._useWorkspaceCoords(t);this._workspaceMouseDownEvent.notify(this,e),cg.IsTouchIE()||this._whitespaceDiv.setCapture()}},e.prototype._onWhitespaceMouseUp=function(t){if(!this._isManyTouches(t)){var e=this._useWorkspaceCoords(t);this._workspaceMouseUpEvent.notify(this,e),this._whitespaceDiv.releaseCapture()}},e.prototype._onWhitespaceMouseMove=function(t){if(this._isManyTouches(t))t.preventDefault();else{var e=this._useWorkspaceCoords(t);this._workspaceMouseMoveEvent.notify(this,e)}},e.prototype._getElementForCursor=function(){return null!=this._whitespaceDiv?this._whitespaceDiv:t.prototype._getElementForCursor.call(this)},e.prototype._onResize=function(e,n){t.prototype._onResize.call(this,e,n);var r=this.canvas;r.service.beginMultiCall(),r.setZoom(this.zoom,void 0,{force:!0,updateButtonGroup:n}),r.service.endMultiCall().finally((function(){return r.redraw()}))},e.prototype._onCanvasStatusChanged=function(t){this.canvas.status==Qb.busy?this.lockViewer():this.unlockViewer()},e.prototype.lockViewer=function(){this._isViewerLocked=!0;var t=this.element,e=document.getElementById(this.id+"_modalBg");if(!e){var n=(e=document.createElement("div")).style;n.position="absolute",n.top="0",n.left="0",this._modalBgClass?e.className=this._modalBgClass:(n.backgroundPosition="50% 50%",n.backgroundColor="#000000",n.opacity="0.4",n.filter="alpha(opacity=40)",n.zIndex="1000"),e.id=this.id+"_modalBg",t.offsetParent&&t.offsetParent.appendChild(e),n.width="100%",n.height="100%",n.bottom="0",n.right="0"}e.style.display="block"},e.prototype.unlockViewer=function(){this._isViewerLocked=!1;var t=document.getElementById(this.id+"_modalBg");t&&(t.style.display="none")},e.prototype.contentToWhitespaceRectangle=function(t){var e=this.rulerEnabled?this.rulerWidth:0,n=this._getViewportLocation();return new fg(t.left+n.x-e,t.top+n.y-e,t.width,t.height)},Object.defineProperty(e.prototype,"eventManager",{get:function(){return this._eventManager},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"history",{get:function(){return this._history},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"userEditContainer",{get:function(){return this._userEditContainer},set:function(t){var e=this;if(this._userEditContainer!=t){this.canvas.clearSelectedItemHandlers(),this._userEditContainer=t;var n=this.canvas;if(null!=n){var r=this.surface.containers,i=[],o=[],s=r.where((function(t){return t.renderingType!==Vf.Normal})).toArray();null!=this._userEditContainer?(i=r.where((function(t){return t!=e._userEditContainer&&t.renderingType!==Vf.Normal})).toArray(),o=s.slice(s.findIndex((function(t){return e._userEditContainer.id===t.id}))+1,s.length)):(i=s,o=s),n.disabledLayers=i.map((function(t){return n.layers.getLayerByContainerId(t.id)})),n.maskedLayers=o.map((function(t){return n.layers.getLayerByContainerId(t.id)})),n.redraw()}this._eventManager.userEditContainerChangedEvent.notify(this._userEditContainer)}},enumerable:!0,configurable:!0}),e.prototype.getUserEditSurface=function(){return this.surface},e.prototype.getUserEditPrintArea=function(){return this.surface.printAreas.get(0)},Object.defineProperty(e.prototype,"variableItemHelper",{get:function(){return this._variableItemHelper},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"productThemeManager",{get:function(){return this._productThemeManager},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"productHandler",{get:function(){return this._productHandler},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"itemsDataApplier",{get:function(){return this._itemsDataApplier},enumerable:!0,configurable:!0}),e.prototype.getHandler=function(t){return this._canvas.handlerFactory.get(t)},e.prototype.waitUpdate=function(){return t=this,void 0,n=function(){return function(t,e){var n,r,i,o,s={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]};return o={next:a(0),throw:a(1),return:a(2)},"function"==typeof Symbol&&(o[Symbol.iterator]=function(){return this}),o;function a(o){return function(a){return function(o){if(n)throw new TypeError("Generator is already executing.");for(;s;)try{if(n=1,r&&(i=2&o[0]?r.return:o[0]?r.throw||((i=r.return)&&i.call(r),0):r.next)&&!(i=i.call(r,o[1])).done)return i;switch(r=0,i&&(o=[2&o[0],i.value]),o[0]){case 0:case 1:i=o;break;case 4:return s.label++,{value:o[1],done:!1};case 5:s.label++,r=o[1],o=[0];continue;case 7:o=s.ops.pop(),s.trys.pop();continue;default:if(!(i=(i=s.trys).length>0&&i[i.length-1])&&(6===o[0]||2===o[0])){s=0;continue}if(3===o[0]&&(!i||o[1]>i[0]&&o[1]<i[3])){s.label=o[1];break}if(6===o[0]&&s.label<i[1]){s.label=i[1],i=o;break}if(i&&s.label<i[2]){s.label=i[2],s.ops.push(o);break}i[2]&&s.ops.pop(),s.trys.pop();continue}o=e.call(t,s)}catch(a){o=[6,a],r=0}finally{n=i=0}if(5&o[0])throw o[1];return{value:o[0]?o[1]:void 0,done:!0}}([o,a])}}}(this,(function(t){switch(t.label){case 0:return[4,this._canvas.waitUpdate()];case 1:return t.sent(),[2]}}))},new((e=void 0)||(e=Promise))((function(r,i){function o(t){try{a(n.next(t))}catch(e){i(e)}}function s(t){try{a(n.throw(t))}catch(e){i(e)}}function a(t){var n;t.done?r(t.value):(n=t.value,n instanceof e?n:new e((function(t){t(n)}))).then(o,s)}a((n=n.apply(t,[])).next())}));var t,e,n},e.prototype.getParentPosition=function(t){var e=this.element;return{top:t.offsetTop-e.scrollTop,left:t.offsetLeft-e.scrollLeft}},e.prototype.dispose=function(){null!=this._resizeCheckIntervalId&&this._intervalCheckLoop.stop(this._resizeCheckIntervalId);var e=this.canvas;e&&(this._mouseUpDelegate&&(this.remove_workspaceMouseUp(this._mouseUpDelegate),this._mouseUpDelegate=null),this._mouseDownDelegate&&(this.remove_workspaceMouseDown(this._mouseDownDelegate),this._mouseDownDelegate=null),this._mouseMoveDelegate&&(this.remove_workspaceMouseMove(this._mouseMoveDelegate),this._mouseMoveDelegate=null),this._doubleClickDelegate&&(this.remove_workspaceDoubleClick(this._doubleClickDelegate),this._doubleClickDelegate=null),this._zoomDelegate&&(this.remove_zoomed(this._zoomDelegate),this._zoomDelegate=null),this._onCanvasStatusChangedDelegate&&(e.remove_statusChanged(this._onCanvasStatusChangedDelegate),delete this._onCanvasStatusChangedDelegate),this._resizeDelegate&&(e.remove_workspaceSizeChanged(this._resizeDelegate),delete this._resizeDelegate),e.dispose()),null!=this._eventManager&&this._eventManager.dispose(),null!=this.safetyLinesHandler&&this.safetyLinesHandler.dispose(),this.surface.containers.remove_itemAdded(this._onCurrentSurfaceContainerAdded),t.prototype.dispose.call(this)},e.prototype._refresh=function(){this._refreshTimer&&window.clearTimeout(this._refreshTimer),this._needToRefresh=!1},e.preventKeyHandleClass="preventCanvasKeyHandle",e.preventClickHandleClass="preventCanvasClickHandle",e}(vw),OE=n("tkgy"),ME=function(t){var e=typeof t;return null!=t&&("object"==e||"function"==e)},RE="object"==typeof global&&global&&global.Object===Object&&global,DE="object"==typeof self&&self&&self.Object===Object&&self,BE=RE||DE||Function("return this")(),jE=function(){return BE.Date.now()},FE=BE.Symbol,zE=Object.prototype,LE=zE.hasOwnProperty,HE=zE.toString,NE=FE?FE.toStringTag:void 0,WE=Object.prototype.toString,VE=FE?FE.toStringTag:void 0,UE=/^\s+|\s+$/g,qE=/^[-+]0x[0-9a-f]+$/i,GE=/^0b[01]+$/i,YE=/^0o[0-7]+$/i,XE=parseInt,$E=function(t){if("number"==typeof t)return t;if(function(t){return"symbol"==typeof t||function(t){return null!=t&&"object"==typeof t}(t)&&"[object Symbol]"==function(t){return null==t?void 0===t?"[object Undefined]":"[object Null]":VE&&VE in Object(t)?function(t){var e=LE.call(t,NE),n=t[NE];try{t[NE]=void 0;var r=!0}catch(o){}var i=HE.call(t);return r&&(e?t[NE]=n:delete t[NE]),i}(t):function(t){return WE.call(t)}(t)}(t)}(t))return NaN;if(ME(t)){var e="function"==typeof t.valueOf?t.valueOf():t;t=ME(e)?e+"":e}if("string"!=typeof t)return 0===t?t:+t;t=t.replace(UE,"");var n=GE.test(t);return n||YE.test(t)?XE(t.slice(2),n?2:8):qE.test(t)?NaN:+t},QE=Math.max,ZE=Math.min,KE=function(t,e,n){var r=!0,i=!0;if("function"!=typeof t)throw new TypeError("Expected a function");return ME(n)&&(r="leading"in n?!!n.leading:r,i="trailing"in n?!!n.trailing:i),function(t,e,n){var r,i,o,s,a,l,u=0,c=!1,h=!1,p=!0;if("function"!=typeof t)throw new TypeError("Expected a function");function d(e){var n=r,o=i;return r=i=void 0,u=e,s=t.apply(o,n)}function f(t){var n=t-l;return void 0===l||n>=e||n<0||h&&t-u>=o}function g(){var t=jE();if(f(t))return m(t);a=setTimeout(g,function(t){var n=e-(t-l);return h?ZE(n,o-(t-u)):n}(t))}function m(t){return a=void 0,p&&r?d(t):(r=i=void 0,s)}function y(){var t=jE(),n=f(t);if(r=arguments,i=this,l=t,n){if(void 0===a)return function(t){return u=t,a=setTimeout(g,e),c?d(t):s}(l);if(h)return clearTimeout(a),a=setTimeout(g,e),d(l)}return void 0===a&&(a=setTimeout(g,e)),s}return e=$E(e)||0,ME(n)&&(c=!!n.leading,o=(h="maxWait"in n)?QE($E(n.maxWait)||0,e):o,p="trailing"in n?!!n.trailing:p),y.cancel=function(){void 0!==a&&clearTimeout(a),u=0,r=l=i=a=void 0},y.flush=function(){return void 0===a?s:m(jE())},y}(t,e,{leading:r,maxWait:e,trailing:i})};const JE=new N_(z_);class tT{constructor(t){this.durationSelector=t}call(t,e){return e.subscribe(new eT(t,this.durationSelector))}}class eT extends N{constructor(t,e){super(t),this.durationSelector=e,this.hasValue=!1}_next(t){if(this.value=t,this.hasValue=!0,!this.throttled){let n;try{const{durationSelector:e}=this;n=e(t)}catch(e){return this.destination.error(e)}const r=H(this,n);!r||r.closed?this.clearThrottle():this.add(this.throttled=r)}}clearThrottle(){const{value:t,hasValue:e,throttled:n}=this;n&&(this.remove(n),this.throttled=null,n.unsubscribe()),e&&(this.value=null,this.hasValue=!1,this.destination.next(t))}notifyNext(t,e,n,r){this.clearThrottle()}notifyComplete(){this.clearThrottle()}}function nT(t){return!l(t)&&t-parseFloat(t)+1>=0}function rT(t){const{index:e,period:n,subscriber:r}=t;if(r.next(e),!r.closed){if(-1===n)return r.complete();t.index=e+1,this.schedule(t,n)}}class iT{constructor(t){this.notifier=t}call(t,e){const n=new oT(t),r=H(n,this.notifier);return r&&!n.seenValue?(n.add(r),e.subscribe(n)):n}}class oT extends N{constructor(t){super(t),this.seenValue=!1}notifyNext(t,e,n,r,i){this.seenValue=!0,this.complete()}notifyComplete(){}}class sT{}const aT=function(){var t={Zero:0,One:1,Two:2,Few:3,Many:4,Other:5};return t[t.Zero]="Zero",t[t.One]="One",t[t.Two]="Two",t[t.Few]="Few",t[t.Many]="Many",t[t.Other]="Other",t}(),lT=function(){var t={Format:0,Standalone:1};return t[t.Format]="Format",t[t.Standalone]="Standalone",t}(),uT=function(){var t={Narrow:0,Abbreviated:1,Wide:2,Short:3};return t[t.Narrow]="Narrow",t[t.Abbreviated]="Abbreviated",t[t.Wide]="Wide",t[t.Short]="Short",t}(),cT=function(){var t={Short:0,Medium:1,Long:2,Full:3};return t[t.Short]="Short",t[t.Medium]="Medium",t[t.Long]="Long",t[t.Full]="Full",t}(),hT=function(){var t={Decimal:0,Group:1,List:2,PercentSign:3,PlusSign:4,MinusSign:5,Exponential:6,SuperscriptingExponent:7,PerMille:8,Infinity:9,NaN:10,TimeSeparator:11,CurrencyDecimal:12,CurrencyGroup:13};return t[t.Decimal]="Decimal",t[t.Group]="Group",t[t.List]="List",t[t.PercentSign]="PercentSign",t[t.PlusSign]="PlusSign",t[t.MinusSign]="MinusSign",t[t.Exponential]="Exponential",t[t.SuperscriptingExponent]="SuperscriptingExponent",t[t.PerMille]="PerMille",t[t.Infinity]="Infinity",t[t.NaN]="NaN",t[t.TimeSeparator]="TimeSeparator",t[t.CurrencyDecimal]="CurrencyDecimal",t[t.CurrencyGroup]="CurrencyGroup",t}();function pT(t,e){return vT(Ku(t)[$u.DateFormat],e)}function dT(t,e){return vT(Ku(t)[$u.TimeFormat],e)}function fT(t,e){return vT(Ku(t)[$u.DateTimeFormat],e)}function gT(t,e){const n=Ku(t),r=n[$u.NumberSymbols][e];if(void 0===r){if(e===hT.CurrencyDecimal)return n[$u.NumberSymbols][hT.Decimal];if(e===hT.CurrencyGroup)return n[$u.NumberSymbols][hT.Group]}return r}const mT=function(t){return Ku(t)[$u.PluralCase]};function yT(t){if(!t[$u.ExtraData])throw new Error(`Missing extra locale data for the locale "${t[$u.LocaleId]}". Use "registerLocaleData" to load new data. See the "I18n guide" on angular.io to know more.`)}function vT(t,e){for(let n=e;n>-1;n--)if(void 0!==t[n])return t[n];throw new Error("Locale data API: locale data undefined")}function _T(t){const[e,n]=t.split(":");return{hours:+e,minutes:+n}}const bT=/^(\d{4})-?(\d\d)-?(\d\d)(?:T(\d\d)(?::?(\d\d)(?::?(\d\d)(?:\.(\d+))?)?)?(Z|([+-])(\d\d):?(\d\d))?)?$/,wT={},CT=/((?:[^GyMLwWdEabBhHmsSzZO']+)|(?:'(?:[^']|'')*')|(?:G{1,5}|y{1,4}|M{1,5}|L{1,5}|w{1,2}|W{1}|d{1,2}|E{1,6}|a{1,5}|b{1,5}|B{1,5}|h{1,2}|H{1,2}|m{1,2}|s{1,2}|S{1,3}|z{1,4}|Z{1,5}|O{1,4}))([\s\S]*)/,xT=function(){var t={Short:0,ShortGMT:1,Long:2,Extended:3};return t[t.Short]="Short",t[t.ShortGMT]="ShortGMT",t[t.Long]="Long",t[t.Extended]="Extended",t}(),ST=function(){var t={FullYear:0,Month:1,Date:2,Hours:3,Minutes:4,Seconds:5,FractionalSeconds:6,Day:7};return t[t.FullYear]="FullYear",t[t.Month]="Month",t[t.Date]="Date",t[t.Hours]="Hours",t[t.Minutes]="Minutes",t[t.Seconds]="Seconds",t[t.FractionalSeconds]="FractionalSeconds",t[t.Day]="Day",t}(),PT=function(){var t={DayPeriods:0,Days:1,Months:2,Eras:3};return t[t.DayPeriods]="DayPeriods",t[t.Days]="Days",t[t.Months]="Months",t[t.Eras]="Eras",t}();function IT(t,e){return e&&(t=t.replace(/\{([^}]+)}/g,(function(t,n){return null!=e&&n in e?e[n]:t}))),t}function ET(t,e,n="-",r,i){let o="";(t<0||i&&t<=0)&&(i?t=1-t:(t=-t,o=n));let s=String(t);for(;s.length<e;)s="0"+s;return r&&(s=s.substr(s.length-e)),o+s}function TT(t,e,n=0,r=!1,i=!1){return function(o,s){let a=function(t,e){switch(t){case ST.FullYear:return e.getFullYear();case ST.Month:return e.getMonth();case ST.Date:return e.getDate();case ST.Hours:return e.getHours();case ST.Minutes:return e.getMinutes();case ST.Seconds:return e.getSeconds();case ST.FractionalSeconds:return e.getMilliseconds();case ST.Day:return e.getDay();default:throw new Error(`Unknown DateType value "${t}".`)}}(t,o);if((n>0||a>-n)&&(a+=n),t===ST.Hours)0===a&&-12===n&&(a=12);else if(t===ST.FractionalSeconds)return l=e,ET(a,3).substr(0,l);var l;const u=gT(s,hT.MinusSign);return ET(a,e,u,r,i)}}function AT(t,e,n=lT.Format,r=!1){return function(i,o){return function(t,e,n,r,i,o){switch(n){case PT.Months:return function(t,e,n){const r=Ku(t),i=vT([r[$u.MonthsFormat],r[$u.MonthsStandalone]],e);return vT(i,n)}(e,i,r)[t.getMonth()];case PT.Days:return function(t,e,n){const r=Ku(t),i=vT([r[$u.DaysFormat],r[$u.DaysStandalone]],e);return vT(i,n)}(e,i,r)[t.getDay()];case PT.DayPeriods:const s=t.getHours(),a=t.getMinutes();if(o){const t=function(t){const e=Ku(t);return yT(e),(e[$u.ExtraData][2]||[]).map(t=>"string"==typeof t?_T(t):[_T(t[0]),_T(t[1])])}(e),n=function(t,e,n){const r=Ku(t);yT(r);const i=vT([r[$u.ExtraData][0],r[$u.ExtraData][1]],e)||[];return vT(i,n)||[]}(e,i,r);let o;if(t.forEach((t,e)=>{if(Array.isArray(t)){const{hours:r,minutes:i}=t[0],{hours:l,minutes:u}=t[1];s>=r&&a>=i&&(s<l||s===l&&a<u)&&(o=n[e])}else{const{hours:r,minutes:i}=t;r===s&&i===a&&(o=n[e])}}),o)return o}return function(t,e,n){const r=Ku(t),i=vT([r[$u.DayPeriodsFormat],r[$u.DayPeriodsStandalone]],e);return vT(i,n)}(e,i,r)[s<12?0:1];case PT.Eras:return function(t,e){return vT(Ku(t)[$u.Eras],e)}(e,r)[t.getFullYear()<=0?0:1];default:throw new Error(`unexpected translation type ${n}`)}}(i,o,t,e,n,r)}}function kT(t){return function(e,n,r){const i=-1*r,o=gT(n,hT.MinusSign),s=i>0?Math.floor(i/60):Math.ceil(i/60);switch(t){case xT.Short:return(i>=0?"+":"")+ET(s,2,o)+ET(Math.abs(i%60),2,o);case xT.ShortGMT:return"GMT"+(i>=0?"+":"")+ET(s,1,o);case xT.Long:return"GMT"+(i>=0?"+":"")+ET(s,2,o)+":"+ET(Math.abs(i%60),2,o);case xT.Extended:return 0===r?"Z":(i>=0?"+":"")+ET(s,2,o)+":"+ET(Math.abs(i%60),2,o);default:throw new Error(`Unknown zone width "${t}"`)}}}const OT=0,MT=4;function RT(t,e=!1){return function(n,r){let i;if(e){const t=new Date(n.getFullYear(),n.getMonth(),1).getDay()-1,e=n.getDate();i=1+Math.floor((e+t)/7)}else{const t=function(t){const e=new Date(t,OT,1).getDay();return new Date(t,0,1+(e<=MT?MT:MT+7)-e)}(n.getFullYear()),e=(o=n,new Date(o.getFullYear(),o.getMonth(),o.getDate()+(MT-o.getDay()))).getTime()-t.getTime();i=1+Math.round(e/6048e5)}var o;return ET(i,t,gT(r,hT.MinusSign))}}const DT={};function BT(t,e){t=t.replace(/:/g,"");const n=Date.parse("Jan 01, 1970 00:00:00 "+t)/6e4;return isNaN(n)?e:n}function jT(t){return t instanceof Date&&!isNaN(t.valueOf())}const FT=new Ot("UseV4Plurals");class zT{}let LT=(()=>{class t extends zT{constructor(t,e){super(),this.locale=t,this.deprecatedPluralFn=e}getPluralCategory(t,e){switch(this.deprecatedPluralFn?this.deprecatedPluralFn(e||this.locale,t):mT(e||this.locale)(t)){case aT.Zero:return"zero";case aT.One:return"one";case aT.Two:return"two";case aT.Few:return"few";case aT.Many:return"many";default:return"other"}}}return t.ngInjectableDef=mt({token:t,factory:function(e){return new(e||t)(qt(_c),qt(FT,8))},providedIn:null}),t})();function HT(t,e){e=encodeURIComponent(e);for(const n of t.split(";")){const t=n.indexOf("="),[r,i]=-1==t?[n,""]:[n.slice(0,t),n.slice(t+1)];if(r.trim()===e)return decodeURIComponent(i)}return null}class NT{constructor(t,e){this._name=t,this._options=e,this.value=null,this._lastSetValue=null,this._lastSetValueType=0,this._lastSetValueIdentityChange=!1}setValue(t){if(Array.isArray(t))this._lastSetValueType=4;else if(t instanceof Set)this._lastSetValueType=8;else if(t&&"string"==typeof t){if(!(4&this._options))throw new Error(this._name+" string values are not allowed");this._lastSetValueType=1}else this._lastSetValueType=t?2:0;this._lastSetValueIdentityChange=!0,this._lastSetValue=t||null}hasValueChanged(){let t=this._lastSetValueIdentityChange;if(!(t||14&this._lastSetValueType))return!1;let e=null;const n=!!(1&this._options),r=!!(8&this._options),i=!!(2&this._options);switch(this._lastSetValueType){case 1:const o=this._lastSetValue.split(/\s+/g);16&this._options?(e={},o.forEach((t,n)=>e[t]=!0)):e=o.reduce((t,e,n)=>t+(n?" ":"")+e);break;case 2:const s=this._lastSetValue,a=Object.keys(s);t||(t=!this.value||function(t,e,n){const r=t;if(!GT(Object.keys(e),r))return!0;for(let i=0;i<r.length;i++){const t=r[i];if(e[t]!==n[t])return!0}return!1}(a,this.value,s)),t&&(e=WT(this._name,n,r,i,s,a));break;case 4:case 8:const l=Array.from(this._lastSetValue);t||(t=!GT(Object.keys(this.value),l)),t&&(e=WT(this._name,n,r,i,l));break;default:e=null}return t&&(this.value=e),t}}function WT(t,e,n,r,i,o){const s={};if(o)for(let a=0;a<o.length;a++){let t=o[a];t=e?t.trim():t,UT(s,t,i[t],n,r)}else for(let a=0;a<i.length;a++){let n=i[a];VT(t,n),n=e?n.trim():n,UT(s,n,!0,!1,r)}return s}function VT(t,e){if("string"!=typeof e)throw new Error(`${t} can only toggle CSS classes expressed as strings, got ${e}`)}function UT(t,e,n,r,i){if(i&&e.indexOf(" ")>0){const i=e.split(/\s+/g);for(let e=0;e<i.length;e++)qT(t,i[e],n,r)}else qT(t,e,n,r)}function qT(t,e,n,r){if(r){const t=function(t,e){const n=t.indexOf(".");if(n>0){const r=t.substr(n+1);t=t.substring(0,n),null!=e&&(e+=r)}return{key:t,value:e}}(e,n);n=t.value,e=t.key}t[e]=n}function GT(t,e){if(t&&e){if(t.length!==e.length)return!1;for(let n=0;n<t.length;n++)if(-1===e.indexOf(t[n]))return!1;return!0}return!1}class YT{}let XT=(()=>{class t{constructor(t,e,n,r){this._iterableDiffers=t,this._keyValueDiffers=e,this._ngEl=n,this._renderer=r,this._initialClasses=[]}getValue(){return null}setClass(t){this._removeClasses(this._initialClasses),this._initialClasses="string"==typeof t?t.split(/\s+/):[],this._applyClasses(this._initialClasses),this._applyClasses(this._rawClass)}setNgClass(t){this._removeClasses(this._rawClass),this._applyClasses(this._initialClasses),this._iterableDiffer=null,this._keyValueDiffer=null,this._rawClass="string"==typeof t?t.split(/\s+/):t,this._rawClass&&(Ds(this._rawClass)?this._iterableDiffer=this._iterableDiffers.find(this._rawClass).create():this._keyValueDiffer=this._keyValueDiffers.find(this._rawClass).create())}applyChanges(){if(this._iterableDiffer){const t=this._iterableDiffer.diff(this._rawClass);t&&this._applyIterableChanges(t)}else if(this._keyValueDiffer){const t=this._keyValueDiffer.diff(this._rawClass);t&&this._applyKeyValueChanges(t)}}_applyKeyValueChanges(t){t.forEachAddedItem(t=>this._toggleClass(t.key,t.currentValue)),t.forEachChangedItem(t=>this._toggleClass(t.key,t.currentValue)),t.forEachRemovedItem(t=>{t.previousValue&&this._toggleClass(t.key,!1)})}_applyIterableChanges(t){t.forEachAddedItem(t=>{if("string"!=typeof t.item)throw new Error(`NgClass can only toggle CSS classes expressed as strings, got ${Ct(t.item)}`);this._toggleClass(t.item,!0)}),t.forEachRemovedItem(t=>this._toggleClass(t.item,!1))}_applyClasses(t){t&&(Array.isArray(t)||t instanceof Set?t.forEach(t=>this._toggleClass(t,!0)):Object.keys(t).forEach(e=>this._toggleClass(e,!!t[e])))}_removeClasses(t){t&&(Array.isArray(t)||t instanceof Set?t.forEach(t=>this._toggleClass(t,!1)):Object.keys(t).forEach(t=>this._toggleClass(t,!1)))}_toggleClass(t,e){(t=t.trim())&&t.split(/\s+/g).forEach(t=>{e?this._renderer.addClass(this._ngEl.nativeElement,t):this._renderer.removeClass(this._ngEl.nativeElement,t)})}}return t.ngInjectableDef=mt({token:t,factory:function(e){return new(e||t)(qt(qa),qt(Ga),qt(Ia),qt(Oa))},providedIn:null}),t})();const $T={provide:YT,useClass:(()=>{class t{constructor(){this._value=null,this._ngClassDiffer=new NT("NgClass",23),this._classStringDiffer=null}getValue(){return this._value}setClass(t){(t||this._classStringDiffer)&&(this._classStringDiffer=this._classStringDiffer||new NT("class",20),this._classStringDiffer.setValue(t))}setNgClass(t){this._ngClassDiffer.setValue(t)}applyChanges(){const t=!!this._classStringDiffer&&this._classStringDiffer.hasValueChanged(),e=this._ngClassDiffer.hasValueChanged();if(t||e){let t=this._ngClassDiffer.value;if(this._classStringDiffer){let e=this._classStringDiffer.value;e&&(t=t?Object.assign({},e,t):e)}this._value=t}}}return t.ngInjectableDef=mt({token:t,factory:function(e){return new(e||t)},providedIn:null}),t})()},QT=me({type:function(){},selectors:null,factory:()=>{},hostBindings:function(t,e,n){var r;1&t&&(function(t){const e=Tn(),n=e[xe];n.firstTemplatePass&&(function(t,e,n){const r=t.expandoInstructions,i=r.length;i>=2&&r[i-2]===e.hostBindings?r[i-1]=r[i-1]+1:r.push(e.hostBindings,1)}(n,In),function(t,e,n){for(let r=0;r<1;r++)e.push(fo),t.blueprint.push(fo),t.data.push(null)}(n,e))}(),Fs()),2&t&&(r=e.getValue(),function(t,e){const n=Tn(),r=_n(t,n),i=Vs(r),o=Ns(),s=n[Ae]++;!o&&function(t){return 0!=(8&t.flags)}(r)&&e!==fo&&(Ls(i,n,r,s,e,!0),e=fo),zs(t,i,s,e,!0,qs())}(tr(),r),Hs())}});let ZT=(()=>{class t{constructor(t){this._delegate=t}getValue(){return this._delegate.getValue()}}return t.ngDirectiveDef=QT,t})(),KT=(()=>{class t extends ZT{constructor(t){super(t)}set klass(t){this._delegate.setClass(t)}set ngClass(t){this._delegate.setNgClass(t)}ngDoCheck(){this._delegate.applyChanges()}}return t.ngDirectiveDef=me({type:t,selectors:[["","ngClass",""]],factory:function(e){return new(e||t)(js(YT))},inputs:{klass:["class","klass"],ngClass:"ngClass"},features:[ya([$T]),sa]}),t})();class JT{constructor(t,e,n,r){this.$implicit=t,this.ngForOf=e,this.index=n,this.count=r}get first(){return 0===this.index}get last(){return this.index===this.count-1}get even(){return this.index%2==0}get odd(){return!this.even}}let tA=(()=>{class t{constructor(t,e,n){this._viewContainer=t,this._template=e,this._differs=n,this._ngForOfDirty=!0,this._differ=null}set ngForOf(t){this._ngForOf=t,this._ngForOfDirty=!0}set ngForTrackBy(t){_i()&&null!=t&&"function"!=typeof t&&console&&console.warn&&console.warn(`trackBy must be a function, but received ${JSON.stringify(t)}. `+"See https://angular.io/docs/ts/latest/api/common/index/NgFor-directive.html#!#change-propagation for more information."),this._trackByFn=t}get ngForTrackBy(){return this._trackByFn}set ngForTemplate(t){t&&(this._template=t)}ngDoCheck(){if(this._ngForOfDirty){this._ngForOfDirty=!1;const n=this._ngForOf;if(!this._differ&&n)try{this._differ=this._differs.find(n).create(this.ngForTrackBy)}catch(e){throw new Error(`Cannot find a differ supporting object '${n}' of type '${t=n,t.name||typeof t}'. NgFor only supports binding to Iterables such as Arrays.`)}}var t;if(this._differ){const t=this._differ.diff(this._ngForOf);t&&this._applyChanges(t)}}_applyChanges(t){const e=[];t.forEachOperation((t,n,r)=>{if(null==t.previousIndex){const n=this._viewContainer.createEmbeddedView(this._template,new JT(null,this._ngForOf,-1,-1),null===r?void 0:r),i=new eA(t,n);e.push(i)}else if(null==r)this._viewContainer.remove(null===n?void 0:n);else if(null!==n){const i=this._viewContainer.get(n);this._viewContainer.move(i,r);const o=new eA(t,i);e.push(o)}});for(let n=0;n<e.length;n++)this._perViewChange(e[n].view,e[n].record);for(let n=0,r=this._viewContainer.length;n<r;n++){const t=this._viewContainer.get(n);t.context.index=n,t.context.count=r,t.context.ngForOf=this._ngForOf}t.forEachIdentityChange(t=>{this._viewContainer.get(t.currentIndex).context.$implicit=t.item})}_perViewChange(t,e){t.context.$implicit=e.item}static ngTemplateContextGuard(t,e){return!0}}return t.ngDirectiveDef=me({type:t,selectors:[["","ngFor","","ngForOf",""]],factory:function(e){return new(e||t)(js(Ka),js(Qa),js(qa))},inputs:{ngForOf:"ngForOf",ngForTrackBy:"ngForTrackBy",ngForTemplate:"ngForTemplate"}}),t})();class eA{constructor(t,e){this.record=t,this.view=e}}let nA=(()=>{class t{constructor(t,e){this._viewContainer=t,this._context=new rA,this._thenTemplateRef=null,this._elseTemplateRef=null,this._thenViewRef=null,this._elseViewRef=null,this._thenTemplateRef=e}set ngIf(t){this._context.$implicit=this._context.ngIf=t,this._updateView()}set ngIfThen(t){iA("ngIfThen",t),this._thenTemplateRef=t,this._thenViewRef=null,this._updateView()}set ngIfElse(t){iA("ngIfElse",t),this._elseTemplateRef=t,this._elseViewRef=null,this._updateView()}_updateView(){this._context.$implicit?this._thenViewRef||(this._viewContainer.clear(),this._elseViewRef=null,this._thenTemplateRef&&(this._thenViewRef=this._viewContainer.createEmbeddedView(this._thenTemplateRef,this._context))):this._elseViewRef||(this._viewContainer.clear(),this._thenViewRef=null,this._elseTemplateRef&&(this._elseViewRef=this._viewContainer.createEmbeddedView(this._elseTemplateRef,this._context)))}}return t.ngDirectiveDef=me({type:t,selectors:[["","ngIf",""]],factory:function(e){return new(e||t)(js(Ka),js(Qa))},inputs:{ngIf:"ngIf",ngIfThen:"ngIfThen",ngIfElse:"ngIfElse"}}),t})();class rA{constructor(){this.$implicit=null,this.ngIf=null}}function iA(t,e){if(e&&!e.createEmbeddedView)throw new Error(`${t} must be a TemplateRef, but received '${Ct(e)}'.`)}class oA{constructor(t,e){this._viewContainerRef=t,this._templateRef=e,this._created=!1}create(){this._created=!0,this._viewContainerRef.createEmbeddedView(this._templateRef)}destroy(){this._created=!1,this._viewContainerRef.clear()}enforceState(t){t&&!this._created?this.create():!t&&this._created&&this.destroy()}}let sA=(()=>{class t{constructor(){this._defaultUsed=!1,this._caseCount=0,this._lastCaseCheckIndex=0,this._lastCasesMatched=!1}set ngSwitch(t){this._ngSwitch=t,0===this._caseCount&&this._updateDefaultCases(!0)}_addCase(){return this._caseCount++}_addDefault(t){this._defaultViews||(this._defaultViews=[]),this._defaultViews.push(t)}_matchCase(t){const e=t==this._ngSwitch;return this._lastCasesMatched=this._lastCasesMatched||e,this._lastCaseCheckIndex++,this._lastCaseCheckIndex===this._caseCount&&(this._updateDefaultCases(!this._lastCasesMatched),this._lastCaseCheckIndex=0,this._lastCasesMatched=!1),e}_updateDefaultCases(t){if(this._defaultViews&&t!==this._defaultUsed){this._defaultUsed=t;for(let e=0;e<this._defaultViews.length;e++)this._defaultViews[e].enforceState(t)}}}return t.ngDirectiveDef=me({type:t,selectors:[["","ngSwitch",""]],factory:function(e){return new(e||t)},inputs:{ngSwitch:"ngSwitch"}}),t})(),aA=(()=>{class t{constructor(t,e,n){this.ngSwitch=n,n._addCase(),this._view=new oA(t,e)}ngDoCheck(){this._view.enforceState(this.ngSwitch._matchCase(this.ngSwitchCase))}}return t.ngDirectiveDef=me({type:t,selectors:[["","ngSwitchCase",""]],factory:function(e){return new(e||t)(js(Ka),js(Qa),js(sA,1))},inputs:{ngSwitchCase:"ngSwitchCase"}}),t})(),lA=(()=>{class t{constructor(t,e,n){n._addDefault(new oA(t,e))}}return t.ngDirectiveDef=me({type:t,selectors:[["","ngSwitchDefault",""]],factory:function(e){return new(e||t)(js(Ka),js(Qa),js(sA,1))}}),t})();class uA{}let cA=(()=>{class t{constructor(t,e,n){this._ngEl=t,this._differs=e,this._renderer=n}getValue(){return null}setNgStyle(t){this._ngStyle=t,!this._differ&&t&&(this._differ=this._differs.find(t).create())}applyChanges(){if(this._differ){const t=this._differ.diff(this._ngStyle);t&&this._applyChanges(t)}}_applyChanges(t){t.forEachRemovedItem(t=>this._setStyle(t.key,null)),t.forEachAddedItem(t=>this._setStyle(t.key,t.currentValue)),t.forEachChangedItem(t=>this._setStyle(t.key,t.currentValue))}_setStyle(t,e){const[n,r]=t.split(".");null!=(e=null!=e&&r?`${e}${r}`:e)?this._renderer.setStyle(this._ngEl.nativeElement,n,e):this._renderer.removeStyle(this._ngEl.nativeElement,n)}}return t.ngInjectableDef=mt({token:t,factory:function(e){return new(e||t)(qt(Ia),qt(Ga),qt(Oa))},providedIn:null}),t})();const hA={provide:uA,useClass:(()=>{class t{constructor(){this._differ=new NT("NgStyle",8),this._value=null}getValue(){return this._value}setNgStyle(t){this._differ.setValue(t)}applyChanges(){this._differ.hasValueChanged()&&(this._value=this._differ.value)}}return t.ngInjectableDef=mt({token:t,factory:function(e){return new(e||t)},providedIn:null}),t})()},pA=me({type:function(){},selectors:null,factory:()=>{},hostBindings:function(t,e,n){1&t&&Fs(),2&t&&(function(t){const e=tr(),n=Tn(),r=_n(e,n),i=Ws(r),o=Ns(),s=n[Ae]++;!o&&function(t){return 0!=(16&t.flags)}(r)&&t!==fo&&(Ls(i,n,r,s,t,!1),t=fo),zs(e,i,s,t,!1,qs())}(e.getValue()),Hs())}});let dA=(()=>{class t{constructor(t){this._delegate=t}getValue(){return this._delegate.getValue()}}return t.ngDirectiveDef=pA,t})(),fA=(()=>{class t extends dA{constructor(t){super(t)}set ngStyle(t){this._delegate.setNgStyle(t)}ngDoCheck(){this._delegate.applyChanges()}}return t.ngDirectiveDef=me({type:t,selectors:[["","ngStyle",""]],factory:function(e){return new(e||t)(js(uA))},inputs:{ngStyle:"ngStyle"},features:[ya([hA]),sa]}),t})();function gA(t,e){return Error(`InvalidPipeArgument: '${e}' for pipe '${Ct(t)}'`)}class mA{createSubscription(t,e){return t.subscribe({next:e,error:t=>{throw t}})}dispose(t){t.unsubscribe()}onDestroy(t){t.unsubscribe()}}class yA{createSubscription(t,e){return t.then(e,t=>{throw t})}dispose(t){}onDestroy(t){}}const vA=new yA,_A=new mA;let bA=(()=>{class t{constructor(t){this._ref=t,this._latestValue=null,this._latestReturnedValue=null,this._subscription=null,this._obj=null,this._strategy=null}ngOnDestroy(){this._subscription&&this._dispose()}transform(t){return this._obj?t!==this._obj?(this._dispose(),this.transform(t)):Os(this._latestValue,this._latestReturnedValue)?this._latestReturnedValue:(this._latestReturnedValue=this._latestValue,Rs.wrap(this._latestValue)):(t&&this._subscribe(t),this._latestReturnedValue=this._latestValue,this._latestValue)}_subscribe(t){this._obj=t,this._strategy=this._selectStrategy(t),this._subscription=this._strategy.createSubscription(t,e=>this._updateLatestValue(t,e))}_selectStrategy(e){if(Gs(e))return vA;if(Ys(e))return _A;throw gA(t,e)}_dispose(){this._strategy.dispose(this._subscription),this._latestValue=null,this._latestReturnedValue=null,this._subscription=null,this._obj=null}_updateLatestValue(t,e){t===this._obj&&(this._latestValue=e,this._ref.markForCheck())}}return t.ngInjectableDef=mt({token:t,factory:function(e){return new(e||t)(qt(us))},providedIn:null}),t.ngPipeDef=ye({name:"async",type:t,factory:function(e){return new(e||t)(js(us))},pure:!1}),t})(),wA=(()=>{class t{constructor(t){this.locale=t}transform(e,n="mediumDate",r,i){if(null==e||""===e||e!=e)return null;try{return function(t,e,n,r){let i=function(t){if(jT(t))return t;if("number"==typeof t&&!isNaN(t))return new Date(t);if("string"==typeof t){t=t.trim();const e=parseFloat(t);if(!isNaN(t-e))return new Date(e);if(/^(\d{4}-\d{1,2}-\d{1,2})$/.test(t)){const[e,n,r]=t.split("-").map(t=>+t);return new Date(e,n-1,r)}let n;if(n=t.match(bT))return function(t){const e=new Date(0);let n=0,r=0;const i=t[8]?e.setUTCFullYear:e.setFullYear,o=t[8]?e.setUTCHours:e.setHours;t[9]&&(n=Number(t[9]+t[10]),r=Number(t[9]+t[11])),i.call(e,Number(t[1]),Number(t[2])-1,Number(t[3]));const s=Number(t[4]||0)-n,a=Number(t[5]||0)-r,l=Number(t[6]||0),u=Math.round(1e3*parseFloat("0."+(t[7]||0)));return o.call(e,s,a,l,u),e}(n)}const e=new Date(t);if(!jT(e))throw new Error(`Unable to convert "${t}" into a date`);return e}(t);e=function t(e,n){const r=function(t){return Ku(t)[$u.LocaleId]}(e);if(wT[r]=wT[r]||{},wT[r][n])return wT[r][n];let i="";switch(n){case"shortDate":i=pT(e,cT.Short);break;case"mediumDate":i=pT(e,cT.Medium);break;case"longDate":i=pT(e,cT.Long);break;case"fullDate":i=pT(e,cT.Full);break;case"shortTime":i=dT(e,cT.Short);break;case"mediumTime":i=dT(e,cT.Medium);break;case"longTime":i=dT(e,cT.Long);break;case"fullTime":i=dT(e,cT.Full);break;case"short":const n=t(e,"shortTime"),r=t(e,"shortDate");i=IT(fT(e,cT.Short),[n,r]);break;case"medium":const o=t(e,"mediumTime"),s=t(e,"mediumDate");i=IT(fT(e,cT.Medium),[o,s]);break;case"long":const a=t(e,"longTime"),l=t(e,"longDate");i=IT(fT(e,cT.Long),[a,l]);break;case"full":const u=t(e,"fullTime"),c=t(e,"fullDate");i=IT(fT(e,cT.Full),[u,c])}return i&&(wT[r][n]=i),i}(n,e)||e;let o,s=[];for(;e;){if(o=CT.exec(e),!o){s.push(e);break}{s=s.concat(o.slice(1));const t=s.pop();if(!t)break;e=t}}let a=i.getTimezoneOffset();r&&(a=BT(r,a),i=function(t,e,n){const r=t.getTimezoneOffset();return function(t,e){return(t=new Date(t.getTime())).setMinutes(t.getMinutes()+e),t}(t,-1*(BT(e,r)-r))}(i,r));let l="";return s.forEach(t=>{const e=function(t){if(DT[t])return DT[t];let e;switch(t){case"G":case"GG":case"GGG":e=AT(PT.Eras,uT.Abbreviated);break;case"GGGG":e=AT(PT.Eras,uT.Wide);break;case"GGGGG":e=AT(PT.Eras,uT.Narrow);break;case"y":e=TT(ST.FullYear,1,0,!1,!0);break;case"yy":e=TT(ST.FullYear,2,0,!0,!0);break;case"yyy":e=TT(ST.FullYear,3,0,!1,!0);break;case"yyyy":e=TT(ST.FullYear,4,0,!1,!0);break;case"M":case"L":e=TT(ST.Month,1,1);break;case"MM":case"LL":e=TT(ST.Month,2,1);break;case"MMM":e=AT(PT.Months,uT.Abbreviated);break;case"MMMM":e=AT(PT.Months,uT.Wide);break;case"MMMMM":e=AT(PT.Months,uT.Narrow);break;case"LLL":e=AT(PT.Months,uT.Abbreviated,lT.Standalone);break;case"LLLL":e=AT(PT.Months,uT.Wide,lT.Standalone);break;case"LLLLL":e=AT(PT.Months,uT.Narrow,lT.Standalone);break;case"w":e=RT(1);break;case"ww":e=RT(2);break;case"W":e=RT(1,!0);break;case"d":e=TT(ST.Date,1);break;case"dd":e=TT(ST.Date,2);break;case"E":case"EE":case"EEE":e=AT(PT.Days,uT.Abbreviated);break;case"EEEE":e=AT(PT.Days,uT.Wide);break;case"EEEEE":e=AT(PT.Days,uT.Narrow);break;case"EEEEEE":e=AT(PT.Days,uT.Short);break;case"a":case"aa":case"aaa":e=AT(PT.DayPeriods,uT.Abbreviated);break;case"aaaa":e=AT(PT.DayPeriods,uT.Wide);break;case"aaaaa":e=AT(PT.DayPeriods,uT.Narrow);break;case"b":case"bb":case"bbb":e=AT(PT.DayPeriods,uT.Abbreviated,lT.Standalone,!0);break;case"bbbb":e=AT(PT.DayPeriods,uT.Wide,lT.Standalone,!0);break;case"bbbbb":e=AT(PT.DayPeriods,uT.Narrow,lT.Standalone,!0);break;case"B":case"BB":case"BBB":e=AT(PT.DayPeriods,uT.Abbreviated,lT.Format,!0);break;case"BBBB":e=AT(PT.DayPeriods,uT.Wide,lT.Format,!0);break;case"BBBBB":e=AT(PT.DayPeriods,uT.Narrow,lT.Format,!0);break;case"h":e=TT(ST.Hours,1,-12);break;case"hh":e=TT(ST.Hours,2,-12);break;case"H":e=TT(ST.Hours,1);break;case"HH":e=TT(ST.Hours,2);break;case"m":e=TT(ST.Minutes,1);break;case"mm":e=TT(ST.Minutes,2);break;case"s":e=TT(ST.Seconds,1);break;case"ss":e=TT(ST.Seconds,2);break;case"S":e=TT(ST.FractionalSeconds,1);break;case"SS":e=TT(ST.FractionalSeconds,2);break;case"SSS":e=TT(ST.FractionalSeconds,3);break;case"Z":case"ZZ":case"ZZZ":e=kT(xT.Short);break;case"ZZZZZ":e=kT(xT.Extended);break;case"O":case"OO":case"OOO":case"z":case"zz":case"zzz":e=kT(xT.ShortGMT);break;case"OOOO":case"ZZZZ":case"zzzz":e=kT(xT.Long);break;default:return null}return DT[t]=e,e}(t);l+=e?e(i,n,a):"''"===t?"'":t.replace(/(^'|'$)/g,"").replace(/''/g,"'")}),l}(e,n,i||this.locale,r)}catch(o){throw gA(t,o.message)}}}return t.ngInjectableDef=mt({token:t,factory:function(e){return new(e||t)(qt(_c))},providedIn:null}),t.ngPipeDef=ye({name:"date",type:t,factory:function(e){return new(e||t)(js(_c))},pure:!0}),t})(),CA=(()=>{class t{}return t.ngModuleDef=fe({type:t}),t})();CA.ngInjectorDef=yt({factory:function(t){return new(t||CA)},providers:[{provide:zT,useClass:LT}]});let xA=(()=>{class t{}return t.ngModuleDef=fe({type:t}),t})();xA.ngInjectorDef=yt({factory:function(t){return new(t||xA)},providers:[{provide:FT,useValue:function(t,e){"string"==typeof e&&(e=parseInt(e,10));const n=e,r=n.toString().replace(/^[^.]*\.?/,""),i=Math.floor(Math.abs(n)),o=r.length,s=parseInt(r,10),a=parseInt(n.toString().replace(/^[^.]*\.?|0+$/g,""),10)||0;switch(t.split("-")[0].toLowerCase()){case"af":case"asa":case"az":case"bem":case"bez":case"bg":case"brx":case"ce":case"cgg":case"chr":case"ckb":case"ee":case"el":case"eo":case"es":case"eu":case"fo":case"fur":case"gsw":case"ha":case"haw":case"hu":case"jgo":case"jmc":case"ka":case"kk":case"kkj":case"kl":case"ks":case"ksb":case"ky":case"lb":case"lg":case"mas":case"mgo":case"ml":case"mn":case"nb":case"nd":case"ne":case"nn":case"nnh":case"nyn":case"om":case"or":case"os":case"ps":case"rm":case"rof":case"rwk":case"saq":case"seh":case"sn":case"so":case"sq":case"ta":case"te":case"teo":case"tk":case"tr":case"ug":case"uz":case"vo":case"vun":case"wae":case"xog":return 1===n?aT.One:aT.Other;case"ak":case"ln":case"mg":case"pa":case"ti":return n===Math.floor(n)&&n>=0&&n<=1?aT.One:aT.Other;case"am":case"as":case"bn":case"fa":case"gu":case"hi":case"kn":case"mr":case"zu":return 0===i||1===n?aT.One:aT.Other;case"ar":return 0===n?aT.Zero:1===n?aT.One:2===n?aT.Two:n%100===Math.floor(n%100)&&n%100>=3&&n%100<=10?aT.Few:n%100===Math.floor(n%100)&&n%100>=11&&n%100<=99?aT.Many:aT.Other;case"ast":case"ca":case"de":case"en":case"et":case"fi":case"fy":case"gl":case"it":case"nl":case"sv":case"sw":case"ur":case"yi":return 1===i&&0===o?aT.One:aT.Other;case"be":return n%10==1&&n%100!=11?aT.One:n%10===Math.floor(n%10)&&n%10>=2&&n%10<=4&&!(n%100>=12&&n%100<=14)?aT.Few:n%10==0||n%10===Math.floor(n%10)&&n%10>=5&&n%10<=9||n%100===Math.floor(n%100)&&n%100>=11&&n%100<=14?aT.Many:aT.Other;case"br":return n%10==1&&n%100!=11&&n%100!=71&&n%100!=91?aT.One:n%10==2&&n%100!=12&&n%100!=72&&n%100!=92?aT.Two:n%10===Math.floor(n%10)&&(n%10>=3&&n%10<=4||n%10==9)&&!(n%100>=10&&n%100<=19||n%100>=70&&n%100<=79||n%100>=90&&n%100<=99)?aT.Few:0!==n&&n%1e6==0?aT.Many:aT.Other;case"bs":case"hr":case"sr":return 0===o&&i%10==1&&i%100!=11||s%10==1&&s%100!=11?aT.One:0===o&&i%10===Math.floor(i%10)&&i%10>=2&&i%10<=4&&!(i%100>=12&&i%100<=14)||s%10===Math.floor(s%10)&&s%10>=2&&s%10<=4&&!(s%100>=12&&s%100<=14)?aT.Few:aT.Other;case"cs":case"sk":return 1===i&&0===o?aT.One:i===Math.floor(i)&&i>=2&&i<=4&&0===o?aT.Few:0!==o?aT.Many:aT.Other;case"cy":return 0===n?aT.Zero:1===n?aT.One:2===n?aT.Two:3===n?aT.Few:6===n?aT.Many:aT.Other;case"da":return 1===n||0!==a&&(0===i||1===i)?aT.One:aT.Other;case"dsb":case"hsb":return 0===o&&i%100==1||s%100==1?aT.One:0===o&&i%100==2||s%100==2?aT.Two:0===o&&i%100===Math.floor(i%100)&&i%100>=3&&i%100<=4||s%100===Math.floor(s%100)&&s%100>=3&&s%100<=4?aT.Few:aT.Other;case"ff":case"fr":case"hy":case"kab":return 0===i||1===i?aT.One:aT.Other;case"fil":return 0===o&&(1===i||2===i||3===i)||0===o&&i%10!=4&&i%10!=6&&i%10!=9||0!==o&&s%10!=4&&s%10!=6&&s%10!=9?aT.One:aT.Other;case"ga":return 1===n?aT.One:2===n?aT.Two:n===Math.floor(n)&&n>=3&&n<=6?aT.Few:n===Math.floor(n)&&n>=7&&n<=10?aT.Many:aT.Other;case"gd":return 1===n||11===n?aT.One:2===n||12===n?aT.Two:n===Math.floor(n)&&(n>=3&&n<=10||n>=13&&n<=19)?aT.Few:aT.Other;case"gv":return 0===o&&i%10==1?aT.One:0===o&&i%10==2?aT.Two:0!==o||i%100!=0&&i%100!=20&&i%100!=40&&i%100!=60&&i%100!=80?0!==o?aT.Many:aT.Other:aT.Few;case"he":return 1===i&&0===o?aT.One:2===i&&0===o?aT.Two:0!==o||n>=0&&n<=10||n%10!=0?aT.Other:aT.Many;case"is":return 0===a&&i%10==1&&i%100!=11||0!==a?aT.One:aT.Other;case"ksh":return 0===n?aT.Zero:1===n?aT.One:aT.Other;case"kw":case"naq":case"se":case"smn":return 1===n?aT.One:2===n?aT.Two:aT.Other;case"lag":return 0===n?aT.Zero:0!==i&&1!==i||0===n?aT.Other:aT.One;case"lt":return n%10!=1||n%100>=11&&n%100<=19?n%10===Math.floor(n%10)&&n%10>=2&&n%10<=9&&!(n%100>=11&&n%100<=19)?aT.Few:0!==s?aT.Many:aT.Other:aT.One;case"lv":case"prg":return n%10==0||n%100===Math.floor(n%100)&&n%100>=11&&n%100<=19||2===o&&s%100===Math.floor(s%100)&&s%100>=11&&s%100<=19?aT.Zero:n%10==1&&n%100!=11||2===o&&s%10==1&&s%100!=11||2!==o&&s%10==1?aT.One:aT.Other;case"mk":return 0===o&&i%10==1||s%10==1?aT.One:aT.Other;case"mt":return 1===n?aT.One:0===n||n%100===Math.floor(n%100)&&n%100>=2&&n%100<=10?aT.Few:n%100===Math.floor(n%100)&&n%100>=11&&n%100<=19?aT.Many:aT.Other;case"pl":return 1===i&&0===o?aT.One:0===o&&i%10===Math.floor(i%10)&&i%10>=2&&i%10<=4&&!(i%100>=12&&i%100<=14)?aT.Few:0===o&&1!==i&&i%10===Math.floor(i%10)&&i%10>=0&&i%10<=1||0===o&&i%10===Math.floor(i%10)&&i%10>=5&&i%10<=9||0===o&&i%100===Math.floor(i%100)&&i%100>=12&&i%100<=14?aT.Many:aT.Other;case"pt":return n===Math.floor(n)&&n>=0&&n<=2&&2!==n?aT.One:aT.Other;case"ro":return 1===i&&0===o?aT.One:0!==o||0===n||1!==n&&n%100===Math.floor(n%100)&&n%100>=1&&n%100<=19?aT.Few:aT.Other;case"ru":case"uk":return 0===o&&i%10==1&&i%100!=11?aT.One:0===o&&i%10===Math.floor(i%10)&&i%10>=2&&i%10<=4&&!(i%100>=12&&i%100<=14)?aT.Few:0===o&&i%10==0||0===o&&i%10===Math.floor(i%10)&&i%10>=5&&i%10<=9||0===o&&i%100===Math.floor(i%100)&&i%100>=11&&i%100<=14?aT.Many:aT.Other;case"shi":return 0===i||1===n?aT.One:n===Math.floor(n)&&n>=2&&n<=10?aT.Few:aT.Other;case"si":return 0===n||1===n||0===i&&1===s?aT.One:aT.Other;case"sl":return 0===o&&i%100==1?aT.One:0===o&&i%100==2?aT.Two:0===o&&i%100===Math.floor(i%100)&&i%100>=3&&i%100<=4||0!==o?aT.Few:aT.Other;case"tzm":return n===Math.floor(n)&&n>=0&&n<=1||n===Math.floor(n)&&n>=11&&n<=99?aT.One:aT.Other;default:return aT.Other}}}]});const SA=new Ot("DocumentToken"),PA="browser",IA="server";function EA(t){return t===PA}function TA(t){return getComputedStyle(t)}function AA(t,e){for(var n in e){var r=e[n];"number"==typeof r&&(r+="px"),t.style[n]=r}return t}function kA(t){var e=document.createElement("div");return e.className=t,e}var OA="undefined"!=typeof Element&&(Element.prototype.matches||Element.prototype.webkitMatchesSelector||Element.prototype.mozMatchesSelector||Element.prototype.msMatchesSelector);function MA(t,e){if(!OA)throw new Error("No element matching method supported");return OA.call(t,e)}function RA(t){t.remove?t.remove():t.parentNode&&t.parentNode.removeChild(t)}function DA(t,e){return Array.prototype.filter.call(t.children,(function(t){return MA(t,e)}))}var BA={main:"ps",element:{thumb:function(t){return"ps__thumb-"+t},rail:function(t){return"ps__rail-"+t},consuming:"ps__child--consume"},state:{focus:"ps--focus",clicking:"ps--clicking",active:function(t){return"ps--active-"+t},scrolling:function(t){return"ps--scrolling-"+t}}},jA={x:null,y:null};function FA(t,e){var n=t.element.classList,r=BA.state.scrolling(e);n.contains(r)?clearTimeout(jA[e]):n.add(r)}function zA(t,e){jA[e]=setTimeout((function(){return t.isAlive&&t.element.classList.remove(BA.state.scrolling(e))}),t.settings.scrollingThreshold)}var LA=function(t){this.element=t,this.handlers={}},HA={isEmpty:{configurable:!0}};LA.prototype.bind=function(t,e){void 0===this.handlers[t]&&(this.handlers[t]=[]),this.handlers[t].push(e),this.element.addEventListener(t,e,!1)},LA.prototype.unbind=function(t,e){var n=this;this.handlers[t]=this.handlers[t].filter((function(r){return!(!e||r===e)||(n.element.removeEventListener(t,r,!1),!1)}))},LA.prototype.unbindAll=function(){for(var t in this.handlers)this.unbind(t)},HA.isEmpty.get=function(){var t=this;return Object.keys(this.handlers).every((function(e){return 0===t.handlers[e].length}))},Object.defineProperties(LA.prototype,HA);var NA=function(){this.eventElements=[]};function WA(t){if("function"==typeof window.CustomEvent)return new CustomEvent(t);var e=document.createEvent("CustomEvent");return e.initCustomEvent(t,!1,!1,void 0),e}NA.prototype.eventElement=function(t){var e=this.eventElements.filter((function(e){return e.element===t}))[0];return e||(e=new LA(t),this.eventElements.push(e)),e},NA.prototype.bind=function(t,e,n){this.eventElement(t).bind(e,n)},NA.prototype.unbind=function(t,e,n){var r=this.eventElement(t);r.unbind(e,n),r.isEmpty&&this.eventElements.splice(this.eventElements.indexOf(r),1)},NA.prototype.unbindAll=function(){this.eventElements.forEach((function(t){return t.unbindAll()})),this.eventElements=[]},NA.prototype.once=function(t,e,n){var r=this.eventElement(t),i=function(t){r.unbind(e,i),n(t)};r.bind(e,i)};var VA=function(t,e,n,r,i){var o;if(void 0===r&&(r=!0),void 0===i&&(i=!1),"top"===e)o=["contentHeight","containerHeight","scrollTop","y","up","down"];else{if("left"!==e)throw new Error("A proper axis should be provided");o=["contentWidth","containerWidth","scrollLeft","x","left","right"]}!function(t,e,n,r,i){var o=n[0],s=n[1],a=n[2],l=n[3],u=n[4],c=n[5];void 0===r&&(r=!0),void 0===i&&(i=!1);var h=t.element;t.reach[l]=null,h[a]<1&&(t.reach[l]="start"),h[a]>t[o]-t[s]-1&&(t.reach[l]="end"),e&&(h.dispatchEvent(WA("ps-scroll-"+l)),e<0?h.dispatchEvent(WA("ps-scroll-"+u)):e>0&&h.dispatchEvent(WA("ps-scroll-"+c)),r&&function(t,e){FA(t,e),zA(t,e)}(t,l)),t.reach[l]&&(e||i)&&h.dispatchEvent(WA("ps-"+l+"-reach-"+t.reach[l]))}(t,n,o,r,i)};function UA(t){return parseInt(t,10)||0}var qA={isWebKit:"undefined"!=typeof document&&"WebkitAppearance"in document.documentElement.style,supportsTouch:"undefined"!=typeof window&&("ontouchstart"in window||window.DocumentTouch&&document instanceof window.DocumentTouch),supportsIePointer:"undefined"!=typeof navigator&&navigator.msMaxTouchPoints,isChrome:"undefined"!=typeof navigator&&/Chrome/i.test(navigator&&navigator.userAgent)},GA=function(t){var e=t.element,n=Math.floor(e.scrollTop);t.containerWidth=e.clientWidth,t.containerHeight=e.clientHeight,t.contentWidth=e.scrollWidth,t.contentHeight=e.scrollHeight,e.contains(t.scrollbarXRail)||(DA(e,BA.element.rail("x")).forEach((function(t){return RA(t)})),e.appendChild(t.scrollbarXRail)),e.contains(t.scrollbarYRail)||(DA(e,BA.element.rail("y")).forEach((function(t){return RA(t)})),e.appendChild(t.scrollbarYRail)),!t.settings.suppressScrollX&&t.containerWidth+t.settings.scrollXMarginOffset<t.contentWidth?(t.scrollbarXActive=!0,t.railXWidth=t.containerWidth-t.railXMarginWidth,t.railXRatio=t.containerWidth/t.railXWidth,t.scrollbarXWidth=YA(t,UA(t.railXWidth*t.containerWidth/t.contentWidth)),t.scrollbarXLeft=UA((t.negativeScrollAdjustment+e.scrollLeft)*(t.railXWidth-t.scrollbarXWidth)/(t.contentWidth-t.containerWidth))):t.scrollbarXActive=!1,!t.settings.suppressScrollY&&t.containerHeight+t.settings.scrollYMarginOffset<t.contentHeight?(t.scrollbarYActive=!0,t.railYHeight=t.containerHeight-t.railYMarginHeight,t.railYRatio=t.containerHeight/t.railYHeight,t.scrollbarYHeight=YA(t,UA(t.railYHeight*t.containerHeight/t.contentHeight)),t.scrollbarYTop=UA(n*(t.railYHeight-t.scrollbarYHeight)/(t.contentHeight-t.containerHeight))):t.scrollbarYActive=!1,t.scrollbarXLeft>=t.railXWidth-t.scrollbarXWidth&&(t.scrollbarXLeft=t.railXWidth-t.scrollbarXWidth),t.scrollbarYTop>=t.railYHeight-t.scrollbarYHeight&&(t.scrollbarYTop=t.railYHeight-t.scrollbarYHeight),function(t,e){var n={width:e.railXWidth},r=Math.floor(t.scrollTop);n.left=e.isRtl?e.negativeScrollAdjustment+t.scrollLeft+e.containerWidth-e.contentWidth:t.scrollLeft,e.isScrollbarXUsingBottom?n.bottom=e.scrollbarXBottom-r:n.top=e.scrollbarXTop+r,AA(e.scrollbarXRail,n);var i={top:r,height:e.railYHeight};e.isScrollbarYUsingRight?i.right=e.isRtl?e.contentWidth-(e.negativeScrollAdjustment+t.scrollLeft)-e.scrollbarYRight-e.scrollbarYOuterWidth:e.scrollbarYRight-t.scrollLeft:i.left=e.isRtl?e.negativeScrollAdjustment+t.scrollLeft+2*e.containerWidth-e.contentWidth-e.scrollbarYLeft-e.scrollbarYOuterWidth:e.scrollbarYLeft+t.scrollLeft,AA(e.scrollbarYRail,i),AA(e.scrollbarX,{left:e.scrollbarXLeft,width:e.scrollbarXWidth-e.railBorderXWidth}),AA(e.scrollbarY,{top:e.scrollbarYTop,height:e.scrollbarYHeight-e.railBorderYWidth})}(e,t),t.scrollbarXActive?e.classList.add(BA.state.active("x")):(e.classList.remove(BA.state.active("x")),t.scrollbarXWidth=0,t.scrollbarXLeft=0,e.scrollLeft=0),t.scrollbarYActive?e.classList.add(BA.state.active("y")):(e.classList.remove(BA.state.active("y")),t.scrollbarYHeight=0,t.scrollbarYTop=0,e.scrollTop=0)};function YA(t,e){return t.settings.minScrollbarLength&&(e=Math.max(e,t.settings.minScrollbarLength)),t.settings.maxScrollbarLength&&(e=Math.min(e,t.settings.maxScrollbarLength)),e}function XA(t,e){var n=e[0],r=e[1],i=e[2],o=e[3],s=e[5],a=e[6],l=e[7],u=e[8],c=t.element,h=null,p=null,d=null;function f(e){c[a]=h+d*(e[i]-p),FA(t,l),GA(t),e.stopPropagation(),e.preventDefault()}function g(){zA(t,l),t[u].classList.remove(BA.state.clicking),t.event.unbind(t.ownerDocument,"mousemove",f)}t.event.bind(t[e[4]],"mousedown",(function(e){h=c[a],p=e[i],d=(t[r]-t[n])/(t[o]-t[s]),t.event.bind(t.ownerDocument,"mousemove",f),t.event.once(t.ownerDocument,"mouseup",g),t[u].classList.add(BA.state.clicking),e.stopPropagation(),e.preventDefault()}))}var $A={"click-rail":function(t){t.event.bind(t.scrollbarY,"mousedown",(function(t){return t.stopPropagation()})),t.event.bind(t.scrollbarYRail,"mousedown",(function(e){var n=e.pageY-window.pageYOffset-t.scrollbarYRail.getBoundingClientRect().top;t.element.scrollTop+=(n>t.scrollbarYTop?1:-1)*t.containerHeight,GA(t),e.stopPropagation()})),t.event.bind(t.scrollbarX,"mousedown",(function(t){return t.stopPropagation()})),t.event.bind(t.scrollbarXRail,"mousedown",(function(e){var n=e.pageX-window.pageXOffset-t.scrollbarXRail.getBoundingClientRect().left;t.element.scrollLeft+=(n>t.scrollbarXLeft?1:-1)*t.containerWidth,GA(t),e.stopPropagation()}))},"drag-thumb":function(t){XA(t,["containerWidth","contentWidth","pageX","railXWidth","scrollbarX","scrollbarXWidth","scrollLeft","x","scrollbarXRail"]),XA(t,["containerHeight","contentHeight","pageY","railYHeight","scrollbarY","scrollbarYHeight","scrollTop","y","scrollbarYRail"])},keyboard:function(t){var e=t.element;t.event.bind(t.ownerDocument,"keydown",(function(n){if(!(n.isDefaultPrevented&&n.isDefaultPrevented()||n.defaultPrevented)&&(MA(e,":hover")||MA(t.scrollbarX,":focus")||MA(t.scrollbarY,":focus"))){var r,i=document.activeElement?document.activeElement:t.ownerDocument.activeElement;if(i){if("IFRAME"===i.tagName)i=i.contentDocument.activeElement;else for(;i.shadowRoot;)i=i.shadowRoot.activeElement;if(MA(r=i,"input,[contenteditable]")||MA(r,"select,[contenteditable]")||MA(r,"textarea,[contenteditable]")||MA(r,"button,[contenteditable]"))return}var o=0,s=0;switch(n.which){case 37:o=n.metaKey?-t.contentWidth:n.altKey?-t.containerWidth:-30;break;case 38:s=n.metaKey?t.contentHeight:n.altKey?t.containerHeight:30;break;case 39:o=n.metaKey?t.contentWidth:n.altKey?t.containerWidth:30;break;case 40:s=n.metaKey?-t.contentHeight:n.altKey?-t.containerHeight:-30;break;case 32:s=n.shiftKey?t.containerHeight:-t.containerHeight;break;case 33:s=t.containerHeight;break;case 34:s=-t.containerHeight;break;case 36:s=t.contentHeight;break;case 35:s=-t.contentHeight;break;default:return}t.settings.suppressScrollX&&0!==o||t.settings.suppressScrollY&&0!==s||(e.scrollTop-=s,e.scrollLeft+=o,GA(t),function(n,r){var i=Math.floor(e.scrollTop);if(0===n){if(!t.scrollbarYActive)return!1;if(0===i&&r>0||i>=t.contentHeight-t.containerHeight&&r<0)return!t.settings.wheelPropagation}var o=e.scrollLeft;if(0===r){if(!t.scrollbarXActive)return!1;if(0===o&&n<0||o>=t.contentWidth-t.containerWidth&&n>0)return!t.settings.wheelPropagation}return!0}(o,s)&&n.preventDefault())}}))},wheel:function(t){var e=t.element;function n(n){var r=function(t){var e=t.deltaX,n=-1*t.deltaY;return void 0!==e&&void 0!==n||(e=-1*t.wheelDeltaX/6,n=t.wheelDeltaY/6),t.deltaMode&&1===t.deltaMode&&(e*=10,n*=10),e!=e&&n!=n&&(e=0,n=t.wheelDelta),t.shiftKey?[-n,-e]:[e,n]}(n),i=r[0],o=r[1];if(!function(t,n,r){if(!qA.isWebKit&&e.querySelector("select:focus"))return!0;if(!e.contains(t))return!1;for(var i=t;i&&i!==e;){if(i.classList.contains(BA.element.consuming))return!0;var o=TA(i);if([o.overflow,o.overflowX,o.overflowY].join("").match(/(scroll|auto)/)){var s=i.scrollHeight-i.clientHeight;if(s>0&&!(0===i.scrollTop&&r>0||i.scrollTop===s&&r<0))return!0;var a=i.scrollWidth-i.clientWidth;if(a>0&&!(0===i.scrollLeft&&n<0||i.scrollLeft===a&&n>0))return!0}i=i.parentNode}return!1}(n.target,i,o)){var s=!1;t.settings.useBothWheelAxes?t.scrollbarYActive&&!t.scrollbarXActive?(o?e.scrollTop-=o*t.settings.wheelSpeed:e.scrollTop+=i*t.settings.wheelSpeed,s=!0):t.scrollbarXActive&&!t.scrollbarYActive&&(i?e.scrollLeft+=i*t.settings.wheelSpeed:e.scrollLeft-=o*t.settings.wheelSpeed,s=!0):(e.scrollTop-=o*t.settings.wheelSpeed,e.scrollLeft+=i*t.settings.wheelSpeed),GA(t),(s=s||function(n,r){var i=Math.floor(e.scrollTop),o=0===e.scrollTop,s=i+e.offsetHeight===e.scrollHeight,a=0===e.scrollLeft,l=e.scrollLeft+e.offsetWidth===e.scrollWidth;return!(Math.abs(r)>Math.abs(n)?o||s:a||l)||!t.settings.wheelPropagation}(i,o))&&!n.ctrlKey&&(n.stopPropagation(),n.preventDefault())}}void 0!==window.onwheel?t.event.bind(e,"wheel",n):void 0!==window.onmousewheel&&t.event.bind(e,"mousewheel",n)},touch:function(t){if(qA.supportsTouch||qA.supportsIePointer){var e=t.element,n={},r=0,i={},o=null;qA.supportsTouch?(t.event.bind(e,"touchstart",u),t.event.bind(e,"touchmove",c),t.event.bind(e,"touchend",h)):qA.supportsIePointer&&(window.PointerEvent?(t.event.bind(e,"pointerdown",u),t.event.bind(e,"pointermove",c),t.event.bind(e,"pointerup",h)):window.MSPointerEvent&&(t.event.bind(e,"MSPointerDown",u),t.event.bind(e,"MSPointerMove",c),t.event.bind(e,"MSPointerUp",h)))}function s(n,r){e.scrollTop-=r,e.scrollLeft-=n,GA(t)}function a(t){return t.targetTouches?t.targetTouches[0]:t}function l(t){return!(t.pointerType&&"pen"===t.pointerType&&0===t.buttons||(!t.targetTouches||1!==t.targetTouches.length)&&(!t.pointerType||"mouse"===t.pointerType||t.pointerType===t.MSPOINTER_TYPE_MOUSE))}function u(t){if(l(t)){var e=a(t);n.pageX=e.pageX,n.pageY=e.pageY,r=(new Date).getTime(),null!==o&&clearInterval(o)}}function c(o){if(l(o)){var u=a(o),c={pageX:u.pageX,pageY:u.pageY},h=c.pageX-n.pageX,p=c.pageY-n.pageY;if(function(t,n,r){if(!e.contains(t))return!1;for(var i=t;i&&i!==e;){if(i.classList.contains(BA.element.consuming))return!0;var o=TA(i);if([o.overflow,o.overflowX,o.overflowY].join("").match(/(scroll|auto)/)){var s=i.scrollHeight-i.clientHeight;if(s>0&&!(0===i.scrollTop&&r>0||i.scrollTop===s&&r<0))return!0;var a=i.scrollLeft-i.clientWidth;if(a>0&&!(0===i.scrollLeft&&n<0||i.scrollLeft===a&&n>0))return!0}i=i.parentNode}return!1}(o.target,h,p))return;s(h,p),n=c;var d=(new Date).getTime(),f=d-r;f>0&&(i.x=h/f,i.y=p/f,r=d),function(n,r){var i=Math.floor(e.scrollTop),o=e.scrollLeft,s=Math.abs(n),a=Math.abs(r);if(a>s){if(r<0&&i===t.contentHeight-t.containerHeight||r>0&&0===i)return 0===window.scrollY&&r>0&&qA.isChrome}else if(s>a&&(n<0&&o===t.contentWidth-t.containerWidth||n>0&&0===o))return!0;return!0}(h,p)&&o.preventDefault()}}function h(){t.settings.swipeEasing&&(clearInterval(o),o=setInterval((function(){t.isInitialized?clearInterval(o):i.x||i.y?Math.abs(i.x)<.01&&Math.abs(i.y)<.01?clearInterval(o):(s(30*i.x,30*i.y),i.x*=.8,i.y*=.8):clearInterval(o)}),10))}}},QA=function(t,e){var n=this;if(void 0===e&&(e={}),"string"==typeof t&&(t=document.querySelector(t)),!t||!t.nodeName)throw new Error("no element is specified to initialize PerfectScrollbar");for(var r in this.element=t,t.classList.add(BA.main),this.settings={handlers:["click-rail","drag-thumb","keyboard","wheel","touch"],maxScrollbarLength:null,minScrollbarLength:null,scrollingThreshold:1e3,scrollXMarginOffset:0,scrollYMarginOffset:0,suppressScrollX:!1,suppressScrollY:!1,swipeEasing:!0,useBothWheelAxes:!1,wheelPropagation:!0,wheelSpeed:1},e)n.settings[r]=e[r];this.containerWidth=null,this.containerHeight=null,this.contentWidth=null,this.contentHeight=null;var i,o,s=function(){return t.classList.add(BA.state.focus)},a=function(){return t.classList.remove(BA.state.focus)};this.isRtl="rtl"===TA(t).direction,this.isNegativeScroll=(o=t.scrollLeft,t.scrollLeft=-1,i=t.scrollLeft<0,t.scrollLeft=o,i),this.negativeScrollAdjustment=this.isNegativeScroll?t.scrollWidth-t.clientWidth:0,this.event=new NA,this.ownerDocument=t.ownerDocument||document,this.scrollbarXRail=kA(BA.element.rail("x")),t.appendChild(this.scrollbarXRail),this.scrollbarX=kA(BA.element.thumb("x")),this.scrollbarXRail.appendChild(this.scrollbarX),this.scrollbarX.setAttribute("tabindex",0),this.event.bind(this.scrollbarX,"focus",s),this.event.bind(this.scrollbarX,"blur",a),this.scrollbarXActive=null,this.scrollbarXWidth=null,this.scrollbarXLeft=null;var l=TA(this.scrollbarXRail);this.scrollbarXBottom=parseInt(l.bottom,10),isNaN(this.scrollbarXBottom)?(this.isScrollbarXUsingBottom=!1,this.scrollbarXTop=UA(l.top)):this.isScrollbarXUsingBottom=!0,this.railBorderXWidth=UA(l.borderLeftWidth)+UA(l.borderRightWidth),AA(this.scrollbarXRail,{display:"block"}),this.railXMarginWidth=UA(l.marginLeft)+UA(l.marginRight),AA(this.scrollbarXRail,{display:""}),this.railXWidth=null,this.railXRatio=null,this.scrollbarYRail=kA(BA.element.rail("y")),t.appendChild(this.scrollbarYRail),this.scrollbarY=kA(BA.element.thumb("y")),this.scrollbarYRail.appendChild(this.scrollbarY),this.scrollbarY.setAttribute("tabindex",0),this.event.bind(this.scrollbarY,"focus",s),this.event.bind(this.scrollbarY,"blur",a),this.scrollbarYActive=null,this.scrollbarYHeight=null,this.scrollbarYTop=null;var u=TA(this.scrollbarYRail);this.scrollbarYRight=parseInt(u.right,10),isNaN(this.scrollbarYRight)?(this.isScrollbarYUsingRight=!1,this.scrollbarYLeft=UA(u.left)):this.isScrollbarYUsingRight=!0,this.scrollbarYOuterWidth=this.isRtl?function(t){var e=TA(t);return UA(e.width)+UA(e.paddingLeft)+UA(e.paddingRight)+UA(e.borderLeftWidth)+UA(e.borderRightWidth)}(this.scrollbarY):null,this.railBorderYWidth=UA(u.borderTopWidth)+UA(u.borderBottomWidth),AA(this.scrollbarYRail,{display:"block"}),this.railYMarginHeight=UA(u.marginTop)+UA(u.marginBottom),AA(this.scrollbarYRail,{display:""}),this.railYHeight=null,this.railYRatio=null,this.reach={x:t.scrollLeft<=0?"start":t.scrollLeft>=this.contentWidth-this.containerWidth?"end":null,y:t.scrollTop<=0?"start":t.scrollTop>=this.contentHeight-this.containerHeight?"end":null},this.isAlive=!0,this.settings.handlers.forEach((function(t){return $A[t](n)})),this.lastScrollTop=Math.floor(t.scrollTop),this.lastScrollLeft=t.scrollLeft,this.event.bind(this.element,"scroll",(function(t){return n.onScroll(t)})),GA(this)};QA.prototype.update=function(){this.isAlive&&(this.negativeScrollAdjustment=this.isNegativeScroll?this.element.scrollWidth-this.element.clientWidth:0,AA(this.scrollbarXRail,{display:"block"}),AA(this.scrollbarYRail,{display:"block"}),this.railXMarginWidth=UA(TA(this.scrollbarXRail).marginLeft)+UA(TA(this.scrollbarXRail).marginRight),this.railYMarginHeight=UA(TA(this.scrollbarYRail).marginTop)+UA(TA(this.scrollbarYRail).marginBottom),AA(this.scrollbarXRail,{display:"none"}),AA(this.scrollbarYRail,{display:"none"}),GA(this),VA(this,"top",0,!1,!0),VA(this,"left",0,!1,!0),AA(this.scrollbarXRail,{display:""}),AA(this.scrollbarYRail,{display:""}))},QA.prototype.onScroll=function(t){this.isAlive&&(GA(this),VA(this,"top",this.element.scrollTop-this.lastScrollTop),VA(this,"left",this.element.scrollLeft-this.lastScrollLeft),this.lastScrollTop=Math.floor(this.element.scrollTop),this.lastScrollLeft=this.element.scrollLeft)},QA.prototype.destroy=function(){this.isAlive&&(this.event.unbindAll(),RA(this.scrollbarX),RA(this.scrollbarY),RA(this.scrollbarXRail),RA(this.scrollbarYRail),this.removePsClasses(),this.element=null,this.scrollbarX=null,this.scrollbarY=null,this.scrollbarXRail=null,this.scrollbarYRail=null,this.isAlive=!1)},QA.prototype.removePsClasses=function(){this.element.className=this.element.className.split(" ").filter((function(t){return!t.match(/^ps([-_].+|)$/)})).join(" ")};var ZA=QA,KA=function(){if("undefined"!=typeof Map)return Map;function t(t,e){var n=-1;return t.some((function(t,r){return t[0]===e&&(n=r,!0)})),n}return function(){function e(){this.__entries__=[]}return Object.defineProperty(e.prototype,"size",{get:function(){return this.__entries__.length},enumerable:!0,configurable:!0}),e.prototype.get=function(e){var n=t(this.__entries__,e),r=this.__entries__[n];return r&&r[1]},e.prototype.set=function(e,n){var r=t(this.__entries__,e);~r?this.__entries__[r][1]=n:this.__entries__.push([e,n])},e.prototype.delete=function(e){var n=this.__entries__,r=t(n,e);~r&&n.splice(r,1)},e.prototype.has=function(e){return!!~t(this.__entries__,e)},e.prototype.clear=function(){this.__entries__.splice(0)},e.prototype.forEach=function(t,e){void 0===e&&(e=null);for(var n=0,r=this.__entries__;n<r.length;n++){var i=r[n];t.call(e,i[1],i[0])}},e}()}(),JA="undefined"!=typeof window&&"undefined"!=typeof document&&window.document===document,tk="undefined"!=typeof global&&global.Math===Math?global:"undefined"!=typeof self&&self.Math===Math?self:"undefined"!=typeof window&&window.Math===Math?window:Function("return this")(),ek="function"==typeof requestAnimationFrame?requestAnimationFrame.bind(tk):function(t){return setTimeout((function(){return t(Date.now())}),1e3/60)},nk=2,rk=20,ik=["top","right","bottom","left","width","height","size","weight"],ok="undefined"!=typeof MutationObserver,sk=function(){function t(){this.connected_=!1,this.mutationEventsAdded_=!1,this.mutationsObserver_=null,this.observers_=[],this.onTransitionEnd_=this.onTransitionEnd_.bind(this),this.refresh=function(t,e){var n=!1,r=!1,i=0;function o(){n&&(n=!1,t()),r&&a()}function s(){ek(o)}function a(){var t=Date.now();if(n){if(t-i<nk)return;r=!0}else n=!0,r=!1,setTimeout(s,e);i=t}return a}(this.refresh.bind(this),rk)}return t.prototype.addObserver=function(t){~this.observers_.indexOf(t)||this.observers_.push(t),this.connected_||this.connect_()},t.prototype.removeObserver=function(t){var e=this.observers_,n=e.indexOf(t);~n&&e.splice(n,1),!e.length&&this.connected_&&this.disconnect_()},t.prototype.refresh=function(){this.updateObservers_()&&this.refresh()},t.prototype.updateObservers_=function(){var t=this.observers_.filter((function(t){return t.gatherActive(),t.hasActive()}));return t.forEach((function(t){return t.broadcastActive()})),t.length>0},t.prototype.connect_=function(){JA&&!this.connected_&&(document.addEventListener("transitionend",this.onTransitionEnd_),window.addEventListener("resize",this.refresh),ok?(this.mutationsObserver_=new MutationObserver(this.refresh),this.mutationsObserver_.observe(document,{attributes:!0,childList:!0,characterData:!0,subtree:!0})):(document.addEventListener("DOMSubtreeModified",this.refresh),this.mutationEventsAdded_=!0),this.connected_=!0)},t.prototype.disconnect_=function(){JA&&this.connected_&&(document.removeEventListener("transitionend",this.onTransitionEnd_),window.removeEventListener("resize",this.refresh),this.mutationsObserver_&&this.mutationsObserver_.disconnect(),this.mutationEventsAdded_&&document.removeEventListener("DOMSubtreeModified",this.refresh),this.mutationsObserver_=null,this.mutationEventsAdded_=!1,this.connected_=!1)},t.prototype.onTransitionEnd_=function(t){var e=t.propertyName,n=void 0===e?"":e;ik.some((function(t){return!!~n.indexOf(t)}))&&this.refresh()},t.getInstance=function(){return this.instance_||(this.instance_=new t),this.instance_},t.instance_=null,t}(),ak=function(t,e){for(var n=0,r=Object.keys(e);n<r.length;n++){var i=r[n];Object.defineProperty(t,i,{value:e[i],enumerable:!1,writable:!1,configurable:!0})}return t},lk=function(t){return t&&t.ownerDocument&&t.ownerDocument.defaultView||tk},uk=dk(0,0,0,0);function ck(t){return parseFloat(t)||0}function hk(t){for(var e=[],n=1;n<arguments.length;n++)e[n-1]=arguments[n];return e.reduce((function(e,n){return e+ck(t["border-"+n+"-width"])}),0)}var pk="undefined"!=typeof SVGGraphicsElement?function(t){return t instanceof lk(t).SVGGraphicsElement}:function(t){return t instanceof lk(t).SVGElement&&"function"==typeof t.getBBox};function dk(t,e,n,r){return{x:t,y:e,width:n,height:r}}var fk=function(){function t(t){this.broadcastWidth=0,this.broadcastHeight=0,this.contentRect_=dk(0,0,0,0),this.target=t}return t.prototype.isActive=function(){var t,e=(t=this.target,JA?pk(t)?function(t){var e=t.getBBox();return dk(0,0,e.width,e.height)}(t):function(t){var e=t.clientWidth,n=t.clientHeight;if(!e&&!n)return uk;var r=lk(t).getComputedStyle(t),i=function(t){for(var e={},n=0,r=["top","right","bottom","left"];n<r.length;n++){var i=r[n];e[i]=ck(t["padding-"+i])}return e}(r),o=i.left+i.right,s=i.top+i.bottom,a=ck(r.width),l=ck(r.height);if("border-box"===r.boxSizing&&(Math.round(a+o)!==e&&(a-=hk(r,"left","right")+o),Math.round(l+s)!==n&&(l-=hk(r,"top","bottom")+s)),!function(t){return t===lk(t).document.documentElement}(t)){var u=Math.round(a+o)-e,c=Math.round(l+s)-n;1!==Math.abs(u)&&(a-=u),1!==Math.abs(c)&&(l-=c)}return dk(i.left,i.top,a,l)}(t):uk);return this.contentRect_=e,e.width!==this.broadcastWidth||e.height!==this.broadcastHeight},t.prototype.broadcastRect=function(){var t=this.contentRect_;return this.broadcastWidth=t.width,this.broadcastHeight=t.height,t},t}(),gk=function(t,e){var n,r,i,o,s,a,l,u=(r=(n=e).x,i=n.y,o=n.width,s=n.height,a="undefined"!=typeof DOMRectReadOnly?DOMRectReadOnly:Object,l=Object.create(a.prototype),ak(l,{x:r,y:i,width:o,height:s,top:i,right:r+o,bottom:s+i,left:r}),l);ak(this,{target:t,contentRect:u})},mk=function(){function t(t,e,n){if(this.activeObservations_=[],this.observations_=new KA,"function"!=typeof t)throw new TypeError("The callback provided as parameter 1 is not a function.");this.callback_=t,this.controller_=e,this.callbackCtx_=n}return t.prototype.observe=function(t){if(!arguments.length)throw new TypeError("1 argument required, but only 0 present.");if("undefined"!=typeof Element&&Element instanceof Object){if(!(t instanceof lk(t).Element))throw new TypeError('parameter 1 is not of type "Element".');var e=this.observations_;e.has(t)||(e.set(t,new fk(t)),this.controller_.addObserver(this),this.controller_.refresh())}},t.prototype.unobserve=function(t){if(!arguments.length)throw new TypeError("1 argument required, but only 0 present.");if("undefined"!=typeof Element&&Element instanceof Object){if(!(t instanceof lk(t).Element))throw new TypeError('parameter 1 is not of type "Element".');var e=this.observations_;e.has(t)&&(e.delete(t),e.size||this.controller_.removeObserver(this))}},t.prototype.disconnect=function(){this.clearActive(),this.observations_.clear(),this.controller_.removeObserver(this)},t.prototype.gatherActive=function(){var t=this;this.clearActive(),this.observations_.forEach((function(e){e.isActive()&&t.activeObservations_.push(e)}))},t.prototype.broadcastActive=function(){if(this.hasActive()){var t=this.callbackCtx_,e=this.activeObservations_.map((function(t){return new gk(t.target,t.broadcastRect())}));this.callback_.call(t,e,t),this.clearActive()}},t.prototype.clearActive=function(){this.activeObservations_.splice(0)},t.prototype.hasActive=function(){return this.activeObservations_.length>0},t}(),yk="undefined"!=typeof WeakMap?new WeakMap:new KA,vk=function t(e){if(!(this instanceof t))throw new TypeError("Cannot call a class as a function.");if(!arguments.length)throw new TypeError("1 argument required, but only 0 present.");var n=sk.getInstance(),r=new mk(e,n,this);yk.set(this,r)};["observe","unobserve","disconnect"].forEach((function(t){vk.prototype[t]=function(){var e;return(e=yk.get(this))[t].apply(e,arguments)}}));var _k=void 0!==tk.ResizeObserver?tk.ResizeObserver:vk,bk=new Ot("PERFECT_SCROLLBAR_CONFIG"),wk=function(){return function(t,e,n,r){this.x=t,this.y=e,this.w=n,this.h=r}}(),Ck=function(){return function(t,e){this.x=t,this.y=e}}(),xk=["psScrollY","psScrollX","psScrollUp","psScrollDown","psScrollLeft","psScrollRight","psYReachEnd","psYReachStart","psXReachEnd","psXReachStart"],Sk=function(){function t(t){void 0===t&&(t={}),this.assign(t)}return t.prototype.assign=function(t){for(var e in void 0===t&&(t={}),t)this[e]=t[e]},t}(),Pk=function(){function t(t,e,n,r,i){this.zone=t,this.differs=e,this.elementRef=n,this.platformId=r,this.defaults=i,this.instance=null,this.ro=null,this.timeout=null,this.animation=null,this.configDiff=null,this.ngDestroy=new E,this.disabled=!1,this.psScrollY=new sc,this.psScrollX=new sc,this.psScrollUp=new sc,this.psScrollDown=new sc,this.psScrollLeft=new sc,this.psScrollRight=new sc,this.psYReachEnd=new sc,this.psYReachStart=new sc,this.psXReachEnd=new sc,this.psXReachStart=new sc}return t.prototype.ngOnInit=function(){var t=this;if(!this.disabled&&EA(this.platformId)){var e=new Sk(this.defaults);e.assign(this.config),this.zone.runOutsideAngular((function(){t.instance=new ZA(t.elementRef.nativeElement,e)})),this.configDiff||(this.configDiff=this.differs.find(this.config||{}).create(),this.configDiff.diff(this.config||{})),this.zone.runOutsideAngular((function(){t.ro=new _k((function(){t.update()})),t.elementRef.nativeElement.children[0]&&t.ro.observe(t.elementRef.nativeElement.children[0]),t.ro.observe(t.elementRef.nativeElement)})),this.zone.runOutsideAngular((function(){xk.forEach((function(e){var n,i=e.replace(/([A-Z])/g,(function(t){return"-"+t.toLowerCase()}));(function t(e,n,i,o){return r(i)&&(o=i,i=void 0),o?t(e,n,i).pipe(W(t=>l(t)?o(...t):o(t))):new w(t=>{!function t(e,n,r,i,o){let s;if(function(t){return t&&"function"==typeof t.addEventListener&&"function"==typeof t.removeEventListener}(e)){const t=e;e.addEventListener(n,r,o),s=()=>t.removeEventListener(n,r,o)}else if(function(t){return t&&"function"==typeof t.on&&"function"==typeof t.off}(e)){const t=e;e.on(n,r),s=()=>t.off(n,r)}else if(function(t){return t&&"function"==typeof t.addListener&&"function"==typeof t.removeListener}(e)){const t=e;e.addListener(n,r),s=()=>t.removeListener(n,r)}else{if(!e||!e.length)throw new TypeError("Invalid event target");for(let s=0,a=e.length;s<a;s++)t(e[s],n,r,i,o)}i.add(s)}(e,n,(function(e){t.next(arguments.length>1?Array.prototype.slice.call(arguments):e)}),t,i)})})(t.elementRef.nativeElement,i).pipe(function(t,e=JE){return n=()=>(function(t=0,e,n){let r=-1;return nT(e)?r=Number(e)<1?1:Number(e):A(e)&&(n=e),A(n)||(n=JE),new w(e=>{const i=nT(t)?t:+t-n.now();return n.schedule(rT,i,{index:0,period:r,subscriber:e})})})(t,e),function(t){return t.lift(new tT(n))};var n}(20),(n=t.ngDestroy,t=>t.lift(new iT(n)))).subscribe((function(n){t[e].emit(n)}))}))}))}},t.prototype.ngOnDestroy=function(){var t=this;EA(this.platformId)&&(this.ngDestroy.next(),this.ngDestroy.complete(),this.ro&&this.ro.disconnect(),this.timeout&&"undefined"!=typeof window&&window.clearTimeout(this.timeout),this.zone.runOutsideAngular((function(){t.instance&&t.instance.destroy()})),this.instance=null)},t.prototype.ngDoCheck=function(){!this.disabled&&this.configDiff&&EA(this.platformId)&&this.configDiff.diff(this.config||{})&&(this.ngOnDestroy(),this.ngOnInit())},t.prototype.ngOnChanges=function(t){t.disabled&&!t.disabled.isFirstChange()&&EA(this.platformId)&&t.disabled.currentValue!==t.disabled.previousValue&&(!0===t.disabled.currentValue?this.ngOnDestroy():!1===t.disabled.currentValue&&this.ngOnInit())},t.prototype.ps=function(){return this.instance},t.prototype.update=function(){var t=this;"undefined"!=typeof window&&(this.timeout&&window.clearTimeout(this.timeout),this.timeout=window.setTimeout((function(){if(!t.disabled&&t.configDiff)try{t.zone.runOutsideAngular((function(){t.instance&&t.instance.update()}))}catch(e){}}),0))},t.prototype.geometry=function(t){return void 0===t&&(t="scroll"),new wk(this.elementRef.nativeElement[t+"Left"],this.elementRef.nativeElement[t+"Top"],this.elementRef.nativeElement[t+"Width"],this.elementRef.nativeElement[t+"Height"])},t.prototype.position=function(t){return void 0===t&&(t=!1),!t&&this.instance?new Ck(this.instance.reach.x||0,this.instance.reach.y||0):new Ck(this.elementRef.nativeElement.scrollLeft,this.elementRef.nativeElement.scrollTop)},t.prototype.scrollable=function(t){void 0===t&&(t="any");var e=this.elementRef.nativeElement;return"any"===t?e.classList.contains("ps--active-x")||e.classList.contains("ps--active-y"):"both"===t?e.classList.contains("ps--active-x")&&e.classList.contains("ps--active-y"):e.classList.contains("ps--active-"+t)},t.prototype.scrollTo=function(t,e,n){this.disabled||(null==e&&null==n?this.animateScrolling("scrollTop",t,n):(null!=t&&this.animateScrolling("scrollLeft",t,n),null!=e&&this.animateScrolling("scrollTop",e,n)))},t.prototype.scrollToX=function(t,e){this.animateScrolling("scrollLeft",t,e)},t.prototype.scrollToY=function(t,e){this.animateScrolling("scrollTop",t,e)},t.prototype.scrollToTop=function(t,e){this.animateScrolling("scrollTop",t||0,e)},t.prototype.scrollToLeft=function(t,e){this.animateScrolling("scrollLeft",t||0,e)},t.prototype.scrollToRight=function(t,e){this.animateScrolling("scrollLeft",this.elementRef.nativeElement.scrollWidth-this.elementRef.nativeElement.clientWidth-(t||0),e)},t.prototype.scrollToBottom=function(t,e){this.animateScrolling("scrollTop",this.elementRef.nativeElement.scrollHeight-this.elementRef.nativeElement.clientHeight-(t||0),e)},t.prototype.scrollToElement=function(t,e,n){var r=this.elementRef.nativeElement.querySelector(t);if(r){var i=r.getBoundingClientRect(),o=this.elementRef.nativeElement.getBoundingClientRect();this.elementRef.nativeElement.classList.contains("ps--active-x")&&this.animateScrolling("scrollLeft",i.left-o.left+this.elementRef.nativeElement.scrollLeft+(e||0),n),this.elementRef.nativeElement.classList.contains("ps--active-y")&&this.animateScrolling("scrollTop",i.top-o.top+this.elementRef.nativeElement.scrollTop+(e||0),n)}},t.prototype.animateScrolling=function(t,e,n){var r=this;if(this.animation&&(window.cancelAnimationFrame(this.animation),this.animation=null),n&&"undefined"!=typeof window){if(e!==this.elementRef.nativeElement[t]){var i=0,o=0,s=performance.now(),a=this.elementRef.nativeElement[t],l=(a-e)/2,u=function(c){o+=Math.PI/(n/(c-s)),i=Math.round(e+l+l*Math.cos(o)),r.elementRef.nativeElement[t]===a&&(o>=Math.PI?r.animateScrolling(t,e,0):(r.elementRef.nativeElement[t]=i,a=r.elementRef.nativeElement[t],s=c,r.animation=window.requestAnimationFrame(u)))};window.requestAnimationFrame(u)}}else this.elementRef.nativeElement[t]=e},t.ngDirectiveDef=me({type:t,selectors:[["","perfectScrollbar",""]],factory:function(e){return new(e||t)(js(Lc),js(Ga),js(Ia),js(mc),js(bk,8))},inputs:{disabled:"disabled",config:["perfectScrollbar","config"]},outputs:{psScrollY:"psScrollY",psScrollX:"psScrollX",psScrollUp:"psScrollUp",psScrollDown:"psScrollDown",psScrollLeft:"psScrollLeft",psScrollRight:"psScrollRight",psYReachEnd:"psYReachEnd",psYReachStart:"psYReachStart",psXReachEnd:"psXReachEnd",psXReachStart:"psXReachStart"},exportAs:["ngxPerfectScrollbar"],features:[ea()]}),t}(),Ik=function(){function t(){}return t.ngModuleDef=fe({type:t}),t.ngInjectorDef=yt({factory:function(e){return new(e||t)},imports:[[CA],CA]}),t}();class Ek{}class Tk{}const Ak="*";function kk(t,e=null){return{type:2,steps:t,options:e}}function Ok(t){return{type:6,styles:t,offset:null}}function Mk(t){Promise.resolve(null).then(t)}class Rk{constructor(t=0,e=0){this._onDoneFns=[],this._onStartFns=[],this._onDestroyFns=[],this._started=!1,this._destroyed=!1,this._finished=!1,this.parentPlayer=null,this.totalTime=t+e}_onFinish(){this._finished||(this._finished=!0,this._onDoneFns.forEach(t=>t()),this._onDoneFns=[])}onStart(t){this._onStartFns.push(t)}onDone(t){this._onDoneFns.push(t)}onDestroy(t){this._onDestroyFns.push(t)}hasStarted(){return this._started}init(){}play(){this.hasStarted()||(this._onStart(),this.triggerMicrotask()),this._started=!0}triggerMicrotask(){Mk(()=>this._onFinish())}_onStart(){this._onStartFns.forEach(t=>t()),this._onStartFns=[]}pause(){}restart(){}finish(){this._onFinish()}destroy(){this._destroyed||(this._destroyed=!0,this.hasStarted()||this._onStart(),this.finish(),this._onDestroyFns.forEach(t=>t()),this._onDestroyFns=[])}reset(){}setPosition(t){}getPosition(){return 0}triggerCallback(t){const e="start"==t?this._onStartFns:this._onDoneFns;e.forEach(t=>t()),e.length=0}}class Dk{constructor(t){this._onDoneFns=[],this._onStartFns=[],this._finished=!1,this._started=!1,this._destroyed=!1,this._onDestroyFns=[],this.parentPlayer=null,this.totalTime=0,this.players=t;let e=0,n=0,r=0;const i=this.players.length;0==i?Mk(()=>this._onFinish()):this.players.forEach(t=>{t.onDone(()=>{++e==i&&this._onFinish()}),t.onDestroy(()=>{++n==i&&this._onDestroy()}),t.onStart(()=>{++r==i&&this._onStart()})}),this.totalTime=this.players.reduce((t,e)=>Math.max(t,e.totalTime),0)}_onFinish(){this._finished||(this._finished=!0,this._onDoneFns.forEach(t=>t()),this._onDoneFns=[])}init(){this.players.forEach(t=>t.init())}onStart(t){this._onStartFns.push(t)}_onStart(){this.hasStarted()||(this._started=!0,this._onStartFns.forEach(t=>t()),this._onStartFns=[])}onDone(t){this._onDoneFns.push(t)}onDestroy(t){this._onDestroyFns.push(t)}hasStarted(){return this._started}play(){this.parentPlayer||this.init(),this._onStart(),this.players.forEach(t=>t.play())}pause(){this.players.forEach(t=>t.pause())}restart(){this.players.forEach(t=>t.restart())}finish(){this._onFinish(),this.players.forEach(t=>t.finish())}destroy(){this._onDestroy()}_onDestroy(){this._destroyed||(this._destroyed=!0,this._onFinish(),this.players.forEach(t=>t.destroy()),this._onDestroyFns.forEach(t=>t()),this._onDestroyFns=[])}reset(){this.players.forEach(t=>t.reset()),this._destroyed=!1,this._finished=!1,this._started=!1}setPosition(t){const e=t*this.totalTime;this.players.forEach(t=>{const n=t.totalTime?Math.min(1,e/t.totalTime):1;t.setPosition(n)})}getPosition(){let t=0;return this.players.forEach(e=>{const n=e.getPosition();t=Math.min(n,t)}),t}beforeDestroy(){this.players.forEach(t=>{t.beforeDestroy&&t.beforeDestroy()})}triggerCallback(t){const e="start"==t?this._onStartFns:this._onDoneFns;e.forEach(t=>t()),e.length=0}}const Bk="!";class jk{static isObject(t){return!(!t||"object"!=typeof t||t instanceof Array)}static isNotZero(t){return null!=t&&0!==t&&"0"!==t}static isNotEmptyArray(t){return null!=t&&t.length>0}static isNotEmptyString(t){return null!=t&&""!==t&&"string"==typeof t}static arrayDiff(t,e){const n=[];for(const r of t)-1===e.indexOf(r)&&n.push(r);return n}static DeepMerge(t,e){const n=t=>t&&"object"==typeof t;return n(t)&&n(e)?(Object.keys(e).forEach(r=>{const i=t[r],o=e[r];t[r]=Array.isArray(i)&&Array.isArray(o)?o:n(i)&&n(o)?jk.DeepMerge(Object.assign({},i),o):o}),t):e}static joinArrayByComma(t){return t.reduce((t,e)=>t+", "+e,"").slice(2)}}class Fk{}let zk=(()=>{class t{static buildProduct(t,e,n,r=[],i){const o=new D_,s={width:t.size.width,height:t.size.height};if(void 0!==t.pages)if(Array.isArray(t.pages))for(const a of t.pages)o.surfaces.add(this.buildSurface(s,t,e,a.title,!1,r,i));else if("number"==typeof t.pages)for(let a=0;a<t.pages;a++)o.surfaces.add(this.buildSurface(s,t,e,n+" "+(a+1),!1,r,i));else{const a=void 0!==t.pages.init?t.pages.init:t.pages.min;for(let l=0;l<a;l++)o.surfaces.add(this.buildSurface(s,t,e,n+" "+(l+1),!1,r,i))}else o.surfaces.add(this.buildSurface(s,t,e,n+" 1",!1,r,i)),t.pages=999999;return o.name="Sample product",o}static getBleed(t){const e=t.bleed||0;let n;switch(!0){case void 0!==e.horizontal:n=new Tm({left:e.horizontal,top:e.vertical,right:e.horizontal,bottom:e.vertical});break;case"number"==typeof e:n=new Tm({left:e,top:e,right:e,bottom:e});break;case void 0!==e.top:n=new Tm(e)}return n}static buildSurface(e,n,r,i,o=!1,s=[],a){const l=n.bleed||0,u=this.getBleed(n),c=new v_(o?e.width:e.width+u.left+u.right,o?e.height:e.height+u.top+u.bottom),h=new km(fg.FromLTRB(0,0,c.width,c.height));c.printAreas.add(h);let p="#ff0000";0!==l?h.safetyLines.add(Vg(new w_,{color:bm.createColor("#0000ff"),altColor:bm.createColor("#0000ff"),margin:u,widthPx:.5,pdfBox:__.Trim,name:"TrimAsBleed"})):p="#0000ff";const d=n.bleedLineWidth||.5;if(h.safetyLines.add(Vg(new w_,{color:bm.createColor(p),altColor:bm.createColor(p),margin:0,widthPx:d})),n.safetyLines){const t=new gm({c:0,m:0,y:0,k:100});for(const e of n.safetyLines){const n=e.margin||0,r="number"==typeof n?new Tm({left:n,top:n,right:n,bottom:n}):n;r.top+=u.top,r.left+=u.left,r.right+=u.right,r.bottom+=u.bottom,h.safetyLines.add(Vg(new w_,{color:void 0!==e.color?bm.createColor(e.color):t,altColor:void 0!==e.altColor?bm.createColor(e.altColor):t,borderRadius:(e.borderRadius||0)+"px",stepPx:e.stepPx,margin:r,widthPx:e.widthPx,pdfBox:e.pdfBox}))}}let f,g;if(c.containers.add(f=Vg(new sm,{name:M_.BG_CONTAINER_NAME,locked:!0})),f.items.add(Vg(new uy(Eg.rectangle(0,0,c.width,c.height)),{fillColor:new hm({r:255,g:255,b:255}),borderColor:new gm({c:0,m:0,y:0,k:0,a:0}),borderWidth:0})),c.containers.add(g=Vg(new sm,{name:M_.MAIN_CONTAINER_NAME})),0!==l&&r.shadeBleedZone){const t=new om;c.mockup=new g_([],[t]);let e=new gm({c:0,m:0,y:0,k:50,a:50});if(jk.isNotEmptyString(r.bleedZoneColor))try{e=bm.createColor(r.bleedZoneColor)}catch(m){}const n=Vg(new uy(Eg.rectangle(0,0,c.width-u.right,u.top)),{fillColor:e,borderColor:e,borderWidth:0}),i=Vg(new uy(Eg.rectangle(0,u.top,u.left,c.height-u.top)),{fillColor:e,borderColor:e,borderWidth:0}),o=Vg(new uy(Eg.rectangle(u.left,c.height-u.bottom,c.width-u.left,u.bottom)),{fillColor:e,borderColor:e,borderWidth:0}),s=Vg(new uy(Eg.rectangle(c.width-u.right,0,u.right,c.height-u.bottom)),{fillColor:e,borderColor:e,borderWidth:0});t.items.addRange([n,i,o,s])}if(n&&n.mockup&&n.mockup.image&&(c.mockup=this.ensureHaveMockupUpContainer(c),!c.mockup.overContainers.first().items.any(e=>e.name===t.mockupItemName))){const e=n.mockup.location||new pg(0,0),r=n.mockup.size||new ef(c.width,c.height),i=new Av(null,e,r.width,r.height);i.name=t.mockupItemName,c.mockup.overContainers.first().items.add(i)}if(s&&s.length>0){c.mockup=this.ensureHaveMockupUpContainer(c);const t=c.mockup.overContainers.first();for(const e of s){e.size||(e.size={width:100,height:100});const n=e.color.startsWith("cmyk")?new gm(e.color):new hm(e.color),r=this.GetInitialPoint(c,e),i=["circle","ellipse"].includes(e.shape)?Eg.ellipse(r.x,r.y,e.size.width,e.size.height):Eg.rectangle(r.x,r.y,e.size.width,e.size.height),o=Vg(new uy(i),{fillColor:n,borderColor:n,borderWidth:0});if(e.opacity&&!Number.isNaN(e.opacity)&&(o.opacity=e.opacity),t.items.add(o),e.text&&e.text.font&&""!==e.text.font){const n=new Kv(e.text.message,[i],e.text.font,e.text.fontSize||18);e.text.alignment&&(n.alignment=vy[e.text.alignment[0].toUpperCase()+e.text.alignment.slice(1)]||vy.Left),e.text.color&&(n.color=e.text.color.startsWith("cmyk")?new gm(e.text.color):new hm(e.text.color)),t.items.add(n)}}}return i&&(c.name=i),c}static GetInitialPoint(t,e){let n=e.position.offset,r=e.position.alignment;n||(n=new Fk,n.x=0,n.y=0),r&&""!==r||(r="topLeft");let i=0,o=0;return r.toLowerCase().endsWith("right")&&(i=t.width-n.x-e.size.width),r.toLowerCase().endsWith("center")&&(i=t.width/2+n.x-e.size.width/2),r.toLowerCase().endsWith("left")&&(i=n.x),r.toLowerCase().startsWith("bottom")&&(o=t.height-n.y-e.size.height),r.toLowerCase().startsWith("mid")&&(o=t.height/2+n.y-e.size.height/2),r.toLowerCase().startsWith("top")&&(o=n.y),{x:i,y:o}}static ensureHaveMockupUpContainer(t){return t.mockup||(t.mockup=new g_([],[])),0===t.mockup.overContainers.length&&t.mockup.overContainers.add(new om),t.mockup}}return t.mockupItemName="displayingMockup",t})();const Lk={TogglePreloader:"[Store] Toggle preloader",SetDeleteSurfaceIndex:"[Store] Delete surface",SetStep:"[Store] Set step",SetConfiguration:"[Store] Set configuration",SetGraphicsFileLab:"[Store] Set graphicFileLab",SetProduct:"[Store] Set product",SetViewer:"[Store] Set viewer",SetCurrentSurfaceIndex:"[Store] Set current surface",SetKeepAspectRatio:"[Store] Set keep aspect ratio",SetProductInfo:"[Store] Set product info",SetRuleResults:"[Store] Set rule results",SetSurfaceCount:"[Store] Set surface count",SetZoom:"[Store] Set zoom"};class Hk{constructor(t){this.payload=t,this.type=Lk.TogglePreloader}}class Nk{constructor(t){this.payload=t,this.type=Lk.SetDeleteSurfaceIndex}}class Wk{constructor(t){this.payload=t,this.type=Lk.SetStep}}class Vk{constructor(t){this.payload=t,this.type=Lk.SetConfiguration}}class Uk{constructor(t){this.payload=t,this.type=Lk.SetGraphicsFileLab}}class qk{constructor(t){this.payload=t,this.type=Lk.SetProduct}}class Gk{constructor(t){this.payload=t,this.type=Lk.SetViewer}}class Yk{constructor(t){this.payload=t,this.type=Lk.SetCurrentSurfaceIndex}}class Xk{constructor(t){this.payload=t,this.type=Lk.SetKeepAspectRatio}}class $k{constructor(t){this.payload=t,this.type=Lk.SetProductInfo}}class Qk{constructor(t){this.payload=t,this.type=Lk.SetRuleResults}}class Zk{constructor(t){this.payload=t,this.type=Lk.SetSurfaceCount}}class Kk{constructor(t){this.payload=t,this.type=Lk.SetZoom}}class Jk{constructor(t){this._store=t,this.preloader$=t.pipe(Eb(t=>t.state.preloader)),this.preloader$.subscribe(t=>this.preloader=t),this.state$=t.pipe(Eb(t=>t.state)),this.state$.subscribe(t=>this.state=t),this.step$=t.pipe(Eb(t=>t.state.step)),this.step$.subscribe(t=>this.step=t),this.product$=t.pipe(Eb(t=>t.state.product)),this.product$.subscribe(t=>this.product=t),this.surfacesCount$=t.pipe(Eb(t=>t.state.surfaceCount)),this.surfacesCount$.subscribe(t=>this.surfacesCount=t),this.productInfo$=t.pipe(Eb(t=>t.state.productInfo)),this.productInfo$.subscribe(t=>this.productInfo=t),this.ruleResults$=t.pipe(Eb(t=>t.state.ruleResults)),this.ruleResults$.subscribe(t=>this.ruleResults=t),this.currentSurfaceIndex$=t.pipe(Eb(t=>t.state.currentSurfaceIndex)),this.keepAspectRatio$=t.pipe(Eb(t=>t.state.keepAspectRatio)),this.zoom$=t.pipe(Eb(t=>t.state.zoom))}togglePreloader(t){this._store.dispatch(new Hk(t))}}let tO=(()=>{class t{constructor(t){this._translateService=t}getPageNamePrefix(){return Object(cd.__awaiter)(this,void 0,void 0,(function*(){if(jk.isNotEmptyString(t._pageNamePrefixValue))return t._pageNamePrefixValue;const e=yield this._translateService.get("main.pageNamePrefix").toPromise();return jk.isNotEmptyString(e)&&(t._pageNamePrefixValue=e),jk.isNotEmptyString(e)?e:"Page"}))}}return t._pageNamePrefixValue="",t})(),eO=(()=>{class t extends Jk{constructor(t,e){super(t),this._localizeService=e,this._serializer=new O_}getSerializedProduct(t){return this._serializer.serialize(t)}getSurfacePreview(t,e=200,n=200,r=!1){return Object(cd.__awaiter)(this,void 0,void 0,(function*(){const i=this.getSerializedProduct(new D_([t])),o=this.state.configuration.warningMessages,s=!!this.state.configuration.product.mockup.image,a=yield fetch(this.state.configuration.backendUrl+"/api/render/proof",{headers:{Accept:"application/json","Content-Type":"application/json"},method:"POST",body:`{\n                        size: { width: ${e}, height: ${n} },\n                        keepPermanently: ${r},\n                        baseUrl: '${this.state.configuration.backendUrl}',\n                        trimPreviewOnBleed: ${this.state.configuration.rendering.trimPreviewOnBleed},\n                        product: ${i},\n                        warningMessages: ${JSON.stringify(o)},\n                        showMockup: ${s}\n                    }`});return yield this.handleResponseError(a,"Failed get surface preview"),(yield this.formatResponseUrl(a,r))[0]}))}getProductPdf(t,e=!1){return Object(cd.__awaiter)(this,void 0,void 0,(function*(){const n=this.getSerializedProduct(t),r=this.state.configuration.warningMessages,i=yield fetch(this.state.configuration.backendUrl+"/api/render/hires",{headers:{Accept:"application/json","Content-Type":"application/json"},method:"POST",body:`{\n                keepPermanently: ${e},\n                baseUrl: '${this.state.configuration.backendUrl}',\n                hiResOutputToSeparateFiles: ${!!e&&this.state.configuration.rendering.hiResOutputToSeparateFiles},\n                hiResOutputPdfMetadata: ${JSON.stringify(this.state.configuration.rendering.hiResOutputPdfMetadata)},\n                product: ${n},\n                warningMessages: ${JSON.stringify(r)}\n            }`});return yield this.handleResponseError(i,"Failed to get product PDF url"),yield this.formatResponseUrl(i,e)}))}finish(t){return Object(cd.__awaiter)(this,void 0,void 0,(function*(){const e=this.getSerializedProduct(t),n=this.state.configuration.rules.find(t=>"colorspace"===t.type).params,r=n.fixTarget||n.allowedColorSpaces[0],i=!!this.state.configuration.product.mockup.image;let o="";switch(r.toLowerCase()){case"grayscale":o=this.state.configuration.rendering.grayscaleColorProfileId;break;case"cmyk":o=this.state.configuration.rendering.cmykColorProfileId;break;case"rgb":o=this.state.configuration.rendering.rgbColorProfileId}const s=this.state.configuration.warningMessages,a=yield fetch(this.state.configuration.backendUrl+"/api/product/finish",{headers:{Accept:"application/json","Content-Type":"application/json"},method:"POST",body:`{\n                baseUrl: '${this.state.configuration.backendUrl}',\n                hiResOutputToSeparateFiles: ${this.state.configuration.rendering.hiResOutputToSeparateFiles},\n                trimPreviewOnBleed: ${this.state.configuration.rendering.trimPreviewOnBleed},\n                size: ${JSON.stringify(this.state.configuration.rendering.previewSize)},\n                showTrimLineOnPreview: ${this.state.configuration.rendering.showTrimLineOnPreview},\n                keepPdfOriginalColors: ${this.state.configuration.rendering.keepPdfOriginalColors},\n                hiResOutputPdfMetadata: ${JSON.stringify(this.state.configuration.rendering.hiResOutputPdfMetadata)},\n                targetColorProfile: "${r}",\n                product: ${e},\n                externalColorProfileId: "${o}",\n                warningMessages: ${JSON.stringify(s)},\n                showMockup: ${i}\n            }`});return yield this.handleResponseError(a,"Failed to finish product"),yield a.json()}))}formatResponseUrl(t,e){return Object(cd.__awaiter)(this,void 0,void 0,(function*(){if(e)return(yield t.json()).urls;{const e=yield t.blob();return[URL.createObjectURL(e)]}}))}insertFilesInProduct(t,e,n=0){return Object(cd.__awaiter)(this,void 0,void 0,(function*(){const r=this.getSerializedProduct(t);let i=0;if(jk.isObject(this.state.configuration.product.pages)){const t=this.state.configuration.product.pages;null!=t.max&&(i=t.max)}const o=yield this._localizeService.getPageNamePrefix(),s=yield fetch(this.state.configuration.backendUrl+"/api/Product/insertFiles",{headers:{Accept:"application/json","Content-Type":"application/json"},method:"POST",body:`{\n                "dpi": ${this.state.configuration.product.dpi},\n                "fileUrls": ${JSON.stringify(e)},\n                "startIndex": ${n},\n                "addPages": ${this.state.configuration.product.allowAddPages},\n                "addPagesUpload": ${this.state.configuration.product.allowAddPagesUploading},\n                "fileUploadBehavior": "${this.state.configuration.uploader.fileUploadBehavior}",\n                "maxPages": ${i},\n                "pageNamePrefix": "${o}",\n                "product": ${r}\n            }`});return yield this.handleResponseError(s,"Failed to insert uploaded files in product",!0),this._serializer.deserialize(yield s.json())}))}checkProduct(t,e=-1){return Object(cd.__awaiter)(this,void 0,void 0,(function*(){const n=this.getSerializedProduct(t),r=yield fetch(this.state.configuration.backendUrl+"/api/Product/checkProduct",{headers:{Accept:"application/json","Content-Type":"application/json"},method:"POST",body:`{\n                dpi: ${this.state.configuration.product.dpi},\n                surfaceIndex: ${e},\n                product: ${n}\n            }`});return yield this.handleResponseError(r,"Failed to get information about page"),yield r.json()}))}fixSurfaceColorSpace(t,e=[0]){return Object(cd.__awaiter)(this,void 0,void 0,(function*(){const n=this.getSerializedProduct(t),r=this.state.configuration.rules.find(t=>"colorspace"===t.type).params,i=r.fixTarget||r.allowedColorSpaces[0];let o="";switch(i.toLowerCase()){case"grayscale":o=this.state.configuration.rendering.grayscaleColorProfileId;break;case"cmyk":o=this.state.configuration.rendering.cmykColorProfileId;break;case"rgb":o=this.state.configuration.rendering.rgbColorProfileId}const s=yield fetch(this.state.configuration.backendUrl+"/api/Product/FixSurfaceColorSpace",{headers:{Accept:"application/json","Content-Type":"application/json"},method:"POST",body:`{\n                dpi: ${this.state.configuration.product.dpi},\n                surfaceIndexes: [${Array.from(e)}],\n                colorSpace: "${i}",\n                keepPdfOriginalColors: ${this.state.configuration.rendering.keepPdfOriginalColors},\n                product: ${n},\n                externalColorProfileId: "${o}"\n            }`});return yield this.handleResponseError(s,"Failed to fix colorspace for surface"),this._serializer.deserialize(yield s.json())}))}fixSurfaceSpotColors(t,e=[0]){return Object(cd.__awaiter)(this,void 0,void 0,(function*(){const n=this.getSerializedProduct(t),r=this.state.configuration.rules.find(t=>"spotcolors"===t.type).params.fixTarget||"cmyk";let i="";switch(r.toLowerCase()){case"grayscale":i=this.state.configuration.rendering.grayscaleColorProfileId;break;case"cmyk":i=this.state.configuration.rendering.cmykColorProfileId;break;case"rgb":i=this.state.configuration.rendering.rgbColorProfileId}Object.defineProperty(RegExp.prototype,"toJSON",{value:RegExp.prototype.toString});const o=this.state.configuration.rules.find(t=>"spotcolors"===t.type),s=yield fetch(this.state.configuration.backendUrl+"/api/Product/FixSurfaceSpotColors",{headers:{Accept:"application/json","Content-Type":"application/json"},method:"POST",body:`{\n                dpi: ${this.state.configuration.product.dpi},\n                surfaceIndexes: [${Array.from(e)}],\n                colorSpace: "${r}",\n                rules: ${JSON.stringify(o.params)},\n                product: ${n},\n                externalColorProfileId: "${i}"\n            }`});return yield this.handleResponseError(s,"Failed to fix spot colors for surface"),this._serializer.deserialize(yield s.json())}))}getStateProduct(t){return Object(cd.__awaiter)(this,void 0,void 0,(function*(){const e=yield fetch(this.state.configuration.backendUrl+"/api/Product/getStateProduct",{headers:{Accept:"application/json","Content-Type":"application/json"},method:"POST",body:`{\n                "StateId": "${t}",\n            }`});return yield this.handleResponseError(e,"Failed to restore product from state file",!0),this._serializer.deserialize(yield e.json())}))}handleResponseError(t,e,n=!0){return Object(cd.__awaiter)(this,void 0,void 0,(function*(){if(!t.ok){let i=`${e}`;if(404===t.status)try{i=yield t.text()}catch(r){}else try{i+="\r\n "+(yield t.json()).details}catch(r){}if(n)throw new Error(i);return console.error(i),!1}return!0}))}addMockupToProduct(t,e){return Object(cd.__awaiter)(this,void 0,void 0,(function*(){if(!e||!e.image)return t;const n=this.getSerializedProduct(t),r=yield fetch(this.state.configuration.backendUrl+"/api/Product/AddMockup",{headers:{Accept:"application/json","Content-Type":"application/json"},method:"POST",body:`{\n                "product": ${n},\n                "mockup": ${JSON.stringify(e)}\n            }`});return yield this.handleResponseError(r,"Failed to insert uploaded files in product",!0),this._serializer.deserialize(yield r.json())}))}}return t.ngInjectableDef=mt({factory:function(){return new t(qt(Ib),qt(tO))},token:t,providedIn:"root"}),t})(),nO=(()=>{class t extends Jk{constructor(t,e,n){super(n),this._preflightBackendService=t,this._localizeService=e,this._serializer=new O_}addNewSurface(t,e,n){return Object(cd.__awaiter)(this,void 0,void 0,(function*(){const r=t.surfaces.length,i=yield this._localizeService.getPageNamePrefix(),o=zk.buildSurface({width:e.size.width,height:e.size.height},e,n,i+" "+(r+1),!1,this.state.configuration.warningMessages,this.state.configuration.rendering);t.surfaces.add(o)}))}getSerializedProduct(t){return this._serializer.serialize(t)}getSurfacePreviewUrl(t,e=200,n=200,r=!1){return Object(cd.__awaiter)(this,void 0,void 0,(function*(){return yield this._preflightBackendService.getSurfacePreview(t,e,n,r)}))}getProductPdfUrl(t,e=!1){return Object(cd.__awaiter)(this,void 0,void 0,(function*(){return yield this._preflightBackendService.getProductPdf(t,e)}))}insertFilesInProduct(t,e,n=0){return Object(cd.__awaiter)(this,void 0,void 0,(function*(){return yield this._preflightBackendService.insertFilesInProduct(t,e,n)}))}getInfoFromProduct(t,e=-1){return Object(cd.__awaiter)(this,void 0,void 0,(function*(){const n=yield this._preflightBackendService.checkProduct(t,e),r=[];for(const t in n){const e=JSON.parse(n[t]);let i={pages:[{}]};Object.keys(e).length>0&&(i=this.state.graphicsFileLab.analyzeInfo(e.pages)),r.push(new qb(e.resources||{resources:{fonts:[]}},i.pages[0]))}return r}))}hasUploadedFiles(t){let e=!1;if(t)for(const n of t.surfaces)if(n.getAllItems().firstOrDefault(t=>"ImageItem"===t.type)){e=!0;break}return e}hasEmptyPages(t){let e=!0;return t&&(e=!t.surfaces.all(t=>t.getAllItems().any(t=>"ImageItem"===t.type))),e}finish(t){return Object(cd.__awaiter)(this,void 0,void 0,(function*(){return yield this._preflightBackendService.finish(t)}))}getStateProduct(t){return Object(cd.__awaiter)(this,void 0,void 0,(function*(){return yield this._preflightBackendService.getStateProduct(t)}))}addMockupToProduct(t,e){return Object(cd.__awaiter)(this,void 0,void 0,(function*(){return yield this._preflightBackendService.addMockupToProduct(t,e)}))}}return t.ngInjectableDef=mt({factory:function(){return new t(qt(eO),qt(tO),qt(Ib))},token:t,providedIn:"root"}),t})(),rO=(()=>{class t{}return t.viewerLoadingImageUrl="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABcAAAAUCAYAAABmvqYOAAAAGXRFWHRTb2Z0d2FyZQBBZG9iZSBJbWFnZVJlYWR5ccllPAAAAwVJREFUeNqclE9oE1EQxmeTLGnatGtocqhR04MeClUMVWupJyO5iBTBgAcvIojiqUUoeNOLh0I9Fk9qwYsHL+qhiOCf5CJiMFIUQqxJiAk2aU1MN2k3TfxmfRvW2NjYBz925+3svHnfzHvSzMwM7WBcB1/A4385WToMtgvMmuxb4KzJnt3qJ1uHwV8AD3gPTmqa9hHP3bIs38XzOzgH9oLQ/wT3gSS4AW4j6JTL5dLsdrvKu15fXz+8urpKWITtq+IfB6hsF5y/fQUPwIjT6cz7fL5WH5XnYrGYarVan4g6TADndpp7wTMwZLFY8oODg/oksv8Lv99P8KmyL3jaSUFZjknQjUGJRIKSySRVKhUqFoukqqoemEe1WiVeHHY3zPPbaW4RBbyE7arIijPTg7ndbgoEArpTJBKhXC7HmpPD4WAf1n4aPATf2mXO28uBoCRJalNgZDs2NtZ0Gh0dbWbPo6urq4jHBZDW5WwTfBFcFE6yMckZokOaTtls9o+fhCyvwGX+1yzLUSHHB24lBJLgfGRzc3Mf7B/0W3yan5+n8fFxwo4oHo/rc6ZCd+O/+zDftWp+DB+nuYeh80u8vwZDcP6MbOuY13fJ2obDYT2Y0UG8ABfbUM9cUG56tV6vLwwPDydsNn09DcVRUqlUfz6fH2Ef2M9l1kUE48EHCIeK1tbWKJPJKJiXxc73c7dZg8FgDS8NfDjUaDQ0bis8rRsbG+W+vj5ruVxOYuE7tVrtIJ51o3PgQ5CMlpeXaWVlRUEx7wmte8EjI/Mz4Dgy1gqFAoVCIfJ6vRSNRuV0Oh1XFEVGu00gaRekKAEX11IU2g3teUPcJT+55cFU2z5HMLNpdMoA2MPdZjQKeANOCLsB6lvdH3wn+LHt05BGm5ubI4/Ho2vZ09NDS0tLA8iM+15radVFky21u5y4oDeh9QK0tHPm0Jt1pFKpxAenjOCfRJGMcaqTe9omrkcJBbqGqk/zcYeOWSzWi7kDCKzQDodZ87d82aMDmocIwa/gvR8UdhL8lwADABtmSFbWE/QHAAAAAElFTkSuQmCC",t.whiteRect="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAlMAAANKCAYAAACu78sPAAAKMWlDQ1BJQ0MgUHJvZmlsZQAASImdlndUU9kWh8+9N71QkhCKlNBraFICSA29SJEuKjEJEErAkAAiNkRUcERRkaYIMijggKNDkbEiioUBUbHrBBlE1HFwFBuWSWStGd+8ee/Nm98f935rn73P3Wfvfda6AJD8gwXCTFgJgAyhWBTh58WIjYtnYAcBDPAAA2wA4HCzs0IW+EYCmQJ82IxsmRP4F726DiD5+yrTP4zBAP+flLlZIjEAUJiM5/L42VwZF8k4PVecJbdPyZi2NE3OMErOIlmCMlaTc/IsW3z2mWUPOfMyhDwZy3PO4mXw5Nwn4405Er6MkWAZF+cI+LkyviZjg3RJhkDGb+SxGXxONgAoktwu5nNTZGwtY5IoMoIt43kA4EjJX/DSL1jMzxPLD8XOzFouEiSniBkmXFOGjZMTi+HPz03ni8XMMA43jSPiMdiZGVkc4XIAZs/8WRR5bRmyIjvYODk4MG0tbb4o1H9d/JuS93aWXoR/7hlEH/jD9ld+mQ0AsKZltdn6h21pFQBd6wFQu/2HzWAvAIqyvnUOfXEeunxeUsTiLGcrq9zcXEsBn2spL+jv+p8Of0NffM9Svt3v5WF485M4knQxQ143bmZ6pkTEyM7icPkM5p+H+B8H/nUeFhH8JL6IL5RFRMumTCBMlrVbyBOIBZlChkD4n5r4D8P+pNm5lona+BHQllgCpSEaQH4eACgqESAJe2Qr0O99C8ZHA/nNi9GZmJ37z4L+fVe4TP7IFiR/jmNHRDK4ElHO7Jr8WgI0IABFQAPqQBvoAxPABLbAEbgAD+ADAkEoiARxYDHgghSQAUQgFxSAtaAYlIKtYCeoBnWgETSDNnAYdIFj4DQ4By6By2AE3AFSMA6egCnwCsxAEISFyBAVUod0IEPIHLKFWJAb5AMFQxFQHJQIJUNCSAIVQOugUqgcqobqoWboW+godBq6AA1Dt6BRaBL6FXoHIzAJpsFasBFsBbNgTzgIjoQXwcnwMjgfLoK3wJVwA3wQ7oRPw5fgEVgKP4GnEYAQETqiizARFsJGQpF4JAkRIauQEqQCaUDakB6kH7mKSJGnyFsUBkVFMVBMlAvKHxWF4qKWoVahNqOqUQdQnag+1FXUKGoK9RFNRmuizdHO6AB0LDoZnYsuRlegm9Ad6LPoEfQ4+hUGg6FjjDGOGH9MHCYVswKzGbMb0445hRnGjGGmsVisOtYc64oNxXKwYmwxtgp7EHsSewU7jn2DI+J0cLY4X1w8TogrxFXgWnAncFdwE7gZvBLeEO+MD8Xz8MvxZfhGfA9+CD+OnyEoE4wJroRIQiphLaGS0EY4S7hLeEEkEvWITsRwooC4hlhJPEQ8TxwlviVRSGYkNimBJCFtIe0nnSLdIr0gk8lGZA9yPFlM3kJuJp8h3ye/UaAqWCoEKPAUVivUKHQqXFF4pohXNFT0VFysmK9YoXhEcUjxqRJeyUiJrcRRWqVUo3RU6YbStDJV2UY5VDlDebNyi/IF5UcULMWI4kPhUYoo+yhnKGNUhKpPZVO51HXURupZ6jgNQzOmBdBSaaW0b2iDtCkVioqdSrRKnkqNynEVKR2hG9ED6On0Mvph+nX6O1UtVU9Vvuom1TbVK6qv1eaoeajx1UrU2tVG1N6pM9R91NPUt6l3qd/TQGmYaYRr5Grs0Tir8XQObY7LHO6ckjmH59zWhDXNNCM0V2ju0xzQnNbS1vLTytKq0jqj9VSbru2hnaq9Q/uE9qQOVcdNR6CzQ+ekzmOGCsOTkc6oZPQxpnQ1df11Jbr1uoO6M3rGelF6hXrtevf0Cfos/ST9Hfq9+lMGOgYhBgUGrQa3DfGGLMMUw12G/YavjYyNYow2GHUZPTJWMw4wzjduNb5rQjZxN1lm0mByzRRjyjJNM91tetkMNrM3SzGrMRsyh80dzAXmu82HLdAWThZCiwaLG0wS05OZw2xljlrSLYMtCy27LJ9ZGVjFW22z6rf6aG1vnW7daH3HhmITaFNo02Pzq62ZLde2xvbaXPJc37mr53bPfW5nbse322N3055qH2K/wb7X/oODo4PIoc1h0tHAMdGx1vEGi8YKY21mnXdCO3k5rXY65vTW2cFZ7HzY+RcXpkuaS4vLo3nG8/jzGueNueq5clzrXaVuDLdEt71uUnddd457g/sDD30PnkeTx4SnqWeq50HPZ17WXiKvDq/XbGf2SvYpb8Tbz7vEe9CH4hPlU+1z31fPN9m31XfKz95vhd8pf7R/kP82/xsBWgHcgOaAqUDHwJWBfUGkoAVB1UEPgs2CRcE9IXBIYMj2kLvzDecL53eFgtCA0O2h98KMw5aFfR+OCQ8Lrwl/GGETURDRv4C6YMmClgWvIr0iyyLvRJlESaJ6oxWjE6Kbo1/HeMeUx0hjrWJXxl6K04gTxHXHY+Oj45vipxf6LNy5cDzBPqE44foi40V5iy4s1licvvj4EsUlnCVHEtGJMYktie85oZwGzvTSgKW1S6e4bO4u7hOeB28Hb5Lvyi/nTyS5JpUnPUp2Td6ePJninlKR8lTAFlQLnqf6p9alvk4LTduf9ik9Jr09A5eRmHFUSBGmCfsytTPzMoezzLOKs6TLnJftXDYlChI1ZUPZi7K7xTTZz9SAxESyXjKa45ZTk/MmNzr3SJ5ynjBvYLnZ8k3LJ/J9879egVrBXdFboFuwtmB0pefK+lXQqqWrelfrry5aPb7Gb82BtYS1aWt/KLQuLC98uS5mXU+RVtGaorH1futbixWKRcU3NrhsqNuI2ijYOLhp7qaqTR9LeCUXS61LK0rfb+ZuvviVzVeVX33akrRlsMyhbM9WzFbh1uvb3LcdKFcuzy8f2x6yvXMHY0fJjpc7l+y8UGFXUbeLsEuyS1oZXNldZVC1tep9dUr1SI1XTXutZu2m2te7ebuv7PHY01anVVda926vYO/Ner/6zgajhop9mH05+x42Rjf2f836urlJo6m06cN+4X7pgYgDfc2Ozc0tmi1lrXCrpHXyYMLBy994f9Pdxmyrb6e3lx4ChySHHn+b+O31w0GHe4+wjrR9Z/hdbQe1o6QT6lzeOdWV0iXtjusePhp4tLfHpafje8vv9x/TPVZzXOV42QnCiaITn07mn5w+lXXq6enk02O9S3rvnIk9c60vvG/wbNDZ8+d8z53p9+w/ed71/LELzheOXmRd7LrkcKlzwH6g4wf7HzoGHQY7hxyHui87Xe4Znjd84or7ldNXva+euxZw7dLI/JHh61HXb95IuCG9ybv56Fb6ree3c27P3FlzF3235J7SvYr7mvcbfjT9sV3qID0+6j068GDBgztj3LEnP2X/9H686CH5YcWEzkTzI9tHxyZ9Jy8/Xvh4/EnWk5mnxT8r/1z7zOTZd794/DIwFTs1/lz0/NOvm1+ov9j/0u5l73TY9P1XGa9mXpe8UX9z4C3rbf+7mHcTM7nvse8rP5h+6PkY9PHup4xPn34D94Tz++xtAWsAAAAJcEhZcwAACxIAAAsSAdLdfvwAAA6ESURBVHic7dbBDcAgEMCw0v13PnYgD4RkT5Bn1szMBwDAkf92AADAy8wUAEBgpgAAAjMFABCYKQCAwEwBAARmCgAgMFMAAIGZAgAIzBQAQGCmAAACMwUAEJgpAIDATAEABGYKACAwUwAAgZkCAAjMFABAYKYAAAIzBQAQmCkAgMBMAQAEZgoAIDBTAACBmQIACMwUAEBgpgAAAjMFABCYKQCAwEwBAARmCgAgMFMAAIGZAgAIzBQAQGCmAAACMwUAEJgpAIDATAEABGYKACAwUwAAgZkCAAjMFABAYKYAAAIzBQAQmCkAgMBMAQAEZgoAIDBTAACBmQIACMwUAEBgpgAAAjMFABCYKQCAwEwBAARmCgAgMFMAAIGZAgAIzBQAQGCmAAACMwUAEJgpAIDATAEABGYKACAwUwAAgZkCAAjMFABAYKYAAAIzBQAQmCkAgMBMAQAEZgoAIDBTAACBmQIACMwUAEBgpgAAAjMFABCYKQCAwEwBAARmCgAgMFMAAIGZAgAIzBQAQGCmAAACMwUAEJgpAIDATAEABGYKACAwUwAAgZkCAAjMFABAYKYAAAIzBQAQmCkAgMBMAQAEZgoAIDBTAACBmQIACMwUAEBgpgAAAjMFABCYKQCAwEwBAARmCgAgMFMAAIGZAgAIzBQAQGCmAAACMwUAEJgpAIDATAEABGYKACAwUwAAgZkCAAjMFABAYKYAAAIzBQAQmCkAgMBMAQAEZgoAIDBTAACBmQIACMwUAEBgpgAAAjMFABCYKQCAwEwBAARmCgAgMFMAAIGZAgAIzBQAQGCmAAACMwUAEJgpAIDATAEABGYKACAwUwAAgZkCAAjMFABAYKYAAAIzBQAQmCkAgMBMAQAEZgoAIDBTAACBmQIACMwUAEBgpgAAAjMFABCYKQCAwEwBAARmCgAgMFMAAIGZAgAIzBQAQGCmAAACMwUAEJgpAIDATAEABGYKACAwUwAAgZkCAAjMFABAYKYAAAIzBQAQmCkAgMBMAQAEZgoAIDBTAACBmQIACMwUAEBgpgAAAjMFABCYKQCAwEwBAARmCgAgMFMAAIGZAgAIzBQAQGCmAAACMwUAEJgpAIDATAEABGYKACAwUwAAgZkCAAjMFABAYKYAAAIzBQAQmCkAgMBMAQAEZgoAIDBTAACBmQIACMwUAEBgpgAAAjMFABCYKQCAwEwBAARmCgAgMFMAAIGZAgAIzBQAQGCmAAACMwUAEJgpAIDATAEABGYKACAwUwAAgZkCAAjMFABAYKYAAAIzBQAQmCkAgMBMAQAEZgoAIDBTAACBmQIACMwUAEBgpgAAAjMFABCYKQCAwEwBAARmCgAgMFMAAIGZAgAIzBQAQGCmAAACMwUAEJgpAIDATAEABGYKACAwUwAAgZkCAAjMFABAYKYAAAIzBQAQmCkAgMBMAQAEZgoAIDBTAACBmQIACMwUAEBgpgAAAjMFABCYKQCAwEwBAARmCgAgMFMAAIGZAgAIzBQAQGCmAAACMwUAEJgpAIDATAEABGYKACAwUwAAgZkCAAjMFABAYKYAAAIzBQAQmCkAgMBMAQAEZgoAIDBTAACBmQIACMwUAEBgpgAAAjMFABCYKQCAwEwBAARmCgAgMFMAAIGZAgAIzBQAQGCmAAACMwUAEJgpAIDATAEABGYKACAwUwAAgZkCAAjMFABAYKYAAAIzBQAQmCkAgMBMAQAEZgoAIDBTAACBmQIACMwUAEBgpgAAAjMFABCYKQCAwEwBAARmCgAgMFMAAIGZAgAIzBQAQGCmAAACMwUAEJgpAIDATAEABGYKACAwUwAAgZkCAAjMFABAYKYAAAIzBQAQmCkAgMBMAQAEZgoAIDBTAACBmQIACMwUAEBgpgAAAjMFABCYKQCAwEwBAARmCgAgMFMAAIGZAgAIzBQAQGCmAAACMwUAEJgpAIDATAEABGYKACAwUwAAgZkCAAjMFABAYKYAAAIzBQAQmCkAgMBMAQAEZgoAIDBTAACBmQIACMwUAEBgpgAAAjMFABCYKQCAwEwBAARmCgAgMFMAAIGZAgAIzBQAQGCmAAACMwUAEJgpAIDATAEABGYKACAwUwAAgZkCAAjMFABAYKYAAAIzBQAQmCkAgMBMAQAEZgoAIDBTAACBmQIACMwUAEBgpgAAAjMFABCYKQCAwEwBAARmCgAgMFMAAIGZAgAIzBQAQGCmAAACMwUAEJgpAIDATAEABGYKACAwUwAAgZkCAAjMFABAYKYAAAIzBQAQmCkAgMBMAQAEZgoAIDBTAACBmQIACMwUAEBgpgAAAjMFABCYKQCAwEwBAARmCgAgMFMAAIGZAgAIzBQAQGCmAAACMwUAEJgpAIDATAEABGYKACAwUwAAgZkCAAjMFABAYKYAAAIzBQAQmCkAgMBMAQAEZgoAIDBTAACBmQIACMwUAEBgpgAAAjMFABCYKQCAwEwBAARmCgAgMFMAAIGZAgAIzBQAQGCmAAACMwUAEJgpAIDATAEABGYKACAwUwAAgZkCAAjMFABAYKYAAAIzBQAQmCkAgMBMAQAEZgoAIDBTAACBmQIACMwUAEBgpgAAAjMFABCYKQCAwEwBAARmCgAgMFMAAIGZAgAIzBQAQGCmAAACMwUAEJgpAIDATAEABGYKACAwUwAAgZkCAAjMFABAYKYAAAIzBQAQmCkAgMBMAQAEZgoAIDBTAACBmQIACMwUAEBgpgAAAjMFABCYKQCAwEwBAARmCgAgMFMAAIGZAgAIzBQAQGCmAAACMwUAEJgpAIDATAEABGYKACAwUwAAgZkCAAjMFABAYKYAAAIzBQAQmCkAgMBMAQAEZgoAIDBTAACBmQIACMwUAEBgpgAAAjMFABCYKQCAwEwBAARmCgAgMFMAAIGZAgAIzBQAQGCmAAACMwUAEJgpAIDATAEABGYKACAwUwAAgZkCAAjMFABAYKYAAAIzBQAQmCkAgMBMAQAEZgoAIDBTAACBmQIACMwUAEBgpgAAAjMFABCYKQCAwEwBAARmCgAgMFMAAIGZAgAIzBQAQGCmAAACMwUAEJgpAIDATAEABGYKACAwUwAAgZkCAAjMFABAYKYAAAIzBQAQmCkAgMBMAQAEZgoAIDBTAACBmQIACMwUAEBgpgAAAjMFABCYKQCAwEwBAARmCgAgMFMAAIGZAgAIzBQAQGCmAAACMwUAEJgpAIDATAEABGYKACAwUwAAgZkCAAjMFABAYKYAAAIzBQAQmCkAgMBMAQAEZgoAIDBTAACBmQIACMwUAEBgpgAAAjMFABCYKQCAwEwBAARmCgAgMFMAAIGZAgAIzBQAQGCmAAACMwUAEJgpAIDATAEABGYKACAwUwAAgZkCAAjMFABAYKYAAAIzBQAQmCkAgMBMAQAEZgoAIDBTAACBmQIACMwUAEBgpgAAAjMFABCYKQCAwEwBAARmCgAgMFMAAIGZAgAIzBQAQGCmAAACMwUAEJgpAIDATAEABGYKACAwUwAAgZkCAAjMFABAYKYAAAIzBQAQmCkAgMBMAQAEZgoAIDBTAACBmQIACMwUAEBgpgAAAjMFABCYKQCAwEwBAARmCgAgMFMAAIGZAgAIzBQAQGCmAAACMwUAEJgpAIDATAEABGYKACAwUwAAgZkCAAjMFABAYKYAAAIzBQAQmCkAgMBMAQAEZgoAIDBTAACBmQIACMwUAEBgpgAAAjMFABCYKQCAwEwBAARmCgAgMFMAAIGZAgAIzBQAQGCmAAACMwUAEJgpAIDATAEABGYKACAwUwAAgZkCAAjMFABAYKYAAAIzBQAQmCkAgMBMAQAEZgoAIDBTAACBmQIACMwUAEBgpgAAAjMFABCYKQCAwEwBAARmCgAgMFMAAIGZAgAIzBQAQGCmAAACMwUAEJgpAIDATAEABGYKACAwUwAAgZkCAAjMFABAYKYAAAIzBQAQmCkAgMBMAQAEZgoAIDBTAACBmQIACMwUAEBgpgAAAjMFABCYKQCAwEwBAARmCgAgMFMAAIGZAgAIzBQAQGCmAAACMwUAEJgpAIDATAEABGYKACAwUwAAgZkCAAjMFABAYKYAAAIzBQAQmCkAgMBMAQAEZgoAIDBTAACBmQIACMwUAEBgpgAAAjMFABCYKQCAwEwBAARmCgAgMFMAAIGZAgAIzBQAQGCmAAACMwUAEJgpAIDATAEABGYKACAwUwAAgZkCAAjMFABAYKYAAAIzBQAQmCkAgMBMAQAEZgoAIDBTAACBmQIACMwUAEBgpgAAAjMFABCYKQCAwEwBAARmCgAgMFMAAIGZAgAIzBQAQGCmAAACMwUAEJgpAIDATAEABGYKACAwUwAAgZkCAAjMFABAYKYAAAIzBQAQmCkAgMBMAQAEZgoAIDBTAACBmQIACMwUAEBgpgAAAjMFABCYKQCAwEwBAARmCgAgMFMAAIGZAgAIzBQAQGCmAAACMwUAEJgpAIDATAEABGYKACAwUwAAgZkCAAjMFABAYKYAAAIzBQAQmCkAgMBMAQAEZgoAIDBTAACBmQIACMwUAEBgpgAAAjMFABCYKQCAwEwBAARmCgAgMFMAAIGZAgAIzBQAQGCmAAACMwUAEJgpAIDATAEABGYKACAwUwAAgZkCAAjMFABAYKYAAAIzBQAQmCkAgMBMAQAEZgoAIDBTAACBmQIACMwUAEBgpgAAAjMFABCYKQCAwEwBAARmCgAgMFMAAIGZAgAIzBQAQGCmAAACMwUAEJgpAIDATAEABGYKACAwUwAAgZkCAAjMFABAYKYAAAIzBQAQmCkAgMBMAQAEZgoAIDBTAACBmQIACMwUAEBgpgAAAjMFABCYKQCAwEwBAARmCgAgMFMAAIGZAgAIzBQAQGCmAAACMwUAEJgpAIDATAEABGYKACAwUwAAgZkCAAjMFABAYKYAAAIzBQAQmCkAgMBMAQAEZgoAIDBTAACBmQIACDbDXQqQkKWTdwAAAABJRU5ErkJggg==",t})();class iO{constructor(t,e){this.page=t,this.result=e}}let oO=(()=>{class t{static getItemHandlerAndPrintArea(t,e=-1){const n=t.product,r=t.viewer;if(!n||!r)return[null,null];const i=n.surfaces.get(-1!==e?e:t.currentSurfaceIndex),o=i.printAreas.get(0),s=i.containers.toArray().find(t=>t.name===M_.MAIN_CONTAINER_NAME).items.toArray().filter(t=>"ImageItem"===t.type)[0];if(!s)return[null,null];const a=r.getHandler(s);return a?[a,o]:[null,null]}static setNearestRightAngle(t){let e=0;const n=t.angle;n>=315||n>=0&&n<45?e=0:n>=45&&n<135?e=90:n>=135&&n<225?e=180:n>=225&&n<315&&(e=270),t.angle=e}static getFitSize(t,e){const n=new fg;n.height=e.height,n.width=e.height*t.width/t.height;const r=new fg;return r.width=e.width,r.height=e.width*t.height/t.width,n.width<=e.width?n:r}static getFillSize(t,e){const n=new fg;n.height=e.height,n.width=e.height*t.width/t.height;const r=new fg;return r.width=e.width,r.height=e.width*t.height/t.width,n.width<=e.width?r:n}static getTrimRectangle(t){let e=t.bounds.clone();const n=t.safetyLines.firstOrDefault(t=>"TrimAsBleed"===t.name);if(n){const t=n.getMargin();e=fg.FromLTRB(e.left+t.left,e.top+t.top,e.right-t.right,e.bottom-t.bottom)}return e}}return t.currentSurfaceItemChanges$=new OE.Subject,t})();const sO="mm",aO="inch",lO="cm",uO="point",cO="custom";class hO{constructor(t){this.rule=t}}let pO=(()=>{class t extends Jk{constructor(t,e){super(e),this._viewerService=t}getFileUrls(t){return t.map(t=>(this.state.configuration.backendUrl+"/api/files/get/"+t).replace("//api","/api"))}checkRules(t,e){const n=this.state.configuration.rules,r=[];for(const i of t){if(!i.page.items){r.push([]);continue}const o=e[t.indexOf(i)];let s=n.map(t=>this._checkRule(t,i,o)).filter(t=>null!==t);o.tags.colorspaceFixed&&(s=s.filter(t=>"colorspace"!==t.rule.type)),r.push(s)}if(void 0!==n.find(t=>"sameorientation"===t.type)){let t=null,e=0,n=0;r.map(r=>{const i=r.find(t=>"sameorientation"===t.rule.type);if(i){const r=i.actual[0];null===t&&(t=r),"horizontal"===r?n++:"vertical"===r&&e++}});const i=e===n?t:e>n?"vertical":"horizontal";r.map(t=>{const e=t.find(t=>"sameorientation"===t.rule.type);e&&(e.value=e.actual[0]===i)})}return r}_checkRule(t,e,n){const r=e.page,i=new hO(t);if(!this.state||!this.state.viewer)return i;let o=[];const s=this._viewerService.getImageItemFromSurface(n);if(!s)return i;const a=this.state.viewer.getHandler(s);switch(t.type){case"colorspace":o=this.state.graphicsFileLab.rules.checkColorSpaceDetailed(t.params.allowedColorSpaces,r);break;case"resolution":o=this.state.graphicsFileLab.rules.checkDpiDetailed(t.params.target,r),o=o.filter(t=>t.actual.length>0),s.tags.originDpi=o.map(t=>t.actual).flat().filter((t,e,n)=>n.indexOf(t)===e),o=o.map(e=>(e.actual=this._viewerService.getActualSizeDpi(a),e.result=e.actual.every(e=>e>=t.params.target),e));break;case"insideBleedbox":o=[this._initBaseRuleResult([!0],[this._viewerService.checkDesignInBleedbox(a)])];break;case"nomargins":o=[this._initBaseRuleResult([!0],[this._viewerService.checkDesignFillTrimbox(a)])];break;case"nomarginsBleedbox":o=[this._initBaseRuleResult([!0],[this._viewerService.checkDesignFillBleedbox(a)])];break;case"safetyboxes":let i=n.printAreas.first().safetyLines.toArray();const l=t.params;i=i.filter(t=>t.pdfBox),o=this.state.graphicsFileLab.rules.checkSafetyBoxesDetailed(i,r,l.require.map(t=>t.toString().toLowerCase()));break;case"spotcolors":o=this.state.graphicsFileLab.rules.checkSpotColorDetailed(t.params.allowed,r);break;case"sameorientation":o=this.state.graphicsFileLab.rules.checkSameOrientationDetailed(a);break;case"forbiddenfonts":o=this.state.graphicsFileLab.rules.checkForbiddenFontNamesDetailed(t.params.fonts,r);break;case"allowedfonts":o=this.state.graphicsFileLab.rules.checkAllowedFontNamesDetailed(t.params.fonts,r);break;case"fonttypes":o=this.state.graphicsFileLab.rules.checkAllowedFontTypesDetailed(t.params.allowedFontTypes,r);break;case"minfontsize":o=this.state.graphicsFileLab.rules.checkMinFontSizeDetailed(t.params,r);break;case"textascurves":o=this.state.graphicsFileLab.rules.checkTextAsCurvesDetailed(r);break;case"embeddedfonts":o=this.state.graphicsFileLab.rules.checkEmbeddedFontsDetailed(e.resources.fonts,r);break;default:o=[],console.warn(`Rule type ${t.type} is not defined for check. Please, make sure you write it correctly.`)}return 0===o.length?null:(i.value=o.every(t=>t.result),i.actual=o.reduce((t,e)=>{for(const n of e.actual){let e=n;"number"==typeof n&&(e=Math.round(e)),-1===t.indexOf(e)&&t.push(e)}return t},[]),i)}_initBaseRuleResult(t,e){const n={};return n.expected=t,n.actual=e,n.result=JSON.stringify(n.expected.sort())===JSON.stringify(n.actual.sort()),n}}return t.ngInjectableDef=mt({factory:function(){return new t(qt(gO),qt(Ib))},token:t,providedIn:"root"}),t})();class dO{constructor(t,e){this.message=t,this.details=e}}let fO=(()=>{class t extends Jk{constructor(t,e,n,r,i){super(i),this._viewerService=t,this._graphicsFileLabService=e,this._productService=n,this._translateService=r,this.filesSource=new j_({}),this.currentFiles=this.filesSource.asObservable(),this.xhr=new XMLHttpRequest}changeFiles(t){this.filesSource.next(t)}uploadFile(t,e=(()=>{}),n=(()=>{})){return new Promise((r,i)=>Object(cd.__awaiter)(this,void 0,void 0,(function*(){const o=(this.state.configuration.backendUrl+"/api/files/upload").replace("//api","/api"),s=new FormData;s.append("file",t),this.xhr=new XMLHttpRequest,this.xhr.open("POST",o,!0),this.xhr.upload.onprogress=e,this.xhr.upload.onload=n,this.xhr.addEventListener("readystatechange",t=>{if(4===this.xhr.readyState&&this.xhr.status>=200&&this.xhr.status<400){const t=JSON.parse(this.xhr.response);r(t[0])}else 4!==this.xhr.readyState||this.xhr.status>=200&&this.xhr.status<400||i(this.xhr)}),this.xhr.send(s)})))}onFileUploads(e,n){return Object(cd.__awaiter)(this,void 0,void 0,(function*(){const r=this._graphicsFileLabService.getFileUrls(e);yield t.AuPreflightTool._changeFiles(r,n)}))}updateInfoAndRuleResults(e=-1,n=!1){return Object(cd.__awaiter)(this,void 0,void 0,(function*(){this.state.viewer&&this._viewerService.setSurface(this.state.currentSurfaceIndex);try{let t;if(-1!==e)if(n){const n=this.state.productInfo.slice();n.splice(e,1),t=n.slice()}else{t=yield this._productService.getInfoFromProduct(this.state.product,e);const n=this.state.productInfo.slice();n[e]=t[0],t=n}else t=yield this._productService.getInfoFromProduct(this.state.product);this._store.dispatch(new $k(t));const r=this._graphicsFileLabService.checkRules(t,this.state.product.surfaces.toArray());this._store.dispatch(new Qk(r))}catch(r){console.warn(r);const e=r.message.split("\r\n").map(t=>t.trim());t.AuPreflightTool.error.emit(new dO(e[0],e[1]));const n=yield this._translateService.get("main.errors.failedCheck").toPromise();t.AuPreflightTool.showErrorPopup("",n)}this._viewerService.applyKeepAspectRatio(this.state.keepAspectRatio)}))}}return t.AuPreflightTool=void 0,t.ngInjectableDef=mt({factory:function(){return new t(qt(gO),qt(pO),qt(nO),qt(Xd),qt(Ib))},token:t,providedIn:"root"}),t})(),gO=(()=>{class t extends Jk{constructor(t,e,n,r){super(r),this._productService=t,this._translateService=e,this._preflightBackendService=n,this.imageItemHandlersSubscribers=[],this._graphicsFileLabService=new pO(this,r),this.currentSurfaceIndex$.subscribe(t=>{this.setSurface(t)}),this.keepAspectRatio$.subscribe(t=>{this.applyKeepAspectRatio(t)}),this.product$.subscribe(t=>{this.setSurface(this.state.currentSurfaceIndex)})}getUnitScale(t){switch(t){case sO:return.352777778;case lO:return.0352777778;case aO:return.0138888889;case cO:return this.state.configuration.viewer.rulers.customUnitScale;case uO:default:return 1}}getUnitSymbol(t){switch(t){case sO:return"mm";case lO:return"cm";case aO:return'"';case cO:return"";case uO:return"pt";default:return'"'}}initViewer(t,e,n){const r=new kE({holderElement:e,backendUrl:t,canvasBackground:{color:"white"}});if(r.clearSelectionOnDocumentClick=!1,r.history.disable(),this.state.configuration.viewer.rulers.enabled){const t=this.getUnitScale(this.state.configuration.viewer.rulers.unit);r.rulerEnabled=!0,r.rulerOffsetX=-1*this.state.configuration.viewer.rulers.origin.x/t,r.rulerOffsetY=-1*this.state.configuration.viewer.rulers.origin.y/t,r.rulerScale=t}else r.rulerEnabled=!1;return this.initCanvas(r.canvas,n),r.safetyLinesHandler.visible=!0,BC.setIsSafetyLineItemHandlerFunc(t=>t.name.startsWith(w_.voPrefix)),r}initCanvas(t,e){t.rotationGripColor="rgb(255, 255, 255)",t.rotationGripLineColor="rgb(48, 194, 255)",t.rotationGripLineLength=10,t.rotationGripSize=24,t.selectionColor="rgb(48, 194, 255)",t.selectionWidth=1,t.loadingImageUrl=rO.viewerLoadingImageUrl,t.resizeGripLineColor="rgb(48, 194, 255)",t.resizeGripColor="rgb(255, 255, 255)",t.resizeGripSize=8,t.simpleMode=!1,t.snapLinesHandler.configuration.snapElements.items.enabled=!0,t.snapLinesHandler.configuration.snapElements.printArea.enabled=!0,t.snapLinesHandler.configuration.snapElements.safetyLines.enabled=!0,t.handleButtonCssClass="cc-icon-placeholder-handle",t.doneButtonCssClass="cc-icon-placeholder-done"}updateCanvas(){this.state.viewer.canvas.updateSelection(),this.state.viewer.canvas.redraw()}rotateSurface(t=-1,e=null,n=!0){const r=this.state.product.surfaces.get(-1!==t?t:this.state.currentSurfaceIndex);t=this.state.product.surfaces.indexOf(r);const[i,o]=oO.getItemHandlerAndPrintArea(this.state,t),s={width:r.height,height:r.width},a=e||this.state.product,l=r.mockup.overContainers.firstOrDefault().items.firstOrDefault(t=>t.name===zk.mockupItemName),u=zk.buildSurface(s,this.state.configuration.product,this.state.configuration.viewer,r.name,!0,this.state.configuration.warningMessages,this.state.configuration.rendering);if(u.tags=r.tags,l){const t=this.state.viewer.getHandler(l);t.angle+=90;const e=this.state.configuration.product.mockup.location?t.angle%180!=0?{x:this.state.configuration.product.mockup.location.y,y:this.state.configuration.product.mockup.location.x}:{x:this.state.configuration.product.mockup.location.x,y:this.state.configuration.product.mockup.location.y}:{x:0,y:0},n=this.state.configuration.product.mockup.size?t.angle%180!=0?{width:this.state.configuration.product.mockup.size.height,height:this.state.configuration.product.mockup.size.width}:{width:this.state.configuration.product.mockup.size.width,height:this.state.configuration.product.mockup.size.height}:{width:u.width,height:u.height};t.angle=t.angle%360;const r=Math.floor(t.angle/90);1===r&&(e.x=u.width-e.x-n.width),2===r&&(e.y=u.height-e.y-n.height,e.x=u.width-e.x-n.width),3===r&&(e.y=u.height-e.y-n.height),l.sourceRectangle.left=e.x,l.sourceRectangle.top=e.y;const i=u.mockup.overContainers.first().items.indexOf(t=>t.name===zk.mockupItemName);u.mockup.overContainers.first().items.removeAt(i),u.mockup.overContainers.first().items.insertAt(i,l)}if(a.surfaces.remove(r),a.surfaces.insertAt(t,[u]),n&&(this._store.dispatch(new qk(a)),this._store.dispatch(new Yk(t)),this.setSurface(u)),!i)return;const c=i.item.clone();u.containers.first(t=>t.name===M_.MAIN_CONTAINER_NAME).items.add(c),this._setSurfaceAndSubscribe(u)}applyKeepAspectRatio(t){this.state.product&&(this.updateAllItemHandlersForced(),this._store.dispatch(new qk(new D_(this.state.product.surfaces.toArray().map(e=>(e.getAllItems().toArray().filter(t=>"ImageItem"===t.type).forEach(e=>{const n=e;if(n.manipulationPermissions.resizeGrips.setCornerArbitrary(!t),n.manipulationPermissions.resizeGrips.setCornerProportional(t),n.manipulationPermissions.resizeGrips.edge=!t,t){const t=this.state.viewer.getHandler(n);if(t){const e=t.rectangle;n.ratioWidthToHeight=n.source.width/n.source.height;const r=n._calculateWidth(e.height),i=n._calculateHeight(e.width);Math.abs(e.width-r)>Math.abs(e.height-i)?t.height=i:t.width=r,this.updateItem(t)}}}),e))))),this.setSurface(this.state.currentSurfaceIndex))}updateAllItemHandlers(){if(this.state.product&&this.state.viewer)for(const t of this.state.product.surfaces){const e=this.getImageItemFromSurface(t);e&&this.state.viewer.getHandler(e).raiseChanging()}}updateAllItemHandlersForced(){for(const t of this.imageItemHandlersSubscribers)this.checkImageDpiConsideringSizeHandler(t,!0),this.checkDesignInBleedboxHandler(t,!0),this.checkDesignFillTrimboxHandler(t,!0),this.checkDesignFillBleedboxHandler(t,!0),this.checkSameOrientationHandler(t,!0)}updateItem(t){t.quickUpdate(),t.canvas&&(t.canvas.updateSelection(),t.canvas.redraw()),t.getChangingEvent().fire()}centerItem(t=-1,e=null){const[n,r]=oO.getItemHandlerAndPrintArea(this.state,t);if(!n)return;const i=r.bounds;null===e&&(e=n.getTransformedRectangle()),n.setRectangle(new Ag(i.center.x,i.center.y,e.width,e.height,e.angle)),this.updateItem(n)}resetImage(t=-1){const[e,n]=oO.getItemHandlerAndPrintArea(this.state,t);if(!e)return;const r=Ag.fromRectangleF(e.item.sourceRectangle);r.setTransform(new Tg(1,1,0,0,0)),e.width=e.item.source.width,e.height=e.item.source.height,this.centerItem(t,r)}fitToTrim(t=-1){const[e,n]=oO.getItemHandlerAndPrintArea(this.state,t);if(!e)return;oO.setNearestRightAngle(e);const r=oO.getTrimRectangle(n),i=oO.getFitSize(e.bounds,r),o=Ag.fromRectangleF(i,e.angle),s=Ag.fromRectangleF(o.bounds,e.angle);this.centerItem(t,s)}fillToTrim(t=-1){const[e,n]=oO.getItemHandlerAndPrintArea(this.state,t);if(!e)return;oO.setNearestRightAngle(e);const r=oO.getTrimRectangle(n),i=oO.getFillSize(e.bounds,r),o=Ag.fromRectangleF(i,e.angle),s=Ag.fromRectangleF(o.bounds,e.angle);this.centerItem(t,s)}fitToBleed(t=-1){const[e,n]=oO.getItemHandlerAndPrintArea(this.state,t);if(!e)return;oO.setNearestRightAngle(e);const r=fg.FromLTRB(0,0,n.bounds.width,n.bounds.height),i=oO.getFitSize(e.bounds,r),o=Ag.fromRectangleF(i,e.angle),s=Ag.fromRectangleF(o.bounds,e.angle);this.centerItem(t,s)}fillToBleed(t=-1){const[e,n]=oO.getItemHandlerAndPrintArea(this.state,t);if(!e)return;oO.setNearestRightAngle(e);const r=fg.FromLTRB(0,0,n.bounds.width,n.bounds.height),i=oO.getFillSize(e.bounds,r),o=Ag.fromRectangleF(i,e.angle),s=Ag.fromRectangleF(o.bounds,e.angle);this.centerItem(t,s)}rotateImage(t=-1){const[e,n]=oO.getItemHandlerAndPrintArea(this.state,t);if(!e)return;const r=e.getTransformedRectangle();r.angle+=90,r.angle=r.angle%360,e.setTransformedRectangle(r),this.updateItem(e)}setSurface(t){let e=null;"number"==typeof t?this.state.product&&(e=this.state.product.surfaces.get(t)):e=t,this._setSurfaceAndSubscribe(e)}_setSurfaceAndSubscribe(t){if(this.state.viewer&&t){this.state.viewer.surface=t;const e=this.state.configuration.viewer.zoom.default,n=this.state.configuration.viewer.zoom.mode;this.state.viewer.setZoom(void 0!==n&&n!==Xb[Xb.none]?this.state.viewer.calculateZoomByZoomMode(Xb[n]):void 0!==e?e:this.state.viewer.calculateZoomByZoomMode(Xb.bestFit)),this._store.dispatch(new Kk(this.state.viewer.zoom));const r=this.getImageItemFromSurface(this.state.viewer.surface);if(r){const t=this.state.viewer.getHandler(r);if(-1!==this.imageItemHandlersSubscribers.indexOf(t))return;this.imageItemHandlersSubscribers=this.imageItemHandlersSubscribers.filter(t=>-1!==this.state.product.surfaces.toArray().indexOf(t.item.parentContainer.parentComponent)),this.imageItemHandlersSubscribers.push(t),t.addChanging(KE(e=>{this.dispatchCurrentSurfaceImageChange(t),this.checkDesignFillTrimboxHandler(t),this.checkDesignFillBleedboxHandler(t),this.checkDesignInBleedboxHandler(t),this.checkSameOrientationHandler(t),this.checkImageDpiConsideringSizeHandler(t)},100,{trailing:!1}))}}}dispatchCurrentSurfaceImageChange(t){const e=t&&t.item&&t.item.parentContainer&&t.item.parentContainer.parentComponent?t.item.parentContainer.parentComponent:null;null!==e&&e.equals(this.product.surfaces.get(this.state.currentSurfaceIndex))&&oO.currentSurfaceItemChanges$.next(t)}getImageItemFromSurface(t){return t.containers.first(t=>t.name===M_.MAIN_CONTAINER_NAME).items.firstOrDefault()}checkImageDpiConsideringSizeHandler(t,e=!1){const n=this.getCurrentPageRuleByType("resolution");if(!n)return;const r=JSON.stringify(n.value);n.actual=this.getActualSizeDpi(t),n.value=n.actual.every(t=>t>=n.rule.params.target);const i=JSON.stringify(n.value);(e||r!==i)&&this._store.dispatch(new Qk(Object.assign([],this.state.ruleResults)))}getActualSizeDpi(t){const e=Math.min(t.item.source.width/t.rectangle.width,t.item.source.height/t.rectangle.height);return t.item.tags.originDpi.map(t=>Math.ceil(e*t))}checkDesignInBleedboxHandler(t,e=!1){const n=this.getCurrentPageRuleByType("insideBleedbox");if(!n)return;const r=JSON.stringify(n.value);n.actual=[this.checkDesignInBleedbox(t)],n.value=n.actual.every(t=>!0===t);const i=JSON.stringify(n.value);(e||r!==i)&&this._store.dispatch(new Qk(Object.assign([],this.state.ruleResults)))}checkDesignFillTrimboxHandler(t,e=!1){const n=this.getCurrentPageRuleByType("nomargins");if(!n)return;const r=JSON.stringify(n.value);n.actual=[this.checkDesignFillTrimbox(t)],n.value=n.actual.every(t=>!0===t);const i=JSON.stringify(n.value);(e||r!==i)&&this._store.dispatch(new Qk(Object.assign([],this.state.ruleResults)))}checkDesignFillBleedboxHandler(t,e=!1){const n=this.getCurrentPageRuleByType("nomarginsBleedbox");if(!n)return;const r=JSON.stringify(n.value);n.actual=[this.checkDesignFillBleedbox(t)],n.value=n.actual.every(t=>!0===t);const i=JSON.stringify(n.value);(e||r!==i)&&this._store.dispatch(new Qk(Object.assign([],this.state.ruleResults)))}checkSameOrientationHandler(t,e=!1){const n=this.getCurrentPageRuleByType("sameorientation");if(!n)return;const r=JSON.stringify(this.state.ruleResults);n.actual=[this.checkSameOrientation(t)];let i=0,o=0;const s=Object.assign([],this.state.ruleResults);s.forEach(t=>t.filter(t=>"sameorientation"===t.rule.type).forEach(t=>"horizontal"===t.actual[0]?i++:o++)),s.forEach(t=>t.filter(t=>"sameorientation"===t.rule.type).forEach(t=>{t.value="horizontal"===t.actual[0]&&i>o||"vertical"===t.actual[0]&&o>i}));const a=JSON.stringify(s);(e||r!==a)&&this._store.dispatch(new Qk(Object.assign([],s)))}checkSameOrientation(t){return this.state.graphicsFileLab.rules.checkSameOrientationDetailed(t)[0].actual[0]}checkDesignFillTrimbox(t){const e=this.state.product.surfaces.first(),n=oO.getTrimRectangle(e.printAreas.first()),r=t.bounds;return r.left<=n.left&&r.top<=n.top&&r.right>=n.right&&r.bottom>=n.bottom}checkDesignFillBleedbox(t){const e=this.state.product.surfaces.first(),n=t.bounds;return n.left<=0&&n.top<=0&&n.right>=e.width&&n.bottom>=e.height}checkDesignInBleedbox(t){const e=this.state.product.surfaces.first(),n=t.bounds;return n.left>=0&&n.top>=0&&n.right<=e.width&&n.bottom<=e.height}getRuleNamesBySeverity(t){return this.state.configuration?this.state.configuration.rules.filter(e=>e.severity===t).map(t=>t.type):[]}getErrorRules(){const t=this.getRuleNamesBySeverity("error");return this._getRuleDisplayResult(t)}getWarningRules(){const t=this.getRuleNamesBySeverity("warning");return this._getRuleDisplayResult(t)}_getRuleDisplayResult(t){const e=[];for(const[n,r]of this.state.ruleResults.entries())for(const i of r)!1===i.value&&-1!==t.indexOf(i.rule.type)&&e.push(new iO(n+1,i));return e}filterRulesBySeverity(t,e){const n=this.getRuleNamesBySeverity(t);return e.filter(t=>!1===t.value&&-1!==n.indexOf(t.rule.type))}fixSurface(t,e){return Object(cd.__awaiter)(this,void 0,void 0,(function*(){let n=null;switch(e){case"insideBleedbox":for(const e of t)this.fitToBleed(e);break;case"nomargins":for(const e of t)this.fillToTrim(e);break;case"nomarginsBleedbox":for(const e of t)this.fillToBleed(e);break;case"sameorientation":for(const e of t)this.rotateImage(e);break;case"colorspace":try{n=yield this._preflightBackendService.fixSurfaceColorSpace(this.state.product,t),this._store.dispatch(new qk(n))}catch(r){const t=yield this._translateService.get("main.errors.failedFixColorSpace").toPromise();fO.AuPreflightTool.showErrorPopup("",t)}break;case"spotcolors":try{n=yield this._preflightBackendService.fixSurfaceSpotColors(this.state.product,t),this._store.dispatch(new qk(n))}catch(r){const t=yield this._translateService.get("main.errors.failedFixSpotColors").toPromise();fO.AuPreflightTool.showErrorPopup("",t)}}null!==n&&this._store.dispatch(new qk(n))}))}getCurrentPageRuleByType(t){if(this.state.ruleResults&&this.state.ruleResults[this.state.currentSurfaceIndex])return this.state.ruleResults[this.state.currentSurfaceIndex].find(e=>e.rule.type===t)}applyToAll(){this.togglePreloader(!0);const t=this.state.product,[e,n]=oO.getItemHandlerAndPrintArea(this.state),r=t.surfaces.get(this.state.currentSurfaceIndex);for(let o=0;o<t.surfaces.length;o++)if(o!==this.state.currentSurfaceIndex){const[n,i]=oO.getItemHandlerAndPrintArea(this.state,o);n&&(e.rectangle.equals(n.rectangle)||(n.setRectangle(e.rectangle),this.updateItem(n)));const s=t.surfaces.get(o);s.width!==r.width&&s.height!==r.height&&this.rotateSurface(o,t,!1)}this.togglePreloader(!1),this._store.dispatch(new qk(this.state.product)),this._store.dispatch(new Yk(this.state.currentSurfaceIndex)),this.setSurface(this.state.currentSurfaceIndex),setTimeout(t=>this._store.dispatch(new Zk(this.state.product.surfaces.length)),100);const i=this._graphicsFileLabService.checkRules(this.state.productInfo,this.state.product.surfaces.toArray());this._store.dispatch(new Qk(i))}}return t.ngInjectableDef=mt({factory:function(){return new t(qt(nO),qt(Xd),qt(eO),qt(Ib))},token:t,providedIn:"root"}),t})();const mO={default:"default",fitToBleed:"fitToBleed",fitToTrim:"fitToTrim",fillToTrim:"fillToTrim",fillToBleed:"fillToBleed"};class yO{constructor(t=800,e=800){this.width=t,this.height=e}static Init(t=800){return new yO(t,t)}}const vO={language:"en",startFromUploader:!0,product:{allowAddPages:!1,allowAddPagesUploading:!1,allowDeletePages:!1,dpi:300,safetyLines:[],pages:1,bleed:0,bleedLineWidth:.5,mockup:{location:{x:0,y:0}}},viewer:{keepAspectRatio:!0,zoom:{step:.1,max:1.5,min:.1,mode:"none"},locked:!1,rulers:{enabled:!0,unit:"inch",customUnitScale:1,origin:{x:0,y:0}},shadeBleedZone:!1},uploader:{fileTypes:[".pdf"],multiple:!0,initialMode:mO.default,fileUploadBehavior:"insertCurrent"},rendering:{hiResOutputToSeparateFiles:!1,previewSize:new yO(800,800),trimPreviewOnBleed:!0,showTrimLineOnPreview:!1,keepPdfOriginalColors:!1,hiResOutputPdfMetadata:{}},interface:{topToolbar:[{name:"upload"},{name:"rotateCanvas"},{name:"fillToBleed"},{name:"fillToTrim"},{name:"fitToBleed"},{name:"fitToTrim"},{name:"center"},{name:"reset"},{name:"keepAspectRatio"},{name:"fullscreen"}],customButtons:[]},warningMessages:[],rules:[]};class _O{constructor(t,e){this.errors=t,this.warnings=e}}class bO{constructor(t,e,n,r){this.hires=t,this.previews=e,this.origins=n,this.stateId=r}}class wO{constructor(t,e,n){this.title=t,this.url=e,this.index=n}}class CO{constructor(t,e,n){this.index=t,this.fileName=e,this.url=n}}class xO extends Jk{constructor(t,e,n,r,i,o,s){super(s),this._translateService=t,this._productService=e,this._viewerService=n,this._uploadService=r,this.cdRef=i,this._localizeService=o,this.stepChanged=new sc,this.failedChecks=new sc,this.hasFiles=new sc,this._hasFiles=!1,this.hasEmptyPages=new sc,this._hasEmptyPages=!0,this.inited=new sc,this.isInited=!1,this.error=new sc,this.showError=!1,this.errorTitle="",this.errorBody="",fO.AuPreflightTool=this;const a=()=>{!this.isInited&&this.state&&this.state.product&&this.state.configuration&&(this.inited.next(!0),this.isInited=!0)};this.ruleResults$.subscribe(t=>{const e=this._viewerService.getWarningRules(),n=this._viewerService.getErrorRules();this.failedChecks.emit(new _O(n,e))}),this.step$.subscribe(t=>{this.stepChanged.emit(this.step)});const l=t=>{const e=this._productService.hasEmptyPages(t);e!==this._hasEmptyPages&&(this._hasEmptyPages=e,this.hasEmptyPages.emit(e))};this.product$.subscribe(t=>{const e=this._productService.hasUploadedFiles(t);e!==this._hasFiles&&(this._hasFiles=e,this.hasFiles.emit(e)),l(t),a()}),this.surfacesCount$.subscribe(t=>{l(this.product)}),this.state$.subscribe(t=>{a()}),this.setStep=this.setStep.bind(this),this.finish=this.finish.bind(this),this.addLocalization=this.addLocalization.bind(this),this.setLanguage=this.setLanguage.bind(this),this.togglePreloader=this.togglePreloader.bind(this),this.setState=this.setState.bind(this)}get pages(){return this.product&&this.product.surfaces?this.product.surfaces.length:0}finish(){return Object(cd.__awaiter)(this,void 0,void 0,(function*(){const t=yield this._productService.finish(this.state.product),e=Object.values(t.hiresUrls),n=[];for(const i of this.state.product.surfaces){const e=this.state.product.surfaces.indexOf(i);n.push(new wO(i.name,t.previewUrls[e],e))}const r=Object.entries(t.originUrls).map(t=>new CO(Number(t[0]),t[1].fileName,t[1].url));return new bO(e,n,r,t.stateId)}))}addLocalization(t,e,n=!1){this._translateService.setTranslation(t,e,!0),n&&(this._translateService.currentLang=t)}setLanguage(t){this._setLanguage(t)}setStep(t){"uploader"===t||"editor"===t?(this._store.dispatch(new Wk(t)),this.cdRef.detectChanges()):console.warn("Wrong page type")}setState(t){return Object(cd.__awaiter)(this,void 0,void 0,(function*(){this.togglePreloader(!0);const e=this.state.product;try{const e=yield this._productService.getStateProduct(t);this._store.dispatch(new qk(e)),this._store.dispatch(new Wk("editor")),yield this._uploadService.updateInfoAndRuleResults()}catch(n){console.error(n);const t=yield this._translateService.get("main.errors.failedRestoreState").toPromise();this.showErrorPopup(t,n),this._store.dispatch(new qk(e))}this.togglePreloader(!1)}))}ngOnChanges(t){return Object(cd.__awaiter)(this,void 0,void 0,(function*(){t.configuration&&t.configuration.currentValue&&(yield this._changeConfiguration()),t.files&&t.files.currentValue&&(yield this._changeFiles())}))}_changeConfiguration(){return Object(cd.__awaiter)(this,void 0,void 0,(function*(){this.configuration=jk.DeepMerge(vO,this.configuration),!1===this.configuration.startFromUploader&&this._store.dispatch(new Wk("editor")),this._setLanguage(this.configuration.language),this._store.dispatch(new Vk(this.configuration));const t=yield this._localizeService.getPageNamePrefix();let e=zk.buildProduct(this.configuration.product,this.configuration.viewer,t,this.configuration.warningMessages,this.configuration.rendering);this.state.configuration.product.mockup.image&&(e=yield this._productService.addMockupToProduct(e,this.state.configuration.product.mockup)),this._store.dispatch(new qk(e)),this._store.dispatch(new Uk(new Nf("")))}))}_setLanguage(t){this._translateService.setDefaultLang(t),this._translateService.use(t)}_changeFiles(t=null,e=null){return Object(cd.__awaiter)(this,void 0,void 0,(function*(){this.togglePreloader(!0);let n=this.state.product;const r=null!==t?t:this.files;if(jk.isNotEmptyArray(r))try{n=yield this._productService.insertFilesInProduct(this.state.product,r,null!==e?e:0),this.state.configuration.product.mockup.image&&(n=yield this._productService.addMockupToProduct(n,this.state.configuration.product.mockup))}catch(i){const t=i.message.split("\r\n").map(t=>t.trim());this.error.emit(new dO(t[0],t[1]));const e=yield this._translateService.get("uploader.error.process").toPromise();this.showErrorPopup(e,i.message)}if(this._store.dispatch(new qk(n)),this._store.dispatch(new Wk("editor")),this.configuration.uploader.initialMode!==mO.default){const n=(null!==t?t:this.files).length,r=null!==e?e:0;for(let t=r;t<r+n;t++)switch(this.configuration.uploader.initialMode){case mO.fitToBleed:this._viewerService.fitToBleed(t);break;case mO.fitToTrim:this._viewerService.fitToTrim(t);break;case mO.fillToTrim:this._viewerService.fillToTrim(t);break;case mO.fillToBleed:this._viewerService.fillToBleed(t)}}yield this._uploadService.updateInfoAndRuleResults(),this.togglePreloader(!1),this._store.dispatch(new Zk(this.state.product.surfaces.length))}))}closeErrorPopup(){this.showError=!1,this.errorTitle="",this.errorBody=""}showErrorPopup(t,e){this.errorBody=e,this.errorTitle=t,this.showError=!0}}class SO extends Jk{constructor(t,e,n,r){super(r),this._productService=t,this._viewerService=e,this.cdRef=n,this.zoom="",this.disableDecrementZoom=!1,this.disableIncrementZoom=!1,this.dragging=!1,this.zoom$.subscribe(t=>this._getZoom())}ngAfterViewInit(){this.productConfiguration&&this.viewerConfiguration&&this.initViewer()}ngOnChanges(t){this.productConfiguration&&this.viewerConfiguration&&this.initViewer()}initViewer(){if(this.viewerParent&&this.element){["dragenter","dragover"].forEach(t=>{this.element.nativeElement.addEventListener(t,t=>{this.dragging=!0},!1)}),this.element.nativeElement.addEventListener("dragend",()=>{this.dragging=!1});const t=this._viewerService.initViewer(this.state.configuration.backendUrl,this.viewerParent.nativeElement,this.state.configuration.product);if(this._store.dispatch(new Gk(t)),this._viewerService.setSurface(this.state.currentSurfaceIndex),this.viewerConfiguration.zoom){const t=this.viewerConfiguration.zoom;void 0!==t.max&&this.state.viewer.setMaxZoom(t.max),void 0!==t.min&&(this.state.viewer.minZoom=t.min),void 0!==t.mode&&t.mode!==Xb[Xb.none]?this.state.viewer.setZoom(this.state.viewer.calculateZoomByZoomMode(Xb[t.mode])):void 0!==t.default?this.state.viewer.setZoom(t.default):this.zoomToFit()}this._getZoom(),this.cdRef.detectChanges()}}changeZoomLabel(t){t=t.replace("%","");const e=Number(t);Number.isNaN(e)||(this.state.viewer.setZoom(e/100),this._getZoom())}changeZoom(t){this.state.viewer.setZoom(this.state.viewer.zoom+this.viewerConfiguration.zoom.step*t),this._getZoom()}_getZoom(){if(this.state.viewer){let t=0;this.state.viewer&&(t=Math.round(100*this.state.viewer.zoom));const e=100*this.state.viewer.getMaxZoom();t>e&&(t=e);const n=100*this.state.viewer.minZoom;t<n&&(t=n),this.zoom=t+"%",this.disableDecrementZoom=this._disableZoomButton(-1),this.disableIncrementZoom=this._disableZoomButton(1)}}_disableZoomButton(t){return!!this.state.viewer&&(t>0?this.state.viewer.zoom===this.state.viewer.getMaxZoom():this.state.viewer.zoom===this.state.viewer.minZoom)}zoomToFit(){this.state.viewer.setZoom(this.state.viewer.calculateZoomByZoomMode(Xb.bestFit)),this._getZoom()}realSize(){this.state.viewer.setZoom(1),this._getZoom()}}class PO{constructor(t,e=!1){this.files=t,this.clearProduct=e}}class IO extends Jk{constructor(t,e){super(e),this._uploadService=t}onFileChange(t){return Object(cd.__awaiter)(this,void 0,void 0,(function*(){let e="change"===t.type?t.target.files:t.dataTransfer.files;e=[...e],e=this.state.configuration.uploader.multiple?[...e]:[...e].slice(0,1),this._uploadService.changeFiles(new PO(e)),this.fileInput.nativeElement.value=""}))}}class EO extends Jk{constructor(t,e,n){super(n),this._productService=t,this._viewerService=e,this.keepAspectRatio=!1,this.initialRectangle=null,this.hasImageChanges=!1,this.hasChanges=!1,this.product$.subscribe(t=>{this.hasChanges=!1,this.hasImageChanges=!1,this.initialRectangle=this.getRect()}),this.currentSurfaceIndex$.subscribe(t=>{this.hasChanges=!1,this.hasImageChanges=!1,this.initialRectangle=this.getRect()}),oO.currentSurfaceItemChanges$.subscribe(t=>{const e=this.getRect(t);null===this.initialRectangle||null===e||this.initialRectangle.equals(e)||(this.hasImageChanges=!0)})}ngOnChanges(t){t&&t.configuration&&t.configuration.currentValue&&(this.keepAspectRatio=this.configuration.viewer.keepAspectRatio,this._store.dispatch(new Xk(this.keepAspectRatio)))}downloadPdf(){return Object(cd.__awaiter)(this,void 0,void 0,(function*(){const t=yield this._productService.getProductPdfUrl(this.state.product);this.downloadUrl(t[0],"result.pdf")}))}downloadUrl(t,e){const n=document.createElement("a");n.style.position="absolute",n.style.top="-99999999",n.style.left="-9999999",n.style.visibility="hidden",n.target="_blank",n.download=e,n.href=t,document.body.appendChild(n),n.click(),document.body.removeChild(n)}getRect(t=null){if(null==t){const[e,n]=oO.getItemHandlerAndPrintArea(this.state,this.state.currentSurfaceIndex);t=e}return t?t.rectangle:null}runCommand(t,e=!1){const n=this.getRect();t();const r=this.getRect();!0===e&&(this.hasChanges=!0),this.hasChanges=null!==n&&null!==r&&!n.equals(r)}changeKeepAspectRatio(t){this.runCommand(()=>{this.keepAspectRatio=t.target.checked,this._store.dispatch(new Xk(this.keepAspectRatio))})}resetImage(){this.runCommand(()=>{this._viewerService.resetImage()})}centerArtwork(){this.runCommand(()=>{this._viewerService.centerItem()})}fitToBleed(){this.runCommand(()=>{this._viewerService.fitToBleed()})}fitToTrim(){this.runCommand(()=>{this._viewerService.fitToTrim()})}fillToBleed(){this.runCommand(()=>{this._viewerService.fillToBleed()})}fillToTrim(){this.runCommand(()=>{this._viewerService.fillToTrim()})}rotateCanvas(){this.runCommand(()=>{this._viewerService.rotateSurface(),this._viewerService.centerItem()},!0)}applyToAll(){this._viewerService.applyToAll(),this.hasChanges=!1}rotateImage(){this.runCommand(()=>{this._viewerService.rotateImage()})}getStyles(t){return t&&t.style?Object.entries(t.style).reduce((t,e)=>(t[e[0]]=e[1],t),{}):{}}getDisabled(t){return void 0!==t.enabled&&"always"!==t.enabled&&("surfaceChanges"===t.enabled?!this.hasSurfaceChanges():"topButtonChanges"===t.enabled&&!this.hasTopButtonChanges())}getHidden(t){return void 0!==t.visibility&&"always"!==t.visibility&&("surfaceChanges"===t.visibility?!this.hasSurfaceChanges():"topButtonChanges"!==t.visibility||!this.hasTopButtonChanges())}hasSurfaceChanges(){return this.hasImageChanges}hasTopButtonChanges(){return this.hasChanges}}class TO{constructor(){}}class AO extends Jk{constructor(t,e,n,r){super(r),this._productService=t,this._viewerService=e,this.cd=n,this.showAddSurfaceButton=!1,this.currentSurfaceIndex$.subscribe(t=>{setTimeout(()=>{if(this.parentRef){const t=this.parentRef.nativeElement.querySelector("au-page-item.active");t&&(t.scrollIntoViewIfNeeded?t.scrollIntoViewIfNeeded():t.scrollIntoView())}},100),this.calculateShowDeleteButton()}),this.surfacesCount$.subscribe(t=>{this.calculateShowDeleteButton()}),this.product$.subscribe(t=>{this.calculateShowAddSurfaceButton(),this.calculateShowDeleteButton()})}ngOnChanges(t){t&&t.configuration&&t.configuration.currentValue&&(this.calculateShowAddSurfaceButton(),this.calculateShowDeleteButton())}calculateShowAddSurfaceButton(){if(jk.isObject(this.state.configuration.product.pages)){const t=this.state.configuration.product.pages;if(jk.isNotZero(t.max)&&this.state.product&&this.state.product.surfaces)return void(this.showAddSurfaceButton=this.state.product.surfaces.length<t.max)}this.showAddSurfaceButton=!0===this.state.configuration.product.allowAddPages}calculateShowDeleteButton(){let t=!0;if(this.product){if(jk.isObject(this.state.configuration.product.pages)){const e=this.state.configuration.product.pages,n=jk.isNotZero(e.min)?e.min:1;t=this.product.surfaces.length>n}else t=this.state.configuration.product.allowDeletePages;1===this.product.surfaces.length&&(t=!1),this.showDeleteButton=t}}}class kO{constructor(){this._items=[],this._pendingPromise=!1,this._stop=!1}_enqueue(t){this._items.push(t)}_dequeue(){return this._items.shift()}get size(){return this._items.length}enqueue(t){return new Promise((e,n)=>Object(cd.__awaiter)(this,void 0,void 0,(function*(){this._enqueue({action:t,resolve:e,reject:n}),yield this.dequeue()})))}dequeue(){return Object(cd.__awaiter)(this,void 0,void 0,(function*(){if(this._pendingPromise)return!1;const t=this._dequeue();if(!t)return!1;try{this._pendingPromise=!0;const e=yield t.action(this);this._pendingPromise=!1,yield new Promise(t=>setTimeout(t,50)),t.resolve(e)}catch(e){this._pendingPromise=!1,t.reject(e)}finally{yield this.dequeue()}return!0}))}}let OO=(()=>{class t extends Jk{constructor(t,e,n){super(n),this._productService=t,this._viewerService=e,this.emptySurface=rO.whiteRect,this.previewUrl=this.emptySurface,this._prevRuleResultsStr="[]",this.showDelete=!0,this.ruleResults$.subscribe(t=>Object(cd.__awaiter)(this,void 0,void 0,(function*(){if(t){const e=JSON.stringify(t);this._prevRuleResultsStr!==e&&(this._prevRuleResultsStr=e,yield this.fullUpdate())}}))),this.surfacesCount$.subscribe(()=>Object(cd.__awaiter)(this,void 0,void 0,(function*(){this.updateStatus(),this.state.configuration.product.mockup.image||(yield this.updatePreview(!0))})))}fullUpdate(){return Object(cd.__awaiter)(this,void 0,void 0,(function*(){this.updateStatus(),yield this.updatePreview(!1)}))}ngOnInit(){return Object(cd.__awaiter)(this,void 0,void 0,(function*(){this.updateStatus()}))}ngOnChanges(t){return Object(cd.__awaiter)(this,void 0,void 0,(function*(){t&&(t.active&&(yield this.updateStatus(),void 0!==t.active.previousValue&&setTimeout(()=>Object(cd.__awaiter)(this,void 0,void 0,(function*(){return yield this.updatePreview(!1)})),500)),t.surface&&(yield this.updatePreview(!1)))}))}changeSurface(){this._store.dispatch(new Yk(this.index))}updatePreview(t=!1){return Object(cd.__awaiter)(this,void 0,void 0,(function*(){this.previewUrl=yield this.getPreviewUrl(t)}))}getPreviewUrl(e){return Object(cd.__awaiter)(this,void 0,void 0,(function*(){if(!this.surface)return this.emptySurface;const n=this.surface.getAllItems().firstOrDefault(t=>t.type===Av.type);if(!n&&0===this.state.configuration.warningMessages.length)return this.emptySurface;let r=this.surface.id+"_"+this.product.surfaces.indexOf(this.surface).toString();if(n){const t=n,e=this.state.viewer.getHandler(t).bounds;r=`${t.source?t.source.id:t.id}x${e.width}x${e.height}x${e.left}x${e.right}x${e.top}x${e.bottom}`}if(!0!==e&&t._urls[r])return t._urls[r];const i=yield t._queue.enqueue(()=>Object(cd.__awaiter)(this,void 0,void 0,(function*(){return yield this._productService.getSurfacePreviewUrl(this.surface)})));return t._urls[r]=i,i}))}updateStatus(){this.status=this.getPageStatus(this.index)}getPageStatus(t){const e=this.state.ruleResults[t];return e&&0!==e.length?this._viewerService.filterRulesBySeverity("error",e).length>0?"error":this._viewerService.filterRulesBySeverity("warning",e).length>0?"warning":"success":"none"}delete(){this._store.dispatch(new Nk(this.index))}}return t._urls={},t._queue=new kO,t})();class MO extends Jk{constructor(t,e){super(e),this._productService=t}addNewSurface(){return Object(cd.__awaiter)(this,void 0,void 0,(function*(){yield this._productService.addNewSurface(this.state.product,this.state.configuration.product,this.state.configuration.viewer);let t=this.state.product;this.state.configuration.product.mockup.image&&(t=yield this._productService.addMockupToProduct(t,this.state.configuration.product.mockup)),this._store.dispatch(new qk(t)),this._store.dispatch(new Zk(this.state.product.surfaces.length))}))}}class RO extends Jk{constructor(t,e){super(e),this._uploadService=t,this.disabled=!1,this.hidden=!1}onFileChange(t){return Object(cd.__awaiter)(this,void 0,void 0,(function*(){let e="change"===t.type?t.target.files:t.dataTransfer.files;e=[...e],this._uploadService.changeFiles(new PO(e,!1)),this.fileInput.nativeElement.value=""}))}}class DO extends Jk{constructor(t){super(t),this._document=document}ngOnInit(){this._elem=document.querySelector("au-fullscreen-button").parentElement.parentElement,this.supportFullScreen=!!(this._elem.requestFullscreen||this._elem.mozRequestFullScreen||this._elem.webkitRequestFullscreen||this._elem.msRequestFullscreen)}fullscreenmodes(t){this.checkScreenMode()}checkScreenMode(){this.isFullScreen=!!document.fullscreenElement}openFullscreen(){this._elem.requestFullscreen?this._elem.requestFullscreen():this._elem.mozRequestFullScreen?this._elem.mozRequestFullScreen():this._elem.webkitRequestFullscreen?this._elem.webkitRequestFullscreen():this._elem.msRequestFullscreen&&this._elem.msRequestFullscreen()}closeFullscreen(){document.exitFullscreen?document.exitFullscreen():this._document.mozCancelFullScreen?this._document.mozCancelFullScreen():this._document.webkitExitFullscreen?this._document.webkitExitFullscreen():this._document.msExitFullscreen&&this._document.msExitFullscreen()}}class BO{constructor(t=0,e=0,n=""){this.WIDTH=t,this.HEIGHT=e,this.SYMBOL=n}}class jO{constructor(t,e){this.COLORSPACE=t,this.DPI=e}}class FO{constructor(t,e,n,r){this.color=t,this.title=e,this.description=n,this.param=r}}class zO extends BO{}class LO extends Jk{constructor(t,e){super(e),this.hasBleed=!1,this.safetyLinesLegends=[],this.viewerService=t,this.state$.subscribe(t=>{this.hasBleed=0!==(this.state.configuration.product.bleed||0),this.safetyLinesLegends=this.state.configuration.product.safetyLines.filter(t=>t.legend).map(t=>new FO(t.color,t.legend.title,t.legend.description,this._getSafetyLineLegendParam(t)))}),this.product$.subscribe(t=>{this.bleedSizeTranslateParam=this._getBleedSizeTranslateParam(),this.productSizeTranslateParam=this._getProductSizeTranslateParam(),this.rulesTranslateParam=this._getRulesTranslateParam()})}_getBleedSizeTranslateParam(){if(!this.state||!this.state.product)return new BO;const t=this.state.product.surfaces.get(0).width,e=this.state.product.surfaces.get(0).height,n=this.viewerService.getUnitScale(this.state.configuration.viewer.rulers.unit),r=this.viewerService.getUnitSymbol(this.state.configuration.viewer.rulers.unit),i=this._normalizeValue(t,n),o=this._normalizeValue(e,n);return new BO(i,o,r)}_getProductSizeTranslateParam(){if(!this.state||!this.state.configuration)return new BO;const t=this.state.configuration.product.size.width,e=this.state.configuration.product.size.height,n=this.viewerService.getUnitScale(this.state.configuration.viewer.rulers.unit),r=this.viewerService.getUnitSymbol(this.state.configuration.viewer.rulers.unit),i=this._normalizeValue(t,n),o=this._normalizeValue(e,n);return new BO(i,o,r)}_getRulesTranslateParam(){const t=this.state.configuration.rules.find(t=>"colorspace"===t.type);let e=[];t&&(e=t.params.allowedColorSpaces);const n=this.state.configuration.rules.find(t=>"resolution"===t.type);let r=0;return n&&(r=n.params.target),new jO(e.reduce((t,e)=>t+", "+e.toUpperCase(),"").substr(1),r)}_normalizeValue(t,e){return Math.round(t*e*100)/100}_getSafetyLineLegendParam(t){const e=this.state.configuration.product.size.width-("number"==typeof t.margin?2*t.margin:t.margin.left+t.margin.right),n=this.state.configuration.product.size.height-("number"==typeof t.margin?2*t.margin:t.margin.top+t.margin.bottom),r=this.viewerService.getUnitScale(this.state.configuration.viewer.rulers.unit),i=new zO;return i.HEIGHT=this._normalizeValue(n,r),i.WIDTH=this._normalizeValue(e,r),"number"==typeof t.margin&&(i.MARGIN=t.margin),i.SYMBOL=this.viewerService.getUnitSymbol(this.state.configuration.viewer.rulers.unit),i}}const HO=["colorspace","insideBleedbox","nomargins","sameorientation","spotcolors","nomarginsBleedbox"];class NO extends Jk{constructor(t,e,n,r){super(r),this._viewerService=t,this._uploadService=e,this._graphicsFileLabService=n,this.fixableRules=[],this.warningRules=[],this.errorRules=[],this.fixableRules=HO,this.ruleResults$.subscribe(t=>{this.warningRules=this.preprocessResult(this._viewerService.getWarningRules()),this.errorRules=this.preprocessResult(this._viewerService.getErrorRules())})}preprocessResult(t){return t.map(t=>{const e=Object.assign({},t),n=[];return n.push(e),n}).flat()}customButtonClick(t){return Object(cd.__awaiter)(this,void 0,void 0,(function*(){this.togglePreloader(!0);const e=this.getRulesForButton(t),n=e.colorspace;n&&(yield this._viewerService.fixSurface(n,"colorspace"));for(const t in e)if("colorspace"!==t){const n=e[t];yield this._viewerService.fixSurface(n,t)}yield this._uploadService.updateInfoAndRuleResults(-1),this.togglePreloader(!1)}))}getRulesForButton(t){const e={};if(t.filter.severity&&t.filter.severity.length>0){if(-1!==t.filter.severity.indexOf("warning"))for(const t of this.warningRules)this.isFixableAndEnableFix(t.result.rule)&&(e[t.result.rule.type]||(e[t.result.rule.type]=[]),e[t.result.rule.type].push(t.page-1));if(-1!==t.filter.severity.indexOf("error"))for(const t of this.errorRules)this.isFixableAndEnableFix(t.result.rule)&&(e[t.result.rule.type]||(e[t.result.rule.type]=[]),e[t.result.rule.type].push(t.page-1))}else if(t.filter.types)for(const n of t.filter.types){for(const t of this.warningRules)this.isFixableAndEnableFix(t.result.rule)&&t.result.rule.type===n&&(e[n]||(e[n]=[]),e[n].push(t.page-1));for(const t of this.errorRules)this.isFixableAndEnableFix(t.result.rule)&&t.result.rule.type===n&&(e[n]||(e[n]=[]),e[n].push(t.page-1))}return e}isFixableAndEnableFix(t){return t.enableFix&&-1!==this.fixableRules.indexOf(t.type)}showButton(t){const e=this.getRulesForButton(t);return Object.keys(e).length>0}getStyles(t){return t.style?Object.entries(t.style).reduce((t,e)=>(t[e[0]]=e[1],t),{}):{}}}class WO{transform(t){let e=0;const n=["B","KB","MB","GB","TB","PB"];for(;t>1024;)t/=1024,e++;return t-Math.floor(t)>=.1?t.toFixed(1)+" "+n[e]:t.toFixed(0)+" "+n[e]}}const VO={currentSurfaceIndex:0,surfaceCount:0,productInfo:[],ruleResults:[],step:"uploader",preloader:0};function UO(t=VO,e){let n=t;switch(e.type){case Lk.SetDeleteSurfaceIndex:n=Object.assign({},t,{deleteSurfaceIndex:e.payload});break;case Lk.TogglePreloader:n=Object.assign({},t,{preloader:e.payload?t.preloader+1:t.preloader-1});break;case Lk.SetStep:n=Object.assign({},t,{step:e.payload});break;case Lk.SetConfiguration:n=Object.assign({},t,{configuration:e.payload});break;case Lk.SetGraphicsFileLab:n=Object.assign({},t,{graphicsFileLab:e.payload});break;case Lk.SetProduct:{const r=e.payload;if(!0===t.configuration.viewer.locked)for(const t of r.getAllItems())t.locked=!0;n=Object.assign({},t,{product:r});break}case Lk.SetViewer:n=Object.assign({},t,{viewer:e.payload});break;case Lk.SetKeepAspectRatio:n=Object.assign({},t,{keepAspectRatio:e.payload});break;case Lk.SetCurrentSurfaceIndex:n=Object.assign({},t,{currentSurfaceIndex:e.payload});break;case Lk.SetRuleResults:n=Object.assign({},t,{ruleResults:e.payload});break;case Lk.SetProductInfo:n=Object.assign({},t,{productInfo:e.payload});break;case Lk.SetSurfaceCount:n=Object.assign({},t,{surfaceCount:e.payload});break;case Lk.SetZoom:n=Object.assign({},t,{zoom:e.payload});break;default:n=t}return n}class qO{constructor(){}}class GO{constructor(t){this.sanitizer=t}transform(t,e){switch(e){case"html":return this.sanitizer.bypassSecurityTrustHtml(t);case"style":return this.sanitizer.bypassSecurityTrustStyle(t);case"script":return this.sanitizer.bypassSecurityTrustScript(t);case"url":return this.sanitizer.bypassSecurityTrustUrl(t);case"resourceUrl":return this.sanitizer.bypassSecurityTrustResourceUrl(t);default:throw new Error(`Invalid safe type specified: ${e}`)}}}class YO extends Jk{constructor(t){super(t)}getFailedResolutionValues(t){return t.result.actual.filter((t,e,n)=>n.indexOf(t)===e).filter(e=>e<t.result.rule.params.target)}}class XO extends Jk{constructor(t){super(t),this.viewBox="0 0 32 32"}ngOnInit(){if(window.AuPreloaderSize)this.viewBox=window.AuPreloaderSize||this.viewBox;else{const t=document.querySelector("div svg defs g[id='preloader']");t&&(this.viewBox=t.getAttribute("viewBox"))}}}class $O extends Jk{constructor(t,e,n,r){super(r),this._uploadService=t,this._productService=e,this._localizeService=n,this.hasFiles=!1,this.processingFiles=!1,this.wrongFileTypes=!1,this.uploadError=!1,this.currentUploadFileName="",this.currentUploadFileIndex=0,this.totalUploadFiles=0,this.previouslyUploadedSize=0,this.uploadedSize=0,this.totalUploadSize=0,this.percent=0,this.cancelUpload=!1,this._uploadService.currentFiles.subscribe(t=>Object(cd.__awaiter)(this,void 0,void 0,(function*(){this.processingFiles=!1,this.hasFiles=!0;const e=yield this.onFileChange(t.files,t.clearProduct);(null===e||e)&&(this.hasFiles=!1,this.processingFiles=!1)})))}resetErrors(){this.wrongFileTypes=!1,this.uploadError=!1,this.hasFiles=!1,this.processingFiles=!1}onFileChange(t,e=!0){return Object(cd.__awaiter)(this,void 0,void 0,(function*(){if(this.cancelUpload=!1,!t||0===t.length)return null;const n=t.filter(t=>-1!==this.state.configuration.uploader.fileTypes.map(t=>t.toLowerCase()).indexOf(t.name.toLowerCase().slice(t.name.lastIndexOf("."))));if(0===n.length)return this.wrongFileTypes=!0,!1;const r=[];this.currentUploadFileName="",this.currentUploadFileIndex=0,this.totalUploadFiles=n.length,this.previouslyUploadedSize=0,this.uploadedSize=0,this.totalUploadSize=n.reduce((t,e)=>t+e.size,0),this.percent=0;const i=t=>{this.previouslyUploadedSize+=t.total},o=t=>{this.uploadedSize=this.previouslyUploadedSize+t.loaded,this.percent=Math.floor(100*this.uploadedSize/this.totalUploadSize||100)};for(const[t,e]of n.entries()){if(this.cancelUpload)break;this.currentUploadFileName=e.name,this.currentUploadFileIndex=t+1;try{const t=yield this._uploadService.uploadFile(e,o,i);t&&r.push(t)}catch(s){this.cancelUpload||(this.uploadError=!0);break}}if(this.cancelUpload)return!0;if(this.uploadError)return!1;if(this.processingFiles=!0,this._store.dispatch(new Wk("editor")),e){const t=yield this._localizeService.getPageNamePrefix();let e=zk.buildProduct(this.state.configuration.product,this.state.configuration.viewer,t,this.state.configuration.warningMessages,this.state.configuration.rendering);this.state.configuration.product.mockup.image&&(e=yield this._productService.addMockupToProduct(e,this.state.configuration.product.mockup)),this._store.dispatch(new qk(e))}return yield this._uploadService.onFileUploads(r,e?0:this.state.currentSurfaceIndex),this.processingFiles=!1,!0}))}cancel(){this.cancelUpload=!0,this._uploadService.xhr.abort()}}class QO extends Jk{constructor(t,e,n,r){super(r),this._preflightBackendService=t,this._uploadService=e,this._viewerService=n,this.isFixableRule=!1,this.actualDpiTranslateParameter={},this.unmatchedBoxes={},this.unallowedSpotColors={},this.forbiddenFontsParam={},this.allowedFontsParam={},this.actualColorspaceTranslateParameter={},this.allowedFontTypesParam={},this.minFontSizeParam={},this.embeddedFontsParam={}}ngOnChanges(t){if(this.rule)switch(this.isFixableRule=-1!==HO.indexOf(this.rule.type),this.rule.type){case"colorspace":this.actualColorspaceTranslateParameter={COLORSPACE:jk.joinArrayByComma(this.values.map(t=>t.toUpperCase()))};break;case"resolution":this.actualDpiTranslateParameter={DPI:jk.joinArrayByComma(this.values.filter(t=>t<this.rule.params.target))};break;case"safetyboxes":this.unmatchedBoxes={BOXES:jk.joinArrayByComma(jk.arrayDiff(this.rule.params.require.map(t=>t.toString().toLowerCase()),this.values.map(t=>t.toString().toLowerCase())))};break;case"spotcolors":this.unallowedSpotColors={SPOTCOLORS:jk.joinArrayByComma(this.values)};break;case"forbiddenfonts":this.forbiddenFontsParam={FONTS:jk.joinArrayByComma(this.values)};break;case"allowedfonts":this.allowedFontsParam={FONTS:jk.joinArrayByComma(this.values)};break;case"fonttypes":this.allowedFontTypesParam={FONTTYPES:jk.joinArrayByComma(this.values)};break;case"minfontsize":this.minFontSizeParam={FONTSIZES:jk.joinArrayByComma(this.values)};break;case"embeddedfonts":this.embeddedFontsParam={FONTS:jk.joinArrayByComma(this.values)}}}fixProblem(t,e){return Object(cd.__awaiter)(this,void 0,void 0,(function*(){this.togglePreloader(!0),yield this._viewerService.fixSurface([t-1],e.type),yield this._uploadService.updateInfoAndRuleResults(t-1),this.togglePreloader(!1)}))}goToPage(t){this._store.dispatch(new Yk(t-1))}}class ZO{constructor(){this.editing=!1,this.editOnClick=!0,this.labelChange=new sc}startEditing(){this.editing=!0,setTimeout(()=>{this.textInput.nativeElement.focus(),this.textInput.nativeElement.select()},0)}finishEditing(){const t=this.textInput.nativeElement.value,e=t!==this.text,n=null==t||""===t;n&&(this.textInput.nativeElement.value=this.text),!n&&e&&this.labelChange.emit(t.trim()),this.editing=!1}cancelEditing(){this.editing=!1}}class KO extends Jk{constructor(t,e,n){super(n),this.dropArea=t,this._uploadService=e,this.initEvents()}initEvents(){const t=this.dropArea.nativeElement;["dragenter","dragover","dragleave","dragend","dragexit","drop"].forEach(e=>{t.addEventListener(e,t=>{t.preventDefault(),t.stopPropagation()},!1)}),["dragenter","dragover"].forEach(e=>{t.addEventListener(e,e=>{t.classList.add("highlight")},!1)}),["dragend","dragexit","dragleave"].forEach(e=>{t.addEventListener(e,e=>{t.classList.remove("highlight"),this.endDnd()},!1)}),t.addEventListener("drop",e=>{t.classList.remove("highlight"),this.endDnd(),this.onFileChange(e)},!1)}endDnd(){this.dropArea.nativeElement.parentElement.dispatchEvent(new CustomEvent("dragend",{bubbles:!0,detail:{}}))}onFileChange(t){let e="change"===t.type?t.target.files:t.dataTransfer.files;e=[...e],e=this.state.configuration.uploader.multiple?[...e]:[...e].slice(0,1),this._uploadService.changeFiles(new PO(e))}}class JO extends Jk{constructor(t){super(t)}}class tM extends Jk{constructor(t,e,n){super(n),this._uploadService=t,this._localizeService=e}cancel(){this._store.dispatch(new Nk(-1))}delete(){return Object(cd.__awaiter)(this,void 0,void 0,(function*(){this._store.dispatch(new Hk(!0));const t=this.state.deleteSurfaceIndex;this._store.dispatch(new Nk(-1)),this.state.product.surfaces.removeAt(t);const e=yield this._localizeService.getPageNamePrefix();for(let n=0;n<this.state.product.surfaces.length;n++){const t=this.state.product.surfaces.get(n);t.name.startsWith(e)&&(t.name=e+" "+(n+1))}this._store.dispatch(new qk(this.state.product)),this._store.dispatch(new Yk(0!==t?t-1:t)),yield this._uploadService.updateInfoAndRuleResults(t,!0),this._store.dispatch(new Hk(!1))}))}}class eM{getTranslation(t){return G(n.e(5).then(n.t.bind(null,"DkCW",3)))}}class nM{}var rM=n("9RND");class iM{constructor(t){this.injector=t}ngDoBootstrap(){const t=new ud(xO,this.injector),e=ad(xO,{injector:this.injector,strategyFactory:t});window.Aurigma=window.Aurigma||{},window.Aurigma.Preflight={version:rM.a},customElements.define("au-preflight-tool",e)}}function oM(t,e){return function(n){return n.lift(new sM(t,e))}}class sM{constructor(t,e){this.predicate=t,this.thisArg=e}call(t,e){return e.subscribe(new aM(t,this.predicate,this.thisArg))}}class aM extends g{constructor(t,e,n){super(t),this.predicate=e,this.thisArg=n,this.count=0}_next(t){let e;try{e=this.predicate.call(this.thisArg,t,this.count++)}catch(n){return void this.destination.error(n)}e&&this.destination.next(t)}}class lM{}class uM{}class cM{constructor(t){this.normalizedNames=new Map,this.lazyUpdate=null,t?this.lazyInit="string"==typeof t?()=>{this.headers=new Map,t.split("\n").forEach(t=>{const e=t.indexOf(":");if(e>0){const n=t.slice(0,e),r=n.toLowerCase(),i=t.slice(e+1).trim();this.maybeSetNormalizedName(n,r),this.headers.has(r)?this.headers.get(r).push(i):this.headers.set(r,[i])}})}:()=>{this.headers=new Map,Object.keys(t).forEach(e=>{let n=t[e];const r=e.toLowerCase();"string"==typeof n&&(n=[n]),n.length>0&&(this.headers.set(r,n),this.maybeSetNormalizedName(e,r))})}:this.headers=new Map}has(t){return this.init(),this.headers.has(t.toLowerCase())}get(t){this.init();const e=this.headers.get(t.toLowerCase());return e&&e.length>0?e[0]:null}keys(){return this.init(),Array.from(this.normalizedNames.values())}getAll(t){return this.init(),this.headers.get(t.toLowerCase())||null}append(t,e){return this.clone({name:t,value:e,op:"a"})}set(t,e){return this.clone({name:t,value:e,op:"s"})}delete(t,e){return this.clone({name:t,value:e,op:"d"})}maybeSetNormalizedName(t,e){this.normalizedNames.has(e)||this.normalizedNames.set(e,t)}init(){this.lazyInit&&(this.lazyInit instanceof cM?this.copyFrom(this.lazyInit):this.lazyInit(),this.lazyInit=null,this.lazyUpdate&&(this.lazyUpdate.forEach(t=>this.applyUpdate(t)),this.lazyUpdate=null))}copyFrom(t){t.init(),Array.from(t.headers.keys()).forEach(e=>{this.headers.set(e,t.headers.get(e)),this.normalizedNames.set(e,t.normalizedNames.get(e))})}clone(t){const e=new cM;return e.lazyInit=this.lazyInit&&this.lazyInit instanceof cM?this.lazyInit:this,e.lazyUpdate=(this.lazyUpdate||[]).concat([t]),e}applyUpdate(t){const e=t.name.toLowerCase();switch(t.op){case"a":case"s":let n=t.value;if("string"==typeof n&&(n=[n]),0===n.length)return;this.maybeSetNormalizedName(t.name,e);const r=("a"===t.op?this.headers.get(e):void 0)||[];r.push(...n),this.headers.set(e,r);break;case"d":const i=t.value;if(i){let t=this.headers.get(e);if(!t)return;t=t.filter(t=>-1===i.indexOf(t)),0===t.length?(this.headers.delete(e),this.normalizedNames.delete(e)):this.headers.set(e,t)}else this.headers.delete(e),this.normalizedNames.delete(e)}}forEach(t){this.init(),Array.from(this.normalizedNames.keys()).forEach(e=>t(this.normalizedNames.get(e),this.headers.get(e)))}}class hM{encodeKey(t){return pM(t)}encodeValue(t){return pM(t)}decodeKey(t){return decodeURIComponent(t)}decodeValue(t){return decodeURIComponent(t)}}function pM(t){return encodeURIComponent(t).replace(/%40/gi,"@").replace(/%3A/gi,":").replace(/%24/gi,"$").replace(/%2C/gi,",").replace(/%3B/gi,";").replace(/%2B/gi,"+").replace(/%3D/gi,"=").replace(/%3F/gi,"?").replace(/%2F/gi,"/")}class dM{constructor(t={}){if(this.updates=null,this.cloneFrom=null,this.encoder=t.encoder||new hM,t.fromString){if(t.fromObject)throw new Error("Cannot specify both fromString and fromObject.");this.map=function(t,e){const n=new Map;return t.length>0&&t.split("&").forEach(t=>{const r=t.indexOf("="),[i,o]=-1==r?[e.decodeKey(t),""]:[e.decodeKey(t.slice(0,r)),e.decodeValue(t.slice(r+1))],s=n.get(i)||[];s.push(o),n.set(i,s)}),n}(t.fromString,this.encoder)}else t.fromObject?(this.map=new Map,Object.keys(t.fromObject).forEach(e=>{const n=t.fromObject[e];this.map.set(e,Array.isArray(n)?n:[n])})):this.map=null}has(t){return this.init(),this.map.has(t)}get(t){this.init();const e=this.map.get(t);return e?e[0]:null}getAll(t){return this.init(),this.map.get(t)||null}keys(){return this.init(),Array.from(this.map.keys())}append(t,e){return this.clone({param:t,value:e,op:"a"})}set(t,e){return this.clone({param:t,value:e,op:"s"})}delete(t,e){return this.clone({param:t,value:e,op:"d"})}toString(){return this.init(),this.keys().map(t=>{const e=this.encoder.encodeKey(t);return this.map.get(t).map(t=>e+"="+this.encoder.encodeValue(t)).join("&")}).join("&")}clone(t){const e=new dM({encoder:this.encoder});return e.cloneFrom=this.cloneFrom||this,e.updates=(this.updates||[]).concat([t]),e}init(){null===this.map&&(this.map=new Map),null!==this.cloneFrom&&(this.cloneFrom.init(),this.cloneFrom.keys().forEach(t=>this.map.set(t,this.cloneFrom.map.get(t))),this.updates.forEach(t=>{switch(t.op){case"a":case"s":const e=("a"===t.op?this.map.get(t.param):void 0)||[];e.push(t.value),this.map.set(t.param,e);break;case"d":if(void 0===t.value){this.map.delete(t.param);break}{let e=this.map.get(t.param)||[];const n=e.indexOf(t.value);-1!==n&&e.splice(n,1),e.length>0?this.map.set(t.param,e):this.map.delete(t.param)}}}),this.cloneFrom=this.updates=null)}}function fM(t){return"undefined"!=typeof ArrayBuffer&&t instanceof ArrayBuffer}function gM(t){return"undefined"!=typeof Blob&&t instanceof Blob}function mM(t){return"undefined"!=typeof FormData&&t instanceof FormData}class yM{constructor(t,e,n,r){let i;if(this.url=e,this.body=null,this.reportProgress=!1,this.withCredentials=!1,this.responseType="json",this.method=t.toUpperCase(),function(t){switch(t){case"DELETE":case"GET":case"HEAD":case"OPTIONS":case"JSONP":return!1;default:return!0}}(this.method)||r?(this.body=void 0!==n?n:null,i=r):i=n,i&&(this.reportProgress=!!i.reportProgress,this.withCredentials=!!i.withCredentials,i.responseType&&(this.responseType=i.responseType),i.headers&&(this.headers=i.headers),i.params&&(this.params=i.params)),this.headers||(this.headers=new cM),this.params){const t=this.params.toString();if(0===t.length)this.urlWithParams=e;else{const n=e.indexOf("?");this.urlWithParams=e+(-1===n?"?":n<e.length-1?"&":"")+t}}else this.params=new dM,this.urlWithParams=e}serializeBody(){return null===this.body?null:fM(this.body)||gM(this.body)||mM(this.body)||"string"==typeof this.body?this.body:this.body instanceof dM?this.body.toString():"object"==typeof this.body||"boolean"==typeof this.body||Array.isArray(this.body)?JSON.stringify(this.body):this.body.toString()}detectContentTypeHeader(){return null===this.body?null:mM(this.body)?null:gM(this.body)?this.body.type||null:fM(this.body)?null:"string"==typeof this.body?"text/plain":this.body instanceof dM?"application/x-www-form-urlencoded;charset=UTF-8":"object"==typeof this.body||"number"==typeof this.body||Array.isArray(this.body)?"application/json":null}clone(t={}){const e=t.method||this.method,n=t.url||this.url,r=t.responseType||this.responseType,i=void 0!==t.body?t.body:this.body,o=void 0!==t.withCredentials?t.withCredentials:this.withCredentials,s=void 0!==t.reportProgress?t.reportProgress:this.reportProgress;let a=t.headers||this.headers,l=t.params||this.params;return void 0!==t.setHeaders&&(a=Object.keys(t.setHeaders).reduce((e,n)=>e.set(n,t.setHeaders[n]),a)),t.setParams&&(l=Object.keys(t.setParams).reduce((e,n)=>e.set(n,t.setParams[n]),l)),new yM(e,n,i,{params:l,headers:a,reportProgress:s,responseType:r,withCredentials:o})}}const vM=function(){var t={Sent:0,UploadProgress:1,ResponseHeader:2,DownloadProgress:3,Response:4,User:5};return t[t.Sent]="Sent",t[t.UploadProgress]="UploadProgress",t[t.ResponseHeader]="ResponseHeader",t[t.DownloadProgress]="DownloadProgress",t[t.Response]="Response",t[t.User]="User",t}();class _M{constructor(t,e=200,n="OK"){this.headers=t.headers||new cM,this.status=void 0!==t.status?t.status:e,this.statusText=t.statusText||n,this.url=t.url||null,this.ok=this.status>=200&&this.status<300}}class bM extends _M{constructor(t={}){super(t),this.type=vM.ResponseHeader}clone(t={}){return new bM({headers:t.headers||this.headers,status:void 0!==t.status?t.status:this.status,statusText:t.statusText||this.statusText,url:t.url||this.url||void 0})}}class wM extends _M{constructor(t={}){super(t),this.type=vM.Response,this.body=void 0!==t.body?t.body:null}clone(t={}){return new wM({body:void 0!==t.body?t.body:this.body,headers:t.headers||this.headers,status:void 0!==t.status?t.status:this.status,statusText:t.statusText||this.statusText,url:t.url||this.url||void 0})}}class CM extends _M{constructor(t){super(t,0,"Unknown Error"),this.name="HttpErrorResponse",this.ok=!1,this.message=this.status>=200&&this.status<300?`Http failure during parsing for ${t.url||"(unknown url)"}`:`Http failure response for ${t.url||"(unknown url)"}: ${t.status} ${t.statusText}`,this.error=t.error||null}}function xM(t,e){return{body:e,headers:t.headers,observe:t.observe,params:t.params,reportProgress:t.reportProgress,responseType:t.responseType,withCredentials:t.withCredentials}}let SM=(()=>{class t{constructor(t){this.handler=t}request(t,e,n={}){let r;if(t instanceof yM)r=t;else{let i=void 0;i=n.headers instanceof cM?n.headers:new cM(n.headers);let o=void 0;n.params&&(o=n.params instanceof dM?n.params:new dM({fromObject:n.params})),r=new yM(t,e,void 0!==n.body?n.body:null,{headers:i,params:o,reportProgress:n.reportProgress,responseType:n.responseType||"json",withCredentials:n.withCredentials})}const i=dd(r).pipe(Y(t=>this.handler.handle(t),void 0,1));if(t instanceof yM||"events"===n.observe)return i;const o=i.pipe(oM(t=>t instanceof wM));switch(n.observe||"body"){case"body":switch(r.responseType){case"arraybuffer":return o.pipe(W(t=>{if(null!==t.body&&!(t.body instanceof ArrayBuffer))throw new Error("Response is not an ArrayBuffer.");return t.body}));case"blob":return o.pipe(W(t=>{if(null!==t.body&&!(t.body instanceof Blob))throw new Error("Response is not a Blob.");return t.body}));case"text":return o.pipe(W(t=>{if(null!==t.body&&"string"!=typeof t.body)throw new Error("Response is not a string.");return t.body}));case"json":default:return o.pipe(W(t=>t.body))}case"response":return o;default:throw new Error(`Unreachable: unhandled observe type ${n.observe}}`)}}delete(t,e={}){return this.request("DELETE",t,e)}get(t,e={}){return this.request("GET",t,e)}head(t,e={}){return this.request("HEAD",t,e)}jsonp(t,e){return this.request("JSONP",t,{params:(new dM).append(e,"JSONP_CALLBACK"),observe:"body",responseType:"json"})}options(t,e={}){return this.request("OPTIONS",t,e)}patch(t,e,n={}){return this.request("PATCH",t,xM(n,e))}post(t,e,n={}){return this.request("POST",t,xM(n,e))}put(t,e,n={}){return this.request("PUT",t,xM(n,e))}}return t.ngInjectableDef=mt({token:t,factory:function(e){return new(e||t)(qt(lM))},providedIn:null}),t})();class PM{constructor(t,e){this.next=t,this.interceptor=e}handle(t){return this.interceptor.intercept(t,this.next)}}const IM=new Ot("HTTP_INTERCEPTORS");let EM=(()=>{class t{intercept(t,e){return e.handle(t)}}return t.ngInjectableDef=mt({token:t,factory:function(e){return new(e||t)},providedIn:null}),t})();const TM=/^\)\]\}',?\n/;class AM{}let kM=(()=>{class t{constructor(){}build(){return new XMLHttpRequest}}return t.ngInjectableDef=mt({token:t,factory:function(e){return new(e||t)},providedIn:null}),t})(),OM=(()=>{class t{constructor(t){this.xhrFactory=t}handle(t){if("JSONP"===t.method)throw new Error("Attempted to construct Jsonp request without JsonpClientModule installed.");return new w(e=>{const n=this.xhrFactory.build();if(n.open(t.method,t.urlWithParams),t.withCredentials&&(n.withCredentials=!0),t.headers.forEach((t,e)=>n.setRequestHeader(t,e.join(","))),t.headers.has("Accept")||n.setRequestHeader("Accept","application/json, text/plain, */*"),!t.headers.has("Content-Type")){const e=t.detectContentTypeHeader();null!==e&&n.setRequestHeader("Content-Type",e)}if(t.responseType){const e=t.responseType.toLowerCase();n.responseType="json"!==e?e:"text"}const r=t.serializeBody();let i=null;const o=()=>{if(null!==i)return i;const e=1223===n.status?204:n.status,r=n.statusText||"OK",o=new cM(n.getAllResponseHeaders()),s=function(t){return"responseURL"in t&&t.responseURL?t.responseURL:/^X-Request-URL:/m.test(t.getAllResponseHeaders())?t.getResponseHeader("X-Request-URL"):null}(n)||t.url;return i=new bM({headers:o,status:e,statusText:r,url:s}),i},s=()=>{let{headers:r,status:i,statusText:s,url:a}=o(),l=null;204!==i&&(l=void 0===n.response?n.responseText:n.response),0===i&&(i=l?200:0);let u=i>=200&&i<300;if("json"===t.responseType&&"string"==typeof l){const t=l;l=l.replace(TM,"");try{l=""!==l?JSON.parse(l):null}catch(c){l=t,u&&(u=!1,l={error:c,text:l})}}u?(e.next(new wM({body:l,headers:r,status:i,statusText:s,url:a||void 0})),e.complete()):e.error(new CM({error:l,headers:r,status:i,statusText:s,url:a||void 0}))},a=t=>{const{url:r}=o(),i=new CM({error:t,status:n.status||0,statusText:n.statusText||"Unknown Error",url:r||void 0});e.error(i)};let l=!1;const u=r=>{l||(e.next(o()),l=!0);let i={type:vM.DownloadProgress,loaded:r.loaded};r.lengthComputable&&(i.total=r.total),"text"===t.responseType&&n.responseText&&(i.partialText=n.responseText),e.next(i)},c=t=>{let n={type:vM.UploadProgress,loaded:t.loaded};t.lengthComputable&&(n.total=t.total),e.next(n)};return n.addEventListener("load",s),n.addEventListener("error",a),t.reportProgress&&(n.addEventListener("progress",u),null!==r&&n.upload&&n.upload.addEventListener("progress",c)),n.send(r),e.next({type:vM.Sent}),()=>{n.removeEventListener("error",a),n.removeEventListener("load",s),t.reportProgress&&(n.removeEventListener("progress",u),null!==r&&n.upload&&n.upload.removeEventListener("progress",c)),n.abort()}})}}return t.ngInjectableDef=mt({token:t,factory:function(e){return new(e||t)(qt(AM))},providedIn:null}),t})();const MM=new Ot("XSRF_COOKIE_NAME"),RM=new Ot("XSRF_HEADER_NAME");class DM{}let BM=(()=>{class t{constructor(t,e,n){this.doc=t,this.platform=e,this.cookieName=n,this.lastCookieString="",this.lastToken=null,this.parseCount=0}getToken(){if("server"===this.platform)return null;const t=this.doc.cookie||"";return t!==this.lastCookieString&&(this.parseCount++,this.lastToken=HT(t,this.cookieName),this.lastCookieString=t),this.lastToken}}return t.ngInjectableDef=mt({token:t,factory:function(e){return new(e||t)(qt(SA),qt(mc),qt(MM))},providedIn:null}),t})(),jM=(()=>{class t{constructor(t,e){this.tokenService=t,this.headerName=e}intercept(t,e){const n=t.url.toLowerCase();if("GET"===t.method||"HEAD"===t.method||n.startsWith("http://")||n.startsWith("https://"))return e.handle(t);const r=this.tokenService.getToken();return null===r||t.headers.has(this.headerName)||(t=t.clone({headers:t.headers.set(this.headerName,r)})),e.handle(t)}}return t.ngInjectableDef=mt({token:t,factory:function(e){return new(e||t)(qt(DM),qt(RM))},providedIn:null}),t})(),FM=(()=>{class t{constructor(t,e){this.backend=t,this.injector=e,this.chain=null}handle(t){if(null===this.chain){const t=this.injector.get(IM,[]);this.chain=t.reduceRight((t,e)=>new PM(t,e),this.backend)}return this.chain.handle(t)}}return t.ngInjectableDef=mt({token:t,factory:function(e){return new(e||t)(qt(uM),qt(Ps))},providedIn:null}),t})(),zM=(()=>{class t{static disable(){return{ngModule:t,providers:[{provide:jM,useClass:EM}]}}static withOptions(e={}){return{ngModule:t,providers:[e.cookieName?{provide:MM,useValue:e.cookieName}:[],e.headerName?{provide:RM,useValue:e.headerName}:[]]}}}return t.ngModuleDef=fe({type:t}),t.ngInjectorDef=yt({factory:function(e){return new(e||t)},providers:[jM,{provide:IM,useExisting:jM,multi:!0},{provide:DM,useClass:BM},{provide:MM,useValue:"XSRF-TOKEN"},{provide:RM,useValue:"X-XSRF-TOKEN"}]}),t})(),LM=(()=>{class t{}return t.ngModuleDef=fe({type:t}),t})();LM.ngInjectorDef=yt({factory:function(t){return new(t||LM)},providers:[SM,{provide:lM,useClass:FM},OM,{provide:uM,useExisting:OM},kM,{provide:AM,useExisting:kM}],imports:[[zM.withOptions({cookieName:"XSRF-TOKEN",headerName:"X-XSRF-TOKEN"})]]});let HM=(()=>{class t{}return t.ngModuleDef=fe({type:t}),t})();HM.ngInjectorDef=yt({factory:function(t){return new(t||HM)}});let NM=null;function WM(){return NM}class VM{constructor(){this.resourceLoaderType=null}get attrToPropMap(){return this._attrToPropMap}set attrToPropMap(t){this._attrToPropMap=t}}class UM extends VM{constructor(){super(),this._animationPrefix=null,this._transitionEnd=null;try{const t=this.createElement("div",document);if(null!=this.getStyle(t,"animationName"))this._animationPrefix="";else{const e=["Webkit","Moz","O","ms"];for(let n=0;n<e.length;n++)if(null!=this.getStyle(t,e[n]+"AnimationName")){this._animationPrefix="-"+e[n].toLowerCase()+"-";break}}const e={WebkitTransition:"webkitTransitionEnd",MozTransition:"transitionend",OTransition:"oTransitionEnd otransitionend",transition:"transitionend"};Object.keys(e).forEach(n=>{null!=this.getStyle(t,n)&&(this._transitionEnd=e[n])})}catch(t){this._animationPrefix=null,this._transitionEnd=null}}getDistributedNodes(t){return t.getDistributedNodes()}resolveAndSetHref(t,e,n){t.href=null==n?e:e+"/../"+n}supportsDOMEvents(){return!0}supportsNativeShadowDOM(){return"function"==typeof document.body.createShadowRoot}getAnimationPrefix(){return this._animationPrefix?this._animationPrefix:""}getTransitionEnd(){return this._transitionEnd?this._transitionEnd:""}supportsAnimation(){return null!=this._animationPrefix&&null!=this._transitionEnd}}const qM={class:"className",innerHtml:"innerHTML",readonly:"readOnly",tabindex:"tabIndex"},GM=3,YM={"\b":"Backspace","\t":"Tab","\x7f":"Delete","\x1b":"Escape",Del:"Delete",Esc:"Escape",Left:"ArrowLeft",Right:"ArrowRight",Up:"ArrowUp",Down:"ArrowDown",Menu:"ContextMenu",Scroll:"ScrollLock",Win:"OS"},XM={A:"1",B:"2",C:"3",D:"4",E:"5",F:"6",G:"7",H:"8",I:"9",J:"*",K:"+",M:"-",N:".",O:"/","`":"0","\x90":"NumLock"},$M=(()=>{if(kt.Node)return kt.Node.prototype.contains||function(t){return!!(16&this.compareDocumentPosition(t))}})();class QM extends UM{parse(t){throw new Error("parse not implemented")}static makeCurrent(){var t;t=new QM,NM||(NM=t)}hasProperty(t,e){return e in t}setProperty(t,e,n){t[e]=n}getProperty(t,e){return t[e]}invoke(t,e,n){t[e](...n)}logError(t){window.console&&(console.error?console.error(t):console.log(t))}log(t){window.console&&window.console.log&&window.console.log(t)}logGroup(t){window.console&&window.console.group&&window.console.group(t)}logGroupEnd(){window.console&&window.console.groupEnd&&window.console.groupEnd()}get attrToPropMap(){return qM}contains(t,e){return $M.call(t,e)}querySelector(t,e){return t.querySelector(e)}querySelectorAll(t,e){return t.querySelectorAll(e)}on(t,e,n){t.addEventListener(e,n,!1)}onAndCancel(t,e,n){return t.addEventListener(e,n,!1),()=>{t.removeEventListener(e,n,!1)}}dispatchEvent(t,e){t.dispatchEvent(e)}createMouseEvent(t){const e=this.getDefaultDocument().createEvent("MouseEvent");return e.initEvent(t,!0,!0),e}createEvent(t){const e=this.getDefaultDocument().createEvent("Event");return e.initEvent(t,!0,!0),e}preventDefault(t){t.preventDefault(),t.returnValue=!1}isPrevented(t){return t.defaultPrevented||null!=t.returnValue&&!t.returnValue}getInnerHTML(t){return t.innerHTML}getTemplateContent(t){return"content"in t&&this.isTemplateElement(t)?t.content:null}getOuterHTML(t){return t.outerHTML}nodeName(t){return t.nodeName}nodeValue(t){return t.nodeValue}type(t){return t.type}content(t){return this.hasProperty(t,"content")?t.content:t}firstChild(t){return t.firstChild}nextSibling(t){return t.nextSibling}parentElement(t){return t.parentNode}childNodes(t){return t.childNodes}childNodesAsList(t){const e=t.childNodes,n=new Array(e.length);for(let r=0;r<e.length;r++)n[r]=e[r];return n}clearNodes(t){for(;t.firstChild;)t.removeChild(t.firstChild)}appendChild(t,e){t.appendChild(e)}removeChild(t,e){t.removeChild(e)}replaceChild(t,e,n){t.replaceChild(e,n)}remove(t){return t.parentNode&&t.parentNode.removeChild(t),t}insertBefore(t,e,n){t.insertBefore(n,e)}insertAllBefore(t,e,n){n.forEach(n=>t.insertBefore(n,e))}insertAfter(t,e,n){t.insertBefore(n,e.nextSibling)}setInnerHTML(t,e){t.innerHTML=e}getText(t){return t.textContent}setText(t,e){t.textContent=e}getValue(t){return t.value}setValue(t,e){t.value=e}getChecked(t){return t.checked}setChecked(t,e){t.checked=e}createComment(t){return this.getDefaultDocument().createComment(t)}createTemplate(t){const e=this.getDefaultDocument().createElement("template");return e.innerHTML=t,e}createElement(t,e){return(e=e||this.getDefaultDocument()).createElement(t)}createElementNS(t,e,n){return(n=n||this.getDefaultDocument()).createElementNS(t,e)}createTextNode(t,e){return(e=e||this.getDefaultDocument()).createTextNode(t)}createScriptTag(t,e,n){const r=(n=n||this.getDefaultDocument()).createElement("SCRIPT");return r.setAttribute(t,e),r}createStyleElement(t,e){const n=(e=e||this.getDefaultDocument()).createElement("style");return this.appendChild(n,this.createTextNode(t,e)),n}createShadowRoot(t){return t.createShadowRoot()}getShadowRoot(t){return t.shadowRoot}getHost(t){return t.host}clone(t){return t.cloneNode(!0)}getElementsByClassName(t,e){return t.getElementsByClassName(e)}getElementsByTagName(t,e){return t.getElementsByTagName(e)}classList(t){return Array.prototype.slice.call(t.classList,0)}addClass(t,e){t.classList.add(e)}removeClass(t,e){t.classList.remove(e)}hasClass(t,e){return t.classList.contains(e)}setStyle(t,e,n){t.style[e]=n}removeStyle(t,e){t.style[e]=""}getStyle(t,e){return t.style[e]}hasStyle(t,e,n){const r=this.getStyle(t,e)||"";return n?r==n:r.length>0}tagName(t){return t.tagName}attributeMap(t){const e=new Map,n=t.attributes;for(let r=0;r<n.length;r++){const t=n.item(r);e.set(t.name,t.value)}return e}hasAttribute(t,e){return t.hasAttribute(e)}hasAttributeNS(t,e,n){return t.hasAttributeNS(e,n)}getAttribute(t,e){return t.getAttribute(e)}getAttributeNS(t,e,n){return t.getAttributeNS(e,n)}setAttribute(t,e,n){t.setAttribute(e,n)}setAttributeNS(t,e,n,r){t.setAttributeNS(e,n,r)}removeAttribute(t,e){t.removeAttribute(e)}removeAttributeNS(t,e,n){t.removeAttributeNS(e,n)}templateAwareRoot(t){return this.isTemplateElement(t)?this.content(t):t}createHtmlDocument(){return document.implementation.createHTMLDocument("fakeTitle")}getDefaultDocument(){return document}getBoundingClientRect(t){try{return t.getBoundingClientRect()}catch(e){return{top:0,bottom:0,left:0,right:0,width:0,height:0}}}getTitle(t){return t.title}setTitle(t,e){t.title=e||""}elementMatches(t,e){return!!this.isElementNode(t)&&(t.matches&&t.matches(e)||t.msMatchesSelector&&t.msMatchesSelector(e)||t.webkitMatchesSelector&&t.webkitMatchesSelector(e))}isTemplateElement(t){return this.isElementNode(t)&&"TEMPLATE"===t.nodeName}isTextNode(t){return t.nodeType===Node.TEXT_NODE}isCommentNode(t){return t.nodeType===Node.COMMENT_NODE}isElementNode(t){return t.nodeType===Node.ELEMENT_NODE}hasShadowRoot(t){return null!=t.shadowRoot&&t instanceof HTMLElement}isShadowRoot(t){return t instanceof DocumentFragment}importIntoDoc(t){return document.importNode(this.templateAwareRoot(t),!0)}adoptNode(t){return document.adoptNode(t)}getHref(t){return t.getAttribute("href")}getEventKey(t){let e=t.key;if(null==e){if(e=t.keyIdentifier,null==e)return"Unidentified";e.startsWith("U+")&&(e=String.fromCharCode(parseInt(e.substring(2),16)),t.location===GM&&XM.hasOwnProperty(e)&&(e=XM[e]))}return YM[e]||e}getGlobalEventTarget(t,e){return"window"===e?window:"document"===e?t:"body"===e?t.body:null}getHistory(){return window.history}getLocation(){return window.location}getBaseHref(t){const e=KM||(KM=document.querySelector("base"),KM)?KM.getAttribute("href"):null;return null==e?null:(n=e,ZM||(ZM=document.createElement("a")),ZM.setAttribute("href",n),"/"===ZM.pathname.charAt(0)?ZM.pathname:"/"+ZM.pathname);var n}resetBaseElement(){KM=null}getUserAgent(){return window.navigator.userAgent}setData(t,e,n){this.setAttribute(t,"data-"+e,n)}getData(t,e){return this.getAttribute(t,"data-"+e)}getComputedStyle(t){return getComputedStyle(t)}supportsWebAnimation(){return"function"==typeof Element.prototype.animate}performanceNow(){return window.performance&&window.performance.now?window.performance.now():(new Date).getTime()}supportsCookies(){return!0}getCookie(t){return HT(document.cookie,t)}setCookie(t,e){document.cookie=encodeURIComponent(t)+"="+encodeURIComponent(e)}}let ZM,KM=null;function JM(){return!!window.history.pushState}let tR=(()=>{class t extends sT{constructor(t){super(),this._doc=t,this._init()}_init(){this.location=WM().getLocation(),this._history=WM().getHistory()}getBaseHrefFromDOM(){return WM().getBaseHref(this._doc)}onPopState(t){WM().getGlobalEventTarget(this._doc,"window").addEventListener("popstate",t,!1)}onHashChange(t){WM().getGlobalEventTarget(this._doc,"window").addEventListener("hashchange",t,!1)}get href(){return this.location.href}get protocol(){return this.location.protocol}get hostname(){return this.location.hostname}get port(){return this.location.port}get pathname(){return this.location.pathname}get search(){return this.location.search}get hash(){return this.location.hash}set pathname(t){this.location.pathname=t}pushState(t,e,n){JM()?this._history.pushState(t,e,n):this.location.hash=n}replaceState(t,e,n){JM()?this._history.replaceState(t,e,n):this.location.hash=n}forward(){this._history.forward()}back(){this._history.back()}getState(){return this._history.state}}return t.ngInjectableDef=mt({token:t,factory:function(e){return new(e||t)(qt(SA))},providedIn:null}),t.ctorParameters=()=>[{type:void 0,decorators:[{type:ut,args:[SA]}]}],t})();const eR=new Ot("TRANSITION_ID"),nR=[{provide:uc,useFactory:function(t,e,n){return()=>{n.get(cc).donePromise.then(()=>{const n=WM();Array.prototype.slice.apply(n.querySelectorAll(e,"style[ng-transition]")).filter(e=>n.getAttribute(e,"ng-transition")===t).forEach(t=>n.remove(t))})}},deps:[eR,SA,Ps],multi:!0}];class rR{static init(){var t;t=new rR,Qc=t}addToWindow(t){kt.getAngularTestability=(e,n=!0)=>{const r=t.findTestabilityInTree(e,n);if(null==r)throw new Error("Could not find testability for element.");return r},kt.getAllAngularTestabilities=()=>t.getAllTestabilities(),kt.getAllAngularRootElements=()=>t.getAllRootElements(),kt.frameworkStabilizers||(kt.frameworkStabilizers=[]),kt.frameworkStabilizers.push(t=>{const e=kt.getAllAngularTestabilities();let n=e.length,r=!1;const i=function(e){r=r||e,n--,0==n&&t(r)};e.forEach((function(t){t.whenStable(i)}))})}findTestabilityInTree(t,e,n){if(null==e)return null;const r=t.getTestability(e);return null!=r?r:n?WM().isShadowRoot(e)?this.findTestabilityInTree(t,WM().getHost(e),!0):this.findTestabilityInTree(t,WM().parentElement(e),!0):null}}function iR(t,e){"undefined"!=typeof COMPILED&&COMPILED||((kt.ng=kt.ng||{})[t]=e)}const oR=(()=>({ApplicationRef:oh,NgZone:Lc}))();function sR(t){return bh(t)}const aR=new Ot("EventManagerPlugins");let lR=(()=>{class t{constructor(t,e){this._zone=e,this._eventNameToPlugin=new Map,t.forEach(t=>t.manager=this),this._plugins=t.slice().reverse()}addEventListener(t,e,n){return this._findPluginFor(e).addEventListener(t,e,n)}addGlobalEventListener(t,e,n){return this._findPluginFor(e).addGlobalEventListener(t,e,n)}getZone(){return this._zone}_findPluginFor(t){const e=this._eventNameToPlugin.get(t);if(e)return e;const n=this._plugins;for(let r=0;r<n.length;r++){const e=n[r];if(e.supports(t))return this._eventNameToPlugin.set(t,e),e}throw new Error(`No event manager plugin found for event ${t}`)}}return t.ngInjectableDef=mt({token:t,factory:function(e){return new(e||t)(qt(aR),qt(Lc))},providedIn:null}),t})();class uR{constructor(t){this._doc=t}addGlobalEventListener(t,e,n){const r=WM().getGlobalEventTarget(this._doc,t);if(!r)throw new Error(`Unsupported event target ${r} for event ${e}`);return this.addEventListener(r,e,n)}}let cR=(()=>{class t{constructor(){this._stylesSet=new Set}addStyles(t){const e=new Set;t.forEach(t=>{this._stylesSet.has(t)||(this._stylesSet.add(t),e.add(t))}),this.onStylesAdded(e)}onStylesAdded(t){}getAllStyles(){return Array.from(this._stylesSet)}}return t.ngInjectableDef=mt({token:t,factory:function(e){return new(e||t)},providedIn:null}),t})(),hR=(()=>{class t extends cR{constructor(t){super(),this._doc=t,this._hostNodes=new Set,this._styleNodes=new Set,this._hostNodes.add(t.head)}_addStylesToHost(t,e){t.forEach(t=>{const n=this._doc.createElement("style");n.textContent=t,this._styleNodes.add(e.appendChild(n))})}addHost(t){this._addStylesToHost(this._stylesSet,t),this._hostNodes.add(t)}removeHost(t){this._hostNodes.delete(t)}onStylesAdded(t){this._hostNodes.forEach(e=>this._addStylesToHost(t,e))}ngOnDestroy(){this._styleNodes.forEach(t=>WM().remove(t))}}return t.ngInjectableDef=mt({token:t,factory:function(e){return new(e||t)(qt(SA))},providedIn:null}),t})();const pR={svg:"http://www.w3.org/2000/svg",xhtml:"http://www.w3.org/1999/xhtml",xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/"},dR=/%COMP%/g,fR="_nghost-%COMP%",gR="_ngcontent-%COMP%";function mR(t,e,n){for(let r=0;r<e.length;r++){let i=e[r];Array.isArray(i)?mR(t,i,n):(i=i.replace(dR,t),n.push(i))}return n}function yR(t){return e=>{!1===t(e)&&(e.preventDefault(),e.returnValue=!1)}}let vR=(()=>{class t{constructor(t,e,n){this.eventManager=t,this.sharedStylesHost=e,this.appId=n,this.rendererByCompId=new Map,this.defaultRenderer=new _R(t)}createRenderer(t,e){if(!t||!e)return this.defaultRenderer;switch(e.encapsulation){case ne.Emulated:{let n=this.rendererByCompId.get(e.id);return n||(n=new CR(this.eventManager,this.sharedStylesHost,e,this.appId),this.rendererByCompId.set(e.id,n)),n.applyToHost(t),n}case ne.Native:case ne.ShadowDom:return new xR(this.eventManager,this.sharedStylesHost,t,e);default:if(!this.rendererByCompId.has(e.id)){const t=mR(e.id,e.styles,[]);this.sharedStylesHost.addStyles(t),this.rendererByCompId.set(e.id,this.defaultRenderer)}return this.defaultRenderer}}begin(){}end(){}}return t.ngInjectableDef=mt({token:t,factory:function(e){return new(e||t)(qt(lR),qt(hR),qt(hc))},providedIn:null}),t})();class _R{constructor(t){this.eventManager=t,this.data=Object.create(null)}destroy(){}createElement(t,e){return e?document.createElementNS(pR[e]||e,t):document.createElement(t)}createComment(t){return document.createComment(t)}createText(t){return document.createTextNode(t)}appendChild(t,e){t.appendChild(e)}insertBefore(t,e,n){t&&t.insertBefore(e,n)}removeChild(t,e){t&&t.removeChild(e)}selectRootElement(t,e){let n="string"==typeof t?document.querySelector(t):t;if(!n)throw new Error(`The selector "${t}" did not match any elements`);return e||(n.textContent=""),n}parentNode(t){return t.parentNode}nextSibling(t){return t.nextSibling}setAttribute(t,e,n,r){if(r){e=r+":"+e;const i=pR[r];i?t.setAttributeNS(i,e,n):t.setAttribute(e,n)}else t.setAttribute(e,n)}removeAttribute(t,e,n){if(n){const r=pR[n];r?t.removeAttributeNS(r,e):t.removeAttribute(`${n}:${e}`)}else t.removeAttribute(e)}addClass(t,e){t.classList.add(e)}removeClass(t,e){t.classList.remove(e)}setStyle(t,e,n,r){r&ka.DashCase?t.style.setProperty(e,n,r&ka.Important?"important":""):t.style[e]=n}removeStyle(t,e,n){n&ka.DashCase?t.style.removeProperty(e):t.style[e]=""}setProperty(t,e,n){wR(e,"property"),t[e]=n}setValue(t,e){t.nodeValue=e}listen(t,e,n){return wR(e,"listener"),"string"==typeof t?this.eventManager.addGlobalEventListener(t,e,yR(n)):this.eventManager.addEventListener(t,e,yR(n))}}const bR=(()=>"@".charCodeAt(0))();function wR(t,e){if(t.charCodeAt(0)===bR)throw new Error(`Found the synthetic ${e} ${t}. Please include either "BrowserAnimationsModule" or "NoopAnimationsModule" in your application.`)}class CR extends _R{constructor(t,e,n,r){super(t),this.component=n;const i=mR(r+"-"+n.id,n.styles,[]);e.addStyles(i),this.contentAttr=gR.replace(dR,r+"-"+n.id),this.hostAttr=function(t){return fR.replace(dR,t)}(r+"-"+n.id)}applyToHost(t){super.setAttribute(t,this.hostAttr,"")}createElement(t,e){const n=super.createElement(t,e);return super.setAttribute(n,this.contentAttr,""),n}}class xR extends _R{constructor(t,e,n,r){super(t),this.sharedStylesHost=e,this.hostEl=n,this.component=r,this.shadowRoot=r.encapsulation===ne.ShadowDom?n.attachShadow({mode:"open"}):n.createShadowRoot(),this.sharedStylesHost.addHost(this.shadowRoot);const i=mR(r.id,r.styles,[]);for(let o=0;o<i.length;o++){const t=document.createElement("style");t.textContent=i[o],this.shadowRoot.appendChild(t)}}nodeOrShadowRoot(t){return t===this.hostEl?this.shadowRoot:t}destroy(){this.sharedStylesHost.removeHost(this.shadowRoot)}appendChild(t,e){return super.appendChild(this.nodeOrShadowRoot(t),e)}insertBefore(t,e,n){return super.insertBefore(this.nodeOrShadowRoot(t),e,n)}removeChild(t,e){return super.removeChild(this.nodeOrShadowRoot(t),e)}parentNode(t){return this.nodeOrShadowRoot(super.parentNode(this.nodeOrShadowRoot(t)))}}const SR=(()=>"undefined"!=typeof Zone&&Zone.__symbol__||function(t){return"__zone_symbol__"+t})(),PR=SR("addEventListener"),IR=SR("removeEventListener"),ER={},TR="FALSE",AR="ANGULAR",kR="addEventListener",OR="removeEventListener",MR="__zone_symbol__propagationStopped",RR="__zone_symbol__stopImmediatePropagation",DR=(()=>{const t="undefined"!=typeof Zone&&Zone[SR("BLACK_LISTED_EVENTS")];if(t){const e={};return t.forEach(t=>{e[t]=t}),e}})(),BR=function(t){return!!DR&&DR.hasOwnProperty(t)},jR=function(t){const e=ER[t.type];if(!e)return;const n=this[e];if(!n)return;const r=[t];if(1===n.length){const t=n[0];return t.zone!==Zone.current?t.zone.run(t.handler,this,r):t.handler.apply(this,r)}{const e=n.slice();for(let n=0;n<e.length&&!0!==t[MR];n++){const t=e[n];t.zone!==Zone.current?t.zone.run(t.handler,this,r):t.handler.apply(this,r)}}};let FR=(()=>{class t extends uR{constructor(t,e,n){super(t),this.ngZone=e,n&&function(t){return t===IA}(n)||this.patchEvent()}patchEvent(){if("undefined"==typeof Event||!Event||!Event.prototype)return;if(Event.prototype[RR])return;const t=Event.prototype[RR]=Event.prototype.stopImmediatePropagation;Event.prototype.stopImmediatePropagation=function(){this&&(this[MR]=!0),t&&t.apply(this,arguments)}}supports(t){return!0}addEventListener(t,e,n){let r=n;if(!t[PR]||Lc.isInAngularZone()&&!BR(e))t[kR](e,r,!1);else{let n=ER[e];n||(n=ER[e]=SR(AR+e+TR));let i=t[n];const o=i&&i.length>0;i||(i=t[n]=[]);const s=BR(e)?Zone.root:Zone.current;if(0===i.length)i.push({zone:s,handler:r});else{let t=!1;for(let e=0;e<i.length;e++)if(i[e].handler===r){t=!0;break}t||i.push({zone:s,handler:r})}o||t[PR](e,jR,!1)}return()=>this.removeEventListener(t,e,r)}removeEventListener(t,e,n){let r=t[IR];if(!r)return t[OR].apply(t,[e,n,!1]);let i=ER[e],o=i&&t[i];if(!o)return t[OR].apply(t,[e,n,!1]);let s=!1;for(let a=0;a<o.length;a++)if(o[a].handler===n){s=!0,o.splice(a,1);break}s?0===o.length&&r.apply(t,[e,jR,!1]):t[OR].apply(t,[e,n,!1])}}return t.ngInjectableDef=mt({token:t,factory:function(e){return new(e||t)(qt(SA),qt(Lc),qt(mc,8))},providedIn:null}),t})();const zR={pan:!0,panstart:!0,panmove:!0,panend:!0,pancancel:!0,panleft:!0,panright:!0,panup:!0,pandown:!0,pinch:!0,pinchstart:!0,pinchmove:!0,pinchend:!0,pinchcancel:!0,pinchin:!0,pinchout:!0,press:!0,pressup:!0,rotate:!0,rotatestart:!0,rotatemove:!0,rotateend:!0,rotatecancel:!0,swipe:!0,swipeleft:!0,swiperight:!0,swipeup:!0,swipedown:!0,tap:!0},LR=new Ot("HammerGestureConfig"),HR=new Ot("HammerLoader");let NR=(()=>{class t{constructor(){this.events=[],this.overrides={}}buildHammer(t){const e=new Hammer(t,this.options);e.get("pinch").set({enable:!0}),e.get("rotate").set({enable:!0});for(const n in this.overrides)e.get(n).set(this.overrides[n]);return e}}return t.ngInjectableDef=mt({token:t,factory:function(e){return new(e||t)},providedIn:null}),t})(),WR=(()=>{class t extends uR{constructor(t,e,n,r){super(t),this._config=e,this.console=n,this.loader=r}supports(t){return!(!zR.hasOwnProperty(t.toLowerCase())&&!this.isCustomEvent(t)||!window.Hammer&&!this.loader&&(this.console.warn(`The "${t}" event cannot be bound because Hammer.JS is not `+"loaded and no custom loader has been specified."),1))}addEventListener(t,e,n){const r=this.manager.getZone();if(e=e.toLowerCase(),!window.Hammer&&this.loader){let r=!1,i=()=>{r=!0};return this.loader().then(()=>{if(!window.Hammer)return this.console.warn("The custom HAMMER_LOADER completed, but Hammer.JS is not present."),void(i=()=>{});r||(i=this.addEventListener(t,e,n))}).catch(()=>{this.console.warn(`The "${e}" event cannot be bound because the custom `+"Hammer.JS loader failed."),i=()=>{}}),()=>{i()}}return r.runOutsideAngular(()=>{const i=this._config.buildHammer(t),o=function(t){r.runGuarded((function(){n(t)}))};return i.on(e,o),()=>{i.off(e,o),"function"==typeof i.destroy&&i.destroy()}})}isCustomEvent(t){return this._config.events.indexOf(t)>-1}}return t.ngInjectableDef=mt({token:t,factory:function(e){return new(e||t)(qt(SA),qt(LR),qt(vc),qt(HR,8))},providedIn:null}),t})();const VR=["alt","control","meta","shift"],UR={alt:t=>t.altKey,control:t=>t.ctrlKey,meta:t=>t.metaKey,shift:t=>t.shiftKey};let qR=(()=>{class t extends uR{constructor(t){super(t)}supports(e){return null!=t.parseEventName(e)}addEventListener(e,n,r){const i=t.parseEventName(n),o=t.eventCallback(i.fullKey,r,this.manager.getZone());return this.manager.getZone().runOutsideAngular(()=>WM().onAndCancel(e,i.domEventName,o))}static parseEventName(e){const n=e.toLowerCase().split("."),r=n.shift();if(0===n.length||"keydown"!==r&&"keyup"!==r)return null;const i=t._normalizeKey(n.pop());let o="";if(VR.forEach(t=>{const e=n.indexOf(t);e>-1&&(n.splice(e,1),o+=t+".")}),o+=i,0!=n.length||0===i.length)return null;const s={};return s.domEventName=r,s.fullKey=o,s}static getEventFullKey(t){let e="",n=WM().getEventKey(t);return n=n.toLowerCase()," "===n?n="space":"."===n&&(n="dot"),VR.forEach(r=>{r!=n&&(0,UR[r])(t)&&(e+=r+".")}),e+=n,e}static eventCallback(e,n,r){return i=>{t.getEventFullKey(i)===e&&r.runGuarded(()=>n(i))}}static _normalizeKey(t){switch(t){case"esc":return"escape";default:return t}}}return t.ngInjectableDef=mt({token:t,factory:function(e){return new(e||t)(qt(SA))},providedIn:null}),t})();class GR{}let YR=(()=>{class t extends GR{constructor(t){super(),this._doc=t}sanitize(t,e){if(null==e)return null;switch(t){case Ni.NONE:return e;case Ni.HTML:return e instanceof $R?e.changingThisBreaksApplicationSecurity:(this.checkNotSafeValue(e,"HTML"),function(t,e){let n=null;try{Li=Li||new bi(t);let r=e?String(e):"";n=Li.getInertBodyElement(r);let i=5,o=r;do{if(0===i)throw new Error("Failed to sanitize html because the input is unstable");i--,r=o,o=n.innerHTML,n=Li.getInertBodyElement(r)}while(r!==o);const s=new Bi,a=s.sanitizeChildren(Hi(n)||n);return _i()&&s.sanitizedSomething&&console.warn("WARNING: sanitizing HTML stripped some content, see http://g.co/ng/security#xss"),a}finally{if(n){const t=Hi(n)||n;for(;t.firstChild;)t.removeChild(t.firstChild)}}}(this._doc,String(e)));case Ni.STYLE:return e instanceof QR?e.changingThisBreaksApplicationSecurity:(this.checkNotSafeValue(e,"Style"),function(t){if(!(t=String(t).trim()))return"";const e=t.match(Ui);return e&&xi(e[1])===e[1]||t.match(Vi)&&function(t){let e=!0,n=!0;for(let r=0;r<t.length;r++){const i=t.charAt(r);"'"===i&&n?e=!e:'"'===i&&e&&(n=!n)}return e&&n}(t)?t:(_i()&&console.warn(`WARNING: sanitizing unsafe style value ${t} (see http://g.co/ng/security#xss).`),"unsafe")}(e));case Ni.SCRIPT:if(e instanceof ZR)return e.changingThisBreaksApplicationSecurity;throw this.checkNotSafeValue(e,"Script"),new Error("unsafe value used in a script context");case Ni.URL:return e instanceof JR||e instanceof KR?e.changingThisBreaksApplicationSecurity:(this.checkNotSafeValue(e,"URL"),xi(String(e)));case Ni.RESOURCE_URL:if(e instanceof JR)return e.changingThisBreaksApplicationSecurity;throw this.checkNotSafeValue(e,"ResourceURL"),new Error("unsafe value used in a resource URL context (see http://g.co/ng/security#xss)");default:throw new Error(`Unexpected SecurityContext ${t} (see http://g.co/ng/security#xss)`)}}checkNotSafeValue(t,e){if(t instanceof XR)throw new Error(`Required a safe ${e}, got a ${t.getTypeName()} `+"(see http://g.co/ng/security#xss)")}bypassSecurityTrustHtml(t){return new $R(t)}bypassSecurityTrustStyle(t){return new QR(t)}bypassSecurityTrustScript(t){return new ZR(t)}bypassSecurityTrustUrl(t){return new KR(t)}bypassSecurityTrustResourceUrl(t){return new JR(t)}}return t.ngInjectableDef=mt({token:t,factory:function(e){return new(e||t)(qt(SA))},providedIn:null}),t})();class XR{constructor(t){this.changingThisBreaksApplicationSecurity=t}toString(){return`SafeValue must use [property]=binding: ${this.changingThisBreaksApplicationSecurity}`+" (see http://g.co/ng/security#xss)"}}class $R extends XR{getTypeName(){return"HTML"}}class QR extends XR{getTypeName(){return"Style"}}class ZR extends XR{getTypeName(){return"Script"}}class KR extends XR{getTypeName(){return"URL"}}class JR extends XR{getTypeName(){return"ResourceURL"}}const tD=[{provide:Wi,useExisting:GR},{provide:GR,useClass:YR,deps:[SA]}],eD=eh(Ch,"browser",[{provide:mc,useValue:PA},{provide:gc,useValue:function(){QM.makeCurrent(),rR.init()},multi:!0},{provide:sT,useClass:tR,deps:[SA]},{provide:SA,useFactory:function(){return document},deps:[]}]);function nD(){return new mi}const rD=[tD,{provide:hs,useValue:!0},{provide:mi,useFactory:nD,deps:[]},{provide:aR,useClass:FR,multi:!0,deps:[SA,Lc,mc]},{provide:aR,useClass:qR,multi:!0,deps:[SA]},{provide:aR,useClass:WR,multi:!0,deps:[SA,LR,vc,[new ct,HR]]},{provide:LR,useClass:NR,deps:[]},{provide:vR,useClass:vR,deps:[lR,hR,hc]},{provide:Aa,useExisting:vR},{provide:cR,useExisting:hR},{provide:hR,useClass:hR,deps:[SA]},{provide:Gc,useClass:Gc,deps:[Lc]},{provide:lR,useClass:lR,deps:[aR,Lc]},[]];let iD=(()=>{class t{constructor(t){if(t)throw new Error("BrowserModule has already been loaded. If you need access to common directives such as NgIf and NgFor from a lazy loaded module, import CommonModule instead.")}static withServerTransition(e){return{ngModule:t,providers:[{provide:hc,useValue:e.appId},{provide:eR,useExisting:hc},nR]}}}return t.ngModuleDef=fe({type:t}),t})();iD.ngInjectorDef=yt({factory:function(t){return new(t||iD)(qt(iD,12))},providers:rD,imports:[CA,Th]}),"undefined"!=typeof window&&window;const oD=new Ra("8.2.3");let sD;try{sD="undefined"!=typeof Intl&&Intl.v8BreakIterator}catch(rH){sD=!1}let aD=(()=>{class t{constructor(t){this._platformId=t,this.isBrowser=this._platformId?EA(this._platformId):"object"==typeof document&&!!document,this.EDGE=this.isBrowser&&/(edge)/i.test(navigator.userAgent),this.TRIDENT=this.isBrowser&&/(msie|trident)/i.test(navigator.userAgent),this.BLINK=this.isBrowser&&!(!window.chrome&&!sD)&&"undefined"!=typeof CSS&&!this.EDGE&&!this.TRIDENT,this.WEBKIT=this.isBrowser&&/AppleWebKit/i.test(navigator.userAgent)&&!this.BLINK&&!this.EDGE&&!this.TRIDENT,this.IOS=this.isBrowser&&/iPad|iPhone|iPod/.test(navigator.userAgent)&&!("MSStream"in window),this.FIREFOX=this.isBrowser&&/(firefox|minefield)/i.test(navigator.userAgent),this.ANDROID=this.isBrowser&&/android/i.test(navigator.userAgent)&&!this.TRIDENT,this.SAFARI=this.isBrowser&&/safari/i.test(navigator.userAgent)&&this.WEBKIT}}return t.ngInjectableDef=mt({token:t,factory:function(e){return new(e||t)(qt(mc,8))},providedIn:"root"}),t.ngInjectableDef=mt({factory:function(){return new t(qt(mc,8))},token:t,providedIn:"root"}),t})(),lD=(()=>{class t{}return t.ngModuleDef=fe({type:t}),t.ngInjectorDef=yt({factory:function(e){return new(e||t)}}),t})(),uD=(()=>{class t{create(t){return"undefined"==typeof MutationObserver?null:new MutationObserver(t)}}return t.ngInjectableDef=mt({token:t,factory:function(e){return new(e||t)},providedIn:"root"}),t.ngInjectableDef=mt({factory:function(){return new t},token:t,providedIn:"root"}),t})(),cD=(()=>{class t{}return t.ngModuleDef=fe({type:t}),t})();cD.ngInjectorDef=yt({factory:function(t){return new(t||cD)},providers:[uD]});let hD=(()=>{class t{}return t.ngModuleDef=fe({type:t}),t})();function pD(){return"undefined"!=typeof process}function dD(t){switch(t.length){case 0:return new Rk;case 1:return t[0];default:return new Dk(t)}}function fD(t,e,n,r,i={},o={}){const s=[],a=[];let l=-1,u=null;if(r.forEach(t=>{const n=t.offset,r=n==l,c=r&&u||{};Object.keys(t).forEach(n=>{let r=n,a=t[n];if("offset"!==n)switch(r=e.normalizePropertyName(r,s),a){case Bk:a=i[n];break;case Ak:a=o[n];break;default:a=e.normalizeStyleValue(n,r,a,s)}c[r]=a}),r||a.push(c),u=c,l=n}),s.length){const t="\n - ";throw new Error(`Unable to animate due to the following errors:${t}${s.join(t)}`)}return a}function gD(t,e,n,r){switch(e){case"start":t.onStart(()=>r(n&&mD(n,"start",t)));break;case"done":t.onDone(()=>r(n&&mD(n,"done",t)));break;case"destroy":t.onDestroy(()=>r(n&&mD(n,"destroy",t)))}}function mD(t,e,n){const r=n.totalTime,i=yD(t.element,t.triggerName,t.fromState,t.toState,e||t.phaseName,null==r?t.totalTime:r,!!n.disabled),o=t._data;return null!=o&&(i._data=o),i}function yD(t,e,n,r,i="",o=0,s){return{element:t,triggerName:e,fromState:n,toState:r,phaseName:i,totalTime:o,disabled:!!s}}function vD(t,e,n){let r;return t instanceof Map?(r=t.get(e),r||t.set(e,r=n)):(r=t[e],r||(r=t[e]=n)),r}function _D(t){const e=t.indexOf(":");return[t.substring(1,e),t.substr(e+1)]}hD.ngInjectorDef=yt({factory:function(t){return new(t||hD)},imports:[[CA,lD,cD]]});let bD=(t,e)=>!1,wD=(t,e)=>!1,CD=(t,e,n)=>[];const xD=pD();(xD||"undefined"!=typeof Element)&&(bD=(t,e)=>t.contains(e),wD=(()=>{if(xD||Element.prototype.matches)return(t,e)=>t.matches(e);{const t=Element.prototype,e=t.matchesSelector||t.mozMatchesSelector||t.msMatchesSelector||t.oMatchesSelector||t.webkitMatchesSelector;return e?(t,n)=>e.apply(t,[n]):wD}})(),CD=(t,e,n)=>{let r=[];if(n)r.push(...t.querySelectorAll(e));else{const n=t.querySelector(e);n&&r.push(n)}return r});let SD=null,PD=!1;function ID(t){SD||(SD=("undefined"!=typeof document?document.body:null)||{},PD=!!SD.style&&"WebkitAppearance"in SD.style);let e=!0;return SD.style&&!function(t){return"ebkit"==t.substring(1,6)}(t)&&(e=t in SD.style,!e&&PD)&&(e="Webkit"+t.charAt(0).toUpperCase()+t.substr(1)in SD.style),e}const ED=wD,TD=bD,AD=CD;function kD(t){const e={};return Object.keys(t).forEach(n=>{const r=n.replace(/([a-z])([A-Z])/g,"$1-$2");e[r]=t[n]}),e}let OD=(()=>{class t{validateStyleProperty(t){return ID(t)}matchesElement(t,e){return ED(t,e)}containsElement(t,e){return TD(t,e)}query(t,e,n){return AD(t,e,n)}computeStyle(t,e,n){return n||""}animate(t,e,n,r,i,o=[],s){return new Rk(n,r)}}return t.ngInjectableDef=mt({token:t,factory:function(e){return new(e||t)},providedIn:null}),t})(),MD=(()=>{class t{}return t.NOOP=new OD,t})();const RD=1e3,DD="{{",BD="ng-enter",jD="ng-leave",FD="ng-trigger",zD=".ng-trigger",LD="ng-animating",HD=".ng-animating";function ND(t){if("number"==typeof t)return t;const e=t.match(/^(-?[\.\d]+)(m?s)/);return!e||e.length<2?0:WD(parseFloat(e[1]),e[2])}function WD(t,e){switch(e){case"s":return t*RD;default:return t}}function VD(t,e,n){return t.hasOwnProperty("duration")?t:function(t,e,n){let r,i=0,o="";if("string"==typeof t){const n=t.match(/^(-?[\.\d]+)(m?s)(?:\s+(-?[\.\d]+)(m?s))?(?:\s+([-a-z]+(?:\(.+?\))?))?$/i);if(null===n)return e.push(`The provided timing value "${t}" is invalid.`),{duration:0,delay:0,easing:""};r=WD(parseFloat(n[1]),n[2]);const s=n[3];null!=s&&(i=WD(parseFloat(s),n[4]));const a=n[5];a&&(o=a)}else r=t;if(!n){let n=!1,o=e.length;r<0&&(e.push("Duration values below 0 are not allowed for this animation step."),n=!0),i<0&&(e.push("Delay values below 0 are not allowed for this animation step."),n=!0),n&&e.splice(o,0,`The provided timing value "${t}" is invalid.`)}return{duration:r,delay:i,easing:o}}(t,e,n)}function UD(t,e={}){return Object.keys(t).forEach(n=>{e[n]=t[n]}),e}function qD(t,e,n={}){if(e)for(let r in t)n[r]=t[r];else UD(t,n);return n}function GD(t,e,n){return n?e+":"+n+";":""}function YD(t){let e="";for(let n=0;n<t.style.length;n++){const r=t.style.item(n);e+=GD(0,r,t.style.getPropertyValue(r))}for(const n in t.style)t.style.hasOwnProperty(n)&&!n.startsWith("_")&&(e+=GD(0,n.replace(/([a-z])([A-Z])/g,"$1-$2").toLowerCase(),t.style[n]));t.setAttribute("style",e)}function XD(t,e,n){t.style&&(Object.keys(e).forEach(r=>{const i=nB(r);n&&!n.hasOwnProperty(r)&&(n[r]=t.style[i]),t.style[i]=e[r]}),pD()&&YD(t))}function $D(t,e){t.style&&(Object.keys(e).forEach(e=>{const n=nB(e);t.style[n]=""}),pD()&&YD(t))}function QD(t){return Array.isArray(t)?1==t.length?t[0]:kk(t):t}const ZD=new RegExp(`${DD}\\s*(.+?)\\s*}}`,"g");function KD(t){let e=[];if("string"==typeof t){const n=t.toString();let r;for(;r=ZD.exec(n);)e.push(r[1]);ZD.lastIndex=0}return e}function JD(t,e,n){const r=t.toString(),i=r.replace(ZD,(t,r)=>{let i=e[r];return e.hasOwnProperty(r)||(n.push(`Please provide a value for the animation param ${r}`),i=""),i.toString()});return i==r?t:i}function tB(t){const e=[];let n=t.next();for(;!n.done;)e.push(n.value),n=t.next();return e}const eB=/-+([a-z0-9])/g;function nB(t){return t.replace(eB,(...t)=>t[1].toUpperCase())}function rB(t,e){return 0===t||0===e}function iB(t,e,n){const r=Object.keys(n);if(r.length&&e.length){let o=e[0],s=[];if(r.forEach(t=>{o.hasOwnProperty(t)||s.push(t),o[t]=n[t]}),s.length)for(var i=1;i<e.length;i++){let n=e[i];s.forEach((function(e){n[e]=sB(t,e)}))}}return e}function oB(t,e,n){switch(e.type){case 7:return t.visitTrigger(e,n);case 0:return t.visitState(e,n);case 1:return t.visitTransition(e,n);case 2:return t.visitSequence(e,n);case 3:return t.visitGroup(e,n);case 4:return t.visitAnimate(e,n);case 5:return t.visitKeyframes(e,n);case 6:return t.visitStyle(e,n);case 8:return t.visitReference(e,n);case 9:return t.visitAnimateChild(e,n);case 10:return t.visitAnimateRef(e,n);case 11:return t.visitQuery(e,n);case 12:return t.visitStagger(e,n);default:throw new Error(`Unable to resolve animation metadata node #${e.type}`)}}function sB(t,e){return window.getComputedStyle(t)[e]}const aB="*";function lB(t,e){const n=[];return"string"==typeof t?t.split(/\s*,\s*/).forEach(t=>(function(t,e,n){if(":"==t[0]){const r=function(t,e){switch(t){case":enter":return"void => *";case":leave":return"* => void";case":increment":return(t,e)=>parseFloat(e)>parseFloat(t);case":decrement":return(t,e)=>parseFloat(e)<parseFloat(t);default:return e.push(`The transition alias value "${t}" is not supported`),"* => *"}}(t,n);if("function"==typeof r)return void e.push(r);t=r}const r=t.match(/^(\*|[-\w]+)\s*(<?[=-]>)\s*(\*|[-\w]+)$/);if(null==r||r.length<4)return n.push(`The provided transition expression "${t}" is not supported`),e;const i=r[1],o=r[2],s=r[3];e.push(hB(i,s)),"<"!=o[0]||i==aB&&s==aB||e.push(hB(s,i))})(t,n,e)):n.push(t),n}const uB=new Set(["true","1"]),cB=new Set(["false","0"]);function hB(t,e){const n=uB.has(t)||cB.has(t),r=uB.has(e)||cB.has(e);return(i,o)=>{let s=t==aB||t==i,a=e==aB||e==o;return!s&&n&&"boolean"==typeof i&&(s=i?uB.has(t):cB.has(t)),!a&&r&&"boolean"==typeof o&&(a=o?uB.has(e):cB.has(e)),s&&a}}const pB=":self",dB=new RegExp(`s*${pB}s*,?`,"g");function fB(t,e,n){return new mB(t).build(e,n)}const gB="";class mB{constructor(t){this._driver=t}build(t,e){const n=new yB(e);return this._resetContextStyleTimingState(n),oB(this,QD(t),n)}_resetContextStyleTimingState(t){t.currentQuerySelector=gB,t.collectedStyles={},t.collectedStyles[gB]={},t.currentTime=0}visitTrigger(t,e){let n=e.queryCount=0,r=e.depCount=0;const i=[],o=[];return"@"==t.name.charAt(0)&&e.errors.push("animation triggers cannot be prefixed with an `@` sign (e.g. trigger('@foo', [...]))"),t.definitions.forEach(t=>{if(this._resetContextStyleTimingState(e),0==t.type){const n=t,r=n.name;r.toString().split(/\s*,\s*/).forEach(t=>{n.name=t,i.push(this.visitState(n,e))}),n.name=r}else if(1==t.type){const i=this.visitTransition(t,e);n+=i.queryCount,r+=i.depCount,o.push(i)}else e.errors.push("only state() and transition() definitions can sit inside of a trigger()")}),{type:7,name:t.name,states:i,transitions:o,queryCount:n,depCount:r,options:null}}visitState(t,e){const n=this.visitStyle(t.styles,e),r=t.options&&t.options.params||null;if(n.containsDynamicStyles){const i=new Set,o=r||{};if(n.styles.forEach(t=>{if(vB(t)){const e=t;Object.keys(e).forEach(t=>{KD(e[t]).forEach(t=>{o.hasOwnProperty(t)||i.add(t)})})}}),i.size){const n=tB(i.values());e.errors.push(`state("${t.name}", ...) must define default values for all the following style substitutions: ${n.join(", ")}`)}}return{type:0,name:t.name,style:n,options:r?{params:r}:null}}visitTransition(t,e){e.queryCount=0,e.depCount=0;const n=oB(this,QD(t.animation),e);return{type:1,matchers:lB(t.expr,e.errors),animation:n,queryCount:e.queryCount,depCount:e.depCount,options:_B(t.options)}}visitSequence(t,e){return{type:2,steps:t.steps.map(t=>oB(this,t,e)),options:_B(t.options)}}visitGroup(t,e){const n=e.currentTime;let r=0;const i=t.steps.map(t=>{e.currentTime=n;const i=oB(this,t,e);return r=Math.max(r,e.currentTime),i});return e.currentTime=r,{type:3,steps:i,options:_B(t.options)}}visitAnimate(t,e){const n=function(t,e){let n=null;if(t.hasOwnProperty("duration"))n=t;else if("number"==typeof t)return bB(VD(t,e).duration,0,"");const r=t;if(r.split(/\s+/).some(t=>"{"==t.charAt(0)&&"{"==t.charAt(1))){const t=bB(0,0,"");return t.dynamic=!0,t.strValue=r,t}return n=n||VD(r,e),bB(n.duration,n.delay,n.easing)}(t.timings,e.errors);let r;e.currentAnimateTimings=n;let i=t.styles?t.styles:Ok({});if(5==i.type)r=this.visitKeyframes(i,e);else{let i=t.styles,o=!1;if(!i){o=!0;const t={};n.easing&&(t.easing=n.easing),i=Ok(t)}e.currentTime+=n.duration+n.delay;const s=this.visitStyle(i,e);s.isEmptyStep=o,r=s}return e.currentAnimateTimings=null,{type:4,timings:n,style:r,options:null}}visitStyle(t,e){const n=this._makeStyleAst(t,e);return this._validateStyleAst(n,e),n}_makeStyleAst(t,e){const n=[];Array.isArray(t.styles)?t.styles.forEach(t=>{"string"==typeof t?t==Ak?n.push(t):e.errors.push(`The provided style string value ${t} is not allowed.`):n.push(t)}):n.push(t.styles);let r=!1,i=null;return n.forEach(t=>{if(vB(t)){const e=t,n=e.easing;if(n&&(i=n,delete e.easing),!r)for(let t in e)if(e[t].toString().indexOf(DD)>=0){r=!0;break}}}),{type:6,styles:n,easing:i,offset:t.offset,containsDynamicStyles:r,options:null}}_validateStyleAst(t,e){const n=e.currentAnimateTimings;let r=e.currentTime,i=e.currentTime;n&&i>0&&(i-=n.duration+n.delay),t.styles.forEach(t=>{"string"!=typeof t&&Object.keys(t).forEach(n=>{if(!this._driver.validateStyleProperty(n))return void e.errors.push(`The provided animation property "${n}" is not a supported CSS property for animations`);const o=e.collectedStyles[e.currentQuerySelector],s=o[n];let a=!0;s&&(i!=r&&i>=s.startTime&&r<=s.endTime&&(e.errors.push(`The CSS property "${n}" that exists between the times of "${s.startTime}ms" and "${s.endTime}ms" is also being animated in a parallel animation between the times of "${i}ms" and "${r}ms"`),a=!1),i=s.startTime),a&&(o[n]={startTime:i,endTime:r}),e.options&&function(t,e,n){const r=e.params||{},i=KD(t);i.length&&i.forEach(t=>{r.hasOwnProperty(t)||n.push(`Unable to resolve the local animation param ${t} in the given list of values`)})}(t[n],e.options,e.errors)})})}visitKeyframes(t,e){const n={type:5,styles:[],options:null};if(!e.currentAnimateTimings)return e.errors.push("keyframes() must be placed inside of a call to animate()"),n;let r=0;const i=[];let o=!1,s=!1,a=0;const l=t.steps.map(t=>{const n=this._makeStyleAst(t,e);let l=null!=n.offset?n.offset:function(t){if("string"==typeof t)return null;let e=null;if(Array.isArray(t))t.forEach(t=>{if(vB(t)&&t.hasOwnProperty("offset")){const n=t;e=parseFloat(n.offset),delete n.offset}});else if(vB(t)&&t.hasOwnProperty("offset")){const n=t;e=parseFloat(n.offset),delete n.offset}return e}(n.styles),u=0;return null!=l&&(r++,u=n.offset=l),s=s||u<0||u>1,o=o||u<a,a=u,i.push(u),n});s&&e.errors.push("Please ensure that all keyframe offsets are between 0 and 1"),o&&e.errors.push("Please ensure that all keyframe offsets are in order");const u=t.steps.length;let c=0;r>0&&r<u?e.errors.push("Not all style() steps within the declared keyframes() contain offsets"):0==r&&(c=1/(u-1));const h=u-1,p=e.currentTime,d=e.currentAnimateTimings,f=d.duration;return l.forEach((t,r)=>{const o=c>0?r==h?1:c*r:i[r],s=o*f;e.currentTime=p+d.delay+s,d.duration=s,this._validateStyleAst(t,e),t.offset=o,n.styles.push(t)}),n}visitReference(t,e){return{type:8,animation:oB(this,QD(t.animation),e),options:_B(t.options)}}visitAnimateChild(t,e){return e.depCount++,{type:9,options:_B(t.options)}}visitAnimateRef(t,e){return{type:10,animation:this.visitReference(t.animation,e),options:_B(t.options)}}visitQuery(t,e){const n=e.currentQuerySelector,r=t.options||{};e.queryCount++,e.currentQuery=t;const[i,o]=function(t){const e=!!t.split(/\s*,\s*/).find(t=>t==pB);return e&&(t=t.replace(dB,"")),[t=t.replace(/@\*/g,zD).replace(/@\w+/g,t=>zD+"-"+t.substr(1)).replace(/:animating/g,HD),e]}(t.selector);e.currentQuerySelector=n.length?n+" "+i:i,vD(e.collectedStyles,e.currentQuerySelector,{});const s=oB(this,QD(t.animation),e);return e.currentQuery=null,e.currentQuerySelector=n,{type:11,selector:i,limit:r.limit||0,optional:!!r.optional,includeSelf:o,animation:s,originalSelector:t.selector,options:_B(t.options)}}visitStagger(t,e){e.currentQuery||e.errors.push("stagger() can only be used inside of query()");const n="full"===t.timings?{duration:0,delay:0,easing:"full"}:VD(t.timings,e.errors,!0);return{type:12,animation:oB(this,QD(t.animation),e),timings:n,options:null}}}class yB{constructor(t){this.errors=t,this.queryCount=0,this.depCount=0,this.currentTransition=null,this.currentQuery=null,this.currentQuerySelector=null,this.currentAnimateTimings=null,this.currentTime=0,this.collectedStyles={},this.options=null}}function vB(t){return!Array.isArray(t)&&"object"==typeof t}function _B(t){var e;return t?(t=UD(t)).params&&(t.params=(e=t.params)?UD(e):null):t={},t}function bB(t,e,n){return{duration:t,delay:e,easing:n}}function wB(t,e,n,r,i,o,s=null,a=!1){return{type:1,element:t,keyframes:e,preStyleProps:n,postStyleProps:r,duration:i,delay:o,totalTime:i+o,easing:s,subTimeline:a}}class CB{constructor(){this._map=new Map}consume(t){let e=this._map.get(t);return e?this._map.delete(t):e=[],e}append(t,e){let n=this._map.get(t);n||this._map.set(t,n=[]),n.push(...e)}has(t){return this._map.has(t)}clear(){this._map.clear()}}const xB=1,SB=new RegExp(":enter","g"),PB=new RegExp(":leave","g");function IB(t,e,n,r,i,o={},s={},a,l,u=[]){return(new EB).buildKeyframes(t,e,n,r,i,o,s,a,l,u)}class EB{buildKeyframes(t,e,n,r,i,o,s,a,l,u=[]){l=l||new CB;const c=new AB(t,e,l,r,i,u,[]);c.options=a,c.currentTimeline.setStyles([o],null,c.errors,a),oB(this,n,c);const h=c.timelines.filter(t=>t.containsAnimation());if(h.length&&Object.keys(s).length){const t=h[h.length-1];t.allowOnlyTimelineStyles()||t.setStyles([s],null,c.errors,a)}return h.length?h.map(t=>t.buildKeyframes()):[wB(e,[],[],[],0,0,"",!1)]}visitTrigger(t,e){}visitState(t,e){}visitTransition(t,e){}visitAnimateChild(t,e){const n=e.subInstructions.consume(e.element);if(n){const r=e.createSubContext(t.options),i=e.currentTimeline.currentTime,o=this._visitSubInstructions(n,r,r.options);i!=o&&e.transformIntoNewTimeline(o)}e.previousNode=t}visitAnimateRef(t,e){const n=e.createSubContext(t.options);n.transformIntoNewTimeline(),this.visitReference(t.animation,n),e.transformIntoNewTimeline(n.currentTimeline.currentTime),e.previousNode=t}_visitSubInstructions(t,e,n){let r=e.currentTimeline.currentTime;const i=null!=n.duration?ND(n.duration):null,o=null!=n.delay?ND(n.delay):null;return 0!==i&&t.forEach(t=>{const n=e.appendInstructionToTimeline(t,i,o);r=Math.max(r,n.duration+n.delay)}),r}visitReference(t,e){e.updateOptions(t.options,!0),oB(this,t.animation,e),e.previousNode=t}visitSequence(t,e){const n=e.subContextCount;let r=e;const i=t.options;if(i&&(i.params||i.delay)&&(r=e.createSubContext(i),r.transformIntoNewTimeline(),null!=i.delay)){6==r.previousNode.type&&(r.currentTimeline.snapshotCurrentStyles(),r.previousNode=TB);const t=ND(i.delay);r.delayNextStep(t)}t.steps.length&&(t.steps.forEach(t=>oB(this,t,r)),r.currentTimeline.applyStylesToKeyframe(),r.subContextCount>n&&r.transformIntoNewTimeline()),e.previousNode=t}visitGroup(t,e){const n=[];let r=e.currentTimeline.currentTime;const i=t.options&&t.options.delay?ND(t.options.delay):0;t.steps.forEach(o=>{const s=e.createSubContext(t.options);i&&s.delayNextStep(i),oB(this,o,s),r=Math.max(r,s.currentTimeline.currentTime),n.push(s.currentTimeline)}),n.forEach(t=>e.currentTimeline.mergeTimelineCollectedStyles(t)),e.transformIntoNewTimeline(r),e.previousNode=t}_visitTiming(t,e){if(t.dynamic){const n=t.strValue;return VD(e.params?JD(n,e.params,e.errors):n,e.errors)}return{duration:t.duration,delay:t.delay,easing:t.easing}}visitAnimate(t,e){const n=e.currentAnimateTimings=this._visitTiming(t.timings,e),r=e.currentTimeline;n.delay&&(e.incrementTime(n.delay),r.snapshotCurrentStyles());const i=t.style;5==i.type?this.visitKeyframes(i,e):(e.incrementTime(n.duration),this.visitStyle(i,e),r.applyStylesToKeyframe()),e.currentAnimateTimings=null,e.previousNode=t}visitStyle(t,e){const n=e.currentTimeline,r=e.currentAnimateTimings;!r&&n.getCurrentStyleProperties().length&&n.forwardFrame();const i=r&&r.easing||t.easing;t.isEmptyStep?n.applyEmptyStep(i):n.setStyles(t.styles,i,e.errors,e.options),e.previousNode=t}visitKeyframes(t,e){const n=e.currentAnimateTimings,r=e.currentTimeline.duration,i=n.duration,o=e.createSubContext().currentTimeline;o.easing=n.easing,t.styles.forEach(t=>{o.forwardTime((t.offset||0)*i),o.setStyles(t.styles,t.easing,e.errors,e.options),o.applyStylesToKeyframe()}),e.currentTimeline.mergeTimelineCollectedStyles(o),e.transformIntoNewTimeline(r+i),e.previousNode=t}visitQuery(t,e){const n=e.currentTimeline.currentTime,r=t.options||{},i=r.delay?ND(r.delay):0;i&&(6===e.previousNode.type||0==n&&e.currentTimeline.getCurrentStyleProperties().length)&&(e.currentTimeline.snapshotCurrentStyles(),e.previousNode=TB);let o=n;const s=e.invokeQuery(t.selector,t.originalSelector,t.limit,t.includeSelf,!!r.optional,e.errors);e.currentQueryTotal=s.length;let a=null;s.forEach((n,r)=>{e.currentQueryIndex=r;const s=e.createSubContext(t.options,n);i&&s.delayNextStep(i),n===e.element&&(a=s.currentTimeline),oB(this,t.animation,s),s.currentTimeline.applyStylesToKeyframe(),o=Math.max(o,s.currentTimeline.currentTime)}),e.currentQueryIndex=0,e.currentQueryTotal=0,e.transformIntoNewTimeline(o),a&&(e.currentTimeline.mergeTimelineCollectedStyles(a),e.currentTimeline.snapshotCurrentStyles()),e.previousNode=t}visitStagger(t,e){const n=e.parentContext,r=e.currentTimeline,i=t.timings,o=Math.abs(i.duration),s=o*(e.currentQueryTotal-1);let a=o*e.currentQueryIndex;switch(i.duration<0?"reverse":i.easing){case"reverse":a=s-a;break;case"full":a=n.currentStaggerTime}const l=e.currentTimeline;a&&l.delayNextStep(a);const u=l.currentTime;oB(this,t.animation,e),e.previousNode=t,n.currentStaggerTime=r.currentTime-u+(r.startTime-n.currentTimeline.startTime)}}const TB={};class AB{constructor(t,e,n,r,i,o,s,a){this._driver=t,this.element=e,this.subInstructions=n,this._enterClassName=r,this._leaveClassName=i,this.errors=o,this.timelines=s,this.parentContext=null,this.currentAnimateTimings=null,this.previousNode=TB,this.subContextCount=0,this.options={},this.currentQueryIndex=0,this.currentQueryTotal=0,this.currentStaggerTime=0,this.currentTimeline=a||new kB(this._driver,e,0),s.push(this.currentTimeline)}get params(){return this.options.params}updateOptions(t,e){if(!t)return;const n=t;let r=this.options;null!=n.duration&&(r.duration=ND(n.duration)),null!=n.delay&&(r.delay=ND(n.delay));const i=n.params;if(i){let t=r.params;t||(t=this.options.params={}),Object.keys(i).forEach(n=>{e&&t.hasOwnProperty(n)||(t[n]=JD(i[n],t,this.errors))})}}_copyOptions(){const t={};if(this.options){const e=this.options.params;if(e){const n=t.params={};Object.keys(e).forEach(t=>{n[t]=e[t]})}}return t}createSubContext(t=null,e,n){const r=e||this.element,i=new AB(this._driver,r,this.subInstructions,this._enterClassName,this._leaveClassName,this.errors,this.timelines,this.currentTimeline.fork(r,n||0));return i.previousNode=this.previousNode,i.currentAnimateTimings=this.currentAnimateTimings,i.options=this._copyOptions(),i.updateOptions(t),i.currentQueryIndex=this.currentQueryIndex,i.currentQueryTotal=this.currentQueryTotal,i.parentContext=this,this.subContextCount++,i}transformIntoNewTimeline(t){return this.previousNode=TB,this.currentTimeline=this.currentTimeline.fork(this.element,t),this.timelines.push(this.currentTimeline),this.currentTimeline}appendInstructionToTimeline(t,e,n){const r={duration:null!=e?e:t.duration,delay:this.currentTimeline.currentTime+(null!=n?n:0)+t.delay,easing:""},i=new OB(this._driver,t.element,t.keyframes,t.preStyleProps,t.postStyleProps,r,t.stretchStartingKeyframe);return this.timelines.push(i),r}incrementTime(t){this.currentTimeline.forwardTime(this.currentTimeline.duration+t)}delayNextStep(t){t>0&&this.currentTimeline.delayNextStep(t)}invokeQuery(t,e,n,r,i,o){let s=[];if(r&&s.push(this.element),t.length>0){t=(t=t.replace(SB,"."+this._enterClassName)).replace(PB,"."+this._leaveClassName);let e=this._driver.query(this.element,t,1!=n);0!==n&&(e=n<0?e.slice(e.length+n,e.length):e.slice(0,n)),s.push(...e)}return i||0!=s.length||o.push(`\`query("${e}")\` returned zero elements. (Use \`query("${e}", { optional: true })\` if you wish to allow this.)`),s}}class kB{constructor(t,e,n,r){this._driver=t,this.element=e,this.startTime=n,this._elementTimelineStylesLookup=r,this.duration=0,this._previousKeyframe={},this._currentKeyframe={},this._keyframes=new Map,this._styleSummary={},this._pendingStyles={},this._backFill={},this._currentEmptyStepKeyframe=null,this._elementTimelineStylesLookup||(this._elementTimelineStylesLookup=new Map),this._localTimelineStyles=Object.create(this._backFill,{}),this._globalTimelineStyles=this._elementTimelineStylesLookup.get(e),this._globalTimelineStyles||(this._globalTimelineStyles=this._localTimelineStyles,this._elementTimelineStylesLookup.set(e,this._localTimelineStyles)),this._loadKeyframe()}containsAnimation(){switch(this._keyframes.size){case 0:return!1;case 1:return this.getCurrentStyleProperties().length>0;default:return!0}}getCurrentStyleProperties(){return Object.keys(this._currentKeyframe)}get currentTime(){return this.startTime+this.duration}delayNextStep(t){const e=1==this._keyframes.size&&Object.keys(this._pendingStyles).length;this.duration||e?(this.forwardTime(this.currentTime+t),e&&this.snapshotCurrentStyles()):this.startTime+=t}fork(t,e){return this.applyStylesToKeyframe(),new kB(this._driver,t,e||this.currentTime,this._elementTimelineStylesLookup)}_loadKeyframe(){this._currentKeyframe&&(this._previousKeyframe=this._currentKeyframe),this._currentKeyframe=this._keyframes.get(this.duration),this._currentKeyframe||(this._currentKeyframe=Object.create(this._backFill,{}),this._keyframes.set(this.duration,this._currentKeyframe))}forwardFrame(){this.duration+=xB,this._loadKeyframe()}forwardTime(t){this.applyStylesToKeyframe(),this.duration=t,this._loadKeyframe()}_updateStyle(t,e){this._localTimelineStyles[t]=e,this._globalTimelineStyles[t]=e,this._styleSummary[t]={time:this.currentTime,value:e}}allowOnlyTimelineStyles(){return this._currentEmptyStepKeyframe!==this._currentKeyframe}applyEmptyStep(t){t&&(this._previousKeyframe.easing=t),Object.keys(this._globalTimelineStyles).forEach(t=>{this._backFill[t]=this._globalTimelineStyles[t]||Ak,this._currentKeyframe[t]=Ak}),this._currentEmptyStepKeyframe=this._currentKeyframe}setStyles(t,e,n,r){e&&(this._previousKeyframe.easing=e);const i=r&&r.params||{},o=function(t,e){const n={};let r;return t.forEach(t=>{"*"===t?(r=r||Object.keys(e),r.forEach(t=>{n[t]=Ak})):qD(t,!1,n)}),n}(t,this._globalTimelineStyles);Object.keys(o).forEach(t=>{const e=JD(o[t],i,n);this._pendingStyles[t]=e,this._localTimelineStyles.hasOwnProperty(t)||(this._backFill[t]=this._globalTimelineStyles.hasOwnProperty(t)?this._globalTimelineStyles[t]:Ak),this._updateStyle(t,e)})}applyStylesToKeyframe(){const t=this._pendingStyles,e=Object.keys(t);0!=e.length&&(this._pendingStyles={},e.forEach(e=>{this._currentKeyframe[e]=t[e]}),Object.keys(this._localTimelineStyles).forEach(t=>{this._currentKeyframe.hasOwnProperty(t)||(this._currentKeyframe[t]=this._localTimelineStyles[t])}))}snapshotCurrentStyles(){Object.keys(this._localTimelineStyles).forEach(t=>{const e=this._localTimelineStyles[t];this._pendingStyles[t]=e,this._updateStyle(t,e)})}getFinalKeyframe(){return this._keyframes.get(this.duration)}get properties(){const t=[];for(let e in this._currentKeyframe)t.push(e);return t}mergeTimelineCollectedStyles(t){Object.keys(t._styleSummary).forEach(e=>{const n=this._styleSummary[e],r=t._styleSummary[e];(!n||r.time>n.time)&&this._updateStyle(e,r.value)})}buildKeyframes(){this.applyStylesToKeyframe();const t=new Set,e=new Set,n=1===this._keyframes.size&&0===this.duration;let r=[];this._keyframes.forEach((i,o)=>{const s=qD(i,!0);Object.keys(s).forEach(n=>{const r=s[n];r==Bk?t.add(n):r==Ak&&e.add(n)}),n||(s.offset=o/this.duration),r.push(s)});const i=t.size?tB(t.values()):[],o=e.size?tB(e.values()):[];if(n){const t=r[0],e=UD(t);t.offset=0,e.offset=1,r=[t,e]}return wB(this.element,r,i,o,this.duration,this.startTime,this.easing,!1)}}class OB extends kB{constructor(t,e,n,r,i,o,s=!1){super(t,e,o.delay),this.element=e,this.keyframes=n,this.preStyleProps=r,this.postStyleProps=i,this._stretchStartingKeyframe=s,this.timings={duration:o.duration,delay:o.delay,easing:o.easing}}containsAnimation(){return this.keyframes.length>1}buildKeyframes(){let t=this.keyframes,{delay:e,duration:n,easing:r}=this.timings;if(this._stretchStartingKeyframe&&e){const i=[],o=n+e,s=e/o,a=qD(t[0],!1);a.offset=0,i.push(a);const l=qD(t[0],!1);l.offset=MB(s),i.push(l);const u=t.length-1;for(let r=1;r<=u;r++){let s=qD(t[r],!1);s.offset=MB((e+s.offset*n)/o),i.push(s)}n=o,e=0,r="",t=i}return wB(this.element,t,this.preStyleProps,this.postStyleProps,n,e,r,!0)}}function MB(t,e=3){const n=Math.pow(10,e-1);return Math.round(t*n)/n}class RB{}class DB extends RB{normalizePropertyName(t,e){return nB(t)}normalizeStyleValue(t,e,n,r){let i="";const o=n.toString().trim();if(BB[e]&&0!==n&&"0"!==n)if("number"==typeof n)i="px";else{const e=n.match(/^[+-]?[\d\.]+([a-z]*)$/);e&&0==e[1].length&&r.push(`Please provide a CSS unit value for ${t}:${n}`)}return o+i}}const BB=(()=>(function(t){const e={};return t.forEach(t=>e[t]=!0),e})("width,height,minWidth,minHeight,maxWidth,maxHeight,left,top,bottom,right,fontSize,outlineWidth,outlineOffset,paddingTop,paddingLeft,paddingBottom,paddingRight,marginTop,marginLeft,marginBottom,marginRight,borderRadius,borderWidth,borderTopWidth,borderLeftWidth,borderRightWidth,borderBottomWidth,textIndent,perspective".split(",")))();function jB(t,e,n,r,i,o,s,a,l,u,c,h,p){return{type:0,element:t,triggerName:e,isRemovalTransition:i,fromState:n,fromStyles:o,toState:r,toStyles:s,timelines:a,queriedElements:l,preStyleProps:u,postStyleProps:c,totalTime:h,errors:p}}const FB={};class zB{constructor(t,e,n){this._triggerName=t,this.ast=e,this._stateStyles=n}match(t,e,n,r){return function(t,e,n,r,i){return t.some(t=>t(e,n,r,i))}(this.ast.matchers,t,e,n,r)}buildStyles(t,e,n){const r=this._stateStyles["*"],i=this._stateStyles[t],o=r?r.buildStyles(e,n):{};return i?i.buildStyles(e,n):o}build(t,e,n,r,i,o,s,a,l,u){const c=[],h=this.ast.options&&this.ast.options.params||FB,p=this.buildStyles(n,s&&s.params||FB,c),d=a&&a.params||FB,f=this.buildStyles(r,d,c),g=new Set,m=new Map,y=new Map,v="void"===r,_={params:Object.assign({},h,d)},b=u?[]:IB(t,e,this.ast.animation,i,o,p,f,_,l,c);let w=0;if(b.forEach(t=>{w=Math.max(t.duration+t.delay,w)}),c.length)return jB(e,this._triggerName,n,r,v,p,f,[],[],m,y,w,c);b.forEach(t=>{const n=t.element,r=vD(m,n,{});t.preStyleProps.forEach(t=>r[t]=!0);const i=vD(y,n,{});t.postStyleProps.forEach(t=>i[t]=!0),n!==e&&g.add(n)});const C=tB(g.values());return jB(e,this._triggerName,n,r,v,p,f,b,C,m,y,w)}}class LB{constructor(t,e){this.styles=t,this.defaultParams=e}buildStyles(t,e){const n={},r=UD(this.defaultParams);return Object.keys(t).forEach(e=>{const n=t[e];null!=n&&(r[e]=n)}),this.styles.styles.forEach(t=>{if("string"!=typeof t){const i=t;Object.keys(i).forEach(t=>{let o=i[t];o.length>1&&(o=JD(o,r,e)),n[t]=o})}}),n}}class HB{constructor(t,e){this.name=t,this.ast=e,this.transitionFactories=[],this.states={},e.states.forEach(t=>{this.states[t.name]=new LB(t.style,t.options&&t.options.params||{})}),NB(this.states,"true","1"),NB(this.states,"false","0"),e.transitions.forEach(e=>{this.transitionFactories.push(new zB(t,e,this.states))}),this.fallbackTransition=new zB(t,{type:1,animation:{type:2,steps:[],options:null},matchers:[(t,e)=>!0],options:null,queryCount:0,depCount:0},this.states)}get containsQueries(){return this.ast.queryCount>0}matchTransition(t,e,n,r){return this.transitionFactories.find(i=>i.match(t,e,n,r))||null}matchStyles(t,e,n){return this.fallbackTransition.buildStyles(t,e,n)}}function NB(t,e,n){t.hasOwnProperty(e)?t.hasOwnProperty(n)||(t[n]=t[e]):t.hasOwnProperty(n)&&(t[e]=t[n])}const WB=new CB;class VB{constructor(t,e,n){this.bodyNode=t,this._driver=e,this._normalizer=n,this._animations={},this._playersById={},this.players=[]}register(t,e){const n=[],r=fB(this._driver,e,n);if(n.length)throw new Error(`Unable to build the animation due to the following errors: ${n.join("\n")}`);this._animations[t]=r}_buildPlayer(t,e,n){const r=t.element,i=fD(0,this._normalizer,0,t.keyframes,e,n);return this._driver.animate(r,i,t.duration,t.delay,t.easing,[],!0)}create(t,e,n={}){const r=[],i=this._animations[t];let o;const s=new Map;if(i?(o=IB(this._driver,e,i,BD,jD,{},{},n,WB,r),o.forEach(t=>{const e=vD(s,t.element,{});t.postStyleProps.forEach(t=>e[t]=null)})):(r.push("The requested animation doesn't exist or has already been destroyed"),o=[]),r.length)throw new Error(`Unable to create the animation due to the following errors: ${r.join("\n")}`);s.forEach((t,e)=>{Object.keys(t).forEach(n=>{t[n]=this._driver.computeStyle(e,n,Ak)})});const a=dD(o.map(t=>{const e=s.get(t.element);return this._buildPlayer(t,{},e)}));return this._playersById[t]=a,a.onDestroy(()=>this.destroy(t)),this.players.push(a),a}destroy(t){const e=this._getPlayer(t);e.destroy(),delete this._playersById[t];const n=this.players.indexOf(e);n>=0&&this.players.splice(n,1)}_getPlayer(t){const e=this._playersById[t];if(!e)throw new Error(`Unable to find the timeline player referenced by ${t}`);return e}listen(t,e,n,r){const i=yD(e,"","","");return gD(this._getPlayer(t),n,i,r),()=>{}}command(t,e,n,r){if("register"==n)return void this.register(t,r[0]);if("create"==n)return void this.create(t,e,r[0]||{});const i=this._getPlayer(t);switch(n){case"play":i.play();break;case"pause":i.pause();break;case"reset":i.reset();break;case"restart":i.restart();break;case"finish":i.finish();break;case"init":i.init();break;case"setPosition":i.setPosition(parseFloat(r[0]));break;case"destroy":this.destroy(t)}}}const UB="ng-animate-queued",qB=".ng-animate-queued",GB="ng-animate-disabled",YB=".ng-animate-disabled",XB="ng-star-inserted",$B=".ng-star-inserted",QB=[],ZB={namespaceId:"",setForRemoval:!1,setForMove:!1,hasAnimation:!1,removedBeforeQueried:!1},KB={namespaceId:"",setForMove:!1,setForRemoval:!1,hasAnimation:!1,removedBeforeQueried:!0},JB="__ng_removed";class tj{constructor(t,e=""){this.namespaceId=e;const n=t&&t.hasOwnProperty("value");if(this.value=null!=(r=n?t.value:t)?r:null,n){const e=UD(t);delete e.value,this.options=e}else this.options={};var r;this.options.params||(this.options.params={})}get params(){return this.options.params}absorbOptions(t){const e=t.params;if(e){const t=this.options.params;Object.keys(e).forEach(n=>{null==t[n]&&(t[n]=e[n])})}}}const ej="void",nj=new tj(ej);class rj{constructor(t,e,n){this.id=t,this.hostElement=e,this._engine=n,this.players=[],this._triggers={},this._queue=[],this._elementListeners=new Map,this._hostClassName="ng-tns-"+t,hj(e,this._hostClassName)}listen(t,e,n,r){if(!this._triggers.hasOwnProperty(e))throw new Error(`Unable to listen on the animation trigger event "${n}" because the animation trigger "${e}" doesn't exist!`);if(null==n||0==n.length)throw new Error(`Unable to listen on the animation trigger "${e}" because the provided event is undefined!`);if("start"!=(i=n)&&"done"!=i)throw new Error(`The provided animation trigger event "${n}" for the animation trigger "${e}" is not supported!`);var i;const o=vD(this._elementListeners,t,[]),s={name:e,phase:n,callback:r};o.push(s);const a=vD(this._engine.statesByElement,t,{});return a.hasOwnProperty(e)||(hj(t,FD),hj(t,FD+"-"+e),a[e]=nj),()=>{this._engine.afterFlush(()=>{const t=o.indexOf(s);t>=0&&o.splice(t,1),this._triggers[e]||delete a[e]})}}register(t,e){return!this._triggers[t]&&(this._triggers[t]=e,!0)}_getTrigger(t){const e=this._triggers[t];if(!e)throw new Error(`The provided animation trigger "${t}" has not been registered!`);return e}trigger(t,e,n,r=!0){const i=this._getTrigger(e),o=new oj(this.id,e,t);let s=this._engine.statesByElement.get(t);s||(hj(t,FD),hj(t,FD+"-"+e),this._engine.statesByElement.set(t,s={}));let a=s[e];const l=new tj(n,this.id);if(!(n&&n.hasOwnProperty("value"))&&a&&l.absorbOptions(a.options),s[e]=l,a||(a=nj),l.value!==ej&&a.value===l.value){if(!function(t,e){const n=Object.keys(t),r=Object.keys(e);if(n.length!=r.length)return!1;for(let i=0;i<n.length;i++){const r=n[i];if(!e.hasOwnProperty(r)||t[r]!==e[r])return!1}return!0}(a.params,l.params)){const e=[],n=i.matchStyles(a.value,a.params,e),r=i.matchStyles(l.value,l.params,e);e.length?this._engine.reportError(e):this._engine.afterFlush(()=>{$D(t,n),XD(t,r)})}return}const u=vD(this._engine.playersByElement,t,[]);u.forEach(t=>{t.namespaceId==this.id&&t.triggerName==e&&t.queued&&t.destroy()});let c=i.matchTransition(a.value,l.value,t,l.params),h=!1;if(!c){if(!r)return;c=i.fallbackTransition,h=!0}return this._engine.totalQueuedPlayers++,this._queue.push({element:t,triggerName:e,transition:c,fromState:a,toState:l,player:o,isFallbackTransition:h}),h||(hj(t,UB),o.onStart(()=>{pj(t,UB)})),o.onDone(()=>{let e=this.players.indexOf(o);e>=0&&this.players.splice(e,1);const n=this._engine.playersByElement.get(t);if(n){let t=n.indexOf(o);t>=0&&n.splice(t,1)}}),this.players.push(o),u.push(o),o}deregister(t){delete this._triggers[t],this._engine.statesByElement.forEach((e,n)=>{delete e[t]}),this._elementListeners.forEach((e,n)=>{this._elementListeners.set(n,e.filter(e=>e.name!=t))})}clearElementCache(t){this._engine.statesByElement.delete(t),this._elementListeners.delete(t);const e=this._engine.playersByElement.get(t);e&&(e.forEach(t=>t.destroy()),this._engine.playersByElement.delete(t))}_signalRemovalForInnerTriggers(t,e,n=!1){this._engine.driver.query(t,zD,!0).forEach(t=>{if(t[JB])return;const n=this._engine.fetchNamespacesByElement(t);n.size?n.forEach(n=>n.triggerLeaveAnimation(t,e,!1,!0)):this.clearElementCache(t)})}triggerLeaveAnimation(t,e,n,r){const i=this._engine.statesByElement.get(t);if(i){const o=[];if(Object.keys(i).forEach(e=>{if(this._triggers[e]){const n=this.trigger(t,e,ej,r);n&&o.push(n)}}),o.length)return this._engine.markElementAsRemoved(this.id,t,!0,e),n&&dD(o).onDone(()=>this._engine.processLeaveNode(t)),!0}return!1}prepareLeaveAnimationListeners(t){const e=this._elementListeners.get(t);if(e){const n=new Set;e.forEach(e=>{const r=e.name;if(n.has(r))return;n.add(r);const i=this._triggers[r].fallbackTransition,o=this._engine.statesByElement.get(t)[r]||nj,s=new tj(ej),a=new oj(this.id,r,t);this._engine.totalQueuedPlayers++,this._queue.push({element:t,triggerName:r,transition:i,fromState:o,toState:s,player:a,isFallbackTransition:!0})})}}removeNode(t,e){const n=this._engine;if(t.childElementCount&&this._signalRemovalForInnerTriggers(t,e,!0),this.triggerLeaveAnimation(t,e,!0))return;let r=!1;if(n.totalAnimations){const e=n.players.length?n.playersByQueriedElement.get(t):[];if(e&&e.length)r=!0;else{let e=t;for(;e=e.parentNode;)if(n.statesByElement.get(e)){r=!0;break}}}this.prepareLeaveAnimationListeners(t),r?n.markElementAsRemoved(this.id,t,!1,e):(n.afterFlush(()=>this.clearElementCache(t)),n.destroyInnerAnimations(t),n._onRemovalComplete(t,e))}insertNode(t,e){hj(t,this._hostClassName)}drainQueuedTransitions(t){const e=[];return this._queue.forEach(n=>{const r=n.player;if(r.destroyed)return;const i=n.element,o=this._elementListeners.get(i);o&&o.forEach(e=>{if(e.name==n.triggerName){const r=yD(i,n.triggerName,n.fromState.value,n.toState.value);r._data=t,gD(n.player,e.phase,r,e.callback)}}),r.markedForDestroy?this._engine.afterFlush(()=>{r.destroy()}):e.push(n)}),this._queue=[],e.sort((t,e)=>{const n=t.transition.ast.depCount,r=e.transition.ast.depCount;return 0==n||0==r?n-r:this._engine.driver.containsElement(t.element,e.element)?1:-1})}destroy(t){this.players.forEach(t=>t.destroy()),this._signalRemovalForInnerTriggers(this.hostElement,t)}elementContainsData(t){let e=!1;return this._elementListeners.has(t)&&(e=!0),e=!!this._queue.find(e=>e.element===t)||e,e}}class ij{constructor(t,e,n){this.bodyNode=t,this.driver=e,this._normalizer=n,this.players=[],this.newHostElements=new Map,this.playersByElement=new Map,this.playersByQueriedElement=new Map,this.statesByElement=new Map,this.disabledNodes=new Set,this.totalAnimations=0,this.totalQueuedPlayers=0,this._namespaceLookup={},this._namespaceList=[],this._flushFns=[],this._whenQuietFns=[],this.namespacesByHostElement=new Map,this.collectedEnterElements=[],this.collectedLeaveElements=[],this.onRemovalComplete=(t,e)=>{}}_onRemovalComplete(t,e){this.onRemovalComplete(t,e)}get queuedPlayers(){const t=[];return this._namespaceList.forEach(e=>{e.players.forEach(e=>{e.queued&&t.push(e)})}),t}createNamespace(t,e){const n=new rj(t,e,this);return e.parentNode?this._balanceNamespaceList(n,e):(this.newHostElements.set(e,n),this.collectEnterElement(e)),this._namespaceLookup[t]=n}_balanceNamespaceList(t,e){const n=this._namespaceList.length-1;if(n>=0){let r=!1;for(let i=n;i>=0;i--)if(this.driver.containsElement(this._namespaceList[i].hostElement,e)){this._namespaceList.splice(i+1,0,t),r=!0;break}r||this._namespaceList.splice(0,0,t)}else this._namespaceList.push(t);return this.namespacesByHostElement.set(e,t),t}register(t,e){let n=this._namespaceLookup[t];return n||(n=this.createNamespace(t,e)),n}registerTrigger(t,e,n){let r=this._namespaceLookup[t];r&&r.register(e,n)&&this.totalAnimations++}destroy(t,e){if(!t)return;const n=this._fetchNamespace(t);this.afterFlush(()=>{this.namespacesByHostElement.delete(n.hostElement),delete this._namespaceLookup[t];const e=this._namespaceList.indexOf(n);e>=0&&this._namespaceList.splice(e,1)}),this.afterFlushAnimationsDone(()=>n.destroy(e))}_fetchNamespace(t){return this._namespaceLookup[t]}fetchNamespacesByElement(t){const e=new Set,n=this.statesByElement.get(t);if(n){const t=Object.keys(n);for(let r=0;r<t.length;r++){const i=n[t[r]].namespaceId;if(i){const t=this._fetchNamespace(i);t&&e.add(t)}}}return e}trigger(t,e,n,r){if(sj(e)){const i=this._fetchNamespace(t);if(i)return i.trigger(e,n,r),!0}return!1}insertNode(t,e,n,r){if(!sj(e))return;const i=e[JB];if(i&&i.setForRemoval){i.setForRemoval=!1,i.setForMove=!0;const t=this.collectedLeaveElements.indexOf(e);t>=0&&this.collectedLeaveElements.splice(t,1)}if(t){const r=this._fetchNamespace(t);r&&r.insertNode(e,n)}r&&this.collectEnterElement(e)}collectEnterElement(t){this.collectedEnterElements.push(t)}markElementAsDisabled(t,e){e?this.disabledNodes.has(t)||(this.disabledNodes.add(t),hj(t,GB)):this.disabledNodes.has(t)&&(this.disabledNodes.delete(t),pj(t,GB))}removeNode(t,e,n,r){if(sj(e)){const i=t?this._fetchNamespace(t):null;if(i?i.removeNode(e,r):this.markElementAsRemoved(t,e,!1,r),n){const n=this.namespacesByHostElement.get(e);n&&n.id!==t&&n.removeNode(e,r)}}else this._onRemovalComplete(e,r)}markElementAsRemoved(t,e,n,r){this.collectedLeaveElements.push(e),e[JB]={namespaceId:t,setForRemoval:r,hasAnimation:n,removedBeforeQueried:!1}}listen(t,e,n,r,i){return sj(e)?this._fetchNamespace(t).listen(e,n,r,i):()=>{}}_buildInstruction(t,e,n,r,i){return t.transition.build(this.driver,t.element,t.fromState.value,t.toState.value,n,r,t.fromState.options,t.toState.options,e,i)}destroyInnerAnimations(t){let e=this.driver.query(t,zD,!0);e.forEach(t=>this.destroyActiveAnimationsForElement(t)),0!=this.playersByQueriedElement.size&&(e=this.driver.query(t,HD,!0),e.forEach(t=>this.finishActiveQueriedAnimationOnElement(t)))}destroyActiveAnimationsForElement(t){const e=this.playersByElement.get(t);e&&e.forEach(t=>{t.queued?t.markedForDestroy=!0:t.destroy()})}finishActiveQueriedAnimationOnElement(t){const e=this.playersByQueriedElement.get(t);e&&e.forEach(t=>t.finish())}whenRenderingDone(){return new Promise(t=>{if(this.players.length)return dD(this.players).onDone(()=>t());t()})}processLeaveNode(t){const e=t[JB];if(e&&e.setForRemoval){if(t[JB]=ZB,e.namespaceId){this.destroyInnerAnimations(t);const n=this._fetchNamespace(e.namespaceId);n&&n.clearElementCache(t)}this._onRemovalComplete(t,e.setForRemoval)}this.driver.matchesElement(t,YB)&&this.markElementAsDisabled(t,!1),this.driver.query(t,YB,!0).forEach(t=>{this.markElementAsDisabled(t,!1)})}flush(t=-1){let e=[];if(this.newHostElements.size&&(this.newHostElements.forEach((t,e)=>this._balanceNamespaceList(t,e)),this.newHostElements.clear()),this.totalAnimations&&this.collectedEnterElements.length)for(let n=0;n<this.collectedEnterElements.length;n++)hj(this.collectedEnterElements[n],XB);if(this._namespaceList.length&&(this.totalQueuedPlayers||this.collectedLeaveElements.length)){const n=[];try{e=this._flushAnimations(n,t)}finally{for(let t=0;t<n.length;t++)n[t]()}}else for(let n=0;n<this.collectedLeaveElements.length;n++)this.processLeaveNode(this.collectedLeaveElements[n]);if(this.totalQueuedPlayers=0,this.collectedEnterElements.length=0,this.collectedLeaveElements.length=0,this._flushFns.forEach(t=>t()),this._flushFns=[],this._whenQuietFns.length){const t=this._whenQuietFns;this._whenQuietFns=[],e.length?dD(e).onDone(()=>{t.forEach(t=>t())}):t.forEach(t=>t())}}reportError(t){throw new Error(`Unable to process animations due to the following failed trigger transitions\n ${t.join("\n")}`)}_flushAnimations(t,e){const n=new CB,r=[],i=new Map,o=[],s=new Map,a=new Map,l=new Map,u=new Set;this.disabledNodes.forEach(t=>{u.add(t);const e=this.driver.query(t,qB,!0);for(let n=0;n<e.length;n++)u.add(e[n])});const c=this.bodyNode,h=Array.from(this.statesByElement.keys()),p=uj(h,this.collectedEnterElements),d=new Map;let f=0;p.forEach((t,e)=>{const n=BD+f++;d.set(e,n),t.forEach(t=>hj(t,n))});const g=[],m=new Set,y=new Set;for(let k=0;k<this.collectedLeaveElements.length;k++){const t=this.collectedLeaveElements[k],e=t[JB];e&&e.setForRemoval&&(g.push(t),m.add(t),e.hasAnimation?this.driver.query(t,$B,!0).forEach(t=>m.add(t)):y.add(t))}const v=new Map,_=uj(h,Array.from(m));_.forEach((t,e)=>{const n=jD+f++;v.set(e,n),t.forEach(t=>hj(t,n))}),t.push(()=>{p.forEach((t,e)=>{const n=d.get(e);t.forEach(t=>pj(t,n))}),_.forEach((t,e)=>{const n=v.get(e);t.forEach(t=>pj(t,n))}),g.forEach(t=>{this.processLeaveNode(t)})});const b=[],w=[];for(let k=this._namespaceList.length-1;k>=0;k--)this._namespaceList[k].drainQueuedTransitions(e).forEach(t=>{const e=t.player,i=t.element;if(b.push(e),this.collectedEnterElements.length){const t=i[JB];if(t&&t.setForMove)return void e.destroy()}const u=!c||!this.driver.containsElement(c,i),h=v.get(i),p=d.get(i),f=this._buildInstruction(t,n,p,h,u);if(!f.errors||!f.errors.length)return u?(e.onStart(()=>$D(i,f.fromStyles)),e.onDestroy(()=>XD(i,f.toStyles)),void r.push(e)):t.isFallbackTransition?(e.onStart(()=>$D(i,f.fromStyles)),e.onDestroy(()=>XD(i,f.toStyles)),void r.push(e)):(f.timelines.forEach(t=>t.stretchStartingKeyframe=!0),n.append(i,f.timelines),o.push({instruction:f,player:e,element:i}),f.queriedElements.forEach(t=>vD(s,t,[]).push(e)),f.preStyleProps.forEach((t,e)=>{const n=Object.keys(t);if(n.length){let t=a.get(e);t||a.set(e,t=new Set),n.forEach(e=>t.add(e))}}),void f.postStyleProps.forEach((t,e)=>{const n=Object.keys(t);let r=l.get(e);r||l.set(e,r=new Set),n.forEach(t=>r.add(t))}));w.push(f)});if(w.length){const t=[];w.forEach(e=>{t.push(`@${e.triggerName} has failed due to:\n`),e.errors.forEach(e=>t.push(`- ${e}\n`))}),b.forEach(t=>t.destroy()),this.reportError(t)}const C=new Map,x=new Map;o.forEach(t=>{const e=t.element;n.has(e)&&(x.set(e,e),this._beforeAnimationBuild(t.player.namespaceId,t.instruction,C))}),r.forEach(t=>{const e=t.element;this._getPreviousPlayers(e,!1,t.namespaceId,t.triggerName,null).forEach(t=>{vD(C,e,[]).push(t),t.destroy()})});const S=g.filter(t=>fj(t,a,l)),P=new Map;lj(P,this.driver,y,l,Ak).forEach(t=>{fj(t,a,l)&&S.push(t)});const I=new Map;p.forEach((t,e)=>{lj(I,this.driver,new Set(t),a,Bk)}),S.forEach(t=>{const e=P.get(t),n=I.get(t);P.set(t,Object.assign({},e,n))});const E=[],T=[],A={};o.forEach(t=>{const{element:e,player:o,instruction:s}=t;if(n.has(e)){if(u.has(e))return o.onDestroy(()=>XD(e,s.toStyles)),o.disabled=!0,o.overrideTotalTime(s.totalTime),void r.push(o);let t=A;if(x.size>1){let n=e;const r=[];for(;n=n.parentNode;){const e=x.get(n);if(e){t=e;break}r.push(n)}r.forEach(e=>x.set(e,t))}const n=this._buildAnimation(o.namespaceId,s,C,i,I,P);if(o.setRealPlayer(n),t===A)E.push(o);else{const e=this.playersByElement.get(t);e&&e.length&&(o.parentPlayer=dD(e)),r.push(o)}}else $D(e,s.fromStyles),o.onDestroy(()=>XD(e,s.toStyles)),T.push(o),u.has(e)&&r.push(o)}),T.forEach(t=>{const e=i.get(t.element);if(e&&e.length){const n=dD(e);t.setRealPlayer(n)}}),r.forEach(t=>{t.parentPlayer?t.syncPlayerEvents(t.parentPlayer):t.destroy()});for(let k=0;k<g.length;k++){const t=g[k],e=t[JB];if(pj(t,jD),e&&e.hasAnimation)continue;let n=[];if(s.size){let e=s.get(t);e&&e.length&&n.push(...e);let r=this.driver.query(t,HD,!0);for(let t=0;t<r.length;t++){let e=s.get(r[t]);e&&e.length&&n.push(...e)}}const r=n.filter(t=>!t.destroyed);r.length?dj(this,t,r):this.processLeaveNode(t)}return g.length=0,E.forEach(t=>{this.players.push(t),t.onDone(()=>{t.destroy();const e=this.players.indexOf(t);this.players.splice(e,1)}),t.play()}),E}elementContainsData(t,e){let n=!1;const r=e[JB];return r&&r.setForRemoval&&(n=!0),this.playersByElement.has(e)&&(n=!0),this.playersByQueriedElement.has(e)&&(n=!0),this.statesByElement.has(e)&&(n=!0),this._fetchNamespace(t).elementContainsData(e)||n}afterFlush(t){this._flushFns.push(t)}afterFlushAnimationsDone(t){this._whenQuietFns.push(t)}_getPreviousPlayers(t,e,n,r,i){let o=[];if(e){const e=this.playersByQueriedElement.get(t);e&&(o=e)}else{const e=this.playersByElement.get(t);if(e){const t=!i||i==ej;e.forEach(e=>{e.queued||(t||e.triggerName==r)&&o.push(e)})}}return(n||r)&&(o=o.filter(t=>!(n&&n!=t.namespaceId||r&&r!=t.triggerName))),o}_beforeAnimationBuild(t,e,n){const r=e.element,i=e.isRemovalTransition?void 0:t,o=e.isRemovalTransition?void 0:e.triggerName;for(const s of e.timelines){const t=s.element,a=t!==r,l=vD(n,t,[]);this._getPreviousPlayers(t,a,i,o,e.toState).forEach(t=>{const e=t.getRealPlayer();e.beforeDestroy&&e.beforeDestroy(),t.destroy(),l.push(t)})}$D(r,e.fromStyles)}_buildAnimation(t,e,n,r,i,o){const s=e.triggerName,a=e.element,l=[],u=new Set,c=new Set,h=e.timelines.map(e=>{const h=e.element;u.add(h);const p=h[JB];if(p&&p.removedBeforeQueried)return new Rk(e.duration,e.delay);const d=h!==a,f=function(t){const e=[];return function t(e,n){for(let r=0;r<e.length;r++){const i=e[r];i instanceof Dk?t(i.players,n):n.push(i)}}(t,e),e}((n.get(h)||QB).map(t=>t.getRealPlayer())).filter(t=>!!t.element&&t.element===h),g=i.get(h),m=o.get(h),y=fD(0,this._normalizer,0,e.keyframes,g,m),v=this._buildPlayer(e,y,f);if(e.subTimeline&&r&&c.add(h),d){const e=new oj(t,s,h);e.setRealPlayer(v),l.push(e)}return v});l.forEach(t=>{vD(this.playersByQueriedElement,t.element,[]).push(t),t.onDone(()=>(function(t,e,n){let r;if(t instanceof Map){if(r=t.get(e),r){if(r.length){const t=r.indexOf(n);r.splice(t,1)}0==r.length&&t.delete(e)}}else if(r=t[e],r){if(r.length){const t=r.indexOf(n);r.splice(t,1)}0==r.length&&delete t[e]}return r})(this.playersByQueriedElement,t.element,t))}),u.forEach(t=>hj(t,LD));const p=dD(h);return p.onDestroy(()=>{u.forEach(t=>pj(t,LD)),XD(a,e.toStyles)}),c.forEach(t=>{vD(r,t,[]).push(p)}),p}_buildPlayer(t,e,n){return e.length>0?this.driver.animate(t.element,e,t.duration,t.delay,t.easing,n):new Rk(t.duration,t.delay)}}class oj{constructor(t,e,n){this.namespaceId=t,this.triggerName=e,this.element=n,this._player=new Rk,this._containsRealPlayer=!1,this._queuedCallbacks={},this.destroyed=!1,this.markedForDestroy=!1,this.disabled=!1,this.queued=!0,this.totalTime=0}setRealPlayer(t){this._containsRealPlayer||(this._player=t,Object.keys(this._queuedCallbacks).forEach(e=>{this._queuedCallbacks[e].forEach(n=>gD(t,e,void 0,n))}),this._queuedCallbacks={},this._containsRealPlayer=!0,this.overrideTotalTime(t.totalTime),this.queued=!1)}getRealPlayer(){return this._player}overrideTotalTime(t){this.totalTime=t}syncPlayerEvents(t){const e=this._player;e.triggerCallback&&t.onStart(()=>e.triggerCallback("start")),t.onDone(()=>this.finish()),t.onDestroy(()=>this.destroy())}_queueEvent(t,e){vD(this._queuedCallbacks,t,[]).push(e)}onDone(t){this.queued&&this._queueEvent("done",t),this._player.onDone(t)}onStart(t){this.queued&&this._queueEvent("start",t),this._player.onStart(t)}onDestroy(t){this.queued&&this._queueEvent("destroy",t),this._player.onDestroy(t)}init(){this._player.init()}hasStarted(){return!this.queued&&this._player.hasStarted()}play(){!this.queued&&this._player.play()}pause(){!this.queued&&this._player.pause()}restart(){!this.queued&&this._player.restart()}finish(){this._player.finish()}destroy(){this.destroyed=!0,this._player.destroy()}reset(){!this.queued&&this._player.reset()}setPosition(t){this.queued||this._player.setPosition(t)}getPosition(){return this.queued?0:this._player.getPosition()}triggerCallback(t){const e=this._player;e.triggerCallback&&e.triggerCallback(t)}}function sj(t){return t&&1===t.nodeType}function aj(t,e){const n=t.style.display;return t.style.display=null!=e?e:"none",n}function lj(t,e,n,r,i){const o=[];n.forEach(t=>o.push(aj(t)));const s=[];r.forEach((n,r)=>{const o={};n.forEach(t=>{const n=o[t]=e.computeStyle(r,t,i);n&&0!=n.length||(r[JB]=KB,s.push(r))}),t.set(r,o)});let a=0;return n.forEach(t=>aj(t,o[a++])),s}function uj(t,e){const n=new Map;if(t.forEach(t=>n.set(t,[])),0==e.length)return n;const r=new Set(e),i=new Map;return e.forEach(t=>{const e=function t(e){if(!e)return 1;let o=i.get(e);if(o)return o;const s=e.parentNode;return o=n.has(s)?s:r.has(s)?1:t(s),i.set(e,o),o}(t);1!==e&&n.get(e).push(t)}),n}const cj="$$classes";function hj(t,e){if(t.classList)t.classList.add(e);else{let n=t[cj];n||(n=t[cj]={}),n[e]=!0}}function pj(t,e){if(t.classList)t.classList.remove(e);else{let n=t[cj];n&&delete n[e]}}function dj(t,e,n){dD(n).onDone(()=>t.processLeaveNode(e))}function fj(t,e,n){const r=n.get(t);if(!r)return!1;let i=e.get(t);return i?r.forEach(t=>i.add(t)):e.set(t,r),n.delete(t),!0}class gj{constructor(t,e,n){this.bodyNode=t,this._driver=e,this._triggerCache={},this.onRemovalComplete=(t,e)=>{},this._transitionEngine=new ij(t,e,n),this._timelineEngine=new VB(t,e,n),this._transitionEngine.onRemovalComplete=(t,e)=>this.onRemovalComplete(t,e)}registerTrigger(t,e,n,r,i){const o=t+"-"+r;let s=this._triggerCache[o];if(!s){const t=[],e=fB(this._driver,i,t);if(t.length)throw new Error(`The animation trigger "${r}" has failed to build due to the following errors:\n - ${t.join("\n - ")}`);s=function(t,e){return new HB(t,e)}(r,e),this._triggerCache[o]=s}this._transitionEngine.registerTrigger(e,r,s)}register(t,e){this._transitionEngine.register(t,e)}destroy(t,e){this._transitionEngine.destroy(t,e)}onInsert(t,e,n,r){this._transitionEngine.insertNode(t,e,n,r)}onRemove(t,e,n,r){this._transitionEngine.removeNode(t,e,r||!1,n)}disableAnimations(t,e){this._transitionEngine.markElementAsDisabled(t,e)}process(t,e,n,r){if("@"==n.charAt(0)){const[t,i]=_D(n);this._timelineEngine.command(t,e,i,r)}else this._transitionEngine.trigger(t,e,n,r)}listen(t,e,n,r,i){if("@"==n.charAt(0)){const[t,r]=_D(n);return this._timelineEngine.listen(t,e,r,i)}return this._transitionEngine.listen(t,e,n,r,i)}flush(t=-1){this._transitionEngine.flush(t)}get players(){return this._transitionEngine.players.concat(this._timelineEngine.players)}whenRenderingDone(){return this._transitionEngine.whenRenderingDone()}}function mj(t,e){let n=null,r=null;return Array.isArray(e)&&e.length?(n=vj(e[0]),e.length>1&&(r=vj(e[e.length-1]))):e&&(n=vj(e)),n||r?new yj(t,n,r):null}let yj=(()=>{class t{constructor(e,n,r){this._element=e,this._startStyles=n,this._endStyles=r,this._state=0;let i=t.initialStylesByElement.get(e);i||t.initialStylesByElement.set(e,i={}),this._initialStyles=i}start(){this._state<1&&(this._startStyles&&XD(this._element,this._startStyles,this._initialStyles),this._state=1)}finish(){this.start(),this._state<2&&(XD(this._element,this._initialStyles),this._endStyles&&(XD(this._element,this._endStyles),this._endStyles=null),this._state=1)}destroy(){this.finish(),this._state<3&&(t.initialStylesByElement.delete(this._element),this._startStyles&&($D(this._element,this._startStyles),this._endStyles=null),this._endStyles&&($D(this._element,this._endStyles),this._endStyles=null),XD(this._element,this._initialStyles),this._state=3)}}return t.initialStylesByElement=new WeakMap,t})();function vj(t){let e=null;const n=Object.keys(t);for(let r=0;r<n.length;r++){const i=n[r];_j(i)&&(e=e||{},e[i]=t[i])}return e}function _j(t){return"display"===t||"position"===t}const bj=3,wj="animation",Cj="animationend",xj=1e3;class Sj{constructor(t,e,n,r,i,o,s){this._element=t,this._name=e,this._duration=n,this._delay=r,this._easing=i,this._fillMode=o,this._onDoneFn=s,this._finished=!1,this._destroyed=!1,this._startTime=0,this._position=0,this._eventFn=t=>this._handleCallback(t)}apply(){!function(t,e){const n=kj(t,"").trim();n.length&&(function(t,e){let n=0;for(let r=0;r<t.length;r++)","===t.charAt(r)&&n++}(n),e=`${n}, ${e}`),Aj(t,"",e)}(this._element,`${this._duration}ms ${this._easing} ${this._delay}ms 1 normal ${this._fillMode} ${this._name}`),Tj(this._element,this._eventFn,!1),this._startTime=Date.now()}pause(){Pj(this._element,this._name,"paused")}resume(){Pj(this._element,this._name,"running")}setPosition(t){const e=Ij(this._element,this._name);this._position=t*this._duration,Aj(this._element,"Delay",`-${this._position}ms`,e)}getPosition(){return this._position}_handleCallback(t){const e=t._ngTestManualTimestamp||Date.now(),n=parseFloat(t.elapsedTime.toFixed(bj))*xj;t.animationName==this._name&&Math.max(e-this._startTime,0)>=this._delay&&n>=this._duration&&this.finish()}finish(){this._finished||(this._finished=!0,this._onDoneFn(),Tj(this._element,this._eventFn,!0))}destroy(){this._destroyed||(this._destroyed=!0,this.finish(),function(t,e){const n=kj(t,"").split(","),r=Ej(n,e);r>=0&&(n.splice(r,1),Aj(t,"",n.join(",")))}(this._element,this._name))}}function Pj(t,e,n){Aj(t,"PlayState",n,Ij(t,e))}function Ij(t,e){const n=kj(t,"");return n.indexOf(",")>0?Ej(n.split(","),e):Ej([n],e)}function Ej(t,e){for(let n=0;n<t.length;n++)if(t[n].indexOf(e)>=0)return n;return-1}function Tj(t,e,n){n?t.removeEventListener(Cj,e):t.addEventListener(Cj,e)}function Aj(t,e,n,r){const i=wj+e;if(null!=r){const e=t.style[i];if(e.length){const t=e.split(",");t[r]=n,n=t.join(",")}}t.style[i]=n}function kj(t,e){return t.style[wj+e]}const Oj="forwards",Mj="linear";class Rj{constructor(t,e,n,r,i,o,s,a){this.element=t,this.keyframes=e,this.animationName=n,this._duration=r,this._delay=i,this._finalStyles=s,this._specialStyles=a,this._onDoneFns=[],this._onStartFns=[],this._onDestroyFns=[],this._started=!1,this.currentSnapshot={},this._state=0,this.easing=o||Mj,this.totalTime=r+i,this._buildStyler()}onStart(t){this._onStartFns.push(t)}onDone(t){this._onDoneFns.push(t)}onDestroy(t){this._onDestroyFns.push(t)}destroy(){this.init(),this._state>=4||(this._state=4,this._styler.destroy(),this._flushStartFns(),this._flushDoneFns(),this._specialStyles&&this._specialStyles.destroy(),this._onDestroyFns.forEach(t=>t()),this._onDestroyFns=[])}_flushDoneFns(){this._onDoneFns.forEach(t=>t()),this._onDoneFns=[]}_flushStartFns(){this._onStartFns.forEach(t=>t()),this._onStartFns=[]}finish(){this.init(),this._state>=3||(this._state=3,this._styler.finish(),this._flushStartFns(),this._specialStyles&&this._specialStyles.finish(),this._flushDoneFns())}setPosition(t){this._styler.setPosition(t)}getPosition(){return this._styler.getPosition()}hasStarted(){return this._state>=2}init(){this._state>=1||(this._state=1,this._styler.apply(),this._delay&&this._styler.pause())}play(){this.init(),this.hasStarted()||(this._flushStartFns(),this._state=2,this._specialStyles&&this._specialStyles.start()),this._styler.resume()}pause(){this.init(),this._styler.pause()}restart(){this.reset(),this.play()}reset(){this._styler.destroy(),this._buildStyler(),this._styler.apply()}_buildStyler(){this._styler=new Sj(this.element,this.animationName,this._duration,this._delay,this.easing,Oj,()=>this.finish())}triggerCallback(t){const e="start"==t?this._onStartFns:this._onDoneFns;e.forEach(t=>t()),e.length=0}beforeDestroy(){this.init();const t={};if(this.hasStarted()){const e=this._state>=3;Object.keys(this._finalStyles).forEach(n=>{"offset"!=n&&(t[n]=e?this._finalStyles[n]:sB(this.element,n))})}this.currentSnapshot=t}}class Dj extends Rk{constructor(t,e){super(),this.element=t,this._startingStyles={},this.__initialized=!1,this._styles=kD(e)}init(){!this.__initialized&&this._startingStyles&&(this.__initialized=!0,Object.keys(this._styles).forEach(t=>{this._startingStyles[t]=this.element.style[t]}),super.init())}play(){this._startingStyles&&(this.init(),Object.keys(this._styles).forEach(t=>this.element.style.setProperty(t,this._styles[t])),super.play())}destroy(){this._startingStyles&&(Object.keys(this._startingStyles).forEach(t=>{const e=this._startingStyles[t];e?this.element.style.setProperty(t,e):this.element.style.removeProperty(t)}),this._startingStyles=null,super.destroy())}}const Bj="gen_css_kf_",jj=" ";class Fj{constructor(){this._count=0,this._head=document.querySelector("head"),this._warningIssued=!1}validateStyleProperty(t){return ID(t)}matchesElement(t,e){return ED(t,e)}containsElement(t,e){return TD(t,e)}query(t,e,n){return AD(t,e,n)}computeStyle(t,e,n){return window.getComputedStyle(t)[e]}buildKeyframeElement(t,e,n){n=n.map(t=>kD(t));let r=`@keyframes ${e} {\n`,i="";n.forEach(t=>{i=jj;const e=parseFloat(t.offset);r+=`${i}${100*e}% {\n`,i+=jj,Object.keys(t).forEach(e=>{const n=t[e];switch(e){case"offset":return;case"easing":return void(n&&(r+=`${i}animation-timing-function: ${n};\n`));default:return void(r+=`${i}${e}: ${n};\n`)}}),r+=`${i}}\n`}),r+="}\n";const o=document.createElement("style");return o.innerHTML=r,o}animate(t,e,n,r,i,o=[],s){s&&this._notifyFaultyScrubber();const a=o.filter(t=>t instanceof Rj),l={};rB(n,r)&&a.forEach(t=>{let e=t.currentSnapshot;Object.keys(e).forEach(t=>l[t]=e[t])});const u=function(t){let e={};return t&&(Array.isArray(t)?t:[t]).forEach(t=>{Object.keys(t).forEach(n=>{"offset"!=n&&"easing"!=n&&(e[n]=t[n])})}),e}(e=iB(t,e,l));if(0==n)return new Dj(t,u);const c=`${Bj}${this._count++}`,h=this.buildKeyframeElement(t,c,e);document.querySelector("head").appendChild(h);const p=mj(t,e),d=new Rj(t,e,c,n,r,i,u,p);return d.onDestroy(()=>(function(t){t.parentNode.removeChild(t)})(h)),d}_notifyFaultyScrubber(){this._warningIssued||(console.warn("@angular/animations: please load the web-animations.js polyfill to allow programmatic access...\n","  visit http://bit.ly/IWukam to learn more about using the web-animation-js polyfill."),this._warningIssued=!0)}}class zj{constructor(t,e,n,r){this.element=t,this.keyframes=e,this.options=n,this._specialStyles=r,this._onDoneFns=[],this._onStartFns=[],this._onDestroyFns=[],this._initialized=!1,this._finished=!1,this._started=!1,this._destroyed=!1,this.time=0,this.parentPlayer=null,this.currentSnapshot={},this._duration=n.duration,this._delay=n.delay||0,this.time=this._duration+this._delay}_onFinish(){this._finished||(this._finished=!0,this._onDoneFns.forEach(t=>t()),this._onDoneFns=[])}init(){this._buildPlayer(),this._preparePlayerBeforeStart()}_buildPlayer(){if(this._initialized)return;this._initialized=!0;const t=this.keyframes;this.domPlayer=this._triggerWebAnimation(this.element,t,this.options),this._finalKeyframe=t.length?t[t.length-1]:{},this.domPlayer.addEventListener("finish",()=>this._onFinish())}_preparePlayerBeforeStart(){this._delay?this._resetDomPlayerState():this.domPlayer.pause()}_triggerWebAnimation(t,e,n){return t.animate(e,n)}onStart(t){this._onStartFns.push(t)}onDone(t){this._onDoneFns.push(t)}onDestroy(t){this._onDestroyFns.push(t)}play(){this._buildPlayer(),this.hasStarted()||(this._onStartFns.forEach(t=>t()),this._onStartFns=[],this._started=!0,this._specialStyles&&this._specialStyles.start()),this.domPlayer.play()}pause(){this.init(),this.domPlayer.pause()}finish(){this.init(),this._specialStyles&&this._specialStyles.finish(),this._onFinish(),this.domPlayer.finish()}reset(){this._resetDomPlayerState(),this._destroyed=!1,this._finished=!1,this._started=!1}_resetDomPlayerState(){this.domPlayer&&this.domPlayer.cancel()}restart(){this.reset(),this.play()}hasStarted(){return this._started}destroy(){this._destroyed||(this._destroyed=!0,this._resetDomPlayerState(),this._onFinish(),this._specialStyles&&this._specialStyles.destroy(),this._onDestroyFns.forEach(t=>t()),this._onDestroyFns=[])}setPosition(t){this.domPlayer.currentTime=t*this.time}getPosition(){return this.domPlayer.currentTime/this.time}get totalTime(){return this._delay+this._duration}beforeDestroy(){const t={};this.hasStarted()&&Object.keys(this._finalKeyframe).forEach(e=>{"offset"!=e&&(t[e]=this._finished?this._finalKeyframe[e]:sB(this.element,e))}),this.currentSnapshot=t}triggerCallback(t){const e="start"==t?this._onStartFns:this._onDoneFns;e.forEach(t=>t()),e.length=0}}class Lj{constructor(){this._isNativeImpl=/\{\s*\[native\s+code\]\s*\}/.test(Hj().toString()),this._cssKeyframesDriver=new Fj}validateStyleProperty(t){return ID(t)}matchesElement(t,e){return ED(t,e)}containsElement(t,e){return TD(t,e)}query(t,e,n){return AD(t,e,n)}computeStyle(t,e,n){return window.getComputedStyle(t)[e]}overrideWebAnimationsSupport(t){this._isNativeImpl=t}animate(t,e,n,r,i,o=[],s){if(!s&&!this._isNativeImpl)return this._cssKeyframesDriver.animate(t,e,n,r,i,o);const a={duration:n,delay:r,fill:0==r?"both":"forwards"};i&&(a.easing=i);const l={},u=o.filter(t=>t instanceof zj);rB(n,r)&&u.forEach(t=>{let e=t.currentSnapshot;Object.keys(e).forEach(t=>l[t]=e[t])});const c=mj(t,e=iB(t,e=e.map(t=>qD(t,!1)),l));return new zj(t,e,a,c)}}function Hj(){return"undefined"!=typeof window&&void 0!==window.document&&Element.prototype.animate||{}}let Nj=(()=>{class t extends Ek{constructor(t,e){super(),this._nextAnimationId=0,this._renderer=t.createRenderer(e.body,{id:"0",encapsulation:ne.None,styles:[],data:{animation:[]}})}build(t){const e=this._nextAnimationId.toString();this._nextAnimationId++;const n=Array.isArray(t)?kk(t):t;return Uj(this._renderer,null,e,"register",[n]),new Wj(e,this._renderer)}}return t.ngInjectableDef=mt({token:t,factory:function(e){return new(e||t)(qt(Aa),qt(SA))},providedIn:null}),t})();class Wj extends Tk{constructor(t,e){super(),this._id=t,this._renderer=e}create(t,e){return new Vj(this._id,t,e||{},this._renderer)}}class Vj{constructor(t,e,n,r){this.id=t,this.element=e,this._renderer=r,this.parentPlayer=null,this._started=!1,this.totalTime=0,this._command("create",n)}_listen(t,e){return this._renderer.listen(this.element,`@@${this.id}:${t}`,e)}_command(t,...e){return Uj(this._renderer,this.element,this.id,t,e)}onDone(t){this._listen("done",t)}onStart(t){this._listen("start",t)}onDestroy(t){this._listen("destroy",t)}init(){this._command("init")}hasStarted(){return this._started}play(){this._command("play"),this._started=!0}pause(){this._command("pause")}restart(){this._command("restart")}finish(){this._command("finish")}destroy(){this._command("destroy")}reset(){this._command("reset")}setPosition(t){this._command("setPosition",t)}getPosition(){return 0}}function Uj(t,e,n,r,i){return t.setProperty(e,`@@${n}:${r}`,i)}const qj="@",Gj="@.disabled";let Yj=(()=>{class t{constructor(t,e,n){this.delegate=t,this.engine=e,this._zone=n,this._currentId=0,this._microtaskId=1,this._animationCallbacksBuffer=[],this._rendererCache=new Map,this._cdRecurDepth=0,this.promise=Promise.resolve(0),e.onRemovalComplete=(t,e)=>{e&&e.parentNode(t)&&e.removeChild(t.parentNode,t)}}createRenderer(t,e){const n=this.delegate.createRenderer(t,e);if(!(t&&e&&e.data&&e.data.animation)){let t=this._rendererCache.get(n);return t||(t=new Xj("",n,this.engine),this._rendererCache.set(n,t)),t}const r=e.id,i=e.id+"-"+this._currentId;return this._currentId++,this.engine.register(i,t),e.data.animation.forEach(e=>this.engine.registerTrigger(r,i,t,e.name,e)),new $j(this,i,n,this.engine)}begin(){this._cdRecurDepth++,this.delegate.begin&&this.delegate.begin()}_scheduleCountTask(){this.promise.then(()=>{this._microtaskId++})}scheduleListenerCallback(t,e,n){t>=0&&t<this._microtaskId?this._zone.run(()=>e(n)):(0==this._animationCallbacksBuffer.length&&Promise.resolve(null).then(()=>{this._zone.run(()=>{this._animationCallbacksBuffer.forEach(t=>{const[e,n]=t;e(n)}),this._animationCallbacksBuffer=[]})}),this._animationCallbacksBuffer.push([e,n]))}end(){this._cdRecurDepth--,0==this._cdRecurDepth&&this._zone.runOutsideAngular(()=>{this._scheduleCountTask(),this.engine.flush(this._microtaskId)}),this.delegate.end&&this.delegate.end()}whenRenderingDone(){return this.engine.whenRenderingDone()}}return t.ngInjectableDef=mt({token:t,factory:function(e){return new(e||t)(qt(Aa),qt(gj),qt(Lc))},providedIn:null}),t})();class Xj{constructor(t,e,n){this.namespaceId=t,this.delegate=e,this.engine=n,this.destroyNode=this.delegate.destroyNode?t=>e.destroyNode(t):null}get data(){return this.delegate.data}destroy(){this.engine.destroy(this.namespaceId,this.delegate),this.delegate.destroy()}createElement(t,e){return this.delegate.createElement(t,e)}createComment(t){return this.delegate.createComment(t)}createText(t){return this.delegate.createText(t)}appendChild(t,e){this.delegate.appendChild(t,e),this.engine.onInsert(this.namespaceId,e,t,!1)}insertBefore(t,e,n){this.delegate.insertBefore(t,e,n),this.engine.onInsert(this.namespaceId,e,t,!0)}removeChild(t,e,n){this.engine.onRemove(this.namespaceId,e,this.delegate,n)}selectRootElement(t,e){return this.delegate.selectRootElement(t,e)}parentNode(t){return this.delegate.parentNode(t)}nextSibling(t){return this.delegate.nextSibling(t)}setAttribute(t,e,n,r){this.delegate.setAttribute(t,e,n,r)}removeAttribute(t,e,n){this.delegate.removeAttribute(t,e,n)}addClass(t,e){this.delegate.addClass(t,e)}removeClass(t,e){this.delegate.removeClass(t,e)}setStyle(t,e,n,r){this.delegate.setStyle(t,e,n,r)}removeStyle(t,e,n){this.delegate.removeStyle(t,e,n)}setProperty(t,e,n){e.charAt(0)==qj&&e==Gj?this.disableAnimations(t,!!n):this.delegate.setProperty(t,e,n)}setValue(t,e){this.delegate.setValue(t,e)}listen(t,e,n){return this.delegate.listen(t,e,n)}disableAnimations(t,e){this.engine.disableAnimations(t,e)}}class $j extends Xj{constructor(t,e,n,r){super(e,n,r),this.factory=t,this.namespaceId=e}setProperty(t,e,n){e.charAt(0)==qj?"."==e.charAt(1)&&e==Gj?this.disableAnimations(t,n=void 0===n||!!n):this.engine.process(this.namespaceId,t,e.substr(1),n):this.delegate.setProperty(t,e,n)}listen(t,e,n){if(e.charAt(0)==qj){const r=function(t){switch(t){case"body":return document.body;case"document":return document;case"window":return window;default:return t}}(t);let i=e.substr(1),o="";return i.charAt(0)!=qj&&([i,o]=function(t){const e=t.indexOf(".");return[t.substring(0,e),t.substr(e+1)]}(i)),this.engine.listen(this.namespaceId,r,i,o,t=>{this.factory.scheduleListenerCallback(t._data||-1,n,t)})}return this.delegate.listen(t,e,n)}}let Qj=(()=>{class t extends gj{constructor(t,e,n){super(t.body,e,n)}}return t.ngInjectableDef=mt({token:t,factory:function(e){return new(e||t)(qt(SA),qt(MD),qt(RB))},providedIn:null}),t})();function Zj(){return"function"==typeof Hj()?new Lj:new Fj}function Kj(){return new DB}function Jj(t,e,n){return new Yj(t,e,n)}const tF=new Ot("AnimationModuleType"),eF=[{provide:Ek,useClass:Nj},{provide:RB,useFactory:Kj},{provide:gj,useClass:Qj},{provide:Aa,useFactory:Jj,deps:[vR,gj,Lc]}],nF=[{provide:MD,useFactory:Zj},{provide:tF,useValue:"BrowserAnimations"},...eF],rF=[{provide:MD,useClass:OD},{provide:tF,useValue:"NoopAnimations"},...eF];let iF=(()=>{class t{}return t.ngModuleDef=fe({type:t}),t})();iF.ngInjectorDef=yt({factory:function(t){return new(t||iF)},providers:nF,imports:[iD]});let oF=(()=>{class t{}return t.ngModuleDef=fe({type:t}),t})();oF.ngInjectorDef=yt({factory:function(t){return new(t||oF)},providers:rF,imports:[iD]});const sF=new Ra("8.2.3"),aF=new Ot("mat-sanity-checks",{providedIn:"root",factory:function(){return!0}});let lF=(()=>{class t{constructor(t,e){this._sanityChecksEnabled=t,this._hammerLoader=e,this._hasDoneGlobalChecks=!1,this._hasCheckedHammer=!1,this._document="object"==typeof document&&document?document:null,this._window="object"==typeof window&&window?window:null,this._areChecksEnabled()&&!this._hasDoneGlobalChecks&&(this._checkDoctypeIsDefined(),this._checkThemeIsPresent(),this._checkCdkVersionMatch(),this._hasDoneGlobalChecks=!0)}_areChecksEnabled(){return this._sanityChecksEnabled&&_i()&&!this._isTestEnv()}_isTestEnv(){const t=this._window;return t&&(t.__karma__||t.jasmine)}_checkDoctypeIsDefined(){this._document&&!this._document.doctype&&console.warn("Current document does not have a doctype. This may cause some Angular Material components not to behave as expected.")}_checkThemeIsPresent(){if(!this._document||!this._document.body||"function"!=typeof getComputedStyle)return;const t=this._document.createElement("div");t.classList.add("mat-theme-loaded-marker"),this._document.body.appendChild(t);const e=getComputedStyle(t);e&&"none"!==e.display&&console.warn("Could not find Angular Material core theme. Most Material components may not work as expected. For more info refer to the theming guide: https://material.angular.io/guide/theming"),this._document.body.removeChild(t)}_checkCdkVersionMatch(){sF.full!==oD.full&&console.warn("The Angular Material version ("+sF.full+") does not match the Angular CDK version ("+oD.full+").\nPlease ensure the versions of these two packages exactly match.")}_checkHammerIsAvailable(){!this._hasCheckedHammer&&this._window&&(!this._areChecksEnabled()||this._window.Hammer||this._hammerLoader||console.warn("Could not find HammerJS. Certain Angular Material components may not work correctly."),this._hasCheckedHammer=!0)}}return t.ngModuleDef=fe({type:t}),t})();lF.ngInjectorDef=yt({factory:function(t){return new(t||lF)(qt(aF,8),qt(HR,8))},imports:[[HM],HM]});const uF=new Ot("MAT_DATE_LOCALE",{providedIn:"root",factory:function(){return Gt(_c)}});class cF{constructor(){this._localeChanges=new E}get localeChanges(){return this._localeChanges}deserialize(t){return null==t||this.isDateInstance(t)&&this.isValid(t)?t:this.invalid()}setLocale(t){this.locale=t,this._localeChanges.next()}compareDate(t,e){return this.getYear(t)-this.getYear(e)||this.getMonth(t)-this.getMonth(e)||this.getDate(t)-this.getDate(e)}sameDate(t,e){if(t&&e){let n=this.isValid(t),r=this.isValid(e);return n&&r?!this.compareDate(t,e):n==r}return t==e}clampDate(t,e,n){return e&&this.compareDate(t,e)<0?e:n&&this.compareDate(t,n)>0?n:t}}const hF=new Ot("mat-date-formats");let pF;try{pF="undefined"!=typeof Intl}catch(rH){pF=!1}const dF={long:["January","February","March","April","May","June","July","August","September","October","November","December"],short:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],narrow:["J","F","M","A","M","J","J","A","S","O","N","D"]},fF=yF(31,t=>String(t+1)),gF={long:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],short:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],narrow:["S","M","T","W","T","F","S"]},mF=/^\d{4}-\d{2}-\d{2}(?:T\d{2}:\d{2}:\d{2}(?:\.\d+)?(?:Z|(?:(?:\+|-)\d{2}:\d{2}))?)?$/;function yF(t,e){const n=Array(t);for(let r=0;r<t;r++)n[r]=e(r);return n}let vF=(()=>{class t extends cF{constructor(t,e){super(),this.useUtcForDisplay=!0,super.setLocale(t),this.useUtcForDisplay=!e.TRIDENT,this._clampDate=e.TRIDENT||e.EDGE}getYear(t){return t.getFullYear()}getMonth(t){return t.getMonth()}getDate(t){return t.getDate()}getDayOfWeek(t){return t.getDay()}getMonthNames(t){if(pF){const e=new Intl.DateTimeFormat(this.locale,{month:t,timeZone:"utc"});return yF(12,t=>this._stripDirectionalityCharacters(this._format(e,new Date(2017,t,1))))}return dF[t]}getDateNames(){if(pF){const t=new Intl.DateTimeFormat(this.locale,{day:"numeric",timeZone:"utc"});return yF(31,e=>this._stripDirectionalityCharacters(this._format(t,new Date(2017,0,e+1))))}return fF}getDayOfWeekNames(t){if(pF){const e=new Intl.DateTimeFormat(this.locale,{weekday:t,timeZone:"utc"});return yF(7,t=>this._stripDirectionalityCharacters(this._format(e,new Date(2017,0,t+1))))}return gF[t]}getYearName(t){if(pF){const e=new Intl.DateTimeFormat(this.locale,{year:"numeric",timeZone:"utc"});return this._stripDirectionalityCharacters(this._format(e,t))}return String(this.getYear(t))}getFirstDayOfWeek(){return 0}getNumDaysInMonth(t){return this.getDate(this._createDateWithOverflow(this.getYear(t),this.getMonth(t)+1,0))}clone(t){return new Date(t.getTime())}createDate(t,e,n){if(e<0||e>11)throw Error(`Invalid month index "${e}". Month index has to be between 0 and 11.`);if(n<1)throw Error(`Invalid date "${n}". Date has to be greater than 0.`);let r=this._createDateWithOverflow(t,e,n);if(r.getMonth()!=e)throw Error(`Invalid date "${n}" for month with index "${e}".`);return r}today(){return new Date}parse(t){return"number"==typeof t?new Date(t):t?new Date(Date.parse(t)):null}format(t,e){if(!this.isValid(t))throw Error("NativeDateAdapter: Cannot format invalid date.");if(pF){this._clampDate&&(t.getFullYear()<1||t.getFullYear()>9999)&&(t=this.clone(t)).setFullYear(Math.max(1,Math.min(9999,t.getFullYear()))),e=Object.assign({},e,{timeZone:"utc"});const n=new Intl.DateTimeFormat(this.locale,e);return this._stripDirectionalityCharacters(this._format(n,t))}return this._stripDirectionalityCharacters(t.toDateString())}addCalendarYears(t,e){return this.addCalendarMonths(t,12*e)}addCalendarMonths(t,e){let n=this._createDateWithOverflow(this.getYear(t),this.getMonth(t)+e,this.getDate(t));return this.getMonth(n)!=((this.getMonth(t)+e)%12+12)%12&&(n=this._createDateWithOverflow(this.getYear(n),this.getMonth(n),0)),n}addCalendarDays(t,e){return this._createDateWithOverflow(this.getYear(t),this.getMonth(t),this.getDate(t)+e)}toIso8601(t){return[t.getUTCFullYear(),this._2digit(t.getUTCMonth()+1),this._2digit(t.getUTCDate())].join("-")}deserialize(t){if("string"==typeof t){if(!t)return null;if(mF.test(t)){let e=new Date(t);if(this.isValid(e))return e}}return super.deserialize(t)}isDateInstance(t){return t instanceof Date}isValid(t){return!isNaN(t.getTime())}invalid(){return new Date(NaN)}_createDateWithOverflow(t,e,n){const r=new Date(t,e,n);return t>=0&&t<100&&r.setFullYear(this.getYear(r)-1900),r}_2digit(t){return("00"+t).slice(-2)}_stripDirectionalityCharacters(t){return t.replace(/[\u200e\u200f]/g,"")}_format(t,e){const n=new Date(Date.UTC(e.getFullYear(),e.getMonth(),e.getDate(),e.getHours(),e.getMinutes(),e.getSeconds(),e.getMilliseconds()));return t.format(n)}}return t.ngInjectableDef=mt({token:t,factory:function(e){return new(e||t)(qt(uF,8),qt(aD))},providedIn:null}),t})(),_F=(()=>{class t{}return t.ngModuleDef=fe({type:t}),t})();_F.ngInjectorDef=yt({factory:function(t){return new(t||_F)},providers:[{provide:cF,useClass:vF}],imports:[[lD]]});let bF=(()=>{class t{}return t.ngModuleDef=fe({type:t}),t})();bF.ngInjectorDef=yt({factory:function(t){return new(t||bF)},providers:[{provide:hF,useValue:{parse:{dateInput:null},display:{dateInput:{year:"numeric",month:"numeric",day:"numeric"},monthYearLabel:{year:"numeric",month:"short"},dateA11yLabel:{year:"numeric",month:"long",day:"numeric"},monthYearA11yLabel:{year:"numeric",month:"long"}}}}],imports:[[_F]]});let wF=(()=>{class t{}return t.ngModuleDef=fe({type:t}),t})();wF.ngInjectorDef=yt({factory:function(t){return new(t||wF)},imports:[[lF],lF]});let CF=(()=>{class t{}return t.ngModuleDef=fe({type:t}),t})();CF.ngInjectorDef=yt({factory:function(t){return new(t||CF)},imports:[[lF,lD],lF]});let xF=(()=>{class t{}return t.ngModuleDef=fe({type:t}),t})();xF.ngInjectorDef=yt({factory:function(t){return new(t||xF)}});let SF=(()=>{class t{}return t.ngModuleDef=fe({type:t}),t})();SF.ngInjectorDef=yt({factory:function(t){return new(t||SF)},imports:[[CF,CA,xF]]});let PF=(()=>{class t{}return t.ngModuleDef=fe({type:t}),t})();PF.ngInjectorDef=yt({factory:function(t){return new(t||PF)},imports:[[lF,CA],lF]});var IF=yl({encapsulation:0,styles:["[_nghost-%COMP%]{display:-ms-grid;display:grid;position:relative;-ms-grid-rows:48px 1fr;grid-template-rows:48px 1fr;-ms-grid-columns:150px 1fr 300px;grid-template-columns:150px 1fr 300px;box-sizing:border-box;height:99%;color:var(--theme-grey-color)}[_nghost-%COMP%]:-webkit-full-screen{background-color:#fff}[_nghost-%COMP%]:-moz-full-screen{background-color:#fff}[_nghost-%COMP%]:-ms-fullscreen{background-color:#fff}[_nghost-%COMP%]:fullscreen{background-color:#fff}au-design-atoms-viewer[_ngcontent-%COMP%]{height:calc(100% - 1px)}"],data:{}});function EF(t){return Yh(0,[(t()(),kh(0,0,null,null,1,"au-file-uploader",[],null,null,null,LF,zF)),Eu(1,49152,null,0,IO,[fO,Ib],{configuration:[0,"configuration"]},null)],(function(t,e){t(e,1,0,e.component.configuration.uploader)}),null)}function TF(t){return Yh(0,[(t()(),kh(0,0,null,null,8,null,null,null,null,null,null,null)),(t()(),kh(1,0,null,null,1,"au-top-toolbar",[],null,null,null,rz,HF)),Eu(2,573440,null,0,EO,[nO,gO,Ib],{configuration:[0,"configuration"]},null),(t()(),kh(3,0,null,null,1,"au-page-navigator",[],null,null,null,cz,sz)),Eu(4,573440,null,0,AO,[nO,gO,us,Ib],{configuration:[0,"configuration"]},null),(t()(),kh(5,0,null,null,1,"au-design-atoms-viewer",[],null,null,null,FF,jF)),Eu(6,4767744,null,0,SO,[nO,gO,us,Ib],{productConfiguration:[0,"productConfiguration"],viewerConfiguration:[1,"viewerConfiguration"]},null),(t()(),kh(7,0,null,null,1,"au-data-panel",[],null,null,null,oz,iz)),Eu(8,49152,null,0,TO,[],null,null)],(function(t,e){var n=e.component;t(e,2,0,n.configuration),t(e,4,0,n.configuration),t(e,6,0,n.configuration.product,n.configuration.viewer)}),null)}function AF(t){return Yh(0,[(t()(),kh(0,0,null,null,1,"au-preloader",[],null,null,null,Zz,Qz)),Eu(1,114688,null,0,XO,[Ib],null,null)],(function(t,e){t(e,1,0)}),null)}function kF(t){return Yh(0,[(t()(),kh(0,0,null,null,1,"au-delete-confirmation",[],null,null,null,RL,ML)),Eu(1,49152,null,0,tM,[fO,tO,Ib],null,null)],null,null)}function OF(t){return Yh(0,[(t()(),kh(0,0,null,null,8,"div",[["class","overlay"]],null,null,null,null,null)),(t()(),kh(1,0,null,null,7,"div",[["class","popup error-popup"]],null,null,null,null,null)),(t()(),kh(2,0,null,null,1,"div",[["class","popup-title"]],null,null,null,null,null)),(t()(),Uh(3,null,["",""])),(t()(),kh(4,0,null,null,1,"div",[["class","error-popup-text"],["style","white-space: pre-line"]],null,null,null,null,null)),(t()(),Uh(5,null,["",""])),(t()(),kh(6,0,null,null,2,"button",[["class","popup-close"]],null,[[null,"click"]],(function(t,e,n){var r=!0;return"click"===e&&(r=!1!==t.component.closeErrorPopup()&&r),r}),null,null)),(t()(),Uh(7,null,["",""])),Tu(131072,$d,[Xd,us])],null,(function(t,e){var n=e.component;t(e,3,0,n.errorTitle),t(e,5,0,n.errorBody),t(e,7,0,fl(e,7,0,fu(e,8).transform("main.closeErrorButton")))}))}function MF(t){return Yh(0,[(t()(),kh(0,0,null,null,14,null,null,null,null,null,null,null)),(t()(),kh(1,0,null,null,5,null,null,null,null,null,null,null)),Eu(2,16384,null,0,sA,[],{ngSwitch:[0,"ngSwitch"]},null),(t()(),Ah(16777216,null,null,1,null,EF)),Eu(4,278528,null,0,aA,[Ka,Qa,sA],{ngSwitchCase:[0,"ngSwitchCase"]},null),(t()(),Ah(16777216,null,null,1,null,TF)),Eu(6,278528,null,0,aA,[Ka,Qa,sA],{ngSwitchCase:[0,"ngSwitchCase"]},null),(t()(),Ah(16777216,null,null,1,null,AF)),Eu(8,16384,null,0,nA,[Ka,Qa],{ngIf:[0,"ngIf"]},null),(t()(),kh(9,0,null,null,1,"au-uploader",[],null,null,null,aL,Kz)),Eu(10,49152,null,0,$O,[fO,nO,tO,Ib],{lightOverlay:[0,"lightOverlay"]},null),(t()(),Ah(16777216,null,null,1,null,kF)),Eu(12,16384,null,0,nA,[Ka,Qa],{ngIf:[0,"ngIf"]},null),(t()(),Ah(16777216,null,null,1,null,OF)),Eu(14,16384,null,0,nA,[Ka,Qa],{ngIf:[0,"ngIf"]},null),(t()(),Ah(0,null,null,0))],(function(t,e){var n=e.component;t(e,2,0,n.step),t(e,4,0,"uploader"),t(e,6,0,"editor"),t(e,8,0,n.preloader>0),t(e,10,0,"editor"===n.step),t(e,12,0,n.state.deleteSurfaceIndex>-1),t(e,14,0,n.showError)}),null)}function RF(t){return Yh(0,[(t()(),Ah(16777216,null,null,1,null,MF)),Eu(1,16384,null,0,nA,[Ka,Qa],{ngIf:[0,"ngIf"]},null)],(function(t,e){t(e,1,0,e.component.configuration)}),null)}function DF(t){return Yh(0,[(t()(),kh(0,0,null,null,7,"au-preflight-tool",[],null,null,null,RF,IF)),Au(512,null,tO,tO,[Xd]),Au(512,null,eO,eO,[Ib,tO]),Au(512,null,nO,nO,[eO,tO,Ib]),Au(512,null,gO,gO,[nO,Xd,eO,Ib]),Au(512,null,pO,pO,[gO,Ib]),Au(512,null,fO,fO,[gO,pO,nO,Xd,Ib]),Eu(7,573440,null,0,xO,[Xd,nO,gO,fO,us,tO,Ib],null,null)],null,null)}var BF=ru("au-preflight-tool",xO,DF,{togglePreloader:"togglePreloader",pages:"pages",configuration:"configuration",files:"files",isInited:"isInited",finish:"finish",addLocalization:"addLocalization",setLanguage:"setLanguage",setStep:"setStep",setState:"setState"},{stepChanged:"stepChanged",failedChecks:"failedChecks",hasFiles:"hasFiles",hasEmptyPages:"hasEmptyPages",inited:"inited",error:"error"},[]),jF=yl({encapsulation:0,styles:["[_nghost-%COMP%]{border-bottom:1px solid var(--theme-border-color);position:relative;background-color:var(--theme-viewer-background-color)}.viewer-parent[_ngcontent-%COMP%]{height:100%}.zoom-panel[_ngcontent-%COMP%]{display:flex;justify-content:space-around;align-items:center;width:196px;height:34px;border:1px solid var(--theme-border-color);border-radius:2px 2px 0 0;position:absolute;left:12px;right:0;bottom:-1px;margin:auto;background-color:var(--theme-white-color);z-index:2}button[_ngcontent-%COMP%]{width:32px;height:32px;padding:0}.zoom-info[_ngcontent-%COMP%]{width:42px;font-size:14px;line-height:20px;text-align:center}.divider[_ngcontent-%COMP%]{width:1px;height:20px;background-color:var(--theme-border-color)}au-upload-hint[_ngcontent-%COMP%]{position:absolute;width:100%;height:100%;opacity:1;background-color:var(--theme-white-color);z-index:10}.wrapper[_ngcontent-%COMP%]{z-index:11;width:100%;height:100%}.viewer-parent[_ngcontent-%COMP%]     div#cvWhitespace{outline:0!important}"],data:{}});function FF(t){return Yh(0,[Bh(671088640,1,{viewerParent:0}),Bh(671088640,2,{element:0}),(t()(),kh(2,0,[[2,0],["element",1]],null,20,"div",[["class","wrapper"]],null,null,null,null,null)),(t()(),kh(3,0,null,null,1,"au-upload-hint",[],[[8,"hidden",0]],null,null,OL,AL)),Eu(4,49152,null,0,JO,[Ib],null,null),(t()(),kh(5,0,[[1,0],["viewerParent",1]],null,0,"div",[["class","viewer-parent"]],null,null,null,null,null)),(t()(),kh(6,0,null,null,16,"div",[["class","zoom-panel"]],null,null,null,null,null)),(t()(),kh(7,0,null,null,2,"button",[["class","minus"]],[[8,"disabled",0]],[[null,"click"]],(function(t,e,n){var r=!0;return"click"===e&&(r=!1!==t.component.changeZoom(-1)&&r),r}),null,null)),(t()(),kh(8,0,null,null,1,"au-sprite-icon",[],null,null,null,Wz,Nz)),Eu(9,49152,null,0,qO,[],{icon:[0,"icon"]},null),(t()(),kh(10,0,null,null,2,"span",[["class","zoom-info"]],null,null,null,null,null)),(t()(),kh(11,0,null,null,1,"au-editable-label",[],null,[[null,"labelChange"]],(function(t,e,n){var r=!0;return"labelChange"===e&&(r=!1!==t.component.changeZoomLabel(n)&&r),r}),TL,PL)),Eu(12,49152,null,0,ZO,[],{text:[0,"text"],editOnClick:[1,"editOnClick"]},{labelChange:"labelChange"}),(t()(),kh(13,0,null,null,2,"button",[["class","plus"]],[[8,"disabled",0]],[[null,"click"]],(function(t,e,n){var r=!0;return"click"===e&&(r=!1!==t.component.changeZoom(1)&&r),r}),null,null)),(t()(),kh(14,0,null,null,1,"au-sprite-icon",[],null,null,null,Wz,Nz)),Eu(15,49152,null,0,qO,[],{icon:[0,"icon"]},null),(t()(),kh(16,0,null,null,0,"span",[["class","divider"]],null,null,null,null,null)),(t()(),kh(17,0,null,null,2,"button",[],null,[[null,"click"]],(function(t,e,n){var r=!0;return"click"===e&&(r=!1!==t.component.realSize()&&r),r}),null,null)),(t()(),kh(18,0,null,null,1,"au-sprite-icon",[],null,null,null,Wz,Nz)),Eu(19,49152,null,0,qO,[],{icon:[0,"icon"]},null),(t()(),kh(20,0,null,null,2,"button",[],null,[[null,"click"]],(function(t,e,n){var r=!0;return"click"===e&&(r=!1!==t.component.zoomToFit()&&r),r}),null,null)),(t()(),kh(21,0,null,null,1,"au-sprite-icon",[],null,null,null,Wz,Nz)),Eu(22,49152,null,0,qO,[],{icon:[0,"icon"]},null)],(function(t,e){var n=e.component;t(e,9,0,"minus"),t(e,12,0,n.zoom,!0),t(e,15,0,"plus"),t(e,19,0,"real-size"),t(e,22,0,"fit")}),(function(t,e){var n=e.component;t(e,3,0,!n.dragging),t(e,7,0,n.disableDecrementZoom),t(e,13,0,n.disableIncrementZoom)}))}var zF=yl({encapsulation:0,styles:["[_nghost-%COMP%]{-ms-grid-column:1;grid-column-start:1;-ms-grid-column-span:3;grid-column-end:4;-ms-grid-row:1;grid-row-start:1;-ms-grid-row-span:2;grid-row-end:3}input[_ngcontent-%COMP%]{display:none}"],data:{animation:[{type:7,name:"fadeInOut",definitions:[{type:0,name:"void",styles:{type:6,styles:{opacity:"0"},offset:null},options:void 0},{type:0,name:"*",styles:{type:6,styles:{opacity:"1"},offset:null},options:void 0},{type:1,expr:":enter",animation:[{type:4,styles:null,timings:".3s"}],options:null},{type:1,expr:":leave",animation:[{type:4,styles:null,timings:".3s"}],options:null}],options:{}}]}});function LF(t){return Yh(0,[Bh(671088640,1,{fileInput:0}),(t()(),kh(1,0,[[1,0],["fileInput",1]],null,0,"input",[["id","fileElem"],["type","file"]],[[8,"multiple",0],[8,"accept",0]],[[null,"change"]],(function(t,e,n){var r=!0;return"change"===e&&(r=!1!==t.component.onFileChange(n)&&r),r}),null,null)),(t()(),kh(2,0,[["dropArea",1]],null,2,"label",[["for","fileElem"]],null,null,null,null,null)),(t()(),kh(3,0,null,null,1,"au-upload-hint",[],null,null,null,OL,AL)),Eu(4,49152,null,0,JO,[Ib],null,null)],null,(function(t,e){var n=e.component;t(e,1,0,n.configuration.multiple,Ul(1,"",n.configuration.fileTypes,""))}))}var HF=yl({encapsulation:0,styles:["[_nghost-%COMP%]{-ms-grid-column:1;grid-column-start:1;-ms-grid-column-span:3;grid-column-end:4;-ms-grid-row:1;grid-row-start:1;-ms-grid-row-span:1;grid-row-end:2;display:flex;align-items:center;padding:0 8px;border:1px solid var(--theme-border-color)}.checkbox-wrapper[_ngcontent-%COMP%], button[_ngcontent-%COMP%]{font-weight:500;font-size:14px;line-height:16px}.checkbox-wrapper[_ngcontent-%COMP%]:not(:first-child), button[_ngcontent-%COMP%]:not(:first-child){margin-left:12px}.fullscreen-btn[_ngcontent-%COMP%]{margin-left:auto;margin-right:1rem}button[_ngcontent-%COMP%]{padding:8px;color:var(--theme-grey-color)}button[_ngcontent-%COMP%]:disabled{color:var(--theme-light-grey-color);cursor:not-allowed}label[_ngcontent-%COMP%]:disabled{color:var(--theme-light-grey-color)}.checkbox-wrapper[_ngcontent-%COMP%]{padding:8px 8px 8px 28px;position:relative;-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none;cursor:pointer}.checkbox-wrapper[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]{display:none}.checkbox-wrapper[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]:checked ~ .checkmark[_ngcontent-%COMP%]{width:24px;height:24px;border:0;left:0;top:4px}.checkbox-wrapper[_ngcontent-%COMP%]   .checkmark[_ngcontent-%COMP%]{display:inline-block;width:14px;height:14px;border:2px solid var(--theme-dark-grey-color);border-radius:3px;position:absolute;left:3px;top:7px}.checkbox-wrapper[_ngcontent-%COMP%]   .checkmark[_ngcontent-%COMP%]:disabled{border:2px solid var(--theme-light-grey-color)}"],data:{}});function NF(t){return Yh(0,[(t()(),kh(0,0,null,null,3,"au-upload-button",[],null,null,null,wz,_z)),Au(512,null,uA,cA,[Ia,Ga,Oa]),Eu(2,278528,null,0,fA,[uA],{ngStyle:[0,"ngStyle"]},null),Eu(3,49152,null,0,RO,[fO,Ib],{disabled:[0,"disabled"],hidden:[1,"hidden"]},null)],(function(t,e){var n=e.component;t(e,2,0,n.getStyles(e.parent.context.$implicit.style)),t(e,3,0,n.getDisabled(e.parent.context.$implicit),n.getHidden(e.parent.context.$implicit))}),null)}function WF(t){return Yh(0,[(t()(),kh(0,0,null,null,4,"button",[],[[8,"disabled",0],[8,"hidden",0]],[[null,"click"]],(function(t,e,n){var r=!0;return"click"===e&&(r=!1!==t.component.rotateCanvas()&&r),r}),null,null)),Au(512,null,uA,cA,[Ia,Ga,Oa]),Eu(2,278528,null,0,fA,[uA],{ngStyle:[0,"ngStyle"]},null),(t()(),Uh(3,null,[" "," "])),Tu(131072,$d,[Xd,us])],(function(t,e){t(e,2,0,e.component.getStyles(e.parent.context.$implicit))}),(function(t,e){var n=e.component;t(e,0,0,n.getDisabled(e.parent.context.$implicit),n.getHidden(e.parent.context.$implicit)),t(e,3,0,fl(e,3,0,fu(e,4).transform("topToolbar.rotateCanvas")))}))}function VF(t){return Yh(0,[(t()(),kh(0,0,null,null,4,"button",[],[[8,"disabled",0],[8,"hidden",0]],[[null,"click"]],(function(t,e,n){var r=!0;return"click"===e&&(r=!1!==t.component.fillToBleed()&&r),r}),null,null)),Au(512,null,uA,cA,[Ia,Ga,Oa]),Eu(2,278528,null,0,fA,[uA],{ngStyle:[0,"ngStyle"]},null),(t()(),Uh(3,null,[" "," "])),Tu(131072,$d,[Xd,us])],(function(t,e){t(e,2,0,e.component.getStyles(e.parent.context.$implicit))}),(function(t,e){var n=e.component;t(e,0,0,n.getDisabled(e.parent.context.$implicit),n.getHidden(e.parent.context.$implicit)),t(e,3,0,fl(e,3,0,fu(e,4).transform("topToolbar.fillToBleed")))}))}function UF(t){return Yh(0,[(t()(),kh(0,0,null,null,4,"button",[],[[8,"disabled",0],[8,"hidden",0]],[[null,"click"]],(function(t,e,n){var r=!0;return"click"===e&&(r=!1!==t.component.fillToTrim()&&r),r}),null,null)),Au(512,null,uA,cA,[Ia,Ga,Oa]),Eu(2,278528,null,0,fA,[uA],{ngStyle:[0,"ngStyle"]},null),(t()(),Uh(3,null,[" "," "])),Tu(131072,$d,[Xd,us])],(function(t,e){t(e,2,0,e.component.getStyles(e.parent.context.$implicit))}),(function(t,e){var n=e.component;t(e,0,0,n.getDisabled(e.parent.context.$implicit),n.getHidden(e.parent.context.$implicit)),t(e,3,0,fl(e,3,0,fu(e,4).transform("topToolbar.fillToTrim")))}))}function qF(t){return Yh(0,[(t()(),kh(0,0,null,null,4,"button",[],[[8,"disabled",0],[8,"hidden",0]],[[null,"click"]],(function(t,e,n){var r=!0;return"click"===e&&(r=!1!==t.component.fitToBleed()&&r),r}),null,null)),Au(512,null,uA,cA,[Ia,Ga,Oa]),Eu(2,278528,null,0,fA,[uA],{ngStyle:[0,"ngStyle"]},null),(t()(),Uh(3,null,[" "," "])),Tu(131072,$d,[Xd,us])],(function(t,e){t(e,2,0,e.component.getStyles(e.parent.context.$implicit))}),(function(t,e){var n=e.component;t(e,0,0,n.getDisabled(e.parent.context.$implicit),n.getHidden(e.parent.context.$implicit)),t(e,3,0,fl(e,3,0,fu(e,4).transform("topToolbar.fitToBleed")))}))}function GF(t){return Yh(0,[(t()(),kh(0,0,null,null,4,"button",[],[[8,"disabled",0],[8,"hidden",0]],[[null,"click"]],(function(t,e,n){var r=!0;return"click"===e&&(r=!1!==t.component.fitToTrim()&&r),r}),null,null)),Au(512,null,uA,cA,[Ia,Ga,Oa]),Eu(2,278528,null,0,fA,[uA],{ngStyle:[0,"ngStyle"]},null),(t()(),Uh(3,null,[" "," "])),Tu(131072,$d,[Xd,us])],(function(t,e){t(e,2,0,e.component.getStyles(e.parent.context.$implicit))}),(function(t,e){var n=e.component;t(e,0,0,n.getDisabled(e.parent.context.$implicit),n.getHidden(e.parent.context.$implicit)),t(e,3,0,fl(e,3,0,fu(e,4).transform("topToolbar.fitToTrim")))}))}function YF(t){return Yh(0,[(t()(),kh(0,0,null,null,4,"button",[],[[8,"disabled",0],[8,"hidden",0]],[[null,"click"]],(function(t,e,n){var r=!0;return"click"===e&&(r=!1!==t.component.centerArtwork()&&r),r}),null,null)),Au(512,null,uA,cA,[Ia,Ga,Oa]),Eu(2,278528,null,0,fA,[uA],{ngStyle:[0,"ngStyle"]},null),(t()(),Uh(3,null,[" "," "])),Tu(131072,$d,[Xd,us])],(function(t,e){t(e,2,0,e.component.getStyles(e.parent.context.$implicit))}),(function(t,e){var n=e.component;t(e,0,0,n.getDisabled(e.parent.context.$implicit),n.getHidden(e.parent.context.$implicit)),t(e,3,0,fl(e,3,0,fu(e,4).transform("topToolbar.centerArtwork")))}))}function XF(t){return Yh(0,[(t()(),kh(0,0,null,null,4,"button",[],[[8,"disabled",0],[8,"hidden",0]],[[null,"click"]],(function(t,e,n){var r=!0;return"click"===e&&(r=!1!==t.component.resetImage()&&r),r}),null,null)),Au(512,null,uA,cA,[Ia,Ga,Oa]),Eu(2,278528,null,0,fA,[uA],{ngStyle:[0,"ngStyle"]},null),(t()(),Uh(3,null,[" "," "])),Tu(131072,$d,[Xd,us])],(function(t,e){t(e,2,0,e.component.getStyles(e.parent.context.$implicit))}),(function(t,e){var n=e.component;t(e,0,0,n.getDisabled(e.parent.context.$implicit),n.getHidden(e.parent.context.$implicit)),t(e,3,0,fl(e,3,0,fu(e,4).transform("topToolbar.reset")))}))}function $F(t){return Yh(0,[(t()(),kh(0,0,null,null,1,"au-sprite-icon",[["class","checkmark"]],null,null,null,Wz,Nz)),Eu(1,49152,null,0,qO,[],{icon:[0,"icon"]},null)],(function(t,e){t(e,1,0,"checked")}),null)}function QF(t){return Yh(0,[(t()(),kh(0,0,null,null,0,"span",[["class","checkmark"]],null,null,null,null,null))],null,null)}function ZF(t){return Yh(0,[(t()(),kh(0,0,null,null,7,"label",[["class","checkbox-wrapper"]],[[8,"hidden",0]],null,null,null,null)),(t()(),Uh(1,null,[" "," "])),Tu(131072,$d,[Xd,us]),(t()(),kh(3,0,null,null,0,"input",[["type","checkbox"]],[[8,"checked",0],[8,"disabled",0]],[[null,"click"]],(function(t,e,n){var r=!0;return"click"===e&&(r=!1!==t.component.changeKeepAspectRatio(n)&&r),r}),null,null)),(t()(),Ah(16777216,null,null,1,null,$F)),Eu(5,16384,null,0,nA,[Ka,Qa],{ngIf:[0,"ngIf"]},null),(t()(),Ah(16777216,null,null,1,null,QF)),Eu(7,16384,null,0,nA,[Ka,Qa],{ngIf:[0,"ngIf"]},null)],(function(t,e){var n=e.component;t(e,5,0,n.keepAspectRatio),t(e,7,0,!n.keepAspectRatio)}),(function(t,e){var n=e.component;t(e,0,0,n.getHidden(e.parent.context.$implicit)),t(e,1,0,fl(e,1,0,fu(e,2).transform("topToolbar.keepAspectRatio"))),t(e,3,0,n.keepAspectRatio,n.getDisabled(e.parent.context.$implicit))}))}function KF(t){return Yh(0,[(t()(),kh(0,0,null,null,4,"button",[],[[8,"disabled",0],[8,"hidden",0]],[[null,"click"]],(function(t,e,n){var r=!0;return"click"===e&&(r=!1!==t.component.applyToAll()&&r),r}),null,null)),Au(512,null,uA,cA,[Ia,Ga,Oa]),Eu(2,278528,null,0,fA,[uA],{ngStyle:[0,"ngStyle"]},null),(t()(),Uh(3,null,[" "," "])),Tu(131072,$d,[Xd,us])],(function(t,e){t(e,2,0,e.component.getStyles(e.parent.parent.context.$implicit))}),(function(t,e){var n=e.component;t(e,0,0,n.getDisabled(e.parent.parent.context.$implicit),n.getHidden(e.parent.parent.context.$implicit)),t(e,3,0,fl(e,3,0,fu(e,4).transform("topToolbar.applyToAll")))}))}function JF(t){return Yh(0,[(t()(),kh(0,0,null,null,2,null,null,null,null,null,null,null)),(t()(),Ah(16777216,null,null,1,null,KF)),Eu(2,16384,null,0,nA,[Ka,Qa],{ngIf:[0,"ngIf"]},null),(t()(),Ah(0,null,null,0))],(function(t,e){t(e,2,0,!0)}),null)}function tz(t){return Yh(0,[(t()(),kh(0,0,null,null,4,"button",[],[[8,"disabled",0],[8,"hidden",0]],[[null,"click"]],(function(t,e,n){var r=!0;return"click"===e&&(r=!1!==t.component.rotateImage()&&r),r}),null,null)),Au(512,null,uA,cA,[Ia,Ga,Oa]),Eu(2,278528,null,0,fA,[uA],{ngStyle:[0,"ngStyle"]},null),(t()(),Uh(3,null,[" "," "])),Tu(131072,$d,[Xd,us])],(function(t,e){t(e,2,0,e.component.getStyles(e.parent.context.$implicit))}),(function(t,e){var n=e.component;t(e,0,0,n.getDisabled(e.parent.context.$implicit),n.getHidden(e.parent.context.$implicit)),t(e,3,0,fl(e,3,0,fu(e,4).transform("topToolbar.rotateImage")))}))}function ez(t){return Yh(0,[(t()(),kh(0,0,null,null,1,"au-fullscreen-button",[["class","fullscreen-btn"]],null,[["document","fullscreenchange"],["document","webkitfullscreenchange"],["document","mozfullscreenchange"],["document","MSFullscreenChange"]],(function(t,e,n){var r=!0;return"document:fullscreenchange"===e&&(r=!1!==fu(t,1).fullscreenmodes(n)&&r),"document:webkitfullscreenchange"===e&&(r=!1!==fu(t,1).fullscreenmodes(n)&&r),"document:mozfullscreenchange"===e&&(r=!1!==fu(t,1).fullscreenmodes(n)&&r),"document:MSFullscreenChange"===e&&(r=!1!==fu(t,1).fullscreenmodes(n)&&r),r}),Iz,Cz)),Eu(1,114688,null,0,DO,[Ib],null,null)],(function(t,e){t(e,1,0)}),null)}function nz(t){return Yh(0,[(t()(),kh(0,0,null,null,26,null,null,null,null,null,null,null)),(t()(),kh(1,0,null,null,25,null,null,null,null,null,null,null)),Eu(2,16384,null,0,sA,[],{ngSwitch:[0,"ngSwitch"]},null),(t()(),Ah(16777216,null,null,1,null,NF)),Eu(4,278528,null,0,aA,[Ka,Qa,sA],{ngSwitchCase:[0,"ngSwitchCase"]},null),(t()(),Ah(16777216,null,null,1,null,WF)),Eu(6,278528,null,0,aA,[Ka,Qa,sA],{ngSwitchCase:[0,"ngSwitchCase"]},null),(t()(),Ah(16777216,null,null,1,null,VF)),Eu(8,278528,null,0,aA,[Ka,Qa,sA],{ngSwitchCase:[0,"ngSwitchCase"]},null),(t()(),Ah(16777216,null,null,1,null,UF)),Eu(10,278528,null,0,aA,[Ka,Qa,sA],{ngSwitchCase:[0,"ngSwitchCase"]},null),(t()(),Ah(16777216,null,null,1,null,qF)),Eu(12,278528,null,0,aA,[Ka,Qa,sA],{ngSwitchCase:[0,"ngSwitchCase"]},null),(t()(),Ah(16777216,null,null,1,null,GF)),Eu(14,278528,null,0,aA,[Ka,Qa,sA],{ngSwitchCase:[0,"ngSwitchCase"]},null),(t()(),Ah(16777216,null,null,1,null,YF)),Eu(16,278528,null,0,aA,[Ka,Qa,sA],{ngSwitchCase:[0,"ngSwitchCase"]},null),(t()(),Ah(16777216,null,null,1,null,XF)),Eu(18,278528,null,0,aA,[Ka,Qa,sA],{ngSwitchCase:[0,"ngSwitchCase"]},null),(t()(),Ah(16777216,null,null,1,null,ZF)),Eu(20,278528,null,0,aA,[Ka,Qa,sA],{ngSwitchCase:[0,"ngSwitchCase"]},null),(t()(),Ah(16777216,null,null,1,null,JF)),Eu(22,278528,null,0,aA,[Ka,Qa,sA],{ngSwitchCase:[0,"ngSwitchCase"]},null),(t()(),Ah(16777216,null,null,1,null,tz)),Eu(24,278528,null,0,aA,[Ka,Qa,sA],{ngSwitchCase:[0,"ngSwitchCase"]},null),(t()(),Ah(16777216,null,null,1,null,ez)),Eu(26,278528,null,0,aA,[Ka,Qa,sA],{ngSwitchCase:[0,"ngSwitchCase"]},null),(t()(),Ah(0,null,null,0))],(function(t,e){t(e,2,0,e.context.$implicit.name),t(e,4,0,"upload"),t(e,6,0,"rotateCanvas"),t(e,8,0,"fillToBleed"),t(e,10,0,"fillToTrim"),t(e,12,0,"fitToBleed"),t(e,14,0,"fitToTrim"),t(e,16,0,"center"),t(e,18,0,"reset"),t(e,20,0,"keepAspectRatio"),t(e,22,0,"applyToAll"),t(e,24,0,"rotateImage"),t(e,26,0,"fullscreen")}),null)}function rz(t){return Yh(0,[(t()(),Ah(16777216,null,null,1,null,nz)),Eu(1,278528,null,0,tA,[Ka,Qa,qa],{ngForOf:[0,"ngForOf"]},null)],(function(t,e){t(e,1,0,e.component.state.configuration.interface.topToolbar)}),null)}var iz=yl({encapsulation:0,styles:["[_nghost-%COMP%]{padding:19px 0;border:1px solid var(--theme-border-color);border-top:0;overflow:hidden;font-size:13px;line-height:18px}.data-panel[_ngcontent-%COMP%]{max-height:100%;position:relative}"],data:{}});function oz(t){return Yh(0,[(t()(),kh(0,0,null,null,5,"div",[["class","data-panel"],["perfectScrollbar",""]],null,null,null,null,null)),Eu(1,999424,null,0,Pk,[Lc,Ga,Ia,mc,[2,bk]],{config:[0,"config"]},null),(t()(),kh(2,0,null,null,1,"au-info-card",[],null,null,null,kz,Ez)),Eu(3,49152,null,0,LO,[gO,Ib],null,null),(t()(),kh(4,0,null,null,1,"au-report-card",[],null,null,null,Hz,Oz)),Eu(5,49152,null,0,NO,[gO,fO,pO,Ib],null,null)],(function(t,e){t(e,1,0,"")}),null)}var sz=yl({encapsulation:0,styles:["[_nghost-%COMP%]{padding:10px 0;border:1px solid var(--theme-border-color);border-top:0;overflow:hidden}.page-navigator[_ngcontent-%COMP%]{display:flex;flex-direction:column;align-items:center;max-height:100%;position:relative}"],data:{}});function az(t){return Yh(0,[(t()(),kh(0,0,null,null,1,"au-page-item",[],[[2,"active",null]],[[null,"click"]],(function(t,e,n){var r=!0;return"click"===e&&(r=!1!==fu(t,1).changeSurface()&&r),r}),mz,hz)),Eu(1,638976,null,0,OO,[nO,gO,Ib],{showDelete:[0,"showDelete"],surface:[1,"surface"],index:[2,"index"],active:[3,"active"]},null)],(function(t,e){var n=e.component;t(e,1,0,n.showDeleteButton,e.context.$implicit,e.context.index,e.context.index==n.state.currentSurfaceIndex)}),(function(t,e){t(e,0,0,e.context.index==e.component.state.currentSurfaceIndex)}))}function lz(t){return Yh(0,[(t()(),kh(0,0,null,null,1,"au-add-new-page",[],null,null,null,vz,yz)),Eu(1,49152,null,0,MO,[nO,Ib],null,null)],null,null)}function uz(t){return Yh(0,[(t()(),kh(0,0,[[1,0],["parent",1]],null,5,"div",[["class","page-navigator"],["perfectScrollbar",""]],null,null,null,null,null)),Eu(1,999424,null,0,Pk,[Lc,Ga,Ia,mc,[2,bk]],{config:[0,"config"]},null),(t()(),Ah(16777216,null,null,1,null,az)),Eu(3,278528,null,0,tA,[Ka,Qa,qa],{ngForOf:[0,"ngForOf"]},null),(t()(),Ah(16777216,null,null,1,null,lz)),Eu(5,16384,null,0,nA,[Ka,Qa],{ngIf:[0,"ngIf"]},null)],(function(t,e){var n=e.component;t(e,1,0,""),t(e,3,0,e.context.ngIf.surfaces),t(e,5,0,n.showAddSurfaceButton)}),null)}function cz(t){return Yh(0,[Bh(671088640,1,{parentRef:0}),(t()(),Ah(16777216,null,null,2,null,uz)),Eu(2,16384,null,0,nA,[Ka,Qa],{ngIf:[0,"ngIf"]},null),Tu(131072,bA,[us])],(function(t,e){var n=e.component;t(e,2,0,fl(e,2,0,fu(e,3).transform(n.product$)))}),null)}var hz=yl({encapsulation:0,styles:["[_nghost-%COMP%]{width:120px;position:relative;cursor:pointer}[_nghost-%COMP%]:not(:first-child){margin-top:10px}[_nghost-%COMP%]:hover   .delete-page-button[_ngcontent-%COMP%]{right:4px;top:4px;opacity:1}img[_ngcontent-%COMP%]{background-color:var(--theme-viewer-background-color);-o-object-fit:scale-down;object-fit:scale-down;box-sizing:border-box;width:100%;height:90px;border:2px solid var(--theme-border-color);border-radius:3px}img.active[_ngcontent-%COMP%]{border:2px solid var(--theme-primary-color)}.surface-name[_ngcontent-%COMP%]{margin-top:4px;font-size:12px;line-height:14px;color:#333;text-align:center}.status[_ngcontent-%COMP%]{width:24px;height:24px;position:absolute;left:4px;top:4px;background-repeat:no-repeat}.delete-page-button[_ngcontent-%COMP%]{width:32px;height:32px;padding:0;position:absolute;right:0;top:0;opacity:0;transition:right .3s,top .3s,opacity .3s}"],data:{}});function pz(t){return Yh(0,[(t()(),kh(0,0,null,null,1,"div",[["class","surface-name"]],null,null,null,null,null)),(t()(),Uh(1,null,["",""]))],null,(function(t,e){t(e,1,0,e.component.surface.name)}))}function dz(t){return Yh(0,[(t()(),kh(0,0,null,null,1,"au-sprite-icon",[],null,null,null,Wz,Nz)),Eu(1,49152,null,0,qO,[],{icon:[0,"icon"]},null)],(function(t,e){t(e,1,0,e.component.status)}),null)}function fz(t){return Yh(0,[(t()(),kh(0,0,null,null,2,"div",[],[[8,"className",0]],null,null,null,null)),(t()(),Ah(16777216,null,null,1,null,dz)),Eu(2,16384,null,0,nA,[Ka,Qa],{ngIf:[0,"ngIf"]},null)],(function(t,e){var n=e.component;t(e,2,0,"error"===n.status||"warning"===n.status)}),(function(t,e){t(e,0,0,Ul(1,"status ",e.component.status,""))}))}function gz(t){return Yh(0,[(t()(),kh(0,0,null,null,2,"button",[["class","delete-page-button"],["type","button"]],null,[[null,"click"]],(function(t,e,n){var r=!0;return"click"===e&&(r=!1!==t.component.delete()&&r),r}),null,null)),(t()(),kh(1,0,null,null,1,"au-sprite-icon",[],null,null,null,Wz,Nz)),Eu(2,49152,null,0,qO,[],{icon:[0,"icon"]},null)],(function(t,e){t(e,2,0,"delete")}),null)}function mz(t){return Yh(0,[Tu(0,GO,[GR]),(t()(),kh(1,0,null,null,1,"img",[["alt","preview"]],[[8,"src",4],[2,"active",null]],null,null,null,null)),Nh(2,2),(t()(),Ah(16777216,null,null,1,null,pz)),Eu(4,16384,null,0,nA,[Ka,Qa],{ngIf:[0,"ngIf"]},null),(t()(),Ah(16777216,null,null,1,null,fz)),Eu(6,16384,null,0,nA,[Ka,Qa],{ngIf:[0,"ngIf"]},null),(t()(),Ah(16777216,null,null,1,null,gz)),Eu(8,16384,null,0,nA,[Ka,Qa],{ngIf:[0,"ngIf"]},null)],(function(t,e){var n=e.component;t(e,4,0,n.surface.name),t(e,6,0,"error"===n.status||"warning"===n.status),t(e,8,0,n.showDelete)}),(function(t,e){var n=e.component,r=fl(e,1,0,t(e,2,0,fu(e,0),n.previewUrl,"url"));t(e,1,0,r,n.active)}))}var yz=yl({encapsulation:0,styles:['[_nghost-%COMP%]{width:120px}[_nghost-%COMP%]:not(:first-child){margin-top:10px}.add-new-page[_ngcontent-%COMP%]{box-sizing:border-box;width:100%;height:90px;border:1px solid var(--theme-border-color);border-radius:3px;position:relative;cursor:pointer}.add-new-page[_ngcontent-%COMP%]:after, .add-new-page[_ngcontent-%COMP%]:before{content:"";box-sizing:border-box;border:1px solid var(--theme-dark-border-color);border-radius:1px;position:absolute;left:0;right:0;top:0;bottom:0;margin:auto}.add-new-page[_ngcontent-%COMP%]:before{width:26px;height:2px}.add-new-page[_ngcontent-%COMP%]:after{width:2px;height:26px}'],data:{}});function vz(t){return Yh(0,[(t()(),kh(0,0,null,null,0,"div",[["class","add-new-page"]],null,[[null,"click"]],(function(t,e,n){var r=!0;return"click"===e&&(r=!1!==t.component.addNewSurface()&&r),r}),null,null))],null,null)}var _z=yl({encapsulation:0,styles:["[_nghost-%COMP%]{cursor:pointer}input[_ngcontent-%COMP%]{display:none}div[_ngcontent-%COMP%]{display:block;padding:8px}label[_ngcontent-%COMP%]{background-position:4px;background-repeat:no-repeat;font-weight:500;font-size:14px;line-height:16px;cursor:pointer;position:relative;top:-5px}au-sprite-icon[_ngcontent-%COMP%]{left:-4px;top:7px;position:relative}"],data:{}});function bz(t){return Yh(0,[(t()(),kh(0,0,null,null,7,null,null,null,null,null,null,null)),(t()(),kh(1,0,[[1,0],["fileInput",1]],null,0,"input",[["id","fileElem"],["type","file"]],[[8,"multiple",0],[8,"accept",0],[8,"disabled",0]],[[null,"change"]],(function(t,e,n){var r=!0;return"change"===e&&(r=!1!==t.component.onFileChange(n)&&r),r}),null,null)),(t()(),kh(2,0,null,null,5,"div",[],null,null,null,null,null)),(t()(),kh(3,0,null,null,4,"label",[["for","fileElem"]],null,null,null,null,null)),(t()(),kh(4,0,null,null,1,"au-sprite-icon",[],null,null,null,Wz,Nz)),Eu(5,49152,null,0,qO,[],{icon:[0,"icon"]},null),(t()(),Uh(6,null,[" "," "])),Tu(131072,$d,[Xd,us])],(function(t,e){t(e,5,0,"upload")}),(function(t,e){var n=e.component;t(e,1,0,n.state.configuration.uploader.multiple,Ul(1,"",n.state.configuration.uploader.fileTypes,""),n.disabled),t(e,6,0,fl(e,6,0,fu(e,7).transform("topToolbar.uploadButton")))}))}function wz(t){return Yh(0,[Bh(671088640,1,{fileInput:0}),(t()(),Ah(16777216,null,null,1,null,bz)),Eu(2,16384,null,0,nA,[Ka,Qa],{ngIf:[0,"ngIf"]},null)],(function(t,e){t(e,2,0,!e.component.hidden)}),null)}var Cz=yl({encapsulation:0,styles:[".fullscreen-btn[_ngcontent-%COMP%] > label[_ngcontent-%COMP%]:hover{cursor:pointer!important}"],data:{}});function xz(t){return Yh(0,[(t()(),kh(0,0,null,null,1,"au-sprite-icon",[],null,[[null,"click"]],(function(t,e,n){var r=!0;return"click"===e&&(r=!1!==t.component.closeFullscreen()&&r),r}),Wz,Nz)),Eu(1,49152,null,0,qO,[],{icon:[0,"icon"]},null)],(function(t,e){t(e,1,0,"fscreen_out")}),null)}function Sz(t){return Yh(0,[(t()(),kh(0,0,null,null,1,"au-sprite-icon",[],null,[[null,"click"]],(function(t,e,n){var r=!0;return"click"===e&&(r=!1!==t.component.openFullscreen()&&r),r}),Wz,Nz)),Eu(1,49152,null,0,qO,[],{icon:[0,"icon"]},null)],(function(t,e){t(e,1,0,"fscreen")}),null)}function Pz(t){return Yh(0,[(t()(),kh(0,0,null,null,5,"div",[["class","fullscreen-btn"]],null,null,null,null,null)),(t()(),kh(1,0,null,null,4,"label",[],null,null,null,null,null)),(t()(),Ah(16777216,null,null,1,null,xz)),Eu(3,16384,null,0,nA,[Ka,Qa],{ngIf:[0,"ngIf"]},null),(t()(),Ah(16777216,null,null,1,null,Sz)),Eu(5,16384,null,0,nA,[Ka,Qa],{ngIf:[0,"ngIf"]},null)],(function(t,e){var n=e.component;t(e,3,0,n.isFullScreen),t(e,5,0,!n.isFullScreen)}),null)}function Iz(t){return Yh(0,[(t()(),Ah(16777216,null,null,1,null,Pz)),Eu(1,16384,null,0,nA,[Ka,Qa],{ngIf:[0,"ngIf"]},null)],(function(t,e){t(e,1,0,e.component.supportFullScreen)}),null)}var Ez=yl({encapsulation:0,styles:["[_nghost-%COMP%]{display:block;padding:0 19px 19px;border-bottom:1px solid var(--theme-border-color)}.info-block[_ngcontent-%COMP%]:not(:first-child){margin-top:16px}.info-title[_ngcontent-%COMP%]{font-weight:700}.bleed-title[_ngcontent-%COMP%]{color:var(--theme-red-color)}.trim-title[_ngcontent-%COMP%]{color:var(--theme-blue-color)}.info-text[_ngcontent-%COMP%]{margin-top:4px}"],data:{}});function Tz(t){return Yh(0,[(t()(),kh(0,0,null,null,6,"div",[["class","info-block"]],null,null,null,null,null)),(t()(),kh(1,0,null,null,2,"div",[["class","info-title bleed-title"]],null,null,null,null,null)),(t()(),Uh(2,null,[" "," "])),Tu(131072,$d,[Xd,us]),(t()(),kh(4,0,null,null,2,"div",[["class","info-text"]],null,null,null,null,null)),(t()(),Uh(5,null,[" "," "])),Tu(131072,$d,[Xd,us])],null,(function(t,e){var n=e.component;t(e,2,0,fl(e,2,0,fu(e,3).transform("rightToolbar.info.bleed",n.bleedSizeTranslateParam))),t(e,5,0,fl(e,5,0,fu(e,6).transform("rightToolbar.info.bleedAreaText")))}))}function Az(t){return Yh(0,[(t()(),kh(0,0,null,null,9,"div",[["class","info-block"]],null,null,null,null,null)),(t()(),kh(1,0,null,null,5,"div",[["class","info-title"]],null,null,null,null,null)),Au(512,null,uA,cA,[Ia,Ga,Oa]),Eu(3,278528,null,0,fA,[uA],{ngStyle:[0,"ngStyle"]},null),Wh(4,{color:0}),(t()(),Uh(5,null,[" "," "])),Tu(131072,$d,[Xd,us]),(t()(),kh(7,0,null,null,2,"div",[["class","info-text"]],null,null,null,null,null)),(t()(),Uh(8,null,[" "," "])),Tu(131072,$d,[Xd,us])],(function(t,e){var n=t(e,4,0,e.context.$implicit.color);t(e,3,0,n)}),(function(t,e){t(e,5,0,fl(e,5,0,fu(e,6).transform(e.context.$implicit.title,e.context.$implicit.param))),t(e,8,0,fl(e,8,0,fu(e,9).transform(e.context.$implicit.description,e.context.$implicit.param)))}))}function kz(t){return Yh(0,[Tu(0,GO,[GR]),(t()(),Ah(16777216,null,null,1,null,Tz)),Eu(2,16384,null,0,nA,[Ka,Qa],{ngIf:[0,"ngIf"]},null),(t()(),kh(3,0,null,null,6,"div",[["class","info-block"]],null,null,null,null,null)),(t()(),kh(4,0,null,null,2,"div",[["class","info-title trim-title"]],null,null,null,null,null)),(t()(),Uh(5,null,[" "," "])),Tu(131072,$d,[Xd,us]),(t()(),kh(7,0,null,null,2,"div",[["class","info-text"]],null,null,null,null,null)),(t()(),Uh(8,null,[" "," "])),Tu(131072,$d,[Xd,us]),(t()(),Ah(16777216,null,null,1,null,Az)),Eu(11,278528,null,0,tA,[Ka,Qa,qa],{ngForOf:[0,"ngForOf"]},null),(t()(),kh(12,0,null,null,6,"div",[["class","info-block"]],null,null,null,null,null)),(t()(),kh(13,0,null,null,2,"b",[],null,null,null,null,null)),(t()(),Uh(14,null,[" "," "])),Tu(131072,$d,[Xd,us]),(t()(),kh(16,0,null,null,2,"div",[],[[8,"innerHTML",1]],null,null,null,null)),Tu(131072,$d,[Xd,us]),Nh(18,2)],(function(t,e){var n=e.component;t(e,2,0,n.hasBleed),t(e,11,0,n.safetyLinesLegends)}),(function(t,e){var n=e.component;t(e,5,0,fl(e,5,0,fu(e,6).transform("rightToolbar.info.productSize",n.productSizeTranslateParam))),t(e,8,0,fl(e,8,0,fu(e,9).transform("rightToolbar.info.productSizeText"))),t(e,14,0,fl(e,14,0,fu(e,15).transform("rightToolbar.info.rules.important")));var r=fl(e,16,0,t(e,18,0,fu(e,0),fl(e,16,0,fu(e,17).transform("rightToolbar.info.rules.text",n.rulesTranslateParam)),"html"));t(e,16,0,r)}))}var Oz=yl({encapsulation:0,styles:["[_nghost-%COMP%]{display:block;padding:19px 19px 0}.report-title[_ngcontent-%COMP%]{font-weight:700;font-size:14px;color:var(--theme-report-title-color);letter-spacing:.25px}.report-block[_ngcontent-%COMP%]{margin-top:15px}.report-block[_ngcontent-%COMP%] + .report-block[_ngcontent-%COMP%]{margin-top:21px}.error-title[_ngcontent-%COMP%], .no-errors-title[_ngcontent-%COMP%], .warning-title[_ngcontent-%COMP%]{font-weight:700;font-size:13px;line-height:18px}.no-errors-title[_ngcontent-%COMP%]{color:var(--theme-green-color)}.error-title[_ngcontent-%COMP%]{color:var(--theme-red-color)}.warning-title[_ngcontent-%COMP%]{color:var(--theme-orange-color)}.custom-buttons-block[_ngcontent-%COMP%]{display:flex;flex-direction:row;flex-wrap:wrap}button[_ngcontent-%COMP%]{padding:8px;color:var(--theme-grey-color);margin-right:8px;border:1px solid #e5e5e5;margin-top:8px}button[_ngcontent-%COMP%]:hover{background-color:#ededed}"],data:{}});function Mz(t){return Yh(0,[(t()(),kh(0,0,null,null,4,null,null,null,null,null,null,null)),(t()(),kh(1,0,null,null,3,"div",[["class","report-block"]],null,null,null,null,null)),(t()(),kh(2,0,null,null,2,"div",[["class","no-errors-title"]],null,null,null,null,null)),(t()(),Uh(3,null,[" "," "])),Tu(131072,$d,[Xd,us])],null,(function(t,e){t(e,3,0,fl(e,3,0,fu(e,4).transform("rightToolbar.report.noErrors")))}))}function Rz(t){return Yh(0,[(t()(),kh(0,0,null,null,3,"button",[],null,[[null,"click"]],(function(t,e,n){var r=!0;return"click"===e&&(r=!1!==t.component.customButtonClick(t.parent.context.$implicit)&&r),r}),null,null)),Au(512,null,uA,cA,[Ia,Ga,Oa]),Eu(2,278528,null,0,fA,[uA],{ngStyle:[0,"ngStyle"]},null),(t()(),Uh(3,null,[" "," "]))],(function(t,e){t(e,2,0,e.component.getStyles(e.parent.context.$implicit))}),(function(t,e){t(e,3,0,e.parent.context.$implicit.title)}))}function Dz(t){return Yh(0,[(t()(),kh(0,0,null,null,2,null,null,null,null,null,null,null)),(t()(),Ah(16777216,null,null,1,null,Rz)),Eu(2,16384,null,0,nA,[Ka,Qa],{ngIf:[0,"ngIf"]},null),(t()(),Ah(0,null,null,0))],(function(t,e){t(e,2,0,e.component.showButton(e.context.$implicit))}),null)}function Bz(t){return Yh(0,[(t()(),kh(0,0,null,null,2,"div",[["class","custom-buttons-block"]],null,null,null,null,null)),(t()(),Ah(16777216,null,null,1,null,Dz)),Eu(2,278528,null,0,tA,[Ka,Qa,qa],{ngForOf:[0,"ngForOf"]},null)],(function(t,e){t(e,2,0,e.component.state.configuration.interface.customButtons)}),null)}function jz(t){return Yh(0,[(t()(),kh(0,0,null,null,2,null,null,null,null,null,null,null)),(t()(),Ah(16777216,null,null,1,null,Bz)),Eu(2,16384,null,0,nA,[Ka,Qa],{ngIf:[0,"ngIf"]},null),(t()(),Ah(0,null,null,0))],(function(t,e){t(e,2,0,e.context.ngIf.configuration.interface.customButtons.length>0)}),null)}function Fz(t){return Yh(0,[(t()(),kh(0,0,null,null,5,"div",[["class","report-block"]],null,null,null,null,null)),(t()(),kh(1,0,null,null,2,"div",[["class","error-title"]],null,null,null,null,null)),(t()(),Uh(2,null,[" "," "])),Tu(131072,$d,[Xd,us]),(t()(),kh(4,0,null,null,1,"au-rule-report",[],null,null,null,$z,Vz)),Eu(5,49152,null,0,YO,[Ib],{ruleDisplayResults:[0,"ruleDisplayResults"]},null)],(function(t,e){t(e,5,0,e.component.errorRules)}),(function(t,e){t(e,2,0,fl(e,2,0,fu(e,3).transform("rightToolbar.report.errors")))}))}function zz(t){return Yh(0,[(t()(),kh(0,0,null,null,5,"div",[["class","report-block"]],null,null,null,null,null)),(t()(),kh(1,0,null,null,2,"div",[["class","warning-title"]],null,null,null,null,null)),(t()(),Uh(2,null,[" "," "])),Tu(131072,$d,[Xd,us]),(t()(),kh(4,0,null,null,1,"au-rule-report",[],null,null,null,$z,Vz)),Eu(5,49152,null,0,YO,[Ib],{ruleDisplayResults:[0,"ruleDisplayResults"]},null)],(function(t,e){t(e,5,0,e.component.warningRules)}),(function(t,e){t(e,2,0,fl(e,2,0,fu(e,3).transform("rightToolbar.report.warnings")))}))}function Lz(t){return Yh(0,[(t()(),kh(0,0,null,null,7,null,null,null,null,null,null,null)),(t()(),Ah(16777216,null,null,2,null,jz)),Eu(2,16384,null,0,nA,[Ka,Qa],{ngIf:[0,"ngIf"]},null),Tu(131072,bA,[us]),(t()(),Ah(16777216,null,null,1,null,Fz)),Eu(5,16384,null,0,nA,[Ka,Qa],{ngIf:[0,"ngIf"]},null),(t()(),Ah(16777216,null,null,1,null,zz)),Eu(7,16384,null,0,nA,[Ka,Qa],{ngIf:[0,"ngIf"]},null),(t()(),Ah(0,null,null,0))],(function(t,e){var n=e.component;t(e,2,0,fl(e,2,0,fu(e,3).transform(n.state$))),t(e,5,0,n.errorRules.length>0),t(e,7,0,n.warningRules.length>0)}),null)}function Hz(t){return Yh(0,[(t()(),kh(0,0,null,null,2,"div",[["class","report-title"]],null,null,null,null,null)),(t()(),Uh(1,null,[" ","\n"])),Tu(131072,$d,[Xd,us]),(t()(),Ah(16777216,null,null,1,null,Mz)),Eu(4,16384,null,0,nA,[Ka,Qa],{ngIf:[0,"ngIf"]},null),(t()(),Ah(16777216,null,null,1,null,Lz)),Eu(6,16384,null,0,nA,[Ka,Qa],{ngIf:[0,"ngIf"]},null)],(function(t,e){var n=e.component;t(e,4,0,0===n.errorRules.length&&0===n.warningRules.length),t(e,6,0,n.state.ruleResults.length>0)}),(function(t,e){t(e,1,0,fl(e,1,0,fu(e,2).transform("rightToolbar.report.title")))}))}var Nz=yl({encapsulation:0,styles:[""],data:{}});function Wz(t){return Yh(0,[(t()(),kh(0,0,null,null,3,":svg:svg",[],null,null,null,null,null)),Au(512,null,YT,XT,[qa,Ga,Ia,Oa]),Eu(2,278528,null,0,KT,[YT],{ngClass:[0,"ngClass"]},null),(t()(),kh(3,0,null,null,0,":svg:use",[],[[1,":xlink:href",0]],null,null,null,null))],(function(t,e){t(e,2,0,"svg-"+e.component.icon+"-dims")}),(function(t,e){t(e,3,0,"#"+e.component.icon)}))}var Vz=yl({encapsulation:0,styles:[".report-line[_ngcontent-%COMP%]{width:200px;position:relative;margin-top:10px}"],data:{}});function Uz(t){return Yh(0,[(t()(),kh(0,0,null,null,1,"au-rule-report-line",[],null,null,null,SL,lL)),Eu(1,573440,null,0,QO,[eO,fO,gO,Ib],{rule:[0,"rule"],page:[1,"page"],values:[2,"values"]},null)],(function(t,e){t(e,1,0,e.parent.context.$implicit.result.rule,e.parent.context.$implicit.page,e.parent.context.$implicit.result.actual)}),null)}function qz(t){return Yh(0,[(t()(),kh(0,0,null,null,2,"au-rule-report-line",[],null,null,null,SL,lL)),Eu(1,573440,null,0,QO,[eO,fO,gO,Ib],{rule:[0,"rule"],page:[1,"page"],values:[2,"values"]},null),Vh(32,2,new Array(1))],(function(t,e){var n=e.parent.parent.context.$implicit.result.rule,r=e.parent.parent.context.$implicit.page,i=t(e,2,0,e.context.$implicit);t(e,1,0,n,r,i)}),null)}function Gz(t){return Yh(0,[(t()(),kh(0,0,null,null,2,null,null,null,null,null,null,null)),(t()(),Ah(16777216,null,null,1,null,qz)),Eu(2,278528,null,0,tA,[Ka,Qa,qa],{ngForOf:[0,"ngForOf"]},null),(t()(),Ah(0,null,null,0))],(function(t,e){t(e,2,0,e.component.getFailedResolutionValues(e.parent.context.$implicit))}),null)}function Yz(t){return Yh(0,[(t()(),kh(0,0,null,null,2,null,null,null,null,null,null,null)),(t()(),kh(1,0,null,null,1,"au-rule-report-line",[],null,null,null,SL,lL)),Eu(2,573440,null,0,QO,[eO,fO,gO,Ib],{rule:[0,"rule"],page:[1,"page"],values:[2,"values"]},null)],(function(t,e){t(e,2,0,e.parent.context.$implicit.result.rule,e.parent.context.$implicit.page,e.parent.context.$implicit.result.actual)}),null)}function Xz(t){return Yh(0,[(t()(),kh(0,0,null,null,8,"div",[["class","report-line"]],null,null,null,null,null)),(t()(),kh(1,0,null,null,7,null,null,null,null,null,null,null)),Eu(2,16384,null,0,sA,[],{ngSwitch:[0,"ngSwitch"]},null),(t()(),Ah(16777216,null,null,1,null,Uz)),Eu(4,278528,null,0,aA,[Ka,Qa,sA],{ngSwitchCase:[0,"ngSwitchCase"]},null),(t()(),Ah(16777216,null,null,1,null,Gz)),Eu(6,278528,null,0,aA,[Ka,Qa,sA],{ngSwitchCase:[0,"ngSwitchCase"]},null),(t()(),Ah(16777216,null,null,1,null,Yz)),Eu(8,16384,null,0,lA,[Ka,Qa,sA],null,null)],(function(t,e){t(e,2,0,e.context.$implicit.result.rule.type),t(e,4,0,"colorspace"),t(e,6,0,"resolution")}),null)}function $z(t){return Yh(0,[(t()(),Ah(16777216,null,null,1,null,Xz)),Eu(1,278528,null,0,tA,[Ka,Qa,qa],{ngForOf:[0,"ngForOf"]},null)],(function(t,e){t(e,1,0,e.component.ruleDisplayResults)}),null)}var Qz=yl({encapsulation:0,styles:["[_nghost-%COMP%]{position:absolute;width:100%;height:100%;z-index:100;background-color:var(--theme-interface-color)}.preloader[_ngcontent-%COMP%]{display:flex;flex-direction:column;align-items:center;justify-content:center;width:100%;height:100%}.icon-preflight-logo[_ngcontent-%COMP%]{position:absolute;top:50%;left:50%;transform:translate(-50%,-50%);display:inline-block;height:calc(var(--theme-preloader-size) - var(--theme-preloader-spinner-space,10px));width:calc(var(--theme-preloader-size) - var(--theme-preloader-spinner-space,10px))}.loader-wrapper[_ngcontent-%COMP%]{display:inline-flex;align-items:center;justify-content:center;font-size:12px;position:relative;height:calc(var(--theme-preloader-size) + var(--theme-preloader-spinner-space,10px))}.loader[_ngcontent-%COMP%]{--theme-preloader-default-border-left:0.35em solid var(--theme-primary-color);--theme-preloader-default-border-right:0.35em solid var(--theme-border-color);--theme-preloader-default-border-top:0.35em solid var(--theme-border-color);--theme-preloader-default-border-bottom:0.35em solid var(--theme-border-color);--theme-preloader-default-background-image:none;--theme-preloader-default-background-clip:unset;--theme-preloader-default-background-origin:unset;transform:translateZ(0);-webkit-animation:1.1s linear infinite spin;animation:1.1s linear infinite spin;border-radius:50%;height:calc(var(--theme-preloader-size) + var(--theme-preloader-spinner-space,10px));width:calc(var(--theme-preloader-size) + var(--theme-preloader-spinner-space,10px))}.loader-message[_ngcontent-%COMP%]{margin-top:12px;font-size:16px;line-height:22px;text-align:center;color:#666}@-webkit-keyframes spin{0%{transform:rotate(0)}100%{transform:rotate(360deg)}}@keyframes spin{0%{transform:rotate(0)}100%{transform:rotate(360deg)}}"],data:{}});function Zz(t){return Yh(0,[(t()(),kh(0,0,null,null,8,"div",[["class","preloader"]],null,null,null,null,null)),(t()(),kh(1,0,null,null,4,"div",[["class","loader-wrapper"]],null,null,null,null,null)),(t()(),kh(2,0,null,null,0,"div",[["class","loader"]],null,null,null,null,null)),(t()(),kh(3,0,null,null,2,"div",[["class","icon-preflight-logo"]],null,null,null,null,null)),(t()(),kh(4,0,null,null,1,":svg:svg",[["style","height:100%; width:100%;"]],[[1,"viewBox",0]],null,null,null,null)),(t()(),kh(5,0,null,null,0,":svg:use",[[":xlink:href","#preloader"],["href","#preloader"]],null,null,null,null,null)),(t()(),kh(6,0,null,null,2,"div",[["class","loader-message"]],null,null,null,null,null)),(t()(),Uh(7,null,["",""])),Tu(131072,$d,[Xd,us])],null,(function(t,e){t(e,4,0,e.component.viewBox),t(e,7,0,fl(e,7,0,fu(e,8).transform("preloader.wait")))}))}var Kz=yl({encapsulation:0,styles:[".current-file-info[_ngcontent-%COMP%], .progress-bar-wrapper[_ngcontent-%COMP%], .progress-size[_ngcontent-%COMP%]{width:100%}.current-file-info[_ngcontent-%COMP%]{display:flex;justify-content:space-between;align-items:flex-end;margin-top:16px}.current-file-name[_ngcontent-%COMP%]{font-size:14px;line-height:16px;letter-spacing:.25px}.current-file-index[_ngcontent-%COMP%], .progress-size[_ngcontent-%COMP%]{font-size:12px;line-height:14px;color:var(--theme-light-grey-color);letter-spacing:.25px}.progress-bar[_ngcontent-%COMP%], .progress-bar-wrapper[_ngcontent-%COMP%]{height:8px;border-radius:4px}.progress-bar-wrapper[_ngcontent-%COMP%]{margin-top:8px;background-color:var(--theme-uploader-progressbar-color)}.progress-bar[_ngcontent-%COMP%]{background-color:var(--theme-primary-color);transition:width .2s}.progress-size[_ngcontent-%COMP%]{margin-top:8px}"],data:{animation:[{type:7,name:"fadeInOut",definitions:[{type:0,name:"void",styles:{type:6,styles:{opacity:"0"},offset:null},options:void 0},{type:0,name:"*",styles:{type:6,styles:{opacity:"1"},offset:null},options:void 0},{type:1,expr:":enter",animation:[{type:4,styles:null,timings:".3s"}],options:null},{type:1,expr:":leave",animation:[{type:4,styles:null,timings:".3s"}],options:null}],options:{}}]}});function Jz(t){return Yh(0,[(t()(),kh(0,0,null,null,3,null,null,null,null,null,null,null)),(t()(),kh(1,0,null,null,2,"div",[["class","popup-title"]],null,null,null,null,null)),(t()(),Uh(2,null,[" "," "])),Tu(131072,$d,[Xd,us])],null,(function(t,e){t(e,2,0,fl(e,2,0,fu(e,3).transform("uploader.processing")))}))}function tL(t){return Yh(0,[(t()(),kh(0,0,null,null,1,"div",[["class","current-file-index"]],null,null,null,null,null)),(t()(),Uh(1,null,[" ","/"," "]))],null,(function(t,e){var n=e.component;t(e,1,0,n.currentUploadFileIndex,n.totalUploadFiles)}))}function eL(t){return Yh(0,[(t()(),kh(0,0,null,null,17,null,null,null,null,null,null,null)),(t()(),kh(1,0,null,null,2,"div",[["class","popup-title"]],null,null,null,null,null)),(t()(),Uh(2,null,["",""])),Tu(131072,$d,[Xd,us]),(t()(),kh(4,0,null,null,4,"div",[["class","current-file-info"]],null,null,null,null,null)),(t()(),kh(5,0,null,null,1,"div",[["class","current-file-name"]],null,null,null,null,null)),(t()(),Uh(6,null,["",""])),(t()(),Ah(16777216,null,null,1,null,tL)),Eu(8,16384,null,0,nA,[Ka,Qa],{ngIf:[0,"ngIf"]},null),(t()(),kh(9,0,null,null,1,"div",[["class","progress-bar-wrapper"]],null,null,null,null,null)),(t()(),kh(10,0,null,null,0,"div",[["class","progress-bar"]],[[4,"width",null]],null,null,null,null)),(t()(),kh(11,0,null,null,3,"div",[["class","progress-size"]],null,null,null,null,null)),(t()(),Uh(12,null,[""," / ",""])),Nh(13,1),Nh(14,1),(t()(),kh(15,0,null,null,2,"button",[["class","popup-close"]],null,[[null,"click"]],(function(t,e,n){var r=!0;return"click"===e&&(r=!1!==t.component.cancel()&&r),r}),null,null)),(t()(),Uh(16,null,["",""])),Tu(131072,$d,[Xd,us])],(function(t,e){t(e,8,0,e.component.totalUploadFiles>1)}),(function(t,e){var n=e.component;t(e,2,0,fl(e,2,0,fu(e,3).transform("uploader.uploading"))),t(e,6,0,n.currentUploadFileName),t(e,10,0,n.percent+"%");var r=fl(e,12,0,t(e,13,0,fu(e.parent.parent.parent,0),n.uploadedSize)),i=fl(e,12,1,t(e,14,0,fu(e.parent.parent.parent,0),n.totalUploadSize));t(e,12,0,r,i),t(e,16,0,fl(e,16,0,fu(e,17).transform("uploader.cancel")))}))}function nL(t){return Yh(0,[(t()(),kh(0,0,null,null,4,"div",[["class","popup"]],null,null,null,null,null)),(t()(),Ah(16777216,null,null,1,null,Jz)),Eu(2,16384,null,0,nA,[Ka,Qa],{ngIf:[0,"ngIf"]},null),(t()(),Ah(16777216,null,null,1,null,eL)),Eu(4,16384,null,0,nA,[Ka,Qa],{ngIf:[0,"ngIf"]},null)],(function(t,e){var n=e.component;t(e,2,0,n.processingFiles),t(e,4,0,!n.processingFiles)}),null)}function rL(t){return Yh(0,[(t()(),kh(0,0,null,null,2,"div",[["class","error-popup-text"]],null,null,null,null,null)),(t()(),Uh(1,null,["",""])),Tu(131072,$d,[Xd,us])],null,(function(t,e){t(e,1,0,fl(e,1,0,fu(e,2).transform("uploader.error.types")))}))}function iL(t){return Yh(0,[(t()(),kh(0,0,null,null,2,"div",[["class","error-popup-text"]],null,null,null,null,null)),(t()(),Uh(1,null,["",""])),Tu(131072,$d,[Xd,us])],null,(function(t,e){t(e,1,0,fl(e,1,0,fu(e,2).transform("uploader.error.upload")))}))}function oL(t){return Yh(0,[(t()(),kh(0,0,null,null,10,"div",[["class","popup error-popup"]],null,null,null,null,null)),(t()(),kh(1,0,null,null,2,"div",[["class","popup-title"]],null,null,null,null,null)),(t()(),Uh(2,null,["",""])),Tu(131072,$d,[Xd,us]),(t()(),Ah(16777216,null,null,1,null,rL)),Eu(5,16384,null,0,nA,[Ka,Qa],{ngIf:[0,"ngIf"]},null),(t()(),Ah(16777216,null,null,1,null,iL)),Eu(7,16384,null,0,nA,[Ka,Qa],{ngIf:[0,"ngIf"]},null),(t()(),kh(8,0,null,null,2,"button",[["class","popup-close"]],null,[[null,"click"]],(function(t,e,n){var r=!0;return"click"===e&&(r=!1!==t.component.resetErrors()&&r),r}),null,null)),(t()(),Uh(9,null,["",""])),Tu(131072,$d,[Xd,us])],(function(t,e){var n=e.component;t(e,5,0,n.wrongFileTypes),t(e,7,0,n.uploadError)}),(function(t,e){t(e,2,0,fl(e,2,0,fu(e,3).transform("uploader.errorTitle"))),t(e,9,0,fl(e,9,0,fu(e,10).transform("uploader.errorButton")))}))}function sL(t){return Yh(0,[(t()(),kh(0,0,null,null,4,"div",[["class","overlay"]],[[2,"light-overlay",null],[24,"@fadeInOut",0]],null,null,null,null)),(t()(),Ah(16777216,null,null,1,null,nL)),Eu(2,16384,null,0,nA,[Ka,Qa],{ngIf:[0,"ngIf"]},null),(t()(),Ah(16777216,null,null,1,null,oL)),Eu(4,16384,null,0,nA,[Ka,Qa],{ngIf:[0,"ngIf"]},null)],(function(t,e){var n=e.component;t(e,2,0,!n.wrongFileTypes&&!n.uploadError),t(e,4,0,n.wrongFileTypes||n.uploadError)}),(function(t,e){t(e,0,0,e.component.lightOverlay,void 0)}))}function aL(t){return Yh(0,[Tu(0,WO,[]),(t()(),Ah(16777216,null,null,1,null,sL)),Eu(2,16384,null,0,nA,[Ka,Qa],{ngIf:[0,"ngIf"]},null)],(function(t,e){t(e,2,0,e.component.hasFiles)}),null)}var lL=yl({encapsulation:0,styles:["[_nghost-%COMP%]{display:block;margin-top:12px}a[_ngcontent-%COMP%]{color:var(--theme-primary-color);cursor:pointer}.fix[_ngcontent-%COMP%]{position:absolute;left:201px;top:0}"],data:{}});function uL(t){return Yh(0,[(t()(),kh(0,0,null,null,2,"span",[],null,null,null,null,null)),(t()(),Uh(1,null,[" "," "])),Tu(131072,$d,[Xd,us])],null,(function(t,e){var n=e.component;t(e,1,0,fl(e,1,0,fu(e,2).transform("rightToolbar.report.messages.wrongColorSpace",n.actualColorspaceTranslateParameter)))}))}function cL(t){return Yh(0,[(t()(),kh(0,0,null,null,2,"span",[],null,null,null,null,null)),(t()(),Uh(1,null,[" "," "])),Tu(131072,$d,[Xd,us])],null,(function(t,e){var n=e.component;t(e,1,0,fl(e,1,0,fu(e,2).transform("rightToolbar.report.messages.lowResolution",n.actualDpiTranslateParameter)))}))}function hL(t){return Yh(0,[(t()(),kh(0,0,null,null,2,"span",[],null,null,null,null,null)),(t()(),Uh(1,null,[" "," "])),Tu(131072,$d,[Xd,us])],null,(function(t,e){t(e,1,0,fl(e,1,0,fu(e,2).transform("rightToolbar.report.messages.notInsideBleedbox")))}))}function pL(t){return Yh(0,[(t()(),kh(0,0,null,null,2,"span",[],null,null,null,null,null)),(t()(),Uh(1,null,[" "," "])),Tu(131072,$d,[Xd,us])],null,(function(t,e){t(e,1,0,fl(e,1,0,fu(e,2).transform("rightToolbar.report.messages.notFillTrimbox")))}))}function dL(t){return Yh(0,[(t()(),kh(0,0,null,null,2,"span",[],null,null,null,null,null)),(t()(),Uh(1,null,[" "," "])),Tu(131072,$d,[Xd,us])],null,(function(t,e){t(e,1,0,fl(e,1,0,fu(e,2).transform("rightToolbar.report.messages.nomarginsBleedbox")))}))}function fL(t){return Yh(0,[(t()(),kh(0,0,null,null,2,"span",[],null,null,null,null,null)),(t()(),Uh(1,null,[" "," "])),Tu(131072,$d,[Xd,us])],null,(function(t,e){var n=e.component;t(e,1,0,fl(e,1,0,fu(e,2).transform("rightToolbar.report.messages.safetyboxes",n.unmatchedBoxes)))}))}function gL(t){return Yh(0,[(t()(),kh(0,0,null,null,2,"span",[],null,null,null,null,null)),(t()(),Uh(1,null,[" "," "])),Tu(131072,$d,[Xd,us])],null,(function(t,e){var n=e.component;t(e,1,0,fl(e,1,0,fu(e,2).transform("rightToolbar.report.messages.spotcolors",n.unallowedSpotColors)))}))}function mL(t){return Yh(0,[(t()(),kh(0,0,null,null,2,"span",[],null,null,null,null,null)),(t()(),Uh(1,null,[" "," "])),Tu(131072,$d,[Xd,us])],null,(function(t,e){t(e,1,0,fl(e,1,0,fu(e,2).transform("rightToolbar.report.messages.sameorientation")))}))}function yL(t){return Yh(0,[(t()(),kh(0,0,null,null,2,"span",[],null,null,null,null,null)),(t()(),Uh(1,null,[" "," "])),Tu(131072,$d,[Xd,us])],null,(function(t,e){var n=e.component;t(e,1,0,fl(e,1,0,fu(e,2).transform("rightToolbar.report.messages.forbiddenfonts",n.forbiddenFontsParam)))}))}function vL(t){return Yh(0,[(t()(),kh(0,0,null,null,2,"span",[],null,null,null,null,null)),(t()(),Uh(1,null,[" "," "])),Tu(131072,$d,[Xd,us])],null,(function(t,e){var n=e.component;t(e,1,0,fl(e,1,0,fu(e,2).transform("rightToolbar.report.messages.allowedfonts",n.allowedFontsParam)))}))}function _L(t){return Yh(0,[(t()(),kh(0,0,null,null,2,"span",[],null,null,null,null,null)),(t()(),Uh(1,null,[" "," "])),Tu(131072,$d,[Xd,us])],null,(function(t,e){var n=e.component;t(e,1,0,fl(e,1,0,fu(e,2).transform("rightToolbar.report.messages.fonttypes",n.allowedFontTypesParam)))}))}function bL(t){return Yh(0,[(t()(),kh(0,0,null,null,2,"span",[],null,null,null,null,null)),(t()(),Uh(1,null,[" "," "])),Tu(131072,$d,[Xd,us])],null,(function(t,e){var n=e.component;t(e,1,0,fl(e,1,0,fu(e,2).transform("rightToolbar.report.messages.minfontsize",n.minFontSizeParam)))}))}function wL(t){return Yh(0,[(t()(),kh(0,0,null,null,2,"span",[],null,null,null,null,null)),(t()(),Uh(1,null,[" "," "])),Tu(131072,$d,[Xd,us])],null,(function(t,e){t(e,1,0,fl(e,1,0,fu(e,2).transform("rightToolbar.report.messages.textascurves")))}))}function CL(t){return Yh(0,[(t()(),kh(0,0,null,null,2,"span",[],null,null,null,null,null)),(t()(),Uh(1,null,[" "," "])),Tu(131072,$d,[Xd,us])],null,(function(t,e){var n=e.component;t(e,1,0,fl(e,1,0,fu(e,2).transform("rightToolbar.report.messages.embeddedfonts",n.embeddedFontsParam)))}))}function xL(t){return Yh(0,[(t()(),kh(0,0,null,null,2,"a",[["class","fix"]],null,[[null,"click"]],(function(t,e,n){var r=!0,i=t.component;return"click"===e&&(r=!1!==i.fixProblem(i.page,i.rule)&&r),r}),null,null)),(t()(),Uh(1,null,[" ","\n"])),Tu(131072,$d,[Xd,us])],null,(function(t,e){t(e,1,0,fl(e,1,0,fu(e,2).transform("rightToolbar.report.fix")))}))}function SL(t){return Yh(0,[(t()(),kh(0,0,null,null,29,null,null,null,null,null,null,null)),Eu(1,16384,null,0,sA,[],{ngSwitch:[0,"ngSwitch"]},null),(t()(),Ah(16777216,null,null,1,null,uL)),Eu(3,278528,null,0,aA,[Ka,Qa,sA],{ngSwitchCase:[0,"ngSwitchCase"]},null),(t()(),Ah(16777216,null,null,1,null,cL)),Eu(5,278528,null,0,aA,[Ka,Qa,sA],{ngSwitchCase:[0,"ngSwitchCase"]},null),(t()(),Ah(16777216,null,null,1,null,hL)),Eu(7,278528,null,0,aA,[Ka,Qa,sA],{ngSwitchCase:[0,"ngSwitchCase"]},null),(t()(),Ah(16777216,null,null,1,null,pL)),Eu(9,278528,null,0,aA,[Ka,Qa,sA],{ngSwitchCase:[0,"ngSwitchCase"]},null),(t()(),Ah(16777216,null,null,1,null,dL)),Eu(11,278528,null,0,aA,[Ka,Qa,sA],{ngSwitchCase:[0,"ngSwitchCase"]},null),(t()(),Ah(16777216,null,null,1,null,fL)),Eu(13,278528,null,0,aA,[Ka,Qa,sA],{ngSwitchCase:[0,"ngSwitchCase"]},null),(t()(),Ah(16777216,null,null,1,null,gL)),Eu(15,278528,null,0,aA,[Ka,Qa,sA],{ngSwitchCase:[0,"ngSwitchCase"]},null),(t()(),Ah(16777216,null,null,1,null,mL)),Eu(17,278528,null,0,aA,[Ka,Qa,sA],{ngSwitchCase:[0,"ngSwitchCase"]},null),(t()(),Ah(16777216,null,null,1,null,yL)),Eu(19,278528,null,0,aA,[Ka,Qa,sA],{ngSwitchCase:[0,"ngSwitchCase"]},null),(t()(),Ah(16777216,null,null,1,null,vL)),Eu(21,278528,null,0,aA,[Ka,Qa,sA],{ngSwitchCase:[0,"ngSwitchCase"]},null),(t()(),Ah(16777216,null,null,1,null,_L)),Eu(23,278528,null,0,aA,[Ka,Qa,sA],{ngSwitchCase:[0,"ngSwitchCase"]},null),(t()(),Ah(16777216,null,null,1,null,bL)),Eu(25,278528,null,0,aA,[Ka,Qa,sA],{ngSwitchCase:[0,"ngSwitchCase"]},null),(t()(),Ah(16777216,null,null,1,null,wL)),Eu(27,278528,null,0,aA,[Ka,Qa,sA],{ngSwitchCase:[0,"ngSwitchCase"]},null),(t()(),Ah(16777216,null,null,1,null,CL)),Eu(29,278528,null,0,aA,[Ka,Qa,sA],{ngSwitchCase:[0,"ngSwitchCase"]},null),(t()(),kh(30,0,null,null,2,"a",[],null,[[null,"click"]],(function(t,e,n){var r=!0,i=t.component;return"click"===e&&(r=!1!==i.goToPage(i.page)&&r),r}),null,null)),(t()(),Uh(31,null,[" ("," ",")\n"])),Tu(131072,$d,[Xd,us]),(t()(),Ah(16777216,null,null,1,null,xL)),Eu(34,16384,null,0,nA,[Ka,Qa],{ngIf:[0,"ngIf"]},null)],(function(t,e){var n=e.component;t(e,1,0,n.rule.type),t(e,3,0,"colorspace"),t(e,5,0,"resolution"),t(e,7,0,"insideBleedbox"),t(e,9,0,"nomargins"),t(e,11,0,"nomarginsBleedbox"),t(e,13,0,"safetyboxes"),t(e,15,0,"spotcolors"),t(e,17,0,"sameorientation"),t(e,19,0,"forbiddenfonts"),t(e,21,0,"allowedfonts"),t(e,23,0,"fonttypes"),t(e,25,0,"minfontsize"),t(e,27,0,"textascurves"),t(e,29,0,"embeddedfonts"),t(e,34,0,!0===n.rule.enableFix&&n.isFixableRule)}),(function(t,e){var n=e.component;t(e,31,0,fl(e,31,0,fu(e,32).transform("rightToolbar.report.page")),n.page)}))}var PL=yl({encapsulation:0,styles:["input[type=text][_ngcontent-%COMP%]{width:100%;padding:0;border:0;line-height:inherit}.clickable-label-text[_ngcontent-%COMP%]{border-bottom:1px dashed transparent;transition:border-bottom .3s}.clickable-label-text[_ngcontent-%COMP%]:hover{border-bottom:1px dashed currentColor}"],data:{}});function IL(t){return Yh(0,[(t()(),kh(0,0,null,null,1,"div",[],[[2,"clickable-label-text",null],[4,"cursor",null]],[[null,"click"]],(function(t,e,n){var r=!0,i=t.component;return"click"===e&&(r=!1!==(i.editOnClick&&i.startEditing())&&r),r}),null,null)),(t()(),Uh(1,null,[" ","\n"]))],null,(function(t,e){var n=e.component;t(e,0,0,n.editOnClick,n.editOnClick?"pointer":"default"),t(e,1,0,n.text)}))}function EL(t){return Yh(0,[(t()(),kh(0,0,[[1,0],["textInput",1]],null,0,"input",[["type","text"]],[[8,"value",0]],[[null,"change"],[null,"blur"],[null,"keyup.enter"],[null,"keyup.escape"]],(function(t,e,n){var r=!0,i=t.component;return"change"===e&&(r=!1!==i.finishEditing()&&r),"blur"===e&&(r=!1!==i.finishEditing()&&r),"keyup.enter"===e&&(r=!1!==i.finishEditing()&&r),"keyup.escape"===e&&(r=!1!==i.cancelEditing()&&r),r}),null,null))],null,(function(t,e){t(e,0,0,e.component.text)}))}function TL(t){return Yh(0,[Bh(671088640,1,{textInput:0}),(t()(),Ah(16777216,null,null,1,null,IL)),Eu(2,16384,null,0,nA,[Ka,Qa],{ngIf:[0,"ngIf"]},null),(t()(),Ah(16777216,null,null,1,null,EL)),Eu(4,16384,null,0,nA,[Ka,Qa],{ngIf:[0,"ngIf"]},null)],(function(t,e){var n=e.component;t(e,2,0,!n.editing),t(e,4,0,n.editing)}),null)}var AL=yl({encapsulation:0,styles:["[_nghost-%COMP%]{-ms-grid-column:1;grid-column-start:1;-ms-grid-column-span:3;grid-column-end:4;-ms-grid-row:1;grid-row-start:1;-ms-grid-row-span:2;grid-row-end:3}.drop-area[_ngcontent-%COMP%]{display:flex;flex-direction:column;justify-content:center;align-items:center;box-sizing:border-box;height:100%;border:2px dashed var(--theme-dark-border-color);cursor:pointer;transition-property:background-color,border,visibility,opacity;transition-duration:.3s}.drop-area.highlight[_ngcontent-%COMP%]{background-color:var(--theme-uploader-hover-color);border:2px dashed var(--theme-primary-color)}.drop-area.hidden[_ngcontent-%COMP%]{visibility:hidden;opacity:0}.uploader-text[_ngcontent-%COMP%]{font-weight:500;font-size:18px;line-height:24px;letter-spacing:.1px;text-align:center;z-index:-1}.hint-text[_ngcontent-%COMP%]{z-index:-1;margin-top:20px;font-size:12px;line-height:16px;color:var(--theme-uploader-hinttext-color);letter-spacing:.25px;text-transform:uppercase}"],data:{animation:[{type:7,name:"fadeInOut",definitions:[{type:0,name:"void",styles:{type:6,styles:{opacity:"0"},offset:null},options:void 0},{type:0,name:"*",styles:{type:6,styles:{opacity:"1"},offset:null},options:void 0},{type:1,expr:":enter",animation:[{type:4,styles:null,timings:".3s"}],options:null},{type:1,expr:":leave",animation:[{type:4,styles:null,timings:".3s"}],options:null}],options:{}}]}});function kL(t){return Yh(0,[(t()(),kh(0,0,null,null,6,"div",[["auDnd",""],["class","drop-area"]],[[24,"@fadeInOut",0]],null,null,null,null)),Eu(1,16384,null,0,KO,[Ia,fO,Ib],null,null),(t()(),kh(2,0,null,null,2,"div",[["class","uploader-text"]],null,null,null,null,null)),(t()(),Uh(3,null,["",""])),Tu(131072,$d,[Xd,us]),(t()(),kh(5,0,null,null,1,"div",[["class","hint-text"]],null,null,null,null,null)),(t()(),Uh(6,null,["",""]))],null,(function(t,e){var n=e.component;t(e,0,0,void 0),t(e,3,0,fl(e,3,0,fu(e,4).transform("uploader.text"))),t(e,6,0,n.state.configuration.uploader.fileTypes)}))}function OL(t){return Yh(0,[(t()(),Ah(16777216,null,null,1,null,kL)),Eu(1,16384,null,0,nA,[Ka,Qa],{ngIf:[0,"ngIf"]},null)],(function(t,e){t(e,1,0,e.component.state.configuration)}),null)}var ML=yl({encapsulation:0,styles:[""],data:{animation:[{type:7,name:"fadeInOut",definitions:[{type:0,name:"void",styles:{type:6,styles:{opacity:"0"},offset:null},options:void 0},{type:0,name:"*",styles:{type:6,styles:{opacity:"1"},offset:null},options:void 0},{type:1,expr:":enter",animation:[{type:4,styles:null,timings:".3s"}],options:null},{type:1,expr:":leave",animation:[{type:4,styles:null,timings:".3s"}],options:null}],options:{}}]}});function RL(t){return Yh(0,[(t()(),kh(0,0,null,null,14,"div",[["class","overlay light-overlay"]],[[24,"@fadeInOut",0]],null,null,null,null)),(t()(),kh(1,0,null,null,13,"div",[["class","popup error-popup"]],null,null,null,null,null)),(t()(),kh(2,0,null,null,2,"div",[["class","popup-title"]],null,null,null,null,null)),(t()(),Uh(3,null,["",""])),Tu(131072,$d,[Xd,us]),(t()(),kh(5,0,null,null,2,"div",[["class","error-popup-text"]],null,null,null,null,null)),(t()(),Uh(6,null,["",""])),Tu(131072,$d,[Xd,us]),(t()(),kh(8,0,null,null,6,"div",[["class","popup-buttons"]],null,null,null,null,null)),(t()(),kh(9,0,null,null,2,"button",[["class","popup-close"]],null,[[null,"click"]],(function(t,e,n){var r=!0;return"click"===e&&(r=!1!==t.component.cancel()&&r),r}),null,null)),(t()(),Uh(10,null,[" "," "])),Tu(131072,$d,[Xd,us]),(t()(),kh(12,0,null,null,2,"button",[["class","popup-delete"]],null,[[null,"click"]],(function(t,e,n){var r=!0;return"click"===e&&(r=!1!==t.component.delete()&&r),r}),null,null)),(t()(),Uh(13,null,[" "," "])),Tu(131072,$d,[Xd,us])],null,(function(t,e){t(e,0,0,void 0),t(e,3,0,fl(e,3,0,fu(e,4).transform("leftToolbar.deletePage.deleteTitle"))),t(e,6,0,fl(e,6,0,fu(e,7).transform("leftToolbar.deletePage.deleteMessage"))),t(e,10,0,fl(e,10,0,fu(e,11).transform("leftToolbar.deletePage.deleteCancel"))),t(e,13,0,fl(e,13,0,fu(e,14).transform("leftToolbar.deletePage.delete")))}))}class DL{constructor(t,e){this.count=t,this.source=e}call(t,e){return e.subscribe(new BL(t,this.count,this.source))}}class BL extends g{constructor(t,e,n){super(t),this.count=e,this.source=n}error(t){if(!this.isStopped){const{source:e,count:n}=this;if(0===n)return super.error(t);n>-1&&(this.count=n-1),e.subscribe(this._unsubscribeAndRecycle())}}}class jL extends E{constructor(t=Number.POSITIVE_INFINITY,e=Number.POSITIVE_INFINITY,n){super(),this.scheduler=n,this._events=[],this._infiniteTimeWindow=!1,this._bufferSize=t<1?1:t,this._windowTime=e<1?1:e,e===Number.POSITIVE_INFINITY?(this._infiniteTimeWindow=!0,this.next=this.nextInfiniteTimeWindow):this.next=this.nextTimeWindow}nextInfiniteTimeWindow(t){const e=this._events;e.push(t),e.length>this._bufferSize&&e.shift(),super.next(t)}nextTimeWindow(t){this._events.push(new FL(this._getNow(),t)),this._trimBufferThenGetEvents(),super.next(t)}_subscribe(t){const e=this._infiniteTimeWindow,n=e?this._events:this._trimBufferThenGetEvents(),r=this.scheduler,i=n.length;let o;if(this.closed)throw new S;if(this.isStopped||this.hasError?o=p.EMPTY:(this.observers.push(t),o=new P(this,t)),r&&t.add(t=new G_(t,r)),e)for(let s=0;s<i&&!t.closed;s++)t.next(n[s]);else for(let s=0;s<i&&!t.closed;s++)t.next(n[s].value);return this.hasError?t.error(this.thrownError):this.isStopped&&t.complete(),o}_getNow(){return(this.scheduler||V_).now()}_trimBufferThenGetEvents(){const t=this._getNow(),e=this._bufferSize,n=this._windowTime,r=this._events,i=r.length;let o=0;for(;o<i&&!(t-r[o].time<n);)o++;return i>e&&(o=Math.max(o,i-e)),o>0&&r.splice(0,o),r}}class FL{constructor(t,e){this.time=t,this.value=e}}function zL(t,e,n){let r;return r=t&&"object"==typeof t?t:{bufferSize:t,windowTime:e,refCount:!1,scheduler:n},t=>t.lift(function({bufferSize:t=Number.POSITIVE_INFINITY,windowTime:e=Number.POSITIVE_INFINITY,refCount:n,scheduler:r}){let i,o,s=0,a=!1,l=!1;return function(u){s++,i&&!a||(a=!1,i=new jL(t,e,r),o=u.subscribe({next(t){i.next(t)},error(t){a=!0,i.error(t)},complete(){l=!0,i.complete()}}));const c=i.subscribe(this);this.add(()=>{s--,c.unsubscribe(),o&&!l&&n&&0===s&&(o.unsubscribe(),o=void 0,i=void 0)})}}(r))}class LL{constructor(t){this.selector=t}call(t,e){return e.subscribe(new HL(t,this.selector,this.caught))}}class HL extends N{constructor(t,e,n){super(t),this.selector=e,this.caught=n}error(t){if(!this.isStopped){let n;try{n=this.selector(t,this.caught)}catch(e){return void super.error(e)}this._unsubscribeAndRecycle();const r=new k(this,void 0,void 0);this.add(r),H(this,n,void 0,void 0,r)}}}var NL={},WL={};function VL(t){for(var e=[],n=0,r=0,i=0;i<t.length;i+=1){var o=NL[t[i]];if(void 0===o)throw new Error("Invalid character ("+t[i]+")");var s=32&o;if(r+=(o&=31)<<n,s)n+=5;else{var a=1&r;r>>>=1,e.push(a?0===r?-2147483648:-r:r),r=n=0}}return e}"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=".split("").forEach((function(t,e){NL[t]=e,WL[e]=t}));let UL=(()=>{class t{constructor(t){this.httpBackend=t}logOnServer(t,e,n){const r=new yM("POST",t,e,n||{});return this.httpBackend.handle(r).pipe(oM(t=>t instanceof wM),W(t=>t.body))}}return t.ngInjectableDef=mt({token:t,factory:function(e){return new(e||t)(qt(uM))},providedIn:null}),t})();const qL=function(){var t={TRACE:0,DEBUG:1,INFO:2,LOG:3,WARN:4,ERROR:5,FATAL:6,OFF:7};return t[t.TRACE]="TRACE",t[t.DEBUG]="DEBUG",t[t.INFO]="INFO",t[t.LOG]="LOG",t[t.WARN]="WARN",t[t.ERROR]="ERROR",t[t.FATAL]="FATAL",t[t.OFF]="OFF",t}();class GL{}class YL{constructor(t){this.config=t,this._config=t}updateConfig(t){this._config=this._clone(t)}getConfig(){return this._clone(this._config)}_clone(t){const e=new GL;return Object.keys(t).forEach(n=>{e[n]=t[n]}),e}}const XL=["purple","teal","gray","gray","red","red","red"];class $L{static prepareMetaString(t,e,n,r){return`${t} ${e}${n?` [${n}:${r}]`:""}`}static getColor(t,e){switch(t){case qL.TRACE:return this.getColorFromConfig(qL.TRACE,e);case qL.DEBUG:return this.getColorFromConfig(qL.DEBUG,e);case qL.INFO:case qL.LOG:return this.getColorFromConfig(qL.INFO,e);case qL.WARN:case qL.ERROR:case qL.FATAL:return this.getColorFromConfig(qL.FATAL,e);case qL.OFF:default:return}}static getColorFromConfig(t,e){return e?e[t]:XL[t]}static getCallerDetails(){const t=new Error("");try{const e=t.stack.split("\n")[4].split("/"),n=e[e.length-1].replace(/[)]/g,"").split(":");return{fileName:n[0],lineNumber:n[1]}}catch(e){return{fileName:null,lineNumber:null}}}static prepareMessage(t){try{"string"==typeof t||t instanceof Error||(t=JSON.stringify(t,null,2))}catch(e){t='The provided "message" value could not be parsed with JSON.stringify().'}return t}static prepareAdditionalParameters(t){return null==t?null:t.map((t,e)=>{try{return"object"==typeof t&&JSON.stringify(t),t}catch(n){return`The additional[${e}] value could not be parsed using JSON.stringify().`}})}}class QL{constructor(t,e,n){this.fileName=t,this.lineNumber=e,this.columnNumber=n}toString(){return this.fileName+":"+this.lineNumber+":"+this.columnNumber}}let ZL=(()=>{class t{constructor(t){this.httpBackend=t,this.sourceMapCache=new Map,this.logPositionCache=new Map}static getStackLine(){const t=new Error;try{throw t}catch(e){try{return t.stack.split("\n")[5]}catch(e){return null}}}static getPosition(t){const e=t.lastIndexOf("/");let n=t.indexOf(")");n<0&&(n=void 0);const r=t.substring(e+1,n).split(":");return 3===r.length?new QL(r[0],+r[1],+r[2]):new QL("unknown",0,0)}static getTranspileLocation(t){let e=t.indexOf("(");e<0&&(e=t.lastIndexOf(" "));let n=t.indexOf(")");return n<0&&(n=void 0),t.substring(e+1,n)}static getMapFilePath(e){const n=t.getTranspileLocation(e),r=n.substring(0,n.lastIndexOf(":"));return r.substring(0,r.lastIndexOf(":"))+".map"}static getMapping(t,e){let n=0,r=0,i=0;const o=t.mappings.split(";");for(let s=0;s<o.length;s++){let a=0;const l=o[s].split(",");for(let o=0;o<l.length;o++){const u=VL(l[o]);if(u.length>=4&&(a+=u[0],n+=u[1],r+=u[2],i+=u[3]),s===e.lineNumber){if(a===e.columnNumber)return new QL(t.sources[n],r,i);if(o+1===l.length)return new QL(t.sources[n],r,0)}}}return new QL("unknown",0,0)}_getSourceMap(e,n){const r=new yM("GET",e),i=n.toString();if(this.logPositionCache.has(i))return this.logPositionCache.get(i);this.sourceMapCache.has(e)||this.sourceMapCache.set(e,this.httpBackend.handle(r).pipe(oM(t=>t instanceof wM),W(t=>t.body),function(t=-1){return e=>e.lift(new DL(t,e))}(3),zL(1)));const o=this.sourceMapCache.get(e).pipe(W(e=>t.getMapping(e,n)),(s=()=>dd(n),function(t){const e=new LL(s),n=t.lift(e);return e.caught=n}),zL(1));var s;return this.logPositionCache.set(i,o),o}getCallerDetails(e){const n=t.getStackLine();return n?dd([t.getPosition(n),t.getMapFilePath(n)]).pipe(Td(([t,n])=>e?this._getSourceMap(n,t):dd(t))):dd(new QL("",0,0))}}return t.ngInjectableDef=mt({token:t,factory:function(e){return new(e||t)(qt(uM))},providedIn:null}),t})();const KL=["TRACE","DEBUG","INFO","LOG","WARN","ERROR","FATAL","OFF"];let JL=(()=>{class t{constructor(t,e,n,r,i){this.mapperService=t,this.httpService=e,this.platformId=r,this.datePipe=i,this._withCredentials=!1,this._isIE=EA(r)&&navigator&&navigator.userAgent&&!(-1===navigator.userAgent.indexOf("MSIE")&&!navigator.userAgent.match(/Trident\//)&&!navigator.userAgent.match(/Edge\//)),this.config=new YL(n),this._logFunc=this._isIE?this._logIE.bind(this):this._logModern.bind(this)}trace(t,...e){this._log(qL.TRACE,t,e)}debug(t,...e){this._log(qL.DEBUG,t,e)}info(t,...e){this._log(qL.INFO,t,e)}log(t,...e){this._log(qL.LOG,t,e)}warn(t,...e){this._log(qL.WARN,t,e)}error(t,...e){this._log(qL.ERROR,t,e)}fatal(t,...e){this._log(qL.FATAL,t,e)}setCustomHttpHeaders(t){this._customHttpHeaders=t}setCustomParams(t){this._customParams=t}setWithCredentialsOptionValue(t){this._withCredentials=t}registerMonitor(t){this._loggerMonitor=t}updateConfig(t){this.config.updateConfig(t)}getConfigSnapshot(){return this.config.getConfig()}_logIE(t,e,n,r){switch(r=r||[],t){case qL.WARN:console.warn(`${e} `,n,...r);break;case qL.ERROR:case qL.FATAL:console.error(`${e} `,n,...r);break;case qL.INFO:console.info(`${e} `,n,...r);break;default:console.log(`${e} `,n,...r)}}_logModern(t,e,n,r){const i=this.getConfigSnapshot().colorScheme,o=$L.getColor(t,i);switch(r=r||[],t){case qL.WARN:console.warn(`%c${e}`,`color:${o}`,n,...r);break;case qL.ERROR:case qL.FATAL:console.error(`%c${e}`,`color:${o}`,n,...r);break;case qL.INFO:console.info(`%c${e}`,`color:${o}`,n,...r);break;default:console.log(`%c${e}`,`color:${o}`,n,...r)}}_log(t,e,n=[],r=!0){const i=this.config.getConfig(),o=r&&i.serverLoggingUrl&&t>=i.serverLogLevel,s=t>=i.level;if(!e||!o&&!s)return;const a=KL[t];e="function"==typeof e?e():e,e=$L.prepareMessage(e);const l=$L.prepareAdditionalParameters(n),u=i.timestampFormat?this.datePipe.transform(new Date,i.timestampFormat):(new Date).toISOString();this.mapperService.getCallerDetails(i.enableSourceMaps).subscribe(r=>{const c={message:e,additional:l,level:t,timestamp:u,fileName:r.fileName,lineNumber:r.lineNumber.toString()};if(this._loggerMonitor&&s&&this._loggerMonitor.onLog(c),o){e=e instanceof Error?e.stack:e,c.message=e;const t=this._customHttpHeaders||new cM;t.set("Content-Type","application/json");const n={headers:t,params:this._customParams||new dM,responseType:i.httpResponseType||"json",withCredentials:this._withCredentials};this.httpService.logOnServer(i.serverLoggingUrl,c,n).subscribe(t=>{},t=>{this._log(qL.ERROR,`FAILED TO LOG ON SERVER: ${e}`,[t],!1)})}if(s&&!i.disableConsoleLogging){const i=$L.prepareMetaString(u,a,r.fileName,r.lineNumber.toString());return this._logFunc(t,i,e,n)}})}}return t.ngInjectableDef=mt({token:t,factory:function(e){return new(e||t)(qt(ZL),qt(UL),qt(GL),qt(mc),qt(wA))},providedIn:null}),t})(),tH=(()=>{class t{constructor(t,e,n,r){this.mapperService=t,this.httpService=e,this.platformId=n,this.datePipe=r}create(t,e,n,r){const i=new JL(r||this.mapperService,e||this.httpService,t,this.platformId,this.datePipe);return n&&i.registerMonitor(n),i}}return t.ngInjectableDef=mt({token:t,factory:function(e){return new(e||t)(qt(ZL),qt(UL),qt(mc),qt(wA))},providedIn:null}),t})(),eH=(()=>{class t{static forRoot(e){return{ngModule:t,providers:[{provide:GL,useValue:e||{}},JL,UL,tH,ZL]}}static forChild(){return{ngModule:t,providers:[JL,UL,tH,ZL]}}}return t.ngModuleDef=fe({type:t}),t})();eH.ngInjectorDef=yt({factory:function(t){return new(t||eH)},providers:[JL,UL,tH,ZL,wA],imports:[[CA]]});var nH=Kp(iM,[],(function(t){return function(t){const e={},n=[];let r=!1;for(let i=0;i<t.length;i++){const o=t[i];o.token===hs&&!0===o.value&&(r=!0),1073741824&o.flags&&n.push(o.token),o.index=i,e[dl(o.token)]=o}return{factory:null,providersByKey:e,providers:t,modules:n,isRoot:r}}([Ql(512,xa,Sa,[[8,[BF]],[3,xa],Qt]),Ql(5120,_c,Ph,[[3,_c]]),Ql(4608,zT,LT,[_c,[2,FT]]),Ql(5120,qu,Eh,[Lc]),Ql(4608,Tc,Tc,[]),Ql(5120,hc,pc,[]),Ql(5120,qa,xh,[]),Ql(5120,Ga,Sh,[]),Ql(4608,GR,YR,[SA]),Ql(6144,Wi,null,[GR]),Ql(4608,LR,NR,[]),Ql(5120,aR,(function(t,e,n,r,i,o,s,a){return[new FR(t,e,n),new qR(r),new WR(i,o,s,a)]}),[SA,Lc,mc,SA,SA,LR,vc,[2,HR]]),Ql(4608,lR,lR,[aR,Lc]),Ql(135680,hR,hR,[SA]),Ql(4608,vR,vR,[lR,hR,hc]),Ql(5120,MD,Zj,[]),Ql(5120,RB,Kj,[]),Ql(4608,gj,Qj,[SA,MD,RB]),Ql(5120,Aa,Jj,[vR,gj,Lc]),Ql(6144,cR,null,[hR]),Ql(4608,Gc,Gc,[Lc]),Ql(4608,Ek,Nj,[Aa,SA]),Ql(4608,DM,BM,[SA,mc,MM]),Ql(4608,jM,jM,[DM,RM]),Ql(5120,IM,(function(t){return[t]}),[jM]),Ql(4608,kM,kM,[]),Ql(6144,AM,null,[kM]),Ql(4608,OM,OM,[AM]),Ql(6144,uM,null,[OM]),Ql(4608,lM,FM,[uM,Ps]),Ql(4608,SM,SM,[lM]),Ql(4608,ZL,ZL,[uM]),Ql(4608,UL,UL,[uM]),Ql(4608,wA,wA,[_c]),Ql(4608,JL,JL,[ZL,UL,GL,mc,wA]),Ql(4608,tH,tH,[ZL,UL,mc,wA]),Ql(4608,Od,eM,[SM]),Ql(4608,jd,Fd,[]),Ql(4608,Wd,Vd,[]),Ql(4608,Dd,Bd,[]),Ql(4608,qd,qd,[]),Ql(4608,Xd,Xd,[qd,Od,jd,Wd,Dd,Yd,Gd]),Ql(1073742336,CA,CA,[]),Ql(1024,mi,nD,[]),Ql(1024,uc,(function(t){return[(e=t,iR("probe",sR),iR("coreTokens",Object.assign({},oR,(e||[]).reduce((t,e)=>(t[e.name]=e.token,t),{}))),()=>sR)];var e}),[[2,th]]),Ql(512,cc,cc,[[2,uc]]),Ql(131584,oh,oh,[Lc,vc,Ps,mi,xa,cc]),Ql(1073742336,Th,Th,[oh]),Ql(1073742336,iD,iD,[[3,iD]]),Ql(1073742336,iF,iF,[]),Ql(1073742336,zM,zM,[]),Ql(1073742336,LM,LM,[]),Ql(1073742336,eH,eH,[]),Ql(1073742336,Ik,Ik,[]),Ql(1073742336,HM,HM,[]),Ql(1073742336,lF,lF,[[2,aF],[2,HR]]),Ql(1073742336,PF,PF,[]),Ql(131584,J_,J_,[]),Ql(2048,vb,null,[J_]),Ql(256,eb,void 0,[]),Ql(1024,nb,Wb,[eb]),Ql(256,sb,{state:UO},[]),Ql(2048,ab,null,[sb]),Ql(1024,ob,Nb,[Ps,sb,ab]),Ql(256,ib,fb,[]),Ql(256,pb,void 0,[]),Ql(1024,hb,Lb,[pb]),Ql(1024,db,jb,[hb]),Ql(1024,ub,(function(t,e){return[zb(t),Fb(e)]}),[db,db]),Ql(256,lb,[],[]),Ql(1024,cb,Vb,[ub,lb]),Ql(1024,rb,mb,[ib,cb]),Ql(131584,bb,bb,[vb,nb,ob,rb]),Ql(2048,yb,null,[bb]),Ql(131584,wb,wb,[]),Ql(131584,Sb,Sb,[J_,yb,wb,nb]),Ql(2048,xb,null,[Sb]),Ql(512,Ib,Ib,[xb,J_,bb]),Ql(1024,tb,Ub,[[3,Ib]]),Ql(1073742336,Hb,Hb,[J_,yb,wb,Ib,[2,tb]]),Ql(1073742336,Qd,Qd,[]),Ql(1073742336,nM,nM,[]),Ql(1073742336,iM,iM,[Ps]),Ql(256,hs,!0,[]),Ql(256,tF,"BrowserAnimations",[]),Ql(256,MM,"XSRF-TOKEN",[]),Ql(256,RM,"X-XSRF-TOKEN",[]),Ql(256,GL,{level:7,serverLogLevel:7},[]),Ql(256,Gd,void 0,[]),Ql(256,Yd,void 0,[])])}));(function(){if(vi)throw new Error("Cannot enable prod mode after platform setup.");yi=!1})(),eD().bootstrapModuleFactory(nH).catch(t=>console.error(t))},zn8P:function(t,e){function n(t){return Promise.resolve().then((function(){var e=new Error("Cannot find module '"+t+"'");throw e.code="MODULE_NOT_FOUND",e}))}n.keys=function(){return[]},n.resolve=n,t.exports=n,n.id="zn8P"}},[[0,0]]]);
(window.webpackJsonp=window.webpackJsonp||[]).push([[5],{DkCW:function(e){e.exports=JSON.parse('{"uploader":{"text":"Drag and drop your files here","uploading":"Uploading...","processing":"Processing ...","cancel":"Cancel","errorTitle":"Upload Error","error":{"types":"Unsupported file format.","upload":"Ooops! Something went wrong.","process":"Preflight Tool can\'t process your file."},"errorButton":"Try Again"},"topToolbar":{"uploadButton":"Upload file","fillToBleed":"Fill to Bleed","fillToTrim":"Fill to Trim","fitToBleed":"Fit to Bleed","fitToTrim":"Fit to Trim","rotateCanvas":"Rotate Canvas","centerArtwork":"Center Artwork","keepAspectRatio":"Keep aspect ratio","reset":"Reset","download":"Download PDF","applyToAll":"Apply to all pages","rotateImage":"Rotate image"},"leftToolbar":{"deletePage":{"deleteTitle":"Confirm delete","deleteMessage":"Are you sure you want to delete this page?","deleteCancel":"Cancel","delete":"Delete"}},"rightToolbar":{"info":{"bleed":"Bleed ({{WIDTH}}{{SYMBOL}} x {{HEIGHT}}{{SYMBOL}})","productSize":"Product size ({{WIDTH}}{{SYMBOL}} x {{HEIGHT}}{{SYMBOL}})","bleedAreaText":"This area will be trimmed. Make sure all background graphics cover this area.","productSizeText":"This is the final size your artwork will be trimmed to.","rules":{"important":"Important:","text":"Your artwork must be in {{COLORSPACE}} color space and its resolution should be at least {{DPI}} dpi."}},"report":{"title":"Report","noErrors":"No errors","errors":"Errors","warnings":"Warnings","page":"Page","fix":"Fix","messages":{"wrongColorSpace":"Bad color space - {{COLORSPACE}}","lowResolution":"Low resolution - {{DPI}} dpi","notFillTrimbox":"The design does not fill the entire TrimBox","nomarginsBleedbox":"The design does not fill the entire BleedBox","notInsideBleedbox":"The design does not fit the BleedBox","safetyboxes":"Required page boxes are not defined or do not match - {{BOXES}}","spotcolors":"Used unallowed spot colors - {{SPOTCOLORS}}","sameorientation":"The page has a different orientation than most pages","forbiddenfonts":"These fonts are forbidden - {{FONTS}}","allowedfonts":"These fonts are not allowed - {{FONTS}}","fonttypes":"These font types are not allowed - {{FONTTYPES}}","minfontsize":"These text size values are less than allowed - {{FONTSIZES}}","textascurves":"Text is not converted to curves","embeddedfonts":"These fonts are not embedded in document - {{FONTS}}"}}},"preloader":{"wait":"Please, wait..."},"main":{"pageNamePrefix":"Page","closeErrorButton":"Close","errors":{"failedCheck":"Failed to get information about document","failedFixColorSpace":"Failed to change color space","failedFixSpotColors":"Failed to convert SPOT colors","failedRestoreState":"Failed to restore product from state file"}}}')}}]);
</script>