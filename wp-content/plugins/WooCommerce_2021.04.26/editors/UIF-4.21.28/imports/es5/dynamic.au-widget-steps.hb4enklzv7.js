(window.multistep_editor_jsonpFunction=window.multistep_editor_jsonpFunction||[]).push([[40],{966:function(t,e,n){"use strict";n.r(e),n.d(e,"AuWidgetSteps",function(){return l}),n.d(e,"widget",function(){return l});var i,s=n(0),r=n(1),a=n(172),o=n(6);!function(t){t[t.previous=0]="previous",t[t.visited=1]="visited",t[t.all=2]="all"}(i||(i={}));var c=function(){return function(t){this.enabled=t}}(),u=n(16),l=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e._visitedSteps=[],e._paperTabsSelector="paper-tabs",e._prevButtonSelector=".nav__back-button",e._nextButtonSelector=".nav__next-button",e}return Object(s.d)(e,t),e.prototype.connectedCallback=function(){var e=this;t.prototype.connectedCallback.call(this),this.stepSubscription=this.observe(u.a.STEP_CHANGED).subscribe(function(t){return e._stepChangeCallback(t)})},e.prototype._stepChangeCallback=function(t){return Object(s.b)(this,void 0,void 0,function(){var e;return Object(s.e)(this,function(n){switch(n.label){case 0:if(e=t.data.step,this._visitedSteps.find(function(t){return t.index===e.index})||this._visitedSteps.push(e),!o.a.isNotNullOrUndefined(this.params)||!o.a.isNotNullOrUndefined(this.params.availabilityMode))return[3,7];switch(i[this.params.availabilityMode.toString()]){case i.previous:return[3,1];case i.visited:return[3,3];case i.all:return[3,5]}return[3,5];case 1:return[4,this.handleModePrevious(e)];case 2:return n.sent(),[3,6];case 3:return[4,this.handleModeVisited(e)];case 4:return n.sent(),[3,6];case 5:return[3,6];case 6:this.updateParams(this.params),n.label=7;case 7:return[2]}})})},e.prototype.handleModeVisited=function(t){return Object(s.b)(this,void 0,void 0,function(){var e,n=this;return Object(s.e)(this,function(i){switch(i.label){case 0:return[4,this._getStepTabs()];case 1:return(e=i.sent()).forEach(function(i,s){var r=s===t.index+1||o.a.isNotNullOrUndefined(n._visitedSteps.find(function(t){return t.index===s}));n._applyConfig(e,s.toString(),new c(r))}),[2]}})})},e.prototype.handleModePrevious=function(t){return Object(s.b)(this,void 0,void 0,function(){var e,n=this;return Object(s.e)(this,function(i){switch(i.label){case 0:return[4,this._getStepTabs()];case 1:return(e=i.sent()).forEach(function(i,s){var r=s<=t.index+1;n._applyConfig(e,s.toString(),new c(r))}),[2]}})})},e.prototype.enableStep=function(t,e){return Object(s.b)(this,void 0,void 0,function(){var n;return Object(s.e)(this,function(i){switch(i.label){case 0:return[4,this._getStepTabs()];case 1:return n=i.sent(),this._applyConfig(n,t,new c(e)),[2]}})})},e.prototype.updateParams=function(t){t.steps&&this.changeStepState(t.steps);var e=this.auWizard.querySelectorShadow(".stepSelector__tabs");e&&e.notifyResize()},e.prototype.changeStepState=function(t){return Object(s.b)(this,void 0,void 0,function(){var e,n=this;return Object(s.e)(this,function(i){switch(i.label){case 0:return[4,this._getStepTabs()];case 1:return e=i.sent(),Object.keys(t).forEach(function(i){var s=t[i];n._applyConfig(e,i,s)}),[2]}})})},e.prototype._applyConfig=function(t,e,n){var i=o.a.isNum(e)?t[Number(e)]:t.find(function(t){return t.title===e});if(i&&o.a.isNotNullOrUndefined(n.enabled)){i.disabled=!n.enabled;n.enabled?i.classList.remove("disabledstep"):i.classList.add("disabledstep")}this.auWizard._showDefaultTopBar&&this._handleNavButtons(t)},e.prototype._handleNavButtons=function(t){return Object(s.b)(this,void 0,void 0,function(){var e,n,i,r,a;return Object(s.e)(this,function(s){switch(s.label){case 0:return e=t.findIndex(function(t){return t.classList.contains("iron-selected")}),n=t[e-1],i=t[e+1],n?[4,this._getPrevButton()]:[3,2];case 1:(r=s.sent())&&(r.disabled=n.disabled),s.label=2;case 2:return i?[4,this._getNextButton()]:[3,4];case 3:(a=s.sent())&&(a.disabled=i.disabled),s.label=4;case 4:return[2]}})})},e.prototype._getStepTabs=function(){return Object(s.b)(this,void 0,void 0,function(){var t;return Object(s.e)(this,function(e){switch(e.label){case 0:return[4,this.publishData({selector:this._paperTabsSelector},u.a.GET_ELEMENT_FROM_AU_WIZARD)];case 1:return[2,(t=e.sent())&&t.children?[].slice.call(t.children).filter(function(t){return"paper-tab"===t.tagName.toLowerCase()}):[]]}})})},e.prototype._getPrevButton=function(){return Object(s.b)(this,void 0,void 0,function(){return Object(s.e)(this,function(t){switch(t.label){case 0:return[4,this.publishData({selector:this._prevButtonSelector},u.a.GET_ELEMENT_FROM_AU_WIZARD)];case 1:return[2,t.sent()]}})})},e.prototype._getNextButton=function(){return Object(s.b)(this,void 0,void 0,function(){return Object(s.e)(this,function(t){switch(t.label){case 0:return[4,this.publishData({selector:this._nextButtonSelector},u.a.GET_ELEMENT_FROM_AU_WIZARD)];case 1:return[2,t.sent()]}})})},e.prototype.disconnectedCallback=function(){t.prototype.disconnectedCallback.call(this),this.stepSubscription.unsubscribe()},Object(s.c)([Object(r.c)(),Object(s.g)("design:type",Object)],e.prototype,"params",void 0),e=Object(s.c)([Object(r.a)("au-widget-steps")],e)}(a.a)}}]);