(window.multistep_editor_jsonpFunction=window.multistep_editor_jsonpFunction||[]).push([[46],{751:function(e,t,n){var r,i,o="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e};"undefined"!=typeof self&&self,void 0===(i="function"==typeof(r=function(){"use strict";var e={apply2:g,assign:h(Object.assign)?Object.assign:function(e,t){for(var n in t)t.hasOwnProperty(n)&&void 0!==t[n]&&(e[n]=t[n]);return e},compose:c,curry:l(m(l),[])([]),idFunction:y,isFunction:h,noop:f,swap:m},t="@@type",n="monet.js",r={Identity:"Identity",Maybe:"Maybe",Either:"Either",Validation:"Validation",List:"List",NEL:"NEL",IO:"IO",MonadT:"MonadT",Reader:"Reader",Free:"Free"};function i(e,r){e[t]=n+"/"+r}function a(e){return function(r){return(r[t]||r.constructor[t])===n+"/"+e}}function u(e){return function(n){var r=n[t]||n.constructor&&n.constructor[t];return Boolean(r)&&r.length>=e.length&&r.indexOf(e)===r.length-e.length}}function s(e){return null==e}function f(){}function l(e,t){return function(){var n=t.concat(function(e){return Array.prototype.slice.call(e)}(arguments));return n.length>=e.length?e.apply(null,n.slice(0,n.length)):l(e,n)}}function c(e,t){return function(n){return e(t(n))}}function h(e){return Boolean(e&&e.constructor&&e.call&&e.apply)}function y(e){return e}function p(e,t){return e===t||e!=e&&t!=t||!(!e||!t)&&!(!h(e.equals)||!h(t.equals))&&e.equals(t)}function d(e){return function(t){return p(e,t)}}function v(){return!1}function m(e){return function(t,n){return e(n,t)}}function g(e,t,n){return t.ap(e.map(l(n,[])))}function b(e,t){for(var n=e,r=t;!n.isNil&&!r.isNil;){if(!d(n.head())(r.head()))return!1;n=n.tail(),r=r.tail()}return n.isNil&&r.isNil}function w(e,t){return function e(t,n){return n.isNil?Y(n):Z(function(){return e(t,n.tail())}).map(l(S,[])(t(n.head())))}(e,t).run()}function k(e,t){return e.foldRight(L)(function(e,n){return t(e)?S(e,n):n})}function N(e,t){return function e(t,n){if(t.isNil)return Y(U());var r=t.head();return n(r)?Y(P(r)):Z(function(){return e(t.tail(),n)})}(e,t).run()}function O(e,t){return function e(t,n){if(t.isNil)return Y(!1);var r=t.head();return p(r,n)?Y(!0):Z(function(){return e(t.tail(),n)})}(e,t).run()}function S(e,t){return t.cons(e)}function T(){switch(arguments.length){case 0:return new T.fn.init;case 1:return new T.fn.init(arguments[0]);default:return new T.fn.init(arguments[0],arguments[1])}}e.List=T;var L,I=function(e,t,n){return function t(n,r){return r.isNil?Y(n):Z(function(){return t(e(n,r.head()),r.tail())})}(t,n).run()},E=function(e,t,n){return function t(n,r){return n.isNil?Y(r):Z(function(){return t(n.tail(),r)}).map(function(t){return e(n.head(),t)})}(t,n).run()},_=function(e,t){return function e(t,n){return t.isNil?Y(n):Z(function(){return e(t.tail(),n).map(function(e){return e.cons(t.head())})})}(e,t).run()},R=function(e,t){return e.foldRight(t.of(L))(t.map2(S))},j=function(e){return e.foldLeft(L)(m(S))},B=function(e,t){return e.bind(function(e){return t.map(function(t){return t(e)})})};function F(e){return new Error("Cannot create an empty Non-Empty List. Passed head is "+e+".")}function A(e,t){if(s(e))throw F(e);return new A.fn.init(e,t)}T.fn=T.prototype={init:function(){var e=arguments[0],t=arguments[1];0===arguments.length?(this.isNil=!0,this.size_=0):(this.isNil=!1,this.head_=e,this.tail_=t||L,this.size_=this.tail_.size()+1),i(this,r.List)},of:function(e){return new T(e)},size:function(){return this.size_},equals:function(e){return(T.isOfType(e)||A.isOfType(e))&&b(this,e)},cons:function(e){return T(e,this)},snoc:function(e){return this.concat(T(e))},map:function(e){return w(e,this)},toArray:function(){return I(function(e,t){return e.push(t),e},[],this)},toSet:function(){return new Set(this)},foldLeft:function(e){var t=this;return function(n){return I(n,e,t)}},foldRight:function(e){var t=this;return function(n){return E(n,t,e)}},append:function(e){return _(this,e)},filter:function(e){return k(this,e)},find:function(e){return N(this,e)},flatten:function(){return E(_,this,L)},flattenMaybe:function(){return this.flatMap(x.toList)},reverse:function(){return j(this)},bind:function(e){return this.map(e).flatten()},forEach:function(e){!function e(t,n){n.isNil||(t(n.head()),e(t,n.tail()))}(e,this)},contains:function(e){return O(this,e)},sequenceMaybe:function(){return R(this,x)},sequenceValidation:function(){return this.foldLeft(D(L))(function(e,t){return e.ap(t.map(function(e){return function(t){return S(e,t)}}))}).map(j)},sequenceEither:function(){return R(this,q)},sequenceIO:function(){return R(this,W)},sequenceReader:function(){return R(this,z)},sequence:function(e){return R(this,e)},head:function(){return this.head_},headMaybe:function(){return this.isNil?U():P(this.head_)},lookup:function(e){return this.isNil||e>=this.size()?U():x.fromNull(this.toArray()[e])},nth:function(e){return this.isNil||e>=this.size()?void 0:this.toArray()[e]},tail:function(){return this.isNil?L:this.tail_},tails:function(){return this.isNil?T(L,L):this.tail().tails().cons(this)},ap:function(e){return B(this,e)},apTo:function(e){return B(e,this)},isNEL:v,toString:function(){return this.isNil?"Nil":"List("+this.toArray().join(", ")+")"},inspect:function(){return this.toString()}},T.fn.init.prototype=T.fn,i(T,r.List),i(T.fn.init,r.List),T.isInstance=a(r.List),T.isOfType=u(r.List),T.prototype.empty=function(){return L},T.fromArray=function(e){return e.reduceRight(function(e,t){return e.cons(t)},L)},T.from=function(e){return T.fromArray(Array.from(e))},T.of=function(e){return new T(e,L)},T.prototype.each=T.prototype.forEach,L=e.Nil=new T.fn.init,e.NEL=e.NonEmptyList=A,A.of=function(e){return A(e,L)},A.fn=A.prototype={init:function(e,t){if(s(e))throw F(e);this.isNil=!1,this.head_=e,this.tail_=s(t)?L:t,this.size_=this.tail_.size()+1,i(this,r.NEL)},equals:function(e){return T.isOfType(e)||A.isOfType(e)&&b(this,e)},cons:function(e){return A(e,this.toList())},snoc:function(e){return this.concat(A(e))},map:function(e){return A(e(this.head_),w(e,this.tail_))},bind:function(e){var t=e(this.head_);if(!t.isNEL())throw new Error("NEL.fn.bind: Passed function must return a NonEmptyList.");var n=this.tail().foldLeft(L.snoc(t.head()).append(t.tail()))(function(t,n){var r=e(n).toList();return t.snoc(r.head()).append(r.tail())});return new A(n.head(),n.tail())},head:function(){return this.head_},lookup:function(e){return e>=this.size()?U():x.fromNull(this.toArray()[e])},nth:function(e){return e>=this.size()?void 0:this.toArray()[e]},tail:function(){return this.tail_},tails:function(){var e=this.toList().tails().map(A.fromList).flattenMaybe();return A(e.head(),e.tail())},toList:function(){return T(this.head_,this.tail_)},reverse:function(){if(this.tail().isNil)return this;var e=this.tail().reverse();return A(e.head(),e.tail().append(T(this.head())))},foldLeft:function(e){return this.toList().foldLeft(e)},foldRight:function(e){return this.toList().foldRight(e)},reduceLeft:function(e){return this.tail().foldLeft(this.head())(e)},filter:function(e){return k(this.toList(),e)},find:function(e){return N(this.toList(),e)},flatten:function(){return E(_,this.toList().map(function(e){return e.isNEL()?e.toList():e}),L)},flattenMaybe:function(){return this.toList().flatMap(x.toList)},contains:function(e){return O(this.toList(),e)},append:function(e){return A.fromList(this.toList().append(e.toList())).some()},cobind:function(e){return this.cojoin().map(e)},size:function(){return this.size_},forEach:function(e){return this.toList().forEach(e)},isNEL:function(){return!0},toString:function(){return"NEL("+this.toArray().join(", ")+")"},inspect:function(){return this.toString()}},A.fromList=function(e){return e.isNil?U():P(A(e.head(),e.tail()))},A.fromArray=function(e){return A.fromList(T.fromArray(e))},A.from=function(e){return A.fromList(T.from(e))},A.fn.init.prototype=A.fn,i(A,r.NEL),i(A.fn.init,r.NEL),A.isInstance=a(r.NEL),A.isOfType=u(r.NEL),A.prototype.toArray=T.prototype.toArray,A.prototype.toSet=T.prototype.toSet,A.prototype.extract=A.prototype.copure=A.prototype.head,A.prototype.cojoin=A.prototype.tails,A.prototype.coflatMap=A.prototype.mapTails=A.prototype.cobind,A.prototype.ap=T.prototype.ap,A.prototype.apTo=T.prototype.apTo;var x=e.Maybe={};x.fromFalsy=function(e){return e?x.Some(e):x.None()},x.fromNull=function(e){return s(e)?x.None():x.Some(e)},x.fromUndefined=function(e){return void 0===e?x.None():x.Some(e)},x.fromEmpty=function(e){return s(t=e)||""===t||Array.isArray(t)&&0===t.length||"object"===(void 0===t?"undefined":o(t))&&0===Object.keys(t).length?x.None():x.Some(e);var t},x.of=function(e){return P(e)};var P=x.Just=x.Some=x.some=e.Some=e.Just=function(e){return new x.fn.init(!0,e)},U=x.Nothing=x.None=x.none=e.None=e.Nothing=function(){return new x.fn.init(!1,null)};x.toList=function(e){return e.toList()},x.fn=x.prototype={init:function(e,t){if(this.isValue=e,e&&s(t))throw new Error("Can not create Some with illegal value: "+t+".");this.val=t,i(this,r.Maybe)},isSome:function(){return this.isValue},isNone:function(){return!this.isSome()},bind:function(e){return this.isValue?e(this.val):this},some:function(){if(this.isValue)return this.val;throw new Error("Cannot call .some() on a None.")},orSome:function(e){return this.isValue?this.val:e},orLazy:function(e){return this.cata(e,y)},orNull:function(){return this.orSome(null)},orUndefined:function(){return this.orSome(void 0)},orElse:function(e){return this.catchMap(function(){return e})},ap:function(e){var t=this.val;return this.isValue?e.map(function(e){return e(t)}):this},apTo:function(e){return e.ap(this)},equals:function(e){return x.isOfType(e)&&this.cata(function(){return e.isNone()},function(t){return e.fold(!1)(d(t))})},toArray:function(){return this.map(function(e){return[e]}).orLazy(function(){return[]})},toSet:function(){return new Set(this)},toList:function(){return this.map(T).orLazy(function(){return L})},toEither:function(e){return this.isSome()?X(this.val):J(e)},toValidation:function(e){return this.isSome()?D(this.val):V(e)},fold:function(e){var t=this;return function(n){return t.isSome()?n(t.val):e}},foldLeft:function(e){return this.toList().foldLeft(e)},foldRight:function(e){return this.toList().foldRight(e)},cata:function(e,t){return this.isSome()?t(this.val):e()},catchMap:function(e){return this.isSome()?this:e()},filter:function(e){var t=this;return t.flatMap(function(n){return e(n)?t:U()})},orNoneIf:function(e){return e?U():this},contains:function(e){return!!this.isSome()&&p(this.val,e)},forEach:function(e){this.cata(f,e)},orElseRun:function(e){this.cata(e,f)},toString:function(){return this.isSome()?"Just("+this.val+")":"Nothing"},inspect:function(){return this.toString()}},x.prototype.orJust=x.prototype.getOrElse=x.prototype.orSome,x.prototype.just=x.prototype.some,x.prototype.isJust=x.prototype.isSome,x.prototype.isNothing=x.prototype.isNone,x.prototype.orNothingIf=x.prototype.orNoneIf,x.fn.init.prototype=x.fn,i(x,r.Maybe),i(x.fn.init,r.Maybe),x.isInstance=a(r.Maybe),x.isOfType=u(r.Maybe);var C=e.Validation={},D=C.Success=C.success=e.Success=function(e){return new C.fn.init(e,!0)},V=C.Fail=C.fail=e.Fail=function(e){return new C.fn.init(e,!1)};C.of=function(e){return D(e)},C.fn=C.prototype={init:function(e,t){this.val=e,this.isSuccessValue=t,i(this,r.Validation)},success:function(){if(this.isSuccess())return this.val;throw new Error("Cannot call success() on a Fail.")},isSuccess:function(){return this.isSuccessValue},isFail:function(){return!this.isSuccessValue},fail:function(){if(this.isSuccess())throw new Error("Cannot call fail() on a Success.");return this.val},bind:function(e){return this.isSuccess()?e(this.val):this},ap:function(e){var t=this.val;return this.isSuccess()?e.map(function(e){return e(t)}):e.isFail()?C.Fail(M.append(t,e.fail())):this},apTo:function(e){return e.ap(this)},acc:function(){return this.isSuccessValue?C.success(function e(){return e}):this},foldLeft:function(e){return this.toMaybe().toList().foldLeft(e)},foldRight:function(e){return this.toMaybe().toList().foldRight(e)},cata:function(e,t){return this.isSuccessValue?t(this.val):e(this.val)},catchMap:function(e){return this.isSuccess()?this:e(this.val)},swap:function(){return this.isSuccess()?V(this.val):D(this.val)},failMap:function(e){return this.isFail()?V(e(this.val)):this},bimap:function(e,t){return this.isSuccessValue?this.map(t):this.failMap(e)},forEach:function(e){this.cata(f,e)},forEachFail:function(e){this.cata(e,f)},equals:function(e){return C.isOfType(e)&&this.cata(function(t){return e.cata(d(t),v)},function(t){return e.cata(v,d(t))})},toMaybe:function(){return this.isSuccess()?P(this.val):U()},toEither:function(){return(this.isSuccess()?X:J)(this.val)},toString:function(){return(this.isSuccess()?"Success(":"Fail(")+this.val+")"},inspect:function(){return this.toString()}},C.prototype.fold=C.prototype.cata,C.fn.init.prototype=C.fn,i(C,r.Validation),i(C.fn.init,r.Validation),C.isInstance=a(r.Validation),C.isOfType=u(r.Validation);var M=e.Semigroup={append:function(e,t){if(h(e.concat))return e.concat(t);throw new Error("Couldn't find a semigroup appender in the environment, please specify your own append function")}},K=e.monadTransformer=e.MonadT=e.monadT=function(e){return new K.fn.init(e)};K.of=function(e){return K(e)},K.fn=K.prototype={init:function(e){this.monad=e,i(C,r.MonadT)},map:function(e){return K(this.monad.map(function(t){return t.map(e)}))},bind:function(e){return K(this.monad.map(function(t){return t.flatMap(e)}))},ap:function(e){return K(this.monad.flatMap(function(t){return e.perform().map(function(e){return t.ap(e)})}))},perform:function(){return this.monad}},K.fn.init.prototype=K.fn;var W=e.IO=e.io=function(e){return new W.fn.init(e)};W.of=function(e){return W(function(){return e})},W.fn=W.prototype={init:function(e){if(!h(e))throw new Error("IO requires a function.");this.effectFn=e,i(this,r.IO)},map:function(e){var t=this;return W(function(){return e(t.effectFn())})},bind:function(e){var t=this;return W(function(){return e(t.effectFn()).run()})},ap:function(e){var t=this;return e.map(function(e){return e(t.effectFn())})},apTo:function(e){return e.ap(this)},run:function(){return this.effectFn()}},W.fn.init.prototype=W.fn,i(W,r.IO),i(W.fn.init,r.IO),W.isInstance=a(r.IO),W.isOfType=u(r.IO),W.prototype.perform=W.prototype.performUnsafeIO=W.prototype.run;var q=e.Either={};q.of=function(e){return X(e)},q.fromTry=function(e){try{return q.right(e())}catch(e){return q.left(e)}},q.fromPromise=function(e){return e.then(q.Right,q.Left)};var X=q.Right=q.right=e.Right=function(e){return new q.fn.init(e,!0)},J=q.Left=q.left=e.Left=function(e){return new q.fn.init(e,!1)};q.fn=q.prototype={init:function(e,t){this.isRightValue=t,this.value=e,i(this,r.Either)},bind:function(e){return this.isRightValue?e(this.value):this},ap:function(e){var t=this;return this.isRightValue?e.map(function(e){return e(t.value)}):this},apTo:function(e){return e.ap(this)},leftMap:function(e){return this.isLeft()?J(e(this.value)):this},isRight:function(){return this.isRightValue},isLeft:function(){return!this.isRight()},right:function(){if(this.isRightValue)return this.value;throw new Error("Cannot call right() on a Left.")},left:function(){if(this.isRightValue)throw new Error("Cannot call left() on a Right.");return this.value},foldLeft:function(e){return this.toMaybe().toList().foldLeft(e)},foldRight:function(e){return this.toMaybe().toList().foldRight(e)},cata:function(e,t){return this.isRightValue?t(this.value):e(this.value)},catchMap:function(e){return this.isRight()?this:e(this.value)},swap:function(){return this.isRight()?J(this.value):X(this.value)},forEach:function(e){this.cata(f,e)},forEachLeft:function(e){this.cata(e,f)},equals:function(e){return q.isOfType(e)&&this.cata(function(t){return e.cata(d(t),v)},function(t){return e.cata(v,d(t))})},bimap:function(e,t){return this.isRightValue?this.map(t):this.leftMap(e)},toMaybe:function(){return this.isRight()?P(this.value):U()},toValidation:function(){return this.isRight()?D(this.value):V(this.value)},toString:function(){return this.cata(function(e){return"Left("+e+")"},function(e){return"Right("+e+")"})},toPromise:function(){return this.cata(function(e){return Promise.reject(e)},function(e){return Promise.resolve(e)})},inspect:function(){return this.toString()}},q.prototype.fold=q.prototype.cata,q.fn.init.prototype=q.fn,i(q,r.Either),i(q.fn.init,r.Either),q.isInstance=a(r.Either),q.isOfType=u(r.Either);var z=e.Reader=function(e){return new z.fn.init(e)};z.of=function(e){return z(function(t){return e})},z.ask=function(){return z(y)},z.fn=z.prototype={init:function(e){this.f=e,i(this,r.Reader)},run:function(e){return this.f(e)},bind:function(e){var t=this;return z(function(n){return e(t.run(n)).run(n)})},ap:function(e){var t=this;return e.bind(function(e){return z(function(n){return e(t.run(n))})})},apTo:function(e){return e.ap(this)},map:function(e){var t=this;return z(function(n){return e(t.run(n))})},local:function(e){var t=this;return z(function(n){return t.run(e(n))})}},z.fn.init.prototype=z.fn,i(z,r.Reader),i(z.fn.init,r.Reader),z.isInstance=a(r.Reader),z.isOfType=u(r.Reader);var G=e.Free={},Z=G.Suspend=e.Suspend=function(e){return new G.fn.init(e,!0)},Y=G.Return=e.Return=function(e){return new G.fn.init(e,!1)};function H(e){return new H.fn.init(e)}function Q(e){!function(e){e.prototype.flatMap=e.prototype.chain=e.prototype.bind,e.pure=e.unit=e.of,e.prototype.of=e.of,h(e.prototype.append)&&(e.prototype.concat=e.prototype.append),e.prototype.point=e.prototype.pure=e.prototype.unit=e.prototype.of}(e),function(e){h(e.prototype.filter)&&(e.prototype.filterNot=function(e){return this.filter(function(t){return!e(t)})})}(e),function(e){e.prototype.join=function(){return this.flatMap(y)},e.map2=function(e){return function(t,n){return t.flatMap(function(t){return n.map(function(n){return e(t,n)})})}}}(e),function(e){h(e.prototype.map)||(e.prototype.map=function(e){return this.bind(c(this.of,e))})}(e),function(e){e.prototype.takeLeft=function(e){return g(this,e,function(e,t){return e})},e.prototype.takeRight=function(e){return g(this,e,function(e,t){return t})}}(e),function(e){h(e.prototype.toArray)&&(e.prototype.every=e.prototype.forall=function(e){return this.toArray().every(e)},e.prototype.exists=function(e){return this.toArray().some(e)})}(e),function(e){["equals","map","ap","chain"].filter(function(t){return h(e.prototype[t])}).forEach(function(t){e.prototype["fantasy-land/"+t]=e.prototype[t]})}(e),function(e){h(e.prototype.toArray)&&(e.prototype[Symbol.iterator]=function(){return this.toArray()[Symbol.iterator]()})}(e),function(e){h(e.prototype.toArray)&&(e.prototype.to=function(e){return e(this)})}(e)}return G.of=function(e){return Y(e)},G.liftF=function(e){return h(e)?Z(c(Y,e)):Z(e.map(Y))},G.fn=G.prototype={init:function(e,t){this.isSuspend=t,t?this.functor=e:this.val=e,i(this,r.Free)},run:function(){return this.go(function(e){return e()})},bind:function(e){return this.isSuspend?h(this.functor)?Z(c(function(t){return t.bind(e)},this.functor)):Z(this.functor.map(function(t){return t.bind(e)})):e(this.val)},ap:function(e){return this.bind(function(t){return e.map(function(e){return e(t)})})},apTo:function(e){return e.ap(this)},resume:function(){return this.isSuspend?J(this.functor):X(this.val)},go1:function(e){return function t(n){return n.resume().cata(function(n){return t(e(n))},y)}(this)},go:function(e){for(var t=this.resume();t.isLeft();)t=e(t.left()).resume();return t.right()}},G.fn.init.prototype=G.fn,i(G,r.Free),i(G.fn.init,r.Free),G.isInstance=a(r.Free),G.isOfType=u(r.Free),e.Identity=H,H.of=function(e){return new H(e)},H.fn=H.prototype={init:function(e){this.val=e,i(this,r.Identity)},bind:function(e){return e(this.val)},get:function(){return this.val},forEach:function(e){e(this.val)},equals:function(e){return H.isOfType(e)&&d(this.get())(e.get())},contains:function(e){return p(this.val,e)},toString:function(){return"Identity("+this.val+")"},inspect:function(){return this.toString()},ap:function(e){var t=this.val;return e.map(function(e){return e(t)})},apTo:function(e){return e.ap(this)},toArray:function(){return[this.get()]},toList:function(){return T(this.get(),L)},toSet:function(){return new Set(this)}},H.fn.init.prototype=H.fn,i(H,r.Identity),i(H.fn.init,r.Identity),H.isInstance=a(r.Identity),H.isOfType=u(r.Identity),Q(K),Q(q),Q(x),Q(W),Q(A),Q(T),Q(C),Q(z),Q(G),Q(H),e})?r.call(t,n,t,e):r)||(e.exports=i)},931:function(e,t,n){"use strict";function r(){for(var e=0,t=0,n=0;n<28;n+=7){var r=this.buf[this.pos++];if(e|=(127&r)<<n,0==(128&r))return this.assertBounds(),[e,t]}var i=this.buf[this.pos++];if(e|=(15&i)<<28,t=(112&i)>>4,0==(128&i))return this.assertBounds(),[e,t];for(var o=3;o<=31;o+=7){var a=this.buf[this.pos++];if(t|=(127&a)<<o,0==(128&a))return this.assertBounds(),[e,t]}throw new Error("invalid varint")}function i(e,t,n){for(var r=0;r<28;r+=7){var i=e>>>r,o=!(i>>>7==0&&0==t),a=255&(o?128|i:i);if(n.push(a),!o)return}var u=e>>>28&15|(7&t)<<4,s=!(t>>3==0);if(n.push(255&(s?128|u:u)),s){for(var f=3;f<31;f+=7){var l=t>>>f,c=!(l>>>7==0),h=255&(c?128|l:l);if(n.push(h),!c)return}n.push(t>>>31&1)}}n.d(t,"a",function(){return gn});var o=4294967296;function a(e){var t="-"==e[0];t&&(e=e.slice(1));var n=1e6,r=0,i=0;function a(t,a){var u=Number(e.slice(t,a));i*=n,(r=r*n+u)>=o&&(i+=r/o|0,r%=o)}return a(-24,-18),a(-18,-12),a(-12,-6),a(-6),[t,r,i]}function u(e,t){if(t<=2097151)return""+(o*t+e);var n=(e>>>24|t<<8)>>>0&16777215,r=t>>16&65535,i=(16777215&e)+6777216*n+6710656*r,a=n+8147497*r,u=2*r;function s(e,t){var n=e?String(e):"";return t?"0000000".slice(n.length)+n:n}return i>=1e7&&(a+=Math.floor(i/1e7),i%=1e7),a>=1e7&&(u+=Math.floor(a/1e7),a%=1e7),s(u,0)+s(a,u)+s(i,1)}function s(e,t){if(e>=0){for(;e>127;)t.push(127&e|128),e>>>=7;t.push(e)}else{for(var n=0;n<9;n++)t.push(127&e|128),e>>=7;t.push(1)}}function f(){var e=this.buf[this.pos++],t=127&e;if(0==(128&e))return this.assertBounds(),t;if(t|=(127&(e=this.buf[this.pos++]))<<7,0==(128&e))return this.assertBounds(),t;if(t|=(127&(e=this.buf[this.pos++]))<<14,0==(128&e))return this.assertBounds(),t;if(t|=(127&(e=this.buf[this.pos++]))<<21,0==(128&e))return this.assertBounds(),t;t|=(15&(e=this.buf[this.pos++]))<<28;for(var n=5;0!=(128&e)&&n<10;n++)e=this.buf[this.pos++];if(0!=(128&e))throw new Error("invalid varint");return this.assertBounds(),t>>>0}var l=function(){return function(e,t){if(Array.isArray(e))return e;if(Symbol.iterator in Object(e))return function(e,t){var n=[],r=!0,i=!1,o=void 0;try{for(var a,u=e[Symbol.iterator]();!(r=(a=u.next()).done)&&(n.push(a.value),!t||n.length!==t);r=!0);}catch(e){i=!0,o=e}finally{try{!r&&u.return&&u.return()}finally{if(i)throw o}}return n}(e,t);throw new TypeError("Invalid attempt to destructure non-iterable instance")}}(),c="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},h=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}();function y(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function p(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}function d(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}var v,m=(v=new DataView(new ArrayBuffer(8)),void 0!==globalThis.BigInt&&"function"==typeof v.getBigInt64&&"function"==typeof v.getBigUint64&&"function"==typeof v.setBigInt64&&"function"==typeof v.setBigUint64?{MIN:BigInt("-9223372036854775808"),MAX:BigInt("9223372036854775807"),UMIN:BigInt("0"),UMAX:BigInt("18446744073709551615"),C:BigInt,V:v}:void 0);function g(e){if(!e)throw new Error("BigInt unavailable, see https://github.com/timostamm/protobuf-ts/blob/v1.0.8/MANUAL.md#bigint-support")}var b=/^-?[0-9]+$/,w=function(){function e(t,n){d(this,e),this.lo=0|t,this.hi=0|n}return h(e,[{key:"isZero",value:function(){return 0==this.lo&&0==this.hi}},{key:"toNumber",value:function(){var e=4294967296*this.hi+(this.lo>>>0);if(!Number.isSafeInteger(e))throw new Error("cannot convert to safe number");return e}}]),e}(),k=function(e){function t(){return d(this,t),y(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return p(t,w),h(t,[{key:"toString",value:function(){return m?this.toBigInt().toString():u(this.lo,this.hi)}},{key:"toBigInt",value:function(){return g(m),m.V.setInt32(0,this.lo,!0),m.V.setInt32(4,this.hi,!0),m.V.getBigUint64(0,!0)}}],[{key:"from",value:function(e){if(m)switch(void 0===e?"undefined":c(e)){case"string":if("0"==e)return this.ZERO;if(""==e)throw new Error("string is no integer");e=m.C(e);case"number":if(0===e)return this.ZERO;e=m.C(e);case"bigint":if(!e)return this.ZERO;if(e<m.UMIN)throw new Error("signed value for ulong");if(e>m.UMAX)throw new Error("ulong too large");return m.V.setBigUint64(0,e,!0),new t(m.V.getInt32(0,!0),m.V.getInt32(4,!0))}else switch(void 0===e?"undefined":c(e)){case"string":if("0"==e)return this.ZERO;if(e=e.trim(),!b.test(e))throw new Error("string is no integer");var n=a(e),r=l(n,3),i=r[0],o=r[1],u=r[2];if(i)throw new Error("signed value");return new t(o,u);case"number":if(0==e)return this.ZERO;if(!Number.isSafeInteger(e))throw new Error("number is no integer");if(e<0)throw new Error("signed value for ulong");return new t(e,e/4294967296)}throw new Error("unknown value "+(void 0===e?"undefined":c(e)))}}]),t}();k.ZERO=new k(0,0);var N=function(e){function t(){return d(this,t),y(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return p(t,w),h(t,[{key:"isNegative",value:function(){return 0!=(2147483648&this.hi)}},{key:"negate",value:function(){var e=~this.hi,n=this.lo;return n?n=1+~n:e+=1,new t(n,e)}},{key:"toString",value:function(){if(m)return this.toBigInt().toString();if(this.isNegative()){var e=this.negate();return"-"+u(e.lo,e.hi)}return u(this.lo,this.hi)}},{key:"toBigInt",value:function(){return g(m),m.V.setInt32(0,this.lo,!0),m.V.setInt32(4,this.hi,!0),m.V.getBigInt64(0,!0)}}],[{key:"from",value:function(e){if(m)switch(void 0===e?"undefined":c(e)){case"string":if("0"==e)return this.ZERO;if(""==e)throw new Error("string is no integer");e=m.C(e);case"number":if(0===e)return this.ZERO;e=m.C(e);case"bigint":if(!e)return this.ZERO;if(e<m.MIN)throw new Error("ulong too small");if(e>m.MAX)throw new Error("ulong too large");return m.V.setBigInt64(0,e,!0),new t(m.V.getInt32(0,!0),m.V.getInt32(4,!0))}else switch(void 0===e?"undefined":c(e)){case"string":if("0"==e)return this.ZERO;if(e=e.trim(),!b.test(e))throw new Error("string is no integer");var n=a(e),r=l(n,3),i=r[0],o=new t(r[1],r[2]);return i?o.negate():o;case"number":if(0==e)return this.ZERO;if(!Number.isSafeInteger(e))throw new Error("number is no integer");return e>0?new t(e,e/4294967296):new t(-e,-e/4294967296).negate()}throw new Error("unknown value "+(void 0===e?"undefined":c(e)))}}]),t}();N.ZERO=new N(0,0);var O=function(e){return String.fromCharCode.apply(String,e)};var S=function(){return function(e,t){if(Array.isArray(e))return e;if(Symbol.iterator in Object(e))return function(e,t){var n=[],r=!0,i=!1,o=void 0;try{for(var a,u=e[Symbol.iterator]();!(r=(a=u.next()).done)&&(n.push(a.value),!t||n.length!==t);r=!0);}catch(e){i=!0,o=e}finally{try{!r&&u.return&&u.return()}finally{if(i)throw o}}return n}(e,t);throw new TypeError("Invalid attempt to destructure non-iterable instance")}}(),T=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}();function L(e){if(Array.isArray(e)){for(var t=0,n=Array(e.length);t<e.length;t++)n[t]=e[t];return n}return Array.from(e)}var I=function(){function e(t){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.varint64=r,this.uint32=f,this.buf=t,this.len=t.length,this.pos=0,this.view=new DataView(t.buffer,t.byteOffset,t.byteLength)}return T(e,[{key:"tag",value:function(){var e=this.uint32(),t=e>>>3,n=7&e;if(t<=0||n<0||n>5)throw new Error("illegal tag: field no "+t+" wire type "+n);return[t,n]}},{key:"skip",value:function(e){var t=this.pos;switch(e){case M.Bit64:this.pos+=4;case M.Bit32:this.pos+=4;break;case M.LengthDelimited:var n=this.uint32();this.pos+=n;break;case M.Varint:for(;128&this.buf[this.pos++];);}return this.assertBounds(),this.buf.slice(t,this.pos)}},{key:"assertBounds",value:function(){if(this.pos>this.len)throw new RangeError("premature EOF")}},{key:"int32",value:function(){return 0|this.uint32()}},{key:"sint32",value:function(){var e=this.uint32();return e>>>1^-(1&e)}},{key:"int64",value:function(){return new(Function.prototype.bind.apply(N,[null].concat(L(this.varint64()))))}},{key:"uint64",value:function(){return new(Function.prototype.bind.apply(k,[null].concat(L(this.varint64()))))}},{key:"sint64",value:function(){var e=this.varint64(),t=S(e,2),n=t[0],r=t[1],i=-(1&n);return new N(n=(n>>>1|(1&r)<<31)^i,r=r>>>1^i)}},{key:"bool",value:function(){var e=this.varint64(),t=S(e,2),n=t[0],r=t[1];return 0!==n||0!==r}},{key:"fixed32",value:function(){return this.view.getUint32((this.pos+=4)-4,!0)}},{key:"sfixed32",value:function(){return this.view.getInt32((this.pos+=4)-4,!0)}},{key:"fixed64",value:function(){return new k(this.sfixed32(),this.sfixed32())}},{key:"sfixed64",value:function(){return new N(this.sfixed32(),this.sfixed32())}},{key:"float",value:function(){return this.view.getFloat32((this.pos+=4)-4,!0)}},{key:"double",value:function(){return this.view.getFloat64((this.pos+=8)-8,!0)}},{key:"bytes",value:function(){var e=this.uint32(),t=this.pos;return this.pos+=e,this.assertBounds(),this.buf.slice(t,this.pos)}},{key:"string",value:function(){return function(e){if(e.length<1)return"";for(var t=0,n=[],r=[],i=0,o=void 0,a=e.length;t<a;)(o=e[t++])<128?r[i++]=o:o>191&&o<224?r[i++]=(31&o)<<6|63&e[t++]:o>239&&o<365?(o=((7&o)<<18|(63&e[t++])<<12|(63&e[t++])<<6|63&e[t++])-65536,r[i++]=55296+(o>>10),r[i++]=56320+(1023&o)):r[i++]=(15&o)<<12|(63&e[t++])<<6|63&e[t++],i>8191&&(n.push(O(r)),i=0);return n.length?(i&&n.push(O(r.slice(0,i))),n.join("")):O(r.slice(0,i))}(this.bytes())}}]),e}(),E="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e};function _(e,t){if(!e)throw new Error(t)}var R=3.4028234663852886e38,j=-3.4028234663852886e38,B=4294967295,F=2147483647,A=-2147483648;function x(e){if("number"!=typeof e)throw new Error("invalid int 32: "+(void 0===e?"undefined":E(e)));if(!Number.isInteger(e)||e>F||e<A)throw new Error("invalid int 32: "+e)}function P(e){if("number"!=typeof e)throw new Error("invalid uint 32: "+(void 0===e?"undefined":E(e)));if(!Number.isInteger(e)||e>B||e<0)throw new Error("invalid uint 32: "+e)}function U(e){if("number"!=typeof e)throw new Error("invalid float 32: "+(void 0===e?"undefined":E(e)));if(Number.isFinite(e)&&(e>R||e<j))throw new Error("invalid float 32: "+e)}var C=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}();var D,V=function(){function e(t){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.stack=[],this.textEncoder=null!==t&&void 0!==t?t:new TextEncoder,this.chunks=[],this.buf=[]}return C(e,[{key:"finish",value:function(){this.chunks.push(new Uint8Array(this.buf));for(var e=0,t=0;t<this.chunks.length;t++)e+=this.chunks[t].length;for(var n=new Uint8Array(e),r=0,i=0;i<this.chunks.length;i++)n.set(this.chunks[i],r),r+=this.chunks[i].length;return this.chunks=[],n}},{key:"fork",value:function(){return this.stack.push({chunks:this.chunks,buf:this.buf}),this.chunks=[],this.buf=[],this}},{key:"join",value:function(){var e=this.finish(),t=this.stack.pop();if(!t)throw new Error("invalid state, fork stack empty");return this.chunks=t.chunks,this.buf=t.buf,this.uint32(e.byteLength),this.raw(e)}},{key:"tag",value:function(e,t){return this.uint32((e<<3|t)>>>0)}},{key:"raw",value:function(e){return this.buf.length&&(this.chunks.push(new Uint8Array(this.buf)),this.buf=[]),this.chunks.push(e),this}},{key:"uint32",value:function(e){for(P(e);e>127;)this.buf.push(127&e|128),e>>>=7;return this.buf.push(e),this}},{key:"int32",value:function(e){return x(e),s(e,this.buf),this}},{key:"bool",value:function(e){return this.buf.push(e?1:0),this}},{key:"bytes",value:function(e){return this.uint32(e.byteLength),this.raw(e)}},{key:"string",value:function(e){var t=this.textEncoder.encode(e);return this.uint32(t.byteLength),this.raw(t)}},{key:"float",value:function(e){U(e);var t=new Uint8Array(4);return new DataView(t.buffer).setFloat32(0,e,!0),this.raw(t)}},{key:"double",value:function(e){var t=new Uint8Array(8);return new DataView(t.buffer).setFloat64(0,e,!0),this.raw(t)}},{key:"fixed32",value:function(e){P(e);var t=new Uint8Array(4);return new DataView(t.buffer).setUint32(0,e,!0),this.raw(t)}},{key:"sfixed32",value:function(e){x(e);var t=new Uint8Array(4);return new DataView(t.buffer).setInt32(0,e,!0),this.raw(t)}},{key:"sint32",value:function(e){return x(e),s(e=(e<<1^e>>31)>>>0,this.buf),this}},{key:"sfixed64",value:function(e){var t=new Uint8Array(8),n=new DataView(t.buffer),r=N.from(e);return n.setInt32(0,r.lo,!0),n.setInt32(4,r.hi,!0),this.raw(t)}},{key:"fixed64",value:function(e){var t=new Uint8Array(8),n=new DataView(t.buffer),r=k.from(e);return n.setInt32(0,r.lo,!0),n.setInt32(4,r.hi,!0),this.raw(t)}},{key:"int64",value:function(e){var t=N.from(e);return i(t.lo,t.hi,this.buf),this}},{key:"sint64",value:function(e){var t=N.from(e),n=t.hi>>31;return i(t.lo<<1^n,(t.hi<<1|t.lo>>>31)^n,this.buf),this}},{key:"uint64",value:function(e){var t=k.from(e);return i(t.lo,t.hi,this.buf),this}}]),e}();!function(e){e.symbol=Symbol("protobuf-ts/unknown"),e.onRead=function(n,r,i,o,a){(t(r)?r[e.symbol]:r[e.symbol]=[]).push({no:i,wireType:o,data:a})},e.onWrite=function(t,n,r){var i=!0,o=!1,a=void 0;try{for(var u,s=e.list(n)[Symbol.iterator]();!(i=(u=s.next()).done);i=!0){var f=u.value,l=f.no,c=f.wireType,h=f.data;r.tag(l,c).raw(h)}}catch(e){o=!0,a=e}finally{try{!i&&s.return&&s.return()}finally{if(o)throw a}}},e.list=function(n,r){if(t(n)){var i=n[e.symbol];return r?i.filter(function(e){return e.no==r}):i}return[]},e.last=function(t,n){return e.list(t,n).slice(-1)[0]};var t=function(t){return t&&Array.isArray(t[e.symbol])}}(D||(D={}));var M,K,W,q,X={readUnknownField:!0,readerFactory:function(e){return new I(e)}},J={writeUnknownFields:!0,writerFactory:function(){return new V}};function z(e,t,n){var r=void 0,i=n,o=void 0,a=!0,u=!1,s=void 0;try{for(var f,l=e.fields[Symbol.iterator]();!(a=(f=l.next()).done);a=!0){var c=f.value,h=c.localName;if(c.oneof){var y=i[c.oneof];if(void 0===y)continue;if(r=y[h],(o=t[c.oneof]).oneofKind=y.oneofKind,void 0===r){delete o[h];continue}}else if(o=t,void 0===(r=i[h]))continue;switch(c.kind){case"scalar":case"enum":c.repeat?o[h]=r.concat():o[h]=r;break;case"message":var p=c.T();if(c.repeat)for(var d=0;d<r.length;d++)o[h][d]=p.create(r[d]);else void 0===o[h]?o[h]=p.create(r):p.mergePartial(o[h],r);break;case"map":switch(c.V.kind){case"scalar":case"enum":Object.assign(o[h],r);break;case"message":var v=c.V.T(),m=!0,g=!1,b=void 0;try{for(var w,k=Object.keys(r)[Symbol.iterator]();!(m=(w=k.next()).done);m=!0){var N=w.value;o[h][N]=v.create(r[N])}}catch(e){g=!0,b=e}finally{try{!m&&k.return&&k.return()}finally{if(g)throw b}}}}}}catch(e){u=!0,s=e}finally{try{!a&&l.return&&l.return()}finally{if(u)throw s}}}function G(e){for(var t=!1,n=[],r=0;r<e.length;r++){var i=e.charAt(r);"_"==i?t=!0:/\d/.test(i)?(n.push(i),t=!0):t?(n.push(i.toUpperCase()),t=!1):0==r?n.push(i.toLowerCase()):n.push(i)}return n.join("")}function Z(e){var t,n,r,i;return e.localName=null!==(t=e.localName)&&void 0!==t?t:G(e.name),e.jsonName=null!==(n=e.jsonName)&&void 0!==n?n:G(e.name),e.repeat=null!==(r=e.repeat)&&void 0!==r?r:q.NO,e.opt=null!==(i=e.opt)&&void 0!==i?i:!e.repeat&&(!e.oneof&&"message"==e.kind),e}!function(e){e[e.Varint=0]="Varint",e[e.Bit64=1]="Bit64",e[e.LengthDelimited=2]="LengthDelimited",e[e.StartGroup=3]="StartGroup",e[e.EndGroup=4]="EndGroup",e[e.Bit32=5]="Bit32"}(M||(M={})),function(e){e[e.DOUBLE=1]="DOUBLE",e[e.FLOAT=2]="FLOAT",e[e.INT64=3]="INT64",e[e.UINT64=4]="UINT64",e[e.INT32=5]="INT32",e[e.FIXED64=6]="FIXED64",e[e.FIXED32=7]="FIXED32",e[e.BOOL=8]="BOOL",e[e.STRING=9]="STRING",e[e.BYTES=12]="BYTES",e[e.UINT32=13]="UINT32",e[e.SFIXED32=15]="SFIXED32",e[e.SFIXED64=16]="SFIXED64",e[e.SINT32=17]="SINT32",e[e.SINT64=18]="SINT64"}(K||(K={})),function(e){e[e.BIGINT=0]="BIGINT",e[e.STRING=1]="STRING",e[e.NUMBER=2]="NUMBER"}(W||(W={})),function(e){e[e.NO=0]="NO",e[e.PACKED=1]="PACKED",e[e.UNPACKED=2]="UNPACKED"}(q||(q={}));var Y="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e};var H="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Q=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}();var $=function(){function e(t){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.info=t}return Q(e,[{key:"prepare",value:function(){if(!this.data){var e=[],t=[],n=[],r=!0,i=!1,o=void 0;try{for(var a,u=this.info.fields[Symbol.iterator]();!(r=(a=u.next()).done);r=!0){var s=a.value;if(s.oneof)n.includes(s.oneof)||(n.push(s.oneof),e.push(s.oneof),t.push(s.oneof));else switch(t.push(s.localName),s.kind){case"scalar":case"enum":s.opt&&!s.repeat||e.push(s.localName);break;case"message":s.repeat&&e.push(s.localName);break;case"map":e.push(s.localName)}}}catch(e){i=!0,o=e}finally{try{!r&&u.return&&u.return()}finally{if(i)throw o}}this.data={req:e,known:t,oneofs:Object.values(n)}}}},{key:"is",value:function(e,t){var n=this,r=arguments.length>2&&void 0!==arguments[2]&&arguments[2];if(t<0)return!0;if(null===e||void 0===e||"object"!=(void 0===e?"undefined":H(e)))return!1;this.prepare();var i=Object.keys(e),o=this.data;if(i.length<o.req.length||o.req.some(function(e){return!i.includes(e)}))return!1;if(!r&&i.some(function(e){return!o.known.includes(e)}))return!1;if(t<1)return!0;var a=function(i){var o=e[i];if(!function(e){if("object"!=(void 0===e?"undefined":Y(e))||null===e||!e.hasOwnProperty("oneofKind"))return!1;switch(Y(e.oneofKind)){case"string":return void 0!==e[e.oneofKind]&&2==Object.keys(e).length;case"undefined":return 1==Object.keys(e).length;default:return!1}}(o))return{v:!1};if(void 0===o.oneofKind)return"continue";var a=n.info.fields.find(function(e){return e.localName===o.oneofKind});return a&&n.field(o[o.oneofKind],a,r,t)?void 0:{v:!1}},u=!0,s=!1,f=void 0;try{for(var l,c=o.oneofs[Symbol.iterator]();!(u=(l=c.next()).done);u=!0){var h=a(l.value);switch(h){case"continue":continue;default:if("object"===(void 0===h?"undefined":H(h)))return h.v}}}catch(e){s=!0,f=e}finally{try{!u&&c.return&&c.return()}finally{if(s)throw f}}var y=!0,p=!1,d=void 0;try{for(var v,m=this.info.fields[Symbol.iterator]();!(y=(v=m.next()).done);y=!0){var g=v.value;if(void 0===g.oneof&&!this.field(e[g.localName],g,r,t))return!1}}catch(e){p=!0,d=e}finally{try{!y&&m.return&&m.return()}finally{if(p)throw d}}return!0}},{key:"field",value:function(e,t,n,r){var i=t.repeat;switch(t.kind){case"scalar":return void 0===e?t.opt:i?this.scalars(e,t.T,r,t.L):this.scalar(e,t.T,t.L);case"enum":return void 0===e?t.opt:i?this.scalars(e,K.INT32,r):this.scalar(e,K.INT32);case"message":return void 0===e||(i?this.messages(e,t.T(),n,r):this.message(e,t.T(),n,r));case"map":if("object"!=(void 0===e?"undefined":H(e))||null===e)return!1;if(r<2)return!0;if(!this.mapKeys(e,t.K,r))return!1;switch(t.V.kind){case"scalar":return this.scalars(Object.values(e),t.V.T,r,t.V.L);case"enum":return this.scalars(Object.values(e),K.INT32,r);case"message":return this.messages(Object.values(e),t.V.T(),n,r)}}return!0}},{key:"message",value:function(e,t,n,r){return n?t.isAssignable(e,r):t.is(e,r)}},{key:"messages",value:function(e,t,n,r){if(!Array.isArray(e))return!1;if(r<2)return!0;if(n){for(var i=0;i<e.length&&i<r;i++)if(!t.isAssignable(e[i],r-1))return!1}else for(var o=0;o<e.length&&o<r;o++)if(!t.is(e[o],r-1))return!1;return!0}},{key:"scalar",value:function(e,t,n){var r=void 0===e?"undefined":H(e);switch(t){case K.UINT64:case K.FIXED64:case K.INT64:case K.SFIXED64:case K.SINT64:switch(n){case W.BIGINT:return"bigint"==r;case W.NUMBER:return"number"==r&&!isNaN(e);default:return"string"==r}case K.BOOL:return"boolean"==r;case K.STRING:return"string"==r;case K.BYTES:return e instanceof Uint8Array;case K.DOUBLE:case K.FLOAT:return"number"==r&&!isNaN(e);default:return"number"==r&&Number.isInteger(e)}}},{key:"scalars",value:function(e,t,n,r){if(!Array.isArray(e))return!1;if(n<2)return!0;if(Array.isArray(e))for(var i=0;i<e.length&&i<n;i++)if(!this.scalar(e[i],t,r))return!1;return!0}},{key:"mapKeys",value:function(e,t,n){var r=Object.keys(e);switch(t){case K.INT32:case K.FIXED32:case K.SFIXED32:case K.SINT32:case K.UINT32:return this.scalars(r.slice(0,n).map(function(e){return parseInt(e)}),t,n);case K.BOOL:return this.scalars(r.slice(0,n).map(function(e){return"true"==e||"false"!=e&&e}),t,n);default:return this.scalars(r,t,n,W.STRING)}}}]),e}(),ee="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e};function te(e){var t=void 0===e?"undefined":ee(e);if("object"==t){if(Array.isArray(e))return"array";if(null===e)return"null"}return t}for(var ne="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/".split(""),re=[],ie=0;ie<ne.length;ie++)re[ne[ie].charCodeAt(0)]=ie;function oe(e,t){switch(t){case W.BIGINT:return e.toBigInt();case W.NUMBER:return e.toNumber();default:return e.toString()}}re["-".charCodeAt(0)]=ne.indexOf("+"),re["_".charCodeAt(0)]=ne.indexOf("/");var ae="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},ue=function(){return function(e,t){if(Array.isArray(e))return e;if(Symbol.iterator in Object(e))return function(e,t){var n=[],r=!0,i=!1,o=void 0;try{for(var a,u=e[Symbol.iterator]();!(r=(a=u.next()).done)&&(n.push(a.value),!t||n.length!==t);r=!0);}catch(e){i=!0,o=e}finally{try{!r&&u.return&&u.return()}finally{if(i)throw o}}return n}(e,t);throw new TypeError("Invalid attempt to destructure non-iterable instance")}}(),se=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}();var fe=function(){function e(t){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.info=t}return se(e,[{key:"prepare",value:function(){if(void 0===this.fMap){this.fMap={};var e=!0,t=!1,n=void 0;try{for(var r,i=this.info.fields[Symbol.iterator]();!(e=(r=i.next()).done);e=!0){var o=r.value;this.fMap[o.name]=o,this.fMap[o.jsonName]=o,this.fMap[o.localName]=o}}catch(e){t=!0,n=e}finally{try{!e&&i.return&&i.return()}finally{if(t)throw n}}}}},{key:"assert",value:function(e,t,n){if(!e){var r=te(n);throw"number"!=r&&"boolean"!=r||(r=n.toString()),new Error("Cannot parse JSON "+r+" for "+this.info.typeName+"#"+t)}}},{key:"read",value:function(e,t,n){this.prepare();var r,i=[],o=!0,a=!1,u=void 0;try{for(var s,f=Object.entries(e)[Symbol.iterator]();!(o=(s=f.next()).done);o=!0){var l=s.value,c=ue(l,2),h=c[0],y=c[1],p=this.fMap[h];if(p){var d=p.localName,v=void 0;if(p.oneof){if(i.includes(p.oneof))throw new Error('Multiple members of the oneof group "'+p.oneof+'" of '+this.info.typeName+" are present in JSON.");i.push(p.oneof),v=t[p.oneof]={oneofKind:d}}else v=t;if("map"==p.kind){if(null===y)continue;this.assert(null!==(r=y)&&"object"==(void 0===r?"undefined":ee(r))&&!Array.isArray(r),p.name,y);var m=v[d],g=!0,b=!1,w=void 0;try{for(var k,N=Object.entries(y)[Symbol.iterator]();!(g=(k=N.next()).done);g=!0){var O=k.value,S=ue(O,2),T=S[0],L=S[1];this.assert(null!==L,p.name+" map value",null);var I=void 0;switch(p.V.kind){case"message":I=p.V.T().internalJsonRead(L,n);break;case"enum":I=this.enum(p.V.T(),L,p.name);break;case"scalar":I=this.scalar(L,p.V.T,p.V.L,p.name)}this.assert(void 0!==I,p.name+" map value",L);var E=T;p.K==K.BOOL&&(E="true"==E||"false"!=E&&E),m[E=this.scalar(E,p.K,W.STRING,p.name).toString()]=I}}catch(e){b=!0,w=e}finally{try{!g&&N.return&&N.return()}finally{if(b)throw w}}}else if(p.repeat){if(null===y)continue;this.assert(Array.isArray(y),p.name,y);var _=v[d],R=!0,j=!1,B=void 0;try{for(var F,A=y[Symbol.iterator]();!(R=(F=A.next()).done);R=!0){var x=F.value;this.assert(null!==x,p.name,null);var P=void 0;switch(p.kind){case"message":P=p.T().internalJsonRead(x,n);break;case"enum":P=this.enum(p.T(),x,p.name);break;case"scalar":P=this.scalar(x,p.T,p.L,p.name)}this.assert(void 0!==P,p.name,y),_.push(P)}}catch(e){j=!0,B=e}finally{try{!R&&A.return&&A.return()}finally{if(j)throw B}}}else switch(p.kind){case"message":if(null===y&&"google.protobuf.Value"!=p.T().typeName){this.assert(void 0===p.oneof,p.name+" (oneof member)",null);continue}v[d]=p.T().internalJsonRead(y,n,v[d]);break;case"enum":v[d]=this.enum(p.T(),y,p.name);break;case"scalar":v[d]=this.scalar(y,p.T,p.L,p.name)}}else if(!n.ignoreUnknownFields)throw new Error("Found unknown field while reading "+this.info.typeName+" from JSON format. JSON key: "+h)}}catch(e){a=!0,u=e}finally{try{!o&&f.return&&f.return()}finally{if(a)throw u}}}},{key:"enum",value:function(e,t,n){if("google.protobuf.NullValue"==e[0]&&_(null===t,"Unable to parse field "+this.info.typeName+"#"+n+", enum "+e[0]+" only accepts null."),null===t)return 0;switch(void 0===t?"undefined":ae(t)){case"number":return _(Number.isInteger(t),"Unable to parse field "+this.info.typeName+"#"+n+", enum can only be integral number, got "+t+"."),t;case"string":var r=t;e[2]&&t.substring(0,e[2].length)===e[2]&&(r=t.substring(e[2].length));var i=e[1][r];return _("number"==typeof i,"Unable to parse field "+this.info.typeName+"#"+n+", enum "+e[0]+' has no value for "'+t+'".'),i}_(!1,"Unable to parse field "+this.info.typeName+"#"+n+", cannot parse enum value from "+(void 0===t?"undefined":ae(t))+'".')}},{key:"scalar",value:function(e,t,n,r){var i=void 0;try{switch(t){case K.DOUBLE:case K.FLOAT:if(null===e)return 0;if("NaN"===e)return Number.NaN;if("Infinity"===e)return Number.POSITIVE_INFINITY;if("-Infinity"===e)return Number.NEGATIVE_INFINITY;if(""===e){i="empty string";break}if("string"==typeof e&&e.trim().length!==e.length){i="extra whitespace";break}if("string"!=typeof e&&"number"!=typeof e)break;var o=Number(e);if(Number.isNaN(o)){i="not a number";break}if(!Number.isFinite(o)){i="too large or small";break}return t==K.FLOAT&&U(o),o;case K.INT32:case K.FIXED32:case K.SFIXED32:case K.SINT32:case K.UINT32:if(null===e)return 0;var a=void 0;if("number"==typeof e?a=e:""===e?i="empty string":"string"==typeof e&&(e.trim().length!==e.length?i="extra whitespace":a=Number(e)),void 0===a)break;return t==K.UINT32?P(a):x(a),a;case K.INT64:case K.SFIXED64:case K.SINT64:if(null===e)return oe(N.ZERO,n);if("number"!=typeof e&&"string"!=typeof e)break;return oe(N.from(e),n);case K.FIXED64:case K.UINT64:if(null===e)return oe(k.ZERO,n);if("number"!=typeof e&&"string"!=typeof e)break;return oe(k.from(e),n);case K.BOOL:if(null===e)return!1;if("boolean"!=typeof e)break;return e;case K.STRING:if(null===e)return"";if("string"!=typeof e){i="extra whitespace";break}try{encodeURIComponent(e)}catch(i){i="invalid UTF8";break}return e;case K.BYTES:if(null===e||""===e)return new Uint8Array(0);if("string"!=typeof e)break;return function(e){var t=3*e.length/4;"="==e[e.length-2]?t-=2:"="==e[e.length-1]&&(t-=1);for(var n=new Uint8Array(t),r=0,i=0,o=void 0,a=0,u=0;u<e.length;u++){if(void 0===(o=re[e.charCodeAt(u)]))switch(e[u]){case"=":i=0;case"\n":case"\r":case"\t":case" ":continue;default:throw Error("invalid base64 string.")}switch(i){case 0:a=o,i=1;break;case 1:n[r++]=a<<2|(48&o)>>4,a=o,i=2;break;case 2:n[r++]=(15&a)<<4|(60&o)>>2,a=o,i=3;break;case 3:n[r++]=(3&a)<<6|o,i=0}}if(1==i)throw Error("invalid base64 string.");return n.subarray(0,r)}(e)}}catch(e){i=e.message}this.assert(!1,r+(i?" - "+i:""),e)}}]),e}(),le=function(){return function(e,t){if(Array.isArray(e))return e;if(Symbol.iterator in Object(e))return function(e,t){var n=[],r=!0,i=!1,o=void 0;try{for(var a,u=e[Symbol.iterator]();!(r=(a=u.next()).done)&&(n.push(a.value),!t||n.length!==t);r=!0);}catch(e){i=!0,o=e}finally{try{!r&&u.return&&u.return()}finally{if(i)throw o}}return n}(e,t);throw new TypeError("Invalid attempt to destructure non-iterable instance")}}(),ce="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},he=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}();var ye=function(){function e(t){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.info=t}return he(e,[{key:"write",value:function(e,t){var n={},r=e,i=!0,o=!1,a=void 0;try{for(var u,s=this.info.fields.filter(function(e){return!e.oneof})[Symbol.iterator]();!(i=(u=s.next()).done);i=!0){var f=u.value;void 0!==(m=this.field(f,r[f.localName],t))&&(n[t.useProtoFieldName?f.name:f.jsonName]=m)}}catch(e){o=!0,a=e}finally{try{!i&&s.return&&s.return()}finally{if(o)throw a}}var l=!0,c=!1,h=void 0;try{for(var y,p=this.info.fields[Symbol.iterator]();!(l=(y=p.next()).done);l=!0){var d=y.value;if(d.oneof){var v=r[d.oneof];if(v.oneofKind===d.localName){var m=void 0;_(void 0!==(m="scalar"==d.kind||"enum"==d.kind?this.field(d,v[d.localName],{enumAsInteger:t.enumAsInteger,useProtoFieldName:t.useProtoFieldName,emitDefaultValues:!0}):this.field(d,v[d.localName],t))),n[t.useProtoFieldName?d.name:d.jsonName]=m}}}}catch(e){c=!0,h=e}finally{try{!l&&p.return&&p.return()}finally{if(c)throw h}}return n}},{key:"field",value:function(e,t,n){var r=void 0;if("map"==e.kind){_("object"==(void 0===t?"undefined":ce(t))&&null!==t);var i={};switch(e.V.kind){case"scalar":var o=!0,a=!1,u=void 0;try{for(var s,f=Object.entries(t)[Symbol.iterator]();!(o=(s=f.next()).done);o=!0){var l=s.value,c=le(l,2),h=c[0],y=c[1],p=this.scalar(e.V.T,y,e.name,!1,!0);_(void 0!==p),i[h.toString()]=p}}catch(e){a=!0,u=e}finally{try{!o&&f.return&&f.return()}finally{if(a)throw u}}break;case"message":var d=e.V.T(),v=!0,m=!1,g=void 0;try{for(var b,w=Object.entries(t)[Symbol.iterator]();!(v=(b=w.next()).done);v=!0){var k=b.value,N=le(k,2),O=N[0],S=N[1],T=this.message(d,S,e.name,n);_(void 0!==T),i[O.toString()]=T}}catch(e){m=!0,g=e}finally{try{!v&&w.return&&w.return()}finally{if(m)throw g}}break;case"enum":var L=e.V.T(),I=!0,E=!1,R=void 0;try{for(var j,B=Object.entries(t)[Symbol.iterator]();!(I=(j=B.next()).done);I=!0){var F=j.value,A=le(F,2),x=A[0],P=A[1];_(void 0===P||"number"==typeof P);var U=this.enum(L,P,e.name,!1,!0,n.enumAsInteger);_(void 0!==U),i[x.toString()]=U}}catch(e){E=!0,R=e}finally{try{!I&&B.return&&B.return()}finally{if(E)throw R}}}(n.emitDefaultValues||Object.keys(i).length>0)&&(r=i)}else if(e.repeat){_(Array.isArray(t));var C=[];switch(e.kind){case"scalar":for(var D=0;D<t.length;D++){var V=this.scalar(e.T,t[D],e.name,e.opt,!0);_(void 0!==V),C.push(V)}break;case"enum":for(var M=e.T(),K=0;K<t.length;K++){_(void 0===t[K]||"number"==typeof t[K]);var W=this.enum(M,t[K],e.name,e.opt,!0,n.enumAsInteger);_(void 0!==W),C.push(W)}break;case"message":for(var q=e.T(),X=0;X<t.length;X++){var J=this.message(q,t[X],e.name,n);_(void 0!==J),C.push(J)}}(n.emitDefaultValues||C.length>0||n.emitDefaultValues)&&(r=C)}else switch(e.kind){case"scalar":r=this.scalar(e.T,t,e.name,e.opt,n.emitDefaultValues);break;case"enum":r=this.enum(e.T(),t,e.name,e.opt,n.emitDefaultValues,n.enumAsInteger);break;case"message":r=this.message(e.T(),t,e.name,n)}return r}},{key:"enum",value:function(e,t,n,r,i,o){if("google.protobuf.NullValue"==e[0])return null;if(void 0!==t){if(0!==t||i||r)return _("number"==typeof t),_(Number.isInteger(t)),o||!e[1].hasOwnProperty(t)?t:e[2]?e[2]+e[1][t]:e[1][t]}else _(r)}},{key:"message",value:function(e,t,n,r){return void 0===t?r.emitDefaultValues?null:void 0:e.internalJsonWrite(t,r)}},{key:"scalar",value:function(e,t,n,r,i){if(void 0!==t){var o=i||r;switch(e){case K.INT32:case K.SFIXED32:case K.SINT32:return 0===t?o?0:void 0:(x(t),t);case K.FIXED32:case K.UINT32:return 0===t?o?0:void 0:(P(t),t);case K.FLOAT:U(t);case K.DOUBLE:return 0===t?o?0:void 0:(_("number"==typeof t),Number.isNaN(t)?"NaN":t===Number.POSITIVE_INFINITY?"Infinity":t===Number.NEGATIVE_INFINITY?"-Infinity":t);case K.STRING:return""===t?o?"":void 0:(_("string"==typeof t),t);case K.BOOL:return!1===t?!o&&void 0:(_("boolean"==typeof t),t);case K.UINT64:case K.FIXED64:_("number"==typeof t||"string"==typeof t||"bigint"==typeof t);var a=k.from(t);if(a.isZero()&&!o)return;return a.toString();case K.INT64:case K.SFIXED64:case K.SINT64:_("number"==typeof t||"string"==typeof t||"bigint"==typeof t);var u=N.from(t);if(u.isZero()&&!o)return;return u.toString();case K.BYTES:return _(t instanceof Uint8Array),t.byteLength?function(e){for(var t="",n=0,r=void 0,i=0,o=0;o<e.length;o++)switch(r=e[o],n){case 0:t+=ne[r>>2],i=(3&r)<<4,n=1;break;case 1:t+=ne[i|r>>4],i=(15&r)<<2,n=2;break;case 2:t+=ne[i|r>>6],t+=ne[63&r],n=0}return n&&(t+=ne[i],t+="=",1==n&&(t+="=")),t}(t):o?"":void 0}}else _(r)}}]),e}();function pe(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:W.STRING;switch(e){case K.BOOL:return!1;case K.UINT64:case K.FIXED64:return oe(k.ZERO,t);case K.INT64:case K.SFIXED64:case K.SINT64:return oe(N.ZERO,t);case K.DOUBLE:case K.FLOAT:return 0;case K.BYTES:return new Uint8Array(0);case K.STRING:return"";default:return 0}}var de=function(){return function(e,t){if(Array.isArray(e))return e;if(Symbol.iterator in Object(e))return function(e,t){var n=[],r=!0,i=!1,o=void 0;try{for(var a,u=e[Symbol.iterator]();!(r=(a=u.next()).done)&&(n.push(a.value),!t||n.length!==t);r=!0);}catch(e){i=!0,o=e}finally{try{!r&&u.return&&u.return()}finally{if(i)throw o}}return n}(e,t);throw new TypeError("Invalid attempt to destructure non-iterable instance")}}(),ve=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}();var me=function(){function e(t){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.info=t}return ve(e,[{key:"prepare",value:function(){this.fieldNoToField||(this.fieldNoToField=new Map(this.info.fields.map(function(e){return[e.no,e]})))}},{key:"read",value:function(e,t,n,r){this.prepare();for(var i=void 0===r?e.len:e.pos+r;e.pos<i;){var o=e.tag(),a=de(o,2),u=a[0],s=a[1],f=this.fieldNoToField.get(u);if(f){var l=t,c=f.repeat,h=f.localName;switch(f.oneof&&(l=l[f.oneof]).oneofKind!==h&&(l=t[f.oneof]={oneofKind:h}),f.kind){case"scalar":case"enum":var y="enum"==f.kind?K.INT32:f.T,p="scalar"==f.kind?f.L:void 0;if(c){var d=l[h];if(s==M.LengthDelimited&&y!=K.STRING&&y!=K.BYTES)for(var v=e.uint32()+e.pos;e.pos<v;)d.push(this.scalar(e,y,p));else d.push(this.scalar(e,y,p))}else l[h]=this.scalar(e,y,p);break;case"message":if(c){var m=l[h],g=f.T().internalBinaryRead(e,e.uint32(),n);m.push(g)}else l[h]=f.T().internalBinaryRead(e,e.uint32(),n,l[h]);break;case"map":var b=this.mapEntry(f,e,n),w=de(b,2),k=w[0],N=w[1];l[h][k]=N}}else{var O=n.readUnknownField;if("throw"==O)throw new Error("Unknown field "+u+" (wire type "+s+") for "+this.info.typeName);var S=e.skip(s);!1!==O&&(!0===O?D.onRead:O)(this.info.typeName,t,u,s,S)}}}},{key:"mapEntry",value:function(e,t,n){for(var r=t.uint32(),i=t.pos+r,o=void 0,a=void 0;t.pos<i;){var u=t.tag(),s=de(u,2),f=s[0],l=s[1];switch(f){case 1:o=e.K==K.BOOL?t.bool().toString():this.scalar(t,e.K,W.STRING);break;case 2:switch(e.V.kind){case"scalar":a=this.scalar(t,e.V.T,e.V.L);break;case"enum":a=t.int32();break;case"message":a=e.V.T().internalBinaryRead(t,t.uint32(),n)}break;default:throw new Error("Unknown field "+f+" (wire type "+l+") in map entry for "+this.info.typeName+"#"+e.name)}}if(void 0===o){var c=pe(e.K);o=e.K==K.BOOL?c.toString():c}if(void 0===a)switch(e.V.kind){case"scalar":a=pe(e.V.T,e.V.L);break;case"enum":a=0;break;case"message":a=e.V.T().create()}return[o,a]}},{key:"scalar",value:function(e,t,n){switch(t){case K.INT32:return e.int32();case K.STRING:return e.string();case K.BOOL:return e.bool();case K.DOUBLE:return e.double();case K.FLOAT:return e.float();case K.INT64:return oe(e.int64(),n);case K.UINT64:return oe(e.uint64(),n);case K.FIXED64:return oe(e.fixed64(),n);case K.FIXED32:return e.fixed32();case K.BYTES:return e.bytes();case K.UINT32:return e.uint32();case K.SFIXED32:return e.sfixed32();case K.SFIXED64:return oe(e.sfixed64(),n);case K.SINT32:return e.sint32();case K.SINT64:return oe(e.sint64(),n)}}}]),e}(),ge=function(){return function(e,t){if(Array.isArray(e))return e;if(Symbol.iterator in Object(e))return function(e,t){var n=[],r=!0,i=!1,o=void 0;try{for(var a,u=e[Symbol.iterator]();!(r=(a=u.next()).done)&&(n.push(a.value),!t||n.length!==t);r=!0);}catch(e){i=!0,o=e}finally{try{!r&&u.return&&u.return()}finally{if(i)throw o}}return n}(e,t);throw new TypeError("Invalid attempt to destructure non-iterable instance")}}(),be="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},we=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}();var ke=function(){function e(t){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.info=t}return we(e,[{key:"prepare",value:function(){this.fields||(this.fields=this.info.fields.concat().sort(function(e,t){return e.no-t.no}))}},{key:"write",value:function(e,t,n){this.prepare();var r=!0,i=!1,o=void 0;try{for(var a,u=this.fields[Symbol.iterator]();!(r=(a=u.next()).done);r=!0){var s=a.value,f=void 0,l=void 0,c=s.repeat,h=s.localName;if(s.oneof){var y=e[s.oneof];if(y.oneofKind!==h)continue;f=y[h],l=!0}else f=e[h],l=!1;switch(s.kind){case"scalar":case"enum":var p="enum"==s.kind?K.INT32:s.T;if(c)if(_(Array.isArray(f)),c==q.PACKED)this.packed(t,p,s.no,f);else{var d=!0,v=!1,m=void 0;try{for(var g,b=f[Symbol.iterator]();!(d=(g=b.next()).done);d=!0){var w=g.value;this.scalar(t,p,s.no,w,!0)}}catch(e){v=!0,m=e}finally{try{!d&&b.return&&b.return()}finally{if(v)throw m}}}else void 0===f?_(s.opt):this.scalar(t,p,s.no,f,l||s.opt);break;case"message":if(c){_(Array.isArray(f));var k=!0,N=!1,O=void 0;try{for(var S,T=f[Symbol.iterator]();!(k=(S=T.next()).done);k=!0){var L=S.value;this.message(t,n,s.T(),s.no,L)}}catch(e){N=!0,O=e}finally{try{!k&&T.return&&T.return()}finally{if(N)throw O}}}else this.message(t,n,s.T(),s.no,f);break;case"map":_("object"==(void 0===f?"undefined":be(f))&&null!==f);var I=!0,E=!1,R=void 0;try{for(var j,B=Object.entries(f)[Symbol.iterator]();!(I=(j=B.next()).done);I=!0){var F=j.value,A=ge(F,2),x=A[0],P=A[1];this.mapEntry(t,n,s,x,P)}}catch(e){E=!0,R=e}finally{try{!I&&B.return&&B.return()}finally{if(E)throw R}}}}}catch(e){i=!0,o=e}finally{try{!r&&u.return&&u.return()}finally{if(i)throw o}}var U=n.writeUnknownFields;!1!==U&&(!0===U?D.onWrite:U)(this.info.typeName,e,t)}},{key:"mapEntry",value:function(e,t,n,r,i){e.tag(n.no,M.LengthDelimited),e.fork();var o=r;switch(n.K){case K.INT32:case K.FIXED32:case K.UINT32:case K.SFIXED32:case K.SINT32:o=Number.parseInt(r);break;case K.BOOL:_("true"==r||"false"==r),o="true"==r}switch(this.scalar(e,n.K,1,o,!0),n.V.kind){case"scalar":this.scalar(e,n.V.T,2,i,!0);break;case"enum":this.scalar(e,K.INT32,2,i,!0);break;case"message":this.message(e,t,n.V.T(),2,i)}e.join()}},{key:"message",value:function(e,t,n,r,i){void 0!==i&&(n.internalBinaryWrite(i,e.tag(r,M.LengthDelimited).fork(),t),e.join())}},{key:"scalar",value:function(e,t,n,r,i){var o=this.scalarInfo(t,r),a=ge(o,3),u=a[0],s=a[1];a[2]&&!i||(e.tag(n,u),e[s](r))}},{key:"packed",value:function(e,t,n,r){if(r.length){_(t!==K.BYTES&&t!==K.STRING),e.tag(n,M.LengthDelimited),e.fork();for(var i=this.scalarInfo(t),o=ge(i,2)[1],a=0;a<r.length;a++)e[o](r[a]);e.join()}}},{key:"scalarInfo",value:function(e,t){var n=M.Varint,r=void 0,i=void 0===t,o=0===t;switch(e){case K.INT32:r="int32";break;case K.STRING:o=i||!t.length,n=M.LengthDelimited,r="string";break;case K.BOOL:o=!1===t,r="bool";break;case K.UINT32:r="uint32";break;case K.DOUBLE:n=M.Bit64,r="double";break;case K.FLOAT:n=M.Bit32,r="float";break;case K.INT64:o=i||N.from(t).isZero(),r="int64";break;case K.UINT64:o=i||k.from(t).isZero(),r="uint64";break;case K.FIXED64:o=i||k.from(t).isZero(),n=M.Bit64,r="fixed64";break;case K.BYTES:o=i||!t.byteLength,n=M.LengthDelimited,r="bytes";break;case K.FIXED32:n=M.Bit32,r="fixed32";break;case K.SFIXED32:n=M.Bit32,r="sfixed32";break;case K.SFIXED64:o=i||N.from(t).isZero(),n=M.Bit64,r="sfixed64";break;case K.SINT32:r="sint32";break;case K.SINT64:o=i||N.from(t).isZero(),r="sint64"}return[n,r,i||o]}}]),e}();var Ne={emitDefaultValues:!1,enumAsInteger:!1,useProtoFieldName:!1,prettySpaces:0},Oe={ignoreUnknownFields:!1};var Se=Object.values;function Te(e,t,n){if(t===n)return!0;if(e!==K.BYTES)return!1;var r=t,i=n;if(r.length!==i.length)return!1;for(var o=0;o<r.length;o++)if(r[o]!=i[o])return!1;return!0}function Le(e,t,n){if(t.length!==n.length)return!1;for(var r=0;r<t.length;r++)if(!Te(e,t[r],n[r]))return!1;return!0}function Ie(e,t,n){if(t.length!==n.length)return!1;for(var r=0;r<t.length;r++)if(!e.equals(t[r],n[r]))return!1;return!0}var Ee="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},_e=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}();var Re,je=function(){function e(t,n){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.defaultCheckDepth=16,this.typeName=t,this.fields=n.map(Z),this.refTypeCheck=new $(this),this.refJsonReader=new fe(this),this.refJsonWriter=new ye(this),this.refBinReader=new me(this),this.refBinWriter=new ke(this)}return _e(e,[{key:"create",value:function(e){var t=function(e){var t={},n=!0,r=!1,i=void 0;try{for(var o,a=e.fields[Symbol.iterator]();!(n=(o=a.next()).done);n=!0){var u=o.value,s=u.localName;if(!u.opt)if(u.oneof)t[u.oneof]={oneofKind:void 0};else if(u.repeat)t[s]=[];else switch(u.kind){case"scalar":t[s]=pe(u.T,u.L);break;case"enum":t[s]=0;break;case"map":t[s]={}}}}catch(e){r=!0,i=e}finally{try{!n&&a.return&&a.return()}finally{if(r)throw i}}return t}(this);return void 0!==e&&z(this,t,e),t}},{key:"clone",value:function(e){var t=this.create();return z(this,t,e),t}},{key:"equals",value:function(e,t){return function(e,t,n){if(t===n)return!0;if(!t||!n)return!1;var r=!0,i=!1,o=void 0;try{for(var a,u=e.fields[Symbol.iterator]();!(r=(a=u.next()).done);r=!0){var s=a.value,f=s.localName,l=s.oneof?t[s.oneof][f]:t[f],c=s.oneof?n[s.oneof][f]:n[f];switch(s.kind){case"enum":case"scalar":var h="enum"==s.kind?K.INT32:s.T;if(!(s.repeat?Le(h,l,c):Te(h,l,c)))return!1;break;case"map":if(!("message"==s.V.kind?Ie(s.V.T(),Se(l),Se(c)):Le("enum"==s.V.kind?K.INT32:s.V.T,Se(l),Se(c))))return!1;break;case"message":var y=s.T();if(!(s.repeat?Ie(y,l,c):y.equals(l,c)))return!1}}}catch(e){i=!0,o=e}finally{try{!r&&u.return&&u.return()}finally{if(i)throw o}}return!0}(this,e,t)}},{key:"is",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:this.defaultCheckDepth;return this.refTypeCheck.is(e,t,!1)}},{key:"isAssignable",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:this.defaultCheckDepth;return this.refTypeCheck.is(e,t,!0)}},{key:"mergePartial",value:function(e,t){z(this,e,t)}},{key:"fromBinary",value:function(e,t){var n=function(e){return e?Object.assign(Object.assign({},X),e):X}(t);return this.internalBinaryRead(n.readerFactory(e),e.byteLength,n)}},{key:"fromJson",value:function(e,t){return this.internalJsonRead(e,function(e){return e?Object.assign(Object.assign({},Oe),e):Oe}(t))}},{key:"fromJsonString",value:function(e,t){var n=JSON.parse(e);return this.fromJson(n,t)}},{key:"toJson",value:function(e,t){return this.internalJsonWrite(e,function(e){return e?Object.assign(Object.assign({},Ne),e):Ne}(t))}},{key:"toJsonString",value:function(e,t){var n,r=this.toJson(e,t);return JSON.stringify(r,null,null!==(n=null===t||void 0===t?void 0:t.prettySpaces)&&void 0!==n?n:0)}},{key:"toBinary",value:function(e,t){var n=function(e){return e?Object.assign(Object.assign({},J),e):J}(t);return this.internalBinaryWrite(e,n.writerFactory(),n).finish()}},{key:"internalJsonRead",value:function(e,t,n){if(null!==e&&"object"==(void 0===e?"undefined":Ee(e))&&!Array.isArray(e)){var r=null!==n&&void 0!==n?n:this.create();return this.refJsonReader.read(e,r,t),r}throw new Error("Unable to parse message "+this.typeName+" from JSON "+te(e)+".")}},{key:"internalJsonWrite",value:function(e,t){return this.refJsonWriter.write(e,t)}},{key:"internalBinaryWrite",value:function(e,t,n){return this.refBinWriter.write(e,t,n),t}},{key:"internalBinaryRead",value:function(e,t,n,r){var i=null!==r&&void 0!==r?r:this.create();return this.refBinReader.read(e,i,n,t),i}}]),e}(),Be=function(){return function(e,t){if(Array.isArray(e))return e;if(Symbol.iterator in Object(e))return function(e,t){var n=[],r=!0,i=!1,o=void 0;try{for(var a,u=e[Symbol.iterator]();!(r=(a=u.next()).done)&&(n.push(a.value),!t||n.length!==t);r=!0);}catch(e){i=!0,o=e}finally{try{!r&&u.return&&u.return()}finally{if(i)throw o}}return n}(e,t);throw new TypeError("Invalid attempt to destructure non-iterable instance")}}(),Fe=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}();!function(e){e[e.ASSETS=0]="ASSETS",e[e.UPLOADS=1]="UPLOADS",e[e.ANY=2]="ANY"}(Re||(Re={}));var Ae=new(function(e){function t(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,"ImageConfig",[{no:1,name:"root",kind:"scalar",opt:!0,T:9},{no:2,name:"reason",kind:"scalar",opt:!0,T:9},{no:3,name:"sources",kind:"enum",opt:!0,T:function(){return["ImageConfig.Sources",Re]}}]))}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,je),Fe(t,[{key:"create",value:function(e){var t={};return void 0!==e&&z(this,t,e),t}},{key:"internalBinaryRead",value:function(e,t,n,r){for(var i=null!==r&&void 0!==r?r:this.create(),o=e.pos+t;e.pos<o;){var a=e.tag(),u=Be(a,2),s=u[0],f=u[1];switch(s){case 1:i.root=e.string();break;case 2:i.reason=e.string();break;case 3:i.sources=e.int32();break;default:var l=n.readUnknownField;if("throw"===l)throw new globalThis.Error("Unknown field "+s+" (wire type "+f+") for "+this.typeName);var c=e.skip(f);!1!==l&&(!0===l?D.onRead:l)(this.typeName,i,s,f,c)}}return i}},{key:"internalBinaryWrite",value:function(e,t,n){void 0!==e.root&&t.tag(1,M.LengthDelimited).string(e.root),void 0!==e.reason&&t.tag(2,M.LengthDelimited).string(e.reason),void 0!==e.sources&&t.tag(3,M.Varint).int32(e.sources);var r=n.writeUnknownFields;return!1!==r&&(1==r?D.onWrite:r)(this.typeName,e,t),t}}]),t}()),xe=function(){return function(e,t){if(Array.isArray(e))return e;if(Symbol.iterator in Object(e))return function(e,t){var n=[],r=!0,i=!1,o=void 0;try{for(var a,u=e[Symbol.iterator]();!(r=(a=u.next()).done)&&(n.push(a.value),!t||n.length!==t);r=!0);}catch(e){i=!0,o=e}finally{try{!r&&u.return&&u.return()}finally{if(i)throw o}}return n}(e,t);throw new TypeError("Invalid attempt to destructure non-iterable instance")}}(),Pe=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}();function Ue(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function Ce(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function De(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var Ve=new(function(e){function t(){return Ue(this,t),Ce(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,"NumberConfig",[{no:1,name:"constraints",kind:"message",repeat:1,T:function(){return Me}},{no:2,name:"format",kind:"scalar",opt:!0,T:9}]))}return De(t,je),Pe(t,[{key:"create",value:function(e){var t={constraints:[]};return void 0!==e&&z(this,t,e),t}},{key:"internalBinaryRead",value:function(e,t,n,r){for(var i=null!==r&&void 0!==r?r:this.create(),o=e.pos+t;e.pos<o;){var a=e.tag(),u=xe(a,2),s=u[0],f=u[1];switch(s){case 1:i.constraints.push(Me.internalBinaryRead(e,e.uint32(),n));break;case 2:i.format=e.string();break;default:var l=n.readUnknownField;if("throw"===l)throw new globalThis.Error("Unknown field "+s+" (wire type "+f+") for "+this.typeName);var c=e.skip(f);!1!==l&&(!0===l?D.onRead:l)(this.typeName,i,s,f,c)}}return i}},{key:"internalBinaryWrite",value:function(e,t,n){for(var r=0;r<e.constraints.length;r++)Me.internalBinaryWrite(e.constraints[r],t.tag(1,M.LengthDelimited).fork(),n).join();void 0!==e.format&&t.tag(2,M.LengthDelimited).string(e.format);var i=n.writeUnknownFields;return!1!==i&&(1==i?D.onWrite:i)(this.typeName,e,t),t}}]),t}()),Me=new(function(e){function t(){return Ue(this,t),Ce(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,"NumberConstraint",[{no:1,name:"reason",kind:"scalar",opt:!0,T:9},{no:2,name:"min",kind:"message",oneof:"rule",T:function(){return Ke}},{no:3,name:"max",kind:"message",oneof:"rule",T:function(){return We}},{no:4,name:"isInteger",kind:"message",oneof:"rule",T:function(){return qe}}]))}return De(t,je),Pe(t,[{key:"create",value:function(e){var t={rule:{oneofKind:void 0}};return void 0!==e&&z(this,t,e),t}},{key:"internalBinaryRead",value:function(e,t,n,r){for(var i=null!==r&&void 0!==r?r:this.create(),o=e.pos+t;e.pos<o;){var a=e.tag(),u=xe(a,2),s=u[0],f=u[1];switch(s){case 1:i.reason=e.string();break;case 2:i.rule={oneofKind:"min",min:Ke.internalBinaryRead(e,e.uint32(),n,i.rule.min)};break;case 3:i.rule={oneofKind:"max",max:We.internalBinaryRead(e,e.uint32(),n,i.rule.max)};break;case 4:i.rule={oneofKind:"isInteger",isInteger:qe.internalBinaryRead(e,e.uint32(),n,i.rule.isInteger)};break;default:var l=n.readUnknownField;if("throw"===l)throw new globalThis.Error("Unknown field "+s+" (wire type "+f+") for "+this.typeName);var c=e.skip(f);!1!==l&&(!0===l?D.onRead:l)(this.typeName,i,s,f,c)}}return i}},{key:"internalBinaryWrite",value:function(e,t,n){void 0!==e.reason&&t.tag(1,M.LengthDelimited).string(e.reason),"min"===e.rule.oneofKind&&Ke.internalBinaryWrite(e.rule.min,t.tag(2,M.LengthDelimited).fork(),n).join(),"max"===e.rule.oneofKind&&We.internalBinaryWrite(e.rule.max,t.tag(3,M.LengthDelimited).fork(),n).join(),"isInteger"===e.rule.oneofKind&&qe.internalBinaryWrite(e.rule.isInteger,t.tag(4,M.LengthDelimited).fork(),n).join();var r=n.writeUnknownFields;return!1!==r&&(1==r?D.onWrite:r)(this.typeName,e,t),t}}]),t}()),Ke=new(function(e){function t(){return Ue(this,t),Ce(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,"NumberMinRule",[{no:1,name:"value",kind:"scalar",T:1}]))}return De(t,je),Pe(t,[{key:"create",value:function(e){var t={value:0};return void 0!==e&&z(this,t,e),t}},{key:"internalBinaryRead",value:function(e,t,n,r){for(var i=null!==r&&void 0!==r?r:this.create(),o=e.pos+t;e.pos<o;){var a=e.tag(),u=xe(a,2),s=u[0],f=u[1];switch(s){case 1:i.value=e.double();break;default:var l=n.readUnknownField;if("throw"===l)throw new globalThis.Error("Unknown field "+s+" (wire type "+f+") for "+this.typeName);var c=e.skip(f);!1!==l&&(!0===l?D.onRead:l)(this.typeName,i,s,f,c)}}return i}},{key:"internalBinaryWrite",value:function(e,t,n){0!==e.value&&t.tag(1,M.Bit64).double(e.value);var r=n.writeUnknownFields;return!1!==r&&(1==r?D.onWrite:r)(this.typeName,e,t),t}}]),t}()),We=new(function(e){function t(){return Ue(this,t),Ce(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,"NumberMaxRule",[{no:1,name:"value",kind:"scalar",T:1}]))}return De(t,je),Pe(t,[{key:"create",value:function(e){var t={value:0};return void 0!==e&&z(this,t,e),t}},{key:"internalBinaryRead",value:function(e,t,n,r){for(var i=null!==r&&void 0!==r?r:this.create(),o=e.pos+t;e.pos<o;){var a=e.tag(),u=xe(a,2),s=u[0],f=u[1];switch(s){case 1:i.value=e.double();break;default:var l=n.readUnknownField;if("throw"===l)throw new globalThis.Error("Unknown field "+s+" (wire type "+f+") for "+this.typeName);var c=e.skip(f);!1!==l&&(!0===l?D.onRead:l)(this.typeName,i,s,f,c)}}return i}},{key:"internalBinaryWrite",value:function(e,t,n){0!==e.value&&t.tag(1,M.Bit64).double(e.value);var r=n.writeUnknownFields;return!1!==r&&(1==r?D.onWrite:r)(this.typeName,e,t),t}}]),t}()),qe=new(function(e){function t(){return Ue(this,t),Ce(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,"NumberIsIntegerRule",[{no:1,name:"value",kind:"scalar",T:8}]))}return De(t,je),Pe(t,[{key:"create",value:function(e){var t={value:!1};return void 0!==e&&z(this,t,e),t}},{key:"internalBinaryRead",value:function(e,t,n,r){for(var i=null!==r&&void 0!==r?r:this.create(),o=e.pos+t;e.pos<o;){var a=e.tag(),u=xe(a,2),s=u[0],f=u[1];switch(s){case 1:i.value=e.bool();break;default:var l=n.readUnknownField;if("throw"===l)throw new globalThis.Error("Unknown field "+s+" (wire type "+f+") for "+this.typeName);var c=e.skip(f);!1!==l&&(!0===l?D.onRead:l)(this.typeName,i,s,f,c)}}return i}},{key:"internalBinaryWrite",value:function(e,t,n){!1!==e.value&&t.tag(1,M.Varint).bool(e.value);var r=n.writeUnknownFields;return!1!==r&&(1==r?D.onWrite:r)(this.typeName,e,t),t}}]),t}()),Xe=function(){return function(e,t){if(Array.isArray(e))return e;if(Symbol.iterator in Object(e))return function(e,t){var n=[],r=!0,i=!1,o=void 0;try{for(var a,u=e[Symbol.iterator]();!(r=(a=u.next()).done)&&(n.push(a.value),!t||n.length!==t);r=!0);}catch(e){i=!0,o=e}finally{try{!r&&u.return&&u.return()}finally{if(i)throw o}}return n}(e,t);throw new TypeError("Invalid attempt to destructure non-iterable instance")}}(),Je=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}();function ze(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function Ge(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function Ze(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var Ye=new(function(e){function t(){return ze(this,t),Ge(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,"StringConfig",[{no:1,name:"constraints",kind:"message",repeat:1,T:function(){return He}}]))}return Ze(t,je),Je(t,[{key:"create",value:function(e){var t={constraints:[]};return void 0!==e&&z(this,t,e),t}},{key:"internalBinaryRead",value:function(e,t,n,r){for(var i=null!==r&&void 0!==r?r:this.create(),o=e.pos+t;e.pos<o;){var a=e.tag(),u=Xe(a,2),s=u[0],f=u[1];switch(s){case 1:i.constraints.push(He.internalBinaryRead(e,e.uint32(),n));break;default:var l=n.readUnknownField;if("throw"===l)throw new globalThis.Error("Unknown field "+s+" (wire type "+f+") for "+this.typeName);var c=e.skip(f);!1!==l&&(!0===l?D.onRead:l)(this.typeName,i,s,f,c)}}return i}},{key:"internalBinaryWrite",value:function(e,t,n){for(var r=0;r<e.constraints.length;r++)He.internalBinaryWrite(e.constraints[r],t.tag(1,M.LengthDelimited).fork(),n).join();var i=n.writeUnknownFields;return!1!==i&&(1==i?D.onWrite:i)(this.typeName,e,t),t}}]),t}()),He=new(function(e){function t(){return ze(this,t),Ge(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,"StringConstraint",[{no:1,name:"reason",kind:"scalar",opt:!0,T:9},{no:2,name:"pattern",kind:"message",oneof:"rule",T:function(){return Qe}},{no:3,name:"minLength",kind:"message",oneof:"rule",T:function(){return $e}},{no:4,name:"maxLength",kind:"message",oneof:"rule",T:function(){return et}},{no:5,name:"minLines",kind:"message",oneof:"rule",T:function(){return tt}},{no:6,name:"maxLines",kind:"message",oneof:"rule",T:function(){return nt}},{no:7,name:"minLengthPerLine",kind:"message",oneof:"rule",T:function(){return rt}},{no:8,name:"maxLengthPerLine",kind:"message",oneof:"rule",T:function(){return it}}]))}return Ze(t,je),Je(t,[{key:"create",value:function(e){var t={rule:{oneofKind:void 0}};return void 0!==e&&z(this,t,e),t}},{key:"internalBinaryRead",value:function(e,t,n,r){for(var i=null!==r&&void 0!==r?r:this.create(),o=e.pos+t;e.pos<o;){var a=e.tag(),u=Xe(a,2),s=u[0],f=u[1];switch(s){case 1:i.reason=e.string();break;case 2:i.rule={oneofKind:"pattern",pattern:Qe.internalBinaryRead(e,e.uint32(),n,i.rule.pattern)};break;case 3:i.rule={oneofKind:"minLength",minLength:$e.internalBinaryRead(e,e.uint32(),n,i.rule.minLength)};break;case 4:i.rule={oneofKind:"maxLength",maxLength:et.internalBinaryRead(e,e.uint32(),n,i.rule.maxLength)};break;case 5:i.rule={oneofKind:"minLines",minLines:tt.internalBinaryRead(e,e.uint32(),n,i.rule.minLines)};break;case 6:i.rule={oneofKind:"maxLines",maxLines:nt.internalBinaryRead(e,e.uint32(),n,i.rule.maxLines)};break;case 7:i.rule={oneofKind:"minLengthPerLine",minLengthPerLine:rt.internalBinaryRead(e,e.uint32(),n,i.rule.minLengthPerLine)};break;case 8:i.rule={oneofKind:"maxLengthPerLine",maxLengthPerLine:it.internalBinaryRead(e,e.uint32(),n,i.rule.maxLengthPerLine)};break;default:var l=n.readUnknownField;if("throw"===l)throw new globalThis.Error("Unknown field "+s+" (wire type "+f+") for "+this.typeName);var c=e.skip(f);!1!==l&&(!0===l?D.onRead:l)(this.typeName,i,s,f,c)}}return i}},{key:"internalBinaryWrite",value:function(e,t,n){void 0!==e.reason&&t.tag(1,M.LengthDelimited).string(e.reason),"pattern"===e.rule.oneofKind&&Qe.internalBinaryWrite(e.rule.pattern,t.tag(2,M.LengthDelimited).fork(),n).join(),"minLength"===e.rule.oneofKind&&$e.internalBinaryWrite(e.rule.minLength,t.tag(3,M.LengthDelimited).fork(),n).join(),"maxLength"===e.rule.oneofKind&&et.internalBinaryWrite(e.rule.maxLength,t.tag(4,M.LengthDelimited).fork(),n).join(),"minLines"===e.rule.oneofKind&&tt.internalBinaryWrite(e.rule.minLines,t.tag(5,M.LengthDelimited).fork(),n).join(),"maxLines"===e.rule.oneofKind&&nt.internalBinaryWrite(e.rule.maxLines,t.tag(6,M.LengthDelimited).fork(),n).join(),"minLengthPerLine"===e.rule.oneofKind&&rt.internalBinaryWrite(e.rule.minLengthPerLine,t.tag(7,M.LengthDelimited).fork(),n).join(),"maxLengthPerLine"===e.rule.oneofKind&&it.internalBinaryWrite(e.rule.maxLengthPerLine,t.tag(8,M.LengthDelimited).fork(),n).join();var r=n.writeUnknownFields;return!1!==r&&(1==r?D.onWrite:r)(this.typeName,e,t),t}}]),t}()),Qe=new(function(e){function t(){return ze(this,t),Ge(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,"StringPatternRule",[{no:1,name:"value",kind:"scalar",T:9}]))}return Ze(t,je),Je(t,[{key:"create",value:function(e){var t={value:""};return void 0!==e&&z(this,t,e),t}},{key:"internalBinaryRead",value:function(e,t,n,r){for(var i=null!==r&&void 0!==r?r:this.create(),o=e.pos+t;e.pos<o;){var a=e.tag(),u=Xe(a,2),s=u[0],f=u[1];switch(s){case 1:i.value=e.string();break;default:var l=n.readUnknownField;if("throw"===l)throw new globalThis.Error("Unknown field "+s+" (wire type "+f+") for "+this.typeName);var c=e.skip(f);!1!==l&&(!0===l?D.onRead:l)(this.typeName,i,s,f,c)}}return i}},{key:"internalBinaryWrite",value:function(e,t,n){""!==e.value&&t.tag(1,M.LengthDelimited).string(e.value);var r=n.writeUnknownFields;return!1!==r&&(1==r?D.onWrite:r)(this.typeName,e,t),t}}]),t}()),$e=new(function(e){function t(){return ze(this,t),Ge(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,"StringMinLengthRule",[{no:1,name:"value",kind:"scalar",T:13}]))}return Ze(t,je),Je(t,[{key:"create",value:function(e){var t={value:0};return void 0!==e&&z(this,t,e),t}},{key:"internalBinaryRead",value:function(e,t,n,r){for(var i=null!==r&&void 0!==r?r:this.create(),o=e.pos+t;e.pos<o;){var a=e.tag(),u=Xe(a,2),s=u[0],f=u[1];switch(s){case 1:i.value=e.uint32();break;default:var l=n.readUnknownField;if("throw"===l)throw new globalThis.Error("Unknown field "+s+" (wire type "+f+") for "+this.typeName);var c=e.skip(f);!1!==l&&(!0===l?D.onRead:l)(this.typeName,i,s,f,c)}}return i}},{key:"internalBinaryWrite",value:function(e,t,n){0!==e.value&&t.tag(1,M.Varint).uint32(e.value);var r=n.writeUnknownFields;return!1!==r&&(1==r?D.onWrite:r)(this.typeName,e,t),t}}]),t}()),et=new(function(e){function t(){return ze(this,t),Ge(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,"StringMaxLengthRule",[{no:1,name:"value",kind:"scalar",T:13}]))}return Ze(t,je),Je(t,[{key:"create",value:function(e){var t={value:0};return void 0!==e&&z(this,t,e),t}},{key:"internalBinaryRead",value:function(e,t,n,r){for(var i=null!==r&&void 0!==r?r:this.create(),o=e.pos+t;e.pos<o;){var a=e.tag(),u=Xe(a,2),s=u[0],f=u[1];switch(s){case 1:i.value=e.uint32();break;default:var l=n.readUnknownField;if("throw"===l)throw new globalThis.Error("Unknown field "+s+" (wire type "+f+") for "+this.typeName);var c=e.skip(f);!1!==l&&(!0===l?D.onRead:l)(this.typeName,i,s,f,c)}}return i}},{key:"internalBinaryWrite",value:function(e,t,n){0!==e.value&&t.tag(1,M.Varint).uint32(e.value);var r=n.writeUnknownFields;return!1!==r&&(1==r?D.onWrite:r)(this.typeName,e,t),t}}]),t}()),tt=new(function(e){function t(){return ze(this,t),Ge(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,"StringMinLinesRule",[{no:1,name:"value",kind:"scalar",T:13}]))}return Ze(t,je),Je(t,[{key:"create",value:function(e){var t={value:0};return void 0!==e&&z(this,t,e),t}},{key:"internalBinaryRead",value:function(e,t,n,r){for(var i=null!==r&&void 0!==r?r:this.create(),o=e.pos+t;e.pos<o;){var a=e.tag(),u=Xe(a,2),s=u[0],f=u[1];switch(s){case 1:i.value=e.uint32();break;default:var l=n.readUnknownField;if("throw"===l)throw new globalThis.Error("Unknown field "+s+" (wire type "+f+") for "+this.typeName);var c=e.skip(f);!1!==l&&(!0===l?D.onRead:l)(this.typeName,i,s,f,c)}}return i}},{key:"internalBinaryWrite",value:function(e,t,n){0!==e.value&&t.tag(1,M.Varint).uint32(e.value);var r=n.writeUnknownFields;return!1!==r&&(1==r?D.onWrite:r)(this.typeName,e,t),t}}]),t}()),nt=new(function(e){function t(){return ze(this,t),Ge(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,"StringMaxLinesRule",[{no:1,name:"value",kind:"scalar",T:13}]))}return Ze(t,je),Je(t,[{key:"create",value:function(e){var t={value:0};return void 0!==e&&z(this,t,e),t}},{key:"internalBinaryRead",value:function(e,t,n,r){for(var i=null!==r&&void 0!==r?r:this.create(),o=e.pos+t;e.pos<o;){var a=e.tag(),u=Xe(a,2),s=u[0],f=u[1];switch(s){case 1:i.value=e.uint32();break;default:var l=n.readUnknownField;if("throw"===l)throw new globalThis.Error("Unknown field "+s+" (wire type "+f+") for "+this.typeName);var c=e.skip(f);!1!==l&&(!0===l?D.onRead:l)(this.typeName,i,s,f,c)}}return i}},{key:"internalBinaryWrite",value:function(e,t,n){0!==e.value&&t.tag(1,M.Varint).uint32(e.value);var r=n.writeUnknownFields;return!1!==r&&(1==r?D.onWrite:r)(this.typeName,e,t),t}}]),t}()),rt=new(function(e){function t(){return ze(this,t),Ge(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,"StringMinLengthPerLineRule",[{no:1,name:"value",kind:"scalar",T:13}]))}return Ze(t,je),Je(t,[{key:"create",value:function(e){var t={value:0};return void 0!==e&&z(this,t,e),t}},{key:"internalBinaryRead",value:function(e,t,n,r){for(var i=null!==r&&void 0!==r?r:this.create(),o=e.pos+t;e.pos<o;){var a=e.tag(),u=Xe(a,2),s=u[0],f=u[1];switch(s){case 1:i.value=e.uint32();break;default:var l=n.readUnknownField;if("throw"===l)throw new globalThis.Error("Unknown field "+s+" (wire type "+f+") for "+this.typeName);var c=e.skip(f);!1!==l&&(!0===l?D.onRead:l)(this.typeName,i,s,f,c)}}return i}},{key:"internalBinaryWrite",value:function(e,t,n){0!==e.value&&t.tag(1,M.Varint).uint32(e.value);var r=n.writeUnknownFields;return!1!==r&&(1==r?D.onWrite:r)(this.typeName,e,t),t}}]),t}()),it=new(function(e){function t(){return ze(this,t),Ge(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,"StringMaxLengthPerLineRule",[{no:1,name:"value",kind:"scalar",T:13}]))}return Ze(t,je),Je(t,[{key:"create",value:function(e){var t={value:0};return void 0!==e&&z(this,t,e),t}},{key:"internalBinaryRead",value:function(e,t,n,r){for(var i=null!==r&&void 0!==r?r:this.create(),o=e.pos+t;e.pos<o;){var a=e.tag(),u=Xe(a,2),s=u[0],f=u[1];switch(s){case 1:i.value=e.uint32();break;default:var l=n.readUnknownField;if("throw"===l)throw new globalThis.Error("Unknown field "+s+" (wire type "+f+") for "+this.typeName);var c=e.skip(f);!1!==l&&(!0===l?D.onRead:l)(this.typeName,i,s,f,c)}}return i}},{key:"internalBinaryWrite",value:function(e,t,n){0!==e.value&&t.tag(1,M.Varint).uint32(e.value);var r=n.writeUnknownFields;return!1!==r&&(1==r?D.onWrite:r)(this.typeName,e,t),t}}]),t}()),ot=function(){return function(e,t){if(Array.isArray(e))return e;if(Symbol.iterator in Object(e))return function(e,t){var n=[],r=!0,i=!1,o=void 0;try{for(var a,u=e[Symbol.iterator]();!(r=(a=u.next()).done)&&(n.push(a.value),!t||n.length!==t);r=!0);}catch(e){i=!0,o=e}finally{try{!r&&u.return&&u.return()}finally{if(i)throw o}}return n}(e,t);throw new TypeError("Invalid attempt to destructure non-iterable instance")}}(),at=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}();function ut(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function st(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function ft(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var lt=new(function(e){function t(){return ut(this,t),st(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,"VariantConfig",[{no:1,name:"variants",kind:"message",repeat:1,T:function(){return ct}},{no:2,name:"reason",kind:"scalar",opt:!0,T:9}]))}return ft(t,je),at(t,[{key:"create",value:function(e){var t={variants:[]};return void 0!==e&&z(this,t,e),t}},{key:"internalBinaryRead",value:function(e,t,n,r){for(var i=null!==r&&void 0!==r?r:this.create(),o=e.pos+t;e.pos<o;){var a=e.tag(),u=ot(a,2),s=u[0],f=u[1];switch(s){case 1:i.variants.push(ct.internalBinaryRead(e,e.uint32(),n));break;case 2:i.reason=e.string();break;default:var l=n.readUnknownField;if("throw"===l)throw new globalThis.Error("Unknown field "+s+" (wire type "+f+") for "+this.typeName);var c=e.skip(f);!1!==l&&(!0===l?D.onRead:l)(this.typeName,i,s,f,c)}}return i}},{key:"internalBinaryWrite",value:function(e,t,n){for(var r=0;r<e.variants.length;r++)ct.internalBinaryWrite(e.variants[r],t.tag(1,M.LengthDelimited).fork(),n).join();void 0!==e.reason&&t.tag(2,M.LengthDelimited).string(e.reason);var i=n.writeUnknownFields;return!1!==i&&(1==i?D.onWrite:i)(this.typeName,e,t),t}}]),t}()),ct=new(function(e){function t(){return ut(this,t),st(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,"Variant",[{no:1,name:"value",kind:"scalar",T:9},{no:2,name:"title",kind:"scalar",opt:!0,T:9}]))}return ft(t,je),at(t,[{key:"create",value:function(e){var t={value:""};return void 0!==e&&z(this,t,e),t}},{key:"internalBinaryRead",value:function(e,t,n,r){for(var i=null!==r&&void 0!==r?r:this.create(),o=e.pos+t;e.pos<o;){var a=e.tag(),u=ot(a,2),s=u[0],f=u[1];switch(s){case 1:i.value=e.string();break;case 2:i.title=e.string();break;default:var l=n.readUnknownField;if("throw"===l)throw new globalThis.Error("Unknown field "+s+" (wire type "+f+") for "+this.typeName);var c=e.skip(f);!1!==l&&(!0===l?D.onRead:l)(this.typeName,i,s,f,c)}}return i}},{key:"internalBinaryWrite",value:function(e,t,n){""!==e.value&&t.tag(1,M.LengthDelimited).string(e.value),void 0!==e.title&&t.tag(2,M.LengthDelimited).string(e.title);var r=n.writeUnknownFields;return!1!==r&&(1==r?D.onWrite:r)(this.typeName,e,t),t}}]),t}()),ht=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}();var yt=function(){function e(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e)}return ht(e,null,[{key:"getFieldConfig",value:function(e){if(null==e.config)return null;switch(e.config.oneofKind){case"string":return e.config.string;case"number":return e.config.number;case"variant":return e.config.variant;case"image":return e.config.image;default:throw new Error("The field config type "+e.config.oneofKind+" is not supported.")}}},{key:"getStringConfig",value:function(e){return"string"==e.config.oneofKind?e.config.string:null}},{key:"getNumberConfig",value:function(e){return"number"==e.config.oneofKind?e.config.number:null}},{key:"getVariantConfig",value:function(e){return"variant"==e.config.oneofKind?e.config.variant:null}},{key:"getImageConfig",value:function(e){return"image"==e.config.oneofKind?e.config.image:null}},{key:"getStringRule",value:function(e){if(null==e.rule)return null;switch(e.rule.oneofKind){case"pattern":return e.rule.pattern;case"minLength":return e.rule.minLength;case"maxLength":return e.rule.maxLength;case"minLines":return e.rule.minLines;case"maxLines":return e.rule.maxLines;case"minLengthPerLine":return e.rule.minLengthPerLine;case"maxLengthPerLine":return e.rule.maxLengthPerLine;default:throw new Error("The string rule type "+e.rule.oneofKind+" is not supported.")}}},{key:"getNumberRule",value:function(e){if(null==e.rule)return null;switch(e.rule.oneofKind){case"min":return e.rule.min;case"max":return e.rule.max;case"isInteger":return e.rule.isInteger;default:throw new Error("The number rule type "+e.rule.oneofKind+" is not supported.")}}},{key:"getConstraintRuleDisplayName",value:function(e){if(null==(null===e||void 0===e?void 0:e.rule))return null;switch(e.rule.oneofKind){case"pattern":return"Pattern";case"minLength":return"Min characters";case"maxLength":return"Max characters";case"minLines":return"Min number of lines";case"maxLines":return"Max number of lines";case"minLengthPerLine":return"Min characters per line";case"maxLengthPerLine":return"Max characters per line";case"min":return"Min value";case"max":return"Max value";case"isInteger":return"Only integer";default:throw new Error("The rule type "+e.rule.oneofKind+" is not supported.")}}},{key:"getSupportedRuleTypes",value:function(e){if(void 0!=e){var t="string"==typeof e?e:e.oneofKind;return"string"==t?this.supportedStringRuleTypes.slice():"number"==t?this.supportedNumberRuleTypes.slice():"variant"==t?["variants"]:"image"==t?["root"]:void 0}}},{key:"createConfig",value:function(e,t){switch(e){case"number":return this._buildOneofItem(e,Ve.create({constraints:this._createNumberConstraints(t)}));case"variant":return this._buildOneofItem(e,lt.create(this._createVariantConfig(t[0])));case"string":return this._buildOneofItem(e,Ye.create({constraints:this._createStringConstraints(t)}));case"image":return this._buildOneofItem(e,Ae.create(this._createImageConfig(t[0])));case void 0:return;default:throw new Error("Unknown config type: "+e)}}},{key:"_buildOneofItem",value:function(e,t){var n={oneofKind:e};return n[e]=t,n}},{key:"_createNumberConstraints",value:function(e){var t=[],n=!0,r=!1,i=void 0;try{for(var o,a=e[Symbol.iterator]();!(n=(o=a.next()).done);n=!0){var u=o.value,s={};switch(u.ruleType){case"isInteger":s.rule=this._buildOneofItem(u.ruleType,qe.create({value:this.toBool(u.value)}));break;case"min":s.rule=this._buildOneofItem(u.ruleType,Ke.create({value:this.toNumber(u.value)}));break;case"max":s.rule=this._buildOneofItem(u.ruleType,We.create({value:this.toNumber(u.value)}));break;default:continue}null!=u.reason&&(s.reason=u.reason),t.push(s)}}catch(e){r=!0,i=e}finally{try{!n&&a.return&&a.return()}finally{if(r)throw i}}return t}},{key:"_createVariantConfig",value:function(e){return null==e?{}:{variants:e.variants,reason:e.reason}}},{key:"_createImageConfig",value:function(e){if(null==e)return{};return{root:e.value,reason:e.reason,sources:function(){switch(e.sources){case"Assets":case 0:return Re.ASSETS;case"Uploads":case 1:return Re.UPLOADS;case"Any":case 2:default:return Re.ANY}}()}}},{key:"_createStringConstraints",value:function(e){var t=[],n=!0,r=!1,i=void 0;try{for(var o,a=e[Symbol.iterator]();!(n=(o=a.next()).done);n=!0){var u=o.value,s={};switch(u.ruleType){case"minLength":s.rule=this._buildOneofItem(u.ruleType,$e.create({value:this.toNumber(u.value)}));break;case"maxLength":s.rule=this._buildOneofItem(u.ruleType,et.create({value:this.toNumber(u.value)}));break;case"minLengthPerLine":s.rule=this._buildOneofItem(u.ruleType,rt.create({value:this.toNumber(u.value)}));break;case"maxLengthPerLine":s.rule=this._buildOneofItem(u.ruleType,it.create({value:this.toNumber(u.value)}));break;case"minLines":s.rule=this._buildOneofItem(u.ruleType,tt.create({value:this.toNumber(u.value)}));break;case"maxLines":s.rule=this._buildOneofItem(u.ruleType,nt.create({value:this.toNumber(u.value)}));break;case"pattern":s.rule=this._buildOneofItem(u.ruleType,Qe.create({value:u.value}));break;default:continue}null!=u.reason&&(s.reason=u.reason),t.push(s)}}catch(e){r=!0,i=e}finally{try{!n&&a.return&&a.return()}finally{if(r)throw i}}return t}},{key:"toNumber",value:function(e){if(void 0!==e){var t=Number(e);if(isNaN(t))throw new Error("A "+e+" is not a number. Ensure that you did not mistype in a feature file.");return t}return e}},{key:"toBool",value:function(e){return void 0!==e?"boolean"==typeof e?e:"true"===e.toLowerCase():e}}]),e}();yt.supportedStringRuleTypes=["pattern","minLength","maxLength","minLines","maxLines","minLengthPerLine","maxLengthPerLine"],yt.supportedNumberRuleTypes=["min","max","isInteger"];var pt,dt=n(751),vt=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}();function mt(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function gt(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}function bt(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}!function(e){e.ok="ok",e.missing="missing",e.required="required",e.stringPattern="pattern",e.stringMinLength="min-length",e.stringMaxLength="max-length",e.stringMinLengthPerLine="min-length-per-line",e.stringMaxLengthPerLine="max-length-per-line",e.stringMinLines="min-lines",e.stringMaxLines="max-lines",e.variantNotInList="in-list",e.numberIsNumber="is-number",e.numberMin="min",e.numberMax="max",e.numberIsInteger="is-integer",e.imageRoot="root",e.noSuchField="no-such-field"}(pt||(pt={}));var wt=function(){function e(){bt(this,e)}return vt(e,null,[{key:"fromField",value:function(e,t,n,r){var i,o;switch(null===(i=e.config)||void 0===i?void 0:i.oneofKind){case"number":return new Ot(e,t,n,r);case"string":return new Nt(e,t,n,r);case"variant":return new St(e,t,n);case"image":return new Tt(e,t,n);default:throw new Error("Cannot create validation problem for the field of type "+(null===(o=e.config)||void 0===o?void 0:o.oneofKind)+" because it is not supported.")}}}]),e}(),kt=function(){function e(t,n,r){bt(this,e),this.fieldName=t,this.reason=r,this.rule=n}return vt(e,null,[{key:"processReason",value:function(e,t,n){var r=e.replace("{value}",t);return void 0!==n&&(r=r.replace("{constraint}",n)),r}}]),e}(),Nt=function(e){function t(e,n,r,i){var o;return bt(this,t),mt(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e.name,t.getRuleByConstraint(n),kt.processReason(null!==(o=n.reason)&&void 0!==o?o:t.getDefaultReason(e,n,r),r,i)))}return gt(t,kt),vt(t,null,[{key:"getRuleByConstraint",value:function(e){switch(e.rule.oneofKind){case"maxLength":return pt.stringMaxLength;case"minLength":return pt.stringMinLength;case"maxLengthPerLine":return pt.stringMaxLengthPerLine;case"minLengthPerLine":return pt.stringMinLengthPerLine;case"maxLines":return pt.stringMaxLines;case"minLines":return pt.stringMinLines;case"pattern":return pt.stringPattern;default:throw new Error("String validation problem rule for "+e.rule.oneofKind+" is not defined.")}}},{key:"getDefaultReason",value:function(e,t,n){switch(t.rule.oneofKind){case"maxLength":return"The "+e.name+" field length is greater than "+t.rule.maxLength.value;case"minLength":return"The "+e.name+" field length is less than "+t.rule.minLength.value;case"maxLengthPerLine":return"The length of the longest line in "+e.name+" field is greater than "+t.rule.maxLengthPerLine.value;case"minLengthPerLine":return"The length of the shortest line in "+e.name+" field is less than "+t.rule.minLengthPerLine.value;case"maxLines":return"The number of lines in "+e.name+" is greater than "+t.rule.maxLines.value;case"minLines":return"The number of lines in "+e.name+" is less than "+t.rule.minLines.value;case"pattern":return"The "+e.name+" field is "+n+" but it does not match a specified pattern /"+t.rule.pattern.value+"/";default:throw new Error("String validation problem rule for "+t.rule.oneofKind+" is not defined.")}}}]),t}(),Ot=function(e){function t(e,n,r,i){var o;return bt(this,t),mt(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e.name,t.getRuleByConstraint(n),kt.processReason(null!==(o=n.reason)&&void 0!==o?o:t.getDefaultReason(e,n,r),r,i)))}return gt(t,kt),vt(t,null,[{key:"getRuleByConstraint",value:function(e){switch(e.rule.oneofKind){case"isInteger":return pt.numberIsInteger;case"min":return pt.numberMin;case"max":return pt.numberMax;default:throw new Error("Number validation problem rule for "+e.rule.oneofKind+" is not defined.")}}},{key:"getDefaultReason",value:function(e,t,n){switch(t.rule.oneofKind){case"max":return"The "+e.name+" field is "+n+" but it should be not greater than "+t.rule.max.value+".";case"min":return"The "+e.name+" field is "+n+" but it should be not less than "+t.rule.min.value+".";case"isInteger":return"The "+e.name+" field is "+n+" but it must be an integer number.";default:throw new Error("Number validation problem rule for "+t.rule.oneofKind+" is not defined.")}}}]),t}(),St=function(e){function t(e,n,r){var i;return bt(this,t),mt(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e.name,pt.variantNotInList,kt.processReason(null!==(i=n.reason)&&void 0!==i?i:"The value "+r+" of "+e.name+" must be one of "+n.variants.map(function(e){return e.value}).join(", "),r)))}return gt(t,kt),t}(),Tt=function(e){function t(e,n,r){var i;return bt(this,t),mt(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e.name,pt.imageRoot,kt.processReason(null!==(i=n.reason)&&void 0!==i?i:"The image "+r+" in the "+e.name+" field must be located in the "+n.root+" folder",r)))}return gt(t,kt),t}(),Lt=function(e){function t(e){return bt(this,t),mt(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e,pt.ok,""))}return gt(t,kt),t}(),It="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e};function Et(e){return null!=e&&"object"===(void 0===e?"undefined":It(e))&&!0===e["@@functional/placeholder"]}function _t(e){return function t(n){return 0===arguments.length||Et(n)?t:e.apply(this,arguments)}}var Rt=_t(function(e){return null==e});function jt(e,t){return Object.prototype.hasOwnProperty.call(t,e)}var Bt=Object.prototype.toString,Ft=function(){return"[object Arguments]"===Bt.call(arguments)?function(e){return"[object Arguments]"===Bt.call(e)}:function(e){return jt("callee",e)}}(),At=Array.isArray||function(e){return null!=e&&e.length>=0&&"[object Array]"===Object.prototype.toString.call(e)};var xt=_t(function(e){return null!=e&&"function"==typeof e["fantasy-land/empty"]?e["fantasy-land/empty"]():null!=e&&null!=e.constructor&&"function"==typeof e.constructor["fantasy-land/empty"]?e.constructor["fantasy-land/empty"]():null!=e&&"function"==typeof e.empty?e.empty():null!=e&&null!=e.constructor&&"function"==typeof e.constructor.empty?e.constructor.empty():At(e)?[]:function(e){return"[object String]"===Object.prototype.toString.call(e)}(e)?"":function(e){return"[object Object]"===Object.prototype.toString.call(e)}(e)?{}:Ft(e)?function(){return arguments}():void 0});function Pt(e){return function t(n,r){switch(arguments.length){case 0:return t;case 1:return Et(n)?t:_t(function(t){return e(n,t)});default:return Et(n)&&Et(r)?t:Et(n)?_t(function(t){return e(t,r)}):Et(r)?_t(function(t){return e(n,t)}):e(n,r)}}}function Ut(e){for(var t,n=[];!(t=e.next()).done;)n.push(t.value);return n}function Ct(e,t,n){for(var r=0,i=n.length;r<i;){if(e(t,n[r]))return!0;r+=1}return!1}var Dt="function"==typeof Object.is?Object.is:function(e,t){return e===t?0!==e||1/e==1/t:e!=e&&t!=t},Vt=!{toString:null}.propertyIsEnumerable("toString"),Mt=["constructor","valueOf","isPrototypeOf","toString","propertyIsEnumerable","hasOwnProperty","toLocaleString"],Kt=function(){return arguments.propertyIsEnumerable("length")}(),Wt=function(e,t){for(var n=0;n<e.length;){if(e[n]===t)return!0;n+=1}return!1},qt="function"!=typeof Object.keys||Kt?_t(function(e){if(Object(e)!==e)return[];var t,n,r=[],i=Kt&&Ft(e);for(t in e)!jt(t,e)||i&&"length"===t||(r[r.length]=t);if(Vt)for(n=Mt.length-1;n>=0;)jt(t=Mt[n],e)&&!Wt(r,t)&&(r[r.length]=t),n-=1;return r}):_t(function(e){return Object(e)!==e?[]:Object.keys(e)}),Xt=_t(function(e){return null===e?"Null":void 0===e?"Undefined":Object.prototype.toString.call(e).slice(8,-1)}),Jt="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e};function zt(e,t,n,r){var i=Ut(e);function o(e,t){return Gt(e,t,n.slice(),r.slice())}return!Ct(function(e,t){return!Ct(o,t,e)},Ut(t),i)}function Gt(e,t,n,r){if(Dt(e,t))return!0;var i,o,a=Xt(e);if(a!==Xt(t))return!1;if(null==e||null==t)return!1;if("function"==typeof e["fantasy-land/equals"]||"function"==typeof t["fantasy-land/equals"])return"function"==typeof e["fantasy-land/equals"]&&e["fantasy-land/equals"](t)&&"function"==typeof t["fantasy-land/equals"]&&t["fantasy-land/equals"](e);if("function"==typeof e.equals||"function"==typeof t.equals)return"function"==typeof e.equals&&e.equals(t)&&"function"==typeof t.equals&&t.equals(e);switch(a){case"Arguments":case"Array":case"Object":if("function"==typeof e.constructor&&"Promise"===(i=e.constructor,null==(o=String(i).match(/^function (\w*)/))?"":o[1]))return e===t;break;case"Boolean":case"Number":case"String":if((void 0===e?"undefined":Jt(e))!==(void 0===t?"undefined":Jt(t))||!Dt(e.valueOf(),t.valueOf()))return!1;break;case"Date":if(!Dt(e.valueOf(),t.valueOf()))return!1;break;case"Error":return e.name===t.name&&e.message===t.message;case"RegExp":if(e.source!==t.source||e.global!==t.global||e.ignoreCase!==t.ignoreCase||e.multiline!==t.multiline||e.sticky!==t.sticky||e.unicode!==t.unicode)return!1}for(var u=n.length-1;u>=0;){if(n[u]===e)return r[u]===t;u-=1}switch(a){case"Map":return e.size===t.size&&zt(e.entries(),t.entries(),n.concat([e]),r.concat([t]));case"Set":return e.size===t.size&&zt(e.values(),t.values(),n.concat([e]),r.concat([t]));case"Arguments":case"Array":case"Object":case"Boolean":case"Number":case"String":case"Date":case"Error":case"RegExp":case"Int8Array":case"Uint8Array":case"Uint8ClampedArray":case"Int16Array":case"Uint16Array":case"Int32Array":case"Uint32Array":case"Float32Array":case"Float64Array":case"ArrayBuffer":break;default:return!1}var s=qt(e);if(s.length!==qt(t).length)return!1;var f=n.concat([e]),l=r.concat([t]);for(u=s.length-1;u>=0;){var c=s[u];if(!jt(c,t)||!Gt(t[c],e[c],f,l))return!1;u-=1}return!0}var Zt=Pt(function(e,t){return Gt(e,t,[],[])}),Yt=_t(function(e){return null!=e&&Zt(e,xt(e))});function Ht(e,t){switch(e){case 0:return function(){return t.apply(this,arguments)};case 1:return function(e){return t.apply(this,arguments)};case 2:return function(e,n){return t.apply(this,arguments)};case 3:return function(e,n,r){return t.apply(this,arguments)};case 4:return function(e,n,r,i){return t.apply(this,arguments)};case 5:return function(e,n,r,i,o){return t.apply(this,arguments)};case 6:return function(e,n,r,i,o,a){return t.apply(this,arguments)};case 7:return function(e,n,r,i,o,a,u){return t.apply(this,arguments)};case 8:return function(e,n,r,i,o,a,u,s){return t.apply(this,arguments)};case 9:return function(e,n,r,i,o,a,u,s,f){return t.apply(this,arguments)};case 10:return function(e,n,r,i,o,a,u,s,f,l){return t.apply(this,arguments)};default:throw new Error("First argument to _arity must be a non-negative integer no greater than ten")}}var Qt=Pt(function(e,t){return 1===e?_t(t):Ht(e,function e(t,n,r){return function(){for(var i=[],o=0,a=t,u=0;u<n.length||o<arguments.length;){var s;u<n.length&&(!Et(n[u])||o>=arguments.length)?s=n[u]:(s=arguments[o],o+=1),i[u]=s,Et(s)||(a-=1),u+=1}return a<=0?r.apply(this,i):Ht(a,e(t,i,r))}}(e,[],t))}),$t=_t(function(e){return Qt(e.length,e)}),en=Pt(function(e,t){return t<e?t:e}),tn=Pt(function(e,t){return t>e?t:e}),nn=Pt(function(e,t){return e<t}),rn=Pt(function(e,t){return e>t}),on=function e(t,n,r){null===t&&(t=Function.prototype);var i=Object.getOwnPropertyDescriptor(t,n);if(void 0===i){var o=Object.getPrototypeOf(t);return null===o?void 0:e(o,n,r)}if("value"in i)return i.value;var a=i.get;return void 0!==a?a.call(r):void 0},an=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}();function un(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function sn(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}function fn(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}var ln=function(){function e(t){var n=this;fn(this,e),this.checkMissing=function(t){return t.hasOwnProperty(n.field.name)?Object(dt.Right)(t[n.field.name]):Object(dt.Left)(new kt(n.field.name,pt.missing,"Data must contain "+e.getFieldDisplayName(n.field)+" field."))},this.checkRequired=function(t){return n.field.required&&n.isOmitted(t)?Object(dt.Left)(new kt(n.field.name,pt.required,"The "+e.getFieldDisplayName(n.field)+" field cannot be empty.")):n.getOptionalFieldResult(t)},this.getOptionalFieldResult=function(e){return n.isOmitted(e)?Object(dt.Left)(new Lt(n.field.name)):Object(dt.Right)(e)},this.checkConfig=function(e){return dt.Maybe.fromUndefined(cn.Build(n.field)).map(function(t){return t.validate(e)}).getOrElse(Object(dt.Right)(e))},this.field=t}return an(e,[{key:"validate",value:function(e){return this.checkMissing(e).chain(this.checkRequired).chain(this.checkConfig)}},{key:"isOmitted",value:function(e){return Rt(e)||Yt(e)}}],[{key:"getFieldDisplayName",value:function(e){return null!=e.title&&""!=e.title.trim()?e.title:e.name}}]),e}(),cn=function(){function e(){fn(this,e)}return an(e,null,[{key:"Build",value:function(e){switch(e.config.oneofKind){case"string":return new yn(e);case"number":return new pn(e);case"variant":return new dn(e);case"image":return new vn(e);default:return}}}]),e}(),hn=function(){function e(t){fn(this,e),this._field=t}return an(e,[{key:"validate",value:function(e){return Object(dt.Right)(e)}},{key:"checkConstraint",value:function(e,t){var n=this;return $t(this.checkIfRuleIsSet)(e,dt.Maybe.fromUndefined(this.findConstraintByRuleName(e)),t,function(t,r){return wt.fromField(n._field,n.findConstraintByRuleName(e),r,t)})}},{key:"checkIfRuleIsSet",value:function(e,t,n,r,i){return t.cata(function(){return Object(dt.Right)(i)},function(t){return n(i,t.rule[e].value)?Object(dt.Left)(r(t.rule[e].value,i)):Object(dt.Right)(i)})}}]),e}(),yn=function(e){function t(e){fn(this,t);var n=un(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return n._config=yt.getStringConfig(e),n}return sn(t,hn),an(t,[{key:"findConstraintByRuleName",value:function(e){var t,n;return(null!==(n=null===(t=this._config)||void 0===t?void 0:t.constraints)&&void 0!==n?n:[]).find(function(t){return t.rule.oneofKind==e})}},{key:"validate",value:function(e){return on(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"validate",this).call(this,e).chain(this.checkConstraint("pattern",function(e,t){return!RegExp(t).test(e)})).chain(this.checkConstraint("minLength",function(e,t){return e.length<t})).chain(this.checkConstraint("maxLength",function(e,t){return e.length>t})).chain(this.checkConstraint("minLines",function(e,n){return t.getLines(e).length<n})).chain(this.checkConstraint("maxLines",function(e,n){return t.getLines(e).length>n})).chain(this.checkConstraint("minLengthPerLine",function(e,n){return t.getLineLengthBy(en,e)<n})).chain(this.checkConstraint("maxLengthPerLine",function(e,n){return t.getLineLengthBy(tn,e)>n}))}}]),t}();yn.getLines=function(e){return e.split(/(\r\n|\r|\n)/).filter(function(e){return"\n"!==e})},yn.getLineLengthBy=function(e,t){return yn.getLines(t).map(function(e){return e.length}).reduce(e)};var pn=function(e){function t(e){fn(this,t);var n=un(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return n.validate=function(e){return on(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"validate",n).call(n,e).chain(n.checkIsNumber).chain(n.checkConstraint("isInteger",function(e,t){return t&&!Number.isInteger(e)})).chain(n.checkConstraint("min",nn)).chain(n.checkConstraint("max",rn))},n.checkIsNumber=function(e){return isNaN(Number(e))?Object(dt.Left)(new kt(n._field.name,pt.numberIsNumber,"The "+ln.getFieldDisplayName(n._field)+" field value "+e+" is not a number.")):Object(dt.Right)(Number(e))},n._config=yt.getNumberConfig(e),n}return sn(t,hn),an(t,[{key:"findConstraintByRuleName",value:function(e){var t,n;return(null!==(n=null===(t=this._config)||void 0===t?void 0:t.constraints)&&void 0!==n?n:[]).find(function(t){return t.rule.oneofKind==e})}}]),t}(),dn=function(){function e(t){fn(this,e),this._config=yt.getVariantConfig(t),this._field=t}return an(e,[{key:"validate",value:function(e){var t;return(null===(t=this._config)||void 0===t?void 0:t.variants.every(function(t){return t.value!==e}))?Object(dt.Left)(wt.fromField(this._field,this._config,e,null)):Object(dt.Right)(e)}}]),e}(),vn=function(){function e(t){fn(this,e),this._config=yt.getImageConfig(t),this._field=t}return an(e,[{key:"validate",value:function(e){var t,n,r=null!==(n=null===(t=this._config)||void 0===t?void 0:t.root)&&void 0!==n?n:"/";return r.startsWith("/")||(r="/"+r),e.startsWith(r)?Object(dt.Right)(e):Object(dt.Left)(wt.fromField(this._field,this._config,e,null))}}]),e}(),mn=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}();var gn=function(){function e(t){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.interpolateString=function(e,t){return e.replace(/{([^}]+)}/g,function(e,n){var r;return null!==(r=t[n])&&void 0!==r?r:""})},this.schema=t}return mn(e,[{key:"validateValue",value:function(e,t){return this.findFieldByName(e).map(function(e){return new ln(e)}).toEither(new kt(e,pt.noSuchField,"The "+e+" field does not exist in a schema.")).bind(function(n){return n.validate(function(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}({},e,t))}).cata(function(e){return e},function(t){return new Lt(e)})}},{key:"validate",value:function(e){var t;return(null!==(t=this.schema.fields)&&void 0!==t?t:[]).map(function(t){return new ln(t).validate(e)}).map(function(e){return e.cata(function(e){return e},function(e){return new Lt(e)})})}},{key:"buildTitle",value:function(e){return this.interpolateString(this.schema.titleTemplate,e)}},{key:"findFieldByName",value:function(e){return dt.Maybe.fromNull(this.schema.fields.find(function(t){return t.name===e}))}}]),e}(),bn=function(){return function(e,t){if(Array.isArray(e))return e;if(Symbol.iterator in Object(e))return function(e,t){var n=[],r=!0,i=!1,o=void 0;try{for(var a,u=e[Symbol.iterator]();!(r=(a=u.next()).done)&&(n.push(a.value),!t||n.length!==t);r=!0);}catch(e){i=!0,o=e}finally{try{!r&&u.return&&u.return()}finally{if(i)throw o}}return n}(e,t);throw new TypeError("Invalid attempt to destructure non-iterable instance")}}(),wn=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}();function kn(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function Nn(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function On(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var Sn=new(function(e){function t(){return kn(this,t),Nn(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,"Schema",[{no:1,name:"name",kind:"scalar",T:9},{no:2,name:"titleTemplate",kind:"scalar",T:9},{no:3,name:"fields",kind:"message",repeat:1,T:function(){return Tn}}]))}return On(t,je),wn(t,[{key:"create",value:function(e){var t={name:"",titleTemplate:"",fields:[]};return void 0!==e&&z(this,t,e),t}},{key:"internalBinaryRead",value:function(e,t,n,r){for(var i=null!==r&&void 0!==r?r:this.create(),o=e.pos+t;e.pos<o;){var a=e.tag(),u=bn(a,2),s=u[0],f=u[1];switch(s){case 1:i.name=e.string();break;case 2:i.titleTemplate=e.string();break;case 3:i.fields.push(Tn.internalBinaryRead(e,e.uint32(),n));break;default:var l=n.readUnknownField;if("throw"===l)throw new globalThis.Error("Unknown field "+s+" (wire type "+f+") for "+this.typeName);var c=e.skip(f);!1!==l&&(!0===l?D.onRead:l)(this.typeName,i,s,f,c)}}return i}},{key:"internalBinaryWrite",value:function(e,t,n){""!==e.name&&t.tag(1,M.LengthDelimited).string(e.name),""!==e.titleTemplate&&t.tag(2,M.LengthDelimited).string(e.titleTemplate);for(var r=0;r<e.fields.length;r++)Tn.internalBinaryWrite(e.fields[r],t.tag(3,M.LengthDelimited).fork(),n).join();var i=n.writeUnknownFields;return!1!==i&&(1==i?D.onWrite:i)(this.typeName,e,t),t}}]),t}()),Tn=new(function(e){function t(){return kn(this,t),Nn(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,"Field",[{no:1,name:"name",kind:"scalar",T:9},{no:2,name:"required",kind:"scalar",opt:!0,T:8},{no:3,name:"string",kind:"message",oneof:"config",T:function(){return Ye}},{no:4,name:"variant",kind:"message",oneof:"config",T:function(){return lt}},{no:5,name:"number",kind:"message",oneof:"config",T:function(){return Ve}},{no:9,name:"image",kind:"message",oneof:"config",T:function(){return Ae}},{no:6,name:"title",kind:"scalar",opt:!0,T:9},{no:7,name:"prompt",kind:"scalar",opt:!0,T:9},{no:8,name:"description",kind:"scalar",opt:!0,T:9}]))}return On(t,je),wn(t,[{key:"create",value:function(e){var t={name:"",config:{oneofKind:void 0}};return void 0!==e&&z(this,t,e),t}},{key:"internalBinaryRead",value:function(e,t,n,r){for(var i=null!==r&&void 0!==r?r:this.create(),o=e.pos+t;e.pos<o;){var a=e.tag(),u=bn(a,2),s=u[0],f=u[1];switch(s){case 1:i.name=e.string();break;case 2:i.required=e.bool();break;case 3:i.config={oneofKind:"string",string:Ye.internalBinaryRead(e,e.uint32(),n,i.config.string)};break;case 4:i.config={oneofKind:"variant",variant:lt.internalBinaryRead(e,e.uint32(),n,i.config.variant)};break;case 5:i.config={oneofKind:"number",number:Ve.internalBinaryRead(e,e.uint32(),n,i.config.number)};break;case 9:i.config={oneofKind:"image",image:Ae.internalBinaryRead(e,e.uint32(),n,i.config.image)};break;case 6:i.title=e.string();break;case 7:i.prompt=e.string();break;case 8:i.description=e.string();break;default:var l=n.readUnknownField;if("throw"===l)throw new globalThis.Error("Unknown field "+s+" (wire type "+f+") for "+this.typeName);var c=e.skip(f);!1!==l&&(!0===l?D.onRead:l)(this.typeName,i,s,f,c)}}return i}},{key:"internalBinaryWrite",value:function(e,t,n){""!==e.name&&t.tag(1,M.LengthDelimited).string(e.name),void 0!==e.required&&t.tag(2,M.Varint).bool(e.required),"string"===e.config.oneofKind&&Ye.internalBinaryWrite(e.config.string,t.tag(3,M.LengthDelimited).fork(),n).join(),"variant"===e.config.oneofKind&&lt.internalBinaryWrite(e.config.variant,t.tag(4,M.LengthDelimited).fork(),n).join(),"number"===e.config.oneofKind&&Ve.internalBinaryWrite(e.config.number,t.tag(5,M.LengthDelimited).fork(),n).join(),"image"===e.config.oneofKind&&Ae.internalBinaryWrite(e.config.image,t.tag(9,M.LengthDelimited).fork(),n).join(),void 0!==e.title&&t.tag(6,M.LengthDelimited).string(e.title),void 0!==e.prompt&&t.tag(7,M.LengthDelimited).string(e.prompt),void 0!==e.description&&t.tag(8,M.LengthDelimited).string(e.description);var r=n.writeUnknownFields;return!1!==r&&(1==r?D.onWrite:r)(this.typeName,e,t),t}}]),t}()),Ln=function(){return function(e,t){if(Array.isArray(e))return e;if(Symbol.iterator in Object(e))return function(e,t){var n=[],r=!0,i=!1,o=void 0;try{for(var a,u=e[Symbol.iterator]();!(r=(a=u.next()).done)&&(n.push(a.value),!t||n.length!==t);r=!0);}catch(e){i=!0,o=e}finally{try{!r&&u.return&&u.return()}finally{if(i)throw o}}return n}(e,t);throw new TypeError("Invalid attempt to destructure non-iterable instance")}}(),In=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}();function En(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function _n(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function Rn(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var jn=new(function(e){function t(){return En(this,t),_n(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,"DataSet",[{no:1,name:"schema",kind:"message",T:function(){return Sn}},{no:2,name:"rows",kind:"message",repeat:1,T:function(){return Bn}}]))}return Rn(t,je),In(t,[{key:"create",value:function(e){var t={rows:[]};return void 0!==e&&z(this,t,e),t}},{key:"internalBinaryRead",value:function(e,t,n,r){for(var i=null!==r&&void 0!==r?r:this.create(),o=e.pos+t;e.pos<o;){var a=e.tag(),u=Ln(a,2),s=u[0],f=u[1];switch(s){case 1:i.schema=Sn.internalBinaryRead(e,e.uint32(),n,i.schema);break;case 2:i.rows.push(Bn.internalBinaryRead(e,e.uint32(),n));break;default:var l=n.readUnknownField;if("throw"===l)throw new globalThis.Error("Unknown field "+s+" (wire type "+f+") for "+this.typeName);var c=e.skip(f);!1!==l&&(!0===l?D.onRead:l)(this.typeName,i,s,f,c)}}return i}},{key:"internalBinaryWrite",value:function(e,t,n){e.schema&&Sn.internalBinaryWrite(e.schema,t.tag(1,M.LengthDelimited).fork(),n).join();for(var r=0;r<e.rows.length;r++)Bn.internalBinaryWrite(e.rows[r],t.tag(2,M.LengthDelimited).fork(),n).join();var i=n.writeUnknownFields;return!1!==i&&(1==i?D.onWrite:i)(this.typeName,e,t),t}}]),t}()),Bn=new(function(e){function t(){return En(this,t),_n(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,"Row",[{no:1,name:"cells",kind:"map",K:9,V:{kind:"scalar",T:9}}]))}return Rn(t,je),In(t,[{key:"create",value:function(e){var t={cells:{}};return void 0!==e&&z(this,t,e),t}},{key:"internalBinaryRead",value:function(e,t,n,r){for(var i=null!==r&&void 0!==r?r:this.create(),o=e.pos+t;e.pos<o;){var a=e.tag(),u=Ln(a,2),s=u[0],f=u[1];switch(s){case 1:this.binaryReadMap1(i.cells,e,n);break;default:var l=n.readUnknownField;if("throw"===l)throw new globalThis.Error("Unknown field "+s+" (wire type "+f+") for "+this.typeName);var c=e.skip(f);!1!==l&&(!0===l?D.onRead:l)(this.typeName,i,s,f,c)}}return i}},{key:"binaryReadMap1",value:function(e,t,n){for(var r=t.uint32(),i=t.pos+r,o=void 0,a=void 0;t.pos<i;){var u=t.tag(),s=Ln(u,2),f=s[0];s[1];switch(f){case 1:o=t.string();break;case 2:a=t.string();break;default:throw new globalThis.Error("unknown map entry field for field Row.cells")}}e[null!==o&&void 0!==o?o:""]=null!==a&&void 0!==a?a:""}},{key:"internalBinaryWrite",value:function(e,t,n){var r=!0,i=!1,o=void 0;try{for(var a,u=Object.keys(e.cells)[Symbol.iterator]();!(r=(a=u.next()).done);r=!0){var s=a.value;t.tag(1,M.LengthDelimited).fork().tag(1,M.LengthDelimited).string(s).tag(2,M.LengthDelimited).string(e.cells[s]).join()}}catch(e){i=!0,o=e}finally{try{!r&&u.return&&u.return()}finally{if(i)throw o}}var f=n.writeUnknownFields;return!1!==f&&(1==f?D.onWrite:f)(this.typeName,e,t),t}}]),t}()),Fn=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}();!function(){function e(t){if(function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),Rt(t))throw new Error("DataSet cannot be null or undefined");this._dataSet=t}Fn(e,[{key:"updateSchema",value:function(e){if(Rt(e))throw new Error("Schema cannot be null or undefined");this._dataSet.schema=e,this._normalizeColumnsToSchema()}},{key:"getCells",value:function(){return this._dataSet.rows.map(function(e){return e.cells})}},{key:"updateCells",value:function(e){this._dataSet.rows=e.map(function(e){var t,n,r={};for(var i in e)r[i]=null!==(n=null===(t=e[i])||void 0===t?void 0:t.toString())&&void 0!==n?n:"";return Bn.create({cells:r})}),this._normalizeColumnsToSchema()}},{key:"_normalizeColumnsToSchema",value:function(){var e,t,n=null!==(t=null===(e=this._dataSet.schema)||void 0===e?void 0:e.fields.map(function(e){return e.name}))&&void 0!==t?t:[];this._dataSet.rows.forEach(function(e){for(var t in e.cells)n.includes(t)||delete e.cells[t];n.forEach(function(t){e.cells.hasOwnProperty(t)||(e.cells[t]="")})})}},{key:"dataSet",get:function(){return this._dataSet}}],[{key:"create",value:function(e){if(Rt(e))throw new Error("Schema cannot be null or undefined");return jn.create({schema:e})}}])}()},933:function(e,t,n){"use strict";var r,i;n.d(t,"a",function(){return a}),function(e){e[e.ModalOpen=0]="ModalOpen",e[e.ModalClose=1]="ModalClose",e[e.FullScreen=2]="FullScreen",e[e.FullWindow=3]="FullWindow",e[e.OriginalSize=4]="OriginalSize",e[e.AssetManagerOpened=5]="AssetManagerOpened",e[e.AssetManagerClosed=6]="AssetManagerClosed",e[e.RevertProduct=7]="RevertProduct",e[e.ObjectInspectorVisibilityChange=8]="ObjectInspectorVisibilityChange",e[e.OnSurfaceChanged=9]="OnSurfaceChanged",e[e.CanRedoChanged=10]="CanRedoChanged",e[e.CanUndoChanged=11]="CanUndoChanged",e[e.OnImageDpiChanged=12]="OnImageDpiChanged",e[e.PopupOpen=13]="PopupOpen"}(r||(r={})),function(e){e[e.FullScreen=0]="FullScreen",e[e.FullWindow=1]="FullWindow",e[e.OriginalSize=2]="OriginalSize"}(i||(i={}));var o,a=function(){function e(){}return e.ModalOpen=r[r.ModalOpen],e.ModalClose=r[r.ModalClose],e.FullWindow=r[r.FullWindow],e.FullScreen=r[r.FullScreen],e.OriginalSize=r[r.OriginalSize],e.AssetManagerOpened=r[r.AssetManagerOpened],e.AssetManagerClosed=r[r.AssetManagerClosed],e.RevertProduct=r[r.RevertProduct],e.OnSurfaceChanged=r[r.OnSurfaceChanged],e.CanUndoChanged=r[r.CanUndoChanged],e.CanRedoChanged=r[r.CanRedoChanged],e.OnImageDpiChanged=r[r.OnImageDpiChanged],e.PopupOpen=r[r.PopupOpen],e.BoundsNotification="BoundsNotification",e.ItemChanged="ItemChanged",e.ItemAdded="ItemAdded",e.ItemRemoved="ItemRemoved",e.SelectedItemsChanged="SelectedItemsChanged",e}();!function(e){e[e.Event=0]="Event",e[e.ProcedureResponse=1]="ProcedureResponse"}(o||(o={}))}}]);