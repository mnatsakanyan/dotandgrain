(window.multistep_editor_jsonpFunction=window.multistep_editor_jsonpFunction||[]).push([[6],{578:function(e,t,n){"use strict";n.d(t,"a",function(){return d});var i=n(0),r=n(407),o=n(6),s=n(28),a=n(14),l=n(1),d=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return Object(i.d)(t,e),t.prototype.init=function(t){if(e.prototype.init.call(this,t),this.maxSelectedItems=o.a.objectDeepValue(t,"props.maxCount")?t.props.maxCount:-1,0!==this.items.length&&o.a.isNullOrUndefined(this.value)){var n=this.items.filter(function(e){return e.optionValue.preselected});0===n.length&&(n=[this.items.find(function(e){return 0===e.price})]),0===n.length&&(n=[this.items[0]]),this.value=n}},t.prototype.updateSelectedValue=function(e){var t=this.value.filter(function(t){return e.some(function(e){return t.value&&e.id===t.value.id})});(function(e,t){return e.length!==t.length||e.some(function(e){return t.every(function(t){return t.id!==e.optionValue.id})})})(t,this.value)&&(this.deselect(this.value),this.select(t),this.value=t)},t.prototype._copySelection=function(){return o.a.isNotNullOrUndefined(this.value)?Array.from(this.value):void 0},t.prototype._restoreSelection=function(e){var t=this.items.filter(function(t){return e.some(function(e){return e.equals(t)})});this.select(t)},t.prototype._maxSelectionItemsChanged=function(){this.maxSelectedItems>-1&&this.value.length>this.maxSelectedItems&&this.deselect(Array.of(this.getLastSelectedItem()))},t.prototype._valueChange=function(e){this._valueObserver(this.value)},t.prototype._valueObserver=function(e){var t=this;this._debouncerValueObserver=s.a.debounce(this._debouncerValueObserver,a.d.after(20),function(){t._maxSelectionItemsChanged(),t._onOptionChange()})},Object(i.c)([Object(l.b)("maxSelectedItems"),Object(i.g)("design:type",Function),Object(i.g)("design:paramtypes",[]),Object(i.g)("design:returntype",void 0)],t.prototype,"_maxSelectionItemsChanged",null),Object(i.c)([Object(l.b)("value.splices"),Object(i.g)("design:type",Function),Object(i.g)("design:paramtypes",[Object]),Object(i.g)("design:returntype",void 0)],t.prototype,"_valueChange",null),Object(i.c)([Object(l.c)(),Object(i.g)("design:type",Array)],t.prototype,"value",void 0),Object(i.c)([Object(l.b)("value"),Object(i.g)("design:type",Function),Object(i.g)("design:paramtypes",[Object]),Object(i.g)("design:returntype",void 0)],t.prototype,"_valueObserver",null),Object(i.c)([Object(l.c)(),Object(i.g)("design:type",Object)],t.prototype,"maxSelectedItems",void 0),t}(r.a)},929:function(e,t){e.exports='<style>\n    :host {\n        display: -ms-grid;\n        display: grid;\n        -ms-grid-columns: 1fr;\n        grid-template-columns: 1fr;\n        -ms-grid-rows: 100px 1fr 30px;\n        grid-template-rows: auto 1fr 24px;\n        width: 100%;\n        overflow: hidden;\n    }\n\n    .add-btn {\n        @apply --default-common-control-font;\n        color: var(--theme-primary-color);\n        white-space: nowrap;\n        cursor: pointer;\n        user-select: none;\n        display: inline-flex;\n        align-items: center;\n    }\n\n    .add-btn iron-icon {\n        margin-left: 2px;\n    }\n\n    .add-btn:hover {\n        color: #18A3FF;\n    }\n\n    .add-btn:active {\n        color: #0A95FF;\n        filter: drop-shadow(0 0 0.5px currentColor);\n    }\n\n    .remove-btn {\n        color: #999999;\n        cursor: pointer;\n        user-select: none;\n    }\n\n    .remove-btn:hover {\n        color: #888888;\n    }\n\n    .remove-btn:active {\n        color: #777777;\n        filter: drop-shadow(0 0 0.5px currentColor);\n    }\n\n    .drag-btn {\n        color: #BBBBBB;\n        outline: none;\n        cursor: move;\n        cursor: grab;\n        cursor: -moz-grab;\n        cursor: -webkit-grab;\n    }\n\n    .drag-btn:active {\n        cursor: grabbing;\n        cursor: -moz-grabbing;\n        cursor: -webkit-grabbing;\n    }\n\n    .drag-btn:hover {\n        color: #443e3e;\n    }\n\n    .listgroup-container {\n        counter-reset: items;\n        margin-bottom: 20px;\n    }\n\n    .listgroup-container>.au-filter-list-wrapper>au-filter-list::before {\n        @apply --default-common-control-font-caption;\n        color: #666666;\n        margin-bottom: 6px;\n        counter-increment: items;\n        content: attr(data-alias) " "counter(items);\n        display: inline-block;\n    }\n\n    .au-filter-list-wrapper+.au-filter-list-wrapper {\n        margin-top: 15px;\n    }\n\n    [slot="right-control"] {\n        margin-left: 10px;\n    }\n\n    [draggable] {\n        -moz-user-select: none;\n        -khtml-user-select: none;\n        -webkit-user-select: none;\n        user-select: none;\n        -khtml-user-drag: element;\n        -webkit-user-drag: element;\n    }\n\n    iron-icon {\n        pointer-events: none;\n    }\n\n    .au-filter-list-wrapper {\n        display: inline-block;\n        overflow: visible;\n        width: 100%;\n    }\n\n    .au-filter-list-wrapper.dragging,\n    .au-filter-list-wrapper.over {\n        border-radius: 3px;\n\n        width: 100%;\n        height: 100%;\n        z-index: 1000;\n        padding: 5px;\n    }\n\n    .au-filter-list-wrapper.dragging {\n        opacity: 0.5;\n        background: #FFFF;\n    }\n\n    .au-filter-list-wrapper.over {\n        background: var(--theme-primary-color);\n        opacity: 0.15;\n    }\n\n    .au-filter-list-wrapper>au-filter-list {\n        width: 100%;\n    }\n\n    .au-filter-list-wrapper.over>au-filter-list,\n    .au-filter-list-wrapper.dragging>au-filter-list {\n        width: calc(100% - 10px);\n    }\n\n    [hidden] {\n        display: none !important;\n    }\n</style>\n\n<iron-iconset-svg name="au-filtered-list-group" size="24">\n    <svg>\n        <defs>\n            <g id="plus" transform="translate(5 5)">\n                <path d="M13 8H8V13C8 13.55 7.55 14 7 14C6.45 14 6 13.55 6 13V8H1C0.45 8 0 7.55 0 7C0 6.45 0.45 6 1 6H6V1C6 0.45 6.45 0 7 0C7.55 0 8 0.45 8 1V6H13C13.55 6 14 6.45 14 7C14 7.55 13.55 8 13 8Z" />\n            </g>\n            <g id="cross" transform="translate(5.40771 5.40771)">\n                <path d="M12.8925 0.3025C12.5025 -0.0874998 11.8725 -0.0874998 11.4825 0.3025L6.5925 5.1825L1.7025 0.2925C1.3125 -0.0975 0.6825 -0.0975 0.2925 0.2925C-0.0975 0.6825 -0.0975 1.3125 0.2925 1.7025L5.1825 6.5925L0.2925 11.4825C-0.0975 11.8725 -0.0975 12.5025 0.2925 12.8925C0.6825 13.2825 1.3125 13.2825 1.7025 12.8925L6.5925 8.0025L11.4825 12.8925C11.8725 13.2825 12.5025 13.2825 12.8925 12.8925C13.2825 12.5025 13.2825 11.8725 12.8925 11.4825L8.0025 6.5925L12.8925 1.7025C13.2725 1.3225 13.2725 0.6825 12.8925 0.3025Z" />\n            </g>\n            <g id="drag" transform="translate(9 5)">\n                <path d="M6 0H4V2H6V0Z" />\n                <path d="M4 4H6V6H4V4Z" />\n                <path d="M6 8H4V10H6V8Z" />\n                <path d="M6 12H4V14H6V12Z" />\n                <path d="M0 12H2V14H0V12Z" />\n                <path d="M2 8H0V10H2V8Z" />\n                <path d="M0 4H2V6H0V4Z" />\n                <path d="M2 0H0V2H2V0Z" />\n            </g>\n        </defs>\n    </svg>\n</iron-iconset-svg>\n\n<div class="listgroup-container" id="container">\n    <dom-repeat items="[[_listInstancesGuids]]" as="listGuid" on-dom-change="_filterListsRerendered">\n        <template>\n            <div class="au-filter-list-wrapper">\n                <au-filter-list items="[[items]]" data-alias="Team" id="[[listGuid.id]]" selected-item="{{listGuid.selected}}"\n                    draggable="true" is-show-menu="[[_isShowMenu]]" enable-filter="[[enableFilter]]" driver="[[driver]]">\n                    <div class="remove-btn" slot="right-control" on-tap="_removeList" data-list="[[listGuid.id]]">\n                        <iron-icon icon="au-filtered-list-group:cross" style="margin:0;"></iron-icon>\n                    </div>\n                    <div class="drag-btn" slot="left-control" data-list="[[listGuid]]">\n                        <iron-icon icon="au-filtered-list-group:drag" slot="left-control" style="margin:0;"></iron-icon>\n                    </div>\n                </au-filter-list>\n            </div>\n        </template>\n    </dom-repeat>\n</div>\n<div class="add-btn" on-tap="_addList" hidden$="[[_hideAddBtn]]">\n    <iron-icon icon="au-filtered-list-group:plus"></iron-icon>\n    {{addNewItemCaption}}\n</div>'},958:function(e,t,n){"use strict";n.r(t),n.d(t,"AuFilteredListGroup",function(){return l}),n.d(t,"option",function(){return l});var i=n(0),r=n(929),o=n(578),s=(n(296),n(1)),a=(n(758),n(6)),l=function(e){function t(t){var n=e.call(this,t)||this;return n._listInstancesGuids=[],n._selectedToIdMap={},n._isShowMenu=!1,n._removeList=n._removeList.bind(n),n}return Object(i.d)(t,e),t.prototype.connectedCallback=function(){e.prototype.connectedCallback.call(this),this._isShowMenu=!1,this._addList()},t.prototype.getLastSelectedItem=function(){return this.value.length>0?this.value[0]:null},t.prototype.select=function(e){var t,n,r=this._listInstancesGuids.filter(function(e){return!e.selected}).length;if(r<e.length)for(var o=0;o<e.length-r;o++)this._addList();try{for(var s=Object(i.k)(e),a=s.next();!a.done;a=s.next()){var l=a.value,d=this._listInstancesGuids.findIndex(function(e){return!e.selected});this.set("_listInstancesGuids."+d+".selected",l)}}catch(e){t={error:e}}finally{try{a&&!a.done&&(n=s.return)&&n.call(s)}finally{if(t)throw t.error}}},t.prototype.deselect=function(e){var t,n,r=this,o=function(e){var t=s._listInstancesGuids.map(function(t,n){return t.selected&&t.selected.id===e.id?n:-1}).filter(function(e){return-1!==e});t.length>0&&t.forEach(function(e){return r.set("_listInstancesGuids."+e+".selected",null)})},s=this;try{for(var a=Object(i.k)(e),l=a.next();!l.done;l=a.next()){o(l.value)}}catch(e){t={error:e}}finally{try{l&&!l.done&&(n=a.return)&&n.call(a)}finally{if(t)throw t.error}}},t.prototype._selectedIdsChange=function(e){},t.prototype._removeList=function(e){var t=e.currentTarget.dataList,n=this._listInstancesGuids.find(function(e){return e.id===t});if(n){var i=this._listInstancesGuids.indexOf(n);this.splice("_listInstancesGuids",i,1)}},t.prototype._addList=function(){var e=null;0===this._listInstancesGuids.length&&this.value&&(e=this.value[0]||null);var t={id:a.a.guid(),selected:e};this.push("_listInstancesGuids",t)},t.prototype._hideAddBtnCompute=function(e,t){return!(t<=0)&&e.base.length>=t},t.prototype._filterListsRerendered=function(e){var t=this,n=Array.from(this.querySelectorAllShadow("au-filter-list")||[]);n.forEach(function(e){t._addDnDHandlers(e),t._addSelectedItemHandler(e)}),n.forEach(function(e,n,i){e.isDragEnabled=1!==i.length,e.isRemoveEnabled=1!==i.length,e.placeholder=t.title})},t.prototype._addSelectedItemHandler=function(e){var t=this;if("true"!==e.dataset.listenSelected){var n=function(){var e=Array.from(t.querySelectorAllShadow("au-filter-list")||[]);t.set("value",e.map(function(e){return e.selectedItem}).filter(function(e){return!!e}))};e.addEventListener("selected-item-changed",n),e.addEventListener("disconnected",n),e.dataset.listenSelected=!0}},t.prototype._handleDragStart=function(e,t){return t.target.querySelector(".drag-btn")===(this.shadowRoot.elementFromPoint?this.shadowRoot.elementFromPoint(t.clientX,t.clientY):document.elementFromPoint(t.clientX,t.clientY))?(t.dataTransfer.effectAllowed="move",t.dataTransfer.setData("text",e.id),e.parentElement.classList.add("dragging"),!0):(t.preventDefault(),!1)},t.prototype._handleDragOver=function(e,t){return t.preventDefault(),e.parentElement.classList.add("over"),t.dataTransfer.dropEffect="move",!1},t.prototype._handleDragLeave=function(e,t){e.parentElement.classList.remove("over")},t.prototype._handleDrop=function(e,t){t.preventDefault(),t.stopPropagation();var n=t.dataTransfer.getData("text"),i=t.currentTarget.id;return this._listInstancesGuidsSwap(n,i),e.parentElement.classList.remove("over"),!1},t.prototype._handleDragEnd=function(e,t){e.parentElement.classList.remove("over","dragging")},t.prototype._addDnDHandlers=function(e){"true"!==e.dataset.listenDrag&&(e.addEventListener("dragstart",this._handleDragStart.bind(this,e),!1),e.addEventListener("dragover",this._handleDragOver.bind(this,e),!1),e.addEventListener("dragleave",this._handleDragLeave.bind(this,e),!1),e.addEventListener("drop",this._handleDrop.bind(this,e),!1),e.addEventListener("dragend",this._handleDragEnd.bind(this,e),!1),e.dataset.listenDrag=!0)},t.prototype._listInstancesGuidsSwap=function(e,t){var n=this.querySelectorShadow('[id="'+e+'"]'),i=this.querySelectorShadow('[id="'+t+'"]'),r=i.selectedItem;i.selectedItem=n.selectedItem,n.selectedItem=r},t.prototype.init=function(t){e.prototype.init.call(this,t),this.addNewItemCaption=a.a.isNotNullOrUndefined(t.props)&&t.props.addNewItemCaption?t.props.addNewItemCaption:"Add"},Object(i.c)([Object(s.c)({notify:!0}),Object(i.g)("design:type",Array)],t.prototype,"_listInstancesGuids",void 0),Object(i.c)([Object(s.c)({notify:!0}),Object(i.g)("design:type",Object)],t.prototype,"_selectedToIdMap",void 0),Object(i.c)([Object(s.c)({computed:"_hideAddBtnCompute(_listInstancesGuids.*, maxSelectedItems)"}),Object(i.g)("design:type",Boolean)],t.prototype,"_hideAddBtn",void 0),Object(i.c)([Object(s.c)({notify:!0}),Object(i.g)("design:type",Boolean)],t.prototype,"_isShowMenu",void 0),Object(i.c)([Object(s.b)("_listInstancesGuids.*","maxSelectedItems"),Object(i.g)("design:type",Function),Object(i.g)("design:paramtypes",[Object,Number]),Object(i.g)("design:returntype",void 0)],t.prototype,"_hideAddBtnCompute",null),Object(i.c)([Object(s.c)({notify:!0}),Object(i.g)("design:type",String)],t.prototype,"addNewItemCaption",void 0),t=Object(i.c)([Object(s.a)("au-option-filtered-list-group",r),Object(i.g)("design:paramtypes",[Object])],t)}(o.a)}}]);