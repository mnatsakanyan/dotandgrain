(window.multistep_editor_jsonpFunction=window.multistep_editor_jsonpFunction||[]).push([[18],{946:function(t,e,r){"use strict";r.r(e),r.d(e,"AuWidgetCart",function(){return n}),r.d(e,"widget",function(){return n});var i=r(0),s=r(172),a=r(1),n=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e._isCartWidgetInited=!1,e}return Object(i.d)(e,t),e.prototype.updateParams=function(t){var e,r,s=this.driver.cart.price;if(this._isCartWidgetInited)for(var a=0;a<t.lineItems.length;a++){var n=t.lineItems[a];this.driver.cart.lineItems[a]._product=this.driver.products[n.productIndex],this.driver.cart.lineItems[a].quantity=!1===n.active?0:null===n.quantity||void 0===n.quantity?this.driver.cart.lineItems[a].quantity||1:n.quantity,this.driver.cart.lineItems[a].images=n.images||[],this.driver.cart.lineItems[a].downloadUrls=n.downloadUrls||[],this.driver.cart.lineItems[a].data=n.data||{},this.driver.cart.lineItems[a].logRequest=!0===n.logRequest||this.driver.settings.logRequest||!1,this.driver.cart.lineItems[a].props=n.props||{},this.driver.cart.lineItems[a].customPrice=n.customPrice||0}else{var d=[];try{for(var c=Object(i.k)(t.lineItems),o=c.next();!o.done;o=c.next()){var l=o.value,u=(t.lineItems.indexOf(l),Object.assign({},l));u.settings=this.driver.settings,u.product=this.driver.products[u.productIndex],delete u.productIndex,!1===l.active&&(u.quantity=0);var v=u;this.driver.cart.lineItems[0]&&this.driver.cart.lineItems[0].data&&this.driver.cart.lineItems[0].data.snapshot&&0===d.length&&(v.snapshot=this.driver.cart.lineItems[0].data.snapshot,void 0!=this.driver.cart.lineItems[0].cartItemKey&&""!=this.driver.cart.lineItems[0].cartItemKey&&(v.key=this.driver.cart.lineItems[0].cartItemKey));var h=this.driver.buildOrder(v);d.push(h)}}catch(t){e={error:t}}finally{try{o&&!o.done&&(r=c.return)&&r.call(c)}finally{if(e)throw e.error}}this.driver.cart.lineItems=d,this._isCartWidgetInited=!0}this.emitChange({},!1),this.driver.cart.price!==s&&this.driver.cart.updatePrice(s)},Object(i.c)([Object(a.c)(),Object(i.g)("design:type",Object)],e.prototype,"params",void 0),e=Object(i.c)([Object(a.a)("au-widget-cart")],e)}(s.a)}}]);