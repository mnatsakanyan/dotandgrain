(window.multistep_editor_jsonpFunction=window.multistep_editor_jsonpFunction||[]).push([[5],{399:function(e,t,i){"use strict";i.d(t,"a",function(){return s});class s{constructor(e,t=!1){this.optionValue=e,this.disabled=t}equals(e){return this.id===e.id&&this.title===e.title&&this.price===e.price}get value(){return this.optionValue}get id(){return this.optionValue.id}get title(){return this.optionValue.title}get price(){return this.optionValue.price}get color(){return this.optionValue.color}get imageUrl(){return this.optionValue.imageUrl}get props(){return this.optionValue.props}get shownPrice(){return this.optionValue.shownPrice}get preselected(){return this.optionValue.preselected}}},406:function(e,t,i){"use strict";i.d(t,"a",function(){return c});var s=i(0),n=i(419),l=i(399),r=i(6),o=i(1);class c extends n.a{init(e){super.init(e);const t=this._copySelection();this.items=e.values.map((e,t)=>((r.a.isNullOrUndefined(e.id)||-1===e.id)&&(e.id=t),new l.a(e,e.disabled))),r.a.isNotNullOrUndefined(t)&&this._restoreSelection(t),this.enableFilter=r.a.isNotNullOrUndefined(e.props)&&e.props.enableFilter||!1,e.onAvailableOptionValueChange&&e.onAvailableOptionValueChange.subscribe((e,t)=>this.updateItemsAvailability(t)),e.onOptionValueChange&&e.onOptionValueChange.subscribe((e,t)=>this.updateSelectedValue(t))}_copySelection(){return r.a.isNotNullOrUndefined(this.value)?Object.assign({},this.value):void 0}_restoreSelection(e){this.value=this.items.find(t=>t.equals(e))}_isArrayEqual(e,t){return e.length===t.length&&e.every((e,i)=>e===t[i])}_getItemPriceTitle(e){const t=e=>e&&0!==e?" (+"+this.driver.cart.formatPrice(e)+")":"";let i=t(e.price);return null!==e.shownPrice&&void 0!==e.shownPrice&&(i=t(e.shownPrice*(this.driver.orders.current._priceMultiplier||1))),e.title+i}_isOptionDisabled(e){return this.disabled||e}updateItemsAvailability(e){for(let t=0;t<this.items.length;t++){const i=e.every(e=>e.id!==this.items[t].id);this.set(`items.${t}.disabled`,i)}}_disabledClass(e){return e?"item-disabled":""}}Object(s.b)([Object(o.c)(),Object(s.d)("design:type",Array)],c.prototype,"items",void 0),Object(s.b)([Object(o.c)({notify:!0}),Object(s.d)("design:type",Boolean)],c.prototype,"enableFilter",void 0)},577:function(e,t,i){"use strict";i.d(t,"a",function(){return a});var s=i(0),n=i(406),l=i(6),r=i(28),o=i(14),c=i(1);class a extends n.a{init(e){if(super.init(e),this.maxSelectedItems=l.a.objectDeepValue(e,"props.maxCount")?e.props.maxCount:-1,0!==this.items.length&&l.a.isNullOrUndefined(this.value)){let e=this.items.filter(e=>e.optionValue.preselected);0===e.length&&(e=[this.items.find(e=>0===e.price)]),0===e.length&&(e=[this.items[0]]),this.value=e}}updateSelectedValue(e){const t=this.value.filter(t=>e.some(e=>t.value&&e.id===t.value.id));((e,t)=>e.length!==t.length||e.some(e=>t.every(t=>t.id!==e.optionValue.id)))(t,this.value)&&(this.deselect(this.value),this.select(t),this.value=t)}_copySelection(){return l.a.isNotNullOrUndefined(this.value)?Array.from(this.value):void 0}_restoreSelection(e){let t=this.items.filter(t=>e.some(e=>e.equals(t)));this.select(t)}_maxSelectionItemsChanged(){this.maxSelectedItems>-1&&this.value.length>this.maxSelectedItems&&this.deselect(Array.of(this.getLastSelectedItem()))}_valueChange(e){this._valueObserver(this.value)}_valueObserver(e){this._debouncerValueObserver=r.a.debounce(this._debouncerValueObserver,o.d.after(20),()=>{this._maxSelectionItemsChanged(),this._onOptionChange()})}}Object(s.b)([Object(c.b)("maxSelectedItems"),Object(s.d)("design:type",Function),Object(s.d)("design:paramtypes",[]),Object(s.d)("design:returntype",void 0)],a.prototype,"_maxSelectionItemsChanged",null),Object(s.b)([Object(c.b)("value.splices"),Object(s.d)("design:type",Function),Object(s.d)("design:paramtypes",[Object]),Object(s.d)("design:returntype",void 0)],a.prototype,"_valueChange",null),Object(s.b)([Object(c.c)(),Object(s.d)("design:type",Array)],a.prototype,"value",void 0),Object(s.b)([Object(c.b)("value"),Object(s.d)("design:type",Function),Object(s.d)("design:paramtypes",[Object]),Object(s.d)("design:returntype",void 0)],a.prototype,"_valueObserver",null),Object(s.b)([Object(c.c)(),Object(s.d)("design:type",Object)],a.prototype,"maxSelectedItems",void 0)},921:function(e,t){e.exports='<style>\n    :host {\n        display: inline-flex;\n        width: 100%;\n        overflow: hidden;\n        flex-direction: column;\n    }\n\n    iron-selector {\n        display: inline-flex;\n        flex-direction: column;\n        margin-left: -12px;\n        margin-right: -12px;\n    }\n\n    .text {\n        @apply --au-body2-font;\n    }\n\n    paper-checkbox {\n        padding: 12px;\n        --paper-checkbox-checked-color: var(--theme-primary-color);\n    }\n</style>\n<iron-selector noink name="option" class="option-checkbox-container" attr-for-selected="name" multi="true"\n    selected-values="{{_selectedIds}}" on-selected-changed="_onOptionChange" selected-attribute="checked">\n    <template is="dom-repeat" items="[[items]]">\n        <paper-checkbox noink type="value" disabled$="[[_isOptionDisabled(item.disabled)]]" checked="[[item.preselected]]" name="[[item.id]]">\n            <span noink class="text">\n                [[_getItemPriceTitle(item)]]\n            </span>\n        </paper-checkbox>\n    </template>\n</iron-selector>'},952:function(e,t,i){"use strict";i.r(t),i.d(t,"AuCheckBoxGroup",function(){return o}),i.d(t,"option",function(){return o});var s=i(0),n=i(921),l=i(577),r=i(1);let o=class extends l.a{init(e){super.init(e),this._selectedIds=this.items.filter(e=>e.preselected).map(e=>e.id)}getLastSelectedItem(){return this.value.find(e=>e.id===this._selectedIds[0])}select(e){e.forEach(e=>{this.push("_selectedIds",e.id)})}deselect(e){e.forEach(e=>{let t=this._selectedIds.indexOf(e.id);t>=0&&this.splice("_selectedIds",t,1)})}_selectedIdsChange(e){e&&this.items.length>0&&(this.value=this.items.filter(e=>this._selectedIds.indexOf(e.id)>-1))}};Object(s.b)([Object(r.b)("_selectedIds.splices"),Object(s.d)("design:type",Function),Object(s.d)("design:paramtypes",[Object]),Object(s.d)("design:returntype",void 0)],o.prototype,"_selectedIdsChange",null),o=Object(s.b)([Object(r.a)("au-option-checkbox-group",n)],o)}}]);